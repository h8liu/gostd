<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>index/suffixarray</h2>
<ul>
<li><a href="/gostd/index/suffixarray/qsufsort.go.html">qsufsort.go</a></li>
<li><a href="/gostd/index/suffixarray/suffixarray.go.html">suffixarray.go</a></li>
<li><a href="/gostd/index/suffixarray/suffixarray_test.go.html" class="current">suffixarray_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8234337">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8234392">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8234446">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8234497">package</span>&nbsp;<span class="ident" id="8234505">suffixarray</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8234518">import</span>&nbsp;<span class="op" id="8234525">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234528">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234537">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234550">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234560">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234568">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234579">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8234589">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8234592">type</span>&nbsp;<span class="ident" id="8234597">testCase</span>&nbsp;<span class="keyword" id="8234606">struct</span>&nbsp;<span class="op" id="8234613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234616">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8234625">string</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="8234634">//&nbsp;name&nbsp;of&nbsp;test&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234656">source</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8234665">string</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="8234674">//&nbsp;source&nbsp;to&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234694">patterns</span>&nbsp;<span class="op" id="8234703">[</span><span class="op" id="8234704">]</span><span class="builtintype" id="8234705">string</span>&nbsp;<span class="comment" id="8234712">//&nbsp;patterns&nbsp;to&nbsp;lookup</span><br>
<span class="lineno">20</span><span class="op" id="8234734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8234737">var</span>&nbsp;<span class="ident" id="8234741">testCases</span>&nbsp;<span class="op" id="8234751">=</span>&nbsp;<span class="op" id="8234753">[</span><span class="op" id="8234754">]</span><span class="ident" id="8234755"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8234763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234770">&#34;empty&nbsp;string&#34;</span><span class="op" id="8234784">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234788">&#34;&#34;</span><span class="op" id="8234790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234794">[</span><span class="op" id="8234795">]</span><span class="builtintype" id="8234796">string</span><span class="op" id="8234802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234807">&#34;&#34;</span><span class="op" id="8234809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234814">&#34;foo&#34;</span><span class="op" id="8234819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234824">&#34;(foo)&#34;</span><span class="op" id="8234831">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234836">&#34;.*&#34;</span><span class="op" id="8234840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234845">&#34;a*&#34;</span><span class="op" id="8234849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234853">}</span><span class="op" id="8234854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234857">}</span><span class="op" id="8234858">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234866">&#34;all&nbsp;a&#39;s&#34;</span><span class="op" id="8234875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234879">&#34;aaaaaaaaaa&#34;</span><span class="op" id="8234891">,</span>&nbsp;<span class="comment" id="8234893">//&nbsp;10&nbsp;a&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234905">[</span><span class="op" id="8234906">]</span><span class="builtintype" id="8234907">string</span><span class="op" id="8234913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234918">&#34;&#34;</span><span class="op" id="8234920">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234925">&#34;a&#34;</span><span class="op" id="8234928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234933">&#34;aa&#34;</span><span class="op" id="8234937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234942">&#34;aaa&#34;</span><span class="op" id="8234947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234952">&#34;aaaa&#34;</span><span class="op" id="8234958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234963">&#34;aaaaa&#34;</span><span class="op" id="8234970">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234975">&#34;aaaaaa&#34;</span><span class="op" id="8234983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8234988">&#34;aaaaaaa&#34;</span><span class="op" id="8234997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235002">&#34;aaaaaaaa&#34;</span><span class="op" id="8235012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235017">&#34;aaaaaaaaa&#34;</span><span class="op" id="8235028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235033">&#34;aaaaaaaaaa&#34;</span><span class="op" id="8235045">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235050">&#34;aaaaaaaaaaa&#34;</span><span class="op" id="8235063">,</span>&nbsp;<span class="comment" id="8235065">//&nbsp;11&nbsp;a&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235078">&#34;.&#34;</span><span class="op" id="8235081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235086">&#34;.*&#34;</span><span class="op" id="8235090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235095">&#34;a+&#34;</span><span class="op" id="8235099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235104">&#34;aa+&#34;</span><span class="op" id="8235109">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235114">&#34;aaaa[b]?&#34;</span><span class="op" id="8235124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235129">&#34;aaa*&#34;</span><span class="op" id="8235135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235139">}</span><span class="op" id="8235140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235143">}</span><span class="op" id="8235144">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235152">&#34;abc&#34;</span><span class="op" id="8235157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235161">&#34;abc&#34;</span><span class="op" id="8235166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235170">[</span><span class="op" id="8235171">]</span><span class="builtintype" id="8235172">string</span><span class="op" id="8235178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235183">&#34;a&#34;</span><span class="op" id="8235186">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235191">&#34;b&#34;</span><span class="op" id="8235194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235199">&#34;c&#34;</span><span class="op" id="8235202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235207">&#34;ab&#34;</span><span class="op" id="8235211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235216">&#34;bc&#34;</span><span class="op" id="8235220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235225">&#34;abc&#34;</span><span class="op" id="8235230">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235235">&#34;a.c&#34;</span><span class="op" id="8235240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235245">&#34;a(b|c)&#34;</span><span class="op" id="8235253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235258">&#34;abc?&#34;</span><span class="op" id="8235264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235268">}</span><span class="op" id="8235269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235272">}</span><span class="op" id="8235273">,</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235281">&#34;barbara*3&#34;</span><span class="op" id="8235292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235296">&#34;barbarabarbarabarbara&#34;</span><span class="op" id="8235319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235323">[</span><span class="op" id="8235324">]</span><span class="builtintype" id="8235325">string</span><span class="op" id="8235331">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235336">&#34;a&#34;</span><span class="op" id="8235339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235344">&#34;bar&#34;</span><span class="op" id="8235349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235354">&#34;rab&#34;</span><span class="op" id="8235359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235364">&#34;arab&#34;</span><span class="op" id="8235370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235375">&#34;barbar&#34;</span><span class="op" id="8235383">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235388">&#34;bara?bar&#34;</span><span class="op" id="8235398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235402">}</span><span class="op" id="8235403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235406">}</span><span class="op" id="8235407">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235411">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235415">&#34;typing&nbsp;drill&#34;</span><span class="op" id="8235429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235433">&#34;Now&nbsp;is&nbsp;the&nbsp;time&nbsp;for&nbsp;all&nbsp;good&nbsp;men&nbsp;to&nbsp;come&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="8235504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235508">[</span><span class="op" id="8235509">]</span><span class="builtintype" id="8235510">string</span><span class="op" id="8235516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235521">&#34;Now&#34;</span><span class="op" id="8235526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235531">&#34;the&nbsp;time&#34;</span><span class="op" id="8235541">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235546">&#34;to&nbsp;come&nbsp;the&nbsp;aid&#34;</span><span class="op" id="8235563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235568">&#34;is&nbsp;the&nbsp;time&nbsp;for&nbsp;all&nbsp;good&nbsp;men&nbsp;to&nbsp;come&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&#34;</span><span class="op" id="8235626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235631">&#34;to&nbsp;(come|the)?&#34;</span><span class="op" id="8235647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235651">}</span><span class="op" id="8235652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235655">}</span><span class="op" id="8235656">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235664">&#34;godoc&nbsp;simulation&#34;</span><span class="op" id="8235682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8235686">&#34;package&nbsp;main\n\nimport(\n&nbsp;&nbsp;&nbsp;&nbsp;\&#34;rand\&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8235731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235735">[</span><span class="op" id="8235736">]</span><span class="builtintype" id="8235737">string</span><span class="op" id="8235743">{</span><span class="op" id="8235744">}</span><span class="op" id="8235745">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235748">}</span><span class="op" id="8235749">,</span><br>
<span class="lineno"></span><span class="op" id="8235751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8235754">//&nbsp;find&nbsp;all&nbsp;occurrences&nbsp;of&nbsp;s&nbsp;in&nbsp;source;&nbsp;report&nbsp;at&nbsp;most&nbsp;n&nbsp;occurrences</span><br>
<span class="lineno"></span><span class="keyword" id="8235823">func</span>&nbsp;<span class="ident" id="8235828">find</span><span class="op" id="8235832">(</span><span class="ident" id="8235833">src</span><span class="op" id="8235836">,</span>&nbsp;<span class="ident" id="8235838">s</span>&nbsp;<span class="builtintype" id="8235840">string</span><span class="op" id="8235846">,</span>&nbsp;<span class="ident" id="8235848">n</span>&nbsp;<span class="builtintype" id="8235850">int</span><span class="op" id="8235853">)</span>&nbsp;<span class="op" id="8235855">[</span><span class="op" id="8235856">]</span><span class="builtintype" id="8235857">int</span>&nbsp;<span class="op" id="8235861">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8235864">var</span>&nbsp;<span class="ident" id="8235868">res</span>&nbsp;<span class="op" id="8235872">[</span><span class="op" id="8235873">]</span><span class="builtintype" id="8235874">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8235879">if</span>&nbsp;<span class="ident" id="8235882"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235838">s</a></span>&nbsp;<span class="op" id="8235884">!=</span>&nbsp;<span class="string" id="8235887">&#34;&#34;</span>&nbsp;<span class="op" id="8235890">&amp;&amp;</span>&nbsp;<span class="ident" id="8235893"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235848">n</a></span>&nbsp;<span class="op" id="8235895">!=</span>&nbsp;<span class="num" id="8235898">0</span>&nbsp;<span class="op" id="8235900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8235904">//&nbsp;find&nbsp;at&nbsp;most&nbsp;n&nbsp;occurrences&nbsp;of&nbsp;s&nbsp;in&nbsp;src</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8235948">for</span>&nbsp;<span class="ident" id="8235952">i</span>&nbsp;<span class="op" id="8235954">:=</span>&nbsp;<span class="op" id="8235957">-</span><span class="num" id="8235958">1</span><span class="op" id="8235959">;</span>&nbsp;<span class="ident" id="8235961"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235848">n</a></span>&nbsp;<span class="op" id="8235963">&lt;</span>&nbsp;<span class="num" id="8235965">0</span>&nbsp;<span class="op" id="8235967">||</span>&nbsp;<span class="builtinfunc" id="8235970">len</span><span class="op" id="8235973">(</span><span class="ident" id="8235974"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235868">res</a></span><span class="op" id="8235977">)</span>&nbsp;<span class="op" id="8235979">&lt;</span>&nbsp;<span class="ident" id="8235981"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235848">n</a></span><span class="op" id="8235982">;</span>&nbsp;<span class="op" id="8235984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8235989">j</span>&nbsp;<span class="op" id="8235991">:=</span>&nbsp;<span class="ident" id="8235994"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234568">strings</a></span><span class="op" id="8236001">.</span><span class="ident" id="8236002"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="8236007">(</span><span class="ident" id="8236008"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235833">src</a></span><span class="op" id="8236011">[</span><span class="ident" id="8236012"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235952">i</a></span><span class="op" id="8236013">+</span><span class="num" id="8236014">1</span><span class="op" id="8236015">:</span><span class="op" id="8236016">]</span><span class="op" id="8236017">,</span>&nbsp;<span class="ident" id="8236019"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235838">s</a></span><span class="op" id="8236020">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236025">if</span>&nbsp;<span class="ident" id="8236028"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235989">j</a></span>&nbsp;<span class="op" id="8236030">&lt;</span>&nbsp;<span class="num" id="8236032">0</span>&nbsp;<span class="op" id="8236034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236040">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8236049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236054"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235952">i</a></span>&nbsp;<span class="op" id="8236056">+=</span>&nbsp;<span class="ident" id="8236059"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235989">j</a></span>&nbsp;<span class="op" id="8236061">+</span>&nbsp;<span class="num" id="8236063">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236068"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235868">res</a></span>&nbsp;<span class="op" id="8236072">=</span>&nbsp;<span class="builtinfunc" id="8236074">append</span><span class="op" id="8236080">(</span><span class="ident" id="8236081"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235868">res</a></span><span class="op" id="8236084">,</span>&nbsp;<span class="ident" id="8236086"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235952">i</a></span><span class="op" id="8236087">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8236091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8236094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236097">return</span>&nbsp;<span class="ident" id="8236104"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235868">res</a></span><br>
<span class="lineno"></span><span class="op" id="8236108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="8236111">func</span>&nbsp;<span class="ident" id="8236116">testLookup</span><span class="op" id="8236126">(</span><span class="ident" id="8236127">t</span>&nbsp;<span class="op" id="8236129">*</span><span class="ident" id="8236130"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8236137">.</span><span class="ident" id="8236138"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8236139">,</span>&nbsp;<span class="ident" id="8236141">tc</span>&nbsp;<span class="op" id="8236144">*</span><span class="ident" id="8236145"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8236153">,</span>&nbsp;<span class="ident" id="8236155">x</span>&nbsp;<span class="op" id="8236157">*</span><span class="ident" id="8236158"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8236163">,</span>&nbsp;<span class="ident" id="8236165">s</span>&nbsp;<span class="builtintype" id="8236167">string</span><span class="op" id="8236173">,</span>&nbsp;<span class="ident" id="8236175">n</span>&nbsp;<span class="builtintype" id="8236177">int</span><span class="op" id="8236180">)</span>&nbsp;<span class="op" id="8236182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236185">res</span>&nbsp;<span class="op" id="8236189">:=</span>&nbsp;<span class="ident" id="8236192"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236155">x</a></span><span class="op" id="8236193">.</span><span class="ident" id="8236194"><a href="/gostd/index/suffixarray/suffixarray.go.html#6099600">Lookup</a></span><span class="op" id="8236200">(</span><span class="op" id="8236201">[</span><span class="op" id="8236202">]</span><span class="builtintype" id="8236203">byte</span><span class="op" id="8236207">(</span><span class="ident" id="8236208"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8236209">)</span><span class="op" id="8236210">,</span>&nbsp;<span class="ident" id="8236212"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8236213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236216">exp</span>&nbsp;<span class="op" id="8236220">:=</span>&nbsp;<span class="ident" id="8236223"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8235828">find</a></span><span class="op" id="8236227">(</span><span class="ident" id="8236228"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8236230">.</span><span class="ident" id="8236231"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8236237">,</span>&nbsp;<span class="ident" id="8236239"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8236240">,</span>&nbsp;<span class="ident" id="8236242"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8236243">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236247">//&nbsp;check&nbsp;that&nbsp;the&nbsp;lengths&nbsp;match</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236280">if</span>&nbsp;<span class="builtinfunc" id="8236283">len</span><span class="op" id="8236286">(</span><span class="ident" id="8236287"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span><span class="op" id="8236290">)</span>&nbsp;<span class="op" id="8236292">!=</span>&nbsp;<span class="builtinfunc" id="8236295">len</span><span class="op" id="8236298">(</span><span class="ident" id="8236299"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236216">exp</a></span><span class="op" id="8236302">)</span>&nbsp;<span class="op" id="8236304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236308"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236127">t</a></span><span class="op" id="8236309">.</span><span class="ident" id="8236310"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8236316">(</span><span class="string" id="8236317">&#34;test&nbsp;%q,&nbsp;lookup&nbsp;%q&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;expected&nbsp;%d&nbsp;results;&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8236375">,</span>&nbsp;<span class="ident" id="8236377"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8236379">.</span><span class="ident" id="8236380"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8236384">,</span>&nbsp;<span class="ident" id="8236386"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8236387">,</span>&nbsp;<span class="ident" id="8236389"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8236390">,</span>&nbsp;<span class="builtinfunc" id="8236392">len</span><span class="op" id="8236395">(</span><span class="ident" id="8236396"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236216">exp</a></span><span class="op" id="8236399">)</span><span class="op" id="8236400">,</span>&nbsp;<span class="builtinfunc" id="8236402">len</span><span class="op" id="8236405">(</span><span class="ident" id="8236406"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span><span class="op" id="8236409">)</span><span class="op" id="8236410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8236413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236417">//&nbsp;if&nbsp;n&nbsp;&gt;=&nbsp;0&nbsp;the&nbsp;number&nbsp;of&nbsp;results&nbsp;is&nbsp;limited&nbsp;---&nbsp;unless&nbsp;n&nbsp;&gt;=&nbsp;all&nbsp;results,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236493">//&nbsp;we&nbsp;may&nbsp;obtain&nbsp;different&nbsp;positions&nbsp;from&nbsp;the&nbsp;Index&nbsp;and&nbsp;from&nbsp;find&nbsp;(because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236569">//&nbsp;Index&nbsp;may&nbsp;not&nbsp;find&nbsp;the&nbsp;results&nbsp;in&nbsp;the&nbsp;same&nbsp;order&nbsp;as&nbsp;find)&nbsp;=&gt;&nbsp;in&nbsp;general</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236645">//&nbsp;we&nbsp;cannot&nbsp;simply&nbsp;check&nbsp;that&nbsp;the&nbsp;res&nbsp;and&nbsp;exp&nbsp;lists&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236710">//&nbsp;check&nbsp;that&nbsp;each&nbsp;result&nbsp;is&nbsp;in&nbsp;fact&nbsp;a&nbsp;correct&nbsp;match&nbsp;and&nbsp;there&nbsp;are&nbsp;no&nbsp;duplicates</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236792"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234560">sort</a></span><span class="op" id="8236796">.</span><span class="ident" id="8236797"><a href="/gostd/sort/sort.go.html#2017619">Ints</a></span><span class="op" id="8236801">(</span><span class="ident" id="8236802"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span><span class="op" id="8236805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236808">for</span>&nbsp;<span class="ident" id="8236812">i</span><span class="op" id="8236813">,</span>&nbsp;<span class="ident" id="8236815">r</span>&nbsp;<span class="op" id="8236817">:=</span>&nbsp;<span class="keyword" id="8236820">range</span>&nbsp;<span class="ident" id="8236826"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span>&nbsp;<span class="op" id="8236830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8236834">if</span>&nbsp;<span class="ident" id="8236837"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span>&nbsp;<span class="op" id="8236839">&lt;</span>&nbsp;<span class="num" id="8236841">0</span>&nbsp;<span class="op" id="8236843">||</span>&nbsp;<span class="builtinfunc" id="8236846">len</span><span class="op" id="8236849">(</span><span class="ident" id="8236850"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8236852">.</span><span class="ident" id="8236853"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8236859">)</span>&nbsp;<span class="op" id="8236861">&lt;=</span>&nbsp;<span class="ident" id="8236864"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span>&nbsp;<span class="op" id="8236866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8236871"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236127">t</a></span><span class="op" id="8236872">.</span><span class="ident" id="8236873"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8236879">(</span><span class="string" id="8236880">&#34;test&nbsp;%q,&nbsp;lookup&nbsp;%q,&nbsp;result&nbsp;%d&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;index&nbsp;%d&nbsp;out&nbsp;of&nbsp;range&nbsp;[0,&nbsp;%d[&#34;</span><span class="op" id="8236951">,</span>&nbsp;<span class="ident" id="8236953"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8236955">.</span><span class="ident" id="8236956"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8236960">,</span>&nbsp;<span class="ident" id="8236962"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8236963">,</span>&nbsp;<span class="ident" id="8236965"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236812">i</a></span><span class="op" id="8236966">,</span>&nbsp;<span class="ident" id="8236968"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8236969">,</span>&nbsp;<span class="ident" id="8236971"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span><span class="op" id="8236972">,</span>&nbsp;<span class="builtinfunc" id="8236974">len</span><span class="op" id="8236977">(</span><span class="ident" id="8236978"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8236980">.</span><span class="ident" id="8236981"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8236987">)</span><span class="op" id="8236988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8236992">}</span>&nbsp;<span class="keyword" id="8236994">else</span>&nbsp;<span class="keyword" id="8236999">if</span>&nbsp;<span class="op" id="8237002">!</span><span class="ident" id="8237003"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234568">strings</a></span><span class="op" id="8237010">.</span><span class="ident" id="8237011"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="8237020">(</span><span class="ident" id="8237021"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8237023">.</span><span class="ident" id="8237024"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8237030">[</span><span class="ident" id="8237031"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span><span class="op" id="8237032">:</span><span class="op" id="8237033">]</span><span class="op" id="8237034">,</span>&nbsp;<span class="ident" id="8237036"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8237037">)</span>&nbsp;<span class="op" id="8237039">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237044"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236127">t</a></span><span class="op" id="8237045">.</span><span class="ident" id="8237046"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8237052">(</span><span class="string" id="8237053">&#34;test&nbsp;%q,&nbsp;lookup&nbsp;%q,&nbsp;result&nbsp;%d&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;index&nbsp;%d&nbsp;not&nbsp;a&nbsp;match&#34;</span><span class="op" id="8237115">,</span>&nbsp;<span class="ident" id="8237117"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8237119">.</span><span class="ident" id="8237120"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8237124">,</span>&nbsp;<span class="ident" id="8237126"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8237127">,</span>&nbsp;<span class="ident" id="8237129"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236812">i</a></span><span class="op" id="8237130">,</span>&nbsp;<span class="ident" id="8237132"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8237133">,</span>&nbsp;<span class="ident" id="8237135"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span><span class="op" id="8237136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8237144">if</span>&nbsp;<span class="ident" id="8237147"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236812">i</a></span>&nbsp;<span class="op" id="8237149">&gt;</span>&nbsp;<span class="num" id="8237151">0</span>&nbsp;<span class="op" id="8237153">&amp;&amp;</span>&nbsp;<span class="ident" id="8237156"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span><span class="op" id="8237159">[</span><span class="ident" id="8237160"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236812">i</a></span><span class="op" id="8237161">-</span><span class="num" id="8237162">1</span><span class="op" id="8237163">]</span>&nbsp;<span class="op" id="8237165">==</span>&nbsp;<span class="ident" id="8237168"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span>&nbsp;<span class="op" id="8237170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237175"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236127">t</a></span><span class="op" id="8237176">.</span><span class="ident" id="8237177"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8237183">(</span><span class="string" id="8237184">&#34;test&nbsp;%q,&nbsp;lookup&nbsp;%q,&nbsp;result&nbsp;%d&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;found&nbsp;duplicate&nbsp;index&nbsp;%d&#34;</span><span class="op" id="8237250">,</span>&nbsp;<span class="ident" id="8237252"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8237254">.</span><span class="ident" id="8237255"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8237259">,</span>&nbsp;<span class="ident" id="8237261"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8237262">,</span>&nbsp;<span class="ident" id="8237264"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236812">i</a></span><span class="op" id="8237265">,</span>&nbsp;<span class="ident" id="8237267"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span><span class="op" id="8237268">,</span>&nbsp;<span class="ident" id="8237270"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236815">r</a></span><span class="op" id="8237271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237275">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8237282">if</span>&nbsp;<span class="ident" id="8237285"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236175">n</a></span>&nbsp;<span class="op" id="8237287">&lt;</span>&nbsp;<span class="num" id="8237289">0</span>&nbsp;<span class="op" id="8237291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8237295">//&nbsp;all&nbsp;results&nbsp;computed&nbsp;-&nbsp;sorted&nbsp;res&nbsp;and&nbsp;exp&nbsp;must&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8237356">for</span>&nbsp;<span class="ident" id="8237360">i</span><span class="op" id="8237361">,</span>&nbsp;<span class="ident" id="8237363">r</span>&nbsp;<span class="op" id="8237365">:=</span>&nbsp;<span class="keyword" id="8237368">range</span>&nbsp;<span class="ident" id="8237374"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236185">res</a></span>&nbsp;<span class="op" id="8237378">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237383">e</span>&nbsp;<span class="op" id="8237385">:=</span>&nbsp;<span class="ident" id="8237388"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236216">exp</a></span><span class="op" id="8237391">[</span><span class="ident" id="8237392"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237360">i</a></span><span class="op" id="8237393">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8237398">if</span>&nbsp;<span class="ident" id="8237401"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237363">r</a></span>&nbsp;<span class="op" id="8237403">!=</span>&nbsp;<span class="ident" id="8237406"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237383">e</a></span>&nbsp;<span class="op" id="8237408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237414"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236127">t</a></span><span class="op" id="8237415">.</span><span class="ident" id="8237416"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8237422">(</span><span class="string" id="8237423">&#34;test&nbsp;%q,&nbsp;lookup&nbsp;%q,&nbsp;result&nbsp;%d:&nbsp;expected&nbsp;index&nbsp;%d;&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8237481">,</span>&nbsp;<span class="ident" id="8237483"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236141">tc</a></span><span class="op" id="8237485">.</span><span class="ident" id="8237486"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8237490">,</span>&nbsp;<span class="ident" id="8237492"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236165">s</a></span><span class="op" id="8237493">,</span>&nbsp;<span class="ident" id="8237495"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237360">i</a></span><span class="op" id="8237496">,</span>&nbsp;<span class="ident" id="8237498"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237383">e</a></span><span class="op" id="8237499">,</span>&nbsp;<span class="ident" id="8237501"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237363">r</a></span><span class="op" id="8237502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237511">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237514">}</span><br>
<span class="lineno"></span><span class="op" id="8237516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8237519">func</span>&nbsp;<span class="ident" id="8237524">testFindAllIndex</span><span class="op" id="8237540">(</span><span class="ident" id="8237541">t</span>&nbsp;<span class="op" id="8237543">*</span><span class="ident" id="8237544"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8237551">.</span><span class="ident" id="8237552"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8237553">,</span>&nbsp;<span class="ident" id="8237555">tc</span>&nbsp;<span class="op" id="8237558">*</span><span class="ident" id="8237559"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8237567">,</span>&nbsp;<span class="ident" id="8237569">x</span>&nbsp;<span class="op" id="8237571">*</span><span class="ident" id="8237572"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8237577">,</span>&nbsp;<span class="ident" id="8237579">rx</span>&nbsp;<span class="op" id="8237582">*</span><span class="ident" id="8237583"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234550">regexp</a></span><span class="op" id="8237589">.</span><span class="ident" id="8237590"><a href="/gostd/regexp/regexp.go.html#3567022">Regexp</a></span><span class="op" id="8237596">,</span>&nbsp;<span class="ident" id="8237598">n</span>&nbsp;<span class="builtintype" id="8237600">int</span><span class="op" id="8237603">)</span>&nbsp;<span class="op" id="8237605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237608">res</span>&nbsp;<span class="op" id="8237612">:=</span>&nbsp;<span class="ident" id="8237615"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237569">x</a></span><span class="op" id="8237616">.</span><span class="ident" id="8237617"><a href="/gostd/index/suffixarray/suffixarray.go.html#6100257">FindAllIndex</a></span><span class="op" id="8237629">(</span><span class="ident" id="8237630"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8237632">,</span>&nbsp;<span class="ident" id="8237634"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span><span class="op" id="8237635">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237638">exp</span>&nbsp;<span class="op" id="8237642">:=</span>&nbsp;<span class="ident" id="8237645"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8237647">.</span><span class="ident" id="8237648"><a href="/gostd/regexp/regexp.go.html#3593904">FindAllStringIndex</a></span><span class="op" id="8237666">(</span><span class="ident" id="8237667"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8237669">.</span><span class="ident" id="8237670"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8237676">,</span>&nbsp;<span class="ident" id="8237678"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span><span class="op" id="8237679">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8237683">//&nbsp;check&nbsp;that&nbsp;the&nbsp;lengths&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8237716">if</span>&nbsp;<span class="builtinfunc" id="8237719">len</span><span class="op" id="8237722">(</span><span class="ident" id="8237723"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237608">res</a></span><span class="op" id="8237726">)</span>&nbsp;<span class="op" id="8237728">!=</span>&nbsp;<span class="builtinfunc" id="8237731">len</span><span class="op" id="8237734">(</span><span class="ident" id="8237735"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237638">exp</a></span><span class="op" id="8237738">)</span>&nbsp;<span class="op" id="8237740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8237744"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237541">t</a></span><span class="op" id="8237745">.</span><span class="ident" id="8237746"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8237752">(</span><span class="string" id="8237753">&#34;test&nbsp;%q,&nbsp;FindAllIndex&nbsp;%q&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;expected&nbsp;%d&nbsp;results;&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8237817">,</span>&nbsp;<span class="ident" id="8237819"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8237821">.</span><span class="ident" id="8237822"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8237826">,</span>&nbsp;<span class="ident" id="8237828"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8237830">,</span>&nbsp;<span class="ident" id="8237832"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span><span class="op" id="8237833">,</span>&nbsp;<span class="builtinfunc" id="8237835">len</span><span class="op" id="8237838">(</span><span class="ident" id="8237839"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237638">exp</a></span><span class="op" id="8237842">)</span><span class="op" id="8237843">,</span>&nbsp;<span class="builtinfunc" id="8237845">len</span><span class="op" id="8237848">(</span><span class="ident" id="8237849"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237608">res</a></span><span class="op" id="8237852">)</span><span class="op" id="8237853">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8237860">//&nbsp;if&nbsp;n&nbsp;&gt;=&nbsp;0&nbsp;the&nbsp;number&nbsp;of&nbsp;results&nbsp;is&nbsp;limited&nbsp;---&nbsp;unless&nbsp;n&nbsp;&gt;=&nbsp;all&nbsp;results,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8237936">//&nbsp;we&nbsp;may&nbsp;obtain&nbsp;different&nbsp;positions&nbsp;from&nbsp;the&nbsp;Index&nbsp;and&nbsp;from&nbsp;regexp&nbsp;(because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8238014">//&nbsp;Index&nbsp;may&nbsp;not&nbsp;find&nbsp;the&nbsp;results&nbsp;in&nbsp;the&nbsp;same&nbsp;order&nbsp;as&nbsp;regexp)&nbsp;=&gt;&nbsp;in&nbsp;general</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8238092">//&nbsp;we&nbsp;cannot&nbsp;simply&nbsp;check&nbsp;that&nbsp;the&nbsp;res&nbsp;and&nbsp;exp&nbsp;lists&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8238157">//&nbsp;check&nbsp;that&nbsp;each&nbsp;result&nbsp;is&nbsp;in&nbsp;fact&nbsp;a&nbsp;correct&nbsp;match&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;sorted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238236">for</span>&nbsp;<span class="ident" id="8238240">i</span><span class="op" id="8238241">,</span>&nbsp;<span class="ident" id="8238243">r</span>&nbsp;<span class="op" id="8238245">:=</span>&nbsp;<span class="keyword" id="8238248">range</span>&nbsp;<span class="ident" id="8238254"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237608">res</a></span>&nbsp;<span class="op" id="8238258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238262">if</span>&nbsp;<span class="ident" id="8238265"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238266">[</span><span class="num" id="8238267">0</span><span class="op" id="8238268">]</span>&nbsp;<span class="op" id="8238270">&lt;</span>&nbsp;<span class="num" id="8238272">0</span>&nbsp;<span class="op" id="8238274">||</span>&nbsp;<span class="ident" id="8238277"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238278">[</span><span class="num" id="8238279">0</span><span class="op" id="8238280">]</span>&nbsp;<span class="op" id="8238282">&gt;</span>&nbsp;<span class="ident" id="8238284"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238285">[</span><span class="num" id="8238286">1</span><span class="op" id="8238287">]</span>&nbsp;<span class="op" id="8238289">||</span>&nbsp;<span class="builtinfunc" id="8238292">len</span><span class="op" id="8238295">(</span><span class="ident" id="8238296"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8238298">.</span><span class="ident" id="8238299"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8238305">)</span>&nbsp;<span class="op" id="8238307">&lt;</span>&nbsp;<span class="ident" id="8238309"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238310">[</span><span class="num" id="8238311">1</span><span class="op" id="8238312">]</span>&nbsp;<span class="op" id="8238314">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8238319"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237541">t</a></span><span class="op" id="8238320">.</span><span class="ident" id="8238321"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8238327">(</span><span class="string" id="8238328">&#34;test&nbsp;%q,&nbsp;FindAllIndex&nbsp;%q,&nbsp;result&nbsp;%d&nbsp;(n&nbsp;==&nbsp;%d):&nbsp;illegal&nbsp;match&nbsp;[%d,&nbsp;%d]&#34;</span><span class="op" id="8238399">,</span>&nbsp;<span class="ident" id="8238401"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8238403">.</span><span class="ident" id="8238404"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8238408">,</span>&nbsp;<span class="ident" id="8238410"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8238412">,</span>&nbsp;<span class="ident" id="8238414"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238240">i</a></span><span class="op" id="8238415">,</span>&nbsp;<span class="ident" id="8238417"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span><span class="op" id="8238418">,</span>&nbsp;<span class="ident" id="8238420"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238421">[</span><span class="num" id="8238422">0</span><span class="op" id="8238423">]</span><span class="op" id="8238424">,</span>&nbsp;<span class="ident" id="8238426"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238427">[</span><span class="num" id="8238428">1</span><span class="op" id="8238429">]</span><span class="op" id="8238430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238434">}</span>&nbsp;<span class="keyword" id="8238436">else</span>&nbsp;<span class="keyword" id="8238441">if</span>&nbsp;<span class="op" id="8238444">!</span><span class="ident" id="8238445"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8238447">.</span><span class="ident" id="8238448"><a href="/gostd/regexp/regexp.go.html#3576314">MatchString</a></span><span class="op" id="8238459">(</span><span class="ident" id="8238460"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8238462">.</span><span class="ident" id="8238463"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8238469">[</span><span class="ident" id="8238470"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238471">[</span><span class="num" id="8238472">0</span><span class="op" id="8238473">]</span><span class="op" id="8238474">:</span><span class="ident" id="8238475"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238476">[</span><span class="num" id="8238477">1</span><span class="op" id="8238478">]</span><span class="op" id="8238479">]</span><span class="op" id="8238480">)</span>&nbsp;<span class="op" id="8238482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8238487"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237541">t</a></span><span class="op" id="8238488">.</span><span class="ident" id="8238489"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8238495">(</span><span class="string" id="8238496">&#34;test&nbsp;%q,&nbsp;FindAllIndex&nbsp;%q,&nbsp;result&nbsp;%d&nbsp;(n&nbsp;=&nbsp;%d):&nbsp;[%d,&nbsp;%d]&nbsp;not&nbsp;a&nbsp;match&#34;</span><span class="op" id="8238564">,</span>&nbsp;<span class="ident" id="8238566"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8238568">.</span><span class="ident" id="8238569"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8238573">,</span>&nbsp;<span class="ident" id="8238575"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8238577">,</span>&nbsp;<span class="ident" id="8238579"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238240">i</a></span><span class="op" id="8238580">,</span>&nbsp;<span class="ident" id="8238582"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span><span class="op" id="8238583">,</span>&nbsp;<span class="ident" id="8238585"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238586">[</span><span class="num" id="8238587">0</span><span class="op" id="8238588">]</span><span class="op" id="8238589">,</span>&nbsp;<span class="ident" id="8238591"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238243">r</a></span><span class="op" id="8238592">[</span><span class="num" id="8238593">1</span><span class="op" id="8238594">]</span><span class="op" id="8238595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238602">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238606">if</span>&nbsp;<span class="ident" id="8238609"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237598">n</a></span>&nbsp;<span class="op" id="8238611">&lt;</span>&nbsp;<span class="num" id="8238613">0</span>&nbsp;<span class="op" id="8238615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8238619">//&nbsp;all&nbsp;results&nbsp;computed&nbsp;-&nbsp;sorted&nbsp;res&nbsp;and&nbsp;exp&nbsp;must&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238680">for</span>&nbsp;<span class="ident" id="8238684">i</span><span class="op" id="8238685">,</span>&nbsp;<span class="ident" id="8238687">r</span>&nbsp;<span class="op" id="8238689">:=</span>&nbsp;<span class="keyword" id="8238692">range</span>&nbsp;<span class="ident" id="8238698"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237608">res</a></span>&nbsp;<span class="op" id="8238702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8238707">e</span>&nbsp;<span class="op" id="8238709">:=</span>&nbsp;<span class="ident" id="8238712"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237638">exp</a></span><span class="op" id="8238715">[</span><span class="ident" id="8238716"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238684">i</a></span><span class="op" id="8238717">]</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238722">if</span>&nbsp;<span class="ident" id="8238725"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238687">r</a></span><span class="op" id="8238726">[</span><span class="num" id="8238727">0</span><span class="op" id="8238728">]</span>&nbsp;<span class="op" id="8238730">!=</span>&nbsp;<span class="ident" id="8238733"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238707">e</a></span><span class="op" id="8238734">[</span><span class="num" id="8238735">0</span><span class="op" id="8238736">]</span>&nbsp;<span class="op" id="8238738">||</span>&nbsp;<span class="ident" id="8238741"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238687">r</a></span><span class="op" id="8238742">[</span><span class="num" id="8238743">1</span><span class="op" id="8238744">]</span>&nbsp;<span class="op" id="8238746">!=</span>&nbsp;<span class="ident" id="8238749"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238707">e</a></span><span class="op" id="8238750">[</span><span class="num" id="8238751">1</span><span class="op" id="8238752">]</span>&nbsp;<span class="op" id="8238754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8238760"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237541">t</a></span><span class="op" id="8238761">.</span><span class="ident" id="8238762"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8238768">(</span><span class="string" id="8238769">&#34;test&nbsp;%q,&nbsp;FindAllIndex&nbsp;%q,&nbsp;result&nbsp;%d:&nbsp;expected&nbsp;match&nbsp;[%d,&nbsp;%d];&nbsp;got&nbsp;[%d,&nbsp;%d]&#34;</span><span class="op" id="8238845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8238852"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237555">tc</a></span><span class="op" id="8238854">.</span><span class="ident" id="8238855"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8238859">,</span>&nbsp;<span class="ident" id="8238861"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237579">rx</a></span><span class="op" id="8238863">,</span>&nbsp;<span class="ident" id="8238865"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238684">i</a></span><span class="op" id="8238866">,</span>&nbsp;<span class="ident" id="8238868"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238707">e</a></span><span class="op" id="8238869">[</span><span class="num" id="8238870">0</span><span class="op" id="8238871">]</span><span class="op" id="8238872">,</span>&nbsp;<span class="ident" id="8238874"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238707">e</a></span><span class="op" id="8238875">[</span><span class="num" id="8238876">1</span><span class="op" id="8238877">]</span><span class="op" id="8238878">,</span>&nbsp;<span class="ident" id="8238880"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238687">r</a></span><span class="op" id="8238881">[</span><span class="num" id="8238882">0</span><span class="op" id="8238883">]</span><span class="op" id="8238884">,</span>&nbsp;<span class="ident" id="8238886"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238687">r</a></span><span class="op" id="8238887">[</span><span class="num" id="8238888">1</span><span class="op" id="8238889">]</span><span class="op" id="8238890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238899">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8238902">}</span><br>
<span class="lineno"></span><span class="op" id="8238904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8238907">func</span>&nbsp;<span class="ident" id="8238912">testLookups</span><span class="op" id="8238923">(</span><span class="ident" id="8238924">t</span>&nbsp;<span class="op" id="8238926">*</span><span class="ident" id="8238927"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8238934">.</span><span class="ident" id="8238935"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8238936">,</span>&nbsp;<span class="ident" id="8238938">tc</span>&nbsp;<span class="op" id="8238941">*</span><span class="ident" id="8238942"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8238950">,</span>&nbsp;<span class="ident" id="8238952">x</span>&nbsp;<span class="op" id="8238954">*</span><span class="ident" id="8238955"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8238960">,</span>&nbsp;<span class="ident" id="8238962">n</span>&nbsp;<span class="builtintype" id="8238964">int</span><span class="op" id="8238967">)</span>&nbsp;<span class="op" id="8238969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8238972">for</span>&nbsp;<span class="ident" id="8238976">_</span><span class="op" id="8238977">,</span>&nbsp;<span class="ident" id="8238979">pat</span>&nbsp;<span class="op" id="8238983">:=</span>&nbsp;<span class="keyword" id="8238986">range</span>&nbsp;<span class="ident" id="8238992"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238938">tc</a></span><span class="op" id="8238994">.</span><span class="ident" id="8238995"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234694">patterns</a></span>&nbsp;<span class="op" id="8239004">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8239008"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8236116">testLookup</a></span><span class="op" id="8239018">(</span><span class="ident" id="8239019"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238924">t</a></span><span class="op" id="8239020">,</span>&nbsp;<span class="ident" id="8239022"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238938">tc</a></span><span class="op" id="8239024">,</span>&nbsp;<span class="ident" id="8239026"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238952">x</a></span><span class="op" id="8239027">,</span>&nbsp;<span class="ident" id="8239029"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238979">pat</a></span><span class="op" id="8239032">,</span>&nbsp;<span class="ident" id="8239034"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238962">n</a></span><span class="op" id="8239035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239039">if</span>&nbsp;<span class="ident" id="8239042">rx</span><span class="op" id="8239044">,</span>&nbsp;<span class="ident" id="8239046">err</span>&nbsp;<span class="op" id="8239050">:=</span>&nbsp;<span class="ident" id="8239053"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234550">regexp</a></span><span class="op" id="8239059">.</span><span class="ident" id="8239060"><a href="/gostd/regexp/regexp.go.html#3568489">Compile</a></span><span class="op" id="8239067">(</span><span class="ident" id="8239068"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238979">pat</a></span><span class="op" id="8239071">)</span><span class="op" id="8239072">;</span>&nbsp;<span class="ident" id="8239074"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239046">err</a></span>&nbsp;<span class="op" id="8239078">==</span>&nbsp;<span class="builtintype" id="8239081">nil</span>&nbsp;<span class="op" id="8239085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8239090"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8237524">testFindAllIndex</a></span><span class="op" id="8239106">(</span><span class="ident" id="8239107"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238924">t</a></span><span class="op" id="8239108">,</span>&nbsp;<span class="ident" id="8239110"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238938">tc</a></span><span class="op" id="8239112">,</span>&nbsp;<span class="ident" id="8239114"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238952">x</a></span><span class="op" id="8239115">,</span>&nbsp;<span class="ident" id="8239117"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239042">rx</a></span><span class="op" id="8239119">,</span>&nbsp;<span class="ident" id="8239121"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238962">n</a></span><span class="op" id="8239122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239129">}</span><br>
<span class="lineno">205</span><span class="op" id="8239131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8239134">//&nbsp;index&nbsp;is&nbsp;used&nbsp;to&nbsp;hide&nbsp;the&nbsp;sort.Interface</span><br>
<span class="lineno"></span><span class="keyword" id="8239178">type</span>&nbsp;<span class="ident" id="8239183">index</span>&nbsp;<span class="ident" id="8239189"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="8239196">func</span>&nbsp;<span class="op" id="8239201">(</span><span class="ident" id="8239202">x</span>&nbsp;<span class="op" id="8239204">*</span><span class="ident" id="8239205"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239183">index</a></span><span class="op" id="8239210">)</span>&nbsp;<span class="ident" id="8239212">Len</span><span class="op" id="8239215">(</span><span class="op" id="8239216">)</span>&nbsp;<span class="builtintype" id="8239218">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239232">{</span>&nbsp;<span class="keyword" id="8239234">return</span>&nbsp;<span class="builtinfunc" id="8239241">len</span><span class="op" id="8239244">(</span><span class="ident" id="8239245"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239202">x</a></span><span class="op" id="8239246">.</span><span class="ident" id="8239247"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239249">)</span>&nbsp;<span class="op" id="8239251">}</span><br>
<span class="lineno"></span><span class="keyword" id="8239253">func</span>&nbsp;<span class="op" id="8239258">(</span><span class="ident" id="8239259">x</span>&nbsp;<span class="op" id="8239261">*</span><span class="ident" id="8239262"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239183">index</a></span><span class="op" id="8239267">)</span>&nbsp;<span class="ident" id="8239269">Less</span><span class="op" id="8239273">(</span><span class="ident" id="8239274">i</span><span class="op" id="8239275">,</span>&nbsp;<span class="ident" id="8239277">j</span>&nbsp;<span class="builtintype" id="8239279">int</span><span class="op" id="8239282">)</span>&nbsp;<span class="builtintype" id="8239284">bool</span>&nbsp;<span class="op" id="8239289">{</span>&nbsp;<span class="keyword" id="8239291">return</span>&nbsp;<span class="ident" id="8239298"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234528">bytes</a></span><span class="op" id="8239303">.</span><span class="ident" id="8239304"><a href="/gostd/bytes/bytes_decl.go.html#1415068">Compare</a></span><span class="op" id="8239311">(</span><span class="ident" id="8239312"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239259">x</a></span><span class="op" id="8239313">.</span><span class="ident" id="8239314"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239428">at</a></span><span class="op" id="8239316">(</span><span class="ident" id="8239317"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239274">i</a></span><span class="op" id="8239318">)</span><span class="op" id="8239319">,</span>&nbsp;<span class="ident" id="8239321"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239259">x</a></span><span class="op" id="8239322">.</span><span class="ident" id="8239323"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239428">at</a></span><span class="op" id="8239325">(</span><span class="ident" id="8239326"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239277">j</a></span><span class="op" id="8239327">)</span><span class="op" id="8239328">)</span>&nbsp;<span class="op" id="8239330">&lt;</span>&nbsp;<span class="num" id="8239332">0</span>&nbsp;<span class="op" id="8239334">}</span><br>
<span class="lineno"></span><span class="keyword" id="8239336">func</span>&nbsp;<span class="op" id="8239341">(</span><span class="ident" id="8239342">x</span>&nbsp;<span class="op" id="8239344">*</span><span class="ident" id="8239345"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239183">index</a></span><span class="op" id="8239350">)</span>&nbsp;<span class="ident" id="8239352">Swap</span><span class="op" id="8239356">(</span><span class="ident" id="8239357">i</span><span class="op" id="8239358">,</span>&nbsp;<span class="ident" id="8239360">j</span>&nbsp;<span class="builtintype" id="8239362">int</span><span class="op" id="8239365">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239372">{</span>&nbsp;<span class="ident" id="8239374"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239342">x</a></span><span class="op" id="8239375">.</span><span class="ident" id="8239376"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239378">[</span><span class="ident" id="8239379"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239357">i</a></span><span class="op" id="8239380">]</span><span class="op" id="8239381">,</span>&nbsp;<span class="ident" id="8239383"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239342">x</a></span><span class="op" id="8239384">.</span><span class="ident" id="8239385"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239387">[</span><span class="ident" id="8239388"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239360">j</a></span><span class="op" id="8239389">]</span>&nbsp;<span class="op" id="8239391">=</span>&nbsp;<span class="ident" id="8239393"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239342">x</a></span><span class="op" id="8239394">.</span><span class="ident" id="8239395"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239397">[</span><span class="ident" id="8239398"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239360">j</a></span><span class="op" id="8239399">]</span><span class="op" id="8239400">,</span>&nbsp;<span class="ident" id="8239402"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239342">x</a></span><span class="op" id="8239403">.</span><span class="ident" id="8239404"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239406">[</span><span class="ident" id="8239407"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239357">i</a></span><span class="op" id="8239408">]</span>&nbsp;<span class="op" id="8239410">}</span><br>
<span class="lineno"></span><span class="keyword" id="8239412">func</span>&nbsp;<span class="op" id="8239417">(</span><span class="ident" id="8239418">a</span>&nbsp;<span class="op" id="8239420">*</span><span class="ident" id="8239421"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239183">index</a></span><span class="op" id="8239426">)</span>&nbsp;<span class="ident" id="8239428">at</span><span class="op" id="8239430">(</span><span class="ident" id="8239431">i</span>&nbsp;<span class="builtintype" id="8239433">int</span><span class="op" id="8239436">)</span>&nbsp;<span class="op" id="8239438">[</span><span class="op" id="8239439">]</span><span class="builtintype" id="8239440">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239448">{</span>&nbsp;<span class="keyword" id="8239450">return</span>&nbsp;<span class="ident" id="8239457"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239418">a</a></span><span class="op" id="8239458">.</span><span class="ident" id="8239459"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095552">data</a></span><span class="op" id="8239463">[</span><span class="ident" id="8239464"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239418">a</a></span><span class="op" id="8239465">.</span><span class="ident" id="8239466"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239468">[</span><span class="ident" id="8239469"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239431">i</a></span><span class="op" id="8239470">]</span><span class="op" id="8239471">:</span><span class="op" id="8239472">]</span>&nbsp;<span class="op" id="8239474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="8239477">func</span>&nbsp;<span class="ident" id="8239482">testConstruction</span><span class="op" id="8239498">(</span><span class="ident" id="8239499">t</span>&nbsp;<span class="op" id="8239501">*</span><span class="ident" id="8239502"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8239509">.</span><span class="ident" id="8239510"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8239511">,</span>&nbsp;<span class="ident" id="8239513">tc</span>&nbsp;<span class="op" id="8239516">*</span><span class="ident" id="8239517"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8239525">,</span>&nbsp;<span class="ident" id="8239527">x</span>&nbsp;<span class="op" id="8239529">*</span><span class="ident" id="8239530"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8239535">)</span>&nbsp;<span class="op" id="8239537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239540">if</span>&nbsp;<span class="op" id="8239543">!</span><span class="ident" id="8239544"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234560">sort</a></span><span class="op" id="8239548">.</span><span class="ident" id="8239549"><a href="/gostd/sort/sort.go.html#2016046">IsSorted</a></span><span class="op" id="8239557">(</span><span class="op" id="8239558">(</span><span class="op" id="8239559">*</span><span class="ident" id="8239560"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239183">index</a></span><span class="op" id="8239565">)</span><span class="op" id="8239566">(</span><span class="ident" id="8239567"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239527">x</a></span><span class="op" id="8239568">)</span><span class="op" id="8239569">)</span>&nbsp;<span class="op" id="8239571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8239575"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239499">t</a></span><span class="op" id="8239576">.</span><span class="ident" id="8239577"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8239583">(</span><span class="string" id="8239584">&#34;failed&nbsp;testConstruction&nbsp;%s&#34;</span><span class="op" id="8239612">,</span>&nbsp;<span class="ident" id="8239614"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239513">tc</a></span><span class="op" id="8239616">.</span><span class="ident" id="8239617"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8239621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239624">}</span><br>
<span class="lineno"></span><span class="op" id="8239626">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="8239629">func</span>&nbsp;<span class="ident" id="8239634">equal</span><span class="op" id="8239639">(</span><span class="ident" id="8239640">x</span><span class="op" id="8239641">,</span>&nbsp;<span class="ident" id="8239643">y</span>&nbsp;<span class="op" id="8239645">*</span><span class="ident" id="8239646"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8239651">)</span>&nbsp;<span class="builtintype" id="8239653">bool</span>&nbsp;<span class="op" id="8239658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239661">if</span>&nbsp;<span class="op" id="8239664">!</span><span class="ident" id="8239665"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234528">bytes</a></span><span class="op" id="8239670">.</span><span class="ident" id="8239671"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="8239676">(</span><span class="ident" id="8239677"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239640">x</a></span><span class="op" id="8239678">.</span><span class="ident" id="8239679"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095552">data</a></span><span class="op" id="8239683">,</span>&nbsp;<span class="ident" id="8239685"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239643">y</a></span><span class="op" id="8239686">.</span><span class="ident" id="8239687"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095552">data</a></span><span class="op" id="8239691">)</span>&nbsp;<span class="op" id="8239693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239697">return</span>&nbsp;<span class="builtintype" id="8239704">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239711">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239714">for</span>&nbsp;<span class="ident" id="8239718">i</span><span class="op" id="8239719">,</span>&nbsp;<span class="ident" id="8239721">j</span>&nbsp;<span class="op" id="8239723">:=</span>&nbsp;<span class="keyword" id="8239726">range</span>&nbsp;<span class="ident" id="8239732"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239640">x</a></span><span class="op" id="8239733">.</span><span class="ident" id="8239734"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span>&nbsp;<span class="op" id="8239737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239741">if</span>&nbsp;<span class="ident" id="8239744"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239721">j</a></span>&nbsp;<span class="op" id="8239746">!=</span>&nbsp;<span class="ident" id="8239749"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239643">y</a></span><span class="op" id="8239750">.</span><span class="ident" id="8239751"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095565">sa</a></span><span class="op" id="8239753">[</span><span class="ident" id="8239754"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239718">i</a></span><span class="op" id="8239755">]</span>&nbsp;<span class="op" id="8239757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239762">return</span>&nbsp;<span class="builtintype" id="8239769">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8239780">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239783">return</span>&nbsp;<span class="builtintype" id="8239790">true</span><br>
<span class="lineno"></span><span class="op" id="8239795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8239798">//&nbsp;returns&nbsp;the&nbsp;serialized&nbsp;index&nbsp;size</span><br>
<span class="lineno"></span><span class="keyword" id="8239835">func</span>&nbsp;<span class="ident" id="8239840">testSaveRestore</span><span class="op" id="8239855">(</span><span class="ident" id="8239856">t</span>&nbsp;<span class="op" id="8239858">*</span><span class="ident" id="8239859"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8239866">.</span><span class="ident" id="8239867"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8239868">,</span>&nbsp;<span class="ident" id="8239870">tc</span>&nbsp;<span class="op" id="8239873">*</span><span class="ident" id="8239874"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234597">testCase</a></span><span class="op" id="8239882">,</span>&nbsp;<span class="ident" id="8239884">x</span>&nbsp;<span class="op" id="8239886">*</span><span class="ident" id="8239887"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><span class="op" id="8239892">)</span>&nbsp;<span class="builtintype" id="8239894">int</span>&nbsp;<span class="op" id="8239898">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239901">var</span>&nbsp;<span class="ident" id="8239905">buf</span>&nbsp;<span class="ident" id="8239909"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234528">bytes</a></span><span class="op" id="8239914">.</span><span class="ident" id="8239915"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8239923">if</span>&nbsp;<span class="ident" id="8239926">err</span>&nbsp;<span class="op" id="8239930">:=</span>&nbsp;<span class="ident" id="8239933"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239884">x</a></span><span class="op" id="8239934">.</span><span class="ident" id="8239935"><a href="/gostd/index/suffixarray/suffixarray.go.html#6098153">Write</a></span><span class="op" id="8239940">(</span><span class="op" id="8239941">&amp;</span><span class="ident" id="8239942"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239905">buf</a></span><span class="op" id="8239945">)</span><span class="op" id="8239946">;</span>&nbsp;<span class="ident" id="8239948"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239926">err</a></span>&nbsp;<span class="op" id="8239952">!=</span>&nbsp;<span class="builtintype" id="8239955">nil</span>&nbsp;<span class="op" id="8239959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8239963"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239856">t</a></span><span class="op" id="8239964">.</span><span class="ident" id="8239965"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8239971">(</span><span class="string" id="8239972">&#34;failed&nbsp;writing&nbsp;index&nbsp;%s&nbsp;(%s)&#34;</span><span class="op" id="8240002">,</span>&nbsp;<span class="ident" id="8240004"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239870">tc</a></span><span class="op" id="8240006">.</span><span class="ident" id="8240007"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8240011">,</span>&nbsp;<span class="ident" id="8240013"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239926">err</a></span><span class="op" id="8240016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240022">size</span>&nbsp;<span class="op" id="8240027">:=</span>&nbsp;<span class="ident" id="8240030"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239905">buf</a></span><span class="op" id="8240033">.</span><span class="ident" id="8240034"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="8240037">(</span><span class="op" id="8240038">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240041">var</span>&nbsp;<span class="ident" id="8240045">y</span>&nbsp;<span class="ident" id="8240047"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240054">if</span>&nbsp;<span class="ident" id="8240057">err</span>&nbsp;<span class="op" id="8240061">:=</span>&nbsp;<span class="ident" id="8240064"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240045">y</a></span><span class="op" id="8240065">.</span><span class="ident" id="8240066"><a href="/gostd/index/suffixarray/suffixarray.go.html#6097419">Read</a></span><span class="op" id="8240070">(</span><span class="op" id="8240071">&amp;</span><span class="ident" id="8240072"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239905">buf</a></span><span class="op" id="8240075">)</span><span class="op" id="8240076">;</span>&nbsp;<span class="ident" id="8240078"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240057">err</a></span>&nbsp;<span class="op" id="8240082">!=</span>&nbsp;<span class="builtintype" id="8240085">nil</span>&nbsp;<span class="op" id="8240089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240093"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239856">t</a></span><span class="op" id="8240094">.</span><span class="ident" id="8240095"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8240101">(</span><span class="string" id="8240102">&#34;failed&nbsp;reading&nbsp;index&nbsp;%s&nbsp;(%s)&#34;</span><span class="op" id="8240132">,</span>&nbsp;<span class="ident" id="8240134"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239870">tc</a></span><span class="op" id="8240136">.</span><span class="ident" id="8240137"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8240141">,</span>&nbsp;<span class="ident" id="8240143"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240057">err</a></span><span class="op" id="8240146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240152">if</span>&nbsp;<span class="op" id="8240155">!</span><span class="ident" id="8240156"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239634">equal</a></span><span class="op" id="8240161">(</span><span class="ident" id="8240162"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239884">x</a></span><span class="op" id="8240163">,</span>&nbsp;<span class="op" id="8240165">&amp;</span><span class="ident" id="8240166"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240045">y</a></span><span class="op" id="8240167">)</span>&nbsp;<span class="op" id="8240169">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240173"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239856">t</a></span><span class="op" id="8240174">.</span><span class="ident" id="8240175"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8240181">(</span><span class="string" id="8240182">&#34;restored&nbsp;index&nbsp;doesn&#39;t&nbsp;match&nbsp;saved&nbsp;index&nbsp;%s&#34;</span><span class="op" id="8240227">,</span>&nbsp;<span class="ident" id="8240229"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239870">tc</a></span><span class="op" id="8240231">.</span><span class="ident" id="8240232"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234616">name</a></span><span class="op" id="8240236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240242">return</span>&nbsp;<span class="ident" id="8240249"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240022">size</a></span><br>
<span class="lineno"></span><span class="op" id="8240254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="8240257">func</span>&nbsp;<span class="ident" id="8240262">TestIndex</span><span class="op" id="8240271">(</span><span class="ident" id="8240272">t</span>&nbsp;<span class="op" id="8240274">*</span><span class="ident" id="8240275"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8240282">.</span><span class="ident" id="8240283"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8240284">)</span>&nbsp;<span class="op" id="8240286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240289">for</span>&nbsp;<span class="ident" id="8240293">_</span><span class="op" id="8240294">,</span>&nbsp;<span class="ident" id="8240296">tc</span>&nbsp;<span class="op" id="8240299">:=</span>&nbsp;<span class="keyword" id="8240302">range</span>&nbsp;<span class="ident" id="8240308"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234741">testCases</a></span>&nbsp;<span class="op" id="8240318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240322">x</span>&nbsp;<span class="op" id="8240324">:=</span>&nbsp;<span class="ident" id="8240327"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095725">New</a></span><span class="op" id="8240330">(</span><span class="op" id="8240331">[</span><span class="op" id="8240332">]</span><span class="builtintype" id="8240333">byte</span><span class="op" id="8240337">(</span><span class="ident" id="8240338"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240340">.</span><span class="ident" id="8240341"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234656">source</a></span><span class="op" id="8240347">)</span><span class="op" id="8240348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240352"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239482">testConstruction</a></span><span class="op" id="8240368">(</span><span class="ident" id="8240369"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240370">,</span>&nbsp;<span class="op" id="8240372">&amp;</span><span class="ident" id="8240373"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240375">,</span>&nbsp;<span class="ident" id="8240377"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240382"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239840">testSaveRestore</a></span><span class="op" id="8240397">(</span><span class="ident" id="8240398"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240399">,</span>&nbsp;<span class="op" id="8240401">&amp;</span><span class="ident" id="8240402"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240404">,</span>&nbsp;<span class="ident" id="8240406"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240407">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240411"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238912">testLookups</a></span><span class="op" id="8240422">(</span><span class="ident" id="8240423"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240424">,</span>&nbsp;<span class="op" id="8240426">&amp;</span><span class="ident" id="8240427"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240429">,</span>&nbsp;<span class="ident" id="8240431"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240432">,</span>&nbsp;<span class="num" id="8240434">0</span><span class="op" id="8240435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240439"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238912">testLookups</a></span><span class="op" id="8240450">(</span><span class="ident" id="8240451"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240452">,</span>&nbsp;<span class="op" id="8240454">&amp;</span><span class="ident" id="8240455"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240457">,</span>&nbsp;<span class="ident" id="8240459"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240460">,</span>&nbsp;<span class="num" id="8240462">1</span><span class="op" id="8240463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240467"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238912">testLookups</a></span><span class="op" id="8240478">(</span><span class="ident" id="8240479"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240480">,</span>&nbsp;<span class="op" id="8240482">&amp;</span><span class="ident" id="8240483"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240485">,</span>&nbsp;<span class="ident" id="8240487"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240488">,</span>&nbsp;<span class="num" id="8240490">10</span><span class="op" id="8240492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240496"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238912">testLookups</a></span><span class="op" id="8240507">(</span><span class="ident" id="8240508"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240509">,</span>&nbsp;<span class="op" id="8240511">&amp;</span><span class="ident" id="8240512"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240514">,</span>&nbsp;<span class="ident" id="8240516"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240517">,</span>&nbsp;<span class="num" id="8240519">2e9</span><span class="op" id="8240522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240526"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8238912">testLookups</a></span><span class="op" id="8240537">(</span><span class="ident" id="8240538"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240272">t</a></span><span class="op" id="8240539">,</span>&nbsp;<span class="op" id="8240541">&amp;</span><span class="ident" id="8240542"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240296">tc</a></span><span class="op" id="8240544">,</span>&nbsp;<span class="ident" id="8240546"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240322">x</a></span><span class="op" id="8240547">,</span>&nbsp;<span class="op" id="8240549">-</span><span class="num" id="8240550">1</span><span class="op" id="8240551">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240554">}</span><br>
<span class="lineno"></span><span class="op" id="8240556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8240559">//&nbsp;Of&nbsp;all&nbsp;possible&nbsp;inputs,&nbsp;the&nbsp;random&nbsp;bytes&nbsp;have&nbsp;the&nbsp;least&nbsp;amount&nbsp;of&nbsp;substring</span><br>
<span class="lineno"></span><span class="comment" id="8240638">//&nbsp;repetition,&nbsp;and&nbsp;the&nbsp;repeated&nbsp;bytes&nbsp;have&nbsp;the&nbsp;most.&nbsp;For&nbsp;most&nbsp;algorithms,</span><br>
<span class="lineno">265</span><span class="comment" id="8240712">//&nbsp;the&nbsp;running&nbsp;time&nbsp;of&nbsp;every&nbsp;input&nbsp;will&nbsp;be&nbsp;between&nbsp;these&nbsp;two.</span><br>
<span class="lineno"></span><span class="keyword" id="8240774">func</span>&nbsp;<span class="ident" id="8240779">benchmarkNew</span><span class="op" id="8240791">(</span><span class="ident" id="8240792">b</span>&nbsp;<span class="op" id="8240794">*</span><span class="ident" id="8240795"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8240802">.</span><span class="ident" id="8240803"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="8240804">,</span>&nbsp;<span class="ident" id="8240806">random</span>&nbsp;<span class="builtintype" id="8240813">bool</span><span class="op" id="8240817">)</span>&nbsp;<span class="op" id="8240819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240822"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240792">b</a></span><span class="op" id="8240823">.</span><span class="ident" id="8240824"><a href="/gostd/testing/benchmark.go.html#5452096">StopTimer</a></span><span class="op" id="8240833">(</span><span class="op" id="8240834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240837">data</span>&nbsp;<span class="op" id="8240842">:=</span>&nbsp;<span class="builtinfunc" id="8240845">make</span><span class="op" id="8240849">(</span><span class="op" id="8240850">[</span><span class="op" id="8240851">]</span><span class="builtintype" id="8240852">byte</span><span class="op" id="8240856">,</span>&nbsp;<span class="num" id="8240858">1e6</span><span class="op" id="8240861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240864">if</span>&nbsp;<span class="ident" id="8240867"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240806">random</a></span>&nbsp;<span class="op" id="8240874">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240878">for</span>&nbsp;<span class="ident" id="8240882">i</span>&nbsp;<span class="op" id="8240884">:=</span>&nbsp;<span class="keyword" id="8240887">range</span>&nbsp;<span class="ident" id="8240893"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240837">data</a></span>&nbsp;<span class="op" id="8240898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240903"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240837">data</a></span><span class="op" id="8240907">[</span><span class="ident" id="8240908"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240882">i</a></span><span class="op" id="8240909">]</span>&nbsp;<span class="op" id="8240911">=</span>&nbsp;<span class="builtintype" id="8240913">byte</span><span class="op" id="8240917">(</span><span class="ident" id="8240918"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234537">rand</a></span><span class="op" id="8240922">.</span><span class="ident" id="8240923"><a href="/gostd/math/rand/rand.go.html#2927246">Intn</a></span><span class="op" id="8240927">(</span><span class="num" id="8240928">256</span><span class="op" id="8240931">)</span><span class="op" id="8240932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240942"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240792">b</a></span><span class="op" id="8240943">.</span><span class="ident" id="8240944"><a href="/gostd/testing/benchmark.go.html#5451749">StartTimer</a></span><span class="op" id="8240954">(</span><span class="op" id="8240955">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8240958">for</span>&nbsp;<span class="ident" id="8240962">i</span>&nbsp;<span class="op" id="8240964">:=</span>&nbsp;<span class="num" id="8240967">0</span><span class="op" id="8240968">;</span>&nbsp;<span class="ident" id="8240970"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240962">i</a></span>&nbsp;<span class="op" id="8240972">&lt;</span>&nbsp;<span class="ident" id="8240974"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240792">b</a></span><span class="op" id="8240975">.</span><span class="ident" id="8240976"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="8240977">;</span>&nbsp;<span class="ident" id="8240979"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240962">i</a></span><span class="op" id="8240980">++</span>&nbsp;<span class="op" id="8240983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8240987"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095725">New</a></span><span class="op" id="8240990">(</span><span class="ident" id="8240991"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240837">data</a></span><span class="op" id="8240995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8240998">}</span><br>
<span class="lineno"></span><span class="op" id="8241000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8241003">func</span>&nbsp;<span class="ident" id="8241008">BenchmarkNewIndexRandom</span><span class="op" id="8241031">(</span><span class="ident" id="8241032">b</span>&nbsp;<span class="op" id="8241034">*</span><span class="ident" id="8241035"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8241042">.</span><span class="ident" id="8241043"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="8241044">)</span>&nbsp;<span class="op" id="8241046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241049"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240779">benchmarkNew</a></span><span class="op" id="8241061">(</span><span class="ident" id="8241062"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241032">b</a></span><span class="op" id="8241063">,</span>&nbsp;<span class="builtintype" id="8241065">true</span><span class="op" id="8241069">)</span><br>
<span class="lineno"></span><span class="op" id="8241071">}</span><br>
<span class="lineno"></span><span class="keyword" id="8241073">func</span>&nbsp;<span class="ident" id="8241078">BenchmarkNewIndexRepeat</span><span class="op" id="8241101">(</span><span class="ident" id="8241102">b</span>&nbsp;<span class="op" id="8241104">*</span><span class="ident" id="8241105"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8241112">.</span><span class="ident" id="8241113"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="8241114">)</span>&nbsp;<span class="op" id="8241116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241119"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8240779">benchmarkNew</a></span><span class="op" id="8241131">(</span><span class="ident" id="8241132"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241102">b</a></span><span class="op" id="8241133">,</span>&nbsp;<span class="builtintype" id="8241135">false</span><span class="op" id="8241140">)</span><br>
<span class="lineno">285</span><span class="op" id="8241142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241145">func</span>&nbsp;<span class="ident" id="8241150">BenchmarkSaveRestore</span><span class="op" id="8241170">(</span><span class="ident" id="8241171">b</span>&nbsp;<span class="op" id="8241173">*</span><span class="ident" id="8241174"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234579">testing</a></span><span class="op" id="8241181">.</span><span class="ident" id="8241182"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="8241183">)</span>&nbsp;<span class="op" id="8241185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241188"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241171">b</a></span><span class="op" id="8241189">.</span><span class="ident" id="8241190"><a href="/gostd/testing/benchmark.go.html#5452096">StopTimer</a></span><span class="op" id="8241199">(</span><span class="op" id="8241200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241203">r</span>&nbsp;<span class="op" id="8241205">:=</span>&nbsp;<span class="ident" id="8241208"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234537">rand</a></span><span class="op" id="8241212">.</span><span class="ident" id="8241213"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="8241216">(</span><span class="ident" id="8241217"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234537">rand</a></span><span class="op" id="8241221">.</span><span class="ident" id="8241222"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="8241231">(</span><span class="num" id="8241232">0x5a77a1</span><span class="op" id="8241240">)</span><span class="op" id="8241241">)</span>&nbsp;<span class="comment" id="8241243">//&nbsp;guarantee&nbsp;always&nbsp;same&nbsp;sequence</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241278">data</span>&nbsp;<span class="op" id="8241283">:=</span>&nbsp;<span class="builtinfunc" id="8241286">make</span><span class="op" id="8241290">(</span><span class="op" id="8241291">[</span><span class="op" id="8241292">]</span><span class="builtintype" id="8241293">byte</span><span class="op" id="8241297">,</span>&nbsp;<span class="num" id="8241299">1</span><span class="op" id="8241300">&lt;&lt;</span><span class="num" id="8241302">20</span><span class="op" id="8241304">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8241318">//&nbsp;1MB&nbsp;of&nbsp;data&nbsp;to&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8241343">for</span>&nbsp;<span class="ident" id="8241347">i</span>&nbsp;<span class="op" id="8241349">:=</span>&nbsp;<span class="keyword" id="8241352">range</span>&nbsp;<span class="ident" id="8241358"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241278">data</a></span>&nbsp;<span class="op" id="8241363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241367"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241278">data</a></span><span class="op" id="8241371">[</span><span class="ident" id="8241372"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241347">i</a></span><span class="op" id="8241373">]</span>&nbsp;<span class="op" id="8241375">=</span>&nbsp;<span class="builtintype" id="8241377">byte</span><span class="op" id="8241381">(</span><span class="ident" id="8241382"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241203">r</a></span><span class="op" id="8241383">.</span><span class="ident" id="8241384"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="8241388">(</span><span class="num" id="8241389">256</span><span class="op" id="8241392">)</span><span class="op" id="8241393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8241396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241399">x</span>&nbsp;<span class="op" id="8241401">:=</span>&nbsp;<span class="ident" id="8241404"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095725">New</a></span><span class="op" id="8241407">(</span><span class="ident" id="8241408"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241278">data</a></span><span class="op" id="8241412">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241415">size</span>&nbsp;<span class="op" id="8241420">:=</span>&nbsp;<span class="ident" id="8241423"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8239840">testSaveRestore</a></span><span class="op" id="8241438">(</span><span class="builtintype" id="8241439">nil</span><span class="op" id="8241442">,</span>&nbsp;<span class="builtintype" id="8241444">nil</span><span class="op" id="8241447">,</span>&nbsp;<span class="ident" id="8241449"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241399">x</a></span><span class="op" id="8241450">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8241458">//&nbsp;verify&nbsp;correctness</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241481">buf</span>&nbsp;<span class="op" id="8241485">:=</span>&nbsp;<span class="ident" id="8241488"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8234528">bytes</a></span><span class="op" id="8241493">.</span><span class="ident" id="8241494"><a href="/gostd/bytes/buffer.go.html#1395573">NewBuffer</a></span><span class="op" id="8241503">(</span><span class="builtinfunc" id="8241504">make</span><span class="op" id="8241508">(</span><span class="op" id="8241509">[</span><span class="op" id="8241510">]</span><span class="builtintype" id="8241511">byte</span><span class="op" id="8241515">,</span>&nbsp;<span class="ident" id="8241517"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241415">size</a></span><span class="op" id="8241521">)</span><span class="op" id="8241522">)</span>&nbsp;<span class="comment" id="8241524">//&nbsp;avoid&nbsp;growing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241542"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241171">b</a></span><span class="op" id="8241543">.</span><span class="ident" id="8241544"><a href="/gostd/testing/benchmark.go.html#5452834">SetBytes</a></span><span class="op" id="8241552">(</span><span class="builtintype" id="8241553">int64</span><span class="op" id="8241558">(</span><span class="ident" id="8241559"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241415">size</a></span><span class="op" id="8241563">)</span><span class="op" id="8241564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241567"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241171">b</a></span><span class="op" id="8241568">.</span><span class="ident" id="8241569"><a href="/gostd/testing/benchmark.go.html#5451749">StartTimer</a></span><span class="op" id="8241579">(</span><span class="op" id="8241580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8241583">for</span>&nbsp;<span class="ident" id="8241587">i</span>&nbsp;<span class="op" id="8241589">:=</span>&nbsp;<span class="num" id="8241592">0</span><span class="op" id="8241593">;</span>&nbsp;<span class="ident" id="8241595"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241587">i</a></span>&nbsp;<span class="op" id="8241597">&lt;</span>&nbsp;<span class="ident" id="8241599"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241171">b</a></span><span class="op" id="8241600">.</span><span class="ident" id="8241601"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="8241602">;</span>&nbsp;<span class="ident" id="8241604"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241587">i</a></span><span class="op" id="8241605">++</span>&nbsp;<span class="op" id="8241608">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241612"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241399">x</a></span><span class="op" id="8241613">.</span><span class="ident" id="8241614"><a href="/gostd/index/suffixarray/suffixarray.go.html#6098153">Write</a></span><span class="op" id="8241619">(</span><span class="ident" id="8241620"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241481">buf</a></span><span class="op" id="8241623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8241627">var</span>&nbsp;<span class="ident" id="8241631">y</span>&nbsp;<span class="ident" id="8241633"><a href="/gostd/index/suffixarray/suffixarray.go.html#6095536">Index</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8241641"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241631">y</a></span><span class="op" id="8241642">.</span><span class="ident" id="8241643"><a href="/gostd/index/suffixarray/suffixarray.go.html#6097419">Read</a></span><span class="op" id="8241647">(</span><span class="ident" id="8241648"><a href="/gostd/index/suffixarray/suffixarray_test.go.html#8241481">buf</a></span><span class="op" id="8241651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8241654">}</span><br>
<span class="lineno"></span><span class="op" id="8241656">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
