<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6558266">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6558321">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6558375">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6558426">package</span>&nbsp;<span class="ident" id="6558434">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6558440">import</span>&nbsp;<span class="op" id="6558447">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558450">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558459">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558465">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6558475">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6558478">type</span>&nbsp;<span class="ident" id="6558483">zlibTest</span>&nbsp;<span class="keyword" id="6558492">struct</span>&nbsp;<span class="op" id="6558499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558502">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6558513">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558521">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6558532">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558540">compressed</span>&nbsp;<span class="op" id="6558551">[</span><span class="op" id="6558552">]</span><span class="builtintype" id="6558553">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558559">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6558570">[</span><span class="op" id="6558571">]</span><span class="builtintype" id="6558572">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558578">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6558589">error</span><br>
<span class="lineno"></span><span class="op" id="6558595">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6558598">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6558674">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6558706">var</span>&nbsp;<span class="ident" id="6558710">zlibTests</span>&nbsp;<span class="op" id="6558720">=</span>&nbsp;<span class="op" id="6558722">[</span><span class="op" id="6558723">]</span><span class="ident" id="6558724">zlibTest</span><span class="op" id="6558732">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6558735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558739">&#34;empty&#34;</span><span class="op" id="6558746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558750">&#34;&#34;</span><span class="op" id="6558752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6558756">[</span><span class="op" id="6558757">]</span><span class="builtintype" id="6558758">byte</span><span class="op" id="6558762">{</span><span class="num" id="6558763">0x78</span><span class="op" id="6558767">,</span>&nbsp;<span class="num" id="6558769">0x9c</span><span class="op" id="6558773">,</span>&nbsp;<span class="num" id="6558775">0x03</span><span class="op" id="6558779">,</span>&nbsp;<span class="num" id="6558781">0x00</span><span class="op" id="6558785">,</span>&nbsp;<span class="num" id="6558787">0x00</span><span class="op" id="6558791">,</span>&nbsp;<span class="num" id="6558793">0x00</span><span class="op" id="6558797">,</span>&nbsp;<span class="num" id="6558799">0x00</span><span class="op" id="6558803">,</span>&nbsp;<span class="num" id="6558805">0x01</span><span class="op" id="6558809">}</span><span class="op" id="6558810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558814">nil</span><span class="op" id="6558817">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6558821">nil</span><span class="op" id="6558824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6558827">}</span><span class="op" id="6558828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6558831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558835">&#34;goodbye&#34;</span><span class="op" id="6558844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6558848">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6558864">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6558868">[</span><span class="op" id="6558869">]</span><span class="builtintype" id="6558870">byte</span><span class="op" id="6558874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6558879">0x78</span><span class="op" id="6558883">,</span>&nbsp;<span class="num" id="6558885">0x9c</span><span class="op" id="6558889">,</span>&nbsp;<span class="num" id="6558891">0x4b</span><span class="op" id="6558895">,</span>&nbsp;<span class="num" id="6558897">0xcf</span><span class="op" id="6558901">,</span>&nbsp;<span class="num" id="6558903">0xcf</span><span class="op" id="6558907">,</span>&nbsp;<span class="num" id="6558909">0x4f</span><span class="op" id="6558913">,</span>&nbsp;<span class="num" id="6558915">0x49</span><span class="op" id="6558919">,</span>&nbsp;<span class="num" id="6558921">0xaa</span><span class="op" id="6558925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6558930">0x4c</span><span class="op" id="6558934">,</span>&nbsp;<span class="num" id="6558936">0xd5</span><span class="op" id="6558940">,</span>&nbsp;<span class="num" id="6558942">0x51</span><span class="op" id="6558946">,</span>&nbsp;<span class="num" id="6558948">0x28</span><span class="op" id="6558952">,</span>&nbsp;<span class="num" id="6558954">0xcf</span><span class="op" id="6558958">,</span>&nbsp;<span class="num" id="6558960">0x2f</span><span class="op" id="6558964">,</span>&nbsp;<span class="num" id="6558966">0xca</span><span class="op" id="6558970">,</span>&nbsp;<span class="num" id="6558972">0x49</span><span class="op" id="6558976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6558981">0x01</span><span class="op" id="6558985">,</span>&nbsp;<span class="num" id="6558987">0x00</span><span class="op" id="6558991">,</span>&nbsp;<span class="num" id="6558993">0x28</span><span class="op" id="6558997">,</span>&nbsp;<span class="num" id="6558999">0xa5</span><span class="op" id="6559003">,</span>&nbsp;<span class="num" id="6559005">0x05</span><span class="op" id="6559009">,</span>&nbsp;<span class="num" id="6559011">0x5e</span><span class="op" id="6559015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559019">}</span><span class="op" id="6559020">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559024">nil</span><span class="op" id="6559027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559031">nil</span><span class="op" id="6559034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559037">}</span><span class="op" id="6559038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559045">&#34;bad&nbsp;header&#34;</span><span class="op" id="6559057">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559061">&#34;&#34;</span><span class="op" id="6559063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559067">[</span><span class="op" id="6559068">]</span><span class="builtintype" id="6559069">byte</span><span class="op" id="6559073">{</span><span class="num" id="6559074">0x78</span><span class="op" id="6559078">,</span>&nbsp;<span class="num" id="6559080">0x9f</span><span class="op" id="6559084">,</span>&nbsp;<span class="num" id="6559086">0x03</span><span class="op" id="6559090">,</span>&nbsp;<span class="num" id="6559092">0x00</span><span class="op" id="6559096">,</span>&nbsp;<span class="num" id="6559098">0x00</span><span class="op" id="6559102">,</span>&nbsp;<span class="num" id="6559104">0x00</span><span class="op" id="6559108">,</span>&nbsp;<span class="num" id="6559110">0x00</span><span class="op" id="6559114">,</span>&nbsp;<span class="num" id="6559116">0x01</span><span class="op" id="6559120">}</span><span class="op" id="6559121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559125">nil</span><span class="op" id="6559128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559132">ErrHeader</span><span class="op" id="6559141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559144">}</span><span class="op" id="6559145">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559152">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="6559166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559170">&#34;&#34;</span><span class="op" id="6559172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559176">[</span><span class="op" id="6559177">]</span><span class="builtintype" id="6559178">byte</span><span class="op" id="6559182">{</span><span class="num" id="6559183">0x78</span><span class="op" id="6559187">,</span>&nbsp;<span class="num" id="6559189">0x9c</span><span class="op" id="6559193">,</span>&nbsp;<span class="num" id="6559195">0x03</span><span class="op" id="6559199">,</span>&nbsp;<span class="num" id="6559201">0x00</span><span class="op" id="6559205">,</span>&nbsp;<span class="num" id="6559207">0x00</span><span class="op" id="6559211">,</span>&nbsp;<span class="num" id="6559213">0x00</span><span class="op" id="6559217">,</span>&nbsp;<span class="num" id="6559219">0x00</span><span class="op" id="6559223">,</span>&nbsp;<span class="num" id="6559225">0xff</span><span class="op" id="6559229">}</span><span class="op" id="6559230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559234">nil</span><span class="op" id="6559237">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559241">ErrChecksum</span><span class="op" id="6559252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559255">}</span><span class="op" id="6559256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559263">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="6559280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559284">&#34;&#34;</span><span class="op" id="6559286">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559290">[</span><span class="op" id="6559291">]</span><span class="builtintype" id="6559292">byte</span><span class="op" id="6559296">{</span><span class="num" id="6559297">0x78</span><span class="op" id="6559301">,</span>&nbsp;<span class="num" id="6559303">0x9c</span><span class="op" id="6559307">,</span>&nbsp;<span class="num" id="6559309">0x03</span><span class="op" id="6559313">,</span>&nbsp;<span class="num" id="6559315">0x00</span><span class="op" id="6559319">,</span>&nbsp;<span class="num" id="6559321">0x00</span><span class="op" id="6559325">,</span>&nbsp;<span class="num" id="6559327">0x00</span><span class="op" id="6559331">}</span><span class="op" id="6559332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559336">nil</span><span class="op" id="6559339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559343">io</span><span class="op" id="6559345">.</span><span class="ident" id="6559346">ErrUnexpectedEOF</span><span class="op" id="6559362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559365">}</span><span class="op" id="6559366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559369">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559373">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="6559406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559410">&#34;&#34;</span><span class="op" id="6559412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559416">[</span><span class="op" id="6559417">]</span><span class="builtintype" id="6559418">byte</span><span class="op" id="6559422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559427">0x78</span><span class="op" id="6559431">,</span>&nbsp;<span class="num" id="6559433">0x9c</span><span class="op" id="6559437">,</span>&nbsp;<span class="num" id="6559439">0x03</span><span class="op" id="6559443">,</span>&nbsp;<span class="num" id="6559445">0x00</span><span class="op" id="6559449">,</span>&nbsp;<span class="num" id="6559451">0x00</span><span class="op" id="6559455">,</span>&nbsp;<span class="num" id="6559457">0x00</span><span class="op" id="6559461">,</span>&nbsp;<span class="num" id="6559463">0x00</span><span class="op" id="6559467">,</span>&nbsp;<span class="num" id="6559469">0x01</span><span class="op" id="6559473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559478">0x78</span><span class="op" id="6559482">,</span>&nbsp;<span class="num" id="6559484">0x9c</span><span class="op" id="6559488">,</span>&nbsp;<span class="num" id="6559490">0xff</span><span class="op" id="6559494">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559498">}</span><span class="op" id="6559499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559503">nil</span><span class="op" id="6559506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559510">nil</span><span class="op" id="6559513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559516">}</span><span class="op" id="6559517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559520">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559524">&#34;dictionary&#34;</span><span class="op" id="6559536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559540">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="6559557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559561">[</span><span class="op" id="6559562">]</span><span class="builtintype" id="6559563">byte</span><span class="op" id="6559567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559572">0x78</span><span class="op" id="6559576">,</span>&nbsp;<span class="num" id="6559578">0xbb</span><span class="op" id="6559582">,</span>&nbsp;<span class="num" id="6559584">0x1c</span><span class="op" id="6559588">,</span>&nbsp;<span class="num" id="6559590">0x32</span><span class="op" id="6559594">,</span>&nbsp;<span class="num" id="6559596">0x04</span><span class="op" id="6559600">,</span>&nbsp;<span class="num" id="6559602">0x27</span><span class="op" id="6559606">,</span>&nbsp;<span class="num" id="6559608">0xf3</span><span class="op" id="6559612">,</span>&nbsp;<span class="num" id="6559614">0x00</span><span class="op" id="6559618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559623">0xb1</span><span class="op" id="6559627">,</span>&nbsp;<span class="num" id="6559629">0x75</span><span class="op" id="6559633">,</span>&nbsp;<span class="num" id="6559635">0x20</span><span class="op" id="6559639">,</span>&nbsp;<span class="num" id="6559641">0x1c</span><span class="op" id="6559645">,</span>&nbsp;<span class="num" id="6559647">0x45</span><span class="op" id="6559651">,</span>&nbsp;<span class="num" id="6559653">0x2e</span><span class="op" id="6559657">,</span>&nbsp;<span class="num" id="6559659">0x00</span><span class="op" id="6559663">,</span>&nbsp;<span class="num" id="6559665">0x24</span><span class="op" id="6559669">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559674">0x12</span><span class="op" id="6559678">,</span>&nbsp;<span class="num" id="6559680">0x04</span><span class="op" id="6559684">,</span>&nbsp;<span class="num" id="6559686">0x74</span><span class="op" id="6559690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559694">}</span><span class="op" id="6559695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559699">[</span><span class="op" id="6559700">]</span><span class="builtintype" id="6559701">byte</span><span class="op" id="6559705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559710">0x48</span><span class="op" id="6559714">,</span>&nbsp;<span class="num" id="6559716">0x65</span><span class="op" id="6559720">,</span>&nbsp;<span class="num" id="6559722">0x6c</span><span class="op" id="6559726">,</span>&nbsp;<span class="num" id="6559728">0x6c</span><span class="op" id="6559732">,</span>&nbsp;<span class="num" id="6559734">0x6f</span><span class="op" id="6559738">,</span>&nbsp;<span class="num" id="6559740">0x20</span><span class="op" id="6559744">,</span>&nbsp;<span class="num" id="6559746">0x57</span><span class="op" id="6559750">,</span>&nbsp;<span class="num" id="6559752">0x6f</span><span class="op" id="6559756">,</span>&nbsp;<span class="num" id="6559758">0x72</span><span class="op" id="6559762">,</span>&nbsp;<span class="num" id="6559764">0x6c</span><span class="op" id="6559768">,</span>&nbsp;<span class="num" id="6559770">0x64</span><span class="op" id="6559774">,</span>&nbsp;<span class="num" id="6559776">0x0a</span><span class="op" id="6559780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559784">}</span><span class="op" id="6559785">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6559789">nil</span><span class="op" id="6559792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559795">}</span><span class="op" id="6559796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559803">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="6559821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6559825">&#34;&#34;</span><span class="op" id="6559827">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559831">[</span><span class="op" id="6559832">]</span><span class="builtintype" id="6559833">byte</span><span class="op" id="6559837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559842">0x78</span><span class="op" id="6559846">,</span>&nbsp;<span class="num" id="6559848">0xbb</span><span class="op" id="6559852">,</span>&nbsp;<span class="num" id="6559854">0x1c</span><span class="op" id="6559858">,</span>&nbsp;<span class="num" id="6559860">0x32</span><span class="op" id="6559864">,</span>&nbsp;<span class="num" id="6559866">0x04</span><span class="op" id="6559870">,</span>&nbsp;<span class="num" id="6559872">0x27</span><span class="op" id="6559876">,</span>&nbsp;<span class="num" id="6559878">0xf3</span><span class="op" id="6559882">,</span>&nbsp;<span class="num" id="6559884">0x00</span><span class="op" id="6559888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559893">0xb1</span><span class="op" id="6559897">,</span>&nbsp;<span class="num" id="6559899">0x75</span><span class="op" id="6559903">,</span>&nbsp;<span class="num" id="6559905">0x20</span><span class="op" id="6559909">,</span>&nbsp;<span class="num" id="6559911">0x1c</span><span class="op" id="6559915">,</span>&nbsp;<span class="num" id="6559917">0x45</span><span class="op" id="6559921">,</span>&nbsp;<span class="num" id="6559923">0x2e</span><span class="op" id="6559927">,</span>&nbsp;<span class="num" id="6559929">0x00</span><span class="op" id="6559933">,</span>&nbsp;<span class="num" id="6559935">0x24</span><span class="op" id="6559939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559944">0x12</span><span class="op" id="6559948">,</span>&nbsp;<span class="num" id="6559950">0x04</span><span class="op" id="6559954">,</span>&nbsp;<span class="num" id="6559956">0x74</span><span class="op" id="6559960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559964">}</span><span class="op" id="6559965">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6559969">[</span><span class="op" id="6559970">]</span><span class="builtintype" id="6559971">byte</span><span class="op" id="6559975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6559980">0x48</span><span class="op" id="6559984">,</span>&nbsp;<span class="num" id="6559986">0x65</span><span class="op" id="6559990">,</span>&nbsp;<span class="num" id="6559992">0x6c</span><span class="op" id="6559996">,</span>&nbsp;<span class="num" id="6559998">0x6c</span><span class="op" id="6560002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560006">}</span><span class="op" id="6560007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560011">ErrDictionary</span><span class="op" id="6560024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560027">}</span><span class="op" id="6560028">,</span><br>
<span class="lineno">100</span><span class="op" id="6560030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6560033">func</span>&nbsp;<span class="ident" id="6560038">TestDecompressor</span><span class="op" id="6560054">(</span><span class="ident" id="6560055">t</span>&nbsp;<span class="op" id="6560057">*</span><span class="ident" id="6560058">testing</span><span class="op" id="6560065">.</span><span class="ident" id="6560066">T</span><span class="op" id="6560067">)</span>&nbsp;<span class="op" id="6560069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560072">b</span>&nbsp;<span class="op" id="6560074">:=</span>&nbsp;<span class="builtinfunc" id="6560077">new</span><span class="op" id="6560080">(</span><span class="ident" id="6560081">bytes</span><span class="op" id="6560086">.</span><span class="ident" id="6560087">Buffer</span><span class="op" id="6560093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560096">for</span>&nbsp;<span class="ident" id="6560100">_</span><span class="op" id="6560101">,</span>&nbsp;<span class="ident" id="6560103">tt</span>&nbsp;<span class="op" id="6560106">:=</span>&nbsp;<span class="keyword" id="6560109">range</span>&nbsp;<span class="ident" id="6560115">zlibTests</span>&nbsp;<span class="op" id="6560125">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560129">in</span>&nbsp;<span class="op" id="6560132">:=</span>&nbsp;<span class="ident" id="6560135">bytes</span><span class="op" id="6560140">.</span><span class="ident" id="6560141">NewReader</span><span class="op" id="6560150">(</span><span class="ident" id="6560151">tt</span><span class="op" id="6560153">.</span><span class="ident" id="6560154">compressed</span><span class="op" id="6560164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560168">zlib</span><span class="op" id="6560172">,</span>&nbsp;<span class="ident" id="6560174">err</span>&nbsp;<span class="op" id="6560178">:=</span>&nbsp;<span class="ident" id="6560181">NewReaderDict</span><span class="op" id="6560194">(</span><span class="ident" id="6560195">in</span><span class="op" id="6560197">,</span>&nbsp;<span class="ident" id="6560199">tt</span><span class="op" id="6560201">.</span><span class="ident" id="6560202">dict</span><span class="op" id="6560206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560210">if</span>&nbsp;<span class="ident" id="6560213">err</span>&nbsp;<span class="op" id="6560217">!=</span>&nbsp;<span class="ident" id="6560220">nil</span>&nbsp;<span class="op" id="6560224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560229">if</span>&nbsp;<span class="ident" id="6560232">err</span>&nbsp;<span class="op" id="6560236">!=</span>&nbsp;<span class="ident" id="6560239">tt</span><span class="op" id="6560241">.</span><span class="ident" id="6560242">err</span>&nbsp;<span class="op" id="6560246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560252">t</span><span class="op" id="6560253">.</span><span class="ident" id="6560254">Errorf</span><span class="op" id="6560260">(</span><span class="string" id="6560261">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="6560280">,</span>&nbsp;<span class="ident" id="6560282">tt</span><span class="op" id="6560284">.</span><span class="ident" id="6560285">desc</span><span class="op" id="6560289">,</span>&nbsp;<span class="ident" id="6560291">err</span><span class="op" id="6560294">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560304">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560319">defer</span>&nbsp;<span class="ident" id="6560325">zlib</span><span class="op" id="6560329">.</span><span class="ident" id="6560330">Close</span><span class="op" id="6560335">(</span><span class="op" id="6560336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560340">b</span><span class="op" id="6560341">.</span><span class="ident" id="6560342">Reset</span><span class="op" id="6560347">(</span><span class="op" id="6560348">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560352">n</span><span class="op" id="6560353">,</span>&nbsp;<span class="ident" id="6560355">err</span>&nbsp;<span class="op" id="6560359">:=</span>&nbsp;<span class="ident" id="6560362">io</span><span class="op" id="6560364">.</span><span class="ident" id="6560365">Copy</span><span class="op" id="6560369">(</span><span class="ident" id="6560370">b</span><span class="op" id="6560371">,</span>&nbsp;<span class="ident" id="6560373">zlib</span><span class="op" id="6560377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560381">if</span>&nbsp;<span class="ident" id="6560384">err</span>&nbsp;<span class="op" id="6560388">!=</span>&nbsp;<span class="ident" id="6560391">nil</span>&nbsp;<span class="op" id="6560395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560400">if</span>&nbsp;<span class="ident" id="6560403">err</span>&nbsp;<span class="op" id="6560407">!=</span>&nbsp;<span class="ident" id="6560410">tt</span><span class="op" id="6560412">.</span><span class="ident" id="6560413">err</span>&nbsp;<span class="op" id="6560417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560423">t</span><span class="op" id="6560424">.</span><span class="ident" id="6560425">Errorf</span><span class="op" id="6560431">(</span><span class="string" id="6560432">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6560457">,</span>&nbsp;<span class="ident" id="6560459">tt</span><span class="op" id="6560461">.</span><span class="ident" id="6560462">desc</span><span class="op" id="6560466">,</span>&nbsp;<span class="ident" id="6560468">err</span><span class="op" id="6560471">,</span>&nbsp;<span class="ident" id="6560473">tt</span><span class="op" id="6560475">.</span><span class="ident" id="6560476">err</span><span class="op" id="6560479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560484">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560489">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560504">s</span>&nbsp;<span class="op" id="6560506">:=</span>&nbsp;<span class="ident" id="6560509">b</span><span class="op" id="6560510">.</span><span class="ident" id="6560511">String</span><span class="op" id="6560517">(</span><span class="op" id="6560518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6560522">if</span>&nbsp;<span class="ident" id="6560525">s</span>&nbsp;<span class="op" id="6560527">!=</span>&nbsp;<span class="ident" id="6560530">tt</span><span class="op" id="6560532">.</span><span class="ident" id="6560533">raw</span>&nbsp;<span class="op" id="6560537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6560542">t</span><span class="op" id="6560543">.</span><span class="ident" id="6560544">Errorf</span><span class="op" id="6560550">(</span><span class="string" id="6560551">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="6560587">,</span>&nbsp;<span class="ident" id="6560589">tt</span><span class="op" id="6560591">.</span><span class="ident" id="6560592">desc</span><span class="op" id="6560596">,</span>&nbsp;<span class="ident" id="6560598">n</span><span class="op" id="6560599">,</span>&nbsp;<span class="ident" id="6560601">s</span><span class="op" id="6560602">,</span>&nbsp;<span class="builtinfunc" id="6560604">len</span><span class="op" id="6560607">(</span><span class="ident" id="6560608">tt</span><span class="op" id="6560610">.</span><span class="ident" id="6560611">raw</span><span class="op" id="6560614">)</span><span class="op" id="6560615">,</span>&nbsp;<span class="ident" id="6560617">tt</span><span class="op" id="6560619">.</span><span class="ident" id="6560620">raw</span><span class="op" id="6560623">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6560630">}</span><br>
<span class="lineno"></span><span class="op" id="6560632">}</span>
</div>
</body>
</html>
