<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1804281">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1804336">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1804390">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1804441">package</span>&nbsp;<span class="ident" id="1804449">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1804458">import</span>&nbsp;<span class="string" id="1804465">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1804475">const</span>&nbsp;<span class="op" id="1804481">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804484">c0</span>&nbsp;<span class="op" id="1804487">=</span>&nbsp;<span class="builtintype" id="1804489">uintptr</span><span class="op" id="1804496">(</span><span class="op" id="1804497">(</span><span class="num" id="1804498">8</span><span class="op" id="1804499">-</span><span class="ident" id="1804500">ptrSize</span><span class="op" id="1804507">)</span><span class="op" id="1804508">/</span><span class="num" id="1804509">4</span><span class="op" id="1804510">*</span><span class="num" id="1804511">2860486313</span>&nbsp;<span class="op" id="1804522">+</span>&nbsp;<span class="op" id="1804524">(</span><span class="ident" id="1804525">ptrSize</span><span class="op" id="1804532">-</span><span class="num" id="1804533">4</span><span class="op" id="1804534">)</span><span class="op" id="1804535">/</span><span class="num" id="1804536">4</span><span class="op" id="1804537">*</span><span class="num" id="1804538">33054211828000289</span><span class="op" id="1804555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804558">c1</span>&nbsp;<span class="op" id="1804561">=</span>&nbsp;<span class="builtintype" id="1804563">uintptr</span><span class="op" id="1804570">(</span><span class="op" id="1804571">(</span><span class="num" id="1804572">8</span><span class="op" id="1804573">-</span><span class="ident" id="1804574">ptrSize</span><span class="op" id="1804581">)</span><span class="op" id="1804582">/</span><span class="num" id="1804583">4</span><span class="op" id="1804584">*</span><span class="num" id="1804585">3267000013</span>&nbsp;<span class="op" id="1804596">+</span>&nbsp;<span class="op" id="1804598">(</span><span class="ident" id="1804599">ptrSize</span><span class="op" id="1804606">-</span><span class="num" id="1804607">4</span><span class="op" id="1804608">)</span><span class="op" id="1804609">/</span><span class="num" id="1804610">4</span><span class="op" id="1804611">*</span><span class="num" id="1804612">23344194077549503</span><span class="op" id="1804629">)</span><br>
<span class="lineno"></span><span class="op" id="1804631">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1804634">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1804673">const</span>&nbsp;<span class="op" id="1804679">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804682">alg_MEM</span>&nbsp;<span class="op" id="1804690">=</span>&nbsp;<span class="ident" id="1804692">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804698">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804708">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804718">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804729">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804740">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804751">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804763">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804773">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804784">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804795">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804807">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804819">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804831">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804844">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804856">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804867">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804881">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804892">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804905">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804918">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804930">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804943">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1804951">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1804954">type</span>&nbsp;<span class="ident" id="1804959">typeAlg</span>&nbsp;<span class="keyword" id="1804967">struct</span>&nbsp;<span class="op" id="1804974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1804977">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1805023">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805063">hash</span>&nbsp;<span class="keyword" id="1805068">func</span><span class="op" id="1805072">(</span><span class="ident" id="1805073">unsafe</span><span class="op" id="1805079">.</span><span class="ident" id="1805080">Pointer</span><span class="op" id="1805087">,</span>&nbsp;<span class="builtintype" id="1805089">uintptr</span><span class="op" id="1805096">,</span>&nbsp;<span class="builtintype" id="1805098">uintptr</span><span class="op" id="1805105">)</span>&nbsp;<span class="builtintype" id="1805107">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1805116">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1805164">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805216">equal</span>&nbsp;<span class="keyword" id="1805222">func</span><span class="op" id="1805226">(</span><span class="ident" id="1805227">unsafe</span><span class="op" id="1805233">.</span><span class="ident" id="1805234">Pointer</span><span class="op" id="1805241">,</span>&nbsp;<span class="ident" id="1805243">unsafe</span><span class="op" id="1805249">.</span><span class="ident" id="1805250">Pointer</span><span class="op" id="1805257">,</span>&nbsp;<span class="builtintype" id="1805259">uintptr</span><span class="op" id="1805266">)</span>&nbsp;<span class="builtintype" id="1805268">bool</span><br>
<span class="lineno"></span><span class="op" id="1805273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1805276">var</span>&nbsp;<span class="ident" id="1805280">algarray</span>&nbsp;<span class="op" id="1805289">=</span>&nbsp;<span class="op" id="1805291">[</span><span class="ident" id="1805292">alg_max</span><span class="op" id="1805299">]</span><span class="ident" id="1805300">typeAlg</span><span class="op" id="1805307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805310">alg_MEM</span><span class="op" id="1805317">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805324">{</span><span class="ident" id="1805325">memhash</span><span class="op" id="1805332">,</span>&nbsp;<span class="ident" id="1805334">memequal</span><span class="op" id="1805342">}</span><span class="op" id="1805343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805346">alg_MEM0</span><span class="op" id="1805354">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805360">{</span><span class="ident" id="1805361">memhash</span><span class="op" id="1805368">,</span>&nbsp;<span class="ident" id="1805370">memequal0</span><span class="op" id="1805379">}</span><span class="op" id="1805380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805383">alg_MEM8</span><span class="op" id="1805391">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805397">{</span><span class="ident" id="1805398">memhash</span><span class="op" id="1805405">,</span>&nbsp;<span class="ident" id="1805407">memequal8</span><span class="op" id="1805416">}</span><span class="op" id="1805417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805420">alg_MEM16</span><span class="op" id="1805429">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805434">{</span><span class="ident" id="1805435">memhash</span><span class="op" id="1805442">,</span>&nbsp;<span class="ident" id="1805444">memequal16</span><span class="op" id="1805454">}</span><span class="op" id="1805455">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805458">alg_MEM32</span><span class="op" id="1805467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805472">{</span><span class="ident" id="1805473">memhash</span><span class="op" id="1805480">,</span>&nbsp;<span class="ident" id="1805482">memequal32</span><span class="op" id="1805492">}</span><span class="op" id="1805493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805496">alg_MEM64</span><span class="op" id="1805505">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805510">{</span><span class="ident" id="1805511">memhash</span><span class="op" id="1805518">,</span>&nbsp;<span class="ident" id="1805520">memequal64</span><span class="op" id="1805530">}</span><span class="op" id="1805531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805534">alg_MEM128</span><span class="op" id="1805544">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805548">{</span><span class="ident" id="1805549">memhash</span><span class="op" id="1805556">,</span>&nbsp;<span class="ident" id="1805558">memequal128</span><span class="op" id="1805569">}</span><span class="op" id="1805570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805573">alg_NOEQ</span><span class="op" id="1805581">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805587">{</span><span class="ident" id="1805588">nil</span><span class="op" id="1805591">,</span>&nbsp;<span class="ident" id="1805593">nil</span><span class="op" id="1805596">}</span><span class="op" id="1805597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805600">alg_NOEQ0</span><span class="op" id="1805609">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805614">{</span><span class="ident" id="1805615">nil</span><span class="op" id="1805618">,</span>&nbsp;<span class="ident" id="1805620">nil</span><span class="op" id="1805623">}</span><span class="op" id="1805624">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805627">alg_NOEQ8</span><span class="op" id="1805636">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805641">{</span><span class="ident" id="1805642">nil</span><span class="op" id="1805645">,</span>&nbsp;<span class="ident" id="1805647">nil</span><span class="op" id="1805650">}</span><span class="op" id="1805651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805654">alg_NOEQ16</span><span class="op" id="1805664">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805668">{</span><span class="ident" id="1805669">nil</span><span class="op" id="1805672">,</span>&nbsp;<span class="ident" id="1805674">nil</span><span class="op" id="1805677">}</span><span class="op" id="1805678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805681">alg_NOEQ32</span><span class="op" id="1805691">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805695">{</span><span class="ident" id="1805696">nil</span><span class="op" id="1805699">,</span>&nbsp;<span class="ident" id="1805701">nil</span><span class="op" id="1805704">}</span><span class="op" id="1805705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805708">alg_NOEQ64</span><span class="op" id="1805718">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805722">{</span><span class="ident" id="1805723">nil</span><span class="op" id="1805726">,</span>&nbsp;<span class="ident" id="1805728">nil</span><span class="op" id="1805731">}</span><span class="op" id="1805732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805735">alg_NOEQ128</span><span class="op" id="1805746">:</span>&nbsp;&nbsp;<span class="op" id="1805749">{</span><span class="ident" id="1805750">nil</span><span class="op" id="1805753">,</span>&nbsp;<span class="ident" id="1805755">nil</span><span class="op" id="1805758">}</span><span class="op" id="1805759">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805762">alg_STRING</span><span class="op" id="1805772">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805776">{</span><span class="ident" id="1805777">strhash</span><span class="op" id="1805784">,</span>&nbsp;<span class="ident" id="1805786">strequal</span><span class="op" id="1805794">}</span><span class="op" id="1805795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805798">alg_INTER</span><span class="op" id="1805807">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805812">{</span><span class="ident" id="1805813">interhash</span><span class="op" id="1805822">,</span>&nbsp;<span class="ident" id="1805824">interequal</span><span class="op" id="1805834">}</span><span class="op" id="1805835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805838">alg_NILINTER</span><span class="op" id="1805850">:</span>&nbsp;<span class="op" id="1805852">{</span><span class="ident" id="1805853">nilinterhash</span><span class="op" id="1805865">,</span>&nbsp;<span class="ident" id="1805867">nilinterequal</span><span class="op" id="1805880">}</span><span class="op" id="1805881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805884">alg_SLICE</span><span class="op" id="1805893">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1805898">{</span><span class="ident" id="1805899">nil</span><span class="op" id="1805902">,</span>&nbsp;<span class="ident" id="1805904">nil</span><span class="op" id="1805907">}</span><span class="op" id="1805908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805911">alg_FLOAT32</span><span class="op" id="1805922">:</span>&nbsp;&nbsp;<span class="op" id="1805925">{</span><span class="ident" id="1805926">f32hash</span><span class="op" id="1805933">,</span>&nbsp;<span class="ident" id="1805935">f32equal</span><span class="op" id="1805943">}</span><span class="op" id="1805944">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805947">alg_FLOAT64</span><span class="op" id="1805958">:</span>&nbsp;&nbsp;<span class="op" id="1805961">{</span><span class="ident" id="1805962">f64hash</span><span class="op" id="1805969">,</span>&nbsp;<span class="ident" id="1805971">f64equal</span><span class="op" id="1805979">}</span><span class="op" id="1805980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805983">alg_CPLX64</span><span class="op" id="1805993">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1805997">{</span><span class="ident" id="1805998">c64hash</span><span class="op" id="1806005">,</span>&nbsp;<span class="ident" id="1806007">c64equal</span><span class="op" id="1806015">}</span><span class="op" id="1806016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806019">alg_CPLX128</span><span class="op" id="1806030">:</span>&nbsp;&nbsp;<span class="op" id="1806033">{</span><span class="ident" id="1806034">c128hash</span><span class="op" id="1806042">,</span>&nbsp;<span class="ident" id="1806044">c128equal</span><span class="op" id="1806053">}</span><span class="op" id="1806054">,</span><br>
<span class="lineno"></span><span class="op" id="1806056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1806059">const</span>&nbsp;<span class="ident" id="1806065">nacl</span>&nbsp;<span class="op" id="1806070">=</span>&nbsp;<span class="ident" id="1806072">GOOS</span>&nbsp;<span class="op" id="1806077">==</span>&nbsp;<span class="string" id="1806080">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1806088">var</span>&nbsp;<span class="ident" id="1806092">useAeshash</span>&nbsp;<span class="builtintype" id="1806103">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1806109">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1806123">func</span>&nbsp;<span class="ident" id="1806128">aeshash</span><span class="op" id="1806135">(</span><span class="ident" id="1806136">p</span>&nbsp;<span class="ident" id="1806138">unsafe</span><span class="op" id="1806144">.</span><span class="ident" id="1806145">Pointer</span><span class="op" id="1806152">,</span>&nbsp;<span class="ident" id="1806154">s</span><span class="op" id="1806155">,</span>&nbsp;<span class="ident" id="1806157">h</span>&nbsp;<span class="builtintype" id="1806159">uintptr</span><span class="op" id="1806166">)</span>&nbsp;<span class="builtintype" id="1806168">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1806176">func</span>&nbsp;<span class="ident" id="1806181">aeshash32</span><span class="op" id="1806190">(</span><span class="ident" id="1806191">p</span>&nbsp;<span class="ident" id="1806193">unsafe</span><span class="op" id="1806199">.</span><span class="ident" id="1806200">Pointer</span><span class="op" id="1806207">,</span>&nbsp;<span class="ident" id="1806209">s</span><span class="op" id="1806210">,</span>&nbsp;<span class="ident" id="1806212">h</span>&nbsp;<span class="builtintype" id="1806214">uintptr</span><span class="op" id="1806221">)</span>&nbsp;<span class="builtintype" id="1806223">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1806231">func</span>&nbsp;<span class="ident" id="1806236">aeshash64</span><span class="op" id="1806245">(</span><span class="ident" id="1806246">p</span>&nbsp;<span class="ident" id="1806248">unsafe</span><span class="op" id="1806254">.</span><span class="ident" id="1806255">Pointer</span><span class="op" id="1806262">,</span>&nbsp;<span class="ident" id="1806264">s</span><span class="op" id="1806265">,</span>&nbsp;<span class="ident" id="1806267">h</span>&nbsp;<span class="builtintype" id="1806269">uintptr</span><span class="op" id="1806276">)</span>&nbsp;<span class="builtintype" id="1806278">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1806286">func</span>&nbsp;<span class="ident" id="1806291">aeshashstr</span><span class="op" id="1806301">(</span><span class="ident" id="1806302">p</span>&nbsp;<span class="ident" id="1806304">unsafe</span><span class="op" id="1806310">.</span><span class="ident" id="1806311">Pointer</span><span class="op" id="1806318">,</span>&nbsp;<span class="ident" id="1806320">s</span><span class="op" id="1806321">,</span>&nbsp;<span class="ident" id="1806323">h</span>&nbsp;<span class="builtintype" id="1806325">uintptr</span><span class="op" id="1806332">)</span>&nbsp;<span class="builtintype" id="1806334">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1806343">func</span>&nbsp;<span class="ident" id="1806348">memhash</span><span class="op" id="1806355">(</span><span class="ident" id="1806356">p</span>&nbsp;<span class="ident" id="1806358">unsafe</span><span class="op" id="1806364">.</span><span class="ident" id="1806365">Pointer</span><span class="op" id="1806372">,</span>&nbsp;<span class="ident" id="1806374">s</span><span class="op" id="1806375">,</span>&nbsp;<span class="ident" id="1806377">h</span>&nbsp;<span class="builtintype" id="1806379">uintptr</span><span class="op" id="1806386">)</span>&nbsp;<span class="builtintype" id="1806388">uintptr</span>&nbsp;<span class="op" id="1806396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806399">if</span>&nbsp;<span class="op" id="1806402">!</span><span class="ident" id="1806403">nacl</span>&nbsp;<span class="op" id="1806408">&amp;&amp;</span>&nbsp;<span class="ident" id="1806411">useAeshash</span>&nbsp;<span class="op" id="1806422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806426">return</span>&nbsp;<span class="ident" id="1806433">aeshash</span><span class="op" id="1806440">(</span><span class="ident" id="1806441">p</span><span class="op" id="1806442">,</span>&nbsp;<span class="ident" id="1806444">s</span><span class="op" id="1806445">,</span>&nbsp;<span class="ident" id="1806447">h</span><span class="op" id="1806448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806455">h</span>&nbsp;<span class="op" id="1806457">^=</span>&nbsp;<span class="ident" id="1806460">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806464">for</span>&nbsp;<span class="ident" id="1806468">s</span>&nbsp;<span class="op" id="1806470">&gt;</span>&nbsp;<span class="num" id="1806472">0</span>&nbsp;<span class="op" id="1806474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806478">h</span>&nbsp;<span class="op" id="1806480">=</span>&nbsp;<span class="op" id="1806482">(</span><span class="ident" id="1806483">h</span>&nbsp;<span class="op" id="1806485">^</span>&nbsp;<span class="builtintype" id="1806487">uintptr</span><span class="op" id="1806494">(</span><span class="op" id="1806495">*</span><span class="op" id="1806496">(</span><span class="op" id="1806497">*</span><span class="builtintype" id="1806498">byte</span><span class="op" id="1806502">)</span><span class="op" id="1806503">(</span><span class="ident" id="1806504">p</span><span class="op" id="1806505">)</span><span class="op" id="1806506">)</span><span class="op" id="1806507">)</span>&nbsp;<span class="op" id="1806509">*</span>&nbsp;<span class="ident" id="1806511">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806516">p</span>&nbsp;<span class="op" id="1806518">=</span>&nbsp;<span class="ident" id="1806520">add</span><span class="op" id="1806523">(</span><span class="ident" id="1806524">p</span><span class="op" id="1806525">,</span>&nbsp;<span class="num" id="1806527">1</span><span class="op" id="1806528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806532">s</span><span class="op" id="1806533">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806540">return</span>&nbsp;<span class="ident" id="1806547">h</span><br>
<span class="lineno"></span><span class="op" id="1806549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1806552">func</span>&nbsp;<span class="ident" id="1806557">strhash</span><span class="op" id="1806564">(</span><span class="ident" id="1806565">a</span>&nbsp;<span class="ident" id="1806567">unsafe</span><span class="op" id="1806573">.</span><span class="ident" id="1806574">Pointer</span><span class="op" id="1806581">,</span>&nbsp;<span class="ident" id="1806583">s</span><span class="op" id="1806584">,</span>&nbsp;<span class="ident" id="1806586">h</span>&nbsp;<span class="builtintype" id="1806588">uintptr</span><span class="op" id="1806595">)</span>&nbsp;<span class="builtintype" id="1806597">uintptr</span>&nbsp;<span class="op" id="1806605">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806608">return</span>&nbsp;<span class="ident" id="1806615">memhash</span><span class="op" id="1806622">(</span><span class="op" id="1806623">(</span><span class="op" id="1806624">*</span><span class="ident" id="1806625">stringStruct</span><span class="op" id="1806637">)</span><span class="op" id="1806638">(</span><span class="ident" id="1806639">a</span><span class="op" id="1806640">)</span><span class="op" id="1806641">.</span><span class="ident" id="1806642">str</span><span class="op" id="1806645">,</span>&nbsp;<span class="builtintype" id="1806647">uintptr</span><span class="op" id="1806654">(</span><span class="builtinfunc" id="1806655">len</span><span class="op" id="1806658">(</span><span class="op" id="1806659">*</span><span class="op" id="1806660">(</span><span class="op" id="1806661">*</span><span class="builtintype" id="1806662">string</span><span class="op" id="1806668">)</span><span class="op" id="1806669">(</span><span class="ident" id="1806670">a</span><span class="op" id="1806671">)</span><span class="op" id="1806672">)</span><span class="op" id="1806673">)</span><span class="op" id="1806674">,</span>&nbsp;<span class="ident" id="1806676">h</span><span class="op" id="1806677">)</span><br>
<span class="lineno"></span><span class="op" id="1806679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1806682">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1806733">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1806788">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1806844">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1806877">func</span>&nbsp;<span class="ident" id="1806882">f32hash</span><span class="op" id="1806889">(</span><span class="ident" id="1806890">p</span>&nbsp;<span class="ident" id="1806892">unsafe</span><span class="op" id="1806898">.</span><span class="ident" id="1806899">Pointer</span><span class="op" id="1806906">,</span>&nbsp;<span class="ident" id="1806908">s</span><span class="op" id="1806909">,</span>&nbsp;<span class="ident" id="1806911">h</span>&nbsp;<span class="builtintype" id="1806913">uintptr</span><span class="op" id="1806920">)</span>&nbsp;<span class="builtintype" id="1806922">uintptr</span>&nbsp;<span class="op" id="1806930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806933">f</span>&nbsp;<span class="op" id="1806935">:=</span>&nbsp;<span class="op" id="1806938">*</span><span class="op" id="1806939">(</span><span class="op" id="1806940">*</span><span class="builtintype" id="1806941">float32</span><span class="op" id="1806948">)</span><span class="op" id="1806949">(</span><span class="ident" id="1806950">p</span><span class="op" id="1806951">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806954">switch</span>&nbsp;<span class="op" id="1806961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806964">case</span>&nbsp;<span class="ident" id="1806969">f</span>&nbsp;<span class="op" id="1806971">==</span>&nbsp;<span class="num" id="1806974">0</span><span class="op" id="1806975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806979">return</span>&nbsp;<span class="ident" id="1806986">c1</span>&nbsp;<span class="op" id="1806989">*</span>&nbsp;<span class="op" id="1806991">(</span><span class="ident" id="1806992">c0</span>&nbsp;<span class="op" id="1806995">^</span>&nbsp;<span class="ident" id="1806997">h</span><span class="op" id="1806998">)</span>&nbsp;<span class="comment" id="1807000">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807011">case</span>&nbsp;<span class="ident" id="1807016">f</span>&nbsp;<span class="op" id="1807018">!=</span>&nbsp;<span class="ident" id="1807021">f</span><span class="op" id="1807022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807026">return</span>&nbsp;<span class="ident" id="1807033">c1</span>&nbsp;<span class="op" id="1807036">*</span>&nbsp;<span class="op" id="1807038">(</span><span class="ident" id="1807039">c0</span>&nbsp;<span class="op" id="1807042">^</span>&nbsp;<span class="ident" id="1807044">h</span>&nbsp;<span class="op" id="1807046">^</span>&nbsp;<span class="builtintype" id="1807048">uintptr</span><span class="op" id="1807055">(</span><span class="ident" id="1807056">fastrand1</span><span class="op" id="1807065">(</span><span class="op" id="1807066">)</span><span class="op" id="1807067">)</span><span class="op" id="1807068">)</span>&nbsp;<span class="comment" id="1807070">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807090">default</span><span class="op" id="1807097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807101">return</span>&nbsp;<span class="ident" id="1807108">memhash</span><span class="op" id="1807115">(</span><span class="ident" id="1807116">p</span><span class="op" id="1807117">,</span>&nbsp;<span class="num" id="1807119">4</span><span class="op" id="1807120">,</span>&nbsp;<span class="ident" id="1807122">h</span><span class="op" id="1807123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807126">}</span><br>
<span class="lineno"></span><span class="op" id="1807128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1807131">func</span>&nbsp;<span class="ident" id="1807136">f64hash</span><span class="op" id="1807143">(</span><span class="ident" id="1807144">p</span>&nbsp;<span class="ident" id="1807146">unsafe</span><span class="op" id="1807152">.</span><span class="ident" id="1807153">Pointer</span><span class="op" id="1807160">,</span>&nbsp;<span class="ident" id="1807162">s</span><span class="op" id="1807163">,</span>&nbsp;<span class="ident" id="1807165">h</span>&nbsp;<span class="builtintype" id="1807167">uintptr</span><span class="op" id="1807174">)</span>&nbsp;<span class="builtintype" id="1807176">uintptr</span>&nbsp;<span class="op" id="1807184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807187">f</span>&nbsp;<span class="op" id="1807189">:=</span>&nbsp;<span class="op" id="1807192">*</span><span class="op" id="1807193">(</span><span class="op" id="1807194">*</span><span class="builtintype" id="1807195">float64</span><span class="op" id="1807202">)</span><span class="op" id="1807203">(</span><span class="ident" id="1807204">p</span><span class="op" id="1807205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807208">switch</span>&nbsp;<span class="op" id="1807215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807218">case</span>&nbsp;<span class="ident" id="1807223">f</span>&nbsp;<span class="op" id="1807225">==</span>&nbsp;<span class="num" id="1807228">0</span><span class="op" id="1807229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807233">return</span>&nbsp;<span class="ident" id="1807240">c1</span>&nbsp;<span class="op" id="1807243">*</span>&nbsp;<span class="op" id="1807245">(</span><span class="ident" id="1807246">c0</span>&nbsp;<span class="op" id="1807249">^</span>&nbsp;<span class="ident" id="1807251">h</span><span class="op" id="1807252">)</span>&nbsp;<span class="comment" id="1807254">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807265">case</span>&nbsp;<span class="ident" id="1807270">f</span>&nbsp;<span class="op" id="1807272">!=</span>&nbsp;<span class="ident" id="1807275">f</span><span class="op" id="1807276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807280">return</span>&nbsp;<span class="ident" id="1807287">c1</span>&nbsp;<span class="op" id="1807290">*</span>&nbsp;<span class="op" id="1807292">(</span><span class="ident" id="1807293">c0</span>&nbsp;<span class="op" id="1807296">^</span>&nbsp;<span class="ident" id="1807298">h</span>&nbsp;<span class="op" id="1807300">^</span>&nbsp;<span class="builtintype" id="1807302">uintptr</span><span class="op" id="1807309">(</span><span class="ident" id="1807310">fastrand1</span><span class="op" id="1807319">(</span><span class="op" id="1807320">)</span><span class="op" id="1807321">)</span><span class="op" id="1807322">)</span>&nbsp;<span class="comment" id="1807324">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807344">default</span><span class="op" id="1807351">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807355">return</span>&nbsp;<span class="ident" id="1807362">memhash</span><span class="op" id="1807369">(</span><span class="ident" id="1807370">p</span><span class="op" id="1807371">,</span>&nbsp;<span class="num" id="1807373">8</span><span class="op" id="1807374">,</span>&nbsp;<span class="ident" id="1807376">h</span><span class="op" id="1807377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807380">}</span><br>
<span class="lineno">130</span><span class="op" id="1807382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1807385">func</span>&nbsp;<span class="ident" id="1807390">c64hash</span><span class="op" id="1807397">(</span><span class="ident" id="1807398">p</span>&nbsp;<span class="ident" id="1807400">unsafe</span><span class="op" id="1807406">.</span><span class="ident" id="1807407">Pointer</span><span class="op" id="1807414">,</span>&nbsp;<span class="ident" id="1807416">s</span><span class="op" id="1807417">,</span>&nbsp;<span class="ident" id="1807419">h</span>&nbsp;<span class="builtintype" id="1807421">uintptr</span><span class="op" id="1807428">)</span>&nbsp;<span class="builtintype" id="1807430">uintptr</span>&nbsp;<span class="op" id="1807438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807441">x</span>&nbsp;<span class="op" id="1807443">:=</span>&nbsp;<span class="op" id="1807446">(</span><span class="op" id="1807447">*</span><span class="op" id="1807448">[</span><span class="num" id="1807449">2</span><span class="op" id="1807450">]</span><span class="builtintype" id="1807451">float32</span><span class="op" id="1807458">)</span><span class="op" id="1807459">(</span><span class="ident" id="1807460">p</span><span class="op" id="1807461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807464">return</span>&nbsp;<span class="ident" id="1807471">f32hash</span><span class="op" id="1807478">(</span><span class="ident" id="1807479">unsafe</span><span class="op" id="1807485">.</span><span class="ident" id="1807486">Pointer</span><span class="op" id="1807493">(</span><span class="op" id="1807494">&amp;</span><span class="ident" id="1807495">x</span><span class="op" id="1807496">[</span><span class="num" id="1807497">1</span><span class="op" id="1807498">]</span><span class="op" id="1807499">)</span><span class="op" id="1807500">,</span>&nbsp;<span class="num" id="1807502">4</span><span class="op" id="1807503">,</span>&nbsp;<span class="ident" id="1807505">f32hash</span><span class="op" id="1807512">(</span><span class="ident" id="1807513">unsafe</span><span class="op" id="1807519">.</span><span class="ident" id="1807520">Pointer</span><span class="op" id="1807527">(</span><span class="op" id="1807528">&amp;</span><span class="ident" id="1807529">x</span><span class="op" id="1807530">[</span><span class="num" id="1807531">0</span><span class="op" id="1807532">]</span><span class="op" id="1807533">)</span><span class="op" id="1807534">,</span>&nbsp;<span class="num" id="1807536">4</span><span class="op" id="1807537">,</span>&nbsp;<span class="ident" id="1807539">h</span><span class="op" id="1807540">)</span><span class="op" id="1807541">)</span><br>
<span class="lineno">135</span><span class="op" id="1807543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1807546">func</span>&nbsp;<span class="ident" id="1807551">c128hash</span><span class="op" id="1807559">(</span><span class="ident" id="1807560">p</span>&nbsp;<span class="ident" id="1807562">unsafe</span><span class="op" id="1807568">.</span><span class="ident" id="1807569">Pointer</span><span class="op" id="1807576">,</span>&nbsp;<span class="ident" id="1807578">s</span><span class="op" id="1807579">,</span>&nbsp;<span class="ident" id="1807581">h</span>&nbsp;<span class="builtintype" id="1807583">uintptr</span><span class="op" id="1807590">)</span>&nbsp;<span class="builtintype" id="1807592">uintptr</span>&nbsp;<span class="op" id="1807600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807603">x</span>&nbsp;<span class="op" id="1807605">:=</span>&nbsp;<span class="op" id="1807608">(</span><span class="op" id="1807609">*</span><span class="op" id="1807610">[</span><span class="num" id="1807611">2</span><span class="op" id="1807612">]</span><span class="builtintype" id="1807613">float64</span><span class="op" id="1807620">)</span><span class="op" id="1807621">(</span><span class="ident" id="1807622">p</span><span class="op" id="1807623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807626">return</span>&nbsp;<span class="ident" id="1807633">f64hash</span><span class="op" id="1807640">(</span><span class="ident" id="1807641">unsafe</span><span class="op" id="1807647">.</span><span class="ident" id="1807648">Pointer</span><span class="op" id="1807655">(</span><span class="op" id="1807656">&amp;</span><span class="ident" id="1807657">x</span><span class="op" id="1807658">[</span><span class="num" id="1807659">1</span><span class="op" id="1807660">]</span><span class="op" id="1807661">)</span><span class="op" id="1807662">,</span>&nbsp;<span class="num" id="1807664">8</span><span class="op" id="1807665">,</span>&nbsp;<span class="ident" id="1807667">f64hash</span><span class="op" id="1807674">(</span><span class="ident" id="1807675">unsafe</span><span class="op" id="1807681">.</span><span class="ident" id="1807682">Pointer</span><span class="op" id="1807689">(</span><span class="op" id="1807690">&amp;</span><span class="ident" id="1807691">x</span><span class="op" id="1807692">[</span><span class="num" id="1807693">0</span><span class="op" id="1807694">]</span><span class="op" id="1807695">)</span><span class="op" id="1807696">,</span>&nbsp;<span class="num" id="1807698">8</span><span class="op" id="1807699">,</span>&nbsp;<span class="ident" id="1807701">h</span><span class="op" id="1807702">)</span><span class="op" id="1807703">)</span><br>
<span class="lineno">140</span><span class="op" id="1807705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1807708">func</span>&nbsp;<span class="ident" id="1807713">interhash</span><span class="op" id="1807722">(</span><span class="ident" id="1807723">p</span>&nbsp;<span class="ident" id="1807725">unsafe</span><span class="op" id="1807731">.</span><span class="ident" id="1807732">Pointer</span><span class="op" id="1807739">,</span>&nbsp;<span class="ident" id="1807741">s</span><span class="op" id="1807742">,</span>&nbsp;<span class="ident" id="1807744">h</span>&nbsp;<span class="builtintype" id="1807746">uintptr</span><span class="op" id="1807753">)</span>&nbsp;<span class="builtintype" id="1807755">uintptr</span>&nbsp;<span class="op" id="1807763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807766">a</span>&nbsp;<span class="op" id="1807768">:=</span>&nbsp;<span class="op" id="1807771">(</span><span class="op" id="1807772">*</span><span class="ident" id="1807773">iface</span><span class="op" id="1807778">)</span><span class="op" id="1807779">(</span><span class="ident" id="1807780">p</span><span class="op" id="1807781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807784">tab</span>&nbsp;<span class="op" id="1807788">:=</span>&nbsp;<span class="ident" id="1807791">a</span><span class="op" id="1807792">.</span><span class="ident" id="1807793">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807798">if</span>&nbsp;<span class="ident" id="1807801">tab</span>&nbsp;<span class="op" id="1807805">==</span>&nbsp;<span class="ident" id="1807808">nil</span>&nbsp;<span class="op" id="1807812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807816">return</span>&nbsp;<span class="ident" id="1807823">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807829">t</span>&nbsp;<span class="op" id="1807831">:=</span>&nbsp;<span class="ident" id="1807834">tab</span><span class="op" id="1807837">.</span><span class="ident" id="1807838">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807845">fn</span>&nbsp;<span class="op" id="1807848">:=</span>&nbsp;<span class="ident" id="1807851">goalg</span><span class="op" id="1807856">(</span><span class="ident" id="1807857">t</span><span class="op" id="1807858">.</span><span class="ident" id="1807859">alg</span><span class="op" id="1807862">)</span><span class="op" id="1807863">.</span><span class="ident" id="1807864">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807870">if</span>&nbsp;<span class="ident" id="1807873">fn</span>&nbsp;<span class="op" id="1807876">==</span>&nbsp;<span class="ident" id="1807879">nil</span>&nbsp;<span class="op" id="1807883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1807887">panic</span><span class="op" id="1807892">(</span><span class="ident" id="1807893">errorString</span><span class="op" id="1807904">(</span><span class="string" id="1807905">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1807932">+</span>&nbsp;<span class="op" id="1807934">*</span><span class="ident" id="1807935">t</span><span class="op" id="1807936">.</span><span class="ident" id="1807937">_string</span><span class="op" id="1807944">)</span><span class="op" id="1807945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807951">if</span>&nbsp;<span class="ident" id="1807954">isDirectIface</span><span class="op" id="1807967">(</span><span class="ident" id="1807968">t</span><span class="op" id="1807969">)</span>&nbsp;<span class="op" id="1807971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807975">return</span>&nbsp;<span class="ident" id="1807982">c1</span>&nbsp;<span class="op" id="1807985">*</span>&nbsp;<span class="ident" id="1807987">fn</span><span class="op" id="1807989">(</span><span class="ident" id="1807990">unsafe</span><span class="op" id="1807996">.</span><span class="ident" id="1807997">Pointer</span><span class="op" id="1808004">(</span><span class="op" id="1808005">&amp;</span><span class="ident" id="1808006">a</span><span class="op" id="1808007">.</span><span class="ident" id="1808008">data</span><span class="op" id="1808012">)</span><span class="op" id="1808013">,</span>&nbsp;<span class="builtintype" id="1808015">uintptr</span><span class="op" id="1808022">(</span><span class="ident" id="1808023">t</span><span class="op" id="1808024">.</span><span class="ident" id="1808025">size</span><span class="op" id="1808029">)</span><span class="op" id="1808030">,</span>&nbsp;<span class="ident" id="1808032">h</span><span class="op" id="1808033">^</span><span class="ident" id="1808034">c0</span><span class="op" id="1808036">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808039">}</span>&nbsp;<span class="keyword" id="1808041">else</span>&nbsp;<span class="op" id="1808046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808050">return</span>&nbsp;<span class="ident" id="1808057">c1</span>&nbsp;<span class="op" id="1808060">*</span>&nbsp;<span class="ident" id="1808062">fn</span><span class="op" id="1808064">(</span><span class="ident" id="1808065">a</span><span class="op" id="1808066">.</span><span class="ident" id="1808067">data</span><span class="op" id="1808071">,</span>&nbsp;<span class="builtintype" id="1808073">uintptr</span><span class="op" id="1808080">(</span><span class="ident" id="1808081">t</span><span class="op" id="1808082">.</span><span class="ident" id="1808083">size</span><span class="op" id="1808087">)</span><span class="op" id="1808088">,</span>&nbsp;<span class="ident" id="1808090">h</span><span class="op" id="1808091">^</span><span class="ident" id="1808092">c0</span><span class="op" id="1808094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808097">}</span><br>
<span class="lineno"></span><span class="op" id="1808099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1808102">func</span>&nbsp;<span class="ident" id="1808107">nilinterhash</span><span class="op" id="1808119">(</span><span class="ident" id="1808120">p</span>&nbsp;<span class="ident" id="1808122">unsafe</span><span class="op" id="1808128">.</span><span class="ident" id="1808129">Pointer</span><span class="op" id="1808136">,</span>&nbsp;<span class="ident" id="1808138">s</span><span class="op" id="1808139">,</span>&nbsp;<span class="ident" id="1808141">h</span>&nbsp;<span class="builtintype" id="1808143">uintptr</span><span class="op" id="1808150">)</span>&nbsp;<span class="builtintype" id="1808152">uintptr</span>&nbsp;<span class="op" id="1808160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808163">a</span>&nbsp;<span class="op" id="1808165">:=</span>&nbsp;<span class="op" id="1808168">(</span><span class="op" id="1808169">*</span><span class="ident" id="1808170">eface</span><span class="op" id="1808175">)</span><span class="op" id="1808176">(</span><span class="ident" id="1808177">p</span><span class="op" id="1808178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808181">t</span>&nbsp;<span class="op" id="1808183">:=</span>&nbsp;<span class="ident" id="1808186">a</span><span class="op" id="1808187">.</span><span class="ident" id="1808188">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808195">if</span>&nbsp;<span class="ident" id="1808198">t</span>&nbsp;<span class="op" id="1808200">==</span>&nbsp;<span class="ident" id="1808203">nil</span>&nbsp;<span class="op" id="1808207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808211">return</span>&nbsp;<span class="ident" id="1808218">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808224">fn</span>&nbsp;<span class="op" id="1808227">:=</span>&nbsp;<span class="ident" id="1808230">goalg</span><span class="op" id="1808235">(</span><span class="ident" id="1808236">t</span><span class="op" id="1808237">.</span><span class="ident" id="1808238">alg</span><span class="op" id="1808241">)</span><span class="op" id="1808242">.</span><span class="ident" id="1808243">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808249">if</span>&nbsp;<span class="ident" id="1808252">fn</span>&nbsp;<span class="op" id="1808255">==</span>&nbsp;<span class="ident" id="1808258">nil</span>&nbsp;<span class="op" id="1808262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1808266">panic</span><span class="op" id="1808271">(</span><span class="ident" id="1808272">errorString</span><span class="op" id="1808283">(</span><span class="string" id="1808284">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1808311">+</span>&nbsp;<span class="op" id="1808313">*</span><span class="ident" id="1808314">t</span><span class="op" id="1808315">.</span><span class="ident" id="1808316">_string</span><span class="op" id="1808323">)</span><span class="op" id="1808324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808327">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808330">if</span>&nbsp;<span class="ident" id="1808333">isDirectIface</span><span class="op" id="1808346">(</span><span class="ident" id="1808347">t</span><span class="op" id="1808348">)</span>&nbsp;<span class="op" id="1808350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808354">return</span>&nbsp;<span class="ident" id="1808361">c1</span>&nbsp;<span class="op" id="1808364">*</span>&nbsp;<span class="ident" id="1808366">fn</span><span class="op" id="1808368">(</span><span class="ident" id="1808369">unsafe</span><span class="op" id="1808375">.</span><span class="ident" id="1808376">Pointer</span><span class="op" id="1808383">(</span><span class="op" id="1808384">&amp;</span><span class="ident" id="1808385">a</span><span class="op" id="1808386">.</span><span class="ident" id="1808387">data</span><span class="op" id="1808391">)</span><span class="op" id="1808392">,</span>&nbsp;<span class="builtintype" id="1808394">uintptr</span><span class="op" id="1808401">(</span><span class="ident" id="1808402">t</span><span class="op" id="1808403">.</span><span class="ident" id="1808404">size</span><span class="op" id="1808408">)</span><span class="op" id="1808409">,</span>&nbsp;<span class="ident" id="1808411">h</span><span class="op" id="1808412">^</span><span class="ident" id="1808413">c0</span><span class="op" id="1808415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808418">}</span>&nbsp;<span class="keyword" id="1808420">else</span>&nbsp;<span class="op" id="1808425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808429">return</span>&nbsp;<span class="ident" id="1808436">c1</span>&nbsp;<span class="op" id="1808439">*</span>&nbsp;<span class="ident" id="1808441">fn</span><span class="op" id="1808443">(</span><span class="ident" id="1808444">a</span><span class="op" id="1808445">.</span><span class="ident" id="1808446">data</span><span class="op" id="1808450">,</span>&nbsp;<span class="builtintype" id="1808452">uintptr</span><span class="op" id="1808459">(</span><span class="ident" id="1808460">t</span><span class="op" id="1808461">.</span><span class="ident" id="1808462">size</span><span class="op" id="1808466">)</span><span class="op" id="1808467">,</span>&nbsp;<span class="ident" id="1808469">h</span><span class="op" id="1808470">^</span><span class="ident" id="1808471">c0</span><span class="op" id="1808473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808476">}</span><br>
<span class="lineno">175</span><span class="op" id="1808478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1808481">func</span>&nbsp;<span class="ident" id="1808486">memequal</span><span class="op" id="1808494">(</span><span class="ident" id="1808495">p</span><span class="op" id="1808496">,</span>&nbsp;<span class="ident" id="1808498">q</span>&nbsp;<span class="ident" id="1808500">unsafe</span><span class="op" id="1808506">.</span><span class="ident" id="1808507">Pointer</span><span class="op" id="1808514">,</span>&nbsp;<span class="ident" id="1808516">size</span>&nbsp;<span class="builtintype" id="1808521">uintptr</span><span class="op" id="1808528">)</span>&nbsp;<span class="builtintype" id="1808530">bool</span>&nbsp;<span class="op" id="1808535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808538">if</span>&nbsp;<span class="ident" id="1808541">p</span>&nbsp;<span class="op" id="1808543">==</span>&nbsp;<span class="ident" id="1808546">q</span>&nbsp;<span class="op" id="1808548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808552">return</span>&nbsp;<span class="builtintype" id="1808559">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808568">return</span>&nbsp;<span class="ident" id="1808575">memeq</span><span class="op" id="1808580">(</span><span class="ident" id="1808581">p</span><span class="op" id="1808582">,</span>&nbsp;<span class="ident" id="1808584">q</span><span class="op" id="1808585">,</span>&nbsp;<span class="ident" id="1808587">size</span><span class="op" id="1808591">)</span><br>
<span class="lineno"></span><span class="op" id="1808593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1808596">func</span>&nbsp;<span class="ident" id="1808601">memequal0</span><span class="op" id="1808610">(</span><span class="ident" id="1808611">p</span><span class="op" id="1808612">,</span>&nbsp;<span class="ident" id="1808614">q</span>&nbsp;<span class="ident" id="1808616">unsafe</span><span class="op" id="1808622">.</span><span class="ident" id="1808623">Pointer</span><span class="op" id="1808630">,</span>&nbsp;<span class="ident" id="1808632">size</span>&nbsp;<span class="builtintype" id="1808637">uintptr</span><span class="op" id="1808644">)</span>&nbsp;<span class="builtintype" id="1808646">bool</span>&nbsp;<span class="op" id="1808651">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808654">return</span>&nbsp;<span class="builtintype" id="1808661">true</span><br>
<span class="lineno"></span><span class="op" id="1808666">}</span><br>
<span class="lineno"></span><span class="keyword" id="1808668">func</span>&nbsp;<span class="ident" id="1808673">memequal8</span><span class="op" id="1808682">(</span><span class="ident" id="1808683">p</span><span class="op" id="1808684">,</span>&nbsp;<span class="ident" id="1808686">q</span>&nbsp;<span class="ident" id="1808688">unsafe</span><span class="op" id="1808694">.</span><span class="ident" id="1808695">Pointer</span><span class="op" id="1808702">,</span>&nbsp;<span class="ident" id="1808704">size</span>&nbsp;<span class="builtintype" id="1808709">uintptr</span><span class="op" id="1808716">)</span>&nbsp;<span class="builtintype" id="1808718">bool</span>&nbsp;<span class="op" id="1808723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808726">return</span>&nbsp;<span class="op" id="1808733">*</span><span class="op" id="1808734">(</span><span class="op" id="1808735">*</span><span class="builtintype" id="1808736">int8</span><span class="op" id="1808740">)</span><span class="op" id="1808741">(</span><span class="ident" id="1808742">p</span><span class="op" id="1808743">)</span>&nbsp;<span class="op" id="1808745">==</span>&nbsp;<span class="op" id="1808748">*</span><span class="op" id="1808749">(</span><span class="op" id="1808750">*</span><span class="builtintype" id="1808751">int8</span><span class="op" id="1808755">)</span><span class="op" id="1808756">(</span><span class="ident" id="1808757">q</span><span class="op" id="1808758">)</span><br>
<span class="lineno"></span><span class="op" id="1808760">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1808762">func</span>&nbsp;<span class="ident" id="1808767">memequal16</span><span class="op" id="1808777">(</span><span class="ident" id="1808778">p</span><span class="op" id="1808779">,</span>&nbsp;<span class="ident" id="1808781">q</span>&nbsp;<span class="ident" id="1808783">unsafe</span><span class="op" id="1808789">.</span><span class="ident" id="1808790">Pointer</span><span class="op" id="1808797">,</span>&nbsp;<span class="ident" id="1808799">size</span>&nbsp;<span class="builtintype" id="1808804">uintptr</span><span class="op" id="1808811">)</span>&nbsp;<span class="builtintype" id="1808813">bool</span>&nbsp;<span class="op" id="1808818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808821">return</span>&nbsp;<span class="op" id="1808828">*</span><span class="op" id="1808829">(</span><span class="op" id="1808830">*</span><span class="builtintype" id="1808831">int16</span><span class="op" id="1808836">)</span><span class="op" id="1808837">(</span><span class="ident" id="1808838">p</span><span class="op" id="1808839">)</span>&nbsp;<span class="op" id="1808841">==</span>&nbsp;<span class="op" id="1808844">*</span><span class="op" id="1808845">(</span><span class="op" id="1808846">*</span><span class="builtintype" id="1808847">int16</span><span class="op" id="1808852">)</span><span class="op" id="1808853">(</span><span class="ident" id="1808854">q</span><span class="op" id="1808855">)</span><br>
<span class="lineno"></span><span class="op" id="1808857">}</span><br>
<span class="lineno"></span><span class="keyword" id="1808859">func</span>&nbsp;<span class="ident" id="1808864">memequal32</span><span class="op" id="1808874">(</span><span class="ident" id="1808875">p</span><span class="op" id="1808876">,</span>&nbsp;<span class="ident" id="1808878">q</span>&nbsp;<span class="ident" id="1808880">unsafe</span><span class="op" id="1808886">.</span><span class="ident" id="1808887">Pointer</span><span class="op" id="1808894">,</span>&nbsp;<span class="ident" id="1808896">size</span>&nbsp;<span class="builtintype" id="1808901">uintptr</span><span class="op" id="1808908">)</span>&nbsp;<span class="builtintype" id="1808910">bool</span>&nbsp;<span class="op" id="1808915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808918">return</span>&nbsp;<span class="op" id="1808925">*</span><span class="op" id="1808926">(</span><span class="op" id="1808927">*</span><span class="builtintype" id="1808928">int32</span><span class="op" id="1808933">)</span><span class="op" id="1808934">(</span><span class="ident" id="1808935">p</span><span class="op" id="1808936">)</span>&nbsp;<span class="op" id="1808938">==</span>&nbsp;<span class="op" id="1808941">*</span><span class="op" id="1808942">(</span><span class="op" id="1808943">*</span><span class="builtintype" id="1808944">int32</span><span class="op" id="1808949">)</span><span class="op" id="1808950">(</span><span class="ident" id="1808951">q</span><span class="op" id="1808952">)</span><br>
<span class="lineno">195</span><span class="op" id="1808954">}</span><br>
<span class="lineno"></span><span class="keyword" id="1808956">func</span>&nbsp;<span class="ident" id="1808961">memequal64</span><span class="op" id="1808971">(</span><span class="ident" id="1808972">p</span><span class="op" id="1808973">,</span>&nbsp;<span class="ident" id="1808975">q</span>&nbsp;<span class="ident" id="1808977">unsafe</span><span class="op" id="1808983">.</span><span class="ident" id="1808984">Pointer</span><span class="op" id="1808991">,</span>&nbsp;<span class="ident" id="1808993">size</span>&nbsp;<span class="builtintype" id="1808998">uintptr</span><span class="op" id="1809005">)</span>&nbsp;<span class="builtintype" id="1809007">bool</span>&nbsp;<span class="op" id="1809012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809015">return</span>&nbsp;<span class="op" id="1809022">*</span><span class="op" id="1809023">(</span><span class="op" id="1809024">*</span><span class="ident" id="1809025">int64</span><span class="op" id="1809030">)</span><span class="op" id="1809031">(</span><span class="ident" id="1809032">p</span><span class="op" id="1809033">)</span>&nbsp;<span class="op" id="1809035">==</span>&nbsp;<span class="op" id="1809038">*</span><span class="op" id="1809039">(</span><span class="op" id="1809040">*</span><span class="ident" id="1809041">int64</span><span class="op" id="1809046">)</span><span class="op" id="1809047">(</span><span class="ident" id="1809048">q</span><span class="op" id="1809049">)</span><br>
<span class="lineno"></span><span class="op" id="1809051">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809053">func</span>&nbsp;<span class="ident" id="1809058">memequal128</span><span class="op" id="1809069">(</span><span class="ident" id="1809070">p</span><span class="op" id="1809071">,</span>&nbsp;<span class="ident" id="1809073">q</span>&nbsp;<span class="ident" id="1809075">unsafe</span><span class="op" id="1809081">.</span><span class="ident" id="1809082">Pointer</span><span class="op" id="1809089">,</span>&nbsp;<span class="ident" id="1809091">size</span>&nbsp;<span class="builtintype" id="1809096">uintptr</span><span class="op" id="1809103">)</span>&nbsp;<span class="builtintype" id="1809105">bool</span>&nbsp;<span class="op" id="1809110">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809113">return</span>&nbsp;<span class="op" id="1809120">*</span><span class="op" id="1809121">(</span><span class="op" id="1809122">*</span><span class="op" id="1809123">[</span><span class="num" id="1809124">2</span><span class="op" id="1809125">]</span><span class="ident" id="1809126">int64</span><span class="op" id="1809131">)</span><span class="op" id="1809132">(</span><span class="ident" id="1809133">p</span><span class="op" id="1809134">)</span>&nbsp;<span class="op" id="1809136">==</span>&nbsp;<span class="op" id="1809139">*</span><span class="op" id="1809140">(</span><span class="op" id="1809141">*</span><span class="op" id="1809142">[</span><span class="num" id="1809143">2</span><span class="op" id="1809144">]</span><span class="ident" id="1809145">int64</span><span class="op" id="1809150">)</span><span class="op" id="1809151">(</span><span class="ident" id="1809152">q</span><span class="op" id="1809153">)</span><br>
<span class="lineno"></span><span class="op" id="1809155">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809157">func</span>&nbsp;<span class="ident" id="1809162">f32equal</span><span class="op" id="1809170">(</span><span class="ident" id="1809171">p</span><span class="op" id="1809172">,</span>&nbsp;<span class="ident" id="1809174">q</span>&nbsp;<span class="ident" id="1809176">unsafe</span><span class="op" id="1809182">.</span><span class="ident" id="1809183">Pointer</span><span class="op" id="1809190">,</span>&nbsp;<span class="ident" id="1809192">size</span>&nbsp;<span class="builtintype" id="1809197">uintptr</span><span class="op" id="1809204">)</span>&nbsp;<span class="builtintype" id="1809206">bool</span>&nbsp;<span class="op" id="1809211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809214">return</span>&nbsp;<span class="op" id="1809221">*</span><span class="op" id="1809222">(</span><span class="op" id="1809223">*</span><span class="builtintype" id="1809224">float32</span><span class="op" id="1809231">)</span><span class="op" id="1809232">(</span><span class="ident" id="1809233">p</span><span class="op" id="1809234">)</span>&nbsp;<span class="op" id="1809236">==</span>&nbsp;<span class="op" id="1809239">*</span><span class="op" id="1809240">(</span><span class="op" id="1809241">*</span><span class="builtintype" id="1809242">float32</span><span class="op" id="1809249">)</span><span class="op" id="1809250">(</span><span class="ident" id="1809251">q</span><span class="op" id="1809252">)</span><br>
<span class="lineno"></span><span class="op" id="1809254">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1809256">func</span>&nbsp;<span class="ident" id="1809261">f64equal</span><span class="op" id="1809269">(</span><span class="ident" id="1809270">p</span><span class="op" id="1809271">,</span>&nbsp;<span class="ident" id="1809273">q</span>&nbsp;<span class="ident" id="1809275">unsafe</span><span class="op" id="1809281">.</span><span class="ident" id="1809282">Pointer</span><span class="op" id="1809289">,</span>&nbsp;<span class="ident" id="1809291">size</span>&nbsp;<span class="builtintype" id="1809296">uintptr</span><span class="op" id="1809303">)</span>&nbsp;<span class="builtintype" id="1809305">bool</span>&nbsp;<span class="op" id="1809310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809313">return</span>&nbsp;<span class="op" id="1809320">*</span><span class="op" id="1809321">(</span><span class="op" id="1809322">*</span><span class="builtintype" id="1809323">float64</span><span class="op" id="1809330">)</span><span class="op" id="1809331">(</span><span class="ident" id="1809332">p</span><span class="op" id="1809333">)</span>&nbsp;<span class="op" id="1809335">==</span>&nbsp;<span class="op" id="1809338">*</span><span class="op" id="1809339">(</span><span class="op" id="1809340">*</span><span class="builtintype" id="1809341">float64</span><span class="op" id="1809348">)</span><span class="op" id="1809349">(</span><span class="ident" id="1809350">q</span><span class="op" id="1809351">)</span><br>
<span class="lineno"></span><span class="op" id="1809353">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809355">func</span>&nbsp;<span class="ident" id="1809360">c64equal</span><span class="op" id="1809368">(</span><span class="ident" id="1809369">p</span><span class="op" id="1809370">,</span>&nbsp;<span class="ident" id="1809372">q</span>&nbsp;<span class="ident" id="1809374">unsafe</span><span class="op" id="1809380">.</span><span class="ident" id="1809381">Pointer</span><span class="op" id="1809388">,</span>&nbsp;<span class="ident" id="1809390">size</span>&nbsp;<span class="builtintype" id="1809395">uintptr</span><span class="op" id="1809402">)</span>&nbsp;<span class="builtintype" id="1809404">bool</span>&nbsp;<span class="op" id="1809409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809412">return</span>&nbsp;<span class="op" id="1809419">*</span><span class="op" id="1809420">(</span><span class="op" id="1809421">*</span><span class="builtintype" id="1809422">complex64</span><span class="op" id="1809431">)</span><span class="op" id="1809432">(</span><span class="ident" id="1809433">p</span><span class="op" id="1809434">)</span>&nbsp;<span class="op" id="1809436">==</span>&nbsp;<span class="op" id="1809439">*</span><span class="op" id="1809440">(</span><span class="op" id="1809441">*</span><span class="builtintype" id="1809442">complex64</span><span class="op" id="1809451">)</span><span class="op" id="1809452">(</span><span class="ident" id="1809453">q</span><span class="op" id="1809454">)</span><br>
<span class="lineno">210</span><span class="op" id="1809456">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809458">func</span>&nbsp;<span class="ident" id="1809463">c128equal</span><span class="op" id="1809472">(</span><span class="ident" id="1809473">p</span><span class="op" id="1809474">,</span>&nbsp;<span class="ident" id="1809476">q</span>&nbsp;<span class="ident" id="1809478">unsafe</span><span class="op" id="1809484">.</span><span class="ident" id="1809485">Pointer</span><span class="op" id="1809492">,</span>&nbsp;<span class="ident" id="1809494">size</span>&nbsp;<span class="builtintype" id="1809499">uintptr</span><span class="op" id="1809506">)</span>&nbsp;<span class="builtintype" id="1809508">bool</span>&nbsp;<span class="op" id="1809513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809516">return</span>&nbsp;<span class="op" id="1809523">*</span><span class="op" id="1809524">(</span><span class="op" id="1809525">*</span><span class="builtintype" id="1809526">complex128</span><span class="op" id="1809536">)</span><span class="op" id="1809537">(</span><span class="ident" id="1809538">p</span><span class="op" id="1809539">)</span>&nbsp;<span class="op" id="1809541">==</span>&nbsp;<span class="op" id="1809544">*</span><span class="op" id="1809545">(</span><span class="op" id="1809546">*</span><span class="builtintype" id="1809547">complex128</span><span class="op" id="1809557">)</span><span class="op" id="1809558">(</span><span class="ident" id="1809559">q</span><span class="op" id="1809560">)</span><br>
<span class="lineno"></span><span class="op" id="1809562">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809564">func</span>&nbsp;<span class="ident" id="1809569">strequal</span><span class="op" id="1809577">(</span><span class="ident" id="1809578">p</span><span class="op" id="1809579">,</span>&nbsp;<span class="ident" id="1809581">q</span>&nbsp;<span class="ident" id="1809583">unsafe</span><span class="op" id="1809589">.</span><span class="ident" id="1809590">Pointer</span><span class="op" id="1809597">,</span>&nbsp;<span class="ident" id="1809599">size</span>&nbsp;<span class="builtintype" id="1809604">uintptr</span><span class="op" id="1809611">)</span>&nbsp;<span class="builtintype" id="1809613">bool</span>&nbsp;<span class="op" id="1809618">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809621">return</span>&nbsp;<span class="op" id="1809628">*</span><span class="op" id="1809629">(</span><span class="op" id="1809630">*</span><span class="builtintype" id="1809631">string</span><span class="op" id="1809637">)</span><span class="op" id="1809638">(</span><span class="ident" id="1809639">p</span><span class="op" id="1809640">)</span>&nbsp;<span class="op" id="1809642">==</span>&nbsp;<span class="op" id="1809645">*</span><span class="op" id="1809646">(</span><span class="op" id="1809647">*</span><span class="builtintype" id="1809648">string</span><span class="op" id="1809654">)</span><span class="op" id="1809655">(</span><span class="ident" id="1809656">q</span><span class="op" id="1809657">)</span><br>
<span class="lineno"></span><span class="op" id="1809659">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809661">func</span>&nbsp;<span class="ident" id="1809666">interequal</span><span class="op" id="1809676">(</span><span class="ident" id="1809677">p</span><span class="op" id="1809678">,</span>&nbsp;<span class="ident" id="1809680">q</span>&nbsp;<span class="ident" id="1809682">unsafe</span><span class="op" id="1809688">.</span><span class="ident" id="1809689">Pointer</span><span class="op" id="1809696">,</span>&nbsp;<span class="ident" id="1809698">size</span>&nbsp;<span class="builtintype" id="1809703">uintptr</span><span class="op" id="1809710">)</span>&nbsp;<span class="builtintype" id="1809712">bool</span>&nbsp;<span class="op" id="1809717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809720">return</span>&nbsp;<span class="ident" id="1809727">ifaceeq</span><span class="op" id="1809734">(</span><span class="op" id="1809735">*</span><span class="op" id="1809736">(</span><span class="op" id="1809737">*</span><span class="keyword" id="1809738">interface</span>&nbsp;<span class="op" id="1809748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809752">f</span><span class="op" id="1809753">(</span><span class="op" id="1809754">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809757">}</span><span class="op" id="1809758">)</span><span class="op" id="1809759">(</span><span class="ident" id="1809760">p</span><span class="op" id="1809761">)</span><span class="op" id="1809762">,</span>&nbsp;<span class="op" id="1809764">*</span><span class="op" id="1809765">(</span><span class="op" id="1809766">*</span><span class="keyword" id="1809767">interface</span>&nbsp;<span class="op" id="1809777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809781">f</span><span class="op" id="1809782">(</span><span class="op" id="1809783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809786">}</span><span class="op" id="1809787">)</span><span class="op" id="1809788">(</span><span class="ident" id="1809789">q</span><span class="op" id="1809790">)</span><span class="op" id="1809791">)</span><br>
<span class="lineno"></span><span class="op" id="1809793">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809795">func</span>&nbsp;<span class="ident" id="1809800">nilinterequal</span><span class="op" id="1809813">(</span><span class="ident" id="1809814">p</span><span class="op" id="1809815">,</span>&nbsp;<span class="ident" id="1809817">q</span>&nbsp;<span class="ident" id="1809819">unsafe</span><span class="op" id="1809825">.</span><span class="ident" id="1809826">Pointer</span><span class="op" id="1809833">,</span>&nbsp;<span class="ident" id="1809835">size</span>&nbsp;<span class="builtintype" id="1809840">uintptr</span><span class="op" id="1809847">)</span>&nbsp;<span class="builtintype" id="1809849">bool</span>&nbsp;<span class="op" id="1809854">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809857">return</span>&nbsp;<span class="ident" id="1809864">efaceeq</span><span class="op" id="1809871">(</span><span class="op" id="1809872">*</span><span class="op" id="1809873">(</span><span class="op" id="1809874">*</span><span class="keyword" id="1809875">interface</span><span class="op" id="1809884">{</span><span class="op" id="1809885">}</span><span class="op" id="1809886">)</span><span class="op" id="1809887">(</span><span class="ident" id="1809888">p</span><span class="op" id="1809889">)</span><span class="op" id="1809890">,</span>&nbsp;<span class="op" id="1809892">*</span><span class="op" id="1809893">(</span><span class="op" id="1809894">*</span><span class="keyword" id="1809895">interface</span><span class="op" id="1809904">{</span><span class="op" id="1809905">}</span><span class="op" id="1809906">)</span><span class="op" id="1809907">(</span><span class="ident" id="1809908">q</span><span class="op" id="1809909">)</span><span class="op" id="1809910">)</span><br>
<span class="lineno"></span><span class="op" id="1809912">}</span><br>
<span class="lineno"></span><span class="keyword" id="1809914">func</span>&nbsp;<span class="ident" id="1809919">efaceeq</span><span class="op" id="1809926">(</span><span class="ident" id="1809927">p</span><span class="op" id="1809928">,</span>&nbsp;<span class="ident" id="1809930">q</span>&nbsp;<span class="keyword" id="1809932">interface</span><span class="op" id="1809941">{</span><span class="op" id="1809942">}</span><span class="op" id="1809943">)</span>&nbsp;<span class="builtintype" id="1809945">bool</span>&nbsp;<span class="op" id="1809950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809953">x</span>&nbsp;<span class="op" id="1809955">:=</span>&nbsp;<span class="op" id="1809958">(</span><span class="op" id="1809959">*</span><span class="ident" id="1809960">eface</span><span class="op" id="1809965">)</span><span class="op" id="1809966">(</span><span class="ident" id="1809967">unsafe</span><span class="op" id="1809973">.</span><span class="ident" id="1809974">Pointer</span><span class="op" id="1809981">(</span><span class="op" id="1809982">&amp;</span><span class="ident" id="1809983">p</span><span class="op" id="1809984">)</span><span class="op" id="1809985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809988">y</span>&nbsp;<span class="op" id="1809990">:=</span>&nbsp;<span class="op" id="1809993">(</span><span class="op" id="1809994">*</span><span class="ident" id="1809995">eface</span><span class="op" id="1810000">)</span><span class="op" id="1810001">(</span><span class="ident" id="1810002">unsafe</span><span class="op" id="1810008">.</span><span class="ident" id="1810009">Pointer</span><span class="op" id="1810016">(</span><span class="op" id="1810017">&amp;</span><span class="ident" id="1810018">q</span><span class="op" id="1810019">)</span><span class="op" id="1810020">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810023">t</span>&nbsp;<span class="op" id="1810025">:=</span>&nbsp;<span class="ident" id="1810028">x</span><span class="op" id="1810029">.</span><span class="ident" id="1810030">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810037">if</span>&nbsp;<span class="ident" id="1810040">t</span>&nbsp;<span class="op" id="1810042">!=</span>&nbsp;<span class="ident" id="1810045">y</span><span class="op" id="1810046">.</span><span class="ident" id="1810047">_type</span>&nbsp;<span class="op" id="1810053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810057">return</span>&nbsp;<span class="builtintype" id="1810064">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810074">if</span>&nbsp;<span class="ident" id="1810077">t</span>&nbsp;<span class="op" id="1810079">==</span>&nbsp;<span class="ident" id="1810082">nil</span>&nbsp;<span class="op" id="1810086">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810090">return</span>&nbsp;<span class="builtintype" id="1810097">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810106">eq</span>&nbsp;<span class="op" id="1810109">:=</span>&nbsp;<span class="ident" id="1810112">goalg</span><span class="op" id="1810117">(</span><span class="ident" id="1810118">t</span><span class="op" id="1810119">.</span><span class="ident" id="1810120">alg</span><span class="op" id="1810123">)</span><span class="op" id="1810124">.</span><span class="ident" id="1810125">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810132">if</span>&nbsp;<span class="ident" id="1810135">eq</span>&nbsp;<span class="op" id="1810138">==</span>&nbsp;<span class="ident" id="1810141">nil</span>&nbsp;<span class="op" id="1810145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1810149">panic</span><span class="op" id="1810154">(</span><span class="ident" id="1810155">errorString</span><span class="op" id="1810166">(</span><span class="string" id="1810167">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1810198">+</span>&nbsp;<span class="op" id="1810200">*</span><span class="ident" id="1810201">t</span><span class="op" id="1810202">.</span><span class="ident" id="1810203">_string</span><span class="op" id="1810210">)</span><span class="op" id="1810211">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810217">if</span>&nbsp;<span class="ident" id="1810220">isDirectIface</span><span class="op" id="1810233">(</span><span class="ident" id="1810234">t</span><span class="op" id="1810235">)</span>&nbsp;<span class="op" id="1810237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810241">return</span>&nbsp;<span class="ident" id="1810248">eq</span><span class="op" id="1810250">(</span><span class="ident" id="1810251">noescape</span><span class="op" id="1810259">(</span><span class="ident" id="1810260">unsafe</span><span class="op" id="1810266">.</span><span class="ident" id="1810267">Pointer</span><span class="op" id="1810274">(</span><span class="op" id="1810275">&amp;</span><span class="ident" id="1810276">x</span><span class="op" id="1810277">.</span><span class="ident" id="1810278">data</span><span class="op" id="1810282">)</span><span class="op" id="1810283">)</span><span class="op" id="1810284">,</span>&nbsp;<span class="ident" id="1810286">noescape</span><span class="op" id="1810294">(</span><span class="ident" id="1810295">unsafe</span><span class="op" id="1810301">.</span><span class="ident" id="1810302">Pointer</span><span class="op" id="1810309">(</span><span class="op" id="1810310">&amp;</span><span class="ident" id="1810311">y</span><span class="op" id="1810312">.</span><span class="ident" id="1810313">data</span><span class="op" id="1810317">)</span><span class="op" id="1810318">)</span><span class="op" id="1810319">,</span>&nbsp;<span class="builtintype" id="1810321">uintptr</span><span class="op" id="1810328">(</span><span class="ident" id="1810329">t</span><span class="op" id="1810330">.</span><span class="ident" id="1810331">size</span><span class="op" id="1810335">)</span><span class="op" id="1810336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810342">return</span>&nbsp;<span class="ident" id="1810349">eq</span><span class="op" id="1810351">(</span><span class="ident" id="1810352">x</span><span class="op" id="1810353">.</span><span class="ident" id="1810354">data</span><span class="op" id="1810358">,</span>&nbsp;<span class="ident" id="1810360">y</span><span class="op" id="1810361">.</span><span class="ident" id="1810362">data</span><span class="op" id="1810366">,</span>&nbsp;<span class="builtintype" id="1810368">uintptr</span><span class="op" id="1810375">(</span><span class="ident" id="1810376">t</span><span class="op" id="1810377">.</span><span class="ident" id="1810378">size</span><span class="op" id="1810382">)</span><span class="op" id="1810383">)</span><br>
<span class="lineno">245</span><span class="op" id="1810385">}</span><br>
<span class="lineno"></span><span class="keyword" id="1810387">func</span>&nbsp;<span class="ident" id="1810392">ifaceeq</span><span class="op" id="1810399">(</span><span class="ident" id="1810400">p</span><span class="op" id="1810401">,</span>&nbsp;<span class="ident" id="1810403">q</span>&nbsp;<span class="keyword" id="1810405">interface</span>&nbsp;<span class="op" id="1810415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810418">f</span><span class="op" id="1810419">(</span><span class="op" id="1810420">)</span><br>
<span class="lineno"></span><span class="op" id="1810422">}</span><span class="op" id="1810423">)</span>&nbsp;<span class="builtintype" id="1810425">bool</span>&nbsp;<span class="op" id="1810430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810433">x</span>&nbsp;<span class="op" id="1810435">:=</span>&nbsp;<span class="op" id="1810438">(</span><span class="op" id="1810439">*</span><span class="ident" id="1810440">iface</span><span class="op" id="1810445">)</span><span class="op" id="1810446">(</span><span class="ident" id="1810447">unsafe</span><span class="op" id="1810453">.</span><span class="ident" id="1810454">Pointer</span><span class="op" id="1810461">(</span><span class="op" id="1810462">&amp;</span><span class="ident" id="1810463">p</span><span class="op" id="1810464">)</span><span class="op" id="1810465">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810468">y</span>&nbsp;<span class="op" id="1810470">:=</span>&nbsp;<span class="op" id="1810473">(</span><span class="op" id="1810474">*</span><span class="ident" id="1810475">iface</span><span class="op" id="1810480">)</span><span class="op" id="1810481">(</span><span class="ident" id="1810482">unsafe</span><span class="op" id="1810488">.</span><span class="ident" id="1810489">Pointer</span><span class="op" id="1810496">(</span><span class="op" id="1810497">&amp;</span><span class="ident" id="1810498">q</span><span class="op" id="1810499">)</span><span class="op" id="1810500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810503">xtab</span>&nbsp;<span class="op" id="1810508">:=</span>&nbsp;<span class="ident" id="1810511">x</span><span class="op" id="1810512">.</span><span class="ident" id="1810513">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810518">if</span>&nbsp;<span class="ident" id="1810521">xtab</span>&nbsp;<span class="op" id="1810526">!=</span>&nbsp;<span class="ident" id="1810529">y</span><span class="op" id="1810530">.</span><span class="ident" id="1810531">tab</span>&nbsp;<span class="op" id="1810535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810539">return</span>&nbsp;<span class="builtintype" id="1810546">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810553">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810556">if</span>&nbsp;<span class="ident" id="1810559">xtab</span>&nbsp;<span class="op" id="1810564">==</span>&nbsp;<span class="ident" id="1810567">nil</span>&nbsp;<span class="op" id="1810571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810575">return</span>&nbsp;<span class="builtintype" id="1810582">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810591">t</span>&nbsp;<span class="op" id="1810593">:=</span>&nbsp;<span class="ident" id="1810596">xtab</span><span class="op" id="1810600">.</span><span class="ident" id="1810601">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810608">eq</span>&nbsp;<span class="op" id="1810611">:=</span>&nbsp;<span class="ident" id="1810614">goalg</span><span class="op" id="1810619">(</span><span class="ident" id="1810620">t</span><span class="op" id="1810621">.</span><span class="ident" id="1810622">alg</span><span class="op" id="1810625">)</span><span class="op" id="1810626">.</span><span class="ident" id="1810627">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810634">if</span>&nbsp;<span class="ident" id="1810637">eq</span>&nbsp;<span class="op" id="1810640">==</span>&nbsp;<span class="ident" id="1810643">nil</span>&nbsp;<span class="op" id="1810647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1810651">panic</span><span class="op" id="1810656">(</span><span class="ident" id="1810657">errorString</span><span class="op" id="1810668">(</span><span class="string" id="1810669">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1810700">+</span>&nbsp;<span class="op" id="1810702">*</span><span class="ident" id="1810703">t</span><span class="op" id="1810704">.</span><span class="ident" id="1810705">_string</span><span class="op" id="1810712">)</span><span class="op" id="1810713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810719">if</span>&nbsp;<span class="ident" id="1810722">isDirectIface</span><span class="op" id="1810735">(</span><span class="ident" id="1810736">t</span><span class="op" id="1810737">)</span>&nbsp;<span class="op" id="1810739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810743">return</span>&nbsp;<span class="ident" id="1810750">eq</span><span class="op" id="1810752">(</span><span class="ident" id="1810753">noescape</span><span class="op" id="1810761">(</span><span class="ident" id="1810762">unsafe</span><span class="op" id="1810768">.</span><span class="ident" id="1810769">Pointer</span><span class="op" id="1810776">(</span><span class="op" id="1810777">&amp;</span><span class="ident" id="1810778">x</span><span class="op" id="1810779">.</span><span class="ident" id="1810780">data</span><span class="op" id="1810784">)</span><span class="op" id="1810785">)</span><span class="op" id="1810786">,</span>&nbsp;<span class="ident" id="1810788">noescape</span><span class="op" id="1810796">(</span><span class="ident" id="1810797">unsafe</span><span class="op" id="1810803">.</span><span class="ident" id="1810804">Pointer</span><span class="op" id="1810811">(</span><span class="op" id="1810812">&amp;</span><span class="ident" id="1810813">y</span><span class="op" id="1810814">.</span><span class="ident" id="1810815">data</span><span class="op" id="1810819">)</span><span class="op" id="1810820">)</span><span class="op" id="1810821">,</span>&nbsp;<span class="builtintype" id="1810823">uintptr</span><span class="op" id="1810830">(</span><span class="ident" id="1810831">t</span><span class="op" id="1810832">.</span><span class="ident" id="1810833">size</span><span class="op" id="1810837">)</span><span class="op" id="1810838">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810844">return</span>&nbsp;<span class="ident" id="1810851">eq</span><span class="op" id="1810853">(</span><span class="ident" id="1810854">x</span><span class="op" id="1810855">.</span><span class="ident" id="1810856">data</span><span class="op" id="1810860">,</span>&nbsp;<span class="ident" id="1810862">y</span><span class="op" id="1810863">.</span><span class="ident" id="1810864">data</span><span class="op" id="1810868">,</span>&nbsp;<span class="builtintype" id="1810870">uintptr</span><span class="op" id="1810877">(</span><span class="ident" id="1810878">t</span><span class="op" id="1810879">.</span><span class="ident" id="1810880">size</span><span class="op" id="1810884">)</span><span class="op" id="1810885">)</span><br>
<span class="lineno"></span><span class="op" id="1810887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1810890">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1810952">func</span>&nbsp;<span class="ident" id="1810957">haveGoodHash</span><span class="op" id="1810969">(</span><span class="op" id="1810970">)</span>&nbsp;<span class="builtintype" id="1810972">bool</span>&nbsp;<span class="op" id="1810977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810980">return</span>&nbsp;<span class="ident" id="1810987">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1810998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1811001">func</span>&nbsp;<span class="ident" id="1811006">stringHash</span><span class="op" id="1811016">(</span><span class="ident" id="1811017">s</span>&nbsp;<span class="builtintype" id="1811019">string</span><span class="op" id="1811025">,</span>&nbsp;<span class="ident" id="1811027">seed</span>&nbsp;<span class="builtintype" id="1811032">uintptr</span><span class="op" id="1811039">)</span>&nbsp;<span class="builtintype" id="1811041">uintptr</span>&nbsp;<span class="op" id="1811049">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811052">return</span>&nbsp;<span class="ident" id="1811059">algarray</span><span class="op" id="1811067">[</span><span class="ident" id="1811068">alg_STRING</span><span class="op" id="1811078">]</span><span class="op" id="1811079">.</span><span class="ident" id="1811080">hash</span><span class="op" id="1811084">(</span><span class="ident" id="1811085">noescape</span><span class="op" id="1811093">(</span><span class="ident" id="1811094">unsafe</span><span class="op" id="1811100">.</span><span class="ident" id="1811101">Pointer</span><span class="op" id="1811108">(</span><span class="op" id="1811109">&amp;</span><span class="ident" id="1811110">s</span><span class="op" id="1811111">)</span><span class="op" id="1811112">)</span><span class="op" id="1811113">,</span>&nbsp;<span class="ident" id="1811115">unsafe</span><span class="op" id="1811121">.</span><span class="ident" id="1811122">Sizeof</span><span class="op" id="1811128">(</span><span class="ident" id="1811129">s</span><span class="op" id="1811130">)</span><span class="op" id="1811131">,</span>&nbsp;<span class="ident" id="1811133">seed</span><span class="op" id="1811137">)</span><br>
<span class="lineno"></span><span class="op" id="1811139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1811142">func</span>&nbsp;<span class="ident" id="1811147">bytesHash</span><span class="op" id="1811156">(</span><span class="ident" id="1811157">b</span>&nbsp;<span class="op" id="1811159">[</span><span class="op" id="1811160">]</span><span class="builtintype" id="1811161">byte</span><span class="op" id="1811165">,</span>&nbsp;<span class="ident" id="1811167">seed</span>&nbsp;<span class="builtintype" id="1811172">uintptr</span><span class="op" id="1811179">)</span>&nbsp;<span class="builtintype" id="1811181">uintptr</span>&nbsp;<span class="op" id="1811189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811192">s</span>&nbsp;<span class="op" id="1811194">:=</span>&nbsp;<span class="op" id="1811197">(</span><span class="op" id="1811198">*</span><span class="ident" id="1811199">sliceStruct</span><span class="op" id="1811210">)</span><span class="op" id="1811211">(</span><span class="ident" id="1811212">unsafe</span><span class="op" id="1811218">.</span><span class="ident" id="1811219">Pointer</span><span class="op" id="1811226">(</span><span class="op" id="1811227">&amp;</span><span class="ident" id="1811228">b</span><span class="op" id="1811229">)</span><span class="op" id="1811230">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811233">return</span>&nbsp;<span class="ident" id="1811240">algarray</span><span class="op" id="1811248">[</span><span class="ident" id="1811249">alg_MEM</span><span class="op" id="1811256">]</span><span class="op" id="1811257">.</span><span class="ident" id="1811258">hash</span><span class="op" id="1811262">(</span><span class="ident" id="1811263">s</span><span class="op" id="1811264">.</span><span class="ident" id="1811265">array</span><span class="op" id="1811270">,</span>&nbsp;<span class="builtintype" id="1811272">uintptr</span><span class="op" id="1811279">(</span><span class="ident" id="1811280">s</span><span class="op" id="1811281">.</span><span class="builtinfunc" id="1811282">len</span><span class="op" id="1811285">)</span><span class="op" id="1811286">,</span>&nbsp;<span class="ident" id="1811288">seed</span><span class="op" id="1811292">)</span><br>
<span class="lineno"></span><span class="op" id="1811294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1811297">func</span>&nbsp;<span class="ident" id="1811302">int32Hash</span><span class="op" id="1811311">(</span><span class="ident" id="1811312">i</span>&nbsp;<span class="builtintype" id="1811314">uint32</span><span class="op" id="1811320">,</span>&nbsp;<span class="ident" id="1811322">seed</span>&nbsp;<span class="builtintype" id="1811327">uintptr</span><span class="op" id="1811334">)</span>&nbsp;<span class="builtintype" id="1811336">uintptr</span>&nbsp;<span class="op" id="1811344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811347">return</span>&nbsp;<span class="ident" id="1811354">algarray</span><span class="op" id="1811362">[</span><span class="ident" id="1811363">alg_MEM32</span><span class="op" id="1811372">]</span><span class="op" id="1811373">.</span><span class="ident" id="1811374">hash</span><span class="op" id="1811378">(</span><span class="ident" id="1811379">noescape</span><span class="op" id="1811387">(</span><span class="ident" id="1811388">unsafe</span><span class="op" id="1811394">.</span><span class="ident" id="1811395">Pointer</span><span class="op" id="1811402">(</span><span class="op" id="1811403">&amp;</span><span class="ident" id="1811404">i</span><span class="op" id="1811405">)</span><span class="op" id="1811406">)</span><span class="op" id="1811407">,</span>&nbsp;<span class="num" id="1811409">4</span><span class="op" id="1811410">,</span>&nbsp;<span class="ident" id="1811412">seed</span><span class="op" id="1811416">)</span><br>
<span class="lineno">285</span><span class="op" id="1811418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1811421">func</span>&nbsp;<span class="ident" id="1811426">int64Hash</span><span class="op" id="1811435">(</span><span class="ident" id="1811436">i</span>&nbsp;<span class="ident" id="1811438">uint64</span><span class="op" id="1811444">,</span>&nbsp;<span class="ident" id="1811446">seed</span>&nbsp;<span class="builtintype" id="1811451">uintptr</span><span class="op" id="1811458">)</span>&nbsp;<span class="builtintype" id="1811460">uintptr</span>&nbsp;<span class="op" id="1811468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811471">return</span>&nbsp;<span class="ident" id="1811478">algarray</span><span class="op" id="1811486">[</span><span class="ident" id="1811487">alg_MEM64</span><span class="op" id="1811496">]</span><span class="op" id="1811497">.</span><span class="ident" id="1811498">hash</span><span class="op" id="1811502">(</span><span class="ident" id="1811503">noescape</span><span class="op" id="1811511">(</span><span class="ident" id="1811512">unsafe</span><span class="op" id="1811518">.</span><span class="ident" id="1811519">Pointer</span><span class="op" id="1811526">(</span><span class="op" id="1811527">&amp;</span><span class="ident" id="1811528">i</span><span class="op" id="1811529">)</span><span class="op" id="1811530">)</span><span class="op" id="1811531">,</span>&nbsp;<span class="num" id="1811533">8</span><span class="op" id="1811534">,</span>&nbsp;<span class="ident" id="1811536">seed</span><span class="op" id="1811540">)</span><br>
<span class="lineno"></span><span class="op" id="1811542">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1811545">func</span>&nbsp;<span class="ident" id="1811550">efaceHash</span><span class="op" id="1811559">(</span><span class="ident" id="1811560">i</span>&nbsp;<span class="keyword" id="1811562">interface</span><span class="op" id="1811571">{</span><span class="op" id="1811572">}</span><span class="op" id="1811573">,</span>&nbsp;<span class="ident" id="1811575">seed</span>&nbsp;<span class="builtintype" id="1811580">uintptr</span><span class="op" id="1811587">)</span>&nbsp;<span class="builtintype" id="1811589">uintptr</span>&nbsp;<span class="op" id="1811597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811600">return</span>&nbsp;<span class="ident" id="1811607">algarray</span><span class="op" id="1811615">[</span><span class="ident" id="1811616">alg_NILINTER</span><span class="op" id="1811628">]</span><span class="op" id="1811629">.</span><span class="ident" id="1811630">hash</span><span class="op" id="1811634">(</span><span class="ident" id="1811635">noescape</span><span class="op" id="1811643">(</span><span class="ident" id="1811644">unsafe</span><span class="op" id="1811650">.</span><span class="ident" id="1811651">Pointer</span><span class="op" id="1811658">(</span><span class="op" id="1811659">&amp;</span><span class="ident" id="1811660">i</span><span class="op" id="1811661">)</span><span class="op" id="1811662">)</span><span class="op" id="1811663">,</span>&nbsp;<span class="ident" id="1811665">unsafe</span><span class="op" id="1811671">.</span><span class="ident" id="1811672">Sizeof</span><span class="op" id="1811678">(</span><span class="ident" id="1811679">i</span><span class="op" id="1811680">)</span><span class="op" id="1811681">,</span>&nbsp;<span class="ident" id="1811683">seed</span><span class="op" id="1811687">)</span><br>
<span class="lineno"></span><span class="op" id="1811689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1811692">func</span>&nbsp;<span class="ident" id="1811697">ifaceHash</span><span class="op" id="1811706">(</span><span class="ident" id="1811707">i</span>&nbsp;<span class="keyword" id="1811709">interface</span>&nbsp;<span class="op" id="1811719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811722">F</span><span class="op" id="1811723">(</span><span class="op" id="1811724">)</span><br>
<span class="lineno"></span><span class="op" id="1811726">}</span><span class="op" id="1811727">,</span>&nbsp;<span class="ident" id="1811729">seed</span>&nbsp;<span class="builtintype" id="1811734">uintptr</span><span class="op" id="1811741">)</span>&nbsp;<span class="builtintype" id="1811743">uintptr</span>&nbsp;<span class="op" id="1811751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811754">return</span>&nbsp;<span class="ident" id="1811761">algarray</span><span class="op" id="1811769">[</span><span class="ident" id="1811770">alg_INTER</span><span class="op" id="1811779">]</span><span class="op" id="1811780">.</span><span class="ident" id="1811781">hash</span><span class="op" id="1811785">(</span><span class="ident" id="1811786">noescape</span><span class="op" id="1811794">(</span><span class="ident" id="1811795">unsafe</span><span class="op" id="1811801">.</span><span class="ident" id="1811802">Pointer</span><span class="op" id="1811809">(</span><span class="op" id="1811810">&amp;</span><span class="ident" id="1811811">i</span><span class="op" id="1811812">)</span><span class="op" id="1811813">)</span><span class="op" id="1811814">,</span>&nbsp;<span class="ident" id="1811816">unsafe</span><span class="op" id="1811822">.</span><span class="ident" id="1811823">Sizeof</span><span class="op" id="1811829">(</span><span class="ident" id="1811830">i</span><span class="op" id="1811831">)</span><span class="op" id="1811832">,</span>&nbsp;<span class="ident" id="1811834">seed</span><span class="op" id="1811838">)</span><br>
<span class="lineno"></span><span class="op" id="1811840">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1811843">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1811873">func</span>&nbsp;<span class="ident" id="1811878">memclrBytes</span><span class="op" id="1811889">(</span><span class="ident" id="1811890">b</span>&nbsp;<span class="op" id="1811892">[</span><span class="op" id="1811893">]</span><span class="builtintype" id="1811894">byte</span><span class="op" id="1811898">)</span>&nbsp;<span class="op" id="1811900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811903">s</span>&nbsp;<span class="op" id="1811905">:=</span>&nbsp;<span class="op" id="1811908">(</span><span class="op" id="1811909">*</span><span class="ident" id="1811910">sliceStruct</span><span class="op" id="1811921">)</span><span class="op" id="1811922">(</span><span class="ident" id="1811923">unsafe</span><span class="op" id="1811929">.</span><span class="ident" id="1811930">Pointer</span><span class="op" id="1811937">(</span><span class="op" id="1811938">&amp;</span><span class="ident" id="1811939">b</span><span class="op" id="1811940">)</span><span class="op" id="1811941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811944">memclr</span><span class="op" id="1811950">(</span><span class="ident" id="1811951">s</span><span class="op" id="1811952">.</span><span class="ident" id="1811953">array</span><span class="op" id="1811958">,</span>&nbsp;<span class="builtintype" id="1811960">uintptr</span><span class="op" id="1811967">(</span><span class="ident" id="1811968">s</span><span class="op" id="1811969">.</span><span class="builtinfunc" id="1811970">len</span><span class="op" id="1811973">)</span><span class="op" id="1811974">)</span><br>
<span class="lineno">305</span><span class="op" id="1811976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1811979">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1812056">func</span>&nbsp;<span class="ident" id="1812061">goalg</span><span class="op" id="1812066">(</span><span class="ident" id="1812067">a</span>&nbsp;<span class="ident" id="1812069">unsafe</span><span class="op" id="1812075">.</span><span class="ident" id="1812076">Pointer</span><span class="op" id="1812083">)</span>&nbsp;<span class="op" id="1812085">*</span><span class="ident" id="1812086">typeAlg</span>&nbsp;<span class="op" id="1812094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812097">return</span>&nbsp;<span class="op" id="1812104">(</span><span class="op" id="1812105">*</span><span class="ident" id="1812106">typeAlg</span><span class="op" id="1812113">)</span><span class="op" id="1812114">(</span><span class="ident" id="1812115">a</span><span class="op" id="1812116">)</span><br>
<span class="lineno">310</span><span class="op" id="1812118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1812121">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1812150">const</span>&nbsp;<span class="ident" id="1812156">hashRandomBytes</span>&nbsp;<span class="op" id="1812172">=</span>&nbsp;<span class="num" id="1812174">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1812178">var</span>&nbsp;<span class="ident" id="1812182">aeskeysched</span>&nbsp;<span class="op" id="1812194">[</span><span class="ident" id="1812195">hashRandomBytes</span><span class="op" id="1812210">]</span><span class="builtintype" id="1812211">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1812217">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1812231">func</span>&nbsp;<span class="ident" id="1812236">get_random_data</span><span class="op" id="1812251">(</span><span class="ident" id="1812252">rnd</span>&nbsp;<span class="op" id="1812256">*</span><span class="ident" id="1812257">unsafe</span><span class="op" id="1812263">.</span><span class="ident" id="1812264">Pointer</span><span class="op" id="1812271">,</span>&nbsp;<span class="ident" id="1812273">n</span>&nbsp;<span class="op" id="1812275">*</span><span class="builtintype" id="1812276">int32</span><span class="op" id="1812281">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1812284">func</span>&nbsp;<span class="ident" id="1812289">init</span><span class="op" id="1812293">(</span><span class="op" id="1812294">)</span>&nbsp;<span class="op" id="1812296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812299">if</span>&nbsp;<span class="ident" id="1812302">theGoos</span>&nbsp;<span class="op" id="1812310">==</span>&nbsp;<span class="string" id="1812313">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1812320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812324">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1812336">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812403">if</span>&nbsp;<span class="op" id="1812406">(</span><span class="ident" id="1812407">cpuid_ecx</span><span class="op" id="1812416">&amp;</span><span class="op" id="1812417">(</span><span class="num" id="1812418">1</span><span class="op" id="1812419">&lt;&lt;</span><span class="num" id="1812421">25</span><span class="op" id="1812423">)</span><span class="op" id="1812424">)</span>&nbsp;<span class="op" id="1812426">!=</span>&nbsp;<span class="num" id="1812429">0</span>&nbsp;<span class="op" id="1812431">&amp;&amp;</span>&nbsp;<span class="comment" id="1812434">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812452">(</span><span class="ident" id="1812453">cpuid_ecx</span><span class="op" id="1812462">&amp;</span><span class="op" id="1812463">(</span><span class="num" id="1812464">1</span><span class="op" id="1812465">&lt;&lt;</span><span class="num" id="1812467">9</span><span class="op" id="1812468">)</span><span class="op" id="1812469">)</span>&nbsp;<span class="op" id="1812471">!=</span>&nbsp;<span class="num" id="1812474">0</span>&nbsp;<span class="op" id="1812476">&amp;&amp;</span>&nbsp;<span class="comment" id="1812479">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812498">(</span><span class="ident" id="1812499">cpuid_ecx</span><span class="op" id="1812508">&amp;</span><span class="op" id="1812509">(</span><span class="num" id="1812510">1</span><span class="op" id="1812511">&lt;&lt;</span><span class="num" id="1812513">19</span><span class="op" id="1812515">)</span><span class="op" id="1812516">)</span>&nbsp;<span class="op" id="1812518">!=</span>&nbsp;<span class="num" id="1812521">0</span>&nbsp;<span class="op" id="1812523">{</span>&nbsp;<span class="comment" id="1812525">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812550">useAeshash</span>&nbsp;<span class="op" id="1812561">=</span>&nbsp;<span class="builtintype" id="1812563">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812570">algarray</span><span class="op" id="1812578">[</span><span class="ident" id="1812579">alg_MEM</span><span class="op" id="1812586">]</span><span class="op" id="1812587">.</span><span class="ident" id="1812588">hash</span>&nbsp;<span class="op" id="1812593">=</span>&nbsp;<span class="ident" id="1812595">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812605">algarray</span><span class="op" id="1812613">[</span><span class="ident" id="1812614">alg_MEM8</span><span class="op" id="1812622">]</span><span class="op" id="1812623">.</span><span class="ident" id="1812624">hash</span>&nbsp;<span class="op" id="1812629">=</span>&nbsp;<span class="ident" id="1812631">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812641">algarray</span><span class="op" id="1812649">[</span><span class="ident" id="1812650">alg_MEM16</span><span class="op" id="1812659">]</span><span class="op" id="1812660">.</span><span class="ident" id="1812661">hash</span>&nbsp;<span class="op" id="1812666">=</span>&nbsp;<span class="ident" id="1812668">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812678">algarray</span><span class="op" id="1812686">[</span><span class="ident" id="1812687">alg_MEM32</span><span class="op" id="1812696">]</span><span class="op" id="1812697">.</span><span class="ident" id="1812698">hash</span>&nbsp;<span class="op" id="1812703">=</span>&nbsp;<span class="ident" id="1812705">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812717">algarray</span><span class="op" id="1812725">[</span><span class="ident" id="1812726">alg_MEM64</span><span class="op" id="1812735">]</span><span class="op" id="1812736">.</span><span class="ident" id="1812737">hash</span>&nbsp;<span class="op" id="1812742">=</span>&nbsp;<span class="ident" id="1812744">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812756">algarray</span><span class="op" id="1812764">[</span><span class="ident" id="1812765">alg_MEM128</span><span class="op" id="1812775">]</span><span class="op" id="1812776">.</span><span class="ident" id="1812777">hash</span>&nbsp;<span class="op" id="1812782">=</span>&nbsp;<span class="ident" id="1812784">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812794">algarray</span><span class="op" id="1812802">[</span><span class="ident" id="1812803">alg_STRING</span><span class="op" id="1812813">]</span><span class="op" id="1812814">.</span><span class="ident" id="1812815">hash</span>&nbsp;<span class="op" id="1812820">=</span>&nbsp;<span class="ident" id="1812822">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1812835">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812913">var</span>&nbsp;<span class="ident" id="1812917">rnd</span>&nbsp;<span class="ident" id="1812921">unsafe</span><span class="op" id="1812927">.</span><span class="ident" id="1812928">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812938">var</span>&nbsp;<span class="ident" id="1812942">n</span>&nbsp;<span class="builtintype" id="1812944">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812952">get_random_data</span><span class="op" id="1812967">(</span><span class="op" id="1812968">&amp;</span><span class="ident" id="1812969">rnd</span><span class="op" id="1812972">,</span>&nbsp;<span class="op" id="1812974">&amp;</span><span class="ident" id="1812975">n</span><span class="op" id="1812976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812980">if</span>&nbsp;<span class="ident" id="1812983">n</span>&nbsp;<span class="op" id="1812985">&gt;</span>&nbsp;<span class="ident" id="1812987">hashRandomBytes</span>&nbsp;<span class="op" id="1813003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813008">n</span>&nbsp;<span class="op" id="1813010">=</span>&nbsp;<span class="ident" id="1813012">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813034">memmove</span><span class="op" id="1813041">(</span><span class="ident" id="1813042">unsafe</span><span class="op" id="1813048">.</span><span class="ident" id="1813049">Pointer</span><span class="op" id="1813056">(</span><span class="op" id="1813057">&amp;</span><span class="ident" id="1813058">aeskeysched</span><span class="op" id="1813069">[</span><span class="num" id="1813070">0</span><span class="op" id="1813071">]</span><span class="op" id="1813072">)</span><span class="op" id="1813073">,</span>&nbsp;<span class="ident" id="1813075">rnd</span><span class="op" id="1813078">,</span>&nbsp;<span class="builtintype" id="1813080">uintptr</span><span class="op" id="1813087">(</span><span class="ident" id="1813088">n</span><span class="op" id="1813089">)</span><span class="op" id="1813090">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813094">if</span>&nbsp;<span class="ident" id="1813097">n</span>&nbsp;<span class="op" id="1813099">&lt;</span>&nbsp;<span class="ident" id="1813101">hashRandomBytes</span>&nbsp;<span class="op" id="1813117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1813122">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813170">for</span>&nbsp;<span class="ident" id="1813174">t</span>&nbsp;<span class="op" id="1813176">:=</span>&nbsp;<span class="ident" id="1813179">nanotime</span><span class="op" id="1813187">(</span><span class="op" id="1813188">)</span><span class="op" id="1813189">;</span>&nbsp;<span class="ident" id="1813191">n</span>&nbsp;<span class="op" id="1813193">&lt;</span>&nbsp;<span class="ident" id="1813195">hashRandomBytes</span><span class="op" id="1813210">;</span>&nbsp;<span class="ident" id="1813212">n</span><span class="op" id="1813213">++</span>&nbsp;<span class="op" id="1813216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813222">aeskeysched</span><span class="op" id="1813233">[</span><span class="ident" id="1813234">n</span><span class="op" id="1813235">]</span>&nbsp;<span class="op" id="1813237">=</span>&nbsp;<span class="builtintype" id="1813239">byte</span><span class="op" id="1813243">(</span><span class="ident" id="1813244">t</span>&nbsp;<span class="op" id="1813246">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1813249">uint</span><span class="op" id="1813253">(</span><span class="num" id="1813254">8</span><span class="op" id="1813255">*</span><span class="op" id="1813256">(</span><span class="ident" id="1813257">n</span><span class="op" id="1813258">%</span><span class="num" id="1813259">8</span><span class="op" id="1813260">)</span><span class="op" id="1813261">)</span><span class="op" id="1813262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813267">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813274">}</span><br>
<span class="lineno"></span><span class="op" id="1813276">}</span>
</div>
</body>
</html>
