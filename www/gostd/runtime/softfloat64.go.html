<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html" class="current">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1713616">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1713672">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1713726">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1713777">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="1713820">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="1713873">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1713909">package</span>&nbsp;<span class="ident" id="1713917">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1713926">const</span>&nbsp;<span class="op" id="1713932">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1713935">mantbits64</span>&nbsp;<span class="builtintype" id="1713946">uint</span>&nbsp;<span class="op" id="1713951">=</span>&nbsp;<span class="num" id="1713953">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1713957">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="1713968">uint</span>&nbsp;<span class="op" id="1713973">=</span>&nbsp;<span class="num" id="1713975">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1713979">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713995">=</span>&nbsp;<span class="op" id="1713997">-</span><span class="num" id="1713998">1</span><span class="op" id="1713999">&lt;&lt;</span><span class="op" id="1714001">(</span><span class="ident" id="1714002">expbits64</span><span class="op" id="1714011">-</span><span class="num" id="1714012">1</span><span class="op" id="1714013">)</span>&nbsp;<span class="op" id="1714015">+</span>&nbsp;<span class="num" id="1714017">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714021">nan64</span>&nbsp;<span class="ident" id="1714027">uint64</span>&nbsp;<span class="op" id="1714034">=</span>&nbsp;<span class="op" id="1714036">(</span><span class="num" id="1714037">1</span><span class="op" id="1714038">&lt;&lt;</span><span class="ident" id="1714040">expbits64</span><span class="op" id="1714049">-</span><span class="num" id="1714050">1</span><span class="op" id="1714051">)</span><span class="op" id="1714052">&lt;&lt;</span><span class="ident" id="1714054">mantbits64</span>&nbsp;<span class="op" id="1714065">+</span>&nbsp;<span class="num" id="1714067">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714070">inf64</span>&nbsp;<span class="ident" id="1714076">uint64</span>&nbsp;<span class="op" id="1714083">=</span>&nbsp;<span class="op" id="1714085">(</span><span class="num" id="1714086">1</span><span class="op" id="1714087">&lt;&lt;</span><span class="ident" id="1714089">expbits64</span>&nbsp;<span class="op" id="1714099">-</span>&nbsp;<span class="num" id="1714101">1</span><span class="op" id="1714102">)</span>&nbsp;<span class="op" id="1714104">&lt;&lt;</span>&nbsp;<span class="ident" id="1714107">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714119">neg64</span>&nbsp;<span class="ident" id="1714125">uint64</span>&nbsp;<span class="op" id="1714132">=</span>&nbsp;<span class="num" id="1714134">1</span>&nbsp;<span class="op" id="1714136">&lt;&lt;</span>&nbsp;<span class="op" id="1714139">(</span><span class="ident" id="1714140">expbits64</span>&nbsp;<span class="op" id="1714150">+</span>&nbsp;<span class="ident" id="1714152">mantbits64</span><span class="op" id="1714162">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714166">mantbits32</span>&nbsp;<span class="builtintype" id="1714177">uint</span>&nbsp;<span class="op" id="1714182">=</span>&nbsp;<span class="num" id="1714184">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714188">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="1714199">uint</span>&nbsp;<span class="op" id="1714204">=</span>&nbsp;<span class="num" id="1714206">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714209">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1714225">=</span>&nbsp;<span class="op" id="1714227">-</span><span class="num" id="1714228">1</span><span class="op" id="1714229">&lt;&lt;</span><span class="op" id="1714231">(</span><span class="ident" id="1714232">expbits32</span><span class="op" id="1714241">-</span><span class="num" id="1714242">1</span><span class="op" id="1714243">)</span>&nbsp;<span class="op" id="1714245">+</span>&nbsp;<span class="num" id="1714247">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714251">nan32</span>&nbsp;<span class="builtintype" id="1714257">uint32</span>&nbsp;<span class="op" id="1714264">=</span>&nbsp;<span class="op" id="1714266">(</span><span class="num" id="1714267">1</span><span class="op" id="1714268">&lt;&lt;</span><span class="ident" id="1714270">expbits32</span><span class="op" id="1714279">-</span><span class="num" id="1714280">1</span><span class="op" id="1714281">)</span><span class="op" id="1714282">&lt;&lt;</span><span class="ident" id="1714284">mantbits32</span>&nbsp;<span class="op" id="1714295">+</span>&nbsp;<span class="num" id="1714297">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714300">inf32</span>&nbsp;<span class="builtintype" id="1714306">uint32</span>&nbsp;<span class="op" id="1714313">=</span>&nbsp;<span class="op" id="1714315">(</span><span class="num" id="1714316">1</span><span class="op" id="1714317">&lt;&lt;</span><span class="ident" id="1714319">expbits32</span>&nbsp;<span class="op" id="1714329">-</span>&nbsp;<span class="num" id="1714331">1</span><span class="op" id="1714332">)</span>&nbsp;<span class="op" id="1714334">&lt;&lt;</span>&nbsp;<span class="ident" id="1714337">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714349">neg32</span>&nbsp;<span class="builtintype" id="1714355">uint32</span>&nbsp;<span class="op" id="1714362">=</span>&nbsp;<span class="num" id="1714364">1</span>&nbsp;<span class="op" id="1714366">&lt;&lt;</span>&nbsp;<span class="op" id="1714369">(</span><span class="ident" id="1714370">expbits32</span>&nbsp;<span class="op" id="1714380">+</span>&nbsp;<span class="ident" id="1714382">mantbits32</span><span class="op" id="1714392">)</span><br>
<span class="lineno"></span><span class="op" id="1714394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1714397">func</span>&nbsp;<span class="ident" id="1714402">funpack64</span><span class="op" id="1714411">(</span><span class="ident" id="1714412">f</span>&nbsp;<span class="ident" id="1714414">uint64</span><span class="op" id="1714420">)</span>&nbsp;<span class="op" id="1714422">(</span><span class="ident" id="1714423">sign</span><span class="op" id="1714427">,</span>&nbsp;<span class="ident" id="1714429">mant</span>&nbsp;<span class="ident" id="1714434">uint64</span><span class="op" id="1714440">,</span>&nbsp;<span class="ident" id="1714442">exp</span>&nbsp;<span class="builtintype" id="1714446">int</span><span class="op" id="1714449">,</span>&nbsp;<span class="ident" id="1714451">inf</span><span class="op" id="1714454">,</span>&nbsp;<span class="ident" id="1714456">nan</span>&nbsp;<span class="builtintype" id="1714460">bool</span><span class="op" id="1714464">)</span>&nbsp;<span class="op" id="1714466">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714469">sign</span>&nbsp;<span class="op" id="1714474">=</span>&nbsp;<span class="ident" id="1714476">f</span>&nbsp;<span class="op" id="1714478">&amp;</span>&nbsp;<span class="op" id="1714480">(</span><span class="num" id="1714481">1</span>&nbsp;<span class="op" id="1714483">&lt;&lt;</span>&nbsp;<span class="op" id="1714486">(</span><span class="ident" id="1714487">mantbits64</span>&nbsp;<span class="op" id="1714498">+</span>&nbsp;<span class="ident" id="1714500">expbits64</span><span class="op" id="1714509">)</span><span class="op" id="1714510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714513">mant</span>&nbsp;<span class="op" id="1714518">=</span>&nbsp;<span class="ident" id="1714520">f</span>&nbsp;<span class="op" id="1714522">&amp;</span>&nbsp;<span class="op" id="1714524">(</span><span class="num" id="1714525">1</span><span class="op" id="1714526">&lt;&lt;</span><span class="ident" id="1714528">mantbits64</span>&nbsp;<span class="op" id="1714539">-</span>&nbsp;<span class="num" id="1714541">1</span><span class="op" id="1714542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714545">exp</span>&nbsp;<span class="op" id="1714549">=</span>&nbsp;<span class="builtintype" id="1714551">int</span><span class="op" id="1714554">(</span><span class="ident" id="1714555">f</span><span class="op" id="1714556">&gt;&gt;</span><span class="ident" id="1714558">mantbits64</span><span class="op" id="1714568">)</span>&nbsp;<span class="op" id="1714570">&amp;</span>&nbsp;<span class="op" id="1714572">(</span><span class="num" id="1714573">1</span><span class="op" id="1714574">&lt;&lt;</span><span class="ident" id="1714576">expbits64</span>&nbsp;<span class="op" id="1714586">-</span>&nbsp;<span class="num" id="1714588">1</span><span class="op" id="1714589">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714593">switch</span>&nbsp;<span class="ident" id="1714600">exp</span>&nbsp;<span class="op" id="1714604">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714607">case</span>&nbsp;<span class="num" id="1714612">1</span><span class="op" id="1714613">&lt;&lt;</span><span class="ident" id="1714615">expbits64</span>&nbsp;<span class="op" id="1714625">-</span>&nbsp;<span class="num" id="1714627">1</span><span class="op" id="1714628">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714632">if</span>&nbsp;<span class="ident" id="1714635">mant</span>&nbsp;<span class="op" id="1714640">!=</span>&nbsp;<span class="num" id="1714643">0</span>&nbsp;<span class="op" id="1714645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714650">nan</span>&nbsp;<span class="op" id="1714654">=</span>&nbsp;<span class="builtintype" id="1714656">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714664">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1714673">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714677">inf</span>&nbsp;<span class="op" id="1714681">=</span>&nbsp;<span class="builtintype" id="1714683">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714690">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714699">case</span>&nbsp;<span class="num" id="1714704">0</span><span class="op" id="1714705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1714709">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714727">if</span>&nbsp;<span class="ident" id="1714730">mant</span>&nbsp;<span class="op" id="1714735">!=</span>&nbsp;<span class="num" id="1714738">0</span>&nbsp;<span class="op" id="1714740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714745">exp</span>&nbsp;<span class="op" id="1714749">+=</span>&nbsp;<span class="ident" id="1714752">bias64</span>&nbsp;<span class="op" id="1714759">+</span>&nbsp;<span class="num" id="1714761">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714766">for</span>&nbsp;<span class="ident" id="1714770">mant</span>&nbsp;<span class="op" id="1714775">&lt;</span>&nbsp;<span class="num" id="1714777">1</span><span class="op" id="1714778">&lt;&lt;</span><span class="ident" id="1714780">mantbits64</span>&nbsp;<span class="op" id="1714791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714797">mant</span>&nbsp;<span class="op" id="1714802">&lt;&lt;=</span>&nbsp;<span class="num" id="1714806">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714812">exp</span><span class="op" id="1714815">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1714821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1714825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714829">default</span><span class="op" id="1714836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1714840">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714866">mant</span>&nbsp;<span class="op" id="1714871">|=</span>&nbsp;<span class="num" id="1714874">1</span>&nbsp;<span class="op" id="1714876">&lt;&lt;</span>&nbsp;<span class="ident" id="1714879">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714892">exp</span>&nbsp;<span class="op" id="1714896">+=</span>&nbsp;<span class="ident" id="1714899">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1714907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1714910">return</span><br>
<span class="lineno"></span><span class="op" id="1714917">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1714920">func</span>&nbsp;<span class="ident" id="1714925">funpack32</span><span class="op" id="1714934">(</span><span class="ident" id="1714935">f</span>&nbsp;<span class="builtintype" id="1714937">uint32</span><span class="op" id="1714943">)</span>&nbsp;<span class="op" id="1714945">(</span><span class="ident" id="1714946">sign</span><span class="op" id="1714950">,</span>&nbsp;<span class="ident" id="1714952">mant</span>&nbsp;<span class="builtintype" id="1714957">uint32</span><span class="op" id="1714963">,</span>&nbsp;<span class="ident" id="1714965">exp</span>&nbsp;<span class="builtintype" id="1714969">int</span><span class="op" id="1714972">,</span>&nbsp;<span class="ident" id="1714974">inf</span><span class="op" id="1714977">,</span>&nbsp;<span class="ident" id="1714979">nan</span>&nbsp;<span class="builtintype" id="1714983">bool</span><span class="op" id="1714987">)</span>&nbsp;<span class="op" id="1714989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1714992">sign</span>&nbsp;<span class="op" id="1714997">=</span>&nbsp;<span class="ident" id="1714999">f</span>&nbsp;<span class="op" id="1715001">&amp;</span>&nbsp;<span class="op" id="1715003">(</span><span class="num" id="1715004">1</span>&nbsp;<span class="op" id="1715006">&lt;&lt;</span>&nbsp;<span class="op" id="1715009">(</span><span class="ident" id="1715010">mantbits32</span>&nbsp;<span class="op" id="1715021">+</span>&nbsp;<span class="ident" id="1715023">expbits32</span><span class="op" id="1715032">)</span><span class="op" id="1715033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715036">mant</span>&nbsp;<span class="op" id="1715041">=</span>&nbsp;<span class="ident" id="1715043">f</span>&nbsp;<span class="op" id="1715045">&amp;</span>&nbsp;<span class="op" id="1715047">(</span><span class="num" id="1715048">1</span><span class="op" id="1715049">&lt;&lt;</span><span class="ident" id="1715051">mantbits32</span>&nbsp;<span class="op" id="1715062">-</span>&nbsp;<span class="num" id="1715064">1</span><span class="op" id="1715065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715068">exp</span>&nbsp;<span class="op" id="1715072">=</span>&nbsp;<span class="builtintype" id="1715074">int</span><span class="op" id="1715077">(</span><span class="ident" id="1715078">f</span><span class="op" id="1715079">&gt;&gt;</span><span class="ident" id="1715081">mantbits32</span><span class="op" id="1715091">)</span>&nbsp;<span class="op" id="1715093">&amp;</span>&nbsp;<span class="op" id="1715095">(</span><span class="num" id="1715096">1</span><span class="op" id="1715097">&lt;&lt;</span><span class="ident" id="1715099">expbits32</span>&nbsp;<span class="op" id="1715109">-</span>&nbsp;<span class="num" id="1715111">1</span><span class="op" id="1715112">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715116">switch</span>&nbsp;<span class="ident" id="1715123">exp</span>&nbsp;<span class="op" id="1715127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715130">case</span>&nbsp;<span class="num" id="1715135">1</span><span class="op" id="1715136">&lt;&lt;</span><span class="ident" id="1715138">expbits32</span>&nbsp;<span class="op" id="1715148">-</span>&nbsp;<span class="num" id="1715150">1</span><span class="op" id="1715151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715155">if</span>&nbsp;<span class="ident" id="1715158">mant</span>&nbsp;<span class="op" id="1715163">!=</span>&nbsp;<span class="num" id="1715166">0</span>&nbsp;<span class="op" id="1715168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715173">nan</span>&nbsp;<span class="op" id="1715177">=</span>&nbsp;<span class="builtintype" id="1715179">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715187">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715200">inf</span>&nbsp;<span class="op" id="1715204">=</span>&nbsp;<span class="builtintype" id="1715206">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715213">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715222">case</span>&nbsp;<span class="num" id="1715227">0</span><span class="op" id="1715228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1715232">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715250">if</span>&nbsp;<span class="ident" id="1715253">mant</span>&nbsp;<span class="op" id="1715258">!=</span>&nbsp;<span class="num" id="1715261">0</span>&nbsp;<span class="op" id="1715263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715268">exp</span>&nbsp;<span class="op" id="1715272">+=</span>&nbsp;<span class="ident" id="1715275">bias32</span>&nbsp;<span class="op" id="1715282">+</span>&nbsp;<span class="num" id="1715284">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715289">for</span>&nbsp;<span class="ident" id="1715293">mant</span>&nbsp;<span class="op" id="1715298">&lt;</span>&nbsp;<span class="num" id="1715300">1</span><span class="op" id="1715301">&lt;&lt;</span><span class="ident" id="1715303">mantbits32</span>&nbsp;<span class="op" id="1715314">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715320">mant</span>&nbsp;<span class="op" id="1715325">&lt;&lt;=</span>&nbsp;<span class="num" id="1715329">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715335">exp</span><span class="op" id="1715338">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715352">default</span><span class="op" id="1715359">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1715363">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715389">mant</span>&nbsp;<span class="op" id="1715394">|=</span>&nbsp;<span class="num" id="1715397">1</span>&nbsp;<span class="op" id="1715399">&lt;&lt;</span>&nbsp;<span class="ident" id="1715402">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715415">exp</span>&nbsp;<span class="op" id="1715419">+=</span>&nbsp;<span class="ident" id="1715422">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715430">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715433">return</span><br>
<span class="lineno"></span><span class="op" id="1715440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1715443">func</span>&nbsp;<span class="ident" id="1715448">fpack64</span><span class="op" id="1715455">(</span><span class="ident" id="1715456">sign</span><span class="op" id="1715460">,</span>&nbsp;<span class="ident" id="1715462">mant</span>&nbsp;<span class="ident" id="1715467">uint64</span><span class="op" id="1715473">,</span>&nbsp;<span class="ident" id="1715475">exp</span>&nbsp;<span class="builtintype" id="1715479">int</span><span class="op" id="1715482">,</span>&nbsp;<span class="ident" id="1715484">trunc</span>&nbsp;<span class="ident" id="1715490">uint64</span><span class="op" id="1715496">)</span>&nbsp;<span class="ident" id="1715498">uint64</span>&nbsp;<span class="op" id="1715505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715508">mant0</span><span class="op" id="1715513">,</span>&nbsp;<span class="ident" id="1715515">exp0</span><span class="op" id="1715519">,</span>&nbsp;<span class="ident" id="1715521">trunc0</span>&nbsp;<span class="op" id="1715528">:=</span>&nbsp;<span class="ident" id="1715531">mant</span><span class="op" id="1715535">,</span>&nbsp;<span class="ident" id="1715537">exp</span><span class="op" id="1715540">,</span>&nbsp;<span class="ident" id="1715542">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715549">if</span>&nbsp;<span class="ident" id="1715552">mant</span>&nbsp;<span class="op" id="1715557">==</span>&nbsp;<span class="num" id="1715560">0</span>&nbsp;<span class="op" id="1715562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715566">return</span>&nbsp;<span class="ident" id="1715573">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715582">for</span>&nbsp;<span class="ident" id="1715586">mant</span>&nbsp;<span class="op" id="1715591">&lt;</span>&nbsp;<span class="num" id="1715593">1</span><span class="op" id="1715594">&lt;&lt;</span><span class="ident" id="1715596">mantbits64</span>&nbsp;<span class="op" id="1715607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715611">mant</span>&nbsp;<span class="op" id="1715616">&lt;&lt;=</span>&nbsp;<span class="num" id="1715620">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715624">exp</span><span class="op" id="1715627">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715634">for</span>&nbsp;<span class="ident" id="1715638">mant</span>&nbsp;<span class="op" id="1715643">&gt;=</span>&nbsp;<span class="num" id="1715646">4</span><span class="op" id="1715647">&lt;&lt;</span><span class="ident" id="1715649">mantbits64</span>&nbsp;<span class="op" id="1715660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715664">trunc</span>&nbsp;<span class="op" id="1715670">|=</span>&nbsp;<span class="ident" id="1715673">mant</span>&nbsp;<span class="op" id="1715678">&amp;</span>&nbsp;<span class="num" id="1715680">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715684">mant</span>&nbsp;<span class="op" id="1715689">&gt;&gt;=</span>&nbsp;<span class="num" id="1715693">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715697">exp</span><span class="op" id="1715700">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715707">if</span>&nbsp;<span class="ident" id="1715710">mant</span>&nbsp;<span class="op" id="1715715">&gt;=</span>&nbsp;<span class="num" id="1715718">2</span><span class="op" id="1715719">&lt;&lt;</span><span class="ident" id="1715721">mantbits64</span>&nbsp;<span class="op" id="1715732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715736">if</span>&nbsp;<span class="ident" id="1715739">mant</span><span class="op" id="1715743">&amp;</span><span class="num" id="1715744">1</span>&nbsp;<span class="op" id="1715746">!=</span>&nbsp;<span class="num" id="1715749">0</span>&nbsp;<span class="op" id="1715751">&amp;&amp;</span>&nbsp;<span class="op" id="1715754">(</span><span class="ident" id="1715755">trunc</span>&nbsp;<span class="op" id="1715761">!=</span>&nbsp;<span class="num" id="1715764">0</span>&nbsp;<span class="op" id="1715766">||</span>&nbsp;<span class="ident" id="1715769">mant</span><span class="op" id="1715773">&amp;</span><span class="num" id="1715774">2</span>&nbsp;<span class="op" id="1715776">!=</span>&nbsp;<span class="num" id="1715779">0</span><span class="op" id="1715780">)</span>&nbsp;<span class="op" id="1715782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715787">mant</span><span class="op" id="1715791">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715797">if</span>&nbsp;<span class="ident" id="1715800">mant</span>&nbsp;<span class="op" id="1715805">&gt;=</span>&nbsp;<span class="num" id="1715808">4</span><span class="op" id="1715809">&lt;&lt;</span><span class="ident" id="1715811">mantbits64</span>&nbsp;<span class="op" id="1715822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715828">mant</span>&nbsp;<span class="op" id="1715833">&gt;&gt;=</span>&nbsp;<span class="num" id="1715837">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715843">exp</span><span class="op" id="1715846">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715856">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715860">mant</span>&nbsp;<span class="op" id="1715865">&gt;&gt;=</span>&nbsp;<span class="num" id="1715869">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1715873">exp</span><span class="op" id="1715876">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715883">if</span>&nbsp;<span class="ident" id="1715886">exp</span>&nbsp;<span class="op" id="1715890">&gt;=</span>&nbsp;<span class="num" id="1715893">1</span><span class="op" id="1715894">&lt;&lt;</span><span class="ident" id="1715896">expbits64</span><span class="op" id="1715905">-</span><span class="num" id="1715906">1</span><span class="op" id="1715907">+</span><span class="ident" id="1715908">bias64</span>&nbsp;<span class="op" id="1715915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715919">return</span>&nbsp;<span class="ident" id="1715926">sign</span>&nbsp;<span class="op" id="1715931">^</span>&nbsp;<span class="ident" id="1715933">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1715940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715943">if</span>&nbsp;<span class="ident" id="1715946">exp</span>&nbsp;<span class="op" id="1715950">&lt;</span>&nbsp;<span class="ident" id="1715952">bias64</span><span class="op" id="1715958">+</span><span class="num" id="1715959">1</span>&nbsp;<span class="op" id="1715961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1715965">if</span>&nbsp;<span class="ident" id="1715968">exp</span>&nbsp;<span class="op" id="1715972">&lt;</span>&nbsp;<span class="ident" id="1715974">bias64</span><span class="op" id="1715980">-</span><span class="builtintype" id="1715981">int</span><span class="op" id="1715984">(</span><span class="ident" id="1715985">mantbits64</span><span class="op" id="1715995">)</span>&nbsp;<span class="op" id="1715997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716002">return</span>&nbsp;<span class="ident" id="1716009">sign</span>&nbsp;<span class="op" id="1716014">|</span>&nbsp;<span class="num" id="1716016">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716020">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1716024">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716055">mant</span><span class="op" id="1716059">,</span>&nbsp;<span class="ident" id="1716061">exp</span><span class="op" id="1716064">,</span>&nbsp;<span class="ident" id="1716066">trunc</span>&nbsp;<span class="op" id="1716072">=</span>&nbsp;<span class="ident" id="1716074">mant0</span><span class="op" id="1716079">,</span>&nbsp;<span class="ident" id="1716081">exp0</span><span class="op" id="1716085">,</span>&nbsp;<span class="ident" id="1716087">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716096">for</span>&nbsp;<span class="ident" id="1716100">exp</span>&nbsp;<span class="op" id="1716104">&lt;</span>&nbsp;<span class="ident" id="1716106">bias64</span>&nbsp;<span class="op" id="1716113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716118">trunc</span>&nbsp;<span class="op" id="1716124">|=</span>&nbsp;<span class="ident" id="1716127">mant</span>&nbsp;<span class="op" id="1716132">&amp;</span>&nbsp;<span class="num" id="1716134">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716139">mant</span>&nbsp;<span class="op" id="1716144">&gt;&gt;=</span>&nbsp;<span class="num" id="1716148">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716153">exp</span><span class="op" id="1716156">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716165">if</span>&nbsp;<span class="ident" id="1716168">mant</span><span class="op" id="1716172">&amp;</span><span class="num" id="1716173">1</span>&nbsp;<span class="op" id="1716175">!=</span>&nbsp;<span class="num" id="1716178">0</span>&nbsp;<span class="op" id="1716180">&amp;&amp;</span>&nbsp;<span class="op" id="1716183">(</span><span class="ident" id="1716184">trunc</span>&nbsp;<span class="op" id="1716190">!=</span>&nbsp;<span class="num" id="1716193">0</span>&nbsp;<span class="op" id="1716195">||</span>&nbsp;<span class="ident" id="1716198">mant</span><span class="op" id="1716202">&amp;</span><span class="num" id="1716203">2</span>&nbsp;<span class="op" id="1716205">!=</span>&nbsp;<span class="num" id="1716208">0</span><span class="op" id="1716209">)</span>&nbsp;<span class="op" id="1716211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716216">mant</span><span class="op" id="1716220">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716225">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716229">mant</span>&nbsp;<span class="op" id="1716234">&gt;&gt;=</span>&nbsp;<span class="num" id="1716238">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716242">exp</span><span class="op" id="1716245">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716250">if</span>&nbsp;<span class="ident" id="1716253">mant</span>&nbsp;<span class="op" id="1716258">&lt;</span>&nbsp;<span class="num" id="1716260">1</span><span class="op" id="1716261">&lt;&lt;</span><span class="ident" id="1716263">mantbits64</span>&nbsp;<span class="op" id="1716274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716279">return</span>&nbsp;<span class="ident" id="1716286">sign</span>&nbsp;<span class="op" id="1716291">|</span>&nbsp;<span class="ident" id="1716293">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716300">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716306">return</span>&nbsp;<span class="ident" id="1716313">sign</span>&nbsp;<span class="op" id="1716318">|</span>&nbsp;<span class="ident" id="1716320">uint64</span><span class="op" id="1716326">(</span><span class="ident" id="1716327">exp</span><span class="op" id="1716330">-</span><span class="ident" id="1716331">bias64</span><span class="op" id="1716337">)</span><span class="op" id="1716338">&lt;&lt;</span><span class="ident" id="1716340">mantbits64</span>&nbsp;<span class="op" id="1716351">|</span>&nbsp;<span class="ident" id="1716353">mant</span><span class="op" id="1716357">&amp;</span><span class="op" id="1716358">(</span><span class="num" id="1716359">1</span><span class="op" id="1716360">&lt;&lt;</span><span class="ident" id="1716362">mantbits64</span><span class="op" id="1716372">-</span><span class="num" id="1716373">1</span><span class="op" id="1716374">)</span><br>
<span class="lineno"></span><span class="op" id="1716376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1716379">func</span>&nbsp;<span class="ident" id="1716384">fpack32</span><span class="op" id="1716391">(</span><span class="ident" id="1716392">sign</span><span class="op" id="1716396">,</span>&nbsp;<span class="ident" id="1716398">mant</span>&nbsp;<span class="builtintype" id="1716403">uint32</span><span class="op" id="1716409">,</span>&nbsp;<span class="ident" id="1716411">exp</span>&nbsp;<span class="builtintype" id="1716415">int</span><span class="op" id="1716418">,</span>&nbsp;<span class="ident" id="1716420">trunc</span>&nbsp;<span class="builtintype" id="1716426">uint32</span><span class="op" id="1716432">)</span>&nbsp;<span class="builtintype" id="1716434">uint32</span>&nbsp;<span class="op" id="1716441">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716444">mant0</span><span class="op" id="1716449">,</span>&nbsp;<span class="ident" id="1716451">exp0</span><span class="op" id="1716455">,</span>&nbsp;<span class="ident" id="1716457">trunc0</span>&nbsp;<span class="op" id="1716464">:=</span>&nbsp;<span class="ident" id="1716467">mant</span><span class="op" id="1716471">,</span>&nbsp;<span class="ident" id="1716473">exp</span><span class="op" id="1716476">,</span>&nbsp;<span class="ident" id="1716478">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716485">if</span>&nbsp;<span class="ident" id="1716488">mant</span>&nbsp;<span class="op" id="1716493">==</span>&nbsp;<span class="num" id="1716496">0</span>&nbsp;<span class="op" id="1716498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716502">return</span>&nbsp;<span class="ident" id="1716509">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716518">for</span>&nbsp;<span class="ident" id="1716522">mant</span>&nbsp;<span class="op" id="1716527">&lt;</span>&nbsp;<span class="num" id="1716529">1</span><span class="op" id="1716530">&lt;&lt;</span><span class="ident" id="1716532">mantbits32</span>&nbsp;<span class="op" id="1716543">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716547">mant</span>&nbsp;<span class="op" id="1716552">&lt;&lt;=</span>&nbsp;<span class="num" id="1716556">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716560">exp</span><span class="op" id="1716563">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716570">for</span>&nbsp;<span class="ident" id="1716574">mant</span>&nbsp;<span class="op" id="1716579">&gt;=</span>&nbsp;<span class="num" id="1716582">4</span><span class="op" id="1716583">&lt;&lt;</span><span class="ident" id="1716585">mantbits32</span>&nbsp;<span class="op" id="1716596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716600">trunc</span>&nbsp;<span class="op" id="1716606">|=</span>&nbsp;<span class="ident" id="1716609">mant</span>&nbsp;<span class="op" id="1716614">&amp;</span>&nbsp;<span class="num" id="1716616">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716620">mant</span>&nbsp;<span class="op" id="1716625">&gt;&gt;=</span>&nbsp;<span class="num" id="1716629">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716633">exp</span><span class="op" id="1716636">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716643">if</span>&nbsp;<span class="ident" id="1716646">mant</span>&nbsp;<span class="op" id="1716651">&gt;=</span>&nbsp;<span class="num" id="1716654">2</span><span class="op" id="1716655">&lt;&lt;</span><span class="ident" id="1716657">mantbits32</span>&nbsp;<span class="op" id="1716668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716672">if</span>&nbsp;<span class="ident" id="1716675">mant</span><span class="op" id="1716679">&amp;</span><span class="num" id="1716680">1</span>&nbsp;<span class="op" id="1716682">!=</span>&nbsp;<span class="num" id="1716685">0</span>&nbsp;<span class="op" id="1716687">&amp;&amp;</span>&nbsp;<span class="op" id="1716690">(</span><span class="ident" id="1716691">trunc</span>&nbsp;<span class="op" id="1716697">!=</span>&nbsp;<span class="num" id="1716700">0</span>&nbsp;<span class="op" id="1716702">||</span>&nbsp;<span class="ident" id="1716705">mant</span><span class="op" id="1716709">&amp;</span><span class="num" id="1716710">2</span>&nbsp;<span class="op" id="1716712">!=</span>&nbsp;<span class="num" id="1716715">0</span><span class="op" id="1716716">)</span>&nbsp;<span class="op" id="1716718">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716723">mant</span><span class="op" id="1716727">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716733">if</span>&nbsp;<span class="ident" id="1716736">mant</span>&nbsp;<span class="op" id="1716741">&gt;=</span>&nbsp;<span class="num" id="1716744">4</span><span class="op" id="1716745">&lt;&lt;</span><span class="ident" id="1716747">mantbits32</span>&nbsp;<span class="op" id="1716758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716764">mant</span>&nbsp;<span class="op" id="1716769">&gt;&gt;=</span>&nbsp;<span class="num" id="1716773">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716779">exp</span><span class="op" id="1716782">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716788">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716796">mant</span>&nbsp;<span class="op" id="1716801">&gt;&gt;=</span>&nbsp;<span class="num" id="1716805">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716809">exp</span><span class="op" id="1716812">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716819">if</span>&nbsp;<span class="ident" id="1716822">exp</span>&nbsp;<span class="op" id="1716826">&gt;=</span>&nbsp;<span class="num" id="1716829">1</span><span class="op" id="1716830">&lt;&lt;</span><span class="ident" id="1716832">expbits32</span><span class="op" id="1716841">-</span><span class="num" id="1716842">1</span><span class="op" id="1716843">+</span><span class="ident" id="1716844">bias32</span>&nbsp;<span class="op" id="1716851">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716855">return</span>&nbsp;<span class="ident" id="1716862">sign</span>&nbsp;<span class="op" id="1716867">^</span>&nbsp;<span class="ident" id="1716869">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716879">if</span>&nbsp;<span class="ident" id="1716882">exp</span>&nbsp;<span class="op" id="1716886">&lt;</span>&nbsp;<span class="ident" id="1716888">bias32</span><span class="op" id="1716894">+</span><span class="num" id="1716895">1</span>&nbsp;<span class="op" id="1716897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716901">if</span>&nbsp;<span class="ident" id="1716904">exp</span>&nbsp;<span class="op" id="1716908">&lt;</span>&nbsp;<span class="ident" id="1716910">bias32</span><span class="op" id="1716916">-</span><span class="builtintype" id="1716917">int</span><span class="op" id="1716920">(</span><span class="ident" id="1716921">mantbits32</span><span class="op" id="1716931">)</span>&nbsp;<span class="op" id="1716933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1716938">return</span>&nbsp;<span class="ident" id="1716945">sign</span>&nbsp;<span class="op" id="1716950">|</span>&nbsp;<span class="num" id="1716952">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1716956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1716960">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1716991">mant</span><span class="op" id="1716995">,</span>&nbsp;<span class="ident" id="1716997">exp</span><span class="op" id="1717000">,</span>&nbsp;<span class="ident" id="1717002">trunc</span>&nbsp;<span class="op" id="1717008">=</span>&nbsp;<span class="ident" id="1717010">mant0</span><span class="op" id="1717015">,</span>&nbsp;<span class="ident" id="1717017">exp0</span><span class="op" id="1717021">,</span>&nbsp;<span class="ident" id="1717023">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717032">for</span>&nbsp;<span class="ident" id="1717036">exp</span>&nbsp;<span class="op" id="1717040">&lt;</span>&nbsp;<span class="ident" id="1717042">bias32</span>&nbsp;<span class="op" id="1717049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717054">trunc</span>&nbsp;<span class="op" id="1717060">|=</span>&nbsp;<span class="ident" id="1717063">mant</span>&nbsp;<span class="op" id="1717068">&amp;</span>&nbsp;<span class="num" id="1717070">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717075">mant</span>&nbsp;<span class="op" id="1717080">&gt;&gt;=</span>&nbsp;<span class="num" id="1717084">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717089">exp</span><span class="op" id="1717092">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717101">if</span>&nbsp;<span class="ident" id="1717104">mant</span><span class="op" id="1717108">&amp;</span><span class="num" id="1717109">1</span>&nbsp;<span class="op" id="1717111">!=</span>&nbsp;<span class="num" id="1717114">0</span>&nbsp;<span class="op" id="1717116">&amp;&amp;</span>&nbsp;<span class="op" id="1717119">(</span><span class="ident" id="1717120">trunc</span>&nbsp;<span class="op" id="1717126">!=</span>&nbsp;<span class="num" id="1717129">0</span>&nbsp;<span class="op" id="1717131">||</span>&nbsp;<span class="ident" id="1717134">mant</span><span class="op" id="1717138">&amp;</span><span class="num" id="1717139">2</span>&nbsp;<span class="op" id="1717141">!=</span>&nbsp;<span class="num" id="1717144">0</span><span class="op" id="1717145">)</span>&nbsp;<span class="op" id="1717147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717152">mant</span><span class="op" id="1717156">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717165">mant</span>&nbsp;<span class="op" id="1717170">&gt;&gt;=</span>&nbsp;<span class="num" id="1717174">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717178">exp</span><span class="op" id="1717181">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717186">if</span>&nbsp;<span class="ident" id="1717189">mant</span>&nbsp;<span class="op" id="1717194">&lt;</span>&nbsp;<span class="num" id="1717196">1</span><span class="op" id="1717197">&lt;&lt;</span><span class="ident" id="1717199">mantbits32</span>&nbsp;<span class="op" id="1717210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717215">return</span>&nbsp;<span class="ident" id="1717222">sign</span>&nbsp;<span class="op" id="1717227">|</span>&nbsp;<span class="ident" id="1717229">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717242">return</span>&nbsp;<span class="ident" id="1717249">sign</span>&nbsp;<span class="op" id="1717254">|</span>&nbsp;<span class="builtintype" id="1717256">uint32</span><span class="op" id="1717262">(</span><span class="ident" id="1717263">exp</span><span class="op" id="1717266">-</span><span class="ident" id="1717267">bias32</span><span class="op" id="1717273">)</span><span class="op" id="1717274">&lt;&lt;</span><span class="ident" id="1717276">mantbits32</span>&nbsp;<span class="op" id="1717287">|</span>&nbsp;<span class="ident" id="1717289">mant</span><span class="op" id="1717293">&amp;</span><span class="op" id="1717294">(</span><span class="num" id="1717295">1</span><span class="op" id="1717296">&lt;&lt;</span><span class="ident" id="1717298">mantbits32</span><span class="op" id="1717308">-</span><span class="num" id="1717309">1</span><span class="op" id="1717310">)</span><br>
<span class="lineno"></span><span class="op" id="1717312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="1717315">func</span>&nbsp;<span class="ident" id="1717320">fadd64</span><span class="op" id="1717326">(</span><span class="ident" id="1717327">f</span><span class="op" id="1717328">,</span>&nbsp;<span class="ident" id="1717330">g</span>&nbsp;<span class="ident" id="1717332">uint64</span><span class="op" id="1717338">)</span>&nbsp;<span class="ident" id="1717340">uint64</span>&nbsp;<span class="op" id="1717347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717350">fs</span><span class="op" id="1717352">,</span>&nbsp;<span class="ident" id="1717354">fm</span><span class="op" id="1717356">,</span>&nbsp;<span class="ident" id="1717358">fe</span><span class="op" id="1717360">,</span>&nbsp;<span class="ident" id="1717362">fi</span><span class="op" id="1717364">,</span>&nbsp;<span class="ident" id="1717366">fn</span>&nbsp;<span class="op" id="1717369">:=</span>&nbsp;<span class="ident" id="1717372">funpack64</span><span class="op" id="1717381">(</span><span class="ident" id="1717382">f</span><span class="op" id="1717383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717386">gs</span><span class="op" id="1717388">,</span>&nbsp;<span class="ident" id="1717390">gm</span><span class="op" id="1717392">,</span>&nbsp;<span class="ident" id="1717394">ge</span><span class="op" id="1717396">,</span>&nbsp;<span class="ident" id="1717398">gi</span><span class="op" id="1717400">,</span>&nbsp;<span class="ident" id="1717402">gn</span>&nbsp;<span class="op" id="1717405">:=</span>&nbsp;<span class="ident" id="1717408">funpack64</span><span class="op" id="1717417">(</span><span class="ident" id="1717418">g</span><span class="op" id="1717419">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1717423">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717442">switch</span>&nbsp;<span class="op" id="1717449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717452">case</span>&nbsp;<span class="ident" id="1717457">fn</span>&nbsp;<span class="op" id="1717460">||</span>&nbsp;<span class="ident" id="1717463">gn</span><span class="op" id="1717465">:</span>&nbsp;<span class="comment" id="1717467">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717497">return</span>&nbsp;<span class="ident" id="1717504">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717512">case</span>&nbsp;<span class="ident" id="1717517">fi</span>&nbsp;<span class="op" id="1717520">&amp;&amp;</span>&nbsp;<span class="ident" id="1717523">gi</span>&nbsp;<span class="op" id="1717526">&amp;&amp;</span>&nbsp;<span class="ident" id="1717529">fs</span>&nbsp;<span class="op" id="1717532">!=</span>&nbsp;<span class="ident" id="1717535">gs</span><span class="op" id="1717537">:</span>&nbsp;<span class="comment" id="1717539">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717577">return</span>&nbsp;<span class="ident" id="1717584">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717592">case</span>&nbsp;<span class="ident" id="1717597">fi</span><span class="op" id="1717599">:</span>&nbsp;<span class="comment" id="1717601">//&nbsp;±Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717624">return</span>&nbsp;<span class="ident" id="1717631">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717635">case</span>&nbsp;<span class="ident" id="1717640">gi</span><span class="op" id="1717642">:</span>&nbsp;<span class="comment" id="1717644">//&nbsp;f&nbsp;+&nbsp;±Inf&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717667">return</span>&nbsp;<span class="ident" id="1717674">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717678">case</span>&nbsp;<span class="ident" id="1717683">fm</span>&nbsp;<span class="op" id="1717686">==</span>&nbsp;<span class="num" id="1717689">0</span>&nbsp;<span class="op" id="1717691">&amp;&amp;</span>&nbsp;<span class="ident" id="1717694">gm</span>&nbsp;<span class="op" id="1717697">==</span>&nbsp;<span class="num" id="1717700">0</span>&nbsp;<span class="op" id="1717702">&amp;&amp;</span>&nbsp;<span class="ident" id="1717705">fs</span>&nbsp;<span class="op" id="1717708">!=</span>&nbsp;<span class="num" id="1717711">0</span>&nbsp;<span class="op" id="1717713">&amp;&amp;</span>&nbsp;<span class="ident" id="1717716">gs</span>&nbsp;<span class="op" id="1717719">!=</span>&nbsp;<span class="num" id="1717722">0</span><span class="op" id="1717723">:</span>&nbsp;<span class="comment" id="1717725">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717743">return</span>&nbsp;<span class="ident" id="1717750">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717754">case</span>&nbsp;<span class="ident" id="1717759">fm</span>&nbsp;<span class="op" id="1717762">==</span>&nbsp;<span class="num" id="1717765">0</span><span class="op" id="1717766">:</span>&nbsp;<span class="comment" id="1717768">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717799">if</span>&nbsp;<span class="ident" id="1717802">gm</span>&nbsp;<span class="op" id="1717805">==</span>&nbsp;<span class="num" id="1717808">0</span>&nbsp;<span class="op" id="1717810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717815">g</span>&nbsp;<span class="op" id="1717817">^=</span>&nbsp;<span class="ident" id="1717820">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717825">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717829">return</span>&nbsp;<span class="ident" id="1717836">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717840">case</span>&nbsp;<span class="ident" id="1717845">gm</span>&nbsp;<span class="op" id="1717848">==</span>&nbsp;<span class="num" id="1717851">0</span><span class="op" id="1717852">:</span>&nbsp;<span class="comment" id="1717854">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717869">return</span>&nbsp;<span class="ident" id="1717876">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1717884">if</span>&nbsp;<span class="ident" id="1717887">fe</span>&nbsp;<span class="op" id="1717890">&lt;</span>&nbsp;<span class="ident" id="1717892">ge</span>&nbsp;<span class="op" id="1717895">||</span>&nbsp;<span class="ident" id="1717898">fe</span>&nbsp;<span class="op" id="1717901">==</span>&nbsp;<span class="ident" id="1717904">ge</span>&nbsp;<span class="op" id="1717907">&amp;&amp;</span>&nbsp;<span class="ident" id="1717910">fm</span>&nbsp;<span class="op" id="1717913">&lt;</span>&nbsp;<span class="ident" id="1717915">gm</span>&nbsp;<span class="op" id="1717918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717922">f</span><span class="op" id="1717923">,</span>&nbsp;<span class="ident" id="1717925">g</span><span class="op" id="1717926">,</span>&nbsp;<span class="ident" id="1717928">fs</span><span class="op" id="1717930">,</span>&nbsp;<span class="ident" id="1717932">fm</span><span class="op" id="1717934">,</span>&nbsp;<span class="ident" id="1717936">fe</span><span class="op" id="1717938">,</span>&nbsp;<span class="ident" id="1717940">gs</span><span class="op" id="1717942">,</span>&nbsp;<span class="ident" id="1717944">gm</span><span class="op" id="1717946">,</span>&nbsp;<span class="ident" id="1717948">ge</span>&nbsp;<span class="op" id="1717951">=</span>&nbsp;<span class="ident" id="1717953">g</span><span class="op" id="1717954">,</span>&nbsp;<span class="ident" id="1717956">f</span><span class="op" id="1717957">,</span>&nbsp;<span class="ident" id="1717959">gs</span><span class="op" id="1717961">,</span>&nbsp;<span class="ident" id="1717963">gm</span><span class="op" id="1717965">,</span>&nbsp;<span class="ident" id="1717967">ge</span><span class="op" id="1717969">,</span>&nbsp;<span class="ident" id="1717971">fs</span><span class="op" id="1717973">,</span>&nbsp;<span class="ident" id="1717975">fm</span><span class="op" id="1717977">,</span>&nbsp;<span class="ident" id="1717979">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1717983">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1717987">shift</span>&nbsp;<span class="op" id="1717993">:=</span>&nbsp;<span class="builtintype" id="1717996">uint</span><span class="op" id="1718000">(</span><span class="ident" id="1718001">fe</span>&nbsp;<span class="op" id="1718004">-</span>&nbsp;<span class="ident" id="1718006">ge</span><span class="op" id="1718008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718011">fm</span>&nbsp;<span class="op" id="1718014">&lt;&lt;=</span>&nbsp;<span class="num" id="1718018">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718021">gm</span>&nbsp;<span class="op" id="1718024">&lt;&lt;=</span>&nbsp;<span class="num" id="1718028">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718031">trunc</span>&nbsp;<span class="op" id="1718037">:=</span>&nbsp;<span class="ident" id="1718040">gm</span>&nbsp;<span class="op" id="1718043">&amp;</span>&nbsp;<span class="op" id="1718045">(</span><span class="num" id="1718046">1</span><span class="op" id="1718047">&lt;&lt;</span><span class="ident" id="1718049">shift</span>&nbsp;<span class="op" id="1718055">-</span>&nbsp;<span class="num" id="1718057">1</span><span class="op" id="1718058">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718061">gm</span>&nbsp;<span class="op" id="1718064">&gt;&gt;=</span>&nbsp;<span class="ident" id="1718068">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718075">if</span>&nbsp;<span class="ident" id="1718078">fs</span>&nbsp;<span class="op" id="1718081">==</span>&nbsp;<span class="ident" id="1718084">gs</span>&nbsp;<span class="op" id="1718087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718091">fm</span>&nbsp;<span class="op" id="1718094">+=</span>&nbsp;<span class="ident" id="1718097">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1718101">}</span>&nbsp;<span class="keyword" id="1718103">else</span>&nbsp;<span class="op" id="1718108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718112">fm</span>&nbsp;<span class="op" id="1718115">-=</span>&nbsp;<span class="ident" id="1718118">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718123">if</span>&nbsp;<span class="ident" id="1718126">trunc</span>&nbsp;<span class="op" id="1718132">!=</span>&nbsp;<span class="num" id="1718135">0</span>&nbsp;<span class="op" id="1718137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718142">fm</span><span class="op" id="1718144">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1718149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1718152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718155">if</span>&nbsp;<span class="ident" id="1718158">fm</span>&nbsp;<span class="op" id="1718161">==</span>&nbsp;<span class="num" id="1718164">0</span>&nbsp;<span class="op" id="1718166">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718170">fs</span>&nbsp;<span class="op" id="1718173">=</span>&nbsp;<span class="num" id="1718175">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1718178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718181">return</span>&nbsp;<span class="ident" id="1718188">fpack64</span><span class="op" id="1718195">(</span><span class="ident" id="1718196">fs</span><span class="op" id="1718198">,</span>&nbsp;<span class="ident" id="1718200">fm</span><span class="op" id="1718202">,</span>&nbsp;<span class="ident" id="1718204">fe</span><span class="op" id="1718206">-</span><span class="num" id="1718207">2</span><span class="op" id="1718208">,</span>&nbsp;<span class="ident" id="1718210">trunc</span><span class="op" id="1718215">)</span><br>
<span class="lineno"></span><span class="op" id="1718217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1718220">func</span>&nbsp;<span class="ident" id="1718225">fsub64</span><span class="op" id="1718231">(</span><span class="ident" id="1718232">f</span><span class="op" id="1718233">,</span>&nbsp;<span class="ident" id="1718235">g</span>&nbsp;<span class="ident" id="1718237">uint64</span><span class="op" id="1718243">)</span>&nbsp;<span class="ident" id="1718245">uint64</span>&nbsp;<span class="op" id="1718252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718255">return</span>&nbsp;<span class="ident" id="1718262">fadd64</span><span class="op" id="1718268">(</span><span class="ident" id="1718269">f</span><span class="op" id="1718270">,</span>&nbsp;<span class="ident" id="1718272">fneg64</span><span class="op" id="1718278">(</span><span class="ident" id="1718279">g</span><span class="op" id="1718280">)</span><span class="op" id="1718281">)</span><br>
<span class="lineno"></span><span class="op" id="1718283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1718286">func</span>&nbsp;<span class="ident" id="1718291">fneg64</span><span class="op" id="1718297">(</span><span class="ident" id="1718298">f</span>&nbsp;<span class="ident" id="1718300">uint64</span><span class="op" id="1718306">)</span>&nbsp;<span class="ident" id="1718308">uint64</span>&nbsp;<span class="op" id="1718315">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718318">return</span>&nbsp;<span class="ident" id="1718325">f</span>&nbsp;<span class="op" id="1718327">^</span>&nbsp;<span class="op" id="1718329">(</span><span class="num" id="1718330">1</span>&nbsp;<span class="op" id="1718332">&lt;&lt;</span>&nbsp;<span class="op" id="1718335">(</span><span class="ident" id="1718336">mantbits64</span>&nbsp;<span class="op" id="1718347">+</span>&nbsp;<span class="ident" id="1718349">expbits64</span><span class="op" id="1718358">)</span><span class="op" id="1718359">)</span><br>
<span class="lineno"></span><span class="op" id="1718361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1718364">func</span>&nbsp;<span class="ident" id="1718369">fmul64</span><span class="op" id="1718375">(</span><span class="ident" id="1718376">f</span><span class="op" id="1718377">,</span>&nbsp;<span class="ident" id="1718379">g</span>&nbsp;<span class="ident" id="1718381">uint64</span><span class="op" id="1718387">)</span>&nbsp;<span class="ident" id="1718389">uint64</span>&nbsp;<span class="op" id="1718396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718399">fs</span><span class="op" id="1718401">,</span>&nbsp;<span class="ident" id="1718403">fm</span><span class="op" id="1718405">,</span>&nbsp;<span class="ident" id="1718407">fe</span><span class="op" id="1718409">,</span>&nbsp;<span class="ident" id="1718411">fi</span><span class="op" id="1718413">,</span>&nbsp;<span class="ident" id="1718415">fn</span>&nbsp;<span class="op" id="1718418">:=</span>&nbsp;<span class="ident" id="1718421">funpack64</span><span class="op" id="1718430">(</span><span class="ident" id="1718431">f</span><span class="op" id="1718432">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718435">gs</span><span class="op" id="1718437">,</span>&nbsp;<span class="ident" id="1718439">gm</span><span class="op" id="1718441">,</span>&nbsp;<span class="ident" id="1718443">ge</span><span class="op" id="1718445">,</span>&nbsp;<span class="ident" id="1718447">gi</span><span class="op" id="1718449">,</span>&nbsp;<span class="ident" id="1718451">gn</span>&nbsp;<span class="op" id="1718454">:=</span>&nbsp;<span class="ident" id="1718457">funpack64</span><span class="op" id="1718466">(</span><span class="ident" id="1718467">g</span><span class="op" id="1718468">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1718472">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718491">switch</span>&nbsp;<span class="op" id="1718498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718501">case</span>&nbsp;<span class="ident" id="1718506">fn</span>&nbsp;<span class="op" id="1718509">||</span>&nbsp;<span class="ident" id="1718512">gn</span><span class="op" id="1718514">:</span>&nbsp;<span class="comment" id="1718516">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718546">return</span>&nbsp;<span class="ident" id="1718553">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718561">case</span>&nbsp;<span class="ident" id="1718566">fi</span>&nbsp;<span class="op" id="1718569">&amp;&amp;</span>&nbsp;<span class="ident" id="1718572">gi</span><span class="op" id="1718574">:</span>&nbsp;<span class="comment" id="1718576">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718618">return</span>&nbsp;<span class="ident" id="1718625">f</span>&nbsp;<span class="op" id="1718627">^</span>&nbsp;<span class="ident" id="1718629">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718634">case</span>&nbsp;<span class="ident" id="1718639">fi</span>&nbsp;<span class="op" id="1718642">&amp;&amp;</span>&nbsp;<span class="ident" id="1718645">gm</span>&nbsp;<span class="op" id="1718648">==</span>&nbsp;<span class="num" id="1718651">0</span><span class="op" id="1718652">,</span>&nbsp;<span class="ident" id="1718654">fm</span>&nbsp;<span class="op" id="1718657">==</span>&nbsp;<span class="num" id="1718660">0</span>&nbsp;<span class="op" id="1718662">&amp;&amp;</span>&nbsp;<span class="ident" id="1718665">gi</span><span class="op" id="1718667">:</span>&nbsp;<span class="comment" id="1718669">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718698">return</span>&nbsp;<span class="ident" id="1718705">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718713">case</span>&nbsp;<span class="ident" id="1718718">fm</span>&nbsp;<span class="op" id="1718721">==</span>&nbsp;<span class="num" id="1718724">0</span><span class="op" id="1718725">:</span>&nbsp;<span class="comment" id="1718727">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718763">return</span>&nbsp;<span class="ident" id="1718770">f</span>&nbsp;<span class="op" id="1718772">^</span>&nbsp;<span class="ident" id="1718774">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718779">case</span>&nbsp;<span class="ident" id="1718784">gm</span>&nbsp;<span class="op" id="1718787">==</span>&nbsp;<span class="num" id="1718790">0</span><span class="op" id="1718791">:</span>&nbsp;<span class="comment" id="1718793">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1718829">return</span>&nbsp;<span class="ident" id="1718836">g</span>&nbsp;<span class="op" id="1718838">^</span>&nbsp;<span class="ident" id="1718840">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1718844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1718848">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718886">lo</span><span class="op" id="1718888">,</span>&nbsp;<span class="ident" id="1718890">hi</span>&nbsp;<span class="op" id="1718893">:=</span>&nbsp;<span class="ident" id="1718896">mullu</span><span class="op" id="1718901">(</span><span class="ident" id="1718902">fm</span><span class="op" id="1718904">,</span>&nbsp;<span class="ident" id="1718906">gm</span><span class="op" id="1718908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718911">shift</span>&nbsp;<span class="op" id="1718917">:=</span>&nbsp;<span class="ident" id="1718920">mantbits64</span>&nbsp;<span class="op" id="1718931">-</span>&nbsp;<span class="num" id="1718933">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718936">trunc</span>&nbsp;<span class="op" id="1718942">:=</span>&nbsp;<span class="ident" id="1718945">lo</span>&nbsp;<span class="op" id="1718948">&amp;</span>&nbsp;<span class="op" id="1718950">(</span><span class="num" id="1718951">1</span><span class="op" id="1718952">&lt;&lt;</span><span class="ident" id="1718954">shift</span>&nbsp;<span class="op" id="1718960">-</span>&nbsp;<span class="num" id="1718962">1</span><span class="op" id="1718963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1718966">mant</span>&nbsp;<span class="op" id="1718971">:=</span>&nbsp;<span class="ident" id="1718974">hi</span><span class="op" id="1718976">&lt;&lt;</span><span class="op" id="1718978">(</span><span class="num" id="1718979">64</span><span class="op" id="1718981">-</span><span class="ident" id="1718982">shift</span><span class="op" id="1718987">)</span>&nbsp;<span class="op" id="1718989">|</span>&nbsp;<span class="ident" id="1718991">lo</span><span class="op" id="1718993">&gt;&gt;</span><span class="ident" id="1718995">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719002">return</span>&nbsp;<span class="ident" id="1719009">fpack64</span><span class="op" id="1719016">(</span><span class="ident" id="1719017">fs</span><span class="op" id="1719019">^</span><span class="ident" id="1719020">gs</span><span class="op" id="1719022">,</span>&nbsp;<span class="ident" id="1719024">mant</span><span class="op" id="1719028">,</span>&nbsp;<span class="ident" id="1719030">fe</span><span class="op" id="1719032">+</span><span class="ident" id="1719033">ge</span><span class="op" id="1719035">-</span><span class="num" id="1719036">1</span><span class="op" id="1719037">,</span>&nbsp;<span class="ident" id="1719039">trunc</span><span class="op" id="1719044">)</span><br>
<span class="lineno"></span><span class="op" id="1719046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1719049">func</span>&nbsp;<span class="ident" id="1719054">fdiv64</span><span class="op" id="1719060">(</span><span class="ident" id="1719061">f</span><span class="op" id="1719062">,</span>&nbsp;<span class="ident" id="1719064">g</span>&nbsp;<span class="ident" id="1719066">uint64</span><span class="op" id="1719072">)</span>&nbsp;<span class="ident" id="1719074">uint64</span>&nbsp;<span class="op" id="1719081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719084">fs</span><span class="op" id="1719086">,</span>&nbsp;<span class="ident" id="1719088">fm</span><span class="op" id="1719090">,</span>&nbsp;<span class="ident" id="1719092">fe</span><span class="op" id="1719094">,</span>&nbsp;<span class="ident" id="1719096">fi</span><span class="op" id="1719098">,</span>&nbsp;<span class="ident" id="1719100">fn</span>&nbsp;<span class="op" id="1719103">:=</span>&nbsp;<span class="ident" id="1719106">funpack64</span><span class="op" id="1719115">(</span><span class="ident" id="1719116">f</span><span class="op" id="1719117">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719120">gs</span><span class="op" id="1719122">,</span>&nbsp;<span class="ident" id="1719124">gm</span><span class="op" id="1719126">,</span>&nbsp;<span class="ident" id="1719128">ge</span><span class="op" id="1719130">,</span>&nbsp;<span class="ident" id="1719132">gi</span><span class="op" id="1719134">,</span>&nbsp;<span class="ident" id="1719136">gn</span>&nbsp;<span class="op" id="1719139">:=</span>&nbsp;<span class="ident" id="1719142">funpack64</span><span class="op" id="1719151">(</span><span class="ident" id="1719152">g</span><span class="op" id="1719153">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1719157">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719176">switch</span>&nbsp;<span class="op" id="1719183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719186">case</span>&nbsp;<span class="ident" id="1719191">fn</span>&nbsp;<span class="op" id="1719194">||</span>&nbsp;<span class="ident" id="1719197">gn</span><span class="op" id="1719199">:</span>&nbsp;<span class="comment" id="1719201">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719230">return</span>&nbsp;<span class="ident" id="1719237">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719245">case</span>&nbsp;<span class="ident" id="1719250">fi</span>&nbsp;<span class="op" id="1719253">&amp;&amp;</span>&nbsp;<span class="ident" id="1719256">gi</span><span class="op" id="1719258">:</span>&nbsp;<span class="comment" id="1719260">//&nbsp;±Inf&nbsp;/&nbsp;±Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719285">return</span>&nbsp;<span class="ident" id="1719292">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719300">case</span>&nbsp;<span class="op" id="1719305">!</span><span class="ident" id="1719306">fi</span>&nbsp;<span class="op" id="1719309">&amp;&amp;</span>&nbsp;<span class="op" id="1719312">!</span><span class="ident" id="1719313">gi</span>&nbsp;<span class="op" id="1719316">&amp;&amp;</span>&nbsp;<span class="ident" id="1719319">fm</span>&nbsp;<span class="op" id="1719322">==</span>&nbsp;<span class="num" id="1719325">0</span>&nbsp;<span class="op" id="1719327">&amp;&amp;</span>&nbsp;<span class="ident" id="1719330">gm</span>&nbsp;<span class="op" id="1719333">==</span>&nbsp;<span class="num" id="1719336">0</span><span class="op" id="1719337">:</span>&nbsp;<span class="comment" id="1719339">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719356">return</span>&nbsp;<span class="ident" id="1719363">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719371">case</span>&nbsp;<span class="ident" id="1719376">fi</span><span class="op" id="1719378">,</span>&nbsp;<span class="op" id="1719380">!</span><span class="ident" id="1719381">gi</span>&nbsp;<span class="op" id="1719384">&amp;&amp;</span>&nbsp;<span class="ident" id="1719387">gm</span>&nbsp;<span class="op" id="1719390">==</span>&nbsp;<span class="num" id="1719393">0</span><span class="op" id="1719394">:</span>&nbsp;<span class="comment" id="1719396">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719423">return</span>&nbsp;<span class="ident" id="1719430">fs</span>&nbsp;<span class="op" id="1719433">^</span>&nbsp;<span class="ident" id="1719435">gs</span>&nbsp;<span class="op" id="1719438">^</span>&nbsp;<span class="ident" id="1719440">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719448">case</span>&nbsp;<span class="ident" id="1719453">gi</span><span class="op" id="1719455">,</span>&nbsp;<span class="ident" id="1719457">fm</span>&nbsp;<span class="op" id="1719460">==</span>&nbsp;<span class="num" id="1719463">0</span><span class="op" id="1719464">:</span>&nbsp;<span class="comment" id="1719466">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719493">return</span>&nbsp;<span class="ident" id="1719500">fs</span>&nbsp;<span class="op" id="1719503">^</span>&nbsp;<span class="ident" id="1719505">gs</span>&nbsp;<span class="op" id="1719508">^</span>&nbsp;<span class="num" id="1719510">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719516">_</span><span class="op" id="1719517">,</span>&nbsp;<span class="ident" id="1719519">_</span><span class="op" id="1719520">,</span>&nbsp;<span class="ident" id="1719522">_</span><span class="op" id="1719523">,</span>&nbsp;<span class="ident" id="1719525">_</span>&nbsp;<span class="op" id="1719527">=</span>&nbsp;<span class="ident" id="1719529">fi</span><span class="op" id="1719531">,</span>&nbsp;<span class="ident" id="1719533">fn</span><span class="op" id="1719535">,</span>&nbsp;<span class="ident" id="1719537">gi</span><span class="op" id="1719539">,</span>&nbsp;<span class="ident" id="1719541">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1719546">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719587">shift</span>&nbsp;<span class="op" id="1719593">:=</span>&nbsp;<span class="ident" id="1719596">mantbits64</span>&nbsp;<span class="op" id="1719607">+</span>&nbsp;<span class="num" id="1719609">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719612">q</span><span class="op" id="1719613">,</span>&nbsp;<span class="ident" id="1719615">r</span>&nbsp;<span class="op" id="1719617">:=</span>&nbsp;<span class="ident" id="1719620">divlu</span><span class="op" id="1719625">(</span><span class="ident" id="1719626">fm</span><span class="op" id="1719628">&gt;&gt;</span><span class="op" id="1719630">(</span><span class="num" id="1719631">64</span><span class="op" id="1719633">-</span><span class="ident" id="1719634">shift</span><span class="op" id="1719639">)</span><span class="op" id="1719640">,</span>&nbsp;<span class="ident" id="1719642">fm</span><span class="op" id="1719644">&lt;&lt;</span><span class="ident" id="1719646">shift</span><span class="op" id="1719651">,</span>&nbsp;<span class="ident" id="1719653">gm</span><span class="op" id="1719655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719658">return</span>&nbsp;<span class="ident" id="1719665">fpack64</span><span class="op" id="1719672">(</span><span class="ident" id="1719673">fs</span><span class="op" id="1719675">^</span><span class="ident" id="1719676">gs</span><span class="op" id="1719678">,</span>&nbsp;<span class="ident" id="1719680">q</span><span class="op" id="1719681">,</span>&nbsp;<span class="ident" id="1719683">fe</span><span class="op" id="1719685">-</span><span class="ident" id="1719686">ge</span><span class="op" id="1719688">-</span><span class="num" id="1719689">2</span><span class="op" id="1719690">,</span>&nbsp;<span class="ident" id="1719692">r</span><span class="op" id="1719693">)</span><br>
<span class="lineno">315</span><span class="op" id="1719695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1719698">func</span>&nbsp;<span class="ident" id="1719703">f64to32</span><span class="op" id="1719710">(</span><span class="ident" id="1719711">f</span>&nbsp;<span class="ident" id="1719713">uint64</span><span class="op" id="1719719">)</span>&nbsp;<span class="builtintype" id="1719721">uint32</span>&nbsp;<span class="op" id="1719728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719731">fs</span><span class="op" id="1719733">,</span>&nbsp;<span class="ident" id="1719735">fm</span><span class="op" id="1719737">,</span>&nbsp;<span class="ident" id="1719739">fe</span><span class="op" id="1719741">,</span>&nbsp;<span class="ident" id="1719743">fi</span><span class="op" id="1719745">,</span>&nbsp;<span class="ident" id="1719747">fn</span>&nbsp;<span class="op" id="1719750">:=</span>&nbsp;<span class="ident" id="1719753">funpack64</span><span class="op" id="1719762">(</span><span class="ident" id="1719763">f</span><span class="op" id="1719764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719767">if</span>&nbsp;<span class="ident" id="1719770">fn</span>&nbsp;<span class="op" id="1719773">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719777">return</span>&nbsp;<span class="ident" id="1719784">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719794">fs32</span>&nbsp;<span class="op" id="1719799">:=</span>&nbsp;<span class="builtintype" id="1719802">uint32</span><span class="op" id="1719808">(</span><span class="ident" id="1719809">fs</span>&nbsp;<span class="op" id="1719812">&gt;&gt;</span>&nbsp;<span class="num" id="1719815">32</span><span class="op" id="1719817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719820">if</span>&nbsp;<span class="ident" id="1719823">fi</span>&nbsp;<span class="op" id="1719826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719830">return</span>&nbsp;<span class="ident" id="1719837">fs32</span>&nbsp;<span class="op" id="1719842">^</span>&nbsp;<span class="ident" id="1719844">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719854">const</span>&nbsp;<span class="ident" id="1719860">d</span>&nbsp;<span class="op" id="1719862">=</span>&nbsp;<span class="ident" id="1719864">mantbits64</span>&nbsp;<span class="op" id="1719875">-</span>&nbsp;<span class="ident" id="1719877">mantbits32</span>&nbsp;<span class="op" id="1719888">-</span>&nbsp;<span class="num" id="1719890">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719893">return</span>&nbsp;<span class="ident" id="1719900">fpack32</span><span class="op" id="1719907">(</span><span class="ident" id="1719908">fs32</span><span class="op" id="1719912">,</span>&nbsp;<span class="builtintype" id="1719914">uint32</span><span class="op" id="1719920">(</span><span class="ident" id="1719921">fm</span><span class="op" id="1719923">&gt;&gt;</span><span class="ident" id="1719925">d</span><span class="op" id="1719926">)</span><span class="op" id="1719927">,</span>&nbsp;<span class="ident" id="1719929">fe</span><span class="op" id="1719931">-</span><span class="num" id="1719932">1</span><span class="op" id="1719933">,</span>&nbsp;<span class="builtintype" id="1719935">uint32</span><span class="op" id="1719941">(</span><span class="ident" id="1719942">fm</span><span class="op" id="1719944">&amp;</span><span class="op" id="1719945">(</span><span class="num" id="1719946">1</span><span class="op" id="1719947">&lt;&lt;</span><span class="ident" id="1719949">d</span><span class="op" id="1719950">-</span><span class="num" id="1719951">1</span><span class="op" id="1719952">)</span><span class="op" id="1719953">)</span><span class="op" id="1719954">)</span><br>
<span class="lineno"></span><span class="op" id="1719956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="1719959">func</span>&nbsp;<span class="ident" id="1719964">f32to64</span><span class="op" id="1719971">(</span><span class="ident" id="1719972">f</span>&nbsp;<span class="builtintype" id="1719974">uint32</span><span class="op" id="1719980">)</span>&nbsp;<span class="ident" id="1719982">uint64</span>&nbsp;<span class="op" id="1719989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719992">const</span>&nbsp;<span class="ident" id="1719998">d</span>&nbsp;<span class="op" id="1720000">=</span>&nbsp;<span class="ident" id="1720002">mantbits64</span>&nbsp;<span class="op" id="1720013">-</span>&nbsp;<span class="ident" id="1720015">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720027">fs</span><span class="op" id="1720029">,</span>&nbsp;<span class="ident" id="1720031">fm</span><span class="op" id="1720033">,</span>&nbsp;<span class="ident" id="1720035">fe</span><span class="op" id="1720037">,</span>&nbsp;<span class="ident" id="1720039">fi</span><span class="op" id="1720041">,</span>&nbsp;<span class="ident" id="1720043">fn</span>&nbsp;<span class="op" id="1720046">:=</span>&nbsp;<span class="ident" id="1720049">funpack32</span><span class="op" id="1720058">(</span><span class="ident" id="1720059">f</span><span class="op" id="1720060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720063">if</span>&nbsp;<span class="ident" id="1720066">fn</span>&nbsp;<span class="op" id="1720069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720073">return</span>&nbsp;<span class="ident" id="1720080">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1720087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720090">fs64</span>&nbsp;<span class="op" id="1720095">:=</span>&nbsp;<span class="ident" id="1720098">uint64</span><span class="op" id="1720104">(</span><span class="ident" id="1720105">fs</span><span class="op" id="1720107">)</span>&nbsp;<span class="op" id="1720109">&lt;&lt;</span>&nbsp;<span class="num" id="1720112">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720116">if</span>&nbsp;<span class="ident" id="1720119">fi</span>&nbsp;<span class="op" id="1720122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720126">return</span>&nbsp;<span class="ident" id="1720133">fs64</span>&nbsp;<span class="op" id="1720138">^</span>&nbsp;<span class="ident" id="1720140">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1720147">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720150">return</span>&nbsp;<span class="ident" id="1720157">fpack64</span><span class="op" id="1720164">(</span><span class="ident" id="1720165">fs64</span><span class="op" id="1720169">,</span>&nbsp;<span class="ident" id="1720171">uint64</span><span class="op" id="1720177">(</span><span class="ident" id="1720178">fm</span><span class="op" id="1720180">)</span><span class="op" id="1720181">&lt;&lt;</span><span class="ident" id="1720183">d</span><span class="op" id="1720184">,</span>&nbsp;<span class="ident" id="1720186">fe</span><span class="op" id="1720188">,</span>&nbsp;<span class="num" id="1720190">0</span><span class="op" id="1720191">)</span><br>
<span class="lineno"></span><span class="op" id="1720193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1720196">func</span>&nbsp;<span class="ident" id="1720201">fcmp64</span><span class="op" id="1720207">(</span><span class="ident" id="1720208">f</span><span class="op" id="1720209">,</span>&nbsp;<span class="ident" id="1720211">g</span>&nbsp;<span class="ident" id="1720213">uint64</span><span class="op" id="1720219">)</span>&nbsp;<span class="op" id="1720221">(</span><span class="ident" id="1720222">cmp</span>&nbsp;<span class="builtintype" id="1720226">int</span><span class="op" id="1720229">,</span>&nbsp;<span class="ident" id="1720231">isnan</span>&nbsp;<span class="builtintype" id="1720237">bool</span><span class="op" id="1720241">)</span>&nbsp;<span class="op" id="1720243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720246">fs</span><span class="op" id="1720248">,</span>&nbsp;<span class="ident" id="1720250">fm</span><span class="op" id="1720252">,</span>&nbsp;<span class="ident" id="1720254">_</span><span class="op" id="1720255">,</span>&nbsp;<span class="ident" id="1720257">fi</span><span class="op" id="1720259">,</span>&nbsp;<span class="ident" id="1720261">fn</span>&nbsp;<span class="op" id="1720264">:=</span>&nbsp;<span class="ident" id="1720267">funpack64</span><span class="op" id="1720276">(</span><span class="ident" id="1720277">f</span><span class="op" id="1720278">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720281">gs</span><span class="op" id="1720283">,</span>&nbsp;<span class="ident" id="1720285">gm</span><span class="op" id="1720287">,</span>&nbsp;<span class="ident" id="1720289">_</span><span class="op" id="1720290">,</span>&nbsp;<span class="ident" id="1720292">gi</span><span class="op" id="1720294">,</span>&nbsp;<span class="ident" id="1720296">gn</span>&nbsp;<span class="op" id="1720299">:=</span>&nbsp;<span class="ident" id="1720302">funpack64</span><span class="op" id="1720311">(</span><span class="ident" id="1720312">g</span><span class="op" id="1720313">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720317">switch</span>&nbsp;<span class="op" id="1720324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720327">case</span>&nbsp;<span class="ident" id="1720332">fn</span><span class="op" id="1720334">,</span>&nbsp;<span class="ident" id="1720336">gn</span><span class="op" id="1720338">:</span>&nbsp;<span class="comment" id="1720340">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720354">return</span>&nbsp;<span class="num" id="1720361">0</span><span class="op" id="1720362">,</span>&nbsp;<span class="builtintype" id="1720364">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720371">case</span>&nbsp;<span class="op" id="1720376">!</span><span class="ident" id="1720377">fi</span>&nbsp;<span class="op" id="1720380">&amp;&amp;</span>&nbsp;<span class="op" id="1720383">!</span><span class="ident" id="1720384">gi</span>&nbsp;<span class="op" id="1720387">&amp;&amp;</span>&nbsp;<span class="ident" id="1720390">fm</span>&nbsp;<span class="op" id="1720393">==</span>&nbsp;<span class="num" id="1720396">0</span>&nbsp;<span class="op" id="1720398">&amp;&amp;</span>&nbsp;<span class="ident" id="1720401">gm</span>&nbsp;<span class="op" id="1720404">==</span>&nbsp;<span class="num" id="1720407">0</span><span class="op" id="1720408">:</span>&nbsp;<span class="comment" id="1720410">//&nbsp;±0&nbsp;==&nbsp;±0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720426">return</span>&nbsp;<span class="num" id="1720433">0</span><span class="op" id="1720434">,</span>&nbsp;<span class="builtintype" id="1720436">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720444">case</span>&nbsp;<span class="ident" id="1720449">fs</span>&nbsp;<span class="op" id="1720452">&gt;</span>&nbsp;<span class="ident" id="1720454">gs</span><span class="op" id="1720456">:</span>&nbsp;<span class="comment" id="1720458">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720476">return</span>&nbsp;<span class="op" id="1720483">-</span><span class="num" id="1720484">1</span><span class="op" id="1720485">,</span>&nbsp;<span class="builtintype" id="1720487">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720495">case</span>&nbsp;<span class="ident" id="1720500">fs</span>&nbsp;<span class="op" id="1720503">&lt;</span>&nbsp;<span class="ident" id="1720505">gs</span><span class="op" id="1720507">:</span>&nbsp;<span class="comment" id="1720509">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720527">return</span>&nbsp;<span class="op" id="1720534">+</span><span class="num" id="1720535">1</span><span class="op" id="1720536">,</span>&nbsp;<span class="builtintype" id="1720538">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720546">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720570">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720610">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720632">case</span>&nbsp;<span class="ident" id="1720637">fs</span>&nbsp;<span class="op" id="1720640">==</span>&nbsp;<span class="num" id="1720643">0</span>&nbsp;<span class="op" id="1720645">&amp;&amp;</span>&nbsp;<span class="ident" id="1720648">f</span>&nbsp;<span class="op" id="1720650">&lt;</span>&nbsp;<span class="ident" id="1720652">g</span><span class="op" id="1720653">,</span>&nbsp;<span class="ident" id="1720655">fs</span>&nbsp;<span class="op" id="1720658">!=</span>&nbsp;<span class="num" id="1720661">0</span>&nbsp;<span class="op" id="1720663">&amp;&amp;</span>&nbsp;<span class="ident" id="1720666">f</span>&nbsp;<span class="op" id="1720668">&gt;</span>&nbsp;<span class="ident" id="1720670">g</span><span class="op" id="1720671">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720675">return</span>&nbsp;<span class="op" id="1720682">-</span><span class="num" id="1720683">1</span><span class="op" id="1720684">,</span>&nbsp;<span class="builtintype" id="1720686">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720694">case</span>&nbsp;<span class="ident" id="1720699">fs</span>&nbsp;<span class="op" id="1720702">==</span>&nbsp;<span class="num" id="1720705">0</span>&nbsp;<span class="op" id="1720707">&amp;&amp;</span>&nbsp;<span class="ident" id="1720710">f</span>&nbsp;<span class="op" id="1720712">&gt;</span>&nbsp;<span class="ident" id="1720714">g</span><span class="op" id="1720715">,</span>&nbsp;<span class="ident" id="1720717">fs</span>&nbsp;<span class="op" id="1720720">!=</span>&nbsp;<span class="num" id="1720723">0</span>&nbsp;<span class="op" id="1720725">&amp;&amp;</span>&nbsp;<span class="ident" id="1720728">f</span>&nbsp;<span class="op" id="1720730">&lt;</span>&nbsp;<span class="ident" id="1720732">g</span><span class="op" id="1720733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720737">return</span>&nbsp;<span class="op" id="1720744">+</span><span class="num" id="1720745">1</span><span class="op" id="1720746">,</span>&nbsp;<span class="builtintype" id="1720748">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1720755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720759">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720770">return</span>&nbsp;<span class="num" id="1720777">0</span><span class="op" id="1720778">,</span>&nbsp;<span class="builtintype" id="1720780">false</span><br>
<span class="lineno"></span><span class="op" id="1720786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1720789">func</span>&nbsp;<span class="ident" id="1720794">f64toint</span><span class="op" id="1720802">(</span><span class="ident" id="1720803">f</span>&nbsp;<span class="ident" id="1720805">uint64</span><span class="op" id="1720811">)</span>&nbsp;<span class="op" id="1720813">(</span><span class="ident" id="1720814">val</span>&nbsp;<span class="ident" id="1720818">int64</span><span class="op" id="1720823">,</span>&nbsp;<span class="ident" id="1720825">ok</span>&nbsp;<span class="builtintype" id="1720828">bool</span><span class="op" id="1720832">)</span>&nbsp;<span class="op" id="1720834">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720837">fs</span><span class="op" id="1720839">,</span>&nbsp;<span class="ident" id="1720841">fm</span><span class="op" id="1720843">,</span>&nbsp;<span class="ident" id="1720845">fe</span><span class="op" id="1720847">,</span>&nbsp;<span class="ident" id="1720849">fi</span><span class="op" id="1720851">,</span>&nbsp;<span class="ident" id="1720853">fn</span>&nbsp;<span class="op" id="1720856">:=</span>&nbsp;<span class="ident" id="1720859">funpack64</span><span class="op" id="1720868">(</span><span class="ident" id="1720869">f</span><span class="op" id="1720870">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720874">switch</span>&nbsp;<span class="op" id="1720881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720884">case</span>&nbsp;<span class="ident" id="1720889">fi</span><span class="op" id="1720891">,</span>&nbsp;<span class="ident" id="1720893">fn</span><span class="op" id="1720895">:</span>&nbsp;<span class="comment" id="1720897">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720906">return</span>&nbsp;<span class="num" id="1720913">0</span><span class="op" id="1720914">,</span>&nbsp;<span class="builtintype" id="1720916">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720924">case</span>&nbsp;<span class="ident" id="1720929">fe</span>&nbsp;<span class="op" id="1720932">&lt;</span>&nbsp;<span class="op" id="1720934">-</span><span class="num" id="1720935">1</span><span class="op" id="1720936">:</span>&nbsp;<span class="comment" id="1720938">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720951">return</span>&nbsp;<span class="num" id="1720958">0</span><span class="op" id="1720959">,</span>&nbsp;<span class="builtintype" id="1720961">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720969">case</span>&nbsp;<span class="ident" id="1720974">fe</span>&nbsp;<span class="op" id="1720977">&gt;</span>&nbsp;<span class="num" id="1720979">63</span><span class="op" id="1720981">:</span>&nbsp;<span class="comment" id="1720983">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720998">if</span>&nbsp;<span class="ident" id="1721001">fs</span>&nbsp;<span class="op" id="1721004">!=</span>&nbsp;<span class="num" id="1721007">0</span>&nbsp;<span class="op" id="1721009">&amp;&amp;</span>&nbsp;<span class="ident" id="1721012">fm</span>&nbsp;<span class="op" id="1721015">==</span>&nbsp;<span class="num" id="1721018">0</span>&nbsp;<span class="op" id="1721020">{</span>&nbsp;<span class="comment" id="1721022">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721039">return</span>&nbsp;<span class="op" id="1721046">-</span><span class="num" id="1721047">1</span>&nbsp;<span class="op" id="1721049">&lt;&lt;</span>&nbsp;<span class="num" id="1721052">63</span><span class="op" id="1721054">,</span>&nbsp;<span class="builtintype" id="1721056">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721067">if</span>&nbsp;<span class="ident" id="1721070">fs</span>&nbsp;<span class="op" id="1721073">!=</span>&nbsp;<span class="num" id="1721076">0</span>&nbsp;<span class="op" id="1721078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721083">return</span>&nbsp;<span class="num" id="1721090">0</span><span class="op" id="1721091">,</span>&nbsp;<span class="builtintype" id="1721093">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721105">return</span>&nbsp;<span class="num" id="1721112">0</span><span class="op" id="1721113">,</span>&nbsp;<span class="builtintype" id="1721115">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721126">for</span>&nbsp;<span class="ident" id="1721130">fe</span>&nbsp;<span class="op" id="1721133">&gt;</span>&nbsp;<span class="builtintype" id="1721135">int</span><span class="op" id="1721138">(</span><span class="ident" id="1721139">mantbits64</span><span class="op" id="1721149">)</span>&nbsp;<span class="op" id="1721151">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721155">fe</span><span class="op" id="1721157">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721162">fm</span>&nbsp;<span class="op" id="1721165">&lt;&lt;=</span>&nbsp;<span class="num" id="1721169">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721175">for</span>&nbsp;<span class="ident" id="1721179">fe</span>&nbsp;<span class="op" id="1721182">&lt;</span>&nbsp;<span class="builtintype" id="1721184">int</span><span class="op" id="1721187">(</span><span class="ident" id="1721188">mantbits64</span><span class="op" id="1721198">)</span>&nbsp;<span class="op" id="1721200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721204">fe</span><span class="op" id="1721206">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721211">fm</span>&nbsp;<span class="op" id="1721214">&gt;&gt;=</span>&nbsp;<span class="num" id="1721218">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721224">val</span>&nbsp;<span class="op" id="1721228">=</span>&nbsp;<span class="ident" id="1721230">int64</span><span class="op" id="1721235">(</span><span class="ident" id="1721236">fm</span><span class="op" id="1721238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721241">if</span>&nbsp;<span class="ident" id="1721244">fs</span>&nbsp;<span class="op" id="1721247">!=</span>&nbsp;<span class="num" id="1721250">0</span>&nbsp;<span class="op" id="1721252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721256">val</span>&nbsp;<span class="op" id="1721260">=</span>&nbsp;<span class="op" id="1721262">-</span><span class="ident" id="1721263">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721271">return</span>&nbsp;<span class="ident" id="1721278">val</span><span class="op" id="1721281">,</span>&nbsp;<span class="builtintype" id="1721283">true</span><br>
<span class="lineno"></span><span class="op" id="1721288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721291">func</span>&nbsp;<span class="ident" id="1721296">fintto64</span><span class="op" id="1721304">(</span><span class="ident" id="1721305">val</span>&nbsp;<span class="ident" id="1721309">int64</span><span class="op" id="1721314">)</span>&nbsp;<span class="op" id="1721316">(</span><span class="ident" id="1721317">f</span>&nbsp;<span class="ident" id="1721319">uint64</span><span class="op" id="1721325">)</span>&nbsp;<span class="op" id="1721327">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721330">fs</span>&nbsp;<span class="op" id="1721333">:=</span>&nbsp;<span class="ident" id="1721336">uint64</span><span class="op" id="1721342">(</span><span class="ident" id="1721343">val</span><span class="op" id="1721346">)</span>&nbsp;<span class="op" id="1721348">&amp;</span>&nbsp;<span class="op" id="1721350">(</span><span class="num" id="1721351">1</span>&nbsp;<span class="op" id="1721353">&lt;&lt;</span>&nbsp;<span class="num" id="1721356">63</span><span class="op" id="1721358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721361">mant</span>&nbsp;<span class="op" id="1721366">:=</span>&nbsp;<span class="ident" id="1721369">uint64</span><span class="op" id="1721375">(</span><span class="ident" id="1721376">val</span><span class="op" id="1721379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721382">if</span>&nbsp;<span class="ident" id="1721385">fs</span>&nbsp;<span class="op" id="1721388">!=</span>&nbsp;<span class="num" id="1721391">0</span>&nbsp;<span class="op" id="1721393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721397">mant</span>&nbsp;<span class="op" id="1721402">=</span>&nbsp;<span class="op" id="1721404">-</span><span class="ident" id="1721405">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721411">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721414">return</span>&nbsp;<span class="ident" id="1721421">fpack64</span><span class="op" id="1721428">(</span><span class="ident" id="1721429">fs</span><span class="op" id="1721431">,</span>&nbsp;<span class="ident" id="1721433">mant</span><span class="op" id="1721437">,</span>&nbsp;<span class="builtintype" id="1721439">int</span><span class="op" id="1721442">(</span><span class="ident" id="1721443">mantbits64</span><span class="op" id="1721453">)</span><span class="op" id="1721454">,</span>&nbsp;<span class="num" id="1721456">0</span><span class="op" id="1721457">)</span><br>
<span class="lineno"></span><span class="op" id="1721459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1721462">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="1721488">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="1721522">func</span>&nbsp;<span class="ident" id="1721527">mullu</span><span class="op" id="1721532">(</span><span class="ident" id="1721533">u</span><span class="op" id="1721534">,</span>&nbsp;<span class="ident" id="1721536">v</span>&nbsp;<span class="ident" id="1721538">uint64</span><span class="op" id="1721544">)</span>&nbsp;<span class="op" id="1721546">(</span><span class="ident" id="1721547">lo</span><span class="op" id="1721549">,</span>&nbsp;<span class="ident" id="1721551">hi</span>&nbsp;<span class="ident" id="1721554">uint64</span><span class="op" id="1721560">)</span>&nbsp;<span class="op" id="1721562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721565">const</span>&nbsp;<span class="op" id="1721571">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721575">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1721580">=</span>&nbsp;<span class="num" id="1721582">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721587">mask</span>&nbsp;<span class="op" id="1721592">=</span>&nbsp;<span class="num" id="1721594">1</span><span class="op" id="1721595">&lt;&lt;</span><span class="ident" id="1721597">s</span>&nbsp;<span class="op" id="1721599">-</span>&nbsp;<span class="num" id="1721601">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721604">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721607">u0</span>&nbsp;<span class="op" id="1721610">:=</span>&nbsp;<span class="ident" id="1721613">u</span>&nbsp;<span class="op" id="1721615">&amp;</span>&nbsp;<span class="ident" id="1721617">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721623">u1</span>&nbsp;<span class="op" id="1721626">:=</span>&nbsp;<span class="ident" id="1721629">u</span>&nbsp;<span class="op" id="1721631">&gt;&gt;</span>&nbsp;<span class="ident" id="1721634">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721637">v0</span>&nbsp;<span class="op" id="1721640">:=</span>&nbsp;<span class="ident" id="1721643">v</span>&nbsp;<span class="op" id="1721645">&amp;</span>&nbsp;<span class="ident" id="1721647">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721653">v1</span>&nbsp;<span class="op" id="1721656">:=</span>&nbsp;<span class="ident" id="1721659">v</span>&nbsp;<span class="op" id="1721661">&gt;&gt;</span>&nbsp;<span class="ident" id="1721664">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721667">w0</span>&nbsp;<span class="op" id="1721670">:=</span>&nbsp;<span class="ident" id="1721673">u0</span>&nbsp;<span class="op" id="1721676">*</span>&nbsp;<span class="ident" id="1721678">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721682">t</span>&nbsp;<span class="op" id="1721684">:=</span>&nbsp;<span class="ident" id="1721687">u1</span><span class="op" id="1721689">*</span><span class="ident" id="1721690">v0</span>&nbsp;<span class="op" id="1721693">+</span>&nbsp;<span class="ident" id="1721695">w0</span><span class="op" id="1721697">&gt;&gt;</span><span class="ident" id="1721699">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721702">w1</span>&nbsp;<span class="op" id="1721705">:=</span>&nbsp;<span class="ident" id="1721708">t</span>&nbsp;<span class="op" id="1721710">&amp;</span>&nbsp;<span class="ident" id="1721712">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721718">w2</span>&nbsp;<span class="op" id="1721721">:=</span>&nbsp;<span class="ident" id="1721724">t</span>&nbsp;<span class="op" id="1721726">&gt;&gt;</span>&nbsp;<span class="ident" id="1721729">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721732">w1</span>&nbsp;<span class="op" id="1721735">+=</span>&nbsp;<span class="ident" id="1721738">u0</span>&nbsp;<span class="op" id="1721741">*</span>&nbsp;<span class="ident" id="1721743">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721747">return</span>&nbsp;<span class="ident" id="1721754">u</span>&nbsp;<span class="op" id="1721756">*</span>&nbsp;<span class="ident" id="1721758">v</span><span class="op" id="1721759">,</span>&nbsp;<span class="ident" id="1721761">u1</span><span class="op" id="1721763">*</span><span class="ident" id="1721764">v1</span>&nbsp;<span class="op" id="1721767">+</span>&nbsp;<span class="ident" id="1721769">w2</span>&nbsp;<span class="op" id="1721772">+</span>&nbsp;<span class="ident" id="1721774">w1</span><span class="op" id="1721776">&gt;&gt;</span><span class="ident" id="1721778">s</span><br>
<span class="lineno">435</span><span class="op" id="1721780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1721783">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1721823">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="1721856">func</span>&nbsp;<span class="ident" id="1721861">divlu</span><span class="op" id="1721866">(</span><span class="ident" id="1721867">u1</span><span class="op" id="1721869">,</span>&nbsp;<span class="ident" id="1721871">u0</span><span class="op" id="1721873">,</span>&nbsp;<span class="ident" id="1721875">v</span>&nbsp;<span class="ident" id="1721877">uint64</span><span class="op" id="1721883">)</span>&nbsp;<span class="op" id="1721885">(</span><span class="ident" id="1721886">q</span><span class="op" id="1721887">,</span>&nbsp;<span class="ident" id="1721889">r</span>&nbsp;<span class="ident" id="1721891">uint64</span><span class="op" id="1721897">)</span>&nbsp;<span class="op" id="1721899">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721902">const</span>&nbsp;<span class="ident" id="1721908">b</span>&nbsp;<span class="op" id="1721910">=</span>&nbsp;<span class="num" id="1721912">1</span>&nbsp;<span class="op" id="1721914">&lt;&lt;</span>&nbsp;<span class="num" id="1721917">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721922">if</span>&nbsp;<span class="ident" id="1721925">u1</span>&nbsp;<span class="op" id="1721928">&gt;=</span>&nbsp;<span class="ident" id="1721931">v</span>&nbsp;<span class="op" id="1721933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721937">return</span>&nbsp;<span class="num" id="1721944">1</span><span class="op" id="1721945">&lt;&lt;</span><span class="num" id="1721947">64</span>&nbsp;<span class="op" id="1721950">-</span>&nbsp;<span class="num" id="1721952">1</span><span class="op" id="1721953">,</span>&nbsp;<span class="num" id="1721955">1</span><span class="op" id="1721956">&lt;&lt;</span><span class="num" id="1721958">64</span>&nbsp;<span class="op" id="1721961">-</span>&nbsp;<span class="num" id="1721963">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721966">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1721970">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721994">s</span>&nbsp;<span class="op" id="1721996">:=</span>&nbsp;<span class="builtintype" id="1721999">uint</span><span class="op" id="1722003">(</span><span class="num" id="1722004">0</span><span class="op" id="1722005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722008">for</span>&nbsp;<span class="ident" id="1722012">v</span><span class="op" id="1722013">&amp;</span><span class="op" id="1722014">(</span><span class="num" id="1722015">1</span><span class="op" id="1722016">&lt;&lt;</span><span class="num" id="1722018">63</span><span class="op" id="1722020">)</span>&nbsp;<span class="op" id="1722022">==</span>&nbsp;<span class="num" id="1722025">0</span>&nbsp;<span class="op" id="1722027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722031">s</span><span class="op" id="1722032">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722037">v</span>&nbsp;<span class="op" id="1722039">&lt;&lt;=</span>&nbsp;<span class="num" id="1722043">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722050">vn1</span>&nbsp;<span class="op" id="1722054">:=</span>&nbsp;<span class="ident" id="1722057">v</span>&nbsp;<span class="op" id="1722059">&gt;&gt;</span>&nbsp;<span class="num" id="1722062">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722066">vn0</span>&nbsp;<span class="op" id="1722070">:=</span>&nbsp;<span class="ident" id="1722073">v</span>&nbsp;<span class="op" id="1722075">&amp;</span>&nbsp;<span class="op" id="1722077">(</span><span class="num" id="1722078">1</span><span class="op" id="1722079">&lt;&lt;</span><span class="num" id="1722081">32</span>&nbsp;<span class="op" id="1722084">-</span>&nbsp;<span class="num" id="1722086">1</span><span class="op" id="1722087">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722090">un32</span>&nbsp;<span class="op" id="1722095">:=</span>&nbsp;<span class="ident" id="1722098">u1</span><span class="op" id="1722100">&lt;&lt;</span><span class="ident" id="1722102">s</span>&nbsp;<span class="op" id="1722104">|</span>&nbsp;<span class="ident" id="1722106">u0</span><span class="op" id="1722108">&gt;&gt;</span><span class="op" id="1722110">(</span><span class="num" id="1722111">64</span><span class="op" id="1722113">-</span><span class="ident" id="1722114">s</span><span class="op" id="1722115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722118">un10</span>&nbsp;<span class="op" id="1722123">:=</span>&nbsp;<span class="ident" id="1722126">u0</span>&nbsp;<span class="op" id="1722129">&lt;&lt;</span>&nbsp;<span class="ident" id="1722132">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722135">un1</span>&nbsp;<span class="op" id="1722139">:=</span>&nbsp;<span class="ident" id="1722142">un10</span>&nbsp;<span class="op" id="1722147">&gt;&gt;</span>&nbsp;<span class="num" id="1722150">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722154">un0</span>&nbsp;<span class="op" id="1722158">:=</span>&nbsp;<span class="ident" id="1722161">un10</span>&nbsp;<span class="op" id="1722166">&amp;</span>&nbsp;<span class="op" id="1722168">(</span><span class="num" id="1722169">1</span><span class="op" id="1722170">&lt;&lt;</span><span class="num" id="1722172">32</span>&nbsp;<span class="op" id="1722175">-</span>&nbsp;<span class="num" id="1722177">1</span><span class="op" id="1722178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722181">q1</span>&nbsp;<span class="op" id="1722184">:=</span>&nbsp;<span class="ident" id="1722187">un32</span>&nbsp;<span class="op" id="1722192">/</span>&nbsp;<span class="ident" id="1722194">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722199">rhat</span>&nbsp;<span class="op" id="1722204">:=</span>&nbsp;<span class="ident" id="1722207">un32</span>&nbsp;<span class="op" id="1722212">-</span>&nbsp;<span class="ident" id="1722214">q1</span><span class="op" id="1722216">*</span><span class="ident" id="1722217">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1722222">again1</span><span class="op" id="1722228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722231">if</span>&nbsp;<span class="ident" id="1722234">q1</span>&nbsp;<span class="op" id="1722237">&gt;=</span>&nbsp;<span class="ident" id="1722240">b</span>&nbsp;<span class="op" id="1722242">||</span>&nbsp;<span class="ident" id="1722245">q1</span><span class="op" id="1722247">*</span><span class="ident" id="1722248">vn0</span>&nbsp;<span class="op" id="1722252">&gt;</span>&nbsp;<span class="ident" id="1722254">b</span><span class="op" id="1722255">*</span><span class="ident" id="1722256">rhat</span><span class="op" id="1722260">+</span><span class="ident" id="1722261">un1</span>&nbsp;<span class="op" id="1722265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722269">q1</span><span class="op" id="1722271">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722276">rhat</span>&nbsp;<span class="op" id="1722281">+=</span>&nbsp;<span class="ident" id="1722284">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722290">if</span>&nbsp;<span class="ident" id="1722293">rhat</span>&nbsp;<span class="op" id="1722298">&lt;</span>&nbsp;<span class="ident" id="1722300">b</span>&nbsp;<span class="op" id="1722302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722307">goto</span>&nbsp;<span class="ident" id="1722312">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722324">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722328">un21</span>&nbsp;<span class="op" id="1722333">:=</span>&nbsp;<span class="ident" id="1722336">un32</span><span class="op" id="1722340">*</span><span class="ident" id="1722341">b</span>&nbsp;<span class="op" id="1722343">+</span>&nbsp;<span class="ident" id="1722345">un1</span>&nbsp;<span class="op" id="1722349">-</span>&nbsp;<span class="ident" id="1722351">q1</span><span class="op" id="1722353">*</span><span class="ident" id="1722354">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722357">q0</span>&nbsp;<span class="op" id="1722360">:=</span>&nbsp;<span class="ident" id="1722363">un21</span>&nbsp;<span class="op" id="1722368">/</span>&nbsp;<span class="ident" id="1722370">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722375">rhat</span>&nbsp;<span class="op" id="1722380">=</span>&nbsp;<span class="ident" id="1722382">un21</span>&nbsp;<span class="op" id="1722387">-</span>&nbsp;<span class="ident" id="1722389">q0</span><span class="op" id="1722391">*</span><span class="ident" id="1722392">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="1722397">again2</span><span class="op" id="1722403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722406">if</span>&nbsp;<span class="ident" id="1722409">q0</span>&nbsp;<span class="op" id="1722412">&gt;=</span>&nbsp;<span class="ident" id="1722415">b</span>&nbsp;<span class="op" id="1722417">||</span>&nbsp;<span class="ident" id="1722420">q0</span><span class="op" id="1722422">*</span><span class="ident" id="1722423">vn0</span>&nbsp;<span class="op" id="1722427">&gt;</span>&nbsp;<span class="ident" id="1722429">b</span><span class="op" id="1722430">*</span><span class="ident" id="1722431">rhat</span><span class="op" id="1722435">+</span><span class="ident" id="1722436">un0</span>&nbsp;<span class="op" id="1722440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722444">q0</span><span class="op" id="1722446">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722451">rhat</span>&nbsp;<span class="op" id="1722456">+=</span>&nbsp;<span class="ident" id="1722459">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722465">if</span>&nbsp;<span class="ident" id="1722468">rhat</span>&nbsp;<span class="op" id="1722473">&lt;</span>&nbsp;<span class="ident" id="1722475">b</span>&nbsp;<span class="op" id="1722477">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722482">goto</span>&nbsp;<span class="ident" id="1722487">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722503">return</span>&nbsp;<span class="ident" id="1722510">q1</span><span class="op" id="1722512">*</span><span class="ident" id="1722513">b</span>&nbsp;<span class="op" id="1722515">+</span>&nbsp;<span class="ident" id="1722517">q0</span><span class="op" id="1722519">,</span>&nbsp;<span class="op" id="1722521">(</span><span class="ident" id="1722522">un21</span><span class="op" id="1722526">*</span><span class="ident" id="1722527">b</span>&nbsp;<span class="op" id="1722529">+</span>&nbsp;<span class="ident" id="1722531">un0</span>&nbsp;<span class="op" id="1722535">-</span>&nbsp;<span class="ident" id="1722537">q0</span><span class="op" id="1722539">*</span><span class="ident" id="1722540">v</span><span class="op" id="1722541">)</span>&nbsp;<span class="op" id="1722543">&gt;&gt;</span>&nbsp;<span class="ident" id="1722546">s</span><br>
<span class="lineno">485</span><span class="op" id="1722548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1722551">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1722571">func</span>&nbsp;<span class="ident" id="1722576">fadd64c</span><span class="op" id="1722583">(</span><span class="ident" id="1722584">f</span><span class="op" id="1722585">,</span>&nbsp;<span class="ident" id="1722587">g</span>&nbsp;<span class="ident" id="1722589">uint64</span><span class="op" id="1722595">,</span>&nbsp;<span class="ident" id="1722597">ret</span>&nbsp;<span class="op" id="1722601">*</span><span class="ident" id="1722602">uint64</span><span class="op" id="1722608">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722621">{</span>&nbsp;<span class="op" id="1722623">*</span><span class="ident" id="1722624">ret</span>&nbsp;<span class="op" id="1722628">=</span>&nbsp;<span class="ident" id="1722630">fadd64</span><span class="op" id="1722636">(</span><span class="ident" id="1722637">f</span><span class="op" id="1722638">,</span>&nbsp;<span class="ident" id="1722640">g</span><span class="op" id="1722641">)</span>&nbsp;<span class="op" id="1722643">}</span><br>
<span class="lineno">490</span><span class="keyword" id="1722645">func</span>&nbsp;<span class="ident" id="1722650">fsub64c</span><span class="op" id="1722657">(</span><span class="ident" id="1722658">f</span><span class="op" id="1722659">,</span>&nbsp;<span class="ident" id="1722661">g</span>&nbsp;<span class="ident" id="1722663">uint64</span><span class="op" id="1722669">,</span>&nbsp;<span class="ident" id="1722671">ret</span>&nbsp;<span class="op" id="1722675">*</span><span class="ident" id="1722676">uint64</span><span class="op" id="1722682">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722695">{</span>&nbsp;<span class="op" id="1722697">*</span><span class="ident" id="1722698">ret</span>&nbsp;<span class="op" id="1722702">=</span>&nbsp;<span class="ident" id="1722704">fsub64</span><span class="op" id="1722710">(</span><span class="ident" id="1722711">f</span><span class="op" id="1722712">,</span>&nbsp;<span class="ident" id="1722714">g</span><span class="op" id="1722715">)</span>&nbsp;<span class="op" id="1722717">}</span><br>
<span class="lineno"></span><span class="keyword" id="1722719">func</span>&nbsp;<span class="ident" id="1722724">fmul64c</span><span class="op" id="1722731">(</span><span class="ident" id="1722732">f</span><span class="op" id="1722733">,</span>&nbsp;<span class="ident" id="1722735">g</span>&nbsp;<span class="ident" id="1722737">uint64</span><span class="op" id="1722743">,</span>&nbsp;<span class="ident" id="1722745">ret</span>&nbsp;<span class="op" id="1722749">*</span><span class="ident" id="1722750">uint64</span><span class="op" id="1722756">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722769">{</span>&nbsp;<span class="op" id="1722771">*</span><span class="ident" id="1722772">ret</span>&nbsp;<span class="op" id="1722776">=</span>&nbsp;<span class="ident" id="1722778">fmul64</span><span class="op" id="1722784">(</span><span class="ident" id="1722785">f</span><span class="op" id="1722786">,</span>&nbsp;<span class="ident" id="1722788">g</span><span class="op" id="1722789">)</span>&nbsp;<span class="op" id="1722791">}</span><br>
<span class="lineno"></span><span class="keyword" id="1722793">func</span>&nbsp;<span class="ident" id="1722798">fdiv64c</span><span class="op" id="1722805">(</span><span class="ident" id="1722806">f</span><span class="op" id="1722807">,</span>&nbsp;<span class="ident" id="1722809">g</span>&nbsp;<span class="ident" id="1722811">uint64</span><span class="op" id="1722817">,</span>&nbsp;<span class="ident" id="1722819">ret</span>&nbsp;<span class="op" id="1722823">*</span><span class="ident" id="1722824">uint64</span><span class="op" id="1722830">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722843">{</span>&nbsp;<span class="op" id="1722845">*</span><span class="ident" id="1722846">ret</span>&nbsp;<span class="op" id="1722850">=</span>&nbsp;<span class="ident" id="1722852">fdiv64</span><span class="op" id="1722858">(</span><span class="ident" id="1722859">f</span><span class="op" id="1722860">,</span>&nbsp;<span class="ident" id="1722862">g</span><span class="op" id="1722863">)</span>&nbsp;<span class="op" id="1722865">}</span><br>
<span class="lineno"></span><span class="keyword" id="1722867">func</span>&nbsp;<span class="ident" id="1722872">fneg64c</span><span class="op" id="1722879">(</span><span class="ident" id="1722880">f</span>&nbsp;<span class="ident" id="1722882">uint64</span><span class="op" id="1722888">,</span>&nbsp;<span class="ident" id="1722890">ret</span>&nbsp;<span class="op" id="1722894">*</span><span class="ident" id="1722895">uint64</span><span class="op" id="1722901">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722917">{</span>&nbsp;<span class="op" id="1722919">*</span><span class="ident" id="1722920">ret</span>&nbsp;<span class="op" id="1722924">=</span>&nbsp;<span class="ident" id="1722926">fneg64</span><span class="op" id="1722932">(</span><span class="ident" id="1722933">f</span><span class="op" id="1722934">)</span>&nbsp;<span class="op" id="1722936">}</span><br>
<span class="lineno"></span><span class="keyword" id="1722938">func</span>&nbsp;<span class="ident" id="1722943">f32to64c</span><span class="op" id="1722951">(</span><span class="ident" id="1722952">f</span>&nbsp;<span class="builtintype" id="1722954">uint32</span><span class="op" id="1722960">,</span>&nbsp;<span class="ident" id="1722962">ret</span>&nbsp;<span class="op" id="1722966">*</span><span class="ident" id="1722967">uint64</span><span class="op" id="1722973">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1722988">{</span>&nbsp;<span class="op" id="1722990">*</span><span class="ident" id="1722991">ret</span>&nbsp;<span class="op" id="1722995">=</span>&nbsp;<span class="ident" id="1722997">f32to64</span><span class="op" id="1723004">(</span><span class="ident" id="1723005">f</span><span class="op" id="1723006">)</span>&nbsp;<span class="op" id="1723008">}</span><br>
<span class="lineno">495</span><span class="keyword" id="1723010">func</span>&nbsp;<span class="ident" id="1723015">f64to32c</span><span class="op" id="1723023">(</span><span class="ident" id="1723024">f</span>&nbsp;<span class="ident" id="1723026">uint64</span><span class="op" id="1723032">,</span>&nbsp;<span class="ident" id="1723034">ret</span>&nbsp;<span class="op" id="1723038">*</span><span class="builtintype" id="1723039">uint32</span><span class="op" id="1723045">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1723060">{</span>&nbsp;<span class="op" id="1723062">*</span><span class="ident" id="1723063">ret</span>&nbsp;<span class="op" id="1723067">=</span>&nbsp;<span class="ident" id="1723069">f64to32</span><span class="op" id="1723076">(</span><span class="ident" id="1723077">f</span><span class="op" id="1723078">)</span>&nbsp;<span class="op" id="1723080">}</span><br>
<span class="lineno"></span><span class="keyword" id="1723082">func</span>&nbsp;<span class="ident" id="1723087">fcmp64c</span><span class="op" id="1723094">(</span><span class="ident" id="1723095">f</span><span class="op" id="1723096">,</span>&nbsp;<span class="ident" id="1723098">g</span>&nbsp;<span class="ident" id="1723100">uint64</span><span class="op" id="1723106">,</span>&nbsp;<span class="ident" id="1723108">ret</span>&nbsp;<span class="op" id="1723112">*</span><span class="builtintype" id="1723113">int</span><span class="op" id="1723116">,</span>&nbsp;<span class="ident" id="1723118">retnan</span>&nbsp;<span class="op" id="1723125">*</span><span class="builtintype" id="1723126">bool</span><span class="op" id="1723130">)</span>&nbsp;<span class="op" id="1723132">{</span>&nbsp;<span class="op" id="1723134">*</span><span class="ident" id="1723135">ret</span><span class="op" id="1723138">,</span>&nbsp;<span class="op" id="1723140">*</span><span class="ident" id="1723141">retnan</span>&nbsp;<span class="op" id="1723148">=</span>&nbsp;<span class="ident" id="1723150">fcmp64</span><span class="op" id="1723156">(</span><span class="ident" id="1723157">f</span><span class="op" id="1723158">,</span>&nbsp;<span class="ident" id="1723160">g</span><span class="op" id="1723161">)</span>&nbsp;<span class="op" id="1723163">}</span><br>
<span class="lineno"></span><span class="keyword" id="1723165">func</span>&nbsp;<span class="ident" id="1723170">fintto64c</span><span class="op" id="1723179">(</span><span class="ident" id="1723180">val</span>&nbsp;<span class="ident" id="1723184">int64</span><span class="op" id="1723189">,</span>&nbsp;<span class="ident" id="1723191">ret</span>&nbsp;<span class="op" id="1723195">*</span><span class="ident" id="1723196">uint64</span><span class="op" id="1723202">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1723215">{</span>&nbsp;<span class="op" id="1723217">*</span><span class="ident" id="1723218">ret</span>&nbsp;<span class="op" id="1723222">=</span>&nbsp;<span class="ident" id="1723224">fintto64</span><span class="op" id="1723232">(</span><span class="ident" id="1723233">val</span><span class="op" id="1723236">)</span>&nbsp;<span class="op" id="1723238">}</span><br>
<span class="lineno"></span><span class="keyword" id="1723240">func</span>&nbsp;<span class="ident" id="1723245">f64tointc</span><span class="op" id="1723254">(</span><span class="ident" id="1723255">f</span>&nbsp;<span class="ident" id="1723257">uint64</span><span class="op" id="1723263">,</span>&nbsp;<span class="ident" id="1723265">ret</span>&nbsp;<span class="op" id="1723269">*</span><span class="ident" id="1723270">int64</span><span class="op" id="1723275">,</span>&nbsp;<span class="ident" id="1723277">retok</span>&nbsp;<span class="op" id="1723283">*</span><span class="builtintype" id="1723284">bool</span><span class="op" id="1723288">)</span>&nbsp;<span class="op" id="1723290">{</span>&nbsp;<span class="op" id="1723292">*</span><span class="ident" id="1723293">ret</span><span class="op" id="1723296">,</span>&nbsp;<span class="op" id="1723298">*</span><span class="ident" id="1723299">retok</span>&nbsp;<span class="op" id="1723305">=</span>&nbsp;<span class="ident" id="1723307">f64toint</span><span class="op" id="1723315">(</span><span class="ident" id="1723316">f</span><span class="op" id="1723317">)</span>&nbsp;<span class="op" id="1723319">}</span>
</div>
</body>
</html>
