<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2506257">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2506312">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2506366">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2506417">//&nbsp;Package&nbsp;strings&nbsp;implements&nbsp;simple&nbsp;functions&nbsp;to&nbsp;manipulate&nbsp;strings.</span><br>
<span class="lineno"></span><span class="keyword" id="2506487">package</span>&nbsp;<span class="ident" id="2506495">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2506504">import</span>&nbsp;<span class="op" id="2506511">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2506514">&#34;unicode&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2506525">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2506540">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2506543">//&nbsp;explode&nbsp;splits&nbsp;s&nbsp;into&nbsp;an&nbsp;array&nbsp;of&nbsp;UTF-8&nbsp;sequences,&nbsp;one&nbsp;per&nbsp;Unicode&nbsp;character&nbsp;(still&nbsp;strings)&nbsp;up&nbsp;to&nbsp;a&nbsp;maximum&nbsp;of&nbsp;n&nbsp;(n&nbsp;&lt;&nbsp;0&nbsp;means&nbsp;no&nbsp;limit).</span><br>
<span class="lineno"></span><span class="comment" id="2506684">//&nbsp;Invalid&nbsp;UTF-8&nbsp;sequences&nbsp;become&nbsp;correct&nbsp;encodings&nbsp;of&nbsp;U+FFF8.</span><br>
<span class="lineno">15</span><span class="keyword" id="2506747">func</span>&nbsp;<span class="ident" id="2506752">explode</span><span class="op" id="2506759">(</span><span class="ident" id="2506760">s</span>&nbsp;<span class="builtintype" id="2506762">string</span><span class="op" id="2506768">,</span>&nbsp;<span class="ident" id="2506770">n</span>&nbsp;<span class="builtintype" id="2506772">int</span><span class="op" id="2506775">)</span>&nbsp;<span class="op" id="2506777">[</span><span class="op" id="2506778">]</span><span class="builtintype" id="2506779">string</span>&nbsp;<span class="op" id="2506786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506789">if</span>&nbsp;<span class="ident" id="2506792"><a href="/strings/strings.go.html#2506770">n</a></span>&nbsp;<span class="op" id="2506794">==</span>&nbsp;<span class="num" id="2506797">0</span>&nbsp;<span class="op" id="2506799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506803">return</span>&nbsp;<span class="ident" id="2506810">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506818">l</span>&nbsp;<span class="op" id="2506820">:=</span>&nbsp;<span class="ident" id="2506823"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2506827">.</span><span class="ident" id="2506828">RuneCountInString</span><span class="op" id="2506845">(</span><span class="ident" id="2506846"><a href="/strings/strings.go.html#2506760">s</a></span><span class="op" id="2506847">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506850">if</span>&nbsp;<span class="ident" id="2506853"><a href="/strings/strings.go.html#2506770">n</a></span>&nbsp;<span class="op" id="2506855">&lt;=</span>&nbsp;<span class="num" id="2506858">0</span>&nbsp;<span class="op" id="2506860">||</span>&nbsp;<span class="ident" id="2506863"><a href="/strings/strings.go.html#2506770">n</a></span>&nbsp;<span class="op" id="2506865">&gt;</span>&nbsp;<span class="ident" id="2506867"><a href="/strings/strings.go.html#2506818">l</a></span>&nbsp;<span class="op" id="2506869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506873"><a href="/strings/strings.go.html#2506770">n</a></span>&nbsp;<span class="op" id="2506875">=</span>&nbsp;<span class="ident" id="2506877"><a href="/strings/strings.go.html#2506818">l</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506883">a</span>&nbsp;<span class="op" id="2506885">:=</span>&nbsp;<span class="builtinfunc" id="2506888">make</span><span class="op" id="2506892">(</span><span class="op" id="2506893">[</span><span class="op" id="2506894">]</span><span class="builtintype" id="2506895">string</span><span class="op" id="2506901">,</span>&nbsp;<span class="ident" id="2506903"><a href="/strings/strings.go.html#2506770">n</a></span><span class="op" id="2506904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506907">var</span>&nbsp;<span class="ident" id="2506911">size</span>&nbsp;<span class="builtintype" id="2506916">int</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506921">var</span>&nbsp;<span class="ident" id="2506925">ch</span>&nbsp;<span class="builtintype" id="2506928">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506934">i</span><span class="op" id="2506935">,</span>&nbsp;<span class="ident" id="2506937">cur</span>&nbsp;<span class="op" id="2506941">:=</span>&nbsp;<span class="num" id="2506944">0</span><span class="op" id="2506945">,</span>&nbsp;<span class="num" id="2506947">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506950">for</span>&nbsp;<span class="op" id="2506954">;</span>&nbsp;<span class="ident" id="2506956"><a href="/strings/strings.go.html#2506934">i</a></span><span class="op" id="2506957">+</span><span class="num" id="2506958">1</span>&nbsp;<span class="op" id="2506960">&lt;</span>&nbsp;<span class="ident" id="2506962"><a href="/strings/strings.go.html#2506770">n</a></span><span class="op" id="2506963">;</span>&nbsp;<span class="ident" id="2506965"><a href="/strings/strings.go.html#2506934">i</a></span><span class="op" id="2506966">++</span>&nbsp;<span class="op" id="2506969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506973"><a href="/strings/strings.go.html#2506925">ch</a></span><span class="op" id="2506975">,</span>&nbsp;<span class="ident" id="2506977"><a href="/strings/strings.go.html#2506911">size</a></span>&nbsp;<span class="op" id="2506982">=</span>&nbsp;<span class="ident" id="2506984"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2506988">.</span><span class="ident" id="2506989">DecodeRuneInString</span><span class="op" id="2507007">(</span><span class="ident" id="2507008"><a href="/strings/strings.go.html#2506760">s</a></span><span class="op" id="2507009">[</span><span class="ident" id="2507010"><a href="/strings/strings.go.html#2506937">cur</a></span><span class="op" id="2507013">:</span><span class="op" id="2507014">]</span><span class="op" id="2507015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507019">if</span>&nbsp;<span class="ident" id="2507022"><a href="/strings/strings.go.html#2506925">ch</a></span>&nbsp;<span class="op" id="2507025">==</span>&nbsp;<span class="ident" id="2507028"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2507032">.</span><span class="ident" id="2507033">RuneError</span>&nbsp;<span class="op" id="2507043">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507048"><a href="/strings/strings.go.html#2506883">a</a></span><span class="op" id="2507049">[</span><span class="ident" id="2507050"><a href="/strings/strings.go.html#2506934">i</a></span><span class="op" id="2507051">]</span>&nbsp;<span class="op" id="2507053">=</span>&nbsp;<span class="builtintype" id="2507055">string</span><span class="op" id="2507061">(</span><span class="ident" id="2507062"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2507066">.</span><span class="ident" id="2507067">RuneError</span><span class="op" id="2507076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507080">}</span>&nbsp;<span class="keyword" id="2507082">else</span>&nbsp;<span class="op" id="2507087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507092"><a href="/strings/strings.go.html#2506883">a</a></span><span class="op" id="2507093">[</span><span class="ident" id="2507094"><a href="/strings/strings.go.html#2506934">i</a></span><span class="op" id="2507095">]</span>&nbsp;<span class="op" id="2507097">=</span>&nbsp;<span class="ident" id="2507099"><a href="/strings/strings.go.html#2506760">s</a></span><span class="op" id="2507100">[</span><span class="ident" id="2507101"><a href="/strings/strings.go.html#2506937">cur</a></span>&nbsp;<span class="op" id="2507105">:</span>&nbsp;<span class="ident" id="2507107"><a href="/strings/strings.go.html#2506937">cur</a></span><span class="op" id="2507110">+</span><span class="ident" id="2507111"><a href="/strings/strings.go.html#2506911">size</a></span><span class="op" id="2507115">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507123"><a href="/strings/strings.go.html#2506937">cur</a></span>&nbsp;<span class="op" id="2507127">+=</span>&nbsp;<span class="ident" id="2507130"><a href="/strings/strings.go.html#2506911">size</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2507139">//&nbsp;add&nbsp;the&nbsp;rest,&nbsp;if&nbsp;there&nbsp;is&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507173">if</span>&nbsp;<span class="ident" id="2507176"><a href="/strings/strings.go.html#2506937">cur</a></span>&nbsp;<span class="op" id="2507180">&lt;</span>&nbsp;<span class="builtinfunc" id="2507182">len</span><span class="op" id="2507185">(</span><span class="ident" id="2507186"><a href="/strings/strings.go.html#2506760">s</a></span><span class="op" id="2507187">)</span>&nbsp;<span class="op" id="2507189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507193"><a href="/strings/strings.go.html#2506883">a</a></span><span class="op" id="2507194">[</span><span class="ident" id="2507195"><a href="/strings/strings.go.html#2506934">i</a></span><span class="op" id="2507196">]</span>&nbsp;<span class="op" id="2507198">=</span>&nbsp;<span class="ident" id="2507200"><a href="/strings/strings.go.html#2506760">s</a></span><span class="op" id="2507201">[</span><span class="ident" id="2507202"><a href="/strings/strings.go.html#2506937">cur</a></span><span class="op" id="2507205">:</span><span class="op" id="2507206">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507209">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507212">return</span>&nbsp;<span class="ident" id="2507219"><a href="/strings/strings.go.html#2506883">a</a></span><br>
<span class="lineno"></span><span class="op" id="2507221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2507224">//&nbsp;primeRK&nbsp;is&nbsp;the&nbsp;prime&nbsp;base&nbsp;used&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2507283">const</span>&nbsp;<span class="ident" id="2507289">primeRK</span>&nbsp;<span class="op" id="2507297">=</span>&nbsp;<span class="num" id="2507299">16777619</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2507309">//&nbsp;hashStr&nbsp;returns&nbsp;the&nbsp;hash&nbsp;and&nbsp;the&nbsp;appropriate&nbsp;multiplicative</span><br>
<span class="lineno"></span><span class="comment" id="2507372">//&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2507415">func</span>&nbsp;<span class="ident" id="2507420">hashStr</span><span class="op" id="2507427">(</span><span class="ident" id="2507428">sep</span>&nbsp;<span class="builtintype" id="2507432">string</span><span class="op" id="2507438">)</span>&nbsp;<span class="op" id="2507440">(</span><span class="builtintype" id="2507441">uint32</span><span class="op" id="2507447">,</span>&nbsp;<span class="builtintype" id="2507449">uint32</span><span class="op" id="2507455">)</span>&nbsp;<span class="op" id="2507457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507460">hash</span>&nbsp;<span class="op" id="2507465">:=</span>&nbsp;<span class="builtintype" id="2507468">uint32</span><span class="op" id="2507474">(</span><span class="num" id="2507475">0</span><span class="op" id="2507476">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507479">for</span>&nbsp;<span class="ident" id="2507483">i</span>&nbsp;<span class="op" id="2507485">:=</span>&nbsp;<span class="num" id="2507488">0</span><span class="op" id="2507489">;</span>&nbsp;<span class="ident" id="2507491"><a href="/strings/strings.go.html#2507483">i</a></span>&nbsp;<span class="op" id="2507493">&lt;</span>&nbsp;<span class="builtinfunc" id="2507495">len</span><span class="op" id="2507498">(</span><span class="ident" id="2507499"><a href="/strings/strings.go.html#2507428">sep</a></span><span class="op" id="2507502">)</span><span class="op" id="2507503">;</span>&nbsp;<span class="ident" id="2507505"><a href="/strings/strings.go.html#2507483">i</a></span><span class="op" id="2507506">++</span>&nbsp;<span class="op" id="2507509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507513"><a href="/strings/strings.go.html#2507460">hash</a></span>&nbsp;<span class="op" id="2507518">=</span>&nbsp;<span class="ident" id="2507520"><a href="/strings/strings.go.html#2507460">hash</a></span><span class="op" id="2507524">*</span><span class="ident" id="2507525"><a href="/strings/strings.go.html#2507289">primeRK</a></span>&nbsp;<span class="op" id="2507533">+</span>&nbsp;<span class="builtintype" id="2507535">uint32</span><span class="op" id="2507541">(</span><span class="ident" id="2507542"><a href="/strings/strings.go.html#2507428">sep</a></span><span class="op" id="2507545">[</span><span class="ident" id="2507546"><a href="/strings/strings.go.html#2507483">i</a></span><span class="op" id="2507547">]</span><span class="op" id="2507548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507554">var</span>&nbsp;<span class="ident" id="2507558">pow</span><span class="op" id="2507561">,</span>&nbsp;<span class="ident" id="2507563">sq</span>&nbsp;<span class="builtintype" id="2507566">uint32</span>&nbsp;<span class="op" id="2507573">=</span>&nbsp;<span class="num" id="2507575">1</span><span class="op" id="2507576">,</span>&nbsp;<span class="ident" id="2507578"><a href="/strings/strings.go.html#2507289">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507587">for</span>&nbsp;<span class="ident" id="2507591">i</span>&nbsp;<span class="op" id="2507593">:=</span>&nbsp;<span class="builtinfunc" id="2507596">len</span><span class="op" id="2507599">(</span><span class="ident" id="2507600"><a href="/strings/strings.go.html#2507428">sep</a></span><span class="op" id="2507603">)</span><span class="op" id="2507604">;</span>&nbsp;<span class="ident" id="2507606"><a href="/strings/strings.go.html#2507591">i</a></span>&nbsp;<span class="op" id="2507608">&gt;</span>&nbsp;<span class="num" id="2507610">0</span><span class="op" id="2507611">;</span>&nbsp;<span class="ident" id="2507613"><a href="/strings/strings.go.html#2507591">i</a></span>&nbsp;<span class="op" id="2507615">&gt;&gt;=</span>&nbsp;<span class="num" id="2507619">1</span>&nbsp;<span class="op" id="2507621">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507625">if</span>&nbsp;<span class="ident" id="2507628"><a href="/strings/strings.go.html#2507591">i</a></span><span class="op" id="2507629">&amp;</span><span class="num" id="2507630">1</span>&nbsp;<span class="op" id="2507632">!=</span>&nbsp;<span class="num" id="2507635">0</span>&nbsp;<span class="op" id="2507637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507642"><a href="/strings/strings.go.html#2507558">pow</a></span>&nbsp;<span class="op" id="2507646">*=</span>&nbsp;<span class="ident" id="2507649"><a href="/strings/strings.go.html#2507563">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507658"><a href="/strings/strings.go.html#2507563">sq</a></span>&nbsp;<span class="op" id="2507661">*=</span>&nbsp;<span class="ident" id="2507664"><a href="/strings/strings.go.html#2507563">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507668">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507671">return</span>&nbsp;<span class="ident" id="2507678"><a href="/strings/strings.go.html#2507460">hash</a></span><span class="op" id="2507682">,</span>&nbsp;<span class="ident" id="2507684"><a href="/strings/strings.go.html#2507558">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2507688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2507691">//&nbsp;hashStrRev&nbsp;returns&nbsp;the&nbsp;hash&nbsp;of&nbsp;the&nbsp;reverse&nbsp;of&nbsp;sep&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2507752">//&nbsp;appropriate&nbsp;multiplicative&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno">65</span><span class="keyword" id="2507822">func</span>&nbsp;<span class="ident" id="2507827">hashStrRev</span><span class="op" id="2507837">(</span><span class="ident" id="2507838">sep</span>&nbsp;<span class="builtintype" id="2507842">string</span><span class="op" id="2507848">)</span>&nbsp;<span class="op" id="2507850">(</span><span class="builtintype" id="2507851">uint32</span><span class="op" id="2507857">,</span>&nbsp;<span class="builtintype" id="2507859">uint32</span><span class="op" id="2507865">)</span>&nbsp;<span class="op" id="2507867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507870">hash</span>&nbsp;<span class="op" id="2507875">:=</span>&nbsp;<span class="builtintype" id="2507878">uint32</span><span class="op" id="2507884">(</span><span class="num" id="2507885">0</span><span class="op" id="2507886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507889">for</span>&nbsp;<span class="ident" id="2507893">i</span>&nbsp;<span class="op" id="2507895">:=</span>&nbsp;<span class="builtinfunc" id="2507898">len</span><span class="op" id="2507901">(</span><span class="ident" id="2507902"><a href="/strings/strings.go.html#2507838">sep</a></span><span class="op" id="2507905">)</span>&nbsp;<span class="op" id="2507907">-</span>&nbsp;<span class="num" id="2507909">1</span><span class="op" id="2507910">;</span>&nbsp;<span class="ident" id="2507912"><a href="/strings/strings.go.html#2507893">i</a></span>&nbsp;<span class="op" id="2507914">&gt;=</span>&nbsp;<span class="num" id="2507917">0</span><span class="op" id="2507918">;</span>&nbsp;<span class="ident" id="2507920"><a href="/strings/strings.go.html#2507893">i</a></span><span class="op" id="2507921">--</span>&nbsp;<span class="op" id="2507924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507928"><a href="/strings/strings.go.html#2507870">hash</a></span>&nbsp;<span class="op" id="2507933">=</span>&nbsp;<span class="ident" id="2507935"><a href="/strings/strings.go.html#2507870">hash</a></span><span class="op" id="2507939">*</span><span class="ident" id="2507940"><a href="/strings/strings.go.html#2507289">primeRK</a></span>&nbsp;<span class="op" id="2507948">+</span>&nbsp;<span class="builtintype" id="2507950">uint32</span><span class="op" id="2507956">(</span><span class="ident" id="2507957"><a href="/strings/strings.go.html#2507838">sep</a></span><span class="op" id="2507960">[</span><span class="ident" id="2507961"><a href="/strings/strings.go.html#2507893">i</a></span><span class="op" id="2507962">]</span><span class="op" id="2507963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507966">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507969">var</span>&nbsp;<span class="ident" id="2507973">pow</span><span class="op" id="2507976">,</span>&nbsp;<span class="ident" id="2507978">sq</span>&nbsp;<span class="builtintype" id="2507981">uint32</span>&nbsp;<span class="op" id="2507988">=</span>&nbsp;<span class="num" id="2507990">1</span><span class="op" id="2507991">,</span>&nbsp;<span class="ident" id="2507993"><a href="/strings/strings.go.html#2507289">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508002">for</span>&nbsp;<span class="ident" id="2508006">i</span>&nbsp;<span class="op" id="2508008">:=</span>&nbsp;<span class="builtinfunc" id="2508011">len</span><span class="op" id="2508014">(</span><span class="ident" id="2508015"><a href="/strings/strings.go.html#2507838">sep</a></span><span class="op" id="2508018">)</span><span class="op" id="2508019">;</span>&nbsp;<span class="ident" id="2508021"><a href="/strings/strings.go.html#2508006">i</a></span>&nbsp;<span class="op" id="2508023">&gt;</span>&nbsp;<span class="num" id="2508025">0</span><span class="op" id="2508026">;</span>&nbsp;<span class="ident" id="2508028"><a href="/strings/strings.go.html#2508006">i</a></span>&nbsp;<span class="op" id="2508030">&gt;&gt;=</span>&nbsp;<span class="num" id="2508034">1</span>&nbsp;<span class="op" id="2508036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508040">if</span>&nbsp;<span class="ident" id="2508043"><a href="/strings/strings.go.html#2508006">i</a></span><span class="op" id="2508044">&amp;</span><span class="num" id="2508045">1</span>&nbsp;<span class="op" id="2508047">!=</span>&nbsp;<span class="num" id="2508050">0</span>&nbsp;<span class="op" id="2508052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508057"><a href="/strings/strings.go.html#2507973">pow</a></span>&nbsp;<span class="op" id="2508061">*=</span>&nbsp;<span class="ident" id="2508064"><a href="/strings/strings.go.html#2507978">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508069">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508073"><a href="/strings/strings.go.html#2507978">sq</a></span>&nbsp;<span class="op" id="2508076">*=</span>&nbsp;<span class="ident" id="2508079"><a href="/strings/strings.go.html#2507978">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508086">return</span>&nbsp;<span class="ident" id="2508093"><a href="/strings/strings.go.html#2507870">hash</a></span><span class="op" id="2508097">,</span>&nbsp;<span class="ident" id="2508099"><a href="/strings/strings.go.html#2507973">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2508103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="2508106">//&nbsp;Count&nbsp;counts&nbsp;the&nbsp;number&nbsp;of&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;sep&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2508175">func</span>&nbsp;<span class="ident" id="2508180">Count</span><span class="op" id="2508185">(</span><span class="ident" id="2508186">s</span><span class="op" id="2508187">,</span>&nbsp;<span class="ident" id="2508189">sep</span>&nbsp;<span class="builtintype" id="2508193">string</span><span class="op" id="2508199">)</span>&nbsp;<span class="builtintype" id="2508201">int</span>&nbsp;<span class="op" id="2508205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508208">n</span>&nbsp;<span class="op" id="2508210">:=</span>&nbsp;<span class="num" id="2508213">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2508216">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508234">switch</span>&nbsp;<span class="op" id="2508241">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508244">case</span>&nbsp;<span class="builtinfunc" id="2508249">len</span><span class="op" id="2508252">(</span><span class="ident" id="2508253"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508256">)</span>&nbsp;<span class="op" id="2508258">==</span>&nbsp;<span class="num" id="2508261">0</span><span class="op" id="2508262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508266">return</span>&nbsp;<span class="ident" id="2508273"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2508277">.</span><span class="ident" id="2508278">RuneCountInString</span><span class="op" id="2508295">(</span><span class="ident" id="2508296"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508297">)</span>&nbsp;<span class="op" id="2508299">+</span>&nbsp;<span class="num" id="2508301">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508304">case</span>&nbsp;<span class="builtinfunc" id="2508309">len</span><span class="op" id="2508312">(</span><span class="ident" id="2508313"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508316">)</span>&nbsp;<span class="op" id="2508318">==</span>&nbsp;<span class="num" id="2508321">1</span><span class="op" id="2508322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2508326">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508362">c</span>&nbsp;<span class="op" id="2508364">:=</span>&nbsp;<span class="ident" id="2508367"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508370">[</span><span class="num" id="2508371">0</span><span class="op" id="2508372">]</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508376">for</span>&nbsp;<span class="ident" id="2508380">i</span>&nbsp;<span class="op" id="2508382">:=</span>&nbsp;<span class="num" id="2508385">0</span><span class="op" id="2508386">;</span>&nbsp;<span class="ident" id="2508388"><a href="/strings/strings.go.html#2508380">i</a></span>&nbsp;<span class="op" id="2508390">&lt;</span>&nbsp;<span class="builtinfunc" id="2508392">len</span><span class="op" id="2508395">(</span><span class="ident" id="2508396"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508397">)</span><span class="op" id="2508398">;</span>&nbsp;<span class="ident" id="2508400"><a href="/strings/strings.go.html#2508380">i</a></span><span class="op" id="2508401">++</span>&nbsp;<span class="op" id="2508404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508409">if</span>&nbsp;<span class="ident" id="2508412"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508413">[</span><span class="ident" id="2508414"><a href="/strings/strings.go.html#2508380">i</a></span><span class="op" id="2508415">]</span>&nbsp;<span class="op" id="2508417">==</span>&nbsp;<span class="ident" id="2508420"><a href="/strings/strings.go.html#2508362">c</a></span>&nbsp;<span class="op" id="2508422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508428"><a href="/strings/strings.go.html#2508208">n</a></span><span class="op" id="2508429">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508439">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508443">return</span>&nbsp;<span class="ident" id="2508450"><a href="/strings/strings.go.html#2508208">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508453">case</span>&nbsp;<span class="builtinfunc" id="2508458">len</span><span class="op" id="2508461">(</span><span class="ident" id="2508462"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508465">)</span>&nbsp;<span class="op" id="2508467">&gt;</span>&nbsp;<span class="builtinfunc" id="2508469">len</span><span class="op" id="2508472">(</span><span class="ident" id="2508473"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508474">)</span><span class="op" id="2508475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508479">return</span>&nbsp;<span class="num" id="2508486">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508489">case</span>&nbsp;<span class="builtinfunc" id="2508494">len</span><span class="op" id="2508497">(</span><span class="ident" id="2508498"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508501">)</span>&nbsp;<span class="op" id="2508503">==</span>&nbsp;<span class="builtinfunc" id="2508506">len</span><span class="op" id="2508509">(</span><span class="ident" id="2508510"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508511">)</span><span class="op" id="2508512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508516">if</span>&nbsp;<span class="ident" id="2508519"><a href="/strings/strings.go.html#2508189">sep</a></span>&nbsp;<span class="op" id="2508523">==</span>&nbsp;<span class="ident" id="2508526"><a href="/strings/strings.go.html#2508186">s</a></span>&nbsp;<span class="op" id="2508528">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508533">return</span>&nbsp;<span class="num" id="2508540">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508548">return</span>&nbsp;<span class="num" id="2508555">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2508561">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508583">hashsep</span><span class="op" id="2508590">,</span>&nbsp;<span class="ident" id="2508592">pow</span>&nbsp;<span class="op" id="2508596">:=</span>&nbsp;<span class="ident" id="2508599"><a href="/strings/strings.go.html#2507420">hashStr</a></span><span class="op" id="2508606">(</span><span class="ident" id="2508607"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508613">h</span>&nbsp;<span class="op" id="2508615">:=</span>&nbsp;<span class="builtintype" id="2508618">uint32</span><span class="op" id="2508624">(</span><span class="num" id="2508625">0</span><span class="op" id="2508626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508629">for</span>&nbsp;<span class="ident" id="2508633">i</span>&nbsp;<span class="op" id="2508635">:=</span>&nbsp;<span class="num" id="2508638">0</span><span class="op" id="2508639">;</span>&nbsp;<span class="ident" id="2508641"><a href="/strings/strings.go.html#2508633">i</a></span>&nbsp;<span class="op" id="2508643">&lt;</span>&nbsp;<span class="builtinfunc" id="2508645">len</span><span class="op" id="2508648">(</span><span class="ident" id="2508649"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508652">)</span><span class="op" id="2508653">;</span>&nbsp;<span class="ident" id="2508655"><a href="/strings/strings.go.html#2508633">i</a></span><span class="op" id="2508656">++</span>&nbsp;<span class="op" id="2508659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508663"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508665">=</span>&nbsp;<span class="ident" id="2508667"><a href="/strings/strings.go.html#2508613">h</a></span><span class="op" id="2508668">*</span><span class="ident" id="2508669"><a href="/strings/strings.go.html#2507289">primeRK</a></span>&nbsp;<span class="op" id="2508677">+</span>&nbsp;<span class="builtintype" id="2508679">uint32</span><span class="op" id="2508685">(</span><span class="ident" id="2508686"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508687">[</span><span class="ident" id="2508688"><a href="/strings/strings.go.html#2508633">i</a></span><span class="op" id="2508689">]</span><span class="op" id="2508690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508693">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508696">lastmatch</span>&nbsp;<span class="op" id="2508706">:=</span>&nbsp;<span class="num" id="2508709">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508712">if</span>&nbsp;<span class="ident" id="2508715"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508717">==</span>&nbsp;<span class="ident" id="2508720"><a href="/strings/strings.go.html#2508583">hashsep</a></span>&nbsp;<span class="op" id="2508728">&amp;&amp;</span>&nbsp;<span class="ident" id="2508731"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508732">[</span><span class="op" id="2508733">:</span><span class="builtinfunc" id="2508734">len</span><span class="op" id="2508737">(</span><span class="ident" id="2508738"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508741">)</span><span class="op" id="2508742">]</span>&nbsp;<span class="op" id="2508744">==</span>&nbsp;<span class="ident" id="2508747"><a href="/strings/strings.go.html#2508189">sep</a></span>&nbsp;<span class="op" id="2508751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508755"><a href="/strings/strings.go.html#2508208">n</a></span><span class="op" id="2508756">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508761"><a href="/strings/strings.go.html#2508696">lastmatch</a></span>&nbsp;<span class="op" id="2508771">=</span>&nbsp;<span class="builtinfunc" id="2508773">len</span><span class="op" id="2508776">(</span><span class="ident" id="2508777"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508783">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508786">for</span>&nbsp;<span class="ident" id="2508790">i</span>&nbsp;<span class="op" id="2508792">:=</span>&nbsp;<span class="builtinfunc" id="2508795">len</span><span class="op" id="2508798">(</span><span class="ident" id="2508799"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508802">)</span><span class="op" id="2508803">;</span>&nbsp;<span class="ident" id="2508805"><a href="/strings/strings.go.html#2508790">i</a></span>&nbsp;<span class="op" id="2508807">&lt;</span>&nbsp;<span class="builtinfunc" id="2508809">len</span><span class="op" id="2508812">(</span><span class="ident" id="2508813"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508814">)</span><span class="op" id="2508815">;</span>&nbsp;<span class="op" id="2508817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508821"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508823">*=</span>&nbsp;<span class="ident" id="2508826"><a href="/strings/strings.go.html#2507289">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508836"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508838">+=</span>&nbsp;<span class="builtintype" id="2508841">uint32</span><span class="op" id="2508847">(</span><span class="ident" id="2508848"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508849">[</span><span class="ident" id="2508850"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508851">]</span><span class="op" id="2508852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508856"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508858">-=</span>&nbsp;<span class="ident" id="2508861"><a href="/strings/strings.go.html#2508592">pow</a></span>&nbsp;<span class="op" id="2508865">*</span>&nbsp;<span class="builtintype" id="2508867">uint32</span><span class="op" id="2508873">(</span><span class="ident" id="2508874"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508875">[</span><span class="ident" id="2508876"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508877">-</span><span class="builtinfunc" id="2508878">len</span><span class="op" id="2508881">(</span><span class="ident" id="2508882"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508885">)</span><span class="op" id="2508886">]</span><span class="op" id="2508887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508891"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508892">++</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508897">if</span>&nbsp;<span class="ident" id="2508900"><a href="/strings/strings.go.html#2508613">h</a></span>&nbsp;<span class="op" id="2508902">==</span>&nbsp;<span class="ident" id="2508905"><a href="/strings/strings.go.html#2508583">hashsep</a></span>&nbsp;<span class="op" id="2508913">&amp;&amp;</span>&nbsp;<span class="ident" id="2508916"><a href="/strings/strings.go.html#2508696">lastmatch</a></span>&nbsp;<span class="op" id="2508926">&lt;=</span>&nbsp;<span class="ident" id="2508929"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508930">-</span><span class="builtinfunc" id="2508931">len</span><span class="op" id="2508934">(</span><span class="ident" id="2508935"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508938">)</span>&nbsp;<span class="op" id="2508940">&amp;&amp;</span>&nbsp;<span class="ident" id="2508943"><a href="/strings/strings.go.html#2508186">s</a></span><span class="op" id="2508944">[</span><span class="ident" id="2508945"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508946">-</span><span class="builtinfunc" id="2508947">len</span><span class="op" id="2508950">(</span><span class="ident" id="2508951"><a href="/strings/strings.go.html#2508189">sep</a></span><span class="op" id="2508954">)</span><span class="op" id="2508955">:</span><span class="ident" id="2508956"><a href="/strings/strings.go.html#2508790">i</a></span><span class="op" id="2508957">]</span>&nbsp;<span class="op" id="2508959">==</span>&nbsp;<span class="ident" id="2508962"><a href="/strings/strings.go.html#2508189">sep</a></span>&nbsp;<span class="op" id="2508966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508971"><a href="/strings/strings.go.html#2508208">n</a></span><span class="op" id="2508972">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508978"><a href="/strings/strings.go.html#2508696">lastmatch</a></span>&nbsp;<span class="op" id="2508988">=</span>&nbsp;<span class="ident" id="2508990"><a href="/strings/strings.go.html#2508790">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508997">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509000">return</span>&nbsp;<span class="ident" id="2509007"><a href="/strings/strings.go.html#2508208">n</a></span><br>
<span class="lineno"></span><span class="op" id="2509009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2509012">//&nbsp;Contains&nbsp;returns&nbsp;true&nbsp;if&nbsp;substr&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2509060">func</span>&nbsp;<span class="ident" id="2509065">Contains</span><span class="op" id="2509073">(</span><span class="ident" id="2509074">s</span><span class="op" id="2509075">,</span>&nbsp;<span class="ident" id="2509077">substr</span>&nbsp;<span class="builtintype" id="2509084">string</span><span class="op" id="2509090">)</span>&nbsp;<span class="builtintype" id="2509092">bool</span>&nbsp;<span class="op" id="2509097">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509100">return</span>&nbsp;<span class="ident" id="2509107"><a href="/strings/strings.go.html#2509532">Index</a></span><span class="op" id="2509112">(</span><span class="ident" id="2509113"><a href="/strings/strings.go.html#2509074">s</a></span><span class="op" id="2509114">,</span>&nbsp;<span class="ident" id="2509116"><a href="/strings/strings.go.html#2509077">substr</a></span><span class="op" id="2509122">)</span>&nbsp;<span class="op" id="2509124">&gt;=</span>&nbsp;<span class="num" id="2509127">0</span><br>
<span class="lineno"></span><span class="op" id="2509129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2509132">//&nbsp;ContainsAny&nbsp;returns&nbsp;true&nbsp;if&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;in&nbsp;chars&nbsp;are&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2509210">func</span>&nbsp;<span class="ident" id="2509215">ContainsAny</span><span class="op" id="2509226">(</span><span class="ident" id="2509227">s</span><span class="op" id="2509228">,</span>&nbsp;<span class="ident" id="2509230">chars</span>&nbsp;<span class="builtintype" id="2509236">string</span><span class="op" id="2509242">)</span>&nbsp;<span class="builtintype" id="2509244">bool</span>&nbsp;<span class="op" id="2509249">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509252">return</span>&nbsp;<span class="ident" id="2509259"><a href="/strings/strings.go.html#2511423">IndexAny</a></span><span class="op" id="2509267">(</span><span class="ident" id="2509268"><a href="/strings/strings.go.html#2509227">s</a></span><span class="op" id="2509269">,</span>&nbsp;<span class="ident" id="2509271"><a href="/strings/strings.go.html#2509230">chars</a></span><span class="op" id="2509276">)</span>&nbsp;<span class="op" id="2509278">&gt;=</span>&nbsp;<span class="num" id="2509281">0</span><br>
<span class="lineno"></span><span class="op" id="2509283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2509286">//&nbsp;ContainsRune&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;r&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2509356">func</span>&nbsp;<span class="ident" id="2509361">ContainsRune</span><span class="op" id="2509373">(</span><span class="ident" id="2509374">s</span>&nbsp;<span class="builtintype" id="2509376">string</span><span class="op" id="2509382">,</span>&nbsp;<span class="ident" id="2509384">r</span>&nbsp;<span class="builtintype" id="2509386">rune</span><span class="op" id="2509390">)</span>&nbsp;<span class="builtintype" id="2509392">bool</span>&nbsp;<span class="op" id="2509397">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509400">return</span>&nbsp;<span class="ident" id="2509407"><a href="/strings/strings.go.html#2511073">IndexRune</a></span><span class="op" id="2509416">(</span><span class="ident" id="2509417"><a href="/strings/strings.go.html#2509374">s</a></span><span class="op" id="2509418">,</span>&nbsp;<span class="ident" id="2509420"><a href="/strings/strings.go.html#2509384">r</a></span><span class="op" id="2509421">)</span>&nbsp;<span class="op" id="2509423">&gt;=</span>&nbsp;<span class="num" id="2509426">0</span><br>
<span class="lineno"></span><span class="op" id="2509428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2509431">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2509527">func</span>&nbsp;<span class="ident" id="2509532">Index</span><span class="op" id="2509537">(</span><span class="ident" id="2509538">s</span><span class="op" id="2509539">,</span>&nbsp;<span class="ident" id="2509541">sep</span>&nbsp;<span class="builtintype" id="2509545">string</span><span class="op" id="2509551">)</span>&nbsp;<span class="builtintype" id="2509553">int</span>&nbsp;<span class="op" id="2509557">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509560">n</span>&nbsp;<span class="op" id="2509562">:=</span>&nbsp;<span class="builtinfunc" id="2509565">len</span><span class="op" id="2509568">(</span><span class="ident" id="2509569"><a href="/strings/strings.go.html#2509541">sep</a></span><span class="op" id="2509572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509575">switch</span>&nbsp;<span class="op" id="2509582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509585">case</span>&nbsp;<span class="ident" id="2509590"><a href="/strings/strings.go.html#2509560">n</a></span>&nbsp;<span class="op" id="2509592">==</span>&nbsp;<span class="num" id="2509595">0</span><span class="op" id="2509596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509600">return</span>&nbsp;<span class="num" id="2509607">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509610">case</span>&nbsp;<span class="ident" id="2509615"><a href="/strings/strings.go.html#2509560">n</a></span>&nbsp;<span class="op" id="2509617">==</span>&nbsp;<span class="num" id="2509620">1</span><span class="op" id="2509621">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509625">return</span>&nbsp;<span class="ident" id="2509632"><a href="/strings/strings_decl.go.html#2526203">IndexByte</a></span><span class="op" id="2509641">(</span><span class="ident" id="2509642"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509643">,</span>&nbsp;<span class="ident" id="2509645"><a href="/strings/strings.go.html#2509541">sep</a></span><span class="op" id="2509648">[</span><span class="num" id="2509649">0</span><span class="op" id="2509650">]</span><span class="op" id="2509651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509654">case</span>&nbsp;<span class="ident" id="2509659"><a href="/strings/strings.go.html#2509560">n</a></span>&nbsp;<span class="op" id="2509661">==</span>&nbsp;<span class="builtinfunc" id="2509664">len</span><span class="op" id="2509667">(</span><span class="ident" id="2509668"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509669">)</span><span class="op" id="2509670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509674">if</span>&nbsp;<span class="ident" id="2509677"><a href="/strings/strings.go.html#2509541">sep</a></span>&nbsp;<span class="op" id="2509681">==</span>&nbsp;<span class="ident" id="2509684"><a href="/strings/strings.go.html#2509538">s</a></span>&nbsp;<span class="op" id="2509686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509691">return</span>&nbsp;<span class="num" id="2509698">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509702">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509706">return</span>&nbsp;<span class="op" id="2509713">-</span><span class="num" id="2509714">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509717">case</span>&nbsp;<span class="ident" id="2509722"><a href="/strings/strings.go.html#2509560">n</a></span>&nbsp;<span class="op" id="2509724">&gt;</span>&nbsp;<span class="builtinfunc" id="2509726">len</span><span class="op" id="2509729">(</span><span class="ident" id="2509730"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509731">)</span><span class="op" id="2509732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509736">return</span>&nbsp;<span class="op" id="2509743">-</span><span class="num" id="2509744">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2509750">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509772">hashsep</span><span class="op" id="2509779">,</span>&nbsp;<span class="ident" id="2509781">pow</span>&nbsp;<span class="op" id="2509785">:=</span>&nbsp;<span class="ident" id="2509788"><a href="/strings/strings.go.html#2507420">hashStr</a></span><span class="op" id="2509795">(</span><span class="ident" id="2509796"><a href="/strings/strings.go.html#2509541">sep</a></span><span class="op" id="2509799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509802">var</span>&nbsp;<span class="ident" id="2509806">h</span>&nbsp;<span class="builtintype" id="2509808">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509816">for</span>&nbsp;<span class="ident" id="2509820">i</span>&nbsp;<span class="op" id="2509822">:=</span>&nbsp;<span class="num" id="2509825">0</span><span class="op" id="2509826">;</span>&nbsp;<span class="ident" id="2509828"><a href="/strings/strings.go.html#2509820">i</a></span>&nbsp;<span class="op" id="2509830">&lt;</span>&nbsp;<span class="ident" id="2509832"><a href="/strings/strings.go.html#2509560">n</a></span><span class="op" id="2509833">;</span>&nbsp;<span class="ident" id="2509835"><a href="/strings/strings.go.html#2509820">i</a></span><span class="op" id="2509836">++</span>&nbsp;<span class="op" id="2509839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509843"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2509845">=</span>&nbsp;<span class="ident" id="2509847"><a href="/strings/strings.go.html#2509806">h</a></span><span class="op" id="2509848">*</span><span class="ident" id="2509849"><a href="/strings/strings.go.html#2507289">primeRK</a></span>&nbsp;<span class="op" id="2509857">+</span>&nbsp;<span class="builtintype" id="2509859">uint32</span><span class="op" id="2509865">(</span><span class="ident" id="2509866"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509867">[</span><span class="ident" id="2509868"><a href="/strings/strings.go.html#2509820">i</a></span><span class="op" id="2509869">]</span><span class="op" id="2509870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509873">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509876">if</span>&nbsp;<span class="ident" id="2509879"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2509881">==</span>&nbsp;<span class="ident" id="2509884"><a href="/strings/strings.go.html#2509772">hashsep</a></span>&nbsp;<span class="op" id="2509892">&amp;&amp;</span>&nbsp;<span class="ident" id="2509895"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509896">[</span><span class="op" id="2509897">:</span><span class="ident" id="2509898"><a href="/strings/strings.go.html#2509560">n</a></span><span class="op" id="2509899">]</span>&nbsp;<span class="op" id="2509901">==</span>&nbsp;<span class="ident" id="2509904"><a href="/strings/strings.go.html#2509541">sep</a></span>&nbsp;<span class="op" id="2509908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509912">return</span>&nbsp;<span class="num" id="2509919">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509925">for</span>&nbsp;<span class="ident" id="2509929">i</span>&nbsp;<span class="op" id="2509931">:=</span>&nbsp;<span class="ident" id="2509934"><a href="/strings/strings.go.html#2509560">n</a></span><span class="op" id="2509935">;</span>&nbsp;<span class="ident" id="2509937"><a href="/strings/strings.go.html#2509929">i</a></span>&nbsp;<span class="op" id="2509939">&lt;</span>&nbsp;<span class="builtinfunc" id="2509941">len</span><span class="op" id="2509944">(</span><span class="ident" id="2509945"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509946">)</span><span class="op" id="2509947">;</span>&nbsp;<span class="op" id="2509949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509953"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2509955">*=</span>&nbsp;<span class="ident" id="2509958"><a href="/strings/strings.go.html#2507289">primeRK</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509968"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2509970">+=</span>&nbsp;<span class="builtintype" id="2509973">uint32</span><span class="op" id="2509979">(</span><span class="ident" id="2509980"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2509981">[</span><span class="ident" id="2509982"><a href="/strings/strings.go.html#2509929">i</a></span><span class="op" id="2509983">]</span><span class="op" id="2509984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2509988"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2509990">-=</span>&nbsp;<span class="ident" id="2509993"><a href="/strings/strings.go.html#2509781">pow</a></span>&nbsp;<span class="op" id="2509997">*</span>&nbsp;<span class="builtintype" id="2509999">uint32</span><span class="op" id="2510005">(</span><span class="ident" id="2510006"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2510007">[</span><span class="ident" id="2510008"><a href="/strings/strings.go.html#2509929">i</a></span><span class="op" id="2510009">-</span><span class="ident" id="2510010"><a href="/strings/strings.go.html#2509560">n</a></span><span class="op" id="2510011">]</span><span class="op" id="2510012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510016"><a href="/strings/strings.go.html#2509929">i</a></span><span class="op" id="2510017">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510022">if</span>&nbsp;<span class="ident" id="2510025"><a href="/strings/strings.go.html#2509806">h</a></span>&nbsp;<span class="op" id="2510027">==</span>&nbsp;<span class="ident" id="2510030"><a href="/strings/strings.go.html#2509772">hashsep</a></span>&nbsp;<span class="op" id="2510038">&amp;&amp;</span>&nbsp;<span class="ident" id="2510041"><a href="/strings/strings.go.html#2509538">s</a></span><span class="op" id="2510042">[</span><span class="ident" id="2510043"><a href="/strings/strings.go.html#2509929">i</a></span><span class="op" id="2510044">-</span><span class="ident" id="2510045"><a href="/strings/strings.go.html#2509560">n</a></span><span class="op" id="2510046">:</span><span class="ident" id="2510047"><a href="/strings/strings.go.html#2509929">i</a></span><span class="op" id="2510048">]</span>&nbsp;<span class="op" id="2510050">==</span>&nbsp;<span class="ident" id="2510053"><a href="/strings/strings.go.html#2509541">sep</a></span>&nbsp;<span class="op" id="2510057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510062">return</span>&nbsp;<span class="ident" id="2510069"><a href="/strings/strings.go.html#2509929">i</a></span>&nbsp;<span class="op" id="2510071">-</span>&nbsp;<span class="ident" id="2510073"><a href="/strings/strings.go.html#2509560">n</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510083">return</span>&nbsp;<span class="op" id="2510090">-</span><span class="num" id="2510091">1</span><br>
<span class="lineno"></span><span class="op" id="2510093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="2510096">//&nbsp;LastIndex&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2510195">func</span>&nbsp;<span class="ident" id="2510200">LastIndex</span><span class="op" id="2510209">(</span><span class="ident" id="2510210">s</span><span class="op" id="2510211">,</span>&nbsp;<span class="ident" id="2510213">sep</span>&nbsp;<span class="builtintype" id="2510217">string</span><span class="op" id="2510223">)</span>&nbsp;<span class="builtintype" id="2510225">int</span>&nbsp;<span class="op" id="2510229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510232">n</span>&nbsp;<span class="op" id="2510234">:=</span>&nbsp;<span class="builtinfunc" id="2510237">len</span><span class="op" id="2510240">(</span><span class="ident" id="2510241"><a href="/strings/strings.go.html#2510213">sep</a></span><span class="op" id="2510244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510247">switch</span>&nbsp;<span class="op" id="2510254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510257">case</span>&nbsp;<span class="ident" id="2510262"><a href="/strings/strings.go.html#2510232">n</a></span>&nbsp;<span class="op" id="2510264">==</span>&nbsp;<span class="num" id="2510267">0</span><span class="op" id="2510268">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510272">return</span>&nbsp;<span class="builtinfunc" id="2510279">len</span><span class="op" id="2510282">(</span><span class="ident" id="2510283"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510287">case</span>&nbsp;<span class="ident" id="2510292"><a href="/strings/strings.go.html#2510232">n</a></span>&nbsp;<span class="op" id="2510294">==</span>&nbsp;<span class="num" id="2510297">1</span><span class="op" id="2510298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2510302">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510338">c</span>&nbsp;<span class="op" id="2510340">:=</span>&nbsp;<span class="ident" id="2510343"><a href="/strings/strings.go.html#2510213">sep</a></span><span class="op" id="2510346">[</span><span class="num" id="2510347">0</span><span class="op" id="2510348">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510352">for</span>&nbsp;<span class="ident" id="2510356">i</span>&nbsp;<span class="op" id="2510358">:=</span>&nbsp;<span class="builtinfunc" id="2510361">len</span><span class="op" id="2510364">(</span><span class="ident" id="2510365"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510366">)</span>&nbsp;<span class="op" id="2510368">-</span>&nbsp;<span class="num" id="2510370">1</span><span class="op" id="2510371">;</span>&nbsp;<span class="ident" id="2510373"><a href="/strings/strings.go.html#2510356">i</a></span>&nbsp;<span class="op" id="2510375">&gt;=</span>&nbsp;<span class="num" id="2510378">0</span><span class="op" id="2510379">;</span>&nbsp;<span class="ident" id="2510381"><a href="/strings/strings.go.html#2510356">i</a></span><span class="op" id="2510382">--</span>&nbsp;<span class="op" id="2510385">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510390">if</span>&nbsp;<span class="ident" id="2510393"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510394">[</span><span class="ident" id="2510395"><a href="/strings/strings.go.html#2510356">i</a></span><span class="op" id="2510396">]</span>&nbsp;<span class="op" id="2510398">==</span>&nbsp;<span class="ident" id="2510401"><a href="/strings/strings.go.html#2510338">c</a></span>&nbsp;<span class="op" id="2510403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510409">return</span>&nbsp;<span class="ident" id="2510416"><a href="/strings/strings.go.html#2510356">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510429">return</span>&nbsp;<span class="op" id="2510436">-</span><span class="num" id="2510437">1</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510440">case</span>&nbsp;<span class="ident" id="2510445"><a href="/strings/strings.go.html#2510232">n</a></span>&nbsp;<span class="op" id="2510447">==</span>&nbsp;<span class="builtinfunc" id="2510450">len</span><span class="op" id="2510453">(</span><span class="ident" id="2510454"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510455">)</span><span class="op" id="2510456">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510460">if</span>&nbsp;<span class="ident" id="2510463"><a href="/strings/strings.go.html#2510213">sep</a></span>&nbsp;<span class="op" id="2510467">==</span>&nbsp;<span class="ident" id="2510470"><a href="/strings/strings.go.html#2510210">s</a></span>&nbsp;<span class="op" id="2510472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510477">return</span>&nbsp;<span class="num" id="2510484">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510492">return</span>&nbsp;<span class="op" id="2510499">-</span><span class="num" id="2510500">1</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510503">case</span>&nbsp;<span class="ident" id="2510508"><a href="/strings/strings.go.html#2510232">n</a></span>&nbsp;<span class="op" id="2510510">&gt;</span>&nbsp;<span class="builtinfunc" id="2510512">len</span><span class="op" id="2510515">(</span><span class="ident" id="2510516"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510517">)</span><span class="op" id="2510518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510522">return</span>&nbsp;<span class="op" id="2510529">-</span><span class="num" id="2510530">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2510536">//&nbsp;Rabin-Karp&nbsp;search&nbsp;from&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510585">hashsep</span><span class="op" id="2510592">,</span>&nbsp;<span class="ident" id="2510594">pow</span>&nbsp;<span class="op" id="2510598">:=</span>&nbsp;<span class="ident" id="2510601"><a href="/strings/strings.go.html#2507827">hashStrRev</a></span><span class="op" id="2510611">(</span><span class="ident" id="2510612"><a href="/strings/strings.go.html#2510213">sep</a></span><span class="op" id="2510615">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510618">last</span>&nbsp;<span class="op" id="2510623">:=</span>&nbsp;<span class="builtinfunc" id="2510626">len</span><span class="op" id="2510629">(</span><span class="ident" id="2510630"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510631">)</span>&nbsp;<span class="op" id="2510633">-</span>&nbsp;<span class="ident" id="2510635"><a href="/strings/strings.go.html#2510232">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510638">var</span>&nbsp;<span class="ident" id="2510642">h</span>&nbsp;<span class="builtintype" id="2510644">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510652">for</span>&nbsp;<span class="ident" id="2510656">i</span>&nbsp;<span class="op" id="2510658">:=</span>&nbsp;<span class="builtinfunc" id="2510661">len</span><span class="op" id="2510664">(</span><span class="ident" id="2510665"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510666">)</span>&nbsp;<span class="op" id="2510668">-</span>&nbsp;<span class="num" id="2510670">1</span><span class="op" id="2510671">;</span>&nbsp;<span class="ident" id="2510673"><a href="/strings/strings.go.html#2510656">i</a></span>&nbsp;<span class="op" id="2510675">&gt;=</span>&nbsp;<span class="ident" id="2510678"><a href="/strings/strings.go.html#2510618">last</a></span><span class="op" id="2510682">;</span>&nbsp;<span class="ident" id="2510684"><a href="/strings/strings.go.html#2510656">i</a></span><span class="op" id="2510685">--</span>&nbsp;<span class="op" id="2510688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510692"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510694">=</span>&nbsp;<span class="ident" id="2510696"><a href="/strings/strings.go.html#2510642">h</a></span><span class="op" id="2510697">*</span><span class="ident" id="2510698"><a href="/strings/strings.go.html#2507289">primeRK</a></span>&nbsp;<span class="op" id="2510706">+</span>&nbsp;<span class="builtintype" id="2510708">uint32</span><span class="op" id="2510714">(</span><span class="ident" id="2510715"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510716">[</span><span class="ident" id="2510717"><a href="/strings/strings.go.html#2510656">i</a></span><span class="op" id="2510718">]</span><span class="op" id="2510719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510722">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510725">if</span>&nbsp;<span class="ident" id="2510728"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510730">==</span>&nbsp;<span class="ident" id="2510733"><a href="/strings/strings.go.html#2510585">hashsep</a></span>&nbsp;<span class="op" id="2510741">&amp;&amp;</span>&nbsp;<span class="ident" id="2510744"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510745">[</span><span class="ident" id="2510746"><a href="/strings/strings.go.html#2510618">last</a></span><span class="op" id="2510750">:</span><span class="op" id="2510751">]</span>&nbsp;<span class="op" id="2510753">==</span>&nbsp;<span class="ident" id="2510756"><a href="/strings/strings.go.html#2510213">sep</a></span>&nbsp;<span class="op" id="2510760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510764">return</span>&nbsp;<span class="ident" id="2510771"><a href="/strings/strings.go.html#2510618">last</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510780">for</span>&nbsp;<span class="ident" id="2510784">i</span>&nbsp;<span class="op" id="2510786">:=</span>&nbsp;<span class="ident" id="2510789"><a href="/strings/strings.go.html#2510618">last</a></span>&nbsp;<span class="op" id="2510794">-</span>&nbsp;<span class="num" id="2510796">1</span><span class="op" id="2510797">;</span>&nbsp;<span class="ident" id="2510799"><a href="/strings/strings.go.html#2510784">i</a></span>&nbsp;<span class="op" id="2510801">&gt;=</span>&nbsp;<span class="num" id="2510804">0</span><span class="op" id="2510805">;</span>&nbsp;<span class="ident" id="2510807"><a href="/strings/strings.go.html#2510784">i</a></span><span class="op" id="2510808">--</span>&nbsp;<span class="op" id="2510811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510815"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510817">*=</span>&nbsp;<span class="ident" id="2510820"><a href="/strings/strings.go.html#2507289">primeRK</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510830"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510832">+=</span>&nbsp;<span class="builtintype" id="2510835">uint32</span><span class="op" id="2510841">(</span><span class="ident" id="2510842"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510843">[</span><span class="ident" id="2510844"><a href="/strings/strings.go.html#2510784">i</a></span><span class="op" id="2510845">]</span><span class="op" id="2510846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510850"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510852">-=</span>&nbsp;<span class="ident" id="2510855"><a href="/strings/strings.go.html#2510594">pow</a></span>&nbsp;<span class="op" id="2510859">*</span>&nbsp;<span class="builtintype" id="2510861">uint32</span><span class="op" id="2510867">(</span><span class="ident" id="2510868"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510869">[</span><span class="ident" id="2510870"><a href="/strings/strings.go.html#2510784">i</a></span><span class="op" id="2510871">+</span><span class="ident" id="2510872"><a href="/strings/strings.go.html#2510232">n</a></span><span class="op" id="2510873">]</span><span class="op" id="2510874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510878">if</span>&nbsp;<span class="ident" id="2510881"><a href="/strings/strings.go.html#2510642">h</a></span>&nbsp;<span class="op" id="2510883">==</span>&nbsp;<span class="ident" id="2510886"><a href="/strings/strings.go.html#2510585">hashsep</a></span>&nbsp;<span class="op" id="2510894">&amp;&amp;</span>&nbsp;<span class="ident" id="2510897"><a href="/strings/strings.go.html#2510210">s</a></span><span class="op" id="2510898">[</span><span class="ident" id="2510899"><a href="/strings/strings.go.html#2510784">i</a></span><span class="op" id="2510900">:</span><span class="ident" id="2510901"><a href="/strings/strings.go.html#2510784">i</a></span><span class="op" id="2510902">+</span><span class="ident" id="2510903"><a href="/strings/strings.go.html#2510232">n</a></span><span class="op" id="2510904">]</span>&nbsp;<span class="op" id="2510906">==</span>&nbsp;<span class="ident" id="2510909"><a href="/strings/strings.go.html#2510213">sep</a></span>&nbsp;<span class="op" id="2510913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510918">return</span>&nbsp;<span class="ident" id="2510925"><a href="/strings/strings.go.html#2510784">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510929">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510935">return</span>&nbsp;<span class="op" id="2510942">-</span><span class="num" id="2510943">1</span><br>
<span class="lineno"></span><span class="op" id="2510945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2510948">//&nbsp;IndexRune&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno">225</span><span class="comment" id="2511027">//&nbsp;r,&nbsp;or&nbsp;-1&nbsp;if&nbsp;rune&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2511068">func</span>&nbsp;<span class="ident" id="2511073">IndexRune</span><span class="op" id="2511082">(</span><span class="ident" id="2511083">s</span>&nbsp;<span class="builtintype" id="2511085">string</span><span class="op" id="2511091">,</span>&nbsp;<span class="ident" id="2511093">r</span>&nbsp;<span class="builtintype" id="2511095">rune</span><span class="op" id="2511099">)</span>&nbsp;<span class="builtintype" id="2511101">int</span>&nbsp;<span class="op" id="2511105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511108">switch</span>&nbsp;<span class="op" id="2511115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511118">case</span>&nbsp;<span class="ident" id="2511123"><a href="/strings/strings.go.html#2511093">r</a></span>&nbsp;<span class="op" id="2511125">&lt;</span>&nbsp;<span class="ident" id="2511127"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2511131">.</span><span class="ident" id="2511132">RuneSelf</span><span class="op" id="2511140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511144">return</span>&nbsp;<span class="ident" id="2511151"><a href="/strings/strings_decl.go.html#2526203">IndexByte</a></span><span class="op" id="2511160">(</span><span class="ident" id="2511161"><a href="/strings/strings.go.html#2511083">s</a></span><span class="op" id="2511162">,</span>&nbsp;<span class="builtintype" id="2511164">byte</span><span class="op" id="2511168">(</span><span class="ident" id="2511169"><a href="/strings/strings.go.html#2511093">r</a></span><span class="op" id="2511170">)</span><span class="op" id="2511171">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511174">default</span><span class="op" id="2511181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511185">for</span>&nbsp;<span class="ident" id="2511189">i</span><span class="op" id="2511190">,</span>&nbsp;<span class="ident" id="2511192">c</span>&nbsp;<span class="op" id="2511194">:=</span>&nbsp;<span class="keyword" id="2511197">range</span>&nbsp;<span class="ident" id="2511203"><a href="/strings/strings.go.html#2511083">s</a></span>&nbsp;<span class="op" id="2511205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511210">if</span>&nbsp;<span class="ident" id="2511213"><a href="/strings/strings.go.html#2511192">c</a></span>&nbsp;<span class="op" id="2511215">==</span>&nbsp;<span class="ident" id="2511218"><a href="/strings/strings.go.html#2511093">r</a></span>&nbsp;<span class="op" id="2511220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511226">return</span>&nbsp;<span class="ident" id="2511233"><a href="/strings/strings.go.html#2511189">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511238">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511248">return</span>&nbsp;<span class="op" id="2511255">-</span><span class="num" id="2511256">1</span><br>
<span class="lineno"></span><span class="op" id="2511258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="comment" id="2511261">//&nbsp;IndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno"></span><span class="comment" id="2511339">//&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2511418">func</span>&nbsp;<span class="ident" id="2511423">IndexAny</span><span class="op" id="2511431">(</span><span class="ident" id="2511432">s</span><span class="op" id="2511433">,</span>&nbsp;<span class="ident" id="2511435">chars</span>&nbsp;<span class="builtintype" id="2511441">string</span><span class="op" id="2511447">)</span>&nbsp;<span class="builtintype" id="2511449">int</span>&nbsp;<span class="op" id="2511453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511456">if</span>&nbsp;<span class="builtinfunc" id="2511459">len</span><span class="op" id="2511462">(</span><span class="ident" id="2511463"><a href="/strings/strings.go.html#2511435">chars</a></span><span class="op" id="2511468">)</span>&nbsp;<span class="op" id="2511470">&gt;</span>&nbsp;<span class="num" id="2511472">0</span>&nbsp;<span class="op" id="2511474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511478">for</span>&nbsp;<span class="ident" id="2511482">i</span><span class="op" id="2511483">,</span>&nbsp;<span class="ident" id="2511485">c</span>&nbsp;<span class="op" id="2511487">:=</span>&nbsp;<span class="keyword" id="2511490">range</span>&nbsp;<span class="ident" id="2511496"><a href="/strings/strings.go.html#2511432">s</a></span>&nbsp;<span class="op" id="2511498">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511503">for</span>&nbsp;<span class="ident" id="2511507">_</span><span class="op" id="2511508">,</span>&nbsp;<span class="ident" id="2511510">m</span>&nbsp;<span class="op" id="2511512">:=</span>&nbsp;<span class="keyword" id="2511515">range</span>&nbsp;<span class="ident" id="2511521"><a href="/strings/strings.go.html#2511435">chars</a></span>&nbsp;<span class="op" id="2511527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511533">if</span>&nbsp;<span class="ident" id="2511536"><a href="/strings/strings.go.html#2511485">c</a></span>&nbsp;<span class="op" id="2511538">==</span>&nbsp;<span class="ident" id="2511541"><a href="/strings/strings.go.html#2511510">m</a></span>&nbsp;<span class="op" id="2511543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511550">return</span>&nbsp;<span class="ident" id="2511557"><a href="/strings/strings.go.html#2511482">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511568">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511578">return</span>&nbsp;<span class="op" id="2511585">-</span><span class="num" id="2511586">1</span><br>
<span class="lineno"></span><span class="op" id="2511588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="2511591">//&nbsp;LastIndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code</span><br>
<span class="lineno"></span><span class="comment" id="2511666">//&nbsp;point&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2511737">//&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2511754">func</span>&nbsp;<span class="ident" id="2511759">LastIndexAny</span><span class="op" id="2511771">(</span><span class="ident" id="2511772">s</span><span class="op" id="2511773">,</span>&nbsp;<span class="ident" id="2511775">chars</span>&nbsp;<span class="builtintype" id="2511781">string</span><span class="op" id="2511787">)</span>&nbsp;<span class="builtintype" id="2511789">int</span>&nbsp;<span class="op" id="2511793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511796">if</span>&nbsp;<span class="builtinfunc" id="2511799">len</span><span class="op" id="2511802">(</span><span class="ident" id="2511803"><a href="/strings/strings.go.html#2511775">chars</a></span><span class="op" id="2511808">)</span>&nbsp;<span class="op" id="2511810">&gt;</span>&nbsp;<span class="num" id="2511812">0</span>&nbsp;<span class="op" id="2511814">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511818">for</span>&nbsp;<span class="ident" id="2511822">i</span>&nbsp;<span class="op" id="2511824">:=</span>&nbsp;<span class="builtinfunc" id="2511827">len</span><span class="op" id="2511830">(</span><span class="ident" id="2511831"><a href="/strings/strings.go.html#2511772">s</a></span><span class="op" id="2511832">)</span><span class="op" id="2511833">;</span>&nbsp;<span class="ident" id="2511835"><a href="/strings/strings.go.html#2511822">i</a></span>&nbsp;<span class="op" id="2511837">&gt;</span>&nbsp;<span class="num" id="2511839">0</span><span class="op" id="2511840">;</span>&nbsp;<span class="op" id="2511842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2511847">rune</span><span class="op" id="2511851">,</span>&nbsp;<span class="ident" id="2511853">size</span>&nbsp;<span class="op" id="2511858">:=</span>&nbsp;<span class="ident" id="2511861"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2511865">.</span><span class="ident" id="2511866">DecodeLastRuneInString</span><span class="op" id="2511888">(</span><span class="ident" id="2511889"><a href="/strings/strings.go.html#2511772">s</a></span><span class="op" id="2511890">[</span><span class="num" id="2511891">0</span><span class="op" id="2511892">:</span><span class="ident" id="2511893"><a href="/strings/strings.go.html#2511822">i</a></span><span class="op" id="2511894">]</span><span class="op" id="2511895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2511900"><a href="/strings/strings.go.html#2511822">i</a></span>&nbsp;<span class="op" id="2511902">-=</span>&nbsp;<span class="ident" id="2511905"><a href="/strings/strings.go.html#2511853">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511913">for</span>&nbsp;<span class="ident" id="2511917">_</span><span class="op" id="2511918">,</span>&nbsp;<span class="ident" id="2511920">m</span>&nbsp;<span class="op" id="2511922">:=</span>&nbsp;<span class="keyword" id="2511925">range</span>&nbsp;<span class="ident" id="2511931"><a href="/strings/strings.go.html#2511775">chars</a></span>&nbsp;<span class="op" id="2511937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511943">if</span>&nbsp;<span class="builtintype" id="2511946"><a href="/strings/strings.go.html#2511847">rune</a></span>&nbsp;<span class="op" id="2511951">==</span>&nbsp;<span class="ident" id="2511954"><a href="/strings/strings.go.html#2511920">m</a></span>&nbsp;<span class="op" id="2511956">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511963">return</span>&nbsp;<span class="ident" id="2511970"><a href="/strings/strings.go.html#2511822">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511988">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511991">return</span>&nbsp;<span class="op" id="2511998">-</span><span class="num" id="2511999">1</span><br>
<span class="lineno"></span><span class="op" id="2512001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2512004">//&nbsp;Generic&nbsp;split:&nbsp;splits&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep,</span><br>
<span class="lineno"></span><span class="comment" id="2512057">//&nbsp;including&nbsp;sepSave&nbsp;bytes&nbsp;of&nbsp;sep&nbsp;in&nbsp;the&nbsp;subarrays.</span><br>
<span class="lineno">275</span><span class="keyword" id="2512109">func</span>&nbsp;<span class="ident" id="2512114">genSplit</span><span class="op" id="2512122">(</span><span class="ident" id="2512123">s</span><span class="op" id="2512124">,</span>&nbsp;<span class="ident" id="2512126">sep</span>&nbsp;<span class="builtintype" id="2512130">string</span><span class="op" id="2512136">,</span>&nbsp;<span class="ident" id="2512138">sepSave</span><span class="op" id="2512145">,</span>&nbsp;<span class="ident" id="2512147">n</span>&nbsp;<span class="builtintype" id="2512149">int</span><span class="op" id="2512152">)</span>&nbsp;<span class="op" id="2512154">[</span><span class="op" id="2512155">]</span><span class="builtintype" id="2512156">string</span>&nbsp;<span class="op" id="2512163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512166">if</span>&nbsp;<span class="ident" id="2512169"><a href="/strings/strings.go.html#2512147">n</a></span>&nbsp;<span class="op" id="2512171">==</span>&nbsp;<span class="num" id="2512174">0</span>&nbsp;<span class="op" id="2512176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512180">return</span>&nbsp;<span class="ident" id="2512187">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2512192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512195">if</span>&nbsp;<span class="ident" id="2512198"><a href="/strings/strings.go.html#2512126">sep</a></span>&nbsp;<span class="op" id="2512202">==</span>&nbsp;<span class="string" id="2512205">&#34;&#34;</span>&nbsp;<span class="op" id="2512208">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512212">return</span>&nbsp;<span class="ident" id="2512219"><a href="/strings/strings.go.html#2506752">explode</a></span><span class="op" id="2512226">(</span><span class="ident" id="2512227"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512228">,</span>&nbsp;<span class="ident" id="2512230"><a href="/strings/strings.go.html#2512147">n</a></span><span class="op" id="2512231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2512234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512237">if</span>&nbsp;<span class="ident" id="2512240"><a href="/strings/strings.go.html#2512147">n</a></span>&nbsp;<span class="op" id="2512242">&lt;</span>&nbsp;<span class="num" id="2512244">0</span>&nbsp;<span class="op" id="2512246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512250"><a href="/strings/strings.go.html#2512147">n</a></span>&nbsp;<span class="op" id="2512252">=</span>&nbsp;<span class="ident" id="2512254"><a href="/strings/strings.go.html#2508180">Count</a></span><span class="op" id="2512259">(</span><span class="ident" id="2512260"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512261">,</span>&nbsp;<span class="ident" id="2512263"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512266">)</span>&nbsp;<span class="op" id="2512268">+</span>&nbsp;<span class="num" id="2512270">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2512273">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512276">c</span>&nbsp;<span class="op" id="2512278">:=</span>&nbsp;<span class="ident" id="2512281"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512284">[</span><span class="num" id="2512285">0</span><span class="op" id="2512286">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512289">start</span>&nbsp;<span class="op" id="2512295">:=</span>&nbsp;<span class="num" id="2512298">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512301">a</span>&nbsp;<span class="op" id="2512303">:=</span>&nbsp;<span class="builtinfunc" id="2512306">make</span><span class="op" id="2512310">(</span><span class="op" id="2512311">[</span><span class="op" id="2512312">]</span><span class="builtintype" id="2512313">string</span><span class="op" id="2512319">,</span>&nbsp;<span class="ident" id="2512321"><a href="/strings/strings.go.html#2512147">n</a></span><span class="op" id="2512322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512325">na</span>&nbsp;<span class="op" id="2512328">:=</span>&nbsp;<span class="num" id="2512331">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512334">for</span>&nbsp;<span class="ident" id="2512338">i</span>&nbsp;<span class="op" id="2512340">:=</span>&nbsp;<span class="num" id="2512343">0</span><span class="op" id="2512344">;</span>&nbsp;<span class="ident" id="2512346"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512347">+</span><span class="builtinfunc" id="2512348">len</span><span class="op" id="2512351">(</span><span class="ident" id="2512352"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512355">)</span>&nbsp;<span class="op" id="2512357">&lt;=</span>&nbsp;<span class="builtinfunc" id="2512360">len</span><span class="op" id="2512363">(</span><span class="ident" id="2512364"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512365">)</span>&nbsp;<span class="op" id="2512367">&amp;&amp;</span>&nbsp;<span class="ident" id="2512370"><a href="/strings/strings.go.html#2512325">na</a></span><span class="op" id="2512372">+</span><span class="num" id="2512373">1</span>&nbsp;<span class="op" id="2512375">&lt;</span>&nbsp;<span class="ident" id="2512377"><a href="/strings/strings.go.html#2512147">n</a></span><span class="op" id="2512378">;</span>&nbsp;<span class="ident" id="2512380"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512381">++</span>&nbsp;<span class="op" id="2512384">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512388">if</span>&nbsp;<span class="ident" id="2512391"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512392">[</span><span class="ident" id="2512393"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512394">]</span>&nbsp;<span class="op" id="2512396">==</span>&nbsp;<span class="ident" id="2512399"><a href="/strings/strings.go.html#2512276">c</a></span>&nbsp;<span class="op" id="2512401">&amp;&amp;</span>&nbsp;<span class="op" id="2512404">(</span><span class="builtinfunc" id="2512405">len</span><span class="op" id="2512408">(</span><span class="ident" id="2512409"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512412">)</span>&nbsp;<span class="op" id="2512414">==</span>&nbsp;<span class="num" id="2512417">1</span>&nbsp;<span class="op" id="2512419">||</span>&nbsp;<span class="ident" id="2512422"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512423">[</span><span class="ident" id="2512424"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512425">:</span><span class="ident" id="2512426"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512427">+</span><span class="builtinfunc" id="2512428">len</span><span class="op" id="2512431">(</span><span class="ident" id="2512432"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512435">)</span><span class="op" id="2512436">]</span>&nbsp;<span class="op" id="2512438">==</span>&nbsp;<span class="ident" id="2512441"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512444">)</span>&nbsp;<span class="op" id="2512446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512451"><a href="/strings/strings.go.html#2512301">a</a></span><span class="op" id="2512452">[</span><span class="ident" id="2512453"><a href="/strings/strings.go.html#2512325">na</a></span><span class="op" id="2512455">]</span>&nbsp;<span class="op" id="2512457">=</span>&nbsp;<span class="ident" id="2512459"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512460">[</span><span class="ident" id="2512461"><a href="/strings/strings.go.html#2512289">start</a></span>&nbsp;<span class="op" id="2512467">:</span>&nbsp;<span class="ident" id="2512469"><a href="/strings/strings.go.html#2512338">i</a></span><span class="op" id="2512470">+</span><span class="ident" id="2512471"><a href="/strings/strings.go.html#2512138">sepSave</a></span><span class="op" id="2512478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512483"><a href="/strings/strings.go.html#2512325">na</a></span><span class="op" id="2512485">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512491"><a href="/strings/strings.go.html#2512289">start</a></span>&nbsp;<span class="op" id="2512497">=</span>&nbsp;<span class="ident" id="2512499"><a href="/strings/strings.go.html#2512338">i</a></span>&nbsp;<span class="op" id="2512501">+</span>&nbsp;<span class="builtinfunc" id="2512503">len</span><span class="op" id="2512506">(</span><span class="ident" id="2512507"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512515"><a href="/strings/strings.go.html#2512338">i</a></span>&nbsp;<span class="op" id="2512517">+=</span>&nbsp;<span class="builtinfunc" id="2512520">len</span><span class="op" id="2512523">(</span><span class="ident" id="2512524"><a href="/strings/strings.go.html#2512126">sep</a></span><span class="op" id="2512527">)</span>&nbsp;<span class="op" id="2512529">-</span>&nbsp;<span class="num" id="2512531">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2512535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2512538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512541"><a href="/strings/strings.go.html#2512301">a</a></span><span class="op" id="2512542">[</span><span class="ident" id="2512543"><a href="/strings/strings.go.html#2512325">na</a></span><span class="op" id="2512545">]</span>&nbsp;<span class="op" id="2512547">=</span>&nbsp;<span class="ident" id="2512549"><a href="/strings/strings.go.html#2512123">s</a></span><span class="op" id="2512550">[</span><span class="ident" id="2512551"><a href="/strings/strings.go.html#2512289">start</a></span><span class="op" id="2512556">:</span><span class="op" id="2512557">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512560">return</span>&nbsp;<span class="ident" id="2512567"><a href="/strings/strings.go.html#2512301">a</a></span><span class="op" id="2512568">[</span><span class="num" id="2512569">0</span>&nbsp;<span class="op" id="2512571">:</span>&nbsp;<span class="ident" id="2512573"><a href="/strings/strings.go.html#2512325">na</a></span><span class="op" id="2512575">+</span><span class="num" id="2512576">1</span><span class="op" id="2512577">]</span><br>
<span class="lineno"></span><span class="op" id="2512579">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="2512582">//&nbsp;SplitN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2512657">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2512701">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2512762">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno">305</span><span class="comment" id="2512822">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="2512906">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2512955">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2512982">func</span>&nbsp;<span class="ident" id="2512987">SplitN</span><span class="op" id="2512993">(</span><span class="ident" id="2512994">s</span><span class="op" id="2512995">,</span>&nbsp;<span class="ident" id="2512997">sep</span>&nbsp;<span class="builtintype" id="2513001">string</span><span class="op" id="2513007">,</span>&nbsp;<span class="ident" id="2513009">n</span>&nbsp;<span class="builtintype" id="2513011">int</span><span class="op" id="2513014">)</span>&nbsp;<span class="op" id="2513016">[</span><span class="op" id="2513017">]</span><span class="builtintype" id="2513018">string</span>&nbsp;<span class="op" id="2513025">{</span>&nbsp;<span class="keyword" id="2513027">return</span>&nbsp;<span class="ident" id="2513034"><a href="/strings/strings.go.html#2512114">genSplit</a></span><span class="op" id="2513042">(</span><span class="ident" id="2513043"><a href="/strings/strings.go.html#2512994">s</a></span><span class="op" id="2513044">,</span>&nbsp;<span class="ident" id="2513046"><a href="/strings/strings.go.html#2512997">sep</a></span><span class="op" id="2513049">,</span>&nbsp;<span class="num" id="2513051">0</span><span class="op" id="2513052">,</span>&nbsp;<span class="ident" id="2513054"><a href="/strings/strings.go.html#2513009">n</a></span><span class="op" id="2513055">)</span>&nbsp;<span class="op" id="2513057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="2513060">//&nbsp;SplitAfterN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2513131">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2513171">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfterN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2513237">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno"></span><span class="comment" id="2513297">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno">315</span><span class="comment" id="2513381">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2513430">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2513457">func</span>&nbsp;<span class="ident" id="2513462">SplitAfterN</span><span class="op" id="2513473">(</span><span class="ident" id="2513474">s</span><span class="op" id="2513475">,</span>&nbsp;<span class="ident" id="2513477">sep</span>&nbsp;<span class="builtintype" id="2513481">string</span><span class="op" id="2513487">,</span>&nbsp;<span class="ident" id="2513489">n</span>&nbsp;<span class="builtintype" id="2513491">int</span><span class="op" id="2513494">)</span>&nbsp;<span class="op" id="2513496">[</span><span class="op" id="2513497">]</span><span class="builtintype" id="2513498">string</span>&nbsp;<span class="op" id="2513505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513508">return</span>&nbsp;<span class="ident" id="2513515"><a href="/strings/strings.go.html#2512114">genSplit</a></span><span class="op" id="2513523">(</span><span class="ident" id="2513524"><a href="/strings/strings.go.html#2513474">s</a></span><span class="op" id="2513525">,</span>&nbsp;<span class="ident" id="2513527"><a href="/strings/strings.go.html#2513477">sep</a></span><span class="op" id="2513530">,</span>&nbsp;<span class="builtinfunc" id="2513532">len</span><span class="op" id="2513535">(</span><span class="ident" id="2513536"><a href="/strings/strings.go.html#2513477">sep</a></span><span class="op" id="2513539">)</span><span class="op" id="2513540">,</span>&nbsp;<span class="ident" id="2513542"><a href="/strings/strings.go.html#2513489">n</a></span><span class="op" id="2513543">)</span><br>
<span class="lineno"></span><span class="op" id="2513545">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="2513548">//&nbsp;Split&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2513626">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2513670">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;Split&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2513730">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno">325</span><span class="keyword" id="2513780">func</span>&nbsp;<span class="ident" id="2513785">Split</span><span class="op" id="2513790">(</span><span class="ident" id="2513791">s</span><span class="op" id="2513792">,</span>&nbsp;<span class="ident" id="2513794">sep</span>&nbsp;<span class="builtintype" id="2513798">string</span><span class="op" id="2513804">)</span>&nbsp;<span class="op" id="2513806">[</span><span class="op" id="2513807">]</span><span class="builtintype" id="2513808">string</span>&nbsp;<span class="op" id="2513815">{</span>&nbsp;<span class="keyword" id="2513817">return</span>&nbsp;<span class="ident" id="2513824"><a href="/strings/strings.go.html#2512114">genSplit</a></span><span class="op" id="2513832">(</span><span class="ident" id="2513833"><a href="/strings/strings.go.html#2513791">s</a></span><span class="op" id="2513834">,</span>&nbsp;<span class="ident" id="2513836"><a href="/strings/strings.go.html#2513794">sep</a></span><span class="op" id="2513839">,</span>&nbsp;<span class="num" id="2513841">0</span><span class="op" id="2513842">,</span>&nbsp;<span class="op" id="2513844">-</span><span class="num" id="2513845">1</span><span class="op" id="2513846">)</span>&nbsp;<span class="op" id="2513848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513851">//&nbsp;SplitAfter&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2513925">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2513965">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfter&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno">330</span><span class="comment" id="2514030">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitAfterN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="2514085">func</span>&nbsp;<span class="ident" id="2514090">SplitAfter</span><span class="op" id="2514100">(</span><span class="ident" id="2514101">s</span><span class="op" id="2514102">,</span>&nbsp;<span class="ident" id="2514104">sep</span>&nbsp;<span class="builtintype" id="2514108">string</span><span class="op" id="2514114">)</span>&nbsp;<span class="op" id="2514116">[</span><span class="op" id="2514117">]</span><span class="builtintype" id="2514118">string</span>&nbsp;<span class="op" id="2514125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514128">return</span>&nbsp;<span class="ident" id="2514135"><a href="/strings/strings.go.html#2512114">genSplit</a></span><span class="op" id="2514143">(</span><span class="ident" id="2514144"><a href="/strings/strings.go.html#2514101">s</a></span><span class="op" id="2514145">,</span>&nbsp;<span class="ident" id="2514147"><a href="/strings/strings.go.html#2514104">sep</a></span><span class="op" id="2514150">,</span>&nbsp;<span class="builtinfunc" id="2514152">len</span><span class="op" id="2514155">(</span><span class="ident" id="2514156"><a href="/strings/strings.go.html#2514104">sep</a></span><span class="op" id="2514159">)</span><span class="op" id="2514160">,</span>&nbsp;<span class="op" id="2514162">-</span><span class="num" id="2514163">1</span><span class="op" id="2514164">)</span><br>
<span class="lineno"></span><span class="op" id="2514166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="2514169">//&nbsp;Fields&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;around&nbsp;each&nbsp;instance&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;consecutive&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span><span class="comment" id="2514259">//&nbsp;characters,&nbsp;as&nbsp;defined&nbsp;by&nbsp;unicode.IsSpace,&nbsp;returning&nbsp;an&nbsp;array&nbsp;of&nbsp;substrings&nbsp;of&nbsp;s&nbsp;or&nbsp;an</span><br>
<span class="lineno"></span><span class="comment" id="2514349">//&nbsp;empty&nbsp;list&nbsp;if&nbsp;s&nbsp;contains&nbsp;only&nbsp;white&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="2514395">func</span>&nbsp;<span class="ident" id="2514400">Fields</span><span class="op" id="2514406">(</span><span class="ident" id="2514407">s</span>&nbsp;<span class="builtintype" id="2514409">string</span><span class="op" id="2514415">)</span>&nbsp;<span class="op" id="2514417">[</span><span class="op" id="2514418">]</span><span class="builtintype" id="2514419">string</span>&nbsp;<span class="op" id="2514426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514429">return</span>&nbsp;<span class="ident" id="2514436"><a href="/strings/strings.go.html#2514848">FieldsFunc</a></span><span class="op" id="2514446">(</span><span class="ident" id="2514447"><a href="/strings/strings.go.html#2514407">s</a></span><span class="op" id="2514448">,</span>&nbsp;<span class="ident" id="2514450"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2514457">.</span><span class="ident" id="2514458">IsSpace</span><span class="op" id="2514465">)</span><br>
<span class="lineno">340</span><span class="op" id="2514467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514470">//&nbsp;FieldsFunc&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;at&nbsp;each&nbsp;run&nbsp;of&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)</span><br>
<span class="lineno"></span><span class="comment" id="2514557">//&nbsp;and&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;slices&nbsp;of&nbsp;s.&nbsp;If&nbsp;all&nbsp;code&nbsp;points&nbsp;in&nbsp;s&nbsp;satisfy&nbsp;f(c)&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2514641">//&nbsp;string&nbsp;is&nbsp;empty,&nbsp;an&nbsp;empty&nbsp;slice&nbsp;is&nbsp;returned.</span><br>
<span class="lineno">345</span><span class="comment" id="2514689">//&nbsp;FieldsFunc&nbsp;makes&nbsp;no&nbsp;guarantees&nbsp;about&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;it&nbsp;calls&nbsp;f(c).</span><br>
<span class="lineno"></span><span class="comment" id="2514763">//&nbsp;If&nbsp;f&nbsp;does&nbsp;not&nbsp;return&nbsp;consistent&nbsp;results&nbsp;for&nbsp;a&nbsp;given&nbsp;c,&nbsp;FieldsFunc&nbsp;may&nbsp;crash.</span><br>
<span class="lineno"></span><span class="keyword" id="2514843">func</span>&nbsp;<span class="ident" id="2514848">FieldsFunc</span><span class="op" id="2514858">(</span><span class="ident" id="2514859">s</span>&nbsp;<span class="builtintype" id="2514861">string</span><span class="op" id="2514867">,</span>&nbsp;<span class="ident" id="2514869">f</span>&nbsp;<span class="keyword" id="2514871">func</span><span class="op" id="2514875">(</span><span class="builtintype" id="2514876">rune</span><span class="op" id="2514880">)</span>&nbsp;<span class="builtintype" id="2514882">bool</span><span class="op" id="2514886">)</span>&nbsp;<span class="op" id="2514888">[</span><span class="op" id="2514889">]</span><span class="builtintype" id="2514890">string</span>&nbsp;<span class="op" id="2514897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2514900">//&nbsp;First&nbsp;count&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514928">n</span>&nbsp;<span class="op" id="2514930">:=</span>&nbsp;<span class="num" id="2514933">0</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514936">inField</span>&nbsp;<span class="op" id="2514944">:=</span>&nbsp;<span class="builtintype" id="2514947">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514954">for</span>&nbsp;<span class="ident" id="2514958">_</span><span class="op" id="2514959">,</span>&nbsp;<span class="builtintype" id="2514961">rune</span>&nbsp;<span class="op" id="2514966">:=</span>&nbsp;<span class="keyword" id="2514969">range</span>&nbsp;<span class="ident" id="2514975"><a href="/strings/strings.go.html#2514859">s</a></span>&nbsp;<span class="op" id="2514977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514981">wasInField</span>&nbsp;<span class="op" id="2514992">:=</span>&nbsp;<span class="ident" id="2514995"><a href="/strings/strings.go.html#2514936">inField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515005"><a href="/strings/strings.go.html#2514936">inField</a></span>&nbsp;<span class="op" id="2515013">=</span>&nbsp;<span class="op" id="2515015">!</span><span class="ident" id="2515016"><a href="/strings/strings.go.html#2514869">f</a></span><span class="op" id="2515017">(</span><span class="builtintype" id="2515018"><a href="/strings/strings.go.html#2514961">rune</a></span><span class="op" id="2515022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515026">if</span>&nbsp;<span class="ident" id="2515029"><a href="/strings/strings.go.html#2514936">inField</a></span>&nbsp;<span class="op" id="2515037">&amp;&amp;</span>&nbsp;<span class="op" id="2515040">!</span><span class="ident" id="2515041"><a href="/strings/strings.go.html#2514981">wasInField</a></span>&nbsp;<span class="op" id="2515052">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515057"><a href="/strings/strings.go.html#2514928">n</a></span><span class="op" id="2515058">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2515070">//&nbsp;Now&nbsp;create&nbsp;them.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515091">a</span>&nbsp;<span class="op" id="2515093">:=</span>&nbsp;<span class="builtinfunc" id="2515096">make</span><span class="op" id="2515100">(</span><span class="op" id="2515101">[</span><span class="op" id="2515102">]</span><span class="builtintype" id="2515103">string</span><span class="op" id="2515109">,</span>&nbsp;<span class="ident" id="2515111"><a href="/strings/strings.go.html#2514928">n</a></span><span class="op" id="2515112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515115">na</span>&nbsp;<span class="op" id="2515118">:=</span>&nbsp;<span class="num" id="2515121">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515124">fieldStart</span>&nbsp;<span class="op" id="2515135">:=</span>&nbsp;<span class="op" id="2515138">-</span><span class="num" id="2515139">1</span>&nbsp;<span class="comment" id="2515141">//&nbsp;Set&nbsp;to&nbsp;-1&nbsp;when&nbsp;looking&nbsp;for&nbsp;start&nbsp;of&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515188">for</span>&nbsp;<span class="ident" id="2515192">i</span><span class="op" id="2515193">,</span>&nbsp;<span class="builtintype" id="2515195">rune</span>&nbsp;<span class="op" id="2515200">:=</span>&nbsp;<span class="keyword" id="2515203">range</span>&nbsp;<span class="ident" id="2515209"><a href="/strings/strings.go.html#2514859">s</a></span>&nbsp;<span class="op" id="2515211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515215">if</span>&nbsp;<span class="ident" id="2515218"><a href="/strings/strings.go.html#2514869">f</a></span><span class="op" id="2515219">(</span><span class="builtintype" id="2515220"><a href="/strings/strings.go.html#2515195">rune</a></span><span class="op" id="2515224">)</span>&nbsp;<span class="op" id="2515226">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515231">if</span>&nbsp;<span class="ident" id="2515234"><a href="/strings/strings.go.html#2515124">fieldStart</a></span>&nbsp;<span class="op" id="2515245">&gt;=</span>&nbsp;<span class="num" id="2515248">0</span>&nbsp;<span class="op" id="2515250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515256"><a href="/strings/strings.go.html#2515091">a</a></span><span class="op" id="2515257">[</span><span class="ident" id="2515258"><a href="/strings/strings.go.html#2515115">na</a></span><span class="op" id="2515260">]</span>&nbsp;<span class="op" id="2515262">=</span>&nbsp;<span class="ident" id="2515264"><a href="/strings/strings.go.html#2514859">s</a></span><span class="op" id="2515265">[</span><span class="ident" id="2515266"><a href="/strings/strings.go.html#2515124">fieldStart</a></span><span class="op" id="2515276">:</span><span class="ident" id="2515277"><a href="/strings/strings.go.html#2515192">i</a></span><span class="op" id="2515278">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515284"><a href="/strings/strings.go.html#2515115">na</a></span><span class="op" id="2515286">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515293"><a href="/strings/strings.go.html#2515124">fieldStart</a></span>&nbsp;<span class="op" id="2515304">=</span>&nbsp;<span class="op" id="2515306">-</span><span class="num" id="2515307">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515312">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515316">}</span>&nbsp;<span class="keyword" id="2515318">else</span>&nbsp;<span class="keyword" id="2515323">if</span>&nbsp;<span class="ident" id="2515326"><a href="/strings/strings.go.html#2515124">fieldStart</a></span>&nbsp;<span class="op" id="2515337">==</span>&nbsp;<span class="op" id="2515340">-</span><span class="num" id="2515341">1</span>&nbsp;<span class="op" id="2515343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515348"><a href="/strings/strings.go.html#2515124">fieldStart</a></span>&nbsp;<span class="op" id="2515359">=</span>&nbsp;<span class="ident" id="2515361"><a href="/strings/strings.go.html#2515192">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515371">if</span>&nbsp;<span class="ident" id="2515374"><a href="/strings/strings.go.html#2515124">fieldStart</a></span>&nbsp;<span class="op" id="2515385">&gt;=</span>&nbsp;<span class="num" id="2515388">0</span>&nbsp;<span class="op" id="2515390">{</span>&nbsp;<span class="comment" id="2515392">//&nbsp;Last&nbsp;field&nbsp;might&nbsp;end&nbsp;at&nbsp;EOF.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515426"><a href="/strings/strings.go.html#2515091">a</a></span><span class="op" id="2515427">[</span><span class="ident" id="2515428"><a href="/strings/strings.go.html#2515115">na</a></span><span class="op" id="2515430">]</span>&nbsp;<span class="op" id="2515432">=</span>&nbsp;<span class="ident" id="2515434"><a href="/strings/strings.go.html#2514859">s</a></span><span class="op" id="2515435">[</span><span class="ident" id="2515436"><a href="/strings/strings.go.html#2515124">fieldStart</a></span><span class="op" id="2515446">:</span><span class="op" id="2515447">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515453">return</span>&nbsp;<span class="ident" id="2515460"><a href="/strings/strings.go.html#2515091">a</a></span><br>
<span class="lineno"></span><span class="op" id="2515462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="comment" id="2515465">//&nbsp;Join&nbsp;concatenates&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;to&nbsp;create&nbsp;a&nbsp;single&nbsp;string.&nbsp;&nbsp;&nbsp;The&nbsp;separator&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2515554">//&nbsp;sep&nbsp;is&nbsp;placed&nbsp;between&nbsp;elements&nbsp;in&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2515613">func</span>&nbsp;<span class="ident" id="2515618">Join</span><span class="op" id="2515622">(</span><span class="ident" id="2515623">a</span>&nbsp;<span class="op" id="2515625">[</span><span class="op" id="2515626">]</span><span class="builtintype" id="2515627">string</span><span class="op" id="2515633">,</span>&nbsp;<span class="ident" id="2515635">sep</span>&nbsp;<span class="builtintype" id="2515639">string</span><span class="op" id="2515645">)</span>&nbsp;<span class="builtintype" id="2515647">string</span>&nbsp;<span class="op" id="2515654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515657">if</span>&nbsp;<span class="builtinfunc" id="2515660">len</span><span class="op" id="2515663">(</span><span class="ident" id="2515664"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515665">)</span>&nbsp;<span class="op" id="2515667">==</span>&nbsp;<span class="num" id="2515670">0</span>&nbsp;<span class="op" id="2515672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515676">return</span>&nbsp;<span class="string" id="2515683">&#34;&#34;</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515690">if</span>&nbsp;<span class="builtinfunc" id="2515693">len</span><span class="op" id="2515696">(</span><span class="ident" id="2515697"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515698">)</span>&nbsp;<span class="op" id="2515700">==</span>&nbsp;<span class="num" id="2515703">1</span>&nbsp;<span class="op" id="2515705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515709">return</span>&nbsp;<span class="ident" id="2515716"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515717">[</span><span class="num" id="2515718">0</span><span class="op" id="2515719">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515725">n</span>&nbsp;<span class="op" id="2515727">:=</span>&nbsp;<span class="builtinfunc" id="2515730">len</span><span class="op" id="2515733">(</span><span class="ident" id="2515734"><a href="/strings/strings.go.html#2515635">sep</a></span><span class="op" id="2515737">)</span>&nbsp;<span class="op" id="2515739">*</span>&nbsp;<span class="op" id="2515741">(</span><span class="builtinfunc" id="2515742">len</span><span class="op" id="2515745">(</span><span class="ident" id="2515746"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515747">)</span>&nbsp;<span class="op" id="2515749">-</span>&nbsp;<span class="num" id="2515751">1</span><span class="op" id="2515752">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515755">for</span>&nbsp;<span class="ident" id="2515759">i</span>&nbsp;<span class="op" id="2515761">:=</span>&nbsp;<span class="num" id="2515764">0</span><span class="op" id="2515765">;</span>&nbsp;<span class="ident" id="2515767"><a href="/strings/strings.go.html#2515759">i</a></span>&nbsp;<span class="op" id="2515769">&lt;</span>&nbsp;<span class="builtinfunc" id="2515771">len</span><span class="op" id="2515774">(</span><span class="ident" id="2515775"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515776">)</span><span class="op" id="2515777">;</span>&nbsp;<span class="ident" id="2515779"><a href="/strings/strings.go.html#2515759">i</a></span><span class="op" id="2515780">++</span>&nbsp;<span class="op" id="2515783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515787"><a href="/strings/strings.go.html#2515725">n</a></span>&nbsp;<span class="op" id="2515789">+=</span>&nbsp;<span class="builtinfunc" id="2515792">len</span><span class="op" id="2515795">(</span><span class="ident" id="2515796"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515797">[</span><span class="ident" id="2515798"><a href="/strings/strings.go.html#2515759">i</a></span><span class="op" id="2515799">]</span><span class="op" id="2515800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515807">b</span>&nbsp;<span class="op" id="2515809">:=</span>&nbsp;<span class="builtinfunc" id="2515812">make</span><span class="op" id="2515816">(</span><span class="op" id="2515817">[</span><span class="op" id="2515818">]</span><span class="builtintype" id="2515819">byte</span><span class="op" id="2515823">,</span>&nbsp;<span class="ident" id="2515825"><a href="/strings/strings.go.html#2515725">n</a></span><span class="op" id="2515826">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515829">bp</span>&nbsp;<span class="op" id="2515832">:=</span>&nbsp;<span class="builtinfunc" id="2515835">copy</span><span class="op" id="2515839">(</span><span class="ident" id="2515840"><a href="/strings/strings.go.html#2515807">b</a></span><span class="op" id="2515841">,</span>&nbsp;<span class="ident" id="2515843"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515844">[</span><span class="num" id="2515845">0</span><span class="op" id="2515846">]</span><span class="op" id="2515847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515850">for</span>&nbsp;<span class="ident" id="2515854">_</span><span class="op" id="2515855">,</span>&nbsp;<span class="ident" id="2515857">s</span>&nbsp;<span class="op" id="2515859">:=</span>&nbsp;<span class="keyword" id="2515862">range</span>&nbsp;<span class="ident" id="2515868"><a href="/strings/strings.go.html#2515623">a</a></span><span class="op" id="2515869">[</span><span class="num" id="2515870">1</span><span class="op" id="2515871">:</span><span class="op" id="2515872">]</span>&nbsp;<span class="op" id="2515874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515878"><a href="/strings/strings.go.html#2515829">bp</a></span>&nbsp;<span class="op" id="2515881">+=</span>&nbsp;<span class="builtinfunc" id="2515884">copy</span><span class="op" id="2515888">(</span><span class="ident" id="2515889"><a href="/strings/strings.go.html#2515807">b</a></span><span class="op" id="2515890">[</span><span class="ident" id="2515891"><a href="/strings/strings.go.html#2515829">bp</a></span><span class="op" id="2515893">:</span><span class="op" id="2515894">]</span><span class="op" id="2515895">,</span>&nbsp;<span class="ident" id="2515897"><a href="/strings/strings.go.html#2515635">sep</a></span><span class="op" id="2515900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515904"><a href="/strings/strings.go.html#2515829">bp</a></span>&nbsp;<span class="op" id="2515907">+=</span>&nbsp;<span class="builtinfunc" id="2515910">copy</span><span class="op" id="2515914">(</span><span class="ident" id="2515915"><a href="/strings/strings.go.html#2515807">b</a></span><span class="op" id="2515916">[</span><span class="ident" id="2515917"><a href="/strings/strings.go.html#2515829">bp</a></span><span class="op" id="2515919">:</span><span class="op" id="2515920">]</span><span class="op" id="2515921">,</span>&nbsp;<span class="ident" id="2515923"><a href="/strings/strings.go.html#2515857">s</a></span><span class="op" id="2515924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515927">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515930">return</span>&nbsp;<span class="builtintype" id="2515937">string</span><span class="op" id="2515943">(</span><span class="ident" id="2515944"><a href="/strings/strings.go.html#2515807">b</a></span><span class="op" id="2515945">)</span><br>
<span class="lineno"></span><span class="op" id="2515947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2515950">//&nbsp;HasPrefix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;begins&nbsp;with&nbsp;prefix.</span><br>
<span class="lineno"></span><span class="keyword" id="2516010">func</span>&nbsp;<span class="ident" id="2516015">HasPrefix</span><span class="op" id="2516024">(</span><span class="ident" id="2516025">s</span><span class="op" id="2516026">,</span>&nbsp;<span class="ident" id="2516028">prefix</span>&nbsp;<span class="builtintype" id="2516035">string</span><span class="op" id="2516041">)</span>&nbsp;<span class="builtintype" id="2516043">bool</span>&nbsp;<span class="op" id="2516048">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516051">return</span>&nbsp;<span class="builtinfunc" id="2516058">len</span><span class="op" id="2516061">(</span><span class="ident" id="2516062"><a href="/strings/strings.go.html#2516025">s</a></span><span class="op" id="2516063">)</span>&nbsp;<span class="op" id="2516065">&gt;=</span>&nbsp;<span class="builtinfunc" id="2516068">len</span><span class="op" id="2516071">(</span><span class="ident" id="2516072"><a href="/strings/strings.go.html#2516028">prefix</a></span><span class="op" id="2516078">)</span>&nbsp;<span class="op" id="2516080">&amp;&amp;</span>&nbsp;<span class="ident" id="2516083"><a href="/strings/strings.go.html#2516025">s</a></span><span class="op" id="2516084">[</span><span class="num" id="2516085">0</span><span class="op" id="2516086">:</span><span class="builtinfunc" id="2516087">len</span><span class="op" id="2516090">(</span><span class="ident" id="2516091"><a href="/strings/strings.go.html#2516028">prefix</a></span><span class="op" id="2516097">)</span><span class="op" id="2516098">]</span>&nbsp;<span class="op" id="2516100">==</span>&nbsp;<span class="ident" id="2516103"><a href="/strings/strings.go.html#2516028">prefix</a></span><br>
<span class="lineno"></span><span class="op" id="2516110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2516113">//&nbsp;HasSuffix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;ends&nbsp;with&nbsp;suffix.</span><br>
<span class="lineno"></span><span class="keyword" id="2516171">func</span>&nbsp;<span class="ident" id="2516176">HasSuffix</span><span class="op" id="2516185">(</span><span class="ident" id="2516186">s</span><span class="op" id="2516187">,</span>&nbsp;<span class="ident" id="2516189">suffix</span>&nbsp;<span class="builtintype" id="2516196">string</span><span class="op" id="2516202">)</span>&nbsp;<span class="builtintype" id="2516204">bool</span>&nbsp;<span class="op" id="2516209">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516212">return</span>&nbsp;<span class="builtinfunc" id="2516219">len</span><span class="op" id="2516222">(</span><span class="ident" id="2516223"><a href="/strings/strings.go.html#2516186">s</a></span><span class="op" id="2516224">)</span>&nbsp;<span class="op" id="2516226">&gt;=</span>&nbsp;<span class="builtinfunc" id="2516229">len</span><span class="op" id="2516232">(</span><span class="ident" id="2516233"><a href="/strings/strings.go.html#2516189">suffix</a></span><span class="op" id="2516239">)</span>&nbsp;<span class="op" id="2516241">&amp;&amp;</span>&nbsp;<span class="ident" id="2516244"><a href="/strings/strings.go.html#2516186">s</a></span><span class="op" id="2516245">[</span><span class="builtinfunc" id="2516246">len</span><span class="op" id="2516249">(</span><span class="ident" id="2516250"><a href="/strings/strings.go.html#2516186">s</a></span><span class="op" id="2516251">)</span><span class="op" id="2516252">-</span><span class="builtinfunc" id="2516253">len</span><span class="op" id="2516256">(</span><span class="ident" id="2516257"><a href="/strings/strings.go.html#2516189">suffix</a></span><span class="op" id="2516263">)</span><span class="op" id="2516264">:</span><span class="op" id="2516265">]</span>&nbsp;<span class="op" id="2516267">==</span>&nbsp;<span class="ident" id="2516270"><a href="/strings/strings.go.html#2516189">suffix</a></span><br>
<span class="lineno"></span><span class="op" id="2516277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2516280">//&nbsp;Map&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;its&nbsp;characters&nbsp;modified</span><br>
<span class="lineno"></span><span class="comment" id="2516351">//&nbsp;according&nbsp;to&nbsp;the&nbsp;mapping&nbsp;function.&nbsp;If&nbsp;mapping&nbsp;returns&nbsp;a&nbsp;negative&nbsp;value,&nbsp;the&nbsp;character&nbsp;is</span><br>
<span class="lineno">415</span><span class="comment" id="2516443">//&nbsp;dropped&nbsp;from&nbsp;the&nbsp;string&nbsp;with&nbsp;no&nbsp;replacement.</span><br>
<span class="lineno"></span><span class="keyword" id="2516491">func</span>&nbsp;<span class="ident" id="2516496">Map</span><span class="op" id="2516499">(</span><span class="ident" id="2516500">mapping</span>&nbsp;<span class="keyword" id="2516508">func</span><span class="op" id="2516512">(</span><span class="builtintype" id="2516513">rune</span><span class="op" id="2516517">)</span>&nbsp;<span class="builtintype" id="2516519">rune</span><span class="op" id="2516523">,</span>&nbsp;<span class="ident" id="2516525">s</span>&nbsp;<span class="builtintype" id="2516527">string</span><span class="op" id="2516533">)</span>&nbsp;<span class="builtintype" id="2516535">string</span>&nbsp;<span class="op" id="2516542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2516545">//&nbsp;In&nbsp;the&nbsp;worst&nbsp;case,&nbsp;the&nbsp;string&nbsp;can&nbsp;grow&nbsp;when&nbsp;mapped,&nbsp;making</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2516608">//&nbsp;things&nbsp;unpleasant.&nbsp;&nbsp;But&nbsp;it&#39;s&nbsp;so&nbsp;rare&nbsp;we&nbsp;barge&nbsp;in&nbsp;assuming&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2516675">//&nbsp;fine.&nbsp;&nbsp;It&nbsp;could&nbsp;also&nbsp;shrink&nbsp;but&nbsp;that&nbsp;falls&nbsp;out&nbsp;naturally.</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516737">maxbytes</span>&nbsp;<span class="op" id="2516746">:=</span>&nbsp;<span class="builtinfunc" id="2516749">len</span><span class="op" id="2516752">(</span><span class="ident" id="2516753"><a href="/strings/strings.go.html#2516525">s</a></span><span class="op" id="2516754">)</span>&nbsp;<span class="comment" id="2516756">//&nbsp;length&nbsp;of&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516772">nbytes</span>&nbsp;<span class="op" id="2516779">:=</span>&nbsp;<span class="num" id="2516782">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2516791">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;encoded&nbsp;in&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2516824">//&nbsp;The&nbsp;output&nbsp;buffer&nbsp;b&nbsp;is&nbsp;initialized&nbsp;on&nbsp;demand,&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2516884">//&nbsp;time&nbsp;a&nbsp;character&nbsp;differs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516914">var</span>&nbsp;<span class="ident" id="2516918">b</span>&nbsp;<span class="op" id="2516920">[</span><span class="op" id="2516921">]</span><span class="builtintype" id="2516922">byte</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516929">for</span>&nbsp;<span class="ident" id="2516933">i</span><span class="op" id="2516934">,</span>&nbsp;<span class="ident" id="2516936">c</span>&nbsp;<span class="op" id="2516938">:=</span>&nbsp;<span class="keyword" id="2516941">range</span>&nbsp;<span class="ident" id="2516947"><a href="/strings/strings.go.html#2516525">s</a></span>&nbsp;<span class="op" id="2516949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516953">r</span>&nbsp;<span class="op" id="2516955">:=</span>&nbsp;<span class="ident" id="2516958"><a href="/strings/strings.go.html#2516500">mapping</a></span><span class="op" id="2516965">(</span><span class="ident" id="2516966"><a href="/strings/strings.go.html#2516936">c</a></span><span class="op" id="2516967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516971">if</span>&nbsp;<span class="ident" id="2516974"><a href="/strings/strings.go.html#2516918">b</a></span>&nbsp;<span class="op" id="2516976">==</span>&nbsp;<span class="ident" id="2516979">nil</span>&nbsp;<span class="op" id="2516983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516988">if</span>&nbsp;<span class="ident" id="2516991"><a href="/strings/strings.go.html#2516953">r</a></span>&nbsp;<span class="op" id="2516993">==</span>&nbsp;<span class="ident" id="2516996"><a href="/strings/strings.go.html#2516936">c</a></span>&nbsp;<span class="op" id="2516998">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517004">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517021"><a href="/strings/strings.go.html#2516918">b</a></span>&nbsp;<span class="op" id="2517023">=</span>&nbsp;<span class="builtinfunc" id="2517025">make</span><span class="op" id="2517029">(</span><span class="op" id="2517030">[</span><span class="op" id="2517031">]</span><span class="builtintype" id="2517032">byte</span><span class="op" id="2517036">,</span>&nbsp;<span class="ident" id="2517038"><a href="/strings/strings.go.html#2516737">maxbytes</a></span><span class="op" id="2517046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517051"><a href="/strings/strings.go.html#2516772">nbytes</a></span>&nbsp;<span class="op" id="2517058">=</span>&nbsp;<span class="builtinfunc" id="2517060">copy</span><span class="op" id="2517064">(</span><span class="ident" id="2517065"><a href="/strings/strings.go.html#2516918">b</a></span><span class="op" id="2517066">,</span>&nbsp;<span class="ident" id="2517068"><a href="/strings/strings.go.html#2516525">s</a></span><span class="op" id="2517069">[</span><span class="op" id="2517070">:</span><span class="ident" id="2517071"><a href="/strings/strings.go.html#2516933">i</a></span><span class="op" id="2517072">]</span><span class="op" id="2517073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517077">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517081">if</span>&nbsp;<span class="ident" id="2517084"><a href="/strings/strings.go.html#2516953">r</a></span>&nbsp;<span class="op" id="2517086">&gt;=</span>&nbsp;<span class="num" id="2517089">0</span>&nbsp;<span class="op" id="2517091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517096">wid</span>&nbsp;<span class="op" id="2517100">:=</span>&nbsp;<span class="num" id="2517103">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517108">if</span>&nbsp;<span class="ident" id="2517111"><a href="/strings/strings.go.html#2516953">r</a></span>&nbsp;<span class="op" id="2517113">&gt;=</span>&nbsp;<span class="ident" id="2517116"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2517120">.</span><span class="ident" id="2517121">RuneSelf</span>&nbsp;<span class="op" id="2517130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517136"><a href="/strings/strings.go.html#2517096">wid</a></span>&nbsp;<span class="op" id="2517140">=</span>&nbsp;<span class="ident" id="2517142"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2517146">.</span><span class="ident" id="2517147">RuneLen</span><span class="op" id="2517154">(</span><span class="ident" id="2517155"><a href="/strings/strings.go.html#2516953">r</a></span><span class="op" id="2517156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517161">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517166">if</span>&nbsp;<span class="ident" id="2517169"><a href="/strings/strings.go.html#2516772">nbytes</a></span><span class="op" id="2517175">+</span><span class="ident" id="2517176"><a href="/strings/strings.go.html#2517096">wid</a></span>&nbsp;<span class="op" id="2517180">&gt;</span>&nbsp;<span class="ident" id="2517182"><a href="/strings/strings.go.html#2516737">maxbytes</a></span>&nbsp;<span class="op" id="2517191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2517197">//&nbsp;Grow&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517221"><a href="/strings/strings.go.html#2516737">maxbytes</a></span>&nbsp;<span class="op" id="2517230">=</span>&nbsp;<span class="ident" id="2517232"><a href="/strings/strings.go.html#2516737">maxbytes</a></span><span class="op" id="2517240">*</span><span class="num" id="2517241">2</span>&nbsp;<span class="op" id="2517243">+</span>&nbsp;<span class="ident" id="2517245"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2517249">.</span><span class="ident" id="2517250">UTFMax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517261">nb</span>&nbsp;<span class="op" id="2517264">:=</span>&nbsp;<span class="builtinfunc" id="2517267">make</span><span class="op" id="2517271">(</span><span class="op" id="2517272">[</span><span class="op" id="2517273">]</span><span class="builtintype" id="2517274">byte</span><span class="op" id="2517278">,</span>&nbsp;<span class="ident" id="2517280"><a href="/strings/strings.go.html#2516737">maxbytes</a></span><span class="op" id="2517288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2517294">copy</span><span class="op" id="2517298">(</span><span class="ident" id="2517299"><a href="/strings/strings.go.html#2517261">nb</a></span><span class="op" id="2517301">,</span>&nbsp;<span class="ident" id="2517303"><a href="/strings/strings.go.html#2516918">b</a></span><span class="op" id="2517304">[</span><span class="num" id="2517305">0</span><span class="op" id="2517306">:</span><span class="ident" id="2517307"><a href="/strings/strings.go.html#2516772">nbytes</a></span><span class="op" id="2517313">]</span><span class="op" id="2517314">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517320"><a href="/strings/strings.go.html#2516918">b</a></span>&nbsp;<span class="op" id="2517322">=</span>&nbsp;<span class="ident" id="2517324"><a href="/strings/strings.go.html#2517261">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517335"><a href="/strings/strings.go.html#2516772">nbytes</a></span>&nbsp;<span class="op" id="2517342">+=</span>&nbsp;<span class="ident" id="2517345"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2517349">.</span><span class="ident" id="2517350">EncodeRune</span><span class="op" id="2517360">(</span><span class="ident" id="2517361"><a href="/strings/strings.go.html#2516918">b</a></span><span class="op" id="2517362">[</span><span class="ident" id="2517363"><a href="/strings/strings.go.html#2516772">nbytes</a></span><span class="op" id="2517369">:</span><span class="ident" id="2517370"><a href="/strings/strings.go.html#2516737">maxbytes</a></span><span class="op" id="2517378">]</span><span class="op" id="2517379">,</span>&nbsp;<span class="ident" id="2517381"><a href="/strings/strings.go.html#2516953">r</a></span><span class="op" id="2517382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517389">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517392">if</span>&nbsp;<span class="ident" id="2517395"><a href="/strings/strings.go.html#2516918">b</a></span>&nbsp;<span class="op" id="2517397">==</span>&nbsp;<span class="ident" id="2517400">nil</span>&nbsp;<span class="op" id="2517404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517408">return</span>&nbsp;<span class="ident" id="2517415"><a href="/strings/strings.go.html#2516525">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517421">return</span>&nbsp;<span class="builtintype" id="2517428">string</span><span class="op" id="2517434">(</span><span class="ident" id="2517435"><a href="/strings/strings.go.html#2516918">b</a></span><span class="op" id="2517436">[</span><span class="num" id="2517437">0</span><span class="op" id="2517438">:</span><span class="ident" id="2517439"><a href="/strings/strings.go.html#2516772">nbytes</a></span><span class="op" id="2517445">]</span><span class="op" id="2517446">)</span><br>
<span class="lineno"></span><span class="op" id="2517448">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span><span class="comment" id="2517451">//&nbsp;Repeat&nbsp;returns&nbsp;a&nbsp;new&nbsp;string&nbsp;consisting&nbsp;of&nbsp;count&nbsp;copies&nbsp;of&nbsp;the&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2517526">func</span>&nbsp;<span class="ident" id="2517531">Repeat</span><span class="op" id="2517537">(</span><span class="ident" id="2517538">s</span>&nbsp;<span class="builtintype" id="2517540">string</span><span class="op" id="2517546">,</span>&nbsp;<span class="ident" id="2517548">count</span>&nbsp;<span class="builtintype" id="2517554">int</span><span class="op" id="2517557">)</span>&nbsp;<span class="builtintype" id="2517559">string</span>&nbsp;<span class="op" id="2517566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517569">b</span>&nbsp;<span class="op" id="2517571">:=</span>&nbsp;<span class="builtinfunc" id="2517574">make</span><span class="op" id="2517578">(</span><span class="op" id="2517579">[</span><span class="op" id="2517580">]</span><span class="builtintype" id="2517581">byte</span><span class="op" id="2517585">,</span>&nbsp;<span class="builtinfunc" id="2517587">len</span><span class="op" id="2517590">(</span><span class="ident" id="2517591"><a href="/strings/strings.go.html#2517538">s</a></span><span class="op" id="2517592">)</span><span class="op" id="2517593">*</span><span class="ident" id="2517594"><a href="/strings/strings.go.html#2517548">count</a></span><span class="op" id="2517599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517602">bp</span>&nbsp;<span class="op" id="2517605">:=</span>&nbsp;<span class="builtinfunc" id="2517608">copy</span><span class="op" id="2517612">(</span><span class="ident" id="2517613"><a href="/strings/strings.go.html#2517569">b</a></span><span class="op" id="2517614">,</span>&nbsp;<span class="ident" id="2517616"><a href="/strings/strings.go.html#2517538">s</a></span><span class="op" id="2517617">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517620">for</span>&nbsp;<span class="ident" id="2517624"><a href="/strings/strings.go.html#2517602">bp</a></span>&nbsp;<span class="op" id="2517627">&lt;</span>&nbsp;<span class="builtinfunc" id="2517629">len</span><span class="op" id="2517632">(</span><span class="ident" id="2517633"><a href="/strings/strings.go.html#2517569">b</a></span><span class="op" id="2517634">)</span>&nbsp;<span class="op" id="2517636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2517640">copy</span><span class="op" id="2517644">(</span><span class="ident" id="2517645"><a href="/strings/strings.go.html#2517569">b</a></span><span class="op" id="2517646">[</span><span class="ident" id="2517647"><a href="/strings/strings.go.html#2517602">bp</a></span><span class="op" id="2517649">:</span><span class="op" id="2517650">]</span><span class="op" id="2517651">,</span>&nbsp;<span class="ident" id="2517653"><a href="/strings/strings.go.html#2517569">b</a></span><span class="op" id="2517654">[</span><span class="op" id="2517655">:</span><span class="ident" id="2517656"><a href="/strings/strings.go.html#2517602">bp</a></span><span class="op" id="2517658">]</span><span class="op" id="2517659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2517663"><a href="/strings/strings.go.html#2517602">bp</a></span>&nbsp;<span class="op" id="2517666">*=</span>&nbsp;<span class="num" id="2517669">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2517672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2517675">return</span>&nbsp;<span class="builtintype" id="2517682">string</span><span class="op" id="2517688">(</span><span class="ident" id="2517689"><a href="/strings/strings.go.html#2517569">b</a></span><span class="op" id="2517690">)</span><br>
<span class="lineno">465</span><span class="op" id="2517692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2517695">//&nbsp;ToUpper&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;upper&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2517790">func</span>&nbsp;<span class="ident" id="2517795">ToUpper</span><span class="op" id="2517802">(</span><span class="ident" id="2517803">s</span>&nbsp;<span class="builtintype" id="2517805">string</span><span class="op" id="2517811">)</span>&nbsp;<span class="builtintype" id="2517813">string</span>&nbsp;<span class="op" id="2517820">{</span>&nbsp;<span class="keyword" id="2517822">return</span>&nbsp;<span class="ident" id="2517829"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2517832">(</span><span class="ident" id="2517833"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2517840">.</span><span class="ident" id="2517841">ToUpper</span><span class="op" id="2517848">,</span>&nbsp;<span class="ident" id="2517850"><a href="/strings/strings.go.html#2517803">s</a></span><span class="op" id="2517851">)</span>&nbsp;<span class="op" id="2517853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span><span class="comment" id="2517856">//&nbsp;ToLower&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2517951">func</span>&nbsp;<span class="ident" id="2517956">ToLower</span><span class="op" id="2517963">(</span><span class="ident" id="2517964">s</span>&nbsp;<span class="builtintype" id="2517966">string</span><span class="op" id="2517972">)</span>&nbsp;<span class="builtintype" id="2517974">string</span>&nbsp;<span class="op" id="2517981">{</span>&nbsp;<span class="keyword" id="2517983">return</span>&nbsp;<span class="ident" id="2517990"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2517993">(</span><span class="ident" id="2517994"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2518001">.</span><span class="ident" id="2518002">ToLower</span><span class="op" id="2518009">,</span>&nbsp;<span class="ident" id="2518011"><a href="/strings/strings.go.html#2517964">s</a></span><span class="op" id="2518012">)</span>&nbsp;<span class="op" id="2518014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2518017">//&nbsp;ToTitle&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2518112">func</span>&nbsp;<span class="ident" id="2518117">ToTitle</span><span class="op" id="2518124">(</span><span class="ident" id="2518125">s</span>&nbsp;<span class="builtintype" id="2518127">string</span><span class="op" id="2518133">)</span>&nbsp;<span class="builtintype" id="2518135">string</span>&nbsp;<span class="op" id="2518142">{</span>&nbsp;<span class="keyword" id="2518144">return</span>&nbsp;<span class="ident" id="2518151"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2518154">(</span><span class="ident" id="2518155"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2518162">.</span><span class="ident" id="2518163">ToTitle</span><span class="op" id="2518170">,</span>&nbsp;<span class="ident" id="2518172"><a href="/strings/strings.go.html#2518125">s</a></span><span class="op" id="2518173">)</span>&nbsp;<span class="op" id="2518175">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span><span class="comment" id="2518178">//&nbsp;ToUpperSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2518268">//&nbsp;upper&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2518328">func</span>&nbsp;<span class="ident" id="2518333">ToUpperSpecial</span><span class="op" id="2518347">(</span><span class="ident" id="2518348">_case</span>&nbsp;<span class="ident" id="2518354"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2518361">.</span><span class="ident" id="2518362">SpecialCase</span><span class="op" id="2518373">,</span>&nbsp;<span class="ident" id="2518375">s</span>&nbsp;<span class="builtintype" id="2518377">string</span><span class="op" id="2518383">)</span>&nbsp;<span class="builtintype" id="2518385">string</span>&nbsp;<span class="op" id="2518392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2518395">return</span>&nbsp;<span class="ident" id="2518402"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2518405">(</span><span class="keyword" id="2518406">func</span><span class="op" id="2518410">(</span><span class="ident" id="2518411">r</span>&nbsp;<span class="builtintype" id="2518413">rune</span><span class="op" id="2518417">)</span>&nbsp;<span class="builtintype" id="2518419">rune</span>&nbsp;<span class="op" id="2518424">{</span>&nbsp;<span class="keyword" id="2518426">return</span>&nbsp;<span class="ident" id="2518433"><a href="/strings/strings.go.html#2518348">_case</a></span><span class="op" id="2518438">.</span><span class="ident" id="2518439">ToUpper</span><span class="op" id="2518446">(</span><span class="ident" id="2518447"><a href="/strings/strings.go.html#2518411">r</a></span><span class="op" id="2518448">)</span>&nbsp;<span class="op" id="2518450">}</span><span class="op" id="2518451">,</span>&nbsp;<span class="ident" id="2518453"><a href="/strings/strings.go.html#2518375">s</a></span><span class="op" id="2518454">)</span><br>
<span class="lineno">480</span><span class="op" id="2518456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2518459">//&nbsp;ToLowerSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2518549">//&nbsp;lower&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2518609">func</span>&nbsp;<span class="ident" id="2518614">ToLowerSpecial</span><span class="op" id="2518628">(</span><span class="ident" id="2518629">_case</span>&nbsp;<span class="ident" id="2518635"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2518642">.</span><span class="ident" id="2518643">SpecialCase</span><span class="op" id="2518654">,</span>&nbsp;<span class="ident" id="2518656">s</span>&nbsp;<span class="builtintype" id="2518658">string</span><span class="op" id="2518664">)</span>&nbsp;<span class="builtintype" id="2518666">string</span>&nbsp;<span class="op" id="2518673">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2518676">return</span>&nbsp;<span class="ident" id="2518683"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2518686">(</span><span class="keyword" id="2518687">func</span><span class="op" id="2518691">(</span><span class="ident" id="2518692">r</span>&nbsp;<span class="builtintype" id="2518694">rune</span><span class="op" id="2518698">)</span>&nbsp;<span class="builtintype" id="2518700">rune</span>&nbsp;<span class="op" id="2518705">{</span>&nbsp;<span class="keyword" id="2518707">return</span>&nbsp;<span class="ident" id="2518714"><a href="/strings/strings.go.html#2518629">_case</a></span><span class="op" id="2518719">.</span><span class="ident" id="2518720">ToLower</span><span class="op" id="2518727">(</span><span class="ident" id="2518728"><a href="/strings/strings.go.html#2518692">r</a></span><span class="op" id="2518729">)</span>&nbsp;<span class="op" id="2518731">}</span><span class="op" id="2518732">,</span>&nbsp;<span class="ident" id="2518734"><a href="/strings/strings.go.html#2518656">s</a></span><span class="op" id="2518735">)</span><br>
<span class="lineno"></span><span class="op" id="2518737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2518740">//&nbsp;ToTitleSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2518830">//&nbsp;title&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno">490</span><span class="keyword" id="2518890">func</span>&nbsp;<span class="ident" id="2518895">ToTitleSpecial</span><span class="op" id="2518909">(</span><span class="ident" id="2518910">_case</span>&nbsp;<span class="ident" id="2518916"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2518923">.</span><span class="ident" id="2518924">SpecialCase</span><span class="op" id="2518935">,</span>&nbsp;<span class="ident" id="2518937">s</span>&nbsp;<span class="builtintype" id="2518939">string</span><span class="op" id="2518945">)</span>&nbsp;<span class="builtintype" id="2518947">string</span>&nbsp;<span class="op" id="2518954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2518957">return</span>&nbsp;<span class="ident" id="2518964"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2518967">(</span><span class="keyword" id="2518968">func</span><span class="op" id="2518972">(</span><span class="ident" id="2518973">r</span>&nbsp;<span class="builtintype" id="2518975">rune</span><span class="op" id="2518979">)</span>&nbsp;<span class="builtintype" id="2518981">rune</span>&nbsp;<span class="op" id="2518986">{</span>&nbsp;<span class="keyword" id="2518988">return</span>&nbsp;<span class="ident" id="2518995"><a href="/strings/strings.go.html#2518910">_case</a></span><span class="op" id="2519000">.</span><span class="ident" id="2519001">ToTitle</span><span class="op" id="2519008">(</span><span class="ident" id="2519009"><a href="/strings/strings.go.html#2518973">r</a></span><span class="op" id="2519010">)</span>&nbsp;<span class="op" id="2519012">}</span><span class="op" id="2519013">,</span>&nbsp;<span class="ident" id="2519015"><a href="/strings/strings.go.html#2518937">s</a></span><span class="op" id="2519016">)</span><br>
<span class="lineno"></span><span class="op" id="2519018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2519021">//&nbsp;isSeparator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;rune&nbsp;could&nbsp;mark&nbsp;a&nbsp;word&nbsp;boundary.</span><br>
<span class="lineno">495</span><span class="comment" id="2519089">//&nbsp;TODO:&nbsp;update&nbsp;when&nbsp;package&nbsp;unicode&nbsp;captures&nbsp;more&nbsp;of&nbsp;the&nbsp;properties.</span><br>
<span class="lineno"></span><span class="keyword" id="2519159">func</span>&nbsp;<span class="ident" id="2519164">isSeparator</span><span class="op" id="2519175">(</span><span class="ident" id="2519176">r</span>&nbsp;<span class="builtintype" id="2519178">rune</span><span class="op" id="2519182">)</span>&nbsp;<span class="builtintype" id="2519184">bool</span>&nbsp;<span class="op" id="2519189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2519192">//&nbsp;ASCII&nbsp;alphanumerics&nbsp;and&nbsp;underscore&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519250">if</span>&nbsp;<span class="ident" id="2519253"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519255">&lt;=</span>&nbsp;<span class="num" id="2519258">0x7F</span>&nbsp;<span class="op" id="2519263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519267">switch</span>&nbsp;<span class="op" id="2519274">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519278">case</span>&nbsp;<span class="string" id="2519283">&#39;0&#39;</span>&nbsp;<span class="op" id="2519287">&lt;=</span>&nbsp;<span class="ident" id="2519290"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519292">&amp;&amp;</span>&nbsp;<span class="ident" id="2519295"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519297">&lt;=</span>&nbsp;<span class="string" id="2519300">&#39;9&#39;</span><span class="op" id="2519303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519308">return</span>&nbsp;<span class="builtintype" id="2519315">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519323">case</span>&nbsp;<span class="string" id="2519328">&#39;a&#39;</span>&nbsp;<span class="op" id="2519332">&lt;=</span>&nbsp;<span class="ident" id="2519335"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519337">&amp;&amp;</span>&nbsp;<span class="ident" id="2519340"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519342">&lt;=</span>&nbsp;<span class="string" id="2519345">&#39;z&#39;</span><span class="op" id="2519348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519353">return</span>&nbsp;<span class="builtintype" id="2519360">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519368">case</span>&nbsp;<span class="string" id="2519373">&#39;A&#39;</span>&nbsp;<span class="op" id="2519377">&lt;=</span>&nbsp;<span class="ident" id="2519380"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519382">&amp;&amp;</span>&nbsp;<span class="ident" id="2519385"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519387">&lt;=</span>&nbsp;<span class="string" id="2519390">&#39;Z&#39;</span><span class="op" id="2519393">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519398">return</span>&nbsp;<span class="builtintype" id="2519405">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519413">case</span>&nbsp;<span class="ident" id="2519418"><a href="/strings/strings.go.html#2519176">r</a></span>&nbsp;<span class="op" id="2519420">==</span>&nbsp;<span class="string" id="2519423">&#39;_&#39;</span><span class="op" id="2519426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519431">return</span>&nbsp;<span class="builtintype" id="2519438">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2519446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519450">return</span>&nbsp;<span class="builtintype" id="2519457">true</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2519463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2519466">//&nbsp;Letters&nbsp;and&nbsp;digits&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519508">if</span>&nbsp;<span class="ident" id="2519511"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2519518">.</span><span class="ident" id="2519519">IsLetter</span><span class="op" id="2519527">(</span><span class="ident" id="2519528"><a href="/strings/strings.go.html#2519176">r</a></span><span class="op" id="2519529">)</span>&nbsp;<span class="op" id="2519531">||</span>&nbsp;<span class="ident" id="2519534"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2519541">.</span><span class="ident" id="2519542">IsDigit</span><span class="op" id="2519549">(</span><span class="ident" id="2519550"><a href="/strings/strings.go.html#2519176">r</a></span><span class="op" id="2519551">)</span>&nbsp;<span class="op" id="2519553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519557">return</span>&nbsp;<span class="builtintype" id="2519564">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2519571">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2519574">//&nbsp;Otherwise,&nbsp;all&nbsp;we&nbsp;can&nbsp;do&nbsp;for&nbsp;now&nbsp;is&nbsp;treat&nbsp;spaces&nbsp;as&nbsp;separators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2519642">return</span>&nbsp;<span class="ident" id="2519649"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2519656">.</span><span class="ident" id="2519657">IsSpace</span><span class="op" id="2519664">(</span><span class="ident" id="2519665"><a href="/strings/strings.go.html#2519176">r</a></span><span class="op" id="2519666">)</span><br>
<span class="lineno"></span><span class="op" id="2519668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2519671">//&nbsp;Title&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;that&nbsp;begin&nbsp;words</span><br>
<span class="lineno">520</span><span class="comment" id="2519753">//&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="2519784">//</span><br>
<span class="lineno"></span><span class="comment" id="2519787">//&nbsp;BUG:&nbsp;The&nbsp;rule&nbsp;Title&nbsp;uses&nbsp;for&nbsp;word&nbsp;boundaries&nbsp;does&nbsp;not&nbsp;handle&nbsp;Unicode&nbsp;punctuation&nbsp;properly.</span><br>
<span class="lineno"></span><span class="keyword" id="2519881">func</span>&nbsp;<span class="ident" id="2519886">Title</span><span class="op" id="2519891">(</span><span class="ident" id="2519892">s</span>&nbsp;<span class="builtintype" id="2519894">string</span><span class="op" id="2519900">)</span>&nbsp;<span class="builtintype" id="2519902">string</span>&nbsp;<span class="op" id="2519909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2519912">//&nbsp;Use&nbsp;a&nbsp;closure&nbsp;here&nbsp;to&nbsp;remember&nbsp;state.</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2519954">//&nbsp;Hackish&nbsp;but&nbsp;effective.&nbsp;Depends&nbsp;on&nbsp;Map&nbsp;scanning&nbsp;in&nbsp;order&nbsp;and&nbsp;calling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2520026">//&nbsp;the&nbsp;closure&nbsp;once&nbsp;per&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520057">prev</span>&nbsp;<span class="op" id="2520062">:=</span>&nbsp;<span class="string" id="2520065">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520070">return</span>&nbsp;<span class="ident" id="2520077"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="2520080">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520084">func</span><span class="op" id="2520088">(</span><span class="ident" id="2520089">r</span>&nbsp;<span class="builtintype" id="2520091">rune</span><span class="op" id="2520095">)</span>&nbsp;<span class="builtintype" id="2520097">rune</span>&nbsp;<span class="op" id="2520102">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520107">if</span>&nbsp;<span class="ident" id="2520110"><a href="/strings/strings.go.html#2519164">isSeparator</a></span><span class="op" id="2520121">(</span><span class="ident" id="2520122"><a href="/strings/strings.go.html#2520057">prev</a></span><span class="op" id="2520126">)</span>&nbsp;<span class="op" id="2520128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520134"><a href="/strings/strings.go.html#2520057">prev</a></span>&nbsp;<span class="op" id="2520139">=</span>&nbsp;<span class="ident" id="2520141"><a href="/strings/strings.go.html#2520089">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520147">return</span>&nbsp;<span class="ident" id="2520154"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2520161">.</span><span class="ident" id="2520162">ToTitle</span><span class="op" id="2520169">(</span><span class="ident" id="2520170"><a href="/strings/strings.go.html#2520089">r</a></span><span class="op" id="2520171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2520176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520181"><a href="/strings/strings.go.html#2520057">prev</a></span>&nbsp;<span class="op" id="2520186">=</span>&nbsp;<span class="ident" id="2520188"><a href="/strings/strings.go.html#2520089">r</a></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520193">return</span>&nbsp;<span class="ident" id="2520200"><a href="/strings/strings.go.html#2520089">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2520204">}</span><span class="op" id="2520205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520209"><a href="/strings/strings.go.html#2519892">s</a></span><span class="op" id="2520210">)</span><br>
<span class="lineno"></span><span class="op" id="2520212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">540</span><span class="comment" id="2520215">//&nbsp;TrimLeftFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2520280">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2520330">func</span>&nbsp;<span class="ident" id="2520335">TrimLeftFunc</span><span class="op" id="2520347">(</span><span class="ident" id="2520348">s</span>&nbsp;<span class="builtintype" id="2520350">string</span><span class="op" id="2520356">,</span>&nbsp;<span class="ident" id="2520358">f</span>&nbsp;<span class="keyword" id="2520360">func</span><span class="op" id="2520364">(</span><span class="builtintype" id="2520365">rune</span><span class="op" id="2520369">)</span>&nbsp;<span class="builtintype" id="2520371">bool</span><span class="op" id="2520375">)</span>&nbsp;<span class="builtintype" id="2520377">string</span>&nbsp;<span class="op" id="2520384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520387">i</span>&nbsp;<span class="op" id="2520389">:=</span>&nbsp;<span class="ident" id="2520392"><a href="/strings/strings.go.html#2521541">indexFunc</a></span><span class="op" id="2520401">(</span><span class="ident" id="2520402"><a href="/strings/strings.go.html#2520348">s</a></span><span class="op" id="2520403">,</span>&nbsp;<span class="ident" id="2520405"><a href="/strings/strings.go.html#2520358">f</a></span><span class="op" id="2520406">,</span>&nbsp;<span class="builtintype" id="2520408">false</span><span class="op" id="2520413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520416">if</span>&nbsp;<span class="ident" id="2520419"><a href="/strings/strings.go.html#2520387">i</a></span>&nbsp;<span class="op" id="2520421">==</span>&nbsp;<span class="op" id="2520424">-</span><span class="num" id="2520425">1</span>&nbsp;<span class="op" id="2520427">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520431">return</span>&nbsp;<span class="string" id="2520438">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2520442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520445">return</span>&nbsp;<span class="ident" id="2520452"><a href="/strings/strings.go.html#2520348">s</a></span><span class="op" id="2520453">[</span><span class="ident" id="2520454"><a href="/strings/strings.go.html#2520387">i</a></span><span class="op" id="2520455">:</span><span class="op" id="2520456">]</span><br>
<span class="lineno"></span><span class="op" id="2520458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="2520461">//&nbsp;TrimRightFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2520528">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2520578">func</span>&nbsp;<span class="ident" id="2520583">TrimRightFunc</span><span class="op" id="2520596">(</span><span class="ident" id="2520597">s</span>&nbsp;<span class="builtintype" id="2520599">string</span><span class="op" id="2520605">,</span>&nbsp;<span class="ident" id="2520607">f</span>&nbsp;<span class="keyword" id="2520609">func</span><span class="op" id="2520613">(</span><span class="builtintype" id="2520614">rune</span><span class="op" id="2520618">)</span>&nbsp;<span class="builtintype" id="2520620">bool</span><span class="op" id="2520624">)</span>&nbsp;<span class="builtintype" id="2520626">string</span>&nbsp;<span class="op" id="2520633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520636">i</span>&nbsp;<span class="op" id="2520638">:=</span>&nbsp;<span class="ident" id="2520641"><a href="/strings/strings.go.html#2521950">lastIndexFunc</a></span><span class="op" id="2520654">(</span><span class="ident" id="2520655"><a href="/strings/strings.go.html#2520597">s</a></span><span class="op" id="2520656">,</span>&nbsp;<span class="ident" id="2520658"><a href="/strings/strings.go.html#2520607">f</a></span><span class="op" id="2520659">,</span>&nbsp;<span class="builtintype" id="2520661">false</span><span class="op" id="2520666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520669">if</span>&nbsp;<span class="ident" id="2520672"><a href="/strings/strings.go.html#2520636">i</a></span>&nbsp;<span class="op" id="2520674">&gt;=</span>&nbsp;<span class="num" id="2520677">0</span>&nbsp;<span class="op" id="2520679">&amp;&amp;</span>&nbsp;<span class="ident" id="2520682"><a href="/strings/strings.go.html#2520597">s</a></span><span class="op" id="2520683">[</span><span class="ident" id="2520684"><a href="/strings/strings.go.html#2520636">i</a></span><span class="op" id="2520685">]</span>&nbsp;<span class="op" id="2520687">&gt;=</span>&nbsp;<span class="ident" id="2520690"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2520694">.</span><span class="ident" id="2520695">RuneSelf</span>&nbsp;<span class="op" id="2520704">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520708">_</span><span class="op" id="2520709">,</span>&nbsp;<span class="ident" id="2520711">wid</span>&nbsp;<span class="op" id="2520715">:=</span>&nbsp;<span class="ident" id="2520718"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2520722">.</span><span class="ident" id="2520723">DecodeRuneInString</span><span class="op" id="2520741">(</span><span class="ident" id="2520742"><a href="/strings/strings.go.html#2520597">s</a></span><span class="op" id="2520743">[</span><span class="ident" id="2520744"><a href="/strings/strings.go.html#2520636">i</a></span><span class="op" id="2520745">:</span><span class="op" id="2520746">]</span><span class="op" id="2520747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520751"><a href="/strings/strings.go.html#2520636">i</a></span>&nbsp;<span class="op" id="2520753">+=</span>&nbsp;<span class="ident" id="2520756"><a href="/strings/strings.go.html#2520711">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2520761">}</span>&nbsp;<span class="keyword" id="2520763">else</span>&nbsp;<span class="op" id="2520768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2520772"><a href="/strings/strings.go.html#2520636">i</a></span><span class="op" id="2520773">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2520777">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520780">return</span>&nbsp;<span class="ident" id="2520787"><a href="/strings/strings.go.html#2520597">s</a></span><span class="op" id="2520788">[</span><span class="num" id="2520789">0</span><span class="op" id="2520790">:</span><span class="ident" id="2520791"><a href="/strings/strings.go.html#2520636">i</a></span><span class="op" id="2520792">]</span><br>
<span class="lineno"></span><span class="op" id="2520794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2520797">//&nbsp;TrimFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2520858">//&nbsp;and&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno">565</span><span class="keyword" id="2520921">func</span>&nbsp;<span class="ident" id="2520926">TrimFunc</span><span class="op" id="2520934">(</span><span class="ident" id="2520935">s</span>&nbsp;<span class="builtintype" id="2520937">string</span><span class="op" id="2520943">,</span>&nbsp;<span class="ident" id="2520945">f</span>&nbsp;<span class="keyword" id="2520947">func</span><span class="op" id="2520951">(</span><span class="builtintype" id="2520952">rune</span><span class="op" id="2520956">)</span>&nbsp;<span class="builtintype" id="2520958">bool</span><span class="op" id="2520962">)</span>&nbsp;<span class="builtintype" id="2520964">string</span>&nbsp;<span class="op" id="2520971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2520974">return</span>&nbsp;<span class="ident" id="2520981"><a href="/strings/strings.go.html#2520583">TrimRightFunc</a></span><span class="op" id="2520994">(</span><span class="ident" id="2520995"><a href="/strings/strings.go.html#2520335">TrimLeftFunc</a></span><span class="op" id="2521007">(</span><span class="ident" id="2521008"><a href="/strings/strings.go.html#2520935">s</a></span><span class="op" id="2521009">,</span>&nbsp;<span class="ident" id="2521011"><a href="/strings/strings.go.html#2520945">f</a></span><span class="op" id="2521012">)</span><span class="op" id="2521013">,</span>&nbsp;<span class="ident" id="2521015"><a href="/strings/strings.go.html#2520945">f</a></span><span class="op" id="2521016">)</span><br>
<span class="lineno"></span><span class="op" id="2521018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2521021">//&nbsp;IndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;first&nbsp;Unicode</span><br>
<span class="lineno">570</span><span class="comment" id="2521080">//&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2521129">func</span>&nbsp;<span class="ident" id="2521134">IndexFunc</span><span class="op" id="2521143">(</span><span class="ident" id="2521144">s</span>&nbsp;<span class="builtintype" id="2521146">string</span><span class="op" id="2521152">,</span>&nbsp;<span class="ident" id="2521154">f</span>&nbsp;<span class="keyword" id="2521156">func</span><span class="op" id="2521160">(</span><span class="builtintype" id="2521161">rune</span><span class="op" id="2521165">)</span>&nbsp;<span class="builtintype" id="2521167">bool</span><span class="op" id="2521171">)</span>&nbsp;<span class="builtintype" id="2521173">int</span>&nbsp;<span class="op" id="2521177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521180">return</span>&nbsp;<span class="ident" id="2521187"><a href="/strings/strings.go.html#2521541">indexFunc</a></span><span class="op" id="2521196">(</span><span class="ident" id="2521197"><a href="/strings/strings.go.html#2521144">s</a></span><span class="op" id="2521198">,</span>&nbsp;<span class="ident" id="2521200"><a href="/strings/strings.go.html#2521154">f</a></span><span class="op" id="2521201">,</span>&nbsp;<span class="builtintype" id="2521203">true</span><span class="op" id="2521207">)</span><br>
<span class="lineno"></span><span class="op" id="2521209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="comment" id="2521212">//&nbsp;LastIndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span><span class="comment" id="2521266">//&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2521323">func</span>&nbsp;<span class="ident" id="2521328">LastIndexFunc</span><span class="op" id="2521341">(</span><span class="ident" id="2521342">s</span>&nbsp;<span class="builtintype" id="2521344">string</span><span class="op" id="2521350">,</span>&nbsp;<span class="ident" id="2521352">f</span>&nbsp;<span class="keyword" id="2521354">func</span><span class="op" id="2521358">(</span><span class="builtintype" id="2521359">rune</span><span class="op" id="2521363">)</span>&nbsp;<span class="builtintype" id="2521365">bool</span><span class="op" id="2521369">)</span>&nbsp;<span class="builtintype" id="2521371">int</span>&nbsp;<span class="op" id="2521375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521378">return</span>&nbsp;<span class="ident" id="2521385"><a href="/strings/strings.go.html#2521950">lastIndexFunc</a></span><span class="op" id="2521398">(</span><span class="ident" id="2521399"><a href="/strings/strings.go.html#2521342">s</a></span><span class="op" id="2521400">,</span>&nbsp;<span class="ident" id="2521402"><a href="/strings/strings.go.html#2521352">f</a></span><span class="op" id="2521403">,</span>&nbsp;<span class="builtintype" id="2521405">true</span><span class="op" id="2521409">)</span><br>
<span class="lineno"></span><span class="op" id="2521411">}</span><br>
<span class="lineno">580</span><br>
<span class="lineno"></span><span class="comment" id="2521414">//&nbsp;indexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;IndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2521467">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2521523">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2521536">func</span>&nbsp;<span class="ident" id="2521541">indexFunc</span><span class="op" id="2521550">(</span><span class="ident" id="2521551">s</span>&nbsp;<span class="builtintype" id="2521553">string</span><span class="op" id="2521559">,</span>&nbsp;<span class="ident" id="2521561">f</span>&nbsp;<span class="keyword" id="2521563">func</span><span class="op" id="2521567">(</span><span class="builtintype" id="2521568">rune</span><span class="op" id="2521572">)</span>&nbsp;<span class="builtintype" id="2521574">bool</span><span class="op" id="2521578">,</span>&nbsp;<span class="ident" id="2521580">truth</span>&nbsp;<span class="builtintype" id="2521586">bool</span><span class="op" id="2521590">)</span>&nbsp;<span class="builtintype" id="2521592">int</span>&nbsp;<span class="op" id="2521596">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2521599">start</span>&nbsp;<span class="op" id="2521605">:=</span>&nbsp;<span class="num" id="2521608">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521611">for</span>&nbsp;<span class="ident" id="2521615"><a href="/strings/strings.go.html#2521599">start</a></span>&nbsp;<span class="op" id="2521621">&lt;</span>&nbsp;<span class="builtinfunc" id="2521623">len</span><span class="op" id="2521626">(</span><span class="ident" id="2521627"><a href="/strings/strings.go.html#2521551">s</a></span><span class="op" id="2521628">)</span>&nbsp;<span class="op" id="2521630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2521634">wid</span>&nbsp;<span class="op" id="2521638">:=</span>&nbsp;<span class="num" id="2521641">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2521645">r</span>&nbsp;<span class="op" id="2521647">:=</span>&nbsp;<span class="builtintype" id="2521650">rune</span><span class="op" id="2521654">(</span><span class="ident" id="2521655"><a href="/strings/strings.go.html#2521551">s</a></span><span class="op" id="2521656">[</span><span class="ident" id="2521657"><a href="/strings/strings.go.html#2521599">start</a></span><span class="op" id="2521662">]</span><span class="op" id="2521663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521667">if</span>&nbsp;<span class="ident" id="2521670"><a href="/strings/strings.go.html#2521645">r</a></span>&nbsp;<span class="op" id="2521672">&gt;=</span>&nbsp;<span class="ident" id="2521675"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2521679">.</span><span class="ident" id="2521680">RuneSelf</span>&nbsp;<span class="op" id="2521689">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2521694"><a href="/strings/strings.go.html#2521645">r</a></span><span class="op" id="2521695">,</span>&nbsp;<span class="ident" id="2521697"><a href="/strings/strings.go.html#2521634">wid</a></span>&nbsp;<span class="op" id="2521701">=</span>&nbsp;<span class="ident" id="2521703"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2521707">.</span><span class="ident" id="2521708">DecodeRuneInString</span><span class="op" id="2521726">(</span><span class="ident" id="2521727"><a href="/strings/strings.go.html#2521551">s</a></span><span class="op" id="2521728">[</span><span class="ident" id="2521729"><a href="/strings/strings.go.html#2521599">start</a></span><span class="op" id="2521734">:</span><span class="op" id="2521735">]</span><span class="op" id="2521736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2521740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521744">if</span>&nbsp;<span class="ident" id="2521747"><a href="/strings/strings.go.html#2521561">f</a></span><span class="op" id="2521748">(</span><span class="ident" id="2521749"><a href="/strings/strings.go.html#2521645">r</a></span><span class="op" id="2521750">)</span>&nbsp;<span class="op" id="2521752">==</span>&nbsp;<span class="ident" id="2521755"><a href="/strings/strings.go.html#2521580">truth</a></span>&nbsp;<span class="op" id="2521761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521766">return</span>&nbsp;<span class="ident" id="2521773"><a href="/strings/strings.go.html#2521599">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2521781">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2521785"><a href="/strings/strings.go.html#2521599">start</a></span>&nbsp;<span class="op" id="2521791">+=</span>&nbsp;<span class="ident" id="2521794"><a href="/strings/strings.go.html#2521634">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2521799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2521802">return</span>&nbsp;<span class="op" id="2521809">-</span><span class="num" id="2521810">1</span><br>
<span class="lineno"></span><span class="op" id="2521812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="comment" id="2521815">//&nbsp;lastIndexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;LastIndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2521876">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2521932">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2521945">func</span>&nbsp;<span class="ident" id="2521950">lastIndexFunc</span><span class="op" id="2521963">(</span><span class="ident" id="2521964">s</span>&nbsp;<span class="builtintype" id="2521966">string</span><span class="op" id="2521972">,</span>&nbsp;<span class="ident" id="2521974">f</span>&nbsp;<span class="keyword" id="2521976">func</span><span class="op" id="2521980">(</span><span class="builtintype" id="2521981">rune</span><span class="op" id="2521985">)</span>&nbsp;<span class="builtintype" id="2521987">bool</span><span class="op" id="2521991">,</span>&nbsp;<span class="ident" id="2521993">truth</span>&nbsp;<span class="builtintype" id="2521999">bool</span><span class="op" id="2522003">)</span>&nbsp;<span class="builtintype" id="2522005">int</span>&nbsp;<span class="op" id="2522009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522012">for</span>&nbsp;<span class="ident" id="2522016">i</span>&nbsp;<span class="op" id="2522018">:=</span>&nbsp;<span class="builtinfunc" id="2522021">len</span><span class="op" id="2522024">(</span><span class="ident" id="2522025"><a href="/strings/strings.go.html#2521964">s</a></span><span class="op" id="2522026">)</span><span class="op" id="2522027">;</span>&nbsp;<span class="ident" id="2522029"><a href="/strings/strings.go.html#2522016">i</a></span>&nbsp;<span class="op" id="2522031">&gt;</span>&nbsp;<span class="num" id="2522033">0</span><span class="op" id="2522034">;</span>&nbsp;<span class="op" id="2522036">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2522040">r</span><span class="op" id="2522041">,</span>&nbsp;<span class="ident" id="2522043">size</span>&nbsp;<span class="op" id="2522048">:=</span>&nbsp;<span class="ident" id="2522051"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2522055">.</span><span class="ident" id="2522056">DecodeLastRuneInString</span><span class="op" id="2522078">(</span><span class="ident" id="2522079"><a href="/strings/strings.go.html#2521964">s</a></span><span class="op" id="2522080">[</span><span class="num" id="2522081">0</span><span class="op" id="2522082">:</span><span class="ident" id="2522083"><a href="/strings/strings.go.html#2522016">i</a></span><span class="op" id="2522084">]</span><span class="op" id="2522085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2522089"><a href="/strings/strings.go.html#2522016">i</a></span>&nbsp;<span class="op" id="2522091">-=</span>&nbsp;<span class="ident" id="2522094"><a href="/strings/strings.go.html#2522043">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522101">if</span>&nbsp;<span class="ident" id="2522104"><a href="/strings/strings.go.html#2521974">f</a></span><span class="op" id="2522105">(</span><span class="ident" id="2522106"><a href="/strings/strings.go.html#2522040">r</a></span><span class="op" id="2522107">)</span>&nbsp;<span class="op" id="2522109">==</span>&nbsp;<span class="ident" id="2522112"><a href="/strings/strings.go.html#2521993">truth</a></span>&nbsp;<span class="op" id="2522118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522123">return</span>&nbsp;<span class="ident" id="2522130"><a href="/strings/strings.go.html#2522016">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2522134">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2522137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522140">return</span>&nbsp;<span class="op" id="2522147">-</span><span class="num" id="2522148">1</span><br>
<span class="lineno"></span><span class="op" id="2522150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2522153">func</span>&nbsp;<span class="ident" id="2522158">makeCutsetFunc</span><span class="op" id="2522172">(</span><span class="ident" id="2522173">cutset</span>&nbsp;<span class="builtintype" id="2522180">string</span><span class="op" id="2522186">)</span>&nbsp;<span class="keyword" id="2522188">func</span><span class="op" id="2522192">(</span><span class="builtintype" id="2522193">rune</span><span class="op" id="2522197">)</span>&nbsp;<span class="builtintype" id="2522199">bool</span>&nbsp;<span class="op" id="2522204">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522207">return</span>&nbsp;<span class="keyword" id="2522214">func</span><span class="op" id="2522218">(</span><span class="ident" id="2522219">r</span>&nbsp;<span class="builtintype" id="2522221">rune</span><span class="op" id="2522225">)</span>&nbsp;<span class="builtintype" id="2522227">bool</span>&nbsp;<span class="op" id="2522232">{</span>&nbsp;<span class="keyword" id="2522234">return</span>&nbsp;<span class="ident" id="2522241"><a href="/strings/strings.go.html#2511073">IndexRune</a></span><span class="op" id="2522250">(</span><span class="ident" id="2522251"><a href="/strings/strings.go.html#2522173">cutset</a></span><span class="op" id="2522257">,</span>&nbsp;<span class="ident" id="2522259"><a href="/strings/strings.go.html#2522219">r</a></span><span class="op" id="2522260">)</span>&nbsp;<span class="op" id="2522262">&gt;=</span>&nbsp;<span class="num" id="2522265">0</span>&nbsp;<span class="op" id="2522267">}</span><br>
<span class="lineno"></span><span class="op" id="2522269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2522272">//&nbsp;Trim&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2522333">//&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno">620</span><span class="keyword" id="2522394">func</span>&nbsp;<span class="ident" id="2522399">Trim</span><span class="op" id="2522403">(</span><span class="ident" id="2522404">s</span>&nbsp;<span class="builtintype" id="2522406">string</span><span class="op" id="2522412">,</span>&nbsp;<span class="ident" id="2522414">cutset</span>&nbsp;<span class="builtintype" id="2522421">string</span><span class="op" id="2522427">)</span>&nbsp;<span class="builtintype" id="2522429">string</span>&nbsp;<span class="op" id="2522436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522439">if</span>&nbsp;<span class="ident" id="2522442"><a href="/strings/strings.go.html#2522404">s</a></span>&nbsp;<span class="op" id="2522444">==</span>&nbsp;<span class="string" id="2522447">&#34;&#34;</span>&nbsp;<span class="op" id="2522450">||</span>&nbsp;<span class="ident" id="2522453"><a href="/strings/strings.go.html#2522414">cutset</a></span>&nbsp;<span class="op" id="2522460">==</span>&nbsp;<span class="string" id="2522463">&#34;&#34;</span>&nbsp;<span class="op" id="2522466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522470">return</span>&nbsp;<span class="ident" id="2522477"><a href="/strings/strings.go.html#2522404">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2522480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522483">return</span>&nbsp;<span class="ident" id="2522490"><a href="/strings/strings.go.html#2520926">TrimFunc</a></span><span class="op" id="2522498">(</span><span class="ident" id="2522499"><a href="/strings/strings.go.html#2522404">s</a></span><span class="op" id="2522500">,</span>&nbsp;<span class="ident" id="2522502"><a href="/strings/strings.go.html#2522158">makeCutsetFunc</a></span><span class="op" id="2522516">(</span><span class="ident" id="2522517"><a href="/strings/strings.go.html#2522414">cutset</a></span><span class="op" id="2522523">)</span><span class="op" id="2522524">)</span><br>
<span class="lineno">625</span><span class="op" id="2522526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2522529">//&nbsp;TrimLeft&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2522590">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2522642">func</span>&nbsp;<span class="ident" id="2522647">TrimLeft</span><span class="op" id="2522655">(</span><span class="ident" id="2522656">s</span>&nbsp;<span class="builtintype" id="2522658">string</span><span class="op" id="2522664">,</span>&nbsp;<span class="ident" id="2522666">cutset</span>&nbsp;<span class="builtintype" id="2522673">string</span><span class="op" id="2522679">)</span>&nbsp;<span class="builtintype" id="2522681">string</span>&nbsp;<span class="op" id="2522688">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522691">if</span>&nbsp;<span class="ident" id="2522694"><a href="/strings/strings.go.html#2522656">s</a></span>&nbsp;<span class="op" id="2522696">==</span>&nbsp;<span class="string" id="2522699">&#34;&#34;</span>&nbsp;<span class="op" id="2522702">||</span>&nbsp;<span class="ident" id="2522705"><a href="/strings/strings.go.html#2522666">cutset</a></span>&nbsp;<span class="op" id="2522712">==</span>&nbsp;<span class="string" id="2522715">&#34;&#34;</span>&nbsp;<span class="op" id="2522718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522722">return</span>&nbsp;<span class="ident" id="2522729"><a href="/strings/strings.go.html#2522656">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2522732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522735">return</span>&nbsp;<span class="ident" id="2522742"><a href="/strings/strings.go.html#2520335">TrimLeftFunc</a></span><span class="op" id="2522754">(</span><span class="ident" id="2522755"><a href="/strings/strings.go.html#2522656">s</a></span><span class="op" id="2522756">,</span>&nbsp;<span class="ident" id="2522758"><a href="/strings/strings.go.html#2522158">makeCutsetFunc</a></span><span class="op" id="2522772">(</span><span class="ident" id="2522773"><a href="/strings/strings.go.html#2522666">cutset</a></span><span class="op" id="2522779">)</span><span class="op" id="2522780">)</span><br>
<span class="lineno"></span><span class="op" id="2522782">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="comment" id="2522785">//&nbsp;TrimRight&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2522849">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2522901">func</span>&nbsp;<span class="ident" id="2522906">TrimRight</span><span class="op" id="2522915">(</span><span class="ident" id="2522916">s</span>&nbsp;<span class="builtintype" id="2522918">string</span><span class="op" id="2522924">,</span>&nbsp;<span class="ident" id="2522926">cutset</span>&nbsp;<span class="builtintype" id="2522933">string</span><span class="op" id="2522939">)</span>&nbsp;<span class="builtintype" id="2522941">string</span>&nbsp;<span class="op" id="2522948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522951">if</span>&nbsp;<span class="ident" id="2522954"><a href="/strings/strings.go.html#2522916">s</a></span>&nbsp;<span class="op" id="2522956">==</span>&nbsp;<span class="string" id="2522959">&#34;&#34;</span>&nbsp;<span class="op" id="2522962">||</span>&nbsp;<span class="ident" id="2522965"><a href="/strings/strings.go.html#2522926">cutset</a></span>&nbsp;<span class="op" id="2522972">==</span>&nbsp;<span class="string" id="2522975">&#34;&#34;</span>&nbsp;<span class="op" id="2522978">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522982">return</span>&nbsp;<span class="ident" id="2522989"><a href="/strings/strings.go.html#2522916">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2522992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2522995">return</span>&nbsp;<span class="ident" id="2523002"><a href="/strings/strings.go.html#2520583">TrimRightFunc</a></span><span class="op" id="2523015">(</span><span class="ident" id="2523016"><a href="/strings/strings.go.html#2522916">s</a></span><span class="op" id="2523017">,</span>&nbsp;<span class="ident" id="2523019"><a href="/strings/strings.go.html#2522158">makeCutsetFunc</a></span><span class="op" id="2523033">(</span><span class="ident" id="2523034"><a href="/strings/strings.go.html#2522926">cutset</a></span><span class="op" id="2523040">)</span><span class="op" id="2523041">)</span><br>
<span class="lineno"></span><span class="op" id="2523043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span><span class="comment" id="2523046">//&nbsp;TrimSpace&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2523109">//&nbsp;and&nbsp;trailing&nbsp;white&nbsp;space&nbsp;removed,&nbsp;as&nbsp;defined&nbsp;by&nbsp;Unicode.</span><br>
<span class="lineno"></span><span class="keyword" id="2523169">func</span>&nbsp;<span class="ident" id="2523174">TrimSpace</span><span class="op" id="2523183">(</span><span class="ident" id="2523184">s</span>&nbsp;<span class="builtintype" id="2523186">string</span><span class="op" id="2523192">)</span>&nbsp;<span class="builtintype" id="2523194">string</span>&nbsp;<span class="op" id="2523201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523204">return</span>&nbsp;<span class="ident" id="2523211"><a href="/strings/strings.go.html#2520926">TrimFunc</a></span><span class="op" id="2523219">(</span><span class="ident" id="2523220"><a href="/strings/strings.go.html#2523184">s</a></span><span class="op" id="2523221">,</span>&nbsp;<span class="ident" id="2523223"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2523230">.</span><span class="ident" id="2523231">IsSpace</span><span class="op" id="2523238">)</span><br>
<span class="lineno"></span><span class="op" id="2523240">}</span><br>
<span class="lineno">650</span><br>
<span class="lineno"></span><span class="comment" id="2523243">//&nbsp;TrimPrefix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;leading&nbsp;prefix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2523311">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;start&nbsp;with&nbsp;prefix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2523371">func</span>&nbsp;<span class="ident" id="2523376">TrimPrefix</span><span class="op" id="2523386">(</span><span class="ident" id="2523387">s</span><span class="op" id="2523388">,</span>&nbsp;<span class="ident" id="2523390">prefix</span>&nbsp;<span class="builtintype" id="2523397">string</span><span class="op" id="2523403">)</span>&nbsp;<span class="builtintype" id="2523405">string</span>&nbsp;<span class="op" id="2523412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523415">if</span>&nbsp;<span class="ident" id="2523418"><a href="/strings/strings.go.html#2516015">HasPrefix</a></span><span class="op" id="2523427">(</span><span class="ident" id="2523428"><a href="/strings/strings.go.html#2523387">s</a></span><span class="op" id="2523429">,</span>&nbsp;<span class="ident" id="2523431"><a href="/strings/strings.go.html#2523390">prefix</a></span><span class="op" id="2523437">)</span>&nbsp;<span class="op" id="2523439">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523443">return</span>&nbsp;<span class="ident" id="2523450"><a href="/strings/strings.go.html#2523387">s</a></span><span class="op" id="2523451">[</span><span class="builtinfunc" id="2523452">len</span><span class="op" id="2523455">(</span><span class="ident" id="2523456"><a href="/strings/strings.go.html#2523390">prefix</a></span><span class="op" id="2523462">)</span><span class="op" id="2523463">:</span><span class="op" id="2523464">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2523467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523470">return</span>&nbsp;<span class="ident" id="2523477"><a href="/strings/strings.go.html#2523387">s</a></span><br>
<span class="lineno"></span><span class="op" id="2523479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span><span class="comment" id="2523482">//&nbsp;TrimSuffix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;trailing&nbsp;suffix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2523551">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;end&nbsp;with&nbsp;suffix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2523609">func</span>&nbsp;<span class="ident" id="2523614">TrimSuffix</span><span class="op" id="2523624">(</span><span class="ident" id="2523625">s</span><span class="op" id="2523626">,</span>&nbsp;<span class="ident" id="2523628">suffix</span>&nbsp;<span class="builtintype" id="2523635">string</span><span class="op" id="2523641">)</span>&nbsp;<span class="builtintype" id="2523643">string</span>&nbsp;<span class="op" id="2523650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523653">if</span>&nbsp;<span class="ident" id="2523656"><a href="/strings/strings.go.html#2516176">HasSuffix</a></span><span class="op" id="2523665">(</span><span class="ident" id="2523666"><a href="/strings/strings.go.html#2523625">s</a></span><span class="op" id="2523667">,</span>&nbsp;<span class="ident" id="2523669"><a href="/strings/strings.go.html#2523628">suffix</a></span><span class="op" id="2523675">)</span>&nbsp;<span class="op" id="2523677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523681">return</span>&nbsp;<span class="ident" id="2523688"><a href="/strings/strings.go.html#2523625">s</a></span><span class="op" id="2523689">[</span><span class="op" id="2523690">:</span><span class="builtinfunc" id="2523691">len</span><span class="op" id="2523694">(</span><span class="ident" id="2523695"><a href="/strings/strings.go.html#2523625">s</a></span><span class="op" id="2523696">)</span><span class="op" id="2523697">-</span><span class="builtinfunc" id="2523698">len</span><span class="op" id="2523701">(</span><span class="ident" id="2523702"><a href="/strings/strings.go.html#2523628">suffix</a></span><span class="op" id="2523708">)</span><span class="op" id="2523709">]</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2523712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2523715">return</span>&nbsp;<span class="ident" id="2523722"><a href="/strings/strings.go.html#2523625">s</a></span><br>
<span class="lineno"></span><span class="op" id="2523724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2523727">//&nbsp;Replace&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;the&nbsp;first&nbsp;n</span><br>
<span class="lineno">670</span><span class="comment" id="2523786">//&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;old&nbsp;replaced&nbsp;by&nbsp;new.</span><br>
<span class="lineno"></span><span class="comment" id="2523839">//&nbsp;If&nbsp;old&nbsp;is&nbsp;empty,&nbsp;it&nbsp;matches&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2523901">//&nbsp;and&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence,&nbsp;yielding&nbsp;up&nbsp;to&nbsp;k+1&nbsp;replacements</span><br>
<span class="lineno"></span><span class="comment" id="2523967">//&nbsp;for&nbsp;a&nbsp;k-rune&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2523991">//&nbsp;If&nbsp;n&nbsp;&lt;&nbsp;0,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno">675</span><span class="keyword" id="2524053">func</span>&nbsp;<span class="ident" id="2524058">Replace</span><span class="op" id="2524065">(</span><span class="ident" id="2524066">s</span><span class="op" id="2524067">,</span>&nbsp;<span class="ident" id="2524069">old</span><span class="op" id="2524072">,</span>&nbsp;<span class="builtinfunc" id="2524074">new</span>&nbsp;<span class="builtintype" id="2524078">string</span><span class="op" id="2524084">,</span>&nbsp;<span class="ident" id="2524086">n</span>&nbsp;<span class="builtintype" id="2524088">int</span><span class="op" id="2524091">)</span>&nbsp;<span class="builtintype" id="2524093">string</span>&nbsp;<span class="op" id="2524100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524103">if</span>&nbsp;<span class="ident" id="2524106"><a href="/strings/strings.go.html#2524069">old</a></span>&nbsp;<span class="op" id="2524110">==</span>&nbsp;<span class="builtinfunc" id="2524113"><a href="/strings/strings.go.html#2524074">new</a></span>&nbsp;<span class="op" id="2524117">||</span>&nbsp;<span class="ident" id="2524120"><a href="/strings/strings.go.html#2524086">n</a></span>&nbsp;<span class="op" id="2524122">==</span>&nbsp;<span class="num" id="2524125">0</span>&nbsp;<span class="op" id="2524127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524131">return</span>&nbsp;<span class="ident" id="2524138"><a href="/strings/strings.go.html#2524066">s</a></span>&nbsp;<span class="comment" id="2524140">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2524165">//&nbsp;Compute&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524201">if</span>&nbsp;<span class="ident" id="2524204">m</span>&nbsp;<span class="op" id="2524206">:=</span>&nbsp;<span class="ident" id="2524209"><a href="/strings/strings.go.html#2508180">Count</a></span><span class="op" id="2524214">(</span><span class="ident" id="2524215"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524216">,</span>&nbsp;<span class="ident" id="2524218"><a href="/strings/strings.go.html#2524069">old</a></span><span class="op" id="2524221">)</span><span class="op" id="2524222">;</span>&nbsp;<span class="ident" id="2524224"><a href="/strings/strings.go.html#2524204">m</a></span>&nbsp;<span class="op" id="2524226">==</span>&nbsp;<span class="num" id="2524229">0</span>&nbsp;<span class="op" id="2524231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524235">return</span>&nbsp;<span class="ident" id="2524242"><a href="/strings/strings.go.html#2524066">s</a></span>&nbsp;<span class="comment" id="2524244">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524265">}</span>&nbsp;<span class="keyword" id="2524267">else</span>&nbsp;<span class="keyword" id="2524272">if</span>&nbsp;<span class="ident" id="2524275"><a href="/strings/strings.go.html#2524086">n</a></span>&nbsp;<span class="op" id="2524277">&lt;</span>&nbsp;<span class="num" id="2524279">0</span>&nbsp;<span class="op" id="2524281">||</span>&nbsp;<span class="ident" id="2524284"><a href="/strings/strings.go.html#2524204">m</a></span>&nbsp;<span class="op" id="2524286">&lt;</span>&nbsp;<span class="ident" id="2524288"><a href="/strings/strings.go.html#2524086">n</a></span>&nbsp;<span class="op" id="2524290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524294"><a href="/strings/strings.go.html#2524086">n</a></span>&nbsp;<span class="op" id="2524296">=</span>&nbsp;<span class="ident" id="2524298"><a href="/strings/strings.go.html#2524204">m</a></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2524305">//&nbsp;Apply&nbsp;replacements&nbsp;to&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524339">t</span>&nbsp;<span class="op" id="2524341">:=</span>&nbsp;<span class="builtinfunc" id="2524344">make</span><span class="op" id="2524348">(</span><span class="op" id="2524349">[</span><span class="op" id="2524350">]</span><span class="builtintype" id="2524351">byte</span><span class="op" id="2524355">,</span>&nbsp;<span class="builtinfunc" id="2524357">len</span><span class="op" id="2524360">(</span><span class="ident" id="2524361"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524362">)</span><span class="op" id="2524363">+</span><span class="ident" id="2524364"><a href="/strings/strings.go.html#2524086">n</a></span><span class="op" id="2524365">*</span><span class="op" id="2524366">(</span><span class="builtinfunc" id="2524367">len</span><span class="op" id="2524370">(</span><span class="builtinfunc" id="2524371"><a href="/strings/strings.go.html#2524074">new</a></span><span class="op" id="2524374">)</span><span class="op" id="2524375">-</span><span class="builtinfunc" id="2524376">len</span><span class="op" id="2524379">(</span><span class="ident" id="2524380"><a href="/strings/strings.go.html#2524069">old</a></span><span class="op" id="2524383">)</span><span class="op" id="2524384">)</span><span class="op" id="2524385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524388">w</span>&nbsp;<span class="op" id="2524390">:=</span>&nbsp;<span class="num" id="2524393">0</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524396">start</span>&nbsp;<span class="op" id="2524402">:=</span>&nbsp;<span class="num" id="2524405">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524408">for</span>&nbsp;<span class="ident" id="2524412">i</span>&nbsp;<span class="op" id="2524414">:=</span>&nbsp;<span class="num" id="2524417">0</span><span class="op" id="2524418">;</span>&nbsp;<span class="ident" id="2524420"><a href="/strings/strings.go.html#2524412">i</a></span>&nbsp;<span class="op" id="2524422">&lt;</span>&nbsp;<span class="ident" id="2524424"><a href="/strings/strings.go.html#2524086">n</a></span><span class="op" id="2524425">;</span>&nbsp;<span class="ident" id="2524427"><a href="/strings/strings.go.html#2524412">i</a></span><span class="op" id="2524428">++</span>&nbsp;<span class="op" id="2524431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524435">j</span>&nbsp;<span class="op" id="2524437">:=</span>&nbsp;<span class="ident" id="2524440"><a href="/strings/strings.go.html#2524396">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524448">if</span>&nbsp;<span class="builtinfunc" id="2524451">len</span><span class="op" id="2524454">(</span><span class="ident" id="2524455"><a href="/strings/strings.go.html#2524069">old</a></span><span class="op" id="2524458">)</span>&nbsp;<span class="op" id="2524460">==</span>&nbsp;<span class="num" id="2524463">0</span>&nbsp;<span class="op" id="2524465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524470">if</span>&nbsp;<span class="ident" id="2524473"><a href="/strings/strings.go.html#2524412">i</a></span>&nbsp;<span class="op" id="2524475">&gt;</span>&nbsp;<span class="num" id="2524477">0</span>&nbsp;<span class="op" id="2524479">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524485">_</span><span class="op" id="2524486">,</span>&nbsp;<span class="ident" id="2524488">wid</span>&nbsp;<span class="op" id="2524492">:=</span>&nbsp;<span class="ident" id="2524495"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2524499">.</span><span class="ident" id="2524500">DecodeRuneInString</span><span class="op" id="2524518">(</span><span class="ident" id="2524519"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524520">[</span><span class="ident" id="2524521"><a href="/strings/strings.go.html#2524396">start</a></span><span class="op" id="2524526">:</span><span class="op" id="2524527">]</span><span class="op" id="2524528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524534"><a href="/strings/strings.go.html#2524435">j</a></span>&nbsp;<span class="op" id="2524536">+=</span>&nbsp;<span class="ident" id="2524539"><a href="/strings/strings.go.html#2524488">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524550">}</span>&nbsp;<span class="keyword" id="2524552">else</span>&nbsp;<span class="op" id="2524557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524562"><a href="/strings/strings.go.html#2524435">j</a></span>&nbsp;<span class="op" id="2524564">+=</span>&nbsp;<span class="ident" id="2524567"><a href="/strings/strings.go.html#2509532">Index</a></span><span class="op" id="2524572">(</span><span class="ident" id="2524573"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524574">[</span><span class="ident" id="2524575"><a href="/strings/strings.go.html#2524396">start</a></span><span class="op" id="2524580">:</span><span class="op" id="2524581">]</span><span class="op" id="2524582">,</span>&nbsp;<span class="ident" id="2524584"><a href="/strings/strings.go.html#2524069">old</a></span><span class="op" id="2524587">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524595"><a href="/strings/strings.go.html#2524388">w</a></span>&nbsp;<span class="op" id="2524597">+=</span>&nbsp;<span class="builtinfunc" id="2524600">copy</span><span class="op" id="2524604">(</span><span class="ident" id="2524605"><a href="/strings/strings.go.html#2524339">t</a></span><span class="op" id="2524606">[</span><span class="ident" id="2524607"><a href="/strings/strings.go.html#2524388">w</a></span><span class="op" id="2524608">:</span><span class="op" id="2524609">]</span><span class="op" id="2524610">,</span>&nbsp;<span class="ident" id="2524612"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524613">[</span><span class="ident" id="2524614"><a href="/strings/strings.go.html#2524396">start</a></span><span class="op" id="2524619">:</span><span class="ident" id="2524620"><a href="/strings/strings.go.html#2524435">j</a></span><span class="op" id="2524621">]</span><span class="op" id="2524622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524626"><a href="/strings/strings.go.html#2524388">w</a></span>&nbsp;<span class="op" id="2524628">+=</span>&nbsp;<span class="builtinfunc" id="2524631">copy</span><span class="op" id="2524635">(</span><span class="ident" id="2524636"><a href="/strings/strings.go.html#2524339">t</a></span><span class="op" id="2524637">[</span><span class="ident" id="2524638"><a href="/strings/strings.go.html#2524388">w</a></span><span class="op" id="2524639">:</span><span class="op" id="2524640">]</span><span class="op" id="2524641">,</span>&nbsp;<span class="builtinfunc" id="2524643"><a href="/strings/strings.go.html#2524074">new</a></span><span class="op" id="2524646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524650"><a href="/strings/strings.go.html#2524396">start</a></span>&nbsp;<span class="op" id="2524656">=</span>&nbsp;<span class="ident" id="2524658"><a href="/strings/strings.go.html#2524435">j</a></span>&nbsp;<span class="op" id="2524660">+</span>&nbsp;<span class="builtinfunc" id="2524662">len</span><span class="op" id="2524665">(</span><span class="ident" id="2524666"><a href="/strings/strings.go.html#2524069">old</a></span><span class="op" id="2524669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2524672">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524675"><a href="/strings/strings.go.html#2524388">w</a></span>&nbsp;<span class="op" id="2524677">+=</span>&nbsp;<span class="builtinfunc" id="2524680">copy</span><span class="op" id="2524684">(</span><span class="ident" id="2524685"><a href="/strings/strings.go.html#2524339">t</a></span><span class="op" id="2524686">[</span><span class="ident" id="2524687"><a href="/strings/strings.go.html#2524388">w</a></span><span class="op" id="2524688">:</span><span class="op" id="2524689">]</span><span class="op" id="2524690">,</span>&nbsp;<span class="ident" id="2524692"><a href="/strings/strings.go.html#2524066">s</a></span><span class="op" id="2524693">[</span><span class="ident" id="2524694"><a href="/strings/strings.go.html#2524396">start</a></span><span class="op" id="2524699">:</span><span class="op" id="2524700">]</span><span class="op" id="2524701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524704">return</span>&nbsp;<span class="builtintype" id="2524711">string</span><span class="op" id="2524717">(</span><span class="ident" id="2524718"><a href="/strings/strings.go.html#2524339">t</a></span><span class="op" id="2524719">[</span><span class="num" id="2524720">0</span><span class="op" id="2524721">:</span><span class="ident" id="2524722"><a href="/strings/strings.go.html#2524388">w</a></span><span class="op" id="2524723">]</span><span class="op" id="2524724">)</span><br>
<span class="lineno"></span><span class="op" id="2524726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2524729">//&nbsp;EqualFold&nbsp;reports&nbsp;whether&nbsp;s&nbsp;and&nbsp;t,&nbsp;interpreted&nbsp;as&nbsp;UTF-8&nbsp;strings,</span><br>
<span class="lineno">710</span><span class="comment" id="2524797">//&nbsp;are&nbsp;equal&nbsp;under&nbsp;Unicode&nbsp;case-folding.</span><br>
<span class="lineno"></span><span class="keyword" id="2524838">func</span>&nbsp;<span class="ident" id="2524843">EqualFold</span><span class="op" id="2524852">(</span><span class="ident" id="2524853">s</span><span class="op" id="2524854">,</span>&nbsp;<span class="ident" id="2524856">t</span>&nbsp;<span class="builtintype" id="2524858">string</span><span class="op" id="2524864">)</span>&nbsp;<span class="builtintype" id="2524866">bool</span>&nbsp;<span class="op" id="2524871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524874">for</span>&nbsp;<span class="ident" id="2524878"><a href="/strings/strings.go.html#2524853">s</a></span>&nbsp;<span class="op" id="2524880">!=</span>&nbsp;<span class="string" id="2524883">&#34;&#34;</span>&nbsp;<span class="op" id="2524886">&amp;&amp;</span>&nbsp;<span class="ident" id="2524889"><a href="/strings/strings.go.html#2524856">t</a></span>&nbsp;<span class="op" id="2524891">!=</span>&nbsp;<span class="string" id="2524894">&#34;&#34;</span>&nbsp;<span class="op" id="2524897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2524901">//&nbsp;Extract&nbsp;first&nbsp;rune&nbsp;from&nbsp;each&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524943">var</span>&nbsp;<span class="ident" id="2524947">sr</span><span class="op" id="2524949">,</span>&nbsp;<span class="ident" id="2524951">tr</span>&nbsp;<span class="builtintype" id="2524954">rune</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2524961">if</span>&nbsp;<span class="ident" id="2524964"><a href="/strings/strings.go.html#2524853">s</a></span><span class="op" id="2524965">[</span><span class="num" id="2524966">0</span><span class="op" id="2524967">]</span>&nbsp;<span class="op" id="2524969">&lt;</span>&nbsp;<span class="ident" id="2524971"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2524975">.</span><span class="ident" id="2524976">RuneSelf</span>&nbsp;<span class="op" id="2524985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2524990"><a href="/strings/strings.go.html#2524947">sr</a></span><span class="op" id="2524992">,</span>&nbsp;<span class="ident" id="2524994"><a href="/strings/strings.go.html#2524853">s</a></span>&nbsp;<span class="op" id="2524996">=</span>&nbsp;<span class="builtintype" id="2524998">rune</span><span class="op" id="2525002">(</span><span class="ident" id="2525003"><a href="/strings/strings.go.html#2524853">s</a></span><span class="op" id="2525004">[</span><span class="num" id="2525005">0</span><span class="op" id="2525006">]</span><span class="op" id="2525007">)</span><span class="op" id="2525008">,</span>&nbsp;<span class="ident" id="2525010"><a href="/strings/strings.go.html#2524853">s</a></span><span class="op" id="2525011">[</span><span class="num" id="2525012">1</span><span class="op" id="2525013">:</span><span class="op" id="2525014">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525018">}</span>&nbsp;<span class="keyword" id="2525020">else</span>&nbsp;<span class="op" id="2525025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525030">r</span><span class="op" id="2525031">,</span>&nbsp;<span class="ident" id="2525033">size</span>&nbsp;<span class="op" id="2525038">:=</span>&nbsp;<span class="ident" id="2525041"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2525045">.</span><span class="ident" id="2525046">DecodeRuneInString</span><span class="op" id="2525064">(</span><span class="ident" id="2525065"><a href="/strings/strings.go.html#2524853">s</a></span><span class="op" id="2525066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525071"><a href="/strings/strings.go.html#2524947">sr</a></span><span class="op" id="2525073">,</span>&nbsp;<span class="ident" id="2525075"><a href="/strings/strings.go.html#2524853">s</a></span>&nbsp;<span class="op" id="2525077">=</span>&nbsp;<span class="ident" id="2525079"><a href="/strings/strings.go.html#2525030">r</a></span><span class="op" id="2525080">,</span>&nbsp;<span class="ident" id="2525082"><a href="/strings/strings.go.html#2524853">s</a></span><span class="op" id="2525083">[</span><span class="ident" id="2525084"><a href="/strings/strings.go.html#2525033">size</a></span><span class="op" id="2525088">:</span><span class="op" id="2525089">]</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525097">if</span>&nbsp;<span class="ident" id="2525100"><a href="/strings/strings.go.html#2524856">t</a></span><span class="op" id="2525101">[</span><span class="num" id="2525102">0</span><span class="op" id="2525103">]</span>&nbsp;<span class="op" id="2525105">&lt;</span>&nbsp;<span class="ident" id="2525107"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2525111">.</span><span class="ident" id="2525112">RuneSelf</span>&nbsp;<span class="op" id="2525121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525126"><a href="/strings/strings.go.html#2524951">tr</a></span><span class="op" id="2525128">,</span>&nbsp;<span class="ident" id="2525130"><a href="/strings/strings.go.html#2524856">t</a></span>&nbsp;<span class="op" id="2525132">=</span>&nbsp;<span class="builtintype" id="2525134">rune</span><span class="op" id="2525138">(</span><span class="ident" id="2525139"><a href="/strings/strings.go.html#2524856">t</a></span><span class="op" id="2525140">[</span><span class="num" id="2525141">0</span><span class="op" id="2525142">]</span><span class="op" id="2525143">)</span><span class="op" id="2525144">,</span>&nbsp;<span class="ident" id="2525146"><a href="/strings/strings.go.html#2524856">t</a></span><span class="op" id="2525147">[</span><span class="num" id="2525148">1</span><span class="op" id="2525149">:</span><span class="op" id="2525150">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525154">}</span>&nbsp;<span class="keyword" id="2525156">else</span>&nbsp;<span class="op" id="2525161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525166">r</span><span class="op" id="2525167">,</span>&nbsp;<span class="ident" id="2525169">size</span>&nbsp;<span class="op" id="2525174">:=</span>&nbsp;<span class="ident" id="2525177"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2525181">.</span><span class="ident" id="2525182">DecodeRuneInString</span><span class="op" id="2525200">(</span><span class="ident" id="2525201"><a href="/strings/strings.go.html#2524856">t</a></span><span class="op" id="2525202">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525207"><a href="/strings/strings.go.html#2524951">tr</a></span><span class="op" id="2525209">,</span>&nbsp;<span class="ident" id="2525211"><a href="/strings/strings.go.html#2524856">t</a></span>&nbsp;<span class="op" id="2525213">=</span>&nbsp;<span class="ident" id="2525215"><a href="/strings/strings.go.html#2525166">r</a></span><span class="op" id="2525216">,</span>&nbsp;<span class="ident" id="2525218"><a href="/strings/strings.go.html#2524856">t</a></span><span class="op" id="2525219">[</span><span class="ident" id="2525220"><a href="/strings/strings.go.html#2525169">size</a></span><span class="op" id="2525224">:</span><span class="op" id="2525225">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525234">//&nbsp;If&nbsp;they&nbsp;match,&nbsp;keep&nbsp;going;&nbsp;if&nbsp;not,&nbsp;return&nbsp;false.</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525289">//&nbsp;Easy&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525305">if</span>&nbsp;<span class="ident" id="2525308"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525311">==</span>&nbsp;<span class="ident" id="2525314"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525322">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525338">//&nbsp;Make&nbsp;sr&nbsp;&lt;&nbsp;tr&nbsp;to&nbsp;simplify&nbsp;what&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525382">if</span>&nbsp;<span class="ident" id="2525385"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525388">&lt;</span>&nbsp;<span class="ident" id="2525390"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525398"><a href="/strings/strings.go.html#2524951">tr</a></span><span class="op" id="2525400">,</span>&nbsp;<span class="ident" id="2525402"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525405">=</span>&nbsp;<span class="ident" id="2525407"><a href="/strings/strings.go.html#2524947">sr</a></span><span class="op" id="2525409">,</span>&nbsp;<span class="ident" id="2525411"><a href="/strings/strings.go.html#2524951">tr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525420">//&nbsp;Fast&nbsp;check&nbsp;for&nbsp;ASCII.</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525447">if</span>&nbsp;<span class="ident" id="2525450"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525453">&lt;</span>&nbsp;<span class="ident" id="2525455"><a href="/strings/strings.go.html#2506525">utf8</a></span><span class="op" id="2525459">.</span><span class="ident" id="2525460">RuneSelf</span>&nbsp;<span class="op" id="2525469">&amp;&amp;</span>&nbsp;<span class="string" id="2525472">&#39;A&#39;</span>&nbsp;<span class="op" id="2525476">&lt;=</span>&nbsp;<span class="ident" id="2525479"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525482">&amp;&amp;</span>&nbsp;<span class="ident" id="2525485"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525488">&lt;=</span>&nbsp;<span class="string" id="2525491">&#39;Z&#39;</span>&nbsp;<span class="op" id="2525495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525500">//&nbsp;ASCII,&nbsp;and&nbsp;sr&nbsp;is&nbsp;upper&nbsp;case.&nbsp;&nbsp;tr&nbsp;must&nbsp;be&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525559">if</span>&nbsp;<span class="ident" id="2525562"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525565">==</span>&nbsp;<span class="ident" id="2525568"><a href="/strings/strings.go.html#2524947">sr</a></span><span class="op" id="2525570">+</span><span class="string" id="2525571">&#39;a&#39;</span><span class="op" id="2525574">-</span><span class="string" id="2525575">&#39;A&#39;</span>&nbsp;<span class="op" id="2525579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525585">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525597">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525602">return</span>&nbsp;<span class="builtintype" id="2525609">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525622">//&nbsp;General&nbsp;case.&nbsp;&nbsp;SimpleFold(x)&nbsp;returns&nbsp;the&nbsp;next&nbsp;equivalent&nbsp;rune&nbsp;&gt;&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525693">//&nbsp;or&nbsp;wraps&nbsp;around&nbsp;to&nbsp;smaller&nbsp;values.</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525733">r</span>&nbsp;<span class="op" id="2525735">:=</span>&nbsp;<span class="ident" id="2525738"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2525745">.</span><span class="ident" id="2525746">SimpleFold</span><span class="op" id="2525756">(</span><span class="ident" id="2525757"><a href="/strings/strings.go.html#2524947">sr</a></span><span class="op" id="2525759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525763">for</span>&nbsp;<span class="ident" id="2525767"><a href="/strings/strings.go.html#2525733">r</a></span>&nbsp;<span class="op" id="2525769">!=</span>&nbsp;<span class="ident" id="2525772"><a href="/strings/strings.go.html#2524947">sr</a></span>&nbsp;<span class="op" id="2525775">&amp;&amp;</span>&nbsp;<span class="ident" id="2525778"><a href="/strings/strings.go.html#2525733">r</a></span>&nbsp;<span class="op" id="2525780">&lt;</span>&nbsp;<span class="ident" id="2525782"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2525790"><a href="/strings/strings.go.html#2525733">r</a></span>&nbsp;<span class="op" id="2525792">=</span>&nbsp;<span class="ident" id="2525794"><a href="/strings/strings.go.html#2506514">unicode</a></span><span class="op" id="2525801">.</span><span class="ident" id="2525802">SimpleFold</span><span class="op" id="2525812">(</span><span class="ident" id="2525813"><a href="/strings/strings.go.html#2525733">r</a></span><span class="op" id="2525814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525822">if</span>&nbsp;<span class="ident" id="2525825"><a href="/strings/strings.go.html#2525733">r</a></span>&nbsp;<span class="op" id="2525827">==</span>&nbsp;<span class="ident" id="2525830"><a href="/strings/strings.go.html#2524951">tr</a></span>&nbsp;<span class="op" id="2525833">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525838">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525853">return</span>&nbsp;<span class="builtintype" id="2525860">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2525867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2525871">//&nbsp;One&nbsp;string&nbsp;is&nbsp;empty.&nbsp;&nbsp;Are&nbsp;both?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2525907">return</span>&nbsp;<span class="ident" id="2525914"><a href="/strings/strings.go.html#2524853">s</a></span>&nbsp;<span class="op" id="2525916">==</span>&nbsp;<span class="ident" id="2525919"><a href="/strings/strings.go.html#2524856">t</a></span><br>
<span class="lineno"></span><span class="op" id="2525921">}</span>
</div>
</body>
</html>
