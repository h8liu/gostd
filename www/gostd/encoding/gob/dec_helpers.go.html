<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html" class="current">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5551920">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5551979">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5552034">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5552088">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552139">package</span>&nbsp;<span class="ident" id="5552147">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552152">import</span>&nbsp;<span class="op" id="5552159">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5552162">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5552170">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5552180">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552183">var</span>&nbsp;<span class="ident" id="5552187">decArrayHelper</span>&nbsp;<span class="op" id="5552202">=</span>&nbsp;<span class="keyword" id="5552204">map</span><span class="op" id="5552207">[</span><span class="ident" id="5552208">reflect</span><span class="op" id="5552215">.</span><span class="ident" id="5552216">Kind</span><span class="op" id="5552220">]</span><span class="ident" id="5552221">decHelper</span><span class="op" id="5552230">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552233">reflect</span><span class="op" id="5552240">.</span><span class="ident" id="5552241">Bool</span><span class="op" id="5552245">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552253">decBoolArray</span><span class="op" id="5552265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552268">reflect</span><span class="op" id="5552275">.</span><span class="ident" id="5552276">Complex64</span><span class="op" id="5552285">:</span>&nbsp;&nbsp;<span class="ident" id="5552288">decComplex64Array</span><span class="op" id="5552305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552308">reflect</span><span class="op" id="5552315">.</span><span class="ident" id="5552316">Complex128</span><span class="op" id="5552326">:</span>&nbsp;<span class="ident" id="5552328">decComplex128Array</span><span class="op" id="5552346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552349">reflect</span><span class="op" id="5552356">.</span><span class="ident" id="5552357">Float32</span><span class="op" id="5552364">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552369">decFloat32Array</span><span class="op" id="5552384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552387">reflect</span><span class="op" id="5552394">.</span><span class="ident" id="5552395">Float64</span><span class="op" id="5552402">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552407">decFloat64Array</span><span class="op" id="5552422">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552425">reflect</span><span class="op" id="5552432">.</span><span class="ident" id="5552433">Int</span><span class="op" id="5552436">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552445">decIntArray</span><span class="op" id="5552456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552459">reflect</span><span class="op" id="5552466">.</span><span class="ident" id="5552467">Int16</span><span class="op" id="5552472">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552479">decInt16Array</span><span class="op" id="5552492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552495">reflect</span><span class="op" id="5552502">.</span><span class="ident" id="5552503">Int32</span><span class="op" id="5552508">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552515">decInt32Array</span><span class="op" id="5552528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552531">reflect</span><span class="op" id="5552538">.</span><span class="ident" id="5552539">Int64</span><span class="op" id="5552544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552551">decInt64Array</span><span class="op" id="5552564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552567">reflect</span><span class="op" id="5552574">.</span><span class="ident" id="5552575">Int8</span><span class="op" id="5552579">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552587">decInt8Array</span><span class="op" id="5552599">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552602">reflect</span><span class="op" id="5552609">.</span><span class="ident" id="5552610">String</span><span class="op" id="5552616">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552622">decStringArray</span><span class="op" id="5552636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552639">reflect</span><span class="op" id="5552646">.</span><span class="ident" id="5552647">Uint</span><span class="op" id="5552651">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552659">decUintArray</span><span class="op" id="5552671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552674">reflect</span><span class="op" id="5552681">.</span><span class="ident" id="5552682">Uint16</span><span class="op" id="5552688">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552694">decUint16Array</span><span class="op" id="5552708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552711">reflect</span><span class="op" id="5552718">.</span><span class="ident" id="5552719">Uint32</span><span class="op" id="5552725">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552731">decUint32Array</span><span class="op" id="5552745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552748">reflect</span><span class="op" id="5552755">.</span><span class="ident" id="5552756">Uint64</span><span class="op" id="5552762">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552768">decUint64Array</span><span class="op" id="5552782">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552785">reflect</span><span class="op" id="5552792">.</span><span class="ident" id="5552793">Uintptr</span><span class="op" id="5552800">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552805">decUintptrArray</span><span class="op" id="5552820">,</span><br>
<span class="lineno"></span><span class="op" id="5552822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5552825">var</span>&nbsp;<span class="ident" id="5552829">decSliceHelper</span>&nbsp;<span class="op" id="5552844">=</span>&nbsp;<span class="keyword" id="5552846">map</span><span class="op" id="5552849">[</span><span class="ident" id="5552850">reflect</span><span class="op" id="5552857">.</span><span class="ident" id="5552858">Kind</span><span class="op" id="5552862">]</span><span class="ident" id="5552863">decHelper</span><span class="op" id="5552872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552875">reflect</span><span class="op" id="5552882">.</span><span class="ident" id="5552883">Bool</span><span class="op" id="5552887">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552895">decBoolSlice</span><span class="op" id="5552907">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552910">reflect</span><span class="op" id="5552917">.</span><span class="ident" id="5552918">Complex64</span><span class="op" id="5552927">:</span>&nbsp;&nbsp;<span class="ident" id="5552930">decComplex64Slice</span><span class="op" id="5552947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552950">reflect</span><span class="op" id="5552957">.</span><span class="ident" id="5552958">Complex128</span><span class="op" id="5552968">:</span>&nbsp;<span class="ident" id="5552970">decComplex128Slice</span><span class="op" id="5552988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5552991">reflect</span><span class="op" id="5552998">.</span><span class="ident" id="5552999">Float32</span><span class="op" id="5553006">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553011">decFloat32Slice</span><span class="op" id="5553026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553029">reflect</span><span class="op" id="5553036">.</span><span class="ident" id="5553037">Float64</span><span class="op" id="5553044">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553049">decFloat64Slice</span><span class="op" id="5553064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553067">reflect</span><span class="op" id="5553074">.</span><span class="ident" id="5553075">Int</span><span class="op" id="5553078">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553087">decIntSlice</span><span class="op" id="5553098">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553101">reflect</span><span class="op" id="5553108">.</span><span class="ident" id="5553109">Int16</span><span class="op" id="5553114">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553121">decInt16Slice</span><span class="op" id="5553134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553137">reflect</span><span class="op" id="5553144">.</span><span class="ident" id="5553145">Int32</span><span class="op" id="5553150">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553157">decInt32Slice</span><span class="op" id="5553170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553173">reflect</span><span class="op" id="5553180">.</span><span class="ident" id="5553181">Int64</span><span class="op" id="5553186">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553193">decInt64Slice</span><span class="op" id="5553206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553209">reflect</span><span class="op" id="5553216">.</span><span class="ident" id="5553217">Int8</span><span class="op" id="5553221">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553229">decInt8Slice</span><span class="op" id="5553241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553244">reflect</span><span class="op" id="5553251">.</span><span class="ident" id="5553252">String</span><span class="op" id="5553258">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553264">decStringSlice</span><span class="op" id="5553278">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553281">reflect</span><span class="op" id="5553288">.</span><span class="ident" id="5553289">Uint</span><span class="op" id="5553293">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553301">decUintSlice</span><span class="op" id="5553313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553316">reflect</span><span class="op" id="5553323">.</span><span class="ident" id="5553324">Uint16</span><span class="op" id="5553330">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553336">decUint16Slice</span><span class="op" id="5553350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553353">reflect</span><span class="op" id="5553360">.</span><span class="ident" id="5553361">Uint32</span><span class="op" id="5553367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553373">decUint32Slice</span><span class="op" id="5553387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553390">reflect</span><span class="op" id="5553397">.</span><span class="ident" id="5553398">Uint64</span><span class="op" id="5553404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553410">decUint64Slice</span><span class="op" id="5553424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553427">reflect</span><span class="op" id="5553434">.</span><span class="ident" id="5553435">Uintptr</span><span class="op" id="5553442">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553447">decUintptrSlice</span><span class="op" id="5553462">,</span><br>
<span class="lineno">50</span><span class="op" id="5553464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5553467">func</span>&nbsp;<span class="ident" id="5553472">decBoolArray</span><span class="op" id="5553484">(</span><span class="ident" id="5553485">state</span>&nbsp;<span class="op" id="5553491">*</span><span class="ident" id="5553492">decoderState</span><span class="op" id="5553504">,</span>&nbsp;<span class="ident" id="5553506">v</span>&nbsp;<span class="ident" id="5553508">reflect</span><span class="op" id="5553515">.</span><span class="ident" id="5553516">Value</span><span class="op" id="5553521">,</span>&nbsp;<span class="ident" id="5553523">length</span>&nbsp;<span class="builtintype" id="5553530">int</span><span class="op" id="5553533">,</span>&nbsp;<span class="ident" id="5553535">ovfl</span>&nbsp;<span class="builtintype" id="5553540">error</span><span class="op" id="5553545">)</span>&nbsp;<span class="builtintype" id="5553547">bool</span>&nbsp;<span class="op" id="5553552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5553555">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553596">if</span>&nbsp;<span class="op" id="5553599">!</span><span class="ident" id="5553600">v</span><span class="op" id="5553601">.</span><span class="ident" id="5553602">CanAddr</span><span class="op" id="5553609">(</span><span class="op" id="5553610">)</span>&nbsp;<span class="op" id="5553612">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553616">return</span>&nbsp;<span class="builtintype" id="5553623">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5553630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553633">return</span>&nbsp;<span class="ident" id="5553640">decBoolSlice</span><span class="op" id="5553652">(</span><span class="ident" id="5553653">state</span><span class="op" id="5553658">,</span>&nbsp;<span class="ident" id="5553660">v</span><span class="op" id="5553661">.</span><span class="ident" id="5553662">Slice</span><span class="op" id="5553667">(</span><span class="num" id="5553668">0</span><span class="op" id="5553669">,</span>&nbsp;<span class="ident" id="5553671">v</span><span class="op" id="5553672">.</span><span class="ident" id="5553673">Len</span><span class="op" id="5553676">(</span><span class="op" id="5553677">)</span><span class="op" id="5553678">)</span><span class="op" id="5553679">,</span>&nbsp;<span class="ident" id="5553681">length</span><span class="op" id="5553687">,</span>&nbsp;<span class="ident" id="5553689">ovfl</span><span class="op" id="5553693">)</span><br>
<span class="lineno"></span><span class="op" id="5553695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5553698">func</span>&nbsp;<span class="ident" id="5553703">decBoolSlice</span><span class="op" id="5553715">(</span><span class="ident" id="5553716">state</span>&nbsp;<span class="op" id="5553722">*</span><span class="ident" id="5553723">decoderState</span><span class="op" id="5553735">,</span>&nbsp;<span class="ident" id="5553737">v</span>&nbsp;<span class="ident" id="5553739">reflect</span><span class="op" id="5553746">.</span><span class="ident" id="5553747">Value</span><span class="op" id="5553752">,</span>&nbsp;<span class="ident" id="5553754">length</span>&nbsp;<span class="builtintype" id="5553761">int</span><span class="op" id="5553764">,</span>&nbsp;<span class="ident" id="5553766">ovfl</span>&nbsp;<span class="builtintype" id="5553771">error</span><span class="op" id="5553776">)</span>&nbsp;<span class="builtintype" id="5553778">bool</span>&nbsp;<span class="op" id="5553783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553786">slice</span><span class="op" id="5553791">,</span>&nbsp;<span class="ident" id="5553793">ok</span>&nbsp;<span class="op" id="5553796">:=</span>&nbsp;<span class="ident" id="5553799">v</span><span class="op" id="5553800">.</span><span class="ident" id="5553801">Interface</span><span class="op" id="5553810">(</span><span class="op" id="5553811">)</span><span class="op" id="5553812">.</span><span class="op" id="5553813">(</span><span class="op" id="5553814">[</span><span class="op" id="5553815">]</span><span class="builtintype" id="5553816">bool</span><span class="op" id="5553820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553823">if</span>&nbsp;<span class="op" id="5553826">!</span><span class="ident" id="5553827">ok</span>&nbsp;<span class="op" id="5553830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5553834">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553909">return</span>&nbsp;<span class="builtintype" id="5553916">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5553923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553926">for</span>&nbsp;<span class="ident" id="5553930">i</span>&nbsp;<span class="op" id="5553932">:=</span>&nbsp;<span class="num" id="5553935">0</span><span class="op" id="5553936">;</span>&nbsp;<span class="ident" id="5553938">i</span>&nbsp;<span class="op" id="5553940">&lt;</span>&nbsp;<span class="ident" id="5553942">length</span><span class="op" id="5553948">;</span>&nbsp;<span class="ident" id="5553950">i</span><span class="op" id="5553951">++</span>&nbsp;<span class="op" id="5553954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5553958">if</span>&nbsp;<span class="ident" id="5553961">state</span><span class="op" id="5553966">.</span><span class="ident" id="5553967">b</span><span class="op" id="5553968">.</span><span class="ident" id="5553969">Len</span><span class="op" id="5553972">(</span><span class="op" id="5553973">)</span>&nbsp;<span class="op" id="5553975">==</span>&nbsp;<span class="num" id="5553978">0</span>&nbsp;<span class="op" id="5553980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5553985">errorf</span><span class="op" id="5553991">(</span><span class="string" id="5553992">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5554063">,</span>&nbsp;<span class="ident" id="5554065">length</span><span class="op" id="5554071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554075">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5554079">slice</span><span class="op" id="5554084">[</span><span class="ident" id="5554085">i</span><span class="op" id="5554086">]</span>&nbsp;<span class="op" id="5554088">=</span>&nbsp;<span class="ident" id="5554090">state</span><span class="op" id="5554095">.</span><span class="ident" id="5554096">decodeUint</span><span class="op" id="5554106">(</span><span class="op" id="5554107">)</span>&nbsp;<span class="op" id="5554109">!=</span>&nbsp;<span class="num" id="5554112">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554118">return</span>&nbsp;<span class="builtintype" id="5554125">true</span><br>
<span class="lineno"></span><span class="op" id="5554130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5554133">func</span>&nbsp;<span class="ident" id="5554138">decComplex64Array</span><span class="op" id="5554155">(</span><span class="ident" id="5554156">state</span>&nbsp;<span class="op" id="5554162">*</span><span class="ident" id="5554163">decoderState</span><span class="op" id="5554175">,</span>&nbsp;<span class="ident" id="5554177">v</span>&nbsp;<span class="ident" id="5554179">reflect</span><span class="op" id="5554186">.</span><span class="ident" id="5554187">Value</span><span class="op" id="5554192">,</span>&nbsp;<span class="ident" id="5554194">length</span>&nbsp;<span class="builtintype" id="5554201">int</span><span class="op" id="5554204">,</span>&nbsp;<span class="ident" id="5554206">ovfl</span>&nbsp;<span class="builtintype" id="5554211">error</span><span class="op" id="5554216">)</span>&nbsp;<span class="builtintype" id="5554218">bool</span>&nbsp;<span class="op" id="5554223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5554226">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554267">if</span>&nbsp;<span class="op" id="5554270">!</span><span class="ident" id="5554271">v</span><span class="op" id="5554272">.</span><span class="ident" id="5554273">CanAddr</span><span class="op" id="5554280">(</span><span class="op" id="5554281">)</span>&nbsp;<span class="op" id="5554283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554287">return</span>&nbsp;<span class="builtintype" id="5554294">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554301">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554304">return</span>&nbsp;<span class="ident" id="5554311">decComplex64Slice</span><span class="op" id="5554328">(</span><span class="ident" id="5554329">state</span><span class="op" id="5554334">,</span>&nbsp;<span class="ident" id="5554336">v</span><span class="op" id="5554337">.</span><span class="ident" id="5554338">Slice</span><span class="op" id="5554343">(</span><span class="num" id="5554344">0</span><span class="op" id="5554345">,</span>&nbsp;<span class="ident" id="5554347">v</span><span class="op" id="5554348">.</span><span class="ident" id="5554349">Len</span><span class="op" id="5554352">(</span><span class="op" id="5554353">)</span><span class="op" id="5554354">)</span><span class="op" id="5554355">,</span>&nbsp;<span class="ident" id="5554357">length</span><span class="op" id="5554363">,</span>&nbsp;<span class="ident" id="5554365">ovfl</span><span class="op" id="5554369">)</span><br>
<span class="lineno"></span><span class="op" id="5554371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5554374">func</span>&nbsp;<span class="ident" id="5554379">decComplex64Slice</span><span class="op" id="5554396">(</span><span class="ident" id="5554397">state</span>&nbsp;<span class="op" id="5554403">*</span><span class="ident" id="5554404">decoderState</span><span class="op" id="5554416">,</span>&nbsp;<span class="ident" id="5554418">v</span>&nbsp;<span class="ident" id="5554420">reflect</span><span class="op" id="5554427">.</span><span class="ident" id="5554428">Value</span><span class="op" id="5554433">,</span>&nbsp;<span class="ident" id="5554435">length</span>&nbsp;<span class="builtintype" id="5554442">int</span><span class="op" id="5554445">,</span>&nbsp;<span class="ident" id="5554447">ovfl</span>&nbsp;<span class="builtintype" id="5554452">error</span><span class="op" id="5554457">)</span>&nbsp;<span class="builtintype" id="5554459">bool</span>&nbsp;<span class="op" id="5554464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5554467">slice</span><span class="op" id="5554472">,</span>&nbsp;<span class="ident" id="5554474">ok</span>&nbsp;<span class="op" id="5554477">:=</span>&nbsp;<span class="ident" id="5554480">v</span><span class="op" id="5554481">.</span><span class="ident" id="5554482">Interface</span><span class="op" id="5554491">(</span><span class="op" id="5554492">)</span><span class="op" id="5554493">.</span><span class="op" id="5554494">(</span><span class="op" id="5554495">[</span><span class="op" id="5554496">]</span><span class="builtintype" id="5554497">complex64</span><span class="op" id="5554506">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554509">if</span>&nbsp;<span class="op" id="5554512">!</span><span class="ident" id="5554513">ok</span>&nbsp;<span class="op" id="5554516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5554520">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554605">return</span>&nbsp;<span class="builtintype" id="5554612">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554622">for</span>&nbsp;<span class="ident" id="5554626">i</span>&nbsp;<span class="op" id="5554628">:=</span>&nbsp;<span class="num" id="5554631">0</span><span class="op" id="5554632">;</span>&nbsp;<span class="ident" id="5554634">i</span>&nbsp;<span class="op" id="5554636">&lt;</span>&nbsp;<span class="ident" id="5554638">length</span><span class="op" id="5554644">;</span>&nbsp;<span class="ident" id="5554646">i</span><span class="op" id="5554647">++</span>&nbsp;<span class="op" id="5554650">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554654">if</span>&nbsp;<span class="ident" id="5554657">state</span><span class="op" id="5554662">.</span><span class="ident" id="5554663">b</span><span class="op" id="5554664">.</span><span class="ident" id="5554665">Len</span><span class="op" id="5554668">(</span><span class="op" id="5554669">)</span>&nbsp;<span class="op" id="5554671">==</span>&nbsp;<span class="num" id="5554674">0</span>&nbsp;<span class="op" id="5554676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5554681">errorf</span><span class="op" id="5554687">(</span><span class="string" id="5554688">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5554764">,</span>&nbsp;<span class="ident" id="5554766">length</span><span class="op" id="5554772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5554780">real</span>&nbsp;<span class="op" id="5554785">:=</span>&nbsp;<span class="ident" id="5554788">float32FromBits</span><span class="op" id="5554803">(</span><span class="ident" id="5554804">state</span><span class="op" id="5554809">.</span><span class="ident" id="5554810">decodeUint</span><span class="op" id="5554820">(</span><span class="op" id="5554821">)</span><span class="op" id="5554822">,</span>&nbsp;<span class="ident" id="5554824">ovfl</span><span class="op" id="5554828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5554832">imag</span>&nbsp;<span class="op" id="5554837">:=</span>&nbsp;<span class="ident" id="5554840">float32FromBits</span><span class="op" id="5554855">(</span><span class="ident" id="5554856">state</span><span class="op" id="5554861">.</span><span class="ident" id="5554862">decodeUint</span><span class="op" id="5554872">(</span><span class="op" id="5554873">)</span><span class="op" id="5554874">,</span>&nbsp;<span class="ident" id="5554876">ovfl</span><span class="op" id="5554880">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5554884">slice</span><span class="op" id="5554889">[</span><span class="ident" id="5554890">i</span><span class="op" id="5554891">]</span>&nbsp;<span class="op" id="5554893">=</span>&nbsp;<span class="builtinfunc" id="5554895">complex</span><span class="op" id="5554902">(</span><span class="builtintype" id="5554903">float32</span><span class="op" id="5554910">(</span><span class="builtinfunc" id="5554911">real</span><span class="op" id="5554915">)</span><span class="op" id="5554916">,</span>&nbsp;<span class="builtintype" id="5554918">float32</span><span class="op" id="5554925">(</span><span class="builtinfunc" id="5554926">imag</span><span class="op" id="5554930">)</span><span class="op" id="5554931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5554934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5554937">return</span>&nbsp;<span class="builtintype" id="5554944">true</span><br>
<span class="lineno"></span><span class="op" id="5554949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="5554952">func</span>&nbsp;<span class="ident" id="5554957">decComplex128Array</span><span class="op" id="5554975">(</span><span class="ident" id="5554976">state</span>&nbsp;<span class="op" id="5554982">*</span><span class="ident" id="5554983">decoderState</span><span class="op" id="5554995">,</span>&nbsp;<span class="ident" id="5554997">v</span>&nbsp;<span class="ident" id="5554999">reflect</span><span class="op" id="5555006">.</span><span class="ident" id="5555007">Value</span><span class="op" id="5555012">,</span>&nbsp;<span class="ident" id="5555014">length</span>&nbsp;<span class="builtintype" id="5555021">int</span><span class="op" id="5555024">,</span>&nbsp;<span class="ident" id="5555026">ovfl</span>&nbsp;<span class="builtintype" id="5555031">error</span><span class="op" id="5555036">)</span>&nbsp;<span class="builtintype" id="5555038">bool</span>&nbsp;<span class="op" id="5555043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5555046">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555087">if</span>&nbsp;<span class="op" id="5555090">!</span><span class="ident" id="5555091">v</span><span class="op" id="5555092">.</span><span class="ident" id="5555093">CanAddr</span><span class="op" id="5555100">(</span><span class="op" id="5555101">)</span>&nbsp;<span class="op" id="5555103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555107">return</span>&nbsp;<span class="builtintype" id="5555114">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5555121">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555124">return</span>&nbsp;<span class="ident" id="5555131">decComplex128Slice</span><span class="op" id="5555149">(</span><span class="ident" id="5555150">state</span><span class="op" id="5555155">,</span>&nbsp;<span class="ident" id="5555157">v</span><span class="op" id="5555158">.</span><span class="ident" id="5555159">Slice</span><span class="op" id="5555164">(</span><span class="num" id="5555165">0</span><span class="op" id="5555166">,</span>&nbsp;<span class="ident" id="5555168">v</span><span class="op" id="5555169">.</span><span class="ident" id="5555170">Len</span><span class="op" id="5555173">(</span><span class="op" id="5555174">)</span><span class="op" id="5555175">)</span><span class="op" id="5555176">,</span>&nbsp;<span class="ident" id="5555178">length</span><span class="op" id="5555184">,</span>&nbsp;<span class="ident" id="5555186">ovfl</span><span class="op" id="5555190">)</span><br>
<span class="lineno"></span><span class="op" id="5555192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5555195">func</span>&nbsp;<span class="ident" id="5555200">decComplex128Slice</span><span class="op" id="5555218">(</span><span class="ident" id="5555219">state</span>&nbsp;<span class="op" id="5555225">*</span><span class="ident" id="5555226">decoderState</span><span class="op" id="5555238">,</span>&nbsp;<span class="ident" id="5555240">v</span>&nbsp;<span class="ident" id="5555242">reflect</span><span class="op" id="5555249">.</span><span class="ident" id="5555250">Value</span><span class="op" id="5555255">,</span>&nbsp;<span class="ident" id="5555257">length</span>&nbsp;<span class="builtintype" id="5555264">int</span><span class="op" id="5555267">,</span>&nbsp;<span class="ident" id="5555269">ovfl</span>&nbsp;<span class="builtintype" id="5555274">error</span><span class="op" id="5555279">)</span>&nbsp;<span class="builtintype" id="5555281">bool</span>&nbsp;<span class="op" id="5555286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5555289">slice</span><span class="op" id="5555294">,</span>&nbsp;<span class="ident" id="5555296">ok</span>&nbsp;<span class="op" id="5555299">:=</span>&nbsp;<span class="ident" id="5555302">v</span><span class="op" id="5555303">.</span><span class="ident" id="5555304">Interface</span><span class="op" id="5555313">(</span><span class="op" id="5555314">)</span><span class="op" id="5555315">.</span><span class="op" id="5555316">(</span><span class="op" id="5555317">[</span><span class="op" id="5555318">]</span><span class="builtintype" id="5555319">complex128</span><span class="op" id="5555329">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555332">if</span>&nbsp;<span class="op" id="5555335">!</span><span class="ident" id="5555336">ok</span>&nbsp;<span class="op" id="5555339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5555343">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555430">return</span>&nbsp;<span class="builtintype" id="5555437">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5555444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555447">for</span>&nbsp;<span class="ident" id="5555451">i</span>&nbsp;<span class="op" id="5555453">:=</span>&nbsp;<span class="num" id="5555456">0</span><span class="op" id="5555457">;</span>&nbsp;<span class="ident" id="5555459">i</span>&nbsp;<span class="op" id="5555461">&lt;</span>&nbsp;<span class="ident" id="5555463">length</span><span class="op" id="5555469">;</span>&nbsp;<span class="ident" id="5555471">i</span><span class="op" id="5555472">++</span>&nbsp;<span class="op" id="5555475">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555479">if</span>&nbsp;<span class="ident" id="5555482">state</span><span class="op" id="5555487">.</span><span class="ident" id="5555488">b</span><span class="op" id="5555489">.</span><span class="ident" id="5555490">Len</span><span class="op" id="5555493">(</span><span class="op" id="5555494">)</span>&nbsp;<span class="op" id="5555496">==</span>&nbsp;<span class="num" id="5555499">0</span>&nbsp;<span class="op" id="5555501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5555506">errorf</span><span class="op" id="5555512">(</span><span class="string" id="5555513">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5555590">,</span>&nbsp;<span class="ident" id="5555592">length</span><span class="op" id="5555598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5555602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5555606">real</span>&nbsp;<span class="op" id="5555611">:=</span>&nbsp;<span class="ident" id="5555614">float64FromBits</span><span class="op" id="5555629">(</span><span class="ident" id="5555630">state</span><span class="op" id="5555635">.</span><span class="ident" id="5555636">decodeUint</span><span class="op" id="5555646">(</span><span class="op" id="5555647">)</span><span class="op" id="5555648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5555652">imag</span>&nbsp;<span class="op" id="5555657">:=</span>&nbsp;<span class="ident" id="5555660">float64FromBits</span><span class="op" id="5555675">(</span><span class="ident" id="5555676">state</span><span class="op" id="5555681">.</span><span class="ident" id="5555682">decodeUint</span><span class="op" id="5555692">(</span><span class="op" id="5555693">)</span><span class="op" id="5555694">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5555698">slice</span><span class="op" id="5555703">[</span><span class="ident" id="5555704">i</span><span class="op" id="5555705">]</span>&nbsp;<span class="op" id="5555707">=</span>&nbsp;<span class="builtinfunc" id="5555709">complex</span><span class="op" id="5555716">(</span><span class="builtinfunc" id="5555717">real</span><span class="op" id="5555721">,</span>&nbsp;<span class="builtinfunc" id="5555723">imag</span><span class="op" id="5555727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5555730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555733">return</span>&nbsp;<span class="builtintype" id="5555740">true</span><br>
<span class="lineno"></span><span class="op" id="5555745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5555748">func</span>&nbsp;<span class="ident" id="5555753">decFloat32Array</span><span class="op" id="5555768">(</span><span class="ident" id="5555769">state</span>&nbsp;<span class="op" id="5555775">*</span><span class="ident" id="5555776">decoderState</span><span class="op" id="5555788">,</span>&nbsp;<span class="ident" id="5555790">v</span>&nbsp;<span class="ident" id="5555792">reflect</span><span class="op" id="5555799">.</span><span class="ident" id="5555800">Value</span><span class="op" id="5555805">,</span>&nbsp;<span class="ident" id="5555807">length</span>&nbsp;<span class="builtintype" id="5555814">int</span><span class="op" id="5555817">,</span>&nbsp;<span class="ident" id="5555819">ovfl</span>&nbsp;<span class="builtintype" id="5555824">error</span><span class="op" id="5555829">)</span>&nbsp;<span class="builtintype" id="5555831">bool</span>&nbsp;<span class="op" id="5555836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5555839">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555880">if</span>&nbsp;<span class="op" id="5555883">!</span><span class="ident" id="5555884">v</span><span class="op" id="5555885">.</span><span class="ident" id="5555886">CanAddr</span><span class="op" id="5555893">(</span><span class="op" id="5555894">)</span>&nbsp;<span class="op" id="5555896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555900">return</span>&nbsp;<span class="builtintype" id="5555907">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5555914">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5555917">return</span>&nbsp;<span class="ident" id="5555924">decFloat32Slice</span><span class="op" id="5555939">(</span><span class="ident" id="5555940">state</span><span class="op" id="5555945">,</span>&nbsp;<span class="ident" id="5555947">v</span><span class="op" id="5555948">.</span><span class="ident" id="5555949">Slice</span><span class="op" id="5555954">(</span><span class="num" id="5555955">0</span><span class="op" id="5555956">,</span>&nbsp;<span class="ident" id="5555958">v</span><span class="op" id="5555959">.</span><span class="ident" id="5555960">Len</span><span class="op" id="5555963">(</span><span class="op" id="5555964">)</span><span class="op" id="5555965">)</span><span class="op" id="5555966">,</span>&nbsp;<span class="ident" id="5555968">length</span><span class="op" id="5555974">,</span>&nbsp;<span class="ident" id="5555976">ovfl</span><span class="op" id="5555980">)</span><br>
<span class="lineno"></span><span class="op" id="5555982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5555985">func</span>&nbsp;<span class="ident" id="5555990">decFloat32Slice</span><span class="op" id="5556005">(</span><span class="ident" id="5556006">state</span>&nbsp;<span class="op" id="5556012">*</span><span class="ident" id="5556013">decoderState</span><span class="op" id="5556025">,</span>&nbsp;<span class="ident" id="5556027">v</span>&nbsp;<span class="ident" id="5556029">reflect</span><span class="op" id="5556036">.</span><span class="ident" id="5556037">Value</span><span class="op" id="5556042">,</span>&nbsp;<span class="ident" id="5556044">length</span>&nbsp;<span class="builtintype" id="5556051">int</span><span class="op" id="5556054">,</span>&nbsp;<span class="ident" id="5556056">ovfl</span>&nbsp;<span class="builtintype" id="5556061">error</span><span class="op" id="5556066">)</span>&nbsp;<span class="builtintype" id="5556068">bool</span>&nbsp;<span class="op" id="5556073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5556076">slice</span><span class="op" id="5556081">,</span>&nbsp;<span class="ident" id="5556083">ok</span>&nbsp;<span class="op" id="5556086">:=</span>&nbsp;<span class="ident" id="5556089">v</span><span class="op" id="5556090">.</span><span class="ident" id="5556091">Interface</span><span class="op" id="5556100">(</span><span class="op" id="5556101">)</span><span class="op" id="5556102">.</span><span class="op" id="5556103">(</span><span class="op" id="5556104">[</span><span class="op" id="5556105">]</span><span class="builtintype" id="5556106">float32</span><span class="op" id="5556113">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556116">if</span>&nbsp;<span class="op" id="5556119">!</span><span class="ident" id="5556120">ok</span>&nbsp;<span class="op" id="5556123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5556127">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556208">return</span>&nbsp;<span class="builtintype" id="5556215">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5556222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556225">for</span>&nbsp;<span class="ident" id="5556229">i</span>&nbsp;<span class="op" id="5556231">:=</span>&nbsp;<span class="num" id="5556234">0</span><span class="op" id="5556235">;</span>&nbsp;<span class="ident" id="5556237">i</span>&nbsp;<span class="op" id="5556239">&lt;</span>&nbsp;<span class="ident" id="5556241">length</span><span class="op" id="5556247">;</span>&nbsp;<span class="ident" id="5556249">i</span><span class="op" id="5556250">++</span>&nbsp;<span class="op" id="5556253">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556257">if</span>&nbsp;<span class="ident" id="5556260">state</span><span class="op" id="5556265">.</span><span class="ident" id="5556266">b</span><span class="op" id="5556267">.</span><span class="ident" id="5556268">Len</span><span class="op" id="5556271">(</span><span class="op" id="5556272">)</span>&nbsp;<span class="op" id="5556274">==</span>&nbsp;<span class="num" id="5556277">0</span>&nbsp;<span class="op" id="5556279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5556284">errorf</span><span class="op" id="5556290">(</span><span class="string" id="5556291">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5556365">,</span>&nbsp;<span class="ident" id="5556367">length</span><span class="op" id="5556373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5556377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5556381">slice</span><span class="op" id="5556386">[</span><span class="ident" id="5556387">i</span><span class="op" id="5556388">]</span>&nbsp;<span class="op" id="5556390">=</span>&nbsp;<span class="builtintype" id="5556392">float32</span><span class="op" id="5556399">(</span><span class="ident" id="5556400">float32FromBits</span><span class="op" id="5556415">(</span><span class="ident" id="5556416">state</span><span class="op" id="5556421">.</span><span class="ident" id="5556422">decodeUint</span><span class="op" id="5556432">(</span><span class="op" id="5556433">)</span><span class="op" id="5556434">,</span>&nbsp;<span class="ident" id="5556436">ovfl</span><span class="op" id="5556440">)</span><span class="op" id="5556441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5556444">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556447">return</span>&nbsp;<span class="builtintype" id="5556454">true</span><br>
<span class="lineno"></span><span class="op" id="5556459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5556462">func</span>&nbsp;<span class="ident" id="5556467">decFloat64Array</span><span class="op" id="5556482">(</span><span class="ident" id="5556483">state</span>&nbsp;<span class="op" id="5556489">*</span><span class="ident" id="5556490">decoderState</span><span class="op" id="5556502">,</span>&nbsp;<span class="ident" id="5556504">v</span>&nbsp;<span class="ident" id="5556506">reflect</span><span class="op" id="5556513">.</span><span class="ident" id="5556514">Value</span><span class="op" id="5556519">,</span>&nbsp;<span class="ident" id="5556521">length</span>&nbsp;<span class="builtintype" id="5556528">int</span><span class="op" id="5556531">,</span>&nbsp;<span class="ident" id="5556533">ovfl</span>&nbsp;<span class="builtintype" id="5556538">error</span><span class="op" id="5556543">)</span>&nbsp;<span class="builtintype" id="5556545">bool</span>&nbsp;<span class="op" id="5556550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5556553">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556594">if</span>&nbsp;<span class="op" id="5556597">!</span><span class="ident" id="5556598">v</span><span class="op" id="5556599">.</span><span class="ident" id="5556600">CanAddr</span><span class="op" id="5556607">(</span><span class="op" id="5556608">)</span>&nbsp;<span class="op" id="5556610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556614">return</span>&nbsp;<span class="builtintype" id="5556621">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5556628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556631">return</span>&nbsp;<span class="ident" id="5556638">decFloat64Slice</span><span class="op" id="5556653">(</span><span class="ident" id="5556654">state</span><span class="op" id="5556659">,</span>&nbsp;<span class="ident" id="5556661">v</span><span class="op" id="5556662">.</span><span class="ident" id="5556663">Slice</span><span class="op" id="5556668">(</span><span class="num" id="5556669">0</span><span class="op" id="5556670">,</span>&nbsp;<span class="ident" id="5556672">v</span><span class="op" id="5556673">.</span><span class="ident" id="5556674">Len</span><span class="op" id="5556677">(</span><span class="op" id="5556678">)</span><span class="op" id="5556679">)</span><span class="op" id="5556680">,</span>&nbsp;<span class="ident" id="5556682">length</span><span class="op" id="5556688">,</span>&nbsp;<span class="ident" id="5556690">ovfl</span><span class="op" id="5556694">)</span><br>
<span class="lineno"></span><span class="op" id="5556696">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="5556699">func</span>&nbsp;<span class="ident" id="5556704">decFloat64Slice</span><span class="op" id="5556719">(</span><span class="ident" id="5556720">state</span>&nbsp;<span class="op" id="5556726">*</span><span class="ident" id="5556727">decoderState</span><span class="op" id="5556739">,</span>&nbsp;<span class="ident" id="5556741">v</span>&nbsp;<span class="ident" id="5556743">reflect</span><span class="op" id="5556750">.</span><span class="ident" id="5556751">Value</span><span class="op" id="5556756">,</span>&nbsp;<span class="ident" id="5556758">length</span>&nbsp;<span class="builtintype" id="5556765">int</span><span class="op" id="5556768">,</span>&nbsp;<span class="ident" id="5556770">ovfl</span>&nbsp;<span class="builtintype" id="5556775">error</span><span class="op" id="5556780">)</span>&nbsp;<span class="builtintype" id="5556782">bool</span>&nbsp;<span class="op" id="5556787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5556790">slice</span><span class="op" id="5556795">,</span>&nbsp;<span class="ident" id="5556797">ok</span>&nbsp;<span class="op" id="5556800">:=</span>&nbsp;<span class="ident" id="5556803">v</span><span class="op" id="5556804">.</span><span class="ident" id="5556805">Interface</span><span class="op" id="5556814">(</span><span class="op" id="5556815">)</span><span class="op" id="5556816">.</span><span class="op" id="5556817">(</span><span class="op" id="5556818">[</span><span class="op" id="5556819">]</span><span class="builtintype" id="5556820">float64</span><span class="op" id="5556827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556830">if</span>&nbsp;<span class="op" id="5556833">!</span><span class="ident" id="5556834">ok</span>&nbsp;<span class="op" id="5556837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5556841">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556922">return</span>&nbsp;<span class="builtintype" id="5556929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5556936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556939">for</span>&nbsp;<span class="ident" id="5556943">i</span>&nbsp;<span class="op" id="5556945">:=</span>&nbsp;<span class="num" id="5556948">0</span><span class="op" id="5556949">;</span>&nbsp;<span class="ident" id="5556951">i</span>&nbsp;<span class="op" id="5556953">&lt;</span>&nbsp;<span class="ident" id="5556955">length</span><span class="op" id="5556961">;</span>&nbsp;<span class="ident" id="5556963">i</span><span class="op" id="5556964">++</span>&nbsp;<span class="op" id="5556967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5556971">if</span>&nbsp;<span class="ident" id="5556974">state</span><span class="op" id="5556979">.</span><span class="ident" id="5556980">b</span><span class="op" id="5556981">.</span><span class="ident" id="5556982">Len</span><span class="op" id="5556985">(</span><span class="op" id="5556986">)</span>&nbsp;<span class="op" id="5556988">==</span>&nbsp;<span class="num" id="5556991">0</span>&nbsp;<span class="op" id="5556993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5556998">errorf</span><span class="op" id="5557004">(</span><span class="string" id="5557005">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5557079">,</span>&nbsp;<span class="ident" id="5557081">length</span><span class="op" id="5557087">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557095">slice</span><span class="op" id="5557100">[</span><span class="ident" id="5557101">i</span><span class="op" id="5557102">]</span>&nbsp;<span class="op" id="5557104">=</span>&nbsp;<span class="ident" id="5557106">float64FromBits</span><span class="op" id="5557121">(</span><span class="ident" id="5557122">state</span><span class="op" id="5557127">.</span><span class="ident" id="5557128">decodeUint</span><span class="op" id="5557138">(</span><span class="op" id="5557139">)</span><span class="op" id="5557140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557146">return</span>&nbsp;<span class="builtintype" id="5557153">true</span><br>
<span class="lineno"></span><span class="op" id="5557158">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="5557161">func</span>&nbsp;<span class="ident" id="5557166">decIntArray</span><span class="op" id="5557177">(</span><span class="ident" id="5557178">state</span>&nbsp;<span class="op" id="5557184">*</span><span class="ident" id="5557185">decoderState</span><span class="op" id="5557197">,</span>&nbsp;<span class="ident" id="5557199">v</span>&nbsp;<span class="ident" id="5557201">reflect</span><span class="op" id="5557208">.</span><span class="ident" id="5557209">Value</span><span class="op" id="5557214">,</span>&nbsp;<span class="ident" id="5557216">length</span>&nbsp;<span class="builtintype" id="5557223">int</span><span class="op" id="5557226">,</span>&nbsp;<span class="ident" id="5557228">ovfl</span>&nbsp;<span class="builtintype" id="5557233">error</span><span class="op" id="5557238">)</span>&nbsp;<span class="builtintype" id="5557240">bool</span>&nbsp;<span class="op" id="5557245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5557248">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557289">if</span>&nbsp;<span class="op" id="5557292">!</span><span class="ident" id="5557293">v</span><span class="op" id="5557294">.</span><span class="ident" id="5557295">CanAddr</span><span class="op" id="5557302">(</span><span class="op" id="5557303">)</span>&nbsp;<span class="op" id="5557305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557309">return</span>&nbsp;<span class="builtintype" id="5557316">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557326">return</span>&nbsp;<span class="ident" id="5557333">decIntSlice</span><span class="op" id="5557344">(</span><span class="ident" id="5557345">state</span><span class="op" id="5557350">,</span>&nbsp;<span class="ident" id="5557352">v</span><span class="op" id="5557353">.</span><span class="ident" id="5557354">Slice</span><span class="op" id="5557359">(</span><span class="num" id="5557360">0</span><span class="op" id="5557361">,</span>&nbsp;<span class="ident" id="5557363">v</span><span class="op" id="5557364">.</span><span class="ident" id="5557365">Len</span><span class="op" id="5557368">(</span><span class="op" id="5557369">)</span><span class="op" id="5557370">)</span><span class="op" id="5557371">,</span>&nbsp;<span class="ident" id="5557373">length</span><span class="op" id="5557379">,</span>&nbsp;<span class="ident" id="5557381">ovfl</span><span class="op" id="5557385">)</span><br>
<span class="lineno"></span><span class="op" id="5557387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5557390">func</span>&nbsp;<span class="ident" id="5557395">decIntSlice</span><span class="op" id="5557406">(</span><span class="ident" id="5557407">state</span>&nbsp;<span class="op" id="5557413">*</span><span class="ident" id="5557414">decoderState</span><span class="op" id="5557426">,</span>&nbsp;<span class="ident" id="5557428">v</span>&nbsp;<span class="ident" id="5557430">reflect</span><span class="op" id="5557437">.</span><span class="ident" id="5557438">Value</span><span class="op" id="5557443">,</span>&nbsp;<span class="ident" id="5557445">length</span>&nbsp;<span class="builtintype" id="5557452">int</span><span class="op" id="5557455">,</span>&nbsp;<span class="ident" id="5557457">ovfl</span>&nbsp;<span class="builtintype" id="5557462">error</span><span class="op" id="5557467">)</span>&nbsp;<span class="builtintype" id="5557469">bool</span>&nbsp;<span class="op" id="5557474">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557477">slice</span><span class="op" id="5557482">,</span>&nbsp;<span class="ident" id="5557484">ok</span>&nbsp;<span class="op" id="5557487">:=</span>&nbsp;<span class="ident" id="5557490">v</span><span class="op" id="5557491">.</span><span class="ident" id="5557492">Interface</span><span class="op" id="5557501">(</span><span class="op" id="5557502">)</span><span class="op" id="5557503">.</span><span class="op" id="5557504">(</span><span class="op" id="5557505">[</span><span class="op" id="5557506">]</span><span class="builtintype" id="5557507">int</span><span class="op" id="5557510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557513">if</span>&nbsp;<span class="op" id="5557516">!</span><span class="ident" id="5557517">ok</span>&nbsp;<span class="op" id="5557520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5557524">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557597">return</span>&nbsp;<span class="builtintype" id="5557604">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557611">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557614">for</span>&nbsp;<span class="ident" id="5557618">i</span>&nbsp;<span class="op" id="5557620">:=</span>&nbsp;<span class="num" id="5557623">0</span><span class="op" id="5557624">;</span>&nbsp;<span class="ident" id="5557626">i</span>&nbsp;<span class="op" id="5557628">&lt;</span>&nbsp;<span class="ident" id="5557630">length</span><span class="op" id="5557636">;</span>&nbsp;<span class="ident" id="5557638">i</span><span class="op" id="5557639">++</span>&nbsp;<span class="op" id="5557642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557646">if</span>&nbsp;<span class="ident" id="5557649">state</span><span class="op" id="5557654">.</span><span class="ident" id="5557655">b</span><span class="op" id="5557656">.</span><span class="ident" id="5557657">Len</span><span class="op" id="5557660">(</span><span class="op" id="5557661">)</span>&nbsp;<span class="op" id="5557663">==</span>&nbsp;<span class="num" id="5557666">0</span>&nbsp;<span class="op" id="5557668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557673">errorf</span><span class="op" id="5557679">(</span><span class="string" id="5557680">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5557750">,</span>&nbsp;<span class="ident" id="5557752">length</span><span class="op" id="5557758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557766">x</span>&nbsp;<span class="op" id="5557768">:=</span>&nbsp;<span class="ident" id="5557771">state</span><span class="op" id="5557776">.</span><span class="ident" id="5557777">decodeInt</span><span class="op" id="5557786">(</span><span class="op" id="5557787">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5557791">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557814">if</span>&nbsp;<span class="ident" id="5557817">x</span>&nbsp;<span class="op" id="5557819">&lt;</span>&nbsp;<span class="op" id="5557821">^</span><span class="builtintype" id="5557822">int64</span><span class="op" id="5557827">(</span><span class="op" id="5557828">^</span><span class="builtintype" id="5557829">uint</span><span class="op" id="5557833">(</span><span class="num" id="5557834">0</span><span class="op" id="5557835">)</span><span class="op" id="5557836">&gt;&gt;</span><span class="num" id="5557838">1</span><span class="op" id="5557839">)</span>&nbsp;<span class="op" id="5557841">||</span>&nbsp;<span class="builtintype" id="5557844">int64</span><span class="op" id="5557849">(</span><span class="op" id="5557850">^</span><span class="builtintype" id="5557851">uint</span><span class="op" id="5557855">(</span><span class="num" id="5557856">0</span><span class="op" id="5557857">)</span><span class="op" id="5557858">&gt;&gt;</span><span class="num" id="5557860">1</span><span class="op" id="5557861">)</span>&nbsp;<span class="op" id="5557863">&lt;</span>&nbsp;<span class="ident" id="5557865">x</span>&nbsp;<span class="op" id="5557867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557872">error_</span><span class="op" id="5557878">(</span><span class="ident" id="5557879">ovfl</span><span class="op" id="5557883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5557891">slice</span><span class="op" id="5557896">[</span><span class="ident" id="5557897">i</span><span class="op" id="5557898">]</span>&nbsp;<span class="op" id="5557900">=</span>&nbsp;<span class="builtintype" id="5557902">int</span><span class="op" id="5557905">(</span><span class="ident" id="5557906">x</span><span class="op" id="5557907">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5557910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5557913">return</span>&nbsp;<span class="builtintype" id="5557920">true</span><br>
<span class="lineno"></span><span class="op" id="5557925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5557928">func</span>&nbsp;<span class="ident" id="5557933">decInt16Array</span><span class="op" id="5557946">(</span><span class="ident" id="5557947">state</span>&nbsp;<span class="op" id="5557953">*</span><span class="ident" id="5557954">decoderState</span><span class="op" id="5557966">,</span>&nbsp;<span class="ident" id="5557968">v</span>&nbsp;<span class="ident" id="5557970">reflect</span><span class="op" id="5557977">.</span><span class="ident" id="5557978">Value</span><span class="op" id="5557983">,</span>&nbsp;<span class="ident" id="5557985">length</span>&nbsp;<span class="builtintype" id="5557992">int</span><span class="op" id="5557995">,</span>&nbsp;<span class="ident" id="5557997">ovfl</span>&nbsp;<span class="builtintype" id="5558002">error</span><span class="op" id="5558007">)</span>&nbsp;<span class="builtintype" id="5558009">bool</span>&nbsp;<span class="op" id="5558014">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5558017">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558058">if</span>&nbsp;<span class="op" id="5558061">!</span><span class="ident" id="5558062">v</span><span class="op" id="5558063">.</span><span class="ident" id="5558064">CanAddr</span><span class="op" id="5558071">(</span><span class="op" id="5558072">)</span>&nbsp;<span class="op" id="5558074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558078">return</span>&nbsp;<span class="builtintype" id="5558085">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558095">return</span>&nbsp;<span class="ident" id="5558102">decInt16Slice</span><span class="op" id="5558115">(</span><span class="ident" id="5558116">state</span><span class="op" id="5558121">,</span>&nbsp;<span class="ident" id="5558123">v</span><span class="op" id="5558124">.</span><span class="ident" id="5558125">Slice</span><span class="op" id="5558130">(</span><span class="num" id="5558131">0</span><span class="op" id="5558132">,</span>&nbsp;<span class="ident" id="5558134">v</span><span class="op" id="5558135">.</span><span class="ident" id="5558136">Len</span><span class="op" id="5558139">(</span><span class="op" id="5558140">)</span><span class="op" id="5558141">)</span><span class="op" id="5558142">,</span>&nbsp;<span class="ident" id="5558144">length</span><span class="op" id="5558150">,</span>&nbsp;<span class="ident" id="5558152">ovfl</span><span class="op" id="5558156">)</span><br>
<span class="lineno">205</span><span class="op" id="5558158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5558161">func</span>&nbsp;<span class="ident" id="5558166">decInt16Slice</span><span class="op" id="5558179">(</span><span class="ident" id="5558180">state</span>&nbsp;<span class="op" id="5558186">*</span><span class="ident" id="5558187">decoderState</span><span class="op" id="5558199">,</span>&nbsp;<span class="ident" id="5558201">v</span>&nbsp;<span class="ident" id="5558203">reflect</span><span class="op" id="5558210">.</span><span class="ident" id="5558211">Value</span><span class="op" id="5558216">,</span>&nbsp;<span class="ident" id="5558218">length</span>&nbsp;<span class="builtintype" id="5558225">int</span><span class="op" id="5558228">,</span>&nbsp;<span class="ident" id="5558230">ovfl</span>&nbsp;<span class="builtintype" id="5558235">error</span><span class="op" id="5558240">)</span>&nbsp;<span class="builtintype" id="5558242">bool</span>&nbsp;<span class="op" id="5558247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558250">slice</span><span class="op" id="5558255">,</span>&nbsp;<span class="ident" id="5558257">ok</span>&nbsp;<span class="op" id="5558260">:=</span>&nbsp;<span class="ident" id="5558263">v</span><span class="op" id="5558264">.</span><span class="ident" id="5558265">Interface</span><span class="op" id="5558274">(</span><span class="op" id="5558275">)</span><span class="op" id="5558276">.</span><span class="op" id="5558277">(</span><span class="op" id="5558278">[</span><span class="op" id="5558279">]</span><span class="builtintype" id="5558280">int16</span><span class="op" id="5558285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558288">if</span>&nbsp;<span class="op" id="5558291">!</span><span class="ident" id="5558292">ok</span>&nbsp;<span class="op" id="5558295">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5558299">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558376">return</span>&nbsp;<span class="builtintype" id="5558383">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558393">for</span>&nbsp;<span class="ident" id="5558397">i</span>&nbsp;<span class="op" id="5558399">:=</span>&nbsp;<span class="num" id="5558402">0</span><span class="op" id="5558403">;</span>&nbsp;<span class="ident" id="5558405">i</span>&nbsp;<span class="op" id="5558407">&lt;</span>&nbsp;<span class="ident" id="5558409">length</span><span class="op" id="5558415">;</span>&nbsp;<span class="ident" id="5558417">i</span><span class="op" id="5558418">++</span>&nbsp;<span class="op" id="5558421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558425">if</span>&nbsp;<span class="ident" id="5558428">state</span><span class="op" id="5558433">.</span><span class="ident" id="5558434">b</span><span class="op" id="5558435">.</span><span class="ident" id="5558436">Len</span><span class="op" id="5558439">(</span><span class="op" id="5558440">)</span>&nbsp;<span class="op" id="5558442">==</span>&nbsp;<span class="num" id="5558445">0</span>&nbsp;<span class="op" id="5558447">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558452">errorf</span><span class="op" id="5558458">(</span><span class="string" id="5558459">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5558531">,</span>&nbsp;<span class="ident" id="5558533">length</span><span class="op" id="5558539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558547">x</span>&nbsp;<span class="op" id="5558549">:=</span>&nbsp;<span class="ident" id="5558552">state</span><span class="op" id="5558557">.</span><span class="ident" id="5558558">decodeInt</span><span class="op" id="5558567">(</span><span class="op" id="5558568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558572">if</span>&nbsp;<span class="ident" id="5558575">x</span>&nbsp;<span class="op" id="5558577">&lt;</span>&nbsp;<span class="ident" id="5558579">math</span><span class="op" id="5558583">.</span><span class="ident" id="5558584">MinInt16</span>&nbsp;<span class="op" id="5558593">||</span>&nbsp;<span class="ident" id="5558596">math</span><span class="op" id="5558600">.</span><span class="ident" id="5558601">MaxInt16</span>&nbsp;<span class="op" id="5558610">&lt;</span>&nbsp;<span class="ident" id="5558612">x</span>&nbsp;<span class="op" id="5558614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558619">error_</span><span class="op" id="5558625">(</span><span class="ident" id="5558626">ovfl</span><span class="op" id="5558630">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558638">slice</span><span class="op" id="5558643">[</span><span class="ident" id="5558644">i</span><span class="op" id="5558645">]</span>&nbsp;<span class="op" id="5558647">=</span>&nbsp;<span class="builtintype" id="5558649">int16</span><span class="op" id="5558654">(</span><span class="ident" id="5558655">x</span><span class="op" id="5558656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558662">return</span>&nbsp;<span class="builtintype" id="5558669">true</span><br>
<span class="lineno"></span><span class="op" id="5558674">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="5558677">func</span>&nbsp;<span class="ident" id="5558682">decInt32Array</span><span class="op" id="5558695">(</span><span class="ident" id="5558696">state</span>&nbsp;<span class="op" id="5558702">*</span><span class="ident" id="5558703">decoderState</span><span class="op" id="5558715">,</span>&nbsp;<span class="ident" id="5558717">v</span>&nbsp;<span class="ident" id="5558719">reflect</span><span class="op" id="5558726">.</span><span class="ident" id="5558727">Value</span><span class="op" id="5558732">,</span>&nbsp;<span class="ident" id="5558734">length</span>&nbsp;<span class="builtintype" id="5558741">int</span><span class="op" id="5558744">,</span>&nbsp;<span class="ident" id="5558746">ovfl</span>&nbsp;<span class="builtintype" id="5558751">error</span><span class="op" id="5558756">)</span>&nbsp;<span class="builtintype" id="5558758">bool</span>&nbsp;<span class="op" id="5558763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5558766">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558807">if</span>&nbsp;<span class="op" id="5558810">!</span><span class="ident" id="5558811">v</span><span class="op" id="5558812">.</span><span class="ident" id="5558813">CanAddr</span><span class="op" id="5558820">(</span><span class="op" id="5558821">)</span>&nbsp;<span class="op" id="5558823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558827">return</span>&nbsp;<span class="builtintype" id="5558834">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5558841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5558844">return</span>&nbsp;<span class="ident" id="5558851">decInt32Slice</span><span class="op" id="5558864">(</span><span class="ident" id="5558865">state</span><span class="op" id="5558870">,</span>&nbsp;<span class="ident" id="5558872">v</span><span class="op" id="5558873">.</span><span class="ident" id="5558874">Slice</span><span class="op" id="5558879">(</span><span class="num" id="5558880">0</span><span class="op" id="5558881">,</span>&nbsp;<span class="ident" id="5558883">v</span><span class="op" id="5558884">.</span><span class="ident" id="5558885">Len</span><span class="op" id="5558888">(</span><span class="op" id="5558889">)</span><span class="op" id="5558890">)</span><span class="op" id="5558891">,</span>&nbsp;<span class="ident" id="5558893">length</span><span class="op" id="5558899">,</span>&nbsp;<span class="ident" id="5558901">ovfl</span><span class="op" id="5558905">)</span><br>
<span class="lineno"></span><span class="op" id="5558907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5558910">func</span>&nbsp;<span class="ident" id="5558915">decInt32Slice</span><span class="op" id="5558928">(</span><span class="ident" id="5558929">state</span>&nbsp;<span class="op" id="5558935">*</span><span class="ident" id="5558936">decoderState</span><span class="op" id="5558948">,</span>&nbsp;<span class="ident" id="5558950">v</span>&nbsp;<span class="ident" id="5558952">reflect</span><span class="op" id="5558959">.</span><span class="ident" id="5558960">Value</span><span class="op" id="5558965">,</span>&nbsp;<span class="ident" id="5558967">length</span>&nbsp;<span class="builtintype" id="5558974">int</span><span class="op" id="5558977">,</span>&nbsp;<span class="ident" id="5558979">ovfl</span>&nbsp;<span class="builtintype" id="5558984">error</span><span class="op" id="5558989">)</span>&nbsp;<span class="builtintype" id="5558991">bool</span>&nbsp;<span class="op" id="5558996">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5558999">slice</span><span class="op" id="5559004">,</span>&nbsp;<span class="ident" id="5559006">ok</span>&nbsp;<span class="op" id="5559009">:=</span>&nbsp;<span class="ident" id="5559012">v</span><span class="op" id="5559013">.</span><span class="ident" id="5559014">Interface</span><span class="op" id="5559023">(</span><span class="op" id="5559024">)</span><span class="op" id="5559025">.</span><span class="op" id="5559026">(</span><span class="op" id="5559027">[</span><span class="op" id="5559028">]</span><span class="builtintype" id="5559029">int32</span><span class="op" id="5559034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559037">if</span>&nbsp;<span class="op" id="5559040">!</span><span class="ident" id="5559041">ok</span>&nbsp;<span class="op" id="5559044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5559048">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559125">return</span>&nbsp;<span class="builtintype" id="5559132">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559139">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559142">for</span>&nbsp;<span class="ident" id="5559146">i</span>&nbsp;<span class="op" id="5559148">:=</span>&nbsp;<span class="num" id="5559151">0</span><span class="op" id="5559152">;</span>&nbsp;<span class="ident" id="5559154">i</span>&nbsp;<span class="op" id="5559156">&lt;</span>&nbsp;<span class="ident" id="5559158">length</span><span class="op" id="5559164">;</span>&nbsp;<span class="ident" id="5559166">i</span><span class="op" id="5559167">++</span>&nbsp;<span class="op" id="5559170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559174">if</span>&nbsp;<span class="ident" id="5559177">state</span><span class="op" id="5559182">.</span><span class="ident" id="5559183">b</span><span class="op" id="5559184">.</span><span class="ident" id="5559185">Len</span><span class="op" id="5559188">(</span><span class="op" id="5559189">)</span>&nbsp;<span class="op" id="5559191">==</span>&nbsp;<span class="num" id="5559194">0</span>&nbsp;<span class="op" id="5559196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559201">errorf</span><span class="op" id="5559207">(</span><span class="string" id="5559208">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5559280">,</span>&nbsp;<span class="ident" id="5559282">length</span><span class="op" id="5559288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559296">x</span>&nbsp;<span class="op" id="5559298">:=</span>&nbsp;<span class="ident" id="5559301">state</span><span class="op" id="5559306">.</span><span class="ident" id="5559307">decodeInt</span><span class="op" id="5559316">(</span><span class="op" id="5559317">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559321">if</span>&nbsp;<span class="ident" id="5559324">x</span>&nbsp;<span class="op" id="5559326">&lt;</span>&nbsp;<span class="ident" id="5559328">math</span><span class="op" id="5559332">.</span><span class="ident" id="5559333">MinInt32</span>&nbsp;<span class="op" id="5559342">||</span>&nbsp;<span class="ident" id="5559345">math</span><span class="op" id="5559349">.</span><span class="ident" id="5559350">MaxInt32</span>&nbsp;<span class="op" id="5559359">&lt;</span>&nbsp;<span class="ident" id="5559361">x</span>&nbsp;<span class="op" id="5559363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559368">error_</span><span class="op" id="5559374">(</span><span class="ident" id="5559375">ovfl</span><span class="op" id="5559379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559387">slice</span><span class="op" id="5559392">[</span><span class="ident" id="5559393">i</span><span class="op" id="5559394">]</span>&nbsp;<span class="op" id="5559396">=</span>&nbsp;<span class="builtintype" id="5559398">int32</span><span class="op" id="5559403">(</span><span class="ident" id="5559404">x</span><span class="op" id="5559405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559408">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559411">return</span>&nbsp;<span class="builtintype" id="5559418">true</span><br>
<span class="lineno"></span><span class="op" id="5559423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5559426">func</span>&nbsp;<span class="ident" id="5559431">decInt64Array</span><span class="op" id="5559444">(</span><span class="ident" id="5559445">state</span>&nbsp;<span class="op" id="5559451">*</span><span class="ident" id="5559452">decoderState</span><span class="op" id="5559464">,</span>&nbsp;<span class="ident" id="5559466">v</span>&nbsp;<span class="ident" id="5559468">reflect</span><span class="op" id="5559475">.</span><span class="ident" id="5559476">Value</span><span class="op" id="5559481">,</span>&nbsp;<span class="ident" id="5559483">length</span>&nbsp;<span class="builtintype" id="5559490">int</span><span class="op" id="5559493">,</span>&nbsp;<span class="ident" id="5559495">ovfl</span>&nbsp;<span class="builtintype" id="5559500">error</span><span class="op" id="5559505">)</span>&nbsp;<span class="builtintype" id="5559507">bool</span>&nbsp;<span class="op" id="5559512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5559515">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559556">if</span>&nbsp;<span class="op" id="5559559">!</span><span class="ident" id="5559560">v</span><span class="op" id="5559561">.</span><span class="ident" id="5559562">CanAddr</span><span class="op" id="5559569">(</span><span class="op" id="5559570">)</span>&nbsp;<span class="op" id="5559572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559576">return</span>&nbsp;<span class="builtintype" id="5559583">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559593">return</span>&nbsp;<span class="ident" id="5559600">decInt64Slice</span><span class="op" id="5559613">(</span><span class="ident" id="5559614">state</span><span class="op" id="5559619">,</span>&nbsp;<span class="ident" id="5559621">v</span><span class="op" id="5559622">.</span><span class="ident" id="5559623">Slice</span><span class="op" id="5559628">(</span><span class="num" id="5559629">0</span><span class="op" id="5559630">,</span>&nbsp;<span class="ident" id="5559632">v</span><span class="op" id="5559633">.</span><span class="ident" id="5559634">Len</span><span class="op" id="5559637">(</span><span class="op" id="5559638">)</span><span class="op" id="5559639">)</span><span class="op" id="5559640">,</span>&nbsp;<span class="ident" id="5559642">length</span><span class="op" id="5559648">,</span>&nbsp;<span class="ident" id="5559650">ovfl</span><span class="op" id="5559654">)</span><br>
<span class="lineno"></span><span class="op" id="5559656">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5559659">func</span>&nbsp;<span class="ident" id="5559664">decInt64Slice</span><span class="op" id="5559677">(</span><span class="ident" id="5559678">state</span>&nbsp;<span class="op" id="5559684">*</span><span class="ident" id="5559685">decoderState</span><span class="op" id="5559697">,</span>&nbsp;<span class="ident" id="5559699">v</span>&nbsp;<span class="ident" id="5559701">reflect</span><span class="op" id="5559708">.</span><span class="ident" id="5559709">Value</span><span class="op" id="5559714">,</span>&nbsp;<span class="ident" id="5559716">length</span>&nbsp;<span class="builtintype" id="5559723">int</span><span class="op" id="5559726">,</span>&nbsp;<span class="ident" id="5559728">ovfl</span>&nbsp;<span class="builtintype" id="5559733">error</span><span class="op" id="5559738">)</span>&nbsp;<span class="builtintype" id="5559740">bool</span>&nbsp;<span class="op" id="5559745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559748">slice</span><span class="op" id="5559753">,</span>&nbsp;<span class="ident" id="5559755">ok</span>&nbsp;<span class="op" id="5559758">:=</span>&nbsp;<span class="ident" id="5559761">v</span><span class="op" id="5559762">.</span><span class="ident" id="5559763">Interface</span><span class="op" id="5559772">(</span><span class="op" id="5559773">)</span><span class="op" id="5559774">.</span><span class="op" id="5559775">(</span><span class="op" id="5559776">[</span><span class="op" id="5559777">]</span><span class="builtintype" id="5559778">int64</span><span class="op" id="5559783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559786">if</span>&nbsp;<span class="op" id="5559789">!</span><span class="ident" id="5559790">ok</span>&nbsp;<span class="op" id="5559793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5559797">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559874">return</span>&nbsp;<span class="builtintype" id="5559881">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5559888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559891">for</span>&nbsp;<span class="ident" id="5559895">i</span>&nbsp;<span class="op" id="5559897">:=</span>&nbsp;<span class="num" id="5559900">0</span><span class="op" id="5559901">;</span>&nbsp;<span class="ident" id="5559903">i</span>&nbsp;<span class="op" id="5559905">&lt;</span>&nbsp;<span class="ident" id="5559907">length</span><span class="op" id="5559913">;</span>&nbsp;<span class="ident" id="5559915">i</span><span class="op" id="5559916">++</span>&nbsp;<span class="op" id="5559919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5559923">if</span>&nbsp;<span class="ident" id="5559926">state</span><span class="op" id="5559931">.</span><span class="ident" id="5559932">b</span><span class="op" id="5559933">.</span><span class="ident" id="5559934">Len</span><span class="op" id="5559937">(</span><span class="op" id="5559938">)</span>&nbsp;<span class="op" id="5559940">==</span>&nbsp;<span class="num" id="5559943">0</span>&nbsp;<span class="op" id="5559945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5559950">errorf</span><span class="op" id="5559956">(</span><span class="string" id="5559957">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5560029">,</span>&nbsp;<span class="ident" id="5560031">length</span><span class="op" id="5560037">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560045">slice</span><span class="op" id="5560050">[</span><span class="ident" id="5560051">i</span><span class="op" id="5560052">]</span>&nbsp;<span class="op" id="5560054">=</span>&nbsp;<span class="ident" id="5560056">state</span><span class="op" id="5560061">.</span><span class="ident" id="5560062">decodeInt</span><span class="op" id="5560071">(</span><span class="op" id="5560072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560078">return</span>&nbsp;<span class="builtintype" id="5560085">true</span><br>
<span class="lineno"></span><span class="op" id="5560090">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="5560093">func</span>&nbsp;<span class="ident" id="5560098">decInt8Array</span><span class="op" id="5560110">(</span><span class="ident" id="5560111">state</span>&nbsp;<span class="op" id="5560117">*</span><span class="ident" id="5560118">decoderState</span><span class="op" id="5560130">,</span>&nbsp;<span class="ident" id="5560132">v</span>&nbsp;<span class="ident" id="5560134">reflect</span><span class="op" id="5560141">.</span><span class="ident" id="5560142">Value</span><span class="op" id="5560147">,</span>&nbsp;<span class="ident" id="5560149">length</span>&nbsp;<span class="builtintype" id="5560156">int</span><span class="op" id="5560159">,</span>&nbsp;<span class="ident" id="5560161">ovfl</span>&nbsp;<span class="builtintype" id="5560166">error</span><span class="op" id="5560171">)</span>&nbsp;<span class="builtintype" id="5560173">bool</span>&nbsp;<span class="op" id="5560178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5560181">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560222">if</span>&nbsp;<span class="op" id="5560225">!</span><span class="ident" id="5560226">v</span><span class="op" id="5560227">.</span><span class="ident" id="5560228">CanAddr</span><span class="op" id="5560235">(</span><span class="op" id="5560236">)</span>&nbsp;<span class="op" id="5560238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560242">return</span>&nbsp;<span class="builtintype" id="5560249">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560259">return</span>&nbsp;<span class="ident" id="5560266">decInt8Slice</span><span class="op" id="5560278">(</span><span class="ident" id="5560279">state</span><span class="op" id="5560284">,</span>&nbsp;<span class="ident" id="5560286">v</span><span class="op" id="5560287">.</span><span class="ident" id="5560288">Slice</span><span class="op" id="5560293">(</span><span class="num" id="5560294">0</span><span class="op" id="5560295">,</span>&nbsp;<span class="ident" id="5560297">v</span><span class="op" id="5560298">.</span><span class="ident" id="5560299">Len</span><span class="op" id="5560302">(</span><span class="op" id="5560303">)</span><span class="op" id="5560304">)</span><span class="op" id="5560305">,</span>&nbsp;<span class="ident" id="5560307">length</span><span class="op" id="5560313">,</span>&nbsp;<span class="ident" id="5560315">ovfl</span><span class="op" id="5560319">)</span><br>
<span class="lineno"></span><span class="op" id="5560321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5560324">func</span>&nbsp;<span class="ident" id="5560329">decInt8Slice</span><span class="op" id="5560341">(</span><span class="ident" id="5560342">state</span>&nbsp;<span class="op" id="5560348">*</span><span class="ident" id="5560349">decoderState</span><span class="op" id="5560361">,</span>&nbsp;<span class="ident" id="5560363">v</span>&nbsp;<span class="ident" id="5560365">reflect</span><span class="op" id="5560372">.</span><span class="ident" id="5560373">Value</span><span class="op" id="5560378">,</span>&nbsp;<span class="ident" id="5560380">length</span>&nbsp;<span class="builtintype" id="5560387">int</span><span class="op" id="5560390">,</span>&nbsp;<span class="ident" id="5560392">ovfl</span>&nbsp;<span class="builtintype" id="5560397">error</span><span class="op" id="5560402">)</span>&nbsp;<span class="builtintype" id="5560404">bool</span>&nbsp;<span class="op" id="5560409">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560412">slice</span><span class="op" id="5560417">,</span>&nbsp;<span class="ident" id="5560419">ok</span>&nbsp;<span class="op" id="5560422">:=</span>&nbsp;<span class="ident" id="5560425">v</span><span class="op" id="5560426">.</span><span class="ident" id="5560427">Interface</span><span class="op" id="5560436">(</span><span class="op" id="5560437">)</span><span class="op" id="5560438">.</span><span class="op" id="5560439">(</span><span class="op" id="5560440">[</span><span class="op" id="5560441">]</span><span class="builtintype" id="5560442">int8</span><span class="op" id="5560446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560449">if</span>&nbsp;<span class="op" id="5560452">!</span><span class="ident" id="5560453">ok</span>&nbsp;<span class="op" id="5560456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5560460">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560535">return</span>&nbsp;<span class="builtintype" id="5560542">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560549">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560552">for</span>&nbsp;<span class="ident" id="5560556">i</span>&nbsp;<span class="op" id="5560558">:=</span>&nbsp;<span class="num" id="5560561">0</span><span class="op" id="5560562">;</span>&nbsp;<span class="ident" id="5560564">i</span>&nbsp;<span class="op" id="5560566">&lt;</span>&nbsp;<span class="ident" id="5560568">length</span><span class="op" id="5560574">;</span>&nbsp;<span class="ident" id="5560576">i</span><span class="op" id="5560577">++</span>&nbsp;<span class="op" id="5560580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560584">if</span>&nbsp;<span class="ident" id="5560587">state</span><span class="op" id="5560592">.</span><span class="ident" id="5560593">b</span><span class="op" id="5560594">.</span><span class="ident" id="5560595">Len</span><span class="op" id="5560598">(</span><span class="op" id="5560599">)</span>&nbsp;<span class="op" id="5560601">==</span>&nbsp;<span class="num" id="5560604">0</span>&nbsp;<span class="op" id="5560606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560611">errorf</span><span class="op" id="5560617">(</span><span class="string" id="5560618">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5560689">,</span>&nbsp;<span class="ident" id="5560691">length</span><span class="op" id="5560697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560705">x</span>&nbsp;<span class="op" id="5560707">:=</span>&nbsp;<span class="ident" id="5560710">state</span><span class="op" id="5560715">.</span><span class="ident" id="5560716">decodeInt</span><span class="op" id="5560725">(</span><span class="op" id="5560726">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560730">if</span>&nbsp;<span class="ident" id="5560733">x</span>&nbsp;<span class="op" id="5560735">&lt;</span>&nbsp;<span class="ident" id="5560737">math</span><span class="op" id="5560741">.</span><span class="ident" id="5560742">MinInt8</span>&nbsp;<span class="op" id="5560750">||</span>&nbsp;<span class="ident" id="5560753">math</span><span class="op" id="5560757">.</span><span class="ident" id="5560758">MaxInt8</span>&nbsp;<span class="op" id="5560766">&lt;</span>&nbsp;<span class="ident" id="5560768">x</span>&nbsp;<span class="op" id="5560770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560775">error_</span><span class="op" id="5560781">(</span><span class="ident" id="5560782">ovfl</span><span class="op" id="5560786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5560794">slice</span><span class="op" id="5560799">[</span><span class="ident" id="5560800">i</span><span class="op" id="5560801">]</span>&nbsp;<span class="op" id="5560803">=</span>&nbsp;<span class="builtintype" id="5560805">int8</span><span class="op" id="5560809">(</span><span class="ident" id="5560810">x</span><span class="op" id="5560811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560814">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560817">return</span>&nbsp;<span class="builtintype" id="5560824">true</span><br>
<span class="lineno"></span><span class="op" id="5560829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5560832">func</span>&nbsp;<span class="ident" id="5560837">decStringArray</span><span class="op" id="5560851">(</span><span class="ident" id="5560852">state</span>&nbsp;<span class="op" id="5560858">*</span><span class="ident" id="5560859">decoderState</span><span class="op" id="5560871">,</span>&nbsp;<span class="ident" id="5560873">v</span>&nbsp;<span class="ident" id="5560875">reflect</span><span class="op" id="5560882">.</span><span class="ident" id="5560883">Value</span><span class="op" id="5560888">,</span>&nbsp;<span class="ident" id="5560890">length</span>&nbsp;<span class="builtintype" id="5560897">int</span><span class="op" id="5560900">,</span>&nbsp;<span class="ident" id="5560902">ovfl</span>&nbsp;<span class="builtintype" id="5560907">error</span><span class="op" id="5560912">)</span>&nbsp;<span class="builtintype" id="5560914">bool</span>&nbsp;<span class="op" id="5560919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5560922">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560963">if</span>&nbsp;<span class="op" id="5560966">!</span><span class="ident" id="5560967">v</span><span class="op" id="5560968">.</span><span class="ident" id="5560969">CanAddr</span><span class="op" id="5560976">(</span><span class="op" id="5560977">)</span>&nbsp;<span class="op" id="5560979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5560983">return</span>&nbsp;<span class="builtintype" id="5560990">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5560997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561000">return</span>&nbsp;<span class="ident" id="5561007">decStringSlice</span><span class="op" id="5561021">(</span><span class="ident" id="5561022">state</span><span class="op" id="5561027">,</span>&nbsp;<span class="ident" id="5561029">v</span><span class="op" id="5561030">.</span><span class="ident" id="5561031">Slice</span><span class="op" id="5561036">(</span><span class="num" id="5561037">0</span><span class="op" id="5561038">,</span>&nbsp;<span class="ident" id="5561040">v</span><span class="op" id="5561041">.</span><span class="ident" id="5561042">Len</span><span class="op" id="5561045">(</span><span class="op" id="5561046">)</span><span class="op" id="5561047">)</span><span class="op" id="5561048">,</span>&nbsp;<span class="ident" id="5561050">length</span><span class="op" id="5561056">,</span>&nbsp;<span class="ident" id="5561058">ovfl</span><span class="op" id="5561062">)</span><br>
<span class="lineno"></span><span class="op" id="5561064">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="5561067">func</span>&nbsp;<span class="ident" id="5561072">decStringSlice</span><span class="op" id="5561086">(</span><span class="ident" id="5561087">state</span>&nbsp;<span class="op" id="5561093">*</span><span class="ident" id="5561094">decoderState</span><span class="op" id="5561106">,</span>&nbsp;<span class="ident" id="5561108">v</span>&nbsp;<span class="ident" id="5561110">reflect</span><span class="op" id="5561117">.</span><span class="ident" id="5561118">Value</span><span class="op" id="5561123">,</span>&nbsp;<span class="ident" id="5561125">length</span>&nbsp;<span class="builtintype" id="5561132">int</span><span class="op" id="5561135">,</span>&nbsp;<span class="ident" id="5561137">ovfl</span>&nbsp;<span class="builtintype" id="5561142">error</span><span class="op" id="5561147">)</span>&nbsp;<span class="builtintype" id="5561149">bool</span>&nbsp;<span class="op" id="5561154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561157">slice</span><span class="op" id="5561162">,</span>&nbsp;<span class="ident" id="5561164">ok</span>&nbsp;<span class="op" id="5561167">:=</span>&nbsp;<span class="ident" id="5561170">v</span><span class="op" id="5561171">.</span><span class="ident" id="5561172">Interface</span><span class="op" id="5561181">(</span><span class="op" id="5561182">)</span><span class="op" id="5561183">.</span><span class="op" id="5561184">(</span><span class="op" id="5561185">[</span><span class="op" id="5561186">]</span><span class="builtintype" id="5561187">string</span><span class="op" id="5561193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561196">if</span>&nbsp;<span class="op" id="5561199">!</span><span class="ident" id="5561200">ok</span>&nbsp;<span class="op" id="5561203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5561207">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561286">return</span>&nbsp;<span class="builtintype" id="5561293">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561303">for</span>&nbsp;<span class="ident" id="5561307">i</span>&nbsp;<span class="op" id="5561309">:=</span>&nbsp;<span class="num" id="5561312">0</span><span class="op" id="5561313">;</span>&nbsp;<span class="ident" id="5561315">i</span>&nbsp;<span class="op" id="5561317">&lt;</span>&nbsp;<span class="ident" id="5561319">length</span><span class="op" id="5561325">;</span>&nbsp;<span class="ident" id="5561327">i</span><span class="op" id="5561328">++</span>&nbsp;<span class="op" id="5561331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561335">if</span>&nbsp;<span class="ident" id="5561338">state</span><span class="op" id="5561343">.</span><span class="ident" id="5561344">b</span><span class="op" id="5561345">.</span><span class="ident" id="5561346">Len</span><span class="op" id="5561349">(</span><span class="op" id="5561350">)</span>&nbsp;<span class="op" id="5561352">==</span>&nbsp;<span class="num" id="5561355">0</span>&nbsp;<span class="op" id="5561357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561362">errorf</span><span class="op" id="5561368">(</span><span class="string" id="5561369">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5561442">,</span>&nbsp;<span class="ident" id="5561444">length</span><span class="op" id="5561450">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561458">u</span>&nbsp;<span class="op" id="5561460">:=</span>&nbsp;<span class="ident" id="5561463">state</span><span class="op" id="5561468">.</span><span class="ident" id="5561469">decodeUint</span><span class="op" id="5561479">(</span><span class="op" id="5561480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561484">n</span>&nbsp;<span class="op" id="5561486">:=</span>&nbsp;<span class="builtintype" id="5561489">int</span><span class="op" id="5561492">(</span><span class="ident" id="5561493">u</span><span class="op" id="5561494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561498">if</span>&nbsp;<span class="ident" id="5561501">n</span>&nbsp;<span class="op" id="5561503">&lt;</span>&nbsp;<span class="num" id="5561505">0</span>&nbsp;<span class="op" id="5561507">||</span>&nbsp;<span class="builtintype" id="5561510">uint64</span><span class="op" id="5561516">(</span><span class="ident" id="5561517">n</span><span class="op" id="5561518">)</span>&nbsp;<span class="op" id="5561520">!=</span>&nbsp;<span class="ident" id="5561523">u</span>&nbsp;<span class="op" id="5561525">||</span>&nbsp;<span class="ident" id="5561528">n</span>&nbsp;<span class="op" id="5561530">&gt;</span>&nbsp;<span class="ident" id="5561532">state</span><span class="op" id="5561537">.</span><span class="ident" id="5561538">b</span><span class="op" id="5561539">.</span><span class="ident" id="5561540">Len</span><span class="op" id="5561543">(</span><span class="op" id="5561544">)</span>&nbsp;<span class="op" id="5561546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561551">errorf</span><span class="op" id="5561557">(</span><span class="string" id="5561558">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5561606">,</span>&nbsp;<span class="ident" id="5561608">u</span><span class="op" id="5561609">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561617">if</span>&nbsp;<span class="ident" id="5561620">n</span>&nbsp;<span class="op" id="5561622">&gt;</span>&nbsp;<span class="ident" id="5561624">state</span><span class="op" id="5561629">.</span><span class="ident" id="5561630">b</span><span class="op" id="5561631">.</span><span class="ident" id="5561632">Len</span><span class="op" id="5561635">(</span><span class="op" id="5561636">)</span>&nbsp;<span class="op" id="5561638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561643">errorf</span><span class="op" id="5561649">(</span><span class="string" id="5561650">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5561687">,</span>&nbsp;<span class="ident" id="5561689">n</span><span class="op" id="5561690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5561698">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561718">data</span>&nbsp;<span class="op" id="5561723">:=</span>&nbsp;<span class="builtinfunc" id="5561726">make</span><span class="op" id="5561730">(</span><span class="op" id="5561731">[</span><span class="op" id="5561732">]</span><span class="builtintype" id="5561733">byte</span><span class="op" id="5561737">,</span>&nbsp;<span class="ident" id="5561739">n</span><span class="op" id="5561740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561744">if</span>&nbsp;<span class="ident" id="5561747">_</span><span class="op" id="5561748">,</span>&nbsp;<span class="ident" id="5561750">err</span>&nbsp;<span class="op" id="5561754">:=</span>&nbsp;<span class="ident" id="5561757">state</span><span class="op" id="5561762">.</span><span class="ident" id="5561763">b</span><span class="op" id="5561764">.</span><span class="ident" id="5561765">Read</span><span class="op" id="5561769">(</span><span class="ident" id="5561770">data</span><span class="op" id="5561774">)</span><span class="op" id="5561775">;</span>&nbsp;<span class="ident" id="5561777">err</span>&nbsp;<span class="op" id="5561781">!=</span>&nbsp;<span class="builtintype" id="5561784">nil</span>&nbsp;<span class="op" id="5561788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561793">errorf</span><span class="op" id="5561799">(</span><span class="string" id="5561800">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="5561827">,</span>&nbsp;<span class="ident" id="5561829">err</span><span class="op" id="5561832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5561840">slice</span><span class="op" id="5561845">[</span><span class="ident" id="5561846">i</span><span class="op" id="5561847">]</span>&nbsp;<span class="op" id="5561849">=</span>&nbsp;<span class="builtintype" id="5561851">string</span><span class="op" id="5561857">(</span><span class="ident" id="5561858">data</span><span class="op" id="5561862">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5561865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5561868">return</span>&nbsp;<span class="builtintype" id="5561875">true</span><br>
<span class="lineno"></span><span class="op" id="5561880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5561883">func</span>&nbsp;<span class="ident" id="5561888">decUintArray</span><span class="op" id="5561900">(</span><span class="ident" id="5561901">state</span>&nbsp;<span class="op" id="5561907">*</span><span class="ident" id="5561908">decoderState</span><span class="op" id="5561920">,</span>&nbsp;<span class="ident" id="5561922">v</span>&nbsp;<span class="ident" id="5561924">reflect</span><span class="op" id="5561931">.</span><span class="ident" id="5561932">Value</span><span class="op" id="5561937">,</span>&nbsp;<span class="ident" id="5561939">length</span>&nbsp;<span class="builtintype" id="5561946">int</span><span class="op" id="5561949">,</span>&nbsp;<span class="ident" id="5561951">ovfl</span>&nbsp;<span class="builtintype" id="5561956">error</span><span class="op" id="5561961">)</span>&nbsp;<span class="builtintype" id="5561963">bool</span>&nbsp;<span class="op" id="5561968">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5561971">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562012">if</span>&nbsp;<span class="op" id="5562015">!</span><span class="ident" id="5562016">v</span><span class="op" id="5562017">.</span><span class="ident" id="5562018">CanAddr</span><span class="op" id="5562025">(</span><span class="op" id="5562026">)</span>&nbsp;<span class="op" id="5562028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562032">return</span>&nbsp;<span class="builtintype" id="5562039">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5562046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562049">return</span>&nbsp;<span class="ident" id="5562056">decUintSlice</span><span class="op" id="5562068">(</span><span class="ident" id="5562069">state</span><span class="op" id="5562074">,</span>&nbsp;<span class="ident" id="5562076">v</span><span class="op" id="5562077">.</span><span class="ident" id="5562078">Slice</span><span class="op" id="5562083">(</span><span class="num" id="5562084">0</span><span class="op" id="5562085">,</span>&nbsp;<span class="ident" id="5562087">v</span><span class="op" id="5562088">.</span><span class="ident" id="5562089">Len</span><span class="op" id="5562092">(</span><span class="op" id="5562093">)</span><span class="op" id="5562094">)</span><span class="op" id="5562095">,</span>&nbsp;<span class="ident" id="5562097">length</span><span class="op" id="5562103">,</span>&nbsp;<span class="ident" id="5562105">ovfl</span><span class="op" id="5562109">)</span><br>
<span class="lineno">345</span><span class="op" id="5562111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5562114">func</span>&nbsp;<span class="ident" id="5562119">decUintSlice</span><span class="op" id="5562131">(</span><span class="ident" id="5562132">state</span>&nbsp;<span class="op" id="5562138">*</span><span class="ident" id="5562139">decoderState</span><span class="op" id="5562151">,</span>&nbsp;<span class="ident" id="5562153">v</span>&nbsp;<span class="ident" id="5562155">reflect</span><span class="op" id="5562162">.</span><span class="ident" id="5562163">Value</span><span class="op" id="5562168">,</span>&nbsp;<span class="ident" id="5562170">length</span>&nbsp;<span class="builtintype" id="5562177">int</span><span class="op" id="5562180">,</span>&nbsp;<span class="ident" id="5562182">ovfl</span>&nbsp;<span class="builtintype" id="5562187">error</span><span class="op" id="5562192">)</span>&nbsp;<span class="builtintype" id="5562194">bool</span>&nbsp;<span class="op" id="5562199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5562202">slice</span><span class="op" id="5562207">,</span>&nbsp;<span class="ident" id="5562209">ok</span>&nbsp;<span class="op" id="5562212">:=</span>&nbsp;<span class="ident" id="5562215">v</span><span class="op" id="5562216">.</span><span class="ident" id="5562217">Interface</span><span class="op" id="5562226">(</span><span class="op" id="5562227">)</span><span class="op" id="5562228">.</span><span class="op" id="5562229">(</span><span class="op" id="5562230">[</span><span class="op" id="5562231">]</span><span class="builtintype" id="5562232">uint</span><span class="op" id="5562236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562239">if</span>&nbsp;<span class="op" id="5562242">!</span><span class="ident" id="5562243">ok</span>&nbsp;<span class="op" id="5562246">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5562250">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562325">return</span>&nbsp;<span class="builtintype" id="5562332">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5562339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562342">for</span>&nbsp;<span class="ident" id="5562346">i</span>&nbsp;<span class="op" id="5562348">:=</span>&nbsp;<span class="num" id="5562351">0</span><span class="op" id="5562352">;</span>&nbsp;<span class="ident" id="5562354">i</span>&nbsp;<span class="op" id="5562356">&lt;</span>&nbsp;<span class="ident" id="5562358">length</span><span class="op" id="5562364">;</span>&nbsp;<span class="ident" id="5562366">i</span><span class="op" id="5562367">++</span>&nbsp;<span class="op" id="5562370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562374">if</span>&nbsp;<span class="ident" id="5562377">state</span><span class="op" id="5562382">.</span><span class="ident" id="5562383">b</span><span class="op" id="5562384">.</span><span class="ident" id="5562385">Len</span><span class="op" id="5562388">(</span><span class="op" id="5562389">)</span>&nbsp;<span class="op" id="5562391">==</span>&nbsp;<span class="num" id="5562394">0</span>&nbsp;<span class="op" id="5562396">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5562401">errorf</span><span class="op" id="5562407">(</span><span class="string" id="5562408">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5562479">,</span>&nbsp;<span class="ident" id="5562481">length</span><span class="op" id="5562487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5562491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5562495">x</span>&nbsp;<span class="op" id="5562497">:=</span>&nbsp;<span class="ident" id="5562500">state</span><span class="op" id="5562505">.</span><span class="ident" id="5562506">decodeUint</span><span class="op" id="5562516">(</span><span class="op" id="5562517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5562521">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5562576">slice</span><span class="op" id="5562581">[</span><span class="ident" id="5562582">i</span><span class="op" id="5562583">]</span>&nbsp;<span class="op" id="5562585">=</span>&nbsp;<span class="builtintype" id="5562587">uint</span><span class="op" id="5562591">(</span><span class="ident" id="5562592">x</span><span class="op" id="5562593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5562596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562599">return</span>&nbsp;<span class="builtintype" id="5562606">true</span><br>
<span class="lineno"></span><span class="op" id="5562611">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="5562614">func</span>&nbsp;<span class="ident" id="5562619">decUint16Array</span><span class="op" id="5562633">(</span><span class="ident" id="5562634">state</span>&nbsp;<span class="op" id="5562640">*</span><span class="ident" id="5562641">decoderState</span><span class="op" id="5562653">,</span>&nbsp;<span class="ident" id="5562655">v</span>&nbsp;<span class="ident" id="5562657">reflect</span><span class="op" id="5562664">.</span><span class="ident" id="5562665">Value</span><span class="op" id="5562670">,</span>&nbsp;<span class="ident" id="5562672">length</span>&nbsp;<span class="builtintype" id="5562679">int</span><span class="op" id="5562682">,</span>&nbsp;<span class="ident" id="5562684">ovfl</span>&nbsp;<span class="builtintype" id="5562689">error</span><span class="op" id="5562694">)</span>&nbsp;<span class="builtintype" id="5562696">bool</span>&nbsp;<span class="op" id="5562701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5562704">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562745">if</span>&nbsp;<span class="op" id="5562748">!</span><span class="ident" id="5562749">v</span><span class="op" id="5562750">.</span><span class="ident" id="5562751">CanAddr</span><span class="op" id="5562758">(</span><span class="op" id="5562759">)</span>&nbsp;<span class="op" id="5562761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562765">return</span>&nbsp;<span class="builtintype" id="5562772">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5562779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562782">return</span>&nbsp;<span class="ident" id="5562789">decUint16Slice</span><span class="op" id="5562803">(</span><span class="ident" id="5562804">state</span><span class="op" id="5562809">,</span>&nbsp;<span class="ident" id="5562811">v</span><span class="op" id="5562812">.</span><span class="ident" id="5562813">Slice</span><span class="op" id="5562818">(</span><span class="num" id="5562819">0</span><span class="op" id="5562820">,</span>&nbsp;<span class="ident" id="5562822">v</span><span class="op" id="5562823">.</span><span class="ident" id="5562824">Len</span><span class="op" id="5562827">(</span><span class="op" id="5562828">)</span><span class="op" id="5562829">)</span><span class="op" id="5562830">,</span>&nbsp;<span class="ident" id="5562832">length</span><span class="op" id="5562838">,</span>&nbsp;<span class="ident" id="5562840">ovfl</span><span class="op" id="5562844">)</span><br>
<span class="lineno"></span><span class="op" id="5562846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5562849">func</span>&nbsp;<span class="ident" id="5562854">decUint16Slice</span><span class="op" id="5562868">(</span><span class="ident" id="5562869">state</span>&nbsp;<span class="op" id="5562875">*</span><span class="ident" id="5562876">decoderState</span><span class="op" id="5562888">,</span>&nbsp;<span class="ident" id="5562890">v</span>&nbsp;<span class="ident" id="5562892">reflect</span><span class="op" id="5562899">.</span><span class="ident" id="5562900">Value</span><span class="op" id="5562905">,</span>&nbsp;<span class="ident" id="5562907">length</span>&nbsp;<span class="builtintype" id="5562914">int</span><span class="op" id="5562917">,</span>&nbsp;<span class="ident" id="5562919">ovfl</span>&nbsp;<span class="builtintype" id="5562924">error</span><span class="op" id="5562929">)</span>&nbsp;<span class="builtintype" id="5562931">bool</span>&nbsp;<span class="op" id="5562936">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5562939">slice</span><span class="op" id="5562944">,</span>&nbsp;<span class="ident" id="5562946">ok</span>&nbsp;<span class="op" id="5562949">:=</span>&nbsp;<span class="ident" id="5562952">v</span><span class="op" id="5562953">.</span><span class="ident" id="5562954">Interface</span><span class="op" id="5562963">(</span><span class="op" id="5562964">)</span><span class="op" id="5562965">.</span><span class="op" id="5562966">(</span><span class="op" id="5562967">[</span><span class="op" id="5562968">]</span><span class="builtintype" id="5562969">uint16</span><span class="op" id="5562975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5562978">if</span>&nbsp;<span class="op" id="5562981">!</span><span class="ident" id="5562982">ok</span>&nbsp;<span class="op" id="5562985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5562989">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563068">return</span>&nbsp;<span class="builtintype" id="5563075">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563082">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563085">for</span>&nbsp;<span class="ident" id="5563089">i</span>&nbsp;<span class="op" id="5563091">:=</span>&nbsp;<span class="num" id="5563094">0</span><span class="op" id="5563095">;</span>&nbsp;<span class="ident" id="5563097">i</span>&nbsp;<span class="op" id="5563099">&lt;</span>&nbsp;<span class="ident" id="5563101">length</span><span class="op" id="5563107">;</span>&nbsp;<span class="ident" id="5563109">i</span><span class="op" id="5563110">++</span>&nbsp;<span class="op" id="5563113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563117">if</span>&nbsp;<span class="ident" id="5563120">state</span><span class="op" id="5563125">.</span><span class="ident" id="5563126">b</span><span class="op" id="5563127">.</span><span class="ident" id="5563128">Len</span><span class="op" id="5563131">(</span><span class="op" id="5563132">)</span>&nbsp;<span class="op" id="5563134">==</span>&nbsp;<span class="num" id="5563137">0</span>&nbsp;<span class="op" id="5563139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563144">errorf</span><span class="op" id="5563150">(</span><span class="string" id="5563151">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5563224">,</span>&nbsp;<span class="ident" id="5563226">length</span><span class="op" id="5563232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563240">x</span>&nbsp;<span class="op" id="5563242">:=</span>&nbsp;<span class="ident" id="5563245">state</span><span class="op" id="5563250">.</span><span class="ident" id="5563251">decodeUint</span><span class="op" id="5563261">(</span><span class="op" id="5563262">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563266">if</span>&nbsp;<span class="ident" id="5563269">math</span><span class="op" id="5563273">.</span><span class="ident" id="5563274">MaxUint16</span>&nbsp;<span class="op" id="5563284">&lt;</span>&nbsp;<span class="ident" id="5563286">x</span>&nbsp;<span class="op" id="5563288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563293">error_</span><span class="op" id="5563299">(</span><span class="ident" id="5563300">ovfl</span><span class="op" id="5563304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563312">slice</span><span class="op" id="5563317">[</span><span class="ident" id="5563318">i</span><span class="op" id="5563319">]</span>&nbsp;<span class="op" id="5563321">=</span>&nbsp;<span class="builtintype" id="5563323">uint16</span><span class="op" id="5563329">(</span><span class="ident" id="5563330">x</span><span class="op" id="5563331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563334">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563337">return</span>&nbsp;<span class="builtintype" id="5563344">true</span><br>
<span class="lineno"></span><span class="op" id="5563349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5563352">func</span>&nbsp;<span class="ident" id="5563357">decUint32Array</span><span class="op" id="5563371">(</span><span class="ident" id="5563372">state</span>&nbsp;<span class="op" id="5563378">*</span><span class="ident" id="5563379">decoderState</span><span class="op" id="5563391">,</span>&nbsp;<span class="ident" id="5563393">v</span>&nbsp;<span class="ident" id="5563395">reflect</span><span class="op" id="5563402">.</span><span class="ident" id="5563403">Value</span><span class="op" id="5563408">,</span>&nbsp;<span class="ident" id="5563410">length</span>&nbsp;<span class="builtintype" id="5563417">int</span><span class="op" id="5563420">,</span>&nbsp;<span class="ident" id="5563422">ovfl</span>&nbsp;<span class="builtintype" id="5563427">error</span><span class="op" id="5563432">)</span>&nbsp;<span class="builtintype" id="5563434">bool</span>&nbsp;<span class="op" id="5563439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5563442">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563483">if</span>&nbsp;<span class="op" id="5563486">!</span><span class="ident" id="5563487">v</span><span class="op" id="5563488">.</span><span class="ident" id="5563489">CanAddr</span><span class="op" id="5563496">(</span><span class="op" id="5563497">)</span>&nbsp;<span class="op" id="5563499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563503">return</span>&nbsp;<span class="builtintype" id="5563510">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563520">return</span>&nbsp;<span class="ident" id="5563527">decUint32Slice</span><span class="op" id="5563541">(</span><span class="ident" id="5563542">state</span><span class="op" id="5563547">,</span>&nbsp;<span class="ident" id="5563549">v</span><span class="op" id="5563550">.</span><span class="ident" id="5563551">Slice</span><span class="op" id="5563556">(</span><span class="num" id="5563557">0</span><span class="op" id="5563558">,</span>&nbsp;<span class="ident" id="5563560">v</span><span class="op" id="5563561">.</span><span class="ident" id="5563562">Len</span><span class="op" id="5563565">(</span><span class="op" id="5563566">)</span><span class="op" id="5563567">)</span><span class="op" id="5563568">,</span>&nbsp;<span class="ident" id="5563570">length</span><span class="op" id="5563576">,</span>&nbsp;<span class="ident" id="5563578">ovfl</span><span class="op" id="5563582">)</span><br>
<span class="lineno"></span><span class="op" id="5563584">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="5563587">func</span>&nbsp;<span class="ident" id="5563592">decUint32Slice</span><span class="op" id="5563606">(</span><span class="ident" id="5563607">state</span>&nbsp;<span class="op" id="5563613">*</span><span class="ident" id="5563614">decoderState</span><span class="op" id="5563626">,</span>&nbsp;<span class="ident" id="5563628">v</span>&nbsp;<span class="ident" id="5563630">reflect</span><span class="op" id="5563637">.</span><span class="ident" id="5563638">Value</span><span class="op" id="5563643">,</span>&nbsp;<span class="ident" id="5563645">length</span>&nbsp;<span class="builtintype" id="5563652">int</span><span class="op" id="5563655">,</span>&nbsp;<span class="ident" id="5563657">ovfl</span>&nbsp;<span class="builtintype" id="5563662">error</span><span class="op" id="5563667">)</span>&nbsp;<span class="builtintype" id="5563669">bool</span>&nbsp;<span class="op" id="5563674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563677">slice</span><span class="op" id="5563682">,</span>&nbsp;<span class="ident" id="5563684">ok</span>&nbsp;<span class="op" id="5563687">:=</span>&nbsp;<span class="ident" id="5563690">v</span><span class="op" id="5563691">.</span><span class="ident" id="5563692">Interface</span><span class="op" id="5563701">(</span><span class="op" id="5563702">)</span><span class="op" id="5563703">.</span><span class="op" id="5563704">(</span><span class="op" id="5563705">[</span><span class="op" id="5563706">]</span><span class="builtintype" id="5563707">uint32</span><span class="op" id="5563713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563716">if</span>&nbsp;<span class="op" id="5563719">!</span><span class="ident" id="5563720">ok</span>&nbsp;<span class="op" id="5563723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5563727">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563806">return</span>&nbsp;<span class="builtintype" id="5563813">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563823">for</span>&nbsp;<span class="ident" id="5563827">i</span>&nbsp;<span class="op" id="5563829">:=</span>&nbsp;<span class="num" id="5563832">0</span><span class="op" id="5563833">;</span>&nbsp;<span class="ident" id="5563835">i</span>&nbsp;<span class="op" id="5563837">&lt;</span>&nbsp;<span class="ident" id="5563839">length</span><span class="op" id="5563845">;</span>&nbsp;<span class="ident" id="5563847">i</span><span class="op" id="5563848">++</span>&nbsp;<span class="op" id="5563851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5563855">if</span>&nbsp;<span class="ident" id="5563858">state</span><span class="op" id="5563863">.</span><span class="ident" id="5563864">b</span><span class="op" id="5563865">.</span><span class="ident" id="5563866">Len</span><span class="op" id="5563869">(</span><span class="op" id="5563870">)</span>&nbsp;<span class="op" id="5563872">==</span>&nbsp;<span class="num" id="5563875">0</span>&nbsp;<span class="op" id="5563877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563882">errorf</span><span class="op" id="5563888">(</span><span class="string" id="5563889">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5563962">,</span>&nbsp;<span class="ident" id="5563964">length</span><span class="op" id="5563970">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5563974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5563978">x</span>&nbsp;<span class="op" id="5563980">:=</span>&nbsp;<span class="ident" id="5563983">state</span><span class="op" id="5563988">.</span><span class="ident" id="5563989">decodeUint</span><span class="op" id="5563999">(</span><span class="op" id="5564000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564004">if</span>&nbsp;<span class="ident" id="5564007">math</span><span class="op" id="5564011">.</span><span class="ident" id="5564012">MaxUint32</span>&nbsp;<span class="op" id="5564022">&lt;</span>&nbsp;<span class="ident" id="5564024">x</span>&nbsp;<span class="op" id="5564026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5564031">error_</span><span class="op" id="5564037">(</span><span class="ident" id="5564038">ovfl</span><span class="op" id="5564042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564046">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5564050">slice</span><span class="op" id="5564055">[</span><span class="ident" id="5564056">i</span><span class="op" id="5564057">]</span>&nbsp;<span class="op" id="5564059">=</span>&nbsp;<span class="builtintype" id="5564061">uint32</span><span class="op" id="5564067">(</span><span class="ident" id="5564068">x</span><span class="op" id="5564069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564075">return</span>&nbsp;<span class="builtintype" id="5564082">true</span><br>
<span class="lineno"></span><span class="op" id="5564087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="5564090">func</span>&nbsp;<span class="ident" id="5564095">decUint64Array</span><span class="op" id="5564109">(</span><span class="ident" id="5564110">state</span>&nbsp;<span class="op" id="5564116">*</span><span class="ident" id="5564117">decoderState</span><span class="op" id="5564129">,</span>&nbsp;<span class="ident" id="5564131">v</span>&nbsp;<span class="ident" id="5564133">reflect</span><span class="op" id="5564140">.</span><span class="ident" id="5564141">Value</span><span class="op" id="5564146">,</span>&nbsp;<span class="ident" id="5564148">length</span>&nbsp;<span class="builtintype" id="5564155">int</span><span class="op" id="5564158">,</span>&nbsp;<span class="ident" id="5564160">ovfl</span>&nbsp;<span class="builtintype" id="5564165">error</span><span class="op" id="5564170">)</span>&nbsp;<span class="builtintype" id="5564172">bool</span>&nbsp;<span class="op" id="5564177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5564180">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564221">if</span>&nbsp;<span class="op" id="5564224">!</span><span class="ident" id="5564225">v</span><span class="op" id="5564226">.</span><span class="ident" id="5564227">CanAddr</span><span class="op" id="5564234">(</span><span class="op" id="5564235">)</span>&nbsp;<span class="op" id="5564237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564241">return</span>&nbsp;<span class="builtintype" id="5564248">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564255">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564258">return</span>&nbsp;<span class="ident" id="5564265">decUint64Slice</span><span class="op" id="5564279">(</span><span class="ident" id="5564280">state</span><span class="op" id="5564285">,</span>&nbsp;<span class="ident" id="5564287">v</span><span class="op" id="5564288">.</span><span class="ident" id="5564289">Slice</span><span class="op" id="5564294">(</span><span class="num" id="5564295">0</span><span class="op" id="5564296">,</span>&nbsp;<span class="ident" id="5564298">v</span><span class="op" id="5564299">.</span><span class="ident" id="5564300">Len</span><span class="op" id="5564303">(</span><span class="op" id="5564304">)</span><span class="op" id="5564305">)</span><span class="op" id="5564306">,</span>&nbsp;<span class="ident" id="5564308">length</span><span class="op" id="5564314">,</span>&nbsp;<span class="ident" id="5564316">ovfl</span><span class="op" id="5564320">)</span><br>
<span class="lineno"></span><span class="op" id="5564322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5564325">func</span>&nbsp;<span class="ident" id="5564330">decUint64Slice</span><span class="op" id="5564344">(</span><span class="ident" id="5564345">state</span>&nbsp;<span class="op" id="5564351">*</span><span class="ident" id="5564352">decoderState</span><span class="op" id="5564364">,</span>&nbsp;<span class="ident" id="5564366">v</span>&nbsp;<span class="ident" id="5564368">reflect</span><span class="op" id="5564375">.</span><span class="ident" id="5564376">Value</span><span class="op" id="5564381">,</span>&nbsp;<span class="ident" id="5564383">length</span>&nbsp;<span class="builtintype" id="5564390">int</span><span class="op" id="5564393">,</span>&nbsp;<span class="ident" id="5564395">ovfl</span>&nbsp;<span class="builtintype" id="5564400">error</span><span class="op" id="5564405">)</span>&nbsp;<span class="builtintype" id="5564407">bool</span>&nbsp;<span class="op" id="5564412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5564415">slice</span><span class="op" id="5564420">,</span>&nbsp;<span class="ident" id="5564422">ok</span>&nbsp;<span class="op" id="5564425">:=</span>&nbsp;<span class="ident" id="5564428">v</span><span class="op" id="5564429">.</span><span class="ident" id="5564430">Interface</span><span class="op" id="5564439">(</span><span class="op" id="5564440">)</span><span class="op" id="5564441">.</span><span class="op" id="5564442">(</span><span class="op" id="5564443">[</span><span class="op" id="5564444">]</span><span class="builtintype" id="5564445">uint64</span><span class="op" id="5564451">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564454">if</span>&nbsp;<span class="op" id="5564457">!</span><span class="ident" id="5564458">ok</span>&nbsp;<span class="op" id="5564461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5564465">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564544">return</span>&nbsp;<span class="builtintype" id="5564551">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564561">for</span>&nbsp;<span class="ident" id="5564565">i</span>&nbsp;<span class="op" id="5564567">:=</span>&nbsp;<span class="num" id="5564570">0</span><span class="op" id="5564571">;</span>&nbsp;<span class="ident" id="5564573">i</span>&nbsp;<span class="op" id="5564575">&lt;</span>&nbsp;<span class="ident" id="5564577">length</span><span class="op" id="5564583">;</span>&nbsp;<span class="ident" id="5564585">i</span><span class="op" id="5564586">++</span>&nbsp;<span class="op" id="5564589">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564593">if</span>&nbsp;<span class="ident" id="5564596">state</span><span class="op" id="5564601">.</span><span class="ident" id="5564602">b</span><span class="op" id="5564603">.</span><span class="ident" id="5564604">Len</span><span class="op" id="5564607">(</span><span class="op" id="5564608">)</span>&nbsp;<span class="op" id="5564610">==</span>&nbsp;<span class="num" id="5564613">0</span>&nbsp;<span class="op" id="5564615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5564620">errorf</span><span class="op" id="5564626">(</span><span class="string" id="5564627">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5564700">,</span>&nbsp;<span class="ident" id="5564702">length</span><span class="op" id="5564708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5564716">slice</span><span class="op" id="5564721">[</span><span class="ident" id="5564722">i</span><span class="op" id="5564723">]</span>&nbsp;<span class="op" id="5564725">=</span>&nbsp;<span class="ident" id="5564727">state</span><span class="op" id="5564732">.</span><span class="ident" id="5564733">decodeUint</span><span class="op" id="5564743">(</span><span class="op" id="5564744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564747">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564750">return</span>&nbsp;<span class="builtintype" id="5564757">true</span><br>
<span class="lineno"></span><span class="op" id="5564762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5564765">func</span>&nbsp;<span class="ident" id="5564770">decUintptrArray</span><span class="op" id="5564785">(</span><span class="ident" id="5564786">state</span>&nbsp;<span class="op" id="5564792">*</span><span class="ident" id="5564793">decoderState</span><span class="op" id="5564805">,</span>&nbsp;<span class="ident" id="5564807">v</span>&nbsp;<span class="ident" id="5564809">reflect</span><span class="op" id="5564816">.</span><span class="ident" id="5564817">Value</span><span class="op" id="5564822">,</span>&nbsp;<span class="ident" id="5564824">length</span>&nbsp;<span class="builtintype" id="5564831">int</span><span class="op" id="5564834">,</span>&nbsp;<span class="ident" id="5564836">ovfl</span>&nbsp;<span class="builtintype" id="5564841">error</span><span class="op" id="5564846">)</span>&nbsp;<span class="builtintype" id="5564848">bool</span>&nbsp;<span class="op" id="5564853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5564856">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564897">if</span>&nbsp;<span class="op" id="5564900">!</span><span class="ident" id="5564901">v</span><span class="op" id="5564902">.</span><span class="ident" id="5564903">CanAddr</span><span class="op" id="5564910">(</span><span class="op" id="5564911">)</span>&nbsp;<span class="op" id="5564913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564917">return</span>&nbsp;<span class="builtintype" id="5564924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5564931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5564934">return</span>&nbsp;<span class="ident" id="5564941">decUintptrSlice</span><span class="op" id="5564956">(</span><span class="ident" id="5564957">state</span><span class="op" id="5564962">,</span>&nbsp;<span class="ident" id="5564964">v</span><span class="op" id="5564965">.</span><span class="ident" id="5564966">Slice</span><span class="op" id="5564971">(</span><span class="num" id="5564972">0</span><span class="op" id="5564973">,</span>&nbsp;<span class="ident" id="5564975">v</span><span class="op" id="5564976">.</span><span class="ident" id="5564977">Len</span><span class="op" id="5564980">(</span><span class="op" id="5564981">)</span><span class="op" id="5564982">)</span><span class="op" id="5564983">,</span>&nbsp;<span class="ident" id="5564985">length</span><span class="op" id="5564991">,</span>&nbsp;<span class="ident" id="5564993">ovfl</span><span class="op" id="5564997">)</span><br>
<span class="lineno"></span><span class="op" id="5564999">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="5565002">func</span>&nbsp;<span class="ident" id="5565007">decUintptrSlice</span><span class="op" id="5565022">(</span><span class="ident" id="5565023">state</span>&nbsp;<span class="op" id="5565029">*</span><span class="ident" id="5565030">decoderState</span><span class="op" id="5565042">,</span>&nbsp;<span class="ident" id="5565044">v</span>&nbsp;<span class="ident" id="5565046">reflect</span><span class="op" id="5565053">.</span><span class="ident" id="5565054">Value</span><span class="op" id="5565059">,</span>&nbsp;<span class="ident" id="5565061">length</span>&nbsp;<span class="builtintype" id="5565068">int</span><span class="op" id="5565071">,</span>&nbsp;<span class="ident" id="5565073">ovfl</span>&nbsp;<span class="builtintype" id="5565078">error</span><span class="op" id="5565083">)</span>&nbsp;<span class="builtintype" id="5565085">bool</span>&nbsp;<span class="op" id="5565090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5565093">slice</span><span class="op" id="5565098">,</span>&nbsp;<span class="ident" id="5565100">ok</span>&nbsp;<span class="op" id="5565103">:=</span>&nbsp;<span class="ident" id="5565106">v</span><span class="op" id="5565107">.</span><span class="ident" id="5565108">Interface</span><span class="op" id="5565117">(</span><span class="op" id="5565118">)</span><span class="op" id="5565119">.</span><span class="op" id="5565120">(</span><span class="op" id="5565121">[</span><span class="op" id="5565122">]</span><span class="builtintype" id="5565123">uintptr</span><span class="op" id="5565130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565133">if</span>&nbsp;<span class="op" id="5565136">!</span><span class="ident" id="5565137">ok</span>&nbsp;<span class="op" id="5565140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5565144">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565225">return</span>&nbsp;<span class="builtintype" id="5565232">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5565239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565242">for</span>&nbsp;<span class="ident" id="5565246">i</span>&nbsp;<span class="op" id="5565248">:=</span>&nbsp;<span class="num" id="5565251">0</span><span class="op" id="5565252">;</span>&nbsp;<span class="ident" id="5565254">i</span>&nbsp;<span class="op" id="5565256">&lt;</span>&nbsp;<span class="ident" id="5565258">length</span><span class="op" id="5565264">;</span>&nbsp;<span class="ident" id="5565266">i</span><span class="op" id="5565267">++</span>&nbsp;<span class="op" id="5565270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565274">if</span>&nbsp;<span class="ident" id="5565277">state</span><span class="op" id="5565282">.</span><span class="ident" id="5565283">b</span><span class="op" id="5565284">.</span><span class="ident" id="5565285">Len</span><span class="op" id="5565288">(</span><span class="op" id="5565289">)</span>&nbsp;<span class="op" id="5565291">==</span>&nbsp;<span class="num" id="5565294">0</span>&nbsp;<span class="op" id="5565296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5565301">errorf</span><span class="op" id="5565307">(</span><span class="string" id="5565308">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5565382">,</span>&nbsp;<span class="ident" id="5565384">length</span><span class="op" id="5565390">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5565394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5565398">x</span>&nbsp;<span class="op" id="5565400">:=</span>&nbsp;<span class="ident" id="5565403">state</span><span class="op" id="5565408">.</span><span class="ident" id="5565409">decodeUint</span><span class="op" id="5565419">(</span><span class="op" id="5565420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565424">if</span>&nbsp;<span class="builtintype" id="5565427">uint64</span><span class="op" id="5565433">(</span><span class="op" id="5565434">^</span><span class="builtintype" id="5565435">uintptr</span><span class="op" id="5565442">(</span><span class="num" id="5565443">0</span><span class="op" id="5565444">)</span><span class="op" id="5565445">)</span>&nbsp;<span class="op" id="5565447">&lt;</span>&nbsp;<span class="ident" id="5565449">x</span>&nbsp;<span class="op" id="5565451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5565456">error_</span><span class="op" id="5565462">(</span><span class="ident" id="5565463">ovfl</span><span class="op" id="5565467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5565471">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5565475">slice</span><span class="op" id="5565480">[</span><span class="ident" id="5565481">i</span><span class="op" id="5565482">]</span>&nbsp;<span class="op" id="5565484">=</span>&nbsp;<span class="builtintype" id="5565486">uintptr</span><span class="op" id="5565493">(</span><span class="ident" id="5565494">x</span><span class="op" id="5565495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5565498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5565501">return</span>&nbsp;<span class="builtintype" id="5565508">true</span><br>
<span class="lineno"></span><span class="op" id="5565513">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
