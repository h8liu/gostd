<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7045306">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7045361">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7045415">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7045466">package</span>&nbsp;<span class="ident" id="7045474">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7045485">import</span>&nbsp;<span class="op" id="7045492">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045495">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045504">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045513">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045523">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045531">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045538">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045544">&#34;os/exec&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045555">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045565">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045573">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045584">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7045595">&#34;time&#34;</span><br>
<span class="lineno">20</span><span class="op" id="7045602">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7045605">func</span>&nbsp;<span class="ident" id="7045610">TestQuotedPrintable</span><span class="op" id="7045629">(</span><span class="ident" id="7045630">t</span>&nbsp;<span class="op" id="7045632">*</span><span class="ident" id="7045633"><a href="/mime/multipart/quotedprintable_test.go.html#7045584">testing</a></span><span class="op" id="7045640">.</span><span class="ident" id="7045641">T</span><span class="op" id="7045642">)</span>&nbsp;<span class="op" id="7045644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045647">tests</span>&nbsp;<span class="op" id="7045653">:=</span>&nbsp;<span class="op" id="7045656">[</span><span class="op" id="7045657">]</span><span class="keyword" id="7045658">struct</span>&nbsp;<span class="op" id="7045665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045669">in</span><span class="op" id="7045671">,</span>&nbsp;<span class="ident" id="7045673">want</span>&nbsp;<span class="builtintype" id="7045678">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045687">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7045696">interface</span><span class="op" id="7045705">{</span><span class="op" id="7045706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045709">}</span><span class="op" id="7045710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045714">{</span><span class="ident" id="7045715">in</span><span class="op" id="7045717">:</span>&nbsp;<span class="string" id="7045719">&#34;&#34;</span><span class="op" id="7045721">,</span>&nbsp;<span class="ident" id="7045723">want</span><span class="op" id="7045727">:</span>&nbsp;<span class="string" id="7045729">&#34;&#34;</span><span class="op" id="7045731">}</span><span class="op" id="7045732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045736">{</span><span class="ident" id="7045737">in</span><span class="op" id="7045739">:</span>&nbsp;<span class="string" id="7045741">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7045750">,</span>&nbsp;<span class="ident" id="7045752">want</span><span class="op" id="7045756">:</span>&nbsp;<span class="string" id="7045758">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7045767">}</span><span class="op" id="7045768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045772">{</span><span class="ident" id="7045773">in</span><span class="op" id="7045775">:</span>&nbsp;<span class="string" id="7045777">&#34;foo&nbsp;bar=3D&#34;</span><span class="op" id="7045789">,</span>&nbsp;<span class="ident" id="7045791">want</span><span class="op" id="7045795">:</span>&nbsp;<span class="string" id="7045797">&#34;foo&nbsp;bar=&#34;</span><span class="op" id="7045807">}</span><span class="op" id="7045808">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045812">{</span><span class="ident" id="7045813">in</span><span class="op" id="7045815">:</span>&nbsp;<span class="string" id="7045817">&#34;foo&nbsp;bar=\n&#34;</span><span class="op" id="7045829">,</span>&nbsp;<span class="ident" id="7045831">want</span><span class="op" id="7045835">:</span>&nbsp;<span class="string" id="7045837">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7045846">}</span><span class="op" id="7045847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045851">{</span><span class="ident" id="7045852">in</span><span class="op" id="7045854">:</span>&nbsp;<span class="string" id="7045856">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="7045867">,</span>&nbsp;<span class="ident" id="7045869">want</span><span class="op" id="7045873">:</span>&nbsp;<span class="string" id="7045875">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="7045886">}</span><span class="op" id="7045887">,</span>&nbsp;<span class="comment" id="7045889">//&nbsp;somewhat&nbsp;lax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045908">{</span><span class="ident" id="7045909">in</span><span class="op" id="7045911">:</span>&nbsp;<span class="string" id="7045913">&#34;foo&nbsp;bar=0&#34;</span><span class="op" id="7045924">,</span>&nbsp;<span class="ident" id="7045926">want</span><span class="op" id="7045930">:</span>&nbsp;<span class="string" id="7045932">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7045941">,</span>&nbsp;<span class="ident" id="7045943">err</span><span class="op" id="7045946">:</span>&nbsp;<span class="ident" id="7045948"><a href="/mime/multipart/quotedprintable_test.go.html#7045538">io</a></span><span class="op" id="7045950">.</span><span class="ident" id="7045951">ErrUnexpectedEOF</span><span class="op" id="7045967">}</span><span class="op" id="7045968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045972">{</span><span class="ident" id="7045973">in</span><span class="op" id="7045975">:</span>&nbsp;<span class="string" id="7045977">&#34;foo&nbsp;bar=ab&#34;</span><span class="op" id="7045989">,</span>&nbsp;<span class="ident" id="7045991">want</span><span class="op" id="7045995">:</span>&nbsp;<span class="string" id="7045997">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7046006">,</span>&nbsp;<span class="ident" id="7046008">err</span><span class="op" id="7046011">:</span>&nbsp;<span class="string" id="7046013">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x61&#34;</span><span class="op" id="7046064">}</span><span class="op" id="7046065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046069">{</span><span class="ident" id="7046070">in</span><span class="op" id="7046072">:</span>&nbsp;<span class="string" id="7046074">&#34;foo&nbsp;bar=0D=0A&#34;</span><span class="op" id="7046089">,</span>&nbsp;<span class="ident" id="7046091">want</span><span class="op" id="7046095">:</span>&nbsp;<span class="string" id="7046097">&#34;foo&nbsp;bar\r\n&#34;</span><span class="op" id="7046110">}</span><span class="op" id="7046111">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046115">{</span><span class="ident" id="7046116">in</span><span class="op" id="7046118">:</span>&nbsp;<span class="string" id="7046120">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7046141">,</span>&nbsp;<span class="ident" id="7046143">want</span><span class="op" id="7046147">:</span>&nbsp;<span class="string" id="7046149">&#34;&nbsp;A&nbsp;B\r\n&nbsp;C&#34;</span><span class="op" id="7046161">}</span><span class="op" id="7046162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046166">{</span><span class="ident" id="7046167">in</span><span class="op" id="7046169">:</span>&nbsp;<span class="string" id="7046171">&#34;&nbsp;A&nbsp;B&nbsp;=\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7046186">,</span>&nbsp;<span class="ident" id="7046188">want</span><span class="op" id="7046192">:</span>&nbsp;<span class="string" id="7046194">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="7046203">}</span><span class="op" id="7046204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046208">{</span><span class="ident" id="7046209">in</span><span class="op" id="7046211">:</span>&nbsp;<span class="string" id="7046213">&#34;&nbsp;A&nbsp;B&nbsp;=\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7046226">,</span>&nbsp;<span class="ident" id="7046228">want</span><span class="op" id="7046232">:</span>&nbsp;<span class="string" id="7046234">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="7046243">}</span><span class="op" id="7046244">,</span>&nbsp;<span class="comment" id="7046246">//&nbsp;lax.&nbsp;treating&nbsp;LF&nbsp;as&nbsp;CRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046276">{</span><span class="ident" id="7046277">in</span><span class="op" id="7046279">:</span>&nbsp;<span class="string" id="7046281">&#34;foo=\nbar&#34;</span><span class="op" id="7046292">,</span>&nbsp;<span class="ident" id="7046294">want</span><span class="op" id="7046298">:</span>&nbsp;<span class="string" id="7046300">&#34;foobar&#34;</span><span class="op" id="7046308">}</span><span class="op" id="7046309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046313">{</span><span class="ident" id="7046314">in</span><span class="op" id="7046316">:</span>&nbsp;<span class="string" id="7046318">&#34;foo\x00bar&#34;</span><span class="op" id="7046330">,</span>&nbsp;<span class="ident" id="7046332">want</span><span class="op" id="7046336">:</span>&nbsp;<span class="string" id="7046338">&#34;foo&#34;</span><span class="op" id="7046343">,</span>&nbsp;<span class="ident" id="7046345">err</span><span class="op" id="7046348">:</span>&nbsp;<span class="string" id="7046350">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0x00&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="7046415">}</span><span class="op" id="7046416">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046420">{</span><span class="ident" id="7046421">in</span><span class="op" id="7046423">:</span>&nbsp;<span class="string" id="7046425">&#34;foo&nbsp;bar\xff&#34;</span><span class="op" id="7046438">,</span>&nbsp;<span class="ident" id="7046440">want</span><span class="op" id="7046444">:</span>&nbsp;<span class="string" id="7046446">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7046455">,</span>&nbsp;<span class="ident" id="7046457">err</span><span class="op" id="7046460">:</span>&nbsp;<span class="string" id="7046462">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0xff&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="7046527">}</span><span class="op" id="7046528">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046533">//&nbsp;Equal&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046550">{</span><span class="ident" id="7046551">in</span><span class="op" id="7046553">:</span>&nbsp;<span class="string" id="7046555">&#34;=3D30\n&#34;</span><span class="op" id="7046564">,</span>&nbsp;<span class="ident" id="7046566">want</span><span class="op" id="7046570">:</span>&nbsp;<span class="string" id="7046572">&#34;=30\n&#34;</span><span class="op" id="7046579">}</span><span class="op" id="7046580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046584">{</span><span class="ident" id="7046585">in</span><span class="op" id="7046587">:</span>&nbsp;<span class="string" id="7046589">&#34;=00=FF0=\n&#34;</span><span class="op" id="7046601">,</span>&nbsp;<span class="ident" id="7046603">want</span><span class="op" id="7046607">:</span>&nbsp;<span class="string" id="7046609">&#34;\x00\xff0&#34;</span><span class="op" id="7046620">}</span><span class="op" id="7046621">,</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046626">//&nbsp;Trailing&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046651">{</span><span class="ident" id="7046652">in</span><span class="op" id="7046654">:</span>&nbsp;<span class="string" id="7046656">&#34;foo&nbsp;&nbsp;\n&#34;</span><span class="op" id="7046665">,</span>&nbsp;<span class="ident" id="7046667">want</span><span class="op" id="7046671">:</span>&nbsp;<span class="string" id="7046673">&#34;foo\n&#34;</span><span class="op" id="7046680">}</span><span class="op" id="7046681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046685">{</span><span class="ident" id="7046686">in</span><span class="op" id="7046688">:</span>&nbsp;<span class="string" id="7046690">&#34;foo&nbsp;&nbsp;\n\nfoo&nbsp;=\n\nfoo=20\n\n&#34;</span><span class="op" id="7046720">,</span>&nbsp;<span class="ident" id="7046722">want</span><span class="op" id="7046726">:</span>&nbsp;<span class="string" id="7046728">&#34;foo\n\nfoo&nbsp;\nfoo&nbsp;\n\n&#34;</span><span class="op" id="7046751">}</span><span class="op" id="7046752">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046757">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;allow&nbsp;bare&nbsp;\n&nbsp;and&nbsp;\r&nbsp;through,&nbsp;despite&nbsp;it&nbsp;being&nbsp;strictly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046832">//&nbsp;not&nbsp;permitted&nbsp;per&nbsp;RFC&nbsp;2045,&nbsp;Section&nbsp;6.7&nbsp;Page&nbsp;22&nbsp;bullet&nbsp;(4).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046897">{</span><span class="ident" id="7046898">in</span><span class="op" id="7046900">:</span>&nbsp;<span class="string" id="7046902">&#34;foo\nbar&#34;</span><span class="op" id="7046912">,</span>&nbsp;<span class="ident" id="7046914">want</span><span class="op" id="7046918">:</span>&nbsp;<span class="string" id="7046920">&#34;foo\nbar&#34;</span><span class="op" id="7046930">}</span><span class="op" id="7046931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046935">{</span><span class="ident" id="7046936">in</span><span class="op" id="7046938">:</span>&nbsp;<span class="string" id="7046940">&#34;foo\rbar&#34;</span><span class="op" id="7046950">,</span>&nbsp;<span class="ident" id="7046952">want</span><span class="op" id="7046956">:</span>&nbsp;<span class="string" id="7046958">&#34;foo\rbar&#34;</span><span class="op" id="7046968">}</span><span class="op" id="7046969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046973">{</span><span class="ident" id="7046974">in</span><span class="op" id="7046976">:</span>&nbsp;<span class="string" id="7046978">&#34;foo\r\nbar&#34;</span><span class="op" id="7046990">,</span>&nbsp;<span class="ident" id="7046992">want</span><span class="op" id="7046996">:</span>&nbsp;<span class="string" id="7046998">&#34;foo\r\nbar&#34;</span><span class="op" id="7047010">}</span><span class="op" id="7047011">,</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047016">//&nbsp;Different&nbsp;types&nbsp;of&nbsp;soft&nbsp;line-breaks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047058">{</span><span class="ident" id="7047059">in</span><span class="op" id="7047061">:</span>&nbsp;<span class="string" id="7047063">&#34;foo=\r\nbar&#34;</span><span class="op" id="7047076">,</span>&nbsp;<span class="ident" id="7047078">want</span><span class="op" id="7047082">:</span>&nbsp;<span class="string" id="7047084">&#34;foobar&#34;</span><span class="op" id="7047092">}</span><span class="op" id="7047093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047097">{</span><span class="ident" id="7047098">in</span><span class="op" id="7047100">:</span>&nbsp;<span class="string" id="7047102">&#34;foo=\nbar&#34;</span><span class="op" id="7047113">,</span>&nbsp;<span class="ident" id="7047115">want</span><span class="op" id="7047119">:</span>&nbsp;<span class="string" id="7047121">&#34;foobar&#34;</span><span class="op" id="7047129">}</span><span class="op" id="7047130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047134">{</span><span class="ident" id="7047135">in</span><span class="op" id="7047137">:</span>&nbsp;<span class="string" id="7047139">&#34;foo=\rbar&#34;</span><span class="op" id="7047150">,</span>&nbsp;<span class="ident" id="7047152">want</span><span class="op" id="7047156">:</span>&nbsp;<span class="string" id="7047158">&#34;foo&#34;</span><span class="op" id="7047163">,</span>&nbsp;<span class="ident" id="7047165">err</span><span class="op" id="7047168">:</span>&nbsp;<span class="string" id="7047170">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d&#34;</span><span class="op" id="7047221">}</span><span class="op" id="7047222">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047226">{</span><span class="ident" id="7047227">in</span><span class="op" id="7047229">:</span>&nbsp;<span class="string" id="7047231">&#34;foo=\r\r\r&nbsp;\nbar&#34;</span><span class="op" id="7047249">,</span>&nbsp;<span class="ident" id="7047251">want</span><span class="op" id="7047255">:</span>&nbsp;<span class="string" id="7047257">&#34;foo&#34;</span><span class="op" id="7047262">,</span>&nbsp;<span class="ident" id="7047264">err</span><span class="op" id="7047267">:</span>&nbsp;<span class="string" id="7047269">`multipart:&nbsp;invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;&#34;\r\r\r&nbsp;\n&#34;`</span><span class="op" id="7047316">}</span><span class="op" id="7047317">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047322">//&nbsp;Example&nbsp;from&nbsp;RFC&nbsp;2045:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047350">{</span><span class="ident" id="7047351">in</span><span class="op" id="7047353">:</span>&nbsp;<span class="string" id="7047355">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;=\n&#34;</span>&nbsp;<span class="op" id="7047376">+</span>&nbsp;<span class="string" id="7047378">&#34;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come=\n&#34;</span>&nbsp;<span class="op" id="7047404">+</span>&nbsp;<span class="string" id="7047406">&#34;&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="7047437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047442">want</span><span class="op" id="7047446">:</span>&nbsp;<span class="string" id="7047448">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="7047514">}</span><span class="op" id="7047515">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047521">for</span>&nbsp;<span class="ident" id="7047525">_</span><span class="op" id="7047526">,</span>&nbsp;<span class="ident" id="7047528">tt</span>&nbsp;<span class="op" id="7047531">:=</span>&nbsp;<span class="keyword" id="7047534">range</span>&nbsp;<span class="ident" id="7047540"><a href="/mime/multipart/quotedprintable_test.go.html#7045647">tests</a></span>&nbsp;<span class="op" id="7047546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047550">var</span>&nbsp;<span class="ident" id="7047554">buf</span>&nbsp;<span class="ident" id="7047558"><a href="/mime/multipart/quotedprintable_test.go.html#7045504">bytes</a></span><span class="op" id="7047563">.</span><span class="ident" id="7047564">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047573">_</span><span class="op" id="7047574">,</span>&nbsp;<span class="ident" id="7047576">err</span>&nbsp;<span class="op" id="7047580">:=</span>&nbsp;<span class="ident" id="7047583"><a href="/mime/multipart/quotedprintable_test.go.html#7045538">io</a></span><span class="op" id="7047585">.</span><span class="ident" id="7047586">Copy</span><span class="op" id="7047590">(</span><span class="op" id="7047591">&amp;</span><span class="ident" id="7047592"><a href="/mime/multipart/quotedprintable_test.go.html#7047554">buf</a></span><span class="op" id="7047595">,</span>&nbsp;<span class="ident" id="7047597"><a href="/mime/multipart/quotedprintable.go.html#3977043">newQuotedPrintableReader</a></span><span class="op" id="7047621">(</span><span class="ident" id="7047622"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7047629">.</span><span class="ident" id="7047630">NewReader</span><span class="op" id="7047639">(</span><span class="ident" id="7047640"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047642">.</span><span class="ident" id="7047643">in</span><span class="op" id="7047645">)</span><span class="op" id="7047646">)</span><span class="op" id="7047647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047651">if</span>&nbsp;<span class="ident" id="7047654">got</span>&nbsp;<span class="op" id="7047658">:=</span>&nbsp;<span class="ident" id="7047661"><a href="/mime/multipart/quotedprintable_test.go.html#7047554">buf</a></span><span class="op" id="7047664">.</span><span class="ident" id="7047665">String</span><span class="op" id="7047671">(</span><span class="op" id="7047672">)</span><span class="op" id="7047673">;</span>&nbsp;<span class="ident" id="7047675"><a href="/mime/multipart/quotedprintable_test.go.html#7047654">got</a></span>&nbsp;<span class="op" id="7047679">!=</span>&nbsp;<span class="ident" id="7047682"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047684">.</span><span class="ident" id="7047685">want</span>&nbsp;<span class="op" id="7047690">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047695"><a href="/mime/multipart/quotedprintable_test.go.html#7045630">t</a></span><span class="op" id="7047696">.</span><span class="ident" id="7047697">Errorf</span><span class="op" id="7047703">(</span><span class="string" id="7047704">&#34;for&nbsp;%q,&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7047729">,</span>&nbsp;<span class="ident" id="7047731"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047733">.</span><span class="ident" id="7047734">in</span><span class="op" id="7047736">,</span>&nbsp;<span class="ident" id="7047738"><a href="/mime/multipart/quotedprintable_test.go.html#7047654">got</a></span><span class="op" id="7047741">,</span>&nbsp;<span class="ident" id="7047743"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047745">.</span><span class="ident" id="7047746">want</span><span class="op" id="7047750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047758">switch</span>&nbsp;<span class="ident" id="7047765">verr</span>&nbsp;<span class="op" id="7047770">:=</span>&nbsp;<span class="ident" id="7047773"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047775">.</span><span class="ident" id="7047776">err</span><span class="op" id="7047779">.</span><span class="op" id="7047780">(</span><span class="keyword" id="7047781">type</span><span class="op" id="7047785">)</span>&nbsp;<span class="op" id="7047787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047791">case</span>&nbsp;<span class="ident" id="7047796">nil</span><span class="op" id="7047799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047804">if</span>&nbsp;<span class="ident" id="7047807"><a href="/mime/multipart/quotedprintable_test.go.html#7047576">err</a></span>&nbsp;<span class="op" id="7047811">!=</span>&nbsp;<span class="ident" id="7047814">nil</span>&nbsp;<span class="op" id="7047818">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047824"><a href="/mime/multipart/quotedprintable_test.go.html#7045630">t</a></span><span class="op" id="7047825">.</span><span class="ident" id="7047826">Errorf</span><span class="op" id="7047832">(</span><span class="string" id="7047833">&#34;for&nbsp;%q,&nbsp;got&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7047867">,</span>&nbsp;<span class="ident" id="7047869"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047871">.</span><span class="ident" id="7047872">in</span><span class="op" id="7047874">,</span>&nbsp;<span class="ident" id="7047876"><a href="/mime/multipart/quotedprintable_test.go.html#7047576">err</a></span><span class="op" id="7047879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047888">case</span>&nbsp;<span class="builtintype" id="7047893">string</span><span class="op" id="7047899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047904">if</span>&nbsp;<span class="ident" id="7047907">got</span>&nbsp;<span class="op" id="7047911">:=</span>&nbsp;<span class="ident" id="7047914"><a href="/mime/multipart/quotedprintable_test.go.html#7045531">fmt</a></span><span class="op" id="7047917">.</span><span class="ident" id="7047918">Sprint</span><span class="op" id="7047924">(</span><span class="ident" id="7047925"><a href="/mime/multipart/quotedprintable_test.go.html#7047576">err</a></span><span class="op" id="7047928">)</span><span class="op" id="7047929">;</span>&nbsp;<span class="ident" id="7047931"><a href="/mime/multipart/quotedprintable_test.go.html#7047907">got</a></span>&nbsp;<span class="op" id="7047935">!=</span>&nbsp;<span class="ident" id="7047938"><a href="/mime/multipart/quotedprintable_test.go.html#7047765">verr</a></span>&nbsp;<span class="op" id="7047943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047949"><a href="/mime/multipart/quotedprintable_test.go.html#7045630">t</a></span><span class="op" id="7047950">.</span><span class="ident" id="7047951">Errorf</span><span class="op" id="7047957">(</span><span class="string" id="7047958">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7047989">,</span>&nbsp;<span class="ident" id="7047991"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7047993">.</span><span class="ident" id="7047994">in</span><span class="op" id="7047996">,</span>&nbsp;<span class="ident" id="7047998"><a href="/mime/multipart/quotedprintable_test.go.html#7047907">got</a></span><span class="op" id="7048001">,</span>&nbsp;<span class="ident" id="7048003"><a href="/mime/multipart/quotedprintable_test.go.html#7047765">verr</a></span><span class="op" id="7048007">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048016">case</span>&nbsp;<span class="builtintype" id="7048021">error</span><span class="op" id="7048026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048031">if</span>&nbsp;<span class="ident" id="7048034"><a href="/mime/multipart/quotedprintable_test.go.html#7047576">err</a></span>&nbsp;<span class="op" id="7048038">!=</span>&nbsp;<span class="ident" id="7048041"><a href="/mime/multipart/quotedprintable_test.go.html#7047765">verr</a></span>&nbsp;<span class="op" id="7048046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048052"><a href="/mime/multipart/quotedprintable_test.go.html#7045630">t</a></span><span class="op" id="7048053">.</span><span class="ident" id="7048054">Errorf</span><span class="op" id="7048060">(</span><span class="string" id="7048061">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7048092">,</span>&nbsp;<span class="ident" id="7048094"><a href="/mime/multipart/quotedprintable_test.go.html#7047528">tt</a></span><span class="op" id="7048096">.</span><span class="ident" id="7048097">in</span><span class="op" id="7048099">,</span>&nbsp;<span class="ident" id="7048101"><a href="/mime/multipart/quotedprintable_test.go.html#7047576">err</a></span><span class="op" id="7048104">,</span>&nbsp;<span class="ident" id="7048106"><a href="/mime/multipart/quotedprintable_test.go.html#7047765">verr</a></span><span class="op" id="7048110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048115">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="op" id="7048125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7048128">func</span>&nbsp;<span class="ident" id="7048133">everySequence</span><span class="op" id="7048146">(</span><span class="ident" id="7048147">base</span><span class="op" id="7048151">,</span>&nbsp;<span class="ident" id="7048153">alpha</span>&nbsp;<span class="builtintype" id="7048159">string</span><span class="op" id="7048165">,</span>&nbsp;<span class="ident" id="7048167">length</span>&nbsp;<span class="builtintype" id="7048174">int</span><span class="op" id="7048177">,</span>&nbsp;<span class="ident" id="7048179">fn</span>&nbsp;<span class="keyword" id="7048182">func</span><span class="op" id="7048186">(</span><span class="builtintype" id="7048187">string</span><span class="op" id="7048193">)</span><span class="op" id="7048194">)</span>&nbsp;<span class="op" id="7048196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048199">if</span>&nbsp;<span class="builtinfunc" id="7048202">len</span><span class="op" id="7048205">(</span><span class="ident" id="7048206"><a href="/mime/multipart/quotedprintable_test.go.html#7048147">base</a></span><span class="op" id="7048210">)</span>&nbsp;<span class="op" id="7048212">==</span>&nbsp;<span class="ident" id="7048215"><a href="/mime/multipart/quotedprintable_test.go.html#7048167">length</a></span>&nbsp;<span class="op" id="7048222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048226"><a href="/mime/multipart/quotedprintable_test.go.html#7048179">fn</a></span><span class="op" id="7048228">(</span><span class="ident" id="7048229"><a href="/mime/multipart/quotedprintable_test.go.html#7048147">base</a></span><span class="op" id="7048233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048237">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048245">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048248">for</span>&nbsp;<span class="ident" id="7048252">i</span>&nbsp;<span class="op" id="7048254">:=</span>&nbsp;<span class="num" id="7048257">0</span><span class="op" id="7048258">;</span>&nbsp;<span class="ident" id="7048260"><a href="/mime/multipart/quotedprintable_test.go.html#7048252">i</a></span>&nbsp;<span class="op" id="7048262">&lt;</span>&nbsp;<span class="builtinfunc" id="7048264">len</span><span class="op" id="7048267">(</span><span class="ident" id="7048268"><a href="/mime/multipart/quotedprintable_test.go.html#7048153">alpha</a></span><span class="op" id="7048273">)</span><span class="op" id="7048274">;</span>&nbsp;<span class="ident" id="7048276"><a href="/mime/multipart/quotedprintable_test.go.html#7048252">i</a></span><span class="op" id="7048277">++</span>&nbsp;<span class="op" id="7048280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048284"><a href="/mime/multipart/quotedprintable_test.go.html#7048133">everySequence</a></span><span class="op" id="7048297">(</span><span class="ident" id="7048298"><a href="/mime/multipart/quotedprintable_test.go.html#7048147">base</a></span><span class="op" id="7048302">+</span><span class="ident" id="7048303"><a href="/mime/multipart/quotedprintable_test.go.html#7048153">alpha</a></span><span class="op" id="7048308">[</span><span class="ident" id="7048309"><a href="/mime/multipart/quotedprintable_test.go.html#7048252">i</a></span><span class="op" id="7048310">:</span><span class="ident" id="7048311"><a href="/mime/multipart/quotedprintable_test.go.html#7048252">i</a></span><span class="op" id="7048312">+</span><span class="num" id="7048313">1</span><span class="op" id="7048314">]</span><span class="op" id="7048315">,</span>&nbsp;<span class="ident" id="7048317"><a href="/mime/multipart/quotedprintable_test.go.html#7048153">alpha</a></span><span class="op" id="7048322">,</span>&nbsp;<span class="ident" id="7048324"><a href="/mime/multipart/quotedprintable_test.go.html#7048167">length</a></span><span class="op" id="7048330">,</span>&nbsp;<span class="ident" id="7048332"><a href="/mime/multipart/quotedprintable_test.go.html#7048179">fn</a></span><span class="op" id="7048334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048337">}</span><br>
<span class="lineno"></span><span class="op" id="7048339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7048342">var</span>&nbsp;<span class="ident" id="7048346">useQprint</span>&nbsp;<span class="op" id="7048356">=</span>&nbsp;<span class="ident" id="7048358"><a href="/mime/multipart/quotedprintable_test.go.html#7045523">flag</a></span><span class="op" id="7048362">.</span><span class="ident" id="7048363">Bool</span><span class="op" id="7048367">(</span><span class="string" id="7048368">&#34;qprint&#34;</span><span class="op" id="7048376">,</span>&nbsp;<span class="ident" id="7048378">false</span><span class="op" id="7048383">,</span>&nbsp;<span class="string" id="7048385">&#34;Compare&nbsp;against&nbsp;the&nbsp;&#39;qprint&#39;&nbsp;program.&#34;</span><span class="op" id="7048424">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7048427">var</span>&nbsp;<span class="ident" id="7048431">badSoftRx</span>&nbsp;<span class="op" id="7048441">=</span>&nbsp;<span class="ident" id="7048443"><a href="/mime/multipart/quotedprintable_test.go.html#7045555">regexp</a></span><span class="op" id="7048449">.</span><span class="ident" id="7048450">MustCompile</span><span class="op" id="7048461">(</span><span class="string" id="7048462">`=([^\r\n]+?\n)|([^\r\n]+$)|(\r$)|(\r[^\n]+\n)|(&nbsp;\r\n)`</span><span class="op" id="7048517">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7048520">func</span>&nbsp;<span class="ident" id="7048525">TestQPExhaustive</span><span class="op" id="7048541">(</span><span class="ident" id="7048542">t</span>&nbsp;<span class="op" id="7048544">*</span><span class="ident" id="7048545"><a href="/mime/multipart/quotedprintable_test.go.html#7045584">testing</a></span><span class="op" id="7048552">.</span><span class="ident" id="7048553">T</span><span class="op" id="7048554">)</span>&nbsp;<span class="op" id="7048556">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048559">if</span>&nbsp;<span class="op" id="7048562">*</span><span class="ident" id="7048563"><a href="/mime/multipart/quotedprintable_test.go.html#7048346">useQprint</a></span>&nbsp;<span class="op" id="7048573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048577">_</span><span class="op" id="7048578">,</span>&nbsp;<span class="ident" id="7048580">err</span>&nbsp;<span class="op" id="7048584">:=</span>&nbsp;<span class="ident" id="7048587"><a href="/mime/multipart/quotedprintable_test.go.html#7045544">exec</a></span><span class="op" id="7048591">.</span><span class="ident" id="7048592">LookPath</span><span class="op" id="7048600">(</span><span class="string" id="7048601">&#34;qprint&#34;</span><span class="op" id="7048609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048613">if</span>&nbsp;<span class="ident" id="7048616"><a href="/mime/multipart/quotedprintable_test.go.html#7048580">err</a></span>&nbsp;<span class="op" id="7048620">!=</span>&nbsp;<span class="ident" id="7048623">nil</span>&nbsp;<span class="op" id="7048627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048632"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7048633">.</span><span class="ident" id="7048634">Fatalf</span><span class="op" id="7048640">(</span><span class="string" id="7048641">&#34;Error&nbsp;looking&nbsp;for&nbsp;qprint:&nbsp;%v&#34;</span><span class="op" id="7048671">,</span>&nbsp;<span class="ident" id="7048673"><a href="/mime/multipart/quotedprintable_test.go.html#7048580">err</a></span><span class="op" id="7048676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048680">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048687">var</span>&nbsp;<span class="ident" id="7048691">buf</span>&nbsp;<span class="ident" id="7048695"><a href="/mime/multipart/quotedprintable_test.go.html#7045504">bytes</a></span><span class="op" id="7048700">.</span><span class="ident" id="7048701">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048709">res</span>&nbsp;<span class="op" id="7048713">:=</span>&nbsp;<span class="builtinfunc" id="7048716">make</span><span class="op" id="7048720">(</span><span class="keyword" id="7048721">map</span><span class="op" id="7048724">[</span><span class="builtintype" id="7048725">string</span><span class="op" id="7048731">]</span><span class="builtintype" id="7048732">int</span><span class="op" id="7048735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048738"><a href="/mime/multipart/quotedprintable_test.go.html#7048133">everySequence</a></span><span class="op" id="7048751">(</span><span class="string" id="7048752">&#34;&#34;</span><span class="op" id="7048754">,</span>&nbsp;<span class="string" id="7048756">&#34;0A&nbsp;\r\n=&#34;</span><span class="op" id="7048766">,</span>&nbsp;<span class="num" id="7048768">6</span><span class="op" id="7048769">,</span>&nbsp;<span class="keyword" id="7048771">func</span><span class="op" id="7048775">(</span><span class="ident" id="7048776">s</span>&nbsp;<span class="builtintype" id="7048778">string</span><span class="op" id="7048784">)</span>&nbsp;<span class="op" id="7048786">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048790">if</span>&nbsp;<span class="ident" id="7048793"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7048800">.</span><span class="ident" id="7048801">HasSuffix</span><span class="op" id="7048810">(</span><span class="ident" id="7048811"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7048812">,</span>&nbsp;<span class="string" id="7048814">&#34;=&#34;</span><span class="op" id="7048817">)</span>&nbsp;<span class="op" id="7048819">||</span>&nbsp;<span class="ident" id="7048822"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7048829">.</span><span class="ident" id="7048830">Contains</span><span class="op" id="7048838">(</span><span class="ident" id="7048839"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7048840">,</span>&nbsp;<span class="string" id="7048842">&#34;==&#34;</span><span class="op" id="7048846">)</span>&nbsp;<span class="op" id="7048848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048853">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048866"><a href="/mime/multipart/quotedprintable_test.go.html#7048691">buf</a></span><span class="op" id="7048869">.</span><span class="ident" id="7048870">Reset</span><span class="op" id="7048875">(</span><span class="op" id="7048876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048880">_</span><span class="op" id="7048881">,</span>&nbsp;<span class="ident" id="7048883">err</span>&nbsp;<span class="op" id="7048887">:=</span>&nbsp;<span class="ident" id="7048890"><a href="/mime/multipart/quotedprintable_test.go.html#7045538">io</a></span><span class="op" id="7048892">.</span><span class="ident" id="7048893">Copy</span><span class="op" id="7048897">(</span><span class="op" id="7048898">&amp;</span><span class="ident" id="7048899"><a href="/mime/multipart/quotedprintable_test.go.html#7048691">buf</a></span><span class="op" id="7048902">,</span>&nbsp;<span class="ident" id="7048904"><a href="/mime/multipart/quotedprintable.go.html#3977043">newQuotedPrintableReader</a></span><span class="op" id="7048928">(</span><span class="ident" id="7048929"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7048936">.</span><span class="ident" id="7048937">NewReader</span><span class="op" id="7048946">(</span><span class="ident" id="7048947"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7048948">)</span><span class="op" id="7048949">)</span><span class="op" id="7048950">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048954">if</span>&nbsp;<span class="ident" id="7048957"><a href="/mime/multipart/quotedprintable_test.go.html#7048883">err</a></span>&nbsp;<span class="op" id="7048961">!=</span>&nbsp;<span class="ident" id="7048964">nil</span>&nbsp;<span class="op" id="7048968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048973">errStr</span>&nbsp;<span class="op" id="7048980">:=</span>&nbsp;<span class="ident" id="7048983"><a href="/mime/multipart/quotedprintable_test.go.html#7048883">err</a></span><span class="op" id="7048986">.</span><span class="ident" id="7048987">Error</span><span class="op" id="7048992">(</span><span class="op" id="7048993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048998">if</span>&nbsp;<span class="ident" id="7049001"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049008">.</span><span class="ident" id="7049009">Contains</span><span class="op" id="7049017">(</span><span class="ident" id="7049018"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049024">,</span>&nbsp;<span class="string" id="7049026">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=:&#34;</span><span class="op" id="7049050">)</span>&nbsp;<span class="op" id="7049052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049058"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span>&nbsp;<span class="op" id="7049065">=</span>&nbsp;<span class="string" id="7049067">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049094">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049099"><a href="/mime/multipart/quotedprintable_test.go.html#7048709">res</a></span><span class="op" id="7049102">[</span><span class="ident" id="7049103"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049109">]</span><span class="op" id="7049110">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049116">if</span>&nbsp;<span class="ident" id="7049119"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049126">.</span><span class="ident" id="7049127">Contains</span><span class="op" id="7049135">(</span><span class="ident" id="7049136"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049142">,</span>&nbsp;<span class="string" id="7049144">&#34;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;&#34;</span><span class="op" id="7049180">)</span>&nbsp;<span class="op" id="7049182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049188">if</span>&nbsp;<span class="ident" id="7049191"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049198">.</span><span class="ident" id="7049199">HasSuffix</span><span class="op" id="7049208">(</span><span class="ident" id="7049209"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049215">,</span>&nbsp;<span class="string" id="7049217">&#34;0x20&#34;</span><span class="op" id="7049223">)</span>&nbsp;<span class="op" id="7049225">&amp;&amp;</span>&nbsp;<span class="op" id="7049228">(</span><span class="ident" id="7049229"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049236">.</span><span class="ident" id="7049237">Contains</span><span class="op" id="7049245">(</span><span class="ident" id="7049246"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049247">,</span>&nbsp;<span class="string" id="7049249">&#34;=0&nbsp;&#34;</span><span class="op" id="7049254">)</span>&nbsp;<span class="op" id="7049256">||</span>&nbsp;<span class="ident" id="7049259"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049266">.</span><span class="ident" id="7049267">Contains</span><span class="op" id="7049275">(</span><span class="ident" id="7049276"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049277">,</span>&nbsp;<span class="string" id="7049279">&#34;=A&nbsp;&#34;</span><span class="op" id="7049284">)</span>&nbsp;<span class="op" id="7049286">||</span>&nbsp;<span class="ident" id="7049289"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049296">.</span><span class="ident" id="7049297">Contains</span><span class="op" id="7049305">(</span><span class="ident" id="7049306"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049307">,</span>&nbsp;<span class="string" id="7049309">&#34;=&nbsp;&#34;</span><span class="op" id="7049313">)</span><span class="op" id="7049314">)</span>&nbsp;<span class="op" id="7049316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049323">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049334">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049340">if</span>&nbsp;<span class="ident" id="7049343"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049350">.</span><span class="ident" id="7049351">HasSuffix</span><span class="op" id="7049360">(</span><span class="ident" id="7049361"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049367">,</span>&nbsp;<span class="string" id="7049369">&#34;0x3d&#34;</span><span class="op" id="7049375">)</span>&nbsp;<span class="op" id="7049377">&amp;&amp;</span>&nbsp;<span class="op" id="7049380">(</span><span class="ident" id="7049381"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049388">.</span><span class="ident" id="7049389">Contains</span><span class="op" id="7049397">(</span><span class="ident" id="7049398"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049399">,</span>&nbsp;<span class="string" id="7049401">&#34;=0=&#34;</span><span class="op" id="7049406">)</span>&nbsp;<span class="op" id="7049408">||</span>&nbsp;<span class="ident" id="7049411"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049418">.</span><span class="ident" id="7049419">Contains</span><span class="op" id="7049427">(</span><span class="ident" id="7049428"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049429">,</span>&nbsp;<span class="string" id="7049431">&#34;=A=&#34;</span><span class="op" id="7049436">)</span><span class="op" id="7049437">)</span>&nbsp;<span class="op" id="7049439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049446">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049463">if</span>&nbsp;<span class="ident" id="7049466"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049473">.</span><span class="ident" id="7049474">HasSuffix</span><span class="op" id="7049483">(</span><span class="ident" id="7049484"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049490">,</span>&nbsp;<span class="string" id="7049492">&#34;0x0a&#34;</span><span class="op" id="7049498">)</span>&nbsp;<span class="op" id="7049500">||</span>&nbsp;<span class="ident" id="7049503"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049510">.</span><span class="ident" id="7049511">HasSuffix</span><span class="op" id="7049520">(</span><span class="ident" id="7049521"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049527">,</span>&nbsp;<span class="string" id="7049529">&#34;0x0d&#34;</span><span class="op" id="7049535">)</span>&nbsp;<span class="op" id="7049537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7049544">//&nbsp;bunch&nbsp;of&nbsp;cases;&nbsp;since&nbsp;whitespace&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;before&nbsp;\n&nbsp;is&nbsp;removed.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049628">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049649">if</span>&nbsp;<span class="ident" id="7049652"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049659">.</span><span class="ident" id="7049660">Contains</span><span class="op" id="7049668">(</span><span class="ident" id="7049669"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span><span class="op" id="7049675">,</span>&nbsp;<span class="string" id="7049677">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="7049693">)</span>&nbsp;<span class="op" id="7049695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049701">return</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049716">if</span>&nbsp;<span class="ident" id="7049719"><a href="/mime/multipart/quotedprintable_test.go.html#7048973">errStr</a></span>&nbsp;<span class="op" id="7049726">==</span>&nbsp;<span class="string" id="7049729">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span>&nbsp;<span class="op" id="7049753">&amp;&amp;</span>&nbsp;<span class="ident" id="7049756"><a href="/mime/multipart/quotedprintable_test.go.html#7048431">badSoftRx</a></span><span class="op" id="7049765">.</span><span class="ident" id="7049766">MatchString</span><span class="op" id="7049777">(</span><span class="ident" id="7049778"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049779">)</span>&nbsp;<span class="op" id="7049781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049787">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049802"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7049803">.</span><span class="ident" id="7049804">Errorf</span><span class="op" id="7049810">(</span><span class="string" id="7049811">&#34;decode(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7049828">,</span>&nbsp;<span class="ident" id="7049830"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049831">,</span>&nbsp;<span class="ident" id="7049833"><a href="/mime/multipart/quotedprintable_test.go.html#7048883">err</a></span><span class="op" id="7049836">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049841">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049854">if</span>&nbsp;<span class="op" id="7049857">*</span><span class="ident" id="7049858"><a href="/mime/multipart/quotedprintable_test.go.html#7048346">useQprint</a></span>&nbsp;<span class="op" id="7049868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049873">cmd</span>&nbsp;<span class="op" id="7049877">:=</span>&nbsp;<span class="ident" id="7049880"><a href="/mime/multipart/quotedprintable_test.go.html#7045544">exec</a></span><span class="op" id="7049884">.</span><span class="ident" id="7049885">Command</span><span class="op" id="7049892">(</span><span class="string" id="7049893">&#34;qprint&#34;</span><span class="op" id="7049901">,</span>&nbsp;<span class="string" id="7049903">&#34;-d&#34;</span><span class="op" id="7049907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049912"><a href="/mime/multipart/quotedprintable_test.go.html#7049873">cmd</a></span><span class="op" id="7049915">.</span><span class="ident" id="7049916">Stdin</span>&nbsp;<span class="op" id="7049922">=</span>&nbsp;<span class="ident" id="7049924"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7049931">.</span><span class="ident" id="7049932">NewReader</span><span class="op" id="7049941">(</span><span class="ident" id="7049942"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7049943">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049948">stderr</span><span class="op" id="7049954">,</span>&nbsp;<span class="ident" id="7049956">err</span>&nbsp;<span class="op" id="7049960">:=</span>&nbsp;<span class="ident" id="7049963"><a href="/mime/multipart/quotedprintable_test.go.html#7049873">cmd</a></span><span class="op" id="7049966">.</span><span class="ident" id="7049967">StderrPipe</span><span class="op" id="7049977">(</span><span class="op" id="7049978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049983">if</span>&nbsp;<span class="ident" id="7049986"><a href="/mime/multipart/quotedprintable_test.go.html#7049956">err</a></span>&nbsp;<span class="op" id="7049990">!=</span>&nbsp;<span class="ident" id="7049993">nil</span>&nbsp;<span class="op" id="7049997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7050003">panic</span><span class="op" id="7050008">(</span><span class="ident" id="7050009"><a href="/mime/multipart/quotedprintable_test.go.html#7049956">err</a></span><span class="op" id="7050012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050022">qpres</span>&nbsp;<span class="op" id="7050028">:=</span>&nbsp;<span class="builtinfunc" id="7050031">make</span><span class="op" id="7050035">(</span><span class="keyword" id="7050036">chan</span>&nbsp;<span class="keyword" id="7050041">interface</span><span class="op" id="7050050">{</span><span class="op" id="7050051">}</span><span class="op" id="7050052">,</span>&nbsp;<span class="num" id="7050054">2</span><span class="op" id="7050055">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050060">go</span>&nbsp;<span class="keyword" id="7050063">func</span><span class="op" id="7050067">(</span><span class="op" id="7050068">)</span>&nbsp;<span class="op" id="7050070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050076">br</span>&nbsp;<span class="op" id="7050079">:=</span>&nbsp;<span class="ident" id="7050082"><a href="/mime/multipart/quotedprintable_test.go.html#7045495">bufio</a></span><span class="op" id="7050087">.</span><span class="ident" id="7050088">NewReader</span><span class="op" id="7050097">(</span><span class="ident" id="7050098"><a href="/mime/multipart/quotedprintable_test.go.html#7049948">stderr</a></span><span class="op" id="7050104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050110">s</span><span class="op" id="7050111">,</span>&nbsp;<span class="ident" id="7050113">_</span>&nbsp;<span class="op" id="7050115">:=</span>&nbsp;<span class="ident" id="7050118"><a href="/mime/multipart/quotedprintable_test.go.html#7050076">br</a></span><span class="op" id="7050120">.</span><span class="ident" id="7050121">ReadString</span><span class="op" id="7050131">(</span><span class="string" id="7050132">&#39;\n&#39;</span><span class="op" id="7050136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050142">if</span>&nbsp;<span class="ident" id="7050145"><a href="/mime/multipart/quotedprintable_test.go.html#7050110">s</a></span>&nbsp;<span class="op" id="7050147">!=</span>&nbsp;<span class="string" id="7050150">&#34;&#34;</span>&nbsp;<span class="op" id="7050153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050160"><a href="/mime/multipart/quotedprintable_test.go.html#7050022">qpres</a></span>&nbsp;<span class="op" id="7050166">&lt;-</span>&nbsp;<span class="ident" id="7050169"><a href="/mime/multipart/quotedprintable_test.go.html#7045513">errors</a></span><span class="op" id="7050175">.</span><span class="ident" id="7050176">New</span><span class="op" id="7050179">(</span><span class="ident" id="7050180"><a href="/mime/multipart/quotedprintable_test.go.html#7050110">s</a></span><span class="op" id="7050181">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050188">if</span>&nbsp;<span class="ident" id="7050191"><a href="/mime/multipart/quotedprintable_test.go.html#7049873">cmd</a></span><span class="op" id="7050194">.</span><span class="ident" id="7050195">Process</span>&nbsp;<span class="op" id="7050203">!=</span>&nbsp;<span class="ident" id="7050206">nil</span>&nbsp;<span class="op" id="7050210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050218">//&nbsp;It&nbsp;can&nbsp;get&nbsp;stuck&nbsp;on&nbsp;invalid&nbsp;input,&nbsp;like:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050268">//&nbsp;echo&nbsp;-n&nbsp;&#34;0000=&nbsp;&#34;&nbsp;|&nbsp;qprint&nbsp;-d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050306"><a href="/mime/multipart/quotedprintable_test.go.html#7049873">cmd</a></span><span class="op" id="7050309">.</span><span class="ident" id="7050310">Process</span><span class="op" id="7050317">.</span><span class="ident" id="7050318">Kill</span><span class="op" id="7050322">(</span><span class="op" id="7050323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050330">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050341">}</span><span class="op" id="7050342">(</span><span class="op" id="7050343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050348">go</span>&nbsp;<span class="keyword" id="7050351">func</span><span class="op" id="7050355">(</span><span class="op" id="7050356">)</span>&nbsp;<span class="op" id="7050358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050364">want</span><span class="op" id="7050368">,</span>&nbsp;<span class="ident" id="7050370">err</span>&nbsp;<span class="op" id="7050374">:=</span>&nbsp;<span class="ident" id="7050377"><a href="/mime/multipart/quotedprintable_test.go.html#7049873">cmd</a></span><span class="op" id="7050380">.</span><span class="ident" id="7050381">Output</span><span class="op" id="7050387">(</span><span class="op" id="7050388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050394">if</span>&nbsp;<span class="ident" id="7050397"><a href="/mime/multipart/quotedprintable_test.go.html#7050370">err</a></span>&nbsp;<span class="op" id="7050401">==</span>&nbsp;<span class="ident" id="7050404">nil</span>&nbsp;<span class="op" id="7050408">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050415"><a href="/mime/multipart/quotedprintable_test.go.html#7050022">qpres</a></span>&nbsp;<span class="op" id="7050421">&lt;-</span>&nbsp;<span class="ident" id="7050424"><a href="/mime/multipart/quotedprintable_test.go.html#7050364">want</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050438">}</span><span class="op" id="7050439">(</span><span class="op" id="7050440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050445">select</span>&nbsp;<span class="op" id="7050452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050457">case</span>&nbsp;<span class="ident" id="7050462">got</span>&nbsp;<span class="op" id="7050466">:=</span>&nbsp;<span class="op" id="7050469">&lt;-</span><span class="ident" id="7050471"><a href="/mime/multipart/quotedprintable_test.go.html#7050022">qpres</a></span><span class="op" id="7050476">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050482">if</span>&nbsp;<span class="ident" id="7050485">want</span><span class="op" id="7050489">,</span>&nbsp;<span class="ident" id="7050491">ok</span>&nbsp;<span class="op" id="7050494">:=</span>&nbsp;<span class="ident" id="7050497"><a href="/mime/multipart/quotedprintable_test.go.html#7050462">got</a></span><span class="op" id="7050500">.</span><span class="op" id="7050501">(</span><span class="op" id="7050502">[</span><span class="op" id="7050503">]</span><span class="builtintype" id="7050504">byte</span><span class="op" id="7050508">)</span><span class="op" id="7050509">;</span>&nbsp;<span class="ident" id="7050511"><a href="/mime/multipart/quotedprintable_test.go.html#7050491">ok</a></span>&nbsp;<span class="op" id="7050514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050521">if</span>&nbsp;<span class="builtintype" id="7050524">string</span><span class="op" id="7050530">(</span><span class="ident" id="7050531"><a href="/mime/multipart/quotedprintable_test.go.html#7050485">want</a></span><span class="op" id="7050535">)</span>&nbsp;<span class="op" id="7050537">!=</span>&nbsp;<span class="ident" id="7050540"><a href="/mime/multipart/quotedprintable_test.go.html#7048691">buf</a></span><span class="op" id="7050543">.</span><span class="ident" id="7050544">String</span><span class="op" id="7050550">(</span><span class="op" id="7050551">)</span>&nbsp;<span class="op" id="7050553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050561"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7050562">.</span><span class="ident" id="7050563">Errorf</span><span class="op" id="7050569">(</span><span class="string" id="7050570">&#34;go&nbsp;decode(%q)&nbsp;=&nbsp;%q;&nbsp;qprint&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7050603">,</span>&nbsp;<span class="ident" id="7050605"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7050606">,</span>&nbsp;<span class="ident" id="7050608"><a href="/mime/multipart/quotedprintable_test.go.html#7050485">want</a></span><span class="op" id="7050612">,</span>&nbsp;<span class="ident" id="7050614"><a href="/mime/multipart/quotedprintable_test.go.html#7048691">buf</a></span><span class="op" id="7050617">.</span><span class="ident" id="7050618">String</span><span class="op" id="7050624">(</span><span class="op" id="7050625">)</span><span class="op" id="7050626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050639">}</span>&nbsp;<span class="keyword" id="7050641">else</span>&nbsp;<span class="op" id="7050646">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050653"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7050654">.</span><span class="ident" id="7050655">Logf</span><span class="op" id="7050659">(</span><span class="string" id="7050660">&#34;qprint&nbsp;-d(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7050680">,</span>&nbsp;<span class="ident" id="7050682"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7050683">,</span>&nbsp;<span class="ident" id="7050685"><a href="/mime/multipart/quotedprintable_test.go.html#7050462">got</a></span><span class="op" id="7050688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050699">case</span>&nbsp;<span class="op" id="7050704">&lt;-</span><span class="ident" id="7050706"><a href="/mime/multipart/quotedprintable_test.go.html#7045595">time</a></span><span class="op" id="7050710">.</span><span class="ident" id="7050711">After</span><span class="op" id="7050716">(</span><span class="num" id="7050717">5</span>&nbsp;<span class="op" id="7050719">*</span>&nbsp;<span class="ident" id="7050721"><a href="/mime/multipart/quotedprintable_test.go.html#7045595">time</a></span><span class="op" id="7050725">.</span><span class="ident" id="7050726">Second</span><span class="op" id="7050732">)</span><span class="op" id="7050733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050739"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7050740">.</span><span class="ident" id="7050741">Logf</span><span class="op" id="7050745">(</span><span class="string" id="7050746">&#34;qprint&nbsp;timeout&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7050768">,</span>&nbsp;<span class="ident" id="7050770"><a href="/mime/multipart/quotedprintable_test.go.html#7048776">s</a></span><span class="op" id="7050771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050776">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050784"><a href="/mime/multipart/quotedprintable_test.go.html#7048709">res</a></span><span class="op" id="7050787">[</span><span class="string" id="7050788">&#34;OK&#34;</span><span class="op" id="7050792">]</span><span class="op" id="7050793">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050797">}</span><span class="op" id="7050798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050801">var</span>&nbsp;<span class="ident" id="7050805">outcomes</span>&nbsp;<span class="op" id="7050814">[</span><span class="op" id="7050815">]</span><span class="builtintype" id="7050816">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050824">for</span>&nbsp;<span class="ident" id="7050828">k</span><span class="op" id="7050829">,</span>&nbsp;<span class="ident" id="7050831">v</span>&nbsp;<span class="op" id="7050833">:=</span>&nbsp;<span class="keyword" id="7050836">range</span>&nbsp;<span class="ident" id="7050842"><a href="/mime/multipart/quotedprintable_test.go.html#7048709">res</a></span>&nbsp;<span class="op" id="7050846">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050850"><a href="/mime/multipart/quotedprintable_test.go.html#7050805">outcomes</a></span>&nbsp;<span class="op" id="7050859">=</span>&nbsp;<span class="builtinfunc" id="7050861">append</span><span class="op" id="7050867">(</span><span class="ident" id="7050868"><a href="/mime/multipart/quotedprintable_test.go.html#7050805">outcomes</a></span><span class="op" id="7050876">,</span>&nbsp;<span class="ident" id="7050878"><a href="/mime/multipart/quotedprintable_test.go.html#7045531">fmt</a></span><span class="op" id="7050881">.</span><span class="ident" id="7050882">Sprintf</span><span class="op" id="7050889">(</span><span class="string" id="7050890">&#34;%v:&nbsp;%d&#34;</span><span class="op" id="7050898">,</span>&nbsp;<span class="ident" id="7050900"><a href="/mime/multipart/quotedprintable_test.go.html#7050828">k</a></span><span class="op" id="7050901">,</span>&nbsp;<span class="ident" id="7050903"><a href="/mime/multipart/quotedprintable_test.go.html#7050831">v</a></span><span class="op" id="7050904">)</span><span class="op" id="7050905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050911"><a href="/mime/multipart/quotedprintable_test.go.html#7045565">sort</a></span><span class="op" id="7050915">.</span><span class="ident" id="7050916">Strings</span><span class="op" id="7050923">(</span><span class="ident" id="7050924"><a href="/mime/multipart/quotedprintable_test.go.html#7050805">outcomes</a></span><span class="op" id="7050932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050935">got</span>&nbsp;<span class="op" id="7050939">:=</span>&nbsp;<span class="ident" id="7050942"><a href="/mime/multipart/quotedprintable_test.go.html#7045573">strings</a></span><span class="op" id="7050949">.</span><span class="ident" id="7050950">Join</span><span class="op" id="7050954">(</span><span class="ident" id="7050955"><a href="/mime/multipart/quotedprintable_test.go.html#7050805">outcomes</a></span><span class="op" id="7050963">,</span>&nbsp;<span class="string" id="7050965">&#34;\n&#34;</span><span class="op" id="7050969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050972">want</span>&nbsp;<span class="op" id="7050977">:=</span>&nbsp;<span class="string" id="7050980">`OK:&nbsp;21576<br>
<span class="lineno">195</span>invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;3397<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0a:&nbsp;1400<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d:&nbsp;2700<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x20:&nbsp;2490<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x3d:&nbsp;440<br>
<span class="lineno">200</span>unexpected&nbsp;EOF:&nbsp;3122`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051265">if</span>&nbsp;<span class="ident" id="7051268"><a href="/mime/multipart/quotedprintable_test.go.html#7050935">got</a></span>&nbsp;<span class="op" id="7051272">!=</span>&nbsp;<span class="ident" id="7051275"><a href="/mime/multipart/quotedprintable_test.go.html#7050972">want</a></span>&nbsp;<span class="op" id="7051280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051284"><a href="/mime/multipart/quotedprintable_test.go.html#7048542">t</a></span><span class="op" id="7051285">.</span><span class="ident" id="7051286">Errorf</span><span class="op" id="7051292">(</span><span class="string" id="7051293">&#34;Got:\n%s\nWant:\n%s&#34;</span><span class="op" id="7051314">,</span>&nbsp;<span class="ident" id="7051316"><a href="/mime/multipart/quotedprintable_test.go.html#7050935">got</a></span><span class="op" id="7051319">,</span>&nbsp;<span class="ident" id="7051321"><a href="/mime/multipart/quotedprintable_test.go.html#7050972">want</a></span><span class="op" id="7051325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051328">}</span><br>
<span class="lineno"></span><span class="op" id="7051330">}</span>
</div>
</body>
</html>
