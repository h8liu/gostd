<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html" class="current">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6932707">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6932763">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6932817">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6932868">package</span>&nbsp;<span class="ident" id="6932876">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6932883">import</span>&nbsp;<span class="op" id="6932890">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6932893">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6932904">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6932914">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6932917">var</span>&nbsp;<span class="op" id="6932921">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6932924">thisOS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6932934">=</span>&nbsp;<span class="ident" id="6932936">runtime</span><span class="op" id="6932943">.</span><span class="ident" id="6932944">GOOS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6932950">thisArch</span>&nbsp;&nbsp;<span class="op" id="6932960">=</span>&nbsp;<span class="ident" id="6932962">runtime</span><span class="op" id="6932969">.</span><span class="ident" id="6932970">GOARCH</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6932978">otherOS</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6932988">=</span>&nbsp;<span class="ident" id="6932990">anotherOS</span><span class="op" id="6932999">(</span><span class="op" id="6933000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6933003">otherArch</span>&nbsp;<span class="op" id="6933013">=</span>&nbsp;<span class="ident" id="6933015">anotherArch</span><span class="op" id="6933026">(</span><span class="op" id="6933027">)</span><br>
<span class="lineno"></span><span class="op" id="6933029">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6933032">func</span>&nbsp;<span class="ident" id="6933037">anotherOS</span><span class="op" id="6933046">(</span><span class="op" id="6933047">)</span>&nbsp;<span class="builtintype" id="6933049">string</span>&nbsp;<span class="op" id="6933056">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933059">if</span>&nbsp;<span class="ident" id="6933062">thisOS</span>&nbsp;<span class="op" id="6933069">!=</span>&nbsp;<span class="string" id="6933072">&#34;darwin&#34;</span>&nbsp;<span class="op" id="6933081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933085">return</span>&nbsp;<span class="string" id="6933092">&#34;darwin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933105">return</span>&nbsp;<span class="string" id="6933112">&#34;linux&#34;</span><br>
<span class="lineno"></span><span class="op" id="6933120">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6933123">func</span>&nbsp;<span class="ident" id="6933128">anotherArch</span><span class="op" id="6933139">(</span><span class="op" id="6933140">)</span>&nbsp;<span class="builtintype" id="6933142">string</span>&nbsp;<span class="op" id="6933149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933152">if</span>&nbsp;<span class="ident" id="6933155">thisArch</span>&nbsp;<span class="op" id="6933164">!=</span>&nbsp;<span class="string" id="6933167">&#34;amd64&#34;</span>&nbsp;<span class="op" id="6933175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933179">return</span>&nbsp;<span class="string" id="6933186">&#34;amd64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933195">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933198">return</span>&nbsp;<span class="string" id="6933205">&#34;386&#34;</span><br>
<span class="lineno"></span><span class="op" id="6933211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6933214">type</span>&nbsp;<span class="ident" id="6933219">GoodFileTest</span>&nbsp;<span class="keyword" id="6933232">struct</span>&nbsp;<span class="op" id="6933239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6933242">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6933249">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6933257">result</span>&nbsp;<span class="builtintype" id="6933264">bool</span><br>
<span class="lineno"></span><span class="op" id="6933269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6933272">var</span>&nbsp;<span class="ident" id="6933276">tests</span>&nbsp;<span class="op" id="6933282">=</span>&nbsp;<span class="op" id="6933284">[</span><span class="op" id="6933285">]</span><span class="ident" id="6933286">GoodFileTest</span><span class="op" id="6933298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933301">{</span><span class="string" id="6933302">&#34;file.go&#34;</span><span class="op" id="6933311">,</span>&nbsp;<span class="builtintype" id="6933313">true</span><span class="op" id="6933317">}</span><span class="op" id="6933318">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933321">{</span><span class="string" id="6933322">&#34;file.c&#34;</span><span class="op" id="6933330">,</span>&nbsp;<span class="builtintype" id="6933332">true</span><span class="op" id="6933336">}</span><span class="op" id="6933337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933340">{</span><span class="string" id="6933341">&#34;file_foo.go&#34;</span><span class="op" id="6933354">,</span>&nbsp;<span class="builtintype" id="6933356">true</span><span class="op" id="6933360">}</span><span class="op" id="6933361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933364">{</span><span class="string" id="6933365">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933373">+</span>&nbsp;<span class="ident" id="6933375">thisArch</span>&nbsp;<span class="op" id="6933384">+</span>&nbsp;<span class="string" id="6933386">&#34;.go&#34;</span><span class="op" id="6933391">,</span>&nbsp;<span class="builtintype" id="6933393">true</span><span class="op" id="6933397">}</span><span class="op" id="6933398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933401">{</span><span class="string" id="6933402">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933410">+</span>&nbsp;<span class="ident" id="6933412">otherArch</span>&nbsp;<span class="op" id="6933422">+</span>&nbsp;<span class="string" id="6933424">&#34;.go&#34;</span><span class="op" id="6933429">,</span>&nbsp;<span class="builtintype" id="6933431">false</span><span class="op" id="6933436">}</span><span class="op" id="6933437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933440">{</span><span class="string" id="6933441">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933449">+</span>&nbsp;<span class="ident" id="6933451">thisOS</span>&nbsp;<span class="op" id="6933458">+</span>&nbsp;<span class="string" id="6933460">&#34;.go&#34;</span><span class="op" id="6933465">,</span>&nbsp;<span class="builtintype" id="6933467">true</span><span class="op" id="6933471">}</span><span class="op" id="6933472">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933475">{</span><span class="string" id="6933476">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933484">+</span>&nbsp;<span class="ident" id="6933486">otherOS</span>&nbsp;<span class="op" id="6933494">+</span>&nbsp;<span class="string" id="6933496">&#34;.go&#34;</span><span class="op" id="6933501">,</span>&nbsp;<span class="builtintype" id="6933503">false</span><span class="op" id="6933508">}</span><span class="op" id="6933509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933512">{</span><span class="string" id="6933513">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933521">+</span>&nbsp;<span class="ident" id="6933523">thisOS</span>&nbsp;<span class="op" id="6933530">+</span>&nbsp;<span class="string" id="6933532">&#34;_&#34;</span>&nbsp;<span class="op" id="6933536">+</span>&nbsp;<span class="ident" id="6933538">thisArch</span>&nbsp;<span class="op" id="6933547">+</span>&nbsp;<span class="string" id="6933549">&#34;.go&#34;</span><span class="op" id="6933554">,</span>&nbsp;<span class="builtintype" id="6933556">true</span><span class="op" id="6933560">}</span><span class="op" id="6933561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933564">{</span><span class="string" id="6933565">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933573">+</span>&nbsp;<span class="ident" id="6933575">otherOS</span>&nbsp;<span class="op" id="6933583">+</span>&nbsp;<span class="string" id="6933585">&#34;_&#34;</span>&nbsp;<span class="op" id="6933589">+</span>&nbsp;<span class="ident" id="6933591">thisArch</span>&nbsp;<span class="op" id="6933600">+</span>&nbsp;<span class="string" id="6933602">&#34;.go&#34;</span><span class="op" id="6933607">,</span>&nbsp;<span class="builtintype" id="6933609">false</span><span class="op" id="6933614">}</span><span class="op" id="6933615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933618">{</span><span class="string" id="6933619">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933627">+</span>&nbsp;<span class="ident" id="6933629">thisOS</span>&nbsp;<span class="op" id="6933636">+</span>&nbsp;<span class="string" id="6933638">&#34;_&#34;</span>&nbsp;<span class="op" id="6933642">+</span>&nbsp;<span class="ident" id="6933644">otherArch</span>&nbsp;<span class="op" id="6933654">+</span>&nbsp;<span class="string" id="6933656">&#34;.go&#34;</span><span class="op" id="6933661">,</span>&nbsp;<span class="builtintype" id="6933663">false</span><span class="op" id="6933668">}</span><span class="op" id="6933669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933672">{</span><span class="string" id="6933673">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933681">+</span>&nbsp;<span class="ident" id="6933683">otherOS</span>&nbsp;<span class="op" id="6933691">+</span>&nbsp;<span class="string" id="6933693">&#34;_&#34;</span>&nbsp;<span class="op" id="6933697">+</span>&nbsp;<span class="ident" id="6933699">otherArch</span>&nbsp;<span class="op" id="6933709">+</span>&nbsp;<span class="string" id="6933711">&#34;.go&#34;</span><span class="op" id="6933716">,</span>&nbsp;<span class="builtintype" id="6933718">false</span><span class="op" id="6933723">}</span><span class="op" id="6933724">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933727">{</span><span class="string" id="6933728">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="6933740">+</span>&nbsp;<span class="ident" id="6933742">thisArch</span>&nbsp;<span class="op" id="6933751">+</span>&nbsp;<span class="string" id="6933753">&#34;.go&#34;</span><span class="op" id="6933758">,</span>&nbsp;<span class="builtintype" id="6933760">true</span><span class="op" id="6933764">}</span><span class="op" id="6933765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933768">{</span><span class="string" id="6933769">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="6933781">+</span>&nbsp;<span class="ident" id="6933783">otherArch</span>&nbsp;<span class="op" id="6933793">+</span>&nbsp;<span class="string" id="6933795">&#34;.go&#34;</span><span class="op" id="6933800">,</span>&nbsp;<span class="builtintype" id="6933802">false</span><span class="op" id="6933807">}</span><span class="op" id="6933808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933811">{</span><span class="string" id="6933812">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933820">+</span>&nbsp;<span class="ident" id="6933822">thisOS</span>&nbsp;<span class="op" id="6933829">+</span>&nbsp;<span class="string" id="6933831">&#34;.c&#34;</span><span class="op" id="6933835">,</span>&nbsp;<span class="builtintype" id="6933837">true</span><span class="op" id="6933841">}</span><span class="op" id="6933842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6933845">{</span><span class="string" id="6933846">&#34;file_&#34;</span>&nbsp;<span class="op" id="6933854">+</span>&nbsp;<span class="ident" id="6933856">otherOS</span>&nbsp;<span class="op" id="6933864">+</span>&nbsp;<span class="string" id="6933866">&#34;.c&#34;</span><span class="op" id="6933870">,</span>&nbsp;<span class="builtintype" id="6933872">false</span><span class="op" id="6933877">}</span><span class="op" id="6933878">,</span><br>
<span class="lineno"></span><span class="op" id="6933880">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6933883">func</span>&nbsp;<span class="ident" id="6933888">TestGoodOSArch</span><span class="op" id="6933902">(</span><span class="ident" id="6933903">t</span>&nbsp;<span class="op" id="6933905">*</span><span class="ident" id="6933906">testing</span><span class="op" id="6933913">.</span><span class="ident" id="6933914">T</span><span class="op" id="6933915">)</span>&nbsp;<span class="op" id="6933917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933920">for</span>&nbsp;<span class="ident" id="6933924">_</span><span class="op" id="6933925">,</span>&nbsp;<span class="ident" id="6933927">test</span>&nbsp;<span class="op" id="6933932">:=</span>&nbsp;<span class="keyword" id="6933935">range</span>&nbsp;<span class="ident" id="6933941">tests</span>&nbsp;<span class="op" id="6933947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6933951">if</span>&nbsp;<span class="ident" id="6933954">Default</span><span class="op" id="6933961">.</span><span class="ident" id="6933962">goodOSArchFile</span><span class="op" id="6933976">(</span><span class="ident" id="6933977">test</span><span class="op" id="6933981">.</span><span class="ident" id="6933982">name</span><span class="op" id="6933986">,</span>&nbsp;<span class="builtinfunc" id="6933988">make</span><span class="op" id="6933992">(</span><span class="keyword" id="6933993">map</span><span class="op" id="6933996">[</span><span class="builtintype" id="6933997">string</span><span class="op" id="6934003">]</span><span class="builtintype" id="6934004">bool</span><span class="op" id="6934008">)</span><span class="op" id="6934009">)</span>&nbsp;<span class="op" id="6934011">!=</span>&nbsp;<span class="ident" id="6934014">test</span><span class="op" id="6934018">.</span><span class="ident" id="6934019">result</span>&nbsp;<span class="op" id="6934026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6934031">t</span><span class="op" id="6934032">.</span><span class="ident" id="6934033">Fatalf</span><span class="op" id="6934039">(</span><span class="string" id="6934040">&#34;goodOSArchFile(%q)&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="6934066">,</span>&nbsp;<span class="ident" id="6934068">test</span><span class="op" id="6934072">.</span><span class="ident" id="6934073">name</span><span class="op" id="6934077">,</span>&nbsp;<span class="ident" id="6934079">test</span><span class="op" id="6934083">.</span><span class="ident" id="6934084">result</span><span class="op" id="6934090">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6934094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6934097">}</span><br>
<span class="lineno"></span><span class="op" id="6934099">}</span>
</div>
</body>
</html>
