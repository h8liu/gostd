<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html" class="current">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7978614">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7978669">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7978723">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7978774">package</span>&nbsp;<span class="ident" id="7978782">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7978787">import</span>&nbsp;<span class="op" id="7978794">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978797">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978806">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978816">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978823">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978829">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978840">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978851">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978862">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978873">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7978880">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7978883">type</span>&nbsp;<span class="ident" id="7978888">DriveType</span>&nbsp;<span class="builtintype" id="7978898">int</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7978903">const</span>&nbsp;<span class="op" id="7978909">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978912">HyperDrive</span>&nbsp;<span class="ident" id="7978923">DriveType</span>&nbsp;<span class="op" id="7978933">=</span>&nbsp;<span class="ident" id="7978935">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978941">ImprobabilityDrive</span><br>
<span class="lineno"></span><span class="op" id="7978960">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7978963">type</span>&nbsp;<span class="ident" id="7978968">Passenger</span>&nbsp;<span class="keyword" id="7978978">struct</span>&nbsp;<span class="op" id="7978985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978988">Name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7978995">[</span><span class="op" id="7978996">]</span><span class="builtintype" id="7978997">string</span>&nbsp;<span class="string" id="7979004">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979018">Weight</span>&nbsp;<span class="builtintype" id="7979025">float32</span>&nbsp;&nbsp;<span class="string" id="7979034">`xml:&#34;weight&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979049">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="7979052">type</span>&nbsp;<span class="ident" id="7979057">Ship</span>&nbsp;<span class="keyword" id="7979062">struct</span>&nbsp;<span class="op" id="7979069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979072">XMLName</span>&nbsp;<span class="keyword" id="7979080">struct</span><span class="op" id="7979086">{</span><span class="op" id="7979087">}</span>&nbsp;<span class="string" id="7979089">`xml:&#34;spaceship&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979109">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979119">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979132">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979151">Pilot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979161">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979174">`xml:&#34;pilot,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979194">Drive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979204">DriveType</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979217">`xml:&#34;drive&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979232">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979242">uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979255">`xml:&#34;age&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979268">Passenger</span>&nbsp;<span class="op" id="7979278">[</span><span class="op" id="7979279">]</span><span class="op" id="7979280">*</span><span class="ident" id="7979281">Passenger</span>&nbsp;<span class="string" id="7979291">`xml:&#34;passenger&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979310">secret</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979320">string</span><br>
<span class="lineno">40</span><span class="op" id="7979327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979330">type</span>&nbsp;<span class="ident" id="7979335">NamedType</span>&nbsp;<span class="builtintype" id="7979345">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979353">type</span>&nbsp;<span class="ident" id="7979358">Port</span>&nbsp;<span class="keyword" id="7979363">struct</span>&nbsp;<span class="op" id="7979370">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979373">XMLName</span>&nbsp;<span class="keyword" id="7979381">struct</span><span class="op" id="7979387">{</span><span class="op" id="7979388">}</span>&nbsp;<span class="string" id="7979390">`xml:&#34;port&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979404">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979412">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979421">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979450">Comment</span>&nbsp;<span class="builtintype" id="7979458">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979467">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979485">Number</span>&nbsp;&nbsp;<span class="builtintype" id="7979493">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979502">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979520">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7979523">type</span>&nbsp;<span class="ident" id="7979528">Domain</span>&nbsp;<span class="keyword" id="7979535">struct</span>&nbsp;<span class="op" id="7979542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979545">XMLName</span>&nbsp;<span class="keyword" id="7979553">struct</span><span class="op" id="7979559">{</span><span class="op" id="7979560">}</span>&nbsp;<span class="string" id="7979562">`xml:&#34;domain&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979578">Country</span>&nbsp;<span class="builtintype" id="7979586">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979595">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979620">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979628">[</span><span class="op" id="7979629">]</span><span class="builtintype" id="7979630">byte</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979637">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979656">Comment</span>&nbsp;<span class="op" id="7979664">[</span><span class="op" id="7979665">]</span><span class="builtintype" id="7979666">byte</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979673">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979693">type</span>&nbsp;<span class="ident" id="7979698">Book</span>&nbsp;<span class="keyword" id="7979703">struct</span>&nbsp;<span class="op" id="7979710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979713">XMLName</span>&nbsp;<span class="keyword" id="7979721">struct</span><span class="op" id="7979727">{</span><span class="op" id="7979728">}</span>&nbsp;<span class="string" id="7979730">`xml:&#34;book&#34;`</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979744">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979752">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7979761">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979782">type</span>&nbsp;<span class="ident" id="7979787">Event</span>&nbsp;<span class="keyword" id="7979793">struct</span>&nbsp;<span class="op" id="7979800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979803">XMLName</span>&nbsp;<span class="keyword" id="7979811">struct</span><span class="op" id="7979817">{</span><span class="op" id="7979818">}</span>&nbsp;<span class="string" id="7979820">`xml:&#34;event&#34;`</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979835">Year</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7979843">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979852">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979873">type</span>&nbsp;<span class="ident" id="7979878">Movie</span>&nbsp;<span class="keyword" id="7979884">struct</span>&nbsp;<span class="op" id="7979891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979894">XMLName</span>&nbsp;<span class="keyword" id="7979902">struct</span><span class="op" id="7979908">{</span><span class="op" id="7979909">}</span>&nbsp;<span class="string" id="7979911">`xml:&#34;movie&#34;`</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979926">Length</span>&nbsp;&nbsp;<span class="builtintype" id="7979934">uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7979943">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7979961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979964">type</span>&nbsp;<span class="ident" id="7979969">Pi</span>&nbsp;<span class="keyword" id="7979972">struct</span>&nbsp;<span class="op" id="7979979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979982">XMLName</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979996">struct</span><span class="op" id="7980002">{</span><span class="op" id="7980003">}</span>&nbsp;<span class="string" id="7980005">`xml:&#34;pi&#34;`</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980017">Approximation</span>&nbsp;<span class="builtintype" id="7980031">float32</span>&nbsp;&nbsp;<span class="string" id="7980040">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980061">type</span>&nbsp;<span class="ident" id="7980066">Universe</span>&nbsp;<span class="keyword" id="7980075">struct</span>&nbsp;<span class="op" id="7980082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980085">XMLName</span>&nbsp;<span class="keyword" id="7980093">struct</span><span class="op" id="7980099">{</span><span class="op" id="7980100">}</span>&nbsp;<span class="string" id="7980102">`xml:&#34;universe&#34;`</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980120">Visible</span>&nbsp;<span class="builtintype" id="7980128">float64</span>&nbsp;&nbsp;<span class="string" id="7980137">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980158">type</span>&nbsp;<span class="ident" id="7980163">Particle</span>&nbsp;<span class="keyword" id="7980172">struct</span>&nbsp;<span class="op" id="7980179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980182">XMLName</span>&nbsp;<span class="keyword" id="7980190">struct</span><span class="op" id="7980196">{</span><span class="op" id="7980197">}</span>&nbsp;<span class="string" id="7980199">`xml:&#34;particle&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980217">HasMass</span>&nbsp;<span class="builtintype" id="7980225">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7980234">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980255">type</span>&nbsp;<span class="ident" id="7980260">Departure</span>&nbsp;<span class="keyword" id="7980270">struct</span>&nbsp;<span class="op" id="7980277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980280">XMLName</span>&nbsp;<span class="keyword" id="7980288">struct</span><span class="op" id="7980294">{</span><span class="op" id="7980295">}</span>&nbsp;&nbsp;<span class="string" id="7980298">`xml:&#34;departure&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980317">When</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980325">time</span><span class="op" id="7980329">.</span><span class="ident" id="7980330">Time</span>&nbsp;<span class="string" id="7980335">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980356">type</span>&nbsp;<span class="ident" id="7980361">SecretAgent</span>&nbsp;<span class="keyword" id="7980373">struct</span>&nbsp;<span class="op" id="7980380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980383">XMLName</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980393">struct</span><span class="op" id="7980399">{</span><span class="op" id="7980400">}</span>&nbsp;<span class="string" id="7980402">`xml:&#34;agent&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980417">Handle</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7980427">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980436">`xml:&#34;handle,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980457">Identity</span>&nbsp;&nbsp;<span class="builtintype" id="7980467">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980475">Obfuscate</span>&nbsp;<span class="builtintype" id="7980485">string</span>&nbsp;<span class="string" id="7980492">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7980513">type</span>&nbsp;<span class="ident" id="7980518">NestedItems</span>&nbsp;<span class="keyword" id="7980530">struct</span>&nbsp;<span class="op" id="7980537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980540">XMLName</span>&nbsp;<span class="keyword" id="7980548">struct</span><span class="op" id="7980554">{</span><span class="op" id="7980555">}</span>&nbsp;<span class="string" id="7980557">`xml:&#34;result&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980573">Items</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7980581">[</span><span class="op" id="7980582">]</span><span class="builtintype" id="7980583">string</span>&nbsp;<span class="string" id="7980590">`xml:&#34;&gt;item&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980605">Item1</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7980613">[</span><span class="op" id="7980614">]</span><span class="builtintype" id="7980615">string</span>&nbsp;<span class="string" id="7980622">`xml:&#34;Items&gt;item1&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980642">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="7980645">type</span>&nbsp;<span class="ident" id="7980650">NestedOrder</span>&nbsp;<span class="keyword" id="7980662">struct</span>&nbsp;<span class="op" id="7980669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980672">XMLName</span>&nbsp;<span class="keyword" id="7980680">struct</span><span class="op" id="7980686">{</span><span class="op" id="7980687">}</span>&nbsp;<span class="string" id="7980689">`xml:&#34;result&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980705">Field1</span>&nbsp;&nbsp;<span class="builtintype" id="7980713">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980722">`xml:&#34;parent&gt;c&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980740">Field2</span>&nbsp;&nbsp;<span class="builtintype" id="7980748">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980757">`xml:&#34;parent&gt;b&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980775">Field3</span>&nbsp;&nbsp;<span class="builtintype" id="7980783">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980792">`xml:&#34;parent&gt;a&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7980809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980812">type</span>&nbsp;<span class="ident" id="7980817">MixedNested</span>&nbsp;<span class="keyword" id="7980829">struct</span>&nbsp;<span class="op" id="7980836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980839">XMLName</span>&nbsp;<span class="keyword" id="7980847">struct</span><span class="op" id="7980853">{</span><span class="op" id="7980854">}</span>&nbsp;<span class="string" id="7980856">`xml:&#34;result&#34;`</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980872">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7980880">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980889">`xml:&#34;parent1&gt;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980908">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7980916">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980925">`xml:&#34;b&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980936">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7980944">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980953">`xml:&#34;parent1&gt;parent2&gt;c&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980980">D</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7980988">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7980997">`xml:&#34;parent1&gt;d&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7981015">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="7981018">type</span>&nbsp;<span class="ident" id="7981023">NilTest</span>&nbsp;<span class="keyword" id="7981031">struct</span>&nbsp;<span class="op" id="7981038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981041">A</span>&nbsp;<span class="keyword" id="7981043">interface</span><span class="op" id="7981052">{</span><span class="op" id="7981053">}</span>&nbsp;<span class="string" id="7981055">`xml:&#34;parent1&gt;parent2&gt;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981082">B</span>&nbsp;<span class="keyword" id="7981084">interface</span><span class="op" id="7981093">{</span><span class="op" id="7981094">}</span>&nbsp;<span class="string" id="7981096">`xml:&#34;parent1&gt;b&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981115">C</span>&nbsp;<span class="keyword" id="7981117">interface</span><span class="op" id="7981126">{</span><span class="op" id="7981127">}</span>&nbsp;<span class="string" id="7981129">`xml:&#34;parent1&gt;parent2&gt;c&#34;`</span><br>
<span class="lineno">125</span><span class="op" id="7981155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981158">type</span>&nbsp;<span class="ident" id="7981163">Service</span>&nbsp;<span class="keyword" id="7981171">struct</span>&nbsp;<span class="op" id="7981178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981181">XMLName</span>&nbsp;<span class="keyword" id="7981189">struct</span><span class="op" id="7981195">{</span><span class="op" id="7981196">}</span>&nbsp;<span class="string" id="7981198">`xml:&#34;service&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981215">Domain</span>&nbsp;&nbsp;<span class="op" id="7981223">*</span><span class="ident" id="7981224">Domain</span>&nbsp;&nbsp;<span class="string" id="7981232">`xml:&#34;host&gt;domain&#34;`</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981253">Port</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7981261">*</span><span class="ident" id="7981262">Port</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981270">`xml:&#34;host&gt;port&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981289">Extra1</span>&nbsp;&nbsp;<span class="keyword" id="7981297">interface</span><span class="op" id="7981306">{</span><span class="op" id="7981307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981310">Extra2</span>&nbsp;&nbsp;<span class="keyword" id="7981318">interface</span><span class="op" id="7981327">{</span><span class="op" id="7981328">}</span>&nbsp;<span class="string" id="7981330">`xml:&#34;host&gt;extra2&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7981350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7981353">var</span>&nbsp;<span class="ident" id="7981357">nilStruct</span>&nbsp;<span class="op" id="7981367">*</span><span class="ident" id="7981368">Ship</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981374">type</span>&nbsp;<span class="ident" id="7981379">EmbedA</span>&nbsp;<span class="keyword" id="7981386">struct</span>&nbsp;<span class="op" id="7981393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981396">EmbedC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981404">EmbedB</span>&nbsp;<span class="ident" id="7981411">EmbedB</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981419">FieldA</span>&nbsp;<span class="builtintype" id="7981426">string</span><br>
<span class="lineno"></span><span class="op" id="7981433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981436">type</span>&nbsp;<span class="ident" id="7981441">EmbedB</span>&nbsp;<span class="keyword" id="7981448">struct</span>&nbsp;<span class="op" id="7981455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981458">FieldB</span>&nbsp;<span class="builtintype" id="7981465">string</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7981473">*</span><span class="ident" id="7981474">EmbedC</span><br>
<span class="lineno"></span><span class="op" id="7981481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981484">type</span>&nbsp;<span class="ident" id="7981489">EmbedC</span>&nbsp;<span class="keyword" id="7981496">struct</span>&nbsp;<span class="op" id="7981503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981506">FieldA1</span>&nbsp;<span class="builtintype" id="7981514">string</span>&nbsp;<span class="string" id="7981521">`xml:&#34;FieldA&gt;A1&#34;`</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981540">FieldA2</span>&nbsp;<span class="builtintype" id="7981548">string</span>&nbsp;<span class="string" id="7981555">`xml:&#34;FieldA&gt;A2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981574">FieldB</span>&nbsp;&nbsp;<span class="builtintype" id="7981582">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981590">FieldC</span>&nbsp;&nbsp;<span class="builtintype" id="7981598">string</span><br>
<span class="lineno"></span><span class="op" id="7981605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="7981608">type</span>&nbsp;<span class="ident" id="7981613">NameCasing</span>&nbsp;<span class="keyword" id="7981624">struct</span>&nbsp;<span class="op" id="7981631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981634">XMLName</span>&nbsp;<span class="keyword" id="7981642">struct</span><span class="op" id="7981648">{</span><span class="op" id="7981649">}</span>&nbsp;<span class="string" id="7981651">`xml:&#34;casing&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981667">Xy</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981675">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981683">XY</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981691">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981699">XyA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981707">string</span>&nbsp;<span class="string" id="7981714">`xml:&#34;Xy,attr&#34;`</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981731">XYA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981739">string</span>&nbsp;<span class="string" id="7981746">`xml:&#34;XY,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7981762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981765">type</span>&nbsp;<span class="ident" id="7981770">NamePrecedence</span>&nbsp;<span class="keyword" id="7981785">struct</span>&nbsp;<span class="op" id="7981792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981795">XMLName</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981807">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981825">`xml:&#34;Parent&#34;`</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981841">FromTag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981853">XMLNameWithoutTag</span>&nbsp;<span class="string" id="7981871">`xml:&#34;InTag&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981886">FromNameVal</span>&nbsp;<span class="ident" id="7981898">XMLNameWithoutTag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981917">FromNameTag</span>&nbsp;<span class="ident" id="7981929">XMLNameWithTag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981945">InFieldName</span>&nbsp;<span class="builtintype" id="7981957">string</span><br>
<span class="lineno"></span><span class="op" id="7981964">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7981967">type</span>&nbsp;<span class="ident" id="7981972">XMLNameWithTag</span>&nbsp;<span class="keyword" id="7981987">struct</span>&nbsp;<span class="op" id="7981994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981997">XMLName</span>&nbsp;<span class="ident" id="7982005">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7982012">`xml:&#34;InXMLNameTag&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982034">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982042">string</span>&nbsp;<span class="string" id="7982049">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7982067">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="7982070">type</span>&nbsp;<span class="ident" id="7982075">XMLNameWithoutTag</span>&nbsp;<span class="keyword" id="7982093">struct</span>&nbsp;<span class="op" id="7982100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982103">XMLName</span>&nbsp;<span class="ident" id="7982111">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982117">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982125">string</span>&nbsp;<span class="string" id="7982132">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7982150">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7982153">type</span>&nbsp;<span class="ident" id="7982158">NameInField</span>&nbsp;<span class="keyword" id="7982170">struct</span>&nbsp;<span class="op" id="7982177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982180">Foo</span>&nbsp;<span class="ident" id="7982184">Name</span>&nbsp;<span class="string" id="7982189">`xml:&#34;ns&nbsp;foo&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7982204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7982207">type</span>&nbsp;<span class="ident" id="7982212">AttrTest</span>&nbsp;<span class="keyword" id="7982221">struct</span>&nbsp;<span class="op" id="7982228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982231">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982237">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982245">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982260">Named</span>&nbsp;<span class="builtintype" id="7982266">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982274">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982292">Float</span>&nbsp;<span class="builtintype" id="7982298">float64</span>&nbsp;<span class="string" id="7982306">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982321">Uint8</span>&nbsp;<span class="builtintype" id="7982327">uint8</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7982335">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982350">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="7982356">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982364">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982379">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982385">string</span>&nbsp;&nbsp;<span class="string" id="7982393">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982408">Bytes</span>&nbsp;<span class="op" id="7982414">[</span><span class="op" id="7982415">]</span><span class="builtintype" id="7982416">byte</span>&nbsp;&nbsp;<span class="string" id="7982422">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7982436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7982439">type</span>&nbsp;<span class="ident" id="7982444">OmitAttrTest</span>&nbsp;<span class="keyword" id="7982457">struct</span>&nbsp;<span class="op" id="7982464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982467">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982473">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982481">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982506">Named</span>&nbsp;<span class="builtintype" id="7982512">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982520">`xml:&#34;int,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982548">Float</span>&nbsp;<span class="builtintype" id="7982554">float64</span>&nbsp;<span class="string" id="7982562">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982587">Uint8</span>&nbsp;<span class="builtintype" id="7982593">uint8</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7982601">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982626">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="7982632">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982640">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982665">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982671">string</span>&nbsp;&nbsp;<span class="string" id="7982679">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982704">Bytes</span>&nbsp;<span class="op" id="7982710">[</span><span class="op" id="7982711">]</span><span class="builtintype" id="7982712">byte</span>&nbsp;&nbsp;<span class="string" id="7982718">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7982742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="keyword" id="7982745">type</span>&nbsp;<span class="ident" id="7982750">OmitFieldTest</span>&nbsp;<span class="keyword" id="7982764">struct</span>&nbsp;<span class="op" id="7982771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982774">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982780">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982794">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982814">Named</span>&nbsp;<span class="builtintype" id="7982820">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982834">`xml:&#34;int,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982857">Float</span>&nbsp;<span class="builtintype" id="7982863">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982877">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982897">Uint8</span>&nbsp;<span class="builtintype" id="7982903">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982917">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982937">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="7982943">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982957">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982977">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7982983">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982997">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983017">Bytes</span>&nbsp;<span class="op" id="7983023">[</span><span class="op" id="7983024">]</span><span class="builtintype" id="7983025">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7983037">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983057">Ptr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7983063">*</span><span class="ident" id="7983064">PresenceTest</span>&nbsp;<span class="string" id="7983077">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7983096">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="7983099">type</span>&nbsp;<span class="ident" id="7983104">AnyTest</span>&nbsp;<span class="keyword" id="7983112">struct</span>&nbsp;<span class="op" id="7983119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983122">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="7983131">struct</span><span class="op" id="7983137">{</span><span class="op" id="7983138">}</span>&nbsp;&nbsp;<span class="string" id="7983141">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983152">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7983161">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7983171">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983193">AnyField</span>&nbsp;<span class="ident" id="7983202">AnyHolder</span>&nbsp;<span class="string" id="7983212">`xml:&#34;,any&#34;`</span><br>
<span class="lineno">220</span><span class="op" id="7983225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983228">type</span>&nbsp;<span class="ident" id="7983233">AnyOmitTest</span>&nbsp;<span class="keyword" id="7983245">struct</span>&nbsp;<span class="op" id="7983252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983255">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="7983264">struct</span><span class="op" id="7983270">{</span><span class="op" id="7983271">}</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7983275">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983286">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7983295">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7983306">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983328">AnyField</span>&nbsp;<span class="op" id="7983337">*</span><span class="ident" id="7983338">AnyHolder</span>&nbsp;<span class="string" id="7983348">`xml:&#34;,any,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7983371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983374">type</span>&nbsp;<span class="ident" id="7983379">AnySliceTest</span>&nbsp;<span class="keyword" id="7983392">struct</span>&nbsp;<span class="op" id="7983399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983402">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="7983411">struct</span><span class="op" id="7983417">{</span><span class="op" id="7983418">}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7983423">`xml:&#34;a&#34;`</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983434">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7983443">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7983455">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983477">AnyField</span>&nbsp;<span class="op" id="7983486">[</span><span class="op" id="7983487">]</span><span class="ident" id="7983488">AnyHolder</span>&nbsp;<span class="string" id="7983498">`xml:&#34;,any&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7983511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983514">type</span>&nbsp;<span class="ident" id="7983519">AnyHolder</span>&nbsp;<span class="keyword" id="7983529">struct</span>&nbsp;<span class="op" id="7983536">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983539">XMLName</span>&nbsp;<span class="ident" id="7983547">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983553">XML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7983561">string</span>&nbsp;<span class="string" id="7983568">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7983586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983589">type</span>&nbsp;<span class="ident" id="7983594">RecurseA</span>&nbsp;<span class="keyword" id="7983603">struct</span>&nbsp;<span class="op" id="7983610">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983613">A</span>&nbsp;<span class="builtintype" id="7983615">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983623">B</span>&nbsp;<span class="op" id="7983625">*</span><span class="ident" id="7983626">RecurseB</span><br>
<span class="lineno"></span><span class="op" id="7983635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983638">type</span>&nbsp;<span class="ident" id="7983643">RecurseB</span>&nbsp;<span class="keyword" id="7983652">struct</span>&nbsp;<span class="op" id="7983659">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983662">A</span>&nbsp;<span class="op" id="7983664">*</span><span class="ident" id="7983665">RecurseA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983675">B</span>&nbsp;<span class="builtintype" id="7983677">string</span><br>
<span class="lineno"></span><span class="op" id="7983684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983687">type</span>&nbsp;<span class="ident" id="7983692">PresenceTest</span>&nbsp;<span class="keyword" id="7983705">struct</span>&nbsp;<span class="op" id="7983712">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983715">Exists</span>&nbsp;<span class="op" id="7983722">*</span><span class="keyword" id="7983723">struct</span><span class="op" id="7983729">{</span><span class="op" id="7983730">}</span><br>
<span class="lineno"></span><span class="op" id="7983732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983735">type</span>&nbsp;<span class="ident" id="7983740">IgnoreTest</span>&nbsp;<span class="keyword" id="7983751">struct</span>&nbsp;<span class="op" id="7983758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983761">PublicSecret</span>&nbsp;<span class="builtintype" id="7983774">string</span>&nbsp;<span class="string" id="7983781">`xml:&#34;-&#34;`</span><br>
<span class="lineno">255</span><span class="op" id="7983791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983794">type</span>&nbsp;<span class="ident" id="7983799">MyBytes</span>&nbsp;<span class="op" id="7983807">[</span><span class="op" id="7983808">]</span><span class="builtintype" id="7983809">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983815">type</span>&nbsp;<span class="ident" id="7983820">Data</span>&nbsp;<span class="keyword" id="7983825">struct</span>&nbsp;<span class="op" id="7983832">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983835">Bytes</span>&nbsp;&nbsp;<span class="op" id="7983842">[</span><span class="op" id="7983843">]</span><span class="builtintype" id="7983844">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983850">Attr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7983857">[</span><span class="op" id="7983858">]</span><span class="builtintype" id="7983859">byte</span>&nbsp;<span class="string" id="7983864">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983879">Custom</span>&nbsp;<span class="ident" id="7983886">MyBytes</span><br>
<span class="lineno"></span><span class="op" id="7983894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7983897">type</span>&nbsp;<span class="ident" id="7983902">Plain</span>&nbsp;<span class="keyword" id="7983908">struct</span>&nbsp;<span class="op" id="7983915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983918">V</span>&nbsp;<span class="keyword" id="7983920">interface</span><span class="op" id="7983929">{</span><span class="op" id="7983930">}</span><br>
<span class="lineno"></span><span class="op" id="7983932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983935">type</span>&nbsp;<span class="ident" id="7983940">MyInt</span>&nbsp;<span class="builtintype" id="7983946">int</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="7983951">type</span>&nbsp;<span class="ident" id="7983956">EmbedInt</span>&nbsp;<span class="keyword" id="7983965">struct</span>&nbsp;<span class="op" id="7983972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983975">MyInt</span><br>
<span class="lineno"></span><span class="op" id="7983981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="keyword" id="7983984">type</span>&nbsp;<span class="ident" id="7983989">Strings</span>&nbsp;<span class="keyword" id="7983997">struct</span>&nbsp;<span class="op" id="7984004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984007">X</span>&nbsp;<span class="op" id="7984009">[</span><span class="op" id="7984010">]</span><span class="builtintype" id="7984011">string</span>&nbsp;<span class="string" id="7984018">`xml:&#34;A&gt;B,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7984040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984043">type</span>&nbsp;<span class="ident" id="7984048">PointerFieldsTest</span>&nbsp;<span class="keyword" id="7984066">struct</span>&nbsp;<span class="op" id="7984073">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984076">XMLName</span>&nbsp;&nbsp;<span class="ident" id="7984085">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7984093">`xml:&#34;dummy&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984108">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984117">*</span><span class="builtintype" id="7984118">string</span>&nbsp;<span class="string" id="7984125">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984144">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984153">*</span><span class="builtintype" id="7984154">uint</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7984161">`xml:&#34;age,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984179">Empty</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984188">*</span><span class="builtintype" id="7984189">string</span>&nbsp;<span class="string" id="7984196">`xml:&#34;empty,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984216">Contents</span>&nbsp;<span class="op" id="7984225">*</span><span class="builtintype" id="7984226">string</span>&nbsp;<span class="string" id="7984233">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">285</span><span class="op" id="7984251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984254">type</span>&nbsp;<span class="ident" id="7984259">ChardataEmptyTest</span>&nbsp;<span class="keyword" id="7984277">struct</span>&nbsp;<span class="op" id="7984284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984287">XMLName</span>&nbsp;&nbsp;<span class="ident" id="7984296">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7984304">`xml:&#34;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984318">Contents</span>&nbsp;<span class="op" id="7984327">*</span><span class="builtintype" id="7984328">string</span>&nbsp;<span class="string" id="7984335">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">290</span><span class="op" id="7984353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984356">type</span>&nbsp;<span class="ident" id="7984361">MyMarshalerTest</span>&nbsp;<span class="keyword" id="7984377">struct</span>&nbsp;<span class="op" id="7984384">{</span><br>
<span class="lineno"></span><span class="op" id="7984386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="7984389">var</span>&nbsp;<span class="ident" id="7984393">_</span>&nbsp;<span class="ident" id="7984395">Marshaler</span>&nbsp;<span class="op" id="7984405">=</span>&nbsp;<span class="op" id="7984407">(</span><span class="op" id="7984408">*</span><span class="ident" id="7984409">MyMarshalerTest</span><span class="op" id="7984424">)</span><span class="op" id="7984425">(</span><span class="builtintype" id="7984426">nil</span><span class="op" id="7984429">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984432">func</span>&nbsp;<span class="op" id="7984437">(</span><span class="ident" id="7984438">m</span>&nbsp;<span class="op" id="7984440">*</span><span class="ident" id="7984441">MyMarshalerTest</span><span class="op" id="7984456">)</span>&nbsp;<span class="ident" id="7984458">MarshalXML</span><span class="op" id="7984468">(</span><span class="ident" id="7984469">e</span>&nbsp;<span class="op" id="7984471">*</span><span class="ident" id="7984472">Encoder</span><span class="op" id="7984479">,</span>&nbsp;<span class="ident" id="7984481">start</span>&nbsp;<span class="ident" id="7984487">StartElement</span><span class="op" id="7984499">)</span>&nbsp;<span class="builtintype" id="7984501">error</span>&nbsp;<span class="op" id="7984507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984510">e</span><span class="op" id="7984511">.</span><span class="ident" id="7984512">EncodeToken</span><span class="op" id="7984523">(</span><span class="ident" id="7984524">start</span><span class="op" id="7984529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984532">e</span><span class="op" id="7984533">.</span><span class="ident" id="7984534">EncodeToken</span><span class="op" id="7984545">(</span><span class="ident" id="7984546">CharData</span><span class="op" id="7984554">(</span><span class="op" id="7984555">[</span><span class="op" id="7984556">]</span><span class="builtintype" id="7984557">byte</span><span class="op" id="7984561">(</span><span class="string" id="7984562">&#34;hello&nbsp;world&#34;</span><span class="op" id="7984575">)</span><span class="op" id="7984576">)</span><span class="op" id="7984577">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984580">e</span><span class="op" id="7984581">.</span><span class="ident" id="7984582">EncodeToken</span><span class="op" id="7984593">(</span><span class="ident" id="7984594">EndElement</span><span class="op" id="7984604">{</span><span class="ident" id="7984605">start</span><span class="op" id="7984610">.</span><span class="ident" id="7984611">Name</span><span class="op" id="7984615">}</span><span class="op" id="7984616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7984619">return</span>&nbsp;<span class="builtintype" id="7984626">nil</span><br>
<span class="lineno"></span><span class="op" id="7984630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984633">type</span>&nbsp;<span class="ident" id="7984638">MyMarshalerAttrTest</span>&nbsp;<span class="keyword" id="7984658">struct</span>&nbsp;<span class="op" id="7984665">{</span><br>
<span class="lineno">305</span><span class="op" id="7984667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984670">var</span>&nbsp;<span class="ident" id="7984674">_</span>&nbsp;<span class="ident" id="7984676">MarshalerAttr</span>&nbsp;<span class="op" id="7984690">=</span>&nbsp;<span class="op" id="7984692">(</span><span class="op" id="7984693">*</span><span class="ident" id="7984694">MyMarshalerAttrTest</span><span class="op" id="7984713">)</span><span class="op" id="7984714">(</span><span class="builtintype" id="7984715">nil</span><span class="op" id="7984718">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984721">func</span>&nbsp;<span class="op" id="7984726">(</span><span class="ident" id="7984727">m</span>&nbsp;<span class="op" id="7984729">*</span><span class="ident" id="7984730">MyMarshalerAttrTest</span><span class="op" id="7984749">)</span>&nbsp;<span class="ident" id="7984751">MarshalXMLAttr</span><span class="op" id="7984765">(</span><span class="ident" id="7984766">name</span>&nbsp;<span class="ident" id="7984771">Name</span><span class="op" id="7984775">)</span>&nbsp;<span class="op" id="7984777">(</span><span class="ident" id="7984778">Attr</span><span class="op" id="7984782">,</span>&nbsp;<span class="builtintype" id="7984784">error</span><span class="op" id="7984789">)</span>&nbsp;<span class="op" id="7984791">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7984794">return</span>&nbsp;<span class="ident" id="7984801">Attr</span><span class="op" id="7984805">{</span><span class="ident" id="7984806">name</span><span class="op" id="7984810">,</span>&nbsp;<span class="string" id="7984812">&#34;hello&nbsp;world&#34;</span><span class="op" id="7984825">}</span><span class="op" id="7984826">,</span>&nbsp;<span class="builtintype" id="7984828">nil</span><br>
<span class="lineno"></span><span class="op" id="7984832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984835">type</span>&nbsp;<span class="ident" id="7984840">MarshalerStruct</span>&nbsp;<span class="keyword" id="7984856">struct</span>&nbsp;<span class="op" id="7984863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984866">Foo</span>&nbsp;<span class="ident" id="7984870">MyMarshalerAttrTest</span>&nbsp;<span class="string" id="7984890">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno">315</span><span class="op" id="7984904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984907">type</span>&nbsp;<span class="ident" id="7984912">InnerStruct</span>&nbsp;<span class="keyword" id="7984924">struct</span>&nbsp;<span class="op" id="7984931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984934">XMLName</span>&nbsp;<span class="ident" id="7984942">Name</span>&nbsp;<span class="string" id="7984947">`xml:&#34;testns&nbsp;outer&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7984968">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="7984971">type</span>&nbsp;<span class="ident" id="7984976">OuterStruct</span>&nbsp;<span class="keyword" id="7984988">struct</span>&nbsp;<span class="op" id="7984995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7984998">InnerStruct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985011">IntAttr</span>&nbsp;<span class="builtintype" id="7985019">int</span>&nbsp;<span class="string" id="7985023">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7985040">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="7985043">type</span>&nbsp;<span class="ident" id="7985048">OuterNamedStruct</span>&nbsp;<span class="keyword" id="7985065">struct</span>&nbsp;<span class="op" id="7985072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985075">InnerStruct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985088">XMLName</span>&nbsp;<span class="ident" id="7985096">Name</span>&nbsp;<span class="string" id="7985101">`xml:&#34;outerns&nbsp;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985123">IntAttr</span>&nbsp;<span class="builtintype" id="7985131">int</span>&nbsp;&nbsp;<span class="string" id="7985136">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno">330</span><span class="op" id="7985153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7985156">type</span>&nbsp;<span class="ident" id="7985161">OuterNamedOrderedStruct</span>&nbsp;<span class="keyword" id="7985185">struct</span>&nbsp;<span class="op" id="7985192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985195">XMLName</span>&nbsp;<span class="ident" id="7985203">Name</span>&nbsp;<span class="string" id="7985208">`xml:&#34;outerns&nbsp;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985230">InnerStruct</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985243">IntAttr</span>&nbsp;<span class="builtintype" id="7985251">int</span>&nbsp;<span class="string" id="7985255">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7985272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7985275">type</span>&nbsp;<span class="ident" id="7985280">OuterOuterStruct</span>&nbsp;<span class="keyword" id="7985297">struct</span>&nbsp;<span class="op" id="7985304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985307">OuterStruct</span><br>
<span class="lineno">340</span><span class="op" id="7985319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7985322">func</span>&nbsp;<span class="ident" id="7985327">ifaceptr</span><span class="op" id="7985335">(</span><span class="ident" id="7985336">x</span>&nbsp;<span class="keyword" id="7985338">interface</span><span class="op" id="7985347">{</span><span class="op" id="7985348">}</span><span class="op" id="7985349">)</span>&nbsp;<span class="keyword" id="7985351">interface</span><span class="op" id="7985360">{</span><span class="op" id="7985361">}</span>&nbsp;<span class="op" id="7985363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7985366">return</span>&nbsp;<span class="op" id="7985373">&amp;</span><span class="ident" id="7985374">x</span><br>
<span class="lineno"></span><span class="op" id="7985376">}</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7985379">var</span>&nbsp;<span class="op" id="7985383">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985386">nameAttr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7985399">=</span>&nbsp;<span class="string" id="7985401">&#34;Sarah&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985410">ageAttr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7985423">=</span>&nbsp;<span class="builtintype" id="7985425">uint</span><span class="op" id="7985429">(</span><span class="num" id="7985430">12</span><span class="op" id="7985432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985435">contentsAttr</span>&nbsp;<span class="op" id="7985448">=</span>&nbsp;<span class="string" id="7985450">&#34;lorem&nbsp;ipsum&#34;</span><br>
<span class="lineno">350</span><span class="op" id="7985464">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7985467">//&nbsp;Unless&nbsp;explicitly&nbsp;stated&nbsp;as&nbsp;such&nbsp;(or&nbsp;*Plain),&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7985527">//&nbsp;tests&nbsp;below&nbsp;are&nbsp;two-way&nbsp;tests.&nbsp;When&nbsp;introducing&nbsp;new&nbsp;tests,</span><br>
<span class="lineno"></span><span class="comment" id="7985589">//&nbsp;please&nbsp;try&nbsp;to&nbsp;make&nbsp;them&nbsp;two-way&nbsp;as&nbsp;well&nbsp;to&nbsp;ensure&nbsp;that</span><br>
<span class="lineno">355</span><span class="comment" id="7985647">//&nbsp;marshalling&nbsp;and&nbsp;unmarshalling&nbsp;are&nbsp;as&nbsp;symmetrical&nbsp;as&nbsp;feasible.</span><br>
<span class="lineno"></span><span class="keyword" id="7985712">var</span>&nbsp;<span class="ident" id="7985716">marshalTests</span>&nbsp;<span class="op" id="7985729">=</span>&nbsp;<span class="op" id="7985731">[</span><span class="op" id="7985732">]</span><span class="keyword" id="7985733">struct</span>&nbsp;<span class="op" id="7985740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985743">Value</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7985757">interface</span><span class="op" id="7985766">{</span><span class="op" id="7985767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985770">ExpectXML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7985784">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985792">MarshalOnly</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7985806">bool</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7985812">UnmarshalOnly</span>&nbsp;<span class="builtintype" id="7985826">bool</span><br>
<span class="lineno"></span><span class="op" id="7985831">}</span><span class="op" id="7985832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7985835">//&nbsp;Test&nbsp;nil&nbsp;marshals&nbsp;to&nbsp;nothing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7985868">{</span><span class="ident" id="7985869">Value</span><span class="op" id="7985874">:</span>&nbsp;<span class="builtintype" id="7985876">nil</span><span class="op" id="7985879">,</span>&nbsp;<span class="ident" id="7985881">ExpectXML</span><span class="op" id="7985890">:</span>&nbsp;<span class="string" id="7985892">``</span><span class="op" id="7985894">,</span>&nbsp;<span class="ident" id="7985896">MarshalOnly</span><span class="op" id="7985907">:</span>&nbsp;<span class="builtintype" id="7985909">true</span><span class="op" id="7985913">}</span><span class="op" id="7985914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7985917">{</span><span class="ident" id="7985918">Value</span><span class="op" id="7985923">:</span>&nbsp;<span class="ident" id="7985925">nilStruct</span><span class="op" id="7985934">,</span>&nbsp;<span class="ident" id="7985936">ExpectXML</span><span class="op" id="7985945">:</span>&nbsp;<span class="string" id="7985947">``</span><span class="op" id="7985949">,</span>&nbsp;<span class="ident" id="7985951">MarshalOnly</span><span class="op" id="7985962">:</span>&nbsp;<span class="builtintype" id="7985964">true</span><span class="op" id="7985968">}</span><span class="op" id="7985969">,</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7985973">//&nbsp;Test&nbsp;value&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7985994">{</span><span class="ident" id="7985995">Value</span><span class="op" id="7986000">:</span>&nbsp;<span class="op" id="7986002">&amp;</span><span class="ident" id="7986003">Plain</span><span class="op" id="7986008">{</span><span class="builtintype" id="7986009">true</span><span class="op" id="7986013">}</span><span class="op" id="7986014">,</span>&nbsp;<span class="ident" id="7986016">ExpectXML</span><span class="op" id="7986025">:</span>&nbsp;<span class="string" id="7986027">`&lt;Plain&gt;&lt;V&gt;true&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986055">}</span><span class="op" id="7986056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986059">{</span><span class="ident" id="7986060">Value</span><span class="op" id="7986065">:</span>&nbsp;<span class="op" id="7986067">&amp;</span><span class="ident" id="7986068">Plain</span><span class="op" id="7986073">{</span><span class="builtintype" id="7986074">false</span><span class="op" id="7986079">}</span><span class="op" id="7986080">,</span>&nbsp;<span class="ident" id="7986082">ExpectXML</span><span class="op" id="7986091">:</span>&nbsp;<span class="string" id="7986093">`&lt;Plain&gt;&lt;V&gt;false&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986122">}</span><span class="op" id="7986123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986126">{</span><span class="ident" id="7986127">Value</span><span class="op" id="7986132">:</span>&nbsp;<span class="op" id="7986134">&amp;</span><span class="ident" id="7986135">Plain</span><span class="op" id="7986140">{</span><span class="builtintype" id="7986141">int</span><span class="op" id="7986144">(</span><span class="num" id="7986145">42</span><span class="op" id="7986147">)</span><span class="op" id="7986148">}</span><span class="op" id="7986149">,</span>&nbsp;<span class="ident" id="7986151">ExpectXML</span><span class="op" id="7986160">:</span>&nbsp;<span class="string" id="7986162">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986188">}</span><span class="op" id="7986189">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986192">{</span><span class="ident" id="7986193">Value</span><span class="op" id="7986198">:</span>&nbsp;<span class="op" id="7986200">&amp;</span><span class="ident" id="7986201">Plain</span><span class="op" id="7986206">{</span><span class="builtintype" id="7986207">int8</span><span class="op" id="7986211">(</span><span class="num" id="7986212">42</span><span class="op" id="7986214">)</span><span class="op" id="7986215">}</span><span class="op" id="7986216">,</span>&nbsp;<span class="ident" id="7986218">ExpectXML</span><span class="op" id="7986227">:</span>&nbsp;<span class="string" id="7986229">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986255">}</span><span class="op" id="7986256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986259">{</span><span class="ident" id="7986260">Value</span><span class="op" id="7986265">:</span>&nbsp;<span class="op" id="7986267">&amp;</span><span class="ident" id="7986268">Plain</span><span class="op" id="7986273">{</span><span class="builtintype" id="7986274">int16</span><span class="op" id="7986279">(</span><span class="num" id="7986280">42</span><span class="op" id="7986282">)</span><span class="op" id="7986283">}</span><span class="op" id="7986284">,</span>&nbsp;<span class="ident" id="7986286">ExpectXML</span><span class="op" id="7986295">:</span>&nbsp;<span class="string" id="7986297">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986323">}</span><span class="op" id="7986324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986327">{</span><span class="ident" id="7986328">Value</span><span class="op" id="7986333">:</span>&nbsp;<span class="op" id="7986335">&amp;</span><span class="ident" id="7986336">Plain</span><span class="op" id="7986341">{</span><span class="builtintype" id="7986342">int32</span><span class="op" id="7986347">(</span><span class="num" id="7986348">42</span><span class="op" id="7986350">)</span><span class="op" id="7986351">}</span><span class="op" id="7986352">,</span>&nbsp;<span class="ident" id="7986354">ExpectXML</span><span class="op" id="7986363">:</span>&nbsp;<span class="string" id="7986365">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986391">}</span><span class="op" id="7986392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986395">{</span><span class="ident" id="7986396">Value</span><span class="op" id="7986401">:</span>&nbsp;<span class="op" id="7986403">&amp;</span><span class="ident" id="7986404">Plain</span><span class="op" id="7986409">{</span><span class="builtintype" id="7986410">uint</span><span class="op" id="7986414">(</span><span class="num" id="7986415">42</span><span class="op" id="7986417">)</span><span class="op" id="7986418">}</span><span class="op" id="7986419">,</span>&nbsp;<span class="ident" id="7986421">ExpectXML</span><span class="op" id="7986430">:</span>&nbsp;<span class="string" id="7986432">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986458">}</span><span class="op" id="7986459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986462">{</span><span class="ident" id="7986463">Value</span><span class="op" id="7986468">:</span>&nbsp;<span class="op" id="7986470">&amp;</span><span class="ident" id="7986471">Plain</span><span class="op" id="7986476">{</span><span class="builtintype" id="7986477">uint8</span><span class="op" id="7986482">(</span><span class="num" id="7986483">42</span><span class="op" id="7986485">)</span><span class="op" id="7986486">}</span><span class="op" id="7986487">,</span>&nbsp;<span class="ident" id="7986489">ExpectXML</span><span class="op" id="7986498">:</span>&nbsp;<span class="string" id="7986500">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986526">}</span><span class="op" id="7986527">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986530">{</span><span class="ident" id="7986531">Value</span><span class="op" id="7986536">:</span>&nbsp;<span class="op" id="7986538">&amp;</span><span class="ident" id="7986539">Plain</span><span class="op" id="7986544">{</span><span class="builtintype" id="7986545">uint16</span><span class="op" id="7986551">(</span><span class="num" id="7986552">42</span><span class="op" id="7986554">)</span><span class="op" id="7986555">}</span><span class="op" id="7986556">,</span>&nbsp;<span class="ident" id="7986558">ExpectXML</span><span class="op" id="7986567">:</span>&nbsp;<span class="string" id="7986569">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986595">}</span><span class="op" id="7986596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986599">{</span><span class="ident" id="7986600">Value</span><span class="op" id="7986605">:</span>&nbsp;<span class="op" id="7986607">&amp;</span><span class="ident" id="7986608">Plain</span><span class="op" id="7986613">{</span><span class="builtintype" id="7986614">uint32</span><span class="op" id="7986620">(</span><span class="num" id="7986621">42</span><span class="op" id="7986623">)</span><span class="op" id="7986624">}</span><span class="op" id="7986625">,</span>&nbsp;<span class="ident" id="7986627">ExpectXML</span><span class="op" id="7986636">:</span>&nbsp;<span class="string" id="7986638">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986664">}</span><span class="op" id="7986665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986668">{</span><span class="ident" id="7986669">Value</span><span class="op" id="7986674">:</span>&nbsp;<span class="op" id="7986676">&amp;</span><span class="ident" id="7986677">Plain</span><span class="op" id="7986682">{</span><span class="builtintype" id="7986683">float32</span><span class="op" id="7986690">(</span><span class="num" id="7986691">1.25</span><span class="op" id="7986695">)</span><span class="op" id="7986696">}</span><span class="op" id="7986697">,</span>&nbsp;<span class="ident" id="7986699">ExpectXML</span><span class="op" id="7986708">:</span>&nbsp;<span class="string" id="7986710">`&lt;Plain&gt;&lt;V&gt;1.25&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986738">}</span><span class="op" id="7986739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986742">{</span><span class="ident" id="7986743">Value</span><span class="op" id="7986748">:</span>&nbsp;<span class="op" id="7986750">&amp;</span><span class="ident" id="7986751">Plain</span><span class="op" id="7986756">{</span><span class="builtintype" id="7986757">float64</span><span class="op" id="7986764">(</span><span class="num" id="7986765">1.25</span><span class="op" id="7986769">)</span><span class="op" id="7986770">}</span><span class="op" id="7986771">,</span>&nbsp;<span class="ident" id="7986773">ExpectXML</span><span class="op" id="7986782">:</span>&nbsp;<span class="string" id="7986784">`&lt;Plain&gt;&lt;V&gt;1.25&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986812">}</span><span class="op" id="7986813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986816">{</span><span class="ident" id="7986817">Value</span><span class="op" id="7986822">:</span>&nbsp;<span class="op" id="7986824">&amp;</span><span class="ident" id="7986825">Plain</span><span class="op" id="7986830">{</span><span class="builtintype" id="7986831">uintptr</span><span class="op" id="7986838">(</span><span class="num" id="7986839">0xFFDD</span><span class="op" id="7986845">)</span><span class="op" id="7986846">}</span><span class="op" id="7986847">,</span>&nbsp;<span class="ident" id="7986849">ExpectXML</span><span class="op" id="7986858">:</span>&nbsp;<span class="string" id="7986860">`&lt;Plain&gt;&lt;V&gt;65501&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986889">}</span><span class="op" id="7986890">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986893">{</span><span class="ident" id="7986894">Value</span><span class="op" id="7986899">:</span>&nbsp;<span class="op" id="7986901">&amp;</span><span class="ident" id="7986902">Plain</span><span class="op" id="7986907">{</span><span class="string" id="7986908">&#34;gopher&#34;</span><span class="op" id="7986916">}</span><span class="op" id="7986917">,</span>&nbsp;<span class="ident" id="7986919">ExpectXML</span><span class="op" id="7986928">:</span>&nbsp;<span class="string" id="7986930">`&lt;Plain&gt;&lt;V&gt;gopher&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7986960">}</span><span class="op" id="7986961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7986964">{</span><span class="ident" id="7986965">Value</span><span class="op" id="7986970">:</span>&nbsp;<span class="op" id="7986972">&amp;</span><span class="ident" id="7986973">Plain</span><span class="op" id="7986978">{</span><span class="op" id="7986979">[</span><span class="op" id="7986980">]</span><span class="builtintype" id="7986981">byte</span><span class="op" id="7986985">(</span><span class="string" id="7986986">&#34;gopher&#34;</span><span class="op" id="7986994">)</span><span class="op" id="7986995">}</span><span class="op" id="7986996">,</span>&nbsp;<span class="ident" id="7986998">ExpectXML</span><span class="op" id="7987007">:</span>&nbsp;<span class="string" id="7987009">`&lt;Plain&gt;&lt;V&gt;gopher&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987039">}</span><span class="op" id="7987040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987043">{</span><span class="ident" id="7987044">Value</span><span class="op" id="7987049">:</span>&nbsp;<span class="op" id="7987051">&amp;</span><span class="ident" id="7987052">Plain</span><span class="op" id="7987057">{</span><span class="string" id="7987058">&#34;&lt;/&gt;&#34;</span><span class="op" id="7987063">}</span><span class="op" id="7987064">,</span>&nbsp;<span class="ident" id="7987066">ExpectXML</span><span class="op" id="7987075">:</span>&nbsp;<span class="string" id="7987077">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987110">}</span><span class="op" id="7987111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987114">{</span><span class="ident" id="7987115">Value</span><span class="op" id="7987120">:</span>&nbsp;<span class="op" id="7987122">&amp;</span><span class="ident" id="7987123">Plain</span><span class="op" id="7987128">{</span><span class="op" id="7987129">[</span><span class="op" id="7987130">]</span><span class="builtintype" id="7987131">byte</span><span class="op" id="7987135">(</span><span class="string" id="7987136">&#34;&lt;/&gt;&#34;</span><span class="op" id="7987141">)</span><span class="op" id="7987142">}</span><span class="op" id="7987143">,</span>&nbsp;<span class="ident" id="7987145">ExpectXML</span><span class="op" id="7987154">:</span>&nbsp;<span class="string" id="7987156">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987189">}</span><span class="op" id="7987190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987193">{</span><span class="ident" id="7987194">Value</span><span class="op" id="7987199">:</span>&nbsp;<span class="op" id="7987201">&amp;</span><span class="ident" id="7987202">Plain</span><span class="op" id="7987207">{</span><span class="op" id="7987208">[</span><span class="num" id="7987209">3</span><span class="op" id="7987210">]</span><span class="builtintype" id="7987211">byte</span><span class="op" id="7987215">{</span><span class="string" id="7987216">&#39;&lt;&#39;</span><span class="op" id="7987219">,</span>&nbsp;<span class="string" id="7987221">&#39;/&#39;</span><span class="op" id="7987224">,</span>&nbsp;<span class="string" id="7987226">&#39;&gt;&#39;</span><span class="op" id="7987229">}</span><span class="op" id="7987230">}</span><span class="op" id="7987231">,</span>&nbsp;<span class="ident" id="7987233">ExpectXML</span><span class="op" id="7987242">:</span>&nbsp;<span class="string" id="7987244">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987277">}</span><span class="op" id="7987278">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987281">{</span><span class="ident" id="7987282">Value</span><span class="op" id="7987287">:</span>&nbsp;<span class="op" id="7987289">&amp;</span><span class="ident" id="7987290">Plain</span><span class="op" id="7987295">{</span><span class="ident" id="7987296">NamedType</span><span class="op" id="7987305">(</span><span class="string" id="7987306">&#34;potato&#34;</span><span class="op" id="7987314">)</span><span class="op" id="7987315">}</span><span class="op" id="7987316">,</span>&nbsp;<span class="ident" id="7987318">ExpectXML</span><span class="op" id="7987327">:</span>&nbsp;<span class="string" id="7987329">`&lt;Plain&gt;&lt;V&gt;potato&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987359">}</span><span class="op" id="7987360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987363">{</span><span class="ident" id="7987364">Value</span><span class="op" id="7987369">:</span>&nbsp;<span class="op" id="7987371">&amp;</span><span class="ident" id="7987372">Plain</span><span class="op" id="7987377">{</span><span class="op" id="7987378">[</span><span class="op" id="7987379">]</span><span class="builtintype" id="7987380">int</span><span class="op" id="7987383">{</span><span class="num" id="7987384">1</span><span class="op" id="7987385">,</span>&nbsp;<span class="num" id="7987387">2</span><span class="op" id="7987388">,</span>&nbsp;<span class="num" id="7987390">3</span><span class="op" id="7987391">}</span><span class="op" id="7987392">}</span><span class="op" id="7987393">,</span>&nbsp;<span class="ident" id="7987395">ExpectXML</span><span class="op" id="7987404">:</span>&nbsp;<span class="string" id="7987406">`&lt;Plain&gt;&lt;V&gt;1&lt;/V&gt;&lt;V&gt;2&lt;/V&gt;&lt;V&gt;3&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987447">}</span><span class="op" id="7987448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987451">{</span><span class="ident" id="7987452">Value</span><span class="op" id="7987457">:</span>&nbsp;<span class="op" id="7987459">&amp;</span><span class="ident" id="7987460">Plain</span><span class="op" id="7987465">{</span><span class="op" id="7987466">[</span><span class="num" id="7987467">3</span><span class="op" id="7987468">]</span><span class="builtintype" id="7987469">int</span><span class="op" id="7987472">{</span><span class="num" id="7987473">1</span><span class="op" id="7987474">,</span>&nbsp;<span class="num" id="7987476">2</span><span class="op" id="7987477">,</span>&nbsp;<span class="num" id="7987479">3</span><span class="op" id="7987480">}</span><span class="op" id="7987481">}</span><span class="op" id="7987482">,</span>&nbsp;<span class="ident" id="7987484">ExpectXML</span><span class="op" id="7987493">:</span>&nbsp;<span class="string" id="7987495">`&lt;Plain&gt;&lt;V&gt;1&lt;/V&gt;&lt;V&gt;2&lt;/V&gt;&lt;V&gt;3&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987536">}</span><span class="op" id="7987537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987540">{</span><span class="ident" id="7987541">Value</span><span class="op" id="7987546">:</span>&nbsp;<span class="ident" id="7987548">ifaceptr</span><span class="op" id="7987556">(</span><span class="builtintype" id="7987557">true</span><span class="op" id="7987561">)</span><span class="op" id="7987562">,</span>&nbsp;<span class="ident" id="7987564">MarshalOnly</span><span class="op" id="7987575">:</span>&nbsp;<span class="builtintype" id="7987577">true</span><span class="op" id="7987581">,</span>&nbsp;<span class="ident" id="7987583">ExpectXML</span><span class="op" id="7987592">:</span>&nbsp;<span class="string" id="7987594">`&lt;bool&gt;true&lt;/bool&gt;`</span><span class="op" id="7987613">}</span><span class="op" id="7987614">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7987618">//&nbsp;Test&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987637">Value</span><span class="op" id="7987642">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987648">&amp;</span><span class="ident" id="7987649">Plain</span><span class="op" id="7987654">{</span><span class="ident" id="7987655">time</span><span class="op" id="7987659">.</span><span class="ident" id="7987660">Unix</span><span class="op" id="7987664">(</span><span class="num" id="7987665">1e9</span><span class="op" id="7987668">,</span>&nbsp;<span class="num" id="7987670">123456789</span><span class="op" id="7987679">)</span><span class="op" id="7987680">.</span><span class="ident" id="7987681">UTC</span><span class="op" id="7987684">(</span><span class="op" id="7987685">)</span><span class="op" id="7987686">}</span><span class="op" id="7987687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987691">ExpectXML</span><span class="op" id="7987700">:</span>&nbsp;<span class="string" id="7987702">`&lt;Plain&gt;&lt;V&gt;2001-09-09T01:46:40.123456789Z&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="7987756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987759">}</span><span class="op" id="7987760">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7987764">//&nbsp;A&nbsp;pointer&nbsp;to&nbsp;struct{}&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;test&nbsp;for&nbsp;an&nbsp;element&#39;s&nbsp;presence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987841">Value</span><span class="op" id="7987846">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987852">&amp;</span><span class="ident" id="7987853">PresenceTest</span><span class="op" id="7987865">{</span><span class="builtinfunc" id="7987866">new</span><span class="op" id="7987869">(</span><span class="keyword" id="7987870">struct</span><span class="op" id="7987876">{</span><span class="op" id="7987877">}</span><span class="op" id="7987878">)</span><span class="op" id="7987879">}</span><span class="op" id="7987880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987884">ExpectXML</span><span class="op" id="7987893">:</span>&nbsp;<span class="string" id="7987895">`&lt;PresenceTest&gt;&lt;Exists&gt;&lt;/Exists&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="7987943">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987946">}</span><span class="op" id="7987947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987954">Value</span><span class="op" id="7987959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7987965">&amp;</span><span class="ident" id="7987966">PresenceTest</span><span class="op" id="7987978">{</span><span class="op" id="7987979">}</span><span class="op" id="7987980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7987984">ExpectXML</span><span class="op" id="7987993">:</span>&nbsp;<span class="string" id="7987995">`&lt;PresenceTest&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="7988026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988029">}</span><span class="op" id="7988030">,</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7988034">//&nbsp;A&nbsp;pointer&nbsp;to&nbsp;struct{}&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;test&nbsp;for&nbsp;an&nbsp;element&#39;s&nbsp;presence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988111">Value</span><span class="op" id="7988116">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988122">&amp;</span><span class="ident" id="7988123">PresenceTest</span><span class="op" id="7988135">{</span><span class="builtinfunc" id="7988136">new</span><span class="op" id="7988139">(</span><span class="keyword" id="7988140">struct</span><span class="op" id="7988146">{</span><span class="op" id="7988147">}</span><span class="op" id="7988148">)</span><span class="op" id="7988149">}</span><span class="op" id="7988150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988154">ExpectXML</span><span class="op" id="7988163">:</span>&nbsp;<span class="string" id="7988165">`&lt;PresenceTest&gt;&lt;Exists&gt;&lt;/Exists&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="7988213">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988216">}</span><span class="op" id="7988217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988224">Value</span><span class="op" id="7988229">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988235">&amp;</span><span class="ident" id="7988236">PresenceTest</span><span class="op" id="7988248">{</span><span class="op" id="7988249">}</span><span class="op" id="7988250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988254">ExpectXML</span><span class="op" id="7988263">:</span>&nbsp;<span class="string" id="7988265">`&lt;PresenceTest&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="7988296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988299">}</span><span class="op" id="7988300">,</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7988304">//&nbsp;A&nbsp;[]byte&nbsp;field&nbsp;is&nbsp;only&nbsp;nil&nbsp;if&nbsp;the&nbsp;element&nbsp;was&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988369">Value</span><span class="op" id="7988374">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988384">&amp;</span><span class="ident" id="7988385">Data</span><span class="op" id="7988389">{</span><span class="op" id="7988390">}</span><span class="op" id="7988391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988395">ExpectXML</span><span class="op" id="7988404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7988410">`&lt;Data&gt;&lt;/Data&gt;`</span><span class="op" id="7988425">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988429">UnmarshalOnly</span><span class="op" id="7988442">:</span>&nbsp;<span class="builtintype" id="7988444">true</span><span class="op" id="7988448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988451">}</span><span class="op" id="7988452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988459">Value</span><span class="op" id="7988464">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988474">&amp;</span><span class="ident" id="7988475">Data</span><span class="op" id="7988479">{</span><span class="ident" id="7988480">Bytes</span><span class="op" id="7988485">:</span>&nbsp;<span class="op" id="7988487">[</span><span class="op" id="7988488">]</span><span class="builtintype" id="7988489">byte</span><span class="op" id="7988493">{</span><span class="op" id="7988494">}</span><span class="op" id="7988495">,</span>&nbsp;<span class="ident" id="7988497">Custom</span><span class="op" id="7988503">:</span>&nbsp;<span class="ident" id="7988505">MyBytes</span><span class="op" id="7988512">{</span><span class="op" id="7988513">}</span><span class="op" id="7988514">,</span>&nbsp;<span class="ident" id="7988516">Attr</span><span class="op" id="7988520">:</span>&nbsp;<span class="op" id="7988522">[</span><span class="op" id="7988523">]</span><span class="builtintype" id="7988524">byte</span><span class="op" id="7988528">{</span><span class="op" id="7988529">}</span><span class="op" id="7988530">}</span><span class="op" id="7988531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988535">ExpectXML</span><span class="op" id="7988544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7988550">`&lt;Data&nbsp;Attr=&#34;&#34;&gt;&lt;Bytes&gt;&lt;/Bytes&gt;&lt;Custom&gt;&lt;/Custom&gt;&lt;/Data&gt;`</span><span class="op" id="7988605">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988609">UnmarshalOnly</span><span class="op" id="7988622">:</span>&nbsp;<span class="builtintype" id="7988624">true</span><span class="op" id="7988628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988631">}</span><span class="op" id="7988632">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7988636">//&nbsp;Check&nbsp;that&nbsp;[]byte&nbsp;works,&nbsp;including&nbsp;named&nbsp;[]byte&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988695">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988699">Value</span><span class="op" id="7988704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988710">&amp;</span><span class="ident" id="7988711">Data</span><span class="op" id="7988715">{</span><span class="ident" id="7988716">Bytes</span><span class="op" id="7988721">:</span>&nbsp;<span class="op" id="7988723">[</span><span class="op" id="7988724">]</span><span class="builtintype" id="7988725">byte</span><span class="op" id="7988729">(</span><span class="string" id="7988730">&#34;ab&#34;</span><span class="op" id="7988734">)</span><span class="op" id="7988735">,</span>&nbsp;<span class="ident" id="7988737">Custom</span><span class="op" id="7988743">:</span>&nbsp;<span class="ident" id="7988745">MyBytes</span><span class="op" id="7988752">(</span><span class="string" id="7988753">&#34;cd&#34;</span><span class="op" id="7988757">)</span><span class="op" id="7988758">,</span>&nbsp;<span class="ident" id="7988760">Attr</span><span class="op" id="7988764">:</span>&nbsp;<span class="op" id="7988766">[</span><span class="op" id="7988767">]</span><span class="builtintype" id="7988768">byte</span><span class="op" id="7988772">{</span><span class="string" id="7988773">&#39;v&#39;</span><span class="op" id="7988776">}</span><span class="op" id="7988777">}</span><span class="op" id="7988778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988782">ExpectXML</span><span class="op" id="7988791">:</span>&nbsp;<span class="string" id="7988793">`&lt;Data&nbsp;Attr=&#34;v&#34;&gt;&lt;Bytes&gt;ab&lt;/Bytes&gt;&lt;Custom&gt;cd&lt;/Custom&gt;&lt;/Data&gt;`</span><span class="op" id="7988853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988856">}</span><span class="op" id="7988857">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7988861">//&nbsp;Test&nbsp;innerxml</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988883">Value</span><span class="op" id="7988888">:</span>&nbsp;<span class="op" id="7988890">&amp;</span><span class="ident" id="7988891">SecretAgent</span><span class="op" id="7988902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988907">Handle</span><span class="op" id="7988913">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7988918">&#34;007&#34;</span><span class="op" id="7988923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988928">Identity</span><span class="op" id="7988936">:</span>&nbsp;&nbsp;<span class="string" id="7988939">&#34;James&nbsp;Bond&#34;</span><span class="op" id="7988951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988956">Obfuscate</span><span class="op" id="7988965">:</span>&nbsp;<span class="string" id="7988967">&#34;&lt;redacted/&gt;&#34;</span><span class="op" id="7988980">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7988984">}</span><span class="op" id="7988985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7988989">ExpectXML</span><span class="op" id="7988998">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7989002">`&lt;agent&nbsp;handle=&#34;007&#34;&gt;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&lt;/agent&gt;`</span><span class="op" id="7989074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989078">MarshalOnly</span><span class="op" id="7989089">:</span>&nbsp;<span class="builtintype" id="7989091">true</span><span class="op" id="7989095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989098">}</span><span class="op" id="7989099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989102">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989106">Value</span><span class="op" id="7989111">:</span>&nbsp;<span class="op" id="7989113">&amp;</span><span class="ident" id="7989114">SecretAgent</span><span class="op" id="7989125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989130">Handle</span><span class="op" id="7989136">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7989141">&#34;007&#34;</span><span class="op" id="7989146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989151">Identity</span><span class="op" id="7989159">:</span>&nbsp;&nbsp;<span class="string" id="7989162">&#34;James&nbsp;Bond&#34;</span><span class="op" id="7989174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989179">Obfuscate</span><span class="op" id="7989188">:</span>&nbsp;<span class="string" id="7989190">&#34;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&#34;</span><span class="op" id="7989234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989238">}</span><span class="op" id="7989239">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989243">ExpectXML</span><span class="op" id="7989252">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7989258">`&lt;agent&nbsp;handle=&#34;007&#34;&gt;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&lt;/agent&gt;`</span><span class="op" id="7989330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7989334">UnmarshalOnly</span><span class="op" id="7989347">:</span>&nbsp;<span class="builtintype" id="7989349">true</span><span class="op" id="7989353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989356">}</span><span class="op" id="7989357">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7989361">//&nbsp;Test&nbsp;structs</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989378">{</span><span class="ident" id="7989379">Value</span><span class="op" id="7989384">:</span>&nbsp;<span class="op" id="7989386">&amp;</span><span class="ident" id="7989387">Port</span><span class="op" id="7989391">{</span><span class="ident" id="7989392">Type</span><span class="op" id="7989396">:</span>&nbsp;<span class="string" id="7989398">&#34;ssl&#34;</span><span class="op" id="7989403">,</span>&nbsp;<span class="ident" id="7989405">Number</span><span class="op" id="7989411">:</span>&nbsp;<span class="string" id="7989413">&#34;443&#34;</span><span class="op" id="7989418">}</span><span class="op" id="7989419">,</span>&nbsp;<span class="ident" id="7989421">ExpectXML</span><span class="op" id="7989430">:</span>&nbsp;<span class="string" id="7989432">`&lt;port&nbsp;type=&#34;ssl&#34;&gt;443&lt;/port&gt;`</span><span class="op" id="7989461">}</span><span class="op" id="7989462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989465">{</span><span class="ident" id="7989466">Value</span><span class="op" id="7989471">:</span>&nbsp;<span class="op" id="7989473">&amp;</span><span class="ident" id="7989474">Port</span><span class="op" id="7989478">{</span><span class="ident" id="7989479">Number</span><span class="op" id="7989485">:</span>&nbsp;<span class="string" id="7989487">&#34;443&#34;</span><span class="op" id="7989492">}</span><span class="op" id="7989493">,</span>&nbsp;<span class="ident" id="7989495">ExpectXML</span><span class="op" id="7989504">:</span>&nbsp;<span class="string" id="7989506">`&lt;port&gt;443&lt;/port&gt;`</span><span class="op" id="7989524">}</span><span class="op" id="7989525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989528">{</span><span class="ident" id="7989529">Value</span><span class="op" id="7989534">:</span>&nbsp;<span class="op" id="7989536">&amp;</span><span class="ident" id="7989537">Port</span><span class="op" id="7989541">{</span><span class="ident" id="7989542">Type</span><span class="op" id="7989546">:</span>&nbsp;<span class="string" id="7989548">&#34;&lt;unix&gt;&#34;</span><span class="op" id="7989556">}</span><span class="op" id="7989557">,</span>&nbsp;<span class="ident" id="7989559">ExpectXML</span><span class="op" id="7989568">:</span>&nbsp;<span class="string" id="7989570">`&lt;port&nbsp;type=&#34;&amp;lt;unix&amp;gt;&#34;&gt;&lt;/port&gt;`</span><span class="op" id="7989605">}</span><span class="op" id="7989606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989609">{</span><span class="ident" id="7989610">Value</span><span class="op" id="7989615">:</span>&nbsp;<span class="op" id="7989617">&amp;</span><span class="ident" id="7989618">Port</span><span class="op" id="7989622">{</span><span class="ident" id="7989623">Number</span><span class="op" id="7989629">:</span>&nbsp;<span class="string" id="7989631">&#34;443&#34;</span><span class="op" id="7989636">,</span>&nbsp;<span class="ident" id="7989638">Comment</span><span class="op" id="7989645">:</span>&nbsp;<span class="string" id="7989647">&#34;https&#34;</span><span class="op" id="7989654">}</span><span class="op" id="7989655">,</span>&nbsp;<span class="ident" id="7989657">ExpectXML</span><span class="op" id="7989666">:</span>&nbsp;<span class="string" id="7989668">`&lt;port&gt;&lt;!--https--&gt;443&lt;/port&gt;`</span><span class="op" id="7989698">}</span><span class="op" id="7989699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989702">{</span><span class="ident" id="7989703">Value</span><span class="op" id="7989708">:</span>&nbsp;<span class="op" id="7989710">&amp;</span><span class="ident" id="7989711">Port</span><span class="op" id="7989715">{</span><span class="ident" id="7989716">Number</span><span class="op" id="7989722">:</span>&nbsp;<span class="string" id="7989724">&#34;443&#34;</span><span class="op" id="7989729">,</span>&nbsp;<span class="ident" id="7989731">Comment</span><span class="op" id="7989738">:</span>&nbsp;<span class="string" id="7989740">&#34;add&nbsp;space-&#34;</span><span class="op" id="7989752">}</span><span class="op" id="7989753">,</span>&nbsp;<span class="ident" id="7989755">ExpectXML</span><span class="op" id="7989764">:</span>&nbsp;<span class="string" id="7989766">`&lt;port&gt;&lt;!--add&nbsp;space-&nbsp;--&gt;443&lt;/port&gt;`</span><span class="op" id="7989802">,</span>&nbsp;<span class="ident" id="7989804">MarshalOnly</span><span class="op" id="7989815">:</span>&nbsp;<span class="builtintype" id="7989817">true</span><span class="op" id="7989821">}</span><span class="op" id="7989822">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989825">{</span><span class="ident" id="7989826">Value</span><span class="op" id="7989831">:</span>&nbsp;<span class="op" id="7989833">&amp;</span><span class="ident" id="7989834">Domain</span><span class="op" id="7989840">{</span><span class="ident" id="7989841">Name</span><span class="op" id="7989845">:</span>&nbsp;<span class="op" id="7989847">[</span><span class="op" id="7989848">]</span><span class="builtintype" id="7989849">byte</span><span class="op" id="7989853">(</span><span class="string" id="7989854">&#34;google.com&amp;friends&#34;</span><span class="op" id="7989874">)</span><span class="op" id="7989875">}</span><span class="op" id="7989876">,</span>&nbsp;<span class="ident" id="7989878">ExpectXML</span><span class="op" id="7989887">:</span>&nbsp;<span class="string" id="7989889">`&lt;domain&gt;google.com&amp;amp;friends&lt;/domain&gt;`</span><span class="op" id="7989930">}</span><span class="op" id="7989931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7989934">{</span><span class="ident" id="7989935">Value</span><span class="op" id="7989940">:</span>&nbsp;<span class="op" id="7989942">&amp;</span><span class="ident" id="7989943">Domain</span><span class="op" id="7989949">{</span><span class="ident" id="7989950">Name</span><span class="op" id="7989954">:</span>&nbsp;<span class="op" id="7989956">[</span><span class="op" id="7989957">]</span><span class="builtintype" id="7989958">byte</span><span class="op" id="7989962">(</span><span class="string" id="7989963">&#34;google.com&#34;</span><span class="op" id="7989975">)</span><span class="op" id="7989976">,</span>&nbsp;<span class="ident" id="7989978">Comment</span><span class="op" id="7989985">:</span>&nbsp;<span class="op" id="7989987">[</span><span class="op" id="7989988">]</span><span class="builtintype" id="7989989">byte</span><span class="op" id="7989993">(</span><span class="string" id="7989994">&#34;&nbsp;&amp;friends&nbsp;&#34;</span><span class="op" id="7990006">)</span><span class="op" id="7990007">}</span><span class="op" id="7990008">,</span>&nbsp;<span class="ident" id="7990010">ExpectXML</span><span class="op" id="7990019">:</span>&nbsp;<span class="string" id="7990021">`&lt;domain&gt;google.com&lt;!--&nbsp;&amp;friends&nbsp;--&gt;&lt;/domain&gt;`</span><span class="op" id="7990067">}</span><span class="op" id="7990068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990071">{</span><span class="ident" id="7990072">Value</span><span class="op" id="7990077">:</span>&nbsp;<span class="op" id="7990079">&amp;</span><span class="ident" id="7990080">Book</span><span class="op" id="7990084">{</span><span class="ident" id="7990085">Title</span><span class="op" id="7990090">:</span>&nbsp;<span class="string" id="7990092">&#34;Pride&nbsp;&amp;&nbsp;Prejudice&#34;</span><span class="op" id="7990111">}</span><span class="op" id="7990112">,</span>&nbsp;<span class="ident" id="7990114">ExpectXML</span><span class="op" id="7990123">:</span>&nbsp;<span class="string" id="7990125">`&lt;book&gt;Pride&nbsp;&amp;amp;&nbsp;Prejudice&lt;/book&gt;`</span><span class="op" id="7990161">}</span><span class="op" id="7990162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990165">{</span><span class="ident" id="7990166">Value</span><span class="op" id="7990171">:</span>&nbsp;<span class="op" id="7990173">&amp;</span><span class="ident" id="7990174">Event</span><span class="op" id="7990179">{</span><span class="ident" id="7990180">Year</span><span class="op" id="7990184">:</span>&nbsp;<span class="op" id="7990186">-</span><span class="num" id="7990187">3114</span><span class="op" id="7990191">}</span><span class="op" id="7990192">,</span>&nbsp;<span class="ident" id="7990194">ExpectXML</span><span class="op" id="7990203">:</span>&nbsp;<span class="string" id="7990205">`&lt;event&gt;-3114&lt;/event&gt;`</span><span class="op" id="7990227">}</span><span class="op" id="7990228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990231">{</span><span class="ident" id="7990232">Value</span><span class="op" id="7990237">:</span>&nbsp;<span class="op" id="7990239">&amp;</span><span class="ident" id="7990240">Movie</span><span class="op" id="7990245">{</span><span class="ident" id="7990246">Length</span><span class="op" id="7990252">:</span>&nbsp;<span class="num" id="7990254">13440</span><span class="op" id="7990259">}</span><span class="op" id="7990260">,</span>&nbsp;<span class="ident" id="7990262">ExpectXML</span><span class="op" id="7990271">:</span>&nbsp;<span class="string" id="7990273">`&lt;movie&gt;13440&lt;/movie&gt;`</span><span class="op" id="7990295">}</span><span class="op" id="7990296">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990299">{</span><span class="ident" id="7990300">Value</span><span class="op" id="7990305">:</span>&nbsp;<span class="op" id="7990307">&amp;</span><span class="ident" id="7990308">Pi</span><span class="op" id="7990310">{</span><span class="ident" id="7990311">Approximation</span><span class="op" id="7990324">:</span>&nbsp;<span class="num" id="7990326">3.14159265</span><span class="op" id="7990336">}</span><span class="op" id="7990337">,</span>&nbsp;<span class="ident" id="7990339">ExpectXML</span><span class="op" id="7990348">:</span>&nbsp;<span class="string" id="7990350">`&lt;pi&gt;3.1415927&lt;/pi&gt;`</span><span class="op" id="7990370">}</span><span class="op" id="7990371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990374">{</span><span class="ident" id="7990375">Value</span><span class="op" id="7990380">:</span>&nbsp;<span class="op" id="7990382">&amp;</span><span class="ident" id="7990383">Universe</span><span class="op" id="7990391">{</span><span class="ident" id="7990392">Visible</span><span class="op" id="7990399">:</span>&nbsp;<span class="num" id="7990401">9.3e13</span><span class="op" id="7990407">}</span><span class="op" id="7990408">,</span>&nbsp;<span class="ident" id="7990410">ExpectXML</span><span class="op" id="7990419">:</span>&nbsp;<span class="string" id="7990421">`&lt;universe&gt;9.3e+13&lt;/universe&gt;`</span><span class="op" id="7990451">}</span><span class="op" id="7990452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990455">{</span><span class="ident" id="7990456">Value</span><span class="op" id="7990461">:</span>&nbsp;<span class="op" id="7990463">&amp;</span><span class="ident" id="7990464">Particle</span><span class="op" id="7990472">{</span><span class="ident" id="7990473">HasMass</span><span class="op" id="7990480">:</span>&nbsp;<span class="builtintype" id="7990482">true</span><span class="op" id="7990486">}</span><span class="op" id="7990487">,</span>&nbsp;<span class="ident" id="7990489">ExpectXML</span><span class="op" id="7990498">:</span>&nbsp;<span class="string" id="7990500">`&lt;particle&gt;true&lt;/particle&gt;`</span><span class="op" id="7990527">}</span><span class="op" id="7990528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990531">{</span><span class="ident" id="7990532">Value</span><span class="op" id="7990537">:</span>&nbsp;<span class="op" id="7990539">&amp;</span><span class="ident" id="7990540">Departure</span><span class="op" id="7990549">{</span><span class="ident" id="7990550">When</span><span class="op" id="7990554">:</span>&nbsp;<span class="ident" id="7990556">ParseTime</span><span class="op" id="7990565">(</span><span class="string" id="7990566">&#34;2013-01-09T00:15:00-09:00&#34;</span><span class="op" id="7990593">)</span><span class="op" id="7990594">}</span><span class="op" id="7990595">,</span>&nbsp;<span class="ident" id="7990597">ExpectXML</span><span class="op" id="7990606">:</span>&nbsp;<span class="string" id="7990608">`&lt;departure&gt;2013-01-09T00:15:00-09:00&lt;/departure&gt;`</span><span class="op" id="7990658">}</span><span class="op" id="7990659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990662">{</span><span class="ident" id="7990663">Value</span><span class="op" id="7990668">:</span>&nbsp;<span class="ident" id="7990670">atomValue</span><span class="op" id="7990679">,</span>&nbsp;<span class="ident" id="7990681">ExpectXML</span><span class="op" id="7990690">:</span>&nbsp;<span class="ident" id="7990692">atomXml</span><span class="op" id="7990699">}</span><span class="op" id="7990700">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990707">Value</span><span class="op" id="7990712">:</span>&nbsp;<span class="op" id="7990714">&amp;</span><span class="ident" id="7990715">Ship</span><span class="op" id="7990719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990724">Name</span><span class="op" id="7990728">:</span>&nbsp;&nbsp;<span class="string" id="7990731">&#34;Heart&nbsp;of&nbsp;Gold&#34;</span><span class="op" id="7990746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990751">Pilot</span><span class="op" id="7990756">:</span>&nbsp;<span class="string" id="7990758">&#34;Computer&#34;</span><span class="op" id="7990768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990773">Age</span><span class="op" id="7990776">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7990780">1</span><span class="op" id="7990781">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990786">Drive</span><span class="op" id="7990791">:</span>&nbsp;<span class="ident" id="7990793">ImprobabilityDrive</span><span class="op" id="7990811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990816">Passenger</span><span class="op" id="7990825">:</span>&nbsp;<span class="op" id="7990827">[</span><span class="op" id="7990828">]</span><span class="op" id="7990829">*</span><span class="ident" id="7990830">Passenger</span><span class="op" id="7990839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990852">Name</span><span class="op" id="7990856">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7990860">[</span><span class="op" id="7990861">]</span><span class="builtintype" id="7990862">string</span><span class="op" id="7990868">{</span><span class="string" id="7990869">&#34;Zaphod&#34;</span><span class="op" id="7990877">,</span>&nbsp;<span class="string" id="7990879">&#34;Beeblebrox&#34;</span><span class="op" id="7990891">}</span><span class="op" id="7990892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990899">Weight</span><span class="op" id="7990905">:</span>&nbsp;<span class="num" id="7990907">7.25</span><span class="op" id="7990911">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990917">}</span><span class="op" id="7990918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990931">Name</span><span class="op" id="7990935">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7990939">[</span><span class="op" id="7990940">]</span><span class="builtintype" id="7990941">string</span><span class="op" id="7990947">{</span><span class="string" id="7990948">&#34;Trisha&#34;</span><span class="op" id="7990956">,</span>&nbsp;<span class="string" id="7990958">&#34;McMillen&#34;</span><span class="op" id="7990968">}</span><span class="op" id="7990969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7990976">Weight</span><span class="op" id="7990982">:</span>&nbsp;<span class="num" id="7990984">5.5</span><span class="op" id="7990987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7990993">}</span><span class="op" id="7990994">,</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991007">Name</span><span class="op" id="7991011">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7991015">[</span><span class="op" id="7991016">]</span><span class="builtintype" id="7991017">string</span><span class="op" id="7991023">{</span><span class="string" id="7991024">&#34;Ford&#34;</span><span class="op" id="7991030">,</span>&nbsp;<span class="string" id="7991032">&#34;Prefect&#34;</span><span class="op" id="7991041">}</span><span class="op" id="7991042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991049">Weight</span><span class="op" id="7991055">:</span>&nbsp;<span class="num" id="7991057">7</span><span class="op" id="7991058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991064">}</span><span class="op" id="7991065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991071">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991078">Name</span><span class="op" id="7991082">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7991086">[</span><span class="op" id="7991087">]</span><span class="builtintype" id="7991088">string</span><span class="op" id="7991094">{</span><span class="string" id="7991095">&#34;Arthur&#34;</span><span class="op" id="7991103">,</span>&nbsp;<span class="string" id="7991105">&#34;Dent&#34;</span><span class="op" id="7991111">}</span><span class="op" id="7991112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991119">Weight</span><span class="op" id="7991125">:</span>&nbsp;<span class="num" id="7991127">6.75</span><span class="op" id="7991131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991137">}</span><span class="op" id="7991138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991143">}</span><span class="op" id="7991144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991148">}</span><span class="op" id="7991149">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991153">ExpectXML</span><span class="op" id="7991162">:</span>&nbsp;<span class="string" id="7991164">`&lt;spaceship&nbsp;name=&#34;Heart&nbsp;of&nbsp;Gold&#34;&nbsp;pilot=&#34;Computer&#34;&gt;`</span>&nbsp;<span class="op" id="7991216">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991221">`&lt;drive&gt;`</span>&nbsp;<span class="op" id="7991231">+</span>&nbsp;<span class="ident" id="7991233">strconv</span><span class="op" id="7991240">.</span><span class="ident" id="7991241">Itoa</span><span class="op" id="7991245">(</span><span class="builtintype" id="7991246">int</span><span class="op" id="7991249">(</span><span class="ident" id="7991250">ImprobabilityDrive</span><span class="op" id="7991268">)</span><span class="op" id="7991269">)</span>&nbsp;<span class="op" id="7991271">+</span>&nbsp;<span class="string" id="7991273">`&lt;/drive&gt;`</span>&nbsp;<span class="op" id="7991284">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991289">`&lt;age&gt;1&lt;/age&gt;`</span>&nbsp;<span class="op" id="7991304">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991309">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="7991323">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991328">`&lt;name&gt;Zaphod&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991350">+</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991355">`&lt;name&gt;Beeblebrox&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991381">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991386">`&lt;weight&gt;7.25&lt;/weight&gt;`</span>&nbsp;<span class="op" id="7991410">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991415">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="7991430">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991435">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="7991449">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991454">`&lt;name&gt;Trisha&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991476">+</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991481">`&lt;name&gt;McMillen&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991505">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991510">`&lt;weight&gt;5.5&lt;/weight&gt;`</span>&nbsp;<span class="op" id="7991533">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991538">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="7991553">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991558">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="7991572">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991577">`&lt;name&gt;Ford&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991597">+</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991602">`&lt;name&gt;Prefect&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991625">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991630">`&lt;weight&gt;7&lt;/weight&gt;`</span>&nbsp;<span class="op" id="7991651">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991656">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="7991671">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991676">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="7991690">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991695">`&lt;name&gt;Arthur&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991717">+</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991722">`&lt;name&gt;Dent&lt;/name&gt;`</span>&nbsp;<span class="op" id="7991742">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991747">`&lt;weight&gt;6.75&lt;/weight&gt;`</span>&nbsp;<span class="op" id="7991771">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991776">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="7991791">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991796">`&lt;/spaceship&gt;`</span><span class="op" id="7991810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991813">}</span><span class="op" id="7991814">,</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7991818">//&nbsp;Test&nbsp;a&gt;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991835">Value</span><span class="op" id="7991840">:</span>&nbsp;<span class="op" id="7991842">&amp;</span><span class="ident" id="7991843">NestedItems</span><span class="op" id="7991854">{</span><span class="ident" id="7991855">Items</span><span class="op" id="7991860">:</span>&nbsp;<span class="builtintype" id="7991862">nil</span><span class="op" id="7991865">,</span>&nbsp;<span class="ident" id="7991867">Item1</span><span class="op" id="7991872">:</span>&nbsp;<span class="builtintype" id="7991874">nil</span><span class="op" id="7991877">}</span><span class="op" id="7991878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991882">ExpectXML</span><span class="op" id="7991891">:</span>&nbsp;<span class="string" id="7991893">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7991904">+</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991909">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="7991919">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991924">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="7991935">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7991940">`&lt;/result&gt;`</span><span class="op" id="7991951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991954">}</span><span class="op" id="7991955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7991958">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7991962">Value</span><span class="op" id="7991967">:</span>&nbsp;<span class="op" id="7991969">&amp;</span><span class="ident" id="7991970">NestedItems</span><span class="op" id="7991981">{</span><span class="ident" id="7991982">Items</span><span class="op" id="7991987">:</span>&nbsp;<span class="op" id="7991989">[</span><span class="op" id="7991990">]</span><span class="builtintype" id="7991991">string</span><span class="op" id="7991997">{</span><span class="op" id="7991998">}</span><span class="op" id="7991999">,</span>&nbsp;<span class="ident" id="7992001">Item1</span><span class="op" id="7992006">:</span>&nbsp;<span class="op" id="7992008">[</span><span class="op" id="7992009">]</span><span class="builtintype" id="7992010">string</span><span class="op" id="7992016">{</span><span class="op" id="7992017">}</span><span class="op" id="7992018">}</span><span class="op" id="7992019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992023">ExpectXML</span><span class="op" id="7992032">:</span>&nbsp;<span class="string" id="7992034">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7992045">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992050">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="7992060">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992065">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="7992076">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992081">`&lt;/result&gt;`</span><span class="op" id="7992092">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992096">MarshalOnly</span><span class="op" id="7992107">:</span>&nbsp;<span class="builtintype" id="7992109">true</span><span class="op" id="7992113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992116">}</span><span class="op" id="7992117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992124">Value</span><span class="op" id="7992129">:</span>&nbsp;<span class="op" id="7992131">&amp;</span><span class="ident" id="7992132">NestedItems</span><span class="op" id="7992143">{</span><span class="ident" id="7992144">Items</span><span class="op" id="7992149">:</span>&nbsp;<span class="builtintype" id="7992151">nil</span><span class="op" id="7992154">,</span>&nbsp;<span class="ident" id="7992156">Item1</span><span class="op" id="7992161">:</span>&nbsp;<span class="op" id="7992163">[</span><span class="op" id="7992164">]</span><span class="builtintype" id="7992165">string</span><span class="op" id="7992171">{</span><span class="string" id="7992172">&#34;A&#34;</span><span class="op" id="7992175">}</span><span class="op" id="7992176">}</span><span class="op" id="7992177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992181">ExpectXML</span><span class="op" id="7992190">:</span>&nbsp;<span class="string" id="7992192">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7992203">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992208">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="7992218">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992223">`&lt;item1&gt;A&lt;/item1&gt;`</span>&nbsp;<span class="op" id="7992242">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992247">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="7992258">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992263">`&lt;/result&gt;`</span><span class="op" id="7992274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992277">}</span><span class="op" id="7992278">,</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992285">Value</span><span class="op" id="7992290">:</span>&nbsp;<span class="op" id="7992292">&amp;</span><span class="ident" id="7992293">NestedItems</span><span class="op" id="7992304">{</span><span class="ident" id="7992305">Items</span><span class="op" id="7992310">:</span>&nbsp;<span class="op" id="7992312">[</span><span class="op" id="7992313">]</span><span class="builtintype" id="7992314">string</span><span class="op" id="7992320">{</span><span class="string" id="7992321">&#34;A&#34;</span><span class="op" id="7992324">,</span>&nbsp;<span class="string" id="7992326">&#34;B&#34;</span><span class="op" id="7992329">}</span><span class="op" id="7992330">,</span>&nbsp;<span class="ident" id="7992332">Item1</span><span class="op" id="7992337">:</span>&nbsp;<span class="builtintype" id="7992339">nil</span><span class="op" id="7992342">}</span><span class="op" id="7992343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992347">ExpectXML</span><span class="op" id="7992356">:</span>&nbsp;<span class="string" id="7992358">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7992369">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992374">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="7992384">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992389">`&lt;item&gt;A&lt;/item&gt;`</span>&nbsp;<span class="op" id="7992406">+</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992411">`&lt;item&gt;B&lt;/item&gt;`</span>&nbsp;<span class="op" id="7992428">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992433">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="7992444">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992449">`&lt;/result&gt;`</span><span class="op" id="7992460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992463">}</span><span class="op" id="7992464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992467">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992471">Value</span><span class="op" id="7992476">:</span>&nbsp;<span class="op" id="7992478">&amp;</span><span class="ident" id="7992479">NestedItems</span><span class="op" id="7992490">{</span><span class="ident" id="7992491">Items</span><span class="op" id="7992496">:</span>&nbsp;<span class="op" id="7992498">[</span><span class="op" id="7992499">]</span><span class="builtintype" id="7992500">string</span><span class="op" id="7992506">{</span><span class="string" id="7992507">&#34;A&#34;</span><span class="op" id="7992510">,</span>&nbsp;<span class="string" id="7992512">&#34;B&#34;</span><span class="op" id="7992515">}</span><span class="op" id="7992516">,</span>&nbsp;<span class="ident" id="7992518">Item1</span><span class="op" id="7992523">:</span>&nbsp;<span class="op" id="7992525">[</span><span class="op" id="7992526">]</span><span class="builtintype" id="7992527">string</span><span class="op" id="7992533">{</span><span class="string" id="7992534">&#34;C&#34;</span><span class="op" id="7992537">}</span><span class="op" id="7992538">}</span><span class="op" id="7992539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992543">ExpectXML</span><span class="op" id="7992552">:</span>&nbsp;<span class="string" id="7992554">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7992565">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992570">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="7992580">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992585">`&lt;item&gt;A&lt;/item&gt;`</span>&nbsp;<span class="op" id="7992602">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992607">`&lt;item&gt;B&lt;/item&gt;`</span>&nbsp;<span class="op" id="7992624">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992629">`&lt;item1&gt;C&lt;/item1&gt;`</span>&nbsp;<span class="op" id="7992648">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992653">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="7992664">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992669">`&lt;/result&gt;`</span><span class="op" id="7992680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992683">}</span><span class="op" id="7992684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992687">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992691">Value</span><span class="op" id="7992696">:</span>&nbsp;<span class="op" id="7992698">&amp;</span><span class="ident" id="7992699">NestedOrder</span><span class="op" id="7992710">{</span><span class="ident" id="7992711">Field1</span><span class="op" id="7992717">:</span>&nbsp;<span class="string" id="7992719">&#34;C&#34;</span><span class="op" id="7992722">,</span>&nbsp;<span class="ident" id="7992724">Field2</span><span class="op" id="7992730">:</span>&nbsp;<span class="string" id="7992732">&#34;B&#34;</span><span class="op" id="7992735">,</span>&nbsp;<span class="ident" id="7992737">Field3</span><span class="op" id="7992743">:</span>&nbsp;<span class="string" id="7992745">&#34;A&#34;</span><span class="op" id="7992748">}</span><span class="op" id="7992749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992753">ExpectXML</span><span class="op" id="7992762">:</span>&nbsp;<span class="string" id="7992764">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7992775">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992780">`&lt;parent&gt;`</span>&nbsp;<span class="op" id="7992791">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992796">`&lt;c&gt;C&lt;/c&gt;`</span>&nbsp;<span class="op" id="7992807">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992812">`&lt;b&gt;B&lt;/b&gt;`</span>&nbsp;<span class="op" id="7992823">+</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992828">`&lt;a&gt;A&lt;/a&gt;`</span>&nbsp;<span class="op" id="7992839">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992844">`&lt;/parent&gt;`</span>&nbsp;<span class="op" id="7992856">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992861">`&lt;/result&gt;`</span><span class="op" id="7992872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992875">}</span><span class="op" id="7992876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7992879">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992883">Value</span><span class="op" id="7992888">:</span>&nbsp;<span class="op" id="7992890">&amp;</span><span class="ident" id="7992891">NilTest</span><span class="op" id="7992898">{</span><span class="ident" id="7992899">A</span><span class="op" id="7992900">:</span>&nbsp;<span class="string" id="7992902">&#34;A&#34;</span><span class="op" id="7992905">,</span>&nbsp;<span class="ident" id="7992907">B</span><span class="op" id="7992908">:</span>&nbsp;<span class="builtintype" id="7992910">nil</span><span class="op" id="7992913">,</span>&nbsp;<span class="ident" id="7992915">C</span><span class="op" id="7992916">:</span>&nbsp;<span class="string" id="7992918">&#34;C&#34;</span><span class="op" id="7992921">}</span><span class="op" id="7992922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7992926">ExpectXML</span><span class="op" id="7992935">:</span>&nbsp;<span class="string" id="7992937">`&lt;NilTest&gt;`</span>&nbsp;<span class="op" id="7992949">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992954">`&lt;parent1&gt;`</span>&nbsp;<span class="op" id="7992966">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7992971">`&lt;parent2&gt;&lt;a&gt;A&lt;/a&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="7993001">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993006">`&lt;parent2&gt;&lt;c&gt;C&lt;/c&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="7993036">+</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993041">`&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="7993054">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993059">`&lt;/NilTest&gt;`</span><span class="op" id="7993071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993075">MarshalOnly</span><span class="op" id="7993086">:</span>&nbsp;<span class="builtintype" id="7993088">true</span><span class="op" id="7993092">,</span>&nbsp;<span class="comment" id="7993094">//&nbsp;Uses&nbsp;interface{}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993115">}</span><span class="op" id="7993116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993119">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993123">Value</span><span class="op" id="7993128">:</span>&nbsp;<span class="op" id="7993130">&amp;</span><span class="ident" id="7993131">MixedNested</span><span class="op" id="7993142">{</span><span class="ident" id="7993143">A</span><span class="op" id="7993144">:</span>&nbsp;<span class="string" id="7993146">&#34;A&#34;</span><span class="op" id="7993149">,</span>&nbsp;<span class="ident" id="7993151">B</span><span class="op" id="7993152">:</span>&nbsp;<span class="string" id="7993154">&#34;B&#34;</span><span class="op" id="7993157">,</span>&nbsp;<span class="ident" id="7993159">C</span><span class="op" id="7993160">:</span>&nbsp;<span class="string" id="7993162">&#34;C&#34;</span><span class="op" id="7993165">,</span>&nbsp;<span class="ident" id="7993167">D</span><span class="op" id="7993168">:</span>&nbsp;<span class="string" id="7993170">&#34;D&#34;</span><span class="op" id="7993173">}</span><span class="op" id="7993174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993178">ExpectXML</span><span class="op" id="7993187">:</span>&nbsp;<span class="string" id="7993189">`&lt;result&gt;`</span>&nbsp;<span class="op" id="7993200">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993205">`&lt;parent1&gt;&lt;a&gt;A&lt;/a&gt;&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="7993235">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993240">`&lt;b&gt;B&lt;/b&gt;`</span>&nbsp;<span class="op" id="7993251">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993256">`&lt;parent1&gt;`</span>&nbsp;<span class="op" id="7993268">+</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993273">`&lt;parent2&gt;&lt;c&gt;C&lt;/c&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="7993303">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993308">`&lt;d&gt;D&lt;/d&gt;`</span>&nbsp;<span class="op" id="7993319">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993324">`&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="7993337">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993342">`&lt;/result&gt;`</span><span class="op" id="7993353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993356">}</span><span class="op" id="7993357">,</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993364">Value</span><span class="op" id="7993369">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993375">&amp;</span><span class="ident" id="7993376">Service</span><span class="op" id="7993383">{</span><span class="ident" id="7993384">Port</span><span class="op" id="7993388">:</span>&nbsp;<span class="op" id="7993390">&amp;</span><span class="ident" id="7993391">Port</span><span class="op" id="7993395">{</span><span class="ident" id="7993396">Number</span><span class="op" id="7993402">:</span>&nbsp;<span class="string" id="7993404">&#34;80&#34;</span><span class="op" id="7993408">}</span><span class="op" id="7993409">}</span><span class="op" id="7993410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993414">ExpectXML</span><span class="op" id="7993423">:</span>&nbsp;<span class="string" id="7993425">`&lt;service&gt;&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;&lt;/service&gt;`</span><span class="op" id="7993474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993477">}</span><span class="op" id="7993478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993481">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993485">Value</span><span class="op" id="7993490">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993496">&amp;</span><span class="ident" id="7993497">Service</span><span class="op" id="7993504">{</span><span class="op" id="7993505">}</span><span class="op" id="7993506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993510">ExpectXML</span><span class="op" id="7993519">:</span>&nbsp;<span class="string" id="7993521">`&lt;service&gt;&lt;/service&gt;`</span><span class="op" id="7993542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993545">}</span><span class="op" id="7993546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993553">Value</span><span class="op" id="7993558">:</span>&nbsp;<span class="op" id="7993560">&amp;</span><span class="ident" id="7993561">Service</span><span class="op" id="7993568">{</span><span class="ident" id="7993569">Port</span><span class="op" id="7993573">:</span>&nbsp;<span class="op" id="7993575">&amp;</span><span class="ident" id="7993576">Port</span><span class="op" id="7993580">{</span><span class="ident" id="7993581">Number</span><span class="op" id="7993587">:</span>&nbsp;<span class="string" id="7993589">&#34;80&#34;</span><span class="op" id="7993593">}</span><span class="op" id="7993594">,</span>&nbsp;<span class="ident" id="7993596">Extra1</span><span class="op" id="7993602">:</span>&nbsp;<span class="string" id="7993604">&#34;A&#34;</span><span class="op" id="7993607">,</span>&nbsp;<span class="ident" id="7993609">Extra2</span><span class="op" id="7993615">:</span>&nbsp;<span class="string" id="7993617">&#34;B&#34;</span><span class="op" id="7993620">}</span><span class="op" id="7993621">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993625">ExpectXML</span><span class="op" id="7993634">:</span>&nbsp;<span class="string" id="7993636">`&lt;service&gt;`</span>&nbsp;<span class="op" id="7993648">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993653">`&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="7993684">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993689">`&lt;Extra1&gt;A&lt;/Extra1&gt;`</span>&nbsp;<span class="op" id="7993710">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993715">`&lt;host&gt;&lt;extra2&gt;B&lt;/extra2&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="7993749">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993754">`&lt;/service&gt;`</span><span class="op" id="7993766">,</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993770">MarshalOnly</span><span class="op" id="7993781">:</span>&nbsp;<span class="builtintype" id="7993783">true</span><span class="op" id="7993787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993790">}</span><span class="op" id="7993791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7993794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993798">Value</span><span class="op" id="7993803">:</span>&nbsp;<span class="op" id="7993805">&amp;</span><span class="ident" id="7993806">Service</span><span class="op" id="7993813">{</span><span class="ident" id="7993814">Port</span><span class="op" id="7993818">:</span>&nbsp;<span class="op" id="7993820">&amp;</span><span class="ident" id="7993821">Port</span><span class="op" id="7993825">{</span><span class="ident" id="7993826">Number</span><span class="op" id="7993832">:</span>&nbsp;<span class="string" id="7993834">&#34;80&#34;</span><span class="op" id="7993838">}</span><span class="op" id="7993839">,</span>&nbsp;<span class="ident" id="7993841">Extra2</span><span class="op" id="7993847">:</span>&nbsp;<span class="string" id="7993849">&#34;example&#34;</span><span class="op" id="7993858">}</span><span class="op" id="7993859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993863">ExpectXML</span><span class="op" id="7993872">:</span>&nbsp;<span class="string" id="7993874">`&lt;service&gt;`</span>&nbsp;<span class="op" id="7993886">+</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993891">`&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="7993922">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993927">`&lt;host&gt;&lt;extra2&gt;example&lt;/extra2&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="7993967">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7993972">`&lt;/service&gt;`</span><span class="op" id="7993984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7993988">MarshalOnly</span><span class="op" id="7993999">:</span>&nbsp;<span class="builtintype" id="7994001">true</span><span class="op" id="7994005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994008">}</span><span class="op" id="7994009">,</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7994013">//&nbsp;Test&nbsp;struct&nbsp;embedding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994043">Value</span><span class="op" id="7994048">:</span>&nbsp;<span class="op" id="7994050">&amp;</span><span class="ident" id="7994051">EmbedA</span><span class="op" id="7994057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994062">EmbedC</span><span class="op" id="7994068">:</span>&nbsp;<span class="ident" id="7994070">EmbedC</span><span class="op" id="7994076">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994082">FieldA1</span><span class="op" id="7994089">:</span>&nbsp;<span class="string" id="7994091">&#34;&#34;</span><span class="op" id="7994093">,</span>&nbsp;<span class="comment" id="7994095">//&nbsp;Shadowed&nbsp;by&nbsp;A.A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994118">FieldA2</span><span class="op" id="7994125">:</span>&nbsp;<span class="string" id="7994127">&#34;&#34;</span><span class="op" id="7994129">,</span>&nbsp;<span class="comment" id="7994131">//&nbsp;Shadowed&nbsp;by&nbsp;A.A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994154">FieldB</span><span class="op" id="7994160">:</span>&nbsp;&nbsp;<span class="string" id="7994163">&#34;A.C.B&#34;</span><span class="op" id="7994170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994176">FieldC</span><span class="op" id="7994182">:</span>&nbsp;&nbsp;<span class="string" id="7994185">&#34;A.C.C&#34;</span><span class="op" id="7994192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994197">}</span><span class="op" id="7994198">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994203">EmbedB</span><span class="op" id="7994209">:</span>&nbsp;<span class="ident" id="7994211">EmbedB</span><span class="op" id="7994217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994223">FieldB</span><span class="op" id="7994229">:</span>&nbsp;<span class="string" id="7994231">&#34;A.B.B&#34;</span><span class="op" id="7994238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994244">EmbedC</span><span class="op" id="7994250">:</span>&nbsp;<span class="op" id="7994252">&amp;</span><span class="ident" id="7994253">EmbedC</span><span class="op" id="7994259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994266">FieldA1</span><span class="op" id="7994273">:</span>&nbsp;<span class="string" id="7994275">&#34;A.B.C.A1&#34;</span><span class="op" id="7994285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994292">FieldA2</span><span class="op" id="7994299">:</span>&nbsp;<span class="string" id="7994301">&#34;A.B.C.A2&#34;</span><span class="op" id="7994311">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994318">FieldB</span><span class="op" id="7994324">:</span>&nbsp;&nbsp;<span class="string" id="7994327">&#34;&#34;</span><span class="op" id="7994329">,</span>&nbsp;<span class="comment" id="7994331">//&nbsp;Shadowed&nbsp;by&nbsp;A.B.B</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994357">FieldC</span><span class="op" id="7994363">:</span>&nbsp;&nbsp;<span class="string" id="7994366">&#34;A.B.C.C&#34;</span><span class="op" id="7994375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994381">}</span><span class="op" id="7994382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994387">}</span><span class="op" id="7994388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994393">FieldA</span><span class="op" id="7994399">:</span>&nbsp;<span class="string" id="7994401">&#34;A.A&#34;</span><span class="op" id="7994406">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994410">}</span><span class="op" id="7994411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994415">ExpectXML</span><span class="op" id="7994424">:</span>&nbsp;<span class="string" id="7994426">`&lt;EmbedA&gt;`</span>&nbsp;<span class="op" id="7994437">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994442">`&lt;FieldB&gt;A.C.B&lt;/FieldB&gt;`</span>&nbsp;<span class="op" id="7994467">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994472">`&lt;FieldC&gt;A.C.C&lt;/FieldC&gt;`</span>&nbsp;<span class="op" id="7994497">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994502">`&lt;EmbedB&gt;`</span>&nbsp;<span class="op" id="7994513">+</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994518">`&lt;FieldB&gt;A.B.B&lt;/FieldB&gt;`</span>&nbsp;<span class="op" id="7994543">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994548">`&lt;FieldA&gt;`</span>&nbsp;<span class="op" id="7994559">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994564">`&lt;A1&gt;A.B.C.A1&lt;/A1&gt;`</span>&nbsp;<span class="op" id="7994584">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994589">`&lt;A2&gt;A.B.C.A2&lt;/A2&gt;`</span>&nbsp;<span class="op" id="7994609">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994614">`&lt;/FieldA&gt;`</span>&nbsp;<span class="op" id="7994626">+</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994631">`&lt;FieldC&gt;A.B.C.C&lt;/FieldC&gt;`</span>&nbsp;<span class="op" id="7994658">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994663">`&lt;/EmbedB&gt;`</span>&nbsp;<span class="op" id="7994675">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994680">`&lt;FieldA&gt;A.A&lt;/FieldA&gt;`</span>&nbsp;<span class="op" id="7994703">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7994708">`&lt;/EmbedA&gt;`</span><span class="op" id="7994719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994722">}</span><span class="op" id="7994723">,</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7994727">//&nbsp;Test&nbsp;that&nbsp;name&nbsp;casing&nbsp;matters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994765">Value</span><span class="op" id="7994770">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994776">&amp;</span><span class="ident" id="7994777">NameCasing</span><span class="op" id="7994787">{</span><span class="ident" id="7994788">Xy</span><span class="op" id="7994790">:</span>&nbsp;<span class="string" id="7994792">&#34;mixed&#34;</span><span class="op" id="7994799">,</span>&nbsp;<span class="ident" id="7994801">XY</span><span class="op" id="7994803">:</span>&nbsp;<span class="string" id="7994805">&#34;upper&#34;</span><span class="op" id="7994812">,</span>&nbsp;<span class="ident" id="7994814">XyA</span><span class="op" id="7994817">:</span>&nbsp;<span class="string" id="7994819">&#34;mixedA&#34;</span><span class="op" id="7994827">,</span>&nbsp;<span class="ident" id="7994829">XYA</span><span class="op" id="7994832">:</span>&nbsp;<span class="string" id="7994834">&#34;upperA&#34;</span><span class="op" id="7994842">}</span><span class="op" id="7994843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7994847">ExpectXML</span><span class="op" id="7994856">:</span>&nbsp;<span class="string" id="7994858">`&lt;casing&nbsp;Xy=&#34;mixedA&#34;&nbsp;XY=&#34;upperA&#34;&gt;&lt;Xy&gt;mixed&lt;/Xy&gt;&lt;XY&gt;upper&lt;/XY&gt;&lt;/casing&gt;`</span><span class="op" id="7994929">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994932">}</span><span class="op" id="7994933">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7994937">//&nbsp;Test&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;the&nbsp;XML&nbsp;element&nbsp;name&nbsp;is&nbsp;chosen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7994996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995000">Value</span><span class="op" id="7995005">:</span>&nbsp;<span class="op" id="7995007">&amp;</span><span class="ident" id="7995008">NamePrecedence</span><span class="op" id="7995022">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995027">FromTag</span><span class="op" id="7995034">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995040">XMLNameWithoutTag</span><span class="op" id="7995057">{</span><span class="ident" id="7995058">Value</span><span class="op" id="7995063">:</span>&nbsp;<span class="string" id="7995065">&#34;A&#34;</span><span class="op" id="7995068">}</span><span class="op" id="7995069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995074">FromNameVal</span><span class="op" id="7995085">:</span>&nbsp;<span class="ident" id="7995087">XMLNameWithoutTag</span><span class="op" id="7995104">{</span><span class="ident" id="7995105">XMLName</span><span class="op" id="7995112">:</span>&nbsp;<span class="ident" id="7995114">Name</span><span class="op" id="7995118">{</span><span class="ident" id="7995119">Local</span><span class="op" id="7995124">:</span>&nbsp;<span class="string" id="7995126">&#34;InXMLName&#34;</span><span class="op" id="7995137">}</span><span class="op" id="7995138">,</span>&nbsp;<span class="ident" id="7995140">Value</span><span class="op" id="7995145">:</span>&nbsp;<span class="string" id="7995147">&#34;B&#34;</span><span class="op" id="7995150">}</span><span class="op" id="7995151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995156">FromNameTag</span><span class="op" id="7995167">:</span>&nbsp;<span class="ident" id="7995169">XMLNameWithTag</span><span class="op" id="7995183">{</span><span class="ident" id="7995184">Value</span><span class="op" id="7995189">:</span>&nbsp;<span class="string" id="7995191">&#34;C&#34;</span><span class="op" id="7995194">}</span><span class="op" id="7995195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995200">InFieldName</span><span class="op" id="7995211">:</span>&nbsp;<span class="string" id="7995213">&#34;D&#34;</span><span class="op" id="7995216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7995220">}</span><span class="op" id="7995221">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995225">ExpectXML</span><span class="op" id="7995234">:</span>&nbsp;<span class="string" id="7995236">`&lt;Parent&gt;`</span>&nbsp;<span class="op" id="7995247">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995252">`&lt;InTag&gt;A&lt;/InTag&gt;`</span>&nbsp;<span class="op" id="7995271">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995276">`&lt;InXMLName&gt;B&lt;/InXMLName&gt;`</span>&nbsp;<span class="op" id="7995303">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995308">`&lt;InXMLNameTag&gt;C&lt;/InXMLNameTag&gt;`</span>&nbsp;<span class="op" id="7995341">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995346">`&lt;InFieldName&gt;D&lt;/InFieldName&gt;`</span>&nbsp;<span class="op" id="7995377">+</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995382">`&lt;/Parent&gt;`</span><span class="op" id="7995393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995397">MarshalOnly</span><span class="op" id="7995408">:</span>&nbsp;<span class="builtintype" id="7995410">true</span><span class="op" id="7995414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7995417">}</span><span class="op" id="7995418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7995421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995425">Value</span><span class="op" id="7995430">:</span>&nbsp;<span class="op" id="7995432">&amp;</span><span class="ident" id="7995433">NamePrecedence</span><span class="op" id="7995447">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995452">XMLName</span><span class="op" id="7995459">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995465">Name</span><span class="op" id="7995469">{</span><span class="ident" id="7995470">Local</span><span class="op" id="7995475">:</span>&nbsp;<span class="string" id="7995477">&#34;Parent&#34;</span><span class="op" id="7995485">}</span><span class="op" id="7995486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995491">FromTag</span><span class="op" id="7995498">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995504">XMLNameWithoutTag</span><span class="op" id="7995521">{</span><span class="ident" id="7995522">XMLName</span><span class="op" id="7995529">:</span>&nbsp;<span class="ident" id="7995531">Name</span><span class="op" id="7995535">{</span><span class="ident" id="7995536">Local</span><span class="op" id="7995541">:</span>&nbsp;<span class="string" id="7995543">&#34;InTag&#34;</span><span class="op" id="7995550">}</span><span class="op" id="7995551">,</span>&nbsp;<span class="ident" id="7995553">Value</span><span class="op" id="7995558">:</span>&nbsp;<span class="string" id="7995560">&#34;A&#34;</span><span class="op" id="7995563">}</span><span class="op" id="7995564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995569">FromNameVal</span><span class="op" id="7995580">:</span>&nbsp;<span class="ident" id="7995582">XMLNameWithoutTag</span><span class="op" id="7995599">{</span><span class="ident" id="7995600">XMLName</span><span class="op" id="7995607">:</span>&nbsp;<span class="ident" id="7995609">Name</span><span class="op" id="7995613">{</span><span class="ident" id="7995614">Local</span><span class="op" id="7995619">:</span>&nbsp;<span class="string" id="7995621">&#34;FromNameVal&#34;</span><span class="op" id="7995634">}</span><span class="op" id="7995635">,</span>&nbsp;<span class="ident" id="7995637">Value</span><span class="op" id="7995642">:</span>&nbsp;<span class="string" id="7995644">&#34;B&#34;</span><span class="op" id="7995647">}</span><span class="op" id="7995648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995653">FromNameTag</span><span class="op" id="7995664">:</span>&nbsp;<span class="ident" id="7995666">XMLNameWithTag</span><span class="op" id="7995680">{</span><span class="ident" id="7995681">XMLName</span><span class="op" id="7995688">:</span>&nbsp;<span class="ident" id="7995690">Name</span><span class="op" id="7995694">{</span><span class="ident" id="7995695">Local</span><span class="op" id="7995700">:</span>&nbsp;<span class="string" id="7995702">&#34;InXMLNameTag&#34;</span><span class="op" id="7995716">}</span><span class="op" id="7995717">,</span>&nbsp;<span class="ident" id="7995719">Value</span><span class="op" id="7995724">:</span>&nbsp;<span class="string" id="7995726">&#34;C&#34;</span><span class="op" id="7995729">}</span><span class="op" id="7995730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995735">InFieldName</span><span class="op" id="7995746">:</span>&nbsp;<span class="string" id="7995748">&#34;D&#34;</span><span class="op" id="7995751">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7995755">}</span><span class="op" id="7995756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995760">ExpectXML</span><span class="op" id="7995769">:</span>&nbsp;<span class="string" id="7995771">`&lt;Parent&gt;`</span>&nbsp;<span class="op" id="7995782">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995787">`&lt;InTag&gt;A&lt;/InTag&gt;`</span>&nbsp;<span class="op" id="7995806">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995811">`&lt;FromNameVal&gt;B&lt;/FromNameVal&gt;`</span>&nbsp;<span class="op" id="7995842">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995847">`&lt;InXMLNameTag&gt;C&lt;/InXMLNameTag&gt;`</span>&nbsp;<span class="op" id="7995880">+</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995885">`&lt;InFieldName&gt;D&lt;/InFieldName&gt;`</span>&nbsp;<span class="op" id="7995916">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7995921">`&lt;/Parent&gt;`</span><span class="op" id="7995932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7995936">UnmarshalOnly</span><span class="op" id="7995949">:</span>&nbsp;<span class="builtintype" id="7995951">true</span><span class="op" id="7995955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7995958">}</span><span class="op" id="7995959">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7995963">//&nbsp;xml.Name&nbsp;works&nbsp;in&nbsp;a&nbsp;plain&nbsp;field&nbsp;as&nbsp;well.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996012">Value</span><span class="op" id="7996017">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996023">&amp;</span><span class="ident" id="7996024">NameInField</span><span class="op" id="7996035">{</span><span class="ident" id="7996036">Name</span><span class="op" id="7996040">{</span><span class="ident" id="7996041">Space</span><span class="op" id="7996046">:</span>&nbsp;<span class="string" id="7996048">&#34;ns&#34;</span><span class="op" id="7996052">,</span>&nbsp;<span class="ident" id="7996054">Local</span><span class="op" id="7996059">:</span>&nbsp;<span class="string" id="7996061">&#34;foo&#34;</span><span class="op" id="7996066">}</span><span class="op" id="7996067">}</span><span class="op" id="7996068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996072">ExpectXML</span><span class="op" id="7996081">:</span>&nbsp;<span class="string" id="7996083">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="7996134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996137">}</span><span class="op" id="7996138">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996145">Value</span><span class="op" id="7996150">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996160">&amp;</span><span class="ident" id="7996161">NameInField</span><span class="op" id="7996172">{</span><span class="ident" id="7996173">Name</span><span class="op" id="7996177">{</span><span class="ident" id="7996178">Space</span><span class="op" id="7996183">:</span>&nbsp;<span class="string" id="7996185">&#34;ns&#34;</span><span class="op" id="7996189">,</span>&nbsp;<span class="ident" id="7996191">Local</span><span class="op" id="7996196">:</span>&nbsp;<span class="string" id="7996198">&#34;foo&#34;</span><span class="op" id="7996203">}</span><span class="op" id="7996204">}</span><span class="op" id="7996205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996209">ExpectXML</span><span class="op" id="7996218">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7996224">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;ignore&gt;&lt;/ignore&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="7996292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996296">UnmarshalOnly</span><span class="op" id="7996309">:</span>&nbsp;<span class="builtintype" id="7996311">true</span><span class="op" id="7996315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996318">}</span><span class="op" id="7996319">,</span><br>
<span class="lineno">705</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7996323">//&nbsp;Marshaling&nbsp;zero&nbsp;xml.Name&nbsp;uses&nbsp;the&nbsp;tag&nbsp;or&nbsp;field&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996384">Value</span><span class="op" id="7996389">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996397">&amp;</span><span class="ident" id="7996398">NameInField</span><span class="op" id="7996409">{</span><span class="op" id="7996410">}</span><span class="op" id="7996411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996415">ExpectXML</span><span class="op" id="7996424">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7996428">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="7996479">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996483">MarshalOnly</span><span class="op" id="7996494">:</span>&nbsp;<span class="builtintype" id="7996496">true</span><span class="op" id="7996500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996503">}</span><span class="op" id="7996504">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7996508">//&nbsp;Test&nbsp;attributes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996528">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996532">Value</span><span class="op" id="7996537">:</span>&nbsp;<span class="op" id="7996539">&amp;</span><span class="ident" id="7996540">AttrTest</span><span class="op" id="7996548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996553">Int</span><span class="op" id="7996556">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7996560">8</span><span class="op" id="7996561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996566">Named</span><span class="op" id="7996571">:</span>&nbsp;<span class="num" id="7996573">9</span><span class="op" id="7996574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996579">Float</span><span class="op" id="7996584">:</span>&nbsp;<span class="num" id="7996586">23.5</span><span class="op" id="7996590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996595">Uint8</span><span class="op" id="7996600">:</span>&nbsp;<span class="num" id="7996602">255</span><span class="op" id="7996605">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996610">Bool</span><span class="op" id="7996614">:</span>&nbsp;&nbsp;<span class="builtintype" id="7996617">true</span><span class="op" id="7996621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996626">Str</span><span class="op" id="7996629">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7996633">&#34;str&#34;</span><span class="op" id="7996638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996643">Bytes</span><span class="op" id="7996648">:</span>&nbsp;<span class="op" id="7996650">[</span><span class="op" id="7996651">]</span><span class="builtintype" id="7996652">byte</span><span class="op" id="7996656">(</span><span class="string" id="7996657">&#34;byt&#34;</span><span class="op" id="7996662">)</span><span class="op" id="7996663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996667">}</span><span class="op" id="7996668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996672">ExpectXML</span><span class="op" id="7996681">:</span>&nbsp;<span class="string" id="7996683">`&lt;AttrTest&nbsp;Int=&#34;8&#34;&nbsp;int=&#34;9&#34;&nbsp;Float=&#34;23.5&#34;&nbsp;Uint8=&#34;255&#34;`</span>&nbsp;<span class="op" id="7996736">+</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7996741">`&nbsp;Bool=&#34;true&#34;&nbsp;Str=&#34;str&#34;&nbsp;Bytes=&#34;byt&#34;&gt;&lt;/AttrTest&gt;`</span><span class="op" id="7996789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996792">}</span><span class="op" id="7996793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996800">Value</span><span class="op" id="7996805">:</span>&nbsp;<span class="op" id="7996807">&amp;</span><span class="ident" id="7996808">AttrTest</span><span class="op" id="7996816">{</span><span class="ident" id="7996817">Bytes</span><span class="op" id="7996822">:</span>&nbsp;<span class="op" id="7996824">[</span><span class="op" id="7996825">]</span><span class="builtintype" id="7996826">byte</span><span class="op" id="7996830">{</span><span class="op" id="7996831">}</span><span class="op" id="7996832">}</span><span class="op" id="7996833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996837">ExpectXML</span><span class="op" id="7996846">:</span>&nbsp;<span class="string" id="7996848">`&lt;AttrTest&nbsp;Int=&#34;0&#34;&nbsp;int=&#34;0&#34;&nbsp;Float=&#34;0&#34;&nbsp;Uint8=&#34;0&#34;`</span>&nbsp;<span class="op" id="7996896">+</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7996901">`&nbsp;Bool=&#34;false&#34;&nbsp;Str=&#34;&#34;&nbsp;Bytes=&#34;&#34;&gt;&lt;/AttrTest&gt;`</span><span class="op" id="7996944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996947">}</span><span class="op" id="7996948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7996951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996955">Value</span><span class="op" id="7996960">:</span>&nbsp;<span class="op" id="7996962">&amp;</span><span class="ident" id="7996963">OmitAttrTest</span><span class="op" id="7996975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996980">Int</span><span class="op" id="7996983">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7996987">8</span><span class="op" id="7996988">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7996993">Named</span><span class="op" id="7996998">:</span>&nbsp;<span class="num" id="7997000">9</span><span class="op" id="7997001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997006">Float</span><span class="op" id="7997011">:</span>&nbsp;<span class="num" id="7997013">23.5</span><span class="op" id="7997017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997022">Uint8</span><span class="op" id="7997027">:</span>&nbsp;<span class="num" id="7997029">255</span><span class="op" id="7997032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997037">Bool</span><span class="op" id="7997041">:</span>&nbsp;&nbsp;<span class="builtintype" id="7997044">true</span><span class="op" id="7997048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997053">Str</span><span class="op" id="7997056">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7997060">&#34;str&#34;</span><span class="op" id="7997065">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997070">Bytes</span><span class="op" id="7997075">:</span>&nbsp;<span class="op" id="7997077">[</span><span class="op" id="7997078">]</span><span class="builtintype" id="7997079">byte</span><span class="op" id="7997083">(</span><span class="string" id="7997084">&#34;byt&#34;</span><span class="op" id="7997089">)</span><span class="op" id="7997090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997094">}</span><span class="op" id="7997095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997099">ExpectXML</span><span class="op" id="7997108">:</span>&nbsp;<span class="string" id="7997110">`&lt;OmitAttrTest&nbsp;Int=&#34;8&#34;&nbsp;int=&#34;9&#34;&nbsp;Float=&#34;23.5&#34;&nbsp;Uint8=&#34;255&#34;`</span>&nbsp;<span class="op" id="7997167">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997172">`&nbsp;Bool=&#34;true&#34;&nbsp;Str=&#34;str&#34;&nbsp;Bytes=&#34;byt&#34;&gt;&lt;/OmitAttrTest&gt;`</span><span class="op" id="7997224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997227">}</span><span class="op" id="7997228">,</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997235">Value</span><span class="op" id="7997240">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997246">&amp;</span><span class="ident" id="7997247">OmitAttrTest</span><span class="op" id="7997259">{</span><span class="op" id="7997260">}</span><span class="op" id="7997261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997265">ExpectXML</span><span class="op" id="7997274">:</span>&nbsp;<span class="string" id="7997276">`&lt;OmitAttrTest&gt;&lt;/OmitAttrTest&gt;`</span><span class="op" id="7997307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997310">}</span><span class="op" id="7997311">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7997315">//&nbsp;pointer&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997338">Value</span><span class="op" id="7997343">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997351">&amp;</span><span class="ident" id="7997352">PointerFieldsTest</span><span class="op" id="7997369">{</span><span class="ident" id="7997370">Name</span><span class="op" id="7997374">:</span>&nbsp;<span class="op" id="7997376">&amp;</span><span class="ident" id="7997377">nameAttr</span><span class="op" id="7997385">,</span>&nbsp;<span class="ident" id="7997387">Age</span><span class="op" id="7997390">:</span>&nbsp;<span class="op" id="7997392">&amp;</span><span class="ident" id="7997393">ageAttr</span><span class="op" id="7997400">,</span>&nbsp;<span class="ident" id="7997402">Contents</span><span class="op" id="7997410">:</span>&nbsp;<span class="op" id="7997412">&amp;</span><span class="ident" id="7997413">contentsAttr</span><span class="op" id="7997425">}</span><span class="op" id="7997426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997430">ExpectXML</span><span class="op" id="7997439">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7997443">`&lt;dummy&nbsp;name=&#34;Sarah&#34;&nbsp;age=&#34;12&#34;&gt;lorem&nbsp;ipsum&lt;/dummy&gt;`</span><span class="op" id="7997493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997497">MarshalOnly</span><span class="op" id="7997508">:</span>&nbsp;<span class="builtintype" id="7997510">true</span><span class="op" id="7997514">,</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997517">}</span><span class="op" id="7997518">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7997522">//&nbsp;empty&nbsp;chardata&nbsp;pointer&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997559">Value</span><span class="op" id="7997564">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997572">&amp;</span><span class="ident" id="7997573">ChardataEmptyTest</span><span class="op" id="7997590">{</span><span class="op" id="7997591">}</span><span class="op" id="7997592">,</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997596">ExpectXML</span><span class="op" id="7997605">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7997609">`&lt;test&gt;&lt;/test&gt;`</span><span class="op" id="7997624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997628">MarshalOnly</span><span class="op" id="7997639">:</span>&nbsp;<span class="builtintype" id="7997641">true</span><span class="op" id="7997645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997648">}</span><span class="op" id="7997649">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7997653">//&nbsp;omitempty&nbsp;on&nbsp;fields</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997681">Value</span><span class="op" id="7997686">:</span>&nbsp;<span class="op" id="7997688">&amp;</span><span class="ident" id="7997689">OmitFieldTest</span><span class="op" id="7997702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997707">Int</span><span class="op" id="7997710">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7997714">8</span><span class="op" id="7997715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997720">Named</span><span class="op" id="7997725">:</span>&nbsp;<span class="num" id="7997727">9</span><span class="op" id="7997728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997733">Float</span><span class="op" id="7997738">:</span>&nbsp;<span class="num" id="7997740">23.5</span><span class="op" id="7997744">,</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997749">Uint8</span><span class="op" id="7997754">:</span>&nbsp;<span class="num" id="7997756">255</span><span class="op" id="7997759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997764">Bool</span><span class="op" id="7997768">:</span>&nbsp;&nbsp;<span class="builtintype" id="7997771">true</span><span class="op" id="7997775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997780">Str</span><span class="op" id="7997783">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7997787">&#34;str&#34;</span><span class="op" id="7997792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997797">Bytes</span><span class="op" id="7997802">:</span>&nbsp;<span class="op" id="7997804">[</span><span class="op" id="7997805">]</span><span class="builtintype" id="7997806">byte</span><span class="op" id="7997810">(</span><span class="string" id="7997811">&#34;byt&#34;</span><span class="op" id="7997816">)</span><span class="op" id="7997817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997822">Ptr</span><span class="op" id="7997825">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7997829">&amp;</span><span class="ident" id="7997830">PresenceTest</span><span class="op" id="7997842">{</span><span class="op" id="7997843">}</span><span class="op" id="7997844">,</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7997848">}</span><span class="op" id="7997849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7997853">ExpectXML</span><span class="op" id="7997862">:</span>&nbsp;<span class="string" id="7997864">`&lt;OmitFieldTest&gt;`</span>&nbsp;<span class="op" id="7997882">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997887">`&lt;Int&gt;8&lt;/Int&gt;`</span>&nbsp;<span class="op" id="7997902">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997907">`&lt;int&gt;9&lt;/int&gt;`</span>&nbsp;<span class="op" id="7997922">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997927">`&lt;Float&gt;23.5&lt;/Float&gt;`</span>&nbsp;<span class="op" id="7997949">+</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997954">`&lt;Uint8&gt;255&lt;/Uint8&gt;`</span>&nbsp;<span class="op" id="7997975">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7997980">`&lt;Bool&gt;true&lt;/Bool&gt;`</span>&nbsp;<span class="op" id="7998000">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998005">`&lt;Str&gt;str&lt;/Str&gt;`</span>&nbsp;<span class="op" id="7998022">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998027">`&lt;Bytes&gt;byt&lt;/Bytes&gt;`</span>&nbsp;<span class="op" id="7998048">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998053">`&lt;Ptr&gt;&lt;/Ptr&gt;`</span>&nbsp;<span class="op" id="7998067">+</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998072">`&lt;/OmitFieldTest&gt;`</span><span class="op" id="7998090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998093">}</span><span class="op" id="7998094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998101">Value</span><span class="op" id="7998106">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998112">&amp;</span><span class="ident" id="7998113">OmitFieldTest</span><span class="op" id="7998126">{</span><span class="op" id="7998127">}</span><span class="op" id="7998128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998132">ExpectXML</span><span class="op" id="7998141">:</span>&nbsp;<span class="string" id="7998143">`&lt;OmitFieldTest&gt;&lt;/OmitFieldTest&gt;`</span><span class="op" id="7998176">,</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998179">}</span><span class="op" id="7998180">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7998184">//&nbsp;Test&nbsp;&#34;,any&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998204">ExpectXML</span><span class="op" id="7998213">:</span>&nbsp;<span class="string" id="7998215">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;known&lt;/value&gt;&lt;/nested&gt;&lt;other&gt;&lt;sub&gt;unknown&lt;/sub&gt;&lt;/other&gt;&lt;/a&gt;`</span><span class="op" id="7998294">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998298">Value</span><span class="op" id="7998303">:</span>&nbsp;<span class="op" id="7998305">&amp;</span><span class="ident" id="7998306">AnyTest</span><span class="op" id="7998313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998318">Nested</span><span class="op" id="7998324">:</span>&nbsp;<span class="string" id="7998326">&#34;known&#34;</span><span class="op" id="7998333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998338">AnyField</span><span class="op" id="7998346">:</span>&nbsp;<span class="ident" id="7998348">AnyHolder</span><span class="op" id="7998357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998363">XMLName</span><span class="op" id="7998370">:</span>&nbsp;<span class="ident" id="7998372">Name</span><span class="op" id="7998376">{</span><span class="ident" id="7998377">Local</span><span class="op" id="7998382">:</span>&nbsp;<span class="string" id="7998384">&#34;other&#34;</span><span class="op" id="7998391">}</span><span class="op" id="7998392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998398">XML</span><span class="op" id="7998401">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998407">&#34;&lt;sub&gt;unknown&lt;/sub&gt;&#34;</span><span class="op" id="7998427">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998432">}</span><span class="op" id="7998433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998437">}</span><span class="op" id="7998438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998441">}</span><span class="op" id="7998442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998449">Value</span><span class="op" id="7998454">:</span>&nbsp;<span class="op" id="7998456">&amp;</span><span class="ident" id="7998457">AnyTest</span><span class="op" id="7998464">{</span><span class="ident" id="7998465">Nested</span><span class="op" id="7998471">:</span>&nbsp;<span class="string" id="7998473">&#34;known&#34;</span><span class="op" id="7998480">,</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998485">AnyField</span><span class="op" id="7998493">:</span>&nbsp;<span class="ident" id="7998495">AnyHolder</span><span class="op" id="7998504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998510">XML</span><span class="op" id="7998513">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7998519">&#34;&lt;unknown/&gt;&#34;</span><span class="op" id="7998531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998537">XMLName</span><span class="op" id="7998544">:</span>&nbsp;<span class="ident" id="7998546">Name</span><span class="op" id="7998550">{</span><span class="ident" id="7998551">Local</span><span class="op" id="7998556">:</span>&nbsp;<span class="string" id="7998558">&#34;AnyField&#34;</span><span class="op" id="7998568">}</span><span class="op" id="7998569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998574">}</span><span class="op" id="7998575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998579">}</span><span class="op" id="7998580">,</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998584">ExpectXML</span><span class="op" id="7998593">:</span>&nbsp;<span class="string" id="7998595">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;known&lt;/value&gt;&lt;/nested&gt;&lt;AnyField&gt;&lt;unknown/&gt;&lt;/AnyField&gt;&lt;/a&gt;`</span><span class="op" id="7998672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998675">}</span><span class="op" id="7998676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998683">ExpectXML</span><span class="op" id="7998692">:</span>&nbsp;<span class="string" id="7998694">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;`</span><span class="op" id="7998736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998740">Value</span><span class="op" id="7998745">:</span>&nbsp;<span class="op" id="7998747">&amp;</span><span class="ident" id="7998748">AnyOmitTest</span><span class="op" id="7998759">{</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998764">Nested</span><span class="op" id="7998770">:</span>&nbsp;<span class="string" id="7998772">&#34;b&#34;</span><span class="op" id="7998775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998779">}</span><span class="op" id="7998780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998783">}</span><span class="op" id="7998784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998791">ExpectXML</span><span class="op" id="7998800">:</span>&nbsp;<span class="string" id="7998802">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;c&gt;&lt;d&gt;e&lt;/d&gt;&lt;/c&gt;&lt;g&nbsp;xmlns=&#34;f&#34;&gt;&lt;h&gt;i&lt;/h&gt;&lt;/g&gt;&lt;/a&gt;`</span><span class="op" id="7998884">,</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998888">Value</span><span class="op" id="7998893">:</span>&nbsp;<span class="op" id="7998895">&amp;</span><span class="ident" id="7998896">AnySliceTest</span><span class="op" id="7998908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998913">Nested</span><span class="op" id="7998919">:</span>&nbsp;<span class="string" id="7998921">&#34;b&#34;</span><span class="op" id="7998924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998929">AnyField</span><span class="op" id="7998937">:</span>&nbsp;<span class="op" id="7998939">[</span><span class="op" id="7998940">]</span><span class="ident" id="7998941">AnyHolder</span><span class="op" id="7998950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7998956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998963">XMLName</span><span class="op" id="7998970">:</span>&nbsp;<span class="ident" id="7998972">Name</span><span class="op" id="7998976">{</span><span class="ident" id="7998977">Local</span><span class="op" id="7998982">:</span>&nbsp;<span class="string" id="7998984">&#34;c&#34;</span><span class="op" id="7998987">}</span><span class="op" id="7998988">,</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7998995">XML</span><span class="op" id="7998998">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7999004">&#34;&lt;d&gt;e&lt;/d&gt;&#34;</span><span class="op" id="7999014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999020">}</span><span class="op" id="7999021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999034">XMLName</span><span class="op" id="7999041">:</span>&nbsp;<span class="ident" id="7999043">Name</span><span class="op" id="7999047">{</span><span class="ident" id="7999048">Space</span><span class="op" id="7999053">:</span>&nbsp;<span class="string" id="7999055">&#34;f&#34;</span><span class="op" id="7999058">,</span>&nbsp;<span class="ident" id="7999060">Local</span><span class="op" id="7999065">:</span>&nbsp;<span class="string" id="7999067">&#34;g&#34;</span><span class="op" id="7999070">}</span><span class="op" id="7999071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999078">XML</span><span class="op" id="7999081">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7999087">&#34;&lt;h&gt;i&lt;/h&gt;&#34;</span><span class="op" id="7999097">,</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999103">}</span><span class="op" id="7999104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999109">}</span><span class="op" id="7999110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999114">}</span><span class="op" id="7999115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999118">}</span><span class="op" id="7999119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999122">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999126">ExpectXML</span><span class="op" id="7999135">:</span>&nbsp;<span class="string" id="7999137">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;`</span><span class="op" id="7999179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999183">Value</span><span class="op" id="7999188">:</span>&nbsp;<span class="op" id="7999190">&amp;</span><span class="ident" id="7999191">AnySliceTest</span><span class="op" id="7999203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999208">Nested</span><span class="op" id="7999214">:</span>&nbsp;<span class="string" id="7999216">&#34;b&#34;</span><span class="op" id="7999219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999223">}</span><span class="op" id="7999224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999227">}</span><span class="op" id="7999228">,</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7999232">//&nbsp;Test&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999262">Value</span><span class="op" id="7999267">:</span>&nbsp;<span class="op" id="7999269">&amp;</span><span class="ident" id="7999270">RecurseA</span><span class="op" id="7999278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999283">A</span><span class="op" id="7999284">:</span>&nbsp;<span class="string" id="7999286">&#34;a1&#34;</span><span class="op" id="7999290">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999295">B</span><span class="op" id="7999296">:</span>&nbsp;<span class="op" id="7999298">&amp;</span><span class="ident" id="7999299">RecurseB</span><span class="op" id="7999307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999313">A</span><span class="op" id="7999314">:</span>&nbsp;<span class="op" id="7999316">&amp;</span><span class="ident" id="7999317">RecurseA</span><span class="op" id="7999325">{</span><span class="string" id="7999326">&#34;a2&#34;</span><span class="op" id="7999330">,</span>&nbsp;<span class="builtintype" id="7999332">nil</span><span class="op" id="7999335">}</span><span class="op" id="7999336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999342">B</span><span class="op" id="7999343">:</span>&nbsp;<span class="string" id="7999345">&#34;b1&#34;</span><span class="op" id="7999349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999354">}</span><span class="op" id="7999355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999359">}</span><span class="op" id="7999360">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999364">ExpectXML</span><span class="op" id="7999373">:</span>&nbsp;<span class="string" id="7999375">`&lt;RecurseA&gt;&lt;A&gt;a1&lt;/A&gt;&lt;B&gt;&lt;A&gt;&lt;A&gt;a2&lt;/A&gt;&lt;/A&gt;&lt;B&gt;b1&lt;/B&gt;&lt;/B&gt;&lt;/RecurseA&gt;`</span><span class="op" id="7999439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999442">}</span><span class="op" id="7999443">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7999447">//&nbsp;Test&nbsp;ignoring&nbsp;fields&nbsp;via&nbsp;&#34;-&#34;&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999484">{</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999488">ExpectXML</span><span class="op" id="7999497">:</span>&nbsp;<span class="string" id="7999499">`&lt;IgnoreTest&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="7999526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999530">Value</span><span class="op" id="7999535">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999541">&amp;</span><span class="ident" id="7999542">IgnoreTest</span><span class="op" id="7999552">{</span><span class="op" id="7999553">}</span><span class="op" id="7999554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999557">}</span><span class="op" id="7999558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999565">ExpectXML</span><span class="op" id="7999574">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7999578">`&lt;IgnoreTest&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="7999605">,</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999609">Value</span><span class="op" id="7999614">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999622">&amp;</span><span class="ident" id="7999623">IgnoreTest</span><span class="op" id="7999633">{</span><span class="ident" id="7999634">PublicSecret</span><span class="op" id="7999646">:</span>&nbsp;<span class="string" id="7999648">&#34;can&#39;t&nbsp;tell&#34;</span><span class="op" id="7999660">}</span><span class="op" id="7999661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999665">MarshalOnly</span><span class="op" id="7999676">:</span>&nbsp;<span class="builtintype" id="7999678">true</span><span class="op" id="7999682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999685">}</span><span class="op" id="7999686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999693">ExpectXML</span><span class="op" id="7999702">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7999708">`&lt;IgnoreTest&gt;&lt;PublicSecret&gt;ignore&nbsp;me&lt;/PublicSecret&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="7999773">,</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999777">Value</span><span class="op" id="7999782">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999792">&amp;</span><span class="ident" id="7999793">IgnoreTest</span><span class="op" id="7999803">{</span><span class="op" id="7999804">}</span><span class="op" id="7999805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999809">UnmarshalOnly</span><span class="op" id="7999822">:</span>&nbsp;<span class="builtintype" id="7999824">true</span><span class="op" id="7999828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999831">}</span><span class="op" id="7999832">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7999836">//&nbsp;Test&nbsp;escaping.</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7999855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7999859">ExpectXML</span><span class="op" id="7999868">:</span>&nbsp;<span class="string" id="7999870">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;dquote:&nbsp;&amp;#34;;&nbsp;squote:&nbsp;&amp;#39;;&nbsp;ampersand:&nbsp;&amp;amp;;&nbsp;less:&nbsp;&amp;lt;;&nbsp;greater:&nbsp;&amp;gt;;&lt;/value&gt;&lt;/nested&gt;&lt;empty&gt;&lt;/empty&gt;&lt;/a&gt;`</span><span class="op" id="8000000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000004">Value</span><span class="op" id="8000009">:</span>&nbsp;<span class="op" id="8000011">&amp;</span><span class="ident" id="8000012">AnyTest</span><span class="op" id="8000019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000024">Nested</span><span class="op" id="8000030">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8000034">`dquote:&nbsp;&#34;;&nbsp;squote:&nbsp;&#39;;&nbsp;ampersand:&nbsp;&amp;;&nbsp;less:&nbsp;&lt;;&nbsp;greater:&nbsp;&gt;;`</span><span class="op" id="8000092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000097">AnyField</span><span class="op" id="8000105">:</span>&nbsp;<span class="ident" id="8000107">AnyHolder</span><span class="op" id="8000116">{</span><span class="ident" id="8000117">XMLName</span><span class="op" id="8000124">:</span>&nbsp;<span class="ident" id="8000126">Name</span><span class="op" id="8000130">{</span><span class="ident" id="8000131">Local</span><span class="op" id="8000136">:</span>&nbsp;<span class="string" id="8000138">&#34;empty&#34;</span><span class="op" id="8000145">}</span><span class="op" id="8000146">}</span><span class="op" id="8000147">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000151">}</span><span class="op" id="8000152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000155">}</span><span class="op" id="8000156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000163">ExpectXML</span><span class="op" id="8000172">:</span>&nbsp;<span class="string" id="8000174">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;newline:&nbsp;&amp;#xA;;&nbsp;cr:&nbsp;&amp;#xD;;&nbsp;tab:&nbsp;&amp;#x9;;&lt;/value&gt;&lt;/nested&gt;&lt;AnyField&gt;&lt;/AnyField&gt;&lt;/a&gt;`</span><span class="op" id="8000274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000278">Value</span><span class="op" id="8000283">:</span>&nbsp;<span class="op" id="8000285">&amp;</span><span class="ident" id="8000286">AnyTest</span><span class="op" id="8000293">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000298">Nested</span><span class="op" id="8000304">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8000308">&#34;newline:&nbsp;\n;&nbsp;cr:&nbsp;\r;&nbsp;tab:&nbsp;\t;&#34;</span><span class="op" id="8000339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000344">AnyField</span><span class="op" id="8000352">:</span>&nbsp;<span class="ident" id="8000354">AnyHolder</span><span class="op" id="8000363">{</span><span class="ident" id="8000364">XMLName</span><span class="op" id="8000371">:</span>&nbsp;<span class="ident" id="8000373">Name</span><span class="op" id="8000377">{</span><span class="ident" id="8000378">Local</span><span class="op" id="8000383">:</span>&nbsp;<span class="string" id="8000385">&#34;AnyField&#34;</span><span class="op" id="8000395">}</span><span class="op" id="8000396">}</span><span class="op" id="8000397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000401">}</span><span class="op" id="8000402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000405">}</span><span class="op" id="8000406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000409">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000413">ExpectXML</span><span class="op" id="8000422">:</span>&nbsp;<span class="string" id="8000424">&#34;&lt;a&gt;&lt;nested&gt;&lt;value&gt;1\r2\r\n3\n\r4\n5&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;&#34;</span><span class="op" id="8000482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000486">Value</span><span class="op" id="8000491">:</span>&nbsp;<span class="op" id="8000493">&amp;</span><span class="ident" id="8000494">AnyTest</span><span class="op" id="8000501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000506">Nested</span><span class="op" id="8000512">:</span>&nbsp;<span class="string" id="8000514">&#34;1\n2\n3\n\n4\n5&#34;</span><span class="op" id="8000531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000535">}</span><span class="op" id="8000536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000540">UnmarshalOnly</span><span class="op" id="8000553">:</span>&nbsp;<span class="builtintype" id="8000555">true</span><span class="op" id="8000559">,</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000562">}</span><span class="op" id="8000563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000570">ExpectXML</span><span class="op" id="8000579">:</span>&nbsp;<span class="string" id="8000581">`&lt;EmbedInt&gt;&lt;MyInt&gt;42&lt;/MyInt&gt;&lt;/EmbedInt&gt;`</span><span class="op" id="8000621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000625">Value</span><span class="op" id="8000630">:</span>&nbsp;<span class="op" id="8000632">&amp;</span><span class="ident" id="8000633">EmbedInt</span><span class="op" id="8000641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000646">MyInt</span><span class="op" id="8000651">:</span>&nbsp;<span class="num" id="8000653">42</span><span class="op" id="8000655">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000659">}</span><span class="op" id="8000660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000663">}</span><span class="op" id="8000664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8000667">//&nbsp;Test&nbsp;omitempty&nbsp;with&nbsp;parent&nbsp;chain;&nbsp;see&nbsp;golang.org/issue/4168.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000736">ExpectXML</span><span class="op" id="8000745">:</span>&nbsp;<span class="string" id="8000747">`&lt;Strings&gt;&lt;A&gt;&lt;/A&gt;&lt;/Strings&gt;`</span><span class="op" id="8000775">,</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000779">Value</span><span class="op" id="8000784">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000790">&amp;</span><span class="ident" id="8000791">Strings</span><span class="op" id="8000798">{</span><span class="op" id="8000799">}</span><span class="op" id="8000800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000803">}</span><span class="op" id="8000804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8000807">//&nbsp;Custom&nbsp;marshalers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000834">ExpectXML</span><span class="op" id="8000843">:</span>&nbsp;<span class="string" id="8000845">`&lt;MyMarshalerTest&gt;hello&nbsp;world&lt;/MyMarshalerTest&gt;`</span><span class="op" id="8000893">,</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000897">Value</span><span class="op" id="8000902">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000908">&amp;</span><span class="ident" id="8000909">MyMarshalerTest</span><span class="op" id="8000924">{</span><span class="op" id="8000925">}</span><span class="op" id="8000926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000929">}</span><span class="op" id="8000930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8000933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8000937">ExpectXML</span><span class="op" id="8000946">:</span>&nbsp;<span class="string" id="8000948">`&lt;MarshalerStruct&nbsp;Foo=&#34;hello&nbsp;world&#34;&gt;&lt;/MarshalerStruct&gt;`</span><span class="op" id="8001003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001007">Value</span><span class="op" id="8001012">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001018">&amp;</span><span class="ident" id="8001019">MarshalerStruct</span><span class="op" id="8001034">{</span><span class="op" id="8001035">}</span><span class="op" id="8001036">,</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001039">}</span><span class="op" id="8001040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001047">ExpectXML</span><span class="op" id="8001056">:</span>&nbsp;<span class="string" id="8001058">`&lt;outer&nbsp;xmlns=&#34;testns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/outer&gt;`</span><span class="op" id="8001099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001103">Value</span><span class="op" id="8001108">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001114">&amp;</span><span class="ident" id="8001115">OuterStruct</span><span class="op" id="8001126">{</span><span class="ident" id="8001127">IntAttr</span><span class="op" id="8001134">:</span>&nbsp;<span class="num" id="8001136">10</span><span class="op" id="8001138">}</span><span class="op" id="8001139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001142">}</span><span class="op" id="8001143">,</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001150">ExpectXML</span><span class="op" id="8001159">:</span>&nbsp;<span class="string" id="8001161">`&lt;test&nbsp;xmlns=&#34;outerns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/test&gt;`</span><span class="op" id="8001201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001205">Value</span><span class="op" id="8001210">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001216">&amp;</span><span class="ident" id="8001217">OuterNamedStruct</span><span class="op" id="8001233">{</span><span class="ident" id="8001234">XMLName</span><span class="op" id="8001241">:</span>&nbsp;<span class="ident" id="8001243">Name</span><span class="op" id="8001247">{</span><span class="ident" id="8001248">Space</span><span class="op" id="8001253">:</span>&nbsp;<span class="string" id="8001255">&#34;outerns&#34;</span><span class="op" id="8001264">,</span>&nbsp;<span class="ident" id="8001266">Local</span><span class="op" id="8001271">:</span>&nbsp;<span class="string" id="8001273">&#34;test&#34;</span><span class="op" id="8001279">}</span><span class="op" id="8001280">,</span>&nbsp;<span class="ident" id="8001282">IntAttr</span><span class="op" id="8001289">:</span>&nbsp;<span class="num" id="8001291">10</span><span class="op" id="8001293">}</span><span class="op" id="8001294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001297">}</span><span class="op" id="8001298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001301">{</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001305">ExpectXML</span><span class="op" id="8001314">:</span>&nbsp;<span class="string" id="8001316">`&lt;test&nbsp;xmlns=&#34;outerns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/test&gt;`</span><span class="op" id="8001356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001360">Value</span><span class="op" id="8001365">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001371">&amp;</span><span class="ident" id="8001372">OuterNamedOrderedStruct</span><span class="op" id="8001395">{</span><span class="ident" id="8001396">XMLName</span><span class="op" id="8001403">:</span>&nbsp;<span class="ident" id="8001405">Name</span><span class="op" id="8001409">{</span><span class="ident" id="8001410">Space</span><span class="op" id="8001415">:</span>&nbsp;<span class="string" id="8001417">&#34;outerns&#34;</span><span class="op" id="8001426">,</span>&nbsp;<span class="ident" id="8001428">Local</span><span class="op" id="8001433">:</span>&nbsp;<span class="string" id="8001435">&#34;test&#34;</span><span class="op" id="8001441">}</span><span class="op" id="8001442">,</span>&nbsp;<span class="ident" id="8001444">IntAttr</span><span class="op" id="8001451">:</span>&nbsp;<span class="num" id="8001453">10</span><span class="op" id="8001455">}</span><span class="op" id="8001456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001459">}</span><span class="op" id="8001460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001467">ExpectXML</span><span class="op" id="8001476">:</span>&nbsp;<span class="string" id="8001478">`&lt;outer&nbsp;xmlns=&#34;testns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/outer&gt;`</span><span class="op" id="8001519">,</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001523">Value</span><span class="op" id="8001528">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001534">&amp;</span><span class="ident" id="8001535">OuterOuterStruct</span><span class="op" id="8001551">{</span><span class="ident" id="8001552">OuterStruct</span><span class="op" id="8001563">{</span><span class="ident" id="8001564">IntAttr</span><span class="op" id="8001571">:</span>&nbsp;<span class="num" id="8001573">10</span><span class="op" id="8001575">}</span><span class="op" id="8001576">}</span><span class="op" id="8001577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001580">}</span><span class="op" id="8001581">,</span><br>
<span class="lineno"></span><span class="op" id="8001583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8001586">func</span>&nbsp;<span class="ident" id="8001591">TestMarshal</span><span class="op" id="8001602">(</span><span class="ident" id="8001603">t</span>&nbsp;<span class="op" id="8001605">*</span><span class="ident" id="8001606">testing</span><span class="op" id="8001613">.</span><span class="ident" id="8001614">T</span><span class="op" id="8001615">)</span>&nbsp;<span class="op" id="8001617">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001620">for</span>&nbsp;<span class="ident" id="8001624">idx</span><span class="op" id="8001627">,</span>&nbsp;<span class="ident" id="8001629">test</span>&nbsp;<span class="op" id="8001634">:=</span>&nbsp;<span class="keyword" id="8001637">range</span>&nbsp;<span class="ident" id="8001643">marshalTests</span>&nbsp;<span class="op" id="8001656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001660">if</span>&nbsp;<span class="ident" id="8001663">test</span><span class="op" id="8001667">.</span><span class="ident" id="8001668">UnmarshalOnly</span>&nbsp;<span class="op" id="8001682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001687">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001702">data</span><span class="op" id="8001706">,</span>&nbsp;<span class="ident" id="8001708">err</span>&nbsp;<span class="op" id="8001712">:=</span>&nbsp;<span class="ident" id="8001715">Marshal</span><span class="op" id="8001722">(</span><span class="ident" id="8001723">test</span><span class="op" id="8001727">.</span><span class="ident" id="8001728">Value</span><span class="op" id="8001733">)</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001737">if</span>&nbsp;<span class="ident" id="8001740">err</span>&nbsp;<span class="op" id="8001744">!=</span>&nbsp;<span class="builtintype" id="8001747">nil</span>&nbsp;<span class="op" id="8001751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001756">t</span><span class="op" id="8001757">.</span><span class="ident" id="8001758">Errorf</span><span class="op" id="8001764">(</span><span class="string" id="8001765">&#34;#%d:&nbsp;Error:&nbsp;%s&#34;</span><span class="op" id="8001781">,</span>&nbsp;<span class="ident" id="8001783">idx</span><span class="op" id="8001786">,</span>&nbsp;<span class="ident" id="8001788">err</span><span class="op" id="8001791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001796">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001811">if</span>&nbsp;<span class="ident" id="8001814">got</span><span class="op" id="8001817">,</span>&nbsp;<span class="ident" id="8001819">want</span>&nbsp;<span class="op" id="8001824">:=</span>&nbsp;<span class="builtintype" id="8001827">string</span><span class="op" id="8001833">(</span><span class="ident" id="8001834">data</span><span class="op" id="8001838">)</span><span class="op" id="8001839">,</span>&nbsp;<span class="ident" id="8001841">test</span><span class="op" id="8001845">.</span><span class="ident" id="8001846">ExpectXML</span><span class="op" id="8001855">;</span>&nbsp;<span class="ident" id="8001857">got</span>&nbsp;<span class="op" id="8001861">!=</span>&nbsp;<span class="ident" id="8001864">want</span>&nbsp;<span class="op" id="8001869">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8001874">if</span>&nbsp;<span class="ident" id="8001877">strings</span><span class="op" id="8001884">.</span><span class="ident" id="8001885">Contains</span><span class="op" id="8001893">(</span><span class="ident" id="8001894">want</span><span class="op" id="8001898">,</span>&nbsp;<span class="string" id="8001900">&#34;\n&#34;</span><span class="op" id="8001904">)</span>&nbsp;<span class="op" id="8001906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8001912">t</span><span class="op" id="8001913">.</span><span class="ident" id="8001914">Errorf</span><span class="op" id="8001920">(</span><span class="string" id="8001921">&#34;#%d:&nbsp;marshal(%#v):\nHAVE:\n%s\nWANT:\n%s&#34;</span><span class="op" id="8001963">,</span>&nbsp;<span class="ident" id="8001965">idx</span><span class="op" id="8001968">,</span>&nbsp;<span class="ident" id="8001970">test</span><span class="op" id="8001974">.</span><span class="ident" id="8001975">Value</span><span class="op" id="8001980">,</span>&nbsp;<span class="ident" id="8001982">got</span><span class="op" id="8001985">,</span>&nbsp;<span class="ident" id="8001987">want</span><span class="op" id="8001991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8001996">}</span>&nbsp;<span class="keyword" id="8001998">else</span>&nbsp;<span class="op" id="8002003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002009">t</span><span class="op" id="8002010">.</span><span class="ident" id="8002011">Errorf</span><span class="op" id="8002017">(</span><span class="string" id="8002018">&#34;#%d:&nbsp;marshal(%#v):\nhave&nbsp;%#q\nwant&nbsp;%#q&#34;</span><span class="op" id="8002058">,</span>&nbsp;<span class="ident" id="8002060">idx</span><span class="op" id="8002063">,</span>&nbsp;<span class="ident" id="8002065">test</span><span class="op" id="8002069">.</span><span class="ident" id="8002070">Value</span><span class="op" id="8002075">,</span>&nbsp;<span class="ident" id="8002077">got</span><span class="op" id="8002080">,</span>&nbsp;<span class="ident" id="8002082">want</span><span class="op" id="8002086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002091">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002098">}</span><br>
<span class="lineno"></span><span class="op" id="8002100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8002103">type</span>&nbsp;<span class="ident" id="8002108">AttrParent</span>&nbsp;<span class="keyword" id="8002119">struct</span>&nbsp;<span class="op" id="8002126">{</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002129">X</span>&nbsp;<span class="builtintype" id="8002131">string</span>&nbsp;<span class="string" id="8002138">`xml:&#34;X&gt;Y,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8002155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8002158">type</span>&nbsp;<span class="ident" id="8002163">BadAttr</span>&nbsp;<span class="keyword" id="8002171">struct</span>&nbsp;<span class="op" id="8002178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002181">Name</span>&nbsp;<span class="op" id="8002186">[</span><span class="op" id="8002187">]</span><span class="builtintype" id="8002188">string</span>&nbsp;<span class="string" id="8002195">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno">955</span><span class="op" id="8002213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8002216">var</span>&nbsp;<span class="ident" id="8002220">marshalErrorTests</span>&nbsp;<span class="op" id="8002238">=</span>&nbsp;<span class="op" id="8002240">[</span><span class="op" id="8002241">]</span><span class="keyword" id="8002242">struct</span>&nbsp;<span class="op" id="8002249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002252">Value</span>&nbsp;<span class="keyword" id="8002258">interface</span><span class="op" id="8002267">{</span><span class="op" id="8002268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002271">Err</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8002277">string</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002285">Kind</span>&nbsp;&nbsp;<span class="ident" id="8002291">reflect</span><span class="op" id="8002298">.</span><span class="ident" id="8002299">Kind</span><br>
<span class="lineno"></span><span class="op" id="8002304">}</span><span class="op" id="8002305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002312">Value</span><span class="op" id="8002317">:</span>&nbsp;<span class="builtinfunc" id="8002319">make</span><span class="op" id="8002323">(</span><span class="keyword" id="8002324">chan</span>&nbsp;<span class="builtintype" id="8002329">bool</span><span class="op" id="8002333">)</span><span class="op" id="8002334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002338">Err</span><span class="op" id="8002341">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8002345">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;chan&nbsp;bool&#34;</span><span class="op" id="8002379">,</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002383">Kind</span><span class="op" id="8002387">:</span>&nbsp;&nbsp;<span class="ident" id="8002390">reflect</span><span class="op" id="8002397">.</span><span class="ident" id="8002398">Chan</span><span class="op" id="8002402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002405">}</span><span class="op" id="8002406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002413">Value</span><span class="op" id="8002418">:</span>&nbsp;<span class="keyword" id="8002420">map</span><span class="op" id="8002423">[</span><span class="builtintype" id="8002424">string</span><span class="op" id="8002430">]</span><span class="builtintype" id="8002431">string</span><span class="op" id="8002437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8002442">&#34;question&#34;</span><span class="op" id="8002452">:</span>&nbsp;<span class="string" id="8002454">&#34;What&nbsp;do&nbsp;you&nbsp;get&nbsp;when&nbsp;you&nbsp;multiply&nbsp;six&nbsp;by&nbsp;nine?&#34;</span><span class="op" id="8002502">,</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8002507">&#34;answer&#34;</span><span class="op" id="8002515">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8002519">&#34;42&#34;</span><span class="op" id="8002523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002527">}</span><span class="op" id="8002528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002532">Err</span><span class="op" id="8002535">:</span>&nbsp;&nbsp;<span class="string" id="8002538">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;map[string]string&#34;</span><span class="op" id="8002580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002584">Kind</span><span class="op" id="8002588">:</span>&nbsp;<span class="ident" id="8002590">reflect</span><span class="op" id="8002597">.</span><span class="ident" id="8002598">Map</span><span class="op" id="8002601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002604">}</span><span class="op" id="8002605">,</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002612">Value</span><span class="op" id="8002617">:</span>&nbsp;<span class="keyword" id="8002619">map</span><span class="op" id="8002622">[</span><span class="op" id="8002623">*</span><span class="ident" id="8002624">Ship</span><span class="op" id="8002628">]</span><span class="builtintype" id="8002629">bool</span><span class="op" id="8002633">{</span><span class="builtintype" id="8002634">nil</span><span class="op" id="8002637">:</span>&nbsp;<span class="builtintype" id="8002639">false</span><span class="op" id="8002644">}</span><span class="op" id="8002645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002649">Err</span><span class="op" id="8002652">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8002656">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;map[*xml.Ship]bool&#34;</span><span class="op" id="8002699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002703">Kind</span><span class="op" id="8002707">:</span>&nbsp;&nbsp;<span class="ident" id="8002710">reflect</span><span class="op" id="8002717">.</span><span class="ident" id="8002718">Map</span><span class="op" id="8002721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002724">}</span><span class="op" id="8002725">,</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002732">Value</span><span class="op" id="8002737">:</span>&nbsp;<span class="op" id="8002739">&amp;</span><span class="ident" id="8002740">Domain</span><span class="op" id="8002746">{</span><span class="ident" id="8002747">Comment</span><span class="op" id="8002754">:</span>&nbsp;<span class="op" id="8002756">[</span><span class="op" id="8002757">]</span><span class="builtintype" id="8002758">byte</span><span class="op" id="8002762">(</span><span class="string" id="8002763">&#34;f--bar&#34;</span><span class="op" id="8002771">)</span><span class="op" id="8002772">}</span><span class="op" id="8002773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002777">Err</span><span class="op" id="8002780">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8002784">`xml:&nbsp;comments&nbsp;must&nbsp;not&nbsp;contain&nbsp;&#34;--&#34;`</span><span class="op" id="8002821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002824">}</span><span class="op" id="8002825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8002828">//&nbsp;Reject&nbsp;parent&nbsp;chain&nbsp;with&nbsp;attr,&nbsp;never&nbsp;worked;&nbsp;see&nbsp;golang.org/issue/5033.</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002908">Value</span><span class="op" id="8002913">:</span>&nbsp;<span class="op" id="8002915">&amp;</span><span class="ident" id="8002916">AttrParent</span><span class="op" id="8002926">{</span><span class="op" id="8002927">}</span><span class="op" id="8002928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002932">Err</span><span class="op" id="8002935">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8002939">`xml:&nbsp;X&gt;Y&nbsp;chain&nbsp;not&nbsp;valid&nbsp;with&nbsp;attr&nbsp;flag`</span><span class="op" id="8002980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002983">}</span><span class="op" id="8002984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8002987">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8002991">Value</span><span class="op" id="8002996">:</span>&nbsp;<span class="ident" id="8002998">BadAttr</span><span class="op" id="8003005">{</span><span class="op" id="8003006">[</span><span class="op" id="8003007">]</span><span class="builtintype" id="8003008">string</span><span class="op" id="8003014">{</span><span class="string" id="8003015">&#34;X&#34;</span><span class="op" id="8003018">,</span>&nbsp;<span class="string" id="8003020">&#34;Y&#34;</span><span class="op" id="8003023">}</span><span class="op" id="8003024">}</span><span class="op" id="8003025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003029">Err</span><span class="op" id="8003032">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8003036">`xml:&nbsp;unsupported&nbsp;type:&nbsp;[]string`</span><span class="op" id="8003069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003072">}</span><span class="op" id="8003073">,</span><br>
<span class="lineno"></span><span class="op" id="8003075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">995</span><span class="keyword" id="8003078">var</span>&nbsp;<span class="ident" id="8003082">marshalIndentTests</span>&nbsp;<span class="op" id="8003101">=</span>&nbsp;<span class="op" id="8003103">[</span><span class="op" id="8003104">]</span><span class="keyword" id="8003105">struct</span>&nbsp;<span class="op" id="8003112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003115">Value</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003125">interface</span><span class="op" id="8003134">{</span><span class="op" id="8003135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003138">Prefix</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8003148">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003156">Indent</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8003166">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003174">ExpectXML</span>&nbsp;<span class="builtintype" id="8003184">string</span><br>
<span class="lineno">1000</span><span class="op" id="8003191">}</span><span class="op" id="8003192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003199">Value</span><span class="op" id="8003204">:</span>&nbsp;<span class="op" id="8003206">&amp;</span><span class="ident" id="8003207">SecretAgent</span><span class="op" id="8003218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003223">Handle</span><span class="op" id="8003229">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8003234">&#34;007&#34;</span><span class="op" id="8003239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003244">Identity</span><span class="op" id="8003252">:</span>&nbsp;&nbsp;<span class="string" id="8003255">&#34;James&nbsp;Bond&#34;</span><span class="op" id="8003267">,</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003272">Obfuscate</span><span class="op" id="8003281">:</span>&nbsp;<span class="string" id="8003283">&#34;&lt;redacted/&gt;&#34;</span><span class="op" id="8003296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003300">}</span><span class="op" id="8003301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003305">Prefix</span><span class="op" id="8003311">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8003316">&#34;&#34;</span><span class="op" id="8003318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003322">Indent</span><span class="op" id="8003328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8003333">&#34;\t&#34;</span><span class="op" id="8003337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003341">ExpectXML</span><span class="op" id="8003350">:</span>&nbsp;<span class="ident" id="8003352">fmt</span><span class="op" id="8003355">.</span><span class="ident" id="8003356">Sprintf</span><span class="op" id="8003363">(</span><span class="string" id="8003364">&#34;&lt;agent&nbsp;handle=\&#34;007\&#34;&gt;\n\t&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;\n&lt;/agent&gt;&#34;</span><span class="op" id="8003444">)</span><span class="op" id="8003445">,</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003448">}</span><span class="op" id="8003449">,</span><br>
<span class="lineno"></span><span class="op" id="8003451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8003454">func</span>&nbsp;<span class="ident" id="8003459">TestMarshalErrors</span><span class="op" id="8003476">(</span><span class="ident" id="8003477">t</span>&nbsp;<span class="op" id="8003479">*</span><span class="ident" id="8003480">testing</span><span class="op" id="8003487">.</span><span class="ident" id="8003488">T</span><span class="op" id="8003489">)</span>&nbsp;<span class="op" id="8003491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003494">for</span>&nbsp;<span class="ident" id="8003498">idx</span><span class="op" id="8003501">,</span>&nbsp;<span class="ident" id="8003503">test</span>&nbsp;<span class="op" id="8003508">:=</span>&nbsp;<span class="keyword" id="8003511">range</span>&nbsp;<span class="ident" id="8003517">marshalErrorTests</span>&nbsp;<span class="op" id="8003535">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003539">data</span><span class="op" id="8003543">,</span>&nbsp;<span class="ident" id="8003545">err</span>&nbsp;<span class="op" id="8003549">:=</span>&nbsp;<span class="ident" id="8003552">Marshal</span><span class="op" id="8003559">(</span><span class="ident" id="8003560">test</span><span class="op" id="8003564">.</span><span class="ident" id="8003565">Value</span><span class="op" id="8003570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003574">if</span>&nbsp;<span class="ident" id="8003577">err</span>&nbsp;<span class="op" id="8003581">==</span>&nbsp;<span class="builtintype" id="8003584">nil</span>&nbsp;<span class="op" id="8003588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003593">t</span><span class="op" id="8003594">.</span><span class="ident" id="8003595">Errorf</span><span class="op" id="8003601">(</span><span class="string" id="8003602">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[success]&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%v&#34;</span><span class="op" id="8003651">,</span>&nbsp;<span class="ident" id="8003653">idx</span><span class="op" id="8003656">,</span>&nbsp;<span class="ident" id="8003658">test</span><span class="op" id="8003662">.</span><span class="ident" id="8003663">Value</span><span class="op" id="8003668">,</span>&nbsp;<span class="ident" id="8003670">data</span><span class="op" id="8003674">,</span>&nbsp;<span class="ident" id="8003676">test</span><span class="op" id="8003680">.</span><span class="ident" id="8003681">Err</span><span class="op" id="8003684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003689">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003700">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003704">if</span>&nbsp;<span class="ident" id="8003707">err</span><span class="op" id="8003710">.</span><span class="ident" id="8003711">Error</span><span class="op" id="8003716">(</span><span class="op" id="8003717">)</span>&nbsp;<span class="op" id="8003719">!=</span>&nbsp;<span class="ident" id="8003722">test</span><span class="op" id="8003726">.</span><span class="ident" id="8003727">Err</span>&nbsp;<span class="op" id="8003731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003736">t</span><span class="op" id="8003737">.</span><span class="ident" id="8003738">Errorf</span><span class="op" id="8003744">(</span><span class="string" id="8003745">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[error]&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8003786">,</span>&nbsp;<span class="ident" id="8003788">idx</span><span class="op" id="8003791">,</span>&nbsp;<span class="ident" id="8003793">test</span><span class="op" id="8003797">.</span><span class="ident" id="8003798">Value</span><span class="op" id="8003803">,</span>&nbsp;<span class="ident" id="8003805">err</span><span class="op" id="8003808">,</span>&nbsp;<span class="ident" id="8003810">test</span><span class="op" id="8003814">.</span><span class="ident" id="8003815">Err</span><span class="op" id="8003818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8003822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003826">if</span>&nbsp;<span class="ident" id="8003829">test</span><span class="op" id="8003833">.</span><span class="ident" id="8003834">Kind</span>&nbsp;<span class="op" id="8003839">!=</span>&nbsp;<span class="ident" id="8003842">reflect</span><span class="op" id="8003849">.</span><span class="ident" id="8003850">Invalid</span>&nbsp;<span class="op" id="8003858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8003863">if</span>&nbsp;<span class="ident" id="8003866">kind</span>&nbsp;<span class="op" id="8003871">:=</span>&nbsp;<span class="ident" id="8003874">err</span><span class="op" id="8003877">.</span><span class="op" id="8003878">(</span><span class="op" id="8003879">*</span><span class="ident" id="8003880">UnsupportedTypeError</span><span class="op" id="8003900">)</span><span class="op" id="8003901">.</span><span class="ident" id="8003902">Type</span><span class="op" id="8003906">.</span><span class="ident" id="8003907">Kind</span><span class="op" id="8003911">(</span><span class="op" id="8003912">)</span><span class="op" id="8003913">;</span>&nbsp;<span class="ident" id="8003915">kind</span>&nbsp;<span class="op" id="8003920">!=</span>&nbsp;<span class="ident" id="8003923">test</span><span class="op" id="8003927">.</span><span class="ident" id="8003928">Kind</span>&nbsp;<span class="op" id="8003933">{</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8003939">t</span><span class="op" id="8003940">.</span><span class="ident" id="8003941">Errorf</span><span class="op" id="8003947">(</span><span class="string" id="8003948">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[error&nbsp;kind]&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8003994">,</span>&nbsp;<span class="ident" id="8003996">idx</span><span class="op" id="8003999">,</span>&nbsp;<span class="ident" id="8004001">test</span><span class="op" id="8004005">.</span><span class="ident" id="8004006">Value</span><span class="op" id="8004011">,</span>&nbsp;<span class="ident" id="8004013">kind</span><span class="op" id="8004017">,</span>&nbsp;<span class="ident" id="8004019">test</span><span class="op" id="8004023">.</span><span class="ident" id="8004024">Kind</span><span class="op" id="8004028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004040">}</span><br>
<span class="lineno"></span><span class="op" id="8004042">}</span><br>
<span class="lineno">1030</span><br>
<span class="lineno"></span><span class="comment" id="8004045">//&nbsp;Do&nbsp;invertibility&nbsp;testing&nbsp;on&nbsp;the&nbsp;various&nbsp;structures&nbsp;that&nbsp;we&nbsp;test</span><br>
<span class="lineno"></span><span class="keyword" id="8004112">func</span>&nbsp;<span class="ident" id="8004117">TestUnmarshal</span><span class="op" id="8004130">(</span><span class="ident" id="8004131">t</span>&nbsp;<span class="op" id="8004133">*</span><span class="ident" id="8004134">testing</span><span class="op" id="8004141">.</span><span class="ident" id="8004142">T</span><span class="op" id="8004143">)</span>&nbsp;<span class="op" id="8004145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004148">for</span>&nbsp;<span class="ident" id="8004152">i</span><span class="op" id="8004153">,</span>&nbsp;<span class="ident" id="8004155">test</span>&nbsp;<span class="op" id="8004160">:=</span>&nbsp;<span class="keyword" id="8004163">range</span>&nbsp;<span class="ident" id="8004169">marshalTests</span>&nbsp;<span class="op" id="8004182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004186">if</span>&nbsp;<span class="ident" id="8004189">test</span><span class="op" id="8004193">.</span><span class="ident" id="8004194">MarshalOnly</span>&nbsp;<span class="op" id="8004206">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004211">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004226">if</span>&nbsp;<span class="ident" id="8004229">_</span><span class="op" id="8004230">,</span>&nbsp;<span class="ident" id="8004232">ok</span>&nbsp;<span class="op" id="8004235">:=</span>&nbsp;<span class="ident" id="8004238">test</span><span class="op" id="8004242">.</span><span class="ident" id="8004243">Value</span><span class="op" id="8004248">.</span><span class="op" id="8004249">(</span><span class="op" id="8004250">*</span><span class="ident" id="8004251">Plain</span><span class="op" id="8004256">)</span><span class="op" id="8004257">;</span>&nbsp;<span class="ident" id="8004259">ok</span>&nbsp;<span class="op" id="8004262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004267">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004278">}</span><br>
<span class="lineno">1040</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004283">vt</span>&nbsp;<span class="op" id="8004286">:=</span>&nbsp;<span class="ident" id="8004289">reflect</span><span class="op" id="8004296">.</span><span class="ident" id="8004297">TypeOf</span><span class="op" id="8004303">(</span><span class="ident" id="8004304">test</span><span class="op" id="8004308">.</span><span class="ident" id="8004309">Value</span><span class="op" id="8004314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004318">dest</span>&nbsp;<span class="op" id="8004323">:=</span>&nbsp;<span class="ident" id="8004326">reflect</span><span class="op" id="8004333">.</span><span class="ident" id="8004334">New</span><span class="op" id="8004337">(</span><span class="ident" id="8004338">vt</span><span class="op" id="8004340">.</span><span class="ident" id="8004341">Elem</span><span class="op" id="8004345">(</span><span class="op" id="8004346">)</span><span class="op" id="8004347">)</span><span class="op" id="8004348">.</span><span class="ident" id="8004349">Interface</span><span class="op" id="8004358">(</span><span class="op" id="8004359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004363">err</span>&nbsp;<span class="op" id="8004367">:=</span>&nbsp;<span class="ident" id="8004370">Unmarshal</span><span class="op" id="8004379">(</span><span class="op" id="8004380">[</span><span class="op" id="8004381">]</span><span class="builtintype" id="8004382">byte</span><span class="op" id="8004386">(</span><span class="ident" id="8004387">test</span><span class="op" id="8004391">.</span><span class="ident" id="8004392">ExpectXML</span><span class="op" id="8004401">)</span><span class="op" id="8004402">,</span>&nbsp;<span class="ident" id="8004404">dest</span><span class="op" id="8004408">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004413">switch</span>&nbsp;<span class="ident" id="8004420">fix</span>&nbsp;<span class="op" id="8004424">:=</span>&nbsp;<span class="ident" id="8004427">dest</span><span class="op" id="8004431">.</span><span class="op" id="8004432">(</span><span class="keyword" id="8004433">type</span><span class="op" id="8004437">)</span>&nbsp;<span class="op" id="8004439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004443">case</span>&nbsp;<span class="op" id="8004448">*</span><span class="ident" id="8004449">Feed</span><span class="op" id="8004453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004458">fix</span><span class="op" id="8004461">.</span><span class="ident" id="8004462">Author</span><span class="op" id="8004468">.</span><span class="ident" id="8004469">InnerXML</span>&nbsp;<span class="op" id="8004478">=</span>&nbsp;<span class="string" id="8004480">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004486">for</span>&nbsp;<span class="ident" id="8004490">i</span>&nbsp;<span class="op" id="8004492">:=</span>&nbsp;<span class="keyword" id="8004495">range</span>&nbsp;<span class="ident" id="8004501">fix</span><span class="op" id="8004504">.</span><span class="ident" id="8004505">Entry</span>&nbsp;<span class="op" id="8004511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004517">fix</span><span class="op" id="8004520">.</span><span class="ident" id="8004521">Entry</span><span class="op" id="8004526">[</span><span class="ident" id="8004527">i</span><span class="op" id="8004528">]</span><span class="op" id="8004529">.</span><span class="ident" id="8004530">Author</span><span class="op" id="8004536">.</span><span class="ident" id="8004537">InnerXML</span>&nbsp;<span class="op" id="8004546">=</span>&nbsp;<span class="string" id="8004548">&#34;&#34;</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004563">if</span>&nbsp;<span class="ident" id="8004566">err</span>&nbsp;<span class="op" id="8004570">!=</span>&nbsp;<span class="builtintype" id="8004573">nil</span>&nbsp;<span class="op" id="8004577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004582">t</span><span class="op" id="8004583">.</span><span class="ident" id="8004584">Errorf</span><span class="op" id="8004590">(</span><span class="string" id="8004591">&#34;#%d:&nbsp;unexpected&nbsp;error:&nbsp;%#v&#34;</span><span class="op" id="8004619">,</span>&nbsp;<span class="ident" id="8004621">i</span><span class="op" id="8004622">,</span>&nbsp;<span class="ident" id="8004624">err</span><span class="op" id="8004627">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004631">}</span>&nbsp;<span class="keyword" id="8004633">else</span>&nbsp;<span class="keyword" id="8004638">if</span>&nbsp;<span class="ident" id="8004641">got</span><span class="op" id="8004644">,</span>&nbsp;<span class="ident" id="8004646">want</span>&nbsp;<span class="op" id="8004651">:=</span>&nbsp;<span class="ident" id="8004654">dest</span><span class="op" id="8004658">,</span>&nbsp;<span class="ident" id="8004660">test</span><span class="op" id="8004664">.</span><span class="ident" id="8004665">Value</span><span class="op" id="8004670">;</span>&nbsp;<span class="op" id="8004672">!</span><span class="ident" id="8004673">reflect</span><span class="op" id="8004680">.</span><span class="ident" id="8004681">DeepEqual</span><span class="op" id="8004690">(</span><span class="ident" id="8004691">got</span><span class="op" id="8004694">,</span>&nbsp;<span class="ident" id="8004696">want</span><span class="op" id="8004700">)</span>&nbsp;<span class="op" id="8004702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004707">t</span><span class="op" id="8004708">.</span><span class="ident" id="8004709">Errorf</span><span class="op" id="8004715">(</span><span class="string" id="8004716">&#34;#%d:&nbsp;unmarshal(%q):\nhave&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8004757">,</span>&nbsp;<span class="ident" id="8004759">i</span><span class="op" id="8004760">,</span>&nbsp;<span class="ident" id="8004762">test</span><span class="op" id="8004766">.</span><span class="ident" id="8004767">ExpectXML</span><span class="op" id="8004776">,</span>&nbsp;<span class="ident" id="8004778">got</span><span class="op" id="8004781">,</span>&nbsp;<span class="ident" id="8004783">want</span><span class="op" id="8004787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8004794">}</span><br>
<span class="lineno"></span><span class="op" id="8004796">}</span><br>
<span class="lineno">1060</span><br>
<span class="lineno"></span><span class="keyword" id="8004799">func</span>&nbsp;<span class="ident" id="8004804">TestMarshalIndent</span><span class="op" id="8004821">(</span><span class="ident" id="8004822">t</span>&nbsp;<span class="op" id="8004824">*</span><span class="ident" id="8004825">testing</span><span class="op" id="8004832">.</span><span class="ident" id="8004833">T</span><span class="op" id="8004834">)</span>&nbsp;<span class="op" id="8004836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004839">for</span>&nbsp;<span class="ident" id="8004843">i</span><span class="op" id="8004844">,</span>&nbsp;<span class="ident" id="8004846">test</span>&nbsp;<span class="op" id="8004851">:=</span>&nbsp;<span class="keyword" id="8004854">range</span>&nbsp;<span class="ident" id="8004860">marshalIndentTests</span>&nbsp;<span class="op" id="8004879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004883">data</span><span class="op" id="8004887">,</span>&nbsp;<span class="ident" id="8004889">err</span>&nbsp;<span class="op" id="8004893">:=</span>&nbsp;<span class="ident" id="8004896">MarshalIndent</span><span class="op" id="8004909">(</span><span class="ident" id="8004910">test</span><span class="op" id="8004914">.</span><span class="ident" id="8004915">Value</span><span class="op" id="8004920">,</span>&nbsp;<span class="ident" id="8004922">test</span><span class="op" id="8004926">.</span><span class="ident" id="8004927">Prefix</span><span class="op" id="8004933">,</span>&nbsp;<span class="ident" id="8004935">test</span><span class="op" id="8004939">.</span><span class="ident" id="8004940">Indent</span><span class="op" id="8004946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8004950">if</span>&nbsp;<span class="ident" id="8004953">err</span>&nbsp;<span class="op" id="8004957">!=</span>&nbsp;<span class="builtintype" id="8004960">nil</span>&nbsp;<span class="op" id="8004964">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8004969">t</span><span class="op" id="8004970">.</span><span class="ident" id="8004971">Errorf</span><span class="op" id="8004977">(</span><span class="string" id="8004978">&#34;#%d:&nbsp;Error:&nbsp;%s&#34;</span><span class="op" id="8004994">,</span>&nbsp;<span class="ident" id="8004996">i</span><span class="op" id="8004997">,</span>&nbsp;<span class="ident" id="8004999">err</span><span class="op" id="8005002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005007">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005022">if</span>&nbsp;<span class="ident" id="8005025">got</span><span class="op" id="8005028">,</span>&nbsp;<span class="ident" id="8005030">want</span>&nbsp;<span class="op" id="8005035">:=</span>&nbsp;<span class="builtintype" id="8005038">string</span><span class="op" id="8005044">(</span><span class="ident" id="8005045">data</span><span class="op" id="8005049">)</span><span class="op" id="8005050">,</span>&nbsp;<span class="ident" id="8005052">test</span><span class="op" id="8005056">.</span><span class="ident" id="8005057">ExpectXML</span><span class="op" id="8005066">;</span>&nbsp;<span class="ident" id="8005068">got</span>&nbsp;<span class="op" id="8005072">!=</span>&nbsp;<span class="ident" id="8005075">want</span>&nbsp;<span class="op" id="8005080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005085">t</span><span class="op" id="8005086">.</span><span class="ident" id="8005087">Errorf</span><span class="op" id="8005093">(</span><span class="string" id="8005094">&#34;#%d:&nbsp;MarshalIndent:\nGot:%s\nWant:\n%s&#34;</span><span class="op" id="8005134">,</span>&nbsp;<span class="ident" id="8005136">i</span><span class="op" id="8005137">,</span>&nbsp;<span class="ident" id="8005139">got</span><span class="op" id="8005142">,</span>&nbsp;<span class="ident" id="8005144">want</span><span class="op" id="8005148">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005155">}</span><br>
<span class="lineno"></span><span class="op" id="8005157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8005160">type</span>&nbsp;<span class="ident" id="8005165">limitedBytesWriter</span>&nbsp;<span class="keyword" id="8005184">struct</span>&nbsp;<span class="op" id="8005191">{</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005194">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005201">io</span><span class="op" id="8005203">.</span><span class="ident" id="8005204">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005212">remain</span>&nbsp;<span class="builtintype" id="8005219">int</span>&nbsp;<span class="comment" id="8005223">//&nbsp;until&nbsp;writes&nbsp;fail</span><br>
<span class="lineno"></span><span class="op" id="8005244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8005247">func</span>&nbsp;<span class="op" id="8005252">(</span><span class="ident" id="8005253">lw</span>&nbsp;<span class="op" id="8005256">*</span><span class="ident" id="8005257">limitedBytesWriter</span><span class="op" id="8005275">)</span>&nbsp;<span class="ident" id="8005277">Write</span><span class="op" id="8005282">(</span><span class="ident" id="8005283">p</span>&nbsp;<span class="op" id="8005285">[</span><span class="op" id="8005286">]</span><span class="builtintype" id="8005287">byte</span><span class="op" id="8005291">)</span>&nbsp;<span class="op" id="8005293">(</span><span class="ident" id="8005294">n</span>&nbsp;<span class="builtintype" id="8005296">int</span><span class="op" id="8005299">,</span>&nbsp;<span class="ident" id="8005301">err</span>&nbsp;<span class="builtintype" id="8005305">error</span><span class="op" id="8005310">)</span>&nbsp;<span class="op" id="8005312">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005315">if</span>&nbsp;<span class="ident" id="8005318">lw</span><span class="op" id="8005320">.</span><span class="ident" id="8005321">remain</span>&nbsp;<span class="op" id="8005328">&lt;=</span>&nbsp;<span class="num" id="8005331">0</span>&nbsp;<span class="op" id="8005333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8005337">println</span><span class="op" id="8005344">(</span><span class="string" id="8005345">&#34;error&#34;</span><span class="op" id="8005352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005356">return</span>&nbsp;<span class="num" id="8005363">0</span><span class="op" id="8005364">,</span>&nbsp;<span class="ident" id="8005366">errors</span><span class="op" id="8005372">.</span><span class="ident" id="8005373">New</span><span class="op" id="8005376">(</span><span class="string" id="8005377">&#34;write&nbsp;limit&nbsp;hit&#34;</span><span class="op" id="8005394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005400">if</span>&nbsp;<span class="builtinfunc" id="8005403">len</span><span class="op" id="8005406">(</span><span class="ident" id="8005407">p</span><span class="op" id="8005408">)</span>&nbsp;<span class="op" id="8005410">&gt;</span>&nbsp;<span class="ident" id="8005412">lw</span><span class="op" id="8005414">.</span><span class="ident" id="8005415">remain</span>&nbsp;<span class="op" id="8005422">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005426">p</span>&nbsp;<span class="op" id="8005428">=</span>&nbsp;<span class="ident" id="8005430">p</span><span class="op" id="8005431">[</span><span class="op" id="8005432">:</span><span class="ident" id="8005433">lw</span><span class="op" id="8005435">.</span><span class="ident" id="8005436">remain</span><span class="op" id="8005442">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005446">n</span><span class="op" id="8005447">,</span>&nbsp;<span class="ident" id="8005449">_</span>&nbsp;<span class="op" id="8005451">=</span>&nbsp;<span class="ident" id="8005453">lw</span><span class="op" id="8005455">.</span><span class="ident" id="8005456">w</span><span class="op" id="8005457">.</span><span class="ident" id="8005458">Write</span><span class="op" id="8005463">(</span><span class="ident" id="8005464">p</span><span class="op" id="8005465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005469">lw</span><span class="op" id="8005471">.</span><span class="ident" id="8005472">remain</span>&nbsp;<span class="op" id="8005479">=</span>&nbsp;<span class="num" id="8005481">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005485">return</span>&nbsp;<span class="ident" id="8005492">n</span><span class="op" id="8005493">,</span>&nbsp;<span class="ident" id="8005495">errors</span><span class="op" id="8005501">.</span><span class="ident" id="8005502">New</span><span class="op" id="8005505">(</span><span class="string" id="8005506">&#34;write&nbsp;limit&nbsp;hit&#34;</span><span class="op" id="8005523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005526">}</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005529">n</span><span class="op" id="8005530">,</span>&nbsp;<span class="ident" id="8005532">err</span>&nbsp;<span class="op" id="8005536">=</span>&nbsp;<span class="ident" id="8005538">lw</span><span class="op" id="8005540">.</span><span class="ident" id="8005541">w</span><span class="op" id="8005542">.</span><span class="ident" id="8005543">Write</span><span class="op" id="8005548">(</span><span class="ident" id="8005549">p</span><span class="op" id="8005550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005553">lw</span><span class="op" id="8005555">.</span><span class="ident" id="8005556">remain</span>&nbsp;<span class="op" id="8005563">-=</span>&nbsp;<span class="ident" id="8005566">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005569">return</span>&nbsp;<span class="ident" id="8005576">n</span><span class="op" id="8005577">,</span>&nbsp;<span class="ident" id="8005579">err</span><br>
<span class="lineno"></span><span class="op" id="8005583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="8005586">func</span>&nbsp;<span class="ident" id="8005591">TestMarshalWriteErrors</span><span class="op" id="8005613">(</span><span class="ident" id="8005614">t</span>&nbsp;<span class="op" id="8005616">*</span><span class="ident" id="8005617">testing</span><span class="op" id="8005624">.</span><span class="ident" id="8005625">T</span><span class="op" id="8005626">)</span>&nbsp;<span class="op" id="8005628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005631">var</span>&nbsp;<span class="ident" id="8005635">buf</span>&nbsp;<span class="ident" id="8005639">bytes</span><span class="op" id="8005644">.</span><span class="ident" id="8005645">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005653">const</span>&nbsp;<span class="ident" id="8005659">writeCap</span>&nbsp;<span class="op" id="8005668">=</span>&nbsp;<span class="num" id="8005670">1024</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005676">w</span>&nbsp;<span class="op" id="8005678">:=</span>&nbsp;<span class="op" id="8005681">&amp;</span><span class="ident" id="8005682">limitedBytesWriter</span><span class="op" id="8005700">{</span><span class="op" id="8005701">&amp;</span><span class="ident" id="8005702">buf</span><span class="op" id="8005705">,</span>&nbsp;<span class="ident" id="8005707">writeCap</span><span class="op" id="8005715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005718">enc</span>&nbsp;<span class="op" id="8005722">:=</span>&nbsp;<span class="ident" id="8005725">NewEncoder</span><span class="op" id="8005735">(</span><span class="ident" id="8005736">w</span><span class="op" id="8005737">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005740">var</span>&nbsp;<span class="ident" id="8005744">err</span>&nbsp;<span class="builtintype" id="8005748">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005755">var</span>&nbsp;<span class="ident" id="8005759">i</span>&nbsp;<span class="builtintype" id="8005761">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005766">const</span>&nbsp;<span class="ident" id="8005772">n</span>&nbsp;<span class="op" id="8005774">=</span>&nbsp;<span class="num" id="8005776">4000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005782">for</span>&nbsp;<span class="ident" id="8005786">i</span>&nbsp;<span class="op" id="8005788">=</span>&nbsp;<span class="num" id="8005790">1</span><span class="op" id="8005791">;</span>&nbsp;<span class="ident" id="8005793">i</span>&nbsp;<span class="op" id="8005795">&lt;=</span>&nbsp;<span class="ident" id="8005798">n</span><span class="op" id="8005799">;</span>&nbsp;<span class="ident" id="8005801">i</span><span class="op" id="8005802">++</span>&nbsp;<span class="op" id="8005805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005809">err</span>&nbsp;<span class="op" id="8005813">=</span>&nbsp;<span class="ident" id="8005815">enc</span><span class="op" id="8005818">.</span><span class="ident" id="8005819">Encode</span><span class="op" id="8005825">(</span><span class="op" id="8005826">&amp;</span><span class="ident" id="8005827">Passenger</span><span class="op" id="8005836">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005841">Name</span><span class="op" id="8005845">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8005849">[</span><span class="op" id="8005850">]</span><span class="builtintype" id="8005851">string</span><span class="op" id="8005857">{</span><span class="string" id="8005858">&#34;Alice&#34;</span><span class="op" id="8005865">,</span>&nbsp;<span class="string" id="8005867">&#34;Bob&#34;</span><span class="op" id="8005872">}</span><span class="op" id="8005873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005878">Weight</span><span class="op" id="8005884">:</span>&nbsp;<span class="num" id="8005886">5</span><span class="op" id="8005887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005891">}</span><span class="op" id="8005892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005896">if</span>&nbsp;<span class="ident" id="8005899">err</span>&nbsp;<span class="op" id="8005903">!=</span>&nbsp;<span class="builtintype" id="8005906">nil</span>&nbsp;<span class="op" id="8005910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005915">break</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005929">if</span>&nbsp;<span class="ident" id="8005932">err</span>&nbsp;<span class="op" id="8005936">==</span>&nbsp;<span class="builtintype" id="8005939">nil</span>&nbsp;<span class="op" id="8005943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005947">t</span><span class="op" id="8005948">.</span><span class="ident" id="8005949">Error</span><span class="op" id="8005954">(</span><span class="string" id="8005955">&#34;expected&nbsp;an&nbsp;error&#34;</span><span class="op" id="8005974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8005977">}</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8005980">if</span>&nbsp;<span class="ident" id="8005983">i</span>&nbsp;<span class="op" id="8005985">==</span>&nbsp;<span class="ident" id="8005988">n</span>&nbsp;<span class="op" id="8005990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8005994">t</span><span class="op" id="8005995">.</span><span class="ident" id="8005996">Errorf</span><span class="op" id="8006002">(</span><span class="string" id="8006003">&#34;expected&nbsp;to&nbsp;fail&nbsp;before&nbsp;the&nbsp;end&#34;</span><span class="op" id="8006036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006042">if</span>&nbsp;<span class="ident" id="8006045">buf</span><span class="op" id="8006048">.</span><span class="ident" id="8006049">Len</span><span class="op" id="8006052">(</span><span class="op" id="8006053">)</span>&nbsp;<span class="op" id="8006055">!=</span>&nbsp;<span class="ident" id="8006058">writeCap</span>&nbsp;<span class="op" id="8006067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006071">t</span><span class="op" id="8006072">.</span><span class="ident" id="8006073">Errorf</span><span class="op" id="8006079">(</span><span class="string" id="8006080">&#34;buf.Len()&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8006105">,</span>&nbsp;<span class="ident" id="8006107">buf</span><span class="op" id="8006110">.</span><span class="ident" id="8006111">Len</span><span class="op" id="8006114">(</span><span class="op" id="8006115">)</span><span class="op" id="8006116">,</span>&nbsp;<span class="ident" id="8006118">writeCap</span><span class="op" id="8006126">)</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006129">}</span><br>
<span class="lineno"></span><span class="op" id="8006131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8006134">func</span>&nbsp;<span class="ident" id="8006139">TestMarshalWriteIOErrors</span><span class="op" id="8006163">(</span><span class="ident" id="8006164">t</span>&nbsp;<span class="op" id="8006166">*</span><span class="ident" id="8006167">testing</span><span class="op" id="8006174">.</span><span class="ident" id="8006175">T</span><span class="op" id="8006176">)</span>&nbsp;<span class="op" id="8006178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006181">enc</span>&nbsp;<span class="op" id="8006185">:=</span>&nbsp;<span class="ident" id="8006188">NewEncoder</span><span class="op" id="8006198">(</span><span class="ident" id="8006199">errWriter</span><span class="op" id="8006208">{</span><span class="op" id="8006209">}</span><span class="op" id="8006210">)</span><br>
<span class="lineno">1125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006214">expectErr</span>&nbsp;<span class="op" id="8006224">:=</span>&nbsp;<span class="string" id="8006227">&#34;unwritable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006241">err</span>&nbsp;<span class="op" id="8006245">:=</span>&nbsp;<span class="ident" id="8006248">enc</span><span class="op" id="8006251">.</span><span class="ident" id="8006252">Encode</span><span class="op" id="8006258">(</span><span class="op" id="8006259">&amp;</span><span class="ident" id="8006260">Passenger</span><span class="op" id="8006269">{</span><span class="op" id="8006270">}</span><span class="op" id="8006271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006274">if</span>&nbsp;<span class="ident" id="8006277">err</span>&nbsp;<span class="op" id="8006281">==</span>&nbsp;<span class="builtintype" id="8006284">nil</span>&nbsp;<span class="op" id="8006288">||</span>&nbsp;<span class="ident" id="8006291">err</span><span class="op" id="8006294">.</span><span class="ident" id="8006295">Error</span><span class="op" id="8006300">(</span><span class="op" id="8006301">)</span>&nbsp;<span class="op" id="8006303">!=</span>&nbsp;<span class="ident" id="8006306">expectErr</span>&nbsp;<span class="op" id="8006316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006320">t</span><span class="op" id="8006321">.</span><span class="ident" id="8006322">Errorf</span><span class="op" id="8006328">(</span><span class="string" id="8006329">&#34;EscapeTest&nbsp;=&nbsp;[error]&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8006363">,</span>&nbsp;<span class="ident" id="8006365">err</span><span class="op" id="8006368">,</span>&nbsp;<span class="ident" id="8006370">expectErr</span><span class="op" id="8006379">)</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006382">}</span><br>
<span class="lineno"></span><span class="op" id="8006384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8006387">func</span>&nbsp;<span class="ident" id="8006392">TestMarshalFlush</span><span class="op" id="8006408">(</span><span class="ident" id="8006409">t</span>&nbsp;<span class="op" id="8006411">*</span><span class="ident" id="8006412">testing</span><span class="op" id="8006419">.</span><span class="ident" id="8006420">T</span><span class="op" id="8006421">)</span>&nbsp;<span class="op" id="8006423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006426">var</span>&nbsp;<span class="ident" id="8006430">buf</span>&nbsp;<span class="ident" id="8006434">bytes</span><span class="op" id="8006439">.</span><span class="ident" id="8006440">Buffer</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006448">enc</span>&nbsp;<span class="op" id="8006452">:=</span>&nbsp;<span class="ident" id="8006455">NewEncoder</span><span class="op" id="8006465">(</span><span class="op" id="8006466">&amp;</span><span class="ident" id="8006467">buf</span><span class="op" id="8006470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006473">if</span>&nbsp;<span class="ident" id="8006476">err</span>&nbsp;<span class="op" id="8006480">:=</span>&nbsp;<span class="ident" id="8006483">enc</span><span class="op" id="8006486">.</span><span class="ident" id="8006487">EncodeToken</span><span class="op" id="8006498">(</span><span class="ident" id="8006499">CharData</span><span class="op" id="8006507">(</span><span class="string" id="8006508">&#34;hello&nbsp;world&#34;</span><span class="op" id="8006521">)</span><span class="op" id="8006522">)</span><span class="op" id="8006523">;</span>&nbsp;<span class="ident" id="8006525">err</span>&nbsp;<span class="op" id="8006529">!=</span>&nbsp;<span class="builtintype" id="8006532">nil</span>&nbsp;<span class="op" id="8006536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006540">t</span><span class="op" id="8006541">.</span><span class="ident" id="8006542">Fatalf</span><span class="op" id="8006548">(</span><span class="string" id="8006549">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8006570">,</span>&nbsp;<span class="ident" id="8006572">err</span><span class="op" id="8006575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006581">if</span>&nbsp;<span class="ident" id="8006584">buf</span><span class="op" id="8006587">.</span><span class="ident" id="8006588">Len</span><span class="op" id="8006591">(</span><span class="op" id="8006592">)</span>&nbsp;<span class="op" id="8006594">&gt;</span>&nbsp;<span class="num" id="8006596">0</span>&nbsp;<span class="op" id="8006598">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006602">t</span><span class="op" id="8006603">.</span><span class="ident" id="8006604">Fatalf</span><span class="op" id="8006610">(</span><span class="string" id="8006611">&#34;enc.EncodeToken&nbsp;caused&nbsp;actual&nbsp;write:&nbsp;%q&#34;</span><span class="op" id="8006652">,</span>&nbsp;<span class="ident" id="8006654">buf</span><span class="op" id="8006657">.</span><span class="ident" id="8006658">Bytes</span><span class="op" id="8006663">(</span><span class="op" id="8006664">)</span><span class="op" id="8006665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006671">if</span>&nbsp;<span class="ident" id="8006674">err</span>&nbsp;<span class="op" id="8006678">:=</span>&nbsp;<span class="ident" id="8006681">enc</span><span class="op" id="8006684">.</span><span class="ident" id="8006685">Flush</span><span class="op" id="8006690">(</span><span class="op" id="8006691">)</span><span class="op" id="8006692">;</span>&nbsp;<span class="ident" id="8006694">err</span>&nbsp;<span class="op" id="8006698">!=</span>&nbsp;<span class="builtintype" id="8006701">nil</span>&nbsp;<span class="op" id="8006705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006709">t</span><span class="op" id="8006710">.</span><span class="ident" id="8006711">Fatalf</span><span class="op" id="8006717">(</span><span class="string" id="8006718">&#34;enc.Flush:&nbsp;%v&#34;</span><span class="op" id="8006733">,</span>&nbsp;<span class="ident" id="8006735">err</span><span class="op" id="8006738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006741">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006744">if</span>&nbsp;<span class="ident" id="8006747">buf</span><span class="op" id="8006750">.</span><span class="ident" id="8006751">String</span><span class="op" id="8006757">(</span><span class="op" id="8006758">)</span>&nbsp;<span class="op" id="8006760">!=</span>&nbsp;<span class="string" id="8006763">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="8006777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006781">t</span><span class="op" id="8006782">.</span><span class="ident" id="8006783">Fatalf</span><span class="op" id="8006789">(</span><span class="string" id="8006790">&#34;after&nbsp;enc.Flush,&nbsp;buf.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8006835">,</span>&nbsp;<span class="ident" id="8006837">buf</span><span class="op" id="8006840">.</span><span class="ident" id="8006841">String</span><span class="op" id="8006847">(</span><span class="op" id="8006848">)</span><span class="op" id="8006849">,</span>&nbsp;<span class="string" id="8006851">&#34;hello&nbsp;world&#34;</span><span class="op" id="8006864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006867">}</span><br>
<span class="lineno"></span><span class="op" id="8006869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1150</span><span class="keyword" id="8006872">func</span>&nbsp;<span class="ident" id="8006877">BenchmarkMarshal</span><span class="op" id="8006893">(</span><span class="ident" id="8006894">b</span>&nbsp;<span class="op" id="8006896">*</span><span class="ident" id="8006897">testing</span><span class="op" id="8006904">.</span><span class="ident" id="8006905">B</span><span class="op" id="8006906">)</span>&nbsp;<span class="op" id="8006908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8006911">for</span>&nbsp;<span class="ident" id="8006915">i</span>&nbsp;<span class="op" id="8006917">:=</span>&nbsp;<span class="num" id="8006920">0</span><span class="op" id="8006921">;</span>&nbsp;<span class="ident" id="8006923">i</span>&nbsp;<span class="op" id="8006925">&lt;</span>&nbsp;<span class="ident" id="8006927">b</span><span class="op" id="8006928">.</span><span class="ident" id="8006929">N</span><span class="op" id="8006930">;</span>&nbsp;<span class="ident" id="8006932">i</span><span class="op" id="8006933">++</span>&nbsp;<span class="op" id="8006936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8006940">Marshal</span><span class="op" id="8006947">(</span><span class="ident" id="8006948">atomValue</span><span class="op" id="8006957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8006960">}</span><br>
<span class="lineno"></span><span class="op" id="8006962">}</span><br>
<span class="lineno">1155</span><br>
<span class="lineno"></span><span class="keyword" id="8006965">func</span>&nbsp;<span class="ident" id="8006970">BenchmarkUnmarshal</span><span class="op" id="8006988">(</span><span class="ident" id="8006989">b</span>&nbsp;<span class="op" id="8006991">*</span><span class="ident" id="8006992">testing</span><span class="op" id="8006999">.</span><span class="ident" id="8007000">B</span><span class="op" id="8007001">)</span>&nbsp;<span class="op" id="8007003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007006">xml</span>&nbsp;<span class="op" id="8007010">:=</span>&nbsp;<span class="op" id="8007013">[</span><span class="op" id="8007014">]</span><span class="builtintype" id="8007015">byte</span><span class="op" id="8007019">(</span><span class="ident" id="8007020">atomXml</span><span class="op" id="8007027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007030">for</span>&nbsp;<span class="ident" id="8007034">i</span>&nbsp;<span class="op" id="8007036">:=</span>&nbsp;<span class="num" id="8007039">0</span><span class="op" id="8007040">;</span>&nbsp;<span class="ident" id="8007042">i</span>&nbsp;<span class="op" id="8007044">&lt;</span>&nbsp;<span class="ident" id="8007046">b</span><span class="op" id="8007047">.</span><span class="ident" id="8007048">N</span><span class="op" id="8007049">;</span>&nbsp;<span class="ident" id="8007051">i</span><span class="op" id="8007052">++</span>&nbsp;<span class="op" id="8007055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007059">Unmarshal</span><span class="op" id="8007068">(</span><span class="ident" id="8007069">xml</span><span class="op" id="8007072">,</span>&nbsp;<span class="op" id="8007074">&amp;</span><span class="ident" id="8007075">Feed</span><span class="op" id="8007079">{</span><span class="op" id="8007080">}</span><span class="op" id="8007081">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007084">}</span><br>
<span class="lineno"></span><span class="op" id="8007086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8007089">//&nbsp;golang.org/issue/6556</span><br>
<span class="lineno"></span><span class="keyword" id="8007114">func</span>&nbsp;<span class="ident" id="8007119">TestStructPointerMarshal</span><span class="op" id="8007143">(</span><span class="ident" id="8007144">t</span>&nbsp;<span class="op" id="8007146">*</span><span class="ident" id="8007147">testing</span><span class="op" id="8007154">.</span><span class="ident" id="8007155">T</span><span class="op" id="8007156">)</span>&nbsp;<span class="op" id="8007158">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007161">type</span>&nbsp;<span class="ident" id="8007166">A</span>&nbsp;<span class="keyword" id="8007168">struct</span>&nbsp;<span class="op" id="8007175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007179">XMLName</span>&nbsp;<span class="builtintype" id="8007187">string</span>&nbsp;<span class="string" id="8007194">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007206">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007214">[</span><span class="op" id="8007215">]</span><span class="keyword" id="8007216">interface</span><span class="op" id="8007225">{</span><span class="op" id="8007226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007232">type</span>&nbsp;<span class="ident" id="8007237">C</span>&nbsp;<span class="keyword" id="8007239">struct</span>&nbsp;<span class="op" id="8007246">{</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007250">XMLName</span>&nbsp;<span class="ident" id="8007258">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007265">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8007273">string</span>&nbsp;<span class="string" id="8007280">`xml:&#34;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007299">a</span>&nbsp;<span class="op" id="8007301">:=</span>&nbsp;<span class="builtinfunc" id="8007304">new</span><span class="op" id="8007307">(</span><span class="ident" id="8007308">A</span><span class="op" id="8007309">)</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007312">a</span><span class="op" id="8007313">.</span><span class="ident" id="8007314">B</span>&nbsp;<span class="op" id="8007316">=</span>&nbsp;<span class="builtinfunc" id="8007318">append</span><span class="op" id="8007324">(</span><span class="ident" id="8007325">a</span><span class="op" id="8007326">.</span><span class="ident" id="8007327">B</span><span class="op" id="8007328">,</span>&nbsp;<span class="op" id="8007330">&amp;</span><span class="ident" id="8007331">C</span><span class="op" id="8007332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007336">XMLName</span><span class="op" id="8007343">:</span>&nbsp;<span class="ident" id="8007345">Name</span><span class="op" id="8007349">{</span><span class="ident" id="8007350">Local</span><span class="op" id="8007355">:</span>&nbsp;<span class="string" id="8007357">&#34;c&#34;</span><span class="op" id="8007360">}</span><span class="op" id="8007361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007365">Value</span><span class="op" id="8007370">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8007374">&#34;x&#34;</span><span class="op" id="8007377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007380">}</span><span class="op" id="8007381">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007385">b</span><span class="op" id="8007386">,</span>&nbsp;<span class="ident" id="8007388">err</span>&nbsp;<span class="op" id="8007392">:=</span>&nbsp;<span class="ident" id="8007395">Marshal</span><span class="op" id="8007402">(</span><span class="ident" id="8007403">a</span><span class="op" id="8007404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007407">if</span>&nbsp;<span class="ident" id="8007410">err</span>&nbsp;<span class="op" id="8007414">!=</span>&nbsp;<span class="builtintype" id="8007417">nil</span>&nbsp;<span class="op" id="8007421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007425">t</span><span class="op" id="8007426">.</span><span class="ident" id="8007427">Fatal</span><span class="op" id="8007432">(</span><span class="ident" id="8007433">err</span><span class="op" id="8007436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007442">if</span>&nbsp;<span class="ident" id="8007445">x</span>&nbsp;<span class="op" id="8007447">:=</span>&nbsp;<span class="builtintype" id="8007450">string</span><span class="op" id="8007456">(</span><span class="ident" id="8007457">b</span><span class="op" id="8007458">)</span><span class="op" id="8007459">;</span>&nbsp;<span class="ident" id="8007461">x</span>&nbsp;<span class="op" id="8007463">!=</span>&nbsp;<span class="string" id="8007466">&#34;&lt;a&gt;&lt;c&gt;&lt;value&gt;x&lt;/value&gt;&lt;/c&gt;&lt;/a&gt;&#34;</span>&nbsp;<span class="op" id="8007499">{</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007503">t</span><span class="op" id="8007504">.</span><span class="ident" id="8007505">Fatal</span><span class="op" id="8007510">(</span><span class="ident" id="8007511">x</span><span class="op" id="8007512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007518">var</span>&nbsp;<span class="ident" id="8007522">v</span>&nbsp;<span class="ident" id="8007524">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007527">err</span>&nbsp;<span class="op" id="8007531">=</span>&nbsp;<span class="ident" id="8007533">Unmarshal</span><span class="op" id="8007542">(</span><span class="ident" id="8007543">b</span><span class="op" id="8007544">,</span>&nbsp;<span class="op" id="8007546">&amp;</span><span class="ident" id="8007547">v</span><span class="op" id="8007548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8007551">if</span>&nbsp;<span class="ident" id="8007554">err</span>&nbsp;<span class="op" id="8007558">!=</span>&nbsp;<span class="builtintype" id="8007561">nil</span>&nbsp;<span class="op" id="8007565">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007569">t</span><span class="op" id="8007570">.</span><span class="ident" id="8007571">Fatal</span><span class="op" id="8007576">(</span><span class="ident" id="8007577">err</span><span class="op" id="8007580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007583">}</span><br>
<span class="lineno"></span><span class="op" id="8007585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8007588">var</span>&nbsp;<span class="ident" id="8007592">encodeTokenTests</span>&nbsp;<span class="op" id="8007609">=</span>&nbsp;<span class="op" id="8007611">[</span><span class="op" id="8007612">]</span><span class="keyword" id="8007613">struct</span>&nbsp;<span class="op" id="8007620">{</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007623">tok</span>&nbsp;&nbsp;<span class="ident" id="8007628">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007635">want</span>&nbsp;<span class="builtintype" id="8007640">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8007648">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8007653">bool</span><br>
<span class="lineno"></span><span class="op" id="8007658">}</span><span class="op" id="8007659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007662">{</span><span class="ident" id="8007663">StartElement</span><span class="op" id="8007675">{</span><span class="ident" id="8007676">Name</span><span class="op" id="8007680">{</span><span class="string" id="8007681">&#34;space&#34;</span><span class="op" id="8007688">,</span>&nbsp;<span class="string" id="8007690">&#34;local&#34;</span><span class="op" id="8007697">}</span><span class="op" id="8007698">,</span>&nbsp;<span class="builtintype" id="8007700">nil</span><span class="op" id="8007703">}</span><span class="op" id="8007704">,</span>&nbsp;<span class="string" id="8007706">&#34;&lt;local&nbsp;xmlns=\&#34;space\&#34;&gt;&#34;</span><span class="op" id="8007731">,</span>&nbsp;<span class="builtintype" id="8007733">true</span><span class="op" id="8007737">}</span><span class="op" id="8007738">,</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007741">{</span><span class="ident" id="8007742">StartElement</span><span class="op" id="8007754">{</span><span class="ident" id="8007755">Name</span><span class="op" id="8007759">{</span><span class="string" id="8007760">&#34;space&#34;</span><span class="op" id="8007767">,</span>&nbsp;<span class="string" id="8007769">&#34;&#34;</span><span class="op" id="8007771">}</span><span class="op" id="8007772">,</span>&nbsp;<span class="builtintype" id="8007774">nil</span><span class="op" id="8007777">}</span><span class="op" id="8007778">,</span>&nbsp;<span class="string" id="8007780">&#34;&#34;</span><span class="op" id="8007782">,</span>&nbsp;<span class="builtintype" id="8007784">false</span><span class="op" id="8007789">}</span><span class="op" id="8007790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007793">{</span><span class="ident" id="8007794">EndElement</span><span class="op" id="8007804">{</span><span class="ident" id="8007805">Name</span><span class="op" id="8007809">{</span><span class="string" id="8007810">&#34;space&#34;</span><span class="op" id="8007817">,</span>&nbsp;<span class="string" id="8007819">&#34;&#34;</span><span class="op" id="8007821">}</span><span class="op" id="8007822">}</span><span class="op" id="8007823">,</span>&nbsp;<span class="string" id="8007825">&#34;&#34;</span><span class="op" id="8007827">,</span>&nbsp;<span class="builtintype" id="8007829">false</span><span class="op" id="8007834">}</span><span class="op" id="8007835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007838">{</span><span class="ident" id="8007839">CharData</span><span class="op" id="8007847">(</span><span class="string" id="8007848">&#34;foo&#34;</span><span class="op" id="8007853">)</span><span class="op" id="8007854">,</span>&nbsp;<span class="string" id="8007856">&#34;foo&#34;</span><span class="op" id="8007861">,</span>&nbsp;<span class="builtintype" id="8007863">true</span><span class="op" id="8007867">}</span><span class="op" id="8007868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007871">{</span><span class="ident" id="8007872">Comment</span><span class="op" id="8007879">(</span><span class="string" id="8007880">&#34;foo&#34;</span><span class="op" id="8007885">)</span><span class="op" id="8007886">,</span>&nbsp;<span class="string" id="8007888">&#34;&lt;!--foo--&gt;&#34;</span><span class="op" id="8007900">,</span>&nbsp;<span class="builtintype" id="8007902">true</span><span class="op" id="8007906">}</span><span class="op" id="8007907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007910">{</span><span class="ident" id="8007911">Comment</span><span class="op" id="8007918">(</span><span class="string" id="8007919">&#34;foo--&gt;&#34;</span><span class="op" id="8007927">)</span><span class="op" id="8007928">,</span>&nbsp;<span class="string" id="8007930">&#34;&#34;</span><span class="op" id="8007932">,</span>&nbsp;<span class="builtintype" id="8007934">false</span><span class="op" id="8007939">}</span><span class="op" id="8007940">,</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8007943">{</span><span class="ident" id="8007944">ProcInst</span><span class="op" id="8007952">{</span><span class="string" id="8007953">&#34;Target&#34;</span><span class="op" id="8007961">,</span>&nbsp;<span class="op" id="8007963">[</span><span class="op" id="8007964">]</span><span class="builtintype" id="8007965">byte</span><span class="op" id="8007969">(</span><span class="string" id="8007970">&#34;Instruction&#34;</span><span class="op" id="8007983">)</span><span class="op" id="8007984">}</span><span class="op" id="8007985">,</span>&nbsp;<span class="string" id="8007987">&#34;&lt;?Target&nbsp;Instruction?&gt;&#34;</span><span class="op" id="8008011">,</span>&nbsp;<span class="builtintype" id="8008013">true</span><span class="op" id="8008017">}</span><span class="op" id="8008018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008021">{</span><span class="ident" id="8008022">ProcInst</span><span class="op" id="8008030">{</span><span class="string" id="8008031">&#34;&#34;</span><span class="op" id="8008033">,</span>&nbsp;<span class="op" id="8008035">[</span><span class="op" id="8008036">]</span><span class="builtintype" id="8008037">byte</span><span class="op" id="8008041">(</span><span class="string" id="8008042">&#34;Instruction&#34;</span><span class="op" id="8008055">)</span><span class="op" id="8008056">}</span><span class="op" id="8008057">,</span>&nbsp;<span class="string" id="8008059">&#34;&#34;</span><span class="op" id="8008061">,</span>&nbsp;<span class="builtintype" id="8008063">false</span><span class="op" id="8008068">}</span><span class="op" id="8008069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008072">{</span><span class="ident" id="8008073">ProcInst</span><span class="op" id="8008081">{</span><span class="string" id="8008082">&#34;Target&#34;</span><span class="op" id="8008090">,</span>&nbsp;<span class="op" id="8008092">[</span><span class="op" id="8008093">]</span><span class="builtintype" id="8008094">byte</span><span class="op" id="8008098">(</span><span class="string" id="8008099">&#34;Instruction?&gt;&#34;</span><span class="op" id="8008114">)</span><span class="op" id="8008115">}</span><span class="op" id="8008116">,</span>&nbsp;<span class="string" id="8008118">&#34;&#34;</span><span class="op" id="8008120">,</span>&nbsp;<span class="builtintype" id="8008122">false</span><span class="op" id="8008127">}</span><span class="op" id="8008128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008131">{</span><span class="ident" id="8008132">Directive</span><span class="op" id="8008141">(</span><span class="string" id="8008142">&#34;foo&#34;</span><span class="op" id="8008147">)</span><span class="op" id="8008148">,</span>&nbsp;<span class="string" id="8008150">&#34;&lt;!foo&gt;&#34;</span><span class="op" id="8008158">,</span>&nbsp;<span class="builtintype" id="8008160">true</span><span class="op" id="8008164">}</span><span class="op" id="8008165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008168">{</span><span class="ident" id="8008169">Directive</span><span class="op" id="8008178">(</span><span class="string" id="8008179">&#34;foo&gt;&#34;</span><span class="op" id="8008185">)</span><span class="op" id="8008186">,</span>&nbsp;<span class="string" id="8008188">&#34;&#34;</span><span class="op" id="8008190">,</span>&nbsp;<span class="builtintype" id="8008192">false</span><span class="op" id="8008197">}</span><span class="op" id="8008198">,</span><br>
<span class="lineno">1210</span><span class="op" id="8008200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8008203">func</span>&nbsp;<span class="ident" id="8008208">TestEncodeToken</span><span class="op" id="8008223">(</span><span class="ident" id="8008224">t</span>&nbsp;<span class="op" id="8008226">*</span><span class="ident" id="8008227">testing</span><span class="op" id="8008234">.</span><span class="ident" id="8008235">T</span><span class="op" id="8008236">)</span>&nbsp;<span class="op" id="8008238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008241">for</span>&nbsp;<span class="ident" id="8008245">_</span><span class="op" id="8008246">,</span>&nbsp;<span class="ident" id="8008248">tt</span>&nbsp;<span class="op" id="8008251">:=</span>&nbsp;<span class="keyword" id="8008254">range</span>&nbsp;<span class="ident" id="8008260">encodeTokenTests</span>&nbsp;<span class="op" id="8008277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008281">var</span>&nbsp;<span class="ident" id="8008285">buf</span>&nbsp;<span class="ident" id="8008289">bytes</span><span class="op" id="8008294">.</span><span class="ident" id="8008295">Buffer</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008304">enc</span>&nbsp;<span class="op" id="8008308">:=</span>&nbsp;<span class="ident" id="8008311">NewEncoder</span><span class="op" id="8008321">(</span><span class="op" id="8008322">&amp;</span><span class="ident" id="8008323">buf</span><span class="op" id="8008326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008330">err</span>&nbsp;<span class="op" id="8008334">:=</span>&nbsp;<span class="ident" id="8008337">enc</span><span class="op" id="8008340">.</span><span class="ident" id="8008341">EncodeToken</span><span class="op" id="8008352">(</span><span class="ident" id="8008353">tt</span><span class="op" id="8008355">.</span><span class="ident" id="8008356">tok</span><span class="op" id="8008359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008363">switch</span>&nbsp;<span class="op" id="8008370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008374">case</span>&nbsp;<span class="op" id="8008379">!</span><span class="ident" id="8008380">tt</span><span class="op" id="8008382">.</span><span class="ident" id="8008383">ok</span>&nbsp;<span class="op" id="8008386">&amp;&amp;</span>&nbsp;<span class="ident" id="8008389">err</span>&nbsp;<span class="op" id="8008393">==</span>&nbsp;<span class="builtintype" id="8008396">nil</span><span class="op" id="8008399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008404">t</span><span class="op" id="8008405">.</span><span class="ident" id="8008406">Errorf</span><span class="op" id="8008412">(</span><span class="string" id="8008413">&#34;enc.EncodeToken(%#v):&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8008461">,</span>&nbsp;<span class="ident" id="8008463">tt</span><span class="op" id="8008465">.</span><span class="ident" id="8008466">tok</span><span class="op" id="8008469">)</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008473">case</span>&nbsp;<span class="ident" id="8008478">tt</span><span class="op" id="8008480">.</span><span class="ident" id="8008481">ok</span>&nbsp;<span class="op" id="8008484">&amp;&amp;</span>&nbsp;<span class="ident" id="8008487">err</span>&nbsp;<span class="op" id="8008491">!=</span>&nbsp;<span class="builtintype" id="8008494">nil</span><span class="op" id="8008497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008502">t</span><span class="op" id="8008503">.</span><span class="ident" id="8008504">Fatalf</span><span class="op" id="8008510">(</span><span class="string" id="8008511">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8008532">,</span>&nbsp;<span class="ident" id="8008534">err</span><span class="op" id="8008537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008541">case</span>&nbsp;<span class="op" id="8008546">!</span><span class="ident" id="8008547">tt</span><span class="op" id="8008549">.</span><span class="ident" id="8008550">ok</span>&nbsp;<span class="op" id="8008553">&amp;&amp;</span>&nbsp;<span class="ident" id="8008556">err</span>&nbsp;<span class="op" id="8008560">!=</span>&nbsp;<span class="builtintype" id="8008563">nil</span><span class="op" id="8008566">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8008571">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008600">}</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008604">if</span>&nbsp;<span class="ident" id="8008607">err</span>&nbsp;<span class="op" id="8008611">:=</span>&nbsp;<span class="ident" id="8008614">enc</span><span class="op" id="8008617">.</span><span class="ident" id="8008618">Flush</span><span class="op" id="8008623">(</span><span class="op" id="8008624">)</span><span class="op" id="8008625">;</span>&nbsp;<span class="ident" id="8008627">err</span>&nbsp;<span class="op" id="8008631">!=</span>&nbsp;<span class="builtintype" id="8008634">nil</span>&nbsp;<span class="op" id="8008638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008643">t</span><span class="op" id="8008644">.</span><span class="ident" id="8008645">Fatalf</span><span class="op" id="8008651">(</span><span class="string" id="8008652">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8008673">,</span>&nbsp;<span class="ident" id="8008675">err</span><span class="op" id="8008678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008686">if</span>&nbsp;<span class="ident" id="8008689">got</span>&nbsp;<span class="op" id="8008693">:=</span>&nbsp;<span class="ident" id="8008696">buf</span><span class="op" id="8008699">.</span><span class="ident" id="8008700">String</span><span class="op" id="8008706">(</span><span class="op" id="8008707">)</span><span class="op" id="8008708">;</span>&nbsp;<span class="ident" id="8008710">got</span>&nbsp;<span class="op" id="8008714">!=</span>&nbsp;<span class="ident" id="8008717">tt</span><span class="op" id="8008719">.</span><span class="ident" id="8008720">want</span>&nbsp;<span class="op" id="8008725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008730">t</span><span class="op" id="8008731">.</span><span class="ident" id="8008732">Errorf</span><span class="op" id="8008738">(</span><span class="string" id="8008739">&#34;enc.EncodeToken&nbsp;=&nbsp;%s;&nbsp;want:&nbsp;%s&#34;</span><span class="op" id="8008771">,</span>&nbsp;<span class="ident" id="8008773">got</span><span class="op" id="8008776">,</span>&nbsp;<span class="ident" id="8008778">tt</span><span class="op" id="8008780">.</span><span class="ident" id="8008781">want</span><span class="op" id="8008785">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8008792">}</span><br>
<span class="lineno"></span><span class="op" id="8008794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8008797">func</span>&nbsp;<span class="ident" id="8008802">TestProcInstEncodeToken</span><span class="op" id="8008825">(</span><span class="ident" id="8008826">t</span>&nbsp;<span class="op" id="8008828">*</span><span class="ident" id="8008829">testing</span><span class="op" id="8008836">.</span><span class="ident" id="8008837">T</span><span class="op" id="8008838">)</span>&nbsp;<span class="op" id="8008840">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008843">var</span>&nbsp;<span class="ident" id="8008847">buf</span>&nbsp;<span class="ident" id="8008851">bytes</span><span class="op" id="8008856">.</span><span class="ident" id="8008857">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008865">enc</span>&nbsp;<span class="op" id="8008869">:=</span>&nbsp;<span class="ident" id="8008872">NewEncoder</span><span class="op" id="8008882">(</span><span class="op" id="8008883">&amp;</span><span class="ident" id="8008884">buf</span><span class="op" id="8008887">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8008891">if</span>&nbsp;<span class="ident" id="8008894">err</span>&nbsp;<span class="op" id="8008898">:=</span>&nbsp;<span class="ident" id="8008901">enc</span><span class="op" id="8008904">.</span><span class="ident" id="8008905">EncodeToken</span><span class="op" id="8008916">(</span><span class="ident" id="8008917">ProcInst</span><span class="op" id="8008925">{</span><span class="string" id="8008926">&#34;xml&#34;</span><span class="op" id="8008931">,</span>&nbsp;<span class="op" id="8008933">[</span><span class="op" id="8008934">]</span><span class="builtintype" id="8008935">byte</span><span class="op" id="8008939">(</span><span class="string" id="8008940">&#34;Instruction&#34;</span><span class="op" id="8008953">)</span><span class="op" id="8008954">}</span><span class="op" id="8008955">)</span><span class="op" id="8008956">;</span>&nbsp;<span class="ident" id="8008958">err</span>&nbsp;<span class="op" id="8008962">!=</span>&nbsp;<span class="builtintype" id="8008965">nil</span>&nbsp;<span class="op" id="8008969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8008973">t</span><span class="op" id="8008974">.</span><span class="ident" id="8008975">Fatalf</span><span class="op" id="8008981">(</span><span class="string" id="8008982">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;encode&nbsp;xml&nbsp;target&nbsp;ProcInst&nbsp;as&nbsp;first&nbsp;token,&nbsp;%s&#34;</span><span class="op" id="8009069">,</span>&nbsp;<span class="ident" id="8009071">err</span><span class="op" id="8009074">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8009077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8009081">if</span>&nbsp;<span class="ident" id="8009084">err</span>&nbsp;<span class="op" id="8009088">:=</span>&nbsp;<span class="ident" id="8009091">enc</span><span class="op" id="8009094">.</span><span class="ident" id="8009095">EncodeToken</span><span class="op" id="8009106">(</span><span class="ident" id="8009107">ProcInst</span><span class="op" id="8009115">{</span><span class="string" id="8009116">&#34;Target&#34;</span><span class="op" id="8009124">,</span>&nbsp;<span class="op" id="8009126">[</span><span class="op" id="8009127">]</span><span class="builtintype" id="8009128">byte</span><span class="op" id="8009132">(</span><span class="string" id="8009133">&#34;Instruction&#34;</span><span class="op" id="8009146">)</span><span class="op" id="8009147">}</span><span class="op" id="8009148">)</span><span class="op" id="8009149">;</span>&nbsp;<span class="ident" id="8009151">err</span>&nbsp;<span class="op" id="8009155">!=</span>&nbsp;<span class="builtintype" id="8009158">nil</span>&nbsp;<span class="op" id="8009162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009166">t</span><span class="op" id="8009167">.</span><span class="ident" id="8009168">Fatalf</span><span class="op" id="8009174">(</span><span class="string" id="8009175">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;non-xml&nbsp;target&nbsp;ProcInst&#34;</span><span class="op" id="8009244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8009247">}</span><br>
<span class="lineno">1245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8009251">if</span>&nbsp;<span class="ident" id="8009254">err</span>&nbsp;<span class="op" id="8009258">:=</span>&nbsp;<span class="ident" id="8009261">enc</span><span class="op" id="8009264">.</span><span class="ident" id="8009265">EncodeToken</span><span class="op" id="8009276">(</span><span class="ident" id="8009277">ProcInst</span><span class="op" id="8009285">{</span><span class="string" id="8009286">&#34;xml&#34;</span><span class="op" id="8009291">,</span>&nbsp;<span class="op" id="8009293">[</span><span class="op" id="8009294">]</span><span class="builtintype" id="8009295">byte</span><span class="op" id="8009299">(</span><span class="string" id="8009300">&#34;Instruction&#34;</span><span class="op" id="8009313">)</span><span class="op" id="8009314">}</span><span class="op" id="8009315">)</span><span class="op" id="8009316">;</span>&nbsp;<span class="ident" id="8009318">err</span>&nbsp;<span class="op" id="8009322">==</span>&nbsp;<span class="builtintype" id="8009325">nil</span>&nbsp;<span class="op" id="8009329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009333">t</span><span class="op" id="8009334">.</span><span class="ident" id="8009335">Fatalf</span><span class="op" id="8009341">(</span><span class="string" id="8009342">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;not&nbsp;be&nbsp;allowed&nbsp;to&nbsp;encode&nbsp;xml&nbsp;target&nbsp;ProcInst&nbsp;when&nbsp;not&nbsp;first&nbsp;token&#34;</span><span class="op" id="8009438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8009441">}</span><br>
<span class="lineno"></span><span class="op" id="8009443">}</span><br>
<span class="lineno">1250</span><br>
<span class="lineno"></span><span class="keyword" id="8009446">func</span>&nbsp;<span class="ident" id="8009451">TestDecodeEncode</span><span class="op" id="8009467">(</span><span class="ident" id="8009468">t</span>&nbsp;<span class="op" id="8009470">*</span><span class="ident" id="8009471">testing</span><span class="op" id="8009478">.</span><span class="ident" id="8009479">T</span><span class="op" id="8009480">)</span>&nbsp;<span class="op" id="8009482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8009485">var</span>&nbsp;<span class="ident" id="8009489">in</span><span class="op" id="8009491">,</span>&nbsp;<span class="ident" id="8009493">out</span>&nbsp;<span class="ident" id="8009497">bytes</span><span class="op" id="8009502">.</span><span class="ident" id="8009503">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009511">in</span><span class="op" id="8009513">.</span><span class="ident" id="8009514">WriteString</span><span class="op" id="8009525">(</span><span class="string" id="8009526">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;?Target&nbsp;Instruction?&gt;<br>
<span class="lineno">1255</span>&lt;root&gt;<br>
<span class="lineno"></span>&lt;/root&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>`</span><span class="op" id="8009606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009609">dec</span>&nbsp;<span class="op" id="8009613">:=</span>&nbsp;<span class="ident" id="8009616">NewDecoder</span><span class="op" id="8009626">(</span><span class="op" id="8009627">&amp;</span><span class="ident" id="8009628">in</span><span class="op" id="8009630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009633">enc</span>&nbsp;<span class="op" id="8009637">:=</span>&nbsp;<span class="ident" id="8009640">NewEncoder</span><span class="op" id="8009650">(</span><span class="op" id="8009651">&amp;</span><span class="ident" id="8009652">out</span><span class="op" id="8009655">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8009658">for</span>&nbsp;<span class="ident" id="8009662">tok</span><span class="op" id="8009665">,</span>&nbsp;<span class="ident" id="8009667">err</span>&nbsp;<span class="op" id="8009671">:=</span>&nbsp;<span class="ident" id="8009674">dec</span><span class="op" id="8009677">.</span><span class="ident" id="8009678">Token</span><span class="op" id="8009683">(</span><span class="op" id="8009684">)</span><span class="op" id="8009685">;</span>&nbsp;<span class="ident" id="8009687">err</span>&nbsp;<span class="op" id="8009691">==</span>&nbsp;<span class="builtintype" id="8009694">nil</span><span class="op" id="8009697">;</span>&nbsp;<span class="ident" id="8009699">tok</span><span class="op" id="8009702">,</span>&nbsp;<span class="ident" id="8009704">err</span>&nbsp;<span class="op" id="8009708">=</span>&nbsp;<span class="ident" id="8009710">dec</span><span class="op" id="8009713">.</span><span class="ident" id="8009714">Token</span><span class="op" id="8009719">(</span><span class="op" id="8009720">)</span>&nbsp;<span class="op" id="8009722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009726">err</span>&nbsp;<span class="op" id="8009730">=</span>&nbsp;<span class="ident" id="8009732">enc</span><span class="op" id="8009735">.</span><span class="ident" id="8009736">EncodeToken</span><span class="op" id="8009747">(</span><span class="ident" id="8009748">tok</span><span class="op" id="8009751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8009755">if</span>&nbsp;<span class="ident" id="8009758">err</span>&nbsp;<span class="op" id="8009762">!=</span>&nbsp;<span class="builtintype" id="8009765">nil</span>&nbsp;<span class="op" id="8009769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8009774">t</span><span class="op" id="8009775">.</span><span class="ident" id="8009776">Fatalf</span><span class="op" id="8009782">(</span><span class="string" id="8009783">&#34;enc.EncodeToken:&nbsp;Unable&nbsp;to&nbsp;encode&nbsp;token&nbsp;(%#v),&nbsp;%v&#34;</span><span class="op" id="8009834">,</span>&nbsp;<span class="ident" id="8009836">tok</span><span class="op" id="8009839">,</span>&nbsp;<span class="ident" id="8009841">err</span><span class="op" id="8009844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8009848">}</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8009851">}</span><br>
<span class="lineno"></span><span class="op" id="8009853">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
