<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7957648">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7957703">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7957757">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7957808">package</span>&nbsp;<span class="ident" id="7957816">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957822">import</span>&nbsp;<span class="op" id="7957829">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7957832">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7957841">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7957851">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957854">type</span>&nbsp;<span class="ident" id="7957859">clipTest</span>&nbsp;<span class="keyword" id="7957868">struct</span>&nbsp;<span class="op" id="7957875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957878">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7957892">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957900">r</span><span class="op" id="7957901">,</span>&nbsp;<span class="ident" id="7957903">dr</span><span class="op" id="7957905">,</span>&nbsp;<span class="ident" id="7957907">sr</span><span class="op" id="7957909">,</span>&nbsp;<span class="ident" id="7957911">mr</span>&nbsp;<span class="ident" id="7957914">image</span><span class="op" id="7957919">.</span><span class="ident" id="7957920">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957931">sp</span><span class="op" id="7957933">,</span>&nbsp;<span class="ident" id="7957935">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7957945">image</span><span class="op" id="7957950">.</span><span class="ident" id="7957951">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957958">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7957972">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957978">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7957992">image</span><span class="op" id="7957997">.</span><span class="ident" id="7957998">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958009">sp0</span><span class="op" id="7958012">,</span>&nbsp;<span class="ident" id="7958014">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7958023">image</span><span class="op" id="7958028">.</span><span class="ident" id="7958029">Point</span><br>
<span class="lineno"></span><span class="op" id="7958035">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7958038">var</span>&nbsp;<span class="ident" id="7958042">clipTests</span>&nbsp;<span class="op" id="7958052">=</span>&nbsp;<span class="op" id="7958054">[</span><span class="op" id="7958055">]</span><span class="ident" id="7958056">clipTest</span><span class="op" id="7958064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7958067">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7958116">&#34;basic&#34;</span><span class="op" id="7958123">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958127">image</span><span class="op" id="7958132">.</span><span class="ident" id="7958133">Rect</span><span class="op" id="7958137">(</span><span class="num" id="7958138">0</span><span class="op" id="7958139">,</span>&nbsp;<span class="num" id="7958141">0</span><span class="op" id="7958142">,</span>&nbsp;<span class="num" id="7958144">100</span><span class="op" id="7958147">,</span>&nbsp;<span class="num" id="7958149">100</span><span class="op" id="7958152">)</span><span class="op" id="7958153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958157">image</span><span class="op" id="7958162">.</span><span class="ident" id="7958163">Rect</span><span class="op" id="7958167">(</span><span class="num" id="7958168">0</span><span class="op" id="7958169">,</span>&nbsp;<span class="num" id="7958171">0</span><span class="op" id="7958172">,</span>&nbsp;<span class="num" id="7958174">100</span><span class="op" id="7958177">,</span>&nbsp;<span class="num" id="7958179">100</span><span class="op" id="7958182">)</span><span class="op" id="7958183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958187">image</span><span class="op" id="7958192">.</span><span class="ident" id="7958193">Rect</span><span class="op" id="7958197">(</span><span class="num" id="7958198">0</span><span class="op" id="7958199">,</span>&nbsp;<span class="num" id="7958201">0</span><span class="op" id="7958202">,</span>&nbsp;<span class="num" id="7958204">100</span><span class="op" id="7958207">,</span>&nbsp;<span class="num" id="7958209">100</span><span class="op" id="7958212">)</span><span class="op" id="7958213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958217">image</span><span class="op" id="7958222">.</span><span class="ident" id="7958223">ZR</span><span class="op" id="7958225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958229">image</span><span class="op" id="7958234">.</span><span class="ident" id="7958235">ZP</span><span class="op" id="7958237">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958241">image</span><span class="op" id="7958246">.</span><span class="ident" id="7958247">ZP</span><span class="op" id="7958249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7958253">true</span><span class="op" id="7958257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958261">image</span><span class="op" id="7958266">.</span><span class="ident" id="7958267">Rect</span><span class="op" id="7958271">(</span><span class="num" id="7958272">0</span><span class="op" id="7958273">,</span>&nbsp;<span class="num" id="7958275">0</span><span class="op" id="7958276">,</span>&nbsp;<span class="num" id="7958278">100</span><span class="op" id="7958281">,</span>&nbsp;<span class="num" id="7958283">100</span><span class="op" id="7958286">)</span><span class="op" id="7958287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958291">image</span><span class="op" id="7958296">.</span><span class="ident" id="7958297">ZP</span><span class="op" id="7958299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958303">image</span><span class="op" id="7958308">.</span><span class="ident" id="7958309">ZP</span><span class="op" id="7958311">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958314">}</span><span class="op" id="7958315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7958322">&#34;clip&nbsp;dr&#34;</span><span class="op" id="7958331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958335">image</span><span class="op" id="7958340">.</span><span class="ident" id="7958341">Rect</span><span class="op" id="7958345">(</span><span class="num" id="7958346">0</span><span class="op" id="7958347">,</span>&nbsp;<span class="num" id="7958349">0</span><span class="op" id="7958350">,</span>&nbsp;<span class="num" id="7958352">100</span><span class="op" id="7958355">,</span>&nbsp;<span class="num" id="7958357">100</span><span class="op" id="7958360">)</span><span class="op" id="7958361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958365">image</span><span class="op" id="7958370">.</span><span class="ident" id="7958371">Rect</span><span class="op" id="7958375">(</span><span class="num" id="7958376">40</span><span class="op" id="7958378">,</span>&nbsp;<span class="num" id="7958380">40</span><span class="op" id="7958382">,</span>&nbsp;<span class="num" id="7958384">60</span><span class="op" id="7958386">,</span>&nbsp;<span class="num" id="7958388">60</span><span class="op" id="7958390">)</span><span class="op" id="7958391">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958395">image</span><span class="op" id="7958400">.</span><span class="ident" id="7958401">Rect</span><span class="op" id="7958405">(</span><span class="num" id="7958406">0</span><span class="op" id="7958407">,</span>&nbsp;<span class="num" id="7958409">0</span><span class="op" id="7958410">,</span>&nbsp;<span class="num" id="7958412">100</span><span class="op" id="7958415">,</span>&nbsp;<span class="num" id="7958417">100</span><span class="op" id="7958420">)</span><span class="op" id="7958421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958425">image</span><span class="op" id="7958430">.</span><span class="ident" id="7958431">ZR</span><span class="op" id="7958433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958437">image</span><span class="op" id="7958442">.</span><span class="ident" id="7958443">ZP</span><span class="op" id="7958445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958449">image</span><span class="op" id="7958454">.</span><span class="ident" id="7958455">ZP</span><span class="op" id="7958457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7958461">true</span><span class="op" id="7958465">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958469">image</span><span class="op" id="7958474">.</span><span class="ident" id="7958475">Rect</span><span class="op" id="7958479">(</span><span class="num" id="7958480">40</span><span class="op" id="7958482">,</span>&nbsp;<span class="num" id="7958484">40</span><span class="op" id="7958486">,</span>&nbsp;<span class="num" id="7958488">60</span><span class="op" id="7958490">,</span>&nbsp;<span class="num" id="7958492">60</span><span class="op" id="7958494">)</span><span class="op" id="7958495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958499">image</span><span class="op" id="7958504">.</span><span class="ident" id="7958505">Pt</span><span class="op" id="7958507">(</span><span class="num" id="7958508">40</span><span class="op" id="7958510">,</span>&nbsp;<span class="num" id="7958512">40</span><span class="op" id="7958514">)</span><span class="op" id="7958515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958519">image</span><span class="op" id="7958524">.</span><span class="ident" id="7958525">ZP</span><span class="op" id="7958527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958530">}</span><span class="op" id="7958531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958534">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7958538">&#34;clip&nbsp;sr&#34;</span><span class="op" id="7958547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958551">image</span><span class="op" id="7958556">.</span><span class="ident" id="7958557">Rect</span><span class="op" id="7958561">(</span><span class="num" id="7958562">0</span><span class="op" id="7958563">,</span>&nbsp;<span class="num" id="7958565">0</span><span class="op" id="7958566">,</span>&nbsp;<span class="num" id="7958568">100</span><span class="op" id="7958571">,</span>&nbsp;<span class="num" id="7958573">100</span><span class="op" id="7958576">)</span><span class="op" id="7958577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958581">image</span><span class="op" id="7958586">.</span><span class="ident" id="7958587">Rect</span><span class="op" id="7958591">(</span><span class="num" id="7958592">0</span><span class="op" id="7958593">,</span>&nbsp;<span class="num" id="7958595">0</span><span class="op" id="7958596">,</span>&nbsp;<span class="num" id="7958598">100</span><span class="op" id="7958601">,</span>&nbsp;<span class="num" id="7958603">100</span><span class="op" id="7958606">)</span><span class="op" id="7958607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958611">image</span><span class="op" id="7958616">.</span><span class="ident" id="7958617">Rect</span><span class="op" id="7958621">(</span><span class="num" id="7958622">20</span><span class="op" id="7958624">,</span>&nbsp;<span class="num" id="7958626">20</span><span class="op" id="7958628">,</span>&nbsp;<span class="num" id="7958630">80</span><span class="op" id="7958632">,</span>&nbsp;<span class="num" id="7958634">80</span><span class="op" id="7958636">)</span><span class="op" id="7958637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958641">image</span><span class="op" id="7958646">.</span><span class="ident" id="7958647">ZR</span><span class="op" id="7958649">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958653">image</span><span class="op" id="7958658">.</span><span class="ident" id="7958659">ZP</span><span class="op" id="7958661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958665">image</span><span class="op" id="7958670">.</span><span class="ident" id="7958671">ZP</span><span class="op" id="7958673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7958677">true</span><span class="op" id="7958681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958685">image</span><span class="op" id="7958690">.</span><span class="ident" id="7958691">Rect</span><span class="op" id="7958695">(</span><span class="num" id="7958696">20</span><span class="op" id="7958698">,</span>&nbsp;<span class="num" id="7958700">20</span><span class="op" id="7958702">,</span>&nbsp;<span class="num" id="7958704">80</span><span class="op" id="7958706">,</span>&nbsp;<span class="num" id="7958708">80</span><span class="op" id="7958710">)</span><span class="op" id="7958711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958715">image</span><span class="op" id="7958720">.</span><span class="ident" id="7958721">Pt</span><span class="op" id="7958723">(</span><span class="num" id="7958724">20</span><span class="op" id="7958726">,</span>&nbsp;<span class="num" id="7958728">20</span><span class="op" id="7958730">)</span><span class="op" id="7958731">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958735">image</span><span class="op" id="7958740">.</span><span class="ident" id="7958741">ZP</span><span class="op" id="7958743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958746">}</span><span class="op" id="7958747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7958754">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="7958770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958774">image</span><span class="op" id="7958779">.</span><span class="ident" id="7958780">Rect</span><span class="op" id="7958784">(</span><span class="num" id="7958785">0</span><span class="op" id="7958786">,</span>&nbsp;<span class="num" id="7958788">0</span><span class="op" id="7958789">,</span>&nbsp;<span class="num" id="7958791">100</span><span class="op" id="7958794">,</span>&nbsp;<span class="num" id="7958796">100</span><span class="op" id="7958799">)</span><span class="op" id="7958800">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958804">image</span><span class="op" id="7958809">.</span><span class="ident" id="7958810">Rect</span><span class="op" id="7958814">(</span><span class="num" id="7958815">0</span><span class="op" id="7958816">,</span>&nbsp;<span class="num" id="7958818">0</span><span class="op" id="7958819">,</span>&nbsp;<span class="num" id="7958821">50</span><span class="op" id="7958823">,</span>&nbsp;<span class="num" id="7958825">100</span><span class="op" id="7958828">)</span><span class="op" id="7958829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958833">image</span><span class="op" id="7958838">.</span><span class="ident" id="7958839">Rect</span><span class="op" id="7958843">(</span><span class="num" id="7958844">20</span><span class="op" id="7958846">,</span>&nbsp;<span class="num" id="7958848">20</span><span class="op" id="7958850">,</span>&nbsp;<span class="num" id="7958852">80</span><span class="op" id="7958854">,</span>&nbsp;<span class="num" id="7958856">80</span><span class="op" id="7958858">)</span><span class="op" id="7958859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958863">image</span><span class="op" id="7958868">.</span><span class="ident" id="7958869">ZR</span><span class="op" id="7958871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958875">image</span><span class="op" id="7958880">.</span><span class="ident" id="7958881">ZP</span><span class="op" id="7958883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958887">image</span><span class="op" id="7958892">.</span><span class="ident" id="7958893">ZP</span><span class="op" id="7958895">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7958899">true</span><span class="op" id="7958903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958907">image</span><span class="op" id="7958912">.</span><span class="ident" id="7958913">Rect</span><span class="op" id="7958917">(</span><span class="num" id="7958918">20</span><span class="op" id="7958920">,</span>&nbsp;<span class="num" id="7958922">20</span><span class="op" id="7958924">,</span>&nbsp;<span class="num" id="7958926">50</span><span class="op" id="7958928">,</span>&nbsp;<span class="num" id="7958930">80</span><span class="op" id="7958932">)</span><span class="op" id="7958933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958937">image</span><span class="op" id="7958942">.</span><span class="ident" id="7958943">Pt</span><span class="op" id="7958945">(</span><span class="num" id="7958946">20</span><span class="op" id="7958948">,</span>&nbsp;<span class="num" id="7958950">20</span><span class="op" id="7958952">)</span><span class="op" id="7958953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958957">image</span><span class="op" id="7958962">.</span><span class="ident" id="7958963">ZP</span><span class="op" id="7958965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958968">}</span><span class="op" id="7958969">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7958976">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="7959018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959022">image</span><span class="op" id="7959027">.</span><span class="ident" id="7959028">Rect</span><span class="op" id="7959032">(</span><span class="num" id="7959033">0</span><span class="op" id="7959034">,</span>&nbsp;<span class="num" id="7959036">0</span><span class="op" id="7959037">,</span>&nbsp;<span class="num" id="7959039">100</span><span class="op" id="7959042">,</span>&nbsp;<span class="num" id="7959044">100</span><span class="op" id="7959047">)</span><span class="op" id="7959048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959052">image</span><span class="op" id="7959057">.</span><span class="ident" id="7959058">Rect</span><span class="op" id="7959062">(</span><span class="num" id="7959063">0</span><span class="op" id="7959064">,</span>&nbsp;<span class="num" id="7959066">0</span><span class="op" id="7959067">,</span>&nbsp;<span class="num" id="7959069">50</span><span class="op" id="7959071">,</span>&nbsp;<span class="num" id="7959073">100</span><span class="op" id="7959076">)</span><span class="op" id="7959077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959081">image</span><span class="op" id="7959086">.</span><span class="ident" id="7959087">Rect</span><span class="op" id="7959091">(</span><span class="num" id="7959092">20</span><span class="op" id="7959094">,</span>&nbsp;<span class="num" id="7959096">20</span><span class="op" id="7959098">,</span>&nbsp;<span class="num" id="7959100">80</span><span class="op" id="7959102">,</span>&nbsp;<span class="num" id="7959104">80</span><span class="op" id="7959106">)</span><span class="op" id="7959107">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959111">image</span><span class="op" id="7959116">.</span><span class="ident" id="7959117">ZR</span><span class="op" id="7959119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959123">image</span><span class="op" id="7959128">.</span><span class="ident" id="7959129">Pt</span><span class="op" id="7959131">(</span><span class="num" id="7959132">15</span><span class="op" id="7959134">,</span>&nbsp;<span class="num" id="7959136">8</span><span class="op" id="7959137">)</span><span class="op" id="7959138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959142">image</span><span class="op" id="7959147">.</span><span class="ident" id="7959148">ZP</span><span class="op" id="7959150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7959154">true</span><span class="op" id="7959158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959162">image</span><span class="op" id="7959167">.</span><span class="ident" id="7959168">Rect</span><span class="op" id="7959172">(</span><span class="num" id="7959173">5</span><span class="op" id="7959174">,</span>&nbsp;<span class="num" id="7959176">12</span><span class="op" id="7959178">,</span>&nbsp;<span class="num" id="7959180">50</span><span class="op" id="7959182">,</span>&nbsp;<span class="num" id="7959184">72</span><span class="op" id="7959186">)</span><span class="op" id="7959187">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959191">image</span><span class="op" id="7959196">.</span><span class="ident" id="7959197">Pt</span><span class="op" id="7959199">(</span><span class="num" id="7959200">20</span><span class="op" id="7959202">,</span>&nbsp;<span class="num" id="7959204">20</span><span class="op" id="7959206">)</span><span class="op" id="7959207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959211">image</span><span class="op" id="7959216">.</span><span class="ident" id="7959217">ZP</span><span class="op" id="7959219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959222">}</span><span class="op" id="7959223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959230">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="7959275">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959279">image</span><span class="op" id="7959284">.</span><span class="ident" id="7959285">Rect</span><span class="op" id="7959289">(</span><span class="num" id="7959290">0</span><span class="op" id="7959291">,</span>&nbsp;<span class="num" id="7959293">0</span><span class="op" id="7959294">,</span>&nbsp;<span class="num" id="7959296">100</span><span class="op" id="7959299">,</span>&nbsp;<span class="num" id="7959301">100</span><span class="op" id="7959304">)</span><span class="op" id="7959305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959309">image</span><span class="op" id="7959314">.</span><span class="ident" id="7959315">Rect</span><span class="op" id="7959319">(</span><span class="num" id="7959320">0</span><span class="op" id="7959321">,</span>&nbsp;<span class="num" id="7959323">0</span><span class="op" id="7959324">,</span>&nbsp;<span class="num" id="7959326">50</span><span class="op" id="7959328">,</span>&nbsp;<span class="num" id="7959330">100</span><span class="op" id="7959333">)</span><span class="op" id="7959334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959338">image</span><span class="op" id="7959343">.</span><span class="ident" id="7959344">Rect</span><span class="op" id="7959348">(</span><span class="num" id="7959349">20</span><span class="op" id="7959351">,</span>&nbsp;<span class="num" id="7959353">20</span><span class="op" id="7959355">,</span>&nbsp;<span class="num" id="7959357">80</span><span class="op" id="7959359">,</span>&nbsp;<span class="num" id="7959361">80</span><span class="op" id="7959363">)</span><span class="op" id="7959364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959368">image</span><span class="op" id="7959373">.</span><span class="ident" id="7959374">ZR</span><span class="op" id="7959376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959380">image</span><span class="op" id="7959385">.</span><span class="ident" id="7959386">Pt</span><span class="op" id="7959388">(</span><span class="num" id="7959389">15</span><span class="op" id="7959391">,</span>&nbsp;<span class="num" id="7959393">66</span><span class="op" id="7959395">)</span><span class="op" id="7959396">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959400">image</span><span class="op" id="7959405">.</span><span class="ident" id="7959406">ZP</span><span class="op" id="7959408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7959412">true</span><span class="op" id="7959416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959420">image</span><span class="op" id="7959425">.</span><span class="ident" id="7959426">Rect</span><span class="op" id="7959430">(</span><span class="num" id="7959431">5</span><span class="op" id="7959432">,</span>&nbsp;<span class="num" id="7959434">0</span><span class="op" id="7959435">,</span>&nbsp;<span class="num" id="7959437">50</span><span class="op" id="7959439">,</span>&nbsp;<span class="num" id="7959441">14</span><span class="op" id="7959443">)</span><span class="op" id="7959444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959448">image</span><span class="op" id="7959453">.</span><span class="ident" id="7959454">Pt</span><span class="op" id="7959456">(</span><span class="num" id="7959457">20</span><span class="op" id="7959459">,</span>&nbsp;<span class="num" id="7959461">66</span><span class="op" id="7959463">)</span><span class="op" id="7959464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959468">image</span><span class="op" id="7959473">.</span><span class="ident" id="7959474">ZP</span><span class="op" id="7959476">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959479">}</span><span class="op" id="7959480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959487">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="7959532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959536">image</span><span class="op" id="7959541">.</span><span class="ident" id="7959542">Rect</span><span class="op" id="7959546">(</span><span class="num" id="7959547">0</span><span class="op" id="7959548">,</span>&nbsp;<span class="num" id="7959550">0</span><span class="op" id="7959551">,</span>&nbsp;<span class="num" id="7959553">100</span><span class="op" id="7959556">,</span>&nbsp;<span class="num" id="7959558">100</span><span class="op" id="7959561">)</span><span class="op" id="7959562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959566">image</span><span class="op" id="7959571">.</span><span class="ident" id="7959572">Rect</span><span class="op" id="7959576">(</span><span class="num" id="7959577">0</span><span class="op" id="7959578">,</span>&nbsp;<span class="num" id="7959580">0</span><span class="op" id="7959581">,</span>&nbsp;<span class="num" id="7959583">50</span><span class="op" id="7959585">,</span>&nbsp;<span class="num" id="7959587">100</span><span class="op" id="7959590">)</span><span class="op" id="7959591">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959595">image</span><span class="op" id="7959600">.</span><span class="ident" id="7959601">Rect</span><span class="op" id="7959605">(</span><span class="num" id="7959606">20</span><span class="op" id="7959608">,</span>&nbsp;<span class="num" id="7959610">20</span><span class="op" id="7959612">,</span>&nbsp;<span class="num" id="7959614">80</span><span class="op" id="7959616">,</span>&nbsp;<span class="num" id="7959618">80</span><span class="op" id="7959620">)</span><span class="op" id="7959621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959625">image</span><span class="op" id="7959630">.</span><span class="ident" id="7959631">ZR</span><span class="op" id="7959633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959637">image</span><span class="op" id="7959642">.</span><span class="ident" id="7959643">Pt</span><span class="op" id="7959645">(</span><span class="num" id="7959646">15</span><span class="op" id="7959648">,</span>&nbsp;<span class="num" id="7959650">91</span><span class="op" id="7959652">)</span><span class="op" id="7959653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959657">image</span><span class="op" id="7959662">.</span><span class="ident" id="7959663">ZP</span><span class="op" id="7959665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7959669">true</span><span class="op" id="7959673">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959677">image</span><span class="op" id="7959682">.</span><span class="ident" id="7959683">ZR</span><span class="op" id="7959685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959689">image</span><span class="op" id="7959694">.</span><span class="ident" id="7959695">Pt</span><span class="op" id="7959697">(</span><span class="num" id="7959698">15</span><span class="op" id="7959700">,</span>&nbsp;<span class="num" id="7959702">91</span><span class="op" id="7959704">)</span><span class="op" id="7959705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959709">image</span><span class="op" id="7959714">.</span><span class="ident" id="7959715">ZP</span><span class="op" id="7959717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959720">}</span><span class="op" id="7959721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959724">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959728">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="7959758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959762">image</span><span class="op" id="7959767">.</span><span class="ident" id="7959768">Rect</span><span class="op" id="7959772">(</span><span class="num" id="7959773">0</span><span class="op" id="7959774">,</span>&nbsp;<span class="num" id="7959776">0</span><span class="op" id="7959777">,</span>&nbsp;<span class="num" id="7959779">100</span><span class="op" id="7959782">,</span>&nbsp;<span class="num" id="7959784">100</span><span class="op" id="7959787">)</span><span class="op" id="7959788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959792">image</span><span class="op" id="7959797">.</span><span class="ident" id="7959798">Rect</span><span class="op" id="7959802">(</span><span class="num" id="7959803">0</span><span class="op" id="7959804">,</span>&nbsp;<span class="num" id="7959806">0</span><span class="op" id="7959807">,</span>&nbsp;<span class="num" id="7959809">50</span><span class="op" id="7959811">,</span>&nbsp;<span class="num" id="7959813">100</span><span class="op" id="7959816">)</span><span class="op" id="7959817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959821">image</span><span class="op" id="7959826">.</span><span class="ident" id="7959827">Rect</span><span class="op" id="7959831">(</span><span class="num" id="7959832">20</span><span class="op" id="7959834">,</span>&nbsp;<span class="num" id="7959836">20</span><span class="op" id="7959838">,</span>&nbsp;<span class="num" id="7959840">80</span><span class="op" id="7959842">,</span>&nbsp;<span class="num" id="7959844">80</span><span class="op" id="7959846">)</span><span class="op" id="7959847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959851">image</span><span class="op" id="7959856">.</span><span class="ident" id="7959857">ZR</span><span class="op" id="7959859">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959863">image</span><span class="op" id="7959868">.</span><span class="ident" id="7959869">Pt</span><span class="op" id="7959871">(</span><span class="num" id="7959872">44</span><span class="op" id="7959874">,</span>&nbsp;<span class="num" id="7959876">33</span><span class="op" id="7959878">)</span><span class="op" id="7959879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959883">image</span><span class="op" id="7959888">.</span><span class="ident" id="7959889">ZP</span><span class="op" id="7959891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7959895">true</span><span class="op" id="7959899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959903">image</span><span class="op" id="7959908">.</span><span class="ident" id="7959909">Rect</span><span class="op" id="7959913">(</span><span class="num" id="7959914">0</span><span class="op" id="7959915">,</span>&nbsp;<span class="num" id="7959917">0</span><span class="op" id="7959918">,</span>&nbsp;<span class="num" id="7959920">36</span><span class="op" id="7959922">,</span>&nbsp;<span class="num" id="7959924">47</span><span class="op" id="7959926">)</span><span class="op" id="7959927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959931">image</span><span class="op" id="7959936">.</span><span class="ident" id="7959937">Pt</span><span class="op" id="7959939">(</span><span class="num" id="7959940">44</span><span class="op" id="7959942">,</span>&nbsp;<span class="num" id="7959944">33</span><span class="op" id="7959946">)</span><span class="op" id="7959947">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959951">image</span><span class="op" id="7959956">.</span><span class="ident" id="7959957">ZP</span><span class="op" id="7959959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959962">}</span><span class="op" id="7959963">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7959967">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960016">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7960020">&#34;basic&nbsp;mask&#34;</span><span class="op" id="7960032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960036">image</span><span class="op" id="7960041">.</span><span class="ident" id="7960042">Rect</span><span class="op" id="7960046">(</span><span class="num" id="7960047">0</span><span class="op" id="7960048">,</span>&nbsp;<span class="num" id="7960050">0</span><span class="op" id="7960051">,</span>&nbsp;<span class="num" id="7960053">80</span><span class="op" id="7960055">,</span>&nbsp;<span class="num" id="7960057">80</span><span class="op" id="7960059">)</span><span class="op" id="7960060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960064">image</span><span class="op" id="7960069">.</span><span class="ident" id="7960070">Rect</span><span class="op" id="7960074">(</span><span class="num" id="7960075">20</span><span class="op" id="7960077">,</span>&nbsp;<span class="num" id="7960079">0</span><span class="op" id="7960080">,</span>&nbsp;<span class="num" id="7960082">100</span><span class="op" id="7960085">,</span>&nbsp;<span class="num" id="7960087">80</span><span class="op" id="7960089">)</span><span class="op" id="7960090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960094">image</span><span class="op" id="7960099">.</span><span class="ident" id="7960100">Rect</span><span class="op" id="7960104">(</span><span class="num" id="7960105">0</span><span class="op" id="7960106">,</span>&nbsp;<span class="num" id="7960108">0</span><span class="op" id="7960109">,</span>&nbsp;<span class="num" id="7960111">50</span><span class="op" id="7960113">,</span>&nbsp;<span class="num" id="7960115">49</span><span class="op" id="7960117">)</span><span class="op" id="7960118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960122">image</span><span class="op" id="7960127">.</span><span class="ident" id="7960128">Rect</span><span class="op" id="7960132">(</span><span class="num" id="7960133">0</span><span class="op" id="7960134">,</span>&nbsp;<span class="num" id="7960136">0</span><span class="op" id="7960137">,</span>&nbsp;<span class="num" id="7960139">46</span><span class="op" id="7960141">,</span>&nbsp;<span class="num" id="7960143">47</span><span class="op" id="7960145">)</span><span class="op" id="7960146">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960150">image</span><span class="op" id="7960155">.</span><span class="ident" id="7960156">ZP</span><span class="op" id="7960158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960162">image</span><span class="op" id="7960167">.</span><span class="ident" id="7960168">ZP</span><span class="op" id="7960170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7960174">false</span><span class="op" id="7960179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960183">image</span><span class="op" id="7960188">.</span><span class="ident" id="7960189">Rect</span><span class="op" id="7960193">(</span><span class="num" id="7960194">20</span><span class="op" id="7960196">,</span>&nbsp;<span class="num" id="7960198">0</span><span class="op" id="7960199">,</span>&nbsp;<span class="num" id="7960201">46</span><span class="op" id="7960203">,</span>&nbsp;<span class="num" id="7960205">47</span><span class="op" id="7960207">)</span><span class="op" id="7960208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960212">image</span><span class="op" id="7960217">.</span><span class="ident" id="7960218">Pt</span><span class="op" id="7960220">(</span><span class="num" id="7960221">20</span><span class="op" id="7960223">,</span>&nbsp;<span class="num" id="7960225">0</span><span class="op" id="7960226">)</span><span class="op" id="7960227">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960231">image</span><span class="op" id="7960236">.</span><span class="ident" id="7960237">Pt</span><span class="op" id="7960239">(</span><span class="num" id="7960240">20</span><span class="op" id="7960242">,</span>&nbsp;<span class="num" id="7960244">0</span><span class="op" id="7960245">)</span><span class="op" id="7960246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960249">}</span><span class="op" id="7960250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7960253">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="7960290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="7960293">func</span>&nbsp;<span class="ident" id="7960298">TestClip</span><span class="op" id="7960306">(</span><span class="ident" id="7960307">t</span>&nbsp;<span class="op" id="7960309">*</span><span class="ident" id="7960310">testing</span><span class="op" id="7960317">.</span><span class="ident" id="7960318">T</span><span class="op" id="7960319">)</span>&nbsp;<span class="op" id="7960321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960324">dst0</span>&nbsp;<span class="op" id="7960329">:=</span>&nbsp;<span class="ident" id="7960332">image</span><span class="op" id="7960337">.</span><span class="ident" id="7960338">NewRGBA</span><span class="op" id="7960345">(</span><span class="ident" id="7960346">image</span><span class="op" id="7960351">.</span><span class="ident" id="7960352">Rect</span><span class="op" id="7960356">(</span><span class="num" id="7960357">0</span><span class="op" id="7960358">,</span>&nbsp;<span class="num" id="7960360">0</span><span class="op" id="7960361">,</span>&nbsp;<span class="num" id="7960363">100</span><span class="op" id="7960366">,</span>&nbsp;<span class="num" id="7960368">100</span><span class="op" id="7960371">)</span><span class="op" id="7960372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960375">src0</span>&nbsp;<span class="op" id="7960380">:=</span>&nbsp;<span class="ident" id="7960383">image</span><span class="op" id="7960388">.</span><span class="ident" id="7960389">NewRGBA</span><span class="op" id="7960396">(</span><span class="ident" id="7960397">image</span><span class="op" id="7960402">.</span><span class="ident" id="7960403">Rect</span><span class="op" id="7960407">(</span><span class="num" id="7960408">0</span><span class="op" id="7960409">,</span>&nbsp;<span class="num" id="7960411">0</span><span class="op" id="7960412">,</span>&nbsp;<span class="num" id="7960414">100</span><span class="op" id="7960417">,</span>&nbsp;<span class="num" id="7960419">100</span><span class="op" id="7960422">)</span><span class="op" id="7960423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960426">mask0</span>&nbsp;<span class="op" id="7960432">:=</span>&nbsp;<span class="ident" id="7960435">image</span><span class="op" id="7960440">.</span><span class="ident" id="7960441">NewRGBA</span><span class="op" id="7960448">(</span><span class="ident" id="7960449">image</span><span class="op" id="7960454">.</span><span class="ident" id="7960455">Rect</span><span class="op" id="7960459">(</span><span class="num" id="7960460">0</span><span class="op" id="7960461">,</span>&nbsp;<span class="num" id="7960463">0</span><span class="op" id="7960464">,</span>&nbsp;<span class="num" id="7960466">100</span><span class="op" id="7960469">,</span>&nbsp;<span class="num" id="7960471">100</span><span class="op" id="7960474">)</span><span class="op" id="7960475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960478">for</span>&nbsp;<span class="ident" id="7960482">_</span><span class="op" id="7960483">,</span>&nbsp;<span class="ident" id="7960485">c</span>&nbsp;<span class="op" id="7960487">:=</span>&nbsp;<span class="keyword" id="7960490">range</span>&nbsp;<span class="ident" id="7960496">clipTests</span>&nbsp;<span class="op" id="7960506">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960510">dst</span>&nbsp;<span class="op" id="7960514">:=</span>&nbsp;<span class="ident" id="7960517">dst0</span><span class="op" id="7960521">.</span><span class="ident" id="7960522">SubImage</span><span class="op" id="7960530">(</span><span class="ident" id="7960531">c</span><span class="op" id="7960532">.</span><span class="ident" id="7960533">dr</span><span class="op" id="7960535">)</span><span class="op" id="7960536">.</span><span class="op" id="7960537">(</span><span class="op" id="7960538">*</span><span class="ident" id="7960539">image</span><span class="op" id="7960544">.</span><span class="ident" id="7960545">RGBA</span><span class="op" id="7960549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960553">src</span>&nbsp;<span class="op" id="7960557">:=</span>&nbsp;<span class="ident" id="7960560">src0</span><span class="op" id="7960564">.</span><span class="ident" id="7960565">SubImage</span><span class="op" id="7960573">(</span><span class="ident" id="7960574">c</span><span class="op" id="7960575">.</span><span class="ident" id="7960576">sr</span><span class="op" id="7960578">)</span><span class="op" id="7960579">.</span><span class="op" id="7960580">(</span><span class="op" id="7960581">*</span><span class="ident" id="7960582">image</span><span class="op" id="7960587">.</span><span class="ident" id="7960588">RGBA</span><span class="op" id="7960592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960596">var</span>&nbsp;<span class="ident" id="7960600">mask</span>&nbsp;<span class="ident" id="7960605">image</span><span class="op" id="7960610">.</span><span class="ident" id="7960611">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960619">if</span>&nbsp;<span class="op" id="7960622">!</span><span class="ident" id="7960623">c</span><span class="op" id="7960624">.</span><span class="ident" id="7960625">nilMask</span>&nbsp;<span class="op" id="7960633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960638">mask</span>&nbsp;<span class="op" id="7960643">=</span>&nbsp;<span class="ident" id="7960645">mask0</span><span class="op" id="7960650">.</span><span class="ident" id="7960651">SubImage</span><span class="op" id="7960659">(</span><span class="ident" id="7960660">c</span><span class="op" id="7960661">.</span><span class="ident" id="7960662">mr</span><span class="op" id="7960664">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960672">r</span><span class="op" id="7960673">,</span>&nbsp;<span class="ident" id="7960675">sp</span><span class="op" id="7960677">,</span>&nbsp;<span class="ident" id="7960679">mp</span>&nbsp;<span class="op" id="7960682">:=</span>&nbsp;<span class="ident" id="7960685">c</span><span class="op" id="7960686">.</span><span class="ident" id="7960687">r</span><span class="op" id="7960688">,</span>&nbsp;<span class="ident" id="7960690">c</span><span class="op" id="7960691">.</span><span class="ident" id="7960692">sp</span><span class="op" id="7960694">,</span>&nbsp;<span class="ident" id="7960696">c</span><span class="op" id="7960697">.</span><span class="ident" id="7960698">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960703">clip</span><span class="op" id="7960707">(</span><span class="ident" id="7960708">dst</span><span class="op" id="7960711">,</span>&nbsp;<span class="op" id="7960713">&amp;</span><span class="ident" id="7960714">r</span><span class="op" id="7960715">,</span>&nbsp;<span class="ident" id="7960717">src</span><span class="op" id="7960720">,</span>&nbsp;<span class="op" id="7960722">&amp;</span><span class="ident" id="7960723">sp</span><span class="op" id="7960725">,</span>&nbsp;<span class="ident" id="7960727">mask</span><span class="op" id="7960731">,</span>&nbsp;<span class="op" id="7960733">&amp;</span><span class="ident" id="7960734">mp</span><span class="op" id="7960736">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7960741">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960804">if</span>&nbsp;<span class="op" id="7960807">!</span><span class="ident" id="7960808">c</span><span class="op" id="7960809">.</span><span class="ident" id="7960810">r0</span><span class="op" id="7960812">.</span><span class="ident" id="7960813">Eq</span><span class="op" id="7960815">(</span><span class="ident" id="7960816">r</span><span class="op" id="7960817">)</span>&nbsp;<span class="op" id="7960819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960824">t</span><span class="op" id="7960825">.</span><span class="ident" id="7960826">Errorf</span><span class="op" id="7960832">(</span><span class="string" id="7960833">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7960868">,</span>&nbsp;<span class="ident" id="7960870">c</span><span class="op" id="7960871">.</span><span class="ident" id="7960872">desc</span><span class="op" id="7960876">,</span>&nbsp;<span class="ident" id="7960878">c</span><span class="op" id="7960879">.</span><span class="ident" id="7960880">r0</span><span class="op" id="7960882">,</span>&nbsp;<span class="ident" id="7960884">r</span><span class="op" id="7960885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960890">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960905">if</span>&nbsp;<span class="op" id="7960908">!</span><span class="ident" id="7960909">c</span><span class="op" id="7960910">.</span><span class="ident" id="7960911">sp0</span><span class="op" id="7960914">.</span><span class="ident" id="7960915">Eq</span><span class="op" id="7960917">(</span><span class="ident" id="7960918">sp</span><span class="op" id="7960920">)</span>&nbsp;<span class="op" id="7960922">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960927">t</span><span class="op" id="7960928">.</span><span class="ident" id="7960929">Errorf</span><span class="op" id="7960935">(</span><span class="string" id="7960936">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7960959">,</span>&nbsp;<span class="ident" id="7960961">c</span><span class="op" id="7960962">.</span><span class="ident" id="7960963">desc</span><span class="op" id="7960967">,</span>&nbsp;<span class="ident" id="7960969">c</span><span class="op" id="7960970">.</span><span class="ident" id="7960971">sp0</span><span class="op" id="7960974">,</span>&nbsp;<span class="ident" id="7960976">sp</span><span class="op" id="7960978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960983">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960998">if</span>&nbsp;<span class="op" id="7961001">!</span><span class="ident" id="7961002">c</span><span class="op" id="7961003">.</span><span class="ident" id="7961004">nilMask</span>&nbsp;<span class="op" id="7961012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961017">if</span>&nbsp;<span class="op" id="7961020">!</span><span class="ident" id="7961021">c</span><span class="op" id="7961022">.</span><span class="ident" id="7961023">mp0</span><span class="op" id="7961026">.</span><span class="ident" id="7961027">Eq</span><span class="op" id="7961029">(</span><span class="ident" id="7961030">mp</span><span class="op" id="7961032">)</span>&nbsp;<span class="op" id="7961034">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961040">t</span><span class="op" id="7961041">.</span><span class="ident" id="7961042">Errorf</span><span class="op" id="7961048">(</span><span class="string" id="7961049">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7961072">,</span>&nbsp;<span class="ident" id="7961074">c</span><span class="op" id="7961075">.</span><span class="ident" id="7961076">desc</span><span class="op" id="7961080">,</span>&nbsp;<span class="ident" id="7961082">c</span><span class="op" id="7961083">.</span><span class="ident" id="7961084">mp0</span><span class="op" id="7961087">,</span>&nbsp;<span class="ident" id="7961089">mp</span><span class="op" id="7961091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961097">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7961118">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7961193">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961250">if</span>&nbsp;<span class="op" id="7961253">!</span><span class="ident" id="7961254">r</span><span class="op" id="7961255">.</span><span class="ident" id="7961256">In</span><span class="op" id="7961258">(</span><span class="ident" id="7961259">c</span><span class="op" id="7961260">.</span><span class="ident" id="7961261">dr</span><span class="op" id="7961263">)</span>&nbsp;<span class="op" id="7961265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961270">t</span><span class="op" id="7961271">.</span><span class="ident" id="7961272">Errorf</span><span class="op" id="7961278">(</span><span class="string" id="7961279">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="7961314">,</span>&nbsp;<span class="ident" id="7961316">c</span><span class="op" id="7961317">.</span><span class="ident" id="7961318">desc</span><span class="op" id="7961322">,</span>&nbsp;<span class="ident" id="7961324">c</span><span class="op" id="7961325">.</span><span class="ident" id="7961326">dr</span><span class="op" id="7961328">,</span>&nbsp;<span class="ident" id="7961330">r</span><span class="op" id="7961331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961335">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7961339">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961393">sr</span>&nbsp;<span class="op" id="7961396">:=</span>&nbsp;<span class="ident" id="7961399">r</span><span class="op" id="7961400">.</span><span class="ident" id="7961401">Add</span><span class="op" id="7961404">(</span><span class="ident" id="7961405">c</span><span class="op" id="7961406">.</span><span class="ident" id="7961407">sp</span><span class="op" id="7961409">.</span><span class="ident" id="7961410">Sub</span><span class="op" id="7961413">(</span><span class="ident" id="7961414">c</span><span class="op" id="7961415">.</span><span class="ident" id="7961416">dr</span><span class="op" id="7961418">.</span><span class="ident" id="7961419">Min</span><span class="op" id="7961422">)</span><span class="op" id="7961423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961427">if</span>&nbsp;<span class="op" id="7961430">!</span><span class="ident" id="7961431">sr</span><span class="op" id="7961433">.</span><span class="ident" id="7961434">In</span><span class="op" id="7961436">(</span><span class="ident" id="7961437">c</span><span class="op" id="7961438">.</span><span class="ident" id="7961439">sr</span><span class="op" id="7961441">)</span>&nbsp;<span class="op" id="7961443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961448">t</span><span class="op" id="7961449">.</span><span class="ident" id="7961450">Errorf</span><span class="op" id="7961456">(</span><span class="string" id="7961457">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="7961493">,</span>&nbsp;<span class="ident" id="7961495">c</span><span class="op" id="7961496">.</span><span class="ident" id="7961497">desc</span><span class="op" id="7961501">,</span>&nbsp;<span class="ident" id="7961503">c</span><span class="op" id="7961504">.</span><span class="ident" id="7961505">sr</span><span class="op" id="7961507">,</span>&nbsp;<span class="ident" id="7961509">sr</span><span class="op" id="7961511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961515">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961519">if</span>&nbsp;<span class="op" id="7961522">!</span><span class="ident" id="7961523">c</span><span class="op" id="7961524">.</span><span class="ident" id="7961525">nilMask</span>&nbsp;<span class="op" id="7961533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7961538">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961594">mr</span>&nbsp;<span class="op" id="7961597">:=</span>&nbsp;<span class="ident" id="7961600">r</span><span class="op" id="7961601">.</span><span class="ident" id="7961602">Add</span><span class="op" id="7961605">(</span><span class="ident" id="7961606">c</span><span class="op" id="7961607">.</span><span class="ident" id="7961608">mp</span><span class="op" id="7961610">.</span><span class="ident" id="7961611">Sub</span><span class="op" id="7961614">(</span><span class="ident" id="7961615">c</span><span class="op" id="7961616">.</span><span class="ident" id="7961617">dr</span><span class="op" id="7961619">.</span><span class="ident" id="7961620">Min</span><span class="op" id="7961623">)</span><span class="op" id="7961624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961629">if</span>&nbsp;<span class="op" id="7961632">!</span><span class="ident" id="7961633">mr</span><span class="op" id="7961635">.</span><span class="ident" id="7961636">In</span><span class="op" id="7961638">(</span><span class="ident" id="7961639">c</span><span class="op" id="7961640">.</span><span class="ident" id="7961641">mr</span><span class="op" id="7961643">)</span>&nbsp;<span class="op" id="7961645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961651">t</span><span class="op" id="7961652">.</span><span class="ident" id="7961653">Errorf</span><span class="op" id="7961659">(</span><span class="string" id="7961660">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="7961696">,</span>&nbsp;<span class="ident" id="7961698">c</span><span class="op" id="7961699">.</span><span class="ident" id="7961700">desc</span><span class="op" id="7961704">,</span>&nbsp;<span class="ident" id="7961706">c</span><span class="op" id="7961707">.</span><span class="ident" id="7961708">mr</span><span class="op" id="7961710">,</span>&nbsp;<span class="ident" id="7961712">mr</span><span class="op" id="7961714">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961726">}</span><br>
<span class="lineno"></span><span class="op" id="7961728">}</span>
</div>
</body>
</html>
