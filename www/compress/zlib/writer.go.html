<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4897963">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4898018">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4898072">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4898123">package</span>&nbsp;<span class="ident" id="4898131">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4898137">import</span>&nbsp;<span class="op" id="4898144">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4898147">&#34;compress/flate&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4898165">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4898172">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4898180">&#34;hash/adler32&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4898196">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4898201">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4898204">//&nbsp;These&nbsp;constants&nbsp;are&nbsp;copied&nbsp;from&nbsp;the&nbsp;flate&nbsp;package,&nbsp;so&nbsp;that&nbsp;code&nbsp;that&nbsp;imports</span><br>
<span class="lineno"></span><span class="comment" id="4898284">//&nbsp;&#34;compress/zlib&#34;&nbsp;does&nbsp;not&nbsp;also&nbsp;have&nbsp;to&nbsp;import&nbsp;&#34;compress/flate&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4898350">const</span>&nbsp;<span class="op" id="4898356">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898359">NoCompression</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4898378">=</span>&nbsp;<span class="ident" id="4898380"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4898385">.</span><span class="ident" id="4898386">NoCompression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898401">BestSpeed</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4898420">=</span>&nbsp;<span class="ident" id="4898422"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4898427">.</span><span class="ident" id="4898428">BestSpeed</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898439">BestCompression</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4898458">=</span>&nbsp;<span class="ident" id="4898460"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4898465">.</span><span class="ident" id="4898466">BestCompression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898483">DefaultCompression</span>&nbsp;<span class="op" id="4898502">=</span>&nbsp;<span class="ident" id="4898504"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4898509">.</span><span class="ident" id="4898510">DefaultCompression</span><br>
<span class="lineno"></span><span class="op" id="4898529">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4898532">//&nbsp;A&nbsp;Writer&nbsp;takes&nbsp;data&nbsp;written&nbsp;to&nbsp;it&nbsp;and&nbsp;writes&nbsp;the&nbsp;compressed</span><br>
<span class="lineno">25</span><span class="comment" id="4898595">//&nbsp;form&nbsp;of&nbsp;that&nbsp;data&nbsp;to&nbsp;an&nbsp;underlying&nbsp;writer&nbsp;(see&nbsp;NewWriter).</span><br>
<span class="lineno"></span><span class="keyword" id="4898657">type</span>&nbsp;<span class="ident" id="4898662">Writer</span>&nbsp;<span class="keyword" id="4898669">struct</span>&nbsp;<span class="op" id="4898676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898679">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4898691"><a href="/compress/zlib/writer.go.html#4898196">io</a></span><span class="op" id="4898693">.</span><span class="ident" id="4898694">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898702">level</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4898714">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898719">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4898731">[</span><span class="op" id="4898732">]</span><span class="builtintype" id="4898733">byte</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898739">compressor</span>&nbsp;&nbsp;<span class="op" id="4898751">*</span><span class="ident" id="4898752"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4898757">.</span><span class="ident" id="4898758">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898766">digest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4898778"><a href="/compress/zlib/writer.go.html#4898172">hash</a></span><span class="op" id="4898782">.</span><span class="ident" id="4898783">Hash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898791">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4898803">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898810">scratch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4898822">[</span><span class="num" id="4898823">4</span><span class="op" id="4898824">]</span><span class="builtintype" id="4898825">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898831">wroteHeader</span>&nbsp;<span class="builtintype" id="4898843">bool</span><br>
<span class="lineno">35</span><span class="op" id="4898848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4898851">//&nbsp;NewWriter&nbsp;creates&nbsp;a&nbsp;new&nbsp;Writer.</span><br>
<span class="lineno"></span><span class="comment" id="4898886">//&nbsp;Writes&nbsp;to&nbsp;the&nbsp;returned&nbsp;Writer&nbsp;are&nbsp;compressed&nbsp;and&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="4898952">//</span><br>
<span class="lineno">40</span><span class="comment" id="4898955">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;call&nbsp;Close&nbsp;on&nbsp;the&nbsp;WriteCloser&nbsp;when&nbsp;done.</span><br>
<span class="lineno"></span><span class="comment" id="4899036">//&nbsp;Writes&nbsp;may&nbsp;be&nbsp;buffered&nbsp;and&nbsp;not&nbsp;flushed&nbsp;until&nbsp;Close.</span><br>
<span class="lineno"></span><span class="keyword" id="4899091">func</span>&nbsp;<span class="ident" id="4899096">NewWriter</span><span class="op" id="4899105">(</span><span class="ident" id="4899106">w</span>&nbsp;<span class="ident" id="4899108"><a href="/compress/zlib/writer.go.html#4898196">io</a></span><span class="op" id="4899110">.</span><span class="ident" id="4899111">Writer</span><span class="op" id="4899117">)</span>&nbsp;<span class="op" id="4899119">*</span><span class="ident" id="4899120"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span>&nbsp;<span class="op" id="4899127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4899130">z</span><span class="op" id="4899131">,</span>&nbsp;<span class="ident" id="4899133">_</span>&nbsp;<span class="op" id="4899135">:=</span>&nbsp;<span class="ident" id="4899138"><a href="/compress/zlib/writer.go.html#4899827">NewWriterLevelDict</a></span><span class="op" id="4899156">(</span><span class="ident" id="4899157"><a href="/compress/zlib/writer.go.html#4899106">w</a></span><span class="op" id="4899158">,</span>&nbsp;<span class="ident" id="4899160"><a href="/compress/zlib/writer.go.html#4898483">DefaultCompression</a></span><span class="op" id="4899178">,</span>&nbsp;<span class="ident" id="4899180">nil</span><span class="op" id="4899183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899186">return</span>&nbsp;<span class="ident" id="4899193"><a href="/compress/zlib/writer.go.html#4899130">z</a></span><br>
<span class="lineno">45</span><span class="op" id="4899195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4899198">//&nbsp;NewWriterLevel&nbsp;is&nbsp;like&nbsp;NewWriter&nbsp;but&nbsp;specifies&nbsp;the&nbsp;compression&nbsp;level&nbsp;instead</span><br>
<span class="lineno"></span><span class="comment" id="4899278">//&nbsp;of&nbsp;assuming&nbsp;DefaultCompression.</span><br>
<span class="lineno"></span><span class="comment" id="4899313">//</span><br>
<span class="lineno">50</span><span class="comment" id="4899316">//&nbsp;The&nbsp;compression&nbsp;level&nbsp;can&nbsp;be&nbsp;DefaultCompression,&nbsp;NoCompression,&nbsp;or&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="4899390">//&nbsp;integer&nbsp;value&nbsp;between&nbsp;BestSpeed&nbsp;and&nbsp;BestCompression&nbsp;inclusive.&nbsp;The&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="4899466">//&nbsp;returned&nbsp;will&nbsp;be&nbsp;nil&nbsp;if&nbsp;the&nbsp;level&nbsp;is&nbsp;valid.</span><br>
<span class="lineno"></span><span class="keyword" id="4899513">func</span>&nbsp;<span class="ident" id="4899518">NewWriterLevel</span><span class="op" id="4899532">(</span><span class="ident" id="4899533">w</span>&nbsp;<span class="ident" id="4899535"><a href="/compress/zlib/writer.go.html#4898196">io</a></span><span class="op" id="4899537">.</span><span class="ident" id="4899538">Writer</span><span class="op" id="4899544">,</span>&nbsp;<span class="ident" id="4899546">level</span>&nbsp;<span class="builtintype" id="4899552">int</span><span class="op" id="4899555">)</span>&nbsp;<span class="op" id="4899557">(</span><span class="op" id="4899558">*</span><span class="ident" id="4899559"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4899565">,</span>&nbsp;<span class="builtintype" id="4899567">error</span><span class="op" id="4899572">)</span>&nbsp;<span class="op" id="4899574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899577">return</span>&nbsp;<span class="ident" id="4899584"><a href="/compress/zlib/writer.go.html#4899827">NewWriterLevelDict</a></span><span class="op" id="4899602">(</span><span class="ident" id="4899603"><a href="/compress/zlib/writer.go.html#4899533">w</a></span><span class="op" id="4899604">,</span>&nbsp;<span class="ident" id="4899606"><a href="/compress/zlib/writer.go.html#4899546">level</a></span><span class="op" id="4899611">,</span>&nbsp;<span class="ident" id="4899613">nil</span><span class="op" id="4899616">)</span><br>
<span class="lineno">55</span><span class="op" id="4899618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4899621">//&nbsp;NewWriterLevelDict&nbsp;is&nbsp;like&nbsp;NewWriterLevel&nbsp;but&nbsp;specifies&nbsp;a&nbsp;dictionary&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4899696">//&nbsp;compress&nbsp;with.</span><br>
<span class="lineno"></span><span class="comment" id="4899714">//</span><br>
<span class="lineno">60</span><span class="comment" id="4899717">//&nbsp;The&nbsp;dictionary&nbsp;may&nbsp;be&nbsp;nil.&nbsp;If&nbsp;not,&nbsp;its&nbsp;contents&nbsp;should&nbsp;not&nbsp;be&nbsp;modified&nbsp;until</span><br>
<span class="lineno"></span><span class="comment" id="4899797">//&nbsp;the&nbsp;Writer&nbsp;is&nbsp;closed.</span><br>
<span class="lineno"></span><span class="keyword" id="4899822">func</span>&nbsp;<span class="ident" id="4899827">NewWriterLevelDict</span><span class="op" id="4899845">(</span><span class="ident" id="4899846">w</span>&nbsp;<span class="ident" id="4899848"><a href="/compress/zlib/writer.go.html#4898196">io</a></span><span class="op" id="4899850">.</span><span class="ident" id="4899851">Writer</span><span class="op" id="4899857">,</span>&nbsp;<span class="ident" id="4899859">level</span>&nbsp;<span class="builtintype" id="4899865">int</span><span class="op" id="4899868">,</span>&nbsp;<span class="ident" id="4899870">dict</span>&nbsp;<span class="op" id="4899875">[</span><span class="op" id="4899876">]</span><span class="builtintype" id="4899877">byte</span><span class="op" id="4899881">)</span>&nbsp;<span class="op" id="4899883">(</span><span class="op" id="4899884">*</span><span class="ident" id="4899885"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4899891">,</span>&nbsp;<span class="builtintype" id="4899893">error</span><span class="op" id="4899898">)</span>&nbsp;<span class="op" id="4899900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899903">if</span>&nbsp;<span class="ident" id="4899906"><a href="/compress/zlib/writer.go.html#4899859">level</a></span>&nbsp;<span class="op" id="4899912">&lt;</span>&nbsp;<span class="ident" id="4899914"><a href="/compress/zlib/writer.go.html#4898483">DefaultCompression</a></span>&nbsp;<span class="op" id="4899933">||</span>&nbsp;<span class="ident" id="4899936"><a href="/compress/zlib/writer.go.html#4899859">level</a></span>&nbsp;<span class="op" id="4899942">&gt;</span>&nbsp;<span class="ident" id="4899944"><a href="/compress/zlib/writer.go.html#4898439">BestCompression</a></span>&nbsp;<span class="op" id="4899960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899964">return</span>&nbsp;<span class="ident" id="4899971">nil</span><span class="op" id="4899974">,</span>&nbsp;<span class="ident" id="4899976"><a href="/compress/zlib/writer.go.html#4898165">fmt</a></span><span class="op" id="4899979">.</span><span class="ident" id="4899980">Errorf</span><span class="op" id="4899986">(</span><span class="string" id="4899987">&#34;zlib:&nbsp;invalid&nbsp;compression&nbsp;level:&nbsp;%d&#34;</span><span class="op" id="4900024">,</span>&nbsp;<span class="ident" id="4900026"><a href="/compress/zlib/writer.go.html#4899859">level</a></span><span class="op" id="4900031">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4900034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4900037">return</span>&nbsp;<span class="op" id="4900044">&amp;</span><span class="ident" id="4900045"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4900051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900055">w</span><span class="op" id="4900056">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4900062"><a href="/compress/zlib/writer.go.html#4899846">w</a></span><span class="op" id="4900063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900067">level</span><span class="op" id="4900072">:</span>&nbsp;<span class="ident" id="4900074"><a href="/compress/zlib/writer.go.html#4899859">level</a></span><span class="op" id="4900079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900083">dict</span><span class="op" id="4900087">:</span>&nbsp;&nbsp;<span class="ident" id="4900090"><a href="/compress/zlib/writer.go.html#4899870">dict</a></span><span class="op" id="4900094">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4900097">}</span><span class="op" id="4900098">,</span>&nbsp;<span class="ident" id="4900100">nil</span><br>
<span class="lineno"></span><span class="op" id="4900104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4900107">//&nbsp;Reset&nbsp;clears&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;Writer&nbsp;z&nbsp;such&nbsp;that&nbsp;it&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="4900183">//&nbsp;initial&nbsp;state&nbsp;from&nbsp;NewWriterLevel&nbsp;or&nbsp;NewWriterLevelDict,&nbsp;but&nbsp;instead&nbsp;writing</span><br>
<span class="lineno">75</span><span class="comment" id="4900263">//&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="keyword" id="4900272">func</span>&nbsp;<span class="op" id="4900277">(</span><span class="ident" id="4900278">z</span>&nbsp;<span class="op" id="4900280">*</span><span class="ident" id="4900281"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4900287">)</span>&nbsp;<span class="ident" id="4900289">Reset</span><span class="op" id="4900294">(</span><span class="ident" id="4900295">w</span>&nbsp;<span class="ident" id="4900297"><a href="/compress/zlib/writer.go.html#4898196">io</a></span><span class="op" id="4900299">.</span><span class="ident" id="4900300">Writer</span><span class="op" id="4900306">)</span>&nbsp;<span class="op" id="4900308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900311"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900312">.</span><span class="ident" id="4900313">w</span>&nbsp;<span class="op" id="4900315">=</span>&nbsp;<span class="ident" id="4900317"><a href="/compress/zlib/writer.go.html#4900295">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900320">//&nbsp;z.level&nbsp;and&nbsp;z.dict&nbsp;left&nbsp;unchanged.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4900359">if</span>&nbsp;<span class="ident" id="4900362"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900363">.</span><span class="ident" id="4900364">compressor</span>&nbsp;<span class="op" id="4900375">!=</span>&nbsp;<span class="ident" id="4900378">nil</span>&nbsp;<span class="op" id="4900382">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900386"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900387">.</span><span class="ident" id="4900388">compressor</span><span class="op" id="4900398">.</span><span class="ident" id="4900399">Reset</span><span class="op" id="4900404">(</span><span class="ident" id="4900405"><a href="/compress/zlib/writer.go.html#4900295">w</a></span><span class="op" id="4900406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4900409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4900412">if</span>&nbsp;<span class="ident" id="4900415"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900416">.</span><span class="ident" id="4900417">digest</span>&nbsp;<span class="op" id="4900424">!=</span>&nbsp;<span class="ident" id="4900427">nil</span>&nbsp;<span class="op" id="4900431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900435"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900436">.</span><span class="ident" id="4900437">digest</span><span class="op" id="4900443">.</span><span class="ident" id="4900444">Reset</span><span class="op" id="4900449">(</span><span class="op" id="4900450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4900453">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900456"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900457">.</span><span class="ident" id="4900458">err</span>&nbsp;<span class="op" id="4900462">=</span>&nbsp;<span class="ident" id="4900464">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900469"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900470">.</span><span class="ident" id="4900471">scratch</span>&nbsp;<span class="op" id="4900479">=</span>&nbsp;<span class="op" id="4900481">[</span><span class="num" id="4900482">4</span><span class="op" id="4900483">]</span><span class="builtintype" id="4900484">byte</span><span class="op" id="4900488">{</span><span class="op" id="4900489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900492"><a href="/compress/zlib/writer.go.html#4900278">z</a></span><span class="op" id="4900493">.</span><span class="ident" id="4900494">wroteHeader</span>&nbsp;<span class="op" id="4900506">=</span>&nbsp;<span class="builtintype" id="4900508">false</span><br>
<span class="lineno"></span><span class="op" id="4900514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4900517">//&nbsp;writeHeader&nbsp;writes&nbsp;the&nbsp;ZLIB&nbsp;header.</span><br>
<span class="lineno"></span><span class="keyword" id="4900556">func</span>&nbsp;<span class="op" id="4900561">(</span><span class="ident" id="4900562">z</span>&nbsp;<span class="op" id="4900564">*</span><span class="ident" id="4900565"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4900571">)</span>&nbsp;<span class="ident" id="4900573">writeHeader</span><span class="op" id="4900584">(</span><span class="op" id="4900585">)</span>&nbsp;<span class="op" id="4900587">(</span><span class="ident" id="4900588">err</span>&nbsp;<span class="builtintype" id="4900592">error</span><span class="op" id="4900597">)</span>&nbsp;<span class="op" id="4900599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900602"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4900603">.</span><span class="ident" id="4900604">wroteHeader</span>&nbsp;<span class="op" id="4900616">=</span>&nbsp;<span class="builtintype" id="4900618">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900624">//&nbsp;ZLIB&nbsp;has&nbsp;a&nbsp;two-byte&nbsp;header&nbsp;(as&nbsp;documented&nbsp;in&nbsp;RFC&nbsp;1950).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900684">//&nbsp;The&nbsp;first&nbsp;four&nbsp;bits&nbsp;is&nbsp;the&nbsp;CINFO&nbsp;(compression&nbsp;info),&nbsp;which&nbsp;is&nbsp;7&nbsp;for&nbsp;the&nbsp;default&nbsp;deflate&nbsp;window&nbsp;size.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900789">//&nbsp;The&nbsp;next&nbsp;four&nbsp;bits&nbsp;is&nbsp;the&nbsp;CM&nbsp;(compression&nbsp;method),&nbsp;which&nbsp;is&nbsp;8&nbsp;for&nbsp;deflate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4900868"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4900869">.</span><span class="ident" id="4900870">scratch</span><span class="op" id="4900877">[</span><span class="num" id="4900878">0</span><span class="op" id="4900879">]</span>&nbsp;<span class="op" id="4900881">=</span>&nbsp;<span class="num" id="4900883">0x78</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900889">//&nbsp;The&nbsp;next&nbsp;two&nbsp;bits&nbsp;is&nbsp;the&nbsp;FLEVEL&nbsp;(compression&nbsp;level).&nbsp;The&nbsp;four&nbsp;values&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4900967">//&nbsp;0=fastest,&nbsp;1=fast,&nbsp;2=default,&nbsp;3=best.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4901009">//&nbsp;The&nbsp;next&nbsp;bit,&nbsp;FDICT,&nbsp;is&nbsp;set&nbsp;if&nbsp;a&nbsp;dictionary&nbsp;is&nbsp;given.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4901067">//&nbsp;The&nbsp;final&nbsp;five&nbsp;FCHECK&nbsp;bits&nbsp;form&nbsp;a&nbsp;mod-31&nbsp;checksum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901122">switch</span>&nbsp;<span class="ident" id="4901129"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901130">.</span><span class="ident" id="4901131">level</span>&nbsp;<span class="op" id="4901137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901140">case</span>&nbsp;<span class="num" id="4901145">0</span><span class="op" id="4901146">,</span>&nbsp;<span class="num" id="4901148">1</span><span class="op" id="4901149">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901153"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901154">.</span><span class="ident" id="4901155">scratch</span><span class="op" id="4901162">[</span><span class="num" id="4901163">1</span><span class="op" id="4901164">]</span>&nbsp;<span class="op" id="4901166">=</span>&nbsp;<span class="num" id="4901168">0</span>&nbsp;<span class="op" id="4901170">&lt;&lt;</span>&nbsp;<span class="num" id="4901173">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901176">case</span>&nbsp;<span class="num" id="4901181">2</span><span class="op" id="4901182">,</span>&nbsp;<span class="num" id="4901184">3</span><span class="op" id="4901185">,</span>&nbsp;<span class="num" id="4901187">4</span><span class="op" id="4901188">,</span>&nbsp;<span class="num" id="4901190">5</span><span class="op" id="4901191">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901195"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901196">.</span><span class="ident" id="4901197">scratch</span><span class="op" id="4901204">[</span><span class="num" id="4901205">1</span><span class="op" id="4901206">]</span>&nbsp;<span class="op" id="4901208">=</span>&nbsp;<span class="num" id="4901210">1</span>&nbsp;<span class="op" id="4901212">&lt;&lt;</span>&nbsp;<span class="num" id="4901215">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901218">case</span>&nbsp;<span class="num" id="4901223">6</span><span class="op" id="4901224">,</span>&nbsp;<span class="op" id="4901226">-</span><span class="num" id="4901227">1</span><span class="op" id="4901228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901232"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901233">.</span><span class="ident" id="4901234">scratch</span><span class="op" id="4901241">[</span><span class="num" id="4901242">1</span><span class="op" id="4901243">]</span>&nbsp;<span class="op" id="4901245">=</span>&nbsp;<span class="num" id="4901247">2</span>&nbsp;<span class="op" id="4901249">&lt;&lt;</span>&nbsp;<span class="num" id="4901252">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901255">case</span>&nbsp;<span class="num" id="4901260">7</span><span class="op" id="4901261">,</span>&nbsp;<span class="num" id="4901263">8</span><span class="op" id="4901264">,</span>&nbsp;<span class="num" id="4901266">9</span><span class="op" id="4901267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901271"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901272">.</span><span class="ident" id="4901273">scratch</span><span class="op" id="4901280">[</span><span class="num" id="4901281">1</span><span class="op" id="4901282">]</span>&nbsp;<span class="op" id="4901284">=</span>&nbsp;<span class="num" id="4901286">3</span>&nbsp;<span class="op" id="4901288">&lt;&lt;</span>&nbsp;<span class="num" id="4901291">6</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901294">default</span><span class="op" id="4901301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4901305">panic</span><span class="op" id="4901310">(</span><span class="string" id="4901311">&#34;unreachable&#34;</span><span class="op" id="4901324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4901327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901330">if</span>&nbsp;<span class="ident" id="4901333"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901334">.</span><span class="ident" id="4901335">dict</span>&nbsp;<span class="op" id="4901340">!=</span>&nbsp;<span class="ident" id="4901343">nil</span>&nbsp;<span class="op" id="4901347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901351"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901352">.</span><span class="ident" id="4901353">scratch</span><span class="op" id="4901360">[</span><span class="num" id="4901361">1</span><span class="op" id="4901362">]</span>&nbsp;<span class="op" id="4901364">|=</span>&nbsp;<span class="num" id="4901367">1</span>&nbsp;<span class="op" id="4901369">&lt;&lt;</span>&nbsp;<span class="num" id="4901372">5</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4901375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901378"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901379">.</span><span class="ident" id="4901380">scratch</span><span class="op" id="4901387">[</span><span class="num" id="4901388">1</span><span class="op" id="4901389">]</span>&nbsp;<span class="op" id="4901391">+=</span>&nbsp;<span class="builtintype" id="4901394">uint8</span><span class="op" id="4901399">(</span><span class="num" id="4901400">31</span>&nbsp;<span class="op" id="4901403">-</span>&nbsp;<span class="op" id="4901405">(</span><span class="builtintype" id="4901406">uint16</span><span class="op" id="4901412">(</span><span class="ident" id="4901413"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901414">.</span><span class="ident" id="4901415">scratch</span><span class="op" id="4901422">[</span><span class="num" id="4901423">0</span><span class="op" id="4901424">]</span><span class="op" id="4901425">)</span><span class="op" id="4901426">&lt;&lt;</span><span class="num" id="4901428">8</span><span class="op" id="4901429">+</span><span class="builtintype" id="4901430">uint16</span><span class="op" id="4901436">(</span><span class="ident" id="4901437"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901438">.</span><span class="ident" id="4901439">scratch</span><span class="op" id="4901446">[</span><span class="num" id="4901447">1</span><span class="op" id="4901448">]</span><span class="op" id="4901449">)</span><span class="op" id="4901450">)</span><span class="op" id="4901451">%</span><span class="num" id="4901452">31</span><span class="op" id="4901454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901457">if</span>&nbsp;<span class="ident" id="4901460">_</span><span class="op" id="4901461">,</span>&nbsp;<span class="ident" id="4901463"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4901467">=</span>&nbsp;<span class="ident" id="4901469"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901470">.</span><span class="ident" id="4901471">w</span><span class="op" id="4901472">.</span><span class="ident" id="4901473">Write</span><span class="op" id="4901478">(</span><span class="ident" id="4901479"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901480">.</span><span class="ident" id="4901481">scratch</span><span class="op" id="4901488">[</span><span class="num" id="4901489">0</span><span class="op" id="4901490">:</span><span class="num" id="4901491">2</span><span class="op" id="4901492">]</span><span class="op" id="4901493">)</span><span class="op" id="4901494">;</span>&nbsp;<span class="ident" id="4901496"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4901500">!=</span>&nbsp;<span class="ident" id="4901503">nil</span>&nbsp;<span class="op" id="4901507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901511">return</span>&nbsp;<span class="ident" id="4901518"><a href="/compress/zlib/writer.go.html#4900588">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4901523">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901526">if</span>&nbsp;<span class="ident" id="4901529"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901530">.</span><span class="ident" id="4901531">dict</span>&nbsp;<span class="op" id="4901536">!=</span>&nbsp;<span class="ident" id="4901539">nil</span>&nbsp;<span class="op" id="4901543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4901547">//&nbsp;The&nbsp;next&nbsp;four&nbsp;bytes&nbsp;are&nbsp;the&nbsp;Adler-32&nbsp;checksum&nbsp;of&nbsp;the&nbsp;dictionary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901617">checksum</span>&nbsp;<span class="op" id="4901626">:=</span>&nbsp;<span class="ident" id="4901629"><a href="/compress/zlib/writer.go.html#4898180">adler32</a></span><span class="op" id="4901636">.</span><span class="ident" id="4901637">Checksum</span><span class="op" id="4901645">(</span><span class="ident" id="4901646"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901647">.</span><span class="ident" id="4901648">dict</span><span class="op" id="4901652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901656"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901657">.</span><span class="ident" id="4901658">scratch</span><span class="op" id="4901665">[</span><span class="num" id="4901666">0</span><span class="op" id="4901667">]</span>&nbsp;<span class="op" id="4901669">=</span>&nbsp;<span class="builtintype" id="4901671">uint8</span><span class="op" id="4901676">(</span><span class="ident" id="4901677"><a href="/compress/zlib/writer.go.html#4901617">checksum</a></span>&nbsp;<span class="op" id="4901686">&gt;&gt;</span>&nbsp;<span class="num" id="4901689">24</span><span class="op" id="4901691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901695"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901696">.</span><span class="ident" id="4901697">scratch</span><span class="op" id="4901704">[</span><span class="num" id="4901705">1</span><span class="op" id="4901706">]</span>&nbsp;<span class="op" id="4901708">=</span>&nbsp;<span class="builtintype" id="4901710">uint8</span><span class="op" id="4901715">(</span><span class="ident" id="4901716"><a href="/compress/zlib/writer.go.html#4901617">checksum</a></span>&nbsp;<span class="op" id="4901725">&gt;&gt;</span>&nbsp;<span class="num" id="4901728">16</span><span class="op" id="4901730">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901734"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901735">.</span><span class="ident" id="4901736">scratch</span><span class="op" id="4901743">[</span><span class="num" id="4901744">2</span><span class="op" id="4901745">]</span>&nbsp;<span class="op" id="4901747">=</span>&nbsp;<span class="builtintype" id="4901749">uint8</span><span class="op" id="4901754">(</span><span class="ident" id="4901755"><a href="/compress/zlib/writer.go.html#4901617">checksum</a></span>&nbsp;<span class="op" id="4901764">&gt;&gt;</span>&nbsp;<span class="num" id="4901767">8</span><span class="op" id="4901768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901772"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901773">.</span><span class="ident" id="4901774">scratch</span><span class="op" id="4901781">[</span><span class="num" id="4901782">3</span><span class="op" id="4901783">]</span>&nbsp;<span class="op" id="4901785">=</span>&nbsp;<span class="builtintype" id="4901787">uint8</span><span class="op" id="4901792">(</span><span class="ident" id="4901793"><a href="/compress/zlib/writer.go.html#4901617">checksum</a></span>&nbsp;<span class="op" id="4901802">&gt;&gt;</span>&nbsp;<span class="num" id="4901805">0</span><span class="op" id="4901806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901810">if</span>&nbsp;<span class="ident" id="4901813">_</span><span class="op" id="4901814">,</span>&nbsp;<span class="ident" id="4901816"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4901820">=</span>&nbsp;<span class="ident" id="4901822"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901823">.</span><span class="ident" id="4901824">w</span><span class="op" id="4901825">.</span><span class="ident" id="4901826">Write</span><span class="op" id="4901831">(</span><span class="ident" id="4901832"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901833">.</span><span class="ident" id="4901834">scratch</span><span class="op" id="4901841">[</span><span class="num" id="4901842">0</span><span class="op" id="4901843">:</span><span class="num" id="4901844">4</span><span class="op" id="4901845">]</span><span class="op" id="4901846">)</span><span class="op" id="4901847">;</span>&nbsp;<span class="ident" id="4901849"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4901853">!=</span>&nbsp;<span class="ident" id="4901856">nil</span>&nbsp;<span class="op" id="4901860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901865">return</span>&nbsp;<span class="ident" id="4901872"><a href="/compress/zlib/writer.go.html#4900588">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4901878">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4901881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4901884">if</span>&nbsp;<span class="ident" id="4901887"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901888">.</span><span class="ident" id="4901889">compressor</span>&nbsp;<span class="op" id="4901900">==</span>&nbsp;<span class="ident" id="4901903">nil</span>&nbsp;<span class="op" id="4901907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4901911">//&nbsp;Initialize&nbsp;deflater&nbsp;unless&nbsp;the&nbsp;Writer&nbsp;is&nbsp;being&nbsp;reused</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4901970">//&nbsp;after&nbsp;a&nbsp;Reset&nbsp;call.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4901995"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4901996">.</span><span class="ident" id="4901997">compressor</span><span class="op" id="4902007">,</span>&nbsp;<span class="ident" id="4902009"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4902013">=</span>&nbsp;<span class="ident" id="4902015"><a href="/compress/zlib/writer.go.html#4898147">flate</a></span><span class="op" id="4902020">.</span><span class="ident" id="4902021">NewWriterDict</span><span class="op" id="4902034">(</span><span class="ident" id="4902035"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4902036">.</span><span class="ident" id="4902037">w</span><span class="op" id="4902038">,</span>&nbsp;<span class="ident" id="4902040"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4902041">.</span><span class="ident" id="4902042">level</span><span class="op" id="4902047">,</span>&nbsp;<span class="ident" id="4902049"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4902050">.</span><span class="ident" id="4902051">dict</span><span class="op" id="4902055">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902059">if</span>&nbsp;<span class="ident" id="4902062"><a href="/compress/zlib/writer.go.html#4900588">err</a></span>&nbsp;<span class="op" id="4902066">!=</span>&nbsp;<span class="ident" id="4902069">nil</span>&nbsp;<span class="op" id="4902073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902078">return</span>&nbsp;<span class="ident" id="4902085"><a href="/compress/zlib/writer.go.html#4900588">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902095"><a href="/compress/zlib/writer.go.html#4900562">z</a></span><span class="op" id="4902096">.</span><span class="ident" id="4902097">digest</span>&nbsp;<span class="op" id="4902104">=</span>&nbsp;<span class="ident" id="4902106"><a href="/compress/zlib/writer.go.html#4898180">adler32</a></span><span class="op" id="4902113">.</span><span class="ident" id="4902114">New</span><span class="op" id="4902117">(</span><span class="op" id="4902118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902121">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902124">return</span>&nbsp;<span class="ident" id="4902131">nil</span><br>
<span class="lineno"></span><span class="op" id="4902135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4902138">//&nbsp;Write&nbsp;writes&nbsp;a&nbsp;compressed&nbsp;form&nbsp;of&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;io.Writer.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4902210">//&nbsp;compressed&nbsp;bytes&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;flushed&nbsp;until&nbsp;the&nbsp;Writer&nbsp;is&nbsp;closed&nbsp;or</span><br>
<span class="lineno">145</span><span class="comment" id="4902288">//&nbsp;explicitly&nbsp;flushed.</span><br>
<span class="lineno"></span><span class="keyword" id="4902311">func</span>&nbsp;<span class="op" id="4902316">(</span><span class="ident" id="4902317">z</span>&nbsp;<span class="op" id="4902319">*</span><span class="ident" id="4902320"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4902326">)</span>&nbsp;<span class="ident" id="4902328">Write</span><span class="op" id="4902333">(</span><span class="ident" id="4902334">p</span>&nbsp;<span class="op" id="4902336">[</span><span class="op" id="4902337">]</span><span class="builtintype" id="4902338">byte</span><span class="op" id="4902342">)</span>&nbsp;<span class="op" id="4902344">(</span><span class="ident" id="4902345">n</span>&nbsp;<span class="builtintype" id="4902347">int</span><span class="op" id="4902350">,</span>&nbsp;<span class="ident" id="4902352">err</span>&nbsp;<span class="builtintype" id="4902356">error</span><span class="op" id="4902361">)</span>&nbsp;<span class="op" id="4902363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902366">if</span>&nbsp;<span class="op" id="4902369">!</span><span class="ident" id="4902370"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902371">.</span><span class="ident" id="4902372">wroteHeader</span>&nbsp;<span class="op" id="4902384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902388"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902389">.</span><span class="ident" id="4902390">err</span>&nbsp;<span class="op" id="4902394">=</span>&nbsp;<span class="ident" id="4902396"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902397">.</span><span class="ident" id="4902398">writeHeader</span><span class="op" id="4902409">(</span><span class="op" id="4902410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902413">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902416">if</span>&nbsp;<span class="ident" id="4902419"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902420">.</span><span class="ident" id="4902421">err</span>&nbsp;<span class="op" id="4902425">!=</span>&nbsp;<span class="ident" id="4902428">nil</span>&nbsp;<span class="op" id="4902432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902436">return</span>&nbsp;<span class="num" id="4902443">0</span><span class="op" id="4902444">,</span>&nbsp;<span class="ident" id="4902446"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902447">.</span><span class="ident" id="4902448">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902456">if</span>&nbsp;<span class="builtinfunc" id="4902459">len</span><span class="op" id="4902462">(</span><span class="ident" id="4902463"><a href="/compress/zlib/writer.go.html#4902334">p</a></span><span class="op" id="4902464">)</span>&nbsp;<span class="op" id="4902466">==</span>&nbsp;<span class="num" id="4902469">0</span>&nbsp;<span class="op" id="4902471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902475">return</span>&nbsp;<span class="num" id="4902482">0</span><span class="op" id="4902483">,</span>&nbsp;<span class="ident" id="4902485">nil</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902493"><a href="/compress/zlib/writer.go.html#4902345">n</a></span><span class="op" id="4902494">,</span>&nbsp;<span class="ident" id="4902496"><a href="/compress/zlib/writer.go.html#4902352">err</a></span>&nbsp;<span class="op" id="4902500">=</span>&nbsp;<span class="ident" id="4902502"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902503">.</span><span class="ident" id="4902504">compressor</span><span class="op" id="4902514">.</span><span class="ident" id="4902515">Write</span><span class="op" id="4902520">(</span><span class="ident" id="4902521"><a href="/compress/zlib/writer.go.html#4902334">p</a></span><span class="op" id="4902522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902525">if</span>&nbsp;<span class="ident" id="4902528"><a href="/compress/zlib/writer.go.html#4902352">err</a></span>&nbsp;<span class="op" id="4902532">!=</span>&nbsp;<span class="ident" id="4902535">nil</span>&nbsp;<span class="op" id="4902539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902543"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902544">.</span><span class="ident" id="4902545">err</span>&nbsp;<span class="op" id="4902549">=</span>&nbsp;<span class="ident" id="4902551"><a href="/compress/zlib/writer.go.html#4902352">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902557">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902568"><a href="/compress/zlib/writer.go.html#4902317">z</a></span><span class="op" id="4902569">.</span><span class="ident" id="4902570">digest</span><span class="op" id="4902576">.</span><span class="ident" id="4902577">Write</span><span class="op" id="4902582">(</span><span class="ident" id="4902583"><a href="/compress/zlib/writer.go.html#4902334">p</a></span><span class="op" id="4902584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902587">return</span><br>
<span class="lineno"></span><span class="op" id="4902594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="4902597">//&nbsp;Flush&nbsp;flushes&nbsp;the&nbsp;Writer&nbsp;to&nbsp;its&nbsp;underlying&nbsp;io.Writer.</span><br>
<span class="lineno"></span><span class="keyword" id="4902654">func</span>&nbsp;<span class="op" id="4902659">(</span><span class="ident" id="4902660">z</span>&nbsp;<span class="op" id="4902662">*</span><span class="ident" id="4902663"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4902669">)</span>&nbsp;<span class="ident" id="4902671">Flush</span><span class="op" id="4902676">(</span><span class="op" id="4902677">)</span>&nbsp;<span class="builtintype" id="4902679">error</span>&nbsp;<span class="op" id="4902685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902688">if</span>&nbsp;<span class="op" id="4902691">!</span><span class="ident" id="4902692"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902693">.</span><span class="ident" id="4902694">wroteHeader</span>&nbsp;<span class="op" id="4902706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902710"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902711">.</span><span class="ident" id="4902712">err</span>&nbsp;<span class="op" id="4902716">=</span>&nbsp;<span class="ident" id="4902718"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902719">.</span><span class="ident" id="4902720">writeHeader</span><span class="op" id="4902731">(</span><span class="op" id="4902732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902735">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902738">if</span>&nbsp;<span class="ident" id="4902741"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902742">.</span><span class="ident" id="4902743">err</span>&nbsp;<span class="op" id="4902747">!=</span>&nbsp;<span class="ident" id="4902750">nil</span>&nbsp;<span class="op" id="4902754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902758">return</span>&nbsp;<span class="ident" id="4902765"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902766">.</span><span class="ident" id="4902767">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4902772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4902775"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902776">.</span><span class="ident" id="4902777">err</span>&nbsp;<span class="op" id="4902781">=</span>&nbsp;<span class="ident" id="4902783"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902784">.</span><span class="ident" id="4902785">compressor</span><span class="op" id="4902795">.</span><span class="ident" id="4902796">Flush</span><span class="op" id="4902801">(</span><span class="op" id="4902802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902805">return</span>&nbsp;<span class="ident" id="4902812"><a href="/compress/zlib/writer.go.html#4902660">z</a></span><span class="op" id="4902813">.</span><span class="ident" id="4902814">err</span><br>
<span class="lineno">175</span><span class="op" id="4902818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4902821">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;Writer,&nbsp;flushing&nbsp;any&nbsp;unwritten&nbsp;data&nbsp;to&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="4902895">//&nbsp;io.Writer,&nbsp;but&nbsp;does&nbsp;not&nbsp;close&nbsp;the&nbsp;underlying&nbsp;io.Writer.</span><br>
<span class="lineno"></span><span class="keyword" id="4902954">func</span>&nbsp;<span class="op" id="4902959">(</span><span class="ident" id="4902960">z</span>&nbsp;<span class="op" id="4902962">*</span><span class="ident" id="4902963"><a href="/compress/zlib/writer.go.html#4898662">Writer</a></span><span class="op" id="4902969">)</span>&nbsp;<span class="ident" id="4902971">Close</span><span class="op" id="4902976">(</span><span class="op" id="4902977">)</span>&nbsp;<span class="builtintype" id="4902979">error</span>&nbsp;<span class="op" id="4902985">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4902988">if</span>&nbsp;<span class="op" id="4902991">!</span><span class="ident" id="4902992"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4902993">.</span><span class="ident" id="4902994">wroteHeader</span>&nbsp;<span class="op" id="4903006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903010"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903011">.</span><span class="ident" id="4903012">err</span>&nbsp;<span class="op" id="4903016">=</span>&nbsp;<span class="ident" id="4903018"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903019">.</span><span class="ident" id="4903020">writeHeader</span><span class="op" id="4903031">(</span><span class="op" id="4903032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4903035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4903038">if</span>&nbsp;<span class="ident" id="4903041"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903042">.</span><span class="ident" id="4903043">err</span>&nbsp;<span class="op" id="4903047">!=</span>&nbsp;<span class="ident" id="4903050">nil</span>&nbsp;<span class="op" id="4903054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4903058">return</span>&nbsp;<span class="ident" id="4903065"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903066">.</span><span class="ident" id="4903067">err</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4903072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903075"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903076">.</span><span class="ident" id="4903077">err</span>&nbsp;<span class="op" id="4903081">=</span>&nbsp;<span class="ident" id="4903083"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903084">.</span><span class="ident" id="4903085">compressor</span><span class="op" id="4903095">.</span><span class="ident" id="4903096">Close</span><span class="op" id="4903101">(</span><span class="op" id="4903102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4903105">if</span>&nbsp;<span class="ident" id="4903108"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903109">.</span><span class="ident" id="4903110">err</span>&nbsp;<span class="op" id="4903114">!=</span>&nbsp;<span class="ident" id="4903117">nil</span>&nbsp;<span class="op" id="4903121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4903125">return</span>&nbsp;<span class="ident" id="4903132"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903133">.</span><span class="ident" id="4903134">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4903139">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903142">checksum</span>&nbsp;<span class="op" id="4903151">:=</span>&nbsp;<span class="ident" id="4903154"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903155">.</span><span class="ident" id="4903156">digest</span><span class="op" id="4903162">.</span><span class="ident" id="4903163">Sum32</span><span class="op" id="4903168">(</span><span class="op" id="4903169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4903172">//&nbsp;ZLIB&nbsp;(RFC&nbsp;1950)&nbsp;is&nbsp;big-endian,&nbsp;unlike&nbsp;GZIP&nbsp;(RFC&nbsp;1952).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903231"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903232">.</span><span class="ident" id="4903233">scratch</span><span class="op" id="4903240">[</span><span class="num" id="4903241">0</span><span class="op" id="4903242">]</span>&nbsp;<span class="op" id="4903244">=</span>&nbsp;<span class="builtintype" id="4903246">uint8</span><span class="op" id="4903251">(</span><span class="ident" id="4903252"><a href="/compress/zlib/writer.go.html#4903142">checksum</a></span>&nbsp;<span class="op" id="4903261">&gt;&gt;</span>&nbsp;<span class="num" id="4903264">24</span><span class="op" id="4903266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903269"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903270">.</span><span class="ident" id="4903271">scratch</span><span class="op" id="4903278">[</span><span class="num" id="4903279">1</span><span class="op" id="4903280">]</span>&nbsp;<span class="op" id="4903282">=</span>&nbsp;<span class="builtintype" id="4903284">uint8</span><span class="op" id="4903289">(</span><span class="ident" id="4903290"><a href="/compress/zlib/writer.go.html#4903142">checksum</a></span>&nbsp;<span class="op" id="4903299">&gt;&gt;</span>&nbsp;<span class="num" id="4903302">16</span><span class="op" id="4903304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903307"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903308">.</span><span class="ident" id="4903309">scratch</span><span class="op" id="4903316">[</span><span class="num" id="4903317">2</span><span class="op" id="4903318">]</span>&nbsp;<span class="op" id="4903320">=</span>&nbsp;<span class="builtintype" id="4903322">uint8</span><span class="op" id="4903327">(</span><span class="ident" id="4903328"><a href="/compress/zlib/writer.go.html#4903142">checksum</a></span>&nbsp;<span class="op" id="4903337">&gt;&gt;</span>&nbsp;<span class="num" id="4903340">8</span><span class="op" id="4903341">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903344"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903345">.</span><span class="ident" id="4903346">scratch</span><span class="op" id="4903353">[</span><span class="num" id="4903354">3</span><span class="op" id="4903355">]</span>&nbsp;<span class="op" id="4903357">=</span>&nbsp;<span class="builtintype" id="4903359">uint8</span><span class="op" id="4903364">(</span><span class="ident" id="4903365"><a href="/compress/zlib/writer.go.html#4903142">checksum</a></span>&nbsp;<span class="op" id="4903374">&gt;&gt;</span>&nbsp;<span class="num" id="4903377">0</span><span class="op" id="4903378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4903381">_</span><span class="op" id="4903382">,</span>&nbsp;<span class="ident" id="4903384"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903385">.</span><span class="ident" id="4903386">err</span>&nbsp;<span class="op" id="4903390">=</span>&nbsp;<span class="ident" id="4903392"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903393">.</span><span class="ident" id="4903394">w</span><span class="op" id="4903395">.</span><span class="ident" id="4903396">Write</span><span class="op" id="4903401">(</span><span class="ident" id="4903402"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903403">.</span><span class="ident" id="4903404">scratch</span><span class="op" id="4903411">[</span><span class="num" id="4903412">0</span><span class="op" id="4903413">:</span><span class="num" id="4903414">4</span><span class="op" id="4903415">]</span><span class="op" id="4903416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4903419">return</span>&nbsp;<span class="ident" id="4903426"><a href="/compress/zlib/writer.go.html#4902960">z</a></span><span class="op" id="4903427">.</span><span class="ident" id="4903428">err</span><br>
<span class="lineno"></span><span class="op" id="4903432">}</span>
</div>
</body>
</html>
