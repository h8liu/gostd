<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html" class="current">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7860634">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7860689">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7860743">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7860794">package</span>&nbsp;<span class="ident" id="7860802">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7860808">import</span>&nbsp;<span class="op" id="7860815">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860818">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7860828">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7860831">var</span>&nbsp;<span class="ident" id="7860835">ParseRangeTests</span>&nbsp;<span class="op" id="7860851">=</span>&nbsp;<span class="op" id="7860853">[</span><span class="op" id="7860854">]</span><span class="keyword" id="7860855">struct</span>&nbsp;<span class="op" id="7860862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860865">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7860872">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860880">length</span>&nbsp;<span class="ident" id="7860887">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860894">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860901">[</span><span class="op" id="7860902">]</span><span class="ident" id="7860903">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="7860913">}</span><span class="op" id="7860914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860917">{</span><span class="string" id="7860918">&#34;&#34;</span><span class="op" id="7860920">,</span>&nbsp;<span class="num" id="7860922">0</span><span class="op" id="7860923">,</span>&nbsp;<span class="builtintype" id="7860925">nil</span><span class="op" id="7860928">}</span><span class="op" id="7860929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860932">{</span><span class="string" id="7860933">&#34;&#34;</span><span class="op" id="7860935">,</span>&nbsp;<span class="num" id="7860937">1000</span><span class="op" id="7860941">,</span>&nbsp;<span class="builtintype" id="7860943">nil</span><span class="op" id="7860946">}</span><span class="op" id="7860947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860950">{</span><span class="string" id="7860951">&#34;foo&#34;</span><span class="op" id="7860956">,</span>&nbsp;<span class="num" id="7860958">0</span><span class="op" id="7860959">,</span>&nbsp;<span class="builtintype" id="7860961">nil</span><span class="op" id="7860964">}</span><span class="op" id="7860965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860968">{</span><span class="string" id="7860969">&#34;bytes=&#34;</span><span class="op" id="7860977">,</span>&nbsp;<span class="num" id="7860979">0</span><span class="op" id="7860980">,</span>&nbsp;<span class="builtintype" id="7860982">nil</span><span class="op" id="7860985">}</span><span class="op" id="7860986">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860989">{</span><span class="string" id="7860990">&#34;bytes=7&#34;</span><span class="op" id="7860999">,</span>&nbsp;<span class="num" id="7861001">10</span><span class="op" id="7861003">,</span>&nbsp;<span class="builtintype" id="7861005">nil</span><span class="op" id="7861008">}</span><span class="op" id="7861009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861012">{</span><span class="string" id="7861013">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7861024">,</span>&nbsp;<span class="num" id="7861026">10</span><span class="op" id="7861028">,</span>&nbsp;<span class="builtintype" id="7861030">nil</span><span class="op" id="7861033">}</span><span class="op" id="7861034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861037">{</span><span class="string" id="7861038">&#34;bytes=1-&#34;</span><span class="op" id="7861048">,</span>&nbsp;<span class="num" id="7861050">0</span><span class="op" id="7861051">,</span>&nbsp;<span class="builtintype" id="7861053">nil</span><span class="op" id="7861056">}</span><span class="op" id="7861057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861060">{</span><span class="string" id="7861061">&#34;bytes=5-4&#34;</span><span class="op" id="7861072">,</span>&nbsp;<span class="num" id="7861074">10</span><span class="op" id="7861076">,</span>&nbsp;<span class="builtintype" id="7861078">nil</span><span class="op" id="7861081">}</span><span class="op" id="7861082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861085">{</span><span class="string" id="7861086">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7861101">,</span>&nbsp;<span class="num" id="7861103">10</span><span class="op" id="7861105">,</span>&nbsp;<span class="builtintype" id="7861107">nil</span><span class="op" id="7861110">}</span><span class="op" id="7861111">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861114">{</span><span class="string" id="7861115">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7861130">,</span>&nbsp;<span class="num" id="7861132">10</span><span class="op" id="7861134">,</span>&nbsp;<span class="builtintype" id="7861136">nil</span><span class="op" id="7861139">}</span><span class="op" id="7861140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861143">{</span><span class="string" id="7861144">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7861160">,</span>&nbsp;<span class="num" id="7861162">10</span><span class="op" id="7861164">,</span>&nbsp;<span class="builtintype" id="7861166">nil</span><span class="op" id="7861169">}</span><span class="op" id="7861170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861173">{</span><span class="string" id="7861174">&#34;bytes=A-&#34;</span><span class="op" id="7861184">,</span>&nbsp;<span class="num" id="7861186">10</span><span class="op" id="7861188">,</span>&nbsp;<span class="builtintype" id="7861190">nil</span><span class="op" id="7861193">}</span><span class="op" id="7861194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861197">{</span><span class="string" id="7861198">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7861209">,</span>&nbsp;<span class="num" id="7861211">10</span><span class="op" id="7861213">,</span>&nbsp;<span class="builtintype" id="7861215">nil</span><span class="op" id="7861218">}</span><span class="op" id="7861219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861222">{</span><span class="string" id="7861223">&#34;bytes=A-Z&#34;</span><span class="op" id="7861234">,</span>&nbsp;<span class="num" id="7861236">10</span><span class="op" id="7861238">,</span>&nbsp;<span class="builtintype" id="7861240">nil</span><span class="op" id="7861243">}</span><span class="op" id="7861244">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861247">{</span><span class="string" id="7861248">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7861259">,</span>&nbsp;<span class="num" id="7861261">10</span><span class="op" id="7861263">,</span>&nbsp;<span class="builtintype" id="7861265">nil</span><span class="op" id="7861268">}</span><span class="op" id="7861269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861272">{</span><span class="string" id="7861273">&#34;bytes=5-Z&#34;</span><span class="op" id="7861284">,</span>&nbsp;<span class="num" id="7861286">10</span><span class="op" id="7861288">,</span>&nbsp;<span class="builtintype" id="7861290">nil</span><span class="op" id="7861293">}</span><span class="op" id="7861294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861297">{</span><span class="string" id="7861298">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7861322">,</span>&nbsp;<span class="num" id="7861324">10</span><span class="op" id="7861326">,</span>&nbsp;<span class="builtintype" id="7861328">nil</span><span class="op" id="7861331">}</span><span class="op" id="7861332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861335">{</span><span class="string" id="7861336">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7861353">,</span>&nbsp;<span class="num" id="7861355">10</span><span class="op" id="7861357">,</span>&nbsp;<span class="builtintype" id="7861359">nil</span><span class="op" id="7861362">}</span><span class="op" id="7861363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861366">{</span><span class="string" id="7861367">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7861384">,</span>&nbsp;<span class="num" id="7861386">10</span><span class="op" id="7861388">,</span>&nbsp;<span class="builtintype" id="7861390">nil</span><span class="op" id="7861393">}</span><span class="op" id="7861394">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861397">{</span><span class="string" id="7861398">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7861415">,</span>&nbsp;<span class="num" id="7861417">10</span><span class="op" id="7861419">,</span>&nbsp;<span class="builtintype" id="7861421">nil</span><span class="op" id="7861424">}</span><span class="op" id="7861425">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861429">{</span><span class="string" id="7861430">&#34;bytes=0-9&#34;</span><span class="op" id="7861441">,</span>&nbsp;<span class="num" id="7861443">10</span><span class="op" id="7861445">,</span>&nbsp;<span class="op" id="7861447">[</span><span class="op" id="7861448">]</span><span class="ident" id="7861449">httpRange</span><span class="op" id="7861458">{</span><span class="op" id="7861459">{</span><span class="num" id="7861460">0</span><span class="op" id="7861461">,</span>&nbsp;<span class="num" id="7861463">10</span><span class="op" id="7861465">}</span><span class="op" id="7861466">}</span><span class="op" id="7861467">}</span><span class="op" id="7861468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861471">{</span><span class="string" id="7861472">&#34;bytes=0-&#34;</span><span class="op" id="7861482">,</span>&nbsp;<span class="num" id="7861484">10</span><span class="op" id="7861486">,</span>&nbsp;<span class="op" id="7861488">[</span><span class="op" id="7861489">]</span><span class="ident" id="7861490">httpRange</span><span class="op" id="7861499">{</span><span class="op" id="7861500">{</span><span class="num" id="7861501">0</span><span class="op" id="7861502">,</span>&nbsp;<span class="num" id="7861504">10</span><span class="op" id="7861506">}</span><span class="op" id="7861507">}</span><span class="op" id="7861508">}</span><span class="op" id="7861509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861512">{</span><span class="string" id="7861513">&#34;bytes=5-&#34;</span><span class="op" id="7861523">,</span>&nbsp;<span class="num" id="7861525">10</span><span class="op" id="7861527">,</span>&nbsp;<span class="op" id="7861529">[</span><span class="op" id="7861530">]</span><span class="ident" id="7861531">httpRange</span><span class="op" id="7861540">{</span><span class="op" id="7861541">{</span><span class="num" id="7861542">5</span><span class="op" id="7861543">,</span>&nbsp;<span class="num" id="7861545">5</span><span class="op" id="7861546">}</span><span class="op" id="7861547">}</span><span class="op" id="7861548">}</span><span class="op" id="7861549">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861552">{</span><span class="string" id="7861553">&#34;bytes=0-20&#34;</span><span class="op" id="7861565">,</span>&nbsp;<span class="num" id="7861567">10</span><span class="op" id="7861569">,</span>&nbsp;<span class="op" id="7861571">[</span><span class="op" id="7861572">]</span><span class="ident" id="7861573">httpRange</span><span class="op" id="7861582">{</span><span class="op" id="7861583">{</span><span class="num" id="7861584">0</span><span class="op" id="7861585">,</span>&nbsp;<span class="num" id="7861587">10</span><span class="op" id="7861589">}</span><span class="op" id="7861590">}</span><span class="op" id="7861591">}</span><span class="op" id="7861592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861595">{</span><span class="string" id="7861596">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7861611">,</span>&nbsp;<span class="num" id="7861613">10</span><span class="op" id="7861615">,</span>&nbsp;<span class="builtintype" id="7861617">nil</span><span class="op" id="7861620">}</span><span class="op" id="7861621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861624">{</span><span class="string" id="7861625">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7861639">,</span>&nbsp;<span class="num" id="7861641">10</span><span class="op" id="7861643">,</span>&nbsp;<span class="op" id="7861645">[</span><span class="op" id="7861646">]</span><span class="ident" id="7861647">httpRange</span><span class="op" id="7861656">{</span><span class="op" id="7861657">{</span><span class="num" id="7861658">1</span><span class="op" id="7861659">,</span>&nbsp;<span class="num" id="7861661">2</span><span class="op" id="7861662">}</span><span class="op" id="7861663">,</span>&nbsp;<span class="op" id="7861665">{</span><span class="num" id="7861666">5</span><span class="op" id="7861667">,</span>&nbsp;<span class="num" id="7861669">5</span><span class="op" id="7861670">}</span><span class="op" id="7861671">}</span><span class="op" id="7861672">}</span><span class="op" id="7861673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861676">{</span><span class="string" id="7861677">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7861692">,</span>&nbsp;<span class="num" id="7861694">11</span><span class="op" id="7861696">,</span>&nbsp;<span class="op" id="7861698">[</span><span class="op" id="7861699">]</span><span class="ident" id="7861700">httpRange</span><span class="op" id="7861709">{</span><span class="op" id="7861710">{</span><span class="num" id="7861711">9</span><span class="op" id="7861712">,</span>&nbsp;<span class="num" id="7861714">2</span><span class="op" id="7861715">}</span><span class="op" id="7861716">,</span>&nbsp;<span class="op" id="7861718">{</span><span class="num" id="7861719">7</span><span class="op" id="7861720">,</span>&nbsp;<span class="num" id="7861722">4</span><span class="op" id="7861723">}</span><span class="op" id="7861724">}</span><span class="op" id="7861725">}</span><span class="op" id="7861726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861729">{</span><span class="string" id="7861730">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7861750">,</span>&nbsp;<span class="num" id="7861752">11</span><span class="op" id="7861754">,</span>&nbsp;<span class="op" id="7861756">[</span><span class="op" id="7861757">]</span><span class="ident" id="7861758">httpRange</span><span class="op" id="7861767">{</span><span class="op" id="7861768">{</span><span class="num" id="7861769">0</span><span class="op" id="7861770">,</span>&nbsp;<span class="num" id="7861772">1</span><span class="op" id="7861773">}</span><span class="op" id="7861774">,</span>&nbsp;<span class="op" id="7861776">{</span><span class="num" id="7861777">2</span><span class="op" id="7861778">,</span>&nbsp;<span class="num" id="7861780">1</span><span class="op" id="7861781">}</span><span class="op" id="7861782">,</span>&nbsp;<span class="op" id="7861784">{</span><span class="num" id="7861785">7</span><span class="op" id="7861786">,</span>&nbsp;<span class="num" id="7861788">4</span><span class="op" id="7861789">}</span><span class="op" id="7861790">}</span><span class="op" id="7861791">}</span><span class="op" id="7861792">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861795">{</span><span class="string" id="7861796">&#34;bytes=-5&#34;</span><span class="op" id="7861806">,</span>&nbsp;<span class="num" id="7861808">10</span><span class="op" id="7861810">,</span>&nbsp;<span class="op" id="7861812">[</span><span class="op" id="7861813">]</span><span class="ident" id="7861814">httpRange</span><span class="op" id="7861823">{</span><span class="op" id="7861824">{</span><span class="num" id="7861825">5</span><span class="op" id="7861826">,</span>&nbsp;<span class="num" id="7861828">5</span><span class="op" id="7861829">}</span><span class="op" id="7861830">}</span><span class="op" id="7861831">}</span><span class="op" id="7861832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861835">{</span><span class="string" id="7861836">&#34;bytes=-15&#34;</span><span class="op" id="7861847">,</span>&nbsp;<span class="num" id="7861849">10</span><span class="op" id="7861851">,</span>&nbsp;<span class="op" id="7861853">[</span><span class="op" id="7861854">]</span><span class="ident" id="7861855">httpRange</span><span class="op" id="7861864">{</span><span class="op" id="7861865">{</span><span class="num" id="7861866">0</span><span class="op" id="7861867">,</span>&nbsp;<span class="num" id="7861869">10</span><span class="op" id="7861871">}</span><span class="op" id="7861872">}</span><span class="op" id="7861873">}</span><span class="op" id="7861874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861877">{</span><span class="string" id="7861878">&#34;bytes=0-499&#34;</span><span class="op" id="7861891">,</span>&nbsp;<span class="num" id="7861893">10000</span><span class="op" id="7861898">,</span>&nbsp;<span class="op" id="7861900">[</span><span class="op" id="7861901">]</span><span class="ident" id="7861902">httpRange</span><span class="op" id="7861911">{</span><span class="op" id="7861912">{</span><span class="num" id="7861913">0</span><span class="op" id="7861914">,</span>&nbsp;<span class="num" id="7861916">500</span><span class="op" id="7861919">}</span><span class="op" id="7861920">}</span><span class="op" id="7861921">}</span><span class="op" id="7861922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861925">{</span><span class="string" id="7861926">&#34;bytes=500-999&#34;</span><span class="op" id="7861941">,</span>&nbsp;<span class="num" id="7861943">10000</span><span class="op" id="7861948">,</span>&nbsp;<span class="op" id="7861950">[</span><span class="op" id="7861951">]</span><span class="ident" id="7861952">httpRange</span><span class="op" id="7861961">{</span><span class="op" id="7861962">{</span><span class="num" id="7861963">500</span><span class="op" id="7861966">,</span>&nbsp;<span class="num" id="7861968">500</span><span class="op" id="7861971">}</span><span class="op" id="7861972">}</span><span class="op" id="7861973">}</span><span class="op" id="7861974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861977">{</span><span class="string" id="7861978">&#34;bytes=-500&#34;</span><span class="op" id="7861990">,</span>&nbsp;<span class="num" id="7861992">10000</span><span class="op" id="7861997">,</span>&nbsp;<span class="op" id="7861999">[</span><span class="op" id="7862000">]</span><span class="ident" id="7862001">httpRange</span><span class="op" id="7862010">{</span><span class="op" id="7862011">{</span><span class="num" id="7862012">9500</span><span class="op" id="7862016">,</span>&nbsp;<span class="num" id="7862018">500</span><span class="op" id="7862021">}</span><span class="op" id="7862022">}</span><span class="op" id="7862023">}</span><span class="op" id="7862024">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862027">{</span><span class="string" id="7862028">&#34;bytes=9500-&#34;</span><span class="op" id="7862041">,</span>&nbsp;<span class="num" id="7862043">10000</span><span class="op" id="7862048">,</span>&nbsp;<span class="op" id="7862050">[</span><span class="op" id="7862051">]</span><span class="ident" id="7862052">httpRange</span><span class="op" id="7862061">{</span><span class="op" id="7862062">{</span><span class="num" id="7862063">9500</span><span class="op" id="7862067">,</span>&nbsp;<span class="num" id="7862069">500</span><span class="op" id="7862072">}</span><span class="op" id="7862073">}</span><span class="op" id="7862074">}</span><span class="op" id="7862075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862078">{</span><span class="string" id="7862079">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7862093">,</span>&nbsp;<span class="num" id="7862095">10000</span><span class="op" id="7862100">,</span>&nbsp;<span class="op" id="7862102">[</span><span class="op" id="7862103">]</span><span class="ident" id="7862104">httpRange</span><span class="op" id="7862113">{</span><span class="op" id="7862114">{</span><span class="num" id="7862115">0</span><span class="op" id="7862116">,</span>&nbsp;<span class="num" id="7862118">1</span><span class="op" id="7862119">}</span><span class="op" id="7862120">,</span>&nbsp;<span class="op" id="7862122">{</span><span class="num" id="7862123">9999</span><span class="op" id="7862127">,</span>&nbsp;<span class="num" id="7862129">1</span><span class="op" id="7862130">}</span><span class="op" id="7862131">}</span><span class="op" id="7862132">}</span><span class="op" id="7862133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862136">{</span><span class="string" id="7862137">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7862160">,</span>&nbsp;<span class="num" id="7862162">10000</span><span class="op" id="7862167">,</span>&nbsp;<span class="op" id="7862169">[</span><span class="op" id="7862170">]</span><span class="ident" id="7862171">httpRange</span><span class="op" id="7862180">{</span><span class="op" id="7862181">{</span><span class="num" id="7862182">500</span><span class="op" id="7862185">,</span>&nbsp;<span class="num" id="7862187">101</span><span class="op" id="7862190">}</span><span class="op" id="7862191">,</span>&nbsp;<span class="op" id="7862193">{</span><span class="num" id="7862194">601</span><span class="op" id="7862197">,</span>&nbsp;<span class="num" id="7862199">399</span><span class="op" id="7862202">}</span><span class="op" id="7862203">}</span><span class="op" id="7862204">}</span><span class="op" id="7862205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862208">{</span><span class="string" id="7862209">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7862232">,</span>&nbsp;<span class="num" id="7862234">10000</span><span class="op" id="7862239">,</span>&nbsp;<span class="op" id="7862241">[</span><span class="op" id="7862242">]</span><span class="ident" id="7862243">httpRange</span><span class="op" id="7862252">{</span><span class="op" id="7862253">{</span><span class="num" id="7862254">500</span><span class="op" id="7862257">,</span>&nbsp;<span class="num" id="7862259">201</span><span class="op" id="7862262">}</span><span class="op" id="7862263">,</span>&nbsp;<span class="op" id="7862265">{</span><span class="num" id="7862266">601</span><span class="op" id="7862269">,</span>&nbsp;<span class="num" id="7862271">399</span><span class="op" id="7862274">}</span><span class="op" id="7862275">}</span><span class="op" id="7862276">}</span><span class="op" id="7862277">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7862281">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862306">{</span><span class="string" id="7862307">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7862344">,</span>&nbsp;<span class="num" id="7862346">11</span><span class="op" id="7862348">,</span>&nbsp;<span class="op" id="7862350">[</span><span class="op" id="7862351">]</span><span class="ident" id="7862352">httpRange</span><span class="op" id="7862361">{</span><span class="op" id="7862362">{</span><span class="num" id="7862363">1</span><span class="op" id="7862364">,</span>&nbsp;<span class="num" id="7862366">2</span><span class="op" id="7862367">}</span><span class="op" id="7862368">,</span>&nbsp;<span class="op" id="7862370">{</span><span class="num" id="7862371">4</span><span class="op" id="7862372">,</span>&nbsp;<span class="num" id="7862374">2</span><span class="op" id="7862375">}</span><span class="op" id="7862376">,</span>&nbsp;<span class="op" id="7862378">{</span><span class="num" id="7862379">7</span><span class="op" id="7862380">,</span>&nbsp;<span class="num" id="7862382">2</span><span class="op" id="7862383">}</span><span class="op" id="7862384">}</span><span class="op" id="7862385">}</span><span class="op" id="7862386">,</span><br>
<span class="lineno"></span><span class="op" id="7862388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7862391">func</span>&nbsp;<span class="ident" id="7862396">TestParseRange</span><span class="op" id="7862410">(</span><span class="ident" id="7862411">t</span>&nbsp;<span class="op" id="7862413">*</span><span class="ident" id="7862414">testing</span><span class="op" id="7862421">.</span><span class="ident" id="7862422">T</span><span class="op" id="7862423">)</span>&nbsp;<span class="op" id="7862425">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862428">for</span>&nbsp;<span class="ident" id="7862432">_</span><span class="op" id="7862433">,</span>&nbsp;<span class="ident" id="7862435">test</span>&nbsp;<span class="op" id="7862440">:=</span>&nbsp;<span class="keyword" id="7862443">range</span>&nbsp;<span class="ident" id="7862449">ParseRangeTests</span>&nbsp;<span class="op" id="7862465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862469">r</span>&nbsp;<span class="op" id="7862471">:=</span>&nbsp;<span class="ident" id="7862474">test</span><span class="op" id="7862478">.</span><span class="ident" id="7862479">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862483">ranges</span><span class="op" id="7862489">,</span>&nbsp;<span class="ident" id="7862491">err</span>&nbsp;<span class="op" id="7862495">:=</span>&nbsp;<span class="ident" id="7862498">parseRange</span><span class="op" id="7862508">(</span><span class="ident" id="7862509">test</span><span class="op" id="7862513">.</span><span class="ident" id="7862514">s</span><span class="op" id="7862515">,</span>&nbsp;<span class="ident" id="7862517">test</span><span class="op" id="7862521">.</span><span class="ident" id="7862522">length</span><span class="op" id="7862528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862532">if</span>&nbsp;<span class="ident" id="7862535">err</span>&nbsp;<span class="op" id="7862539">!=</span>&nbsp;<span class="builtintype" id="7862542">nil</span>&nbsp;<span class="op" id="7862546">&amp;&amp;</span>&nbsp;<span class="ident" id="7862549">r</span>&nbsp;<span class="op" id="7862551">!=</span>&nbsp;<span class="builtintype" id="7862554">nil</span>&nbsp;<span class="op" id="7862558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862563">t</span><span class="op" id="7862564">.</span><span class="ident" id="7862565">Errorf</span><span class="op" id="7862571">(</span><span class="string" id="7862572">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7862606">,</span>&nbsp;<span class="ident" id="7862608">test</span><span class="op" id="7862612">.</span><span class="ident" id="7862613">s</span><span class="op" id="7862614">,</span>&nbsp;<span class="ident" id="7862616">err</span><span class="op" id="7862619">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862627">if</span>&nbsp;<span class="builtinfunc" id="7862630">len</span><span class="op" id="7862633">(</span><span class="ident" id="7862634">ranges</span><span class="op" id="7862640">)</span>&nbsp;<span class="op" id="7862642">!=</span>&nbsp;<span class="builtinfunc" id="7862645">len</span><span class="op" id="7862648">(</span><span class="ident" id="7862649">r</span><span class="op" id="7862650">)</span>&nbsp;<span class="op" id="7862652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862657">t</span><span class="op" id="7862658">.</span><span class="ident" id="7862659">Errorf</span><span class="op" id="7862665">(</span><span class="string" id="7862666">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7862701">,</span>&nbsp;<span class="ident" id="7862703">test</span><span class="op" id="7862707">.</span><span class="ident" id="7862708">s</span><span class="op" id="7862709">,</span>&nbsp;<span class="builtinfunc" id="7862711">len</span><span class="op" id="7862714">(</span><span class="ident" id="7862715">ranges</span><span class="op" id="7862721">)</span><span class="op" id="7862722">,</span>&nbsp;<span class="builtinfunc" id="7862724">len</span><span class="op" id="7862727">(</span><span class="ident" id="7862728">r</span><span class="op" id="7862729">)</span><span class="op" id="7862730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862735">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862746">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862750">for</span>&nbsp;<span class="ident" id="7862754">i</span>&nbsp;<span class="op" id="7862756">:=</span>&nbsp;<span class="keyword" id="7862759">range</span>&nbsp;<span class="ident" id="7862765">r</span>&nbsp;<span class="op" id="7862767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862772">if</span>&nbsp;<span class="ident" id="7862775">ranges</span><span class="op" id="7862781">[</span><span class="ident" id="7862782">i</span><span class="op" id="7862783">]</span><span class="op" id="7862784">.</span><span class="ident" id="7862785">start</span>&nbsp;<span class="op" id="7862791">!=</span>&nbsp;<span class="ident" id="7862794">r</span><span class="op" id="7862795">[</span><span class="ident" id="7862796">i</span><span class="op" id="7862797">]</span><span class="op" id="7862798">.</span><span class="ident" id="7862799">start</span>&nbsp;<span class="op" id="7862805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862811">t</span><span class="op" id="7862812">.</span><span class="ident" id="7862813">Errorf</span><span class="op" id="7862819">(</span><span class="string" id="7862820">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7862860">,</span>&nbsp;<span class="ident" id="7862862">test</span><span class="op" id="7862866">.</span><span class="ident" id="7862867">s</span><span class="op" id="7862868">,</span>&nbsp;<span class="ident" id="7862870">i</span><span class="op" id="7862871">,</span>&nbsp;<span class="ident" id="7862873">ranges</span><span class="op" id="7862879">[</span><span class="ident" id="7862880">i</span><span class="op" id="7862881">]</span><span class="op" id="7862882">.</span><span class="ident" id="7862883">start</span><span class="op" id="7862888">,</span>&nbsp;<span class="ident" id="7862890">r</span><span class="op" id="7862891">[</span><span class="ident" id="7862892">i</span><span class="op" id="7862893">]</span><span class="op" id="7862894">.</span><span class="ident" id="7862895">start</span><span class="op" id="7862900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862910">if</span>&nbsp;<span class="ident" id="7862913">ranges</span><span class="op" id="7862919">[</span><span class="ident" id="7862920">i</span><span class="op" id="7862921">]</span><span class="op" id="7862922">.</span><span class="ident" id="7862923">length</span>&nbsp;<span class="op" id="7862930">!=</span>&nbsp;<span class="ident" id="7862933">r</span><span class="op" id="7862934">[</span><span class="ident" id="7862935">i</span><span class="op" id="7862936">]</span><span class="op" id="7862937">.</span><span class="ident" id="7862938">length</span>&nbsp;<span class="op" id="7862945">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862951">t</span><span class="op" id="7862952">.</span><span class="ident" id="7862953">Errorf</span><span class="op" id="7862959">(</span><span class="string" id="7862960">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7863001">,</span>&nbsp;<span class="ident" id="7863003">test</span><span class="op" id="7863007">.</span><span class="ident" id="7863008">s</span><span class="op" id="7863009">,</span>&nbsp;<span class="ident" id="7863011">i</span><span class="op" id="7863012">,</span>&nbsp;<span class="ident" id="7863014">ranges</span><span class="op" id="7863020">[</span><span class="ident" id="7863021">i</span><span class="op" id="7863022">]</span><span class="op" id="7863023">.</span><span class="ident" id="7863024">length</span><span class="op" id="7863030">,</span>&nbsp;<span class="ident" id="7863032">r</span><span class="op" id="7863033">[</span><span class="ident" id="7863034">i</span><span class="op" id="7863035">]</span><span class="op" id="7863036">.</span><span class="ident" id="7863037">length</span><span class="op" id="7863043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863055">}</span><br>
<span class="lineno"></span><span class="op" id="7863057">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
