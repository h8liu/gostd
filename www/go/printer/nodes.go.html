<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5281693">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5281748">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5281802">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5281853">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;printing&nbsp;of&nbsp;AST&nbsp;nodes;&nbsp;specifically</span><br>
<span class="lineno"></span><span class="comment" id="5281913">//&nbsp;expressions,&nbsp;statements,&nbsp;declarations,&nbsp;and&nbsp;files.&nbsp;It&nbsp;uses</span><br>
<span class="lineno"></span><span class="comment" id="5281974">//&nbsp;the&nbsp;print&nbsp;functionality&nbsp;implemented&nbsp;in&nbsp;printer.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5282029">package</span>&nbsp;<span class="ident" id="5282037">printer</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5282046">import</span>&nbsp;<span class="op" id="5282053">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5282056">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5282065">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5282075">&#34;go/token&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5282087">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5282102">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5282105">//&nbsp;Formatting&nbsp;issues:</span><br>
<span class="lineno"></span><span class="comment" id="5282127">//&nbsp;-&nbsp;better&nbsp;comment&nbsp;formatting&nbsp;for&nbsp;/*-style&nbsp;comments&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;(e.g.&nbsp;a&nbsp;declaration)</span><br>
<span class="lineno">20</span><span class="comment" id="5282222">//&nbsp;&nbsp;&nbsp;when&nbsp;the&nbsp;comment&nbsp;spans&nbsp;multiple&nbsp;lines;&nbsp;if&nbsp;such&nbsp;a&nbsp;comment&nbsp;is&nbsp;just&nbsp;two&nbsp;lines,&nbsp;formatting&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5282317">//&nbsp;&nbsp;&nbsp;not&nbsp;idempotent</span><br>
<span class="lineno"></span><span class="comment" id="5282337">//&nbsp;-&nbsp;formatting&nbsp;of&nbsp;expression&nbsp;lists</span><br>
<span class="lineno"></span><span class="comment" id="5282373">//&nbsp;-&nbsp;should&nbsp;use&nbsp;blank&nbsp;instead&nbsp;of&nbsp;tab&nbsp;to&nbsp;separate&nbsp;one-line&nbsp;function&nbsp;bodies&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="5282452">//&nbsp;&nbsp;&nbsp;the&nbsp;function&nbsp;header&nbsp;unless&nbsp;there&nbsp;is&nbsp;a&nbsp;group&nbsp;of&nbsp;consecutive&nbsp;one-liners</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="5282528">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5282608">//&nbsp;Common&nbsp;AST&nbsp;nodes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5282630">//&nbsp;Print&nbsp;as&nbsp;many&nbsp;newlines&nbsp;as&nbsp;necessary&nbsp;(but&nbsp;at&nbsp;least&nbsp;min&nbsp;newlines)&nbsp;to&nbsp;get&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="5282707">//&nbsp;the&nbsp;current&nbsp;line.&nbsp;ws&nbsp;is&nbsp;printed&nbsp;before&nbsp;the&nbsp;first&nbsp;line&nbsp;break.&nbsp;If&nbsp;newSection</span><br>
<span class="lineno"></span><span class="comment" id="5282785">//&nbsp;is&nbsp;set,&nbsp;the&nbsp;first&nbsp;line&nbsp;break&nbsp;is&nbsp;printed&nbsp;as&nbsp;formfeed.&nbsp;Returns&nbsp;true&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="5282861">//&nbsp;line&nbsp;break&nbsp;was&nbsp;printed;&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="5282913">//</span><br>
<span class="lineno"></span><span class="comment" id="5282916">//&nbsp;TODO(gri):&nbsp;linebreak&nbsp;may&nbsp;add&nbsp;too&nbsp;many&nbsp;lines&nbsp;if&nbsp;the&nbsp;next&nbsp;statement&nbsp;at&nbsp;&#34;line&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="5282995">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;preceded&nbsp;by&nbsp;comments&nbsp;because&nbsp;the&nbsp;computation&nbsp;of&nbsp;n&nbsp;assumes</span><br>
<span class="lineno"></span><span class="comment" id="5283070">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;position&nbsp;before&nbsp;the&nbsp;comment&nbsp;and&nbsp;the&nbsp;target&nbsp;position</span><br>
<span class="lineno"></span><span class="comment" id="5283148">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after&nbsp;the&nbsp;comment.&nbsp;Thus,&nbsp;after&nbsp;interspersing&nbsp;such&nbsp;comments,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5283226">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space&nbsp;taken&nbsp;up&nbsp;by&nbsp;them&nbsp;is&nbsp;not&nbsp;considered&nbsp;to&nbsp;reduce&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5283305">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linebreaks.&nbsp;At&nbsp;the&nbsp;moment&nbsp;there&nbsp;is&nbsp;no&nbsp;easy&nbsp;way&nbsp;to&nbsp;know&nbsp;about</span><br>
<span class="lineno">40</span><span class="comment" id="5283380">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;(not&nbsp;yet&nbsp;interspersed)&nbsp;comments&nbsp;in&nbsp;this&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="5283451">//</span><br>
<span class="lineno"></span><span class="keyword" id="5283454">func</span>&nbsp;<span class="op" id="5283459">(</span><span class="ident" id="5283460">p</span>&nbsp;<span class="op" id="5283462">*</span><span class="ident" id="5283463"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5283470">)</span>&nbsp;<span class="ident" id="5283472">linebreak</span><span class="op" id="5283481">(</span><span class="ident" id="5283482">line</span><span class="op" id="5283486">,</span>&nbsp;<span class="ident" id="5283488">min</span>&nbsp;<span class="builtintype" id="5283492">int</span><span class="op" id="5283495">,</span>&nbsp;<span class="ident" id="5283497">ws</span>&nbsp;<span class="ident" id="5283500"><a href="/go/printer/printer.go.html#5324865">whiteSpace</a></span><span class="op" id="5283510">,</span>&nbsp;<span class="ident" id="5283512">newSection</span>&nbsp;<span class="builtintype" id="5283523">bool</span><span class="op" id="5283527">)</span>&nbsp;<span class="op" id="5283529">(</span><span class="ident" id="5283530">printedBreak</span>&nbsp;<span class="builtintype" id="5283543">bool</span><span class="op" id="5283547">)</span>&nbsp;<span class="op" id="5283549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283552">n</span>&nbsp;<span class="op" id="5283554">:=</span>&nbsp;<span class="ident" id="5283557"><a href="/go/printer/printer.go.html#5348776">nlimit</a></span><span class="op" id="5283563">(</span><span class="ident" id="5283564"><a href="/go/printer/nodes.go.html#5283482">line</a></span>&nbsp;<span class="op" id="5283569">-</span>&nbsp;<span class="ident" id="5283571"><a href="/go/printer/nodes.go.html#5283460">p</a></span><span class="op" id="5283572">.</span><span class="ident" id="5283573">pos</span><span class="op" id="5283576">.</span><span class="ident" id="5283577">Line</span><span class="op" id="5283581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5283584">if</span>&nbsp;<span class="ident" id="5283587"><a href="/go/printer/nodes.go.html#5283552">n</a></span>&nbsp;<span class="op" id="5283589">&lt;</span>&nbsp;<span class="ident" id="5283591"><a href="/go/printer/nodes.go.html#5283488">min</a></span>&nbsp;<span class="op" id="5283595">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283599"><a href="/go/printer/nodes.go.html#5283552">n</a></span>&nbsp;<span class="op" id="5283601">=</span>&nbsp;<span class="ident" id="5283603"><a href="/go/printer/nodes.go.html#5283488">min</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5283608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5283611">if</span>&nbsp;<span class="ident" id="5283614"><a href="/go/printer/nodes.go.html#5283552">n</a></span>&nbsp;<span class="op" id="5283616">&gt;</span>&nbsp;<span class="num" id="5283618">0</span>&nbsp;<span class="op" id="5283620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283624"><a href="/go/printer/nodes.go.html#5283460">p</a></span><span class="op" id="5283625">.</span><span class="builtinfunc" id="5283626">print</span><span class="op" id="5283631">(</span><span class="ident" id="5283632"><a href="/go/printer/nodes.go.html#5283497">ws</a></span><span class="op" id="5283634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5283638">if</span>&nbsp;<span class="ident" id="5283641"><a href="/go/printer/nodes.go.html#5283512">newSection</a></span>&nbsp;<span class="op" id="5283652">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283657"><a href="/go/printer/nodes.go.html#5283460">p</a></span><span class="op" id="5283658">.</span><span class="builtinfunc" id="5283659">print</span><span class="op" id="5283664">(</span><span class="ident" id="5283665"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5283673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283678"><a href="/go/printer/nodes.go.html#5283552">n</a></span><span class="op" id="5283679">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5283684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5283688">for</span>&nbsp;<span class="op" id="5283692">;</span>&nbsp;<span class="ident" id="5283694"><a href="/go/printer/nodes.go.html#5283552">n</a></span>&nbsp;<span class="op" id="5283696">&gt;</span>&nbsp;<span class="num" id="5283698">0</span><span class="op" id="5283699">;</span>&nbsp;<span class="ident" id="5283701"><a href="/go/printer/nodes.go.html#5283552">n</a></span><span class="op" id="5283702">--</span>&nbsp;<span class="op" id="5283705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283710"><a href="/go/printer/nodes.go.html#5283460">p</a></span><span class="op" id="5283711">.</span><span class="builtinfunc" id="5283712">print</span><span class="op" id="5283717">(</span><span class="ident" id="5283718"><a href="/go/printer/printer.go.html#5324974">newline</a></span><span class="op" id="5283725">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5283729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5283733"><a href="/go/printer/nodes.go.html#5283530">printedBreak</a></span>&nbsp;<span class="op" id="5283746">=</span>&nbsp;<span class="builtintype" id="5283748">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5283754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5283757">return</span><br>
<span class="lineno"></span><span class="op" id="5283764">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5283767">//&nbsp;setComment&nbsp;sets&nbsp;g&nbsp;as&nbsp;the&nbsp;next&nbsp;comment&nbsp;if&nbsp;g&nbsp;!=&nbsp;nil&nbsp;and&nbsp;if&nbsp;node&nbsp;comments</span><br>
<span class="lineno"></span><span class="comment" id="5283841">//&nbsp;are&nbsp;enabled&nbsp;-&nbsp;this&nbsp;mode&nbsp;is&nbsp;used&nbsp;when&nbsp;printing&nbsp;source&nbsp;code&nbsp;fragments&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="5283917">//&nbsp;as&nbsp;exports&nbsp;only.&nbsp;It&nbsp;assumes&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;pending&nbsp;comment&nbsp;in&nbsp;p.comments</span><br>
<span class="lineno"></span><span class="comment" id="5283995">//&nbsp;and&nbsp;at&nbsp;most&nbsp;one&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache.</span><br>
<span class="lineno">65</span><span class="keyword" id="5284054">func</span>&nbsp;<span class="op" id="5284059">(</span><span class="ident" id="5284060">p</span>&nbsp;<span class="op" id="5284062">*</span><span class="ident" id="5284063"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5284070">)</span>&nbsp;<span class="ident" id="5284072">setComment</span><span class="op" id="5284082">(</span><span class="ident" id="5284083">g</span>&nbsp;<span class="op" id="5284085">*</span><span class="ident" id="5284086"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5284089">.</span><span class="ident" id="5284090">CommentGroup</span><span class="op" id="5284102">)</span>&nbsp;<span class="op" id="5284104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5284107">if</span>&nbsp;<span class="ident" id="5284110"><a href="/go/printer/nodes.go.html#5284083">g</a></span>&nbsp;<span class="op" id="5284112">==</span>&nbsp;<span class="ident" id="5284115">nil</span>&nbsp;<span class="op" id="5284119">||</span>&nbsp;<span class="op" id="5284122">!</span><span class="ident" id="5284123"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284124">.</span><span class="ident" id="5284125">useNodeComments</span>&nbsp;<span class="op" id="5284141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5284145">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5284153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5284156">if</span>&nbsp;<span class="ident" id="5284159"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284160">.</span><span class="ident" id="5284161">comments</span>&nbsp;<span class="op" id="5284170">==</span>&nbsp;<span class="ident" id="5284173">nil</span>&nbsp;<span class="op" id="5284177">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284181">//&nbsp;initialize&nbsp;p.comments&nbsp;lazily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284215"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284216">.</span><span class="ident" id="5284217">comments</span>&nbsp;<span class="op" id="5284226">=</span>&nbsp;<span class="builtinfunc" id="5284228">make</span><span class="op" id="5284232">(</span><span class="op" id="5284233">[</span><span class="op" id="5284234">]</span><span class="op" id="5284235">*</span><span class="ident" id="5284236"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5284239">.</span><span class="ident" id="5284240">CommentGroup</span><span class="op" id="5284252">,</span>&nbsp;<span class="num" id="5284254">1</span><span class="op" id="5284255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5284258">}</span>&nbsp;<span class="keyword" id="5284260">else</span>&nbsp;<span class="keyword" id="5284265">if</span>&nbsp;<span class="ident" id="5284268"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284269">.</span><span class="ident" id="5284270">cindex</span>&nbsp;<span class="op" id="5284277">&lt;</span>&nbsp;<span class="builtinfunc" id="5284279">len</span><span class="op" id="5284282">(</span><span class="ident" id="5284283"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284284">.</span><span class="ident" id="5284285">comments</span><span class="op" id="5284293">)</span>&nbsp;<span class="op" id="5284295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284299">//&nbsp;for&nbsp;some&nbsp;reason&nbsp;there&nbsp;are&nbsp;pending&nbsp;comments;&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284353">//&nbsp;should&nbsp;never&nbsp;happen&nbsp;-&nbsp;handle&nbsp;gracefully&nbsp;and&nbsp;flush</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284408">//&nbsp;all&nbsp;comments&nbsp;up&nbsp;to&nbsp;g,&nbsp;ignore&nbsp;anything&nbsp;after&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284462"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284463">.</span><span class="ident" id="5284464">flush</span><span class="op" id="5284469">(</span><span class="ident" id="5284470"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284471">.</span><span class="ident" id="5284472">posFor</span><span class="op" id="5284478">(</span><span class="ident" id="5284479"><a href="/go/printer/nodes.go.html#5284083">g</a></span><span class="op" id="5284480">.</span><span class="ident" id="5284481">List</span><span class="op" id="5284485">[</span><span class="num" id="5284486">0</span><span class="op" id="5284487">]</span><span class="op" id="5284488">.</span><span class="ident" id="5284489">Pos</span><span class="op" id="5284492">(</span><span class="op" id="5284493">)</span><span class="op" id="5284494">)</span><span class="op" id="5284495">,</span>&nbsp;<span class="ident" id="5284497"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5284502">.</span><span class="ident" id="5284503">ILLEGAL</span><span class="op" id="5284510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284514"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284515">.</span><span class="ident" id="5284516">comments</span>&nbsp;<span class="op" id="5284525">=</span>&nbsp;<span class="ident" id="5284527"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284528">.</span><span class="ident" id="5284529">comments</span><span class="op" id="5284537">[</span><span class="num" id="5284538">0</span><span class="op" id="5284539">:</span><span class="num" id="5284540">1</span><span class="op" id="5284541">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284545">//&nbsp;in&nbsp;debug&nbsp;mode,&nbsp;report&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284578"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284579">.</span><span class="ident" id="5284580">internalError</span><span class="op" id="5284593">(</span><span class="string" id="5284594">&#34;setComment&nbsp;found&nbsp;pending&nbsp;comments&#34;</span><span class="op" id="5284629">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5284632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284635"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284636">.</span><span class="ident" id="5284637">comments</span><span class="op" id="5284645">[</span><span class="num" id="5284646">0</span><span class="op" id="5284647">]</span>&nbsp;<span class="op" id="5284649">=</span>&nbsp;<span class="ident" id="5284651"><a href="/go/printer/nodes.go.html#5284083">g</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284654"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284655">.</span><span class="ident" id="5284656">cindex</span>&nbsp;<span class="op" id="5284663">=</span>&nbsp;<span class="num" id="5284665">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284668">//&nbsp;don&#39;t&nbsp;overwrite&nbsp;any&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284731">//&nbsp;(there&nbsp;may&nbsp;be&nbsp;a&nbsp;pending&nbsp;comment&nbsp;when&nbsp;a&nbsp;line&nbsp;comment&nbsp;is</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284790">//&nbsp;immediately&nbsp;followed&nbsp;by&nbsp;a&nbsp;lead&nbsp;comment&nbsp;with&nbsp;no&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5284847">//&nbsp;tokens&nbsp;between)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5284867">if</span>&nbsp;<span class="ident" id="5284870"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284871">.</span><span class="ident" id="5284872">commentOffset</span>&nbsp;<span class="op" id="5284886">==</span>&nbsp;<span class="ident" id="5284889"><a href="/go/printer/printer.go.html#5324835">infinity</a></span>&nbsp;<span class="op" id="5284898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284902"><a href="/go/printer/nodes.go.html#5284060">p</a></span><span class="op" id="5284903">.</span><span class="ident" id="5284904">nextComment</span><span class="op" id="5284915">(</span><span class="op" id="5284916">)</span>&nbsp;<span class="comment" id="5284918">//&nbsp;get&nbsp;comment&nbsp;ready&nbsp;for&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5284948">}</span><br>
<span class="lineno">90</span><span class="op" id="5284950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5284953">type</span>&nbsp;<span class="ident" id="5284958">exprListMode</span>&nbsp;<span class="builtintype" id="5284971">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5284977">const</span>&nbsp;<span class="op" id="5284983">(</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5284986">commaTerm</span>&nbsp;<span class="ident" id="5284996"><a href="/go/printer/nodes.go.html#5284958">exprListMode</a></span>&nbsp;<span class="op" id="5285009">=</span>&nbsp;<span class="num" id="5285011">1</span>&nbsp;<span class="op" id="5285013">&lt;&lt;</span>&nbsp;<span class="ident" id="5285016">iota</span>&nbsp;<span class="comment" id="5285021">//&nbsp;list&nbsp;is&nbsp;optionally&nbsp;terminated&nbsp;by&nbsp;a&nbsp;comma</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5285066">noIndent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5285101">//&nbsp;no&nbsp;extra&nbsp;indentation&nbsp;in&nbsp;multi-line&nbsp;lists</span><br>
<span class="lineno"></span><span class="op" id="5285145">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5285148">//&nbsp;If&nbsp;indent&nbsp;is&nbsp;set,&nbsp;a&nbsp;multi-line&nbsp;identifier&nbsp;list&nbsp;is&nbsp;indented&nbsp;after&nbsp;the</span><br>
<span class="lineno">100</span><span class="comment" id="5285220">//&nbsp;first&nbsp;linebreak&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="5285252">func</span>&nbsp;<span class="op" id="5285257">(</span><span class="ident" id="5285258">p</span>&nbsp;<span class="op" id="5285260">*</span><span class="ident" id="5285261"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5285268">)</span>&nbsp;<span class="ident" id="5285270">identList</span><span class="op" id="5285279">(</span><span class="ident" id="5285280">list</span>&nbsp;<span class="op" id="5285285">[</span><span class="op" id="5285286">]</span><span class="op" id="5285287">*</span><span class="ident" id="5285288"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5285291">.</span><span class="ident" id="5285292">Ident</span><span class="op" id="5285297">,</span>&nbsp;<span class="ident" id="5285299">indent</span>&nbsp;<span class="builtintype" id="5285306">bool</span><span class="op" id="5285310">)</span>&nbsp;<span class="op" id="5285312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5285315">//&nbsp;convert&nbsp;into&nbsp;an&nbsp;expression&nbsp;list&nbsp;so&nbsp;we&nbsp;can&nbsp;re-use&nbsp;exprList&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5285388">xlist</span>&nbsp;<span class="op" id="5285394">:=</span>&nbsp;<span class="builtinfunc" id="5285397">make</span><span class="op" id="5285401">(</span><span class="op" id="5285402">[</span><span class="op" id="5285403">]</span><span class="ident" id="5285404"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5285407">.</span><span class="ident" id="5285408">Expr</span><span class="op" id="5285412">,</span>&nbsp;<span class="builtinfunc" id="5285414">len</span><span class="op" id="5285417">(</span><span class="ident" id="5285418"><a href="/go/printer/nodes.go.html#5285280">list</a></span><span class="op" id="5285422">)</span><span class="op" id="5285423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5285426">for</span>&nbsp;<span class="ident" id="5285430">i</span><span class="op" id="5285431">,</span>&nbsp;<span class="ident" id="5285433">x</span>&nbsp;<span class="op" id="5285435">:=</span>&nbsp;<span class="keyword" id="5285438">range</span>&nbsp;<span class="ident" id="5285444"><a href="/go/printer/nodes.go.html#5285280">list</a></span>&nbsp;<span class="op" id="5285449">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5285453"><a href="/go/printer/nodes.go.html#5285388">xlist</a></span><span class="op" id="5285458">[</span><span class="ident" id="5285459"><a href="/go/printer/nodes.go.html#5285430">i</a></span><span class="op" id="5285460">]</span>&nbsp;<span class="op" id="5285462">=</span>&nbsp;<span class="ident" id="5285464"><a href="/go/printer/nodes.go.html#5285433">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5285467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5285470">var</span>&nbsp;<span class="ident" id="5285474">mode</span>&nbsp;<span class="ident" id="5285479"><a href="/go/printer/nodes.go.html#5284958">exprListMode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5285493">if</span>&nbsp;<span class="op" id="5285496">!</span><span class="ident" id="5285497"><a href="/go/printer/nodes.go.html#5285299">indent</a></span>&nbsp;<span class="op" id="5285504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5285508"><a href="/go/printer/nodes.go.html#5285474">mode</a></span>&nbsp;<span class="op" id="5285513">=</span>&nbsp;<span class="ident" id="5285515"><a href="/go/printer/nodes.go.html#5285066">noIndent</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5285525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5285528"><a href="/go/printer/nodes.go.html#5285258">p</a></span><span class="op" id="5285529">.</span><span class="ident" id="5285530">exprList</span><span class="op" id="5285538">(</span><span class="ident" id="5285539"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5285544">.</span><span class="ident" id="5285545">NoPos</span><span class="op" id="5285550">,</span>&nbsp;<span class="ident" id="5285552"><a href="/go/printer/nodes.go.html#5285388">xlist</a></span><span class="op" id="5285557">,</span>&nbsp;<span class="num" id="5285559">1</span><span class="op" id="5285560">,</span>&nbsp;<span class="ident" id="5285562"><a href="/go/printer/nodes.go.html#5285474">mode</a></span><span class="op" id="5285566">,</span>&nbsp;<span class="ident" id="5285568"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5285573">.</span><span class="ident" id="5285574">NoPos</span><span class="op" id="5285579">)</span><br>
<span class="lineno"></span><span class="op" id="5285581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5285584">//&nbsp;Print&nbsp;a&nbsp;list&nbsp;of&nbsp;expressions.&nbsp;If&nbsp;the&nbsp;list&nbsp;spans&nbsp;multiple</span><br>
<span class="lineno">115</span><span class="comment" id="5285643">//&nbsp;source&nbsp;lines,&nbsp;the&nbsp;original&nbsp;line&nbsp;breaks&nbsp;are&nbsp;respected&nbsp;between</span><br>
<span class="lineno"></span><span class="comment" id="5285707">//&nbsp;expressions.</span><br>
<span class="lineno"></span><span class="comment" id="5285723">//</span><br>
<span class="lineno"></span><span class="comment" id="5285726">//&nbsp;TODO(gri)&nbsp;Consider&nbsp;rewriting&nbsp;this&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;[]ast.Expr</span><br>
<span class="lineno"></span><span class="comment" id="5285795">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;algorithm&nbsp;for&nbsp;any&nbsp;kind&nbsp;of&nbsp;list</span><br>
<span class="lineno">120</span><span class="comment" id="5285862">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(e.g.,&nbsp;pass&nbsp;list&nbsp;via&nbsp;a&nbsp;channel&nbsp;over&nbsp;which&nbsp;to&nbsp;range).</span><br>
<span class="lineno"></span><span class="keyword" id="5285928">func</span>&nbsp;<span class="op" id="5285933">(</span><span class="ident" id="5285934">p</span>&nbsp;<span class="op" id="5285936">*</span><span class="ident" id="5285937"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5285944">)</span>&nbsp;<span class="ident" id="5285946">exprList</span><span class="op" id="5285954">(</span><span class="ident" id="5285955">prev0</span>&nbsp;<span class="ident" id="5285961"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5285966">.</span><span class="ident" id="5285967">Pos</span><span class="op" id="5285970">,</span>&nbsp;<span class="ident" id="5285972">list</span>&nbsp;<span class="op" id="5285977">[</span><span class="op" id="5285978">]</span><span class="ident" id="5285979"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5285982">.</span><span class="ident" id="5285983">Expr</span><span class="op" id="5285987">,</span>&nbsp;<span class="ident" id="5285989">depth</span>&nbsp;<span class="builtintype" id="5285995">int</span><span class="op" id="5285998">,</span>&nbsp;<span class="ident" id="5286000">mode</span>&nbsp;<span class="ident" id="5286005"><a href="/go/printer/nodes.go.html#5284958">exprListMode</a></span><span class="op" id="5286017">,</span>&nbsp;<span class="ident" id="5286019">next0</span>&nbsp;<span class="ident" id="5286025"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5286030">.</span><span class="ident" id="5286031">Pos</span><span class="op" id="5286034">)</span>&nbsp;<span class="op" id="5286036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286039">if</span>&nbsp;<span class="builtinfunc" id="5286042">len</span><span class="op" id="5286045">(</span><span class="ident" id="5286046"><a href="/go/printer/nodes.go.html#5285972">list</a></span><span class="op" id="5286050">)</span>&nbsp;<span class="op" id="5286052">==</span>&nbsp;<span class="num" id="5286055">0</span>&nbsp;<span class="op" id="5286057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286061">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5286069">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286073">prev</span>&nbsp;<span class="op" id="5286078">:=</span>&nbsp;<span class="ident" id="5286081"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286082">.</span><span class="ident" id="5286083">posFor</span><span class="op" id="5286089">(</span><span class="ident" id="5286090"><a href="/go/printer/nodes.go.html#5285955">prev0</a></span><span class="op" id="5286095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286098">next</span>&nbsp;<span class="op" id="5286103">:=</span>&nbsp;<span class="ident" id="5286106"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286107">.</span><span class="ident" id="5286108">posFor</span><span class="op" id="5286114">(</span><span class="ident" id="5286115"><a href="/go/printer/nodes.go.html#5286019">next0</a></span><span class="op" id="5286120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286123">line</span>&nbsp;<span class="op" id="5286128">:=</span>&nbsp;<span class="ident" id="5286131"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286132">.</span><span class="ident" id="5286133">lineFor</span><span class="op" id="5286140">(</span><span class="ident" id="5286141"><a href="/go/printer/nodes.go.html#5285972">list</a></span><span class="op" id="5286145">[</span><span class="num" id="5286146">0</span><span class="op" id="5286147">]</span><span class="op" id="5286148">.</span><span class="ident" id="5286149">Pos</span><span class="op" id="5286152">(</span><span class="op" id="5286153">)</span><span class="op" id="5286154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286157">endLine</span>&nbsp;<span class="op" id="5286165">:=</span>&nbsp;<span class="ident" id="5286168"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286169">.</span><span class="ident" id="5286170">lineFor</span><span class="op" id="5286177">(</span><span class="ident" id="5286178"><a href="/go/printer/nodes.go.html#5285972">list</a></span><span class="op" id="5286182">[</span><span class="builtinfunc" id="5286183">len</span><span class="op" id="5286186">(</span><span class="ident" id="5286187"><a href="/go/printer/nodes.go.html#5285972">list</a></span><span class="op" id="5286191">)</span><span class="op" id="5286192">-</span><span class="num" id="5286193">1</span><span class="op" id="5286194">]</span><span class="op" id="5286195">.</span><span class="ident" id="5286196">End</span><span class="op" id="5286199">(</span><span class="op" id="5286200">)</span><span class="op" id="5286201">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286205">if</span>&nbsp;<span class="ident" id="5286208"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5286212">.</span><span class="ident" id="5286213">IsValid</span><span class="op" id="5286220">(</span><span class="op" id="5286221">)</span>&nbsp;<span class="op" id="5286223">&amp;&amp;</span>&nbsp;<span class="ident" id="5286226"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5286230">.</span><span class="ident" id="5286231">Line</span>&nbsp;<span class="op" id="5286236">==</span>&nbsp;<span class="ident" id="5286239"><a href="/go/printer/nodes.go.html#5286123">line</a></span>&nbsp;<span class="op" id="5286244">&amp;&amp;</span>&nbsp;<span class="ident" id="5286247"><a href="/go/printer/nodes.go.html#5286123">line</a></span>&nbsp;<span class="op" id="5286252">==</span>&nbsp;<span class="ident" id="5286255"><a href="/go/printer/nodes.go.html#5286157">endLine</a></span>&nbsp;<span class="op" id="5286263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286267">//&nbsp;all&nbsp;list&nbsp;entries&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286306">for</span>&nbsp;<span class="ident" id="5286310">i</span><span class="op" id="5286311">,</span>&nbsp;<span class="ident" id="5286313">x</span>&nbsp;<span class="op" id="5286315">:=</span>&nbsp;<span class="keyword" id="5286318">range</span>&nbsp;<span class="ident" id="5286324"><a href="/go/printer/nodes.go.html#5285972">list</a></span>&nbsp;<span class="op" id="5286329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286334">if</span>&nbsp;<span class="ident" id="5286337"><a href="/go/printer/nodes.go.html#5286310">i</a></span>&nbsp;<span class="op" id="5286339">&gt;</span>&nbsp;<span class="num" id="5286341">0</span>&nbsp;<span class="op" id="5286343">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286349">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286406">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286458"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286459">.</span><span class="builtinfunc" id="5286460">print</span><span class="op" id="5286465">(</span><span class="ident" id="5286466"><a href="/go/printer/nodes.go.html#5286313">x</a></span><span class="op" id="5286467">.</span><span class="ident" id="5286468">Pos</span><span class="op" id="5286471">(</span><span class="op" id="5286472">)</span><span class="op" id="5286473">,</span>&nbsp;<span class="ident" id="5286475"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5286480">.</span><span class="ident" id="5286481">COMMA</span><span class="op" id="5286486">,</span>&nbsp;<span class="ident" id="5286488"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5286493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5286498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286503"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5286504">.</span><span class="ident" id="5286505">expr0</span><span class="op" id="5286510">(</span><span class="ident" id="5286511"><a href="/go/printer/nodes.go.html#5286313">x</a></span><span class="op" id="5286512">,</span>&nbsp;<span class="ident" id="5286514"><a href="/go/printer/nodes.go.html#5285989">depth</a></span><span class="op" id="5286519">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5286523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286527">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5286535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286539">//&nbsp;list&nbsp;entries&nbsp;span&nbsp;multiple&nbsp;lines;</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286577">//&nbsp;use&nbsp;source&nbsp;code&nbsp;positions&nbsp;to&nbsp;guide&nbsp;line&nbsp;breaks</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286629">//&nbsp;don&#39;t&nbsp;add&nbsp;extra&nbsp;indentation&nbsp;if&nbsp;noIndent&nbsp;is&nbsp;set;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286681">//&nbsp;i.e.,&nbsp;pretend&nbsp;that&nbsp;the&nbsp;first&nbsp;line&nbsp;is&nbsp;already&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286739">ws</span>&nbsp;<span class="op" id="5286742">:=</span>&nbsp;<span class="ident" id="5286745"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286753">if</span>&nbsp;<span class="ident" id="5286756"><a href="/go/printer/nodes.go.html#5286000">mode</a></span><span class="op" id="5286760">&amp;</span><span class="ident" id="5286761"><a href="/go/printer/nodes.go.html#5285066">noIndent</a></span>&nbsp;<span class="op" id="5286770">==</span>&nbsp;<span class="num" id="5286773">0</span>&nbsp;<span class="op" id="5286775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286779"><a href="/go/printer/nodes.go.html#5286739">ws</a></span>&nbsp;<span class="op" id="5286782">=</span>&nbsp;<span class="ident" id="5286784"><a href="/go/printer/printer.go.html#5325032">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5286792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286796">//&nbsp;the&nbsp;first&nbsp;linebreak&nbsp;is&nbsp;always&nbsp;a&nbsp;formfeed&nbsp;since&nbsp;this&nbsp;section&nbsp;must&nbsp;not</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5286869">//&nbsp;depend&nbsp;on&nbsp;any&nbsp;previous&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5286907">prevBreak</span>&nbsp;<span class="op" id="5286917">:=</span>&nbsp;<span class="op" id="5286920">-</span><span class="num" id="5286921">1</span>&nbsp;<span class="comment" id="5286923">//&nbsp;index&nbsp;of&nbsp;last&nbsp;expression&nbsp;that&nbsp;was&nbsp;followed&nbsp;by&nbsp;a&nbsp;linebreak</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5286985">if</span>&nbsp;<span class="ident" id="5286988"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5286992">.</span><span class="ident" id="5286993">IsValid</span><span class="op" id="5287000">(</span><span class="op" id="5287001">)</span>&nbsp;<span class="op" id="5287003">&amp;&amp;</span>&nbsp;<span class="ident" id="5287006"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5287010">.</span><span class="ident" id="5287011">Line</span>&nbsp;<span class="op" id="5287016">&lt;</span>&nbsp;<span class="ident" id="5287018"><a href="/go/printer/nodes.go.html#5286123">line</a></span>&nbsp;<span class="op" id="5287023">&amp;&amp;</span>&nbsp;<span class="ident" id="5287026"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5287027">.</span><span class="ident" id="5287028">linebreak</span><span class="op" id="5287037">(</span><span class="ident" id="5287038"><a href="/go/printer/nodes.go.html#5286123">line</a></span><span class="op" id="5287042">,</span>&nbsp;<span class="num" id="5287044">0</span><span class="op" id="5287045">,</span>&nbsp;<span class="ident" id="5287047"><a href="/go/printer/nodes.go.html#5286739">ws</a></span><span class="op" id="5287049">,</span>&nbsp;<span class="builtintype" id="5287051">true</span><span class="op" id="5287055">)</span>&nbsp;<span class="op" id="5287057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287061"><a href="/go/printer/nodes.go.html#5286739">ws</a></span>&nbsp;<span class="op" id="5287064">=</span>&nbsp;<span class="ident" id="5287066"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287075"><a href="/go/printer/nodes.go.html#5286907">prevBreak</a></span>&nbsp;<span class="op" id="5287085">=</span>&nbsp;<span class="num" id="5287087">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5287090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287094">//&nbsp;initialize&nbsp;expression/key&nbsp;size:&nbsp;a&nbsp;zero&nbsp;value&nbsp;indicates&nbsp;expr/key&nbsp;doesn&#39;t&nbsp;fit&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287191">size</span>&nbsp;<span class="op" id="5287196">:=</span>&nbsp;<span class="num" id="5287199">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287203">//&nbsp;print&nbsp;all&nbsp;list&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287231">prevLine</span>&nbsp;<span class="op" id="5287240">:=</span>&nbsp;<span class="ident" id="5287243"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5287247">.</span><span class="ident" id="5287248">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5287254">for</span>&nbsp;<span class="ident" id="5287258">i</span><span class="op" id="5287259">,</span>&nbsp;<span class="ident" id="5287261">x</span>&nbsp;<span class="op" id="5287263">:=</span>&nbsp;<span class="keyword" id="5287266">range</span>&nbsp;<span class="ident" id="5287272"><a href="/go/printer/nodes.go.html#5285972">list</a></span>&nbsp;<span class="op" id="5287277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287281"><a href="/go/printer/nodes.go.html#5286123">line</a></span>&nbsp;<span class="op" id="5287286">=</span>&nbsp;<span class="ident" id="5287288"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5287289">.</span><span class="ident" id="5287290">lineFor</span><span class="op" id="5287297">(</span><span class="ident" id="5287298"><a href="/go/printer/nodes.go.html#5287261">x</a></span><span class="op" id="5287299">.</span><span class="ident" id="5287300">Pos</span><span class="op" id="5287303">(</span><span class="op" id="5287304">)</span><span class="op" id="5287305">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287310">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;next&nbsp;linebreak,&nbsp;if&nbsp;any,&nbsp;needs&nbsp;to&nbsp;use&nbsp;formfeed:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287379">//&nbsp;in&nbsp;general,&nbsp;use&nbsp;the&nbsp;entire&nbsp;node&nbsp;size&nbsp;to&nbsp;make&nbsp;the&nbsp;decision;&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287447">//&nbsp;key:value&nbsp;expressions,&nbsp;use&nbsp;the&nbsp;key&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287492">//&nbsp;TODO(gri)&nbsp;for&nbsp;a&nbsp;better&nbsp;result,&nbsp;should&nbsp;probably&nbsp;incorporate&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287561">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;and&nbsp;the&nbsp;node&nbsp;size&nbsp;into&nbsp;the&nbsp;decision&nbsp;process</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287628">useFF</span>&nbsp;<span class="op" id="5287634">:=</span>&nbsp;<span class="builtintype" id="5287637">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287645">//&nbsp;determine&nbsp;element&nbsp;size:&nbsp;all&nbsp;bets&nbsp;are&nbsp;off&nbsp;if&nbsp;we&nbsp;don&#39;t&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287708">//&nbsp;position&nbsp;information&nbsp;for&nbsp;the&nbsp;previous&nbsp;and&nbsp;next&nbsp;token&nbsp;(likely</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287774">//&nbsp;generated&nbsp;code&nbsp;-&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;size&nbsp;in&nbsp;this&nbsp;case&nbsp;by&nbsp;setting</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5287843">//&nbsp;it&nbsp;to&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287857">prevSize</span>&nbsp;<span class="op" id="5287866">:=</span>&nbsp;<span class="ident" id="5287869"><a href="/go/printer/nodes.go.html#5287191">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5287876">const</span>&nbsp;<span class="ident" id="5287882">infinity</span>&nbsp;<span class="op" id="5287891">=</span>&nbsp;<span class="num" id="5287893">1e6</span>&nbsp;<span class="comment" id="5287897">//&nbsp;larger&nbsp;than&nbsp;any&nbsp;source&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287930"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5287935">=</span>&nbsp;<span class="ident" id="5287937"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5287938">.</span><span class="ident" id="5287939">nodeSize</span><span class="op" id="5287947">(</span><span class="ident" id="5287948"><a href="/go/printer/nodes.go.html#5287261">x</a></span><span class="op" id="5287949">,</span>&nbsp;<span class="ident" id="5287951"><a href="/go/printer/nodes.go.html#5287882">infinity</a></span><span class="op" id="5287959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5287963">pair</span><span class="op" id="5287967">,</span>&nbsp;<span class="ident" id="5287969">isPair</span>&nbsp;<span class="op" id="5287976">:=</span>&nbsp;<span class="ident" id="5287979"><a href="/go/printer/nodes.go.html#5287261">x</a></span><span class="op" id="5287980">.</span><span class="op" id="5287981">(</span><span class="op" id="5287982">*</span><span class="ident" id="5287983"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5287986">.</span><span class="ident" id="5287987">KeyValueExpr</span><span class="op" id="5287999">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288003">if</span>&nbsp;<span class="ident" id="5288006"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5288011">&lt;=</span>&nbsp;<span class="ident" id="5288014"><a href="/go/printer/nodes.go.html#5287882">infinity</a></span>&nbsp;<span class="op" id="5288023">&amp;&amp;</span>&nbsp;<span class="ident" id="5288026"><a href="/go/printer/nodes.go.html#5286073">prev</a></span><span class="op" id="5288030">.</span><span class="ident" id="5288031">IsValid</span><span class="op" id="5288038">(</span><span class="op" id="5288039">)</span>&nbsp;<span class="op" id="5288041">&amp;&amp;</span>&nbsp;<span class="ident" id="5288044"><a href="/go/printer/nodes.go.html#5286098">next</a></span><span class="op" id="5288048">.</span><span class="ident" id="5288049">IsValid</span><span class="op" id="5288056">(</span><span class="op" id="5288057">)</span>&nbsp;<span class="op" id="5288059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288064">//&nbsp;x&nbsp;fits&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288094">if</span>&nbsp;<span class="ident" id="5288097"><a href="/go/printer/nodes.go.html#5287969">isPair</a></span>&nbsp;<span class="op" id="5288104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288110"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5288115">=</span>&nbsp;<span class="ident" id="5288117"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5288118">.</span><span class="ident" id="5288119">nodeSize</span><span class="op" id="5288127">(</span><span class="ident" id="5288128"><a href="/go/printer/nodes.go.html#5287963">pair</a></span><span class="op" id="5288132">.</span><span class="ident" id="5288133">Key</span><span class="op" id="5288136">,</span>&nbsp;<span class="ident" id="5288138"><a href="/go/printer/nodes.go.html#5287882">infinity</a></span><span class="op" id="5288146">)</span>&nbsp;<span class="comment" id="5288148">//&nbsp;size&nbsp;&lt;=&nbsp;infinity</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288171">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288175">}</span>&nbsp;<span class="keyword" id="5288177">else</span>&nbsp;<span class="op" id="5288182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288187">//&nbsp;size&nbsp;too&nbsp;large&nbsp;or&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;good&nbsp;layout&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288249"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5288254">=</span>&nbsp;<span class="num" id="5288256">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288265">//&nbsp;if&nbsp;the&nbsp;previous&nbsp;line&nbsp;and&nbsp;the&nbsp;current&nbsp;line&nbsp;had&nbsp;single-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288324">//&nbsp;line-expressions&nbsp;and&nbsp;the&nbsp;key&nbsp;sizes&nbsp;are&nbsp;small&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288381">//&nbsp;the&nbsp;ratio&nbsp;between&nbsp;the&nbsp;key&nbsp;sizes&nbsp;does&nbsp;not&nbsp;exceed&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288436">//&nbsp;threshold,&nbsp;align&nbsp;columns&nbsp;and&nbsp;do&nbsp;not&nbsp;use&nbsp;formfeed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288490">if</span>&nbsp;<span class="ident" id="5288493"><a href="/go/printer/nodes.go.html#5287857">prevSize</a></span>&nbsp;<span class="op" id="5288502">&gt;</span>&nbsp;<span class="num" id="5288504">0</span>&nbsp;<span class="op" id="5288506">&amp;&amp;</span>&nbsp;<span class="ident" id="5288509"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5288514">&gt;</span>&nbsp;<span class="num" id="5288516">0</span>&nbsp;<span class="op" id="5288518">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288523">const</span>&nbsp;<span class="ident" id="5288529">smallSize</span>&nbsp;<span class="op" id="5288539">=</span>&nbsp;<span class="num" id="5288541">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288547">if</span>&nbsp;<span class="ident" id="5288550"><a href="/go/printer/nodes.go.html#5287857">prevSize</a></span>&nbsp;<span class="op" id="5288559">&lt;=</span>&nbsp;<span class="ident" id="5288562"><a href="/go/printer/nodes.go.html#5288529">smallSize</a></span>&nbsp;<span class="op" id="5288572">&amp;&amp;</span>&nbsp;<span class="ident" id="5288575"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5288580">&lt;=</span>&nbsp;<span class="ident" id="5288583"><a href="/go/printer/nodes.go.html#5288529">smallSize</a></span>&nbsp;<span class="op" id="5288593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288599"><a href="/go/printer/nodes.go.html#5287628">useFF</a></span>&nbsp;<span class="op" id="5288605">=</span>&nbsp;<span class="builtintype" id="5288607">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288616">}</span>&nbsp;<span class="keyword" id="5288618">else</span>&nbsp;<span class="op" id="5288623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288629">const</span>&nbsp;<span class="ident" id="5288635">r</span>&nbsp;<span class="op" id="5288637">=</span>&nbsp;<span class="num" id="5288639">4</span>&nbsp;<span class="comment" id="5288641">//&nbsp;threshold</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288658">ratio</span>&nbsp;<span class="op" id="5288664">:=</span>&nbsp;<span class="builtintype" id="5288667">float64</span><span class="op" id="5288674">(</span><span class="ident" id="5288675"><a href="/go/printer/nodes.go.html#5287191">size</a></span><span class="op" id="5288679">)</span>&nbsp;<span class="op" id="5288681">/</span>&nbsp;<span class="builtintype" id="5288683">float64</span><span class="op" id="5288690">(</span><span class="ident" id="5288691"><a href="/go/printer/nodes.go.html#5287857">prevSize</a></span><span class="op" id="5288699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288705"><a href="/go/printer/nodes.go.html#5287628">useFF</a></span>&nbsp;<span class="op" id="5288711">=</span>&nbsp;<span class="ident" id="5288713"><a href="/go/printer/nodes.go.html#5288658">ratio</a></span>&nbsp;<span class="op" id="5288719">&lt;=</span>&nbsp;<span class="num" id="5288722">1.0</span><span class="op" id="5288725">/</span><span class="ident" id="5288726"><a href="/go/printer/nodes.go.html#5288635">r</a></span>&nbsp;<span class="op" id="5288728">||</span>&nbsp;<span class="ident" id="5288731"><a href="/go/printer/nodes.go.html#5288635">r</a></span>&nbsp;<span class="op" id="5288733">&lt;=</span>&nbsp;<span class="ident" id="5288736"><a href="/go/printer/nodes.go.html#5288658">ratio</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5288749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5288754">needsLinebreak</span>&nbsp;<span class="op" id="5288769">:=</span>&nbsp;<span class="num" id="5288772">0</span>&nbsp;<span class="op" id="5288774">&lt;</span>&nbsp;<span class="ident" id="5288776"><a href="/go/printer/nodes.go.html#5287231">prevLine</a></span>&nbsp;<span class="op" id="5288785">&amp;&amp;</span>&nbsp;<span class="ident" id="5288788"><a href="/go/printer/nodes.go.html#5287231">prevLine</a></span>&nbsp;<span class="op" id="5288797">&lt;</span>&nbsp;<span class="ident" id="5288799"><a href="/go/printer/nodes.go.html#5286123">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288806">if</span>&nbsp;<span class="ident" id="5288809"><a href="/go/printer/nodes.go.html#5287258">i</a></span>&nbsp;<span class="op" id="5288811">&gt;</span>&nbsp;<span class="num" id="5288813">0</span>&nbsp;<span class="op" id="5288815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288820">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288876">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5288932">//&nbsp;only&nbsp;if&nbsp;the&nbsp;expression&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5288981">if</span>&nbsp;<span class="op" id="5288984">!</span><span class="ident" id="5288985"><a href="/go/printer/nodes.go.html#5288754">needsLinebreak</a></span>&nbsp;<span class="op" id="5289000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289006"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289007">.</span><span class="builtinfunc" id="5289008">print</span><span class="op" id="5289013">(</span><span class="ident" id="5289014"><a href="/go/printer/nodes.go.html#5287261">x</a></span><span class="op" id="5289015">.</span><span class="ident" id="5289016">Pos</span><span class="op" id="5289019">(</span><span class="op" id="5289020">)</span><span class="op" id="5289021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289031"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289032">.</span><span class="builtinfunc" id="5289033">print</span><span class="op" id="5289038">(</span><span class="ident" id="5289039"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5289044">.</span><span class="ident" id="5289045">COMMA</span><span class="op" id="5289050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289055">needsBlank</span>&nbsp;<span class="op" id="5289066">:=</span>&nbsp;<span class="builtintype" id="5289069">true</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5289077">if</span>&nbsp;<span class="ident" id="5289080"><a href="/go/printer/nodes.go.html#5288754">needsLinebreak</a></span>&nbsp;<span class="op" id="5289095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289101">//&nbsp;lines&nbsp;are&nbsp;broken&nbsp;using&nbsp;newlines&nbsp;so&nbsp;comments&nbsp;remain&nbsp;aligned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289167">//&nbsp;unless&nbsp;forceFF&nbsp;is&nbsp;set&nbsp;or&nbsp;there&nbsp;are&nbsp;multiple&nbsp;expressions&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289233">//&nbsp;the&nbsp;same&nbsp;line&nbsp;in&nbsp;which&nbsp;case&nbsp;formfeed&nbsp;is&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5289285">if</span>&nbsp;<span class="ident" id="5289288"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289289">.</span><span class="ident" id="5289290">linebreak</span><span class="op" id="5289299">(</span><span class="ident" id="5289300"><a href="/go/printer/nodes.go.html#5286123">line</a></span><span class="op" id="5289304">,</span>&nbsp;<span class="num" id="5289306">0</span><span class="op" id="5289307">,</span>&nbsp;<span class="ident" id="5289309"><a href="/go/printer/nodes.go.html#5286739">ws</a></span><span class="op" id="5289311">,</span>&nbsp;<span class="ident" id="5289313"><a href="/go/printer/nodes.go.html#5287628">useFF</a></span>&nbsp;<span class="op" id="5289319">||</span>&nbsp;<span class="ident" id="5289322"><a href="/go/printer/nodes.go.html#5286907">prevBreak</a></span><span class="op" id="5289331">+</span><span class="num" id="5289332">1</span>&nbsp;<span class="op" id="5289334">&lt;</span>&nbsp;<span class="ident" id="5289336"><a href="/go/printer/nodes.go.html#5287258">i</a></span><span class="op" id="5289337">)</span>&nbsp;<span class="op" id="5289339">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289346"><a href="/go/printer/nodes.go.html#5286739">ws</a></span>&nbsp;<span class="op" id="5289349">=</span>&nbsp;<span class="ident" id="5289351"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289363"><a href="/go/printer/nodes.go.html#5286907">prevBreak</a></span>&nbsp;<span class="op" id="5289373">=</span>&nbsp;<span class="ident" id="5289375"><a href="/go/printer/nodes.go.html#5287258">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289382"><a href="/go/printer/nodes.go.html#5289055">needsBlank</a></span>&nbsp;<span class="op" id="5289393">=</span>&nbsp;<span class="builtintype" id="5289395">false</span>&nbsp;<span class="comment" id="5289401">//&nbsp;we&nbsp;got&nbsp;a&nbsp;line&nbsp;break&nbsp;instead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289441">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5289446">if</span>&nbsp;<span class="ident" id="5289449"><a href="/go/printer/nodes.go.html#5289055">needsBlank</a></span>&nbsp;<span class="op" id="5289460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289466"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289467">.</span><span class="builtinfunc" id="5289468">print</span><span class="op" id="5289473">(</span><span class="ident" id="5289474"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5289479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5289493">if</span>&nbsp;<span class="builtinfunc" id="5289496">len</span><span class="op" id="5289499">(</span><span class="ident" id="5289500"><a href="/go/printer/nodes.go.html#5285972">list</a></span><span class="op" id="5289504">)</span>&nbsp;<span class="op" id="5289506">&gt;</span>&nbsp;<span class="num" id="5289508">1</span>&nbsp;<span class="op" id="5289510">&amp;&amp;</span>&nbsp;<span class="ident" id="5289513"><a href="/go/printer/nodes.go.html#5287969">isPair</a></span>&nbsp;<span class="op" id="5289520">&amp;&amp;</span>&nbsp;<span class="ident" id="5289523"><a href="/go/printer/nodes.go.html#5287191">size</a></span>&nbsp;<span class="op" id="5289528">&gt;</span>&nbsp;<span class="num" id="5289530">0</span>&nbsp;<span class="op" id="5289532">&amp;&amp;</span>&nbsp;<span class="ident" id="5289535"><a href="/go/printer/nodes.go.html#5288754">needsLinebreak</a></span>&nbsp;<span class="op" id="5289550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289555">//&nbsp;we&nbsp;have&nbsp;a&nbsp;key:value&nbsp;expression&nbsp;that&nbsp;fits&nbsp;onto&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289616">//&nbsp;and&nbsp;it&#39;s&nbsp;not&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;prior&nbsp;expression:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289677">//&nbsp;use&nbsp;a&nbsp;column&nbsp;for&nbsp;the&nbsp;key&nbsp;such&nbsp;that&nbsp;consecutive&nbsp;entries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289738">//&nbsp;can&nbsp;align&nbsp;if&nbsp;possible</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5289766">//&nbsp;(needsLinebreak&nbsp;is&nbsp;set&nbsp;if&nbsp;we&nbsp;started&nbsp;a&nbsp;new&nbsp;line&nbsp;before)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289828"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289829">.</span><span class="ident" id="5289830">expr</span><span class="op" id="5289834">(</span><span class="ident" id="5289835"><a href="/go/printer/nodes.go.html#5287963">pair</a></span><span class="op" id="5289839">.</span><span class="ident" id="5289840">Key</span><span class="op" id="5289843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289848"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289849">.</span><span class="builtinfunc" id="5289850">print</span><span class="op" id="5289855">(</span><span class="ident" id="5289856"><a href="/go/printer/nodes.go.html#5287963">pair</a></span><span class="op" id="5289860">.</span><span class="ident" id="5289861">Colon</span><span class="op" id="5289866">,</span>&nbsp;<span class="ident" id="5289868"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5289873">.</span><span class="ident" id="5289874">COLON</span><span class="op" id="5289879">,</span>&nbsp;<span class="ident" id="5289881"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5289885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289890"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289891">.</span><span class="ident" id="5289892">expr</span><span class="op" id="5289896">(</span><span class="ident" id="5289897"><a href="/go/printer/nodes.go.html#5287963">pair</a></span><span class="op" id="5289901">.</span><span class="ident" id="5289902">Value</span><span class="op" id="5289907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289911">}</span>&nbsp;<span class="keyword" id="5289913">else</span>&nbsp;<span class="op" id="5289918">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289923"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5289924">.</span><span class="ident" id="5289925">expr0</span><span class="op" id="5289930">(</span><span class="ident" id="5289931"><a href="/go/printer/nodes.go.html#5287261">x</a></span><span class="op" id="5289932">,</span>&nbsp;<span class="ident" id="5289934"><a href="/go/printer/nodes.go.html#5285989">depth</a></span><span class="op" id="5289939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5289948"><a href="/go/printer/nodes.go.html#5287231">prevLine</a></span>&nbsp;<span class="op" id="5289957">=</span>&nbsp;<span class="ident" id="5289959"><a href="/go/printer/nodes.go.html#5286123">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5289965">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5289969">if</span>&nbsp;<span class="ident" id="5289972"><a href="/go/printer/nodes.go.html#5286000">mode</a></span><span class="op" id="5289976">&amp;</span><span class="ident" id="5289977"><a href="/go/printer/nodes.go.html#5284986">commaTerm</a></span>&nbsp;<span class="op" id="5289987">!=</span>&nbsp;<span class="num" id="5289990">0</span>&nbsp;<span class="op" id="5289992">&amp;&amp;</span>&nbsp;<span class="ident" id="5289995"><a href="/go/printer/nodes.go.html#5286098">next</a></span><span class="op" id="5289999">.</span><span class="ident" id="5290000">IsValid</span><span class="op" id="5290007">(</span><span class="op" id="5290008">)</span>&nbsp;<span class="op" id="5290010">&amp;&amp;</span>&nbsp;<span class="ident" id="5290013"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5290014">.</span><span class="ident" id="5290015">pos</span><span class="op" id="5290018">.</span><span class="ident" id="5290019">Line</span>&nbsp;<span class="op" id="5290024">&lt;</span>&nbsp;<span class="ident" id="5290026"><a href="/go/printer/nodes.go.html#5286098">next</a></span><span class="op" id="5290030">.</span><span class="ident" id="5290031">Line</span>&nbsp;<span class="op" id="5290036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290040">//&nbsp;print&nbsp;a&nbsp;terminating&nbsp;comma&nbsp;if&nbsp;the&nbsp;next&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290106"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5290107">.</span><span class="builtinfunc" id="5290108">print</span><span class="op" id="5290113">(</span><span class="ident" id="5290114"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5290119">.</span><span class="ident" id="5290120">COMMA</span><span class="op" id="5290125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290129">if</span>&nbsp;<span class="ident" id="5290132"><a href="/go/printer/nodes.go.html#5286739">ws</a></span>&nbsp;<span class="op" id="5290135">==</span>&nbsp;<span class="ident" id="5290138"><a href="/go/printer/printer.go.html#5324891">ignore</a></span>&nbsp;<span class="op" id="5290145">&amp;&amp;</span>&nbsp;<span class="ident" id="5290148"><a href="/go/printer/nodes.go.html#5286000">mode</a></span><span class="op" id="5290152">&amp;</span><span class="ident" id="5290153"><a href="/go/printer/nodes.go.html#5285066">noIndent</a></span>&nbsp;<span class="op" id="5290162">==</span>&nbsp;<span class="num" id="5290165">0</span>&nbsp;<span class="op" id="5290167">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290172">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290202"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5290203">.</span><span class="builtinfunc" id="5290204">print</span><span class="op" id="5290209">(</span><span class="ident" id="5290210"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5290218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5290222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290226"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5290227">.</span><span class="builtinfunc" id="5290228">print</span><span class="op" id="5290233">(</span><span class="ident" id="5290234"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5290242">)</span>&nbsp;<span class="comment" id="5290244">//&nbsp;terminating&nbsp;comma&nbsp;needs&nbsp;a&nbsp;line&nbsp;break&nbsp;to&nbsp;look&nbsp;good</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290299">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5290307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290311">if</span>&nbsp;<span class="ident" id="5290314"><a href="/go/printer/nodes.go.html#5286739">ws</a></span>&nbsp;<span class="op" id="5290317">==</span>&nbsp;<span class="ident" id="5290320"><a href="/go/printer/printer.go.html#5324891">ignore</a></span>&nbsp;<span class="op" id="5290327">&amp;&amp;</span>&nbsp;<span class="ident" id="5290330"><a href="/go/printer/nodes.go.html#5286000">mode</a></span><span class="op" id="5290334">&amp;</span><span class="ident" id="5290335"><a href="/go/printer/nodes.go.html#5285066">noIndent</a></span>&nbsp;<span class="op" id="5290344">==</span>&nbsp;<span class="num" id="5290347">0</span>&nbsp;<span class="op" id="5290349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290353">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290382"><a href="/go/printer/nodes.go.html#5285934">p</a></span><span class="op" id="5290383">.</span><span class="builtinfunc" id="5290384">print</span><span class="op" id="5290389">(</span><span class="ident" id="5290390"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5290398">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5290401">}</span><br>
<span class="lineno"></span><span class="op" id="5290403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5290406">func</span>&nbsp;<span class="op" id="5290411">(</span><span class="ident" id="5290412">p</span>&nbsp;<span class="op" id="5290414">*</span><span class="ident" id="5290415"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5290422">)</span>&nbsp;<span class="ident" id="5290424">parameters</span><span class="op" id="5290434">(</span><span class="ident" id="5290435">fields</span>&nbsp;<span class="op" id="5290442">*</span><span class="ident" id="5290443"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5290446">.</span><span class="ident" id="5290447">FieldList</span><span class="op" id="5290456">)</span>&nbsp;<span class="op" id="5290458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290461"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5290462">.</span><span class="builtinfunc" id="5290463">print</span><span class="op" id="5290468">(</span><span class="ident" id="5290469"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5290475">.</span><span class="ident" id="5290476">Opening</span><span class="op" id="5290483">,</span>&nbsp;<span class="ident" id="5290485"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5290490">.</span><span class="ident" id="5290491">LPAREN</span><span class="op" id="5290497">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290500">if</span>&nbsp;<span class="builtinfunc" id="5290503">len</span><span class="op" id="5290506">(</span><span class="ident" id="5290507"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5290513">.</span><span class="ident" id="5290514">List</span><span class="op" id="5290518">)</span>&nbsp;<span class="op" id="5290520">&gt;</span>&nbsp;<span class="num" id="5290522">0</span>&nbsp;<span class="op" id="5290524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290528">prevLine</span>&nbsp;<span class="op" id="5290537">:=</span>&nbsp;<span class="ident" id="5290540"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5290541">.</span><span class="ident" id="5290542">lineFor</span><span class="op" id="5290549">(</span><span class="ident" id="5290550"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5290556">.</span><span class="ident" id="5290557">Opening</span><span class="op" id="5290564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290568">ws</span>&nbsp;<span class="op" id="5290571">:=</span>&nbsp;<span class="ident" id="5290574"><a href="/go/printer/printer.go.html#5325032">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290583">for</span>&nbsp;<span class="ident" id="5290587">i</span><span class="op" id="5290588">,</span>&nbsp;<span class="ident" id="5290590">par</span>&nbsp;<span class="op" id="5290594">:=</span>&nbsp;<span class="keyword" id="5290597">range</span>&nbsp;<span class="ident" id="5290603"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5290609">.</span><span class="ident" id="5290610">List</span>&nbsp;<span class="op" id="5290615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290620">//&nbsp;determine&nbsp;par&nbsp;begin&nbsp;and&nbsp;end&nbsp;line&nbsp;(may&nbsp;be&nbsp;different</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290677">//&nbsp;if&nbsp;there&nbsp;are&nbsp;multiple&nbsp;parameter&nbsp;names&nbsp;for&nbsp;this&nbsp;par</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290734">//&nbsp;or&nbsp;the&nbsp;type&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290775">var</span>&nbsp;<span class="ident" id="5290779">parLineBeg</span>&nbsp;<span class="builtintype" id="5290790">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290797">if</span>&nbsp;<span class="builtinfunc" id="5290800">len</span><span class="op" id="5290803">(</span><span class="ident" id="5290804"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5290807">.</span><span class="ident" id="5290808">Names</span><span class="op" id="5290813">)</span>&nbsp;<span class="op" id="5290815">&gt;</span>&nbsp;<span class="num" id="5290817">0</span>&nbsp;<span class="op" id="5290819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290825"><a href="/go/printer/nodes.go.html#5290779">parLineBeg</a></span>&nbsp;<span class="op" id="5290836">=</span>&nbsp;<span class="ident" id="5290838"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5290839">.</span><span class="ident" id="5290840">lineFor</span><span class="op" id="5290847">(</span><span class="ident" id="5290848"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5290851">.</span><span class="ident" id="5290852">Names</span><span class="op" id="5290857">[</span><span class="num" id="5290858">0</span><span class="op" id="5290859">]</span><span class="op" id="5290860">.</span><span class="ident" id="5290861">Pos</span><span class="op" id="5290864">(</span><span class="op" id="5290865">)</span><span class="op" id="5290866">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5290871">}</span>&nbsp;<span class="keyword" id="5290873">else</span>&nbsp;<span class="op" id="5290878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290884"><a href="/go/printer/nodes.go.html#5290779">parLineBeg</a></span>&nbsp;<span class="op" id="5290895">=</span>&nbsp;<span class="ident" id="5290897"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5290898">.</span><span class="ident" id="5290899">lineFor</span><span class="op" id="5290906">(</span><span class="ident" id="5290907"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5290910">.</span><span class="ident" id="5290911">Type</span><span class="op" id="5290915">.</span><span class="ident" id="5290916">Pos</span><span class="op" id="5290919">(</span><span class="op" id="5290920">)</span><span class="op" id="5290921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5290926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5290931">var</span>&nbsp;<span class="ident" id="5290935">parLineEnd</span>&nbsp;<span class="op" id="5290946">=</span>&nbsp;<span class="ident" id="5290948"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5290949">.</span><span class="ident" id="5290950">lineFor</span><span class="op" id="5290957">(</span><span class="ident" id="5290958"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5290961">.</span><span class="ident" id="5290962">Type</span><span class="op" id="5290966">.</span><span class="ident" id="5290967">End</span><span class="op" id="5290970">(</span><span class="op" id="5290971">)</span><span class="op" id="5290972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5290977">//&nbsp;separating&nbsp;&#34;,&#34;&nbsp;if&nbsp;needed</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291008">needsLinebreak</span>&nbsp;<span class="op" id="5291023">:=</span>&nbsp;<span class="num" id="5291026">0</span>&nbsp;<span class="op" id="5291028">&lt;</span>&nbsp;<span class="ident" id="5291030"><a href="/go/printer/nodes.go.html#5290528">prevLine</a></span>&nbsp;<span class="op" id="5291039">&amp;&amp;</span>&nbsp;<span class="ident" id="5291042"><a href="/go/printer/nodes.go.html#5290528">prevLine</a></span>&nbsp;<span class="op" id="5291051">&lt;</span>&nbsp;<span class="ident" id="5291053"><a href="/go/printer/nodes.go.html#5290779">parLineBeg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291067">if</span>&nbsp;<span class="ident" id="5291070"><a href="/go/printer/nodes.go.html#5290587">i</a></span>&nbsp;<span class="op" id="5291072">&gt;</span>&nbsp;<span class="num" id="5291074">0</span>&nbsp;<span class="op" id="5291076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291082">//&nbsp;use&nbsp;position&nbsp;of&nbsp;parameter&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291138">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comma&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291193">//&nbsp;only&nbsp;if&nbsp;the&nbsp;next&nbsp;parameter&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291247">if</span>&nbsp;<span class="op" id="5291250">!</span><span class="ident" id="5291251"><a href="/go/printer/nodes.go.html#5291008">needsLinebreak</a></span>&nbsp;<span class="op" id="5291266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291273"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5291274">.</span><span class="builtinfunc" id="5291275">print</span><span class="op" id="5291280">(</span><span class="ident" id="5291281"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5291284">.</span><span class="ident" id="5291285">Pos</span><span class="op" id="5291288">(</span><span class="op" id="5291289">)</span><span class="op" id="5291290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291302"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5291303">.</span><span class="builtinfunc" id="5291304">print</span><span class="op" id="5291309">(</span><span class="ident" id="5291310"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5291315">.</span><span class="ident" id="5291316">COMMA</span><span class="op" id="5291321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291326">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291331">//&nbsp;separator&nbsp;if&nbsp;needed&nbsp;(linebreak&nbsp;or&nbsp;blank)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291378">if</span>&nbsp;<span class="ident" id="5291381"><a href="/go/printer/nodes.go.html#5291008">needsLinebreak</a></span>&nbsp;<span class="op" id="5291396">&amp;&amp;</span>&nbsp;<span class="ident" id="5291399"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5291400">.</span><span class="ident" id="5291401">linebreak</span><span class="op" id="5291410">(</span><span class="ident" id="5291411"><a href="/go/printer/nodes.go.html#5290779">parLineBeg</a></span><span class="op" id="5291421">,</span>&nbsp;<span class="num" id="5291423">0</span><span class="op" id="5291424">,</span>&nbsp;<span class="ident" id="5291426"><a href="/go/printer/nodes.go.html#5290568">ws</a></span><span class="op" id="5291428">,</span>&nbsp;<span class="builtintype" id="5291430">true</span><span class="op" id="5291434">)</span>&nbsp;<span class="op" id="5291436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291442">//&nbsp;break&nbsp;line&nbsp;if&nbsp;the&nbsp;opening&nbsp;&#34;(&#34;&nbsp;or&nbsp;previous&nbsp;parameter&nbsp;ended&nbsp;on&nbsp;a&nbsp;different&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291527"><a href="/go/printer/nodes.go.html#5290568">ws</a></span>&nbsp;<span class="op" id="5291530">=</span>&nbsp;<span class="ident" id="5291532"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291542">}</span>&nbsp;<span class="keyword" id="5291544">else</span>&nbsp;<span class="keyword" id="5291549">if</span>&nbsp;<span class="ident" id="5291552"><a href="/go/printer/nodes.go.html#5290587">i</a></span>&nbsp;<span class="op" id="5291554">&gt;</span>&nbsp;<span class="num" id="5291556">0</span>&nbsp;<span class="op" id="5291558">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291564"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5291565">.</span><span class="builtinfunc" id="5291566">print</span><span class="op" id="5291571">(</span><span class="ident" id="5291572"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5291577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5291582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291587">//&nbsp;parameter&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5291609">if</span>&nbsp;<span class="builtinfunc" id="5291612">len</span><span class="op" id="5291615">(</span><span class="ident" id="5291616"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5291619">.</span><span class="ident" id="5291620">Names</span><span class="op" id="5291625">)</span>&nbsp;<span class="op" id="5291627">&gt;</span>&nbsp;<span class="num" id="5291629">0</span>&nbsp;<span class="op" id="5291631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291637">//&nbsp;Very&nbsp;subtle:&nbsp;If&nbsp;we&nbsp;indented&nbsp;before&nbsp;(ws&nbsp;==&nbsp;ignore),&nbsp;identList</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291705">//&nbsp;won&#39;t&nbsp;indent&nbsp;again.&nbsp;If&nbsp;we&nbsp;didn&#39;t&nbsp;(ws&nbsp;==&nbsp;indent),&nbsp;identList&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291776">//&nbsp;indent&nbsp;if&nbsp;the&nbsp;identList&nbsp;spans&nbsp;multiple&nbsp;lines,&nbsp;and&nbsp;it&nbsp;will&nbsp;outdent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291849">//&nbsp;again&nbsp;at&nbsp;the&nbsp;end&nbsp;(and&nbsp;still&nbsp;ws&nbsp;==&nbsp;indent).&nbsp;Thus,&nbsp;a&nbsp;subsequent&nbsp;indent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5291925">//&nbsp;by&nbsp;a&nbsp;linebreak&nbsp;call&nbsp;after&nbsp;a&nbsp;type,&nbsp;or&nbsp;in&nbsp;the&nbsp;next&nbsp;multi-line&nbsp;identList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292002">//&nbsp;will&nbsp;do&nbsp;the&nbsp;right&nbsp;thing.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292034"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292035">.</span><span class="ident" id="5292036">identList</span><span class="op" id="5292045">(</span><span class="ident" id="5292046"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5292049">.</span><span class="ident" id="5292050">Names</span><span class="op" id="5292055">,</span>&nbsp;<span class="ident" id="5292057"><a href="/go/printer/nodes.go.html#5290568">ws</a></span>&nbsp;<span class="op" id="5292060">==</span>&nbsp;<span class="ident" id="5292063"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5292069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292075"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292076">.</span><span class="builtinfunc" id="5292077">print</span><span class="op" id="5292082">(</span><span class="ident" id="5292083"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5292088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292098">//&nbsp;parameter&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292119"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292120">.</span><span class="ident" id="5292121">expr</span><span class="op" id="5292125">(</span><span class="ident" id="5292126"><a href="/go/printer/nodes.go.html#5308844">stripParensAlways</a></span><span class="op" id="5292143">(</span><span class="ident" id="5292144"><a href="/go/printer/nodes.go.html#5290590">par</a></span><span class="op" id="5292147">.</span><span class="ident" id="5292148">Type</span><span class="op" id="5292152">)</span><span class="op" id="5292153">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292158"><a href="/go/printer/nodes.go.html#5290528">prevLine</a></span>&nbsp;<span class="op" id="5292167">=</span>&nbsp;<span class="ident" id="5292169"><a href="/go/printer/nodes.go.html#5290935">parLineEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292186">//&nbsp;if&nbsp;the&nbsp;closing&nbsp;&#34;)&#34;&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line&nbsp;from&nbsp;the&nbsp;last&nbsp;parameter,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292257">//&nbsp;print&nbsp;an&nbsp;additional&nbsp;&#34;,&#34;&nbsp;and&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292301">if</span>&nbsp;<span class="ident" id="5292304">closing</span>&nbsp;<span class="op" id="5292312">:=</span>&nbsp;<span class="ident" id="5292315"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292316">.</span><span class="ident" id="5292317">lineFor</span><span class="op" id="5292324">(</span><span class="ident" id="5292325"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5292331">.</span><span class="ident" id="5292332">Closing</span><span class="op" id="5292339">)</span><span class="op" id="5292340">;</span>&nbsp;<span class="num" id="5292342">0</span>&nbsp;<span class="op" id="5292344">&lt;</span>&nbsp;<span class="ident" id="5292346"><a href="/go/printer/nodes.go.html#5290528">prevLine</a></span>&nbsp;<span class="op" id="5292355">&amp;&amp;</span>&nbsp;<span class="ident" id="5292358"><a href="/go/printer/nodes.go.html#5290528">prevLine</a></span>&nbsp;<span class="op" id="5292367">&lt;</span>&nbsp;<span class="ident" id="5292369"><a href="/go/printer/nodes.go.html#5292304">closing</a></span>&nbsp;<span class="op" id="5292377">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292382"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292383">.</span><span class="builtinfunc" id="5292384">print</span><span class="op" id="5292389">(</span><span class="ident" id="5292390"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5292395">.</span><span class="ident" id="5292396">COMMA</span><span class="op" id="5292401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292406"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292407">.</span><span class="ident" id="5292408">linebreak</span><span class="op" id="5292417">(</span><span class="ident" id="5292418"><a href="/go/printer/nodes.go.html#5292304">closing</a></span><span class="op" id="5292425">,</span>&nbsp;<span class="num" id="5292427">0</span><span class="op" id="5292428">,</span>&nbsp;<span class="ident" id="5292430"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5292436">,</span>&nbsp;<span class="builtintype" id="5292438">true</span><span class="op" id="5292442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292450">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292479">if</span>&nbsp;<span class="ident" id="5292482"><a href="/go/printer/nodes.go.html#5290568">ws</a></span>&nbsp;<span class="op" id="5292485">==</span>&nbsp;<span class="ident" id="5292488"><a href="/go/printer/printer.go.html#5324891">ignore</a></span>&nbsp;<span class="op" id="5292495">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292500"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292501">.</span><span class="builtinfunc" id="5292502">print</span><span class="op" id="5292507">(</span><span class="ident" id="5292508"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5292516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292526"><a href="/go/printer/nodes.go.html#5290412">p</a></span><span class="op" id="5292527">.</span><span class="builtinfunc" id="5292528">print</span><span class="op" id="5292533">(</span><span class="ident" id="5292534"><a href="/go/printer/nodes.go.html#5290435">fields</a></span><span class="op" id="5292540">.</span><span class="ident" id="5292541">Closing</span><span class="op" id="5292548">,</span>&nbsp;<span class="ident" id="5292550"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5292555">.</span><span class="ident" id="5292556">RPAREN</span><span class="op" id="5292562">)</span><br>
<span class="lineno"></span><span class="op" id="5292564">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="5292567">func</span>&nbsp;<span class="op" id="5292572">(</span><span class="ident" id="5292573">p</span>&nbsp;<span class="op" id="5292575">*</span><span class="ident" id="5292576"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5292583">)</span>&nbsp;<span class="ident" id="5292585">signature</span><span class="op" id="5292594">(</span><span class="ident" id="5292595">params</span><span class="op" id="5292601">,</span>&nbsp;<span class="ident" id="5292603">result</span>&nbsp;<span class="op" id="5292610">*</span><span class="ident" id="5292611"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5292614">.</span><span class="ident" id="5292615">FieldList</span><span class="op" id="5292624">)</span>&nbsp;<span class="op" id="5292626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292629">if</span>&nbsp;<span class="ident" id="5292632"><a href="/go/printer/nodes.go.html#5292595">params</a></span>&nbsp;<span class="op" id="5292639">!=</span>&nbsp;<span class="ident" id="5292642">nil</span>&nbsp;<span class="op" id="5292646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292650"><a href="/go/printer/nodes.go.html#5292573">p</a></span><span class="op" id="5292651">.</span><span class="ident" id="5292652">parameters</span><span class="op" id="5292662">(</span><span class="ident" id="5292663"><a href="/go/printer/nodes.go.html#5292595">params</a></span><span class="op" id="5292669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292672">}</span>&nbsp;<span class="keyword" id="5292674">else</span>&nbsp;<span class="op" id="5292679">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292683"><a href="/go/printer/nodes.go.html#5292573">p</a></span><span class="op" id="5292684">.</span><span class="builtinfunc" id="5292685">print</span><span class="op" id="5292690">(</span><span class="ident" id="5292691"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5292696">.</span><span class="ident" id="5292697">LPAREN</span><span class="op" id="5292703">,</span>&nbsp;<span class="ident" id="5292705"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5292710">.</span><span class="ident" id="5292711">RPAREN</span><span class="op" id="5292717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292723">n</span>&nbsp;<span class="op" id="5292725">:=</span>&nbsp;<span class="ident" id="5292728"><a href="/go/printer/nodes.go.html#5292603">result</a></span><span class="op" id="5292734">.</span><span class="ident" id="5292735">NumFields</span><span class="op" id="5292744">(</span><span class="op" id="5292745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292748">if</span>&nbsp;<span class="ident" id="5292751"><a href="/go/printer/nodes.go.html#5292723">n</a></span>&nbsp;<span class="op" id="5292753">&gt;</span>&nbsp;<span class="num" id="5292755">0</span>&nbsp;<span class="op" id="5292757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292761">//&nbsp;result&nbsp;!=&nbsp;nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292780"><a href="/go/printer/nodes.go.html#5292573">p</a></span><span class="op" id="5292781">.</span><span class="builtinfunc" id="5292782">print</span><span class="op" id="5292787">(</span><span class="ident" id="5292788"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5292793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292797">if</span>&nbsp;<span class="ident" id="5292800"><a href="/go/printer/nodes.go.html#5292723">n</a></span>&nbsp;<span class="op" id="5292802">==</span>&nbsp;<span class="num" id="5292805">1</span>&nbsp;<span class="op" id="5292807">&amp;&amp;</span>&nbsp;<span class="ident" id="5292810"><a href="/go/printer/nodes.go.html#5292603">result</a></span><span class="op" id="5292816">.</span><span class="ident" id="5292817">List</span><span class="op" id="5292821">[</span><span class="num" id="5292822">0</span><span class="op" id="5292823">]</span><span class="op" id="5292824">.</span><span class="ident" id="5292825">Names</span>&nbsp;<span class="op" id="5292831">==</span>&nbsp;<span class="ident" id="5292834">nil</span>&nbsp;<span class="op" id="5292838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292843">//&nbsp;single&nbsp;anonymous&nbsp;result;&nbsp;no&nbsp;()&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292882"><a href="/go/printer/nodes.go.html#5292573">p</a></span><span class="op" id="5292883">.</span><span class="ident" id="5292884">expr</span><span class="op" id="5292888">(</span><span class="ident" id="5292889"><a href="/go/printer/nodes.go.html#5308844">stripParensAlways</a></span><span class="op" id="5292906">(</span><span class="ident" id="5292907"><a href="/go/printer/nodes.go.html#5292603">result</a></span><span class="op" id="5292913">.</span><span class="ident" id="5292914">List</span><span class="op" id="5292918">[</span><span class="num" id="5292919">0</span><span class="op" id="5292920">]</span><span class="op" id="5292921">.</span><span class="ident" id="5292922">Type</span><span class="op" id="5292926">)</span><span class="op" id="5292927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292932">return</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292945"><a href="/go/printer/nodes.go.html#5292573">p</a></span><span class="op" id="5292946">.</span><span class="ident" id="5292947">parameters</span><span class="op" id="5292957">(</span><span class="ident" id="5292958"><a href="/go/printer/nodes.go.html#5292603">result</a></span><span class="op" id="5292964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292967">}</span><br>
<span class="lineno"></span><span class="op" id="5292969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5292972">func</span>&nbsp;<span class="ident" id="5292977">identListSize</span><span class="op" id="5292990">(</span><span class="ident" id="5292991">list</span>&nbsp;<span class="op" id="5292996">[</span><span class="op" id="5292997">]</span><span class="op" id="5292998">*</span><span class="ident" id="5292999"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5293002">.</span><span class="ident" id="5293003">Ident</span><span class="op" id="5293008">,</span>&nbsp;<span class="ident" id="5293010">maxSize</span>&nbsp;<span class="builtintype" id="5293018">int</span><span class="op" id="5293021">)</span>&nbsp;<span class="op" id="5293023">(</span><span class="ident" id="5293024">size</span>&nbsp;<span class="builtintype" id="5293029">int</span><span class="op" id="5293032">)</span>&nbsp;<span class="op" id="5293034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293037">for</span>&nbsp;<span class="ident" id="5293041">i</span><span class="op" id="5293042">,</span>&nbsp;<span class="ident" id="5293044">x</span>&nbsp;<span class="op" id="5293046">:=</span>&nbsp;<span class="keyword" id="5293049">range</span>&nbsp;<span class="ident" id="5293055"><a href="/go/printer/nodes.go.html#5292991">list</a></span>&nbsp;<span class="op" id="5293060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293064">if</span>&nbsp;<span class="ident" id="5293067"><a href="/go/printer/nodes.go.html#5293041">i</a></span>&nbsp;<span class="op" id="5293069">&gt;</span>&nbsp;<span class="num" id="5293071">0</span>&nbsp;<span class="op" id="5293073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293078"><a href="/go/printer/nodes.go.html#5293024">size</a></span>&nbsp;<span class="op" id="5293083">+=</span>&nbsp;<span class="builtinfunc" id="5293086">len</span><span class="op" id="5293089">(</span><span class="string" id="5293090">&#34;,&nbsp;&#34;</span><span class="op" id="5293094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293098">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293102"><a href="/go/printer/nodes.go.html#5293024">size</a></span>&nbsp;<span class="op" id="5293107">+=</span>&nbsp;<span class="ident" id="5293110"><a href="/go/printer/nodes.go.html#5282087">utf8</a></span><span class="op" id="5293114">.</span><span class="ident" id="5293115">RuneCountInString</span><span class="op" id="5293132">(</span><span class="ident" id="5293133"><a href="/go/printer/nodes.go.html#5293044">x</a></span><span class="op" id="5293134">.</span><span class="ident" id="5293135">Name</span><span class="op" id="5293139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293143">if</span>&nbsp;<span class="ident" id="5293146"><a href="/go/printer/nodes.go.html#5293024">size</a></span>&nbsp;<span class="op" id="5293151">&gt;=</span>&nbsp;<span class="ident" id="5293154"><a href="/go/printer/nodes.go.html#5293010">maxSize</a></span>&nbsp;<span class="op" id="5293162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293167">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293178">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293181">return</span><br>
<span class="lineno"></span><span class="op" id="5293188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5293191">func</span>&nbsp;<span class="op" id="5293196">(</span><span class="ident" id="5293197">p</span>&nbsp;<span class="op" id="5293199">*</span><span class="ident" id="5293200"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5293207">)</span>&nbsp;<span class="ident" id="5293209">isOneLineFieldList</span><span class="op" id="5293227">(</span><span class="ident" id="5293228">list</span>&nbsp;<span class="op" id="5293233">[</span><span class="op" id="5293234">]</span><span class="op" id="5293235">*</span><span class="ident" id="5293236"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5293239">.</span><span class="ident" id="5293240">Field</span><span class="op" id="5293245">)</span>&nbsp;<span class="builtintype" id="5293247">bool</span>&nbsp;<span class="op" id="5293252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293255">if</span>&nbsp;<span class="builtinfunc" id="5293258">len</span><span class="op" id="5293261">(</span><span class="ident" id="5293262"><a href="/go/printer/nodes.go.html#5293228">list</a></span><span class="op" id="5293266">)</span>&nbsp;<span class="op" id="5293268">!=</span>&nbsp;<span class="num" id="5293271">1</span>&nbsp;<span class="op" id="5293273">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293277">return</span>&nbsp;<span class="builtintype" id="5293284">false</span>&nbsp;<span class="comment" id="5293290">//&nbsp;allow&nbsp;only&nbsp;one&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293318">f</span>&nbsp;<span class="op" id="5293320">:=</span>&nbsp;<span class="ident" id="5293323"><a href="/go/printer/nodes.go.html#5293228">list</a></span><span class="op" id="5293327">[</span><span class="num" id="5293328">0</span><span class="op" id="5293329">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293332">if</span>&nbsp;<span class="ident" id="5293335"><a href="/go/printer/nodes.go.html#5293318">f</a></span><span class="op" id="5293336">.</span><span class="ident" id="5293337">Tag</span>&nbsp;<span class="op" id="5293341">!=</span>&nbsp;<span class="ident" id="5293344">nil</span>&nbsp;<span class="op" id="5293348">||</span>&nbsp;<span class="ident" id="5293351"><a href="/go/printer/nodes.go.html#5293318">f</a></span><span class="op" id="5293352">.</span><span class="ident" id="5293353">Comment</span>&nbsp;<span class="op" id="5293361">!=</span>&nbsp;<span class="ident" id="5293364">nil</span>&nbsp;<span class="op" id="5293368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293372">return</span>&nbsp;<span class="builtintype" id="5293379">false</span>&nbsp;<span class="comment" id="5293385">//&nbsp;don&#39;t&nbsp;allow&nbsp;tags&nbsp;or&nbsp;comments</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5293421">//&nbsp;only&nbsp;name(s)&nbsp;and&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293447">const</span>&nbsp;<span class="ident" id="5293453">maxSize</span>&nbsp;<span class="op" id="5293461">=</span>&nbsp;<span class="num" id="5293463">30</span>&nbsp;<span class="comment" id="5293466">//&nbsp;adjust&nbsp;as&nbsp;appropriate,&nbsp;this&nbsp;is&nbsp;an&nbsp;approximate&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293522">namesSize</span>&nbsp;<span class="op" id="5293532">:=</span>&nbsp;<span class="ident" id="5293535"><a href="/go/printer/nodes.go.html#5292977">identListSize</a></span><span class="op" id="5293548">(</span><span class="ident" id="5293549"><a href="/go/printer/nodes.go.html#5293318">f</a></span><span class="op" id="5293550">.</span><span class="ident" id="5293551">Names</span><span class="op" id="5293556">,</span>&nbsp;<span class="ident" id="5293558"><a href="/go/printer/nodes.go.html#5293453">maxSize</a></span><span class="op" id="5293565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293568">if</span>&nbsp;<span class="ident" id="5293571"><a href="/go/printer/nodes.go.html#5293522">namesSize</a></span>&nbsp;<span class="op" id="5293581">&gt;</span>&nbsp;<span class="num" id="5293583">0</span>&nbsp;<span class="op" id="5293585">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293589"><a href="/go/printer/nodes.go.html#5293522">namesSize</a></span>&nbsp;<span class="op" id="5293599">=</span>&nbsp;<span class="num" id="5293601">1</span>&nbsp;<span class="comment" id="5293603">//&nbsp;blank&nbsp;between&nbsp;names&nbsp;and&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293640">typeSize</span>&nbsp;<span class="op" id="5293649">:=</span>&nbsp;<span class="ident" id="5293652"><a href="/go/printer/nodes.go.html#5293197">p</a></span><span class="op" id="5293653">.</span><span class="ident" id="5293654">nodeSize</span><span class="op" id="5293662">(</span><span class="ident" id="5293663"><a href="/go/printer/nodes.go.html#5293318">f</a></span><span class="op" id="5293664">.</span><span class="ident" id="5293665">Type</span><span class="op" id="5293669">,</span>&nbsp;<span class="ident" id="5293671"><a href="/go/printer/nodes.go.html#5293453">maxSize</a></span><span class="op" id="5293678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293681">return</span>&nbsp;<span class="ident" id="5293688"><a href="/go/printer/nodes.go.html#5293522">namesSize</a></span><span class="op" id="5293697">+</span><span class="ident" id="5293698"><a href="/go/printer/nodes.go.html#5293640">typeSize</a></span>&nbsp;<span class="op" id="5293707">&lt;=</span>&nbsp;<span class="ident" id="5293710"><a href="/go/printer/nodes.go.html#5293453">maxSize</a></span><br>
<span class="lineno"></span><span class="op" id="5293718">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="5293721">func</span>&nbsp;<span class="op" id="5293726">(</span><span class="ident" id="5293727">p</span>&nbsp;<span class="op" id="5293729">*</span><span class="ident" id="5293730"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5293737">)</span>&nbsp;<span class="ident" id="5293739">setLineComment</span><span class="op" id="5293753">(</span><span class="ident" id="5293754">text</span>&nbsp;<span class="builtintype" id="5293759">string</span><span class="op" id="5293765">)</span>&nbsp;<span class="op" id="5293767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293770"><a href="/go/printer/nodes.go.html#5293727">p</a></span><span class="op" id="5293771">.</span><span class="ident" id="5293772">setComment</span><span class="op" id="5293782">(</span><span class="op" id="5293783">&amp;</span><span class="ident" id="5293784"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5293787">.</span><span class="ident" id="5293788">CommentGroup</span><span class="op" id="5293800">{</span><span class="ident" id="5293801">List</span><span class="op" id="5293805">:</span>&nbsp;<span class="op" id="5293807">[</span><span class="op" id="5293808">]</span><span class="op" id="5293809">*</span><span class="ident" id="5293810"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5293813">.</span><span class="ident" id="5293814">Comment</span><span class="op" id="5293821">{</span><span class="op" id="5293822">{</span><span class="ident" id="5293823">Slash</span><span class="op" id="5293828">:</span>&nbsp;<span class="ident" id="5293830"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5293835">.</span><span class="ident" id="5293836">NoPos</span><span class="op" id="5293841">,</span>&nbsp;<span class="ident" id="5293843">Text</span><span class="op" id="5293847">:</span>&nbsp;<span class="ident" id="5293849"><a href="/go/printer/nodes.go.html#5293754">text</a></span><span class="op" id="5293853">}</span><span class="op" id="5293854">}</span><span class="op" id="5293855">}</span><span class="op" id="5293856">)</span><br>
<span class="lineno"></span><span class="op" id="5293858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="keyword" id="5293861">func</span>&nbsp;<span class="op" id="5293866">(</span><span class="ident" id="5293867">p</span>&nbsp;<span class="op" id="5293869">*</span><span class="ident" id="5293870"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5293877">)</span>&nbsp;<span class="ident" id="5293879">fieldList</span><span class="op" id="5293888">(</span><span class="ident" id="5293889">fields</span>&nbsp;<span class="op" id="5293896">*</span><span class="ident" id="5293897"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5293900">.</span><span class="ident" id="5293901">FieldList</span><span class="op" id="5293910">,</span>&nbsp;<span class="ident" id="5293912">isStruct</span><span class="op" id="5293920">,</span>&nbsp;<span class="ident" id="5293922">isIncomplete</span>&nbsp;<span class="builtintype" id="5293935">bool</span><span class="op" id="5293939">)</span>&nbsp;<span class="op" id="5293941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293944">lbrace</span>&nbsp;<span class="op" id="5293951">:=</span>&nbsp;<span class="ident" id="5293954"><a href="/go/printer/nodes.go.html#5293889">fields</a></span><span class="op" id="5293960">.</span><span class="ident" id="5293961">Opening</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293970">list</span>&nbsp;<span class="op" id="5293975">:=</span>&nbsp;<span class="ident" id="5293978"><a href="/go/printer/nodes.go.html#5293889">fields</a></span><span class="op" id="5293984">.</span><span class="ident" id="5293985">List</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293991">rbrace</span>&nbsp;<span class="op" id="5293998">:=</span>&nbsp;<span class="ident" id="5294001"><a href="/go/printer/nodes.go.html#5293889">fields</a></span><span class="op" id="5294007">.</span><span class="ident" id="5294008">Closing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294017">hasComments</span>&nbsp;<span class="op" id="5294029">:=</span>&nbsp;<span class="ident" id="5294032"><a href="/go/printer/nodes.go.html#5293922">isIncomplete</a></span>&nbsp;<span class="op" id="5294045">||</span>&nbsp;<span class="ident" id="5294048"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294049">.</span><span class="ident" id="5294050">commentBefore</span><span class="op" id="5294063">(</span><span class="ident" id="5294064"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294065">.</span><span class="ident" id="5294066">posFor</span><span class="op" id="5294072">(</span><span class="ident" id="5294073"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5294079">)</span><span class="op" id="5294080">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294083">srcIsOneLine</span>&nbsp;<span class="op" id="5294096">:=</span>&nbsp;<span class="ident" id="5294099"><a href="/go/printer/nodes.go.html#5293944">lbrace</a></span><span class="op" id="5294105">.</span><span class="ident" id="5294106">IsValid</span><span class="op" id="5294113">(</span><span class="op" id="5294114">)</span>&nbsp;<span class="op" id="5294116">&amp;&amp;</span>&nbsp;<span class="ident" id="5294119"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5294125">.</span><span class="ident" id="5294126">IsValid</span><span class="op" id="5294133">(</span><span class="op" id="5294134">)</span>&nbsp;<span class="op" id="5294136">&amp;&amp;</span>&nbsp;<span class="ident" id="5294139"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294140">.</span><span class="ident" id="5294141">lineFor</span><span class="op" id="5294148">(</span><span class="ident" id="5294149"><a href="/go/printer/nodes.go.html#5293944">lbrace</a></span><span class="op" id="5294155">)</span>&nbsp;<span class="op" id="5294157">==</span>&nbsp;<span class="ident" id="5294160"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294161">.</span><span class="ident" id="5294162">lineFor</span><span class="op" id="5294169">(</span><span class="ident" id="5294170"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5294176">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294180">if</span>&nbsp;<span class="op" id="5294183">!</span><span class="ident" id="5294184"><a href="/go/printer/nodes.go.html#5294017">hasComments</a></span>&nbsp;<span class="op" id="5294196">&amp;&amp;</span>&nbsp;<span class="ident" id="5294199"><a href="/go/printer/nodes.go.html#5294083">srcIsOneLine</a></span>&nbsp;<span class="op" id="5294212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294216">//&nbsp;possibly&nbsp;a&nbsp;one-line&nbsp;struct/interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294258">if</span>&nbsp;<span class="builtinfunc" id="5294261">len</span><span class="op" id="5294264">(</span><span class="ident" id="5294265"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5294269">)</span>&nbsp;<span class="op" id="5294271">==</span>&nbsp;<span class="num" id="5294274">0</span>&nbsp;<span class="op" id="5294276">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294281">//&nbsp;no&nbsp;blank&nbsp;between&nbsp;keyword&nbsp;and&nbsp;{}&nbsp;in&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294332"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294333">.</span><span class="builtinfunc" id="5294334">print</span><span class="op" id="5294339">(</span><span class="ident" id="5294340"><a href="/go/printer/nodes.go.html#5293944">lbrace</a></span><span class="op" id="5294346">,</span>&nbsp;<span class="ident" id="5294348"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294353">.</span><span class="ident" id="5294354">LBRACE</span><span class="op" id="5294360">,</span>&nbsp;<span class="ident" id="5294362"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5294368">,</span>&nbsp;<span class="ident" id="5294370"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294375">.</span><span class="ident" id="5294376">RBRACE</span><span class="op" id="5294382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294387">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294396">}</span>&nbsp;<span class="keyword" id="5294398">else</span>&nbsp;<span class="keyword" id="5294403">if</span>&nbsp;<span class="ident" id="5294406"><a href="/go/printer/nodes.go.html#5293912">isStruct</a></span>&nbsp;<span class="op" id="5294415">&amp;&amp;</span>&nbsp;<span class="ident" id="5294418"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294419">.</span><span class="ident" id="5294420">isOneLineFieldList</span><span class="op" id="5294438">(</span><span class="ident" id="5294439"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5294443">)</span>&nbsp;<span class="op" id="5294445">{</span>&nbsp;<span class="comment" id="5294447">//&nbsp;for&nbsp;now&nbsp;ignore&nbsp;interfaces</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294479">//&nbsp;small&nbsp;enough&nbsp;-&nbsp;print&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294518">//&nbsp;(don&#39;t&nbsp;use&nbsp;identList&nbsp;and&nbsp;ignore&nbsp;source&nbsp;line&nbsp;breaks)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294576"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294577">.</span><span class="builtinfunc" id="5294578">print</span><span class="op" id="5294583">(</span><span class="ident" id="5294584"><a href="/go/printer/nodes.go.html#5293944">lbrace</a></span><span class="op" id="5294590">,</span>&nbsp;<span class="ident" id="5294592"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294597">.</span><span class="ident" id="5294598">LBRACE</span><span class="op" id="5294604">,</span>&nbsp;<span class="ident" id="5294606"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5294611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294616">f</span>&nbsp;<span class="op" id="5294618">:=</span>&nbsp;<span class="ident" id="5294621"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5294625">[</span><span class="num" id="5294626">0</span><span class="op" id="5294627">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294632">for</span>&nbsp;<span class="ident" id="5294636">i</span><span class="op" id="5294637">,</span>&nbsp;<span class="ident" id="5294639">x</span>&nbsp;<span class="op" id="5294641">:=</span>&nbsp;<span class="keyword" id="5294644">range</span>&nbsp;<span class="ident" id="5294650"><a href="/go/printer/nodes.go.html#5294616">f</a></span><span class="op" id="5294651">.</span><span class="ident" id="5294652">Names</span>&nbsp;<span class="op" id="5294658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294664">if</span>&nbsp;<span class="ident" id="5294667"><a href="/go/printer/nodes.go.html#5294636">i</a></span>&nbsp;<span class="op" id="5294669">&gt;</span>&nbsp;<span class="num" id="5294671">0</span>&nbsp;<span class="op" id="5294673">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294680">//&nbsp;no&nbsp;comments&nbsp;so&nbsp;no&nbsp;need&nbsp;for&nbsp;comma&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294730"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294731">.</span><span class="builtinfunc" id="5294732">print</span><span class="op" id="5294737">(</span><span class="ident" id="5294738"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294743">.</span><span class="ident" id="5294744">COMMA</span><span class="op" id="5294749">,</span>&nbsp;<span class="ident" id="5294751"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5294756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294768"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294769">.</span><span class="ident" id="5294770">expr</span><span class="op" id="5294774">(</span><span class="ident" id="5294775"><a href="/go/printer/nodes.go.html#5294639">x</a></span><span class="op" id="5294776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294781">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294786">if</span>&nbsp;<span class="builtinfunc" id="5294789">len</span><span class="op" id="5294792">(</span><span class="ident" id="5294793"><a href="/go/printer/nodes.go.html#5294616">f</a></span><span class="op" id="5294794">.</span><span class="ident" id="5294795">Names</span><span class="op" id="5294800">)</span>&nbsp;<span class="op" id="5294802">&gt;</span>&nbsp;<span class="num" id="5294804">0</span>&nbsp;<span class="op" id="5294806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294812"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294813">.</span><span class="builtinfunc" id="5294814">print</span><span class="op" id="5294819">(</span><span class="ident" id="5294820"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5294825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294835"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294836">.</span><span class="ident" id="5294837">expr</span><span class="op" id="5294841">(</span><span class="ident" id="5294842"><a href="/go/printer/nodes.go.html#5294616">f</a></span><span class="op" id="5294843">.</span><span class="ident" id="5294844">Type</span><span class="op" id="5294848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294853"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294854">.</span><span class="builtinfunc" id="5294855">print</span><span class="op" id="5294860">(</span><span class="ident" id="5294861"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5294866">,</span>&nbsp;<span class="ident" id="5294868"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5294874">,</span>&nbsp;<span class="ident" id="5294876"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294881">.</span><span class="ident" id="5294882">RBRACE</span><span class="op" id="5294888">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294893">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294908">//&nbsp;hasComments&nbsp;||&nbsp;!srcIsOneLine</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294942"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5294943">.</span><span class="builtinfunc" id="5294944">print</span><span class="op" id="5294949">(</span><span class="ident" id="5294950"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5294955">,</span>&nbsp;<span class="ident" id="5294957"><a href="/go/printer/nodes.go.html#5293944">lbrace</a></span><span class="op" id="5294963">,</span>&nbsp;<span class="ident" id="5294965"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5294970">.</span><span class="ident" id="5294971">LBRACE</span><span class="op" id="5294977">,</span>&nbsp;<span class="ident" id="5294979"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5294985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294988">if</span>&nbsp;<span class="ident" id="5294991"><a href="/go/printer/nodes.go.html#5294017">hasComments</a></span>&nbsp;<span class="op" id="5295003">||</span>&nbsp;<span class="builtinfunc" id="5295006">len</span><span class="op" id="5295009">(</span><span class="ident" id="5295010"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5295014">)</span>&nbsp;<span class="op" id="5295016">&gt;</span>&nbsp;<span class="num" id="5295018">0</span>&nbsp;<span class="op" id="5295020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295024"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295025">.</span><span class="builtinfunc" id="5295026">print</span><span class="op" id="5295031">(</span><span class="ident" id="5295032"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5295040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295047">if</span>&nbsp;<span class="ident" id="5295050"><a href="/go/printer/nodes.go.html#5293912">isStruct</a></span>&nbsp;<span class="op" id="5295059">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295064">sep</span>&nbsp;<span class="op" id="5295068">:=</span>&nbsp;<span class="ident" id="5295071"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295078">if</span>&nbsp;<span class="builtinfunc" id="5295081">len</span><span class="op" id="5295084">(</span><span class="ident" id="5295085"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5295089">)</span>&nbsp;<span class="op" id="5295091">==</span>&nbsp;<span class="num" id="5295094">1</span>&nbsp;<span class="op" id="5295096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295101"><a href="/go/printer/nodes.go.html#5295064">sep</a></span>&nbsp;<span class="op" id="5295105">=</span>&nbsp;<span class="ident" id="5295107"><a href="/go/printer/printer.go.html#5324917">blank</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295119">var</span>&nbsp;<span class="ident" id="5295123">line</span>&nbsp;<span class="builtintype" id="5295128">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295134">for</span>&nbsp;<span class="ident" id="5295138">i</span><span class="op" id="5295139">,</span>&nbsp;<span class="ident" id="5295141">f</span>&nbsp;<span class="op" id="5295143">:=</span>&nbsp;<span class="keyword" id="5295146">range</span>&nbsp;<span class="ident" id="5295152"><a href="/go/printer/nodes.go.html#5293970">list</a></span>&nbsp;<span class="op" id="5295157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295162">if</span>&nbsp;<span class="ident" id="5295165"><a href="/go/printer/nodes.go.html#5295138">i</a></span>&nbsp;<span class="op" id="5295167">&gt;</span>&nbsp;<span class="num" id="5295169">0</span>&nbsp;<span class="op" id="5295171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295177"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295178">.</span><span class="ident" id="5295179">linebreak</span><span class="op" id="5295188">(</span><span class="ident" id="5295189"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295190">.</span><span class="ident" id="5295191">lineFor</span><span class="op" id="5295198">(</span><span class="ident" id="5295199"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295200">.</span><span class="ident" id="5295201">Pos</span><span class="op" id="5295204">(</span><span class="op" id="5295205">)</span><span class="op" id="5295206">)</span><span class="op" id="5295207">,</span>&nbsp;<span class="num" id="5295209">1</span><span class="op" id="5295210">,</span>&nbsp;<span class="ident" id="5295212"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5295218">,</span>&nbsp;<span class="ident" id="5295220"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295221">.</span><span class="ident" id="5295222">linesFrom</span><span class="op" id="5295231">(</span><span class="ident" id="5295232"><a href="/go/printer/nodes.go.html#5295123">line</a></span><span class="op" id="5295236">)</span>&nbsp;<span class="op" id="5295238">&gt;</span>&nbsp;<span class="num" id="5295240">0</span><span class="op" id="5295241">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295251">extraTabs</span>&nbsp;<span class="op" id="5295261">:=</span>&nbsp;<span class="num" id="5295264">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295269"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295270">.</span><span class="ident" id="5295271">setComment</span><span class="op" id="5295281">(</span><span class="ident" id="5295282"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295283">.</span><span class="ident" id="5295284">Doc</span><span class="op" id="5295287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295292"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295293">.</span><span class="ident" id="5295294">recordLine</span><span class="op" id="5295304">(</span><span class="op" id="5295305">&amp;</span><span class="ident" id="5295306"><a href="/go/printer/nodes.go.html#5295123">line</a></span><span class="op" id="5295310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295315">if</span>&nbsp;<span class="builtinfunc" id="5295318">len</span><span class="op" id="5295321">(</span><span class="ident" id="5295322"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295323">.</span><span class="ident" id="5295324">Names</span><span class="op" id="5295329">)</span>&nbsp;<span class="op" id="5295331">&gt;</span>&nbsp;<span class="num" id="5295333">0</span>&nbsp;<span class="op" id="5295335">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5295341">//&nbsp;named&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295361"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295362">.</span><span class="ident" id="5295363">identList</span><span class="op" id="5295372">(</span><span class="ident" id="5295373"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295374">.</span><span class="ident" id="5295375">Names</span><span class="op" id="5295380">,</span>&nbsp;<span class="builtintype" id="5295382">false</span><span class="op" id="5295387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295393"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295394">.</span><span class="builtinfunc" id="5295395">print</span><span class="op" id="5295400">(</span><span class="ident" id="5295401"><a href="/go/printer/nodes.go.html#5295064">sep</a></span><span class="op" id="5295404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295410"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295411">.</span><span class="ident" id="5295412">expr</span><span class="op" id="5295416">(</span><span class="ident" id="5295417"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295418">.</span><span class="ident" id="5295419">Type</span><span class="op" id="5295423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295429"><a href="/go/printer/nodes.go.html#5295251">extraTabs</a></span>&nbsp;<span class="op" id="5295439">=</span>&nbsp;<span class="num" id="5295441">1</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295446">}</span>&nbsp;<span class="keyword" id="5295448">else</span>&nbsp;<span class="op" id="5295453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5295459">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295482"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295483">.</span><span class="ident" id="5295484">expr</span><span class="op" id="5295488">(</span><span class="ident" id="5295489"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295490">.</span><span class="ident" id="5295491">Type</span><span class="op" id="5295495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295501"><a href="/go/printer/nodes.go.html#5295251">extraTabs</a></span>&nbsp;<span class="op" id="5295511">=</span>&nbsp;<span class="num" id="5295513">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295518">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295523">if</span>&nbsp;<span class="ident" id="5295526"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295527">.</span><span class="ident" id="5295528">Tag</span>&nbsp;<span class="op" id="5295532">!=</span>&nbsp;<span class="ident" id="5295535">nil</span>&nbsp;<span class="op" id="5295539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295545">if</span>&nbsp;<span class="builtinfunc" id="5295548">len</span><span class="op" id="5295551">(</span><span class="ident" id="5295552"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295553">.</span><span class="ident" id="5295554">Names</span><span class="op" id="5295559">)</span>&nbsp;<span class="op" id="5295561">&gt;</span>&nbsp;<span class="num" id="5295563">0</span>&nbsp;<span class="op" id="5295565">&amp;&amp;</span>&nbsp;<span class="ident" id="5295568"><a href="/go/printer/nodes.go.html#5295064">sep</a></span>&nbsp;<span class="op" id="5295572">==</span>&nbsp;<span class="ident" id="5295575"><a href="/go/printer/printer.go.html#5324945">vtab</a></span>&nbsp;<span class="op" id="5295580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295587"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295588">.</span><span class="builtinfunc" id="5295589">print</span><span class="op" id="5295594">(</span><span class="ident" id="5295595"><a href="/go/printer/nodes.go.html#5295064">sep</a></span><span class="op" id="5295598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295610"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295611">.</span><span class="builtinfunc" id="5295612">print</span><span class="op" id="5295617">(</span><span class="ident" id="5295618"><a href="/go/printer/nodes.go.html#5295064">sep</a></span><span class="op" id="5295621">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295627"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295628">.</span><span class="ident" id="5295629">expr</span><span class="op" id="5295633">(</span><span class="ident" id="5295634"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295635">.</span><span class="ident" id="5295636">Tag</span><span class="op" id="5295639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295645"><a href="/go/printer/nodes.go.html#5295251">extraTabs</a></span>&nbsp;<span class="op" id="5295655">=</span>&nbsp;<span class="num" id="5295657">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295667">if</span>&nbsp;<span class="ident" id="5295670"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295671">.</span><span class="ident" id="5295672">Comment</span>&nbsp;<span class="op" id="5295680">!=</span>&nbsp;<span class="ident" id="5295683">nil</span>&nbsp;<span class="op" id="5295687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295693">for</span>&nbsp;<span class="op" id="5295697">;</span>&nbsp;<span class="ident" id="5295699"><a href="/go/printer/nodes.go.html#5295251">extraTabs</a></span>&nbsp;<span class="op" id="5295709">&gt;</span>&nbsp;<span class="num" id="5295711">0</span><span class="op" id="5295712">;</span>&nbsp;<span class="ident" id="5295714"><a href="/go/printer/nodes.go.html#5295251">extraTabs</a></span><span class="op" id="5295723">--</span>&nbsp;<span class="op" id="5295726">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295733"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295734">.</span><span class="builtinfunc" id="5295735">print</span><span class="op" id="5295740">(</span><span class="ident" id="5295741"><a href="/go/printer/nodes.go.html#5295064">sep</a></span><span class="op" id="5295744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295756"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295757">.</span><span class="ident" id="5295758">setComment</span><span class="op" id="5295768">(</span><span class="ident" id="5295769"><a href="/go/printer/nodes.go.html#5295141">f</a></span><span class="op" id="5295770">.</span><span class="ident" id="5295771">Comment</span><span class="op" id="5295778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295787">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295791">if</span>&nbsp;<span class="ident" id="5295794"><a href="/go/printer/nodes.go.html#5293922">isIncomplete</a></span>&nbsp;<span class="op" id="5295807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295812">if</span>&nbsp;<span class="builtinfunc" id="5295815">len</span><span class="op" id="5295818">(</span><span class="ident" id="5295819"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5295823">)</span>&nbsp;<span class="op" id="5295825">&gt;</span>&nbsp;<span class="num" id="5295827">0</span>&nbsp;<span class="op" id="5295829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295835"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295836">.</span><span class="builtinfunc" id="5295837">print</span><span class="op" id="5295842">(</span><span class="ident" id="5295843"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5295851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295861"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295862">.</span><span class="ident" id="5295863">flush</span><span class="op" id="5295868">(</span><span class="ident" id="5295869"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295870">.</span><span class="ident" id="5295871">posFor</span><span class="op" id="5295877">(</span><span class="ident" id="5295878"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5295884">)</span><span class="op" id="5295885">,</span>&nbsp;<span class="ident" id="5295887"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5295892">.</span><span class="ident" id="5295893">RBRACE</span><span class="op" id="5295899">)</span>&nbsp;<span class="comment" id="5295901">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295953"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5295954">.</span><span class="ident" id="5295955">setLineComment</span><span class="op" id="5295969">(</span><span class="string" id="5295970">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;fields&#34;</span><span class="op" id="5296013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296021">}</span>&nbsp;<span class="keyword" id="5296023">else</span>&nbsp;<span class="op" id="5296028">{</span>&nbsp;<span class="comment" id="5296030">//&nbsp;interface</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296046">var</span>&nbsp;<span class="ident" id="5296050">line</span>&nbsp;<span class="builtintype" id="5296055">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296061">for</span>&nbsp;<span class="ident" id="5296065">i</span><span class="op" id="5296066">,</span>&nbsp;<span class="ident" id="5296068">f</span>&nbsp;<span class="op" id="5296070">:=</span>&nbsp;<span class="keyword" id="5296073">range</span>&nbsp;<span class="ident" id="5296079"><a href="/go/printer/nodes.go.html#5293970">list</a></span>&nbsp;<span class="op" id="5296084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296089">if</span>&nbsp;<span class="ident" id="5296092"><a href="/go/printer/nodes.go.html#5296065">i</a></span>&nbsp;<span class="op" id="5296094">&gt;</span>&nbsp;<span class="num" id="5296096">0</span>&nbsp;<span class="op" id="5296098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296104"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296105">.</span><span class="ident" id="5296106">linebreak</span><span class="op" id="5296115">(</span><span class="ident" id="5296116"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296117">.</span><span class="ident" id="5296118">lineFor</span><span class="op" id="5296125">(</span><span class="ident" id="5296126"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296127">.</span><span class="ident" id="5296128">Pos</span><span class="op" id="5296131">(</span><span class="op" id="5296132">)</span><span class="op" id="5296133">)</span><span class="op" id="5296134">,</span>&nbsp;<span class="num" id="5296136">1</span><span class="op" id="5296137">,</span>&nbsp;<span class="ident" id="5296139"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5296145">,</span>&nbsp;<span class="ident" id="5296147"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296148">.</span><span class="ident" id="5296149">linesFrom</span><span class="op" id="5296158">(</span><span class="ident" id="5296159"><a href="/go/printer/nodes.go.html#5296050">line</a></span><span class="op" id="5296163">)</span>&nbsp;<span class="op" id="5296165">&gt;</span>&nbsp;<span class="num" id="5296167">0</span><span class="op" id="5296168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296173">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296178"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296179">.</span><span class="ident" id="5296180">setComment</span><span class="op" id="5296190">(</span><span class="ident" id="5296191"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296192">.</span><span class="ident" id="5296193">Doc</span><span class="op" id="5296196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296201"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296202">.</span><span class="ident" id="5296203">recordLine</span><span class="op" id="5296213">(</span><span class="op" id="5296214">&amp;</span><span class="ident" id="5296215"><a href="/go/printer/nodes.go.html#5296050">line</a></span><span class="op" id="5296219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296224">if</span>&nbsp;<span class="ident" id="5296227">ftyp</span><span class="op" id="5296231">,</span>&nbsp;<span class="ident" id="5296233">isFtyp</span>&nbsp;<span class="op" id="5296240">:=</span>&nbsp;<span class="ident" id="5296243"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296244">.</span><span class="ident" id="5296245">Type</span><span class="op" id="5296249">.</span><span class="op" id="5296250">(</span><span class="op" id="5296251">*</span><span class="ident" id="5296252"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5296255">.</span><span class="ident" id="5296256">FuncType</span><span class="op" id="5296264">)</span><span class="op" id="5296265">;</span>&nbsp;<span class="ident" id="5296267"><a href="/go/printer/nodes.go.html#5296233">isFtyp</a></span>&nbsp;<span class="op" id="5296274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5296280">//&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296294"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296295">.</span><span class="ident" id="5296296">expr</span><span class="op" id="5296300">(</span><span class="ident" id="5296301"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296302">.</span><span class="ident" id="5296303">Names</span><span class="op" id="5296308">[</span><span class="num" id="5296309">0</span><span class="op" id="5296310">]</span><span class="op" id="5296311">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296317"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296318">.</span><span class="ident" id="5296319">signature</span><span class="op" id="5296328">(</span><span class="ident" id="5296329"><a href="/go/printer/nodes.go.html#5296227">ftyp</a></span><span class="op" id="5296333">.</span><span class="ident" id="5296334">Params</span><span class="op" id="5296340">,</span>&nbsp;<span class="ident" id="5296342"><a href="/go/printer/nodes.go.html#5296227">ftyp</a></span><span class="op" id="5296346">.</span><span class="ident" id="5296347">Results</span><span class="op" id="5296354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296359">}</span>&nbsp;<span class="keyword" id="5296361">else</span>&nbsp;<span class="op" id="5296366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5296372">//&nbsp;embedded&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296398"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296399">.</span><span class="ident" id="5296400">expr</span><span class="op" id="5296404">(</span><span class="ident" id="5296405"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296406">.</span><span class="ident" id="5296407">Type</span><span class="op" id="5296411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296416">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296421"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296422">.</span><span class="ident" id="5296423">setComment</span><span class="op" id="5296433">(</span><span class="ident" id="5296434"><a href="/go/printer/nodes.go.html#5296068">f</a></span><span class="op" id="5296435">.</span><span class="ident" id="5296436">Comment</span><span class="op" id="5296443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296451">if</span>&nbsp;<span class="ident" id="5296454"><a href="/go/printer/nodes.go.html#5293922">isIncomplete</a></span>&nbsp;<span class="op" id="5296467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296472">if</span>&nbsp;<span class="builtinfunc" id="5296475">len</span><span class="op" id="5296478">(</span><span class="ident" id="5296479"><a href="/go/printer/nodes.go.html#5293970">list</a></span><span class="op" id="5296483">)</span>&nbsp;<span class="op" id="5296485">&gt;</span>&nbsp;<span class="num" id="5296487">0</span>&nbsp;<span class="op" id="5296489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296495"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296496">.</span><span class="builtinfunc" id="5296497">print</span><span class="op" id="5296502">(</span><span class="ident" id="5296503"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5296511">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296521"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296522">.</span><span class="ident" id="5296523">flush</span><span class="op" id="5296528">(</span><span class="ident" id="5296529"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296530">.</span><span class="ident" id="5296531">posFor</span><span class="op" id="5296537">(</span><span class="ident" id="5296538"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5296544">)</span><span class="op" id="5296545">,</span>&nbsp;<span class="ident" id="5296547"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5296552">.</span><span class="ident" id="5296553">RBRACE</span><span class="op" id="5296559">)</span>&nbsp;<span class="comment" id="5296561">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296613"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296614">.</span><span class="ident" id="5296615">setLineComment</span><span class="op" id="5296629">(</span><span class="string" id="5296630">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;methods&#34;</span><span class="op" id="5296674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296685"><a href="/go/printer/nodes.go.html#5293867">p</a></span><span class="op" id="5296686">.</span><span class="builtinfunc" id="5296687">print</span><span class="op" id="5296692">(</span><span class="ident" id="5296693"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5296701">,</span>&nbsp;<span class="ident" id="5296703"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5296711">,</span>&nbsp;<span class="ident" id="5296713"><a href="/go/printer/nodes.go.html#5293991">rbrace</a></span><span class="op" id="5296719">,</span>&nbsp;<span class="ident" id="5296721"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5296726">.</span><span class="ident" id="5296727">RBRACE</span><span class="op" id="5296733">)</span><br>
<span class="lineno"></span><span class="op" id="5296735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5296738">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">505</span><span class="comment" id="5296818">//&nbsp;Expressions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5296834">func</span>&nbsp;<span class="ident" id="5296839">walkBinary</span><span class="op" id="5296849">(</span><span class="ident" id="5296850">e</span>&nbsp;<span class="op" id="5296852">*</span><span class="ident" id="5296853"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5296856">.</span><span class="ident" id="5296857">BinaryExpr</span><span class="op" id="5296867">)</span>&nbsp;<span class="op" id="5296869">(</span><span class="ident" id="5296870">has4</span><span class="op" id="5296874">,</span>&nbsp;<span class="ident" id="5296876">has5</span>&nbsp;<span class="builtintype" id="5296881">bool</span><span class="op" id="5296885">,</span>&nbsp;<span class="ident" id="5296887">maxProblem</span>&nbsp;<span class="builtintype" id="5296898">int</span><span class="op" id="5296901">)</span>&nbsp;<span class="op" id="5296903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296906">switch</span>&nbsp;<span class="ident" id="5296913"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5296914">.</span><span class="ident" id="5296915">Op</span><span class="op" id="5296917">.</span><span class="ident" id="5296918">Precedence</span><span class="op" id="5296928">(</span><span class="op" id="5296929">)</span>&nbsp;<span class="op" id="5296931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296934">case</span>&nbsp;<span class="num" id="5296939">4</span><span class="op" id="5296940">:</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296944"><a href="/go/printer/nodes.go.html#5296870">has4</a></span>&nbsp;<span class="op" id="5296949">=</span>&nbsp;<span class="builtintype" id="5296951">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296957">case</span>&nbsp;<span class="num" id="5296962">5</span><span class="op" id="5296963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296967"><a href="/go/printer/nodes.go.html#5296876">has5</a></span>&nbsp;<span class="op" id="5296972">=</span>&nbsp;<span class="builtintype" id="5296974">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296984">switch</span>&nbsp;<span class="ident" id="5296991">l</span>&nbsp;<span class="op" id="5296993">:=</span>&nbsp;<span class="ident" id="5296996"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5296997">.</span><span class="ident" id="5296998">X</span><span class="op" id="5296999">.</span><span class="op" id="5297000">(</span><span class="keyword" id="5297001">type</span><span class="op" id="5297005">)</span>&nbsp;<span class="op" id="5297007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297010">case</span>&nbsp;<span class="op" id="5297015">*</span><span class="ident" id="5297016"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5297019">.</span><span class="ident" id="5297020">BinaryExpr</span><span class="op" id="5297030">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297034">if</span>&nbsp;<span class="ident" id="5297037"><a href="/go/printer/nodes.go.html#5296991">l</a></span><span class="op" id="5297038">.</span><span class="ident" id="5297039">Op</span><span class="op" id="5297041">.</span><span class="ident" id="5297042">Precedence</span><span class="op" id="5297052">(</span><span class="op" id="5297053">)</span>&nbsp;<span class="op" id="5297055">&lt;</span>&nbsp;<span class="ident" id="5297057"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5297058">.</span><span class="ident" id="5297059">Op</span><span class="op" id="5297061">.</span><span class="ident" id="5297062">Precedence</span><span class="op" id="5297072">(</span><span class="op" id="5297073">)</span>&nbsp;<span class="op" id="5297075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5297080">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5297111">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297167">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297179">h4</span><span class="op" id="5297181">,</span>&nbsp;<span class="ident" id="5297183">h5</span><span class="op" id="5297185">,</span>&nbsp;<span class="ident" id="5297187">mp</span>&nbsp;<span class="op" id="5297190">:=</span>&nbsp;<span class="ident" id="5297193"><a href="/go/printer/nodes.go.html#5296839">walkBinary</a></span><span class="op" id="5297203">(</span><span class="ident" id="5297204"><a href="/go/printer/nodes.go.html#5296991">l</a></span><span class="op" id="5297205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297209"><a href="/go/printer/nodes.go.html#5296870">has4</a></span>&nbsp;<span class="op" id="5297214">=</span>&nbsp;<span class="ident" id="5297216"><a href="/go/printer/nodes.go.html#5296870">has4</a></span>&nbsp;<span class="op" id="5297221">||</span>&nbsp;<span class="ident" id="5297224"><a href="/go/printer/nodes.go.html#5297179">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297229"><a href="/go/printer/nodes.go.html#5296876">has5</a></span>&nbsp;<span class="op" id="5297234">=</span>&nbsp;<span class="ident" id="5297236"><a href="/go/printer/nodes.go.html#5296876">has5</a></span>&nbsp;<span class="op" id="5297241">||</span>&nbsp;<span class="ident" id="5297244"><a href="/go/printer/nodes.go.html#5297183">h5</a></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297249">if</span>&nbsp;<span class="ident" id="5297252"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297263">&lt;</span>&nbsp;<span class="ident" id="5297265"><a href="/go/printer/nodes.go.html#5297187">mp</a></span>&nbsp;<span class="op" id="5297268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297273"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297284">=</span>&nbsp;<span class="ident" id="5297286"><a href="/go/printer/nodes.go.html#5297187">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297298">switch</span>&nbsp;<span class="ident" id="5297305">r</span>&nbsp;<span class="op" id="5297307">:=</span>&nbsp;<span class="ident" id="5297310"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5297311">.</span><span class="ident" id="5297312">Y</span><span class="op" id="5297313">.</span><span class="op" id="5297314">(</span><span class="keyword" id="5297315">type</span><span class="op" id="5297319">)</span>&nbsp;<span class="op" id="5297321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297324">case</span>&nbsp;<span class="op" id="5297329">*</span><span class="ident" id="5297330"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5297333">.</span><span class="ident" id="5297334">BinaryExpr</span><span class="op" id="5297344">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297348">if</span>&nbsp;<span class="ident" id="5297351"><a href="/go/printer/nodes.go.html#5297305">r</a></span><span class="op" id="5297352">.</span><span class="ident" id="5297353">Op</span><span class="op" id="5297355">.</span><span class="ident" id="5297356">Precedence</span><span class="op" id="5297366">(</span><span class="op" id="5297367">)</span>&nbsp;<span class="op" id="5297369">&lt;=</span>&nbsp;<span class="ident" id="5297372"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5297373">.</span><span class="ident" id="5297374">Op</span><span class="op" id="5297376">.</span><span class="ident" id="5297377">Precedence</span><span class="op" id="5297387">(</span><span class="op" id="5297388">)</span>&nbsp;<span class="op" id="5297390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5297395">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5297426">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297482">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297494">h4</span><span class="op" id="5297496">,</span>&nbsp;<span class="ident" id="5297498">h5</span><span class="op" id="5297500">,</span>&nbsp;<span class="ident" id="5297502">mp</span>&nbsp;<span class="op" id="5297505">:=</span>&nbsp;<span class="ident" id="5297508"><a href="/go/printer/nodes.go.html#5296839">walkBinary</a></span><span class="op" id="5297518">(</span><span class="ident" id="5297519"><a href="/go/printer/nodes.go.html#5297305">r</a></span><span class="op" id="5297520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297524"><a href="/go/printer/nodes.go.html#5296870">has4</a></span>&nbsp;<span class="op" id="5297529">=</span>&nbsp;<span class="ident" id="5297531"><a href="/go/printer/nodes.go.html#5296870">has4</a></span>&nbsp;<span class="op" id="5297536">||</span>&nbsp;<span class="ident" id="5297539"><a href="/go/printer/nodes.go.html#5297494">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297544"><a href="/go/printer/nodes.go.html#5296876">has5</a></span>&nbsp;<span class="op" id="5297549">=</span>&nbsp;<span class="ident" id="5297551"><a href="/go/printer/nodes.go.html#5296876">has5</a></span>&nbsp;<span class="op" id="5297556">||</span>&nbsp;<span class="ident" id="5297559"><a href="/go/printer/nodes.go.html#5297498">h5</a></span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297564">if</span>&nbsp;<span class="ident" id="5297567"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297578">&lt;</span>&nbsp;<span class="ident" id="5297580"><a href="/go/printer/nodes.go.html#5297502">mp</a></span>&nbsp;<span class="op" id="5297583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297588"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297599">=</span>&nbsp;<span class="ident" id="5297601"><a href="/go/printer/nodes.go.html#5297502">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297610">case</span>&nbsp;<span class="op" id="5297615">*</span><span class="ident" id="5297616"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5297619">.</span><span class="ident" id="5297620">StarExpr</span><span class="op" id="5297628">:</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297632">if</span>&nbsp;<span class="ident" id="5297635"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5297636">.</span><span class="ident" id="5297637">Op</span>&nbsp;<span class="op" id="5297640">==</span>&nbsp;<span class="ident" id="5297643"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5297648">.</span><span class="ident" id="5297649">QUO</span>&nbsp;<span class="op" id="5297653">{</span>&nbsp;<span class="comment" id="5297655">//&nbsp;`*/`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297666"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297677">=</span>&nbsp;<span class="num" id="5297679">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297687">case</span>&nbsp;<span class="op" id="5297692">*</span><span class="ident" id="5297693"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5297696">.</span><span class="ident" id="5297697">UnaryExpr</span><span class="op" id="5297706">:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297710">switch</span>&nbsp;<span class="ident" id="5297717"><a href="/go/printer/nodes.go.html#5296850">e</a></span><span class="op" id="5297718">.</span><span class="ident" id="5297719">Op</span><span class="op" id="5297721">.</span><span class="ident" id="5297722">String</span><span class="op" id="5297728">(</span><span class="op" id="5297729">)</span>&nbsp;<span class="op" id="5297731">+</span>&nbsp;<span class="ident" id="5297733"><a href="/go/printer/nodes.go.html#5297305">r</a></span><span class="op" id="5297734">.</span><span class="ident" id="5297735">Op</span><span class="op" id="5297737">.</span><span class="ident" id="5297738">String</span><span class="op" id="5297744">(</span><span class="op" id="5297745">)</span>&nbsp;<span class="op" id="5297747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297751">case</span>&nbsp;<span class="string" id="5297756">&#34;/*&#34;</span><span class="op" id="5297760">,</span>&nbsp;<span class="string" id="5297762">&#34;&amp;&amp;&#34;</span><span class="op" id="5297766">,</span>&nbsp;<span class="string" id="5297768">&#34;&amp;^&#34;</span><span class="op" id="5297772">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297777"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297788">=</span>&nbsp;<span class="num" id="5297790">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297794">case</span>&nbsp;<span class="string" id="5297799">&#34;++&#34;</span><span class="op" id="5297803">,</span>&nbsp;<span class="string" id="5297805">&#34;--&#34;</span><span class="op" id="5297809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297814">if</span>&nbsp;<span class="ident" id="5297817"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297828">&lt;</span>&nbsp;<span class="num" id="5297830">4</span>&nbsp;<span class="op" id="5297832">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297838"><a href="/go/printer/nodes.go.html#5296887">maxProblem</a></span>&nbsp;<span class="op" id="5297849">=</span>&nbsp;<span class="num" id="5297851">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297866">return</span><br>
<span class="lineno">560</span><span class="op" id="5297873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5297876">func</span>&nbsp;<span class="ident" id="5297881">cutoff</span><span class="op" id="5297887">(</span><span class="ident" id="5297888">e</span>&nbsp;<span class="op" id="5297890">*</span><span class="ident" id="5297891"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5297894">.</span><span class="ident" id="5297895">BinaryExpr</span><span class="op" id="5297905">,</span>&nbsp;<span class="ident" id="5297907">depth</span>&nbsp;<span class="builtintype" id="5297913">int</span><span class="op" id="5297916">)</span>&nbsp;<span class="builtintype" id="5297918">int</span>&nbsp;<span class="op" id="5297922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297925">has4</span><span class="op" id="5297929">,</span>&nbsp;<span class="ident" id="5297931">has5</span><span class="op" id="5297935">,</span>&nbsp;<span class="ident" id="5297937">maxProblem</span>&nbsp;<span class="op" id="5297948">:=</span>&nbsp;<span class="ident" id="5297951"><a href="/go/printer/nodes.go.html#5296839">walkBinary</a></span><span class="op" id="5297961">(</span><span class="ident" id="5297962"><a href="/go/printer/nodes.go.html#5297888">e</a></span><span class="op" id="5297963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297966">if</span>&nbsp;<span class="ident" id="5297969"><a href="/go/printer/nodes.go.html#5297937">maxProblem</a></span>&nbsp;<span class="op" id="5297980">&gt;</span>&nbsp;<span class="num" id="5297982">0</span>&nbsp;<span class="op" id="5297984">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297988">return</span>&nbsp;<span class="ident" id="5297995"><a href="/go/printer/nodes.go.html#5297937">maxProblem</a></span>&nbsp;<span class="op" id="5298006">+</span>&nbsp;<span class="num" id="5298008">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298014">if</span>&nbsp;<span class="ident" id="5298017"><a href="/go/printer/nodes.go.html#5297925">has4</a></span>&nbsp;<span class="op" id="5298022">&amp;&amp;</span>&nbsp;<span class="ident" id="5298025"><a href="/go/printer/nodes.go.html#5297931">has5</a></span>&nbsp;<span class="op" id="5298030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298034">if</span>&nbsp;<span class="ident" id="5298037"><a href="/go/printer/nodes.go.html#5297907">depth</a></span>&nbsp;<span class="op" id="5298043">==</span>&nbsp;<span class="num" id="5298046">1</span>&nbsp;<span class="op" id="5298048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298053">return</span>&nbsp;<span class="num" id="5298060">5</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298068">return</span>&nbsp;<span class="num" id="5298075">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298081">if</span>&nbsp;<span class="ident" id="5298084"><a href="/go/printer/nodes.go.html#5297907">depth</a></span>&nbsp;<span class="op" id="5298090">==</span>&nbsp;<span class="num" id="5298093">1</span>&nbsp;<span class="op" id="5298095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298099">return</span>&nbsp;<span class="num" id="5298106">6</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298112">return</span>&nbsp;<span class="num" id="5298119">4</span><br>
<span class="lineno"></span><span class="op" id="5298121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5298124">func</span>&nbsp;<span class="ident" id="5298129">diffPrec</span><span class="op" id="5298137">(</span><span class="ident" id="5298138">expr</span>&nbsp;<span class="ident" id="5298143"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5298146">.</span><span class="ident" id="5298147">Expr</span><span class="op" id="5298151">,</span>&nbsp;<span class="ident" id="5298153">prec</span>&nbsp;<span class="builtintype" id="5298158">int</span><span class="op" id="5298161">)</span>&nbsp;<span class="builtintype" id="5298163">int</span>&nbsp;<span class="op" id="5298167">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5298170">x</span><span class="op" id="5298171">,</span>&nbsp;<span class="ident" id="5298173">ok</span>&nbsp;<span class="op" id="5298176">:=</span>&nbsp;<span class="ident" id="5298179"><a href="/go/printer/nodes.go.html#5298138">expr</a></span><span class="op" id="5298183">.</span><span class="op" id="5298184">(</span><span class="op" id="5298185">*</span><span class="ident" id="5298186"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5298189">.</span><span class="ident" id="5298190">BinaryExpr</span><span class="op" id="5298200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298203">if</span>&nbsp;<span class="op" id="5298206">!</span><span class="ident" id="5298207"><a href="/go/printer/nodes.go.html#5298173">ok</a></span>&nbsp;<span class="op" id="5298210">||</span>&nbsp;<span class="ident" id="5298213"><a href="/go/printer/nodes.go.html#5298153">prec</a></span>&nbsp;<span class="op" id="5298218">!=</span>&nbsp;<span class="ident" id="5298221"><a href="/go/printer/nodes.go.html#5298170">x</a></span><span class="op" id="5298222">.</span><span class="ident" id="5298223">Op</span><span class="op" id="5298225">.</span><span class="ident" id="5298226">Precedence</span><span class="op" id="5298236">(</span><span class="op" id="5298237">)</span>&nbsp;<span class="op" id="5298239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298243">return</span>&nbsp;<span class="num" id="5298250">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298256">return</span>&nbsp;<span class="num" id="5298263">0</span><br>
<span class="lineno">585</span><span class="op" id="5298265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5298268">func</span>&nbsp;<span class="ident" id="5298273">reduceDepth</span><span class="op" id="5298284">(</span><span class="ident" id="5298285">depth</span>&nbsp;<span class="builtintype" id="5298291">int</span><span class="op" id="5298294">)</span>&nbsp;<span class="builtintype" id="5298296">int</span>&nbsp;<span class="op" id="5298300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5298303"><a href="/go/printer/nodes.go.html#5298285">depth</a></span><span class="op" id="5298308">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298312">if</span>&nbsp;<span class="ident" id="5298315"><a href="/go/printer/nodes.go.html#5298285">depth</a></span>&nbsp;<span class="op" id="5298321">&lt;</span>&nbsp;<span class="num" id="5298323">1</span>&nbsp;<span class="op" id="5298325">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5298329"><a href="/go/printer/nodes.go.html#5298285">depth</a></span>&nbsp;<span class="op" id="5298335">=</span>&nbsp;<span class="num" id="5298337">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5298340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5298343">return</span>&nbsp;<span class="ident" id="5298350"><a href="/go/printer/nodes.go.html#5298285">depth</a></span><br>
<span class="lineno"></span><span class="op" id="5298356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="5298359">//&nbsp;Format&nbsp;the&nbsp;binary&nbsp;expression:&nbsp;decide&nbsp;the&nbsp;cutoff&nbsp;and&nbsp;then&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5298427">//&nbsp;Let&#39;s&nbsp;call&nbsp;depth&nbsp;==&nbsp;1&nbsp;Normal&nbsp;mode,&nbsp;and&nbsp;depth&nbsp;&gt;&nbsp;1&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="5298493">//&nbsp;(Algorithm&nbsp;suggestion&nbsp;by&nbsp;Russ&nbsp;Cox.)</span><br>
<span class="lineno"></span><span class="comment" id="5298532">//</span><br>
<span class="lineno"></span><span class="comment" id="5298535">//&nbsp;The&nbsp;precedences&nbsp;are:</span><br>
<span class="lineno">600</span><span class="comment" id="5298559">//&nbsp;&nbsp;&nbsp;&nbsp5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;/&nbsp;&nbsp;%&nbsp;&nbsp;&lt;&lt;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&amp;&nbsp;&nbsp;&amp;^</span><br>
<span class="lineno"></span><span class="comment" id="5298599">//&nbsp;&nbsp;&nbsp;&nbsp4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;-&nbsp;&nbsp;|&nbsp;&nbsp;^</span><br>
<span class="lineno"></span><span class="comment" id="5298627">//&nbsp;&nbsp;&nbsp;&nbsp3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;&nbsp;!=&nbsp;&nbsp;&lt;&nbsp;&nbsp;&lt;=&nbsp;&nbsp;&gt;&nbsp;&nbsp;&gt;=</span><br>
<span class="lineno"></span><span class="comment" id="5298665">//&nbsp;&nbsp;&nbsp;&nbsp2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;</span><br>
<span class="lineno"></span><span class="comment" id="5298685">//&nbsp;&nbsp;&nbsp;&nbsp1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||</span><br>
<span class="lineno">605</span><span class="comment" id="5298705">//</span><br>
<span class="lineno"></span><span class="comment" id="5298708">//&nbsp;The&nbsp;only&nbsp;decision&nbsp;is&nbsp;whether&nbsp;there&nbsp;will&nbsp;be&nbsp;spaces&nbsp;around&nbsp;levels&nbsp;4&nbsp;and&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="5298784">//&nbsp;There&nbsp;are&nbsp;never&nbsp;spaces&nbsp;at&nbsp;level&nbsp;6&nbsp;(unary),&nbsp;and&nbsp;always&nbsp;spaces&nbsp;at&nbsp;levels&nbsp;3&nbsp;and&nbsp;below.</span><br>
<span class="lineno"></span><span class="comment" id="5298871">//</span><br>
<span class="lineno"></span><span class="comment" id="5298874">//&nbsp;To&nbsp;choose&nbsp;the&nbsp;cutoff,&nbsp;look&nbsp;at&nbsp;the&nbsp;whole&nbsp;expression&nbsp;but&nbsp;excluding&nbsp;primary</span><br>
<span class="lineno">610</span><span class="comment" id="5298950">//&nbsp;expressions&nbsp;(function&nbsp;calls,&nbsp;parenthesized&nbsp;exprs),&nbsp;and&nbsp;apply&nbsp;these&nbsp;rules:</span><br>
<span class="lineno"></span><span class="comment" id="5299027">//</span><br>
<span class="lineno"></span><span class="comment" id="5299030">//&nbsp;&nbsp;&nbsp;&nbsp1)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;binary&nbsp;operator&nbsp;with&nbsp;a&nbsp;right&nbsp;side&nbsp;unary&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="5299098">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;that&nbsp;would&nbsp;clash&nbsp;without&nbsp;a&nbsp;space,&nbsp;the&nbsp;cutoff&nbsp;must&nbsp;be&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="5299169">//</span><br>
<span class="lineno">615</span><span class="comment" id="5299172">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="5299181">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&amp;&amp;&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="5299190">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&amp;^&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="5299199">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp++&nbsp;&nbsp;&nbsp;&nbsp5</span><br>
<span class="lineno"></span><span class="comment" id="5299208">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp--&nbsp;&nbsp;&nbsp;&nbsp5</span><br>
<span class="lineno">620</span><span class="comment" id="5299217">//</span><br>
<span class="lineno"></span><span class="comment" id="5299220">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Comparison&nbsp;operators&nbsp;always&nbsp;have&nbsp;spaces&nbsp;around&nbsp;them.)</span><br>
<span class="lineno"></span><span class="comment" id="5299286">//</span><br>
<span class="lineno"></span><span class="comment" id="5299289">//&nbsp;&nbsp;&nbsp;&nbsp2)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;mix&nbsp;of&nbsp;level&nbsp;5&nbsp;and&nbsp;level&nbsp;4&nbsp;operators,&nbsp;then&nbsp;the&nbsp;cutoff</span><br>
<span class="lineno"></span><span class="comment" id="5299363">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;is&nbsp;5&nbsp;(use&nbsp;spaces&nbsp;to&nbsp;distinguish&nbsp;precedence)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno">625</span><span class="comment" id="5299428">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="5299476">//</span><br>
<span class="lineno"></span><span class="comment" id="5299479">//&nbsp;&nbsp;&nbsp;&nbsp3)&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;level&nbsp;4&nbsp;operators&nbsp;or&nbsp;no&nbsp;level&nbsp;5&nbsp;operators,&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5299553">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;cutoff&nbsp;is&nbsp;6&nbsp;(always&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno"></span><span class="comment" id="5299606">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno">630</span><span class="comment" id="5299654">//</span><br>
<span class="lineno"></span><span class="keyword" id="5299657">func</span>&nbsp;<span class="op" id="5299662">(</span><span class="ident" id="5299663">p</span>&nbsp;<span class="op" id="5299665">*</span><span class="ident" id="5299666"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5299673">)</span>&nbsp;<span class="ident" id="5299675">binaryExpr</span><span class="op" id="5299685">(</span><span class="ident" id="5299686">x</span>&nbsp;<span class="op" id="5299688">*</span><span class="ident" id="5299689"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5299692">.</span><span class="ident" id="5299693">BinaryExpr</span><span class="op" id="5299703">,</span>&nbsp;<span class="ident" id="5299705">prec1</span><span class="op" id="5299710">,</span>&nbsp;<span class="ident" id="5299712">cutoff</span><span class="op" id="5299718">,</span>&nbsp;<span class="ident" id="5299720">depth</span>&nbsp;<span class="builtintype" id="5299726">int</span><span class="op" id="5299729">)</span>&nbsp;<span class="op" id="5299731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5299734">prec</span>&nbsp;<span class="op" id="5299739">:=</span>&nbsp;<span class="ident" id="5299742"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5299743">.</span><span class="ident" id="5299744">Op</span><span class="op" id="5299746">.</span><span class="ident" id="5299747">Precedence</span><span class="op" id="5299757">(</span><span class="op" id="5299758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5299761">if</span>&nbsp;<span class="ident" id="5299764"><a href="/go/printer/nodes.go.html#5299734">prec</a></span>&nbsp;<span class="op" id="5299769">&lt;</span>&nbsp;<span class="ident" id="5299771"><a href="/go/printer/nodes.go.html#5299705">prec1</a></span>&nbsp;<span class="op" id="5299777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5299781">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5299805">//&nbsp;Note:&nbsp;The&nbsp;parser&nbsp;inserts&nbsp;an&nbsp;ast.ParenExpr&nbsp;node;&nbsp;thus&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5299873">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;only&nbsp;occur&nbsp;if&nbsp;the&nbsp;AST&nbsp;is&nbsp;created&nbsp;in&nbsp;a&nbsp;different&nbsp;way.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5299941"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5299942">.</span><span class="builtinfunc" id="5299943">print</span><span class="op" id="5299948">(</span><span class="ident" id="5299949"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5299954">.</span><span class="ident" id="5299955">LPAREN</span><span class="op" id="5299961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5299965"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5299966">.</span><span class="ident" id="5299967">expr0</span><span class="op" id="5299972">(</span><span class="ident" id="5299973"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5299974">,</span>&nbsp;<span class="ident" id="5299976"><a href="/go/printer/nodes.go.html#5298273">reduceDepth</a></span><span class="op" id="5299987">(</span><span class="ident" id="5299988"><a href="/go/printer/nodes.go.html#5299720">depth</a></span><span class="op" id="5299993">)</span><span class="op" id="5299994">)</span>&nbsp;<span class="comment" id="5299996">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300037"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300038">.</span><span class="builtinfunc" id="5300039">print</span><span class="op" id="5300044">(</span><span class="ident" id="5300045"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5300050">.</span><span class="ident" id="5300051">RPAREN</span><span class="op" id="5300057">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300061">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300073">printBlank</span>&nbsp;<span class="op" id="5300084">:=</span>&nbsp;<span class="ident" id="5300087"><a href="/go/printer/nodes.go.html#5299734">prec</a></span>&nbsp;<span class="op" id="5300092">&lt;</span>&nbsp;<span class="ident" id="5300094"><a href="/go/printer/nodes.go.html#5299712">cutoff</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300103">ws</span>&nbsp;<span class="op" id="5300106">:=</span>&nbsp;<span class="ident" id="5300109"><a href="/go/printer/printer.go.html#5325032">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300117"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300118">.</span><span class="ident" id="5300119">expr1</span><span class="op" id="5300124">(</span><span class="ident" id="5300125"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300126">.</span><span class="ident" id="5300127">X</span><span class="op" id="5300128">,</span>&nbsp;<span class="ident" id="5300130"><a href="/go/printer/nodes.go.html#5299734">prec</a></span><span class="op" id="5300134">,</span>&nbsp;<span class="ident" id="5300136"><a href="/go/printer/nodes.go.html#5299720">depth</a></span><span class="op" id="5300141">+</span><span class="ident" id="5300142"><a href="/go/printer/nodes.go.html#5298129">diffPrec</a></span><span class="op" id="5300150">(</span><span class="ident" id="5300151"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300152">.</span><span class="ident" id="5300153">X</span><span class="op" id="5300154">,</span>&nbsp;<span class="ident" id="5300156"><a href="/go/printer/nodes.go.html#5299734">prec</a></span><span class="op" id="5300160">)</span><span class="op" id="5300161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300164">if</span>&nbsp;<span class="ident" id="5300167"><a href="/go/printer/nodes.go.html#5300073">printBlank</a></span>&nbsp;<span class="op" id="5300178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300182"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300183">.</span><span class="builtinfunc" id="5300184">print</span><span class="op" id="5300189">(</span><span class="ident" id="5300190"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5300195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300198">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300201">xline</span>&nbsp;<span class="op" id="5300207">:=</span>&nbsp;<span class="ident" id="5300210"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300211">.</span><span class="ident" id="5300212">pos</span><span class="op" id="5300215">.</span><span class="ident" id="5300216">Line</span>&nbsp;<span class="comment" id="5300221">//&nbsp;before&nbsp;the&nbsp;operator&nbsp;(it&nbsp;may&nbsp;be&nbsp;on&nbsp;the&nbsp;next&nbsp;line!)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300275">yline</span>&nbsp;<span class="op" id="5300281">:=</span>&nbsp;<span class="ident" id="5300284"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300285">.</span><span class="ident" id="5300286">lineFor</span><span class="op" id="5300293">(</span><span class="ident" id="5300294"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300295">.</span><span class="ident" id="5300296">Y</span><span class="op" id="5300297">.</span><span class="ident" id="5300298">Pos</span><span class="op" id="5300301">(</span><span class="op" id="5300302">)</span><span class="op" id="5300303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300306"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300307">.</span><span class="builtinfunc" id="5300308">print</span><span class="op" id="5300313">(</span><span class="ident" id="5300314"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300315">.</span><span class="ident" id="5300316">OpPos</span><span class="op" id="5300321">,</span>&nbsp;<span class="ident" id="5300323"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300324">.</span><span class="ident" id="5300325">Op</span><span class="op" id="5300327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300330">if</span>&nbsp;<span class="ident" id="5300333"><a href="/go/printer/nodes.go.html#5300201">xline</a></span>&nbsp;<span class="op" id="5300339">!=</span>&nbsp;<span class="ident" id="5300342"><a href="/go/printer/nodes.go.html#5300275">yline</a></span>&nbsp;<span class="op" id="5300348">&amp;&amp;</span>&nbsp;<span class="ident" id="5300351"><a href="/go/printer/nodes.go.html#5300201">xline</a></span>&nbsp;<span class="op" id="5300357">&gt;</span>&nbsp;<span class="num" id="5300359">0</span>&nbsp;<span class="op" id="5300361">&amp;&amp;</span>&nbsp;<span class="ident" id="5300364"><a href="/go/printer/nodes.go.html#5300275">yline</a></span>&nbsp;<span class="op" id="5300370">&gt;</span>&nbsp;<span class="num" id="5300372">0</span>&nbsp;<span class="op" id="5300374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5300378">//&nbsp;at&nbsp;least&nbsp;one&nbsp;line&nbsp;break,&nbsp;but&nbsp;respect&nbsp;an&nbsp;extra&nbsp;empty&nbsp;line</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5300440">//&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300459">if</span>&nbsp;<span class="ident" id="5300462"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300463">.</span><span class="ident" id="5300464">linebreak</span><span class="op" id="5300473">(</span><span class="ident" id="5300474"><a href="/go/printer/nodes.go.html#5300275">yline</a></span><span class="op" id="5300479">,</span>&nbsp;<span class="num" id="5300481">1</span><span class="op" id="5300482">,</span>&nbsp;<span class="ident" id="5300484"><a href="/go/printer/nodes.go.html#5300103">ws</a></span><span class="op" id="5300486">,</span>&nbsp;<span class="builtintype" id="5300488">true</span><span class="op" id="5300492">)</span>&nbsp;<span class="op" id="5300494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300499"><a href="/go/printer/nodes.go.html#5300103">ws</a></span>&nbsp;<span class="op" id="5300502">=</span>&nbsp;<span class="ident" id="5300504"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300514"><a href="/go/printer/nodes.go.html#5300073">printBlank</a></span>&nbsp;<span class="op" id="5300525">=</span>&nbsp;<span class="builtintype" id="5300527">false</span>&nbsp;<span class="comment" id="5300533">//&nbsp;no&nbsp;blank&nbsp;after&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300564">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300570">if</span>&nbsp;<span class="ident" id="5300573"><a href="/go/printer/nodes.go.html#5300073">printBlank</a></span>&nbsp;<span class="op" id="5300584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300588"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300589">.</span><span class="builtinfunc" id="5300590">print</span><span class="op" id="5300595">(</span><span class="ident" id="5300596"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5300601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300607"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300608">.</span><span class="ident" id="5300609">expr1</span><span class="op" id="5300614">(</span><span class="ident" id="5300615"><a href="/go/printer/nodes.go.html#5299686">x</a></span><span class="op" id="5300616">.</span><span class="ident" id="5300617">Y</span><span class="op" id="5300618">,</span>&nbsp;<span class="ident" id="5300620"><a href="/go/printer/nodes.go.html#5299734">prec</a></span><span class="op" id="5300624">+</span><span class="num" id="5300625">1</span><span class="op" id="5300626">,</span>&nbsp;<span class="ident" id="5300628"><a href="/go/printer/nodes.go.html#5299720">depth</a></span><span class="op" id="5300633">+</span><span class="num" id="5300634">1</span><span class="op" id="5300635">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300638">if</span>&nbsp;<span class="ident" id="5300641"><a href="/go/printer/nodes.go.html#5300103">ws</a></span>&nbsp;<span class="op" id="5300644">==</span>&nbsp;<span class="ident" id="5300647"><a href="/go/printer/printer.go.html#5324891">ignore</a></span>&nbsp;<span class="op" id="5300654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300658"><a href="/go/printer/nodes.go.html#5299663">p</a></span><span class="op" id="5300659">.</span><span class="builtinfunc" id="5300660">print</span><span class="op" id="5300665">(</span><span class="ident" id="5300666"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5300674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5300677">}</span><br>
<span class="lineno"></span><span class="op" id="5300679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">670</span><span class="keyword" id="5300682">func</span>&nbsp;<span class="ident" id="5300687">isBinary</span><span class="op" id="5300695">(</span><span class="ident" id="5300696">expr</span>&nbsp;<span class="ident" id="5300701"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300704">.</span><span class="ident" id="5300705">Expr</span><span class="op" id="5300709">)</span>&nbsp;<span class="builtintype" id="5300711">bool</span>&nbsp;<span class="op" id="5300716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300719">_</span><span class="op" id="5300720">,</span>&nbsp;<span class="ident" id="5300722">ok</span>&nbsp;<span class="op" id="5300725">:=</span>&nbsp;<span class="ident" id="5300728"><a href="/go/printer/nodes.go.html#5300696">expr</a></span><span class="op" id="5300732">.</span><span class="op" id="5300733">(</span><span class="op" id="5300734">*</span><span class="ident" id="5300735"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300738">.</span><span class="ident" id="5300739">BinaryExpr</span><span class="op" id="5300749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300752">return</span>&nbsp;<span class="ident" id="5300759"><a href="/go/printer/nodes.go.html#5300722">ok</a></span><br>
<span class="lineno"></span><span class="op" id="5300762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="5300765">func</span>&nbsp;<span class="op" id="5300770">(</span><span class="ident" id="5300771">p</span>&nbsp;<span class="op" id="5300773">*</span><span class="ident" id="5300774"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5300781">)</span>&nbsp;<span class="ident" id="5300783">expr1</span><span class="op" id="5300788">(</span><span class="ident" id="5300789">expr</span>&nbsp;<span class="ident" id="5300794"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300797">.</span><span class="ident" id="5300798">Expr</span><span class="op" id="5300802">,</span>&nbsp;<span class="ident" id="5300804">prec1</span><span class="op" id="5300809">,</span>&nbsp;<span class="ident" id="5300811">depth</span>&nbsp;<span class="builtintype" id="5300817">int</span><span class="op" id="5300820">)</span>&nbsp;<span class="op" id="5300822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300825"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5300826">.</span><span class="builtinfunc" id="5300827">print</span><span class="op" id="5300832">(</span><span class="ident" id="5300833"><a href="/go/printer/nodes.go.html#5300789">expr</a></span><span class="op" id="5300837">.</span><span class="ident" id="5300838">Pos</span><span class="op" id="5300841">(</span><span class="op" id="5300842">)</span><span class="op" id="5300843">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300847">switch</span>&nbsp;<span class="ident" id="5300854">x</span>&nbsp;<span class="op" id="5300856">:=</span>&nbsp;<span class="ident" id="5300859"><a href="/go/printer/nodes.go.html#5300789">expr</a></span><span class="op" id="5300863">.</span><span class="op" id="5300864">(</span><span class="keyword" id="5300865">type</span><span class="op" id="5300869">)</span>&nbsp;<span class="op" id="5300871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300874">case</span>&nbsp;<span class="op" id="5300879">*</span><span class="ident" id="5300880"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300883">.</span><span class="ident" id="5300884">BadExpr</span><span class="op" id="5300891">:</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300895"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5300896">.</span><span class="builtinfunc" id="5300897">print</span><span class="op" id="5300902">(</span><span class="string" id="5300903">&#34;BadExpr&#34;</span><span class="op" id="5300912">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300916">case</span>&nbsp;<span class="op" id="5300921">*</span><span class="ident" id="5300922"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300925">.</span><span class="ident" id="5300926">Ident</span><span class="op" id="5300931">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300935"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5300936">.</span><span class="builtinfunc" id="5300937">print</span><span class="op" id="5300942">(</span><span class="ident" id="5300943"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5300944">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300948">case</span>&nbsp;<span class="op" id="5300953">*</span><span class="ident" id="5300954"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5300957">.</span><span class="ident" id="5300958">BinaryExpr</span><span class="op" id="5300968">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5300972">if</span>&nbsp;<span class="ident" id="5300975"><a href="/go/printer/nodes.go.html#5300811">depth</a></span>&nbsp;<span class="op" id="5300981">&lt;</span>&nbsp;<span class="num" id="5300983">1</span>&nbsp;<span class="op" id="5300985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5300990"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5300991">.</span><span class="ident" id="5300992">internalError</span><span class="op" id="5301005">(</span><span class="string" id="5301006">&#34;depth&nbsp;&lt;&nbsp;1:&#34;</span><span class="op" id="5301018">,</span>&nbsp;<span class="ident" id="5301020"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5301025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301030"><a href="/go/printer/nodes.go.html#5300811">depth</a></span>&nbsp;<span class="op" id="5301036">=</span>&nbsp;<span class="num" id="5301038">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301042">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301046"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301047">.</span><span class="ident" id="5301048">binaryExpr</span><span class="op" id="5301058">(</span><span class="ident" id="5301059"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301060">,</span>&nbsp;<span class="ident" id="5301062"><a href="/go/printer/nodes.go.html#5300804">prec1</a></span><span class="op" id="5301067">,</span>&nbsp;<span class="ident" id="5301069"><a href="/go/printer/nodes.go.html#5297881">cutoff</a></span><span class="op" id="5301075">(</span><span class="ident" id="5301076"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301077">,</span>&nbsp;<span class="ident" id="5301079"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5301084">)</span><span class="op" id="5301085">,</span>&nbsp;<span class="ident" id="5301087"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5301092">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301096">case</span>&nbsp;<span class="op" id="5301101">*</span><span class="ident" id="5301102"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301105">.</span><span class="ident" id="5301106">KeyValueExpr</span><span class="op" id="5301118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301122"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301123">.</span><span class="ident" id="5301124">expr</span><span class="op" id="5301128">(</span><span class="ident" id="5301129"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301130">.</span><span class="ident" id="5301131">Key</span><span class="op" id="5301134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301138"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301139">.</span><span class="builtinfunc" id="5301140">print</span><span class="op" id="5301145">(</span><span class="ident" id="5301146"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301147">.</span><span class="ident" id="5301148">Colon</span><span class="op" id="5301153">,</span>&nbsp;<span class="ident" id="5301155"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301160">.</span><span class="ident" id="5301161">COLON</span><span class="op" id="5301166">,</span>&nbsp;<span class="ident" id="5301168"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5301173">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301177"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301178">.</span><span class="ident" id="5301179">expr</span><span class="op" id="5301183">(</span><span class="ident" id="5301184"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301185">.</span><span class="ident" id="5301186">Value</span><span class="op" id="5301191">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301195">case</span>&nbsp;<span class="op" id="5301200">*</span><span class="ident" id="5301201"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301204">.</span><span class="ident" id="5301205">StarExpr</span><span class="op" id="5301213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301217">const</span>&nbsp;<span class="ident" id="5301223">prec</span>&nbsp;<span class="op" id="5301228">=</span>&nbsp;<span class="ident" id="5301230"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301235">.</span><span class="ident" id="5301236">UnaryPrec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301248">if</span>&nbsp;<span class="ident" id="5301251"><a href="/go/printer/nodes.go.html#5301223">prec</a></span>&nbsp;<span class="op" id="5301256">&lt;</span>&nbsp;<span class="ident" id="5301258"><a href="/go/printer/nodes.go.html#5300804">prec1</a></span>&nbsp;<span class="op" id="5301264">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5301269">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301294"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301295">.</span><span class="builtinfunc" id="5301296">print</span><span class="op" id="5301301">(</span><span class="ident" id="5301302"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301307">.</span><span class="ident" id="5301308">LPAREN</span><span class="op" id="5301314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301319"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301320">.</span><span class="builtinfunc" id="5301321">print</span><span class="op" id="5301326">(</span><span class="ident" id="5301327"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301332">.</span><span class="ident" id="5301333">MUL</span><span class="op" id="5301336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301341"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301342">.</span><span class="ident" id="5301343">expr</span><span class="op" id="5301347">(</span><span class="ident" id="5301348"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301349">.</span><span class="ident" id="5301350">X</span><span class="op" id="5301351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301356"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301357">.</span><span class="builtinfunc" id="5301358">print</span><span class="op" id="5301363">(</span><span class="ident" id="5301364"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301369">.</span><span class="ident" id="5301370">RPAREN</span><span class="op" id="5301376">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301380">}</span>&nbsp;<span class="keyword" id="5301382">else</span>&nbsp;<span class="op" id="5301387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5301392">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301420"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301421">.</span><span class="builtinfunc" id="5301422">print</span><span class="op" id="5301427">(</span><span class="ident" id="5301428"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301433">.</span><span class="ident" id="5301434">MUL</span><span class="op" id="5301437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301442"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301443">.</span><span class="ident" id="5301444">expr</span><span class="op" id="5301448">(</span><span class="ident" id="5301449"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301450">.</span><span class="ident" id="5301451">X</span><span class="op" id="5301452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301456">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301460">case</span>&nbsp;<span class="op" id="5301465">*</span><span class="ident" id="5301466"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301469">.</span><span class="ident" id="5301470">UnaryExpr</span><span class="op" id="5301479">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301483">const</span>&nbsp;<span class="ident" id="5301489">prec</span>&nbsp;<span class="op" id="5301494">=</span>&nbsp;<span class="ident" id="5301496"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301501">.</span><span class="ident" id="5301502">UnaryPrec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301514">if</span>&nbsp;<span class="ident" id="5301517"><a href="/go/printer/nodes.go.html#5301489">prec</a></span>&nbsp;<span class="op" id="5301522">&lt;</span>&nbsp;<span class="ident" id="5301524"><a href="/go/printer/nodes.go.html#5300804">prec1</a></span>&nbsp;<span class="op" id="5301530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5301535">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301560"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301561">.</span><span class="builtinfunc" id="5301562">print</span><span class="op" id="5301567">(</span><span class="ident" id="5301568"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301573">.</span><span class="ident" id="5301574">LPAREN</span><span class="op" id="5301580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301585"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301586">.</span><span class="ident" id="5301587">expr</span><span class="op" id="5301591">(</span><span class="ident" id="5301592"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301598"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301599">.</span><span class="builtinfunc" id="5301600">print</span><span class="op" id="5301605">(</span><span class="ident" id="5301606"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301611">.</span><span class="ident" id="5301612">RPAREN</span><span class="op" id="5301618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301622">}</span>&nbsp;<span class="keyword" id="5301624">else</span>&nbsp;<span class="op" id="5301629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5301634">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301662"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301663">.</span><span class="builtinfunc" id="5301664">print</span><span class="op" id="5301669">(</span><span class="ident" id="5301670"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301671">.</span><span class="ident" id="5301672">Op</span><span class="op" id="5301674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301679">if</span>&nbsp;<span class="ident" id="5301682"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301683">.</span><span class="ident" id="5301684">Op</span>&nbsp;<span class="op" id="5301687">==</span>&nbsp;<span class="ident" id="5301690"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5301695">.</span><span class="ident" id="5301696">RANGE</span>&nbsp;<span class="op" id="5301702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5301708">//&nbsp;TODO(gri)&nbsp;Remove&nbsp;this&nbsp;code&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be&nbsp;reached.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301767"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301768">.</span><span class="builtinfunc" id="5301769">print</span><span class="op" id="5301774">(</span><span class="ident" id="5301775"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5301780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301785">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301790"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301791">.</span><span class="ident" id="5301792">expr1</span><span class="op" id="5301797">(</span><span class="ident" id="5301798"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301799">.</span><span class="ident" id="5301800">X</span><span class="op" id="5301801">,</span>&nbsp;<span class="ident" id="5301803"><a href="/go/printer/nodes.go.html#5301489">prec</a></span><span class="op" id="5301807">,</span>&nbsp;<span class="ident" id="5301809"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5301814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5301818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301822">case</span>&nbsp;<span class="op" id="5301827">*</span><span class="ident" id="5301828"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301831">.</span><span class="ident" id="5301832">BasicLit</span><span class="op" id="5301840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301844"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301845">.</span><span class="builtinfunc" id="5301846">print</span><span class="op" id="5301851">(</span><span class="ident" id="5301852"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301853">)</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301857">case</span>&nbsp;<span class="op" id="5301862">*</span><span class="ident" id="5301863"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301866">.</span><span class="ident" id="5301867">FuncLit</span><span class="op" id="5301874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301878"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301879">.</span><span class="ident" id="5301880">expr</span><span class="op" id="5301884">(</span><span class="ident" id="5301885"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301886">.</span><span class="ident" id="5301887">Type</span><span class="op" id="5301891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5301895"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301896">.</span><span class="ident" id="5301897">adjBlock</span><span class="op" id="5301905">(</span><span class="ident" id="5301906"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5301907">.</span><span class="ident" id="5301908">distanceFrom</span><span class="op" id="5301920">(</span><span class="ident" id="5301921"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301922">.</span><span class="ident" id="5301923">Type</span><span class="op" id="5301927">.</span><span class="ident" id="5301928">Pos</span><span class="op" id="5301931">(</span><span class="op" id="5301932">)</span><span class="op" id="5301933">)</span><span class="op" id="5301934">,</span>&nbsp;<span class="ident" id="5301936"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5301941">,</span>&nbsp;<span class="ident" id="5301943"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301944">.</span><span class="ident" id="5301945">Body</span><span class="op" id="5301949">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301953">case</span>&nbsp;<span class="op" id="5301958">*</span><span class="ident" id="5301959"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5301962">.</span><span class="ident" id="5301963">ParenExpr</span><span class="op" id="5301972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5301976">if</span>&nbsp;<span class="ident" id="5301979">_</span><span class="op" id="5301980">,</span>&nbsp;<span class="ident" id="5301982">hasParens</span>&nbsp;<span class="op" id="5301992">:=</span>&nbsp;<span class="ident" id="5301995"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5301996">.</span><span class="ident" id="5301997">X</span><span class="op" id="5301998">.</span><span class="op" id="5301999">(</span><span class="op" id="5302000">*</span><span class="ident" id="5302001"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5302004">.</span><span class="ident" id="5302005">ParenExpr</span><span class="op" id="5302014">)</span><span class="op" id="5302015">;</span>&nbsp;<span class="ident" id="5302017"><a href="/go/printer/nodes.go.html#5301982">hasParens</a></span>&nbsp;<span class="op" id="5302027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5302032">//&nbsp;don&#39;t&nbsp;print&nbsp;parentheses&nbsp;around&nbsp;an&nbsp;already&nbsp;parenthesized&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5302105">//&nbsp;TODO(gri)&nbsp;consider&nbsp;making&nbsp;this&nbsp;more&nbsp;general&nbsp;and&nbsp;incorporate&nbsp;precedence&nbsp;levels</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302189"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302190">.</span><span class="ident" id="5302191">expr0</span><span class="op" id="5302196">(</span><span class="ident" id="5302197"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302198">.</span><span class="ident" id="5302199">X</span><span class="op" id="5302200">,</span>&nbsp;<span class="ident" id="5302202"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5302207">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302211">}</span>&nbsp;<span class="keyword" id="5302213">else</span>&nbsp;<span class="op" id="5302218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302223"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302224">.</span><span class="builtinfunc" id="5302225">print</span><span class="op" id="5302230">(</span><span class="ident" id="5302231"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302236">.</span><span class="ident" id="5302237">LPAREN</span><span class="op" id="5302243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302248"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302249">.</span><span class="ident" id="5302250">expr0</span><span class="op" id="5302255">(</span><span class="ident" id="5302256"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302257">.</span><span class="ident" id="5302258">X</span><span class="op" id="5302259">,</span>&nbsp;<span class="ident" id="5302261"><a href="/go/printer/nodes.go.html#5298273">reduceDepth</a></span><span class="op" id="5302272">(</span><span class="ident" id="5302273"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5302278">)</span><span class="op" id="5302279">)</span>&nbsp;<span class="comment" id="5302281">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302323"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302324">.</span><span class="builtinfunc" id="5302325">print</span><span class="op" id="5302330">(</span><span class="ident" id="5302331"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302332">.</span><span class="ident" id="5302333">Rparen</span><span class="op" id="5302339">,</span>&nbsp;<span class="ident" id="5302341"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302346">.</span><span class="ident" id="5302347">RPAREN</span><span class="op" id="5302353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302357">}</span><br>
<span class="lineno">745</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5302361">case</span>&nbsp;<span class="op" id="5302366">*</span><span class="ident" id="5302367"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5302370">.</span><span class="ident" id="5302371">SelectorExpr</span><span class="op" id="5302383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302387"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302388">.</span><span class="ident" id="5302389">expr1</span><span class="op" id="5302394">(</span><span class="ident" id="5302395"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302396">.</span><span class="ident" id="5302397">X</span><span class="op" id="5302398">,</span>&nbsp;<span class="ident" id="5302400"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302405">.</span><span class="ident" id="5302406">HighestPrec</span><span class="op" id="5302417">,</span>&nbsp;<span class="ident" id="5302419"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5302424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302428"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302429">.</span><span class="builtinfunc" id="5302430">print</span><span class="op" id="5302435">(</span><span class="ident" id="5302436"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302441">.</span><span class="ident" id="5302442">PERIOD</span><span class="op" id="5302448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5302452">if</span>&nbsp;<span class="ident" id="5302455">line</span>&nbsp;<span class="op" id="5302460">:=</span>&nbsp;<span class="ident" id="5302463"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302464">.</span><span class="ident" id="5302465">lineFor</span><span class="op" id="5302472">(</span><span class="ident" id="5302473"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302474">.</span><span class="ident" id="5302475">Sel</span><span class="op" id="5302478">.</span><span class="ident" id="5302479">Pos</span><span class="op" id="5302482">(</span><span class="op" id="5302483">)</span><span class="op" id="5302484">)</span><span class="op" id="5302485">;</span>&nbsp;<span class="ident" id="5302487"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302488">.</span><span class="ident" id="5302489">pos</span><span class="op" id="5302492">.</span><span class="ident" id="5302493">IsValid</span><span class="op" id="5302500">(</span><span class="op" id="5302501">)</span>&nbsp;<span class="op" id="5302503">&amp;&amp;</span>&nbsp;<span class="ident" id="5302506"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302507">.</span><span class="ident" id="5302508">pos</span><span class="op" id="5302511">.</span><span class="ident" id="5302512">Line</span>&nbsp;<span class="op" id="5302517">&lt;</span>&nbsp;<span class="ident" id="5302519"><a href="/go/printer/nodes.go.html#5302455">line</a></span>&nbsp;<span class="op" id="5302524">{</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302529"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302530">.</span><span class="builtinfunc" id="5302531">print</span><span class="op" id="5302536">(</span><span class="ident" id="5302537"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5302543">,</span>&nbsp;<span class="ident" id="5302545"><a href="/go/printer/printer.go.html#5324974">newline</a></span><span class="op" id="5302552">,</span>&nbsp;<span class="ident" id="5302554"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302555">.</span><span class="ident" id="5302556">Sel</span><span class="op" id="5302559">.</span><span class="ident" id="5302560">Pos</span><span class="op" id="5302563">(</span><span class="op" id="5302564">)</span><span class="op" id="5302565">,</span>&nbsp;<span class="ident" id="5302567"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302568">.</span><span class="ident" id="5302569">Sel</span><span class="op" id="5302572">,</span>&nbsp;<span class="ident" id="5302574"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5302582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302586">}</span>&nbsp;<span class="keyword" id="5302588">else</span>&nbsp;<span class="op" id="5302593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302598"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302599">.</span><span class="builtinfunc" id="5302600">print</span><span class="op" id="5302605">(</span><span class="ident" id="5302606"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302607">.</span><span class="ident" id="5302608">Sel</span><span class="op" id="5302611">.</span><span class="ident" id="5302612">Pos</span><span class="op" id="5302615">(</span><span class="op" id="5302616">)</span><span class="op" id="5302617">,</span>&nbsp;<span class="ident" id="5302619"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302620">.</span><span class="ident" id="5302621">Sel</span><span class="op" id="5302624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5302632">case</span>&nbsp;<span class="op" id="5302637">*</span><span class="ident" id="5302638"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5302641">.</span><span class="ident" id="5302642">TypeAssertExpr</span><span class="op" id="5302656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302660"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302661">.</span><span class="ident" id="5302662">expr1</span><span class="op" id="5302667">(</span><span class="ident" id="5302668"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302669">.</span><span class="ident" id="5302670">X</span><span class="op" id="5302671">,</span>&nbsp;<span class="ident" id="5302673"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302678">.</span><span class="ident" id="5302679">HighestPrec</span><span class="op" id="5302690">,</span>&nbsp;<span class="ident" id="5302692"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5302697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302701"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302702">.</span><span class="builtinfunc" id="5302703">print</span><span class="op" id="5302708">(</span><span class="ident" id="5302709"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302714">.</span><span class="ident" id="5302715">PERIOD</span><span class="op" id="5302721">,</span>&nbsp;<span class="ident" id="5302723"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302724">.</span><span class="ident" id="5302725">Lparen</span><span class="op" id="5302731">,</span>&nbsp;<span class="ident" id="5302733"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302738">.</span><span class="ident" id="5302739">LPAREN</span><span class="op" id="5302745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5302749">if</span>&nbsp;<span class="ident" id="5302752"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302753">.</span><span class="ident" id="5302754">Type</span>&nbsp;<span class="op" id="5302759">!=</span>&nbsp;<span class="ident" id="5302762">nil</span>&nbsp;<span class="op" id="5302766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302771"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302772">.</span><span class="ident" id="5302773">expr</span><span class="op" id="5302777">(</span><span class="ident" id="5302778"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302779">.</span><span class="ident" id="5302780">Type</span><span class="op" id="5302784">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302788">}</span>&nbsp;<span class="keyword" id="5302790">else</span>&nbsp;<span class="op" id="5302795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302800"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302801">.</span><span class="builtinfunc" id="5302802">print</span><span class="op" id="5302807">(</span><span class="ident" id="5302808"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302813">.</span><span class="ident" id="5302814">TYPE</span><span class="op" id="5302818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5302822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302826"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302827">.</span><span class="builtinfunc" id="5302828">print</span><span class="op" id="5302833">(</span><span class="ident" id="5302834"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302835">.</span><span class="ident" id="5302836">Rparen</span><span class="op" id="5302842">,</span>&nbsp;<span class="ident" id="5302844"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302849">.</span><span class="ident" id="5302850">RPAREN</span><span class="op" id="5302856">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5302860">case</span>&nbsp;<span class="op" id="5302865">*</span><span class="ident" id="5302866"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5302869">.</span><span class="ident" id="5302870">IndexExpr</span><span class="op" id="5302879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5302883">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302959"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302960">.</span><span class="ident" id="5302961">expr1</span><span class="op" id="5302966">(</span><span class="ident" id="5302967"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5302968">.</span><span class="ident" id="5302969">X</span><span class="op" id="5302970">,</span>&nbsp;<span class="ident" id="5302972"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5302977">.</span><span class="ident" id="5302978">HighestPrec</span><span class="op" id="5302989">,</span>&nbsp;<span class="num" id="5302991">1</span><span class="op" id="5302992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5302996"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5302997">.</span><span class="builtinfunc" id="5302998">print</span><span class="op" id="5303003">(</span><span class="ident" id="5303004"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303005">.</span><span class="ident" id="5303006">Lbrack</span><span class="op" id="5303012">,</span>&nbsp;<span class="ident" id="5303014"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303019">.</span><span class="ident" id="5303020">LBRACK</span><span class="op" id="5303026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303030"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303031">.</span><span class="ident" id="5303032">expr0</span><span class="op" id="5303037">(</span><span class="ident" id="5303038"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303039">.</span><span class="ident" id="5303040">Index</span><span class="op" id="5303045">,</span>&nbsp;<span class="ident" id="5303047"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5303052">+</span><span class="num" id="5303053">1</span><span class="op" id="5303054">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303058"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303059">.</span><span class="builtinfunc" id="5303060">print</span><span class="op" id="5303065">(</span><span class="ident" id="5303066"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303067">.</span><span class="ident" id="5303068">Rbrack</span><span class="op" id="5303074">,</span>&nbsp;<span class="ident" id="5303076"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303081">.</span><span class="ident" id="5303082">RBRACK</span><span class="op" id="5303088">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303092">case</span>&nbsp;<span class="op" id="5303097">*</span><span class="ident" id="5303098"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5303101">.</span><span class="ident" id="5303102">SliceExpr</span><span class="op" id="5303111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5303115">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303191"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303192">.</span><span class="ident" id="5303193">expr1</span><span class="op" id="5303198">(</span><span class="ident" id="5303199"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303200">.</span><span class="ident" id="5303201">X</span><span class="op" id="5303202">,</span>&nbsp;<span class="ident" id="5303204"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303209">.</span><span class="ident" id="5303210">HighestPrec</span><span class="op" id="5303221">,</span>&nbsp;<span class="num" id="5303223">1</span><span class="op" id="5303224">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303228"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303229">.</span><span class="builtinfunc" id="5303230">print</span><span class="op" id="5303235">(</span><span class="ident" id="5303236"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303237">.</span><span class="ident" id="5303238">Lbrack</span><span class="op" id="5303244">,</span>&nbsp;<span class="ident" id="5303246"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303251">.</span><span class="ident" id="5303252">LBRACK</span><span class="op" id="5303258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303262">indices</span>&nbsp;<span class="op" id="5303270">:=</span>&nbsp;<span class="op" id="5303273">[</span><span class="op" id="5303274">]</span><span class="ident" id="5303275"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5303278">.</span><span class="ident" id="5303279">Expr</span><span class="op" id="5303283">{</span><span class="ident" id="5303284"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303285">.</span><span class="ident" id="5303286">Low</span><span class="op" id="5303289">,</span>&nbsp;<span class="ident" id="5303291"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303292">.</span><span class="ident" id="5303293">High</span><span class="op" id="5303297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303301">if</span>&nbsp;<span class="ident" id="5303304"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303305">.</span><span class="ident" id="5303306">Max</span>&nbsp;<span class="op" id="5303310">!=</span>&nbsp;<span class="ident" id="5303313">nil</span>&nbsp;<span class="op" id="5303317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303322"><a href="/go/printer/nodes.go.html#5303262">indices</a></span>&nbsp;<span class="op" id="5303330">=</span>&nbsp;<span class="builtinfunc" id="5303332">append</span><span class="op" id="5303338">(</span><span class="ident" id="5303339"><a href="/go/printer/nodes.go.html#5303262">indices</a></span><span class="op" id="5303346">,</span>&nbsp;<span class="ident" id="5303348"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303349">.</span><span class="ident" id="5303350">Max</span><span class="op" id="5303353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303357">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303361">for</span>&nbsp;<span class="ident" id="5303365">i</span><span class="op" id="5303366">,</span>&nbsp;<span class="ident" id="5303368">y</span>&nbsp;<span class="op" id="5303370">:=</span>&nbsp;<span class="keyword" id="5303373">range</span>&nbsp;<span class="ident" id="5303379"><a href="/go/printer/nodes.go.html#5303262">indices</a></span>&nbsp;<span class="op" id="5303387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303392">if</span>&nbsp;<span class="ident" id="5303395"><a href="/go/printer/nodes.go.html#5303365">i</a></span>&nbsp;<span class="op" id="5303397">&gt;</span>&nbsp;<span class="num" id="5303399">0</span>&nbsp;<span class="op" id="5303401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5303407">//&nbsp;blanks&nbsp;around&nbsp;&#34;:&#34;&nbsp;if&nbsp;both&nbsp;sides&nbsp;exist&nbsp;and&nbsp;either&nbsp;side&nbsp;is&nbsp;a&nbsp;binary&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5303491">//&nbsp;TODO(gri)&nbsp;once&nbsp;we&nbsp;have&nbsp;committed&nbsp;a&nbsp;variant&nbsp;of&nbsp;a[i:j:k]&nbsp;we&nbsp;may&nbsp;want&nbsp;to&nbsp;fine-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5303574">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tune&nbsp;the&nbsp;formatting&nbsp;here</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303616">x</span>&nbsp;<span class="op" id="5303618">:=</span>&nbsp;<span class="ident" id="5303621"><a href="/go/printer/nodes.go.html#5303262">indices</a></span><span class="op" id="5303628">[</span><span class="ident" id="5303629"><a href="/go/printer/nodes.go.html#5303365">i</a></span><span class="op" id="5303630">-</span><span class="num" id="5303631">1</span><span class="op" id="5303632">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303638">if</span>&nbsp;<span class="ident" id="5303641"><a href="/go/printer/nodes.go.html#5300811">depth</a></span>&nbsp;<span class="op" id="5303647">&lt;=</span>&nbsp;<span class="num" id="5303650">1</span>&nbsp;<span class="op" id="5303652">&amp;&amp;</span>&nbsp;<span class="ident" id="5303655"><a href="/go/printer/nodes.go.html#5303616">x</a></span>&nbsp;<span class="op" id="5303657">!=</span>&nbsp;<span class="ident" id="5303660">nil</span>&nbsp;<span class="op" id="5303664">&amp;&amp;</span>&nbsp;<span class="ident" id="5303667"><a href="/go/printer/nodes.go.html#5303368">y</a></span>&nbsp;<span class="op" id="5303669">!=</span>&nbsp;<span class="ident" id="5303672">nil</span>&nbsp;<span class="op" id="5303676">&amp;&amp;</span>&nbsp;<span class="op" id="5303679">(</span><span class="ident" id="5303680"><a href="/go/printer/nodes.go.html#5300687">isBinary</a></span><span class="op" id="5303688">(</span><span class="ident" id="5303689"><a href="/go/printer/nodes.go.html#5303616">x</a></span><span class="op" id="5303690">)</span>&nbsp;<span class="op" id="5303692">||</span>&nbsp;<span class="ident" id="5303695"><a href="/go/printer/nodes.go.html#5300687">isBinary</a></span><span class="op" id="5303703">(</span><span class="ident" id="5303704"><a href="/go/printer/nodes.go.html#5303368">y</a></span><span class="op" id="5303705">)</span><span class="op" id="5303706">)</span>&nbsp;<span class="op" id="5303708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303715"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303716">.</span><span class="builtinfunc" id="5303717">print</span><span class="op" id="5303722">(</span><span class="ident" id="5303723"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5303728">,</span>&nbsp;<span class="ident" id="5303730"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303735">.</span><span class="ident" id="5303736">COLON</span><span class="op" id="5303741">,</span>&nbsp;<span class="ident" id="5303743"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5303748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303754">}</span>&nbsp;<span class="keyword" id="5303756">else</span>&nbsp;<span class="op" id="5303761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303768"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303769">.</span><span class="builtinfunc" id="5303770">print</span><span class="op" id="5303775">(</span><span class="ident" id="5303776"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303781">.</span><span class="ident" id="5303782">COLON</span><span class="op" id="5303787">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303803">if</span>&nbsp;<span class="ident" id="5303806"><a href="/go/printer/nodes.go.html#5303368">y</a></span>&nbsp;<span class="op" id="5303808">!=</span>&nbsp;<span class="ident" id="5303811">nil</span>&nbsp;<span class="op" id="5303815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303821"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303822">.</span><span class="ident" id="5303823">expr0</span><span class="op" id="5303828">(</span><span class="ident" id="5303829"><a href="/go/printer/nodes.go.html#5303368">y</a></span><span class="op" id="5303830">,</span>&nbsp;<span class="ident" id="5303832"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5303837">+</span><span class="num" id="5303838">1</span><span class="op" id="5303839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303844">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303852"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5303853">.</span><span class="builtinfunc" id="5303854">print</span><span class="op" id="5303859">(</span><span class="ident" id="5303860"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303861">.</span><span class="ident" id="5303862">Rbrack</span><span class="op" id="5303868">,</span>&nbsp;<span class="ident" id="5303870"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5303875">.</span><span class="ident" id="5303876">RBRACK</span><span class="op" id="5303882">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303886">case</span>&nbsp;<span class="op" id="5303891">*</span><span class="ident" id="5303892"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5303895">.</span><span class="ident" id="5303896">CallExpr</span><span class="op" id="5303904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303908">if</span>&nbsp;<span class="builtinfunc" id="5303911">len</span><span class="op" id="5303914">(</span><span class="ident" id="5303915"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303916">.</span><span class="ident" id="5303917">Args</span><span class="op" id="5303921">)</span>&nbsp;<span class="op" id="5303923">&gt;</span>&nbsp;<span class="num" id="5303925">1</span>&nbsp;<span class="op" id="5303927">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5303932"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5303937">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5303942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5303946">if</span>&nbsp;<span class="ident" id="5303949">_</span><span class="op" id="5303950">,</span>&nbsp;<span class="ident" id="5303952">ok</span>&nbsp;<span class="op" id="5303955">:=</span>&nbsp;<span class="ident" id="5303958"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5303959">.</span><span class="ident" id="5303960">Fun</span><span class="op" id="5303963">.</span><span class="op" id="5303964">(</span><span class="op" id="5303965">*</span><span class="ident" id="5303966"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5303969">.</span><span class="ident" id="5303970">FuncType</span><span class="op" id="5303978">)</span><span class="op" id="5303979">;</span>&nbsp;<span class="ident" id="5303981"><a href="/go/printer/nodes.go.html#5303952">ok</a></span>&nbsp;<span class="op" id="5303984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5303989">//&nbsp;conversions&nbsp;to&nbsp;literal&nbsp;function&nbsp;types&nbsp;require&nbsp;parentheses&nbsp;around&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304069"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304070">.</span><span class="builtinfunc" id="5304071">print</span><span class="op" id="5304076">(</span><span class="ident" id="5304077"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304082">.</span><span class="ident" id="5304083">LPAREN</span><span class="op" id="5304089">)</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304094"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304095">.</span><span class="ident" id="5304096">expr1</span><span class="op" id="5304101">(</span><span class="ident" id="5304102"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304103">.</span><span class="ident" id="5304104">Fun</span><span class="op" id="5304107">,</span>&nbsp;<span class="ident" id="5304109"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304114">.</span><span class="ident" id="5304115">HighestPrec</span><span class="op" id="5304126">,</span>&nbsp;<span class="ident" id="5304128"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5304133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304138"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304139">.</span><span class="builtinfunc" id="5304140">print</span><span class="op" id="5304145">(</span><span class="ident" id="5304146"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304151">.</span><span class="ident" id="5304152">RPAREN</span><span class="op" id="5304158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304162">}</span>&nbsp;<span class="keyword" id="5304164">else</span>&nbsp;<span class="op" id="5304169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304174"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304175">.</span><span class="ident" id="5304176">expr1</span><span class="op" id="5304181">(</span><span class="ident" id="5304182"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304183">.</span><span class="ident" id="5304184">Fun</span><span class="op" id="5304187">,</span>&nbsp;<span class="ident" id="5304189"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304194">.</span><span class="ident" id="5304195">HighestPrec</span><span class="op" id="5304206">,</span>&nbsp;<span class="ident" id="5304208"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5304213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304217">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304221"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304222">.</span><span class="builtinfunc" id="5304223">print</span><span class="op" id="5304228">(</span><span class="ident" id="5304229"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304230">.</span><span class="ident" id="5304231">Lparen</span><span class="op" id="5304237">,</span>&nbsp;<span class="ident" id="5304239"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304244">.</span><span class="ident" id="5304245">LPAREN</span><span class="op" id="5304251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5304255">if</span>&nbsp;<span class="ident" id="5304258"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304259">.</span><span class="ident" id="5304260">Ellipsis</span><span class="op" id="5304268">.</span><span class="ident" id="5304269">IsValid</span><span class="op" id="5304276">(</span><span class="op" id="5304277">)</span>&nbsp;<span class="op" id="5304279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304284"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304285">.</span><span class="ident" id="5304286">exprList</span><span class="op" id="5304294">(</span><span class="ident" id="5304295"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304296">.</span><span class="ident" id="5304297">Lparen</span><span class="op" id="5304303">,</span>&nbsp;<span class="ident" id="5304305"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304306">.</span><span class="ident" id="5304307">Args</span><span class="op" id="5304311">,</span>&nbsp;<span class="ident" id="5304313"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5304318">,</span>&nbsp;<span class="num" id="5304320">0</span><span class="op" id="5304321">,</span>&nbsp;<span class="ident" id="5304323"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304324">.</span><span class="ident" id="5304325">Ellipsis</span><span class="op" id="5304333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304338"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304339">.</span><span class="builtinfunc" id="5304340">print</span><span class="op" id="5304345">(</span><span class="ident" id="5304346"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304347">.</span><span class="ident" id="5304348">Ellipsis</span><span class="op" id="5304356">,</span>&nbsp;<span class="ident" id="5304358"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304363">.</span><span class="ident" id="5304364">ELLIPSIS</span><span class="op" id="5304372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5304377">if</span>&nbsp;<span class="ident" id="5304380"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304381">.</span><span class="ident" id="5304382">Rparen</span><span class="op" id="5304388">.</span><span class="ident" id="5304389">IsValid</span><span class="op" id="5304396">(</span><span class="op" id="5304397">)</span>&nbsp;<span class="op" id="5304399">&amp;&amp;</span>&nbsp;<span class="ident" id="5304402"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304403">.</span><span class="ident" id="5304404">lineFor</span><span class="op" id="5304411">(</span><span class="ident" id="5304412"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304413">.</span><span class="ident" id="5304414">Ellipsis</span><span class="op" id="5304422">)</span>&nbsp;<span class="op" id="5304424">&lt;</span>&nbsp;<span class="ident" id="5304426"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304427">.</span><span class="ident" id="5304428">lineFor</span><span class="op" id="5304435">(</span><span class="ident" id="5304436"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304437">.</span><span class="ident" id="5304438">Rparen</span><span class="op" id="5304444">)</span>&nbsp;<span class="op" id="5304446">{</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304452"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304453">.</span><span class="builtinfunc" id="5304454">print</span><span class="op" id="5304459">(</span><span class="ident" id="5304460"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304465">.</span><span class="ident" id="5304466">COMMA</span><span class="op" id="5304471">,</span>&nbsp;<span class="ident" id="5304473"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5304481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304490">}</span>&nbsp;<span class="keyword" id="5304492">else</span>&nbsp;<span class="op" id="5304497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304502"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304503">.</span><span class="ident" id="5304504">exprList</span><span class="op" id="5304512">(</span><span class="ident" id="5304513"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304514">.</span><span class="ident" id="5304515">Lparen</span><span class="op" id="5304521">,</span>&nbsp;<span class="ident" id="5304523"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304524">.</span><span class="ident" id="5304525">Args</span><span class="op" id="5304529">,</span>&nbsp;<span class="ident" id="5304531"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5304536">,</span>&nbsp;<span class="ident" id="5304538"><a href="/go/printer/nodes.go.html#5284986">commaTerm</a></span><span class="op" id="5304547">,</span>&nbsp;<span class="ident" id="5304549"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304550">.</span><span class="ident" id="5304551">Rparen</span><span class="op" id="5304557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304561">}</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304565"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304566">.</span><span class="builtinfunc" id="5304567">print</span><span class="op" id="5304572">(</span><span class="ident" id="5304573"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304574">.</span><span class="ident" id="5304575">Rparen</span><span class="op" id="5304581">,</span>&nbsp;<span class="ident" id="5304583"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304588">.</span><span class="ident" id="5304589">RPAREN</span><span class="op" id="5304595">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5304599">case</span>&nbsp;<span class="op" id="5304604">*</span><span class="ident" id="5304605"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5304608">.</span><span class="ident" id="5304609">CompositeLit</span><span class="op" id="5304621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5304625">//&nbsp;composite&nbsp;literal&nbsp;elements&nbsp;that&nbsp;are&nbsp;composite&nbsp;literals&nbsp;themselves&nbsp;may&nbsp;have&nbsp;the&nbsp;type&nbsp;omitted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5304722">if</span>&nbsp;<span class="ident" id="5304725"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304726">.</span><span class="ident" id="5304727">Type</span>&nbsp;<span class="op" id="5304732">!=</span>&nbsp;<span class="ident" id="5304735">nil</span>&nbsp;<span class="op" id="5304739">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304744"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304745">.</span><span class="ident" id="5304746">expr1</span><span class="op" id="5304751">(</span><span class="ident" id="5304752"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304753">.</span><span class="ident" id="5304754">Type</span><span class="op" id="5304758">,</span>&nbsp;<span class="ident" id="5304760"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304765">.</span><span class="ident" id="5304766">HighestPrec</span><span class="op" id="5304777">,</span>&nbsp;<span class="ident" id="5304779"><a href="/go/printer/nodes.go.html#5300811">depth</a></span><span class="op" id="5304784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5304788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304792"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304793">.</span><span class="builtinfunc" id="5304794">print</span><span class="op" id="5304799">(</span><span class="ident" id="5304800"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304801">.</span><span class="ident" id="5304802">Lbrace</span><span class="op" id="5304808">,</span>&nbsp;<span class="ident" id="5304810"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5304815">.</span><span class="ident" id="5304816">LBRACE</span><span class="op" id="5304822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5304826"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5304827">.</span><span class="ident" id="5304828">exprList</span><span class="op" id="5304836">(</span><span class="ident" id="5304837"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304838">.</span><span class="ident" id="5304839">Lbrace</span><span class="op" id="5304845">,</span>&nbsp;<span class="ident" id="5304847"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304848">.</span><span class="ident" id="5304849">Elts</span><span class="op" id="5304853">,</span>&nbsp;<span class="num" id="5304855">1</span><span class="op" id="5304856">,</span>&nbsp;<span class="ident" id="5304858"><a href="/go/printer/nodes.go.html#5284986">commaTerm</a></span><span class="op" id="5304867">,</span>&nbsp;<span class="ident" id="5304869"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5304870">.</span><span class="ident" id="5304871">Rbrace</span><span class="op" id="5304877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5304881">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;line&nbsp;break&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5304946">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;as&nbsp;it&nbsp;might&nbsp;break&nbsp;the&nbsp;code&nbsp;if&nbsp;there</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5305010">//&nbsp;is&nbsp;no&nbsp;trailing&nbsp;&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305034">mode</span>&nbsp;<span class="op" id="5305039">:=</span>&nbsp;<span class="ident" id="5305042"><a href="/go/printer/printer.go.html#5325252">noExtraLinebreak</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5305061">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;blank&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5305121">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;unless&nbsp;the&nbsp;literal&nbsp;is&nbsp;empty</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305177">if</span>&nbsp;<span class="builtinfunc" id="5305180">len</span><span class="op" id="5305183">(</span><span class="ident" id="5305184"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305185">.</span><span class="ident" id="5305186">Elts</span><span class="op" id="5305190">)</span>&nbsp;<span class="op" id="5305192">&gt;</span>&nbsp;<span class="num" id="5305194">0</span>&nbsp;<span class="op" id="5305196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305201"><a href="/go/printer/nodes.go.html#5305034">mode</a></span>&nbsp;<span class="op" id="5305206">|=</span>&nbsp;<span class="ident" id="5305209"><a href="/go/printer/printer.go.html#5325169">noExtraBlank</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5305224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305228"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305229">.</span><span class="builtinfunc" id="5305230">print</span><span class="op" id="5305235">(</span><span class="ident" id="5305236"><a href="/go/printer/nodes.go.html#5305034">mode</a></span><span class="op" id="5305240">,</span>&nbsp;<span class="ident" id="5305242"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305243">.</span><span class="ident" id="5305244">Rbrace</span><span class="op" id="5305250">,</span>&nbsp;<span class="ident" id="5305252"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305257">.</span><span class="ident" id="5305258">RBRACE</span><span class="op" id="5305264">,</span>&nbsp;<span class="ident" id="5305266"><a href="/go/printer/nodes.go.html#5305034">mode</a></span><span class="op" id="5305270">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305274">case</span>&nbsp;<span class="op" id="5305279">*</span><span class="ident" id="5305280"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305283">.</span><span class="ident" id="5305284">Ellipsis</span><span class="op" id="5305292">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305296"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305297">.</span><span class="builtinfunc" id="5305298">print</span><span class="op" id="5305303">(</span><span class="ident" id="5305304"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305309">.</span><span class="ident" id="5305310">ELLIPSIS</span><span class="op" id="5305318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305322">if</span>&nbsp;<span class="ident" id="5305325"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305326">.</span><span class="ident" id="5305327">Elt</span>&nbsp;<span class="op" id="5305331">!=</span>&nbsp;<span class="ident" id="5305334">nil</span>&nbsp;<span class="op" id="5305338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305343"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305344">.</span><span class="ident" id="5305345">expr</span><span class="op" id="5305349">(</span><span class="ident" id="5305350"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305351">.</span><span class="ident" id="5305352">Elt</span><span class="op" id="5305355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5305359">}</span><br>
<span class="lineno">845</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305363">case</span>&nbsp;<span class="op" id="5305368">*</span><span class="ident" id="5305369"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305372">.</span><span class="ident" id="5305373">ArrayType</span><span class="op" id="5305382">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305386"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305387">.</span><span class="builtinfunc" id="5305388">print</span><span class="op" id="5305393">(</span><span class="ident" id="5305394"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305399">.</span><span class="ident" id="5305400">LBRACK</span><span class="op" id="5305406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305410">if</span>&nbsp;<span class="ident" id="5305413"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305414">.</span><span class="ident" id="5305415">Len</span>&nbsp;<span class="op" id="5305419">!=</span>&nbsp;<span class="ident" id="5305422">nil</span>&nbsp;<span class="op" id="5305426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305431"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305432">.</span><span class="ident" id="5305433">expr</span><span class="op" id="5305437">(</span><span class="ident" id="5305438"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305439">.</span><span class="ident" id="5305440">Len</span><span class="op" id="5305443">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5305447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305451"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305452">.</span><span class="builtinfunc" id="5305453">print</span><span class="op" id="5305458">(</span><span class="ident" id="5305459"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305464">.</span><span class="ident" id="5305465">RBRACK</span><span class="op" id="5305471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305475"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305476">.</span><span class="ident" id="5305477">expr</span><span class="op" id="5305481">(</span><span class="ident" id="5305482"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305483">.</span><span class="ident" id="5305484">Elt</span><span class="op" id="5305487">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305491">case</span>&nbsp;<span class="op" id="5305496">*</span><span class="ident" id="5305497"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305500">.</span><span class="ident" id="5305501">StructType</span><span class="op" id="5305511">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305515"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305516">.</span><span class="builtinfunc" id="5305517">print</span><span class="op" id="5305522">(</span><span class="ident" id="5305523"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305528">.</span><span class="ident" id="5305529">STRUCT</span><span class="op" id="5305535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305539"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305540">.</span><span class="ident" id="5305541">fieldList</span><span class="op" id="5305550">(</span><span class="ident" id="5305551"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305552">.</span><span class="ident" id="5305553">Fields</span><span class="op" id="5305559">,</span>&nbsp;<span class="builtintype" id="5305561">true</span><span class="op" id="5305565">,</span>&nbsp;<span class="ident" id="5305567"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305568">.</span><span class="ident" id="5305569">Incomplete</span><span class="op" id="5305579">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305583">case</span>&nbsp;<span class="op" id="5305588">*</span><span class="ident" id="5305589"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305592">.</span><span class="ident" id="5305593">FuncType</span><span class="op" id="5305601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305605"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305606">.</span><span class="builtinfunc" id="5305607">print</span><span class="op" id="5305612">(</span><span class="ident" id="5305613"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305618">.</span><span class="ident" id="5305619">FUNC</span><span class="op" id="5305623">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305627"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305628">.</span><span class="ident" id="5305629">signature</span><span class="op" id="5305638">(</span><span class="ident" id="5305639"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305640">.</span><span class="ident" id="5305641">Params</span><span class="op" id="5305647">,</span>&nbsp;<span class="ident" id="5305649"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305650">.</span><span class="ident" id="5305651">Results</span><span class="op" id="5305658">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305662">case</span>&nbsp;<span class="op" id="5305667">*</span><span class="ident" id="5305668"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305671">.</span><span class="ident" id="5305672">InterfaceType</span><span class="op" id="5305685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305689"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305690">.</span><span class="builtinfunc" id="5305691">print</span><span class="op" id="5305696">(</span><span class="ident" id="5305697"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305702">.</span><span class="ident" id="5305703">INTERFACE</span><span class="op" id="5305712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305716"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305717">.</span><span class="ident" id="5305718">fieldList</span><span class="op" id="5305727">(</span><span class="ident" id="5305728"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305729">.</span><span class="ident" id="5305730">Methods</span><span class="op" id="5305737">,</span>&nbsp;<span class="builtintype" id="5305739">false</span><span class="op" id="5305744">,</span>&nbsp;<span class="ident" id="5305746"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305747">.</span><span class="ident" id="5305748">Incomplete</span><span class="op" id="5305758">)</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305762">case</span>&nbsp;<span class="op" id="5305767">*</span><span class="ident" id="5305768"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305771">.</span><span class="ident" id="5305772">MapType</span><span class="op" id="5305779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305783"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305784">.</span><span class="builtinfunc" id="5305785">print</span><span class="op" id="5305790">(</span><span class="ident" id="5305791"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305796">.</span><span class="ident" id="5305797">MAP</span><span class="op" id="5305800">,</span>&nbsp;<span class="ident" id="5305802"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305807">.</span><span class="ident" id="5305808">LBRACK</span><span class="op" id="5305814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305818"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305819">.</span><span class="ident" id="5305820">expr</span><span class="op" id="5305824">(</span><span class="ident" id="5305825"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305826">.</span><span class="ident" id="5305827">Key</span><span class="op" id="5305830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305834"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305835">.</span><span class="builtinfunc" id="5305836">print</span><span class="op" id="5305841">(</span><span class="ident" id="5305842"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305847">.</span><span class="ident" id="5305848">RBRACK</span><span class="op" id="5305854">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305858"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305859">.</span><span class="ident" id="5305860">expr</span><span class="op" id="5305864">(</span><span class="ident" id="5305865"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305866">.</span><span class="ident" id="5305867">Value</span><span class="op" id="5305872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305876">case</span>&nbsp;<span class="op" id="5305881">*</span><span class="ident" id="5305882"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305885">.</span><span class="ident" id="5305886">ChanType</span><span class="op" id="5305894">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305898">switch</span>&nbsp;<span class="ident" id="5305905"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5305906">.</span><span class="ident" id="5305907">Dir</span>&nbsp;<span class="op" id="5305911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305915">case</span>&nbsp;<span class="ident" id="5305920"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305923">.</span><span class="ident" id="5305924">SEND</span>&nbsp;<span class="op" id="5305929">|</span>&nbsp;<span class="ident" id="5305931"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305934">.</span><span class="ident" id="5305935">RECV</span><span class="op" id="5305939">:</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305944"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305945">.</span><span class="builtinfunc" id="5305946">print</span><span class="op" id="5305951">(</span><span class="ident" id="5305952"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305957">.</span><span class="ident" id="5305958">CHAN</span><span class="op" id="5305962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5305966">case</span>&nbsp;<span class="ident" id="5305971"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5305974">.</span><span class="ident" id="5305975">RECV</span><span class="op" id="5305979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5305984"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5305985">.</span><span class="builtinfunc" id="5305986">print</span><span class="op" id="5305991">(</span><span class="ident" id="5305992"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5305997">.</span><span class="ident" id="5305998">ARROW</span><span class="op" id="5306003">,</span>&nbsp;<span class="ident" id="5306005"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5306010">.</span><span class="ident" id="5306011">CHAN</span><span class="op" id="5306015">)</span>&nbsp;<span class="comment" id="5306017">//&nbsp;x.Arrow&nbsp;and&nbsp;x.Pos()&nbsp;are&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306055">case</span>&nbsp;<span class="ident" id="5306060"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5306063">.</span><span class="ident" id="5306064">SEND</span><span class="op" id="5306068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306073"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5306074">.</span><span class="builtinfunc" id="5306075">print</span><span class="op" id="5306080">(</span><span class="ident" id="5306081"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5306086">.</span><span class="ident" id="5306087">CHAN</span><span class="op" id="5306091">,</span>&nbsp;<span class="ident" id="5306093"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5306094">.</span><span class="ident" id="5306095">Arrow</span><span class="op" id="5306100">,</span>&nbsp;<span class="ident" id="5306102"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5306107">.</span><span class="ident" id="5306108">ARROW</span><span class="op" id="5306113">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5306117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306121"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5306122">.</span><span class="builtinfunc" id="5306123">print</span><span class="op" id="5306128">(</span><span class="ident" id="5306129"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5306134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306138"><a href="/go/printer/nodes.go.html#5300771">p</a></span><span class="op" id="5306139">.</span><span class="ident" id="5306140">expr</span><span class="op" id="5306144">(</span><span class="ident" id="5306145"><a href="/go/printer/nodes.go.html#5300854">x</a></span><span class="op" id="5306146">.</span><span class="ident" id="5306147">Value</span><span class="op" id="5306152">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306156">default</span><span class="op" id="5306163">:</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5306167">panic</span><span class="op" id="5306172">(</span><span class="string" id="5306173">&#34;unreachable&#34;</span><span class="op" id="5306186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5306189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306193">return</span><br>
<span class="lineno"></span><span class="op" id="5306200">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span><span class="keyword" id="5306203">func</span>&nbsp;<span class="op" id="5306208">(</span><span class="ident" id="5306209">p</span>&nbsp;<span class="op" id="5306211">*</span><span class="ident" id="5306212"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5306219">)</span>&nbsp;<span class="ident" id="5306221">expr0</span><span class="op" id="5306226">(</span><span class="ident" id="5306227">x</span>&nbsp;<span class="ident" id="5306229"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5306232">.</span><span class="ident" id="5306233">Expr</span><span class="op" id="5306237">,</span>&nbsp;<span class="ident" id="5306239">depth</span>&nbsp;<span class="builtintype" id="5306245">int</span><span class="op" id="5306248">)</span>&nbsp;<span class="op" id="5306250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306253"><a href="/go/printer/nodes.go.html#5306209">p</a></span><span class="op" id="5306254">.</span><span class="ident" id="5306255">expr1</span><span class="op" id="5306260">(</span><span class="ident" id="5306261"><a href="/go/printer/nodes.go.html#5306227">x</a></span><span class="op" id="5306262">,</span>&nbsp;<span class="ident" id="5306264"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5306269">.</span><span class="ident" id="5306270">LowestPrec</span><span class="op" id="5306280">,</span>&nbsp;<span class="ident" id="5306282"><a href="/go/printer/nodes.go.html#5306239">depth</a></span><span class="op" id="5306287">)</span><br>
<span class="lineno"></span><span class="op" id="5306289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">895</span><span class="keyword" id="5306292">func</span>&nbsp;<span class="op" id="5306297">(</span><span class="ident" id="5306298">p</span>&nbsp;<span class="op" id="5306300">*</span><span class="ident" id="5306301"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5306308">)</span>&nbsp;<span class="ident" id="5306310">expr</span><span class="op" id="5306314">(</span><span class="ident" id="5306315">x</span>&nbsp;<span class="ident" id="5306317"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5306320">.</span><span class="ident" id="5306321">Expr</span><span class="op" id="5306325">)</span>&nbsp;<span class="op" id="5306327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306330">const</span>&nbsp;<span class="ident" id="5306336">depth</span>&nbsp;<span class="op" id="5306342">=</span>&nbsp;<span class="num" id="5306344">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306347"><a href="/go/printer/nodes.go.html#5306298">p</a></span><span class="op" id="5306348">.</span><span class="ident" id="5306349">expr1</span><span class="op" id="5306354">(</span><span class="ident" id="5306355"><a href="/go/printer/nodes.go.html#5306315">x</a></span><span class="op" id="5306356">,</span>&nbsp;<span class="ident" id="5306358"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5306363">.</span><span class="ident" id="5306364">LowestPrec</span><span class="op" id="5306374">,</span>&nbsp;<span class="ident" id="5306376"><a href="/go/printer/nodes.go.html#5306336">depth</a></span><span class="op" id="5306381">)</span><br>
<span class="lineno"></span><span class="op" id="5306383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span><span class="comment" id="5306386">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5306466">//&nbsp;Statements</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5306481">//&nbsp;Print&nbsp;the&nbsp;statement&nbsp;list&nbsp;indented,&nbsp;but&nbsp;without&nbsp;a&nbsp;newline&nbsp;after&nbsp;the&nbsp;last&nbsp;statement.</span><br>
<span class="lineno"></span><span class="comment" id="5306567">//&nbsp;Extra&nbsp;line&nbsp;breaks&nbsp;between&nbsp;statements&nbsp;in&nbsp;the&nbsp;source&nbsp;are&nbsp;respected&nbsp;but&nbsp;at&nbsp;most&nbsp;one</span><br>
<span class="lineno">905</span><span class="comment" id="5306651">//&nbsp;empty&nbsp;line&nbsp;is&nbsp;printed&nbsp;between&nbsp;statements.</span><br>
<span class="lineno"></span><span class="keyword" id="5306696">func</span>&nbsp;<span class="op" id="5306701">(</span><span class="ident" id="5306702">p</span>&nbsp;<span class="op" id="5306704">*</span><span class="ident" id="5306705"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5306712">)</span>&nbsp;<span class="ident" id="5306714">stmtList</span><span class="op" id="5306722">(</span><span class="ident" id="5306723">list</span>&nbsp;<span class="op" id="5306728">[</span><span class="op" id="5306729">]</span><span class="ident" id="5306730"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5306733">.</span><span class="ident" id="5306734">Stmt</span><span class="op" id="5306738">,</span>&nbsp;<span class="ident" id="5306740">nindent</span>&nbsp;<span class="builtintype" id="5306748">int</span><span class="op" id="5306751">,</span>&nbsp;<span class="ident" id="5306753">nextIsRBrace</span>&nbsp;<span class="builtintype" id="5306766">bool</span><span class="op" id="5306770">)</span>&nbsp;<span class="op" id="5306772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306775">if</span>&nbsp;<span class="ident" id="5306778"><a href="/go/printer/nodes.go.html#5306740">nindent</a></span>&nbsp;<span class="op" id="5306786">&gt;</span>&nbsp;<span class="num" id="5306788">0</span>&nbsp;<span class="op" id="5306790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306794"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5306795">.</span><span class="builtinfunc" id="5306796">print</span><span class="op" id="5306801">(</span><span class="ident" id="5306802"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5306808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5306811">}</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306814">var</span>&nbsp;<span class="ident" id="5306818">line</span>&nbsp;<span class="builtintype" id="5306823">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5306828">i</span>&nbsp;<span class="op" id="5306830">:=</span>&nbsp;<span class="num" id="5306833">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306836">for</span>&nbsp;<span class="ident" id="5306840">_</span><span class="op" id="5306841">,</span>&nbsp;<span class="ident" id="5306843">s</span>&nbsp;<span class="op" id="5306845">:=</span>&nbsp;<span class="keyword" id="5306848">range</span>&nbsp;<span class="ident" id="5306854"><a href="/go/printer/nodes.go.html#5306723">list</a></span>&nbsp;<span class="op" id="5306859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5306863">//&nbsp;ignore&nbsp;empty&nbsp;statements&nbsp;(was&nbsp;issue&nbsp;3466)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5306909">if</span>&nbsp;<span class="ident" id="5306912">_</span><span class="op" id="5306913">,</span>&nbsp;<span class="ident" id="5306915">isEmpty</span>&nbsp;<span class="op" id="5306923">:=</span>&nbsp;<span class="ident" id="5306926"><a href="/go/printer/nodes.go.html#5306843">s</a></span><span class="op" id="5306927">.</span><span class="op" id="5306928">(</span><span class="op" id="5306929">*</span><span class="ident" id="5306930"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5306933">.</span><span class="ident" id="5306934">EmptyStmt</span><span class="op" id="5306943">)</span><span class="op" id="5306944">;</span>&nbsp;<span class="op" id="5306946">!</span><span class="ident" id="5306947"><a href="/go/printer/nodes.go.html#5306915">isEmpty</a></span>&nbsp;<span class="op" id="5306955">{</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5306960">//&nbsp;nindent&nbsp;==&nbsp;0&nbsp;only&nbsp;for&nbsp;lists&nbsp;of&nbsp;switch/select&nbsp;case&nbsp;clauses;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307025">//&nbsp;in&nbsp;those&nbsp;cases&nbsp;each&nbsp;clause&nbsp;is&nbsp;a&nbsp;new&nbsp;section</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5307075">if</span>&nbsp;<span class="builtinfunc" id="5307078">len</span><span class="op" id="5307081">(</span><span class="ident" id="5307082"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307083">.</span><span class="ident" id="5307084">output</span><span class="op" id="5307090">)</span>&nbsp;<span class="op" id="5307092">&gt;</span>&nbsp;<span class="num" id="5307094">0</span>&nbsp;<span class="op" id="5307096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307102">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307176">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307234"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307235">.</span><span class="ident" id="5307236">linebreak</span><span class="op" id="5307245">(</span><span class="ident" id="5307246"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307247">.</span><span class="ident" id="5307248">lineFor</span><span class="op" id="5307255">(</span><span class="ident" id="5307256"><a href="/go/printer/nodes.go.html#5306843">s</a></span><span class="op" id="5307257">.</span><span class="ident" id="5307258">Pos</span><span class="op" id="5307261">(</span><span class="op" id="5307262">)</span><span class="op" id="5307263">)</span><span class="op" id="5307264">,</span>&nbsp;<span class="num" id="5307266">1</span><span class="op" id="5307267">,</span>&nbsp;<span class="ident" id="5307269"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5307275">,</span>&nbsp;<span class="ident" id="5307277"><a href="/go/printer/nodes.go.html#5306828">i</a></span>&nbsp;<span class="op" id="5307279">==</span>&nbsp;<span class="num" id="5307282">0</span>&nbsp;<span class="op" id="5307284">||</span>&nbsp;<span class="ident" id="5307287"><a href="/go/printer/nodes.go.html#5306740">nindent</a></span>&nbsp;<span class="op" id="5307295">==</span>&nbsp;<span class="num" id="5307298">0</span>&nbsp;<span class="op" id="5307300">||</span>&nbsp;<span class="ident" id="5307303"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307304">.</span><span class="ident" id="5307305">linesFrom</span><span class="op" id="5307314">(</span><span class="ident" id="5307315"><a href="/go/printer/nodes.go.html#5306818">line</a></span><span class="op" id="5307319">)</span>&nbsp;<span class="op" id="5307321">&gt;</span>&nbsp;<span class="num" id="5307323">0</span><span class="op" id="5307324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307334"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307335">.</span><span class="ident" id="5307336">recordLine</span><span class="op" id="5307346">(</span><span class="op" id="5307347">&amp;</span><span class="ident" id="5307348"><a href="/go/printer/nodes.go.html#5306818">line</a></span><span class="op" id="5307352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307357"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307358">.</span><span class="ident" id="5307359">stmt</span><span class="op" id="5307363">(</span><span class="ident" id="5307364"><a href="/go/printer/nodes.go.html#5306843">s</a></span><span class="op" id="5307365">,</span>&nbsp;<span class="ident" id="5307367"><a href="/go/printer/nodes.go.html#5306753">nextIsRBrace</a></span>&nbsp;<span class="op" id="5307380">&amp;&amp;</span>&nbsp;<span class="ident" id="5307383"><a href="/go/printer/nodes.go.html#5306828">i</a></span>&nbsp;<span class="op" id="5307385">==</span>&nbsp;<span class="builtinfunc" id="5307388">len</span><span class="op" id="5307391">(</span><span class="ident" id="5307392"><a href="/go/printer/nodes.go.html#5306723">list</a></span><span class="op" id="5307396">)</span><span class="op" id="5307397">-</span><span class="num" id="5307398">1</span><span class="op" id="5307399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307404">//&nbsp;labeled&nbsp;statements&nbsp;put&nbsp;labels&nbsp;on&nbsp;a&nbsp;separate&nbsp;line,&nbsp;but&nbsp;here</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307469">//&nbsp;we&nbsp;only&nbsp;care&nbsp;about&nbsp;the&nbsp;start&nbsp;line&nbsp;of&nbsp;the&nbsp;actual&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5307533">//&nbsp;without&nbsp;label&nbsp;-&nbsp;correct&nbsp;line&nbsp;for&nbsp;each&nbsp;label</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5307583">for</span>&nbsp;<span class="ident" id="5307587">t</span>&nbsp;<span class="op" id="5307589">:=</span>&nbsp;<span class="ident" id="5307592"><a href="/go/printer/nodes.go.html#5306843">s</a></span><span class="op" id="5307593">;</span>&nbsp;<span class="op" id="5307595">;</span>&nbsp;<span class="op" id="5307597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307603">lt</span><span class="op" id="5307605">,</span>&nbsp;<span class="ident" id="5307607">_</span>&nbsp;<span class="op" id="5307609">:=</span>&nbsp;<span class="ident" id="5307612"><a href="/go/printer/nodes.go.html#5307587">t</a></span><span class="op" id="5307613">.</span><span class="op" id="5307614">(</span><span class="op" id="5307615">*</span><span class="ident" id="5307616"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5307619">.</span><span class="ident" id="5307620">LabeledStmt</span><span class="op" id="5307631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5307637">if</span>&nbsp;<span class="ident" id="5307640"><a href="/go/printer/nodes.go.html#5307603">lt</a></span>&nbsp;<span class="op" id="5307643">==</span>&nbsp;<span class="ident" id="5307646">nil</span>&nbsp;<span class="op" id="5307650">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5307657">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307673"><a href="/go/printer/nodes.go.html#5306818">line</a></span><span class="op" id="5307677">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307684"><a href="/go/printer/nodes.go.html#5307587">t</a></span>&nbsp;<span class="op" id="5307686">=</span>&nbsp;<span class="ident" id="5307688"><a href="/go/printer/nodes.go.html#5307603">lt</a></span><span class="op" id="5307690">.</span><span class="ident" id="5307691">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307699">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307704"><a href="/go/printer/nodes.go.html#5306828">i</a></span><span class="op" id="5307705">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5307716">if</span>&nbsp;<span class="ident" id="5307719"><a href="/go/printer/nodes.go.html#5306740">nindent</a></span>&nbsp;<span class="op" id="5307727">&gt;</span>&nbsp;<span class="num" id="5307729">0</span>&nbsp;<span class="op" id="5307731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307735"><a href="/go/printer/nodes.go.html#5306702">p</a></span><span class="op" id="5307736">.</span><span class="builtinfunc" id="5307737">print</span><span class="op" id="5307742">(</span><span class="ident" id="5307743"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5307751">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5307754">}</span><br>
<span class="lineno"></span><span class="op" id="5307756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5307759">//&nbsp;block&nbsp;prints&nbsp;an&nbsp;*ast.BlockStmt;&nbsp;it&nbsp;always&nbsp;spans&nbsp;at&nbsp;least&nbsp;two&nbsp;lines.</span><br>
<span class="lineno"></span><span class="keyword" id="5307830">func</span>&nbsp;<span class="op" id="5307835">(</span><span class="ident" id="5307836">p</span>&nbsp;<span class="op" id="5307838">*</span><span class="ident" id="5307839"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5307846">)</span>&nbsp;<span class="ident" id="5307848">block</span><span class="op" id="5307853">(</span><span class="ident" id="5307854">b</span>&nbsp;<span class="op" id="5307856">*</span><span class="ident" id="5307857"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5307860">.</span><span class="ident" id="5307861">BlockStmt</span><span class="op" id="5307870">,</span>&nbsp;<span class="ident" id="5307872">nindent</span>&nbsp;<span class="builtintype" id="5307880">int</span><span class="op" id="5307883">)</span>&nbsp;<span class="op" id="5307885">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307888"><a href="/go/printer/nodes.go.html#5307836">p</a></span><span class="op" id="5307889">.</span><span class="builtinfunc" id="5307890">print</span><span class="op" id="5307895">(</span><span class="ident" id="5307896"><a href="/go/printer/nodes.go.html#5307854">b</a></span><span class="op" id="5307897">.</span><span class="ident" id="5307898">Lbrace</span><span class="op" id="5307904">,</span>&nbsp;<span class="ident" id="5307906"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5307911">.</span><span class="ident" id="5307912">LBRACE</span><span class="op" id="5307918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307921"><a href="/go/printer/nodes.go.html#5307836">p</a></span><span class="op" id="5307922">.</span><span class="ident" id="5307923">stmtList</span><span class="op" id="5307931">(</span><span class="ident" id="5307932"><a href="/go/printer/nodes.go.html#5307854">b</a></span><span class="op" id="5307933">.</span><span class="ident" id="5307934">List</span><span class="op" id="5307938">,</span>&nbsp;<span class="ident" id="5307940"><a href="/go/printer/nodes.go.html#5307872">nindent</a></span><span class="op" id="5307947">,</span>&nbsp;<span class="builtintype" id="5307949">true</span><span class="op" id="5307953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5307956"><a href="/go/printer/nodes.go.html#5307836">p</a></span><span class="op" id="5307957">.</span><span class="ident" id="5307958">linebreak</span><span class="op" id="5307967">(</span><span class="ident" id="5307968"><a href="/go/printer/nodes.go.html#5307836">p</a></span><span class="op" id="5307969">.</span><span class="ident" id="5307970">lineFor</span><span class="op" id="5307977">(</span><span class="ident" id="5307978"><a href="/go/printer/nodes.go.html#5307854">b</a></span><span class="op" id="5307979">.</span><span class="ident" id="5307980">Rbrace</span><span class="op" id="5307986">)</span><span class="op" id="5307987">,</span>&nbsp;<span class="num" id="5307989">1</span><span class="op" id="5307990">,</span>&nbsp;<span class="ident" id="5307992"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5307998">,</span>&nbsp;<span class="builtintype" id="5308000">true</span><span class="op" id="5308004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5308007"><a href="/go/printer/nodes.go.html#5307836">p</a></span><span class="op" id="5308008">.</span><span class="builtinfunc" id="5308009">print</span><span class="op" id="5308014">(</span><span class="ident" id="5308015"><a href="/go/printer/nodes.go.html#5307854">b</a></span><span class="op" id="5308016">.</span><span class="ident" id="5308017">Rbrace</span><span class="op" id="5308023">,</span>&nbsp;<span class="ident" id="5308025"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5308030">.</span><span class="ident" id="5308031">RBRACE</span><span class="op" id="5308037">)</span><br>
<span class="lineno"></span><span class="op" id="5308039">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span><span class="keyword" id="5308042">func</span>&nbsp;<span class="ident" id="5308047">isTypeName</span><span class="op" id="5308057">(</span><span class="ident" id="5308058">x</span>&nbsp;<span class="ident" id="5308060"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308063">.</span><span class="ident" id="5308064">Expr</span><span class="op" id="5308068">)</span>&nbsp;<span class="builtintype" id="5308070">bool</span>&nbsp;<span class="op" id="5308075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308078">switch</span>&nbsp;<span class="ident" id="5308085">t</span>&nbsp;<span class="op" id="5308087">:=</span>&nbsp;<span class="ident" id="5308090"><a href="/go/printer/nodes.go.html#5308058">x</a></span><span class="op" id="5308091">.</span><span class="op" id="5308092">(</span><span class="keyword" id="5308093">type</span><span class="op" id="5308097">)</span>&nbsp;<span class="op" id="5308099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308102">case</span>&nbsp;<span class="op" id="5308107">*</span><span class="ident" id="5308108"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308111">.</span><span class="ident" id="5308112">Ident</span><span class="op" id="5308117">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308121">return</span>&nbsp;<span class="builtintype" id="5308128">true</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308134">case</span>&nbsp;<span class="op" id="5308139">*</span><span class="ident" id="5308140"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308143">.</span><span class="ident" id="5308144">SelectorExpr</span><span class="op" id="5308156">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308160">return</span>&nbsp;<span class="ident" id="5308167"><a href="/go/printer/nodes.go.html#5308047">isTypeName</a></span><span class="op" id="5308177">(</span><span class="ident" id="5308178"><a href="/go/printer/nodes.go.html#5308085">t</a></span><span class="op" id="5308179">.</span><span class="ident" id="5308180">X</span><span class="op" id="5308181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308187">return</span>&nbsp;<span class="builtintype" id="5308194">false</span><br>
<span class="lineno"></span><span class="op" id="5308200">}</span><br>
<span class="lineno">960</span><br>
<span class="lineno"></span><span class="keyword" id="5308203">func</span>&nbsp;<span class="ident" id="5308208">stripParens</span><span class="op" id="5308219">(</span><span class="ident" id="5308220">x</span>&nbsp;<span class="ident" id="5308222"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308225">.</span><span class="ident" id="5308226">Expr</span><span class="op" id="5308230">)</span>&nbsp;<span class="ident" id="5308232"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308235">.</span><span class="ident" id="5308236">Expr</span>&nbsp;<span class="op" id="5308241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308244">if</span>&nbsp;<span class="ident" id="5308247">px</span><span class="op" id="5308249">,</span>&nbsp;<span class="ident" id="5308251">strip</span>&nbsp;<span class="op" id="5308257">:=</span>&nbsp;<span class="ident" id="5308260"><a href="/go/printer/nodes.go.html#5308220">x</a></span><span class="op" id="5308261">.</span><span class="op" id="5308262">(</span><span class="op" id="5308263">*</span><span class="ident" id="5308264"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308267">.</span><span class="ident" id="5308268">ParenExpr</span><span class="op" id="5308277">)</span><span class="op" id="5308278">;</span>&nbsp;<span class="ident" id="5308280"><a href="/go/printer/nodes.go.html#5308251">strip</a></span>&nbsp;<span class="op" id="5308286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5308290">//&nbsp;parentheses&nbsp;must&nbsp;not&nbsp;be&nbsp;stripped&nbsp;if&nbsp;there&nbsp;are&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5308345">//&nbsp;unparenthesized&nbsp;composite&nbsp;literals&nbsp;starting&nbsp;with</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5308399">//&nbsp;a&nbsp;type&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5308416"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308419">.</span><span class="ident" id="5308420">Inspect</span><span class="op" id="5308427">(</span><span class="ident" id="5308428"><a href="/go/printer/nodes.go.html#5308247">px</a></span><span class="op" id="5308430">.</span><span class="ident" id="5308431">X</span><span class="op" id="5308432">,</span>&nbsp;<span class="keyword" id="5308434">func</span><span class="op" id="5308438">(</span><span class="ident" id="5308439">node</span>&nbsp;<span class="ident" id="5308444"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308447">.</span><span class="ident" id="5308448">Node</span><span class="op" id="5308452">)</span>&nbsp;<span class="builtintype" id="5308454">bool</span>&nbsp;<span class="op" id="5308459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308464">switch</span>&nbsp;<span class="ident" id="5308471">x</span>&nbsp;<span class="op" id="5308473">:=</span>&nbsp;<span class="ident" id="5308476"><a href="/go/printer/nodes.go.html#5308439">node</a></span><span class="op" id="5308480">.</span><span class="op" id="5308481">(</span><span class="keyword" id="5308482">type</span><span class="op" id="5308486">)</span>&nbsp;<span class="op" id="5308488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308493">case</span>&nbsp;<span class="op" id="5308498">*</span><span class="ident" id="5308499"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308502">.</span><span class="ident" id="5308503">ParenExpr</span><span class="op" id="5308512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5308518">//&nbsp;parentheses&nbsp;protect&nbsp;enclosed&nbsp;composite&nbsp;literals</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308573">return</span>&nbsp;<span class="builtintype" id="5308580">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308589">case</span>&nbsp;<span class="op" id="5308594">*</span><span class="ident" id="5308595"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308598">.</span><span class="ident" id="5308599">CompositeLit</span><span class="op" id="5308611">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308617">if</span>&nbsp;<span class="ident" id="5308620"><a href="/go/printer/nodes.go.html#5308047">isTypeName</a></span><span class="op" id="5308630">(</span><span class="ident" id="5308631"><a href="/go/printer/nodes.go.html#5308471">x</a></span><span class="op" id="5308632">.</span><span class="ident" id="5308633">Type</span><span class="op" id="5308637">)</span>&nbsp;<span class="op" id="5308639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5308646"><a href="/go/printer/nodes.go.html#5308251">strip</a></span>&nbsp;<span class="op" id="5308652">=</span>&nbsp;<span class="builtintype" id="5308654">false</span>&nbsp;<span class="comment" id="5308660">//&nbsp;do&nbsp;not&nbsp;strip&nbsp;parentheses</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308692">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308698">return</span>&nbsp;<span class="builtintype" id="5308705">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5308719">//&nbsp;in&nbsp;all&nbsp;other&nbsp;cases,&nbsp;keep&nbsp;inspecting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308761">return</span>&nbsp;<span class="builtintype" id="5308768">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308775">}</span><span class="op" id="5308776">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308780">if</span>&nbsp;<span class="ident" id="5308783"><a href="/go/printer/nodes.go.html#5308251">strip</a></span>&nbsp;<span class="op" id="5308789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308794">return</span>&nbsp;<span class="ident" id="5308801"><a href="/go/printer/nodes.go.html#5308208">stripParens</a></span><span class="op" id="5308812">(</span><span class="ident" id="5308813"><a href="/go/printer/nodes.go.html#5308247">px</a></span><span class="op" id="5308815">.</span><span class="ident" id="5308816">X</span><span class="op" id="5308817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308827">return</span>&nbsp;<span class="ident" id="5308834"><a href="/go/printer/nodes.go.html#5308220">x</a></span><br>
<span class="lineno">985</span><span class="op" id="5308836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5308839">func</span>&nbsp;<span class="ident" id="5308844">stripParensAlways</span><span class="op" id="5308861">(</span><span class="ident" id="5308862">x</span>&nbsp;<span class="ident" id="5308864"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308867">.</span><span class="ident" id="5308868">Expr</span><span class="op" id="5308872">)</span>&nbsp;<span class="ident" id="5308874"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308877">.</span><span class="ident" id="5308878">Expr</span>&nbsp;<span class="op" id="5308883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308886">if</span>&nbsp;<span class="ident" id="5308889">x</span><span class="op" id="5308890">,</span>&nbsp;<span class="ident" id="5308892">ok</span>&nbsp;<span class="op" id="5308895">:=</span>&nbsp;<span class="ident" id="5308898"><a href="/go/printer/nodes.go.html#5308862">x</a></span><span class="op" id="5308899">.</span><span class="op" id="5308900">(</span><span class="op" id="5308901">*</span><span class="ident" id="5308902"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5308905">.</span><span class="ident" id="5308906">ParenExpr</span><span class="op" id="5308915">)</span><span class="op" id="5308916">;</span>&nbsp;<span class="ident" id="5308918"><a href="/go/printer/nodes.go.html#5308892">ok</a></span>&nbsp;<span class="op" id="5308921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308925">return</span>&nbsp;<span class="ident" id="5308932"><a href="/go/printer/nodes.go.html#5308844">stripParensAlways</a></span><span class="op" id="5308949">(</span><span class="ident" id="5308950"><a href="/go/printer/nodes.go.html#5308889">x</a></span><span class="op" id="5308951">.</span><span class="ident" id="5308952">X</span><span class="op" id="5308953">)</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5308956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5308959">return</span>&nbsp;<span class="ident" id="5308966"><a href="/go/printer/nodes.go.html#5308862">x</a></span><br>
<span class="lineno"></span><span class="op" id="5308968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5308971">func</span>&nbsp;<span class="op" id="5308976">(</span><span class="ident" id="5308977">p</span>&nbsp;<span class="op" id="5308979">*</span><span class="ident" id="5308980"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5308987">)</span>&nbsp;<span class="ident" id="5308989">controlClause</span><span class="op" id="5309002">(</span><span class="ident" id="5309003">isForStmt</span>&nbsp;<span class="builtintype" id="5309013">bool</span><span class="op" id="5309017">,</span>&nbsp;<span class="ident" id="5309019">init</span>&nbsp;<span class="ident" id="5309024"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5309027">.</span><span class="ident" id="5309028">Stmt</span><span class="op" id="5309032">,</span>&nbsp;<span class="ident" id="5309034">expr</span>&nbsp;<span class="ident" id="5309039"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5309042">.</span><span class="ident" id="5309043">Expr</span><span class="op" id="5309047">,</span>&nbsp;<span class="ident" id="5309049">post</span>&nbsp;<span class="ident" id="5309054"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5309057">.</span><span class="ident" id="5309058">Stmt</span><span class="op" id="5309062">)</span>&nbsp;<span class="op" id="5309064">{</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309067"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309068">.</span><span class="builtinfunc" id="5309069">print</span><span class="op" id="5309074">(</span><span class="ident" id="5309075"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5309080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309083">needsBlank</span>&nbsp;<span class="op" id="5309094">:=</span>&nbsp;<span class="builtintype" id="5309097">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309104">if</span>&nbsp;<span class="ident" id="5309107"><a href="/go/printer/nodes.go.html#5309019">init</a></span>&nbsp;<span class="op" id="5309112">==</span>&nbsp;<span class="ident" id="5309115">nil</span>&nbsp;<span class="op" id="5309119">&amp;&amp;</span>&nbsp;<span class="ident" id="5309122"><a href="/go/printer/nodes.go.html#5309049">post</a></span>&nbsp;<span class="op" id="5309127">==</span>&nbsp;<span class="ident" id="5309130">nil</span>&nbsp;<span class="op" id="5309134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5309138">//&nbsp;no&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309166">if</span>&nbsp;<span class="ident" id="5309169"><a href="/go/printer/nodes.go.html#5309034">expr</a></span>&nbsp;<span class="op" id="5309174">!=</span>&nbsp;<span class="ident" id="5309177">nil</span>&nbsp;<span class="op" id="5309181">{</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309186"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309187">.</span><span class="ident" id="5309188">expr</span><span class="op" id="5309192">(</span><span class="ident" id="5309193"><a href="/go/printer/nodes.go.html#5308208">stripParens</a></span><span class="op" id="5309204">(</span><span class="ident" id="5309205"><a href="/go/printer/nodes.go.html#5309034">expr</a></span><span class="op" id="5309209">)</span><span class="op" id="5309210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309215"><a href="/go/printer/nodes.go.html#5309083">needsBlank</a></span>&nbsp;<span class="op" id="5309226">=</span>&nbsp;<span class="builtintype" id="5309228">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309238">}</span>&nbsp;<span class="keyword" id="5309240">else</span>&nbsp;<span class="op" id="5309245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5309249">//&nbsp;all&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5309278">//&nbsp;(they&nbsp;are&nbsp;not&nbsp;separators,&nbsp;print&nbsp;them&nbsp;explicitly)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309332">if</span>&nbsp;<span class="ident" id="5309335"><a href="/go/printer/nodes.go.html#5309019">init</a></span>&nbsp;<span class="op" id="5309340">!=</span>&nbsp;<span class="ident" id="5309343">nil</span>&nbsp;<span class="op" id="5309347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309352"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309353">.</span><span class="ident" id="5309354">stmt</span><span class="op" id="5309358">(</span><span class="ident" id="5309359"><a href="/go/printer/nodes.go.html#5309019">init</a></span><span class="op" id="5309363">,</span>&nbsp;<span class="builtintype" id="5309365">false</span><span class="op" id="5309370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309378"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309379">.</span><span class="builtinfunc" id="5309380">print</span><span class="op" id="5309385">(</span><span class="ident" id="5309386"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5309391">.</span><span class="ident" id="5309392">SEMICOLON</span><span class="op" id="5309401">,</span>&nbsp;<span class="ident" id="5309403"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5309408">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309412">if</span>&nbsp;<span class="ident" id="5309415"><a href="/go/printer/nodes.go.html#5309034">expr</a></span>&nbsp;<span class="op" id="5309420">!=</span>&nbsp;<span class="ident" id="5309423">nil</span>&nbsp;<span class="op" id="5309427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309432"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309433">.</span><span class="ident" id="5309434">expr</span><span class="op" id="5309438">(</span><span class="ident" id="5309439"><a href="/go/printer/nodes.go.html#5308208">stripParens</a></span><span class="op" id="5309450">(</span><span class="ident" id="5309451"><a href="/go/printer/nodes.go.html#5309034">expr</a></span><span class="op" id="5309455">)</span><span class="op" id="5309456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309461"><a href="/go/printer/nodes.go.html#5309083">needsBlank</a></span>&nbsp;<span class="op" id="5309472">=</span>&nbsp;<span class="builtintype" id="5309474">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309485">if</span>&nbsp;<span class="ident" id="5309488"><a href="/go/printer/nodes.go.html#5309003">isForStmt</a></span>&nbsp;<span class="op" id="5309498">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309503"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309504">.</span><span class="builtinfunc" id="5309505">print</span><span class="op" id="5309510">(</span><span class="ident" id="5309511"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5309516">.</span><span class="ident" id="5309517">SEMICOLON</span><span class="op" id="5309526">,</span>&nbsp;<span class="ident" id="5309528"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5309533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309538"><a href="/go/printer/nodes.go.html#5309083">needsBlank</a></span>&nbsp;<span class="op" id="5309549">=</span>&nbsp;<span class="builtintype" id="5309551">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309560">if</span>&nbsp;<span class="ident" id="5309563"><a href="/go/printer/nodes.go.html#5309049">post</a></span>&nbsp;<span class="op" id="5309568">!=</span>&nbsp;<span class="ident" id="5309571">nil</span>&nbsp;<span class="op" id="5309575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309581"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309582">.</span><span class="ident" id="5309583">stmt</span><span class="op" id="5309587">(</span><span class="ident" id="5309588"><a href="/go/printer/nodes.go.html#5309049">post</a></span><span class="op" id="5309592">,</span>&nbsp;<span class="builtintype" id="5309594">false</span><span class="op" id="5309599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309605"><a href="/go/printer/nodes.go.html#5309083">needsBlank</a></span>&nbsp;<span class="op" id="5309616">=</span>&nbsp;<span class="builtintype" id="5309618">true</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5309636">if</span>&nbsp;<span class="ident" id="5309639"><a href="/go/printer/nodes.go.html#5309083">needsBlank</a></span>&nbsp;<span class="op" id="5309650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5309654"><a href="/go/printer/nodes.go.html#5308977">p</a></span><span class="op" id="5309655">.</span><span class="builtinfunc" id="5309656">print</span><span class="op" id="5309661">(</span><span class="ident" id="5309662"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5309667">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5309670">}</span><br>
<span class="lineno"></span><span class="op" id="5309672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5309675">//&nbsp;indentList&nbsp;reports&nbsp;whether&nbsp;an&nbsp;expression&nbsp;list&nbsp;would&nbsp;look&nbsp;better&nbsp;if&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5309748">//&nbsp;were&nbsp;indented&nbsp;wholesale&nbsp;(starting&nbsp;with&nbsp;the&nbsp;very&nbsp;first&nbsp;element,&nbsp;rather</span><br>
<span class="lineno">1030</span><span class="comment" id="5309821">//&nbsp;than&nbsp;starting&nbsp;at&nbsp;the&nbsp;first&nbsp;line&nbsp;break).</span><br>
<span class="lineno"></span><span class="comment" id="5309864">//</span><br>
<span class="lineno"></span><span class="keyword" id="5309867">func</span>&nbsp;<span class="op" id="5309872">(</span><span class="ident" id="5309873">p</span>&nbsp;<span class="op" id="5309875">*</span><span class="ident" id="5309876"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5309883">)</span>&nbsp;<span class="ident" id="5309885">indentList</span><span class="op" id="5309895">(</span><span class="ident" id="5309896">list</span>&nbsp;<span class="op" id="5309901">[</span><span class="op" id="5309902">]</span><span class="ident" id="5309903"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5309906">.</span><span class="ident" id="5309907">Expr</span><span class="op" id="5309911">)</span>&nbsp;<span class="builtintype" id="5309913">bool</span>&nbsp;<span class="op" id="5309918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5309921">//&nbsp;Heuristic:&nbsp;indentList&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than&nbsp;one&nbsp;multi-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5309994">//&nbsp;line&nbsp;element&nbsp;in&nbsp;the&nbsp;list,&nbsp;or&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;element&nbsp;that&nbsp;is&nbsp;not</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310063">//&nbsp;starting&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ends.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310119">if</span>&nbsp;<span class="builtinfunc" id="5310122">len</span><span class="op" id="5310125">(</span><span class="ident" id="5310126"><a href="/go/printer/nodes.go.html#5309896">list</a></span><span class="op" id="5310130">)</span>&nbsp;<span class="op" id="5310132">&gt;=</span>&nbsp;<span class="num" id="5310135">2</span>&nbsp;<span class="op" id="5310137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310141">var</span>&nbsp;<span class="ident" id="5310145">b</span>&nbsp;<span class="op" id="5310147">=</span>&nbsp;<span class="ident" id="5310149"><a href="/go/printer/nodes.go.html#5309873">p</a></span><span class="op" id="5310150">.</span><span class="ident" id="5310151">lineFor</span><span class="op" id="5310158">(</span><span class="ident" id="5310159"><a href="/go/printer/nodes.go.html#5309896">list</a></span><span class="op" id="5310163">[</span><span class="num" id="5310164">0</span><span class="op" id="5310165">]</span><span class="op" id="5310166">.</span><span class="ident" id="5310167">Pos</span><span class="op" id="5310170">(</span><span class="op" id="5310171">)</span><span class="op" id="5310172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310176">var</span>&nbsp;<span class="ident" id="5310180">e</span>&nbsp;<span class="op" id="5310182">=</span>&nbsp;<span class="ident" id="5310184"><a href="/go/printer/nodes.go.html#5309873">p</a></span><span class="op" id="5310185">.</span><span class="ident" id="5310186">lineFor</span><span class="op" id="5310193">(</span><span class="ident" id="5310194"><a href="/go/printer/nodes.go.html#5309896">list</a></span><span class="op" id="5310198">[</span><span class="builtinfunc" id="5310199">len</span><span class="op" id="5310202">(</span><span class="ident" id="5310203"><a href="/go/printer/nodes.go.html#5309896">list</a></span><span class="op" id="5310207">)</span><span class="op" id="5310208">-</span><span class="num" id="5310209">1</span><span class="op" id="5310210">]</span><span class="op" id="5310211">.</span><span class="ident" id="5310212">End</span><span class="op" id="5310215">(</span><span class="op" id="5310216">)</span><span class="op" id="5310217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310221">if</span>&nbsp;<span class="num" id="5310224">0</span>&nbsp;<span class="op" id="5310226">&lt;</span>&nbsp;<span class="ident" id="5310228"><a href="/go/printer/nodes.go.html#5310145">b</a></span>&nbsp;<span class="op" id="5310230">&amp;&amp;</span>&nbsp;<span class="ident" id="5310233"><a href="/go/printer/nodes.go.html#5310145">b</a></span>&nbsp;<span class="op" id="5310235">&lt;</span>&nbsp;<span class="ident" id="5310237"><a href="/go/printer/nodes.go.html#5310180">e</a></span>&nbsp;<span class="op" id="5310239">{</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310244">//&nbsp;list&nbsp;spans&nbsp;multiple&nbsp;lines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310276">n</span>&nbsp;<span class="op" id="5310278">:=</span>&nbsp;<span class="num" id="5310281">0</span>&nbsp;<span class="comment" id="5310283">//&nbsp;multi-line&nbsp;element&nbsp;count</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310314">line</span>&nbsp;<span class="op" id="5310319">:=</span>&nbsp;<span class="ident" id="5310322"><a href="/go/printer/nodes.go.html#5310145">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310327">for</span>&nbsp;<span class="ident" id="5310331">_</span><span class="op" id="5310332">,</span>&nbsp;<span class="ident" id="5310334">x</span>&nbsp;<span class="op" id="5310336">:=</span>&nbsp;<span class="keyword" id="5310339">range</span>&nbsp;<span class="ident" id="5310345"><a href="/go/printer/nodes.go.html#5309896">list</a></span>&nbsp;<span class="op" id="5310350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310356">xb</span>&nbsp;<span class="op" id="5310359">:=</span>&nbsp;<span class="ident" id="5310362"><a href="/go/printer/nodes.go.html#5309873">p</a></span><span class="op" id="5310363">.</span><span class="ident" id="5310364">lineFor</span><span class="op" id="5310371">(</span><span class="ident" id="5310372"><a href="/go/printer/nodes.go.html#5310334">x</a></span><span class="op" id="5310373">.</span><span class="ident" id="5310374">Pos</span><span class="op" id="5310377">(</span><span class="op" id="5310378">)</span><span class="op" id="5310379">)</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310385">xe</span>&nbsp;<span class="op" id="5310388">:=</span>&nbsp;<span class="ident" id="5310391"><a href="/go/printer/nodes.go.html#5309873">p</a></span><span class="op" id="5310392">.</span><span class="ident" id="5310393">lineFor</span><span class="op" id="5310400">(</span><span class="ident" id="5310401"><a href="/go/printer/nodes.go.html#5310334">x</a></span><span class="op" id="5310402">.</span><span class="ident" id="5310403">End</span><span class="op" id="5310406">(</span><span class="op" id="5310407">)</span><span class="op" id="5310408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310414">if</span>&nbsp;<span class="ident" id="5310417"><a href="/go/printer/nodes.go.html#5310314">line</a></span>&nbsp;<span class="op" id="5310422">&lt;</span>&nbsp;<span class="ident" id="5310424"><a href="/go/printer/nodes.go.html#5310356">xb</a></span>&nbsp;<span class="op" id="5310427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310434">//&nbsp;x&nbsp;is&nbsp;not&nbsp;starting&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310472">//&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ended</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310511">return</span>&nbsp;<span class="builtintype" id="5310518">true</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5310527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310533">if</span>&nbsp;<span class="ident" id="5310536"><a href="/go/printer/nodes.go.html#5310356">xb</a></span>&nbsp;<span class="op" id="5310539">&lt;</span>&nbsp;<span class="ident" id="5310541"><a href="/go/printer/nodes.go.html#5310385">xe</a></span>&nbsp;<span class="op" id="5310544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310551">//&nbsp;x&nbsp;is&nbsp;a&nbsp;multi-line&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310585"><a href="/go/printer/nodes.go.html#5310276">n</a></span><span class="op" id="5310586">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5310593">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310599"><a href="/go/printer/nodes.go.html#5310314">line</a></span>&nbsp;<span class="op" id="5310604">=</span>&nbsp;<span class="ident" id="5310606"><a href="/go/printer/nodes.go.html#5310385">xe</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5310612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310617">return</span>&nbsp;<span class="ident" id="5310624"><a href="/go/printer/nodes.go.html#5310276">n</a></span>&nbsp;<span class="op" id="5310626">&gt;</span>&nbsp;<span class="num" id="5310628">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5310632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5310635">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310638">return</span>&nbsp;<span class="builtintype" id="5310645">false</span><br>
<span class="lineno"></span><span class="op" id="5310651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5310654">func</span>&nbsp;<span class="op" id="5310659">(</span><span class="ident" id="5310660">p</span>&nbsp;<span class="op" id="5310662">*</span><span class="ident" id="5310663"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5310670">)</span>&nbsp;<span class="ident" id="5310672">stmt</span><span class="op" id="5310676">(</span><span class="ident" id="5310677">stmt</span>&nbsp;<span class="ident" id="5310682"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5310685">.</span><span class="ident" id="5310686">Stmt</span><span class="op" id="5310690">,</span>&nbsp;<span class="ident" id="5310692">nextIsRBrace</span>&nbsp;<span class="builtintype" id="5310705">bool</span><span class="op" id="5310709">)</span>&nbsp;<span class="op" id="5310711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310714"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5310715">.</span><span class="builtinfunc" id="5310716">print</span><span class="op" id="5310721">(</span><span class="ident" id="5310722"><a href="/go/printer/nodes.go.html#5310677">stmt</a></span><span class="op" id="5310726">.</span><span class="ident" id="5310727">Pos</span><span class="op" id="5310730">(</span><span class="op" id="5310731">)</span><span class="op" id="5310732">)</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310736">switch</span>&nbsp;<span class="ident" id="5310743">s</span>&nbsp;<span class="op" id="5310745">:=</span>&nbsp;<span class="ident" id="5310748"><a href="/go/printer/nodes.go.html#5310677">stmt</a></span><span class="op" id="5310752">.</span><span class="op" id="5310753">(</span><span class="keyword" id="5310754">type</span><span class="op" id="5310758">)</span>&nbsp;<span class="op" id="5310760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310763">case</span>&nbsp;<span class="op" id="5310768">*</span><span class="ident" id="5310769"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5310772">.</span><span class="ident" id="5310773">BadStmt</span><span class="op" id="5310780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310784"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5310785">.</span><span class="builtinfunc" id="5310786">print</span><span class="op" id="5310791">(</span><span class="string" id="5310792">&#34;BadStmt&#34;</span><span class="op" id="5310801">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310805">case</span>&nbsp;<span class="op" id="5310810">*</span><span class="ident" id="5310811"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5310814">.</span><span class="ident" id="5310815">DeclStmt</span><span class="op" id="5310823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5310827"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5310828">.</span><span class="ident" id="5310829">decl</span><span class="op" id="5310833">(</span><span class="ident" id="5310834"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5310835">.</span><span class="ident" id="5310836">Decl</span><span class="op" id="5310840">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310844">case</span>&nbsp;<span class="op" id="5310849">*</span><span class="ident" id="5310850"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5310853">.</span><span class="ident" id="5310854">EmptyStmt</span><span class="op" id="5310863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310867">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5310886">case</span>&nbsp;<span class="op" id="5310891">*</span><span class="ident" id="5310892"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5310895">.</span><span class="ident" id="5310896">LabeledStmt</span><span class="op" id="5310907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310911">//&nbsp;a&nbsp;&#34;correcting&#34;&nbsp;unindent&nbsp;immediately&nbsp;following&nbsp;a&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5310975">//&nbsp;is&nbsp;applied&nbsp;before&nbsp;the&nbsp;line&nbsp;break&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5311036">//&nbsp;between&nbsp;(see&nbsp;writeWhitespace)</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311071"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311072">.</span><span class="builtinfunc" id="5311073">print</span><span class="op" id="5311078">(</span><span class="ident" id="5311079"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5311087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311091"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311092">.</span><span class="ident" id="5311093">expr</span><span class="op" id="5311097">(</span><span class="ident" id="5311098"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311099">.</span><span class="ident" id="5311100">Label</span><span class="op" id="5311105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311109"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311110">.</span><span class="builtinfunc" id="5311111">print</span><span class="op" id="5311116">(</span><span class="ident" id="5311117"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311118">.</span><span class="ident" id="5311119">Colon</span><span class="op" id="5311124">,</span>&nbsp;<span class="ident" id="5311126"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5311131">.</span><span class="ident" id="5311132">COLON</span><span class="op" id="5311137">,</span>&nbsp;<span class="ident" id="5311139"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5311145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311149">if</span>&nbsp;<span class="ident" id="5311152">e</span><span class="op" id="5311153">,</span>&nbsp;<span class="ident" id="5311155">isEmpty</span>&nbsp;<span class="op" id="5311163">:=</span>&nbsp;<span class="ident" id="5311166"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311167">.</span><span class="ident" id="5311168">Stmt</span><span class="op" id="5311172">.</span><span class="op" id="5311173">(</span><span class="op" id="5311174">*</span><span class="ident" id="5311175"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311178">.</span><span class="ident" id="5311179">EmptyStmt</span><span class="op" id="5311188">)</span><span class="op" id="5311189">;</span>&nbsp;<span class="ident" id="5311191"><a href="/go/printer/nodes.go.html#5311155">isEmpty</a></span>&nbsp;<span class="op" id="5311199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311204">if</span>&nbsp;<span class="op" id="5311207">!</span><span class="ident" id="5311208"><a href="/go/printer/nodes.go.html#5310692">nextIsRBrace</a></span>&nbsp;<span class="op" id="5311221">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311227"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311228">.</span><span class="builtinfunc" id="5311229">print</span><span class="op" id="5311234">(</span><span class="ident" id="5311235"><a href="/go/printer/printer.go.html#5324974">newline</a></span><span class="op" id="5311242">,</span>&nbsp;<span class="ident" id="5311244"><a href="/go/printer/nodes.go.html#5311152">e</a></span><span class="op" id="5311245">.</span><span class="ident" id="5311246">Pos</span><span class="op" id="5311249">(</span><span class="op" id="5311250">)</span><span class="op" id="5311251">,</span>&nbsp;<span class="ident" id="5311253"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5311258">.</span><span class="ident" id="5311259">SEMICOLON</span><span class="op" id="5311268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311274">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5311283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5311287">}</span>&nbsp;<span class="keyword" id="5311289">else</span>&nbsp;<span class="op" id="5311294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311299"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311300">.</span><span class="ident" id="5311301">linebreak</span><span class="op" id="5311310">(</span><span class="ident" id="5311311"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311312">.</span><span class="ident" id="5311313">lineFor</span><span class="op" id="5311320">(</span><span class="ident" id="5311321"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311322">.</span><span class="ident" id="5311323">Stmt</span><span class="op" id="5311327">.</span><span class="ident" id="5311328">Pos</span><span class="op" id="5311331">(</span><span class="op" id="5311332">)</span><span class="op" id="5311333">)</span><span class="op" id="5311334">,</span>&nbsp;<span class="num" id="5311336">1</span><span class="op" id="5311337">,</span>&nbsp;<span class="ident" id="5311339"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5311345">,</span>&nbsp;<span class="builtintype" id="5311347">true</span><span class="op" id="5311351">)</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5311355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311359"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311360">.</span><span class="ident" id="5311361">stmt</span><span class="op" id="5311365">(</span><span class="ident" id="5311366"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311367">.</span><span class="ident" id="5311368">Stmt</span><span class="op" id="5311372">,</span>&nbsp;<span class="ident" id="5311374"><a href="/go/printer/nodes.go.html#5310692">nextIsRBrace</a></span><span class="op" id="5311386">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311390">case</span>&nbsp;<span class="op" id="5311395">*</span><span class="ident" id="5311396"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311399">.</span><span class="ident" id="5311400">ExprStmt</span><span class="op" id="5311408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311412">const</span>&nbsp;<span class="ident" id="5311418">depth</span>&nbsp;<span class="op" id="5311424">=</span>&nbsp;<span class="num" id="5311426">1</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311430"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311431">.</span><span class="ident" id="5311432">expr0</span><span class="op" id="5311437">(</span><span class="ident" id="5311438"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311439">.</span><span class="ident" id="5311440">X</span><span class="op" id="5311441">,</span>&nbsp;<span class="ident" id="5311443"><a href="/go/printer/nodes.go.html#5311418">depth</a></span><span class="op" id="5311448">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311452">case</span>&nbsp;<span class="op" id="5311457">*</span><span class="ident" id="5311458"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311461">.</span><span class="ident" id="5311462">SendStmt</span><span class="op" id="5311470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311474">const</span>&nbsp;<span class="ident" id="5311480">depth</span>&nbsp;<span class="op" id="5311486">=</span>&nbsp;<span class="num" id="5311488">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311492"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311493">.</span><span class="ident" id="5311494">expr0</span><span class="op" id="5311499">(</span><span class="ident" id="5311500"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311501">.</span><span class="ident" id="5311502">Chan</span><span class="op" id="5311506">,</span>&nbsp;<span class="ident" id="5311508"><a href="/go/printer/nodes.go.html#5311480">depth</a></span><span class="op" id="5311513">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311517"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311518">.</span><span class="builtinfunc" id="5311519">print</span><span class="op" id="5311524">(</span><span class="ident" id="5311525"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5311530">,</span>&nbsp;<span class="ident" id="5311532"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311533">.</span><span class="ident" id="5311534">Arrow</span><span class="op" id="5311539">,</span>&nbsp;<span class="ident" id="5311541"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5311546">.</span><span class="ident" id="5311547">ARROW</span><span class="op" id="5311552">,</span>&nbsp;<span class="ident" id="5311554"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5311559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311563"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311564">.</span><span class="ident" id="5311565">expr0</span><span class="op" id="5311570">(</span><span class="ident" id="5311571"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311572">.</span><span class="ident" id="5311573">Value</span><span class="op" id="5311578">,</span>&nbsp;<span class="ident" id="5311580"><a href="/go/printer/nodes.go.html#5311480">depth</a></span><span class="op" id="5311585">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311589">case</span>&nbsp;<span class="op" id="5311594">*</span><span class="ident" id="5311595"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311598">.</span><span class="ident" id="5311599">IncDecStmt</span><span class="op" id="5311609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311613">const</span>&nbsp;<span class="ident" id="5311619">depth</span>&nbsp;<span class="op" id="5311625">=</span>&nbsp;<span class="num" id="5311627">1</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311631"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311632">.</span><span class="ident" id="5311633">expr0</span><span class="op" id="5311638">(</span><span class="ident" id="5311639"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311640">.</span><span class="ident" id="5311641">X</span><span class="op" id="5311642">,</span>&nbsp;<span class="ident" id="5311644"><a href="/go/printer/nodes.go.html#5311619">depth</a></span><span class="op" id="5311649">+</span><span class="num" id="5311650">1</span><span class="op" id="5311651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311655"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311656">.</span><span class="builtinfunc" id="5311657">print</span><span class="op" id="5311662">(</span><span class="ident" id="5311663"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311664">.</span><span class="ident" id="5311665">TokPos</span><span class="op" id="5311671">,</span>&nbsp;<span class="ident" id="5311673"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311674">.</span><span class="ident" id="5311675">Tok</span><span class="op" id="5311678">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311682">case</span>&nbsp;<span class="op" id="5311687">*</span><span class="ident" id="5311688"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311691">.</span><span class="ident" id="5311692">AssignStmt</span><span class="op" id="5311702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311706">var</span>&nbsp;<span class="ident" id="5311710">depth</span>&nbsp;<span class="op" id="5311716">=</span>&nbsp;<span class="num" id="5311718">1</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311722">if</span>&nbsp;<span class="builtinfunc" id="5311725">len</span><span class="op" id="5311728">(</span><span class="ident" id="5311729"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311730">.</span><span class="ident" id="5311731">Lhs</span><span class="op" id="5311734">)</span>&nbsp;<span class="op" id="5311736">&gt;</span>&nbsp;<span class="num" id="5311738">1</span>&nbsp;<span class="op" id="5311740">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5311743">len</span><span class="op" id="5311746">(</span><span class="ident" id="5311747"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311748">.</span><span class="ident" id="5311749">Rhs</span><span class="op" id="5311752">)</span>&nbsp;<span class="op" id="5311754">&gt;</span>&nbsp;<span class="num" id="5311756">1</span>&nbsp;<span class="op" id="5311758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311763"><a href="/go/printer/nodes.go.html#5311710">depth</a></span><span class="op" id="5311768">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5311773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311777"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311778">.</span><span class="ident" id="5311779">exprList</span><span class="op" id="5311787">(</span><span class="ident" id="5311788"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311789">.</span><span class="ident" id="5311790">Pos</span><span class="op" id="5311793">(</span><span class="op" id="5311794">)</span><span class="op" id="5311795">,</span>&nbsp;<span class="ident" id="5311797"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311798">.</span><span class="ident" id="5311799">Lhs</span><span class="op" id="5311802">,</span>&nbsp;<span class="ident" id="5311804"><a href="/go/printer/nodes.go.html#5311710">depth</a></span><span class="op" id="5311809">,</span>&nbsp;<span class="num" id="5311811">0</span><span class="op" id="5311812">,</span>&nbsp;<span class="ident" id="5311814"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311815">.</span><span class="ident" id="5311816">TokPos</span><span class="op" id="5311822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311826"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311827">.</span><span class="builtinfunc" id="5311828">print</span><span class="op" id="5311833">(</span><span class="ident" id="5311834"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5311839">,</span>&nbsp;<span class="ident" id="5311841"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311842">.</span><span class="ident" id="5311843">TokPos</span><span class="op" id="5311849">,</span>&nbsp;<span class="ident" id="5311851"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311852">.</span><span class="ident" id="5311853">Tok</span><span class="op" id="5311856">,</span>&nbsp;<span class="ident" id="5311858"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5311863">)</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311867"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311868">.</span><span class="ident" id="5311869">exprList</span><span class="op" id="5311877">(</span><span class="ident" id="5311878"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311879">.</span><span class="ident" id="5311880">TokPos</span><span class="op" id="5311886">,</span>&nbsp;<span class="ident" id="5311888"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311889">.</span><span class="ident" id="5311890">Rhs</span><span class="op" id="5311893">,</span>&nbsp;<span class="ident" id="5311895"><a href="/go/printer/nodes.go.html#5311710">depth</a></span><span class="op" id="5311900">,</span>&nbsp;<span class="num" id="5311902">0</span><span class="op" id="5311903">,</span>&nbsp;<span class="ident" id="5311905"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5311910">.</span><span class="ident" id="5311911">NoPos</span><span class="op" id="5311916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311920">case</span>&nbsp;<span class="op" id="5311925">*</span><span class="ident" id="5311926"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311929">.</span><span class="ident" id="5311930">GoStmt</span><span class="op" id="5311936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311940"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311941">.</span><span class="builtinfunc" id="5311942">print</span><span class="op" id="5311947">(</span><span class="ident" id="5311948"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5311953">.</span><span class="ident" id="5311954">GO</span><span class="op" id="5311956">,</span>&nbsp;<span class="ident" id="5311958"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5311963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5311967"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5311968">.</span><span class="ident" id="5311969">expr</span><span class="op" id="5311973">(</span><span class="ident" id="5311974"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5311975">.</span><span class="ident" id="5311976">Call</span><span class="op" id="5311980">)</span><br>
<span class="lineno">1120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5311984">case</span>&nbsp;<span class="op" id="5311989">*</span><span class="ident" id="5311990"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5311993">.</span><span class="ident" id="5311994">DeferStmt</span><span class="op" id="5312003">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312007"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312008">.</span><span class="builtinfunc" id="5312009">print</span><span class="op" id="5312014">(</span><span class="ident" id="5312015"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312020">.</span><span class="ident" id="5312021">DEFER</span><span class="op" id="5312026">,</span>&nbsp;<span class="ident" id="5312028"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5312033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312037"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312038">.</span><span class="ident" id="5312039">expr</span><span class="op" id="5312043">(</span><span class="ident" id="5312044"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312045">.</span><span class="ident" id="5312046">Call</span><span class="op" id="5312050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312054">case</span>&nbsp;<span class="op" id="5312059">*</span><span class="ident" id="5312060"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312063">.</span><span class="ident" id="5312064">ReturnStmt</span><span class="op" id="5312074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312078"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312079">.</span><span class="builtinfunc" id="5312080">print</span><span class="op" id="5312085">(</span><span class="ident" id="5312086"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312091">.</span><span class="ident" id="5312092">RETURN</span><span class="op" id="5312098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312102">if</span>&nbsp;<span class="ident" id="5312105"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312106">.</span><span class="ident" id="5312107">Results</span>&nbsp;<span class="op" id="5312115">!=</span>&nbsp;<span class="ident" id="5312118">nil</span>&nbsp;<span class="op" id="5312122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312127"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312128">.</span><span class="builtinfunc" id="5312129">print</span><span class="op" id="5312134">(</span><span class="ident" id="5312135"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5312140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5312145">//&nbsp;Use&nbsp;indentList&nbsp;heuristic&nbsp;to&nbsp;make&nbsp;corner&nbsp;cases&nbsp;look</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5312202">//&nbsp;better&nbsp;(issue&nbsp;1207).&nbsp;A&nbsp;more&nbsp;systematic&nbsp;approach&nbsp;would</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5312262">//&nbsp;always&nbsp;indent,&nbsp;but&nbsp;this&nbsp;would&nbsp;cause&nbsp;significant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5312316">//&nbsp;reformatting&nbsp;of&nbsp;the&nbsp;code&nbsp;base&nbsp;and&nbsp;not&nbsp;necessarily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5312372">//&nbsp;lead&nbsp;to&nbsp;more&nbsp;nicely&nbsp;formatted&nbsp;code&nbsp;in&nbsp;general.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312425">if</span>&nbsp;<span class="ident" id="5312428"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312429">.</span><span class="ident" id="5312430">indentList</span><span class="op" id="5312440">(</span><span class="ident" id="5312441"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312442">.</span><span class="ident" id="5312443">Results</span><span class="op" id="5312450">)</span>&nbsp;<span class="op" id="5312452">{</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312458"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312459">.</span><span class="builtinfunc" id="5312460">print</span><span class="op" id="5312465">(</span><span class="ident" id="5312466"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5312472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312478"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312479">.</span><span class="ident" id="5312480">exprList</span><span class="op" id="5312488">(</span><span class="ident" id="5312489"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312490">.</span><span class="ident" id="5312491">Pos</span><span class="op" id="5312494">(</span><span class="op" id="5312495">)</span><span class="op" id="5312496">,</span>&nbsp;<span class="ident" id="5312498"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312499">.</span><span class="ident" id="5312500">Results</span><span class="op" id="5312507">,</span>&nbsp;<span class="num" id="5312509">1</span><span class="op" id="5312510">,</span>&nbsp;<span class="ident" id="5312512"><a href="/go/printer/nodes.go.html#5285066">noIndent</a></span><span class="op" id="5312520">,</span>&nbsp;<span class="ident" id="5312522"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312527">.</span><span class="ident" id="5312528">NoPos</span><span class="op" id="5312533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312539"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312540">.</span><span class="builtinfunc" id="5312541">print</span><span class="op" id="5312546">(</span><span class="ident" id="5312547"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5312555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5312560">}</span>&nbsp;<span class="keyword" id="5312562">else</span>&nbsp;<span class="op" id="5312567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312573"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312574">.</span><span class="ident" id="5312575">exprList</span><span class="op" id="5312583">(</span><span class="ident" id="5312584"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312585">.</span><span class="ident" id="5312586">Pos</span><span class="op" id="5312589">(</span><span class="op" id="5312590">)</span><span class="op" id="5312591">,</span>&nbsp;<span class="ident" id="5312593"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312594">.</span><span class="ident" id="5312595">Results</span><span class="op" id="5312602">,</span>&nbsp;<span class="num" id="5312604">1</span><span class="op" id="5312605">,</span>&nbsp;<span class="num" id="5312607">0</span><span class="op" id="5312608">,</span>&nbsp;<span class="ident" id="5312610"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312615">.</span><span class="ident" id="5312616">NoPos</span><span class="op" id="5312621">)</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5312626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5312630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312634">case</span>&nbsp;<span class="op" id="5312639">*</span><span class="ident" id="5312640"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312643">.</span><span class="ident" id="5312644">BranchStmt</span><span class="op" id="5312654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312658"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312659">.</span><span class="builtinfunc" id="5312660">print</span><span class="op" id="5312665">(</span><span class="ident" id="5312666"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312667">.</span><span class="ident" id="5312668">Tok</span><span class="op" id="5312671">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312675">if</span>&nbsp;<span class="ident" id="5312678"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312679">.</span><span class="ident" id="5312680">Label</span>&nbsp;<span class="op" id="5312686">!=</span>&nbsp;<span class="ident" id="5312689">nil</span>&nbsp;<span class="op" id="5312693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312698"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312699">.</span><span class="builtinfunc" id="5312700">print</span><span class="op" id="5312705">(</span><span class="ident" id="5312706"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5312711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312716"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312717">.</span><span class="ident" id="5312718">expr</span><span class="op" id="5312722">(</span><span class="ident" id="5312723"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312724">.</span><span class="ident" id="5312725">Label</span><span class="op" id="5312730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5312734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312738">case</span>&nbsp;<span class="op" id="5312743">*</span><span class="ident" id="5312744"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312747">.</span><span class="ident" id="5312748">BlockStmt</span><span class="op" id="5312757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312761"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312762">.</span><span class="ident" id="5312763">block</span><span class="op" id="5312768">(</span><span class="ident" id="5312769"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312770">,</span>&nbsp;<span class="num" id="5312772">1</span><span class="op" id="5312773">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312777">case</span>&nbsp;<span class="op" id="5312782">*</span><span class="ident" id="5312783"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312786">.</span><span class="ident" id="5312787">IfStmt</span><span class="op" id="5312793">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312797"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312798">.</span><span class="builtinfunc" id="5312799">print</span><span class="op" id="5312804">(</span><span class="ident" id="5312805"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312810">.</span><span class="ident" id="5312811">IF</span><span class="op" id="5312813">)</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312817"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312818">.</span><span class="ident" id="5312819">controlClause</span><span class="op" id="5312832">(</span><span class="builtintype" id="5312833">false</span><span class="op" id="5312838">,</span>&nbsp;<span class="ident" id="5312840"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312841">.</span><span class="ident" id="5312842">Init</span><span class="op" id="5312846">,</span>&nbsp;<span class="ident" id="5312848"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312849">.</span><span class="ident" id="5312850">Cond</span><span class="op" id="5312854">,</span>&nbsp;<span class="ident" id="5312856">nil</span><span class="op" id="5312859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312863"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312864">.</span><span class="ident" id="5312865">block</span><span class="op" id="5312870">(</span><span class="ident" id="5312871"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312872">.</span><span class="ident" id="5312873">Body</span><span class="op" id="5312877">,</span>&nbsp;<span class="num" id="5312879">1</span><span class="op" id="5312880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312884">if</span>&nbsp;<span class="ident" id="5312887"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312888">.</span><span class="ident" id="5312889">Else</span>&nbsp;<span class="op" id="5312894">!=</span>&nbsp;<span class="ident" id="5312897">nil</span>&nbsp;<span class="op" id="5312901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5312906"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5312907">.</span><span class="builtinfunc" id="5312908">print</span><span class="op" id="5312913">(</span><span class="ident" id="5312914"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5312919">,</span>&nbsp;<span class="ident" id="5312921"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5312926">.</span><span class="ident" id="5312927">ELSE</span><span class="op" id="5312931">,</span>&nbsp;<span class="ident" id="5312933"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5312938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312943">switch</span>&nbsp;<span class="ident" id="5312950"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5312951">.</span><span class="ident" id="5312952">Else</span><span class="op" id="5312956">.</span><span class="op" id="5312957">(</span><span class="keyword" id="5312958">type</span><span class="op" id="5312962">)</span>&nbsp;<span class="op" id="5312964">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5312969">case</span>&nbsp;<span class="op" id="5312974">*</span><span class="ident" id="5312975"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312978">.</span><span class="ident" id="5312979">BlockStmt</span><span class="op" id="5312988">,</span>&nbsp;<span class="op" id="5312990">*</span><span class="ident" id="5312991"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5312994">.</span><span class="ident" id="5312995">IfStmt</span><span class="op" id="5313001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313007"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313008">.</span><span class="ident" id="5313009">stmt</span><span class="op" id="5313013">(</span><span class="ident" id="5313014"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313015">.</span><span class="ident" id="5313016">Else</span><span class="op" id="5313020">,</span>&nbsp;<span class="ident" id="5313022"><a href="/go/printer/nodes.go.html#5310692">nextIsRBrace</a></span><span class="op" id="5313034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313039">default</span><span class="op" id="5313046">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313052"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313053">.</span><span class="builtinfunc" id="5313054">print</span><span class="op" id="5313059">(</span><span class="ident" id="5313060"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313065">.</span><span class="ident" id="5313066">LBRACE</span><span class="op" id="5313072">,</span>&nbsp;<span class="ident" id="5313074"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5313080">,</span>&nbsp;<span class="ident" id="5313082"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5313090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313096"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313097">.</span><span class="ident" id="5313098">stmt</span><span class="op" id="5313102">(</span><span class="ident" id="5313103"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313104">.</span><span class="ident" id="5313105">Else</span><span class="op" id="5313109">,</span>&nbsp;<span class="builtintype" id="5313111">true</span><span class="op" id="5313115">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313121"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313122">.</span><span class="builtinfunc" id="5313123">print</span><span class="op" id="5313128">(</span><span class="ident" id="5313129"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5313137">,</span>&nbsp;<span class="ident" id="5313139"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5313147">,</span>&nbsp;<span class="ident" id="5313149"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313154">.</span><span class="ident" id="5313155">RBRACE</span><span class="op" id="5313161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313174">case</span>&nbsp;<span class="op" id="5313179">*</span><span class="ident" id="5313180"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5313183">.</span><span class="ident" id="5313184">CaseClause</span><span class="op" id="5313194">:</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313198">if</span>&nbsp;<span class="ident" id="5313201"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313202">.</span><span class="ident" id="5313203">List</span>&nbsp;<span class="op" id="5313208">!=</span>&nbsp;<span class="ident" id="5313211">nil</span>&nbsp;<span class="op" id="5313215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313220"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313221">.</span><span class="builtinfunc" id="5313222">print</span><span class="op" id="5313227">(</span><span class="ident" id="5313228"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313233">.</span><span class="ident" id="5313234">CASE</span><span class="op" id="5313238">,</span>&nbsp;<span class="ident" id="5313240"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5313245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313250"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313251">.</span><span class="ident" id="5313252">exprList</span><span class="op" id="5313260">(</span><span class="ident" id="5313261"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313262">.</span><span class="ident" id="5313263">Pos</span><span class="op" id="5313266">(</span><span class="op" id="5313267">)</span><span class="op" id="5313268">,</span>&nbsp;<span class="ident" id="5313270"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313271">.</span><span class="ident" id="5313272">List</span><span class="op" id="5313276">,</span>&nbsp;<span class="num" id="5313278">1</span><span class="op" id="5313279">,</span>&nbsp;<span class="num" id="5313281">0</span><span class="op" id="5313282">,</span>&nbsp;<span class="ident" id="5313284"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313285">.</span><span class="ident" id="5313286">Colon</span><span class="op" id="5313291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313295">}</span>&nbsp;<span class="keyword" id="5313297">else</span>&nbsp;<span class="op" id="5313302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313307"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313308">.</span><span class="builtinfunc" id="5313309">print</span><span class="op" id="5313314">(</span><span class="ident" id="5313315"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313320">.</span><span class="ident" id="5313321">DEFAULT</span><span class="op" id="5313328">)</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313336"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313337">.</span><span class="builtinfunc" id="5313338">print</span><span class="op" id="5313343">(</span><span class="ident" id="5313344"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313345">.</span><span class="ident" id="5313346">Colon</span><span class="op" id="5313351">,</span>&nbsp;<span class="ident" id="5313353"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313358">.</span><span class="ident" id="5313359">COLON</span><span class="op" id="5313364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313368"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313369">.</span><span class="ident" id="5313370">stmtList</span><span class="op" id="5313378">(</span><span class="ident" id="5313379"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313380">.</span><span class="ident" id="5313381">Body</span><span class="op" id="5313385">,</span>&nbsp;<span class="num" id="5313387">1</span><span class="op" id="5313388">,</span>&nbsp;<span class="ident" id="5313390"><a href="/go/printer/nodes.go.html#5310692">nextIsRBrace</a></span><span class="op" id="5313402">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313406">case</span>&nbsp;<span class="op" id="5313411">*</span><span class="ident" id="5313412"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5313415">.</span><span class="ident" id="5313416">SwitchStmt</span><span class="op" id="5313426">:</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313430"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313431">.</span><span class="builtinfunc" id="5313432">print</span><span class="op" id="5313437">(</span><span class="ident" id="5313438"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313443">.</span><span class="ident" id="5313444">SWITCH</span><span class="op" id="5313450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313454"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313455">.</span><span class="ident" id="5313456">controlClause</span><span class="op" id="5313469">(</span><span class="builtintype" id="5313470">false</span><span class="op" id="5313475">,</span>&nbsp;<span class="ident" id="5313477"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313478">.</span><span class="ident" id="5313479">Init</span><span class="op" id="5313483">,</span>&nbsp;<span class="ident" id="5313485"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313486">.</span><span class="ident" id="5313487">Tag</span><span class="op" id="5313490">,</span>&nbsp;<span class="ident" id="5313492">nil</span><span class="op" id="5313495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313499"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313500">.</span><span class="ident" id="5313501">block</span><span class="op" id="5313506">(</span><span class="ident" id="5313507"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313508">.</span><span class="ident" id="5313509">Body</span><span class="op" id="5313513">,</span>&nbsp;<span class="num" id="5313515">0</span><span class="op" id="5313516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313520">case</span>&nbsp;<span class="op" id="5313525">*</span><span class="ident" id="5313526"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5313529">.</span><span class="ident" id="5313530">TypeSwitchStmt</span><span class="op" id="5313544">:</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313548"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313549">.</span><span class="builtinfunc" id="5313550">print</span><span class="op" id="5313555">(</span><span class="ident" id="5313556"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313561">.</span><span class="ident" id="5313562">SWITCH</span><span class="op" id="5313568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313572">if</span>&nbsp;<span class="ident" id="5313575"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313576">.</span><span class="ident" id="5313577">Init</span>&nbsp;<span class="op" id="5313582">!=</span>&nbsp;<span class="ident" id="5313585">nil</span>&nbsp;<span class="op" id="5313589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313594"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313595">.</span><span class="builtinfunc" id="5313596">print</span><span class="op" id="5313601">(</span><span class="ident" id="5313602"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5313607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313612"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313613">.</span><span class="ident" id="5313614">stmt</span><span class="op" id="5313618">(</span><span class="ident" id="5313619"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313620">.</span><span class="ident" id="5313621">Init</span><span class="op" id="5313625">,</span>&nbsp;<span class="builtintype" id="5313627">false</span><span class="op" id="5313632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313637"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313638">.</span><span class="builtinfunc" id="5313639">print</span><span class="op" id="5313644">(</span><span class="ident" id="5313645"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313650">.</span><span class="ident" id="5313651">SEMICOLON</span><span class="op" id="5313660">)</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313668"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313669">.</span><span class="builtinfunc" id="5313670">print</span><span class="op" id="5313675">(</span><span class="ident" id="5313676"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5313681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313685"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313686">.</span><span class="ident" id="5313687">stmt</span><span class="op" id="5313691">(</span><span class="ident" id="5313692"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313693">.</span><span class="ident" id="5313694">Assign</span><span class="op" id="5313700">,</span>&nbsp;<span class="builtintype" id="5313702">false</span><span class="op" id="5313707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313711"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313712">.</span><span class="builtinfunc" id="5313713">print</span><span class="op" id="5313718">(</span><span class="ident" id="5313719"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5313724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313728"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313729">.</span><span class="ident" id="5313730">block</span><span class="op" id="5313735">(</span><span class="ident" id="5313736"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313737">.</span><span class="ident" id="5313738">Body</span><span class="op" id="5313742">,</span>&nbsp;<span class="num" id="5313744">0</span><span class="op" id="5313745">)</span><br>
<span class="lineno">1195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313749">case</span>&nbsp;<span class="op" id="5313754">*</span><span class="ident" id="5313755"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5313758">.</span><span class="ident" id="5313759">CommClause</span><span class="op" id="5313769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313773">if</span>&nbsp;<span class="ident" id="5313776"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313777">.</span><span class="ident" id="5313778">Comm</span>&nbsp;<span class="op" id="5313783">!=</span>&nbsp;<span class="ident" id="5313786">nil</span>&nbsp;<span class="op" id="5313790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313795"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313796">.</span><span class="builtinfunc" id="5313797">print</span><span class="op" id="5313802">(</span><span class="ident" id="5313803"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313808">.</span><span class="ident" id="5313809">CASE</span><span class="op" id="5313813">,</span>&nbsp;<span class="ident" id="5313815"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5313820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313825"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313826">.</span><span class="ident" id="5313827">stmt</span><span class="op" id="5313831">(</span><span class="ident" id="5313832"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313833">.</span><span class="ident" id="5313834">Comm</span><span class="op" id="5313838">,</span>&nbsp;<span class="builtintype" id="5313840">false</span><span class="op" id="5313845">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313849">}</span>&nbsp;<span class="keyword" id="5313851">else</span>&nbsp;<span class="op" id="5313856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313861"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313862">.</span><span class="builtinfunc" id="5313863">print</span><span class="op" id="5313868">(</span><span class="ident" id="5313869"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313874">.</span><span class="ident" id="5313875">DEFAULT</span><span class="op" id="5313882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5313886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313890"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313891">.</span><span class="builtinfunc" id="5313892">print</span><span class="op" id="5313897">(</span><span class="ident" id="5313898"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313899">.</span><span class="ident" id="5313900">Colon</span><span class="op" id="5313905">,</span>&nbsp;<span class="ident" id="5313907"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313912">.</span><span class="ident" id="5313913">COLON</span><span class="op" id="5313918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313922"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313923">.</span><span class="ident" id="5313924">stmtList</span><span class="op" id="5313932">(</span><span class="ident" id="5313933"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5313934">.</span><span class="ident" id="5313935">Body</span><span class="op" id="5313939">,</span>&nbsp;<span class="num" id="5313941">1</span><span class="op" id="5313942">,</span>&nbsp;<span class="ident" id="5313944"><a href="/go/printer/nodes.go.html#5310692">nextIsRBrace</a></span><span class="op" id="5313956">)</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5313960">case</span>&nbsp;<span class="op" id="5313965">*</span><span class="ident" id="5313966"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5313969">.</span><span class="ident" id="5313970">SelectStmt</span><span class="op" id="5313980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5313984"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5313985">.</span><span class="builtinfunc" id="5313986">print</span><span class="op" id="5313991">(</span><span class="ident" id="5313992"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5313997">.</span><span class="ident" id="5313998">SELECT</span><span class="op" id="5314004">,</span>&nbsp;<span class="ident" id="5314006"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314015">body</span>&nbsp;<span class="op" id="5314020">:=</span>&nbsp;<span class="ident" id="5314023"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314024">.</span><span class="ident" id="5314025">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314032">if</span>&nbsp;<span class="builtinfunc" id="5314035">len</span><span class="op" id="5314038">(</span><span class="ident" id="5314039"><a href="/go/printer/nodes.go.html#5314015">body</a></span><span class="op" id="5314043">.</span><span class="ident" id="5314044">List</span><span class="op" id="5314048">)</span>&nbsp;<span class="op" id="5314050">==</span>&nbsp;<span class="num" id="5314053">0</span>&nbsp;<span class="op" id="5314055">&amp;&amp;</span>&nbsp;<span class="op" id="5314058">!</span><span class="ident" id="5314059"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314060">.</span><span class="ident" id="5314061">commentBefore</span><span class="op" id="5314074">(</span><span class="ident" id="5314075"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314076">.</span><span class="ident" id="5314077">posFor</span><span class="op" id="5314083">(</span><span class="ident" id="5314084"><a href="/go/printer/nodes.go.html#5314015">body</a></span><span class="op" id="5314088">.</span><span class="ident" id="5314089">Rbrace</span><span class="op" id="5314095">)</span><span class="op" id="5314096">)</span>&nbsp;<span class="op" id="5314098">{</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5314103">//&nbsp;print&nbsp;empty&nbsp;select&nbsp;statement&nbsp;w/o&nbsp;comments&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314163"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314164">.</span><span class="builtinfunc" id="5314165">print</span><span class="op" id="5314170">(</span><span class="ident" id="5314171"><a href="/go/printer/nodes.go.html#5314015">body</a></span><span class="op" id="5314175">.</span><span class="ident" id="5314176">Lbrace</span><span class="op" id="5314182">,</span>&nbsp;<span class="ident" id="5314184"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314189">.</span><span class="ident" id="5314190">LBRACE</span><span class="op" id="5314196">,</span>&nbsp;<span class="ident" id="5314198"><a href="/go/printer/nodes.go.html#5314015">body</a></span><span class="op" id="5314202">.</span><span class="ident" id="5314203">Rbrace</span><span class="op" id="5314209">,</span>&nbsp;<span class="ident" id="5314211"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314216">.</span><span class="ident" id="5314217">RBRACE</span><span class="op" id="5314223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5314227">}</span>&nbsp;<span class="keyword" id="5314229">else</span>&nbsp;<span class="op" id="5314234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314239"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314240">.</span><span class="ident" id="5314241">block</span><span class="op" id="5314246">(</span><span class="ident" id="5314247"><a href="/go/printer/nodes.go.html#5314015">body</a></span><span class="op" id="5314251">,</span>&nbsp;<span class="num" id="5314253">0</span><span class="op" id="5314254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5314258">}</span><br>
<span class="lineno">1215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314262">case</span>&nbsp;<span class="op" id="5314267">*</span><span class="ident" id="5314268"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5314271">.</span><span class="ident" id="5314272">ForStmt</span><span class="op" id="5314279">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314283"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314284">.</span><span class="builtinfunc" id="5314285">print</span><span class="op" id="5314290">(</span><span class="ident" id="5314291"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314296">.</span><span class="ident" id="5314297">FOR</span><span class="op" id="5314300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314304"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314305">.</span><span class="ident" id="5314306">controlClause</span><span class="op" id="5314319">(</span><span class="builtintype" id="5314320">true</span><span class="op" id="5314324">,</span>&nbsp;<span class="ident" id="5314326"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314327">.</span><span class="ident" id="5314328">Init</span><span class="op" id="5314332">,</span>&nbsp;<span class="ident" id="5314334"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314335">.</span><span class="ident" id="5314336">Cond</span><span class="op" id="5314340">,</span>&nbsp;<span class="ident" id="5314342"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314343">.</span><span class="ident" id="5314344">Post</span><span class="op" id="5314348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314352"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314353">.</span><span class="ident" id="5314354">block</span><span class="op" id="5314359">(</span><span class="ident" id="5314360"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314361">.</span><span class="ident" id="5314362">Body</span><span class="op" id="5314366">,</span>&nbsp;<span class="num" id="5314368">1</span><span class="op" id="5314369">)</span><br>
<span class="lineno">1220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314373">case</span>&nbsp;<span class="op" id="5314378">*</span><span class="ident" id="5314379"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5314382">.</span><span class="ident" id="5314383">RangeStmt</span><span class="op" id="5314392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314396"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314397">.</span><span class="builtinfunc" id="5314398">print</span><span class="op" id="5314403">(</span><span class="ident" id="5314404"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314409">.</span><span class="ident" id="5314410">FOR</span><span class="op" id="5314413">,</span>&nbsp;<span class="ident" id="5314415"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314424">if</span>&nbsp;<span class="ident" id="5314427"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314428">.</span><span class="ident" id="5314429">Key</span>&nbsp;<span class="op" id="5314433">!=</span>&nbsp;<span class="ident" id="5314436">nil</span>&nbsp;<span class="op" id="5314440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314445"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314446">.</span><span class="ident" id="5314447">expr</span><span class="op" id="5314451">(</span><span class="ident" id="5314452"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314453">.</span><span class="ident" id="5314454">Key</span><span class="op" id="5314457">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314462">if</span>&nbsp;<span class="ident" id="5314465"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314466">.</span><span class="ident" id="5314467">Value</span>&nbsp;<span class="op" id="5314473">!=</span>&nbsp;<span class="ident" id="5314476">nil</span>&nbsp;<span class="op" id="5314480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5314486">//&nbsp;use&nbsp;position&nbsp;of&nbsp;value&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5314538">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314590"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314591">.</span><span class="builtinfunc" id="5314592">print</span><span class="op" id="5314597">(</span><span class="ident" id="5314598"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314599">.</span><span class="ident" id="5314600">Value</span><span class="op" id="5314605">.</span><span class="ident" id="5314606">Pos</span><span class="op" id="5314609">(</span><span class="op" id="5314610">)</span><span class="op" id="5314611">,</span>&nbsp;<span class="ident" id="5314613"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314618">.</span><span class="ident" id="5314619">COMMA</span><span class="op" id="5314624">,</span>&nbsp;<span class="ident" id="5314626"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314637"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314638">.</span><span class="ident" id="5314639">expr</span><span class="op" id="5314643">(</span><span class="ident" id="5314644"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314645">.</span><span class="ident" id="5314646">Value</span><span class="op" id="5314651">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5314656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314661"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314662">.</span><span class="builtinfunc" id="5314663">print</span><span class="op" id="5314668">(</span><span class="ident" id="5314669"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314674">,</span>&nbsp;<span class="ident" id="5314676"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314677">.</span><span class="ident" id="5314678">TokPos</span><span class="op" id="5314684">,</span>&nbsp;<span class="ident" id="5314686"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314687">.</span><span class="ident" id="5314688">Tok</span><span class="op" id="5314691">,</span>&nbsp;<span class="ident" id="5314693"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5314702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314706"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314707">.</span><span class="builtinfunc" id="5314708">print</span><span class="op" id="5314713">(</span><span class="ident" id="5314714"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5314719">.</span><span class="ident" id="5314720">RANGE</span><span class="op" id="5314725">,</span>&nbsp;<span class="ident" id="5314727"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314736"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314737">.</span><span class="ident" id="5314738">expr</span><span class="op" id="5314742">(</span><span class="ident" id="5314743"><a href="/go/printer/nodes.go.html#5308208">stripParens</a></span><span class="op" id="5314754">(</span><span class="ident" id="5314755"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314756">.</span><span class="ident" id="5314757">X</span><span class="op" id="5314758">)</span><span class="op" id="5314759">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314763"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314764">.</span><span class="builtinfunc" id="5314765">print</span><span class="op" id="5314770">(</span><span class="ident" id="5314771"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5314776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5314780"><a href="/go/printer/nodes.go.html#5310660">p</a></span><span class="op" id="5314781">.</span><span class="ident" id="5314782">block</span><span class="op" id="5314787">(</span><span class="ident" id="5314788"><a href="/go/printer/nodes.go.html#5310743">s</a></span><span class="op" id="5314789">.</span><span class="ident" id="5314790">Body</span><span class="op" id="5314794">,</span>&nbsp;<span class="num" id="5314796">1</span><span class="op" id="5314797">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314801">default</span><span class="op" id="5314808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5314812">panic</span><span class="op" id="5314817">(</span><span class="string" id="5314818">&#34;unreachable&#34;</span><span class="op" id="5314831">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5314834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5314838">return</span><br>
<span class="lineno"></span><span class="op" id="5314845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1245</span><span class="comment" id="5314848">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5314928">//&nbsp;Declarations</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5314945">//&nbsp;The&nbsp;keepTypeColumn&nbsp;function&nbsp;determines&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;of&nbsp;a&nbsp;series&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5315021">//&nbsp;consecutive&nbsp;const&nbsp;or&nbsp;var&nbsp;declarations&nbsp;must&nbsp;be&nbsp;kept,&nbsp;or&nbsp;if&nbsp;initialization</span><br>
<span class="lineno">1250</span><span class="comment" id="5315097">//&nbsp;values&nbsp;(V)&nbsp;can&nbsp;be&nbsp;placed&nbsp;in&nbsp;the&nbsp;type&nbsp;column&nbsp;(T)&nbsp;instead.&nbsp;The&nbsp;i&#39;th&nbsp;entry</span><br>
<span class="lineno"></span><span class="comment" id="5315172">//&nbsp;in&nbsp;the&nbsp;result&nbsp;slice&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;in&nbsp;spec[i]&nbsp;must&nbsp;be&nbsp;kept.</span><br>
<span class="lineno"></span><span class="comment" id="5315247">//</span><br>
<span class="lineno"></span><span class="comment" id="5315250">//&nbsp;For&nbsp;example,&nbsp;the&nbsp;declaration:</span><br>
<span class="lineno"></span><span class="comment" id="5315283">//</span><br>
<span class="lineno">1255</span><span class="comment" id="5315286">//&nbsp;&nbsp;&nbsp;&nbspconst&nbsp;(</span><br>
<span class="lineno"></span><span class="comment" id="5315297">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspfoobar&nbsp;int&nbsp;=&nbsp;42&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="5315328">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7&nbsp;&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="5315359">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspfoo</span><br>
<span class="lineno"></span><span class="comment" id="5315367">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar&nbsp;=&nbsp;991</span><br>
<span class="lineno">1260</span><span class="comment" id="5315393">//&nbsp;&nbsp;&nbsp;&nbsp)</span><br>
<span class="lineno"></span><span class="comment" id="5315398">//</span><br>
<span class="lineno"></span><span class="comment" id="5315401">//&nbsp;leads&nbsp;to&nbsp;the&nbsp;type/values&nbsp;matrix&nbsp;below.&nbsp;A&nbsp;run&nbsp;of&nbsp;value&nbsp;columns&nbsp;(V)&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="5315474">//&nbsp;be&nbsp;moved&nbsp;into&nbsp;the&nbsp;type&nbsp;column&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;type&nbsp;for&nbsp;any&nbsp;of&nbsp;the&nbsp;values</span><br>
<span class="lineno"></span><span class="comment" id="5315549">//&nbsp;in&nbsp;that&nbsp;column&nbsp;(we&nbsp;only&nbsp;move&nbsp;entire&nbsp;columns&nbsp;so&nbsp;that&nbsp;they&nbsp;align&nbsp;properly).</span><br>
<span class="lineno">1265</span><span class="comment" id="5315626">//</span><br>
<span class="lineno"></span><span class="comment" id="5315629">//&nbsp;&nbsp;&nbsp;&nbspmatrix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatted&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><br>
<span class="lineno"></span><span class="comment" id="5315667">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matrix</span><br>
<span class="lineno"></span><span class="comment" id="5315696">//&nbsp;&nbsp;&nbsp;&nbspT&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;a&nbsp;T&nbsp;and&nbsp;so&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5315766">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno">1270</span><span class="comment" id="5315827">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false</span><br>
<span class="lineno"></span><span class="comment" id="5315864">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;is&nbsp;moved&nbsp;into&nbsp;T&nbsp;column</span><br>
<span class="lineno"></span><span class="comment" id="5315930">//</span><br>
<span class="lineno"></span><span class="keyword" id="5315933">func</span>&nbsp;<span class="ident" id="5315938">keepTypeColumn</span><span class="op" id="5315952">(</span><span class="ident" id="5315953">specs</span>&nbsp;<span class="op" id="5315959">[</span><span class="op" id="5315960">]</span><span class="ident" id="5315961"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5315964">.</span><span class="ident" id="5315965">Spec</span><span class="op" id="5315969">)</span>&nbsp;<span class="op" id="5315971">[</span><span class="op" id="5315972">]</span><span class="builtintype" id="5315973">bool</span>&nbsp;<span class="op" id="5315978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5315981">m</span>&nbsp;<span class="op" id="5315983">:=</span>&nbsp;<span class="builtinfunc" id="5315986">make</span><span class="op" id="5315990">(</span><span class="op" id="5315991">[</span><span class="op" id="5315992">]</span><span class="builtintype" id="5315993">bool</span><span class="op" id="5315997">,</span>&nbsp;<span class="builtinfunc" id="5315999">len</span><span class="op" id="5316002">(</span><span class="ident" id="5316003"><a href="/go/printer/nodes.go.html#5315953">specs</a></span><span class="op" id="5316008">)</span><span class="op" id="5316009">)</span><br>
<span class="lineno">1275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316013">populate</span>&nbsp;<span class="op" id="5316022">:=</span>&nbsp;<span class="keyword" id="5316025">func</span><span class="op" id="5316029">(</span><span class="ident" id="5316030">i</span><span class="op" id="5316031">,</span>&nbsp;<span class="ident" id="5316033">j</span>&nbsp;<span class="builtintype" id="5316035">int</span><span class="op" id="5316038">,</span>&nbsp;<span class="ident" id="5316040">keepType</span>&nbsp;<span class="builtintype" id="5316049">bool</span><span class="op" id="5316053">)</span>&nbsp;<span class="op" id="5316055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316059">if</span>&nbsp;<span class="ident" id="5316062"><a href="/go/printer/nodes.go.html#5316040">keepType</a></span>&nbsp;<span class="op" id="5316071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316076">for</span>&nbsp;<span class="op" id="5316080">;</span>&nbsp;<span class="ident" id="5316082"><a href="/go/printer/nodes.go.html#5316030">i</a></span>&nbsp;<span class="op" id="5316084">&lt;</span>&nbsp;<span class="ident" id="5316086"><a href="/go/printer/nodes.go.html#5316033">j</a></span><span class="op" id="5316087">;</span>&nbsp;<span class="ident" id="5316089"><a href="/go/printer/nodes.go.html#5316030">i</a></span><span class="op" id="5316090">++</span>&nbsp;<span class="op" id="5316093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316099"><a href="/go/printer/nodes.go.html#5315981">m</a></span><span class="op" id="5316100">[</span><span class="ident" id="5316101"><a href="/go/printer/nodes.go.html#5316030">i</a></span><span class="op" id="5316102">]</span>&nbsp;<span class="op" id="5316104">=</span>&nbsp;<span class="builtintype" id="5316106">true</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316125">i0</span>&nbsp;<span class="op" id="5316128">:=</span>&nbsp;<span class="op" id="5316131">-</span><span class="num" id="5316132">1</span>&nbsp;<span class="comment" id="5316134">//&nbsp;if&nbsp;i0&nbsp;&gt;=&nbsp;0&nbsp;we&nbsp;are&nbsp;in&nbsp;a&nbsp;run&nbsp;and&nbsp;i0&nbsp;is&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;run</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316196">var</span>&nbsp;<span class="ident" id="5316200">keepType</span>&nbsp;<span class="builtintype" id="5316209">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316215">for</span>&nbsp;<span class="ident" id="5316219">i</span><span class="op" id="5316220">,</span>&nbsp;<span class="ident" id="5316222">s</span>&nbsp;<span class="op" id="5316224">:=</span>&nbsp;<span class="keyword" id="5316227">range</span>&nbsp;<span class="ident" id="5316233"><a href="/go/printer/nodes.go.html#5315953">specs</a></span>&nbsp;<span class="op" id="5316239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316243">t</span>&nbsp;<span class="op" id="5316245">:=</span>&nbsp;<span class="ident" id="5316248"><a href="/go/printer/nodes.go.html#5316222">s</a></span><span class="op" id="5316249">.</span><span class="op" id="5316250">(</span><span class="op" id="5316251">*</span><span class="ident" id="5316252"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5316255">.</span><span class="ident" id="5316256">ValueSpec</span><span class="op" id="5316265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316269">if</span>&nbsp;<span class="ident" id="5316272"><a href="/go/printer/nodes.go.html#5316243">t</a></span><span class="op" id="5316273">.</span><span class="ident" id="5316274">Values</span>&nbsp;<span class="op" id="5316281">!=</span>&nbsp;<span class="ident" id="5316284">nil</span>&nbsp;<span class="op" id="5316288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316293">if</span>&nbsp;<span class="ident" id="5316296"><a href="/go/printer/nodes.go.html#5316125">i0</a></span>&nbsp;<span class="op" id="5316299">&lt;</span>&nbsp;<span class="num" id="5316301">0</span>&nbsp;<span class="op" id="5316303">{</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5316309">//&nbsp;start&nbsp;of&nbsp;a&nbsp;run&nbsp;of&nbsp;ValueSpecs&nbsp;with&nbsp;non-nil&nbsp;Values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316365"><a href="/go/printer/nodes.go.html#5316125">i0</a></span>&nbsp;<span class="op" id="5316368">=</span>&nbsp;<span class="ident" id="5316370"><a href="/go/printer/nodes.go.html#5316219">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316376"><a href="/go/printer/nodes.go.html#5316200">keepType</a></span>&nbsp;<span class="op" id="5316385">=</span>&nbsp;<span class="builtintype" id="5316387">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316400">}</span>&nbsp;<span class="keyword" id="5316402">else</span>&nbsp;<span class="op" id="5316407">{</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316412">if</span>&nbsp;<span class="ident" id="5316415"><a href="/go/printer/nodes.go.html#5316125">i0</a></span>&nbsp;<span class="op" id="5316418">&gt;=</span>&nbsp;<span class="num" id="5316421">0</span>&nbsp;<span class="op" id="5316423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5316429">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316449"><a href="/go/printer/nodes.go.html#5316013">populate</a></span><span class="op" id="5316457">(</span><span class="ident" id="5316458"><a href="/go/printer/nodes.go.html#5316125">i0</a></span><span class="op" id="5316460">,</span>&nbsp;<span class="ident" id="5316462"><a href="/go/printer/nodes.go.html#5316219">i</a></span><span class="op" id="5316463">,</span>&nbsp;<span class="ident" id="5316465"><a href="/go/printer/nodes.go.html#5316200">keepType</a></span><span class="op" id="5316473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316479"><a href="/go/printer/nodes.go.html#5316125">i0</a></span>&nbsp;<span class="op" id="5316482">=</span>&nbsp;<span class="op" id="5316484">-</span><span class="num" id="5316485">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316490">}</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316498">if</span>&nbsp;<span class="ident" id="5316501"><a href="/go/printer/nodes.go.html#5316243">t</a></span><span class="op" id="5316502">.</span><span class="ident" id="5316503">Type</span>&nbsp;<span class="op" id="5316508">!=</span>&nbsp;<span class="ident" id="5316511">nil</span>&nbsp;<span class="op" id="5316515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316520"><a href="/go/printer/nodes.go.html#5316200">keepType</a></span>&nbsp;<span class="op" id="5316529">=</span>&nbsp;<span class="builtintype" id="5316531">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316541">}</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316544">if</span>&nbsp;<span class="ident" id="5316547"><a href="/go/printer/nodes.go.html#5316125">i0</a></span>&nbsp;<span class="op" id="5316550">&gt;=</span>&nbsp;<span class="num" id="5316553">0</span>&nbsp;<span class="op" id="5316555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5316559">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316577"><a href="/go/printer/nodes.go.html#5316013">populate</a></span><span class="op" id="5316585">(</span><span class="ident" id="5316586"><a href="/go/printer/nodes.go.html#5316125">i0</a></span><span class="op" id="5316588">,</span>&nbsp;<span class="builtinfunc" id="5316590">len</span><span class="op" id="5316593">(</span><span class="ident" id="5316594"><a href="/go/printer/nodes.go.html#5315953">specs</a></span><span class="op" id="5316599">)</span><span class="op" id="5316600">,</span>&nbsp;<span class="ident" id="5316602"><a href="/go/printer/nodes.go.html#5316200">keepType</a></span><span class="op" id="5316610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316617">return</span>&nbsp;<span class="ident" id="5316624"><a href="/go/printer/nodes.go.html#5315981">m</a></span><br>
<span class="lineno"></span><span class="op" id="5316626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5316629">func</span>&nbsp;<span class="op" id="5316634">(</span><span class="ident" id="5316635">p</span>&nbsp;<span class="op" id="5316637">*</span><span class="ident" id="5316638"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5316645">)</span>&nbsp;<span class="ident" id="5316647">valueSpec</span><span class="op" id="5316656">(</span><span class="ident" id="5316657">s</span>&nbsp;<span class="op" id="5316659">*</span><span class="ident" id="5316660"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5316663">.</span><span class="ident" id="5316664">ValueSpec</span><span class="op" id="5316673">,</span>&nbsp;<span class="ident" id="5316675">keepType</span>&nbsp;<span class="builtintype" id="5316684">bool</span><span class="op" id="5316688">)</span>&nbsp;<span class="op" id="5316690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316693"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316694">.</span><span class="ident" id="5316695">setComment</span><span class="op" id="5316705">(</span><span class="ident" id="5316706"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316707">.</span><span class="ident" id="5316708">Doc</span><span class="op" id="5316711">)</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316714"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316715">.</span><span class="ident" id="5316716">identList</span><span class="op" id="5316725">(</span><span class="ident" id="5316726"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316727">.</span><span class="ident" id="5316728">Names</span><span class="op" id="5316733">,</span>&nbsp;<span class="builtintype" id="5316735">false</span><span class="op" id="5316740">)</span>&nbsp;<span class="comment" id="5316742">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316761">extraTabs</span>&nbsp;<span class="op" id="5316771">:=</span>&nbsp;<span class="num" id="5316774">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316777">if</span>&nbsp;<span class="ident" id="5316780"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316781">.</span><span class="ident" id="5316782">Type</span>&nbsp;<span class="op" id="5316787">!=</span>&nbsp;<span class="ident" id="5316790">nil</span>&nbsp;<span class="op" id="5316794">||</span>&nbsp;<span class="ident" id="5316797"><a href="/go/printer/nodes.go.html#5316675">keepType</a></span>&nbsp;<span class="op" id="5316806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316810"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316811">.</span><span class="builtinfunc" id="5316812">print</span><span class="op" id="5316817">(</span><span class="ident" id="5316818"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5316822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316826"><a href="/go/printer/nodes.go.html#5316761">extraTabs</a></span><span class="op" id="5316835">--</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316842">if</span>&nbsp;<span class="ident" id="5316845"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316846">.</span><span class="ident" id="5316847">Type</span>&nbsp;<span class="op" id="5316852">!=</span>&nbsp;<span class="ident" id="5316855">nil</span>&nbsp;<span class="op" id="5316859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316863"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316864">.</span><span class="ident" id="5316865">expr</span><span class="op" id="5316869">(</span><span class="ident" id="5316870"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316871">.</span><span class="ident" id="5316872">Type</span><span class="op" id="5316876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5316879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5316882">if</span>&nbsp;<span class="ident" id="5316885"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316886">.</span><span class="ident" id="5316887">Values</span>&nbsp;<span class="op" id="5316894">!=</span>&nbsp;<span class="ident" id="5316897">nil</span>&nbsp;<span class="op" id="5316901">{</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316905"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316906">.</span><span class="builtinfunc" id="5316907">print</span><span class="op" id="5316912">(</span><span class="ident" id="5316913"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5316917">,</span>&nbsp;<span class="ident" id="5316919"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5316924">.</span><span class="ident" id="5316925">ASSIGN</span><span class="op" id="5316931">,</span>&nbsp;<span class="ident" id="5316933"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5316938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316942"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5316943">.</span><span class="ident" id="5316944">exprList</span><span class="op" id="5316952">(</span><span class="ident" id="5316953"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5316958">.</span><span class="ident" id="5316959">NoPos</span><span class="op" id="5316964">,</span>&nbsp;<span class="ident" id="5316966"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5316967">.</span><span class="ident" id="5316968">Values</span><span class="op" id="5316974">,</span>&nbsp;<span class="num" id="5316976">1</span><span class="op" id="5316977">,</span>&nbsp;<span class="num" id="5316979">0</span><span class="op" id="5316980">,</span>&nbsp;<span class="ident" id="5316982"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5316987">.</span><span class="ident" id="5316988">NoPos</span><span class="op" id="5316993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5316997"><a href="/go/printer/nodes.go.html#5316761">extraTabs</a></span><span class="op" id="5317006">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317013">if</span>&nbsp;<span class="ident" id="5317016"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5317017">.</span><span class="ident" id="5317018">Comment</span>&nbsp;<span class="op" id="5317026">!=</span>&nbsp;<span class="ident" id="5317029">nil</span>&nbsp;<span class="op" id="5317033">{</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317037">for</span>&nbsp;<span class="op" id="5317041">;</span>&nbsp;<span class="ident" id="5317043"><a href="/go/printer/nodes.go.html#5316761">extraTabs</a></span>&nbsp;<span class="op" id="5317053">&gt;</span>&nbsp;<span class="num" id="5317055">0</span><span class="op" id="5317056">;</span>&nbsp;<span class="ident" id="5317058"><a href="/go/printer/nodes.go.html#5316761">extraTabs</a></span><span class="op" id="5317067">--</span>&nbsp;<span class="op" id="5317070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317075"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5317076">.</span><span class="builtinfunc" id="5317077">print</span><span class="op" id="5317082">(</span><span class="ident" id="5317083"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5317087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317095"><a href="/go/printer/nodes.go.html#5316635">p</a></span><span class="op" id="5317096">.</span><span class="ident" id="5317097">setComment</span><span class="op" id="5317107">(</span><span class="ident" id="5317108"><a href="/go/printer/nodes.go.html#5316657">s</a></span><span class="op" id="5317109">.</span><span class="ident" id="5317110">Comment</span><span class="op" id="5317117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317120">}</span><br>
<span class="lineno">1335</span><span class="op" id="5317122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5317125">//&nbsp;The&nbsp;parameter&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;specs&nbsp;in&nbsp;the&nbsp;group.&nbsp;If&nbsp;doIndent&nbsp;is&nbsp;set,</span><br>
<span class="lineno"></span><span class="comment" id="5317201">//&nbsp;multi-line&nbsp;identifier&nbsp;lists&nbsp;in&nbsp;the&nbsp;spec&nbsp;are&nbsp;indented&nbsp;when&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span><span class="comment" id="5317272">//&nbsp;linebreak&nbsp;is&nbsp;encountered.</span><br>
<span class="lineno">1340</span><span class="comment" id="5317301">//</span><br>
<span class="lineno"></span><span class="keyword" id="5317304">func</span>&nbsp;<span class="op" id="5317309">(</span><span class="ident" id="5317310">p</span>&nbsp;<span class="op" id="5317312">*</span><span class="ident" id="5317313"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5317320">)</span>&nbsp;<span class="ident" id="5317322">spec</span><span class="op" id="5317326">(</span><span class="ident" id="5317327">spec</span>&nbsp;<span class="ident" id="5317332"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5317335">.</span><span class="ident" id="5317336">Spec</span><span class="op" id="5317340">,</span>&nbsp;<span class="ident" id="5317342">n</span>&nbsp;<span class="builtintype" id="5317344">int</span><span class="op" id="5317347">,</span>&nbsp;<span class="ident" id="5317349">doIndent</span>&nbsp;<span class="builtintype" id="5317358">bool</span><span class="op" id="5317362">)</span>&nbsp;<span class="op" id="5317364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317367">switch</span>&nbsp;<span class="ident" id="5317374">s</span>&nbsp;<span class="op" id="5317376">:=</span>&nbsp;<span class="ident" id="5317379"><a href="/go/printer/nodes.go.html#5317327">spec</a></span><span class="op" id="5317383">.</span><span class="op" id="5317384">(</span><span class="keyword" id="5317385">type</span><span class="op" id="5317389">)</span>&nbsp;<span class="op" id="5317391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317394">case</span>&nbsp;<span class="op" id="5317399">*</span><span class="ident" id="5317400"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5317403">.</span><span class="ident" id="5317404">ImportSpec</span><span class="op" id="5317414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317418"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317419">.</span><span class="ident" id="5317420">setComment</span><span class="op" id="5317430">(</span><span class="ident" id="5317431"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317432">.</span><span class="ident" id="5317433">Doc</span><span class="op" id="5317436">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317440">if</span>&nbsp;<span class="ident" id="5317443"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317444">.</span><span class="ident" id="5317445">Name</span>&nbsp;<span class="op" id="5317450">!=</span>&nbsp;<span class="ident" id="5317453">nil</span>&nbsp;<span class="op" id="5317457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317462"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317463">.</span><span class="ident" id="5317464">expr</span><span class="op" id="5317468">(</span><span class="ident" id="5317469"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317470">.</span><span class="ident" id="5317471">Name</span><span class="op" id="5317475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317480"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317481">.</span><span class="builtinfunc" id="5317482">print</span><span class="op" id="5317487">(</span><span class="ident" id="5317488"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5317493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317501"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317502">.</span><span class="ident" id="5317503">expr</span><span class="op" id="5317507">(</span><span class="ident" id="5317508"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317509">.</span><span class="ident" id="5317510">Path</span><span class="op" id="5317514">)</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317518"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317519">.</span><span class="ident" id="5317520">setComment</span><span class="op" id="5317530">(</span><span class="ident" id="5317531"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317532">.</span><span class="ident" id="5317533">Comment</span><span class="op" id="5317540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317544"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317545">.</span><span class="builtinfunc" id="5317546">print</span><span class="op" id="5317551">(</span><span class="ident" id="5317552"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317553">.</span><span class="ident" id="5317554">EndPos</span><span class="op" id="5317560">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317564">case</span>&nbsp;<span class="op" id="5317569">*</span><span class="ident" id="5317570"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5317573">.</span><span class="ident" id="5317574">ValueSpec</span><span class="op" id="5317583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317587">if</span>&nbsp;<span class="ident" id="5317590"><a href="/go/printer/nodes.go.html#5317342">n</a></span>&nbsp;<span class="op" id="5317592">!=</span>&nbsp;<span class="num" id="5317595">1</span>&nbsp;<span class="op" id="5317597">{</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317602"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317603">.</span><span class="ident" id="5317604">internalError</span><span class="op" id="5317617">(</span><span class="string" id="5317618">&#34;expected&nbsp;n&nbsp;=&nbsp;1;&nbsp;got&#34;</span><span class="op" id="5317639">,</span>&nbsp;<span class="ident" id="5317641"><a href="/go/printer/nodes.go.html#5317342">n</a></span><span class="op" id="5317642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317650"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317651">.</span><span class="ident" id="5317652">setComment</span><span class="op" id="5317662">(</span><span class="ident" id="5317663"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317664">.</span><span class="ident" id="5317665">Doc</span><span class="op" id="5317668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317672"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317673">.</span><span class="ident" id="5317674">identList</span><span class="op" id="5317683">(</span><span class="ident" id="5317684"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317685">.</span><span class="ident" id="5317686">Names</span><span class="op" id="5317691">,</span>&nbsp;<span class="ident" id="5317693"><a href="/go/printer/nodes.go.html#5317349">doIndent</a></span><span class="op" id="5317701">)</span>&nbsp;<span class="comment" id="5317703">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317723">if</span>&nbsp;<span class="ident" id="5317726"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317727">.</span><span class="ident" id="5317728">Type</span>&nbsp;<span class="op" id="5317733">!=</span>&nbsp;<span class="ident" id="5317736">nil</span>&nbsp;<span class="op" id="5317740">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317745"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317746">.</span><span class="builtinfunc" id="5317747">print</span><span class="op" id="5317752">(</span><span class="ident" id="5317753"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5317758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317763"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317764">.</span><span class="ident" id="5317765">expr</span><span class="op" id="5317769">(</span><span class="ident" id="5317770"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317771">.</span><span class="ident" id="5317772">Type</span><span class="op" id="5317776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317784">if</span>&nbsp;<span class="ident" id="5317787"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317788">.</span><span class="ident" id="5317789">Values</span>&nbsp;<span class="op" id="5317796">!=</span>&nbsp;<span class="ident" id="5317799">nil</span>&nbsp;<span class="op" id="5317803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317808"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317809">.</span><span class="builtinfunc" id="5317810">print</span><span class="op" id="5317815">(</span><span class="ident" id="5317816"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5317821">,</span>&nbsp;<span class="ident" id="5317823"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5317828">.</span><span class="ident" id="5317829">ASSIGN</span><span class="op" id="5317835">,</span>&nbsp;<span class="ident" id="5317837"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5317842">)</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317847"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317848">.</span><span class="ident" id="5317849">exprList</span><span class="op" id="5317857">(</span><span class="ident" id="5317858"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5317863">.</span><span class="ident" id="5317864">NoPos</span><span class="op" id="5317869">,</span>&nbsp;<span class="ident" id="5317871"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317872">.</span><span class="ident" id="5317873">Values</span><span class="op" id="5317879">,</span>&nbsp;<span class="num" id="5317881">1</span><span class="op" id="5317882">,</span>&nbsp;<span class="num" id="5317884">0</span><span class="op" id="5317885">,</span>&nbsp;<span class="ident" id="5317887"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5317892">.</span><span class="ident" id="5317893">NoPos</span><span class="op" id="5317898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5317902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317906"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317907">.</span><span class="ident" id="5317908">setComment</span><span class="op" id="5317918">(</span><span class="ident" id="5317919"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317920">.</span><span class="ident" id="5317921">Comment</span><span class="op" id="5317928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317932">case</span>&nbsp;<span class="op" id="5317937">*</span><span class="ident" id="5317938"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5317941">.</span><span class="ident" id="5317942">TypeSpec</span><span class="op" id="5317950">:</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317954"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317955">.</span><span class="ident" id="5317956">setComment</span><span class="op" id="5317966">(</span><span class="ident" id="5317967"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317968">.</span><span class="ident" id="5317969">Doc</span><span class="op" id="5317972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5317976"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5317977">.</span><span class="ident" id="5317978">expr</span><span class="op" id="5317982">(</span><span class="ident" id="5317983"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5317984">.</span><span class="ident" id="5317985">Name</span><span class="op" id="5317989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5317993">if</span>&nbsp;<span class="ident" id="5317996"><a href="/go/printer/nodes.go.html#5317342">n</a></span>&nbsp;<span class="op" id="5317998">==</span>&nbsp;<span class="num" id="5318001">1</span>&nbsp;<span class="op" id="5318003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318008"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5318009">.</span><span class="builtinfunc" id="5318010">print</span><span class="op" id="5318015">(</span><span class="ident" id="5318016"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5318021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318025">}</span>&nbsp;<span class="keyword" id="5318027">else</span>&nbsp;<span class="op" id="5318032">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318037"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5318038">.</span><span class="builtinfunc" id="5318039">print</span><span class="op" id="5318044">(</span><span class="ident" id="5318045"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5318049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318057"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5318058">.</span><span class="ident" id="5318059">expr</span><span class="op" id="5318063">(</span><span class="ident" id="5318064"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5318065">.</span><span class="ident" id="5318066">Type</span><span class="op" id="5318070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318074"><a href="/go/printer/nodes.go.html#5317310">p</a></span><span class="op" id="5318075">.</span><span class="ident" id="5318076">setComment</span><span class="op" id="5318086">(</span><span class="ident" id="5318087"><a href="/go/printer/nodes.go.html#5317374">s</a></span><span class="op" id="5318088">.</span><span class="ident" id="5318089">Comment</span><span class="op" id="5318096">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318100">default</span><span class="op" id="5318107">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5318111">panic</span><span class="op" id="5318116">(</span><span class="string" id="5318117">&#34;unreachable&#34;</span><span class="op" id="5318130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318133">}</span><br>
<span class="lineno"></span><span class="op" id="5318135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1385</span><span class="keyword" id="5318138">func</span>&nbsp;<span class="op" id="5318143">(</span><span class="ident" id="5318144">p</span>&nbsp;<span class="op" id="5318146">*</span><span class="ident" id="5318147"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5318154">)</span>&nbsp;<span class="ident" id="5318156">genDecl</span><span class="op" id="5318163">(</span><span class="ident" id="5318164">d</span>&nbsp;<span class="op" id="5318166">*</span><span class="ident" id="5318167"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5318170">.</span><span class="ident" id="5318171">GenDecl</span><span class="op" id="5318178">)</span>&nbsp;<span class="op" id="5318180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318183"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318184">.</span><span class="ident" id="5318185">setComment</span><span class="op" id="5318195">(</span><span class="ident" id="5318196"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318197">.</span><span class="ident" id="5318198">Doc</span><span class="op" id="5318201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318204"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318205">.</span><span class="builtinfunc" id="5318206">print</span><span class="op" id="5318211">(</span><span class="ident" id="5318212"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318213">.</span><span class="ident" id="5318214">Pos</span><span class="op" id="5318217">(</span><span class="op" id="5318218">)</span><span class="op" id="5318219">,</span>&nbsp;<span class="ident" id="5318221"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318222">.</span><span class="ident" id="5318223">Tok</span><span class="op" id="5318226">,</span>&nbsp;<span class="ident" id="5318228"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5318233">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318237">if</span>&nbsp;<span class="ident" id="5318240"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318241">.</span><span class="ident" id="5318242">Lparen</span><span class="op" id="5318248">.</span><span class="ident" id="5318249">IsValid</span><span class="op" id="5318256">(</span><span class="op" id="5318257">)</span>&nbsp;<span class="op" id="5318259">{</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5318263">//&nbsp;group&nbsp;of&nbsp;parenthesized&nbsp;declarations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318304"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318305">.</span><span class="builtinfunc" id="5318306">print</span><span class="op" id="5318311">(</span><span class="ident" id="5318312"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318313">.</span><span class="ident" id="5318314">Lparen</span><span class="op" id="5318320">,</span>&nbsp;<span class="ident" id="5318322"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5318327">.</span><span class="ident" id="5318328">LPAREN</span><span class="op" id="5318334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318338">if</span>&nbsp;<span class="ident" id="5318341">n</span>&nbsp;<span class="op" id="5318343">:=</span>&nbsp;<span class="builtinfunc" id="5318346">len</span><span class="op" id="5318349">(</span><span class="ident" id="5318350"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318351">.</span><span class="ident" id="5318352">Specs</span><span class="op" id="5318357">)</span><span class="op" id="5318358">;</span>&nbsp;<span class="ident" id="5318360"><a href="/go/printer/nodes.go.html#5318341">n</a></span>&nbsp;<span class="op" id="5318362">&gt;</span>&nbsp;<span class="num" id="5318364">0</span>&nbsp;<span class="op" id="5318366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318371"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318372">.</span><span class="builtinfunc" id="5318373">print</span><span class="op" id="5318378">(</span><span class="ident" id="5318379"><a href="/go/printer/printer.go.html#5325032">indent</a></span><span class="op" id="5318385">,</span>&nbsp;<span class="ident" id="5318387"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5318395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318400">if</span>&nbsp;<span class="ident" id="5318403"><a href="/go/printer/nodes.go.html#5318341">n</a></span>&nbsp;<span class="op" id="5318405">&gt;</span>&nbsp;<span class="num" id="5318407">1</span>&nbsp;<span class="op" id="5318409">&amp;&amp;</span>&nbsp;<span class="op" id="5318412">(</span><span class="ident" id="5318413"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318414">.</span><span class="ident" id="5318415">Tok</span>&nbsp;<span class="op" id="5318419">==</span>&nbsp;<span class="ident" id="5318422"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5318427">.</span><span class="ident" id="5318428">CONST</span>&nbsp;<span class="op" id="5318434">||</span>&nbsp;<span class="ident" id="5318437"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318438">.</span><span class="ident" id="5318439">Tok</span>&nbsp;<span class="op" id="5318443">==</span>&nbsp;<span class="ident" id="5318446"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5318451">.</span><span class="ident" id="5318452">VAR</span><span class="op" id="5318455">)</span>&nbsp;<span class="op" id="5318457">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5318463">//&nbsp;two&nbsp;or&nbsp;more&nbsp;grouped&nbsp;const/var&nbsp;declarations:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5318514">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318563">keepType</span>&nbsp;<span class="op" id="5318572">:=</span>&nbsp;<span class="ident" id="5318575"><a href="/go/printer/nodes.go.html#5315938">keepTypeColumn</a></span><span class="op" id="5318589">(</span><span class="ident" id="5318590"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318591">.</span><span class="ident" id="5318592">Specs</span><span class="op" id="5318597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318603">var</span>&nbsp;<span class="ident" id="5318607">line</span>&nbsp;<span class="builtintype" id="5318612">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318620">for</span>&nbsp;<span class="ident" id="5318624">i</span><span class="op" id="5318625">,</span>&nbsp;<span class="ident" id="5318627">s</span>&nbsp;<span class="op" id="5318629">:=</span>&nbsp;<span class="keyword" id="5318632">range</span>&nbsp;<span class="ident" id="5318638"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318639">.</span><span class="ident" id="5318640">Specs</span>&nbsp;<span class="op" id="5318646">{</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318653">if</span>&nbsp;<span class="ident" id="5318656"><a href="/go/printer/nodes.go.html#5318624">i</a></span>&nbsp;<span class="op" id="5318658">&gt;</span>&nbsp;<span class="num" id="5318660">0</span>&nbsp;<span class="op" id="5318662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318670"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318671">.</span><span class="ident" id="5318672">linebreak</span><span class="op" id="5318681">(</span><span class="ident" id="5318682"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318683">.</span><span class="ident" id="5318684">lineFor</span><span class="op" id="5318691">(</span><span class="ident" id="5318692"><a href="/go/printer/nodes.go.html#5318627">s</a></span><span class="op" id="5318693">.</span><span class="ident" id="5318694">Pos</span><span class="op" id="5318697">(</span><span class="op" id="5318698">)</span><span class="op" id="5318699">)</span><span class="op" id="5318700">,</span>&nbsp;<span class="num" id="5318702">1</span><span class="op" id="5318703">,</span>&nbsp;<span class="ident" id="5318705"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5318711">,</span>&nbsp;<span class="ident" id="5318713"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318714">.</span><span class="ident" id="5318715">linesFrom</span><span class="op" id="5318724">(</span><span class="ident" id="5318725"><a href="/go/printer/nodes.go.html#5318607">line</a></span><span class="op" id="5318729">)</span>&nbsp;<span class="op" id="5318731">&gt;</span>&nbsp;<span class="num" id="5318733">0</span><span class="op" id="5318734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318748"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318749">.</span><span class="ident" id="5318750">recordLine</span><span class="op" id="5318760">(</span><span class="op" id="5318761">&amp;</span><span class="ident" id="5318762"><a href="/go/printer/nodes.go.html#5318607">line</a></span><span class="op" id="5318766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318773"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318774">.</span><span class="ident" id="5318775">valueSpec</span><span class="op" id="5318784">(</span><span class="ident" id="5318785"><a href="/go/printer/nodes.go.html#5318627">s</a></span><span class="op" id="5318786">.</span><span class="op" id="5318787">(</span><span class="op" id="5318788">*</span><span class="ident" id="5318789"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5318792">.</span><span class="ident" id="5318793">ValueSpec</span><span class="op" id="5318802">)</span><span class="op" id="5318803">,</span>&nbsp;<span class="ident" id="5318805"><a href="/go/printer/nodes.go.html#5318563">keepType</a></span><span class="op" id="5318813">[</span><span class="ident" id="5318814"><a href="/go/printer/nodes.go.html#5318624">i</a></span><span class="op" id="5318815">]</span><span class="op" id="5318816">)</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318827">}</span>&nbsp;<span class="keyword" id="5318829">else</span>&nbsp;<span class="op" id="5318834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318840">var</span>&nbsp;<span class="ident" id="5318844">line</span>&nbsp;<span class="builtintype" id="5318849">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318857">for</span>&nbsp;<span class="ident" id="5318861">i</span><span class="op" id="5318862">,</span>&nbsp;<span class="ident" id="5318864">s</span>&nbsp;<span class="op" id="5318866">:=</span>&nbsp;<span class="keyword" id="5318869">range</span>&nbsp;<span class="ident" id="5318875"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5318876">.</span><span class="ident" id="5318877">Specs</span>&nbsp;<span class="op" id="5318883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5318890">if</span>&nbsp;<span class="ident" id="5318893"><a href="/go/printer/nodes.go.html#5318861">i</a></span>&nbsp;<span class="op" id="5318895">&gt;</span>&nbsp;<span class="num" id="5318897">0</span>&nbsp;<span class="op" id="5318899">{</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318907"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318908">.</span><span class="ident" id="5318909">linebreak</span><span class="op" id="5318918">(</span><span class="ident" id="5318919"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318920">.</span><span class="ident" id="5318921">lineFor</span><span class="op" id="5318928">(</span><span class="ident" id="5318929"><a href="/go/printer/nodes.go.html#5318864">s</a></span><span class="op" id="5318930">.</span><span class="ident" id="5318931">Pos</span><span class="op" id="5318934">(</span><span class="op" id="5318935">)</span><span class="op" id="5318936">)</span><span class="op" id="5318937">,</span>&nbsp;<span class="num" id="5318939">1</span><span class="op" id="5318940">,</span>&nbsp;<span class="ident" id="5318942"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5318948">,</span>&nbsp;<span class="ident" id="5318950"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318951">.</span><span class="ident" id="5318952">linesFrom</span><span class="op" id="5318961">(</span><span class="ident" id="5318962"><a href="/go/printer/nodes.go.html#5318844">line</a></span><span class="op" id="5318966">)</span>&nbsp;<span class="op" id="5318968">&gt;</span>&nbsp;<span class="num" id="5318970">0</span><span class="op" id="5318971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5318978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5318985"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5318986">.</span><span class="ident" id="5318987">recordLine</span><span class="op" id="5318997">(</span><span class="op" id="5318998">&amp;</span><span class="ident" id="5318999"><a href="/go/printer/nodes.go.html#5318844">line</a></span><span class="op" id="5319003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319010"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5319011">.</span><span class="ident" id="5319012">spec</span><span class="op" id="5319016">(</span><span class="ident" id="5319017"><a href="/go/printer/nodes.go.html#5318864">s</a></span><span class="op" id="5319018">,</span>&nbsp;<span class="ident" id="5319020"><a href="/go/printer/nodes.go.html#5318341">n</a></span><span class="op" id="5319021">,</span>&nbsp;<span class="builtintype" id="5319023">false</span><span class="op" id="5319028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319034">}</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319044"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5319045">.</span><span class="builtinfunc" id="5319046">print</span><span class="op" id="5319051">(</span><span class="ident" id="5319052"><a href="/go/printer/printer.go.html#5325060">unindent</a></span><span class="op" id="5319060">,</span>&nbsp;<span class="ident" id="5319062"><a href="/go/printer/printer.go.html#5325003">formfeed</a></span><span class="op" id="5319070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319078"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5319079">.</span><span class="builtinfunc" id="5319080">print</span><span class="op" id="5319085">(</span><span class="ident" id="5319086"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5319087">.</span><span class="ident" id="5319088">Rparen</span><span class="op" id="5319094">,</span>&nbsp;<span class="ident" id="5319096"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5319101">.</span><span class="ident" id="5319102">RPAREN</span><span class="op" id="5319108">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319112">}</span>&nbsp;<span class="keyword" id="5319114">else</span>&nbsp;<span class="op" id="5319119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319123">//&nbsp;single&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319147"><a href="/go/printer/nodes.go.html#5318144">p</a></span><span class="op" id="5319148">.</span><span class="ident" id="5319149">spec</span><span class="op" id="5319153">(</span><span class="ident" id="5319154"><a href="/go/printer/nodes.go.html#5318164">d</a></span><span class="op" id="5319155">.</span><span class="ident" id="5319156">Specs</span><span class="op" id="5319161">[</span><span class="num" id="5319162">0</span><span class="op" id="5319163">]</span><span class="op" id="5319164">,</span>&nbsp;<span class="num" id="5319166">1</span><span class="op" id="5319167">,</span>&nbsp;<span class="builtintype" id="5319169">true</span><span class="op" id="5319173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319176">}</span><br>
<span class="lineno"></span><span class="op" id="5319178">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="comment" id="5319181">//&nbsp;nodeSize&nbsp;determines&nbsp;the&nbsp;size&nbsp;of&nbsp;n&nbsp;in&nbsp;chars&nbsp;after&nbsp;formatting.</span><br>
<span class="lineno"></span><span class="comment" id="5319245">//&nbsp;The&nbsp;result&nbsp;is&nbsp;&lt;=&nbsp;maxSize&nbsp;if&nbsp;the&nbsp;node&nbsp;fits&nbsp;on&nbsp;one&nbsp;line&nbsp;with&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="5319310">//&nbsp;most&nbsp;maxSize&nbsp;chars&nbsp;and&nbsp;the&nbsp;formatted&nbsp;output&nbsp;doesn&#39;t&nbsp;contain</span><br>
<span class="lineno"></span><span class="comment" id="5319373">//&nbsp;any&nbsp;control&nbsp;chars.&nbsp;Otherwise,&nbsp;the&nbsp;result&nbsp;is&nbsp;&gt;&nbsp;maxSize.</span><br>
<span class="lineno">1430</span><span class="comment" id="5319431">//</span><br>
<span class="lineno"></span><span class="keyword" id="5319434">func</span>&nbsp;<span class="op" id="5319439">(</span><span class="ident" id="5319440">p</span>&nbsp;<span class="op" id="5319442">*</span><span class="ident" id="5319443"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5319450">)</span>&nbsp;<span class="ident" id="5319452">nodeSize</span><span class="op" id="5319460">(</span><span class="ident" id="5319461">n</span>&nbsp;<span class="ident" id="5319463"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5319466">.</span><span class="ident" id="5319467">Node</span><span class="op" id="5319471">,</span>&nbsp;<span class="ident" id="5319473">maxSize</span>&nbsp;<span class="builtintype" id="5319481">int</span><span class="op" id="5319484">)</span>&nbsp;<span class="op" id="5319486">(</span><span class="ident" id="5319487">size</span>&nbsp;<span class="builtintype" id="5319492">int</span><span class="op" id="5319495">)</span>&nbsp;<span class="op" id="5319497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319500">//&nbsp;nodeSize&nbsp;invokes&nbsp;the&nbsp;printer,&nbsp;which&nbsp;may&nbsp;invoke&nbsp;nodeSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319560">//&nbsp;recursively.&nbsp;For&nbsp;deep&nbsp;composite&nbsp;literal&nbsp;nests,&nbsp;this&nbsp;can</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319620">//&nbsp;lead&nbsp;to&nbsp;an&nbsp;exponential&nbsp;algorithm.&nbsp;Remember&nbsp;previous</span><br>
<span class="lineno">1435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319676">//&nbsp;results&nbsp;to&nbsp;prune&nbsp;the&nbsp;recursion&nbsp;(was&nbsp;issue&nbsp;1628).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5319729">if</span>&nbsp;<span class="ident" id="5319732">size</span><span class="op" id="5319736">,</span>&nbsp;<span class="ident" id="5319738">found</span>&nbsp;<span class="op" id="5319744">:=</span>&nbsp;<span class="ident" id="5319747"><a href="/go/printer/nodes.go.html#5319440">p</a></span><span class="op" id="5319748">.</span><span class="ident" id="5319749">nodeSizes</span><span class="op" id="5319758">[</span><span class="ident" id="5319759"><a href="/go/printer/nodes.go.html#5319461">n</a></span><span class="op" id="5319760">]</span><span class="op" id="5319761">;</span>&nbsp;<span class="ident" id="5319763"><a href="/go/printer/nodes.go.html#5319738">found</a></span>&nbsp;<span class="op" id="5319769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5319773">return</span>&nbsp;<span class="ident" id="5319780"><a href="/go/printer/nodes.go.html#5319732">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5319786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319790"><a href="/go/printer/nodes.go.html#5319487">size</a></span>&nbsp;<span class="op" id="5319795">=</span>&nbsp;<span class="ident" id="5319797"><a href="/go/printer/nodes.go.html#5319473">maxSize</a></span>&nbsp;<span class="op" id="5319805">+</span>&nbsp;<span class="num" id="5319807">1</span>&nbsp;<span class="comment" id="5319809">//&nbsp;assume&nbsp;n&nbsp;doesn&#39;t&nbsp;fit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319834"><a href="/go/printer/nodes.go.html#5319440">p</a></span><span class="op" id="5319835">.</span><span class="ident" id="5319836">nodeSizes</span><span class="op" id="5319845">[</span><span class="ident" id="5319846"><a href="/go/printer/nodes.go.html#5319461">n</a></span><span class="op" id="5319847">]</span>&nbsp;<span class="op" id="5319849">=</span>&nbsp;<span class="ident" id="5319851"><a href="/go/printer/nodes.go.html#5319487">size</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319858">//&nbsp;nodeSize&nbsp;computation&nbsp;must&nbsp;be&nbsp;independent&nbsp;of&nbsp;particular</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319917">//&nbsp;style&nbsp;so&nbsp;that&nbsp;we&nbsp;always&nbsp;get&nbsp;the&nbsp;same&nbsp;decision;&nbsp;print</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5319974">//&nbsp;in&nbsp;RawFormat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5319991">cfg</span>&nbsp;<span class="op" id="5319995">:=</span>&nbsp;<span class="ident" id="5319998"><a href="/go/printer/printer.go.html#5359429">Config</a></span><span class="op" id="5320004">{</span><span class="ident" id="5320005">Mode</span><span class="op" id="5320009">:</span>&nbsp;<span class="ident" id="5320011"><a href="/go/printer/printer.go.html#5359047">RawFormat</a></span><span class="op" id="5320020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320023">var</span>&nbsp;<span class="ident" id="5320027">buf</span>&nbsp;<span class="ident" id="5320031"><a href="/go/printer/nodes.go.html#5282056">bytes</a></span><span class="op" id="5320036">.</span><span class="ident" id="5320037">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320045">if</span>&nbsp;<span class="ident" id="5320048">err</span>&nbsp;<span class="op" id="5320052">:=</span>&nbsp;<span class="ident" id="5320055"><a href="/go/printer/nodes.go.html#5319991">cfg</a></span><span class="op" id="5320058">.</span><span class="ident" id="5320059">fprint</span><span class="op" id="5320065">(</span><span class="op" id="5320066">&amp;</span><span class="ident" id="5320067"><a href="/go/printer/nodes.go.html#5320027">buf</a></span><span class="op" id="5320070">,</span>&nbsp;<span class="ident" id="5320072"><a href="/go/printer/nodes.go.html#5319440">p</a></span><span class="op" id="5320073">.</span><span class="ident" id="5320074">fset</span><span class="op" id="5320078">,</span>&nbsp;<span class="ident" id="5320080"><a href="/go/printer/nodes.go.html#5319461">n</a></span><span class="op" id="5320081">,</span>&nbsp;<span class="ident" id="5320083"><a href="/go/printer/nodes.go.html#5319440">p</a></span><span class="op" id="5320084">.</span><span class="ident" id="5320085">nodeSizes</span><span class="op" id="5320094">)</span><span class="op" id="5320095">;</span>&nbsp;<span class="ident" id="5320097"><a href="/go/printer/nodes.go.html#5320048">err</a></span>&nbsp;<span class="op" id="5320101">!=</span>&nbsp;<span class="ident" id="5320104">nil</span>&nbsp;<span class="op" id="5320108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320112">return</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320123">if</span>&nbsp;<span class="ident" id="5320126"><a href="/go/printer/nodes.go.html#5320027">buf</a></span><span class="op" id="5320129">.</span><span class="ident" id="5320130">Len</span><span class="op" id="5320133">(</span><span class="op" id="5320134">)</span>&nbsp;<span class="op" id="5320136">&lt;=</span>&nbsp;<span class="ident" id="5320139"><a href="/go/printer/nodes.go.html#5319473">maxSize</a></span>&nbsp;<span class="op" id="5320147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320151">for</span>&nbsp;<span class="ident" id="5320155">_</span><span class="op" id="5320156">,</span>&nbsp;<span class="ident" id="5320158">ch</span>&nbsp;<span class="op" id="5320161">:=</span>&nbsp;<span class="keyword" id="5320164">range</span>&nbsp;<span class="ident" id="5320170"><a href="/go/printer/nodes.go.html#5320027">buf</a></span><span class="op" id="5320173">.</span><span class="ident" id="5320174">Bytes</span><span class="op" id="5320179">(</span><span class="op" id="5320180">)</span>&nbsp;<span class="op" id="5320182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320187">if</span>&nbsp;<span class="ident" id="5320190"><a href="/go/printer/nodes.go.html#5320158">ch</a></span>&nbsp;<span class="op" id="5320193">&lt;</span>&nbsp;<span class="string" id="5320195">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5320199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320205">return</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320223"><a href="/go/printer/nodes.go.html#5319487">size</a></span>&nbsp;<span class="op" id="5320228">=</span>&nbsp;<span class="ident" id="5320230"><a href="/go/printer/nodes.go.html#5320027">buf</a></span><span class="op" id="5320233">.</span><span class="ident" id="5320234">Len</span><span class="op" id="5320237">(</span><span class="op" id="5320238">)</span>&nbsp;<span class="comment" id="5320240">//&nbsp;n&nbsp;fits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320252"><a href="/go/printer/nodes.go.html#5319440">p</a></span><span class="op" id="5320253">.</span><span class="ident" id="5320254">nodeSizes</span><span class="op" id="5320263">[</span><span class="ident" id="5320264"><a href="/go/printer/nodes.go.html#5319461">n</a></span><span class="op" id="5320265">]</span>&nbsp;<span class="op" id="5320267">=</span>&nbsp;<span class="ident" id="5320269"><a href="/go/printer/nodes.go.html#5319487">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320275">}</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320278">return</span><br>
<span class="lineno"></span><span class="op" id="5320285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5320288">//&nbsp;bodySize&nbsp;is&nbsp;like&nbsp;nodeSize&nbsp;but&nbsp;it&nbsp;is&nbsp;specialized&nbsp;for&nbsp;*ast.BlockStmt&#39;s.</span><br>
<span class="lineno"></span><span class="keyword" id="5320361">func</span>&nbsp;<span class="op" id="5320366">(</span><span class="ident" id="5320367">p</span>&nbsp;<span class="op" id="5320369">*</span><span class="ident" id="5320370"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5320377">)</span>&nbsp;<span class="ident" id="5320379">bodySize</span><span class="op" id="5320387">(</span><span class="ident" id="5320388">b</span>&nbsp;<span class="op" id="5320390">*</span><span class="ident" id="5320391"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5320394">.</span><span class="ident" id="5320395">BlockStmt</span><span class="op" id="5320404">,</span>&nbsp;<span class="ident" id="5320406">maxSize</span>&nbsp;<span class="builtintype" id="5320414">int</span><span class="op" id="5320417">)</span>&nbsp;<span class="builtintype" id="5320419">int</span>&nbsp;<span class="op" id="5320423">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320426">pos1</span>&nbsp;<span class="op" id="5320431">:=</span>&nbsp;<span class="ident" id="5320434"><a href="/go/printer/nodes.go.html#5320388">b</a></span><span class="op" id="5320435">.</span><span class="ident" id="5320436">Pos</span><span class="op" id="5320439">(</span><span class="op" id="5320440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320443">pos2</span>&nbsp;<span class="op" id="5320448">:=</span>&nbsp;<span class="ident" id="5320451"><a href="/go/printer/nodes.go.html#5320388">b</a></span><span class="op" id="5320452">.</span><span class="ident" id="5320453">Rbrace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320461">if</span>&nbsp;<span class="ident" id="5320464"><a href="/go/printer/nodes.go.html#5320426">pos1</a></span><span class="op" id="5320468">.</span><span class="ident" id="5320469">IsValid</span><span class="op" id="5320476">(</span><span class="op" id="5320477">)</span>&nbsp;<span class="op" id="5320479">&amp;&amp;</span>&nbsp;<span class="ident" id="5320482"><a href="/go/printer/nodes.go.html#5320443">pos2</a></span><span class="op" id="5320486">.</span><span class="ident" id="5320487">IsValid</span><span class="op" id="5320494">(</span><span class="op" id="5320495">)</span>&nbsp;<span class="op" id="5320497">&amp;&amp;</span>&nbsp;<span class="ident" id="5320500"><a href="/go/printer/nodes.go.html#5320367">p</a></span><span class="op" id="5320501">.</span><span class="ident" id="5320502">lineFor</span><span class="op" id="5320509">(</span><span class="ident" id="5320510"><a href="/go/printer/nodes.go.html#5320426">pos1</a></span><span class="op" id="5320514">)</span>&nbsp;<span class="op" id="5320516">!=</span>&nbsp;<span class="ident" id="5320519"><a href="/go/printer/nodes.go.html#5320367">p</a></span><span class="op" id="5320520">.</span><span class="ident" id="5320521">lineFor</span><span class="op" id="5320528">(</span><span class="ident" id="5320529"><a href="/go/printer/nodes.go.html#5320443">pos2</a></span><span class="op" id="5320533">)</span>&nbsp;<span class="op" id="5320535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5320539">//&nbsp;opening&nbsp;and&nbsp;closing&nbsp;brace&nbsp;are&nbsp;on&nbsp;different&nbsp;lines&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320621">return</span>&nbsp;<span class="ident" id="5320628"><a href="/go/printer/nodes.go.html#5320406">maxSize</a></span>&nbsp;<span class="op" id="5320636">+</span>&nbsp;<span class="num" id="5320638">1</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320644">if</span>&nbsp;<span class="builtinfunc" id="5320647">len</span><span class="op" id="5320650">(</span><span class="ident" id="5320651"><a href="/go/printer/nodes.go.html#5320388">b</a></span><span class="op" id="5320652">.</span><span class="ident" id="5320653">List</span><span class="op" id="5320657">)</span>&nbsp;<span class="op" id="5320659">&gt;</span>&nbsp;<span class="num" id="5320661">5</span>&nbsp;<span class="op" id="5320663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5320667">//&nbsp;too&nbsp;many&nbsp;statements&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320720">return</span>&nbsp;<span class="ident" id="5320727"><a href="/go/printer/nodes.go.html#5320406">maxSize</a></span>&nbsp;<span class="op" id="5320735">+</span>&nbsp;<span class="num" id="5320737">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320740">}</span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5320743">//&nbsp;otherwise,&nbsp;estimate&nbsp;body&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320777">bodySize</span>&nbsp;<span class="op" id="5320786">:=</span>&nbsp;<span class="ident" id="5320789"><a href="/go/printer/nodes.go.html#5320367">p</a></span><span class="op" id="5320790">.</span><span class="ident" id="5320791">commentSizeBefore</span><span class="op" id="5320808">(</span><span class="ident" id="5320809"><a href="/go/printer/nodes.go.html#5320367">p</a></span><span class="op" id="5320810">.</span><span class="ident" id="5320811">posFor</span><span class="op" id="5320817">(</span><span class="ident" id="5320818"><a href="/go/printer/nodes.go.html#5320443">pos2</a></span><span class="op" id="5320822">)</span><span class="op" id="5320823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320826">for</span>&nbsp;<span class="ident" id="5320830">i</span><span class="op" id="5320831">,</span>&nbsp;<span class="ident" id="5320833">s</span>&nbsp;<span class="op" id="5320835">:=</span>&nbsp;<span class="keyword" id="5320838">range</span>&nbsp;<span class="ident" id="5320844"><a href="/go/printer/nodes.go.html#5320388">b</a></span><span class="op" id="5320845">.</span><span class="ident" id="5320846">List</span>&nbsp;<span class="op" id="5320851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320855">if</span>&nbsp;<span class="ident" id="5320858"><a href="/go/printer/nodes.go.html#5320777">bodySize</a></span>&nbsp;<span class="op" id="5320867">&gt;</span>&nbsp;<span class="ident" id="5320869"><a href="/go/printer/nodes.go.html#5320406">maxSize</a></span>&nbsp;<span class="op" id="5320877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320882">break</span>&nbsp;<span class="comment" id="5320888">//&nbsp;no&nbsp;need&nbsp;to&nbsp;continue</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5320917">if</span>&nbsp;<span class="ident" id="5320920"><a href="/go/printer/nodes.go.html#5320830">i</a></span>&nbsp;<span class="op" id="5320922">&gt;</span>&nbsp;<span class="num" id="5320924">0</span>&nbsp;<span class="op" id="5320926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320931"><a href="/go/printer/nodes.go.html#5320777">bodySize</a></span>&nbsp;<span class="op" id="5320940">+=</span>&nbsp;<span class="num" id="5320943">2</span>&nbsp;<span class="comment" id="5320945">//&nbsp;space&nbsp;for&nbsp;a&nbsp;semicolon&nbsp;and&nbsp;blank</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5320982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5320986"><a href="/go/printer/nodes.go.html#5320777">bodySize</a></span>&nbsp;<span class="op" id="5320995">+=</span>&nbsp;<span class="ident" id="5320998"><a href="/go/printer/nodes.go.html#5320367">p</a></span><span class="op" id="5320999">.</span><span class="ident" id="5321000">nodeSize</span><span class="op" id="5321008">(</span><span class="ident" id="5321009"><a href="/go/printer/nodes.go.html#5320833">s</a></span><span class="op" id="5321010">,</span>&nbsp;<span class="ident" id="5321012"><a href="/go/printer/nodes.go.html#5320406">maxSize</a></span><span class="op" id="5321019">)</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5321022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321025">return</span>&nbsp;<span class="ident" id="5321032"><a href="/go/printer/nodes.go.html#5320777">bodySize</a></span><br>
<span class="lineno"></span><span class="op" id="5321041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5321044">//&nbsp;adjBlock&nbsp;prints&nbsp;an&nbsp;&#34;adjacent&#34;&nbsp;block&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;or&nbsp;function&nbsp;body)&nbsp;following</span><br>
<span class="lineno">1490</span><span class="comment" id="5321129">//&nbsp;a&nbsp;header&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;control&nbsp;clause&nbsp;or&nbsp;function&nbsp;signature)&nbsp;of&nbsp;given&nbsp;headerSize.</span><br>
<span class="lineno"></span><span class="comment" id="5321218">//&nbsp;If&nbsp;the&nbsp;header&#39;s&nbsp;and&nbsp;block&#39;s&nbsp;size&nbsp;are&nbsp;&#34;small&nbsp;enough&#34;&nbsp;and&nbsp;the&nbsp;block&nbsp;is&nbsp;&#34;simple&nbsp;enough&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="5321307">//&nbsp;the&nbsp;block&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;without&nbsp;line&nbsp;breaks,&nbsp;spaced&nbsp;from&nbsp;the&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5321396">//&nbsp;by&nbsp;sep.&nbsp;Otherwise&nbsp;the&nbsp;block&#39;s&nbsp;opening&nbsp;&#34;{&#34;&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;followed&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="5321485">//&nbsp;lines&nbsp;for&nbsp;the&nbsp;block&#39;s&nbsp;statements&nbsp;and&nbsp;its&nbsp;closing&nbsp;&#34;}&#34;.</span><br>
<span class="lineno">1495</span><span class="comment" id="5321542">//</span><br>
<span class="lineno"></span><span class="keyword" id="5321545">func</span>&nbsp;<span class="op" id="5321550">(</span><span class="ident" id="5321551">p</span>&nbsp;<span class="op" id="5321553">*</span><span class="ident" id="5321554"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5321561">)</span>&nbsp;<span class="ident" id="5321563">adjBlock</span><span class="op" id="5321571">(</span><span class="ident" id="5321572">headerSize</span>&nbsp;<span class="builtintype" id="5321583">int</span><span class="op" id="5321586">,</span>&nbsp;<span class="ident" id="5321588">sep</span>&nbsp;<span class="ident" id="5321592"><a href="/go/printer/printer.go.html#5324865">whiteSpace</a></span><span class="op" id="5321602">,</span>&nbsp;<span class="ident" id="5321604">b</span>&nbsp;<span class="op" id="5321606">*</span><span class="ident" id="5321607"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5321610">.</span><span class="ident" id="5321611">BlockStmt</span><span class="op" id="5321620">)</span>&nbsp;<span class="op" id="5321622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321625">if</span>&nbsp;<span class="ident" id="5321628"><a href="/go/printer/nodes.go.html#5321604">b</a></span>&nbsp;<span class="op" id="5321630">==</span>&nbsp;<span class="ident" id="5321633">nil</span>&nbsp;<span class="op" id="5321637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321641">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5321649">}</span><br>
<span class="lineno">1500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321653">const</span>&nbsp;<span class="ident" id="5321659">maxSize</span>&nbsp;<span class="op" id="5321667">=</span>&nbsp;<span class="num" id="5321669">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321674">if</span>&nbsp;<span class="ident" id="5321677"><a href="/go/printer/nodes.go.html#5321572">headerSize</a></span><span class="op" id="5321687">+</span><span class="ident" id="5321688"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321689">.</span><span class="ident" id="5321690">bodySize</span><span class="op" id="5321698">(</span><span class="ident" id="5321699"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321700">,</span>&nbsp;<span class="ident" id="5321702"><a href="/go/printer/nodes.go.html#5321659">maxSize</a></span><span class="op" id="5321709">)</span>&nbsp;<span class="op" id="5321711">&lt;=</span>&nbsp;<span class="ident" id="5321714"><a href="/go/printer/nodes.go.html#5321659">maxSize</a></span>&nbsp;<span class="op" id="5321722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321726"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321727">.</span><span class="builtinfunc" id="5321728">print</span><span class="op" id="5321733">(</span><span class="ident" id="5321734"><a href="/go/printer/nodes.go.html#5321588">sep</a></span><span class="op" id="5321737">,</span>&nbsp;<span class="ident" id="5321739"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321740">.</span><span class="ident" id="5321741">Lbrace</span><span class="op" id="5321747">,</span>&nbsp;<span class="ident" id="5321749"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5321754">.</span><span class="ident" id="5321755">LBRACE</span><span class="op" id="5321761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321765">if</span>&nbsp;<span class="builtinfunc" id="5321768">len</span><span class="op" id="5321771">(</span><span class="ident" id="5321772"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321773">.</span><span class="ident" id="5321774">List</span><span class="op" id="5321778">)</span>&nbsp;<span class="op" id="5321780">&gt;</span>&nbsp;<span class="num" id="5321782">0</span>&nbsp;<span class="op" id="5321784">{</span><br>
<span class="lineno">1505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321789"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321790">.</span><span class="builtinfunc" id="5321791">print</span><span class="op" id="5321796">(</span><span class="ident" id="5321797"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5321802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321807">for</span>&nbsp;<span class="ident" id="5321811">i</span><span class="op" id="5321812">,</span>&nbsp;<span class="ident" id="5321814">s</span>&nbsp;<span class="op" id="5321816">:=</span>&nbsp;<span class="keyword" id="5321819">range</span>&nbsp;<span class="ident" id="5321825"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321826">.</span><span class="ident" id="5321827">List</span>&nbsp;<span class="op" id="5321832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5321838">if</span>&nbsp;<span class="ident" id="5321841"><a href="/go/printer/nodes.go.html#5321811">i</a></span>&nbsp;<span class="op" id="5321843">&gt;</span>&nbsp;<span class="num" id="5321845">0</span>&nbsp;<span class="op" id="5321847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321854"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321855">.</span><span class="builtinfunc" id="5321856">print</span><span class="op" id="5321861">(</span><span class="ident" id="5321862"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5321867">.</span><span class="ident" id="5321868">SEMICOLON</span><span class="op" id="5321877">,</span>&nbsp;<span class="ident" id="5321879"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5321884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5321890">}</span><br>
<span class="lineno">1510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321896"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321897">.</span><span class="ident" id="5321898">stmt</span><span class="op" id="5321902">(</span><span class="ident" id="5321903"><a href="/go/printer/nodes.go.html#5321814">s</a></span><span class="op" id="5321904">,</span>&nbsp;<span class="ident" id="5321906"><a href="/go/printer/nodes.go.html#5321811">i</a></span>&nbsp;<span class="op" id="5321908">==</span>&nbsp;<span class="builtinfunc" id="5321911">len</span><span class="op" id="5321914">(</span><span class="ident" id="5321915"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321916">.</span><span class="ident" id="5321917">List</span><span class="op" id="5321921">)</span><span class="op" id="5321922">-</span><span class="num" id="5321923">1</span><span class="op" id="5321924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5321929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321934"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321935">.</span><span class="builtinfunc" id="5321936">print</span><span class="op" id="5321941">(</span><span class="ident" id="5321942"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5321947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5321951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5321955"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5321956">.</span><span class="builtinfunc" id="5321957">print</span><span class="op" id="5321962">(</span><span class="ident" id="5321963"><a href="/go/printer/printer.go.html#5325252">noExtraLinebreak</a></span><span class="op" id="5321979">,</span>&nbsp;<span class="ident" id="5321981"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5321982">.</span><span class="ident" id="5321983">Rbrace</span><span class="op" id="5321989">,</span>&nbsp;<span class="ident" id="5321991"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5321996">.</span><span class="ident" id="5321997">RBRACE</span><span class="op" id="5322003">,</span>&nbsp;<span class="ident" id="5322005"><a href="/go/printer/printer.go.html#5325252">noExtraLinebreak</a></span><span class="op" id="5322021">)</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322025">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5322033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322037">if</span>&nbsp;<span class="ident" id="5322040"><a href="/go/printer/nodes.go.html#5321588">sep</a></span>&nbsp;<span class="op" id="5322044">!=</span>&nbsp;<span class="ident" id="5322047"><a href="/go/printer/printer.go.html#5324891">ignore</a></span>&nbsp;<span class="op" id="5322054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322058"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5322059">.</span><span class="builtinfunc" id="5322060">print</span><span class="op" id="5322065">(</span><span class="ident" id="5322066"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5322071">)</span>&nbsp;<span class="comment" id="5322073">//&nbsp;always&nbsp;use&nbsp;blank</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5322094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322097"><a href="/go/printer/nodes.go.html#5321551">p</a></span><span class="op" id="5322098">.</span><span class="ident" id="5322099">block</span><span class="op" id="5322104">(</span><span class="ident" id="5322105"><a href="/go/printer/nodes.go.html#5321604">b</a></span><span class="op" id="5322106">,</span>&nbsp;<span class="num" id="5322108">1</span><span class="op" id="5322109">)</span><br>
<span class="lineno"></span><span class="op" id="5322111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5322114">//&nbsp;distanceFrom&nbsp;returns&nbsp;the&nbsp;column&nbsp;difference&nbsp;between&nbsp;from&nbsp;and&nbsp;p.pos&nbsp;(the&nbsp;current</span><br>
<span class="lineno">1525</span><span class="comment" id="5322196">//&nbsp;estimated&nbsp;position)&nbsp;if&nbsp;both&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;line;&nbsp;if&nbsp;they&nbsp;are&nbsp;on&nbsp;different&nbsp;lines</span><br>
<span class="lineno"></span><span class="comment" id="5322280">//&nbsp;(or&nbsp;unknown)&nbsp;the&nbsp;result&nbsp;is&nbsp;infinity.</span><br>
<span class="lineno"></span><span class="keyword" id="5322320">func</span>&nbsp;<span class="op" id="5322325">(</span><span class="ident" id="5322326">p</span>&nbsp;<span class="op" id="5322328">*</span><span class="ident" id="5322329"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5322336">)</span>&nbsp;<span class="ident" id="5322338">distanceFrom</span><span class="op" id="5322350">(</span><span class="ident" id="5322351">from</span>&nbsp;<span class="ident" id="5322356"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5322361">.</span><span class="ident" id="5322362">Pos</span><span class="op" id="5322365">)</span>&nbsp;<span class="builtintype" id="5322367">int</span>&nbsp;<span class="op" id="5322371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322374">if</span>&nbsp;<span class="ident" id="5322377"><a href="/go/printer/nodes.go.html#5322351">from</a></span><span class="op" id="5322381">.</span><span class="ident" id="5322382">IsValid</span><span class="op" id="5322389">(</span><span class="op" id="5322390">)</span>&nbsp;<span class="op" id="5322392">&amp;&amp;</span>&nbsp;<span class="ident" id="5322395"><a href="/go/printer/nodes.go.html#5322326">p</a></span><span class="op" id="5322396">.</span><span class="ident" id="5322397">pos</span><span class="op" id="5322400">.</span><span class="ident" id="5322401">IsValid</span><span class="op" id="5322408">(</span><span class="op" id="5322409">)</span>&nbsp;<span class="op" id="5322411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322415">if</span>&nbsp;<span class="ident" id="5322418">f</span>&nbsp;<span class="op" id="5322420">:=</span>&nbsp;<span class="ident" id="5322423"><a href="/go/printer/nodes.go.html#5322326">p</a></span><span class="op" id="5322424">.</span><span class="ident" id="5322425">posFor</span><span class="op" id="5322431">(</span><span class="ident" id="5322432"><a href="/go/printer/nodes.go.html#5322351">from</a></span><span class="op" id="5322436">)</span><span class="op" id="5322437">;</span>&nbsp;<span class="ident" id="5322439"><a href="/go/printer/nodes.go.html#5322418">f</a></span><span class="op" id="5322440">.</span><span class="ident" id="5322441">Line</span>&nbsp;<span class="op" id="5322446">==</span>&nbsp;<span class="ident" id="5322449"><a href="/go/printer/nodes.go.html#5322326">p</a></span><span class="op" id="5322450">.</span><span class="ident" id="5322451">pos</span><span class="op" id="5322454">.</span><span class="ident" id="5322455">Line</span>&nbsp;<span class="op" id="5322460">{</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322465">return</span>&nbsp;<span class="ident" id="5322472"><a href="/go/printer/nodes.go.html#5322326">p</a></span><span class="op" id="5322473">.</span><span class="ident" id="5322474">pos</span><span class="op" id="5322477">.</span><span class="ident" id="5322478">Column</span>&nbsp;<span class="op" id="5322485">-</span>&nbsp;<span class="ident" id="5322487"><a href="/go/printer/nodes.go.html#5322418">f</a></span><span class="op" id="5322488">.</span><span class="ident" id="5322489">Column</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5322498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5322501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322504">return</span>&nbsp;<span class="ident" id="5322511"><a href="/go/printer/printer.go.html#5324835">infinity</a></span><br>
<span class="lineno"></span><span class="op" id="5322520">}</span><br>
<span class="lineno">1535</span><br>
<span class="lineno"></span><span class="keyword" id="5322523">func</span>&nbsp;<span class="op" id="5322528">(</span><span class="ident" id="5322529">p</span>&nbsp;<span class="op" id="5322531">*</span><span class="ident" id="5322532"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5322539">)</span>&nbsp;<span class="ident" id="5322541">funcDecl</span><span class="op" id="5322549">(</span><span class="ident" id="5322550">d</span>&nbsp;<span class="op" id="5322552">*</span><span class="ident" id="5322553"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5322556">.</span><span class="ident" id="5322557">FuncDecl</span><span class="op" id="5322565">)</span>&nbsp;<span class="op" id="5322567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322570"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322571">.</span><span class="ident" id="5322572">setComment</span><span class="op" id="5322582">(</span><span class="ident" id="5322583"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322584">.</span><span class="ident" id="5322585">Doc</span><span class="op" id="5322588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322591"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322592">.</span><span class="builtinfunc" id="5322593">print</span><span class="op" id="5322598">(</span><span class="ident" id="5322599"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322600">.</span><span class="ident" id="5322601">Pos</span><span class="op" id="5322604">(</span><span class="op" id="5322605">)</span><span class="op" id="5322606">,</span>&nbsp;<span class="ident" id="5322608"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5322613">.</span><span class="ident" id="5322614">FUNC</span><span class="op" id="5322618">,</span>&nbsp;<span class="ident" id="5322620"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5322625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322628">if</span>&nbsp;<span class="ident" id="5322631"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322632">.</span><span class="ident" id="5322633">Recv</span>&nbsp;<span class="op" id="5322638">!=</span>&nbsp;<span class="ident" id="5322641">nil</span>&nbsp;<span class="op" id="5322645">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322649"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322650">.</span><span class="ident" id="5322651">parameters</span><span class="op" id="5322661">(</span><span class="ident" id="5322662"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322663">.</span><span class="ident" id="5322664">Recv</span><span class="op" id="5322668">)</span>&nbsp;<span class="comment" id="5322670">//&nbsp;method:&nbsp;print&nbsp;receiver</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322698"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322699">.</span><span class="builtinfunc" id="5322700">print</span><span class="op" id="5322705">(</span><span class="ident" id="5322706"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5322711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5322714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322717"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322718">.</span><span class="ident" id="5322719">expr</span><span class="op" id="5322723">(</span><span class="ident" id="5322724"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322725">.</span><span class="ident" id="5322726">Name</span><span class="op" id="5322730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322733"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322734">.</span><span class="ident" id="5322735">signature</span><span class="op" id="5322744">(</span><span class="ident" id="5322745"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322746">.</span><span class="ident" id="5322747">Type</span><span class="op" id="5322751">.</span><span class="ident" id="5322752">Params</span><span class="op" id="5322758">,</span>&nbsp;<span class="ident" id="5322760"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322761">.</span><span class="ident" id="5322762">Type</span><span class="op" id="5322766">.</span><span class="ident" id="5322767">Results</span><span class="op" id="5322774">)</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322777"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322778">.</span><span class="ident" id="5322779">adjBlock</span><span class="op" id="5322787">(</span><span class="ident" id="5322788"><a href="/go/printer/nodes.go.html#5322529">p</a></span><span class="op" id="5322789">.</span><span class="ident" id="5322790">distanceFrom</span><span class="op" id="5322802">(</span><span class="ident" id="5322803"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322804">.</span><span class="ident" id="5322805">Pos</span><span class="op" id="5322808">(</span><span class="op" id="5322809">)</span><span class="op" id="5322810">)</span><span class="op" id="5322811">,</span>&nbsp;<span class="ident" id="5322813"><a href="/go/printer/printer.go.html#5324945">vtab</a></span><span class="op" id="5322817">,</span>&nbsp;<span class="ident" id="5322819"><a href="/go/printer/nodes.go.html#5322550">d</a></span><span class="op" id="5322820">.</span><span class="ident" id="5322821">Body</span><span class="op" id="5322825">)</span><br>
<span class="lineno"></span><span class="op" id="5322827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5322830">func</span>&nbsp;<span class="op" id="5322835">(</span><span class="ident" id="5322836">p</span>&nbsp;<span class="op" id="5322838">*</span><span class="ident" id="5322839"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5322846">)</span>&nbsp;<span class="ident" id="5322848">decl</span><span class="op" id="5322852">(</span><span class="ident" id="5322853">decl</span>&nbsp;<span class="ident" id="5322858"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5322861">.</span><span class="ident" id="5322862">Decl</span><span class="op" id="5322866">)</span>&nbsp;<span class="op" id="5322868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322871">switch</span>&nbsp;<span class="ident" id="5322878">d</span>&nbsp;<span class="op" id="5322880">:=</span>&nbsp;<span class="ident" id="5322883"><a href="/go/printer/nodes.go.html#5322853">decl</a></span><span class="op" id="5322887">.</span><span class="op" id="5322888">(</span><span class="keyword" id="5322889">type</span><span class="op" id="5322893">)</span>&nbsp;<span class="op" id="5322895">{</span><br>
<span class="lineno">1550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322898">case</span>&nbsp;<span class="op" id="5322903">*</span><span class="ident" id="5322904"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5322907">.</span><span class="ident" id="5322908">BadDecl</span><span class="op" id="5322915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322919"><a href="/go/printer/nodes.go.html#5322836">p</a></span><span class="op" id="5322920">.</span><span class="builtinfunc" id="5322921">print</span><span class="op" id="5322926">(</span><span class="ident" id="5322927"><a href="/go/printer/nodes.go.html#5322878">d</a></span><span class="op" id="5322928">.</span><span class="ident" id="5322929">Pos</span><span class="op" id="5322932">(</span><span class="op" id="5322933">)</span><span class="op" id="5322934">,</span>&nbsp;<span class="string" id="5322936">&#34;BadDecl&#34;</span><span class="op" id="5322945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322948">case</span>&nbsp;<span class="op" id="5322953">*</span><span class="ident" id="5322954"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5322957">.</span><span class="ident" id="5322958">GenDecl</span><span class="op" id="5322965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5322969"><a href="/go/printer/nodes.go.html#5322836">p</a></span><span class="op" id="5322970">.</span><span class="ident" id="5322971">genDecl</span><span class="op" id="5322978">(</span><span class="ident" id="5322979"><a href="/go/printer/nodes.go.html#5322878">d</a></span><span class="op" id="5322980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5322983">case</span>&nbsp;<span class="op" id="5322988">*</span><span class="ident" id="5322989"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5322992">.</span><span class="ident" id="5322993">FuncDecl</span><span class="op" id="5323001">:</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323005"><a href="/go/printer/nodes.go.html#5322836">p</a></span><span class="op" id="5323006">.</span><span class="ident" id="5323007">funcDecl</span><span class="op" id="5323015">(</span><span class="ident" id="5323016"><a href="/go/printer/nodes.go.html#5322878">d</a></span><span class="op" id="5323017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323020">default</span><span class="op" id="5323027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5323031">panic</span><span class="op" id="5323036">(</span><span class="string" id="5323037">&#34;unreachable&#34;</span><span class="op" id="5323050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5323053">}</span><br>
<span class="lineno"></span><span class="op" id="5323055">}</span><br>
<span class="lineno">1560</span><br>
<span class="lineno"></span><span class="comment" id="5323058">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5323138">//&nbsp;Files</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5323148">func</span>&nbsp;<span class="ident" id="5323153">declToken</span><span class="op" id="5323162">(</span><span class="ident" id="5323163">decl</span>&nbsp;<span class="ident" id="5323168"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5323171">.</span><span class="ident" id="5323172">Decl</span><span class="op" id="5323176">)</span>&nbsp;<span class="op" id="5323178">(</span><span class="ident" id="5323179">tok</span>&nbsp;<span class="ident" id="5323183"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5323188">.</span><span class="ident" id="5323189">Token</span><span class="op" id="5323194">)</span>&nbsp;<span class="op" id="5323196">{</span><br>
<span class="lineno">1565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323199"><a href="/go/printer/nodes.go.html#5323179">tok</a></span>&nbsp;<span class="op" id="5323203">=</span>&nbsp;<span class="ident" id="5323205"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5323210">.</span><span class="ident" id="5323211">ILLEGAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323220">switch</span>&nbsp;<span class="ident" id="5323227">d</span>&nbsp;<span class="op" id="5323229">:=</span>&nbsp;<span class="ident" id="5323232"><a href="/go/printer/nodes.go.html#5323163">decl</a></span><span class="op" id="5323236">.</span><span class="op" id="5323237">(</span><span class="keyword" id="5323238">type</span><span class="op" id="5323242">)</span>&nbsp;<span class="op" id="5323244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323247">case</span>&nbsp;<span class="op" id="5323252">*</span><span class="ident" id="5323253"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5323256">.</span><span class="ident" id="5323257">GenDecl</span><span class="op" id="5323264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323268"><a href="/go/printer/nodes.go.html#5323179">tok</a></span>&nbsp;<span class="op" id="5323272">=</span>&nbsp;<span class="ident" id="5323274"><a href="/go/printer/nodes.go.html#5323227">d</a></span><span class="op" id="5323275">.</span><span class="ident" id="5323276">Tok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323281">case</span>&nbsp;<span class="op" id="5323286">*</span><span class="ident" id="5323287"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5323290">.</span><span class="ident" id="5323291">FuncDecl</span><span class="op" id="5323299">:</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323303"><a href="/go/printer/nodes.go.html#5323179">tok</a></span>&nbsp;<span class="op" id="5323307">=</span>&nbsp;<span class="ident" id="5323309"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5323314">.</span><span class="ident" id="5323315">FUNC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5323321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323324">return</span><br>
<span class="lineno"></span><span class="op" id="5323331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1575</span><span class="keyword" id="5323334">func</span>&nbsp;<span class="op" id="5323339">(</span><span class="ident" id="5323340">p</span>&nbsp;<span class="op" id="5323342">*</span><span class="ident" id="5323343"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5323350">)</span>&nbsp;<span class="ident" id="5323352">declList</span><span class="op" id="5323360">(</span><span class="ident" id="5323361">list</span>&nbsp;<span class="op" id="5323366">[</span><span class="op" id="5323367">]</span><span class="ident" id="5323368"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5323371">.</span><span class="ident" id="5323372">Decl</span><span class="op" id="5323376">)</span>&nbsp;<span class="op" id="5323378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323381">tok</span>&nbsp;<span class="op" id="5323385">:=</span>&nbsp;<span class="ident" id="5323388"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5323393">.</span><span class="ident" id="5323394">ILLEGAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323403">for</span>&nbsp;<span class="ident" id="5323407">_</span><span class="op" id="5323408">,</span>&nbsp;<span class="ident" id="5323410">d</span>&nbsp;<span class="op" id="5323412">:=</span>&nbsp;<span class="keyword" id="5323415">range</span>&nbsp;<span class="ident" id="5323421"><a href="/go/printer/nodes.go.html#5323361">list</a></span>&nbsp;<span class="op" id="5323426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323430">prev</span>&nbsp;<span class="op" id="5323435">:=</span>&nbsp;<span class="ident" id="5323438"><a href="/go/printer/nodes.go.html#5323381">tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5323444"><a href="/go/printer/nodes.go.html#5323381">tok</a></span>&nbsp;<span class="op" id="5323448">=</span>&nbsp;<span class="ident" id="5323450"><a href="/go/printer/nodes.go.html#5323153">declToken</a></span><span class="op" id="5323459">(</span><span class="ident" id="5323460"><a href="/go/printer/nodes.go.html#5323410">d</a></span><span class="op" id="5323461">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323465">//&nbsp;If&nbsp;the&nbsp;declaration&nbsp;token&nbsp;changed&nbsp;(e.g.,&nbsp;from&nbsp;CONST&nbsp;to&nbsp;TYPE)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323530">//&nbsp;or&nbsp;the&nbsp;next&nbsp;declaration&nbsp;has&nbsp;documentation&nbsp;associated&nbsp;with&nbsp;it,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323597">//&nbsp;print&nbsp;an&nbsp;empty&nbsp;line&nbsp;between&nbsp;top-level&nbsp;declarations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323654">//&nbsp;(because&nbsp;p.linebreak&nbsp;is&nbsp;called&nbsp;with&nbsp;the&nbsp;position&nbsp;of&nbsp;d,&nbsp;which</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323720">//&nbsp;is&nbsp;past&nbsp;any&nbsp;documentation,&nbsp;the&nbsp;minimum&nbsp;requirement&nbsp;is&nbsp;satisfied</span><br>
<span class="lineno">1585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323789">//&nbsp;even&nbsp;w/o&nbsp;the&nbsp;extra&nbsp;getDoc(d)&nbsp;nil-check&nbsp;-&nbsp;leave&nbsp;it&nbsp;in&nbsp;case&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323856">//&nbsp;linebreak&nbsp;logic&nbsp;improves&nbsp;-&nbsp;there&#39;s&nbsp;already&nbsp;a&nbsp;TODO).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5323913">if</span>&nbsp;<span class="builtinfunc" id="5323916">len</span><span class="op" id="5323919">(</span><span class="ident" id="5323920"><a href="/go/printer/nodes.go.html#5323340">p</a></span><span class="op" id="5323921">.</span><span class="ident" id="5323922">output</span><span class="op" id="5323928">)</span>&nbsp;<span class="op" id="5323930">&gt;</span>&nbsp;<span class="num" id="5323932">0</span>&nbsp;<span class="op" id="5323934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5323939">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5324012">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324069">min</span>&nbsp;<span class="op" id="5324073">:=</span>&nbsp;<span class="num" id="5324076">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5324081">if</span>&nbsp;<span class="ident" id="5324084"><a href="/go/printer/nodes.go.html#5323430">prev</a></span>&nbsp;<span class="op" id="5324089">!=</span>&nbsp;<span class="ident" id="5324092"><a href="/go/printer/nodes.go.html#5323381">tok</a></span>&nbsp;<span class="op" id="5324096">||</span>&nbsp;<span class="ident" id="5324099"><a href="/go/printer/printer.go.html#5354059">getDoc</a></span><span class="op" id="5324105">(</span><span class="ident" id="5324106"><a href="/go/printer/nodes.go.html#5323410">d</a></span><span class="op" id="5324107">)</span>&nbsp;<span class="op" id="5324109">!=</span>&nbsp;<span class="ident" id="5324112">nil</span>&nbsp;<span class="op" id="5324116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324122"><a href="/go/printer/nodes.go.html#5324069">min</a></span>&nbsp;<span class="op" id="5324126">=</span>&nbsp;<span class="num" id="5324128">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5324133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324138"><a href="/go/printer/nodes.go.html#5323340">p</a></span><span class="op" id="5324139">.</span><span class="ident" id="5324140">linebreak</span><span class="op" id="5324149">(</span><span class="ident" id="5324150"><a href="/go/printer/nodes.go.html#5323340">p</a></span><span class="op" id="5324151">.</span><span class="ident" id="5324152">lineFor</span><span class="op" id="5324159">(</span><span class="ident" id="5324160"><a href="/go/printer/nodes.go.html#5323410">d</a></span><span class="op" id="5324161">.</span><span class="ident" id="5324162">Pos</span><span class="op" id="5324165">(</span><span class="op" id="5324166">)</span><span class="op" id="5324167">)</span><span class="op" id="5324168">,</span>&nbsp;<span class="ident" id="5324170"><a href="/go/printer/nodes.go.html#5324069">min</a></span><span class="op" id="5324173">,</span>&nbsp;<span class="ident" id="5324175"><a href="/go/printer/printer.go.html#5324891">ignore</a></span><span class="op" id="5324181">,</span>&nbsp;<span class="builtintype" id="5324183">false</span><span class="op" id="5324188">)</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5324192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324196"><a href="/go/printer/nodes.go.html#5323340">p</a></span><span class="op" id="5324197">.</span><span class="ident" id="5324198">decl</span><span class="op" id="5324202">(</span><span class="ident" id="5324203"><a href="/go/printer/nodes.go.html#5323410">d</a></span><span class="op" id="5324204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5324207">}</span><br>
<span class="lineno"></span><span class="op" id="5324209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1600</span><span class="keyword" id="5324212">func</span>&nbsp;<span class="op" id="5324217">(</span><span class="ident" id="5324218">p</span>&nbsp;<span class="op" id="5324220">*</span><span class="ident" id="5324221"><a href="/go/printer/printer.go.html#5325702">printer</a></span><span class="op" id="5324228">)</span>&nbsp;<span class="ident" id="5324230">file</span><span class="op" id="5324234">(</span><span class="ident" id="5324235">src</span>&nbsp;<span class="op" id="5324239">*</span><span class="ident" id="5324240"><a href="/go/printer/nodes.go.html#5282065">ast</a></span><span class="op" id="5324243">.</span><span class="ident" id="5324244">File</span><span class="op" id="5324248">)</span>&nbsp;<span class="op" id="5324250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324253"><a href="/go/printer/nodes.go.html#5324218">p</a></span><span class="op" id="5324254">.</span><span class="ident" id="5324255">setComment</span><span class="op" id="5324265">(</span><span class="ident" id="5324266"><a href="/go/printer/nodes.go.html#5324235">src</a></span><span class="op" id="5324269">.</span><span class="ident" id="5324270">Doc</span><span class="op" id="5324273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324276"><a href="/go/printer/nodes.go.html#5324218">p</a></span><span class="op" id="5324277">.</span><span class="builtinfunc" id="5324278">print</span><span class="op" id="5324283">(</span><span class="ident" id="5324284"><a href="/go/printer/nodes.go.html#5324235">src</a></span><span class="op" id="5324287">.</span><span class="ident" id="5324288">Pos</span><span class="op" id="5324291">(</span><span class="op" id="5324292">)</span><span class="op" id="5324293">,</span>&nbsp;<span class="ident" id="5324295"><a href="/go/printer/nodes.go.html#5282075">token</a></span><span class="op" id="5324300">.</span><span class="ident" id="5324301">PACKAGE</span><span class="op" id="5324308">,</span>&nbsp;<span class="ident" id="5324310"><a href="/go/printer/printer.go.html#5324917">blank</a></span><span class="op" id="5324315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324318"><a href="/go/printer/nodes.go.html#5324218">p</a></span><span class="op" id="5324319">.</span><span class="ident" id="5324320">expr</span><span class="op" id="5324324">(</span><span class="ident" id="5324325"><a href="/go/printer/nodes.go.html#5324235">src</a></span><span class="op" id="5324328">.</span><span class="ident" id="5324329">Name</span><span class="op" id="5324333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324336"><a href="/go/printer/nodes.go.html#5324218">p</a></span><span class="op" id="5324337">.</span><span class="ident" id="5324338">declList</span><span class="op" id="5324346">(</span><span class="ident" id="5324347"><a href="/go/printer/nodes.go.html#5324235">src</a></span><span class="op" id="5324350">.</span><span class="ident" id="5324351">Decls</span><span class="op" id="5324356">)</span><br>
<span class="lineno">1605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5324359"><a href="/go/printer/nodes.go.html#5324218">p</a></span><span class="op" id="5324360">.</span><span class="builtinfunc" id="5324361">print</span><span class="op" id="5324366">(</span><span class="ident" id="5324367"><a href="/go/printer/printer.go.html#5324974">newline</a></span><span class="op" id="5324374">)</span><br>
<span class="lineno"></span><span class="op" id="5324376">}</span>
</div>
</body>
</html>
