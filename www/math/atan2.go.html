<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1423244">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1423299">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1423353">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1423404">package</span>&nbsp;<span class="ident" id="1423412">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1423418">//&nbsp;Atan2&nbsp;returns&nbsp;the&nbsp;arc&nbsp;tangent&nbsp;of&nbsp;y/x,&nbsp;using</span><br>
<span class="lineno"></span><span class="comment" id="1423465">//&nbsp;the&nbsp;signs&nbsp;of&nbsp;the&nbsp;two&nbsp;to&nbsp;determine&nbsp;the&nbsp;quadrant</span><br>
<span class="lineno"></span><span class="comment" id="1423515">//&nbsp;of&nbsp;the&nbsp;return&nbsp;value.</span><br>
<span class="lineno">10</span><span class="comment" id="1423539">//</span><br>
<span class="lineno"></span><span class="comment" id="1423542">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="1423575">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1423598">//&nbsp;&nbsp;&nbsp;&nbspAtan2(NaN,&nbsp;x)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1423621">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&gt;=0)&nbsp;=&nbsp;+0</span><br>
<span class="lineno">15</span><span class="comment" id="1423645">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&gt;=0)&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span><span class="comment" id="1423669">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="1423695">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="1423721">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;0)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="1423746">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;0)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno">20</span><span class="comment" id="1423771">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;+Inf)&nbsp;=&nbsp;+Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1423800">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;+Inf)&nbsp;=&nbsp;-Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1423829">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;-Inf)&nbsp;=&nbsp;3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1423858">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;-Inf)&nbsp;=&nbsp;-3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="1423888">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;+Inf)&nbsp;=&nbsp;0</span><br>
<span class="lineno">25</span><span class="comment" id="1423910">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;-Inf)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="1423936">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;-Inf)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="1423962">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;x)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="1423988">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;x)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno"></span><span class="keyword" id="1424014">func</span>&nbsp;<span class="ident" id="1424019">Atan2</span><span class="op" id="1424024">(</span><span class="ident" id="1424025">y</span><span class="op" id="1424026">,</span>&nbsp;<span class="ident" id="1424028">x</span>&nbsp;<span class="builtintype" id="1424030">float64</span><span class="op" id="1424037">)</span>&nbsp;<span class="builtintype" id="1424039">float64</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="1424048">func</span>&nbsp;<span class="ident" id="1424053">atan2</span><span class="op" id="1424058">(</span><span class="ident" id="1424059">y</span><span class="op" id="1424060">,</span>&nbsp;<span class="ident" id="1424062">x</span>&nbsp;<span class="builtintype" id="1424064">float64</span><span class="op" id="1424071">)</span>&nbsp;<span class="builtintype" id="1424073">float64</span>&nbsp;<span class="op" id="1424081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1424084">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424102">switch</span>&nbsp;<span class="op" id="1424109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424112">case</span>&nbsp;<span class="ident" id="1424117"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1424122">(</span><span class="ident" id="1424123"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424124">)</span>&nbsp;<span class="op" id="1424126">||</span>&nbsp;<span class="ident" id="1424129"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1424134">(</span><span class="ident" id="1424135"><a href="/math/atan2.go.html#1424062">x</a></span><span class="op" id="1424136">)</span><span class="op" id="1424137">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424141">return</span>&nbsp;<span class="ident" id="1424148"><a href="/math/bits.go.html#1427274">NaN</a></span><span class="op" id="1424151">(</span><span class="op" id="1424152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424155">case</span>&nbsp;<span class="ident" id="1424160"><a href="/math/atan2.go.html#1424059">y</a></span>&nbsp;<span class="op" id="1424162">==</span>&nbsp;<span class="num" id="1424165">0</span><span class="op" id="1424166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424170">if</span>&nbsp;<span class="ident" id="1424173"><a href="/math/atan2.go.html#1424062">x</a></span>&nbsp;<span class="op" id="1424175">&gt;=</span>&nbsp;<span class="num" id="1424178">0</span>&nbsp;<span class="op" id="1424180">&amp;&amp;</span>&nbsp;<span class="op" id="1424183">!</span><span class="ident" id="1424184"><a href="/math/signbit.go.html#1534414">Signbit</a></span><span class="op" id="1424191">(</span><span class="ident" id="1424192"><a href="/math/atan2.go.html#1424062">x</a></span><span class="op" id="1424193">)</span>&nbsp;<span class="op" id="1424195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424200">return</span>&nbsp;<span class="ident" id="1424207"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424215">(</span><span class="num" id="1424216">0</span><span class="op" id="1424217">,</span>&nbsp;<span class="ident" id="1424219"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424224">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424228">return</span>&nbsp;<span class="ident" id="1424235"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424243">(</span><span class="ident" id="1424244"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424246">,</span>&nbsp;<span class="ident" id="1424248"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424252">case</span>&nbsp;<span class="ident" id="1424257"><a href="/math/atan2.go.html#1424062">x</a></span>&nbsp;<span class="op" id="1424259">==</span>&nbsp;<span class="num" id="1424262">0</span><span class="op" id="1424263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424267">return</span>&nbsp;<span class="ident" id="1424274"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424282">(</span><span class="ident" id="1424283"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424285">/</span><span class="num" id="1424286">2</span><span class="op" id="1424287">,</span>&nbsp;<span class="ident" id="1424289"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424293">case</span>&nbsp;<span class="ident" id="1424298"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1424303">(</span><span class="ident" id="1424304"><a href="/math/atan2.go.html#1424062">x</a></span><span class="op" id="1424305">,</span>&nbsp;<span class="num" id="1424307">0</span><span class="op" id="1424308">)</span><span class="op" id="1424309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424313">if</span>&nbsp;<span class="ident" id="1424316"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1424321">(</span><span class="ident" id="1424322"><a href="/math/atan2.go.html#1424062">x</a></span><span class="op" id="1424323">,</span>&nbsp;<span class="num" id="1424325">1</span><span class="op" id="1424326">)</span>&nbsp;<span class="op" id="1424328">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424333">switch</span>&nbsp;<span class="op" id="1424340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424345">case</span>&nbsp;<span class="ident" id="1424350"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1424355">(</span><span class="ident" id="1424356"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424357">,</span>&nbsp;<span class="num" id="1424359">0</span><span class="op" id="1424360">)</span><span class="op" id="1424361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424367">return</span>&nbsp;<span class="ident" id="1424374"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424382">(</span><span class="ident" id="1424383"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424385">/</span><span class="num" id="1424386">4</span><span class="op" id="1424387">,</span>&nbsp;<span class="ident" id="1424389"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424395">default</span><span class="op" id="1424402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424408">return</span>&nbsp;<span class="ident" id="1424415"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424423">(</span><span class="num" id="1424424">0</span><span class="op" id="1424425">,</span>&nbsp;<span class="ident" id="1424427"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424428">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424441">switch</span>&nbsp;<span class="op" id="1424448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424452">case</span>&nbsp;<span class="ident" id="1424457"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1424462">(</span><span class="ident" id="1424463"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424464">,</span>&nbsp;<span class="num" id="1424466">0</span><span class="op" id="1424467">)</span><span class="op" id="1424468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424473">return</span>&nbsp;<span class="ident" id="1424480"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424488">(</span><span class="num" id="1424489">3</span><span class="op" id="1424490">*</span><span class="ident" id="1424491"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424493">/</span><span class="num" id="1424494">4</span><span class="op" id="1424495">,</span>&nbsp;<span class="ident" id="1424497"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424498">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424502">default</span><span class="op" id="1424509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424514">return</span>&nbsp;<span class="ident" id="1424521"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424529">(</span><span class="ident" id="1424530"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424532">,</span>&nbsp;<span class="ident" id="1424534"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424542">case</span>&nbsp;<span class="ident" id="1424547"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1424552">(</span><span class="ident" id="1424553"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424554">,</span>&nbsp;<span class="num" id="1424556">0</span><span class="op" id="1424557">)</span><span class="op" id="1424558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424562">return</span>&nbsp;<span class="ident" id="1424569"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1424577">(</span><span class="ident" id="1424578"><a href="/math/const.go.html#1430552">Pi</a></span><span class="op" id="1424580">/</span><span class="num" id="1424581">2</span><span class="op" id="1424582">,</span>&nbsp;<span class="ident" id="1424584"><a href="/math/atan2.go.html#1424059">y</a></span><span class="op" id="1424585">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1424592">//&nbsp;Call&nbsp;atan&nbsp;and&nbsp;determine&nbsp;the&nbsp;quadrant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1424634">q</span>&nbsp;<span class="op" id="1424636">:=</span>&nbsp;<span class="ident" id="1424639"><a href="/math/atan.go.html#1423106">Atan</a></span><span class="op" id="1424643">(</span><span class="ident" id="1424644"><a href="/math/atan2.go.html#1424059">y</a></span>&nbsp;<span class="op" id="1424646">/</span>&nbsp;<span class="ident" id="1424648"><a href="/math/atan2.go.html#1424062">x</a></span><span class="op" id="1424649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424652">if</span>&nbsp;<span class="ident" id="1424655"><a href="/math/atan2.go.html#1424062">x</a></span>&nbsp;<span class="op" id="1424657">&lt;</span>&nbsp;<span class="num" id="1424659">0</span>&nbsp;<span class="op" id="1424661">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424665">if</span>&nbsp;<span class="ident" id="1424668"><a href="/math/atan2.go.html#1424634">q</a></span>&nbsp;<span class="op" id="1424670">&lt;=</span>&nbsp;<span class="num" id="1424673">0</span>&nbsp;<span class="op" id="1424675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424680">return</span>&nbsp;<span class="ident" id="1424687"><a href="/math/atan2.go.html#1424634">q</a></span>&nbsp;<span class="op" id="1424689">+</span>&nbsp;<span class="ident" id="1424691"><a href="/math/const.go.html#1430552">Pi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424700">return</span>&nbsp;<span class="ident" id="1424707"><a href="/math/atan2.go.html#1424634">q</a></span>&nbsp;<span class="op" id="1424709">-</span>&nbsp;<span class="ident" id="1424711"><a href="/math/const.go.html#1430552">Pi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1424715">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1424718">return</span>&nbsp;<span class="ident" id="1424725"><a href="/math/atan2.go.html#1424634">q</a></span><br>
<span class="lineno"></span><span class="op" id="1424727">}</span>
</div>
</body>
</html>
