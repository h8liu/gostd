<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6585816">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6585871">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6585925">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6585976">package</span>&nbsp;<span class="ident" id="6585984">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6585991">import</span>&nbsp;<span class="op" id="6585998">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586001">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586009">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586016">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6586027">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6586037">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6586040">var</span>&nbsp;<span class="ident" id="6586044">debug</span>&nbsp;<span class="op" id="6586050">=</span>&nbsp;<span class="ident" id="6586052"><a href="/gostd/text/template/parse/parse_test.go.html#6586001">flag</a></span><span class="op" id="6586056">.</span><span class="ident" id="6586057"><a href="/gostd/flag/flag.go.html#3948389">Bool</a></span><span class="op" id="6586061">(</span><span class="string" id="6586062">&#34;debug&#34;</span><span class="op" id="6586069">,</span>&nbsp;<span class="builtintype" id="6586071">false</span><span class="op" id="6586076">,</span>&nbsp;<span class="string" id="6586078">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6586122">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6586125">type</span>&nbsp;<span class="ident" id="6586130">numberTest</span>&nbsp;<span class="keyword" id="6586141">struct</span>&nbsp;<span class="op" id="6586148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586151">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586161">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586169">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586179">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586185">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586195">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586201">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586211">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6586217">isComplex</span>&nbsp;<span class="builtintype" id="6586227">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586233">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586240">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586248">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6586257">complex128</span><br>
<span class="lineno"></span><span class="op" id="6586268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6586271">var</span>&nbsp;<span class="ident" id="6586275">numberTests</span>&nbsp;<span class="op" id="6586287">=</span>&nbsp;<span class="op" id="6586289">[</span><span class="op" id="6586290">]</span><span class="ident" id="6586291"><a href="/gostd/text/template/parse/parse_test.go.html#6586130">numberTest</a></span><span class="op" id="6586301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6586304">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586315">{</span><span class="string" id="6586316">&#34;0&#34;</span><span class="op" id="6586319">,</span>&nbsp;<span class="builtintype" id="6586321">true</span><span class="op" id="6586325">,</span>&nbsp;<span class="builtintype" id="6586327">true</span><span class="op" id="6586331">,</span>&nbsp;<span class="builtintype" id="6586333">true</span><span class="op" id="6586337">,</span>&nbsp;<span class="builtintype" id="6586339">false</span><span class="op" id="6586344">,</span>&nbsp;<span class="num" id="6586346">0</span><span class="op" id="6586347">,</span>&nbsp;<span class="num" id="6586349">0</span><span class="op" id="6586350">,</span>&nbsp;<span class="num" id="6586352">0</span><span class="op" id="6586353">,</span>&nbsp;<span class="num" id="6586355">0</span><span class="op" id="6586356">}</span><span class="op" id="6586357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586360">{</span><span class="string" id="6586361">&#34;-0&#34;</span><span class="op" id="6586365">,</span>&nbsp;<span class="builtintype" id="6586367">true</span><span class="op" id="6586371">,</span>&nbsp;<span class="builtintype" id="6586373">true</span><span class="op" id="6586377">,</span>&nbsp;<span class="builtintype" id="6586379">true</span><span class="op" id="6586383">,</span>&nbsp;<span class="builtintype" id="6586385">false</span><span class="op" id="6586390">,</span>&nbsp;<span class="num" id="6586392">0</span><span class="op" id="6586393">,</span>&nbsp;<span class="num" id="6586395">0</span><span class="op" id="6586396">,</span>&nbsp;<span class="num" id="6586398">0</span><span class="op" id="6586399">,</span>&nbsp;<span class="num" id="6586401">0</span><span class="op" id="6586402">}</span><span class="op" id="6586403">,</span>&nbsp;<span class="comment" id="6586405">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586434">{</span><span class="string" id="6586435">&#34;73&#34;</span><span class="op" id="6586439">,</span>&nbsp;<span class="builtintype" id="6586441">true</span><span class="op" id="6586445">,</span>&nbsp;<span class="builtintype" id="6586447">true</span><span class="op" id="6586451">,</span>&nbsp;<span class="builtintype" id="6586453">true</span><span class="op" id="6586457">,</span>&nbsp;<span class="builtintype" id="6586459">false</span><span class="op" id="6586464">,</span>&nbsp;<span class="num" id="6586466">73</span><span class="op" id="6586468">,</span>&nbsp;<span class="num" id="6586470">73</span><span class="op" id="6586472">,</span>&nbsp;<span class="num" id="6586474">73</span><span class="op" id="6586476">,</span>&nbsp;<span class="num" id="6586478">0</span><span class="op" id="6586479">}</span><span class="op" id="6586480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586483">{</span><span class="string" id="6586484">&#34;073&#34;</span><span class="op" id="6586489">,</span>&nbsp;<span class="builtintype" id="6586491">true</span><span class="op" id="6586495">,</span>&nbsp;<span class="builtintype" id="6586497">true</span><span class="op" id="6586501">,</span>&nbsp;<span class="builtintype" id="6586503">true</span><span class="op" id="6586507">,</span>&nbsp;<span class="builtintype" id="6586509">false</span><span class="op" id="6586514">,</span>&nbsp;<span class="num" id="6586516">073</span><span class="op" id="6586519">,</span>&nbsp;<span class="num" id="6586521">073</span><span class="op" id="6586524">,</span>&nbsp;<span class="num" id="6586526">073</span><span class="op" id="6586529">,</span>&nbsp;<span class="num" id="6586531">0</span><span class="op" id="6586532">}</span><span class="op" id="6586533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586536">{</span><span class="string" id="6586537">&#34;0x73&#34;</span><span class="op" id="6586543">,</span>&nbsp;<span class="builtintype" id="6586545">true</span><span class="op" id="6586549">,</span>&nbsp;<span class="builtintype" id="6586551">true</span><span class="op" id="6586555">,</span>&nbsp;<span class="builtintype" id="6586557">true</span><span class="op" id="6586561">,</span>&nbsp;<span class="builtintype" id="6586563">false</span><span class="op" id="6586568">,</span>&nbsp;<span class="num" id="6586570">0x73</span><span class="op" id="6586574">,</span>&nbsp;<span class="num" id="6586576">0x73</span><span class="op" id="6586580">,</span>&nbsp;<span class="num" id="6586582">0x73</span><span class="op" id="6586586">,</span>&nbsp;<span class="num" id="6586588">0</span><span class="op" id="6586589">}</span><span class="op" id="6586590">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586593">{</span><span class="string" id="6586594">&#34;-73&#34;</span><span class="op" id="6586599">,</span>&nbsp;<span class="builtintype" id="6586601">true</span><span class="op" id="6586605">,</span>&nbsp;<span class="builtintype" id="6586607">false</span><span class="op" id="6586612">,</span>&nbsp;<span class="builtintype" id="6586614">true</span><span class="op" id="6586618">,</span>&nbsp;<span class="builtintype" id="6586620">false</span><span class="op" id="6586625">,</span>&nbsp;<span class="op" id="6586627">-</span><span class="num" id="6586628">73</span><span class="op" id="6586630">,</span>&nbsp;<span class="num" id="6586632">0</span><span class="op" id="6586633">,</span>&nbsp;<span class="op" id="6586635">-</span><span class="num" id="6586636">73</span><span class="op" id="6586638">,</span>&nbsp;<span class="num" id="6586640">0</span><span class="op" id="6586641">}</span><span class="op" id="6586642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586645">{</span><span class="string" id="6586646">&#34;+73&#34;</span><span class="op" id="6586651">,</span>&nbsp;<span class="builtintype" id="6586653">true</span><span class="op" id="6586657">,</span>&nbsp;<span class="builtintype" id="6586659">false</span><span class="op" id="6586664">,</span>&nbsp;<span class="builtintype" id="6586666">true</span><span class="op" id="6586670">,</span>&nbsp;<span class="builtintype" id="6586672">false</span><span class="op" id="6586677">,</span>&nbsp;<span class="num" id="6586679">73</span><span class="op" id="6586681">,</span>&nbsp;<span class="num" id="6586683">0</span><span class="op" id="6586684">,</span>&nbsp;<span class="num" id="6586686">73</span><span class="op" id="6586688">,</span>&nbsp;<span class="num" id="6586690">0</span><span class="op" id="6586691">}</span><span class="op" id="6586692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586695">{</span><span class="string" id="6586696">&#34;100&#34;</span><span class="op" id="6586701">,</span>&nbsp;<span class="builtintype" id="6586703">true</span><span class="op" id="6586707">,</span>&nbsp;<span class="builtintype" id="6586709">true</span><span class="op" id="6586713">,</span>&nbsp;<span class="builtintype" id="6586715">true</span><span class="op" id="6586719">,</span>&nbsp;<span class="builtintype" id="6586721">false</span><span class="op" id="6586726">,</span>&nbsp;<span class="num" id="6586728">100</span><span class="op" id="6586731">,</span>&nbsp;<span class="num" id="6586733">100</span><span class="op" id="6586736">,</span>&nbsp;<span class="num" id="6586738">100</span><span class="op" id="6586741">,</span>&nbsp;<span class="num" id="6586743">0</span><span class="op" id="6586744">}</span><span class="op" id="6586745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586748">{</span><span class="string" id="6586749">&#34;1e9&#34;</span><span class="op" id="6586754">,</span>&nbsp;<span class="builtintype" id="6586756">true</span><span class="op" id="6586760">,</span>&nbsp;<span class="builtintype" id="6586762">true</span><span class="op" id="6586766">,</span>&nbsp;<span class="builtintype" id="6586768">true</span><span class="op" id="6586772">,</span>&nbsp;<span class="builtintype" id="6586774">false</span><span class="op" id="6586779">,</span>&nbsp;<span class="num" id="6586781">1e9</span><span class="op" id="6586784">,</span>&nbsp;<span class="num" id="6586786">1e9</span><span class="op" id="6586789">,</span>&nbsp;<span class="num" id="6586791">1e9</span><span class="op" id="6586794">,</span>&nbsp;<span class="num" id="6586796">0</span><span class="op" id="6586797">}</span><span class="op" id="6586798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586801">{</span><span class="string" id="6586802">&#34;-1e9&#34;</span><span class="op" id="6586808">,</span>&nbsp;<span class="builtintype" id="6586810">true</span><span class="op" id="6586814">,</span>&nbsp;<span class="builtintype" id="6586816">false</span><span class="op" id="6586821">,</span>&nbsp;<span class="builtintype" id="6586823">true</span><span class="op" id="6586827">,</span>&nbsp;<span class="builtintype" id="6586829">false</span><span class="op" id="6586834">,</span>&nbsp;<span class="op" id="6586836">-</span><span class="num" id="6586837">1e9</span><span class="op" id="6586840">,</span>&nbsp;<span class="num" id="6586842">0</span><span class="op" id="6586843">,</span>&nbsp;<span class="op" id="6586845">-</span><span class="num" id="6586846">1e9</span><span class="op" id="6586849">,</span>&nbsp;<span class="num" id="6586851">0</span><span class="op" id="6586852">}</span><span class="op" id="6586853">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586856">{</span><span class="string" id="6586857">&#34;-1.2&#34;</span><span class="op" id="6586863">,</span>&nbsp;<span class="builtintype" id="6586865">false</span><span class="op" id="6586870">,</span>&nbsp;<span class="builtintype" id="6586872">false</span><span class="op" id="6586877">,</span>&nbsp;<span class="builtintype" id="6586879">true</span><span class="op" id="6586883">,</span>&nbsp;<span class="builtintype" id="6586885">false</span><span class="op" id="6586890">,</span>&nbsp;<span class="num" id="6586892">0</span><span class="op" id="6586893">,</span>&nbsp;<span class="num" id="6586895">0</span><span class="op" id="6586896">,</span>&nbsp;<span class="op" id="6586898">-</span><span class="num" id="6586899">1.2</span><span class="op" id="6586902">,</span>&nbsp;<span class="num" id="6586904">0</span><span class="op" id="6586905">}</span><span class="op" id="6586906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586909">{</span><span class="string" id="6586910">&#34;1e19&#34;</span><span class="op" id="6586916">,</span>&nbsp;<span class="builtintype" id="6586918">false</span><span class="op" id="6586923">,</span>&nbsp;<span class="builtintype" id="6586925">true</span><span class="op" id="6586929">,</span>&nbsp;<span class="builtintype" id="6586931">true</span><span class="op" id="6586935">,</span>&nbsp;<span class="builtintype" id="6586937">false</span><span class="op" id="6586942">,</span>&nbsp;<span class="num" id="6586944">0</span><span class="op" id="6586945">,</span>&nbsp;<span class="num" id="6586947">1e19</span><span class="op" id="6586951">,</span>&nbsp;<span class="num" id="6586953">1e19</span><span class="op" id="6586957">,</span>&nbsp;<span class="num" id="6586959">0</span><span class="op" id="6586960">}</span><span class="op" id="6586961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6586964">{</span><span class="string" id="6586965">&#34;-1e19&#34;</span><span class="op" id="6586972">,</span>&nbsp;<span class="builtintype" id="6586974">false</span><span class="op" id="6586979">,</span>&nbsp;<span class="builtintype" id="6586981">false</span><span class="op" id="6586986">,</span>&nbsp;<span class="builtintype" id="6586988">true</span><span class="op" id="6586992">,</span>&nbsp;<span class="builtintype" id="6586994">false</span><span class="op" id="6586999">,</span>&nbsp;<span class="num" id="6587001">0</span><span class="op" id="6587002">,</span>&nbsp;<span class="num" id="6587004">0</span><span class="op" id="6587005">,</span>&nbsp;<span class="op" id="6587007">-</span><span class="num" id="6587008">1e19</span><span class="op" id="6587012">,</span>&nbsp;<span class="num" id="6587014">0</span><span class="op" id="6587015">}</span><span class="op" id="6587016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587019">{</span><span class="string" id="6587020">&#34;4i&#34;</span><span class="op" id="6587024">,</span>&nbsp;<span class="builtintype" id="6587026">false</span><span class="op" id="6587031">,</span>&nbsp;<span class="builtintype" id="6587033">false</span><span class="op" id="6587038">,</span>&nbsp;<span class="builtintype" id="6587040">false</span><span class="op" id="6587045">,</span>&nbsp;<span class="builtintype" id="6587047">true</span><span class="op" id="6587051">,</span>&nbsp;<span class="num" id="6587053">0</span><span class="op" id="6587054">,</span>&nbsp;<span class="num" id="6587056">0</span><span class="op" id="6587057">,</span>&nbsp;<span class="num" id="6587059">0</span><span class="op" id="6587060">,</span>&nbsp;<span class="num" id="6587062">4i</span><span class="op" id="6587064">}</span><span class="op" id="6587065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587068">{</span><span class="string" id="6587069">&#34;-1.2+4.2i&#34;</span><span class="op" id="6587080">,</span>&nbsp;<span class="builtintype" id="6587082">false</span><span class="op" id="6587087">,</span>&nbsp;<span class="builtintype" id="6587089">false</span><span class="op" id="6587094">,</span>&nbsp;<span class="builtintype" id="6587096">false</span><span class="op" id="6587101">,</span>&nbsp;<span class="builtintype" id="6587103">true</span><span class="op" id="6587107">,</span>&nbsp;<span class="num" id="6587109">0</span><span class="op" id="6587110">,</span>&nbsp;<span class="num" id="6587112">0</span><span class="op" id="6587113">,</span>&nbsp;<span class="num" id="6587115">0</span><span class="op" id="6587116">,</span>&nbsp;<span class="op" id="6587118">-</span><span class="num" id="6587119">1.2</span>&nbsp;<span class="op" id="6587123">+</span>&nbsp;<span class="num" id="6587125">4.2i</span><span class="op" id="6587129">}</span><span class="op" id="6587130">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587133">{</span><span class="string" id="6587134">&#34;073i&#34;</span><span class="op" id="6587140">,</span>&nbsp;<span class="builtintype" id="6587142">false</span><span class="op" id="6587147">,</span>&nbsp;<span class="builtintype" id="6587149">false</span><span class="op" id="6587154">,</span>&nbsp;<span class="builtintype" id="6587156">false</span><span class="op" id="6587161">,</span>&nbsp;<span class="builtintype" id="6587163">true</span><span class="op" id="6587167">,</span>&nbsp;<span class="num" id="6587169">0</span><span class="op" id="6587170">,</span>&nbsp;<span class="num" id="6587172">0</span><span class="op" id="6587173">,</span>&nbsp;<span class="num" id="6587175">0</span><span class="op" id="6587176">,</span>&nbsp;<span class="num" id="6587178">73i</span><span class="op" id="6587181">}</span><span class="op" id="6587182">,</span>&nbsp;<span class="comment" id="6587184">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587199">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587258">{</span><span class="string" id="6587259">&#34;0i&#34;</span><span class="op" id="6587263">,</span>&nbsp;<span class="builtintype" id="6587265">true</span><span class="op" id="6587269">,</span>&nbsp;<span class="builtintype" id="6587271">true</span><span class="op" id="6587275">,</span>&nbsp;<span class="builtintype" id="6587277">true</span><span class="op" id="6587281">,</span>&nbsp;<span class="builtintype" id="6587283">true</span><span class="op" id="6587287">,</span>&nbsp;<span class="num" id="6587289">0</span><span class="op" id="6587290">,</span>&nbsp;<span class="num" id="6587292">0</span><span class="op" id="6587293">,</span>&nbsp;<span class="num" id="6587295">0</span><span class="op" id="6587296">,</span>&nbsp;<span class="num" id="6587298">0</span><span class="op" id="6587299">}</span><span class="op" id="6587300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587303">{</span><span class="string" id="6587304">&#34;-1.2+0i&#34;</span><span class="op" id="6587313">,</span>&nbsp;<span class="builtintype" id="6587315">false</span><span class="op" id="6587320">,</span>&nbsp;<span class="builtintype" id="6587322">false</span><span class="op" id="6587327">,</span>&nbsp;<span class="builtintype" id="6587329">true</span><span class="op" id="6587333">,</span>&nbsp;<span class="builtintype" id="6587335">true</span><span class="op" id="6587339">,</span>&nbsp;<span class="num" id="6587341">0</span><span class="op" id="6587342">,</span>&nbsp;<span class="num" id="6587344">0</span><span class="op" id="6587345">,</span>&nbsp;<span class="op" id="6587347">-</span><span class="num" id="6587348">1.2</span><span class="op" id="6587351">,</span>&nbsp;<span class="op" id="6587353">-</span><span class="num" id="6587354">1.2</span><span class="op" id="6587357">}</span><span class="op" id="6587358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587361">{</span><span class="string" id="6587362">&#34;-12+0i&#34;</span><span class="op" id="6587370">,</span>&nbsp;<span class="builtintype" id="6587372">true</span><span class="op" id="6587376">,</span>&nbsp;<span class="builtintype" id="6587378">false</span><span class="op" id="6587383">,</span>&nbsp;<span class="builtintype" id="6587385">true</span><span class="op" id="6587389">,</span>&nbsp;<span class="builtintype" id="6587391">true</span><span class="op" id="6587395">,</span>&nbsp;<span class="op" id="6587397">-</span><span class="num" id="6587398">12</span><span class="op" id="6587400">,</span>&nbsp;<span class="num" id="6587402">0</span><span class="op" id="6587403">,</span>&nbsp;<span class="op" id="6587405">-</span><span class="num" id="6587406">12</span><span class="op" id="6587408">,</span>&nbsp;<span class="op" id="6587410">-</span><span class="num" id="6587411">12</span><span class="op" id="6587413">}</span><span class="op" id="6587414">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587417">{</span><span class="string" id="6587418">&#34;13+0i&#34;</span><span class="op" id="6587425">,</span>&nbsp;<span class="builtintype" id="6587427">true</span><span class="op" id="6587431">,</span>&nbsp;<span class="builtintype" id="6587433">true</span><span class="op" id="6587437">,</span>&nbsp;<span class="builtintype" id="6587439">true</span><span class="op" id="6587443">,</span>&nbsp;<span class="builtintype" id="6587445">true</span><span class="op" id="6587449">,</span>&nbsp;<span class="num" id="6587451">13</span><span class="op" id="6587453">,</span>&nbsp;<span class="num" id="6587455">13</span><span class="op" id="6587457">,</span>&nbsp;<span class="num" id="6587459">13</span><span class="op" id="6587461">,</span>&nbsp;<span class="num" id="6587463">13</span><span class="op" id="6587465">}</span><span class="op" id="6587466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587469">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587485">{</span><span class="string" id="6587486">&#34;0123&#34;</span><span class="op" id="6587492">,</span>&nbsp;<span class="builtintype" id="6587494">true</span><span class="op" id="6587498">,</span>&nbsp;<span class="builtintype" id="6587500">true</span><span class="op" id="6587504">,</span>&nbsp;<span class="builtintype" id="6587506">true</span><span class="op" id="6587510">,</span>&nbsp;<span class="builtintype" id="6587512">false</span><span class="op" id="6587517">,</span>&nbsp;<span class="num" id="6587519">0123</span><span class="op" id="6587523">,</span>&nbsp;<span class="num" id="6587525">0123</span><span class="op" id="6587529">,</span>&nbsp;<span class="num" id="6587531">0123</span><span class="op" id="6587535">,</span>&nbsp;<span class="num" id="6587537">0</span><span class="op" id="6587538">}</span><span class="op" id="6587539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587542">{</span><span class="string" id="6587543">&#34;-0x0&#34;</span><span class="op" id="6587549">,</span>&nbsp;<span class="builtintype" id="6587551">true</span><span class="op" id="6587555">,</span>&nbsp;<span class="builtintype" id="6587557">true</span><span class="op" id="6587561">,</span>&nbsp;<span class="builtintype" id="6587563">true</span><span class="op" id="6587567">,</span>&nbsp;<span class="builtintype" id="6587569">false</span><span class="op" id="6587574">,</span>&nbsp;<span class="num" id="6587576">0</span><span class="op" id="6587577">,</span>&nbsp;<span class="num" id="6587579">0</span><span class="op" id="6587580">,</span>&nbsp;<span class="num" id="6587582">0</span><span class="op" id="6587583">,</span>&nbsp;<span class="num" id="6587585">0</span><span class="op" id="6587586">}</span><span class="op" id="6587587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587590">{</span><span class="string" id="6587591">&#34;0xdeadbeef&#34;</span><span class="op" id="6587603">,</span>&nbsp;<span class="builtintype" id="6587605">true</span><span class="op" id="6587609">,</span>&nbsp;<span class="builtintype" id="6587611">true</span><span class="op" id="6587615">,</span>&nbsp;<span class="builtintype" id="6587617">true</span><span class="op" id="6587621">,</span>&nbsp;<span class="builtintype" id="6587623">false</span><span class="op" id="6587628">,</span>&nbsp;<span class="num" id="6587630">0xdeadbeef</span><span class="op" id="6587640">,</span>&nbsp;<span class="num" id="6587642">0xdeadbeef</span><span class="op" id="6587652">,</span>&nbsp;<span class="num" id="6587654">0xdeadbeef</span><span class="op" id="6587664">,</span>&nbsp;<span class="num" id="6587666">0</span><span class="op" id="6587667">}</span><span class="op" id="6587668">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6587671">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587695">{</span><span class="string" id="6587696">`&#39;a&#39;`</span><span class="op" id="6587701">,</span>&nbsp;<span class="builtintype" id="6587703">true</span><span class="op" id="6587707">,</span>&nbsp;<span class="builtintype" id="6587709">true</span><span class="op" id="6587713">,</span>&nbsp;<span class="builtintype" id="6587715">true</span><span class="op" id="6587719">,</span>&nbsp;<span class="builtintype" id="6587721">false</span><span class="op" id="6587726">,</span>&nbsp;<span class="string" id="6587728">&#39;a&#39;</span><span class="op" id="6587731">,</span>&nbsp;<span class="string" id="6587733">&#39;a&#39;</span><span class="op" id="6587736">,</span>&nbsp;<span class="string" id="6587738">&#39;a&#39;</span><span class="op" id="6587741">,</span>&nbsp;<span class="num" id="6587743">0</span><span class="op" id="6587744">}</span><span class="op" id="6587745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587748">{</span><span class="string" id="6587749">`&#39;\n&#39;`</span><span class="op" id="6587755">,</span>&nbsp;<span class="builtintype" id="6587757">true</span><span class="op" id="6587761">,</span>&nbsp;<span class="builtintype" id="6587763">true</span><span class="op" id="6587767">,</span>&nbsp;<span class="builtintype" id="6587769">true</span><span class="op" id="6587773">,</span>&nbsp;<span class="builtintype" id="6587775">false</span><span class="op" id="6587780">,</span>&nbsp;<span class="string" id="6587782">&#39;\n&#39;</span><span class="op" id="6587786">,</span>&nbsp;<span class="string" id="6587788">&#39;\n&#39;</span><span class="op" id="6587792">,</span>&nbsp;<span class="string" id="6587794">&#39;\n&#39;</span><span class="op" id="6587798">,</span>&nbsp;<span class="num" id="6587800">0</span><span class="op" id="6587801">}</span><span class="op" id="6587802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587805">{</span><span class="string" id="6587806">`&#39;\\&#39;`</span><span class="op" id="6587812">,</span>&nbsp;<span class="builtintype" id="6587814">true</span><span class="op" id="6587818">,</span>&nbsp;<span class="builtintype" id="6587820">true</span><span class="op" id="6587824">,</span>&nbsp;<span class="builtintype" id="6587826">true</span><span class="op" id="6587830">,</span>&nbsp;<span class="builtintype" id="6587832">false</span><span class="op" id="6587837">,</span>&nbsp;<span class="string" id="6587839">&#39;\\&#39;</span><span class="op" id="6587843">,</span>&nbsp;<span class="string" id="6587845">&#39;\\&#39;</span><span class="op" id="6587849">,</span>&nbsp;<span class="string" id="6587851">&#39;\\&#39;</span><span class="op" id="6587855">,</span>&nbsp;<span class="num" id="6587857">0</span><span class="op" id="6587858">}</span><span class="op" id="6587859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587862">{</span><span class="string" id="6587863">`&#39;\&#39;&#39;`</span><span class="op" id="6587869">,</span>&nbsp;<span class="builtintype" id="6587871">true</span><span class="op" id="6587875">,</span>&nbsp;<span class="builtintype" id="6587877">true</span><span class="op" id="6587881">,</span>&nbsp;<span class="builtintype" id="6587883">true</span><span class="op" id="6587887">,</span>&nbsp;<span class="builtintype" id="6587889">false</span><span class="op" id="6587894">,</span>&nbsp;<span class="string" id="6587896">&#39;\&#39;&#39;</span><span class="op" id="6587900">,</span>&nbsp;<span class="string" id="6587902">&#39;\&#39;&#39;</span><span class="op" id="6587906">,</span>&nbsp;<span class="string" id="6587908">&#39;\&#39;&#39;</span><span class="op" id="6587912">,</span>&nbsp;<span class="num" id="6587914">0</span><span class="op" id="6587915">}</span><span class="op" id="6587916">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587919">{</span><span class="string" id="6587920">`&#39;\xFF&#39;`</span><span class="op" id="6587928">,</span>&nbsp;<span class="builtintype" id="6587930">true</span><span class="op" id="6587934">,</span>&nbsp;<span class="builtintype" id="6587936">true</span><span class="op" id="6587940">,</span>&nbsp;<span class="builtintype" id="6587942">true</span><span class="op" id="6587946">,</span>&nbsp;<span class="builtintype" id="6587948">false</span><span class="op" id="6587953">,</span>&nbsp;<span class="num" id="6587955">0xFF</span><span class="op" id="6587959">,</span>&nbsp;<span class="num" id="6587961">0xFF</span><span class="op" id="6587965">,</span>&nbsp;<span class="num" id="6587967">0xFF</span><span class="op" id="6587971">,</span>&nbsp;<span class="num" id="6587973">0</span><span class="op" id="6587974">}</span><span class="op" id="6587975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6587978">{</span><span class="string" id="6587979">`&#39;パ&#39;`</span><span class="op" id="6587986">,</span>&nbsp;<span class="builtintype" id="6587988">true</span><span class="op" id="6587992">,</span>&nbsp;<span class="builtintype" id="6587994">true</span><span class="op" id="6587998">,</span>&nbsp;<span class="builtintype" id="6588000">true</span><span class="op" id="6588004">,</span>&nbsp;<span class="builtintype" id="6588006">false</span><span class="op" id="6588011">,</span>&nbsp;<span class="num" id="6588013">0x30d1</span><span class="op" id="6588019">,</span>&nbsp;<span class="num" id="6588021">0x30d1</span><span class="op" id="6588027">,</span>&nbsp;<span class="num" id="6588029">0x30d1</span><span class="op" id="6588035">,</span>&nbsp;<span class="num" id="6588037">0</span><span class="op" id="6588038">}</span><span class="op" id="6588039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588042">{</span><span class="string" id="6588043">`&#39;\u30d1&#39;`</span><span class="op" id="6588053">,</span>&nbsp;<span class="builtintype" id="6588055">true</span><span class="op" id="6588059">,</span>&nbsp;<span class="builtintype" id="6588061">true</span><span class="op" id="6588065">,</span>&nbsp;<span class="builtintype" id="6588067">true</span><span class="op" id="6588071">,</span>&nbsp;<span class="builtintype" id="6588073">false</span><span class="op" id="6588078">,</span>&nbsp;<span class="num" id="6588080">0x30d1</span><span class="op" id="6588086">,</span>&nbsp;<span class="num" id="6588088">0x30d1</span><span class="op" id="6588094">,</span>&nbsp;<span class="num" id="6588096">0x30d1</span><span class="op" id="6588102">,</span>&nbsp;<span class="num" id="6588104">0</span><span class="op" id="6588105">}</span><span class="op" id="6588106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588109">{</span><span class="string" id="6588110">`&#39;\U000030d1&#39;`</span><span class="op" id="6588124">,</span>&nbsp;<span class="builtintype" id="6588126">true</span><span class="op" id="6588130">,</span>&nbsp;<span class="builtintype" id="6588132">true</span><span class="op" id="6588136">,</span>&nbsp;<span class="builtintype" id="6588138">true</span><span class="op" id="6588142">,</span>&nbsp;<span class="builtintype" id="6588144">false</span><span class="op" id="6588149">,</span>&nbsp;<span class="num" id="6588151">0x30d1</span><span class="op" id="6588157">,</span>&nbsp;<span class="num" id="6588159">0x30d1</span><span class="op" id="6588165">,</span>&nbsp;<span class="num" id="6588167">0x30d1</span><span class="op" id="6588173">,</span>&nbsp;<span class="num" id="6588175">0</span><span class="op" id="6588176">}</span><span class="op" id="6588177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6588180">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588203">{</span><span class="ident" id="6588204"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588208">:</span>&nbsp;<span class="string" id="6588210">&#34;+-2&#34;</span><span class="op" id="6588215">}</span><span class="op" id="6588216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588219">{</span><span class="ident" id="6588220"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588224">:</span>&nbsp;<span class="string" id="6588226">&#34;0x123.&#34;</span><span class="op" id="6588234">}</span><span class="op" id="6588235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588238">{</span><span class="ident" id="6588239"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588243">:</span>&nbsp;<span class="string" id="6588245">&#34;1e.&#34;</span><span class="op" id="6588250">}</span><span class="op" id="6588251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588254">{</span><span class="ident" id="6588255"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588259">:</span>&nbsp;<span class="string" id="6588261">&#34;0xi.&#34;</span><span class="op" id="6588267">}</span><span class="op" id="6588268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588271">{</span><span class="ident" id="6588272"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588276">:</span>&nbsp;<span class="string" id="6588278">&#34;1+2.&#34;</span><span class="op" id="6588284">}</span><span class="op" id="6588285">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588288">{</span><span class="ident" id="6588289"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588293">:</span>&nbsp;<span class="string" id="6588295">&#34;&#39;x&#34;</span><span class="op" id="6588299">}</span><span class="op" id="6588300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588303">{</span><span class="ident" id="6588304"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588308">:</span>&nbsp;<span class="string" id="6588310">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6588316">}</span><span class="op" id="6588317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6588320">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588386">{</span><span class="string" id="6588387">&#34;0xef&#34;</span><span class="op" id="6588393">,</span>&nbsp;<span class="builtintype" id="6588395">true</span><span class="op" id="6588399">,</span>&nbsp;<span class="builtintype" id="6588401">true</span><span class="op" id="6588405">,</span>&nbsp;<span class="builtintype" id="6588407">true</span><span class="op" id="6588411">,</span>&nbsp;<span class="builtintype" id="6588413">false</span><span class="op" id="6588418">,</span>&nbsp;<span class="num" id="6588420">0xef</span><span class="op" id="6588424">,</span>&nbsp;<span class="num" id="6588426">0xef</span><span class="op" id="6588430">,</span>&nbsp;<span class="num" id="6588432">0xef</span><span class="op" id="6588436">,</span>&nbsp;<span class="num" id="6588438">0</span><span class="op" id="6588439">}</span><span class="op" id="6588440">,</span><br>
<span class="lineno"></span><span class="op" id="6588442">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6588445">func</span>&nbsp;<span class="ident" id="6588450">TestNumberParse</span><span class="op" id="6588465">(</span><span class="ident" id="6588466">t</span>&nbsp;<span class="op" id="6588468">*</span><span class="ident" id="6588469"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6588476">.</span><span class="ident" id="6588477"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6588478">)</span>&nbsp;<span class="op" id="6588480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588483">for</span>&nbsp;<span class="ident" id="6588487">_</span><span class="op" id="6588488">,</span>&nbsp;<span class="ident" id="6588490">test</span>&nbsp;<span class="op" id="6588495">:=</span>&nbsp;<span class="keyword" id="6588498">range</span>&nbsp;<span class="ident" id="6588504"><a href="/gostd/text/template/parse/parse_test.go.html#6586275">numberTests</a></span>&nbsp;<span class="op" id="6588516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6588520">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6588600">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588646">var</span>&nbsp;<span class="ident" id="6588650">c</span>&nbsp;<span class="builtintype" id="6588652">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588665">typ</span>&nbsp;<span class="op" id="6588669">:=</span>&nbsp;<span class="ident" id="6588672"><a href="/gostd/text/template/parse/lex.go.html#3147675">itemNumber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588685">var</span>&nbsp;<span class="ident" id="6588689">tree</span>&nbsp;<span class="op" id="6588694">*</span><span class="ident" id="6588695"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588702">if</span>&nbsp;<span class="ident" id="6588705"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588709">.</span><span class="ident" id="6588710"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588714">[</span><span class="num" id="6588715">0</span><span class="op" id="6588716">]</span>&nbsp;<span class="op" id="6588718">==</span>&nbsp;<span class="string" id="6588721">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6588726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588731"><a href="/gostd/text/template/parse/parse_test.go.html#6588665">typ</a></span>&nbsp;<span class="op" id="6588735">=</span>&nbsp;<span class="ident" id="6588737"><a href="/gostd/text/template/parse/lex.go.html#3147234">itemCharConstant</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588756">}</span>&nbsp;<span class="keyword" id="6588758">else</span>&nbsp;<span class="op" id="6588763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588768">_</span><span class="op" id="6588769">,</span>&nbsp;<span class="ident" id="6588771">err</span>&nbsp;<span class="op" id="6588775">:=</span>&nbsp;<span class="ident" id="6588778"><a href="/gostd/text/template/parse/parse_test.go.html#6586009">fmt</a></span><span class="op" id="6588781">.</span><span class="ident" id="6588782"><a href="/gostd/fmt/scan.go.html#2172550">Sscan</a></span><span class="op" id="6588787">(</span><span class="ident" id="6588788"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588792">.</span><span class="ident" id="6588793"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588797">,</span>&nbsp;<span class="op" id="6588799">&amp;</span><span class="ident" id="6588800"><a href="/gostd/text/template/parse/parse_test.go.html#6588650">c</a></span><span class="op" id="6588801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588806">if</span>&nbsp;<span class="ident" id="6588809"><a href="/gostd/text/template/parse/parse_test.go.html#6588771">err</a></span>&nbsp;<span class="op" id="6588813">==</span>&nbsp;<span class="builtintype" id="6588816">nil</span>&nbsp;<span class="op" id="6588820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588826"><a href="/gostd/text/template/parse/parse_test.go.html#6588665">typ</a></span>&nbsp;<span class="op" id="6588830">=</span>&nbsp;<span class="ident" id="6588832"><a href="/gostd/text/template/parse/lex.go.html#3147290">itemComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588847">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6588851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588855">n</span><span class="op" id="6588856">,</span>&nbsp;<span class="ident" id="6588858">err</span>&nbsp;<span class="op" id="6588862">:=</span>&nbsp;<span class="ident" id="6588865"><a href="/gostd/text/template/parse/parse_test.go.html#6588689">tree</a></span><span class="op" id="6588869">.</span><span class="ident" id="6588870"><a href="/gostd/text/template/parse/node.go.html#3172828">newNumber</a></span><span class="op" id="6588879">(</span><span class="num" id="6588880">0</span><span class="op" id="6588881">,</span>&nbsp;<span class="ident" id="6588883"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588887">.</span><span class="ident" id="6588888"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6588892">,</span>&nbsp;<span class="ident" id="6588894"><a href="/gostd/text/template/parse/parse_test.go.html#6588665">typ</a></span><span class="op" id="6588897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588901">ok</span>&nbsp;<span class="op" id="6588904">:=</span>&nbsp;<span class="ident" id="6588907"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588911">.</span><span class="ident" id="6588912"><a href="/gostd/text/template/parse/parse_test.go.html#6586169">isInt</a></span>&nbsp;<span class="op" id="6588918">||</span>&nbsp;<span class="ident" id="6588921"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588925">.</span><span class="ident" id="6588926"><a href="/gostd/text/template/parse/parse_test.go.html#6586185">isUint</a></span>&nbsp;<span class="op" id="6588933">||</span>&nbsp;<span class="ident" id="6588936"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588940">.</span><span class="ident" id="6588941"><a href="/gostd/text/template/parse/parse_test.go.html#6586201">isFloat</a></span>&nbsp;<span class="op" id="6588949">||</span>&nbsp;<span class="ident" id="6588952"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6588956">.</span><span class="ident" id="6588957"><a href="/gostd/text/template/parse/parse_test.go.html#6586217">isComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6588969">if</span>&nbsp;<span class="ident" id="6588972"><a href="/gostd/text/template/parse/parse_test.go.html#6588901">ok</a></span>&nbsp;<span class="op" id="6588975">&amp;&amp;</span>&nbsp;<span class="ident" id="6588978"><a href="/gostd/text/template/parse/parse_test.go.html#6588858">err</a></span>&nbsp;<span class="op" id="6588982">!=</span>&nbsp;<span class="builtintype" id="6588985">nil</span>&nbsp;<span class="op" id="6588989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6588994"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6588995">.</span><span class="ident" id="6588996"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589002">(</span><span class="string" id="6589003">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6589032">,</span>&nbsp;<span class="ident" id="6589034"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589038">.</span><span class="ident" id="6589039"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589043">,</span>&nbsp;<span class="ident" id="6589045"><a href="/gostd/text/template/parse/parse_test.go.html#6588858">err</a></span><span class="op" id="6589048">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589053">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589068">if</span>&nbsp;<span class="op" id="6589071">!</span><span class="ident" id="6589072"><a href="/gostd/text/template/parse/parse_test.go.html#6588901">ok</a></span>&nbsp;<span class="op" id="6589075">&amp;&amp;</span>&nbsp;<span class="ident" id="6589078"><a href="/gostd/text/template/parse/parse_test.go.html#6588858">err</a></span>&nbsp;<span class="op" id="6589082">==</span>&nbsp;<span class="builtintype" id="6589085">nil</span>&nbsp;<span class="op" id="6589089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589094"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589095">.</span><span class="ident" id="6589096"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589102">(</span><span class="string" id="6589103">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6589126">,</span>&nbsp;<span class="ident" id="6589128"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589132">.</span><span class="ident" id="6589133"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589142">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589157">if</span>&nbsp;<span class="op" id="6589160">!</span><span class="ident" id="6589161"><a href="/gostd/text/template/parse/parse_test.go.html#6588901">ok</a></span>&nbsp;<span class="op" id="6589164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589169">if</span>&nbsp;<span class="op" id="6589172">*</span><span class="ident" id="6589173"><a href="/gostd/text/template/parse/parse_test.go.html#6586044">debug</a></span>&nbsp;<span class="op" id="6589179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589185"><a href="/gostd/text/template/parse/parse_test.go.html#6586009">fmt</a></span><span class="op" id="6589188">.</span><span class="ident" id="6589189"><a href="/gostd/fmt/print.go.html#2143442">Printf</a></span><span class="op" id="6589195">(</span><span class="string" id="6589196">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6589208">,</span>&nbsp;<span class="ident" id="6589210"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589214">.</span><span class="ident" id="6589215"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589219">,</span>&nbsp;<span class="ident" id="6589221"><a href="/gostd/text/template/parse/parse_test.go.html#6588858">err</a></span><span class="op" id="6589224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589229">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589234">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589249">if</span>&nbsp;<span class="ident" id="6589252"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589253">.</span><span class="ident" id="6589254"><a href="/gostd/text/template/parse/node.go.html#3172485">IsComplex</a></span>&nbsp;<span class="op" id="6589264">!=</span>&nbsp;<span class="ident" id="6589267"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589271">.</span><span class="ident" id="6589272"><a href="/gostd/text/template/parse/parse_test.go.html#6586217">isComplex</a></span>&nbsp;<span class="op" id="6589282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589287"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589288">.</span><span class="ident" id="6589289"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589295">(</span><span class="string" id="6589296">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6589336">,</span>&nbsp;<span class="ident" id="6589338"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589342">.</span><span class="ident" id="6589343"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589347">,</span>&nbsp;<span class="ident" id="6589349"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589353">.</span><span class="ident" id="6589354"><a href="/gostd/text/template/parse/parse_test.go.html#6586217">isComplex</a></span><span class="op" id="6589363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589367">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589371">if</span>&nbsp;<span class="ident" id="6589374"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589378">.</span><span class="ident" id="6589379"><a href="/gostd/text/template/parse/parse_test.go.html#6586169">isInt</a></span>&nbsp;<span class="op" id="6589385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589390">if</span>&nbsp;<span class="op" id="6589393">!</span><span class="ident" id="6589394"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589395">.</span><span class="ident" id="6589396"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="6589402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589408"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589409">.</span><span class="ident" id="6589410"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589416">(</span><span class="string" id="6589417">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6589442">,</span>&nbsp;<span class="ident" id="6589444"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589448">.</span><span class="ident" id="6589449"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589463">if</span>&nbsp;<span class="ident" id="6589466"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589467">.</span><span class="ident" id="6589468"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span>&nbsp;<span class="op" id="6589474">!=</span>&nbsp;<span class="ident" id="6589477"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589481">.</span><span class="builtintype" id="6589482"><a href="/gostd/text/template/parse/parse_test.go.html#6586233">int64</a></span>&nbsp;<span class="op" id="6589488">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589494"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589495">.</span><span class="ident" id="6589496"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589502">(</span><span class="string" id="6589503">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6589536">,</span>&nbsp;<span class="ident" id="6589538"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589542">.</span><span class="ident" id="6589543"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589547">,</span>&nbsp;<span class="ident" id="6589549"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589553">.</span><span class="builtintype" id="6589554"><a href="/gostd/text/template/parse/parse_test.go.html#6586233">int64</a></span><span class="op" id="6589559">,</span>&nbsp;<span class="ident" id="6589561"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589562">.</span><span class="ident" id="6589563"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span><span class="op" id="6589568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589577">}</span>&nbsp;<span class="keyword" id="6589579">else</span>&nbsp;<span class="keyword" id="6589584">if</span>&nbsp;<span class="ident" id="6589587"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589588">.</span><span class="ident" id="6589589"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="6589595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589600"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589601">.</span><span class="ident" id="6589602"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589608">(</span><span class="string" id="6589609">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6589640">,</span>&nbsp;<span class="ident" id="6589642"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589646">.</span><span class="ident" id="6589647"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589655">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589659">if</span>&nbsp;<span class="ident" id="6589662"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589666">.</span><span class="ident" id="6589667"><a href="/gostd/text/template/parse/parse_test.go.html#6586185">isUint</a></span>&nbsp;<span class="op" id="6589674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589679">if</span>&nbsp;<span class="op" id="6589682">!</span><span class="ident" id="6589683"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589684">.</span><span class="ident" id="6589685"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="6589692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589698"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589699">.</span><span class="ident" id="6589700"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589706">(</span><span class="string" id="6589707">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6589741">,</span>&nbsp;<span class="ident" id="6589743"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589747">.</span><span class="ident" id="6589748"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589762">if</span>&nbsp;<span class="ident" id="6589765"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589766">.</span><span class="ident" id="6589767"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="6589774">!=</span>&nbsp;<span class="ident" id="6589777"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589781">.</span><span class="builtintype" id="6589782"><a href="/gostd/text/template/parse/parse_test.go.html#6586240">uint64</a></span>&nbsp;<span class="op" id="6589789">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589795"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589796">.</span><span class="ident" id="6589797"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589803">(</span><span class="string" id="6589804">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6589838">,</span>&nbsp;<span class="ident" id="6589840"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589844">.</span><span class="ident" id="6589845"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589849">,</span>&nbsp;<span class="ident" id="6589851"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589855">.</span><span class="builtintype" id="6589856"><a href="/gostd/text/template/parse/parse_test.go.html#6586240">uint64</a></span><span class="op" id="6589862">,</span>&nbsp;<span class="ident" id="6589864"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589865">.</span><span class="ident" id="6589866"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span><span class="op" id="6589872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589881">}</span>&nbsp;<span class="keyword" id="6589883">else</span>&nbsp;<span class="keyword" id="6589888">if</span>&nbsp;<span class="ident" id="6589891"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589892">.</span><span class="ident" id="6589893"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="6589900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6589905"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6589906">.</span><span class="ident" id="6589907"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6589913">(</span><span class="string" id="6589914">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6589954">,</span>&nbsp;<span class="ident" id="6589956"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589960">.</span><span class="ident" id="6589961"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6589965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6589969">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589973">if</span>&nbsp;<span class="ident" id="6589976"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6589980">.</span><span class="ident" id="6589981"><a href="/gostd/text/template/parse/parse_test.go.html#6586201">isFloat</a></span>&nbsp;<span class="op" id="6589989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6589994">if</span>&nbsp;<span class="op" id="6589997">!</span><span class="ident" id="6589998"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6589999">.</span><span class="ident" id="6590000"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="6590008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590014"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590015">.</span><span class="ident" id="6590016"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590022">(</span><span class="string" id="6590023">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6590046">,</span>&nbsp;<span class="ident" id="6590048"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590052">.</span><span class="ident" id="6590053"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590067">if</span>&nbsp;<span class="ident" id="6590070"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590071">.</span><span class="ident" id="6590072"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="6590080">!=</span>&nbsp;<span class="ident" id="6590083"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590087">.</span><span class="builtintype" id="6590088"><a href="/gostd/text/template/parse/parse_test.go.html#6586248">float64</a></span>&nbsp;<span class="op" id="6590096">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590102"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590103">.</span><span class="ident" id="6590104"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590110">(</span><span class="string" id="6590111">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6590146">,</span>&nbsp;<span class="ident" id="6590148"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590152">.</span><span class="ident" id="6590153"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590157">,</span>&nbsp;<span class="ident" id="6590159"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590163">.</span><span class="builtintype" id="6590164"><a href="/gostd/text/template/parse/parse_test.go.html#6586248">float64</a></span><span class="op" id="6590171">,</span>&nbsp;<span class="ident" id="6590173"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590174">.</span><span class="ident" id="6590175"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><span class="op" id="6590182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590191">}</span>&nbsp;<span class="keyword" id="6590193">else</span>&nbsp;<span class="keyword" id="6590198">if</span>&nbsp;<span class="ident" id="6590201"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590202">.</span><span class="ident" id="6590203"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="6590211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590216"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590217">.</span><span class="ident" id="6590218"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590224">(</span><span class="string" id="6590225">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6590254">,</span>&nbsp;<span class="ident" id="6590256"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590260">.</span><span class="ident" id="6590261"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590269">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590273">if</span>&nbsp;<span class="ident" id="6590276"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590280">.</span><span class="ident" id="6590281"><a href="/gostd/text/template/parse/parse_test.go.html#6586217">isComplex</a></span>&nbsp;<span class="op" id="6590291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590296">if</span>&nbsp;<span class="op" id="6590299">!</span><span class="ident" id="6590300"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590301">.</span><span class="ident" id="6590302"><a href="/gostd/text/template/parse/node.go.html#3172485">IsComplex</a></span>&nbsp;<span class="op" id="6590312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590318"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590319">.</span><span class="ident" id="6590320"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590326">(</span><span class="string" id="6590327">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6590352">,</span>&nbsp;<span class="ident" id="6590354"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590358">.</span><span class="ident" id="6590359"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6590373">if</span>&nbsp;<span class="ident" id="6590376"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590377">.</span><span class="ident" id="6590378"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span>&nbsp;<span class="op" id="6590389">!=</span>&nbsp;<span class="ident" id="6590392"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590396">.</span><span class="builtintype" id="6590397"><a href="/gostd/text/template/parse/parse_test.go.html#6586257">complex128</a></span>&nbsp;<span class="op" id="6590408">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590414"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590415">.</span><span class="ident" id="6590416"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590422">(</span><span class="string" id="6590423">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6590461">,</span>&nbsp;<span class="ident" id="6590463"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590467">.</span><span class="ident" id="6590468"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590472">,</span>&nbsp;<span class="ident" id="6590474"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590478">.</span><span class="builtintype" id="6590479"><a href="/gostd/text/template/parse/parse_test.go.html#6586257">complex128</a></span><span class="op" id="6590489">,</span>&nbsp;<span class="ident" id="6590491"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590492">.</span><span class="ident" id="6590493"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span><span class="op" id="6590503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590512">}</span>&nbsp;<span class="keyword" id="6590514">else</span>&nbsp;<span class="keyword" id="6590519">if</span>&nbsp;<span class="ident" id="6590522"><a href="/gostd/text/template/parse/parse_test.go.html#6588855">n</a></span><span class="op" id="6590523">.</span><span class="ident" id="6590524"><a href="/gostd/text/template/parse/node.go.html#3172485">IsComplex</a></span>&nbsp;<span class="op" id="6590534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590539"><a href="/gostd/text/template/parse/parse_test.go.html#6588466">t</a></span><span class="op" id="6590540">.</span><span class="ident" id="6590541"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6590547">(</span><span class="string" id="6590548">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6590579">,</span>&nbsp;<span class="ident" id="6590581"><a href="/gostd/text/template/parse/parse_test.go.html#6588490">test</a></span><span class="op" id="6590585">.</span><span class="ident" id="6590586"><a href="/gostd/text/template/parse/parse_test.go.html#6586151">text</a></span><span class="op" id="6590590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590594">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590597">}</span><br>
<span class="lineno"></span><span class="op" id="6590599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590602">type</span>&nbsp;<span class="ident" id="6590607">parseTest</span>&nbsp;<span class="keyword" id="6590617">struct</span>&nbsp;<span class="op" id="6590624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590627">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6590634">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590642">input</span>&nbsp;&nbsp;<span class="builtintype" id="6590649">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590657">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6590664">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590670">result</span>&nbsp;<span class="builtintype" id="6590677">string</span>&nbsp;<span class="comment" id="6590684">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6590732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6590735">const</span>&nbsp;<span class="op" id="6590741">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590744">noError</span>&nbsp;&nbsp;<span class="op" id="6590753">=</span>&nbsp;<span class="builtintype" id="6590755">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6590761">hasError</span>&nbsp;<span class="op" id="6590770">=</span>&nbsp;<span class="builtintype" id="6590772">false</span><br>
<span class="lineno"></span><span class="op" id="6590778">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6590781">var</span>&nbsp;<span class="ident" id="6590785">parseTests</span>&nbsp;<span class="op" id="6590796">=</span>&nbsp;<span class="op" id="6590798">[</span><span class="op" id="6590799">]</span><span class="ident" id="6590800"><a href="/gostd/text/template/parse/parse_test.go.html#6590607">parseTest</a></span><span class="op" id="6590809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590812">{</span><span class="string" id="6590813">&#34;empty&#34;</span><span class="op" id="6590820">,</span>&nbsp;<span class="string" id="6590822">&#34;&#34;</span><span class="op" id="6590824">,</span>&nbsp;<span class="ident" id="6590826"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6590833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6590837">``</span><span class="op" id="6590839">}</span><span class="op" id="6590840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590843">{</span><span class="string" id="6590844">&#34;comment&#34;</span><span class="op" id="6590853">,</span>&nbsp;<span class="string" id="6590855">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6590871">,</span>&nbsp;<span class="ident" id="6590873"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6590880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6590884">``</span><span class="op" id="6590886">}</span><span class="op" id="6590887">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590890">{</span><span class="string" id="6590891">&#34;spaces&#34;</span><span class="op" id="6590899">,</span>&nbsp;<span class="string" id="6590901">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6590908">,</span>&nbsp;<span class="ident" id="6590910"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6590917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6590921">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6590930">}</span><span class="op" id="6590931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590934">{</span><span class="string" id="6590935">&#34;text&#34;</span><span class="op" id="6590941">,</span>&nbsp;<span class="string" id="6590943">&#34;some&nbsp;text&#34;</span><span class="op" id="6590954">,</span>&nbsp;<span class="ident" id="6590956"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6590963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6590967">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6590980">}</span><span class="op" id="6590981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6590984">{</span><span class="string" id="6590985">&#34;emptyAction&#34;</span><span class="op" id="6590998">,</span>&nbsp;<span class="string" id="6591000">&#34;{{}}&#34;</span><span class="op" id="6591006">,</span>&nbsp;<span class="ident" id="6591008"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6591016">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591020">`{{}}`</span><span class="op" id="6591026">}</span><span class="op" id="6591027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591030">{</span><span class="string" id="6591031">&#34;field&#34;</span><span class="op" id="6591038">,</span>&nbsp;<span class="string" id="6591040">&#34;{{.X}}&#34;</span><span class="op" id="6591048">,</span>&nbsp;<span class="ident" id="6591050"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591061">`{{.X}}`</span><span class="op" id="6591069">}</span><span class="op" id="6591070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591073">{</span><span class="string" id="6591074">&#34;simple&nbsp;command&#34;</span><span class="op" id="6591090">,</span>&nbsp;<span class="string" id="6591092">&#34;{{printf}}&#34;</span><span class="op" id="6591104">,</span>&nbsp;<span class="ident" id="6591106"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591117">`{{printf}}`</span><span class="op" id="6591129">}</span><span class="op" id="6591130">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591133">{</span><span class="string" id="6591134">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6591148">,</span>&nbsp;<span class="string" id="6591150">&#34;{{$}}&#34;</span><span class="op" id="6591157">,</span>&nbsp;<span class="ident" id="6591159"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591170">&#34;{{$}}&#34;</span><span class="op" id="6591177">}</span><span class="op" id="6591178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591181">{</span><span class="string" id="6591182">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6591203">,</span>&nbsp;<span class="string" id="6591205">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6591239">,</span>&nbsp;<span class="ident" id="6591241"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591252">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6591286">}</span><span class="op" id="6591287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591290">{</span><span class="string" id="6591291">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6591313">,</span>&nbsp;<span class="string" id="6591315">&#34;{{$.I}}&#34;</span><span class="op" id="6591324">,</span>&nbsp;<span class="ident" id="6591326"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591333">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591337">&#34;{{$.I}}&#34;</span><span class="op" id="6591346">}</span><span class="op" id="6591347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591350">{</span><span class="string" id="6591351">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6591371">,</span>&nbsp;<span class="string" id="6591373">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6591393">,</span>&nbsp;<span class="ident" id="6591395"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591406">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6591426">}</span><span class="op" id="6591427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591430">{</span><span class="string" id="6591431">&#34;pipeline&#34;</span><span class="op" id="6591441">,</span>&nbsp;<span class="string" id="6591443">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6591454">,</span>&nbsp;<span class="ident" id="6591456"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591467">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6591480">}</span><span class="op" id="6591481">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591484">{</span><span class="string" id="6591485">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6591505">,</span>&nbsp;<span class="string" id="6591507">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6591524">,</span>&nbsp;<span class="ident" id="6591526"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591537">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6591556">}</span><span class="op" id="6591557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591560">{</span><span class="string" id="6591561">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6591578">,</span>&nbsp;<span class="string" id="6591580">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6591614">,</span>&nbsp;<span class="ident" id="6591616"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591627">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6591661">}</span><span class="op" id="6591662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591665">{</span><span class="string" id="6591666">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6591696">,</span>&nbsp;<span class="string" id="6591698">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6591717">,</span>&nbsp;<span class="ident" id="6591719"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591726">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591730">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6591749">}</span><span class="op" id="6591750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591753">{</span><span class="string" id="6591754">&#34;simple&nbsp;if&#34;</span><span class="op" id="6591765">,</span>&nbsp;<span class="string" id="6591767">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6591790">,</span>&nbsp;<span class="ident" id="6591792"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591803">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6591828">}</span><span class="op" id="6591829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591832">{</span><span class="string" id="6591833">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6591847">,</span>&nbsp;<span class="string" id="6591849">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6591884">,</span>&nbsp;<span class="ident" id="6591886"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6591893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6591897">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6591936">}</span><span class="op" id="6591937">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6591940">{</span><span class="string" id="6591941">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6591958">,</span>&nbsp;<span class="string" id="6591960">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6592001">,</span>&nbsp;<span class="ident" id="6592003"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592014">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6592069">}</span><span class="op" id="6592070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592073">{</span><span class="string" id="6592074">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6592089">,</span>&nbsp;<span class="string" id="6592091">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6592142">,</span>&nbsp;<span class="ident" id="6592144"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592155">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6592236">}</span><span class="op" id="6592237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592240">{</span><span class="string" id="6592241">&#34;simple&nbsp;range&#34;</span><span class="op" id="6592255">,</span>&nbsp;<span class="string" id="6592257">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6592283">,</span>&nbsp;<span class="ident" id="6592285"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592292">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592296">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6592324">}</span><span class="op" id="6592325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592328">{</span><span class="string" id="6592329">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6592350">,</span>&nbsp;<span class="string" id="6592352">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6592382">,</span>&nbsp;<span class="ident" id="6592384"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592395">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6592427">}</span><span class="op" id="6592428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592431">{</span><span class="string" id="6592432">&#34;nested&nbsp;range&#34;</span><span class="op" id="6592446">,</span>&nbsp;<span class="string" id="6592448">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6592500">,</span>&nbsp;<span class="ident" id="6592502"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592513">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6592569">}</span><span class="op" id="6592570">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592573">{</span><span class="string" id="6592574">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6592591">,</span>&nbsp;<span class="string" id="6592593">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6592631">,</span>&nbsp;<span class="ident" id="6592633"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592644">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6592686">}</span><span class="op" id="6592687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592690">{</span><span class="string" id="6592691">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6592712">,</span>&nbsp;<span class="string" id="6592714">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6592755">,</span>&nbsp;<span class="ident" id="6592757"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592768">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6592815">}</span><span class="op" id="6592816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592819">{</span><span class="string" id="6592820">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6592833">,</span>&nbsp;<span class="string" id="6592835">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6592862">,</span>&nbsp;<span class="ident" id="6592864"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592871">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592875">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6592902">}</span><span class="op" id="6592903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6592906">{</span><span class="string" id="6592907">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6592920">,</span>&nbsp;<span class="string" id="6592922">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6592955">,</span>&nbsp;<span class="ident" id="6592957"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6592964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6592968">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6593001">}</span><span class="op" id="6593002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593005">{</span><span class="string" id="6593006">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6593020">,</span>&nbsp;<span class="string" id="6593022">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6593059">,</span>&nbsp;<span class="ident" id="6593061"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593072">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6593109">}</span><span class="op" id="6593110">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593113">{</span><span class="string" id="6593114">&#34;constants&#34;</span><span class="op" id="6593125">,</span>&nbsp;<span class="string" id="6593127">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6593176">,</span>&nbsp;<span class="ident" id="6593178"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593189">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6593238">}</span><span class="op" id="6593239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593242">{</span><span class="string" id="6593243">&#34;template&#34;</span><span class="op" id="6593253">,</span>&nbsp;<span class="string" id="6593255">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6593273">,</span>&nbsp;<span class="ident" id="6593275"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593286">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6593304">}</span><span class="op" id="6593305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593308">{</span><span class="string" id="6593309">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6593328">,</span>&nbsp;<span class="string" id="6593330">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6593351">,</span>&nbsp;<span class="ident" id="6593353"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593360">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593364">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6593385">}</span><span class="op" id="6593386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593389">{</span><span class="string" id="6593390">&#34;with&#34;</span><span class="op" id="6593396">,</span>&nbsp;<span class="string" id="6593398">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6593423">,</span>&nbsp;<span class="ident" id="6593425"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593436">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6593463">}</span><span class="op" id="6593464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593467">{</span><span class="string" id="6593468">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6593484">,</span>&nbsp;<span class="string" id="6593486">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6593526">,</span>&nbsp;<span class="ident" id="6593528"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6593535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6593539">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6593583">}</span><span class="op" id="6593584">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6593587">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593599">{</span><span class="string" id="6593600">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6593617">,</span>&nbsp;<span class="string" id="6593619">&#34;hello{{range&#34;</span><span class="op" id="6593633">,</span>&nbsp;<span class="ident" id="6593635"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593643">,</span>&nbsp;<span class="string" id="6593645">&#34;&#34;</span><span class="op" id="6593647">}</span><span class="op" id="6593648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593651">{</span><span class="string" id="6593652">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6593667">,</span>&nbsp;<span class="string" id="6593669">&#34;{{end}}&#34;</span><span class="op" id="6593678">,</span>&nbsp;<span class="ident" id="6593680"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593688">,</span>&nbsp;<span class="string" id="6593690">&#34;&#34;</span><span class="op" id="6593692">}</span><span class="op" id="6593693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593696">{</span><span class="string" id="6593697">&#34;missing&nbsp;end&#34;</span><span class="op" id="6593710">,</span>&nbsp;<span class="string" id="6593712">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6593731">,</span>&nbsp;<span class="ident" id="6593733"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593741">,</span>&nbsp;<span class="string" id="6593743">&#34;&#34;</span><span class="op" id="6593745">}</span><span class="op" id="6593746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593749">{</span><span class="string" id="6593750">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6593774">,</span>&nbsp;<span class="string" id="6593776">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6593803">,</span>&nbsp;<span class="ident" id="6593805"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593813">,</span>&nbsp;<span class="string" id="6593815">&#34;&#34;</span><span class="op" id="6593817">}</span><span class="op" id="6593818">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593821">{</span><span class="string" id="6593822">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6593842">,</span>&nbsp;<span class="string" id="6593844">&#34;hello{{undefined}}&#34;</span><span class="op" id="6593864">,</span>&nbsp;<span class="ident" id="6593866"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593874">,</span>&nbsp;<span class="string" id="6593876">&#34;&#34;</span><span class="op" id="6593878">}</span><span class="op" id="6593879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593882">{</span><span class="string" id="6593883">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6593903">,</span>&nbsp;<span class="string" id="6593905">&#34;{{$x}}&#34;</span><span class="op" id="6593913">,</span>&nbsp;<span class="ident" id="6593915"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6593923">,</span>&nbsp;<span class="string" id="6593925">&#34;&#34;</span><span class="op" id="6593927">}</span><span class="op" id="6593928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6593931">{</span><span class="string" id="6593932">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6593962">,</span>&nbsp;<span class="string" id="6593964">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6593995">,</span>&nbsp;<span class="ident" id="6593997"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594005">,</span>&nbsp;<span class="string" id="6594007">&#34;&#34;</span><span class="op" id="6594009">}</span><span class="op" id="6594010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594013">{</span><span class="string" id="6594014">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6594046">,</span>&nbsp;<span class="string" id="6594048">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6594065">,</span>&nbsp;<span class="ident" id="6594067"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594075">,</span>&nbsp;<span class="string" id="6594077">&#34;&#34;</span><span class="op" id="6594079">}</span><span class="op" id="6594080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594083">{</span><span class="string" id="6594084">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6594104">,</span>&nbsp;<span class="string" id="6594106">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6594133">,</span>&nbsp;<span class="ident" id="6594135"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594143">,</span>&nbsp;<span class="string" id="6594145">&#34;&#34;</span><span class="op" id="6594147">}</span><span class="op" id="6594148">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594151">{</span><span class="string" id="6594152">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6594177">,</span>&nbsp;<span class="string" id="6594179">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6594196">,</span>&nbsp;<span class="ident" id="6594198"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594206">,</span>&nbsp;<span class="string" id="6594208">&#34;&#34;</span><span class="op" id="6594210">}</span><span class="op" id="6594211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594214">{</span><span class="string" id="6594215">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6594234">,</span>&nbsp;<span class="string" id="6594236">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6594253">,</span>&nbsp;<span class="ident" id="6594255"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594263">,</span>&nbsp;<span class="string" id="6594265">&#34;&#34;</span><span class="op" id="6594267">}</span><span class="op" id="6594268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594271">{</span><span class="string" id="6594272">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6594293">,</span>&nbsp;<span class="string" id="6594295">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6594312">,</span>&nbsp;<span class="ident" id="6594314"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594322">,</span>&nbsp;<span class="string" id="6594324">&#34;&#34;</span><span class="op" id="6594326">}</span><span class="op" id="6594327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594330">{</span><span class="string" id="6594331">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6594356">,</span>&nbsp;<span class="string" id="6594358">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6594387">,</span>&nbsp;<span class="ident" id="6594389"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594397">,</span>&nbsp;<span class="string" id="6594399">&#34;&#34;</span><span class="op" id="6594401">}</span><span class="op" id="6594402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594405">{</span><span class="string" id="6594406">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6594431">,</span>&nbsp;<span class="string" id="6594433">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6594467">,</span>&nbsp;<span class="ident" id="6594469"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594477">,</span>&nbsp;<span class="string" id="6594479">&#34;&#34;</span><span class="op" id="6594481">}</span><span class="op" id="6594482">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594485">{</span><span class="string" id="6594486">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6594514">,</span>&nbsp;<span class="string" id="6594516">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6594540">,</span>&nbsp;<span class="ident" id="6594542"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594550">,</span>&nbsp;<span class="string" id="6594552">&#34;&#34;</span><span class="op" id="6594554">}</span><span class="op" id="6594555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594558">{</span><span class="string" id="6594559">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6594574">,</span>&nbsp;<span class="string" id="6594576">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6594593">,</span>&nbsp;<span class="ident" id="6594595"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594603">,</span>&nbsp;<span class="string" id="6594605">&#34;&#34;</span><span class="op" id="6594607">}</span><span class="op" id="6594608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594611">{</span><span class="string" id="6594612">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6594634">,</span>&nbsp;<span class="string" id="6594636">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6594653">,</span>&nbsp;<span class="ident" id="6594655"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594663">,</span>&nbsp;<span class="string" id="6594665">&#34;&#34;</span><span class="op" id="6594667">}</span><span class="op" id="6594668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594671">{</span><span class="string" id="6594672">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6594692">,</span>&nbsp;<span class="string" id="6594694">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6594735">,</span>&nbsp;<span class="ident" id="6594737"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594745">,</span>&nbsp;<span class="string" id="6594747">&#34;&#34;</span><span class="op" id="6594749">}</span><span class="op" id="6594750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6594753">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594813">{</span><span class="string" id="6594814">&#34;bug0a&#34;</span><span class="op" id="6594821">,</span>&nbsp;<span class="string" id="6594823">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6594842">,</span>&nbsp;<span class="ident" id="6594844"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6594851">,</span>&nbsp;<span class="string" id="6594853">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6594872">}</span><span class="op" id="6594873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594876">{</span><span class="string" id="6594877">&#34;bug0b&#34;</span><span class="op" id="6594884">,</span>&nbsp;<span class="string" id="6594886">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6594904">,</span>&nbsp;<span class="ident" id="6594906"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594914">,</span>&nbsp;<span class="string" id="6594916">&#34;&#34;</span><span class="op" id="6594918">}</span><span class="op" id="6594919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594922">{</span><span class="string" id="6594923">&#34;bug0c&#34;</span><span class="op" id="6594930">,</span>&nbsp;<span class="string" id="6594932">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6594950">,</span>&nbsp;<span class="ident" id="6594952"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6594960">,</span>&nbsp;<span class="string" id="6594962">&#34;&#34;</span><span class="op" id="6594964">}</span><span class="op" id="6594965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6594968">{</span><span class="string" id="6594969">&#34;bug0d&#34;</span><span class="op" id="6594976">,</span>&nbsp;<span class="string" id="6594978">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6594996">,</span>&nbsp;<span class="ident" id="6594998"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6595006">,</span>&nbsp;<span class="string" id="6595008">&#34;&#34;</span><span class="op" id="6595010">}</span><span class="op" id="6595011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6595014">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6595066">{</span><span class="string" id="6595067">&#34;bug0e&#34;</span><span class="op" id="6595074">,</span>&nbsp;<span class="string" id="6595076">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6595108">,</span>&nbsp;<span class="ident" id="6595110"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6595118">,</span>&nbsp;<span class="string" id="6595120">&#34;&#34;</span><span class="op" id="6595122">}</span><span class="op" id="6595123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6595126">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6595192">{</span><span class="string" id="6595193">&#34;bug1a&#34;</span><span class="op" id="6595200">,</span>&nbsp;<span class="string" id="6595202">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6595221">,</span>&nbsp;<span class="ident" id="6595223"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6595231">,</span>&nbsp;<span class="string" id="6595233">&#34;&#34;</span><span class="op" id="6595235">}</span><span class="op" id="6595236">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6595258">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6595286">{</span><span class="string" id="6595287">&#34;bug1b&#34;</span><span class="op" id="6595294">,</span>&nbsp;<span class="string" id="6595296">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6595315">,</span>&nbsp;<span class="ident" id="6595317"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6595325">,</span>&nbsp;<span class="string" id="6595327">&#34;&#34;</span><span class="op" id="6595329">}</span><span class="op" id="6595330">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6595352">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6595392">{</span><span class="string" id="6595393">&#34;bug1c&#34;</span><span class="op" id="6595400">,</span>&nbsp;<span class="string" id="6595402">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6595422">,</span>&nbsp;<span class="ident" id="6595424"><a href="/gostd/text/template/parse/parse_test.go.html#6590744">noError</a></span><span class="op" id="6595431">,</span>&nbsp;<span class="string" id="6595433">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6595455">}</span><span class="op" id="6595456">,</span>&nbsp;<span class="comment" id="6595458">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6595483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6595486">var</span>&nbsp;<span class="ident" id="6595490">builtins</span>&nbsp;<span class="op" id="6595499">=</span>&nbsp;<span class="keyword" id="6595501">map</span><span class="op" id="6595504">[</span><span class="builtintype" id="6595505">string</span><span class="op" id="6595511">]</span><span class="keyword" id="6595512">interface</span><span class="op" id="6595521">{</span><span class="op" id="6595522">}</span><span class="op" id="6595523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6595526">&#34;printf&#34;</span><span class="op" id="6595534">:</span>&nbsp;<span class="ident" id="6595536"><a href="/gostd/text/template/parse/parse_test.go.html#6586009">fmt</a></span><span class="op" id="6595539">.</span><span class="ident" id="6595540"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="6595547">,</span><br>
<span class="lineno"></span><span class="op" id="6595549">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6595552">func</span>&nbsp;<span class="ident" id="6595557">testParse</span><span class="op" id="6595566">(</span><span class="ident" id="6595567">doCopy</span>&nbsp;<span class="builtintype" id="6595574">bool</span><span class="op" id="6595578">,</span>&nbsp;<span class="ident" id="6595580">t</span>&nbsp;<span class="op" id="6595582">*</span><span class="ident" id="6595583"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6595590">.</span><span class="ident" id="6595591"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6595592">)</span>&nbsp;<span class="op" id="6595594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6595597"><a href="/gostd/text/template/parse/node.go.html#3160279">textFormat</a></span>&nbsp;<span class="op" id="6595608">=</span>&nbsp;<span class="string" id="6595610">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595616">defer</span>&nbsp;<span class="keyword" id="6595622">func</span><span class="op" id="6595626">(</span><span class="op" id="6595627">)</span>&nbsp;<span class="op" id="6595629">{</span>&nbsp;<span class="ident" id="6595631"><a href="/gostd/text/template/parse/node.go.html#3160279">textFormat</a></span>&nbsp;<span class="op" id="6595642">=</span>&nbsp;<span class="string" id="6595644">&#34;%s&#34;</span>&nbsp;<span class="op" id="6595649">}</span><span class="op" id="6595650">(</span><span class="op" id="6595651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595654">for</span>&nbsp;<span class="ident" id="6595658">_</span><span class="op" id="6595659">,</span>&nbsp;<span class="ident" id="6595661">test</span>&nbsp;<span class="op" id="6595666">:=</span>&nbsp;<span class="keyword" id="6595669">range</span>&nbsp;<span class="ident" id="6595675"><a href="/gostd/text/template/parse/parse_test.go.html#6590785">parseTests</a></span>&nbsp;<span class="op" id="6595686">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6595690">tmpl</span><span class="op" id="6595694">,</span>&nbsp;<span class="ident" id="6595696">err</span>&nbsp;<span class="op" id="6595700">:=</span>&nbsp;<span class="ident" id="6595703"><a href="/gostd/text/template/parse/parse.go.html#3183787">New</a></span><span class="op" id="6595706">(</span><span class="ident" id="6595707"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595711">.</span><span class="ident" id="6595712"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6595716">)</span><span class="op" id="6595717">.</span><span class="ident" id="6595718"><a href="/gostd/text/template/parse/parse.go.html#3186584">Parse</a></span><span class="op" id="6595723">(</span><span class="ident" id="6595724"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595728">.</span><span class="ident" id="6595729"><a href="/gostd/text/template/parse/parse_test.go.html#6590642">input</a></span><span class="op" id="6595734">,</span>&nbsp;<span class="string" id="6595736">&#34;&#34;</span><span class="op" id="6595738">,</span>&nbsp;<span class="string" id="6595740">&#34;&#34;</span><span class="op" id="6595742">,</span>&nbsp;<span class="builtinfunc" id="6595744">make</span><span class="op" id="6595748">(</span><span class="keyword" id="6595749">map</span><span class="op" id="6595752">[</span><span class="builtintype" id="6595753">string</span><span class="op" id="6595759">]</span><span class="op" id="6595760">*</span><span class="ident" id="6595761"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="6595765">)</span><span class="op" id="6595766">,</span>&nbsp;<span class="ident" id="6595768"><a href="/gostd/text/template/parse/parse_test.go.html#6595490">builtins</a></span><span class="op" id="6595776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595780">switch</span>&nbsp;<span class="op" id="6595787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595791">case</span>&nbsp;<span class="ident" id="6595796"><a href="/gostd/text/template/parse/parse_test.go.html#6595696">err</a></span>&nbsp;<span class="op" id="6595800">==</span>&nbsp;<span class="builtintype" id="6595803">nil</span>&nbsp;<span class="op" id="6595807">&amp;&amp;</span>&nbsp;<span class="op" id="6595810">!</span><span class="ident" id="6595811"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595815">.</span><span class="ident" id="6595816"><a href="/gostd/text/template/parse/parse_test.go.html#6590657">ok</a></span><span class="op" id="6595818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6595823"><a href="/gostd/text/template/parse/parse_test.go.html#6595580">t</a></span><span class="op" id="6595824">.</span><span class="ident" id="6595825"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6595831">(</span><span class="string" id="6595832">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6595862">,</span>&nbsp;<span class="ident" id="6595864"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595868">.</span><span class="ident" id="6595869"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6595873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595878">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595889">case</span>&nbsp;<span class="ident" id="6595894"><a href="/gostd/text/template/parse/parse_test.go.html#6595696">err</a></span>&nbsp;<span class="op" id="6595898">!=</span>&nbsp;<span class="builtintype" id="6595901">nil</span>&nbsp;<span class="op" id="6595905">&amp;&amp;</span>&nbsp;<span class="ident" id="6595908"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595912">.</span><span class="ident" id="6595913"><a href="/gostd/text/template/parse/parse_test.go.html#6590657">ok</a></span><span class="op" id="6595915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6595920"><a href="/gostd/text/template/parse/parse_test.go.html#6595580">t</a></span><span class="op" id="6595921">.</span><span class="ident" id="6595922"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6595928">(</span><span class="string" id="6595929">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6595955">,</span>&nbsp;<span class="ident" id="6595957"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6595961">.</span><span class="ident" id="6595962"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6595966">,</span>&nbsp;<span class="ident" id="6595968"><a href="/gostd/text/template/parse/parse_test.go.html#6595696">err</a></span><span class="op" id="6595971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595976">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6595987">case</span>&nbsp;<span class="ident" id="6595992"><a href="/gostd/text/template/parse/parse_test.go.html#6595696">err</a></span>&nbsp;<span class="op" id="6595996">!=</span>&nbsp;<span class="builtintype" id="6595999">nil</span>&nbsp;<span class="op" id="6596003">&amp;&amp;</span>&nbsp;<span class="op" id="6596006">!</span><span class="ident" id="6596007"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596011">.</span><span class="ident" id="6596012"><a href="/gostd/text/template/parse/parse_test.go.html#6590657">ok</a></span><span class="op" id="6596014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6596019">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6596049">if</span>&nbsp;<span class="op" id="6596052">*</span><span class="ident" id="6596053"><a href="/gostd/text/template/parse/parse_test.go.html#6586044">debug</a></span>&nbsp;<span class="op" id="6596059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596065"><a href="/gostd/text/template/parse/parse_test.go.html#6586009">fmt</a></span><span class="op" id="6596068">.</span><span class="ident" id="6596069"><a href="/gostd/fmt/print.go.html#2143442">Printf</a></span><span class="op" id="6596075">(</span><span class="string" id="6596076">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6596092">,</span>&nbsp;<span class="ident" id="6596094"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596098">.</span><span class="ident" id="6596099"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6596103">,</span>&nbsp;<span class="ident" id="6596105"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596109">.</span><span class="ident" id="6596110"><a href="/gostd/text/template/parse/parse_test.go.html#6590642">input</a></span><span class="op" id="6596115">,</span>&nbsp;<span class="ident" id="6596117"><a href="/gostd/text/template/parse/parse_test.go.html#6595696">err</a></span><span class="op" id="6596120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6596130">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596141">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6596145">var</span>&nbsp;<span class="ident" id="6596149">result</span>&nbsp;<span class="builtintype" id="6596156">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6596165">if</span>&nbsp;<span class="ident" id="6596168"><a href="/gostd/text/template/parse/parse_test.go.html#6595567">doCopy</a></span>&nbsp;<span class="op" id="6596175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596180"><a href="/gostd/text/template/parse/parse_test.go.html#6596149">result</a></span>&nbsp;<span class="op" id="6596187">=</span>&nbsp;<span class="ident" id="6596189"><a href="/gostd/text/template/parse/parse_test.go.html#6595690">tmpl</a></span><span class="op" id="6596193">.</span><span class="ident" id="6596194"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="6596198">.</span><span class="ident" id="6596199"><a href="/gostd/text/template/parse/node.go.html#3163280">Copy</a></span><span class="op" id="6596203">(</span><span class="op" id="6596204">)</span><span class="op" id="6596205">.</span><span class="ident" id="6596206"><a href="/gostd/text/template/parse/node.go.html#3160569">String</a></span><span class="op" id="6596212">(</span><span class="op" id="6596213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596217">}</span>&nbsp;<span class="keyword" id="6596219">else</span>&nbsp;<span class="op" id="6596224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596229"><a href="/gostd/text/template/parse/parse_test.go.html#6596149">result</a></span>&nbsp;<span class="op" id="6596236">=</span>&nbsp;<span class="ident" id="6596238"><a href="/gostd/text/template/parse/parse_test.go.html#6595690">tmpl</a></span><span class="op" id="6596242">.</span><span class="ident" id="6596243"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="6596247">.</span><span class="ident" id="6596248"><a href="/gostd/text/template/parse/node.go.html#3162977">String</a></span><span class="op" id="6596254">(</span><span class="op" id="6596255">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6596263">if</span>&nbsp;<span class="ident" id="6596266"><a href="/gostd/text/template/parse/parse_test.go.html#6596149">result</a></span>&nbsp;<span class="op" id="6596273">!=</span>&nbsp;<span class="ident" id="6596276"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596280">.</span><span class="ident" id="6596281"><a href="/gostd/text/template/parse/parse_test.go.html#6590670">result</a></span>&nbsp;<span class="op" id="6596288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596293"><a href="/gostd/text/template/parse/parse_test.go.html#6595580">t</a></span><span class="op" id="6596294">.</span><span class="ident" id="6596295"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6596301">(</span><span class="string" id="6596302">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6596338">,</span>&nbsp;<span class="ident" id="6596340"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596344">.</span><span class="ident" id="6596345"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6596349">,</span>&nbsp;<span class="ident" id="6596351"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596355">.</span><span class="ident" id="6596356"><a href="/gostd/text/template/parse/parse_test.go.html#6590642">input</a></span><span class="op" id="6596361">,</span>&nbsp;<span class="ident" id="6596363"><a href="/gostd/text/template/parse/parse_test.go.html#6596149">result</a></span><span class="op" id="6596369">,</span>&nbsp;<span class="ident" id="6596371"><a href="/gostd/text/template/parse/parse_test.go.html#6595661">test</a></span><span class="op" id="6596375">.</span><span class="ident" id="6596376"><a href="/gostd/text/template/parse/parse_test.go.html#6590670">result</a></span><span class="op" id="6596382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596389">}</span><br>
<span class="lineno">295</span><span class="op" id="6596391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6596394">func</span>&nbsp;<span class="ident" id="6596399">TestParse</span><span class="op" id="6596408">(</span><span class="ident" id="6596409">t</span>&nbsp;<span class="op" id="6596411">*</span><span class="ident" id="6596412"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6596419">.</span><span class="ident" id="6596420"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6596421">)</span>&nbsp;<span class="op" id="6596423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596426"><a href="/gostd/text/template/parse/parse_test.go.html#6595557">testParse</a></span><span class="op" id="6596435">(</span><span class="builtintype" id="6596436">false</span><span class="op" id="6596441">,</span>&nbsp;<span class="ident" id="6596443"><a href="/gostd/text/template/parse/parse_test.go.html#6596409">t</a></span><span class="op" id="6596444">)</span><br>
<span class="lineno"></span><span class="op" id="6596446">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6596449">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6596498">func</span>&nbsp;<span class="ident" id="6596503">TestParseCopy</span><span class="op" id="6596516">(</span><span class="ident" id="6596517">t</span>&nbsp;<span class="op" id="6596519">*</span><span class="ident" id="6596520"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6596527">.</span><span class="ident" id="6596528"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6596529">)</span>&nbsp;<span class="op" id="6596531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596534"><a href="/gostd/text/template/parse/parse_test.go.html#6595557">testParse</a></span><span class="op" id="6596543">(</span><span class="builtintype" id="6596544">true</span><span class="op" id="6596548">,</span>&nbsp;<span class="ident" id="6596550"><a href="/gostd/text/template/parse/parse_test.go.html#6596517">t</a></span><span class="op" id="6596551">)</span><br>
<span class="lineno"></span><span class="op" id="6596553">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6596556">type</span>&nbsp;<span class="ident" id="6596561">isEmptyTest</span>&nbsp;<span class="keyword" id="6596573">struct</span>&nbsp;<span class="op" id="6596580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596583">name</span>&nbsp;&nbsp;<span class="builtintype" id="6596589">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596597">input</span>&nbsp;<span class="builtintype" id="6596603">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6596611">empty</span>&nbsp;<span class="builtintype" id="6596617">bool</span><br>
<span class="lineno">310</span><span class="op" id="6596622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6596625">var</span>&nbsp;<span class="ident" id="6596629">isEmptyTests</span>&nbsp;<span class="op" id="6596642">=</span>&nbsp;<span class="op" id="6596644">[</span><span class="op" id="6596645">]</span><span class="ident" id="6596646"><a href="/gostd/text/template/parse/parse_test.go.html#6596561">isEmptyTest</a></span><span class="op" id="6596657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596660">{</span><span class="string" id="6596661">&#34;empty&#34;</span><span class="op" id="6596668">,</span>&nbsp;<span class="string" id="6596670">``</span><span class="op" id="6596672">,</span>&nbsp;<span class="builtintype" id="6596674">true</span><span class="op" id="6596678">}</span><span class="op" id="6596679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596682">{</span><span class="string" id="6596683">&#34;nonempty&#34;</span><span class="op" id="6596693">,</span>&nbsp;<span class="string" id="6596695">`hello`</span><span class="op" id="6596702">,</span>&nbsp;<span class="builtintype" id="6596704">false</span><span class="op" id="6596709">}</span><span class="op" id="6596710">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596713">{</span><span class="string" id="6596714">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6596727">,</span>&nbsp;<span class="string" id="6596729">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6596741">,</span>&nbsp;<span class="builtintype" id="6596743">true</span><span class="op" id="6596747">}</span><span class="op" id="6596748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596751">{</span><span class="string" id="6596752">&#34;definition&#34;</span><span class="op" id="6596764">,</span>&nbsp;<span class="string" id="6596766">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6596798">,</span>&nbsp;<span class="builtintype" id="6596800">true</span><span class="op" id="6596804">}</span><span class="op" id="6596805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596808">{</span><span class="string" id="6596809">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6596832">,</span>&nbsp;<span class="string" id="6596834">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6596904">,</span>&nbsp;<span class="builtintype" id="6596906">true</span><span class="op" id="6596910">}</span><span class="op" id="6596911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6596914">{</span><span class="string" id="6596915">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6596937">,</span>&nbsp;<span class="string" id="6596939">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6597011">,</span>&nbsp;<span class="builtintype" id="6597013">false</span><span class="op" id="6597018">}</span><span class="op" id="6597019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597022">{</span><span class="string" id="6597023">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6597046">,</span>&nbsp;<span class="string" id="6597048">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6597098">,</span>&nbsp;<span class="builtintype" id="6597100">false</span><span class="op" id="6597105">}</span><span class="op" id="6597106">,</span><br>
<span class="lineno">320</span><span class="op" id="6597108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6597111">func</span>&nbsp;<span class="ident" id="6597116">TestIsEmpty</span><span class="op" id="6597127">(</span><span class="ident" id="6597128">t</span>&nbsp;<span class="op" id="6597130">*</span><span class="ident" id="6597131"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6597138">.</span><span class="ident" id="6597139"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6597140">)</span>&nbsp;<span class="op" id="6597142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597145">if</span>&nbsp;<span class="op" id="6597148">!</span><span class="ident" id="6597149"><a href="/gostd/text/template/parse/parse.go.html#3187271">IsEmptyTree</a></span><span class="op" id="6597160">(</span><span class="builtintype" id="6597161">nil</span><span class="op" id="6597164">)</span>&nbsp;<span class="op" id="6597166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597170"><a href="/gostd/text/template/parse/parse_test.go.html#6597128">t</a></span><span class="op" id="6597171">.</span><span class="ident" id="6597172"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6597178">(</span><span class="string" id="6597179">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6597202">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597208">for</span>&nbsp;<span class="ident" id="6597212">_</span><span class="op" id="6597213">,</span>&nbsp;<span class="ident" id="6597215">test</span>&nbsp;<span class="op" id="6597220">:=</span>&nbsp;<span class="keyword" id="6597223">range</span>&nbsp;<span class="ident" id="6597229"><a href="/gostd/text/template/parse/parse_test.go.html#6596629">isEmptyTests</a></span>&nbsp;<span class="op" id="6597242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597246">tree</span><span class="op" id="6597250">,</span>&nbsp;<span class="ident" id="6597252">err</span>&nbsp;<span class="op" id="6597256">:=</span>&nbsp;<span class="ident" id="6597259"><a href="/gostd/text/template/parse/parse.go.html#3183787">New</a></span><span class="op" id="6597262">(</span><span class="string" id="6597263">&#34;root&#34;</span><span class="op" id="6597269">)</span><span class="op" id="6597270">.</span><span class="ident" id="6597271"><a href="/gostd/text/template/parse/parse.go.html#3186584">Parse</a></span><span class="op" id="6597276">(</span><span class="ident" id="6597277"><a href="/gostd/text/template/parse/parse_test.go.html#6597215">test</a></span><span class="op" id="6597281">.</span><span class="ident" id="6597282"><a href="/gostd/text/template/parse/parse_test.go.html#6596597">input</a></span><span class="op" id="6597287">,</span>&nbsp;<span class="string" id="6597289">&#34;&#34;</span><span class="op" id="6597291">,</span>&nbsp;<span class="string" id="6597293">&#34;&#34;</span><span class="op" id="6597295">,</span>&nbsp;<span class="builtinfunc" id="6597297">make</span><span class="op" id="6597301">(</span><span class="keyword" id="6597302">map</span><span class="op" id="6597305">[</span><span class="builtintype" id="6597306">string</span><span class="op" id="6597312">]</span><span class="op" id="6597313">*</span><span class="ident" id="6597314"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="6597318">)</span><span class="op" id="6597319">,</span>&nbsp;<span class="builtintype" id="6597321">nil</span><span class="op" id="6597324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597328">if</span>&nbsp;<span class="ident" id="6597331"><a href="/gostd/text/template/parse/parse_test.go.html#6597252">err</a></span>&nbsp;<span class="op" id="6597335">!=</span>&nbsp;<span class="builtintype" id="6597338">nil</span>&nbsp;<span class="op" id="6597342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597347"><a href="/gostd/text/template/parse/parse_test.go.html#6597128">t</a></span><span class="op" id="6597348">.</span><span class="ident" id="6597349"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6597355">(</span><span class="string" id="6597356">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6597382">,</span>&nbsp;<span class="ident" id="6597384"><a href="/gostd/text/template/parse/parse_test.go.html#6597215">test</a></span><span class="op" id="6597388">.</span><span class="ident" id="6597389"><a href="/gostd/text/template/parse/parse_test.go.html#6596583">name</a></span><span class="op" id="6597393">,</span>&nbsp;<span class="ident" id="6597395"><a href="/gostd/text/template/parse/parse_test.go.html#6597252">err</a></span><span class="op" id="6597398">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597403">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597418">if</span>&nbsp;<span class="ident" id="6597421">empty</span>&nbsp;<span class="op" id="6597427">:=</span>&nbsp;<span class="ident" id="6597430"><a href="/gostd/text/template/parse/parse.go.html#3187271">IsEmptyTree</a></span><span class="op" id="6597441">(</span><span class="ident" id="6597442"><a href="/gostd/text/template/parse/parse_test.go.html#6597246">tree</a></span><span class="op" id="6597446">.</span><span class="ident" id="6597447"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="6597451">)</span><span class="op" id="6597452">;</span>&nbsp;<span class="ident" id="6597454"><a href="/gostd/text/template/parse/parse_test.go.html#6597421">empty</a></span>&nbsp;<span class="op" id="6597460">!=</span>&nbsp;<span class="ident" id="6597463"><a href="/gostd/text/template/parse/parse_test.go.html#6597215">test</a></span><span class="op" id="6597467">.</span><span class="ident" id="6597468"><a href="/gostd/text/template/parse/parse_test.go.html#6596611">empty</a></span>&nbsp;<span class="op" id="6597474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597479"><a href="/gostd/text/template/parse/parse_test.go.html#6597128">t</a></span><span class="op" id="6597480">.</span><span class="ident" id="6597481"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6597487">(</span><span class="string" id="6597488">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6597512">,</span>&nbsp;<span class="ident" id="6597514"><a href="/gostd/text/template/parse/parse_test.go.html#6597215">test</a></span><span class="op" id="6597518">.</span><span class="ident" id="6597519"><a href="/gostd/text/template/parse/parse_test.go.html#6596583">name</a></span><span class="op" id="6597523">,</span>&nbsp;<span class="ident" id="6597525"><a href="/gostd/text/template/parse/parse_test.go.html#6597215">test</a></span><span class="op" id="6597529">.</span><span class="ident" id="6597530"><a href="/gostd/text/template/parse/parse_test.go.html#6596611">empty</a></span><span class="op" id="6597535">,</span>&nbsp;<span class="ident" id="6597537"><a href="/gostd/text/template/parse/parse_test.go.html#6597421">empty</a></span><span class="op" id="6597542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597546">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597549">}</span><br>
<span class="lineno"></span><span class="op" id="6597551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6597554">func</span>&nbsp;<span class="ident" id="6597559">TestErrorContextWithTreeCopy</span><span class="op" id="6597587">(</span><span class="ident" id="6597588">t</span>&nbsp;<span class="op" id="6597590">*</span><span class="ident" id="6597591"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6597598">.</span><span class="ident" id="6597599"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6597600">)</span>&nbsp;<span class="op" id="6597602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597605">tree</span><span class="op" id="6597609">,</span>&nbsp;<span class="ident" id="6597611">err</span>&nbsp;<span class="op" id="6597615">:=</span>&nbsp;<span class="ident" id="6597618"><a href="/gostd/text/template/parse/parse.go.html#3183787">New</a></span><span class="op" id="6597621">(</span><span class="string" id="6597622">&#34;root&#34;</span><span class="op" id="6597628">)</span><span class="op" id="6597629">.</span><span class="ident" id="6597630"><a href="/gostd/text/template/parse/parse.go.html#3186584">Parse</a></span><span class="op" id="6597635">(</span><span class="string" id="6597636">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6597656">,</span>&nbsp;<span class="string" id="6597658">&#34;&#34;</span><span class="op" id="6597660">,</span>&nbsp;<span class="string" id="6597662">&#34;&#34;</span><span class="op" id="6597664">,</span>&nbsp;<span class="builtinfunc" id="6597666">make</span><span class="op" id="6597670">(</span><span class="keyword" id="6597671">map</span><span class="op" id="6597674">[</span><span class="builtintype" id="6597675">string</span><span class="op" id="6597681">]</span><span class="op" id="6597682">*</span><span class="ident" id="6597683"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="6597687">)</span><span class="op" id="6597688">,</span>&nbsp;<span class="builtintype" id="6597690">nil</span><span class="op" id="6597693">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597696">if</span>&nbsp;<span class="ident" id="6597699"><a href="/gostd/text/template/parse/parse_test.go.html#6597611">err</a></span>&nbsp;<span class="op" id="6597703">!=</span>&nbsp;<span class="builtintype" id="6597706">nil</span>&nbsp;<span class="op" id="6597710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597714"><a href="/gostd/text/template/parse/parse_test.go.html#6597588">t</a></span><span class="op" id="6597715">.</span><span class="ident" id="6597716"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6597722">(</span><span class="string" id="6597723">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6597758">,</span>&nbsp;<span class="ident" id="6597760"><a href="/gostd/text/template/parse/parse_test.go.html#6597611">err</a></span><span class="op" id="6597763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6597766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597769">treeCopy</span>&nbsp;<span class="op" id="6597778">:=</span>&nbsp;<span class="ident" id="6597781"><a href="/gostd/text/template/parse/parse_test.go.html#6597605">tree</a></span><span class="op" id="6597785">.</span><span class="ident" id="6597786"><a href="/gostd/text/template/parse/parse.go.html#3181749">Copy</a></span><span class="op" id="6597790">(</span><span class="op" id="6597791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597794">wantLocation</span><span class="op" id="6597806">,</span>&nbsp;<span class="ident" id="6597808">wantContext</span>&nbsp;<span class="op" id="6597820">:=</span>&nbsp;<span class="ident" id="6597823"><a href="/gostd/text/template/parse/parse_test.go.html#6597605">tree</a></span><span class="op" id="6597827">.</span><span class="ident" id="6597828"><a href="/gostd/text/template/parse/parse.go.html#3184127">ErrorContext</a></span><span class="op" id="6597840">(</span><span class="ident" id="6597841"><a href="/gostd/text/template/parse/parse_test.go.html#6597605">tree</a></span><span class="op" id="6597845">.</span><span class="ident" id="6597846"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="6597850">.</span><span class="ident" id="6597851"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span><span class="op" id="6597856">[</span><span class="num" id="6597857">0</span><span class="op" id="6597858">]</span><span class="op" id="6597859">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597862">gotLocation</span><span class="op" id="6597873">,</span>&nbsp;<span class="ident" id="6597875">gotContext</span>&nbsp;<span class="op" id="6597886">:=</span>&nbsp;<span class="ident" id="6597889"><a href="/gostd/text/template/parse/parse_test.go.html#6597769">treeCopy</a></span><span class="op" id="6597897">.</span><span class="ident" id="6597898"><a href="/gostd/text/template/parse/parse.go.html#3184127">ErrorContext</a></span><span class="op" id="6597910">(</span><span class="ident" id="6597911"><a href="/gostd/text/template/parse/parse_test.go.html#6597769">treeCopy</a></span><span class="op" id="6597919">.</span><span class="ident" id="6597920"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="6597924">.</span><span class="ident" id="6597925"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span><span class="op" id="6597930">[</span><span class="num" id="6597931">0</span><span class="op" id="6597932">]</span><span class="op" id="6597933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6597936">if</span>&nbsp;<span class="ident" id="6597939"><a href="/gostd/text/template/parse/parse_test.go.html#6597794">wantLocation</a></span>&nbsp;<span class="op" id="6597952">!=</span>&nbsp;<span class="ident" id="6597955"><a href="/gostd/text/template/parse/parse_test.go.html#6597862">gotLocation</a></span>&nbsp;<span class="op" id="6597967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6597971"><a href="/gostd/text/template/parse/parse_test.go.html#6597588">t</a></span><span class="op" id="6597972">.</span><span class="ident" id="6597973"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6597979">(</span><span class="string" id="6597980">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6598017">,</span>&nbsp;<span class="ident" id="6598019"><a href="/gostd/text/template/parse/parse_test.go.html#6597794">wantLocation</a></span><span class="op" id="6598031">,</span>&nbsp;<span class="ident" id="6598033"><a href="/gostd/text/template/parse/parse_test.go.html#6597862">gotLocation</a></span><span class="op" id="6598044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6598050">if</span>&nbsp;<span class="ident" id="6598053"><a href="/gostd/text/template/parse/parse_test.go.html#6597808">wantContext</a></span>&nbsp;<span class="op" id="6598065">!=</span>&nbsp;<span class="ident" id="6598068"><a href="/gostd/text/template/parse/parse_test.go.html#6597875">gotContext</a></span>&nbsp;<span class="op" id="6598079">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598083"><a href="/gostd/text/template/parse/parse_test.go.html#6597588">t</a></span><span class="op" id="6598084">.</span><span class="ident" id="6598085"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6598091">(</span><span class="string" id="6598092">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6598129">,</span>&nbsp;<span class="ident" id="6598131"><a href="/gostd/text/template/parse/parse_test.go.html#6597808">wantContext</a></span><span class="op" id="6598142">,</span>&nbsp;<span class="ident" id="6598144"><a href="/gostd/text/template/parse/parse_test.go.html#6597875">gotContext</a></span><span class="op" id="6598154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598157">}</span><br>
<span class="lineno"></span><span class="op" id="6598159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6598162">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6598245">var</span>&nbsp;<span class="ident" id="6598249">errorTests</span>&nbsp;<span class="op" id="6598260">=</span>&nbsp;<span class="op" id="6598262">[</span><span class="op" id="6598263">]</span><span class="ident" id="6598264"><a href="/gostd/text/template/parse/parse_test.go.html#6590607">parseTest</a></span><span class="op" id="6598273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6598276">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598313">{</span><span class="string" id="6598314">&#34;unclosed1&#34;</span><span class="op" id="6598325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598329">&#34;line1\n{{&#34;</span><span class="op" id="6598340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598344"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598352">,</span>&nbsp;<span class="string" id="6598354">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6598406">}</span><span class="op" id="6598407">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598410">{</span><span class="string" id="6598411">&#34;unclosed2&#34;</span><span class="op" id="6598422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598426">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6598458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598462"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598470">,</span>&nbsp;<span class="string" id="6598472">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6598524">}</span><span class="op" id="6598525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6598528">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598549">{</span><span class="string" id="6598550">&#34;function&#34;</span><span class="op" id="6598560">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598564">&#34;{{foo}}&#34;</span><span class="op" id="6598573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598577"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598585">,</span>&nbsp;<span class="string" id="6598587">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6598615">}</span><span class="op" id="6598616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598619">{</span><span class="string" id="6598620">&#34;comment&#34;</span><span class="op" id="6598629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598633">&#34;{{/*}}&#34;</span><span class="op" id="6598641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598645"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598653">,</span>&nbsp;<span class="string" id="6598655">`unclosed&nbsp;comment`</span><span class="op" id="6598673">}</span><span class="op" id="6598674">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598677">{</span><span class="string" id="6598678">&#34;lparen&#34;</span><span class="op" id="6598686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598690">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6598705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598709"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598717">,</span>&nbsp;<span class="string" id="6598719">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6598740">}</span><span class="op" id="6598741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598744">{</span><span class="string" id="6598745">&#34;rparen&#34;</span><span class="op" id="6598753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598757">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6598772">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598776"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598784">,</span>&nbsp;<span class="string" id="6598786">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6598802">}</span><span class="op" id="6598803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598806">{</span><span class="string" id="6598807">&#34;space&#34;</span><span class="op" id="6598814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598818">&#34;{{`x`3}}&#34;</span><span class="op" id="6598828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598832"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598840">,</span>&nbsp;<span class="string" id="6598842">`missing&nbsp;space?`</span><span class="op" id="6598858">}</span><span class="op" id="6598859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598862">{</span><span class="string" id="6598863">&#34;idchar&#34;</span><span class="op" id="6598871">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598875">&#34;{{a#}}&#34;</span><span class="op" id="6598883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598887"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598895">,</span>&nbsp;<span class="string" id="6598897">`&#39;#&#39;`</span><span class="op" id="6598902">}</span><span class="op" id="6598903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598906">{</span><span class="string" id="6598907">&#34;charconst&#34;</span><span class="op" id="6598918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598922">&#34;{{&#39;a}}&#34;</span><span class="op" id="6598930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6598934"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6598942">,</span>&nbsp;<span class="string" id="6598944">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6598977">}</span><span class="op" id="6598978">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6598981">{</span><span class="string" id="6598982">&#34;stringconst&#34;</span><span class="op" id="6598995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6598999">`{{&#34;a}}`</span><span class="op" id="6599007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599011"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599019">,</span>&nbsp;<span class="string" id="6599021">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6599049">}</span><span class="op" id="6599050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599053">{</span><span class="string" id="6599054">&#34;rawstringconst&#34;</span><span class="op" id="6599070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599074">&#34;{{`a}}&#34;</span><span class="op" id="6599082">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599086"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599094">,</span>&nbsp;<span class="string" id="6599096">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6599128">}</span><span class="op" id="6599129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599132">{</span><span class="string" id="6599133">&#34;number&#34;</span><span class="op" id="6599141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599145">&#34;{{0xi}}&#34;</span><span class="op" id="6599154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599158"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599166">,</span>&nbsp;<span class="string" id="6599168">`number&nbsp;syntax`</span><span class="op" id="6599183">}</span><span class="op" id="6599184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599187">{</span><span class="string" id="6599188">&#34;multidefine&#34;</span><span class="op" id="6599201">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599205">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6599251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599255"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599263">,</span>&nbsp;<span class="string" id="6599265">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6599298">}</span><span class="op" id="6599299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599302">{</span><span class="string" id="6599303">&#34;eof&#34;</span><span class="op" id="6599308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599312">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6599326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599330"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599338">,</span>&nbsp;<span class="string" id="6599340">`unexpected&nbsp;EOF`</span><span class="op" id="6599356">}</span><span class="op" id="6599357">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599360">{</span><span class="string" id="6599361">&#34;variable&#34;</span><span class="op" id="6599371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6599375">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599474">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6599522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599526"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599534">,</span>&nbsp;<span class="string" id="6599536">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6599553">}</span><span class="op" id="6599554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599557">{</span><span class="string" id="6599558">&#34;multidecl&#34;</span><span class="op" id="6599569">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599573">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6599593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599597"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599605">,</span>&nbsp;<span class="string" id="6599607">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6599630">}</span><span class="op" id="6599631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599634">{</span><span class="string" id="6599635">&#34;undefvar&#34;</span><span class="op" id="6599645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6599649">&#34;{{$a}}&#34;</span><span class="op" id="6599657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599661"><a href="/gostd/text/template/parse/parse_test.go.html#6590761">hasError</a></span><span class="op" id="6599669">,</span>&nbsp;<span class="string" id="6599671">`undefined&nbsp;variable`</span><span class="op" id="6599691">}</span><span class="op" id="6599692">,</span><br>
<span class="lineno">410</span><span class="op" id="6599694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6599697">func</span>&nbsp;<span class="ident" id="6599702">TestErrors</span><span class="op" id="6599712">(</span><span class="ident" id="6599713">t</span>&nbsp;<span class="op" id="6599715">*</span><span class="ident" id="6599716"><a href="/gostd/text/template/parse/parse_test.go.html#6586027">testing</a></span><span class="op" id="6599723">.</span><span class="ident" id="6599724"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6599725">)</span>&nbsp;<span class="op" id="6599727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6599730">for</span>&nbsp;<span class="ident" id="6599734">_</span><span class="op" id="6599735">,</span>&nbsp;<span class="ident" id="6599737">test</span>&nbsp;<span class="op" id="6599742">:=</span>&nbsp;<span class="keyword" id="6599745">range</span>&nbsp;<span class="ident" id="6599751"><a href="/gostd/text/template/parse/parse_test.go.html#6598249">errorTests</a></span>&nbsp;<span class="op" id="6599762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599766">_</span><span class="op" id="6599767">,</span>&nbsp;<span class="ident" id="6599769">err</span>&nbsp;<span class="op" id="6599773">:=</span>&nbsp;<span class="ident" id="6599776"><a href="/gostd/text/template/parse/parse.go.html#3183787">New</a></span><span class="op" id="6599779">(</span><span class="ident" id="6599780"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6599784">.</span><span class="ident" id="6599785"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6599789">)</span><span class="op" id="6599790">.</span><span class="ident" id="6599791"><a href="/gostd/text/template/parse/parse.go.html#3186584">Parse</a></span><span class="op" id="6599796">(</span><span class="ident" id="6599797"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6599801">.</span><span class="ident" id="6599802"><a href="/gostd/text/template/parse/parse_test.go.html#6590642">input</a></span><span class="op" id="6599807">,</span>&nbsp;<span class="string" id="6599809">&#34;&#34;</span><span class="op" id="6599811">,</span>&nbsp;<span class="string" id="6599813">&#34;&#34;</span><span class="op" id="6599815">,</span>&nbsp;<span class="builtinfunc" id="6599817">make</span><span class="op" id="6599821">(</span><span class="keyword" id="6599822">map</span><span class="op" id="6599825">[</span><span class="builtintype" id="6599826">string</span><span class="op" id="6599832">]</span><span class="op" id="6599833">*</span><span class="ident" id="6599834"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="6599838">)</span><span class="op" id="6599839">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6599843">if</span>&nbsp;<span class="ident" id="6599846"><a href="/gostd/text/template/parse/parse_test.go.html#6599769">err</a></span>&nbsp;<span class="op" id="6599850">==</span>&nbsp;<span class="builtintype" id="6599853">nil</span>&nbsp;<span class="op" id="6599857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599862"><a href="/gostd/text/template/parse/parse_test.go.html#6599713">t</a></span><span class="op" id="6599863">.</span><span class="ident" id="6599864"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6599870">(</span><span class="string" id="6599871">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6599891">,</span>&nbsp;<span class="ident" id="6599893"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6599897">.</span><span class="ident" id="6599898"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6599902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6599907">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6599918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6599922">if</span>&nbsp;<span class="op" id="6599925">!</span><span class="ident" id="6599926"><a href="/gostd/text/template/parse/parse_test.go.html#6586016">strings</a></span><span class="op" id="6599933">.</span><span class="ident" id="6599934"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6599942">(</span><span class="ident" id="6599943"><a href="/gostd/text/template/parse/parse_test.go.html#6599769">err</a></span><span class="op" id="6599946">.</span><span class="ident" id="6599947">Error</span><span class="op" id="6599952">(</span><span class="op" id="6599953">)</span><span class="op" id="6599954">,</span>&nbsp;<span class="ident" id="6599956"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6599960">.</span><span class="ident" id="6599961"><a href="/gostd/text/template/parse/parse_test.go.html#6590670">result</a></span><span class="op" id="6599967">)</span>&nbsp;<span class="op" id="6599969">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6599974"><a href="/gostd/text/template/parse/parse_test.go.html#6599713">t</a></span><span class="op" id="6599975">.</span><span class="ident" id="6599976"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6599982">(</span><span class="string" id="6599983">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6600017">,</span>&nbsp;<span class="ident" id="6600019"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6600023">.</span><span class="ident" id="6600024"><a href="/gostd/text/template/parse/parse_test.go.html#6590627">name</a></span><span class="op" id="6600028">,</span>&nbsp;<span class="ident" id="6600030"><a href="/gostd/text/template/parse/parse_test.go.html#6599769">err</a></span><span class="op" id="6600033">,</span>&nbsp;<span class="ident" id="6600035"><a href="/gostd/text/template/parse/parse_test.go.html#6599737">test</a></span><span class="op" id="6600039">.</span><span class="ident" id="6600040"><a href="/gostd/text/template/parse/parse_test.go.html#6590670">result</a></span><span class="op" id="6600046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6600050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6600053">}</span><br>
<span class="lineno"></span><span class="op" id="6600055">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
