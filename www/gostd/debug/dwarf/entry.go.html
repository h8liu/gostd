<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html" class="current">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4725525">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4725581">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4725635">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4725686">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="4725727">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="4725786">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="4725845">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="4725909">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4725988">package</span>&nbsp;<span class="ident" id="4725996">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4726003">import</span>&nbsp;<span class="op" id="4726010">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4726013">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4726023">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="4726033">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726036">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="4726094">type</span>&nbsp;<span class="ident" id="4726099">abbrev</span>&nbsp;<span class="keyword" id="4726106">struct</span>&nbsp;<span class="op" id="4726113">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726116">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726125">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726130">children</span>&nbsp;<span class="builtintype" id="4726139">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726145">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726154">[</span><span class="op" id="4726155">]</span><span class="ident" id="4726156">afield</span><br>
<span class="lineno"></span><span class="op" id="4726163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="4726166">type</span>&nbsp;<span class="ident" id="4726171">afield</span>&nbsp;<span class="keyword" id="4726178">struct</span>&nbsp;<span class="op" id="4726185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726188">attr</span>&nbsp;<span class="ident" id="4726193">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726199">fmt</span>&nbsp;&nbsp;<span class="ident" id="4726204">format</span><br>
<span class="lineno"></span><span class="op" id="4726211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4726214">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="4726267">type</span>&nbsp;<span class="ident" id="4726272">abbrevTable</span>&nbsp;<span class="keyword" id="4726284">map</span><span class="op" id="4726287">[</span><span class="builtintype" id="4726288">uint32</span><span class="op" id="4726294">]</span><span class="ident" id="4726295">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726303">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="4726373">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="4726406">func</span>&nbsp;<span class="op" id="4726411">(</span><span class="ident" id="4726412">d</span>&nbsp;<span class="op" id="4726414">*</span><span class="ident" id="4726415">Data</span><span class="op" id="4726419">)</span>&nbsp;<span class="ident" id="4726421">parseAbbrev</span><span class="op" id="4726432">(</span><span class="ident" id="4726433">off</span>&nbsp;<span class="builtintype" id="4726437">uint32</span><span class="op" id="4726443">)</span>&nbsp;<span class="op" id="4726445">(</span><span class="ident" id="4726446">abbrevTable</span><span class="op" id="4726457">,</span>&nbsp;<span class="builtintype" id="4726459">error</span><span class="op" id="4726464">)</span>&nbsp;<span class="op" id="4726466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726469">if</span>&nbsp;<span class="ident" id="4726472">m</span><span class="op" id="4726473">,</span>&nbsp;<span class="ident" id="4726475">ok</span>&nbsp;<span class="op" id="4726478">:=</span>&nbsp;<span class="ident" id="4726481">d</span><span class="op" id="4726482">.</span><span class="ident" id="4726483">abbrevCache</span><span class="op" id="4726494">[</span><span class="ident" id="4726495">off</span><span class="op" id="4726498">]</span><span class="op" id="4726499">;</span>&nbsp;<span class="ident" id="4726501">ok</span>&nbsp;<span class="op" id="4726504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726508">return</span>&nbsp;<span class="ident" id="4726515">m</span><span class="op" id="4726516">,</span>&nbsp;<span class="builtintype" id="4726518">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726527">data</span>&nbsp;<span class="op" id="4726532">:=</span>&nbsp;<span class="ident" id="4726535">d</span><span class="op" id="4726536">.</span><span class="ident" id="4726537">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726545">if</span>&nbsp;<span class="ident" id="4726548">off</span>&nbsp;<span class="op" id="4726552">&gt;</span>&nbsp;<span class="builtintype" id="4726554">uint32</span><span class="op" id="4726560">(</span><span class="builtinfunc" id="4726561">len</span><span class="op" id="4726564">(</span><span class="ident" id="4726565">data</span><span class="op" id="4726569">)</span><span class="op" id="4726570">)</span>&nbsp;<span class="op" id="4726572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726576">data</span>&nbsp;<span class="op" id="4726581">=</span>&nbsp;<span class="builtintype" id="4726583">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726588">}</span>&nbsp;<span class="keyword" id="4726590">else</span>&nbsp;<span class="op" id="4726595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726599">data</span>&nbsp;<span class="op" id="4726604">=</span>&nbsp;<span class="ident" id="4726606">data</span><span class="op" id="4726610">[</span><span class="ident" id="4726611">off</span><span class="op" id="4726614">:</span><span class="op" id="4726615">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726621">b</span>&nbsp;<span class="op" id="4726623">:=</span>&nbsp;<span class="ident" id="4726626">makeBuf</span><span class="op" id="4726633">(</span><span class="ident" id="4726634">d</span><span class="op" id="4726635">,</span>&nbsp;<span class="ident" id="4726637">unknownFormat</span><span class="op" id="4726650">{</span><span class="op" id="4726651">}</span><span class="op" id="4726652">,</span>&nbsp;<span class="string" id="4726654">&#34;abbrev&#34;</span><span class="op" id="4726662">,</span>&nbsp;<span class="num" id="4726664">0</span><span class="op" id="4726665">,</span>&nbsp;<span class="ident" id="4726667">data</span><span class="op" id="4726671">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4726675">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4726727">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726781">m</span>&nbsp;<span class="op" id="4726783">:=</span>&nbsp;<span class="builtinfunc" id="4726786">make</span><span class="op" id="4726790">(</span><span class="ident" id="4726791">abbrevTable</span><span class="op" id="4726802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726805">for</span>&nbsp;<span class="op" id="4726809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4726813">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726843">id</span>&nbsp;<span class="op" id="4726846">:=</span>&nbsp;<span class="builtintype" id="4726849">uint32</span><span class="op" id="4726855">(</span><span class="ident" id="4726856">b</span><span class="op" id="4726857">.</span><span class="builtintype" id="4726858">uint</span><span class="op" id="4726862">(</span><span class="op" id="4726863">)</span><span class="op" id="4726864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726868">if</span>&nbsp;<span class="ident" id="4726871">id</span>&nbsp;<span class="op" id="4726874">==</span>&nbsp;<span class="num" id="4726877">0</span>&nbsp;<span class="op" id="4726879">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4726884">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4726897">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726934">n</span>&nbsp;<span class="op" id="4726936">:=</span>&nbsp;<span class="num" id="4726939">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726943">b1</span>&nbsp;<span class="op" id="4726946">:=</span>&nbsp;<span class="ident" id="4726949">b</span>&nbsp;<span class="comment" id="4726951">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726977">b1</span><span class="op" id="4726979">.</span><span class="builtintype" id="4726980">uint</span><span class="op" id="4726984">(</span><span class="op" id="4726985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726989">b1</span><span class="op" id="4726991">.</span><span class="builtintype" id="4726992">uint8</span><span class="op" id="4726997">(</span><span class="op" id="4726998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727002">for</span>&nbsp;<span class="op" id="4727006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727011">tag</span>&nbsp;<span class="op" id="4727015">:=</span>&nbsp;<span class="ident" id="4727018">b1</span><span class="op" id="4727020">.</span><span class="builtintype" id="4727021">uint</span><span class="op" id="4727025">(</span><span class="op" id="4727026">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727031">fmt</span>&nbsp;<span class="op" id="4727035">:=</span>&nbsp;<span class="ident" id="4727038">b1</span><span class="op" id="4727040">.</span><span class="builtintype" id="4727041">uint</span><span class="op" id="4727045">(</span><span class="op" id="4727046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727051">if</span>&nbsp;<span class="ident" id="4727054">tag</span>&nbsp;<span class="op" id="4727058">==</span>&nbsp;<span class="num" id="4727061">0</span>&nbsp;<span class="op" id="4727063">&amp;&amp;</span>&nbsp;<span class="ident" id="4727066">fmt</span>&nbsp;<span class="op" id="4727070">==</span>&nbsp;<span class="num" id="4727073">0</span>&nbsp;<span class="op" id="4727075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727081">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727095">n</span><span class="op" id="4727096">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727105">if</span>&nbsp;<span class="ident" id="4727108">b1</span><span class="op" id="4727110">.</span><span class="ident" id="4727111">err</span>&nbsp;<span class="op" id="4727115">!=</span>&nbsp;<span class="builtintype" id="4727118">nil</span>&nbsp;<span class="op" id="4727122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727127">return</span>&nbsp;<span class="builtintype" id="4727134">nil</span><span class="op" id="4727137">,</span>&nbsp;<span class="ident" id="4727139">b1</span><span class="op" id="4727141">.</span><span class="ident" id="4727142">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4727153">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727215">var</span>&nbsp;<span class="ident" id="4727219">a</span>&nbsp;<span class="ident" id="4727221">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727230">a</span><span class="op" id="4727231">.</span><span class="ident" id="4727232">tag</span>&nbsp;<span class="op" id="4727236">=</span>&nbsp;<span class="ident" id="4727238">Tag</span><span class="op" id="4727241">(</span><span class="ident" id="4727242">b</span><span class="op" id="4727243">.</span><span class="builtintype" id="4727244">uint</span><span class="op" id="4727248">(</span><span class="op" id="4727249">)</span><span class="op" id="4727250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727254">a</span><span class="op" id="4727255">.</span><span class="ident" id="4727256">children</span>&nbsp;<span class="op" id="4727265">=</span>&nbsp;<span class="ident" id="4727267">b</span><span class="op" id="4727268">.</span><span class="builtintype" id="4727269">uint8</span><span class="op" id="4727274">(</span><span class="op" id="4727275">)</span>&nbsp;<span class="op" id="4727277">!=</span>&nbsp;<span class="num" id="4727280">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727284">a</span><span class="op" id="4727285">.</span><span class="ident" id="4727286">field</span>&nbsp;<span class="op" id="4727292">=</span>&nbsp;<span class="builtinfunc" id="4727294">make</span><span class="op" id="4727298">(</span><span class="op" id="4727299">[</span><span class="op" id="4727300">]</span><span class="ident" id="4727301">afield</span><span class="op" id="4727307">,</span>&nbsp;<span class="ident" id="4727309">n</span><span class="op" id="4727310">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727314">for</span>&nbsp;<span class="ident" id="4727318">i</span>&nbsp;<span class="op" id="4727320">:=</span>&nbsp;<span class="keyword" id="4727323">range</span>&nbsp;<span class="ident" id="4727329">a</span><span class="op" id="4727330">.</span><span class="ident" id="4727331">field</span>&nbsp;<span class="op" id="4727337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727342">a</span><span class="op" id="4727343">.</span><span class="ident" id="4727344">field</span><span class="op" id="4727349">[</span><span class="ident" id="4727350">i</span><span class="op" id="4727351">]</span><span class="op" id="4727352">.</span><span class="ident" id="4727353">attr</span>&nbsp;<span class="op" id="4727358">=</span>&nbsp;<span class="ident" id="4727360">Attr</span><span class="op" id="4727364">(</span><span class="ident" id="4727365">b</span><span class="op" id="4727366">.</span><span class="builtintype" id="4727367">uint</span><span class="op" id="4727371">(</span><span class="op" id="4727372">)</span><span class="op" id="4727373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727378">a</span><span class="op" id="4727379">.</span><span class="ident" id="4727380">field</span><span class="op" id="4727385">[</span><span class="ident" id="4727386">i</span><span class="op" id="4727387">]</span><span class="op" id="4727388">.</span><span class="ident" id="4727389">fmt</span>&nbsp;<span class="op" id="4727393">=</span>&nbsp;<span class="ident" id="4727395">format</span><span class="op" id="4727401">(</span><span class="ident" id="4727402">b</span><span class="op" id="4727403">.</span><span class="builtintype" id="4727404">uint</span><span class="op" id="4727408">(</span><span class="op" id="4727409">)</span><span class="op" id="4727410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727418">b</span><span class="op" id="4727419">.</span><span class="builtintype" id="4727420">uint</span><span class="op" id="4727424">(</span><span class="op" id="4727425">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727429">b</span><span class="op" id="4727430">.</span><span class="builtintype" id="4727431">uint</span><span class="op" id="4727435">(</span><span class="op" id="4727436">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727441">m</span><span class="op" id="4727442">[</span><span class="ident" id="4727443">id</span><span class="op" id="4727445">]</span>&nbsp;<span class="op" id="4727447">=</span>&nbsp;<span class="ident" id="4727449">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727455">if</span>&nbsp;<span class="ident" id="4727458">b</span><span class="op" id="4727459">.</span><span class="ident" id="4727460">err</span>&nbsp;<span class="op" id="4727464">!=</span>&nbsp;<span class="builtintype" id="4727467">nil</span>&nbsp;<span class="op" id="4727471">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727475">return</span>&nbsp;<span class="builtintype" id="4727482">nil</span><span class="op" id="4727485">,</span>&nbsp;<span class="ident" id="4727487">b</span><span class="op" id="4727488">.</span><span class="ident" id="4727489">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727497">d</span><span class="op" id="4727498">.</span><span class="ident" id="4727499">abbrevCache</span><span class="op" id="4727510">[</span><span class="ident" id="4727511">off</span><span class="op" id="4727514">]</span>&nbsp;<span class="op" id="4727516">=</span>&nbsp;<span class="ident" id="4727518">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4727521">return</span>&nbsp;<span class="ident" id="4727528">m</span><span class="op" id="4727529">,</span>&nbsp;<span class="builtintype" id="4727531">nil</span><br>
<span class="lineno"></span><span class="op" id="4727535">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4727538">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="4727590">type</span>&nbsp;<span class="ident" id="4727595">Entry</span>&nbsp;<span class="keyword" id="4727601">struct</span>&nbsp;<span class="op" id="4727608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727611">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4727620">Offset</span>&nbsp;<span class="comment" id="4727627">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727661">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727670">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4727677">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727701">Children</span>&nbsp;<span class="builtintype" id="4727710">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4727717">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727759">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4727768">[</span><span class="op" id="4727769">]</span><span class="ident" id="4727770">Field</span><br>
<span class="lineno"></span><span class="op" id="4727776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4727779">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="4727836">type</span>&nbsp;<span class="ident" id="4727841">Field</span>&nbsp;<span class="keyword" id="4727847">struct</span>&nbsp;<span class="op" id="4727854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727857">Attr</span>&nbsp;<span class="ident" id="4727862">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4727868">Val</span>&nbsp;&nbsp;<span class="keyword" id="4727873">interface</span><span class="op" id="4727882">{</span><span class="op" id="4727883">}</span><br>
<span class="lineno"></span><span class="op" id="4727885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="4727888">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="4727954">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="4727995">//</span><br>
<span class="lineno"></span><span class="comment" id="4727998">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4728058">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="4728124">//&nbsp;&nbsp;&nbsp;&nbsp;v,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="4728164">//</span><br>
<span class="lineno"></span><span class="keyword" id="4728167">func</span>&nbsp;<span class="op" id="4728172">(</span><span class="ident" id="4728173">e</span>&nbsp;<span class="op" id="4728175">*</span><span class="ident" id="4728176">Entry</span><span class="op" id="4728181">)</span>&nbsp;<span class="ident" id="4728183">Val</span><span class="op" id="4728186">(</span><span class="ident" id="4728187">a</span>&nbsp;<span class="ident" id="4728189">Attr</span><span class="op" id="4728193">)</span>&nbsp;<span class="keyword" id="4728195">interface</span><span class="op" id="4728204">{</span><span class="op" id="4728205">}</span>&nbsp;<span class="op" id="4728207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728210">for</span>&nbsp;<span class="ident" id="4728214">_</span><span class="op" id="4728215">,</span>&nbsp;<span class="ident" id="4728217">f</span>&nbsp;<span class="op" id="4728219">:=</span>&nbsp;<span class="keyword" id="4728222">range</span>&nbsp;<span class="ident" id="4728228">e</span><span class="op" id="4728229">.</span><span class="ident" id="4728230">Field</span>&nbsp;<span class="op" id="4728236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728240">if</span>&nbsp;<span class="ident" id="4728243">f</span><span class="op" id="4728244">.</span><span class="ident" id="4728245">Attr</span>&nbsp;<span class="op" id="4728250">==</span>&nbsp;<span class="ident" id="4728253">a</span>&nbsp;<span class="op" id="4728255">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728260">return</span>&nbsp;<span class="ident" id="4728267">f</span><span class="op" id="4728268">.</span><span class="ident" id="4728269">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728281">return</span>&nbsp;<span class="builtintype" id="4728288">nil</span><br>
<span class="lineno"></span><span class="op" id="4728292">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="4728295">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="4728367">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="4728389">type</span>&nbsp;<span class="ident" id="4728394">Offset</span>&nbsp;<span class="builtintype" id="4728401">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4728409">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="4728458">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="4728504">func</span>&nbsp;<span class="op" id="4728509">(</span><span class="ident" id="4728510">b</span>&nbsp;<span class="op" id="4728512">*</span><span class="ident" id="4728513">buf</span><span class="op" id="4728516">)</span>&nbsp;<span class="ident" id="4728518">entry</span><span class="op" id="4728523">(</span><span class="ident" id="4728524">atab</span>&nbsp;<span class="ident" id="4728529">abbrevTable</span><span class="op" id="4728540">,</span>&nbsp;<span class="ident" id="4728542">ubase</span>&nbsp;<span class="ident" id="4728548">Offset</span><span class="op" id="4728554">)</span>&nbsp;<span class="op" id="4728556">*</span><span class="ident" id="4728557">Entry</span>&nbsp;<span class="op" id="4728563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728566">off</span>&nbsp;<span class="op" id="4728570">:=</span>&nbsp;<span class="ident" id="4728573">b</span><span class="op" id="4728574">.</span><span class="ident" id="4728575">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728580">id</span>&nbsp;<span class="op" id="4728583">:=</span>&nbsp;<span class="builtintype" id="4728586">uint32</span><span class="op" id="4728592">(</span><span class="ident" id="4728593">b</span><span class="op" id="4728594">.</span><span class="builtintype" id="4728595">uint</span><span class="op" id="4728599">(</span><span class="op" id="4728600">)</span><span class="op" id="4728601">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728604">if</span>&nbsp;<span class="ident" id="4728607">id</span>&nbsp;<span class="op" id="4728610">==</span>&nbsp;<span class="num" id="4728613">0</span>&nbsp;<span class="op" id="4728615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728619">return</span>&nbsp;<span class="op" id="4728626">&amp;</span><span class="ident" id="4728627">Entry</span><span class="op" id="4728632">{</span><span class="op" id="4728633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728639">a</span><span class="op" id="4728640">,</span>&nbsp;<span class="ident" id="4728642">ok</span>&nbsp;<span class="op" id="4728645">:=</span>&nbsp;<span class="ident" id="4728648">atab</span><span class="op" id="4728652">[</span><span class="ident" id="4728653">id</span><span class="op" id="4728655">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728658">if</span>&nbsp;<span class="op" id="4728661">!</span><span class="ident" id="4728662">ok</span>&nbsp;<span class="op" id="4728665">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728669">b</span><span class="op" id="4728670">.</span><span class="builtintype" id="4728671">error</span><span class="op" id="4728676">(</span><span class="string" id="4728677">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="4728711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728715">return</span>&nbsp;<span class="builtintype" id="4728722">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728730">e</span>&nbsp;<span class="op" id="4728732">:=</span>&nbsp;<span class="op" id="4728735">&amp;</span><span class="ident" id="4728736">Entry</span><span class="op" id="4728741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728745">Offset</span><span class="op" id="4728751">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4728755">off</span><span class="op" id="4728758">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728762">Tag</span><span class="op" id="4728765">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728772">a</span><span class="op" id="4728773">.</span><span class="ident" id="4728774">tag</span><span class="op" id="4728777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728781">Children</span><span class="op" id="4728789">:</span>&nbsp;<span class="ident" id="4728791">a</span><span class="op" id="4728792">.</span><span class="ident" id="4728793">children</span><span class="op" id="4728801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728805">Field</span><span class="op" id="4728810">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4728815">make</span><span class="op" id="4728819">(</span><span class="op" id="4728820">[</span><span class="op" id="4728821">]</span><span class="ident" id="4728822">Field</span><span class="op" id="4728827">,</span>&nbsp;<span class="builtinfunc" id="4728829">len</span><span class="op" id="4728832">(</span><span class="ident" id="4728833">a</span><span class="op" id="4728834">.</span><span class="ident" id="4728835">field</span><span class="op" id="4728840">)</span><span class="op" id="4728841">)</span><span class="op" id="4728842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728848">for</span>&nbsp;<span class="ident" id="4728852">i</span>&nbsp;<span class="op" id="4728854">:=</span>&nbsp;<span class="keyword" id="4728857">range</span>&nbsp;<span class="ident" id="4728863">e</span><span class="op" id="4728864">.</span><span class="ident" id="4728865">Field</span>&nbsp;<span class="op" id="4728871">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728875">e</span><span class="op" id="4728876">.</span><span class="ident" id="4728877">Field</span><span class="op" id="4728882">[</span><span class="ident" id="4728883">i</span><span class="op" id="4728884">]</span><span class="op" id="4728885">.</span><span class="ident" id="4728886">Attr</span>&nbsp;<span class="op" id="4728891">=</span>&nbsp;<span class="ident" id="4728893">a</span><span class="op" id="4728894">.</span><span class="ident" id="4728895">field</span><span class="op" id="4728900">[</span><span class="ident" id="4728901">i</span><span class="op" id="4728902">]</span><span class="op" id="4728903">.</span><span class="ident" id="4728904">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728911">fmt</span>&nbsp;<span class="op" id="4728915">:=</span>&nbsp;<span class="ident" id="4728918">a</span><span class="op" id="4728919">.</span><span class="ident" id="4728920">field</span><span class="op" id="4728925">[</span><span class="ident" id="4728926">i</span><span class="op" id="4728927">]</span><span class="op" id="4728928">.</span><span class="ident" id="4728929">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728935">if</span>&nbsp;<span class="ident" id="4728938">fmt</span>&nbsp;<span class="op" id="4728942">==</span>&nbsp;<span class="ident" id="4728945">formIndirect</span>&nbsp;<span class="op" id="4728958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728963">fmt</span>&nbsp;<span class="op" id="4728967">=</span>&nbsp;<span class="ident" id="4728969">format</span><span class="op" id="4728975">(</span><span class="ident" id="4728976">b</span><span class="op" id="4728977">.</span><span class="builtintype" id="4728978">uint</span><span class="op" id="4728982">(</span><span class="op" id="4728983">)</span><span class="op" id="4728984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4728988">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4728992">var</span>&nbsp;<span class="ident" id="4728996">val</span>&nbsp;<span class="keyword" id="4729000">interface</span><span class="op" id="4729009">{</span><span class="op" id="4729010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729014">switch</span>&nbsp;<span class="ident" id="4729021">fmt</span>&nbsp;<span class="op" id="4729025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729029">default</span><span class="op" id="4729036">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729041">b</span><span class="op" id="4729042">.</span><span class="builtintype" id="4729043">error</span><span class="op" id="4729048">(</span><span class="string" id="4729049">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4729080">+</span>&nbsp;<span class="ident" id="4729082">strconv</span><span class="op" id="4729089">.</span><span class="ident" id="4729090">FormatInt</span><span class="op" id="4729099">(</span><span class="ident" id="4729100">int64</span><span class="op" id="4729105">(</span><span class="ident" id="4729106">fmt</span><span class="op" id="4729109">)</span><span class="op" id="4729110">,</span>&nbsp;<span class="num" id="4729112">16</span><span class="op" id="4729114">)</span><span class="op" id="4729115">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729120">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729133">case</span>&nbsp;<span class="ident" id="4729138">formAddr</span><span class="op" id="4729146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729151">val</span>&nbsp;<span class="op" id="4729155">=</span>&nbsp;<span class="ident" id="4729157">b</span><span class="op" id="4729158">.</span><span class="ident" id="4729159">addr</span><span class="op" id="4729163">(</span><span class="op" id="4729164">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729169">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729180">case</span>&nbsp;<span class="ident" id="4729185">formDwarfBlock1</span><span class="op" id="4729200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729205">val</span>&nbsp;<span class="op" id="4729209">=</span>&nbsp;<span class="ident" id="4729211">b</span><span class="op" id="4729212">.</span><span class="ident" id="4729213">bytes</span><span class="op" id="4729218">(</span><span class="builtintype" id="4729219">int</span><span class="op" id="4729222">(</span><span class="ident" id="4729223">b</span><span class="op" id="4729224">.</span><span class="builtintype" id="4729225">uint8</span><span class="op" id="4729230">(</span><span class="op" id="4729231">)</span><span class="op" id="4729232">)</span><span class="op" id="4729233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729237">case</span>&nbsp;<span class="ident" id="4729242">formDwarfBlock2</span><span class="op" id="4729257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729262">val</span>&nbsp;<span class="op" id="4729266">=</span>&nbsp;<span class="ident" id="4729268">b</span><span class="op" id="4729269">.</span><span class="ident" id="4729270">bytes</span><span class="op" id="4729275">(</span><span class="builtintype" id="4729276">int</span><span class="op" id="4729279">(</span><span class="ident" id="4729280">b</span><span class="op" id="4729281">.</span><span class="builtintype" id="4729282">uint16</span><span class="op" id="4729288">(</span><span class="op" id="4729289">)</span><span class="op" id="4729290">)</span><span class="op" id="4729291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729295">case</span>&nbsp;<span class="ident" id="4729300">formDwarfBlock4</span><span class="op" id="4729315">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729320">val</span>&nbsp;<span class="op" id="4729324">=</span>&nbsp;<span class="ident" id="4729326">b</span><span class="op" id="4729327">.</span><span class="ident" id="4729328">bytes</span><span class="op" id="4729333">(</span><span class="builtintype" id="4729334">int</span><span class="op" id="4729337">(</span><span class="ident" id="4729338">b</span><span class="op" id="4729339">.</span><span class="builtintype" id="4729340">uint32</span><span class="op" id="4729346">(</span><span class="op" id="4729347">)</span><span class="op" id="4729348">)</span><span class="op" id="4729349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729353">case</span>&nbsp;<span class="ident" id="4729358">formDwarfBlock</span><span class="op" id="4729372">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729377">val</span>&nbsp;<span class="op" id="4729381">=</span>&nbsp;<span class="ident" id="4729383">b</span><span class="op" id="4729384">.</span><span class="ident" id="4729385">bytes</span><span class="op" id="4729390">(</span><span class="builtintype" id="4729391">int</span><span class="op" id="4729394">(</span><span class="ident" id="4729395">b</span><span class="op" id="4729396">.</span><span class="builtintype" id="4729397">uint</span><span class="op" id="4729401">(</span><span class="op" id="4729402">)</span><span class="op" id="4729403">)</span><span class="op" id="4729404">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729409">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729423">case</span>&nbsp;<span class="ident" id="4729428">formData1</span><span class="op" id="4729437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729442">val</span>&nbsp;<span class="op" id="4729446">=</span>&nbsp;<span class="ident" id="4729448">int64</span><span class="op" id="4729453">(</span><span class="ident" id="4729454">b</span><span class="op" id="4729455">.</span><span class="builtintype" id="4729456">uint8</span><span class="op" id="4729461">(</span><span class="op" id="4729462">)</span><span class="op" id="4729463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729467">case</span>&nbsp;<span class="ident" id="4729472">formData2</span><span class="op" id="4729481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729486">val</span>&nbsp;<span class="op" id="4729490">=</span>&nbsp;<span class="ident" id="4729492">int64</span><span class="op" id="4729497">(</span><span class="ident" id="4729498">b</span><span class="op" id="4729499">.</span><span class="builtintype" id="4729500">uint16</span><span class="op" id="4729506">(</span><span class="op" id="4729507">)</span><span class="op" id="4729508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729512">case</span>&nbsp;<span class="ident" id="4729517">formData4</span><span class="op" id="4729526">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729531">val</span>&nbsp;<span class="op" id="4729535">=</span>&nbsp;<span class="ident" id="4729537">int64</span><span class="op" id="4729542">(</span><span class="ident" id="4729543">b</span><span class="op" id="4729544">.</span><span class="builtintype" id="4729545">uint32</span><span class="op" id="4729551">(</span><span class="op" id="4729552">)</span><span class="op" id="4729553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729557">case</span>&nbsp;<span class="ident" id="4729562">formData8</span><span class="op" id="4729571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729576">val</span>&nbsp;<span class="op" id="4729580">=</span>&nbsp;<span class="ident" id="4729582">int64</span><span class="op" id="4729587">(</span><span class="ident" id="4729588">b</span><span class="op" id="4729589">.</span><span class="ident" id="4729590">uint64</span><span class="op" id="4729596">(</span><span class="op" id="4729597">)</span><span class="op" id="4729598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729602">case</span>&nbsp;<span class="ident" id="4729607">formSdata</span><span class="op" id="4729616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729621">val</span>&nbsp;<span class="op" id="4729625">=</span>&nbsp;<span class="ident" id="4729627">int64</span><span class="op" id="4729632">(</span><span class="ident" id="4729633">b</span><span class="op" id="4729634">.</span><span class="builtintype" id="4729635">int</span><span class="op" id="4729638">(</span><span class="op" id="4729639">)</span><span class="op" id="4729640">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729644">case</span>&nbsp;<span class="ident" id="4729649">formUdata</span><span class="op" id="4729658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729663">val</span>&nbsp;<span class="op" id="4729667">=</span>&nbsp;<span class="ident" id="4729669">int64</span><span class="op" id="4729674">(</span><span class="ident" id="4729675">b</span><span class="op" id="4729676">.</span><span class="builtintype" id="4729677">uint</span><span class="op" id="4729681">(</span><span class="op" id="4729682">)</span><span class="op" id="4729683">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729688">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729698">case</span>&nbsp;<span class="ident" id="4729703">formFlag</span><span class="op" id="4729711">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729716">val</span>&nbsp;<span class="op" id="4729720">=</span>&nbsp;<span class="ident" id="4729722">b</span><span class="op" id="4729723">.</span><span class="builtintype" id="4729724">uint8</span><span class="op" id="4729729">(</span><span class="op" id="4729730">)</span>&nbsp;<span class="op" id="4729732">==</span>&nbsp;<span class="num" id="4729735">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729739">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729760">case</span>&nbsp;<span class="ident" id="4729765">formFlagPresent</span><span class="op" id="4729780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729785">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729857">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729914">val</span>&nbsp;<span class="op" id="4729918">=</span>&nbsp;<span class="builtintype" id="4729920">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4729928">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4729958">case</span>&nbsp;<span class="ident" id="4729963">formRefAddr</span><span class="op" id="4729974">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729979">vers</span>&nbsp;<span class="op" id="4729984">:=</span>&nbsp;<span class="ident" id="4729987">b</span><span class="op" id="4729988">.</span><span class="ident" id="4729989">format</span><span class="op" id="4729995">.</span><span class="ident" id="4729996">version</span><span class="op" id="4730003">(</span><span class="op" id="4730004">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730009">if</span>&nbsp;<span class="ident" id="4730012">vers</span>&nbsp;<span class="op" id="4730017">==</span>&nbsp;<span class="num" id="4730020">0</span>&nbsp;<span class="op" id="4730022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730028">b</span><span class="op" id="4730029">.</span><span class="builtintype" id="4730030">error</span><span class="op" id="4730035">(</span><span class="string" id="4730036">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4730074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730079">}</span>&nbsp;<span class="keyword" id="4730081">else</span>&nbsp;<span class="keyword" id="4730086">if</span>&nbsp;<span class="ident" id="4730089">vers</span>&nbsp;<span class="op" id="4730094">==</span>&nbsp;<span class="num" id="4730097">2</span>&nbsp;<span class="op" id="4730099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730105">val</span>&nbsp;<span class="op" id="4730109">=</span>&nbsp;<span class="ident" id="4730111">Offset</span><span class="op" id="4730117">(</span><span class="ident" id="4730118">b</span><span class="op" id="4730119">.</span><span class="ident" id="4730120">addr</span><span class="op" id="4730124">(</span><span class="op" id="4730125">)</span><span class="op" id="4730126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730131">}</span>&nbsp;<span class="keyword" id="4730133">else</span>&nbsp;<span class="op" id="4730138">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730144">is64</span><span class="op" id="4730148">,</span>&nbsp;<span class="ident" id="4730150">known</span>&nbsp;<span class="op" id="4730156">:=</span>&nbsp;<span class="ident" id="4730159">b</span><span class="op" id="4730160">.</span><span class="ident" id="4730161">format</span><span class="op" id="4730167">.</span><span class="ident" id="4730168">dwarf64</span><span class="op" id="4730175">(</span><span class="op" id="4730176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730182">if</span>&nbsp;<span class="op" id="4730185">!</span><span class="ident" id="4730186">known</span>&nbsp;<span class="op" id="4730192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730199">b</span><span class="op" id="4730200">.</span><span class="builtintype" id="4730201">error</span><span class="op" id="4730206">(</span><span class="string" id="4730207">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4730242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730248">}</span>&nbsp;<span class="keyword" id="4730250">else</span>&nbsp;<span class="keyword" id="4730255">if</span>&nbsp;<span class="ident" id="4730258">is64</span>&nbsp;<span class="op" id="4730263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730270">val</span>&nbsp;<span class="op" id="4730274">=</span>&nbsp;<span class="ident" id="4730276">Offset</span><span class="op" id="4730282">(</span><span class="ident" id="4730283">b</span><span class="op" id="4730284">.</span><span class="ident" id="4730285">uint64</span><span class="op" id="4730291">(</span><span class="op" id="4730292">)</span><span class="op" id="4730293">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730299">}</span>&nbsp;<span class="keyword" id="4730301">else</span>&nbsp;<span class="op" id="4730306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730313">val</span>&nbsp;<span class="op" id="4730317">=</span>&nbsp;<span class="ident" id="4730319">Offset</span><span class="op" id="4730325">(</span><span class="ident" id="4730326">b</span><span class="op" id="4730327">.</span><span class="builtintype" id="4730328">uint32</span><span class="op" id="4730334">(</span><span class="op" id="4730335">)</span><span class="op" id="4730336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730351">case</span>&nbsp;<span class="ident" id="4730356">formRef1</span><span class="op" id="4730364">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730369">val</span>&nbsp;<span class="op" id="4730373">=</span>&nbsp;<span class="ident" id="4730375">Offset</span><span class="op" id="4730381">(</span><span class="ident" id="4730382">b</span><span class="op" id="4730383">.</span><span class="builtintype" id="4730384">uint8</span><span class="op" id="4730389">(</span><span class="op" id="4730390">)</span><span class="op" id="4730391">)</span>&nbsp;<span class="op" id="4730393">+</span>&nbsp;<span class="ident" id="4730395">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730403">case</span>&nbsp;<span class="ident" id="4730408">formRef2</span><span class="op" id="4730416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730421">val</span>&nbsp;<span class="op" id="4730425">=</span>&nbsp;<span class="ident" id="4730427">Offset</span><span class="op" id="4730433">(</span><span class="ident" id="4730434">b</span><span class="op" id="4730435">.</span><span class="builtintype" id="4730436">uint16</span><span class="op" id="4730442">(</span><span class="op" id="4730443">)</span><span class="op" id="4730444">)</span>&nbsp;<span class="op" id="4730446">+</span>&nbsp;<span class="ident" id="4730448">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730456">case</span>&nbsp;<span class="ident" id="4730461">formRef4</span><span class="op" id="4730469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730474">val</span>&nbsp;<span class="op" id="4730478">=</span>&nbsp;<span class="ident" id="4730480">Offset</span><span class="op" id="4730486">(</span><span class="ident" id="4730487">b</span><span class="op" id="4730488">.</span><span class="builtintype" id="4730489">uint32</span><span class="op" id="4730495">(</span><span class="op" id="4730496">)</span><span class="op" id="4730497">)</span>&nbsp;<span class="op" id="4730499">+</span>&nbsp;<span class="ident" id="4730501">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730509">case</span>&nbsp;<span class="ident" id="4730514">formRef8</span><span class="op" id="4730522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730527">val</span>&nbsp;<span class="op" id="4730531">=</span>&nbsp;<span class="ident" id="4730533">Offset</span><span class="op" id="4730539">(</span><span class="ident" id="4730540">b</span><span class="op" id="4730541">.</span><span class="ident" id="4730542">uint64</span><span class="op" id="4730548">(</span><span class="op" id="4730549">)</span><span class="op" id="4730550">)</span>&nbsp;<span class="op" id="4730552">+</span>&nbsp;<span class="ident" id="4730554">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730562">case</span>&nbsp;<span class="ident" id="4730567">formRefUdata</span><span class="op" id="4730579">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730584">val</span>&nbsp;<span class="op" id="4730588">=</span>&nbsp;<span class="ident" id="4730590">Offset</span><span class="op" id="4730596">(</span><span class="ident" id="4730597">b</span><span class="op" id="4730598">.</span><span class="builtintype" id="4730599">uint</span><span class="op" id="4730603">(</span><span class="op" id="4730604">)</span><span class="op" id="4730605">)</span>&nbsp;<span class="op" id="4730607">+</span>&nbsp;<span class="ident" id="4730609">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4730618">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730630">case</span>&nbsp;<span class="ident" id="4730635">formString</span><span class="op" id="4730645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730650">val</span>&nbsp;<span class="op" id="4730654">=</span>&nbsp;<span class="ident" id="4730656">b</span><span class="op" id="4730657">.</span><span class="builtintype" id="4730658">string</span><span class="op" id="4730664">(</span><span class="op" id="4730665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730669">case</span>&nbsp;<span class="ident" id="4730674">formStrp</span><span class="op" id="4730682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730687">off</span>&nbsp;<span class="op" id="4730691">:=</span>&nbsp;<span class="ident" id="4730694">b</span><span class="op" id="4730695">.</span><span class="builtintype" id="4730696">uint32</span><span class="op" id="4730702">(</span><span class="op" id="4730703">)</span>&nbsp;<span class="comment" id="4730705">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730734">if</span>&nbsp;<span class="ident" id="4730737">b</span><span class="op" id="4730738">.</span><span class="ident" id="4730739">err</span>&nbsp;<span class="op" id="4730743">!=</span>&nbsp;<span class="builtintype" id="4730746">nil</span>&nbsp;<span class="op" id="4730750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730756">return</span>&nbsp;<span class="builtintype" id="4730763">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730775">b1</span>&nbsp;<span class="op" id="4730778">:=</span>&nbsp;<span class="ident" id="4730781">makeBuf</span><span class="op" id="4730788">(</span><span class="ident" id="4730789">b</span><span class="op" id="4730790">.</span><span class="ident" id="4730791">dwarf</span><span class="op" id="4730796">,</span>&nbsp;<span class="ident" id="4730798">unknownFormat</span><span class="op" id="4730811">{</span><span class="op" id="4730812">}</span><span class="op" id="4730813">,</span>&nbsp;<span class="string" id="4730815">&#34;str&#34;</span><span class="op" id="4730820">,</span>&nbsp;<span class="num" id="4730822">0</span><span class="op" id="4730823">,</span>&nbsp;<span class="ident" id="4730825">b</span><span class="op" id="4730826">.</span><span class="ident" id="4730827">dwarf</span><span class="op" id="4730832">.</span><span class="ident" id="4730833">str</span><span class="op" id="4730836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730841">b1</span><span class="op" id="4730843">.</span><span class="ident" id="4730844">skip</span><span class="op" id="4730848">(</span><span class="builtintype" id="4730849">int</span><span class="op" id="4730852">(</span><span class="ident" id="4730853">off</span><span class="op" id="4730856">)</span><span class="op" id="4730857">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730862">val</span>&nbsp;<span class="op" id="4730866">=</span>&nbsp;<span class="ident" id="4730868">b1</span><span class="op" id="4730870">.</span><span class="builtintype" id="4730871">string</span><span class="op" id="4730877">(</span><span class="op" id="4730878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730883">if</span>&nbsp;<span class="ident" id="4730886">b1</span><span class="op" id="4730888">.</span><span class="ident" id="4730889">err</span>&nbsp;<span class="op" id="4730893">!=</span>&nbsp;<span class="builtintype" id="4730896">nil</span>&nbsp;<span class="op" id="4730900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4730906">b</span><span class="op" id="4730907">.</span><span class="ident" id="4730908">err</span>&nbsp;<span class="op" id="4730912">=</span>&nbsp;<span class="ident" id="4730914">b1</span><span class="op" id="4730916">.</span><span class="ident" id="4730917">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4730925">return</span>&nbsp;<span class="builtintype" id="4730932">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4730939">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4730944">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4730991">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731056">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731122">case</span>&nbsp;<span class="ident" id="4731127">formSecOffset</span><span class="op" id="4731140">,</span>&nbsp;<span class="ident" id="4731142">formGnuRefAlt</span><span class="op" id="4731155">,</span>&nbsp;<span class="ident" id="4731157">formGnuStrpAlt</span><span class="op" id="4731171">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731176">is64</span><span class="op" id="4731180">,</span>&nbsp;<span class="ident" id="4731182">known</span>&nbsp;<span class="op" id="4731188">:=</span>&nbsp;<span class="ident" id="4731191">b</span><span class="op" id="4731192">.</span><span class="ident" id="4731193">format</span><span class="op" id="4731199">.</span><span class="ident" id="4731200">dwarf64</span><span class="op" id="4731207">(</span><span class="op" id="4731208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731213">if</span>&nbsp;<span class="op" id="4731216">!</span><span class="ident" id="4731217">known</span>&nbsp;<span class="op" id="4731223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731229">b</span><span class="op" id="4731230">.</span><span class="builtintype" id="4731231">error</span><span class="op" id="4731236">(</span><span class="string" id="4731237">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4731264">+</span>&nbsp;<span class="ident" id="4731266">strconv</span><span class="op" id="4731273">.</span><span class="ident" id="4731274">FormatInt</span><span class="op" id="4731283">(</span><span class="ident" id="4731284">int64</span><span class="op" id="4731289">(</span><span class="ident" id="4731290">fmt</span><span class="op" id="4731293">)</span><span class="op" id="4731294">,</span>&nbsp;<span class="num" id="4731296">16</span><span class="op" id="4731298">)</span><span class="op" id="4731299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731304">}</span>&nbsp;<span class="keyword" id="4731306">else</span>&nbsp;<span class="keyword" id="4731311">if</span>&nbsp;<span class="ident" id="4731314">is64</span>&nbsp;<span class="op" id="4731319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731325">val</span>&nbsp;<span class="op" id="4731329">=</span>&nbsp;<span class="ident" id="4731331">int64</span><span class="op" id="4731336">(</span><span class="ident" id="4731337">b</span><span class="op" id="4731338">.</span><span class="ident" id="4731339">uint64</span><span class="op" id="4731345">(</span><span class="op" id="4731346">)</span><span class="op" id="4731347">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731352">}</span>&nbsp;<span class="keyword" id="4731354">else</span>&nbsp;<span class="op" id="4731359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731365">val</span>&nbsp;<span class="op" id="4731369">=</span>&nbsp;<span class="ident" id="4731371">int64</span><span class="op" id="4731376">(</span><span class="ident" id="4731377">b</span><span class="op" id="4731378">.</span><span class="builtintype" id="4731379">uint32</span><span class="op" id="4731385">(</span><span class="op" id="4731386">)</span><span class="op" id="4731387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731397">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731410">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731431">case</span>&nbsp;<span class="ident" id="4731436">formExprloc</span><span class="op" id="4731447">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731452">val</span>&nbsp;<span class="op" id="4731456">=</span>&nbsp;<span class="ident" id="4731458">b</span><span class="op" id="4731459">.</span><span class="ident" id="4731460">bytes</span><span class="op" id="4731465">(</span><span class="builtintype" id="4731466">int</span><span class="op" id="4731469">(</span><span class="ident" id="4731470">b</span><span class="op" id="4731471">.</span><span class="builtintype" id="4731472">uint</span><span class="op" id="4731476">(</span><span class="op" id="4731477">)</span><span class="op" id="4731478">)</span><span class="op" id="4731479">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731484">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731499">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731520">case</span>&nbsp;<span class="ident" id="4731525">formRefSig8</span><span class="op" id="4731536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4731541">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731570">val</span>&nbsp;<span class="op" id="4731574">=</span>&nbsp;<span class="ident" id="4731576">b</span><span class="op" id="4731577">.</span><span class="ident" id="4731578">uint64</span><span class="op" id="4731584">(</span><span class="op" id="4731585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731589">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4731593">e</span><span class="op" id="4731594">.</span><span class="ident" id="4731595">Field</span><span class="op" id="4731600">[</span><span class="ident" id="4731601">i</span><span class="op" id="4731602">]</span><span class="op" id="4731603">.</span><span class="ident" id="4731604">Val</span>&nbsp;<span class="op" id="4731608">=</span>&nbsp;<span class="ident" id="4731610">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731618">if</span>&nbsp;<span class="ident" id="4731621">b</span><span class="op" id="4731622">.</span><span class="ident" id="4731623">err</span>&nbsp;<span class="op" id="4731627">!=</span>&nbsp;<span class="builtintype" id="4731630">nil</span>&nbsp;<span class="op" id="4731634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731638">return</span>&nbsp;<span class="builtintype" id="4731645">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4731650">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4731653">return</span>&nbsp;<span class="ident" id="4731660">e</span><br>
<span class="lineno"></span><span class="op" id="4731662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4731665">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4731740">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="4731816">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="4731885">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="4731964">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4732010">type</span>&nbsp;<span class="ident" id="4732015">Reader</span>&nbsp;<span class="keyword" id="4732022">struct</span>&nbsp;<span class="op" id="4732029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732032">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732045">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732050">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4732063">*</span><span class="ident" id="4732064">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732070">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4732083">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732090">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4732103">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732108">lastChildren</span>&nbsp;<span class="builtintype" id="4732121">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4732128">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732173">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="4732186">Offset</span>&nbsp;<span class="comment" id="4732193">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="4732245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4732248">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="4732289">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4732365">func</span>&nbsp;<span class="op" id="4732370">(</span><span class="ident" id="4732371">d</span>&nbsp;<span class="op" id="4732373">*</span><span class="ident" id="4732374">Data</span><span class="op" id="4732378">)</span>&nbsp;<span class="ident" id="4732380">Reader</span><span class="op" id="4732386">(</span><span class="op" id="4732387">)</span>&nbsp;<span class="op" id="4732389">*</span><span class="ident" id="4732390">Reader</span>&nbsp;<span class="op" id="4732397">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732400">r</span>&nbsp;<span class="op" id="4732402">:=</span>&nbsp;<span class="op" id="4732405">&amp;</span><span class="ident" id="4732406">Reader</span><span class="op" id="4732412">{</span><span class="ident" id="4732413">d</span><span class="op" id="4732414">:</span>&nbsp;<span class="ident" id="4732416">d</span><span class="op" id="4732417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732420">r</span><span class="op" id="4732421">.</span><span class="ident" id="4732422">Seek</span><span class="op" id="4732426">(</span><span class="num" id="4732427">0</span><span class="op" id="4732428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732431">return</span>&nbsp;<span class="ident" id="4732438">r</span><br>
<span class="lineno"></span><span class="op" id="4732440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="4732443">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="4732515">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4732566">func</span>&nbsp;<span class="op" id="4732571">(</span><span class="ident" id="4732572">r</span>&nbsp;<span class="op" id="4732574">*</span><span class="ident" id="4732575">Reader</span><span class="op" id="4732581">)</span>&nbsp;<span class="ident" id="4732583">Seek</span><span class="op" id="4732587">(</span><span class="ident" id="4732588">off</span>&nbsp;<span class="ident" id="4732592">Offset</span><span class="op" id="4732598">)</span>&nbsp;<span class="op" id="4732600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732603">d</span>&nbsp;<span class="op" id="4732605">:=</span>&nbsp;<span class="ident" id="4732608">r</span><span class="op" id="4732609">.</span><span class="ident" id="4732610">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732613">r</span><span class="op" id="4732614">.</span><span class="ident" id="4732615">err</span>&nbsp;<span class="op" id="4732619">=</span>&nbsp;<span class="builtintype" id="4732621">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732626">r</span><span class="op" id="4732627">.</span><span class="ident" id="4732628">lastChildren</span>&nbsp;<span class="op" id="4732641">=</span>&nbsp;<span class="builtintype" id="4732643">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732650">if</span>&nbsp;<span class="ident" id="4732653">off</span>&nbsp;<span class="op" id="4732657">==</span>&nbsp;<span class="num" id="4732660">0</span>&nbsp;<span class="op" id="4732662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732666">if</span>&nbsp;<span class="builtinfunc" id="4732669">len</span><span class="op" id="4732672">(</span><span class="ident" id="4732673">d</span><span class="op" id="4732674">.</span><span class="ident" id="4732675">unit</span><span class="op" id="4732679">)</span>&nbsp;<span class="op" id="4732681">==</span>&nbsp;<span class="num" id="4732684">0</span>&nbsp;<span class="op" id="4732686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732691">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4732700">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732704">u</span>&nbsp;<span class="op" id="4732706">:=</span>&nbsp;<span class="op" id="4732709">&amp;</span><span class="ident" id="4732710">d</span><span class="op" id="4732711">.</span><span class="ident" id="4732712">unit</span><span class="op" id="4732716">[</span><span class="num" id="4732717">0</span><span class="op" id="4732718">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732722">r</span><span class="op" id="4732723">.</span><span class="ident" id="4732724">unit</span>&nbsp;<span class="op" id="4732729">=</span>&nbsp;<span class="num" id="4732731">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732735">r</span><span class="op" id="4732736">.</span><span class="ident" id="4732737">b</span>&nbsp;<span class="op" id="4732739">=</span>&nbsp;<span class="ident" id="4732741">makeBuf</span><span class="op" id="4732748">(</span><span class="ident" id="4732749">r</span><span class="op" id="4732750">.</span><span class="ident" id="4732751">d</span><span class="op" id="4732752">,</span>&nbsp;<span class="ident" id="4732754">u</span><span class="op" id="4732755">,</span>&nbsp;<span class="string" id="4732757">&#34;info&#34;</span><span class="op" id="4732763">,</span>&nbsp;<span class="ident" id="4732765">u</span><span class="op" id="4732766">.</span><span class="ident" id="4732767">off</span><span class="op" id="4732770">,</span>&nbsp;<span class="ident" id="4732772">u</span><span class="op" id="4732773">.</span><span class="ident" id="4732774">data</span><span class="op" id="4732778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732782">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4732790">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4732794">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732845">var</span>&nbsp;<span class="ident" id="4732849">i</span>&nbsp;<span class="builtintype" id="4732851">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732856">var</span>&nbsp;<span class="ident" id="4732860">u</span>&nbsp;<span class="op" id="4732862">*</span><span class="ident" id="4732863">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732869">for</span>&nbsp;<span class="ident" id="4732873">i</span>&nbsp;<span class="op" id="4732875">=</span>&nbsp;<span class="keyword" id="4732877">range</span>&nbsp;<span class="ident" id="4732883">d</span><span class="op" id="4732884">.</span><span class="ident" id="4732885">unit</span>&nbsp;<span class="op" id="4732890">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732894">u</span>&nbsp;<span class="op" id="4732896">=</span>&nbsp;<span class="op" id="4732898">&amp;</span><span class="ident" id="4732899">d</span><span class="op" id="4732900">.</span><span class="ident" id="4732901">unit</span><span class="op" id="4732905">[</span><span class="ident" id="4732906">i</span><span class="op" id="4732907">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4732911">if</span>&nbsp;<span class="ident" id="4732914">u</span><span class="op" id="4732915">.</span><span class="ident" id="4732916">off</span>&nbsp;<span class="op" id="4732920">&lt;=</span>&nbsp;<span class="ident" id="4732923">off</span>&nbsp;<span class="op" id="4732927">&amp;&amp;</span>&nbsp;<span class="ident" id="4732930">off</span>&nbsp;<span class="op" id="4732934">&lt;</span>&nbsp;<span class="ident" id="4732936">u</span><span class="op" id="4732937">.</span><span class="ident" id="4732938">off</span><span class="op" id="4732941">+</span><span class="ident" id="4732942">Offset</span><span class="op" id="4732948">(</span><span class="builtinfunc" id="4732949">len</span><span class="op" id="4732952">(</span><span class="ident" id="4732953">u</span><span class="op" id="4732954">.</span><span class="ident" id="4732955">data</span><span class="op" id="4732959">)</span><span class="op" id="4732960">)</span>&nbsp;<span class="op" id="4732962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732967">r</span><span class="op" id="4732968">.</span><span class="ident" id="4732969">unit</span>&nbsp;<span class="op" id="4732974">=</span>&nbsp;<span class="ident" id="4732976">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4732981">r</span><span class="op" id="4732982">.</span><span class="ident" id="4732983">b</span>&nbsp;<span class="op" id="4732985">=</span>&nbsp;<span class="ident" id="4732987">makeBuf</span><span class="op" id="4732994">(</span><span class="ident" id="4732995">r</span><span class="op" id="4732996">.</span><span class="ident" id="4732997">d</span><span class="op" id="4732998">,</span>&nbsp;<span class="ident" id="4733000">u</span><span class="op" id="4733001">,</span>&nbsp;<span class="string" id="4733003">&#34;info&#34;</span><span class="op" id="4733009">,</span>&nbsp;<span class="ident" id="4733011">off</span><span class="op" id="4733014">,</span>&nbsp;<span class="ident" id="4733016">u</span><span class="op" id="4733017">.</span><span class="ident" id="4733018">data</span><span class="op" id="4733022">[</span><span class="ident" id="4733023">off</span><span class="op" id="4733026">-</span><span class="ident" id="4733027">u</span><span class="op" id="4733028">.</span><span class="ident" id="4733029">off</span><span class="op" id="4733032">:</span><span class="op" id="4733033">]</span><span class="op" id="4733034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733039">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733054">r</span><span class="op" id="4733055">.</span><span class="ident" id="4733056">err</span>&nbsp;<span class="op" id="4733060">=</span>&nbsp;<span class="ident" id="4733062">errors</span><span class="op" id="4733068">.</span><span class="ident" id="4733069">New</span><span class="op" id="4733072">(</span><span class="string" id="4733073">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="4733094">)</span><br>
<span class="lineno"></span><span class="op" id="4733096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="4733099">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="4733167">func</span>&nbsp;<span class="op" id="4733172">(</span><span class="ident" id="4733173">r</span>&nbsp;<span class="op" id="4733175">*</span><span class="ident" id="4733176">Reader</span><span class="op" id="4733182">)</span>&nbsp;<span class="ident" id="4733184">maybeNextUnit</span><span class="op" id="4733197">(</span><span class="op" id="4733198">)</span>&nbsp;<span class="op" id="4733200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733203">for</span>&nbsp;<span class="builtinfunc" id="4733207">len</span><span class="op" id="4733210">(</span><span class="ident" id="4733211">r</span><span class="op" id="4733212">.</span><span class="ident" id="4733213">b</span><span class="op" id="4733214">.</span><span class="ident" id="4733215">data</span><span class="op" id="4733219">)</span>&nbsp;<span class="op" id="4733221">==</span>&nbsp;<span class="num" id="4733224">0</span>&nbsp;<span class="op" id="4733226">&amp;&amp;</span>&nbsp;<span class="ident" id="4733229">r</span><span class="op" id="4733230">.</span><span class="ident" id="4733231">unit</span><span class="op" id="4733235">+</span><span class="num" id="4733236">1</span>&nbsp;<span class="op" id="4733238">&lt;</span>&nbsp;<span class="builtinfunc" id="4733240">len</span><span class="op" id="4733243">(</span><span class="ident" id="4733244">r</span><span class="op" id="4733245">.</span><span class="ident" id="4733246">d</span><span class="op" id="4733247">.</span><span class="ident" id="4733248">unit</span><span class="op" id="4733252">)</span>&nbsp;<span class="op" id="4733254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733258">r</span><span class="op" id="4733259">.</span><span class="ident" id="4733260">unit</span><span class="op" id="4733264">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733269">u</span>&nbsp;<span class="op" id="4733271">:=</span>&nbsp;<span class="op" id="4733274">&amp;</span><span class="ident" id="4733275">r</span><span class="op" id="4733276">.</span><span class="ident" id="4733277">d</span><span class="op" id="4733278">.</span><span class="ident" id="4733279">unit</span><span class="op" id="4733283">[</span><span class="ident" id="4733284">r</span><span class="op" id="4733285">.</span><span class="ident" id="4733286">unit</span><span class="op" id="4733290">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733294">r</span><span class="op" id="4733295">.</span><span class="ident" id="4733296">b</span>&nbsp;<span class="op" id="4733298">=</span>&nbsp;<span class="ident" id="4733300">makeBuf</span><span class="op" id="4733307">(</span><span class="ident" id="4733308">r</span><span class="op" id="4733309">.</span><span class="ident" id="4733310">d</span><span class="op" id="4733311">,</span>&nbsp;<span class="ident" id="4733313">u</span><span class="op" id="4733314">,</span>&nbsp;<span class="string" id="4733316">&#34;info&#34;</span><span class="op" id="4733322">,</span>&nbsp;<span class="ident" id="4733324">u</span><span class="op" id="4733325">.</span><span class="ident" id="4733326">off</span><span class="op" id="4733329">,</span>&nbsp;<span class="ident" id="4733331">u</span><span class="op" id="4733332">.</span><span class="ident" id="4733333">data</span><span class="op" id="4733337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733340">}</span><br>
<span class="lineno"></span><span class="op" id="4733342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4733345">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="4733405">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4733468">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4733543">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4733589">func</span>&nbsp;<span class="op" id="4733594">(</span><span class="ident" id="4733595">r</span>&nbsp;<span class="op" id="4733597">*</span><span class="ident" id="4733598">Reader</span><span class="op" id="4733604">)</span>&nbsp;<span class="ident" id="4733606">Next</span><span class="op" id="4733610">(</span><span class="op" id="4733611">)</span>&nbsp;<span class="op" id="4733613">(</span><span class="op" id="4733614">*</span><span class="ident" id="4733615">Entry</span><span class="op" id="4733620">,</span>&nbsp;<span class="builtintype" id="4733622">error</span><span class="op" id="4733627">)</span>&nbsp;<span class="op" id="4733629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733632">if</span>&nbsp;<span class="ident" id="4733635">r</span><span class="op" id="4733636">.</span><span class="ident" id="4733637">err</span>&nbsp;<span class="op" id="4733641">!=</span>&nbsp;<span class="builtintype" id="4733644">nil</span>&nbsp;<span class="op" id="4733648">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733652">return</span>&nbsp;<span class="builtintype" id="4733659">nil</span><span class="op" id="4733662">,</span>&nbsp;<span class="ident" id="4733664">r</span><span class="op" id="4733665">.</span><span class="ident" id="4733666">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733674">r</span><span class="op" id="4733675">.</span><span class="ident" id="4733676">maybeNextUnit</span><span class="op" id="4733689">(</span><span class="op" id="4733690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733693">if</span>&nbsp;<span class="builtinfunc" id="4733696">len</span><span class="op" id="4733699">(</span><span class="ident" id="4733700">r</span><span class="op" id="4733701">.</span><span class="ident" id="4733702">b</span><span class="op" id="4733703">.</span><span class="ident" id="4733704">data</span><span class="op" id="4733708">)</span>&nbsp;<span class="op" id="4733710">==</span>&nbsp;<span class="num" id="4733713">0</span>&nbsp;<span class="op" id="4733715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733719">return</span>&nbsp;<span class="builtintype" id="4733726">nil</span><span class="op" id="4733729">,</span>&nbsp;<span class="builtintype" id="4733731">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733739">u</span>&nbsp;<span class="op" id="4733741">:=</span>&nbsp;<span class="op" id="4733744">&amp;</span><span class="ident" id="4733745">r</span><span class="op" id="4733746">.</span><span class="ident" id="4733747">d</span><span class="op" id="4733748">.</span><span class="ident" id="4733749">unit</span><span class="op" id="4733753">[</span><span class="ident" id="4733754">r</span><span class="op" id="4733755">.</span><span class="ident" id="4733756">unit</span><span class="op" id="4733760">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733763">e</span>&nbsp;<span class="op" id="4733765">:=</span>&nbsp;<span class="ident" id="4733768">r</span><span class="op" id="4733769">.</span><span class="ident" id="4733770">b</span><span class="op" id="4733771">.</span><span class="ident" id="4733772">entry</span><span class="op" id="4733777">(</span><span class="ident" id="4733778">u</span><span class="op" id="4733779">.</span><span class="ident" id="4733780">atable</span><span class="op" id="4733786">,</span>&nbsp;<span class="ident" id="4733788">u</span><span class="op" id="4733789">.</span><span class="ident" id="4733790">base</span><span class="op" id="4733794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733797">if</span>&nbsp;<span class="ident" id="4733800">r</span><span class="op" id="4733801">.</span><span class="ident" id="4733802">b</span><span class="op" id="4733803">.</span><span class="ident" id="4733804">err</span>&nbsp;<span class="op" id="4733808">!=</span>&nbsp;<span class="builtintype" id="4733811">nil</span>&nbsp;<span class="op" id="4733815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733819">r</span><span class="op" id="4733820">.</span><span class="ident" id="4733821">err</span>&nbsp;<span class="op" id="4733825">=</span>&nbsp;<span class="ident" id="4733827">r</span><span class="op" id="4733828">.</span><span class="ident" id="4733829">b</span><span class="op" id="4733830">.</span><span class="ident" id="4733831">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733837">return</span>&nbsp;<span class="builtintype" id="4733844">nil</span><span class="op" id="4733847">,</span>&nbsp;<span class="ident" id="4733849">r</span><span class="op" id="4733850">.</span><span class="ident" id="4733851">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733859">if</span>&nbsp;<span class="ident" id="4733862">e</span>&nbsp;<span class="op" id="4733864">!=</span>&nbsp;<span class="builtintype" id="4733867">nil</span>&nbsp;<span class="op" id="4733871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733875">r</span><span class="op" id="4733876">.</span><span class="ident" id="4733877">lastChildren</span>&nbsp;<span class="op" id="4733890">=</span>&nbsp;<span class="ident" id="4733892">e</span><span class="op" id="4733893">.</span><span class="ident" id="4733894">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4733905">if</span>&nbsp;<span class="ident" id="4733908">r</span><span class="op" id="4733909">.</span><span class="ident" id="4733910">lastChildren</span>&nbsp;<span class="op" id="4733923">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733928">r</span><span class="op" id="4733929">.</span><span class="ident" id="4733930">lastSibling</span><span class="op" id="4733941">,</span>&nbsp;<span class="ident" id="4733943">_</span>&nbsp;<span class="op" id="4733945">=</span>&nbsp;<span class="ident" id="4733947">e</span><span class="op" id="4733948">.</span><span class="ident" id="4733949">Val</span><span class="op" id="4733952">(</span><span class="ident" id="4733953">AttrSibling</span><span class="op" id="4733964">)</span><span class="op" id="4733965">.</span><span class="op" id="4733966">(</span><span class="ident" id="4733967">Offset</span><span class="op" id="4733973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4733980">}</span>&nbsp;<span class="keyword" id="4733982">else</span>&nbsp;<span class="op" id="4733987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4733991">r</span><span class="op" id="4733992">.</span><span class="ident" id="4733993">lastChildren</span>&nbsp;<span class="op" id="4734006">=</span>&nbsp;<span class="builtintype" id="4734008">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734015">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734018">return</span>&nbsp;<span class="ident" id="4734025">e</span><span class="op" id="4734026">,</span>&nbsp;<span class="builtintype" id="4734028">nil</span><br>
<span class="lineno"></span><span class="op" id="4734032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4734035">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4734096">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="4734160">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="4734226">func</span>&nbsp;<span class="op" id="4734231">(</span><span class="ident" id="4734232">r</span>&nbsp;<span class="op" id="4734234">*</span><span class="ident" id="4734235">Reader</span><span class="op" id="4734241">)</span>&nbsp;<span class="ident" id="4734243">SkipChildren</span><span class="op" id="4734255">(</span><span class="op" id="4734256">)</span>&nbsp;<span class="op" id="4734258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734261">if</span>&nbsp;<span class="ident" id="4734264">r</span><span class="op" id="4734265">.</span><span class="ident" id="4734266">err</span>&nbsp;<span class="op" id="4734270">!=</span>&nbsp;<span class="builtintype" id="4734273">nil</span>&nbsp;<span class="op" id="4734277">||</span>&nbsp;<span class="op" id="4734280">!</span><span class="ident" id="4734281">r</span><span class="op" id="4734282">.</span><span class="ident" id="4734283">lastChildren</span>&nbsp;<span class="op" id="4734296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734300">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734308">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4734312">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4734359">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4734407">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4734449">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734469">if</span>&nbsp;<span class="ident" id="4734472">r</span><span class="op" id="4734473">.</span><span class="ident" id="4734474">lastSibling</span>&nbsp;<span class="op" id="4734486">&gt;=</span>&nbsp;<span class="ident" id="4734489">r</span><span class="op" id="4734490">.</span><span class="ident" id="4734491">b</span><span class="op" id="4734492">.</span><span class="ident" id="4734493">off</span>&nbsp;<span class="op" id="4734497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4734501">r</span><span class="op" id="4734502">.</span><span class="ident" id="4734503">Seek</span><span class="op" id="4734507">(</span><span class="ident" id="4734508">r</span><span class="op" id="4734509">.</span><span class="ident" id="4734510">lastSibling</span><span class="op" id="4734521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734525">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734537">for</span>&nbsp;<span class="op" id="4734541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4734545">e</span><span class="op" id="4734546">,</span>&nbsp;<span class="ident" id="4734548">err</span>&nbsp;<span class="op" id="4734552">:=</span>&nbsp;<span class="ident" id="4734555">r</span><span class="op" id="4734556">.</span><span class="ident" id="4734557">Next</span><span class="op" id="4734561">(</span><span class="op" id="4734562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734566">if</span>&nbsp;<span class="ident" id="4734569">err</span>&nbsp;<span class="op" id="4734573">!=</span>&nbsp;<span class="builtintype" id="4734576">nil</span>&nbsp;<span class="op" id="4734580">||</span>&nbsp;<span class="ident" id="4734583">e</span>&nbsp;<span class="op" id="4734585">==</span>&nbsp;<span class="builtintype" id="4734588">nil</span>&nbsp;<span class="op" id="4734592">||</span>&nbsp;<span class="ident" id="4734595">e</span><span class="op" id="4734596">.</span><span class="ident" id="4734597">Tag</span>&nbsp;<span class="op" id="4734601">==</span>&nbsp;<span class="num" id="4734604">0</span>&nbsp;<span class="op" id="4734606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734611">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734619">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734623">if</span>&nbsp;<span class="ident" id="4734626">e</span><span class="op" id="4734627">.</span><span class="ident" id="4734628">Children</span>&nbsp;<span class="op" id="4734637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4734642">r</span><span class="op" id="4734643">.</span><span class="ident" id="4734644">SkipChildren</span><span class="op" id="4734656">(</span><span class="op" id="4734657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4734664">}</span><br>
<span class="lineno"></span><span class="op" id="4734666">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="4734669">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="4734740">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4734754">func</span>&nbsp;<span class="op" id="4734759">(</span><span class="ident" id="4734760">r</span>&nbsp;<span class="op" id="4734762">*</span><span class="ident" id="4734763">Reader</span><span class="op" id="4734769">)</span>&nbsp;<span class="ident" id="4734771">clone</span><span class="op" id="4734776">(</span><span class="op" id="4734777">)</span>&nbsp;<span class="ident" id="4734779">typeReader</span>&nbsp;<span class="op" id="4734790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734793">return</span>&nbsp;<span class="ident" id="4734800">r</span><span class="op" id="4734801">.</span><span class="ident" id="4734802">d</span><span class="op" id="4734803">.</span><span class="ident" id="4734804">Reader</span><span class="op" id="4734810">(</span><span class="op" id="4734811">)</span><br>
<span class="lineno">395</span><span class="op" id="4734813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4734816">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4734882">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4734907">func</span>&nbsp;<span class="op" id="4734912">(</span><span class="ident" id="4734913">r</span>&nbsp;<span class="op" id="4734915">*</span><span class="ident" id="4734916">Reader</span><span class="op" id="4734922">)</span>&nbsp;<span class="ident" id="4734924">offset</span><span class="op" id="4734930">(</span><span class="op" id="4734931">)</span>&nbsp;<span class="ident" id="4734933">Offset</span>&nbsp;<span class="op" id="4734940">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4734943">return</span>&nbsp;<span class="ident" id="4734950">r</span><span class="op" id="4734951">.</span><span class="ident" id="4734952">b</span><span class="op" id="4734953">.</span><span class="ident" id="4734954">off</span><br>
<span class="lineno"></span><span class="op" id="4734958">}</span>
</div>
</body>
</html>
