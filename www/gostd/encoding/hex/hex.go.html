<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4068329">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4068384">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4068438">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4068489">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4068550">package</span>&nbsp;<span class="ident" id="4068558">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4068563">import</span>&nbsp;<span class="op" id="4068570">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4068573">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4068582">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4068592">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4068599">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4068604">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4068607">const</span>&nbsp;<span class="ident" id="4068613">hextable</span>&nbsp;<span class="op" id="4068622">=</span>&nbsp;<span class="string" id="4068624">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4068644">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4068711">func</span>&nbsp;<span class="ident" id="4068716">EncodedLen</span><span class="op" id="4068726">(</span><span class="ident" id="4068727">n</span>&nbsp;<span class="builtintype" id="4068729">int</span><span class="op" id="4068732">)</span>&nbsp;<span class="builtintype" id="4068734">int</span>&nbsp;<span class="op" id="4068738">{</span>&nbsp;<span class="keyword" id="4068740">return</span>&nbsp;<span class="ident" id="4068747">n</span>&nbsp;<span class="op" id="4068749">*</span>&nbsp;<span class="num" id="4068751">2</span>&nbsp;<span class="op" id="4068753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4068756">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4068804">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4068862">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4068937">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4068980">func</span>&nbsp;<span class="ident" id="4068985">Encode</span><span class="op" id="4068991">(</span><span class="ident" id="4068992">dst</span><span class="op" id="4068995">,</span>&nbsp;<span class="ident" id="4068997">src</span>&nbsp;<span class="op" id="4069001">[</span><span class="op" id="4069002">]</span><span class="builtintype" id="4069003">byte</span><span class="op" id="4069007">)</span>&nbsp;<span class="builtintype" id="4069009">int</span>&nbsp;<span class="op" id="4069013">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069016">for</span>&nbsp;<span class="ident" id="4069020">i</span><span class="op" id="4069021">,</span>&nbsp;<span class="ident" id="4069023">v</span>&nbsp;<span class="op" id="4069025">:=</span>&nbsp;<span class="keyword" id="4069028">range</span>&nbsp;<span class="ident" id="4069034">src</span>&nbsp;<span class="op" id="4069038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4069042">dst</span><span class="op" id="4069045">[</span><span class="ident" id="4069046">i</span><span class="op" id="4069047">*</span><span class="num" id="4069048">2</span><span class="op" id="4069049">]</span>&nbsp;<span class="op" id="4069051">=</span>&nbsp;<span class="ident" id="4069053">hextable</span><span class="op" id="4069061">[</span><span class="ident" id="4069062">v</span><span class="op" id="4069063">&gt;&gt;</span><span class="num" id="4069065">4</span><span class="op" id="4069066">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4069070">dst</span><span class="op" id="4069073">[</span><span class="ident" id="4069074">i</span><span class="op" id="4069075">*</span><span class="num" id="4069076">2</span><span class="op" id="4069077">+</span><span class="num" id="4069078">1</span><span class="op" id="4069079">]</span>&nbsp;<span class="op" id="4069081">=</span>&nbsp;<span class="ident" id="4069083">hextable</span><span class="op" id="4069091">[</span><span class="ident" id="4069092">v</span><span class="op" id="4069093">&amp;</span><span class="num" id="4069094">0x0f</span><span class="op" id="4069098">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4069101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069105">return</span>&nbsp;<span class="builtinfunc" id="4069112">len</span><span class="op" id="4069115">(</span><span class="ident" id="4069116">src</span><span class="op" id="4069119">)</span>&nbsp;<span class="op" id="4069121">*</span>&nbsp;<span class="num" id="4069123">2</span><br>
<span class="lineno"></span><span class="op" id="4069125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4069128">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4069184">var</span>&nbsp;<span class="ident" id="4069188">ErrLength</span>&nbsp;<span class="op" id="4069198">=</span>&nbsp;<span class="ident" id="4069200">errors</span><span class="op" id="4069206">.</span><span class="ident" id="4069207">New</span><span class="op" id="4069210">(</span><span class="string" id="4069211">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4069248">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4069251">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4069342">type</span>&nbsp;<span class="ident" id="4069347">InvalidByteError</span>&nbsp;<span class="builtintype" id="4069364">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4069370">func</span>&nbsp;<span class="op" id="4069375">(</span><span class="ident" id="4069376">e</span>&nbsp;<span class="ident" id="4069378">InvalidByteError</span><span class="op" id="4069394">)</span>&nbsp;<span class="ident" id="4069396">Error</span><span class="op" id="4069401">(</span><span class="op" id="4069402">)</span>&nbsp;<span class="builtintype" id="4069404">string</span>&nbsp;<span class="op" id="4069411">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069414">return</span>&nbsp;<span class="ident" id="4069421">fmt</span><span class="op" id="4069424">.</span><span class="ident" id="4069425">Sprintf</span><span class="op" id="4069432">(</span><span class="string" id="4069433">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4069466">,</span>&nbsp;<span class="builtintype" id="4069468">rune</span><span class="op" id="4069472">(</span><span class="ident" id="4069473">e</span><span class="op" id="4069474">)</span><span class="op" id="4069475">)</span><br>
<span class="lineno"></span><span class="op" id="4069477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4069480">func</span>&nbsp;<span class="ident" id="4069485">DecodedLen</span><span class="op" id="4069495">(</span><span class="ident" id="4069496">x</span>&nbsp;<span class="builtintype" id="4069498">int</span><span class="op" id="4069501">)</span>&nbsp;<span class="builtintype" id="4069503">int</span>&nbsp;<span class="op" id="4069507">{</span>&nbsp;<span class="keyword" id="4069509">return</span>&nbsp;<span class="ident" id="4069516">x</span>&nbsp;<span class="op" id="4069518">/</span>&nbsp;<span class="num" id="4069520">2</span>&nbsp;<span class="op" id="4069522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4069525">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4069601">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4069636">//</span><br>
<span class="lineno"></span><span class="comment" id="4069639">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4069722">func</span>&nbsp;<span class="ident" id="4069727">Decode</span><span class="op" id="4069733">(</span><span class="ident" id="4069734">dst</span><span class="op" id="4069737">,</span>&nbsp;<span class="ident" id="4069739">src</span>&nbsp;<span class="op" id="4069743">[</span><span class="op" id="4069744">]</span><span class="builtintype" id="4069745">byte</span><span class="op" id="4069749">)</span>&nbsp;<span class="op" id="4069751">(</span><span class="builtintype" id="4069752">int</span><span class="op" id="4069755">,</span>&nbsp;<span class="builtintype" id="4069757">error</span><span class="op" id="4069762">)</span>&nbsp;<span class="op" id="4069764">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069767">if</span>&nbsp;<span class="builtinfunc" id="4069770">len</span><span class="op" id="4069773">(</span><span class="ident" id="4069774">src</span><span class="op" id="4069777">)</span><span class="op" id="4069778">%</span><span class="num" id="4069779">2</span>&nbsp;<span class="op" id="4069781">==</span>&nbsp;<span class="num" id="4069784">1</span>&nbsp;<span class="op" id="4069786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069790">return</span>&nbsp;<span class="num" id="4069797">0</span><span class="op" id="4069798">,</span>&nbsp;<span class="ident" id="4069800">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4069811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069815">for</span>&nbsp;<span class="ident" id="4069819">i</span>&nbsp;<span class="op" id="4069821">:=</span>&nbsp;<span class="num" id="4069824">0</span><span class="op" id="4069825">;</span>&nbsp;<span class="ident" id="4069827">i</span>&nbsp;<span class="op" id="4069829">&lt;</span>&nbsp;<span class="builtinfunc" id="4069831">len</span><span class="op" id="4069834">(</span><span class="ident" id="4069835">src</span><span class="op" id="4069838">)</span><span class="op" id="4069839">/</span><span class="num" id="4069840">2</span><span class="op" id="4069841">;</span>&nbsp;<span class="ident" id="4069843">i</span><span class="op" id="4069844">++</span>&nbsp;<span class="op" id="4069847">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4069851">a</span><span class="op" id="4069852">,</span>&nbsp;<span class="ident" id="4069854">ok</span>&nbsp;<span class="op" id="4069857">:=</span>&nbsp;<span class="ident" id="4069860">fromHexChar</span><span class="op" id="4069871">(</span><span class="ident" id="4069872">src</span><span class="op" id="4069875">[</span><span class="ident" id="4069876">i</span><span class="op" id="4069877">*</span><span class="num" id="4069878">2</span><span class="op" id="4069879">]</span><span class="op" id="4069880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069884">if</span>&nbsp;<span class="op" id="4069887">!</span><span class="ident" id="4069888">ok</span>&nbsp;<span class="op" id="4069891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069896">return</span>&nbsp;<span class="num" id="4069903">0</span><span class="op" id="4069904">,</span>&nbsp;<span class="ident" id="4069906">InvalidByteError</span><span class="op" id="4069922">(</span><span class="ident" id="4069923">src</span><span class="op" id="4069926">[</span><span class="ident" id="4069927">i</span><span class="op" id="4069928">*</span><span class="num" id="4069929">2</span><span class="op" id="4069930">]</span><span class="op" id="4069931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4069935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4069939">b</span><span class="op" id="4069940">,</span>&nbsp;<span class="ident" id="4069942">ok</span>&nbsp;<span class="op" id="4069945">:=</span>&nbsp;<span class="ident" id="4069948">fromHexChar</span><span class="op" id="4069959">(</span><span class="ident" id="4069960">src</span><span class="op" id="4069963">[</span><span class="ident" id="4069964">i</span><span class="op" id="4069965">*</span><span class="num" id="4069966">2</span><span class="op" id="4069967">+</span><span class="num" id="4069968">1</span><span class="op" id="4069969">]</span><span class="op" id="4069970">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069974">if</span>&nbsp;<span class="op" id="4069977">!</span><span class="ident" id="4069978">ok</span>&nbsp;<span class="op" id="4069981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4069986">return</span>&nbsp;<span class="num" id="4069993">0</span><span class="op" id="4069994">,</span>&nbsp;<span class="ident" id="4069996">InvalidByteError</span><span class="op" id="4070012">(</span><span class="ident" id="4070013">src</span><span class="op" id="4070016">[</span><span class="ident" id="4070017">i</span><span class="op" id="4070018">*</span><span class="num" id="4070019">2</span><span class="op" id="4070020">+</span><span class="num" id="4070021">1</span><span class="op" id="4070022">]</span><span class="op" id="4070023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4070027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070031">dst</span><span class="op" id="4070034">[</span><span class="ident" id="4070035">i</span><span class="op" id="4070036">]</span>&nbsp;<span class="op" id="4070038">=</span>&nbsp;<span class="op" id="4070040">(</span><span class="ident" id="4070041">a</span>&nbsp;<span class="op" id="4070043">&lt;&lt;</span>&nbsp;<span class="num" id="4070046">4</span><span class="op" id="4070047">)</span>&nbsp;<span class="op" id="4070049">|</span>&nbsp;<span class="ident" id="4070051">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4070054">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070058">return</span>&nbsp;<span class="builtinfunc" id="4070065">len</span><span class="op" id="4070068">(</span><span class="ident" id="4070069">src</span><span class="op" id="4070072">)</span>&nbsp;<span class="op" id="4070074">/</span>&nbsp;<span class="num" id="4070076">2</span><span class="op" id="4070077">,</span>&nbsp;<span class="ident" id="4070079">nil</span><br>
<span class="lineno"></span><span class="op" id="4070083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4070086">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4070161">func</span>&nbsp;<span class="ident" id="4070166">fromHexChar</span><span class="op" id="4070177">(</span><span class="ident" id="4070178">c</span>&nbsp;<span class="builtintype" id="4070180">byte</span><span class="op" id="4070184">)</span>&nbsp;<span class="op" id="4070186">(</span><span class="builtintype" id="4070187">byte</span><span class="op" id="4070191">,</span>&nbsp;<span class="builtintype" id="4070193">bool</span><span class="op" id="4070197">)</span>&nbsp;<span class="op" id="4070199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070202">switch</span>&nbsp;<span class="op" id="4070209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070212">case</span>&nbsp;<span class="string" id="4070217">&#39;0&#39;</span>&nbsp;<span class="op" id="4070221">&lt;=</span>&nbsp;<span class="ident" id="4070224">c</span>&nbsp;<span class="op" id="4070226">&amp;&amp;</span>&nbsp;<span class="ident" id="4070229">c</span>&nbsp;<span class="op" id="4070231">&lt;=</span>&nbsp;<span class="string" id="4070234">&#39;9&#39;</span><span class="op" id="4070237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070241">return</span>&nbsp;<span class="ident" id="4070248">c</span>&nbsp;<span class="op" id="4070250">-</span>&nbsp;<span class="string" id="4070252">&#39;0&#39;</span><span class="op" id="4070255">,</span>&nbsp;<span class="builtintype" id="4070257">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070263">case</span>&nbsp;<span class="string" id="4070268">&#39;a&#39;</span>&nbsp;<span class="op" id="4070272">&lt;=</span>&nbsp;<span class="ident" id="4070275">c</span>&nbsp;<span class="op" id="4070277">&amp;&amp;</span>&nbsp;<span class="ident" id="4070280">c</span>&nbsp;<span class="op" id="4070282">&lt;=</span>&nbsp;<span class="string" id="4070285">&#39;f&#39;</span><span class="op" id="4070288">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070292">return</span>&nbsp;<span class="ident" id="4070299">c</span>&nbsp;<span class="op" id="4070301">-</span>&nbsp;<span class="string" id="4070303">&#39;a&#39;</span>&nbsp;<span class="op" id="4070307">+</span>&nbsp;<span class="num" id="4070309">10</span><span class="op" id="4070311">,</span>&nbsp;<span class="builtintype" id="4070313">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070319">case</span>&nbsp;<span class="string" id="4070324">&#39;A&#39;</span>&nbsp;<span class="op" id="4070328">&lt;=</span>&nbsp;<span class="ident" id="4070331">c</span>&nbsp;<span class="op" id="4070333">&amp;&amp;</span>&nbsp;<span class="ident" id="4070336">c</span>&nbsp;<span class="op" id="4070338">&lt;=</span>&nbsp;<span class="string" id="4070341">&#39;F&#39;</span><span class="op" id="4070344">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070348">return</span>&nbsp;<span class="ident" id="4070355">c</span>&nbsp;<span class="op" id="4070357">-</span>&nbsp;<span class="string" id="4070359">&#39;A&#39;</span>&nbsp;<span class="op" id="4070363">+</span>&nbsp;<span class="num" id="4070365">10</span><span class="op" id="4070367">,</span>&nbsp;<span class="builtintype" id="4070369">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4070375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070379">return</span>&nbsp;<span class="num" id="4070386">0</span><span class="op" id="4070387">,</span>&nbsp;<span class="builtintype" id="4070389">false</span><br>
<span class="lineno"></span><span class="op" id="4070395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4070398">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4070457">func</span>&nbsp;<span class="ident" id="4070462">EncodeToString</span><span class="op" id="4070476">(</span><span class="ident" id="4070477">src</span>&nbsp;<span class="op" id="4070481">[</span><span class="op" id="4070482">]</span><span class="builtintype" id="4070483">byte</span><span class="op" id="4070487">)</span>&nbsp;<span class="builtintype" id="4070489">string</span>&nbsp;<span class="op" id="4070496">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070499">dst</span>&nbsp;<span class="op" id="4070503">:=</span>&nbsp;<span class="builtinfunc" id="4070506">make</span><span class="op" id="4070510">(</span><span class="op" id="4070511">[</span><span class="op" id="4070512">]</span><span class="builtintype" id="4070513">byte</span><span class="op" id="4070517">,</span>&nbsp;<span class="ident" id="4070519">EncodedLen</span><span class="op" id="4070529">(</span><span class="builtinfunc" id="4070530">len</span><span class="op" id="4070533">(</span><span class="ident" id="4070534">src</span><span class="op" id="4070537">)</span><span class="op" id="4070538">)</span><span class="op" id="4070539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070542">Encode</span><span class="op" id="4070548">(</span><span class="ident" id="4070549">dst</span><span class="op" id="4070552">,</span>&nbsp;<span class="ident" id="4070554">src</span><span class="op" id="4070557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070560">return</span>&nbsp;<span class="builtintype" id="4070567">string</span><span class="op" id="4070573">(</span><span class="ident" id="4070574">dst</span><span class="op" id="4070577">)</span><br>
<span class="lineno"></span><span class="op" id="4070579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4070582">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4070657">func</span>&nbsp;<span class="ident" id="4070662">DecodeString</span><span class="op" id="4070674">(</span><span class="ident" id="4070675">s</span>&nbsp;<span class="builtintype" id="4070677">string</span><span class="op" id="4070683">)</span>&nbsp;<span class="op" id="4070685">(</span><span class="op" id="4070686">[</span><span class="op" id="4070687">]</span><span class="builtintype" id="4070688">byte</span><span class="op" id="4070692">,</span>&nbsp;<span class="builtintype" id="4070694">error</span><span class="op" id="4070699">)</span>&nbsp;<span class="op" id="4070701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070704">src</span>&nbsp;<span class="op" id="4070708">:=</span>&nbsp;<span class="op" id="4070711">[</span><span class="op" id="4070712">]</span><span class="builtintype" id="4070713">byte</span><span class="op" id="4070717">(</span><span class="ident" id="4070718">s</span><span class="op" id="4070719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070722">dst</span>&nbsp;<span class="op" id="4070726">:=</span>&nbsp;<span class="builtinfunc" id="4070729">make</span><span class="op" id="4070733">(</span><span class="op" id="4070734">[</span><span class="op" id="4070735">]</span><span class="builtintype" id="4070736">byte</span><span class="op" id="4070740">,</span>&nbsp;<span class="ident" id="4070742">DecodedLen</span><span class="op" id="4070752">(</span><span class="builtinfunc" id="4070753">len</span><span class="op" id="4070756">(</span><span class="ident" id="4070757">src</span><span class="op" id="4070760">)</span><span class="op" id="4070761">)</span><span class="op" id="4070762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4070765">_</span><span class="op" id="4070766">,</span>&nbsp;<span class="ident" id="4070768">err</span>&nbsp;<span class="op" id="4070772">:=</span>&nbsp;<span class="ident" id="4070775">Decode</span><span class="op" id="4070781">(</span><span class="ident" id="4070782">dst</span><span class="op" id="4070785">,</span>&nbsp;<span class="ident" id="4070787">src</span><span class="op" id="4070790">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070793">if</span>&nbsp;<span class="ident" id="4070796">err</span>&nbsp;<span class="op" id="4070800">!=</span>&nbsp;<span class="ident" id="4070803">nil</span>&nbsp;<span class="op" id="4070807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070811">return</span>&nbsp;<span class="ident" id="4070818">nil</span><span class="op" id="4070821">,</span>&nbsp;<span class="ident" id="4070823">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4070828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4070831">return</span>&nbsp;<span class="ident" id="4070838">dst</span><span class="op" id="4070841">,</span>&nbsp;<span class="ident" id="4070843">nil</span><br>
<span class="lineno"></span><span class="op" id="4070847">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4070850">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4070930">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4071005">func</span>&nbsp;<span class="ident" id="4071010">Dump</span><span class="op" id="4071014">(</span><span class="ident" id="4071015">data</span>&nbsp;<span class="op" id="4071020">[</span><span class="op" id="4071021">]</span><span class="builtintype" id="4071022">byte</span><span class="op" id="4071026">)</span>&nbsp;<span class="builtintype" id="4071028">string</span>&nbsp;<span class="op" id="4071035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071038">var</span>&nbsp;<span class="ident" id="4071042">buf</span>&nbsp;<span class="ident" id="4071046">bytes</span><span class="op" id="4071051">.</span><span class="ident" id="4071052">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071060">dumper</span>&nbsp;<span class="op" id="4071067">:=</span>&nbsp;<span class="ident" id="4071070">Dumper</span><span class="op" id="4071076">(</span><span class="op" id="4071077">&amp;</span><span class="ident" id="4071078">buf</span><span class="op" id="4071081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071084">dumper</span><span class="op" id="4071090">.</span><span class="ident" id="4071091">Write</span><span class="op" id="4071096">(</span><span class="ident" id="4071097">data</span><span class="op" id="4071101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071104">dumper</span><span class="op" id="4071110">.</span><span class="ident" id="4071111">Close</span><span class="op" id="4071116">(</span><span class="op" id="4071117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071120">return</span>&nbsp;<span class="builtintype" id="4071127">string</span><span class="op" id="4071133">(</span><span class="ident" id="4071134">buf</span><span class="op" id="4071137">.</span><span class="ident" id="4071138">Bytes</span><span class="op" id="4071143">(</span><span class="op" id="4071144">)</span><span class="op" id="4071145">)</span><br>
<span class="lineno"></span><span class="op" id="4071147">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4071150">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4071228">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4071307">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4071316">func</span>&nbsp;<span class="ident" id="4071321">Dumper</span><span class="op" id="4071327">(</span><span class="ident" id="4071328">w</span>&nbsp;<span class="ident" id="4071330">io</span><span class="op" id="4071332">.</span><span class="ident" id="4071333">Writer</span><span class="op" id="4071339">)</span>&nbsp;<span class="ident" id="4071341">io</span><span class="op" id="4071343">.</span><span class="ident" id="4071344">WriteCloser</span>&nbsp;<span class="op" id="4071356">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071359">return</span>&nbsp;<span class="op" id="4071366">&amp;</span><span class="ident" id="4071367">dumper</span><span class="op" id="4071373">{</span><span class="ident" id="4071374">w</span><span class="op" id="4071375">:</span>&nbsp;<span class="ident" id="4071377">w</span><span class="op" id="4071378">}</span><br>
<span class="lineno"></span><span class="op" id="4071380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4071383">type</span>&nbsp;<span class="ident" id="4071388">dumper</span>&nbsp;<span class="keyword" id="4071395">struct</span>&nbsp;<span class="op" id="4071402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071405">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071416">io</span><span class="op" id="4071418">.</span><span class="ident" id="4071419">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071427">rightChars</span>&nbsp;<span class="op" id="4071438">[</span><span class="num" id="4071439">18</span><span class="op" id="4071441">]</span><span class="builtintype" id="4071442">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071448">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4071459">[</span><span class="num" id="4071460">14</span><span class="op" id="4071462">]</span><span class="builtintype" id="4071463">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071469">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4071480">int</span>&nbsp;&nbsp;<span class="comment" id="4071485">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4071525">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4071536">uint</span>&nbsp;<span class="comment" id="4071541">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4071567">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4071570">func</span>&nbsp;<span class="ident" id="4071575">toChar</span><span class="op" id="4071581">(</span><span class="ident" id="4071582">b</span>&nbsp;<span class="builtintype" id="4071584">byte</span><span class="op" id="4071588">)</span>&nbsp;<span class="builtintype" id="4071590">byte</span>&nbsp;<span class="op" id="4071595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071598">if</span>&nbsp;<span class="ident" id="4071601">b</span>&nbsp;<span class="op" id="4071603">&lt;</span>&nbsp;<span class="num" id="4071605">32</span>&nbsp;<span class="op" id="4071608">||</span>&nbsp;<span class="ident" id="4071611">b</span>&nbsp;<span class="op" id="4071613">&gt;</span>&nbsp;<span class="num" id="4071615">126</span>&nbsp;<span class="op" id="4071619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071623">return</span>&nbsp;<span class="string" id="4071630">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4071635">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071638">return</span>&nbsp;<span class="ident" id="4071645">b</span><br>
<span class="lineno"></span><span class="op" id="4071647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4071650">func</span>&nbsp;<span class="op" id="4071655">(</span><span class="ident" id="4071656">h</span>&nbsp;<span class="op" id="4071658">*</span><span class="ident" id="4071659">dumper</span><span class="op" id="4071665">)</span>&nbsp;<span class="ident" id="4071667">Write</span><span class="op" id="4071672">(</span><span class="ident" id="4071673">data</span>&nbsp;<span class="op" id="4071678">[</span><span class="op" id="4071679">]</span><span class="builtintype" id="4071680">byte</span><span class="op" id="4071684">)</span>&nbsp;<span class="op" id="4071686">(</span><span class="ident" id="4071687">n</span>&nbsp;<span class="builtintype" id="4071689">int</span><span class="op" id="4071692">,</span>&nbsp;<span class="ident" id="4071694">err</span>&nbsp;<span class="builtintype" id="4071698">error</span><span class="op" id="4071703">)</span>&nbsp;<span class="op" id="4071705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4071708">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4071736">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4071819">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071901">for</span>&nbsp;<span class="ident" id="4071905">i</span>&nbsp;<span class="op" id="4071907">:=</span>&nbsp;<span class="keyword" id="4071910">range</span>&nbsp;<span class="ident" id="4071916">data</span>&nbsp;<span class="op" id="4071921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4071925">if</span>&nbsp;<span class="ident" id="4071928">h</span><span class="op" id="4071929">.</span><span class="ident" id="4071930">used</span>&nbsp;<span class="op" id="4071935">==</span>&nbsp;<span class="num" id="4071938">0</span>&nbsp;<span class="op" id="4071940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4071945">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4071999">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072020">h</span><span class="op" id="4072021">.</span><span class="ident" id="4072022">buf</span><span class="op" id="4072025">[</span><span class="num" id="4072026">0</span><span class="op" id="4072027">]</span>&nbsp;<span class="op" id="4072029">=</span>&nbsp;<span class="builtintype" id="4072031">byte</span><span class="op" id="4072035">(</span><span class="ident" id="4072036">h</span><span class="op" id="4072037">.</span><span class="ident" id="4072038">n</span>&nbsp;<span class="op" id="4072040">&gt;&gt;</span>&nbsp;<span class="num" id="4072043">24</span><span class="op" id="4072045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072050">h</span><span class="op" id="4072051">.</span><span class="ident" id="4072052">buf</span><span class="op" id="4072055">[</span><span class="num" id="4072056">1</span><span class="op" id="4072057">]</span>&nbsp;<span class="op" id="4072059">=</span>&nbsp;<span class="builtintype" id="4072061">byte</span><span class="op" id="4072065">(</span><span class="ident" id="4072066">h</span><span class="op" id="4072067">.</span><span class="ident" id="4072068">n</span>&nbsp;<span class="op" id="4072070">&gt;&gt;</span>&nbsp;<span class="num" id="4072073">16</span><span class="op" id="4072075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072080">h</span><span class="op" id="4072081">.</span><span class="ident" id="4072082">buf</span><span class="op" id="4072085">[</span><span class="num" id="4072086">2</span><span class="op" id="4072087">]</span>&nbsp;<span class="op" id="4072089">=</span>&nbsp;<span class="builtintype" id="4072091">byte</span><span class="op" id="4072095">(</span><span class="ident" id="4072096">h</span><span class="op" id="4072097">.</span><span class="ident" id="4072098">n</span>&nbsp;<span class="op" id="4072100">&gt;&gt;</span>&nbsp;<span class="num" id="4072103">8</span><span class="op" id="4072104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072109">h</span><span class="op" id="4072110">.</span><span class="ident" id="4072111">buf</span><span class="op" id="4072114">[</span><span class="num" id="4072115">3</span><span class="op" id="4072116">]</span>&nbsp;<span class="op" id="4072118">=</span>&nbsp;<span class="builtintype" id="4072120">byte</span><span class="op" id="4072124">(</span><span class="ident" id="4072125">h</span><span class="op" id="4072126">.</span><span class="ident" id="4072127">n</span><span class="op" id="4072128">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072133">Encode</span><span class="op" id="4072139">(</span><span class="ident" id="4072140">h</span><span class="op" id="4072141">.</span><span class="ident" id="4072142">buf</span><span class="op" id="4072145">[</span><span class="num" id="4072146">4</span><span class="op" id="4072147">:</span><span class="op" id="4072148">]</span><span class="op" id="4072149">,</span>&nbsp;<span class="ident" id="4072151">h</span><span class="op" id="4072152">.</span><span class="ident" id="4072153">buf</span><span class="op" id="4072156">[</span><span class="op" id="4072157">:</span><span class="num" id="4072158">4</span><span class="op" id="4072159">]</span><span class="op" id="4072160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072165">h</span><span class="op" id="4072166">.</span><span class="ident" id="4072167">buf</span><span class="op" id="4072170">[</span><span class="num" id="4072171">12</span><span class="op" id="4072173">]</span>&nbsp;<span class="op" id="4072175">=</span>&nbsp;<span class="string" id="4072177">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072184">h</span><span class="op" id="4072185">.</span><span class="ident" id="4072186">buf</span><span class="op" id="4072189">[</span><span class="num" id="4072190">13</span><span class="op" id="4072192">]</span>&nbsp;<span class="op" id="4072194">=</span>&nbsp;<span class="string" id="4072196">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072203">_</span><span class="op" id="4072204">,</span>&nbsp;<span class="ident" id="4072206">err</span>&nbsp;<span class="op" id="4072210">=</span>&nbsp;<span class="ident" id="4072212">h</span><span class="op" id="4072213">.</span><span class="ident" id="4072214">w</span><span class="op" id="4072215">.</span><span class="ident" id="4072216">Write</span><span class="op" id="4072221">(</span><span class="ident" id="4072222">h</span><span class="op" id="4072223">.</span><span class="ident" id="4072224">buf</span><span class="op" id="4072227">[</span><span class="num" id="4072228">4</span><span class="op" id="4072229">:</span><span class="op" id="4072230">]</span><span class="op" id="4072231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072236">if</span>&nbsp;<span class="ident" id="4072239">err</span>&nbsp;<span class="op" id="4072243">!=</span>&nbsp;<span class="ident" id="4072246">nil</span>&nbsp;<span class="op" id="4072250">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072256">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072274">Encode</span><span class="op" id="4072280">(</span><span class="ident" id="4072281">h</span><span class="op" id="4072282">.</span><span class="ident" id="4072283">buf</span><span class="op" id="4072286">[</span><span class="op" id="4072287">:</span><span class="op" id="4072288">]</span><span class="op" id="4072289">,</span>&nbsp;<span class="ident" id="4072291">data</span><span class="op" id="4072295">[</span><span class="ident" id="4072296">i</span><span class="op" id="4072297">:</span><span class="ident" id="4072298">i</span><span class="op" id="4072299">+</span><span class="num" id="4072300">1</span><span class="op" id="4072301">]</span><span class="op" id="4072302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072306">h</span><span class="op" id="4072307">.</span><span class="ident" id="4072308">buf</span><span class="op" id="4072311">[</span><span class="num" id="4072312">2</span><span class="op" id="4072313">]</span>&nbsp;<span class="op" id="4072315">=</span>&nbsp;<span class="string" id="4072317">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072323">l</span>&nbsp;<span class="op" id="4072325">:=</span>&nbsp;<span class="num" id="4072328">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072332">if</span>&nbsp;<span class="ident" id="4072335">h</span><span class="op" id="4072336">.</span><span class="ident" id="4072337">used</span>&nbsp;<span class="op" id="4072342">==</span>&nbsp;<span class="num" id="4072345">7</span>&nbsp;<span class="op" id="4072347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4072352">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072406">h</span><span class="op" id="4072407">.</span><span class="ident" id="4072408">buf</span><span class="op" id="4072411">[</span><span class="num" id="4072412">3</span><span class="op" id="4072413">]</span>&nbsp;<span class="op" id="4072415">=</span>&nbsp;<span class="string" id="4072417">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072424">l</span>&nbsp;<span class="op" id="4072426">=</span>&nbsp;<span class="num" id="4072428">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072432">}</span>&nbsp;<span class="keyword" id="4072434">else</span>&nbsp;<span class="keyword" id="4072439">if</span>&nbsp;<span class="ident" id="4072442">h</span><span class="op" id="4072443">.</span><span class="ident" id="4072444">used</span>&nbsp;<span class="op" id="4072449">==</span>&nbsp;<span class="num" id="4072452">15</span>&nbsp;<span class="op" id="4072455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4072460">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4072516">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072552">h</span><span class="op" id="4072553">.</span><span class="ident" id="4072554">buf</span><span class="op" id="4072557">[</span><span class="num" id="4072558">3</span><span class="op" id="4072559">]</span>&nbsp;<span class="op" id="4072561">=</span>&nbsp;<span class="string" id="4072563">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072570">h</span><span class="op" id="4072571">.</span><span class="ident" id="4072572">buf</span><span class="op" id="4072575">[</span><span class="num" id="4072576">4</span><span class="op" id="4072577">]</span>&nbsp;<span class="op" id="4072579">=</span>&nbsp;<span class="string" id="4072581">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072588">l</span>&nbsp;<span class="op" id="4072590">=</span>&nbsp;<span class="num" id="4072592">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072600">_</span><span class="op" id="4072601">,</span>&nbsp;<span class="ident" id="4072603">err</span>&nbsp;<span class="op" id="4072607">=</span>&nbsp;<span class="ident" id="4072609">h</span><span class="op" id="4072610">.</span><span class="ident" id="4072611">w</span><span class="op" id="4072612">.</span><span class="ident" id="4072613">Write</span><span class="op" id="4072618">(</span><span class="ident" id="4072619">h</span><span class="op" id="4072620">.</span><span class="ident" id="4072621">buf</span><span class="op" id="4072624">[</span><span class="op" id="4072625">:</span><span class="ident" id="4072626">l</span><span class="op" id="4072627">]</span><span class="op" id="4072628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072632">if</span>&nbsp;<span class="ident" id="4072635">err</span>&nbsp;<span class="op" id="4072639">!=</span>&nbsp;<span class="ident" id="4072642">nil</span>&nbsp;<span class="op" id="4072646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072651">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072664">n</span><span class="op" id="4072665">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072670">h</span><span class="op" id="4072671">.</span><span class="ident" id="4072672">rightChars</span><span class="op" id="4072682">[</span><span class="ident" id="4072683">h</span><span class="op" id="4072684">.</span><span class="ident" id="4072685">used</span><span class="op" id="4072689">]</span>&nbsp;<span class="op" id="4072691">=</span>&nbsp;<span class="ident" id="4072693">toChar</span><span class="op" id="4072699">(</span><span class="ident" id="4072700">data</span><span class="op" id="4072704">[</span><span class="ident" id="4072705">i</span><span class="op" id="4072706">]</span><span class="op" id="4072707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072711">h</span><span class="op" id="4072712">.</span><span class="ident" id="4072713">used</span><span class="op" id="4072717">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072722">h</span><span class="op" id="4072723">.</span><span class="ident" id="4072724">n</span><span class="op" id="4072725">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072730">if</span>&nbsp;<span class="ident" id="4072733">h</span><span class="op" id="4072734">.</span><span class="ident" id="4072735">used</span>&nbsp;<span class="op" id="4072740">==</span>&nbsp;<span class="num" id="4072743">16</span>&nbsp;<span class="op" id="4072746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072751">h</span><span class="op" id="4072752">.</span><span class="ident" id="4072753">rightChars</span><span class="op" id="4072763">[</span><span class="num" id="4072764">16</span><span class="op" id="4072766">]</span>&nbsp;<span class="op" id="4072768">=</span>&nbsp;<span class="string" id="4072770">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072777">h</span><span class="op" id="4072778">.</span><span class="ident" id="4072779">rightChars</span><span class="op" id="4072789">[</span><span class="num" id="4072790">17</span><span class="op" id="4072792">]</span>&nbsp;<span class="op" id="4072794">=</span>&nbsp;<span class="string" id="4072796">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072804">_</span><span class="op" id="4072805">,</span>&nbsp;<span class="ident" id="4072807">err</span>&nbsp;<span class="op" id="4072811">=</span>&nbsp;<span class="ident" id="4072813">h</span><span class="op" id="4072814">.</span><span class="ident" id="4072815">w</span><span class="op" id="4072816">.</span><span class="ident" id="4072817">Write</span><span class="op" id="4072822">(</span><span class="ident" id="4072823">h</span><span class="op" id="4072824">.</span><span class="ident" id="4072825">rightChars</span><span class="op" id="4072835">[</span><span class="op" id="4072836">:</span><span class="op" id="4072837">]</span><span class="op" id="4072838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072843">if</span>&nbsp;<span class="ident" id="4072846">err</span>&nbsp;<span class="op" id="4072850">!=</span>&nbsp;<span class="ident" id="4072853">nil</span>&nbsp;<span class="op" id="4072857">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072863">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4072878">h</span><span class="op" id="4072879">.</span><span class="ident" id="4072880">used</span>&nbsp;<span class="op" id="4072885">=</span>&nbsp;<span class="num" id="4072887">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4072894">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4072897">return</span><br>
<span class="lineno"></span><span class="op" id="4072904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4072907">func</span>&nbsp;<span class="op" id="4072912">(</span><span class="ident" id="4072913">h</span>&nbsp;<span class="op" id="4072915">*</span><span class="ident" id="4072916">dumper</span><span class="op" id="4072922">)</span>&nbsp;<span class="ident" id="4072924">Close</span><span class="op" id="4072929">(</span><span class="op" id="4072930">)</span>&nbsp;<span class="op" id="4072932">(</span><span class="ident" id="4072933">err</span>&nbsp;<span class="builtintype" id="4072937">error</span><span class="op" id="4072942">)</span>&nbsp;<span class="op" id="4072944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4072947">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073011">if</span>&nbsp;<span class="ident" id="4073014">h</span><span class="op" id="4073015">.</span><span class="ident" id="4073016">used</span>&nbsp;<span class="op" id="4073021">==</span>&nbsp;<span class="num" id="4073024">0</span>&nbsp;<span class="op" id="4073026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073030">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4073038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073041">h</span><span class="op" id="4073042">.</span><span class="ident" id="4073043">buf</span><span class="op" id="4073046">[</span><span class="num" id="4073047">0</span><span class="op" id="4073048">]</span>&nbsp;<span class="op" id="4073050">=</span>&nbsp;<span class="string" id="4073052">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073057">h</span><span class="op" id="4073058">.</span><span class="ident" id="4073059">buf</span><span class="op" id="4073062">[</span><span class="num" id="4073063">1</span><span class="op" id="4073064">]</span>&nbsp;<span class="op" id="4073066">=</span>&nbsp;<span class="string" id="4073068">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073073">h</span><span class="op" id="4073074">.</span><span class="ident" id="4073075">buf</span><span class="op" id="4073078">[</span><span class="num" id="4073079">2</span><span class="op" id="4073080">]</span>&nbsp;<span class="op" id="4073082">=</span>&nbsp;<span class="string" id="4073084">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073089">h</span><span class="op" id="4073090">.</span><span class="ident" id="4073091">buf</span><span class="op" id="4073094">[</span><span class="num" id="4073095">3</span><span class="op" id="4073096">]</span>&nbsp;<span class="op" id="4073098">=</span>&nbsp;<span class="string" id="4073100">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073105">h</span><span class="op" id="4073106">.</span><span class="ident" id="4073107">buf</span><span class="op" id="4073110">[</span><span class="num" id="4073111">4</span><span class="op" id="4073112">]</span>&nbsp;<span class="op" id="4073114">=</span>&nbsp;<span class="string" id="4073116">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073121">nBytes</span>&nbsp;<span class="op" id="4073128">:=</span>&nbsp;<span class="ident" id="4073131">h</span><span class="op" id="4073132">.</span><span class="ident" id="4073133">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073139">for</span>&nbsp;<span class="ident" id="4073143">h</span><span class="op" id="4073144">.</span><span class="ident" id="4073145">used</span>&nbsp;<span class="op" id="4073150">&lt;</span>&nbsp;<span class="num" id="4073152">16</span>&nbsp;<span class="op" id="4073155">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073159">l</span>&nbsp;<span class="op" id="4073161">:=</span>&nbsp;<span class="num" id="4073164">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073168">if</span>&nbsp;<span class="ident" id="4073171">h</span><span class="op" id="4073172">.</span><span class="ident" id="4073173">used</span>&nbsp;<span class="op" id="4073178">==</span>&nbsp;<span class="num" id="4073181">7</span>&nbsp;<span class="op" id="4073183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073188">l</span>&nbsp;<span class="op" id="4073190">=</span>&nbsp;<span class="num" id="4073192">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4073196">}</span>&nbsp;<span class="keyword" id="4073198">else</span>&nbsp;<span class="keyword" id="4073203">if</span>&nbsp;<span class="ident" id="4073206">h</span><span class="op" id="4073207">.</span><span class="ident" id="4073208">used</span>&nbsp;<span class="op" id="4073213">==</span>&nbsp;<span class="num" id="4073216">15</span>&nbsp;<span class="op" id="4073219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073224">l</span>&nbsp;<span class="op" id="4073226">=</span>&nbsp;<span class="num" id="4073228">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4073232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073236">_</span><span class="op" id="4073237">,</span>&nbsp;<span class="ident" id="4073239">err</span>&nbsp;<span class="op" id="4073243">=</span>&nbsp;<span class="ident" id="4073245">h</span><span class="op" id="4073246">.</span><span class="ident" id="4073247">w</span><span class="op" id="4073248">.</span><span class="ident" id="4073249">Write</span><span class="op" id="4073254">(</span><span class="ident" id="4073255">h</span><span class="op" id="4073256">.</span><span class="ident" id="4073257">buf</span><span class="op" id="4073260">[</span><span class="op" id="4073261">:</span><span class="ident" id="4073262">l</span><span class="op" id="4073263">]</span><span class="op" id="4073264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073268">if</span>&nbsp;<span class="ident" id="4073271">err</span>&nbsp;<span class="op" id="4073275">!=</span>&nbsp;<span class="ident" id="4073278">nil</span>&nbsp;<span class="op" id="4073282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073287">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4073296">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073300">h</span><span class="op" id="4073301">.</span><span class="ident" id="4073302">used</span><span class="op" id="4073306">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4073310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073313">h</span><span class="op" id="4073314">.</span><span class="ident" id="4073315">rightChars</span><span class="op" id="4073325">[</span><span class="ident" id="4073326">nBytes</span><span class="op" id="4073332">]</span>&nbsp;<span class="op" id="4073334">=</span>&nbsp;<span class="string" id="4073336">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073341">h</span><span class="op" id="4073342">.</span><span class="ident" id="4073343">rightChars</span><span class="op" id="4073353">[</span><span class="ident" id="4073354">nBytes</span><span class="op" id="4073360">+</span><span class="num" id="4073361">1</span><span class="op" id="4073362">]</span>&nbsp;<span class="op" id="4073364">=</span>&nbsp;<span class="string" id="4073366">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4073372">_</span><span class="op" id="4073373">,</span>&nbsp;<span class="ident" id="4073375">err</span>&nbsp;<span class="op" id="4073379">=</span>&nbsp;<span class="ident" id="4073381">h</span><span class="op" id="4073382">.</span><span class="ident" id="4073383">w</span><span class="op" id="4073384">.</span><span class="ident" id="4073385">Write</span><span class="op" id="4073390">(</span><span class="ident" id="4073391">h</span><span class="op" id="4073392">.</span><span class="ident" id="4073393">rightChars</span><span class="op" id="4073403">[</span><span class="op" id="4073404">:</span><span class="ident" id="4073405">nBytes</span><span class="op" id="4073411">+</span><span class="num" id="4073412">2</span><span class="op" id="4073413">]</span><span class="op" id="4073414">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4073417">return</span><br>
<span class="lineno"></span><span class="op" id="4073424">}</span>
</div>
</body>
</html>
