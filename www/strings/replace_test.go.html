<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1076800">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1076855">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1076909">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1076960">package</span>&nbsp;<span class="ident" id="1076968">strings_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1076982">import</span>&nbsp;<span class="op" id="1076989">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1076992">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077001">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1077008">.</span>&nbsp;<span class="string" id="1077010">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077021">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="1077031">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1077034">var</span>&nbsp;<span class="ident" id="1077038">htmlEscaper</span>&nbsp;<span class="op" id="1077050">=</span>&nbsp;<span class="ident" id="1077052"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1077063">(</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077066">&#34;&amp;&#34;</span><span class="op" id="1077069">,</span>&nbsp;<span class="string" id="1077071">&#34;&amp;amp;&#34;</span><span class="op" id="1077078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077081">&#34;&lt;&#34;</span><span class="op" id="1077084">,</span>&nbsp;<span class="string" id="1077086">&#34;&amp;lt;&#34;</span><span class="op" id="1077092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077095">&#34;&gt;&#34;</span><span class="op" id="1077098">,</span>&nbsp;<span class="string" id="1077100">&#34;&amp;gt;&#34;</span><span class="op" id="1077106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077109">`&#34;`</span><span class="op" id="1077112">,</span>&nbsp;<span class="string" id="1077114">&#34;&amp;quot;&#34;</span><span class="op" id="1077122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077125">&#34;&#39;&#34;</span><span class="op" id="1077128">,</span>&nbsp;<span class="string" id="1077130">&#34;&amp;apos;&#34;</span><span class="op" id="1077138">,</span><br>
<span class="lineno">20</span><span class="op" id="1077140">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1077143">var</span>&nbsp;<span class="ident" id="1077147">htmlUnescaper</span>&nbsp;<span class="op" id="1077161">=</span>&nbsp;<span class="ident" id="1077163"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1077174">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077177">&#34;&amp;amp;&#34;</span><span class="op" id="1077184">,</span>&nbsp;<span class="string" id="1077186">&#34;&amp;&#34;</span><span class="op" id="1077189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077192">&#34;&amp;lt;&#34;</span><span class="op" id="1077198">,</span>&nbsp;<span class="string" id="1077200">&#34;&lt;&#34;</span><span class="op" id="1077203">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077206">&#34;&amp;gt;&#34;</span><span class="op" id="1077212">,</span>&nbsp;<span class="string" id="1077214">&#34;&gt;&#34;</span><span class="op" id="1077217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077220">&#34;&amp;quot;&#34;</span><span class="op" id="1077228">,</span>&nbsp;<span class="string" id="1077230">`&#34;`</span><span class="op" id="1077233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1077236">&#34;&amp;apos;&#34;</span><span class="op" id="1077244">,</span>&nbsp;<span class="string" id="1077246">&#34;&#39;&#34;</span><span class="op" id="1077249">,</span><br>
<span class="lineno"></span><span class="op" id="1077251">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1077254">//&nbsp;The&nbsp;http&nbsp;package&#39;s&nbsp;old&nbsp;HTML&nbsp;escaping&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="1077304">func</span>&nbsp;<span class="ident" id="1077309">oldHTMLEscape</span><span class="op" id="1077322">(</span><span class="ident" id="1077323">s</span>&nbsp;<span class="builtintype" id="1077325">string</span><span class="op" id="1077331">)</span>&nbsp;<span class="builtintype" id="1077333">string</span>&nbsp;<span class="op" id="1077340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077343"><a href="/strings/replace_test.go.html#1077323">s</a></span>&nbsp;<span class="op" id="1077345">=</span>&nbsp;<span class="ident" id="1077347"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1077354">(</span><span class="ident" id="1077355"><a href="/strings/replace_test.go.html#1077323">s</a></span><span class="op" id="1077356">,</span>&nbsp;<span class="string" id="1077358">&#34;&amp;&#34;</span><span class="op" id="1077361">,</span>&nbsp;<span class="string" id="1077363">&#34;&amp;amp;&#34;</span><span class="op" id="1077370">,</span>&nbsp;<span class="op" id="1077372">-</span><span class="num" id="1077373">1</span><span class="op" id="1077374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077377"><a href="/strings/replace_test.go.html#1077323">s</a></span>&nbsp;<span class="op" id="1077379">=</span>&nbsp;<span class="ident" id="1077381"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1077388">(</span><span class="ident" id="1077389"><a href="/strings/replace_test.go.html#1077323">s</a></span><span class="op" id="1077390">,</span>&nbsp;<span class="string" id="1077392">&#34;&lt;&#34;</span><span class="op" id="1077395">,</span>&nbsp;<span class="string" id="1077397">&#34;&amp;lt;&#34;</span><span class="op" id="1077403">,</span>&nbsp;<span class="op" id="1077405">-</span><span class="num" id="1077406">1</span><span class="op" id="1077407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077410"><a href="/strings/replace_test.go.html#1077323">s</a></span>&nbsp;<span class="op" id="1077412">=</span>&nbsp;<span class="ident" id="1077414"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1077421">(</span><span class="ident" id="1077422"><a href="/strings/replace_test.go.html#1077323">s</a></span><span class="op" id="1077423">,</span>&nbsp;<span class="string" id="1077425">&#34;&gt;&#34;</span><span class="op" id="1077428">,</span>&nbsp;<span class="string" id="1077430">&#34;&amp;gt;&#34;</span><span class="op" id="1077436">,</span>&nbsp;<span class="op" id="1077438">-</span><span class="num" id="1077439">1</span><span class="op" id="1077440">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077443"><a href="/strings/replace_test.go.html#1077323">s</a></span>&nbsp;<span class="op" id="1077445">=</span>&nbsp;<span class="ident" id="1077447"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1077454">(</span><span class="ident" id="1077455"><a href="/strings/replace_test.go.html#1077323">s</a></span><span class="op" id="1077456">,</span>&nbsp;<span class="string" id="1077458">`&#34;`</span><span class="op" id="1077461">,</span>&nbsp;<span class="string" id="1077463">&#34;&amp;quot;&#34;</span><span class="op" id="1077471">,</span>&nbsp;<span class="op" id="1077473">-</span><span class="num" id="1077474">1</span><span class="op" id="1077475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077478"><a href="/strings/replace_test.go.html#1077323">s</a></span>&nbsp;<span class="op" id="1077480">=</span>&nbsp;<span class="ident" id="1077482"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1077489">(</span><span class="ident" id="1077490"><a href="/strings/replace_test.go.html#1077323">s</a></span><span class="op" id="1077491">,</span>&nbsp;<span class="string" id="1077493">&#34;&#39;&#34;</span><span class="op" id="1077496">,</span>&nbsp;<span class="string" id="1077498">&#34;&amp;apos;&#34;</span><span class="op" id="1077506">,</span>&nbsp;<span class="op" id="1077508">-</span><span class="num" id="1077509">1</span><span class="op" id="1077510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1077513">return</span>&nbsp;<span class="ident" id="1077520"><a href="/strings/replace_test.go.html#1077323">s</a></span><br>
<span class="lineno"></span><span class="op" id="1077522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="1077525">var</span>&nbsp;<span class="ident" id="1077529">capitalLetters</span>&nbsp;<span class="op" id="1077544">=</span>&nbsp;<span class="ident" id="1077546"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1077557">(</span><span class="string" id="1077558">&#34;a&#34;</span><span class="op" id="1077561">,</span>&nbsp;<span class="string" id="1077563">&#34;A&#34;</span><span class="op" id="1077566">,</span>&nbsp;<span class="string" id="1077568">&#34;b&#34;</span><span class="op" id="1077571">,</span>&nbsp;<span class="string" id="1077573">&#34;B&#34;</span><span class="op" id="1077576">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1077579">//&nbsp;TestReplacer&nbsp;tests&nbsp;the&nbsp;replacer&nbsp;implementations.</span><br>
<span class="lineno"></span><span class="keyword" id="1077631">func</span>&nbsp;<span class="ident" id="1077636">TestReplacer</span><span class="op" id="1077648">(</span><span class="ident" id="1077649">t</span>&nbsp;<span class="op" id="1077651">*</span><span class="ident" id="1077652"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1077659">.</span><span class="ident" id="1077660">T</span><span class="op" id="1077661">)</span>&nbsp;<span class="op" id="1077663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1077666">type</span>&nbsp;<span class="ident" id="1077671">testCase</span>&nbsp;<span class="keyword" id="1077680">struct</span>&nbsp;<span class="op" id="1077687">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077691">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1077699">*</span><span class="ident" id="1077700"><a href="/strings/replace.go.html#2489334">Replacer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077711">in</span><span class="op" id="1077713">,</span>&nbsp;<span class="ident" id="1077715">out</span>&nbsp;<span class="builtintype" id="1077719">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1077727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1077730">var</span>&nbsp;<span class="ident" id="1077734">testCases</span>&nbsp;<span class="op" id="1077744">[</span><span class="op" id="1077745">]</span><span class="ident" id="1077746"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1077757">//&nbsp;str&nbsp;converts&nbsp;0xff&nbsp;to&nbsp;&#34;\xff&#34;.&nbsp;This&nbsp;isn&#39;t&nbsp;just&nbsp;string(b)&nbsp;since&nbsp;that&nbsp;converts&nbsp;to&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077846">str</span>&nbsp;<span class="op" id="1077850">:=</span>&nbsp;<span class="keyword" id="1077853">func</span><span class="op" id="1077857">(</span><span class="ident" id="1077858">b</span>&nbsp;<span class="builtintype" id="1077860">byte</span><span class="op" id="1077864">)</span>&nbsp;<span class="builtintype" id="1077866">string</span>&nbsp;<span class="op" id="1077873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1077877">return</span>&nbsp;<span class="builtintype" id="1077884">string</span><span class="op" id="1077890">(</span><span class="op" id="1077891">[</span><span class="op" id="1077892">]</span><span class="builtintype" id="1077893">byte</span><span class="op" id="1077897">{</span><span class="ident" id="1077898"><a href="/strings/replace_test.go.html#1077858">b</a></span><span class="op" id="1077899">}</span><span class="op" id="1077900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1077903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1077906">var</span>&nbsp;<span class="ident" id="1077910">s</span>&nbsp;<span class="op" id="1077912">[</span><span class="op" id="1077913">]</span><span class="builtintype" id="1077914">string</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1077923">//&nbsp;inc&nbsp;maps&nbsp;&#34;\x00&#34;-&gt;&#34;\x01&#34;,&nbsp;...,&nbsp;&#34;a&#34;-&gt;&#34;b&#34;,&nbsp;&#34;b&#34;-&gt;&#34;c&#34;,&nbsp;...,&nbsp;&#34;\xff&#34;-&gt;&#34;\x00&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1077998"><a href="/strings/replace_test.go.html#1077910">s</a></span>&nbsp;<span class="op" id="1078000">=</span>&nbsp;<span class="ident" id="1078002">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1078007">for</span>&nbsp;<span class="ident" id="1078011">i</span>&nbsp;<span class="op" id="1078013">:=</span>&nbsp;<span class="num" id="1078016">0</span><span class="op" id="1078017">;</span>&nbsp;<span class="ident" id="1078019"><a href="/strings/replace_test.go.html#1078011">i</a></span>&nbsp;<span class="op" id="1078021">&lt;</span>&nbsp;<span class="num" id="1078023">256</span><span class="op" id="1078026">;</span>&nbsp;<span class="ident" id="1078028"><a href="/strings/replace_test.go.html#1078011">i</a></span><span class="op" id="1078029">++</span>&nbsp;<span class="op" id="1078032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078036"><a href="/strings/replace_test.go.html#1077910">s</a></span>&nbsp;<span class="op" id="1078038">=</span>&nbsp;<span class="builtinfunc" id="1078040">append</span><span class="op" id="1078046">(</span><span class="ident" id="1078047"><a href="/strings/replace_test.go.html#1077910">s</a></span><span class="op" id="1078048">,</span>&nbsp;<span class="ident" id="1078050"><a href="/strings/replace_test.go.html#1077846">str</a></span><span class="op" id="1078053">(</span><span class="builtintype" id="1078054">byte</span><span class="op" id="1078058">(</span><span class="ident" id="1078059"><a href="/strings/replace_test.go.html#1078011">i</a></span><span class="op" id="1078060">)</span><span class="op" id="1078061">)</span><span class="op" id="1078062">,</span>&nbsp;<span class="ident" id="1078064"><a href="/strings/replace_test.go.html#1077846">str</a></span><span class="op" id="1078067">(</span><span class="builtintype" id="1078068">byte</span><span class="op" id="1078072">(</span><span class="ident" id="1078073"><a href="/strings/replace_test.go.html#1078011">i</a></span><span class="op" id="1078074">+</span><span class="num" id="1078075">1</span><span class="op" id="1078076">)</span><span class="op" id="1078077">)</span><span class="op" id="1078078">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1078081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078084">inc</span>&nbsp;<span class="op" id="1078088">:=</span>&nbsp;<span class="ident" id="1078091"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1078102">(</span><span class="ident" id="1078103"><a href="/strings/replace_test.go.html#1077910">s</a></span><span class="op" id="1078104">...</span><span class="op" id="1078107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1078111">//&nbsp;Test&nbsp;cases&nbsp;with&nbsp;1-byte&nbsp;old&nbsp;strings,&nbsp;1-byte&nbsp;new&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078171"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1078181">=</span>&nbsp;<span class="builtinfunc" id="1078183">append</span><span class="op" id="1078189">(</span><span class="ident" id="1078190"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1078199">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078203"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078211">{</span><span class="ident" id="1078212"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1078226">,</span>&nbsp;<span class="string" id="1078228">&#34;brad&#34;</span><span class="op" id="1078234">,</span>&nbsp;<span class="string" id="1078236">&#34;BrAd&#34;</span><span class="op" id="1078242">}</span><span class="op" id="1078243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078247"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078255">{</span><span class="ident" id="1078256"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1078270">,</span>&nbsp;<span class="ident" id="1078272"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1078278">(</span><span class="string" id="1078279">&#34;a&#34;</span><span class="op" id="1078282">,</span>&nbsp;<span class="op" id="1078284">(</span><span class="num" id="1078285">32</span><span class="op" id="1078287">&lt;&lt;</span><span class="num" id="1078289">10</span><span class="op" id="1078291">)</span><span class="op" id="1078292">+</span><span class="num" id="1078293">123</span><span class="op" id="1078296">)</span><span class="op" id="1078297">,</span>&nbsp;<span class="ident" id="1078299"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1078305">(</span><span class="string" id="1078306">&#34;A&#34;</span><span class="op" id="1078309">,</span>&nbsp;<span class="op" id="1078311">(</span><span class="num" id="1078312">32</span><span class="op" id="1078314">&lt;&lt;</span><span class="num" id="1078316">10</span><span class="op" id="1078318">)</span><span class="op" id="1078319">+</span><span class="num" id="1078320">123</span><span class="op" id="1078323">)</span><span class="op" id="1078324">}</span><span class="op" id="1078325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078329"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078337">{</span><span class="ident" id="1078338"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1078352">,</span>&nbsp;<span class="string" id="1078354">&#34;&#34;</span><span class="op" id="1078356">,</span>&nbsp;<span class="string" id="1078358">&#34;&#34;</span><span class="op" id="1078360">}</span><span class="op" id="1078361">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078366"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078374">{</span><span class="ident" id="1078375"><a href="/strings/replace_test.go.html#1078084">inc</a></span><span class="op" id="1078378">,</span>&nbsp;<span class="string" id="1078380">&#34;brad&#34;</span><span class="op" id="1078386">,</span>&nbsp;<span class="string" id="1078388">&#34;csbe&#34;</span><span class="op" id="1078394">}</span><span class="op" id="1078395">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078399"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078407">{</span><span class="ident" id="1078408"><a href="/strings/replace_test.go.html#1078084">inc</a></span><span class="op" id="1078411">,</span>&nbsp;<span class="string" id="1078413">&#34;\x00\xff&#34;</span><span class="op" id="1078423">,</span>&nbsp;<span class="string" id="1078425">&#34;\x01\x00&#34;</span><span class="op" id="1078435">}</span><span class="op" id="1078436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078440"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078448">{</span><span class="ident" id="1078449"><a href="/strings/replace_test.go.html#1078084">inc</a></span><span class="op" id="1078452">,</span>&nbsp;<span class="string" id="1078454">&#34;&#34;</span><span class="op" id="1078456">,</span>&nbsp;<span class="string" id="1078458">&#34;&#34;</span><span class="op" id="1078460">}</span><span class="op" id="1078461">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078466"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078474">{</span><span class="ident" id="1078475"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1078486">(</span><span class="string" id="1078487">&#34;a&#34;</span><span class="op" id="1078490">,</span>&nbsp;<span class="string" id="1078492">&#34;1&#34;</span><span class="op" id="1078495">,</span>&nbsp;<span class="string" id="1078497">&#34;a&#34;</span><span class="op" id="1078500">,</span>&nbsp;<span class="string" id="1078502">&#34;2&#34;</span><span class="op" id="1078505">)</span><span class="op" id="1078506">,</span>&nbsp;<span class="string" id="1078508">&#34;brad&#34;</span><span class="op" id="1078514">,</span>&nbsp;<span class="string" id="1078516">&#34;br1d&#34;</span><span class="op" id="1078522">}</span><span class="op" id="1078523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1078526">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1078530">//&nbsp;repeat&nbsp;maps&nbsp;&#34;a&#34;-&gt;&#34;a&#34;,&nbsp;&#34;b&#34;-&gt;&#34;bb&#34;,&nbsp;&#34;c&#34;-&gt;&#34;ccc&#34;,&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078583"><a href="/strings/replace_test.go.html#1077910">s</a></span>&nbsp;<span class="op" id="1078585">=</span>&nbsp;<span class="ident" id="1078587">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1078592">for</span>&nbsp;<span class="ident" id="1078596">i</span>&nbsp;<span class="op" id="1078598">:=</span>&nbsp;<span class="num" id="1078601">0</span><span class="op" id="1078602">;</span>&nbsp;<span class="ident" id="1078604"><a href="/strings/replace_test.go.html#1078596">i</a></span>&nbsp;<span class="op" id="1078606">&lt;</span>&nbsp;<span class="num" id="1078608">256</span><span class="op" id="1078611">;</span>&nbsp;<span class="ident" id="1078613"><a href="/strings/replace_test.go.html#1078596">i</a></span><span class="op" id="1078614">++</span>&nbsp;<span class="op" id="1078617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078621">n</span>&nbsp;<span class="op" id="1078623">:=</span>&nbsp;<span class="ident" id="1078626"><a href="/strings/replace_test.go.html#1078596">i</a></span>&nbsp;<span class="op" id="1078628">+</span>&nbsp;<span class="num" id="1078630">1</span>&nbsp;<span class="op" id="1078632">-</span>&nbsp;<span class="string" id="1078634">&#39;a&#39;</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1078640">if</span>&nbsp;<span class="ident" id="1078643"><a href="/strings/replace_test.go.html#1078621">n</a></span>&nbsp;<span class="op" id="1078645">&lt;</span>&nbsp;<span class="num" id="1078647">1</span>&nbsp;<span class="op" id="1078649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078654"><a href="/strings/replace_test.go.html#1078621">n</a></span>&nbsp;<span class="op" id="1078656">=</span>&nbsp;<span class="num" id="1078658">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1078662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078666"><a href="/strings/replace_test.go.html#1077910">s</a></span>&nbsp;<span class="op" id="1078668">=</span>&nbsp;<span class="builtinfunc" id="1078670">append</span><span class="op" id="1078676">(</span><span class="ident" id="1078677"><a href="/strings/replace_test.go.html#1077910">s</a></span><span class="op" id="1078678">,</span>&nbsp;<span class="ident" id="1078680"><a href="/strings/replace_test.go.html#1077846">str</a></span><span class="op" id="1078683">(</span><span class="builtintype" id="1078684">byte</span><span class="op" id="1078688">(</span><span class="ident" id="1078689"><a href="/strings/replace_test.go.html#1078596">i</a></span><span class="op" id="1078690">)</span><span class="op" id="1078691">)</span><span class="op" id="1078692">,</span>&nbsp;<span class="ident" id="1078694"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1078700">(</span><span class="ident" id="1078701"><a href="/strings/replace_test.go.html#1077846">str</a></span><span class="op" id="1078704">(</span><span class="builtintype" id="1078705">byte</span><span class="op" id="1078709">(</span><span class="ident" id="1078710"><a href="/strings/replace_test.go.html#1078596">i</a></span><span class="op" id="1078711">)</span><span class="op" id="1078712">)</span><span class="op" id="1078713">,</span>&nbsp;<span class="ident" id="1078715"><a href="/strings/replace_test.go.html#1078621">n</a></span><span class="op" id="1078716">)</span><span class="op" id="1078717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1078720">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078723">repeat</span>&nbsp;<span class="op" id="1078730">:=</span>&nbsp;<span class="ident" id="1078733"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1078744">(</span><span class="ident" id="1078745"><a href="/strings/replace_test.go.html#1077910">s</a></span><span class="op" id="1078746">...</span><span class="op" id="1078749">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1078753">//&nbsp;Test&nbsp;cases&nbsp;with&nbsp;1-byte&nbsp;old&nbsp;strings,&nbsp;variable&nbsp;length&nbsp;new&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078822"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1078832">=</span>&nbsp;<span class="builtinfunc" id="1078834">append</span><span class="op" id="1078840">(</span><span class="ident" id="1078841"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1078850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078854"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078862">{</span><span class="ident" id="1078863"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1078874">,</span>&nbsp;<span class="string" id="1078876">&#34;No&nbsp;changes&#34;</span><span class="op" id="1078888">,</span>&nbsp;<span class="string" id="1078890">&#34;No&nbsp;changes&#34;</span><span class="op" id="1078902">}</span><span class="op" id="1078903">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078907"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078915">{</span><span class="ident" id="1078916"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1078927">,</span>&nbsp;<span class="string" id="1078929">&#34;I&nbsp;&lt;3&nbsp;escaping&nbsp;&amp;&nbsp;stuff&#34;</span><span class="op" id="1078952">,</span>&nbsp;<span class="string" id="1078954">&#34;I&nbsp;&amp;lt;3&nbsp;escaping&nbsp;&amp;amp;&nbsp;stuff&#34;</span><span class="op" id="1078984">}</span><span class="op" id="1078985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1078989"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1078997">{</span><span class="ident" id="1078998"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1079009">,</span>&nbsp;<span class="string" id="1079011">&#34;&amp;&amp;&amp;&#34;</span><span class="op" id="1079016">,</span>&nbsp;<span class="string" id="1079018">&#34;&amp;amp;&amp;amp;&amp;amp;&#34;</span><span class="op" id="1079035">}</span><span class="op" id="1079036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079040"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079048">{</span><span class="ident" id="1079049"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1079060">,</span>&nbsp;<span class="string" id="1079062">&#34;&#34;</span><span class="op" id="1079064">,</span>&nbsp;<span class="string" id="1079066">&#34;&#34;</span><span class="op" id="1079068">}</span><span class="op" id="1079069">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079074"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079082">{</span><span class="ident" id="1079083"><a href="/strings/replace_test.go.html#1078723">repeat</a></span><span class="op" id="1079089">,</span>&nbsp;<span class="string" id="1079091">&#34;brad&#34;</span><span class="op" id="1079097">,</span>&nbsp;<span class="string" id="1079099">&#34;bbrrrrrrrrrrrrrrrrrradddd&#34;</span><span class="op" id="1079126">}</span><span class="op" id="1079127">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079131"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079139">{</span><span class="ident" id="1079140"><a href="/strings/replace_test.go.html#1078723">repeat</a></span><span class="op" id="1079146">,</span>&nbsp;<span class="string" id="1079148">&#34;abba&#34;</span><span class="op" id="1079154">,</span>&nbsp;<span class="string" id="1079156">&#34;abbbba&#34;</span><span class="op" id="1079164">}</span><span class="op" id="1079165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079169"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079177">{</span><span class="ident" id="1079178"><a href="/strings/replace_test.go.html#1078723">repeat</a></span><span class="op" id="1079184">,</span>&nbsp;<span class="string" id="1079186">&#34;&#34;</span><span class="op" id="1079188">,</span>&nbsp;<span class="string" id="1079190">&#34;&#34;</span><span class="op" id="1079192">}</span><span class="op" id="1079193">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079198"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079206">{</span><span class="ident" id="1079207"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1079218">(</span><span class="string" id="1079219">&#34;a&#34;</span><span class="op" id="1079222">,</span>&nbsp;<span class="string" id="1079224">&#34;11&#34;</span><span class="op" id="1079228">,</span>&nbsp;<span class="string" id="1079230">&#34;a&#34;</span><span class="op" id="1079233">,</span>&nbsp;<span class="string" id="1079235">&#34;22&#34;</span><span class="op" id="1079239">)</span><span class="op" id="1079240">,</span>&nbsp;<span class="string" id="1079242">&#34;brad&#34;</span><span class="op" id="1079248">,</span>&nbsp;<span class="string" id="1079250">&#34;br11d&#34;</span><span class="op" id="1079257">}</span><span class="op" id="1079258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1079261">)</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1079265">//&nbsp;The&nbsp;remaining&nbsp;test&nbsp;cases&nbsp;have&nbsp;variable&nbsp;length&nbsp;old&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079329"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1079339">=</span>&nbsp;<span class="builtinfunc" id="1079341">append</span><span class="op" id="1079347">(</span><span class="ident" id="1079348"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1079357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079361"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079369">{</span><span class="ident" id="1079370"><a href="/strings/replace_test.go.html#1077147">htmlUnescaper</a></span><span class="op" id="1079383">,</span>&nbsp;<span class="string" id="1079385">&#34;&amp;amp;amp;&#34;</span><span class="op" id="1079396">,</span>&nbsp;<span class="string" id="1079398">&#34;&amp;amp;&#34;</span><span class="op" id="1079405">}</span><span class="op" id="1079406">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079410"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079418">{</span><span class="ident" id="1079419"><a href="/strings/replace_test.go.html#1077147">htmlUnescaper</a></span><span class="op" id="1079432">,</span>&nbsp;<span class="string" id="1079434">&#34;&amp;lt;b&amp;gt;HTML&amp;apos;s&nbsp;neat&amp;lt;/b&amp;gt;&#34;</span><span class="op" id="1079471">,</span>&nbsp;<span class="string" id="1079473">&#34;&lt;b&gt;HTML&#39;s&nbsp;neat&lt;/b&gt;&#34;</span><span class="op" id="1079493">}</span><span class="op" id="1079494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079498"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079506">{</span><span class="ident" id="1079507"><a href="/strings/replace_test.go.html#1077147">htmlUnescaper</a></span><span class="op" id="1079520">,</span>&nbsp;<span class="string" id="1079522">&#34;&#34;</span><span class="op" id="1079524">,</span>&nbsp;<span class="string" id="1079526">&#34;&#34;</span><span class="op" id="1079528">}</span><span class="op" id="1079529">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079534"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079542">{</span><span class="ident" id="1079543"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1079554">(</span><span class="string" id="1079555">&#34;a&#34;</span><span class="op" id="1079558">,</span>&nbsp;<span class="string" id="1079560">&#34;1&#34;</span><span class="op" id="1079563">,</span>&nbsp;<span class="string" id="1079565">&#34;a&#34;</span><span class="op" id="1079568">,</span>&nbsp;<span class="string" id="1079570">&#34;2&#34;</span><span class="op" id="1079573">,</span>&nbsp;<span class="string" id="1079575">&#34;xxx&#34;</span><span class="op" id="1079580">,</span>&nbsp;<span class="string" id="1079582">&#34;xxx&#34;</span><span class="op" id="1079587">)</span><span class="op" id="1079588">,</span>&nbsp;<span class="string" id="1079590">&#34;brad&#34;</span><span class="op" id="1079596">,</span>&nbsp;<span class="string" id="1079598">&#34;br1d&#34;</span><span class="op" id="1079604">}</span><span class="op" id="1079605">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079610"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079618">{</span><span class="ident" id="1079619"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1079630">(</span><span class="string" id="1079631">&#34;a&#34;</span><span class="op" id="1079634">,</span>&nbsp;<span class="string" id="1079636">&#34;1&#34;</span><span class="op" id="1079639">,</span>&nbsp;<span class="string" id="1079641">&#34;aa&#34;</span><span class="op" id="1079645">,</span>&nbsp;<span class="string" id="1079647">&#34;2&#34;</span><span class="op" id="1079650">,</span>&nbsp;<span class="string" id="1079652">&#34;aaa&#34;</span><span class="op" id="1079657">,</span>&nbsp;<span class="string" id="1079659">&#34;3&#34;</span><span class="op" id="1079662">)</span><span class="op" id="1079663">,</span>&nbsp;<span class="string" id="1079665">&#34;aaaa&#34;</span><span class="op" id="1079671">,</span>&nbsp;<span class="string" id="1079673">&#34;1111&#34;</span><span class="op" id="1079679">}</span><span class="op" id="1079680">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079685"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1079693">{</span><span class="ident" id="1079694"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1079705">(</span><span class="string" id="1079706">&#34;aaa&#34;</span><span class="op" id="1079711">,</span>&nbsp;<span class="string" id="1079713">&#34;3&#34;</span><span class="op" id="1079716">,</span>&nbsp;<span class="string" id="1079718">&#34;aa&#34;</span><span class="op" id="1079722">,</span>&nbsp;<span class="string" id="1079724">&#34;2&#34;</span><span class="op" id="1079727">,</span>&nbsp;<span class="string" id="1079729">&#34;a&#34;</span><span class="op" id="1079732">,</span>&nbsp;<span class="string" id="1079734">&#34;1&#34;</span><span class="op" id="1079737">)</span><span class="op" id="1079738">,</span>&nbsp;<span class="string" id="1079740">&#34;aaaa&#34;</span><span class="op" id="1079746">,</span>&nbsp;<span class="string" id="1079748">&#34;31&#34;</span><span class="op" id="1079752">}</span><span class="op" id="1079753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1079756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1079760">//&nbsp;gen1&nbsp;has&nbsp;multiple&nbsp;old&nbsp;strings&nbsp;of&nbsp;variable&nbsp;length.&nbsp;There&nbsp;is&nbsp;no</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1079826">//&nbsp;overall&nbsp;non-empty&nbsp;common&nbsp;prefix,&nbsp;but&nbsp;some&nbsp;pairwise&nbsp;common&nbsp;prefixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1079898">gen1</span>&nbsp;<span class="op" id="1079903">:=</span>&nbsp;<span class="ident" id="1079906"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1079917">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1079921">&#34;aaa&#34;</span><span class="op" id="1079926">,</span>&nbsp;<span class="string" id="1079928">&#34;3[aaa]&#34;</span><span class="op" id="1079936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1079940">&#34;aa&#34;</span><span class="op" id="1079944">,</span>&nbsp;<span class="string" id="1079946">&#34;2[aa]&#34;</span><span class="op" id="1079953">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1079957">&#34;a&#34;</span><span class="op" id="1079960">,</span>&nbsp;<span class="string" id="1079962">&#34;1[a]&#34;</span><span class="op" id="1079968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1079972">&#34;i&#34;</span><span class="op" id="1079975">,</span>&nbsp;<span class="string" id="1079977">&#34;i&#34;</span><span class="op" id="1079980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1079984">&#34;longerst&#34;</span><span class="op" id="1079994">,</span>&nbsp;<span class="string" id="1079996">&#34;most&nbsp;long&#34;</span><span class="op" id="1080007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080011">&#34;longer&#34;</span><span class="op" id="1080019">,</span>&nbsp;<span class="string" id="1080021">&#34;medium&#34;</span><span class="op" id="1080029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080033">&#34;long&#34;</span><span class="op" id="1080039">,</span>&nbsp;<span class="string" id="1080041">&#34;short&#34;</span><span class="op" id="1080048">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080052">&#34;xx&#34;</span><span class="op" id="1080056">,</span>&nbsp;<span class="string" id="1080058">&#34;xx&#34;</span><span class="op" id="1080062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080066">&#34;x&#34;</span><span class="op" id="1080069">,</span>&nbsp;<span class="string" id="1080071">&#34;X&#34;</span><span class="op" id="1080074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080078">&#34;X&#34;</span><span class="op" id="1080081">,</span>&nbsp;<span class="string" id="1080083">&#34;Y&#34;</span><span class="op" id="1080086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080090">&#34;Y&#34;</span><span class="op" id="1080093">,</span>&nbsp;<span class="string" id="1080095">&#34;Z&#34;</span><span class="op" id="1080098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1080101">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080104"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1080114">=</span>&nbsp;<span class="builtinfunc" id="1080116">append</span><span class="op" id="1080122">(</span><span class="ident" id="1080123"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1080132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080136"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080144">{</span><span class="ident" id="1080145"><a href="/strings/replace_test.go.html#1079898">gen1</a></span><span class="op" id="1080149">,</span>&nbsp;<span class="string" id="1080151">&#34;fooaaabar&#34;</span><span class="op" id="1080162">,</span>&nbsp;<span class="string" id="1080164">&#34;foo3[aaa]b1[a]r&#34;</span><span class="op" id="1080181">}</span><span class="op" id="1080182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080186"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080194">{</span><span class="ident" id="1080195"><a href="/strings/replace_test.go.html#1079898">gen1</a></span><span class="op" id="1080199">,</span>&nbsp;<span class="string" id="1080201">&#34;long,&nbsp;longerst,&nbsp;longer&#34;</span><span class="op" id="1080225">,</span>&nbsp;<span class="string" id="1080227">&#34;short,&nbsp;most&nbsp;long,&nbsp;medium&#34;</span><span class="op" id="1080253">}</span><span class="op" id="1080254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080258"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080266">{</span><span class="ident" id="1080267"><a href="/strings/replace_test.go.html#1079898">gen1</a></span><span class="op" id="1080271">,</span>&nbsp;<span class="string" id="1080273">&#34;xxxxx&#34;</span><span class="op" id="1080280">,</span>&nbsp;<span class="string" id="1080282">&#34;xxxxX&#34;</span><span class="op" id="1080289">}</span><span class="op" id="1080290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080294"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080302">{</span><span class="ident" id="1080303"><a href="/strings/replace_test.go.html#1079898">gen1</a></span><span class="op" id="1080307">,</span>&nbsp;<span class="string" id="1080309">&#34;XiX&#34;</span><span class="op" id="1080314">,</span>&nbsp;<span class="string" id="1080316">&#34;YiY&#34;</span><span class="op" id="1080321">}</span><span class="op" id="1080322">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080326"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080334">{</span><span class="ident" id="1080335"><a href="/strings/replace_test.go.html#1079898">gen1</a></span><span class="op" id="1080339">,</span>&nbsp;<span class="string" id="1080341">&#34;&#34;</span><span class="op" id="1080343">,</span>&nbsp;<span class="string" id="1080345">&#34;&#34;</span><span class="op" id="1080347">}</span><span class="op" id="1080348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1080351">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1080355">//&nbsp;gen2&nbsp;has&nbsp;multiple&nbsp;old&nbsp;strings&nbsp;with&nbsp;no&nbsp;pairwise&nbsp;common&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080421">gen2</span>&nbsp;<span class="op" id="1080426">:=</span>&nbsp;<span class="ident" id="1080429"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1080440">(</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080444">&#34;roses&#34;</span><span class="op" id="1080451">,</span>&nbsp;<span class="string" id="1080453">&#34;red&#34;</span><span class="op" id="1080458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080462">&#34;violets&#34;</span><span class="op" id="1080471">,</span>&nbsp;<span class="string" id="1080473">&#34;blue&#34;</span><span class="op" id="1080479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080483">&#34;sugar&#34;</span><span class="op" id="1080490">,</span>&nbsp;<span class="string" id="1080492">&#34;sweet&#34;</span><span class="op" id="1080499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1080502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080505"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1080515">=</span>&nbsp;<span class="builtinfunc" id="1080517">append</span><span class="op" id="1080523">(</span><span class="ident" id="1080524"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1080533">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080537"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080545">{</span><span class="ident" id="1080546"><a href="/strings/replace_test.go.html#1080421">gen2</a></span><span class="op" id="1080550">,</span>&nbsp;<span class="string" id="1080552">&#34;roses&nbsp;are&nbsp;red,&nbsp;violets&nbsp;are&nbsp;blue...&#34;</span><span class="op" id="1080588">,</span>&nbsp;<span class="string" id="1080590">&#34;red&nbsp;are&nbsp;red,&nbsp;blue&nbsp;are&nbsp;blue...&#34;</span><span class="op" id="1080621">}</span><span class="op" id="1080622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080626"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080634">{</span><span class="ident" id="1080635"><a href="/strings/replace_test.go.html#1080421">gen2</a></span><span class="op" id="1080639">,</span>&nbsp;<span class="string" id="1080641">&#34;&#34;</span><span class="op" id="1080643">,</span>&nbsp;<span class="string" id="1080645">&#34;&#34;</span><span class="op" id="1080647">}</span><span class="op" id="1080648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1080651">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1080655">//&nbsp;gen3&nbsp;has&nbsp;multiple&nbsp;old&nbsp;strings&nbsp;with&nbsp;an&nbsp;overall&nbsp;common&nbsp;prefix.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080720">gen3</span>&nbsp;<span class="op" id="1080725">:=</span>&nbsp;<span class="ident" id="1080728"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1080739">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080743">&#34;abracadabra&#34;</span><span class="op" id="1080756">,</span>&nbsp;<span class="string" id="1080758">&#34;poof&#34;</span><span class="op" id="1080764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080768">&#34;abracadabrakazam&#34;</span><span class="op" id="1080786">,</span>&nbsp;<span class="string" id="1080788">&#34;splat&#34;</span><span class="op" id="1080795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080799">&#34;abraham&#34;</span><span class="op" id="1080808">,</span>&nbsp;<span class="string" id="1080810">&#34;lincoln&#34;</span><span class="op" id="1080819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080823">&#34;abrasion&#34;</span><span class="op" id="1080833">,</span>&nbsp;<span class="string" id="1080835">&#34;scrape&#34;</span><span class="op" id="1080843">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1080847">&#34;abraham&#34;</span><span class="op" id="1080856">,</span>&nbsp;<span class="string" id="1080858">&#34;isaac&#34;</span><span class="op" id="1080865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1080868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080871"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1080881">=</span>&nbsp;<span class="builtinfunc" id="1080883">append</span><span class="op" id="1080889">(</span><span class="ident" id="1080890"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1080899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080903"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080911">{</span><span class="ident" id="1080912"><a href="/strings/replace_test.go.html#1080720">gen3</a></span><span class="op" id="1080916">,</span>&nbsp;<span class="string" id="1080918">&#34;abracadabrakazam&nbsp;abraham&#34;</span><span class="op" id="1080944">,</span>&nbsp;<span class="string" id="1080946">&#34;poofkazam&nbsp;lincoln&#34;</span><span class="op" id="1080965">}</span><span class="op" id="1080966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1080970"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1080978">{</span><span class="ident" id="1080979"><a href="/strings/replace_test.go.html#1080720">gen3</a></span><span class="op" id="1080983">,</span>&nbsp;<span class="string" id="1080985">&#34;abrasion&nbsp;abracad&#34;</span><span class="op" id="1081003">,</span>&nbsp;<span class="string" id="1081005">&#34;scrape&nbsp;abracad&#34;</span><span class="op" id="1081021">}</span><span class="op" id="1081022">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081026"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081034">{</span><span class="ident" id="1081035"><a href="/strings/replace_test.go.html#1080720">gen3</a></span><span class="op" id="1081039">,</span>&nbsp;<span class="string" id="1081041">&#34;abba&nbsp;abram&nbsp;abrasive&#34;</span><span class="op" id="1081062">,</span>&nbsp;<span class="string" id="1081064">&#34;abba&nbsp;abram&nbsp;abrasive&#34;</span><span class="op" id="1081085">}</span><span class="op" id="1081086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081090"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081098">{</span><span class="ident" id="1081099"><a href="/strings/replace_test.go.html#1080720">gen3</a></span><span class="op" id="1081103">,</span>&nbsp;<span class="string" id="1081105">&#34;&#34;</span><span class="op" id="1081107">,</span>&nbsp;<span class="string" id="1081109">&#34;&#34;</span><span class="op" id="1081111">}</span><span class="op" id="1081112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081115">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1081119">//&nbsp;foo{1,2,3,4}&nbsp;have&nbsp;multiple&nbsp;old&nbsp;strings&nbsp;with&nbsp;an&nbsp;overall&nbsp;common&nbsp;prefix</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1081192">//&nbsp;and&nbsp;1-&nbsp;or&nbsp;2-&nbsp;byte&nbsp;extensions&nbsp;from&nbsp;the&nbsp;common&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081249">foo1</span>&nbsp;<span class="op" id="1081254">:=</span>&nbsp;<span class="ident" id="1081257"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1081268">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081272">&#34;foo1&#34;</span><span class="op" id="1081278">,</span>&nbsp;<span class="string" id="1081280">&#34;A&#34;</span><span class="op" id="1081283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081287">&#34;foo2&#34;</span><span class="op" id="1081293">,</span>&nbsp;<span class="string" id="1081295">&#34;B&#34;</span><span class="op" id="1081298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081302">&#34;foo3&#34;</span><span class="op" id="1081308">,</span>&nbsp;<span class="string" id="1081310">&#34;C&#34;</span><span class="op" id="1081313">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081319">foo2</span>&nbsp;<span class="op" id="1081324">:=</span>&nbsp;<span class="ident" id="1081327"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1081338">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081342">&#34;foo1&#34;</span><span class="op" id="1081348">,</span>&nbsp;<span class="string" id="1081350">&#34;A&#34;</span><span class="op" id="1081353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081357">&#34;foo2&#34;</span><span class="op" id="1081363">,</span>&nbsp;<span class="string" id="1081365">&#34;B&#34;</span><span class="op" id="1081368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081372">&#34;foo31&#34;</span><span class="op" id="1081379">,</span>&nbsp;<span class="string" id="1081381">&#34;C&#34;</span><span class="op" id="1081384">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081388">&#34;foo32&#34;</span><span class="op" id="1081395">,</span>&nbsp;<span class="string" id="1081397">&#34;D&#34;</span><span class="op" id="1081400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081406">foo3</span>&nbsp;<span class="op" id="1081411">:=</span>&nbsp;<span class="ident" id="1081414"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1081425">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081429">&#34;foo11&#34;</span><span class="op" id="1081436">,</span>&nbsp;<span class="string" id="1081438">&#34;A&#34;</span><span class="op" id="1081441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081445">&#34;foo12&#34;</span><span class="op" id="1081452">,</span>&nbsp;<span class="string" id="1081454">&#34;B&#34;</span><span class="op" id="1081457">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081461">&#34;foo31&#34;</span><span class="op" id="1081468">,</span>&nbsp;<span class="string" id="1081470">&#34;C&#34;</span><span class="op" id="1081473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081477">&#34;foo32&#34;</span><span class="op" id="1081484">,</span>&nbsp;<span class="string" id="1081486">&#34;D&#34;</span><span class="op" id="1081489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081495">foo4</span>&nbsp;<span class="op" id="1081500">:=</span>&nbsp;<span class="ident" id="1081503"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1081514">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081518">&#34;foo12&#34;</span><span class="op" id="1081525">,</span>&nbsp;<span class="string" id="1081527">&#34;B&#34;</span><span class="op" id="1081530">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1081534">&#34;foo32&#34;</span><span class="op" id="1081541">,</span>&nbsp;<span class="string" id="1081543">&#34;D&#34;</span><span class="op" id="1081546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081552"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1081562">=</span>&nbsp;<span class="builtinfunc" id="1081564">append</span><span class="op" id="1081570">(</span><span class="ident" id="1081571"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1081580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081584"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081592">{</span><span class="ident" id="1081593"><a href="/strings/replace_test.go.html#1081249">foo1</a></span><span class="op" id="1081597">,</span>&nbsp;<span class="string" id="1081599">&#34;fofoofoo12foo32oo&#34;</span><span class="op" id="1081618">,</span>&nbsp;<span class="string" id="1081620">&#34;fofooA2C2oo&#34;</span><span class="op" id="1081633">}</span><span class="op" id="1081634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081638"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081646">{</span><span class="ident" id="1081647"><a href="/strings/replace_test.go.html#1081249">foo1</a></span><span class="op" id="1081651">,</span>&nbsp;<span class="string" id="1081653">&#34;&#34;</span><span class="op" id="1081655">,</span>&nbsp;<span class="string" id="1081657">&#34;&#34;</span><span class="op" id="1081659">}</span><span class="op" id="1081660">,</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081665"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081673">{</span><span class="ident" id="1081674"><a href="/strings/replace_test.go.html#1081319">foo2</a></span><span class="op" id="1081678">,</span>&nbsp;<span class="string" id="1081680">&#34;fofoofoo12foo32oo&#34;</span><span class="op" id="1081699">,</span>&nbsp;<span class="string" id="1081701">&#34;fofooA2Doo&#34;</span><span class="op" id="1081713">}</span><span class="op" id="1081714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081718"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081726">{</span><span class="ident" id="1081727"><a href="/strings/replace_test.go.html#1081319">foo2</a></span><span class="op" id="1081731">,</span>&nbsp;<span class="string" id="1081733">&#34;&#34;</span><span class="op" id="1081735">,</span>&nbsp;<span class="string" id="1081737">&#34;&#34;</span><span class="op" id="1081739">}</span><span class="op" id="1081740">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081745"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081753">{</span><span class="ident" id="1081754"><a href="/strings/replace_test.go.html#1081406">foo3</a></span><span class="op" id="1081758">,</span>&nbsp;<span class="string" id="1081760">&#34;fofoofoo12foo32oo&#34;</span><span class="op" id="1081779">,</span>&nbsp;<span class="string" id="1081781">&#34;fofooBDoo&#34;</span><span class="op" id="1081792">}</span><span class="op" id="1081793">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081797"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081805">{</span><span class="ident" id="1081806"><a href="/strings/replace_test.go.html#1081406">foo3</a></span><span class="op" id="1081810">,</span>&nbsp;<span class="string" id="1081812">&#34;&#34;</span><span class="op" id="1081814">,</span>&nbsp;<span class="string" id="1081816">&#34;&#34;</span><span class="op" id="1081818">}</span><span class="op" id="1081819">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081824"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081832">{</span><span class="ident" id="1081833"><a href="/strings/replace_test.go.html#1081495">foo4</a></span><span class="op" id="1081837">,</span>&nbsp;<span class="string" id="1081839">&#34;fofoofoo12foo32oo&#34;</span><span class="op" id="1081858">,</span>&nbsp;<span class="string" id="1081860">&#34;fofooBDoo&#34;</span><span class="op" id="1081871">}</span><span class="op" id="1081872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081876"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1081884">{</span><span class="ident" id="1081885"><a href="/strings/replace_test.go.html#1081495">foo4</a></span><span class="op" id="1081889">,</span>&nbsp;<span class="string" id="1081891">&#34;&#34;</span><span class="op" id="1081893">,</span>&nbsp;<span class="string" id="1081895">&#34;&#34;</span><span class="op" id="1081897">}</span><span class="op" id="1081898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1081901">)</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1081905">//&nbsp;genAll&nbsp;maps&nbsp;&#34;\x00\x01\x02...\xfe\xff&#34;&nbsp;to&nbsp;&#34;[all]&#34;,&nbsp;amongst&nbsp;other&nbsp;things.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1081981">allBytes</span>&nbsp;<span class="op" id="1081990">:=</span>&nbsp;<span class="builtinfunc" id="1081993">make</span><span class="op" id="1081997">(</span><span class="op" id="1081998">[</span><span class="op" id="1081999">]</span><span class="builtintype" id="1082000">byte</span><span class="op" id="1082004">,</span>&nbsp;<span class="num" id="1082006">256</span><span class="op" id="1082009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1082012">for</span>&nbsp;<span class="ident" id="1082016">i</span>&nbsp;<span class="op" id="1082018">:=</span>&nbsp;<span class="keyword" id="1082021">range</span>&nbsp;<span class="ident" id="1082027"><a href="/strings/replace_test.go.html#1081981">allBytes</a></span>&nbsp;<span class="op" id="1082036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082040"><a href="/strings/replace_test.go.html#1081981">allBytes</a></span><span class="op" id="1082048">[</span><span class="ident" id="1082049"><a href="/strings/replace_test.go.html#1082016">i</a></span><span class="op" id="1082050">]</span>&nbsp;<span class="op" id="1082052">=</span>&nbsp;<span class="builtintype" id="1082054">byte</span><span class="op" id="1082058">(</span><span class="ident" id="1082059"><a href="/strings/replace_test.go.html#1082016">i</a></span><span class="op" id="1082060">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1082063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082066">allString</span>&nbsp;<span class="op" id="1082076">:=</span>&nbsp;<span class="builtintype" id="1082079">string</span><span class="op" id="1082085">(</span><span class="ident" id="1082086"><a href="/strings/replace_test.go.html#1081981">allBytes</a></span><span class="op" id="1082094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082097">genAll</span>&nbsp;<span class="op" id="1082104">:=</span>&nbsp;<span class="ident" id="1082107"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082118">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082122"><a href="/strings/replace_test.go.html#1082066">allString</a></span><span class="op" id="1082131">,</span>&nbsp;<span class="string" id="1082133">&#34;[all]&#34;</span><span class="op" id="1082140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1082144">&#34;\xff&#34;</span><span class="op" id="1082150">,</span>&nbsp;<span class="string" id="1082152">&#34;[ff]&#34;</span><span class="op" id="1082158">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1082162">&#34;\x00&#34;</span><span class="op" id="1082168">,</span>&nbsp;<span class="string" id="1082170">&#34;[00]&#34;</span><span class="op" id="1082176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1082179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082182"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1082192">=</span>&nbsp;<span class="builtinfunc" id="1082194">append</span><span class="op" id="1082200">(</span><span class="ident" id="1082201"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1082210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082214"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082222">{</span><span class="ident" id="1082223"><a href="/strings/replace_test.go.html#1082097">genAll</a></span><span class="op" id="1082229">,</span>&nbsp;<span class="ident" id="1082231"><a href="/strings/replace_test.go.html#1082066">allString</a></span><span class="op" id="1082240">,</span>&nbsp;<span class="string" id="1082242">&#34;[all]&#34;</span><span class="op" id="1082249">}</span><span class="op" id="1082250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082254"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082262">{</span><span class="ident" id="1082263"><a href="/strings/replace_test.go.html#1082097">genAll</a></span><span class="op" id="1082269">,</span>&nbsp;<span class="string" id="1082271">&#34;a\xff&#34;</span>&nbsp;<span class="op" id="1082279">+</span>&nbsp;<span class="ident" id="1082281"><a href="/strings/replace_test.go.html#1082066">allString</a></span>&nbsp;<span class="op" id="1082291">+</span>&nbsp;<span class="string" id="1082293">&#34;\x00&#34;</span><span class="op" id="1082299">,</span>&nbsp;<span class="string" id="1082301">&#34;a[ff][all][00]&#34;</span><span class="op" id="1082317">}</span><span class="op" id="1082318">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082322"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082330">{</span><span class="ident" id="1082331"><a href="/strings/replace_test.go.html#1082097">genAll</a></span><span class="op" id="1082337">,</span>&nbsp;<span class="string" id="1082339">&#34;&#34;</span><span class="op" id="1082341">,</span>&nbsp;<span class="string" id="1082343">&#34;&#34;</span><span class="op" id="1082345">}</span><span class="op" id="1082346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1082349">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1082353">//&nbsp;Test&nbsp;cases&nbsp;with&nbsp;empty&nbsp;old&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082393">blankToX1</span>&nbsp;<span class="op" id="1082403">:=</span>&nbsp;<span class="ident" id="1082406"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082417">(</span><span class="string" id="1082418">&#34;&#34;</span><span class="op" id="1082420">,</span>&nbsp;<span class="string" id="1082422">&#34;X&#34;</span><span class="op" id="1082425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082428">blankToX2</span>&nbsp;<span class="op" id="1082438">:=</span>&nbsp;<span class="ident" id="1082441"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082452">(</span><span class="string" id="1082453">&#34;&#34;</span><span class="op" id="1082455">,</span>&nbsp;<span class="string" id="1082457">&#34;X&#34;</span><span class="op" id="1082460">,</span>&nbsp;<span class="string" id="1082462">&#34;&#34;</span><span class="op" id="1082464">,</span>&nbsp;<span class="string" id="1082466">&#34;&#34;</span><span class="op" id="1082468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082471">blankHighPriority</span>&nbsp;<span class="op" id="1082489">:=</span>&nbsp;<span class="ident" id="1082492"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082503">(</span><span class="string" id="1082504">&#34;&#34;</span><span class="op" id="1082506">,</span>&nbsp;<span class="string" id="1082508">&#34;X&#34;</span><span class="op" id="1082511">,</span>&nbsp;<span class="string" id="1082513">&#34;o&#34;</span><span class="op" id="1082516">,</span>&nbsp;<span class="string" id="1082518">&#34;O&#34;</span><span class="op" id="1082521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082524">blankLowPriority</span>&nbsp;<span class="op" id="1082541">:=</span>&nbsp;<span class="ident" id="1082544"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082555">(</span><span class="string" id="1082556">&#34;o&#34;</span><span class="op" id="1082559">,</span>&nbsp;<span class="string" id="1082561">&#34;O&#34;</span><span class="op" id="1082564">,</span>&nbsp;<span class="string" id="1082566">&#34;&#34;</span><span class="op" id="1082568">,</span>&nbsp;<span class="string" id="1082570">&#34;X&#34;</span><span class="op" id="1082573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082576">blankNoOp1</span>&nbsp;<span class="op" id="1082587">:=</span>&nbsp;<span class="ident" id="1082590"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082601">(</span><span class="string" id="1082602">&#34;&#34;</span><span class="op" id="1082604">,</span>&nbsp;<span class="string" id="1082606">&#34;&#34;</span><span class="op" id="1082608">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082611">blankNoOp2</span>&nbsp;<span class="op" id="1082622">:=</span>&nbsp;<span class="ident" id="1082625"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082636">(</span><span class="string" id="1082637">&#34;&#34;</span><span class="op" id="1082639">,</span>&nbsp;<span class="string" id="1082641">&#34;&#34;</span><span class="op" id="1082643">,</span>&nbsp;<span class="string" id="1082645">&#34;&#34;</span><span class="op" id="1082647">,</span>&nbsp;<span class="string" id="1082649">&#34;A&#34;</span><span class="op" id="1082652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082655">blankFoo</span>&nbsp;<span class="op" id="1082664">:=</span>&nbsp;<span class="ident" id="1082667"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1082678">(</span><span class="string" id="1082679">&#34;&#34;</span><span class="op" id="1082681">,</span>&nbsp;<span class="string" id="1082683">&#34;X&#34;</span><span class="op" id="1082686">,</span>&nbsp;<span class="string" id="1082688">&#34;foobar&#34;</span><span class="op" id="1082696">,</span>&nbsp;<span class="string" id="1082698">&#34;R&#34;</span><span class="op" id="1082701">,</span>&nbsp;<span class="string" id="1082703">&#34;foobaz&#34;</span><span class="op" id="1082711">,</span>&nbsp;<span class="string" id="1082713">&#34;Z&#34;</span><span class="op" id="1082716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082719"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1082729">=</span>&nbsp;<span class="builtinfunc" id="1082731">append</span><span class="op" id="1082737">(</span><span class="ident" id="1082738"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1082747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082751"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082759">{</span><span class="ident" id="1082760"><a href="/strings/replace_test.go.html#1082393">blankToX1</a></span><span class="op" id="1082769">,</span>&nbsp;<span class="string" id="1082771">&#34;foo&#34;</span><span class="op" id="1082776">,</span>&nbsp;<span class="string" id="1082778">&#34;XfXoXoX&#34;</span><span class="op" id="1082787">}</span><span class="op" id="1082788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082792"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082800">{</span><span class="ident" id="1082801"><a href="/strings/replace_test.go.html#1082393">blankToX1</a></span><span class="op" id="1082810">,</span>&nbsp;<span class="string" id="1082812">&#34;&#34;</span><span class="op" id="1082814">,</span>&nbsp;<span class="string" id="1082816">&#34;X&#34;</span><span class="op" id="1082819">}</span><span class="op" id="1082820">,</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082825"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082833">{</span><span class="ident" id="1082834"><a href="/strings/replace_test.go.html#1082428">blankToX2</a></span><span class="op" id="1082843">,</span>&nbsp;<span class="string" id="1082845">&#34;foo&#34;</span><span class="op" id="1082850">,</span>&nbsp;<span class="string" id="1082852">&#34;XfXoXoX&#34;</span><span class="op" id="1082861">}</span><span class="op" id="1082862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082866"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082874">{</span><span class="ident" id="1082875"><a href="/strings/replace_test.go.html#1082428">blankToX2</a></span><span class="op" id="1082884">,</span>&nbsp;<span class="string" id="1082886">&#34;&#34;</span><span class="op" id="1082888">,</span>&nbsp;<span class="string" id="1082890">&#34;X&#34;</span><span class="op" id="1082893">}</span><span class="op" id="1082894">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082899"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082907">{</span><span class="ident" id="1082908"><a href="/strings/replace_test.go.html#1082471">blankHighPriority</a></span><span class="op" id="1082925">,</span>&nbsp;<span class="string" id="1082927">&#34;oo&#34;</span><span class="op" id="1082931">,</span>&nbsp;<span class="string" id="1082933">&#34;XOXOX&#34;</span><span class="op" id="1082940">}</span><span class="op" id="1082941">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082945"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082953">{</span><span class="ident" id="1082954"><a href="/strings/replace_test.go.html#1082471">blankHighPriority</a></span><span class="op" id="1082971">,</span>&nbsp;<span class="string" id="1082973">&#34;ii&#34;</span><span class="op" id="1082977">,</span>&nbsp;<span class="string" id="1082979">&#34;XiXiX&#34;</span><span class="op" id="1082986">}</span><span class="op" id="1082987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1082991"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1082999">{</span><span class="ident" id="1083000"><a href="/strings/replace_test.go.html#1082471">blankHighPriority</a></span><span class="op" id="1083017">,</span>&nbsp;<span class="string" id="1083019">&#34;oiio&#34;</span><span class="op" id="1083025">,</span>&nbsp;<span class="string" id="1083027">&#34;XOXiXiXOX&#34;</span><span class="op" id="1083038">}</span><span class="op" id="1083039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083043"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083051">{</span><span class="ident" id="1083052"><a href="/strings/replace_test.go.html#1082471">blankHighPriority</a></span><span class="op" id="1083069">,</span>&nbsp;<span class="string" id="1083071">&#34;iooi&#34;</span><span class="op" id="1083077">,</span>&nbsp;<span class="string" id="1083079">&#34;XiXOXOXiX&#34;</span><span class="op" id="1083090">}</span><span class="op" id="1083091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083095"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083103">{</span><span class="ident" id="1083104"><a href="/strings/replace_test.go.html#1082471">blankHighPriority</a></span><span class="op" id="1083121">,</span>&nbsp;<span class="string" id="1083123">&#34;&#34;</span><span class="op" id="1083125">,</span>&nbsp;<span class="string" id="1083127">&#34;X&#34;</span><span class="op" id="1083130">}</span><span class="op" id="1083131">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083136"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083144">{</span><span class="ident" id="1083145"><a href="/strings/replace_test.go.html#1082524">blankLowPriority</a></span><span class="op" id="1083161">,</span>&nbsp;<span class="string" id="1083163">&#34;oo&#34;</span><span class="op" id="1083167">,</span>&nbsp;<span class="string" id="1083169">&#34;OOX&#34;</span><span class="op" id="1083174">}</span><span class="op" id="1083175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083179"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083187">{</span><span class="ident" id="1083188"><a href="/strings/replace_test.go.html#1082524">blankLowPriority</a></span><span class="op" id="1083204">,</span>&nbsp;<span class="string" id="1083206">&#34;ii&#34;</span><span class="op" id="1083210">,</span>&nbsp;<span class="string" id="1083212">&#34;XiXiX&#34;</span><span class="op" id="1083219">}</span><span class="op" id="1083220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083224"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083232">{</span><span class="ident" id="1083233"><a href="/strings/replace_test.go.html#1082524">blankLowPriority</a></span><span class="op" id="1083249">,</span>&nbsp;<span class="string" id="1083251">&#34;oiio&#34;</span><span class="op" id="1083257">,</span>&nbsp;<span class="string" id="1083259">&#34;OXiXiOX&#34;</span><span class="op" id="1083268">}</span><span class="op" id="1083269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083273"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083281">{</span><span class="ident" id="1083282"><a href="/strings/replace_test.go.html#1082524">blankLowPriority</a></span><span class="op" id="1083298">,</span>&nbsp;<span class="string" id="1083300">&#34;iooi&#34;</span><span class="op" id="1083306">,</span>&nbsp;<span class="string" id="1083308">&#34;XiOOXiX&#34;</span><span class="op" id="1083317">}</span><span class="op" id="1083318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083322"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083330">{</span><span class="ident" id="1083331"><a href="/strings/replace_test.go.html#1082524">blankLowPriority</a></span><span class="op" id="1083347">,</span>&nbsp;<span class="string" id="1083349">&#34;&#34;</span><span class="op" id="1083351">,</span>&nbsp;<span class="string" id="1083353">&#34;X&#34;</span><span class="op" id="1083356">}</span><span class="op" id="1083357">,</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083362"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083370">{</span><span class="ident" id="1083371"><a href="/strings/replace_test.go.html#1082576">blankNoOp1</a></span><span class="op" id="1083381">,</span>&nbsp;<span class="string" id="1083383">&#34;foo&#34;</span><span class="op" id="1083388">,</span>&nbsp;<span class="string" id="1083390">&#34;foo&#34;</span><span class="op" id="1083395">}</span><span class="op" id="1083396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083400"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083408">{</span><span class="ident" id="1083409"><a href="/strings/replace_test.go.html#1082576">blankNoOp1</a></span><span class="op" id="1083419">,</span>&nbsp;<span class="string" id="1083421">&#34;&#34;</span><span class="op" id="1083423">,</span>&nbsp;<span class="string" id="1083425">&#34;&#34;</span><span class="op" id="1083427">}</span><span class="op" id="1083428">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083433"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083441">{</span><span class="ident" id="1083442"><a href="/strings/replace_test.go.html#1082611">blankNoOp2</a></span><span class="op" id="1083452">,</span>&nbsp;<span class="string" id="1083454">&#34;foo&#34;</span><span class="op" id="1083459">,</span>&nbsp;<span class="string" id="1083461">&#34;foo&#34;</span><span class="op" id="1083466">}</span><span class="op" id="1083467">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083471"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083479">{</span><span class="ident" id="1083480"><a href="/strings/replace_test.go.html#1082611">blankNoOp2</a></span><span class="op" id="1083490">,</span>&nbsp;<span class="string" id="1083492">&#34;&#34;</span><span class="op" id="1083494">,</span>&nbsp;<span class="string" id="1083496">&#34;&#34;</span><span class="op" id="1083498">}</span><span class="op" id="1083499">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083504"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083512">{</span><span class="ident" id="1083513"><a href="/strings/replace_test.go.html#1082655">blankFoo</a></span><span class="op" id="1083521">,</span>&nbsp;<span class="string" id="1083523">&#34;foobarfoobaz&#34;</span><span class="op" id="1083537">,</span>&nbsp;<span class="string" id="1083539">&#34;XRXZX&#34;</span><span class="op" id="1083546">}</span><span class="op" id="1083547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083551"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083559">{</span><span class="ident" id="1083560"><a href="/strings/replace_test.go.html#1082655">blankFoo</a></span><span class="op" id="1083568">,</span>&nbsp;<span class="string" id="1083570">&#34;foobar-foobaz&#34;</span><span class="op" id="1083585">,</span>&nbsp;<span class="string" id="1083587">&#34;XRX-XZX&#34;</span><span class="op" id="1083596">}</span><span class="op" id="1083597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083601"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083609">{</span><span class="ident" id="1083610"><a href="/strings/replace_test.go.html#1082655">blankFoo</a></span><span class="op" id="1083618">,</span>&nbsp;<span class="string" id="1083620">&#34;&#34;</span><span class="op" id="1083622">,</span>&nbsp;<span class="string" id="1083624">&#34;X&#34;</span><span class="op" id="1083627">}</span><span class="op" id="1083628">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1083631">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1083635">//&nbsp;single&nbsp;string&nbsp;replacer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083663">abcMatcher</span>&nbsp;<span class="op" id="1083674">:=</span>&nbsp;<span class="ident" id="1083677"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1083688">(</span><span class="string" id="1083689">&#34;abc&#34;</span><span class="op" id="1083694">,</span>&nbsp;<span class="string" id="1083696">&#34;[match]&#34;</span><span class="op" id="1083705">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083709"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1083719">=</span>&nbsp;<span class="builtinfunc" id="1083721">append</span><span class="op" id="1083727">(</span><span class="ident" id="1083728"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1083737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083741"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083749">{</span><span class="ident" id="1083750"><a href="/strings/replace_test.go.html#1083663">abcMatcher</a></span><span class="op" id="1083760">,</span>&nbsp;<span class="string" id="1083762">&#34;&#34;</span><span class="op" id="1083764">,</span>&nbsp;<span class="string" id="1083766">&#34;&#34;</span><span class="op" id="1083768">}</span><span class="op" id="1083769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083773"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083781">{</span><span class="ident" id="1083782"><a href="/strings/replace_test.go.html#1083663">abcMatcher</a></span><span class="op" id="1083792">,</span>&nbsp;<span class="string" id="1083794">&#34;ab&#34;</span><span class="op" id="1083798">,</span>&nbsp;<span class="string" id="1083800">&#34;ab&#34;</span><span class="op" id="1083804">}</span><span class="op" id="1083805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083809"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083817">{</span><span class="ident" id="1083818"><a href="/strings/replace_test.go.html#1083663">abcMatcher</a></span><span class="op" id="1083828">,</span>&nbsp;<span class="string" id="1083830">&#34;abc&#34;</span><span class="op" id="1083835">,</span>&nbsp;<span class="string" id="1083837">&#34;[match]&#34;</span><span class="op" id="1083846">}</span><span class="op" id="1083847">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083851"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083859">{</span><span class="ident" id="1083860"><a href="/strings/replace_test.go.html#1083663">abcMatcher</a></span><span class="op" id="1083870">,</span>&nbsp;<span class="string" id="1083872">&#34;abcd&#34;</span><span class="op" id="1083878">,</span>&nbsp;<span class="string" id="1083880">&#34;[match]d&#34;</span><span class="op" id="1083890">}</span><span class="op" id="1083891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1083895"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1083903">{</span><span class="ident" id="1083904"><a href="/strings/replace_test.go.html#1083663">abcMatcher</a></span><span class="op" id="1083914">,</span>&nbsp;<span class="string" id="1083916">&#34;cabcabcdabca&#34;</span><span class="op" id="1083930">,</span>&nbsp;<span class="string" id="1083932">&#34;c[match][match]d[match]a&#34;</span><span class="op" id="1083958">}</span><span class="op" id="1083959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1083962">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1083966">//&nbsp;Issue&nbsp;6659&nbsp;cases&nbsp;(more&nbsp;single&nbsp;string&nbsp;replacer)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084018">noHello</span>&nbsp;<span class="op" id="1084026">:=</span>&nbsp;<span class="ident" id="1084029"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1084040">(</span><span class="string" id="1084041">&#34;Hello&#34;</span><span class="op" id="1084048">,</span>&nbsp;<span class="string" id="1084050">&#34;&#34;</span><span class="op" id="1084052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084055"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1084065">=</span>&nbsp;<span class="builtinfunc" id="1084067">append</span><span class="op" id="1084073">(</span><span class="ident" id="1084074"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1084083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084087"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084095">{</span><span class="ident" id="1084096"><a href="/strings/replace_test.go.html#1084018">noHello</a></span><span class="op" id="1084103">,</span>&nbsp;<span class="string" id="1084105">&#34;Hello&#34;</span><span class="op" id="1084112">,</span>&nbsp;<span class="string" id="1084114">&#34;&#34;</span><span class="op" id="1084116">}</span><span class="op" id="1084117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084121"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084129">{</span><span class="ident" id="1084130"><a href="/strings/replace_test.go.html#1084018">noHello</a></span><span class="op" id="1084137">,</span>&nbsp;<span class="string" id="1084139">&#34;Hellox&#34;</span><span class="op" id="1084147">,</span>&nbsp;<span class="string" id="1084149">&#34;x&#34;</span><span class="op" id="1084152">}</span><span class="op" id="1084153">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084157"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084165">{</span><span class="ident" id="1084166"><a href="/strings/replace_test.go.html#1084018">noHello</a></span><span class="op" id="1084173">,</span>&nbsp;<span class="string" id="1084175">&#34;xHello&#34;</span><span class="op" id="1084183">,</span>&nbsp;<span class="string" id="1084185">&#34;x&#34;</span><span class="op" id="1084188">}</span><span class="op" id="1084189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084193"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084201">{</span><span class="ident" id="1084202"><a href="/strings/replace_test.go.html#1084018">noHello</a></span><span class="op" id="1084209">,</span>&nbsp;<span class="string" id="1084211">&#34;xHellox&#34;</span><span class="op" id="1084220">,</span>&nbsp;<span class="string" id="1084222">&#34;xx&#34;</span><span class="op" id="1084226">}</span><span class="op" id="1084227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084230">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1084234">//&nbsp;No-arg&nbsp;test&nbsp;cases.</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084258">nop</span>&nbsp;<span class="op" id="1084262">:=</span>&nbsp;<span class="ident" id="1084265"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1084276">(</span><span class="op" id="1084277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084280"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1084290">=</span>&nbsp;<span class="builtinfunc" id="1084292">append</span><span class="op" id="1084298">(</span><span class="ident" id="1084299"><a href="/strings/replace_test.go.html#1077734">testCases</a></span><span class="op" id="1084308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084312"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084320">{</span><span class="ident" id="1084321"><a href="/strings/replace_test.go.html#1084258">nop</a></span><span class="op" id="1084324">,</span>&nbsp;<span class="string" id="1084326">&#34;abc&#34;</span><span class="op" id="1084331">,</span>&nbsp;<span class="string" id="1084333">&#34;abc&#34;</span><span class="op" id="1084338">}</span><span class="op" id="1084339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084343"><a href="/strings/replace_test.go.html#1077671">testCase</a></span><span class="op" id="1084351">{</span><span class="ident" id="1084352"><a href="/strings/replace_test.go.html#1084258">nop</a></span><span class="op" id="1084355">,</span>&nbsp;<span class="string" id="1084357">&#34;&#34;</span><span class="op" id="1084359">,</span>&nbsp;<span class="string" id="1084361">&#34;&#34;</span><span class="op" id="1084363">}</span><span class="op" id="1084364">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084367">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1084371">//&nbsp;Run&nbsp;the&nbsp;test&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084396">for</span>&nbsp;<span class="ident" id="1084400">i</span><span class="op" id="1084401">,</span>&nbsp;<span class="ident" id="1084403">tc</span>&nbsp;<span class="op" id="1084406">:=</span>&nbsp;<span class="keyword" id="1084409">range</span>&nbsp;<span class="ident" id="1084415"><a href="/strings/replace_test.go.html#1077734">testCases</a></span>&nbsp;<span class="op" id="1084425">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084429">if</span>&nbsp;<span class="ident" id="1084432">s</span>&nbsp;<span class="op" id="1084434">:=</span>&nbsp;<span class="ident" id="1084437"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084439">.</span><span class="ident" id="1084440">r</span><span class="op" id="1084441">.</span><span class="ident" id="1084442">Replace</span><span class="op" id="1084449">(</span><span class="ident" id="1084450"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084452">.</span><span class="ident" id="1084453">in</span><span class="op" id="1084455">)</span><span class="op" id="1084456">;</span>&nbsp;<span class="ident" id="1084458"><a href="/strings/replace_test.go.html#1084432">s</a></span>&nbsp;<span class="op" id="1084460">!=</span>&nbsp;<span class="ident" id="1084463"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084465">.</span><span class="ident" id="1084466">out</span>&nbsp;<span class="op" id="1084470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084475"><a href="/strings/replace_test.go.html#1077649">t</a></span><span class="op" id="1084476">.</span><span class="ident" id="1084477">Errorf</span><span class="op" id="1084483">(</span><span class="string" id="1084484">&#34;%d.&nbsp;Replace(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1084515">,</span>&nbsp;<span class="ident" id="1084517"><a href="/strings/replace_test.go.html#1084400">i</a></span><span class="op" id="1084518">,</span>&nbsp;<span class="ident" id="1084520"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084522">.</span><span class="ident" id="1084523">in</span><span class="op" id="1084525">,</span>&nbsp;<span class="ident" id="1084527"><a href="/strings/replace_test.go.html#1084432">s</a></span><span class="op" id="1084528">,</span>&nbsp;<span class="ident" id="1084530"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084532">.</span><span class="ident" id="1084533">out</span><span class="op" id="1084536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084544">var</span>&nbsp;<span class="ident" id="1084548">buf</span>&nbsp;<span class="ident" id="1084552"><a href="/strings/replace_test.go.html#1076992">bytes</a></span><span class="op" id="1084557">.</span><span class="ident" id="1084558">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084567">n</span><span class="op" id="1084568">,</span>&nbsp;<span class="ident" id="1084570">err</span>&nbsp;<span class="op" id="1084574">:=</span>&nbsp;<span class="ident" id="1084577"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084579">.</span><span class="ident" id="1084580">r</span><span class="op" id="1084581">.</span><span class="ident" id="1084582">WriteString</span><span class="op" id="1084593">(</span><span class="op" id="1084594">&amp;</span><span class="ident" id="1084595"><a href="/strings/replace_test.go.html#1084548">buf</a></span><span class="op" id="1084598">,</span>&nbsp;<span class="ident" id="1084600"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084602">.</span><span class="ident" id="1084603">in</span><span class="op" id="1084605">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084609">if</span>&nbsp;<span class="ident" id="1084612"><a href="/strings/replace_test.go.html#1084570">err</a></span>&nbsp;<span class="op" id="1084616">!=</span>&nbsp;<span class="ident" id="1084619">nil</span>&nbsp;<span class="op" id="1084623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084628"><a href="/strings/replace_test.go.html#1077649">t</a></span><span class="op" id="1084629">.</span><span class="ident" id="1084630">Errorf</span><span class="op" id="1084636">(</span><span class="string" id="1084637">&#34;%d.&nbsp;WriteString:&nbsp;%v&#34;</span><span class="op" id="1084658">,</span>&nbsp;<span class="ident" id="1084660"><a href="/strings/replace_test.go.html#1084400">i</a></span><span class="op" id="1084661">,</span>&nbsp;<span class="ident" id="1084663"><a href="/strings/replace_test.go.html#1084570">err</a></span><span class="op" id="1084666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084671">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084686">got</span>&nbsp;<span class="op" id="1084690">:=</span>&nbsp;<span class="ident" id="1084693"><a href="/strings/replace_test.go.html#1084548">buf</a></span><span class="op" id="1084696">.</span><span class="ident" id="1084697">String</span><span class="op" id="1084703">(</span><span class="op" id="1084704">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084708">if</span>&nbsp;<span class="ident" id="1084711"><a href="/strings/replace_test.go.html#1084686">got</a></span>&nbsp;<span class="op" id="1084715">!=</span>&nbsp;<span class="ident" id="1084718"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084720">.</span><span class="ident" id="1084721">out</span>&nbsp;<span class="op" id="1084725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084730"><a href="/strings/replace_test.go.html#1077649">t</a></span><span class="op" id="1084731">.</span><span class="ident" id="1084732">Errorf</span><span class="op" id="1084738">(</span><span class="string" id="1084739">&#34;%d.&nbsp;WriteString(%q)&nbsp;wrote&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1084778">,</span>&nbsp;<span class="ident" id="1084780"><a href="/strings/replace_test.go.html#1084400">i</a></span><span class="op" id="1084781">,</span>&nbsp;<span class="ident" id="1084783"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084785">.</span><span class="ident" id="1084786">in</span><span class="op" id="1084788">,</span>&nbsp;<span class="ident" id="1084790"><a href="/strings/replace_test.go.html#1084686">got</a></span><span class="op" id="1084793">,</span>&nbsp;<span class="ident" id="1084795"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084797">.</span><span class="ident" id="1084798">out</span><span class="op" id="1084801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084806">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1084821">if</span>&nbsp;<span class="ident" id="1084824"><a href="/strings/replace_test.go.html#1084567">n</a></span>&nbsp;<span class="op" id="1084826">!=</span>&nbsp;<span class="builtinfunc" id="1084829">len</span><span class="op" id="1084832">(</span><span class="ident" id="1084833"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084835">.</span><span class="ident" id="1084836">out</span><span class="op" id="1084839">)</span>&nbsp;<span class="op" id="1084841">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084846"><a href="/strings/replace_test.go.html#1077649">t</a></span><span class="op" id="1084847">.</span><span class="ident" id="1084848">Errorf</span><span class="op" id="1084854">(</span><span class="string" id="1084855">&#34;%d.&nbsp;WriteString(%q)&nbsp;wrote&nbsp;correct&nbsp;string&nbsp;but&nbsp;reported&nbsp;%d&nbsp;bytes;&nbsp;want&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="1084933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1084939"><a href="/strings/replace_test.go.html#1084400">i</a></span><span class="op" id="1084940">,</span>&nbsp;<span class="ident" id="1084942"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084944">.</span><span class="ident" id="1084945">in</span><span class="op" id="1084947">,</span>&nbsp;<span class="ident" id="1084949"><a href="/strings/replace_test.go.html#1084567">n</a></span><span class="op" id="1084950">,</span>&nbsp;<span class="builtinfunc" id="1084952">len</span><span class="op" id="1084955">(</span><span class="ident" id="1084956"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084958">.</span><span class="ident" id="1084959">out</span><span class="op" id="1084962">)</span><span class="op" id="1084963">,</span>&nbsp;<span class="ident" id="1084965"><a href="/strings/replace_test.go.html#1084403">tc</a></span><span class="op" id="1084967">.</span><span class="ident" id="1084968">out</span><span class="op" id="1084971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1084978">}</span><br>
<span class="lineno"></span><span class="op" id="1084980">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="1084983">var</span>&nbsp;<span class="ident" id="1084987">algorithmTestCases</span>&nbsp;<span class="op" id="1085006">=</span>&nbsp;<span class="op" id="1085008">[</span><span class="op" id="1085009">]</span><span class="keyword" id="1085010">struct</span>&nbsp;<span class="op" id="1085017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1085020">r</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1085025">*</span><span class="ident" id="1085026"><a href="/strings/replace.go.html#2489334">Replacer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1085036">want</span>&nbsp;<span class="builtintype" id="1085041">string</span><br>
<span class="lineno"></span><span class="op" id="1085048">}</span><span class="op" id="1085049">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085052">{</span><span class="ident" id="1085053"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1085067">,</span>&nbsp;<span class="string" id="1085069">&#34;*strings.byteReplacer&#34;</span><span class="op" id="1085092">}</span><span class="op" id="1085093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085096">{</span><span class="ident" id="1085097"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1085108">,</span>&nbsp;<span class="string" id="1085110">&#34;*strings.byteStringReplacer&#34;</span><span class="op" id="1085139">}</span><span class="op" id="1085140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085143">{</span><span class="ident" id="1085144"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1085155">(</span><span class="string" id="1085156">&#34;12&#34;</span><span class="op" id="1085160">,</span>&nbsp;<span class="string" id="1085162">&#34;123&#34;</span><span class="op" id="1085167">)</span><span class="op" id="1085168">,</span>&nbsp;<span class="string" id="1085170">&#34;*strings.singleStringReplacer&#34;</span><span class="op" id="1085201">}</span><span class="op" id="1085202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085205">{</span><span class="ident" id="1085206"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1085217">(</span><span class="string" id="1085218">&#34;1&#34;</span><span class="op" id="1085221">,</span>&nbsp;<span class="string" id="1085223">&#34;12&#34;</span><span class="op" id="1085227">)</span><span class="op" id="1085228">,</span>&nbsp;<span class="string" id="1085230">&#34;*strings.byteStringReplacer&#34;</span><span class="op" id="1085259">}</span><span class="op" id="1085260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085263">{</span><span class="ident" id="1085264"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1085275">(</span><span class="string" id="1085276">&#34;&#34;</span><span class="op" id="1085278">,</span>&nbsp;<span class="string" id="1085280">&#34;X&#34;</span><span class="op" id="1085283">)</span><span class="op" id="1085284">,</span>&nbsp;<span class="string" id="1085286">&#34;*strings.genericReplacer&#34;</span><span class="op" id="1085312">}</span><span class="op" id="1085313">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085316">{</span><span class="ident" id="1085317"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1085328">(</span><span class="string" id="1085329">&#34;a&#34;</span><span class="op" id="1085332">,</span>&nbsp;<span class="string" id="1085334">&#34;1&#34;</span><span class="op" id="1085337">,</span>&nbsp;<span class="string" id="1085339">&#34;b&#34;</span><span class="op" id="1085342">,</span>&nbsp;<span class="string" id="1085344">&#34;12&#34;</span><span class="op" id="1085348">,</span>&nbsp;<span class="string" id="1085350">&#34;cde&#34;</span><span class="op" id="1085355">,</span>&nbsp;<span class="string" id="1085357">&#34;123&#34;</span><span class="op" id="1085362">)</span><span class="op" id="1085363">,</span>&nbsp;<span class="string" id="1085365">&#34;*strings.genericReplacer&#34;</span><span class="op" id="1085391">}</span><span class="op" id="1085392">,</span><br>
<span class="lineno"></span><span class="op" id="1085394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1085397">//&nbsp;TestPickAlgorithm&nbsp;tests&nbsp;that&nbsp;NewReplacer&nbsp;picks&nbsp;the&nbsp;correct&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="1085470">func</span>&nbsp;<span class="ident" id="1085475">TestPickAlgorithm</span><span class="op" id="1085492">(</span><span class="ident" id="1085493">t</span>&nbsp;<span class="op" id="1085495">*</span><span class="ident" id="1085496"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1085503">.</span><span class="ident" id="1085504">T</span><span class="op" id="1085505">)</span>&nbsp;<span class="op" id="1085507">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1085510">for</span>&nbsp;<span class="ident" id="1085514">i</span><span class="op" id="1085515">,</span>&nbsp;<span class="ident" id="1085517">tc</span>&nbsp;<span class="op" id="1085520">:=</span>&nbsp;<span class="keyword" id="1085523">range</span>&nbsp;<span class="ident" id="1085529"><a href="/strings/replace_test.go.html#1084987">algorithmTestCases</a></span>&nbsp;<span class="op" id="1085548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1085552">got</span>&nbsp;<span class="op" id="1085556">:=</span>&nbsp;<span class="ident" id="1085559"><a href="/strings/replace_test.go.html#1077001">fmt</a></span><span class="op" id="1085562">.</span><span class="ident" id="1085563">Sprintf</span><span class="op" id="1085570">(</span><span class="string" id="1085571">&#34;%T&#34;</span><span class="op" id="1085575">,</span>&nbsp;<span class="ident" id="1085577"><a href="/strings/replace_test.go.html#1085517">tc</a></span><span class="op" id="1085579">.</span><span class="ident" id="1085580">r</span><span class="op" id="1085581">.</span><span class="ident" id="1085582">Replacer</span><span class="op" id="1085590">(</span><span class="op" id="1085591">)</span><span class="op" id="1085592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1085596">if</span>&nbsp;<span class="ident" id="1085599"><a href="/strings/replace_test.go.html#1085552">got</a></span>&nbsp;<span class="op" id="1085603">!=</span>&nbsp;<span class="ident" id="1085606"><a href="/strings/replace_test.go.html#1085517">tc</a></span><span class="op" id="1085608">.</span><span class="ident" id="1085609">want</span>&nbsp;<span class="op" id="1085614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1085619"><a href="/strings/replace_test.go.html#1085493">t</a></span><span class="op" id="1085620">.</span><span class="ident" id="1085621">Errorf</span><span class="op" id="1085627">(</span><span class="string" id="1085628">&#34;%d.&nbsp;algorithm&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="1085657">,</span>&nbsp;<span class="ident" id="1085659"><a href="/strings/replace_test.go.html#1085514">i</a></span><span class="op" id="1085660">,</span>&nbsp;<span class="ident" id="1085662"><a href="/strings/replace_test.go.html#1085552">got</a></span><span class="op" id="1085665">,</span>&nbsp;<span class="ident" id="1085667"><a href="/strings/replace_test.go.html#1085517">tc</a></span><span class="op" id="1085669">.</span><span class="ident" id="1085670">want</span><span class="op" id="1085674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085678">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1085681">}</span><br>
<span class="lineno"></span><span class="op" id="1085683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1085686">type</span>&nbsp;<span class="ident" id="1085691">errWriter</span>&nbsp;<span class="keyword" id="1085701">struct</span><span class="op" id="1085707">{</span><span class="op" id="1085708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="keyword" id="1085711">func</span>&nbsp;<span class="op" id="1085716">(</span><span class="ident" id="1085717"><a href="/strings/replace_test.go.html#1085691">errWriter</a></span><span class="op" id="1085726">)</span>&nbsp;<span class="ident" id="1085728">Write</span><span class="op" id="1085733">(</span><span class="ident" id="1085734">p</span>&nbsp;<span class="op" id="1085736">[</span><span class="op" id="1085737">]</span><span class="builtintype" id="1085738">byte</span><span class="op" id="1085742">)</span>&nbsp;<span class="op" id="1085744">(</span><span class="ident" id="1085745">n</span>&nbsp;<span class="builtintype" id="1085747">int</span><span class="op" id="1085750">,</span>&nbsp;<span class="ident" id="1085752">err</span>&nbsp;<span class="builtintype" id="1085756">error</span><span class="op" id="1085761">)</span>&nbsp;<span class="op" id="1085763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1085766">return</span>&nbsp;<span class="num" id="1085773">0</span><span class="op" id="1085774">,</span>&nbsp;<span class="ident" id="1085776"><a href="/strings/replace_test.go.html#1077001">fmt</a></span><span class="op" id="1085779">.</span><span class="ident" id="1085780">Errorf</span><span class="op" id="1085786">(</span><span class="string" id="1085787">&#34;unwritable&#34;</span><span class="op" id="1085799">)</span><br>
<span class="lineno"></span><span class="op" id="1085801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1085804">//&nbsp;TestWriteStringError&nbsp;tests&nbsp;that&nbsp;WriteString&nbsp;returns&nbsp;an&nbsp;error</span><br>
<span class="lineno">340</span><span class="comment" id="1085868">//&nbsp;received&nbsp;from&nbsp;the&nbsp;underlying&nbsp;io.Writer.</span><br>
<span class="lineno"></span><span class="keyword" id="1085911">func</span>&nbsp;<span class="ident" id="1085916">TestWriteStringError</span><span class="op" id="1085936">(</span><span class="ident" id="1085937">t</span>&nbsp;<span class="op" id="1085939">*</span><span class="ident" id="1085940"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1085947">.</span><span class="ident" id="1085948">T</span><span class="op" id="1085949">)</span>&nbsp;<span class="op" id="1085951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1085954">for</span>&nbsp;<span class="ident" id="1085958">i</span><span class="op" id="1085959">,</span>&nbsp;<span class="ident" id="1085961">tc</span>&nbsp;<span class="op" id="1085964">:=</span>&nbsp;<span class="keyword" id="1085967">range</span>&nbsp;<span class="ident" id="1085973"><a href="/strings/replace_test.go.html#1084987">algorithmTestCases</a></span>&nbsp;<span class="op" id="1085992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1085996">n</span><span class="op" id="1085997">,</span>&nbsp;<span class="ident" id="1085999">err</span>&nbsp;<span class="op" id="1086003">:=</span>&nbsp;<span class="ident" id="1086006"><a href="/strings/replace_test.go.html#1085961">tc</a></span><span class="op" id="1086008">.</span><span class="ident" id="1086009">r</span><span class="op" id="1086010">.</span><span class="ident" id="1086011">WriteString</span><span class="op" id="1086022">(</span><span class="ident" id="1086023"><a href="/strings/replace_test.go.html#1085691">errWriter</a></span><span class="op" id="1086032">{</span><span class="op" id="1086033">}</span><span class="op" id="1086034">,</span>&nbsp;<span class="string" id="1086036">&#34;abc&#34;</span><span class="op" id="1086041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1086045">if</span>&nbsp;<span class="ident" id="1086048"><a href="/strings/replace_test.go.html#1085996">n</a></span>&nbsp;<span class="op" id="1086050">!=</span>&nbsp;<span class="num" id="1086053">0</span>&nbsp;<span class="op" id="1086055">||</span>&nbsp;<span class="ident" id="1086058"><a href="/strings/replace_test.go.html#1085999">err</a></span>&nbsp;<span class="op" id="1086062">==</span>&nbsp;<span class="ident" id="1086065">nil</span>&nbsp;<span class="op" id="1086069">||</span>&nbsp;<span class="ident" id="1086072"><a href="/strings/replace_test.go.html#1085999">err</a></span><span class="op" id="1086075">.</span><span class="ident" id="1086076">Error</span><span class="op" id="1086081">(</span><span class="op" id="1086082">)</span>&nbsp;<span class="op" id="1086084">!=</span>&nbsp;<span class="string" id="1086087">&#34;unwritable&#34;</span>&nbsp;<span class="op" id="1086100">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1086105"><a href="/strings/replace_test.go.html#1085937">t</a></span><span class="op" id="1086106">.</span><span class="ident" id="1086107">Errorf</span><span class="op" id="1086113">(</span><span class="string" id="1086114">&#34;%d.&nbsp;WriteStringError&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;0,&nbsp;unwritable&#34;</span><span class="op" id="1086165">,</span>&nbsp;<span class="ident" id="1086167"><a href="/strings/replace_test.go.html#1085958">i</a></span><span class="op" id="1086168">,</span>&nbsp;<span class="ident" id="1086170"><a href="/strings/replace_test.go.html#1085996">n</a></span><span class="op" id="1086171">,</span>&nbsp;<span class="ident" id="1086173"><a href="/strings/replace_test.go.html#1085999">err</a></span><span class="op" id="1086176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086183">}</span><br>
<span class="lineno"></span><span class="op" id="1086185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="1086188">//&nbsp;TestGenericTrieBuilding&nbsp;verifies&nbsp;the&nbsp;structure&nbsp;of&nbsp;the&nbsp;generated&nbsp;trie.&nbsp;There</span><br>
<span class="lineno"></span><span class="comment" id="1086267">//&nbsp;is&nbsp;one&nbsp;node&nbsp;per&nbsp;line,&nbsp;and&nbsp;the&nbsp;key&nbsp;ending&nbsp;with&nbsp;the&nbsp;current&nbsp;line&nbsp;is&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1086343">//&nbsp;trie&nbsp;if&nbsp;it&nbsp;ends&nbsp;with&nbsp;a&nbsp;&#34;+&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="1086374">func</span>&nbsp;<span class="ident" id="1086379">TestGenericTrieBuilding</span><span class="op" id="1086402">(</span><span class="ident" id="1086403">t</span>&nbsp;<span class="op" id="1086405">*</span><span class="ident" id="1086406"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1086413">.</span><span class="ident" id="1086414">T</span><span class="op" id="1086415">)</span>&nbsp;<span class="op" id="1086417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1086420">testCases</span>&nbsp;<span class="op" id="1086430">:=</span>&nbsp;<span class="op" id="1086433">[</span><span class="op" id="1086434">]</span><span class="keyword" id="1086435">struct</span><span class="op" id="1086441">{</span>&nbsp;<span class="ident" id="1086443">in</span><span class="op" id="1086445">,</span>&nbsp;<span class="ident" id="1086447">out</span>&nbsp;<span class="builtintype" id="1086451">string</span>&nbsp;<span class="op" id="1086458">}</span><span class="op" id="1086459">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086463">{</span><span class="string" id="1086464">&#34;abc;abdef;abdefgh;xx;xy;z&#34;</span><span class="op" id="1086491">,</span>&nbsp;<span class="string" id="1086493">`-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.b-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp..c+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp..d-<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp...ef+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.....gh+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspx-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.x+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.y+<br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspz+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="1086577">}</span><span class="op" id="1086578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086582">{</span><span class="string" id="1086583">&#34;abracadabra;abracadabrakazam;abraham;abrasion&#34;</span><span class="op" id="1086630">,</span>&nbsp;<span class="string" id="1086632">`-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.bra-<br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp....c-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.....adabra+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp...........kazam+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp....h-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.....am+<br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp....s-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.....ion+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="1086746">}</span><span class="op" id="1086747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086751">{</span><span class="string" id="1086752">&#34;aaa;aa;a;i;longerst;longer;long;xx;x;X;Y&#34;</span><span class="op" id="1086794">,</span>&nbsp;<span class="string" id="1086796">`-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspX+<br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspY+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.a+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp..a+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspi+<br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspl-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.ong+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp....er+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp......st+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspx+<br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.x+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="1086894">}</span><span class="op" id="1086895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086899">{</span><span class="string" id="1086900">&#34;foo;;foo;foo1&#34;</span><span class="op" id="1086915">,</span>&nbsp;<span class="string" id="1086917">`+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspf-<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.oo+<br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp...1+<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="1086947">}</span><span class="op" id="1086948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1086951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1086955">for</span>&nbsp;<span class="ident" id="1086959">_</span><span class="op" id="1086960">,</span>&nbsp;<span class="ident" id="1086962">tc</span>&nbsp;<span class="op" id="1086965">:=</span>&nbsp;<span class="keyword" id="1086968">range</span>&nbsp;<span class="ident" id="1086974"><a href="/strings/replace_test.go.html#1086420">testCases</a></span>&nbsp;<span class="op" id="1086984">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1086988">keys</span>&nbsp;<span class="op" id="1086993">:=</span>&nbsp;<span class="ident" id="1086996"><a href="/strings/strings.go.html#2513785">Split</a></span><span class="op" id="1087001">(</span><span class="ident" id="1087002"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087004">.</span><span class="ident" id="1087005">in</span><span class="op" id="1087007">,</span>&nbsp;<span class="string" id="1087009">&#34;;&#34;</span><span class="op" id="1087012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087016">args</span>&nbsp;<span class="op" id="1087021">:=</span>&nbsp;<span class="builtinfunc" id="1087024">make</span><span class="op" id="1087028">(</span><span class="op" id="1087029">[</span><span class="op" id="1087030">]</span><span class="builtintype" id="1087031">string</span><span class="op" id="1087037">,</span>&nbsp;<span class="builtinfunc" id="1087039">len</span><span class="op" id="1087042">(</span><span class="ident" id="1087043"><a href="/strings/replace_test.go.html#1086988">keys</a></span><span class="op" id="1087047">)</span><span class="op" id="1087048">*</span><span class="num" id="1087049">2</span><span class="op" id="1087050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087054">for</span>&nbsp;<span class="ident" id="1087058">i</span><span class="op" id="1087059">,</span>&nbsp;<span class="ident" id="1087061">key</span>&nbsp;<span class="op" id="1087065">:=</span>&nbsp;<span class="keyword" id="1087068">range</span>&nbsp;<span class="ident" id="1087074"><a href="/strings/replace_test.go.html#1086988">keys</a></span>&nbsp;<span class="op" id="1087079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087084"><a href="/strings/replace_test.go.html#1087016">args</a></span><span class="op" id="1087088">[</span><span class="ident" id="1087089"><a href="/strings/replace_test.go.html#1087058">i</a></span><span class="op" id="1087090">*</span><span class="num" id="1087091">2</span><span class="op" id="1087092">]</span>&nbsp;<span class="op" id="1087094">=</span>&nbsp;<span class="ident" id="1087096"><a href="/strings/replace_test.go.html#1087061">key</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087102">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087107">got</span>&nbsp;<span class="op" id="1087111">:=</span>&nbsp;<span class="ident" id="1087114"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1087125">(</span><span class="ident" id="1087126"><a href="/strings/replace_test.go.html#1087016">args</a></span><span class="op" id="1087130">...</span><span class="op" id="1087133">)</span><span class="op" id="1087134">.</span><span class="ident" id="1087135">PrintTrie</span><span class="op" id="1087144">(</span><span class="op" id="1087145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1087149">//&nbsp;Remove&nbsp;tabs&nbsp;from&nbsp;tc.out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087178">wantbuf</span>&nbsp;<span class="op" id="1087186">:=</span>&nbsp;<span class="builtinfunc" id="1087189">make</span><span class="op" id="1087193">(</span><span class="op" id="1087194">[</span><span class="op" id="1087195">]</span><span class="builtintype" id="1087196">byte</span><span class="op" id="1087200">,</span>&nbsp;<span class="num" id="1087202">0</span><span class="op" id="1087203">,</span>&nbsp;<span class="builtinfunc" id="1087205">len</span><span class="op" id="1087208">(</span><span class="ident" id="1087209"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087211">.</span><span class="ident" id="1087212">out</span><span class="op" id="1087215">)</span><span class="op" id="1087216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087220">for</span>&nbsp;<span class="ident" id="1087224">i</span>&nbsp;<span class="op" id="1087226">:=</span>&nbsp;<span class="num" id="1087229">0</span><span class="op" id="1087230">;</span>&nbsp;<span class="ident" id="1087232"><a href="/strings/replace_test.go.html#1087224">i</a></span>&nbsp;<span class="op" id="1087234">&lt;</span>&nbsp;<span class="builtinfunc" id="1087236">len</span><span class="op" id="1087239">(</span><span class="ident" id="1087240"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087242">.</span><span class="ident" id="1087243">out</span><span class="op" id="1087246">)</span><span class="op" id="1087247">;</span>&nbsp;<span class="ident" id="1087249"><a href="/strings/replace_test.go.html#1087224">i</a></span><span class="op" id="1087250">++</span>&nbsp;<span class="op" id="1087253">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087258">if</span>&nbsp;<span class="ident" id="1087261"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087263">.</span><span class="ident" id="1087264">out</span><span class="op" id="1087267">[</span><span class="ident" id="1087268"><a href="/strings/replace_test.go.html#1087224">i</a></span><span class="op" id="1087269">]</span>&nbsp;<span class="op" id="1087271">!=</span>&nbsp;<span class="string" id="1087274">&#39;\t&#39;</span>&nbsp;<span class="op" id="1087279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087285"><a href="/strings/replace_test.go.html#1087178">wantbuf</a></span>&nbsp;<span class="op" id="1087293">=</span>&nbsp;<span class="builtinfunc" id="1087295">append</span><span class="op" id="1087301">(</span><span class="ident" id="1087302"><a href="/strings/replace_test.go.html#1087178">wantbuf</a></span><span class="op" id="1087309">,</span>&nbsp;<span class="ident" id="1087311"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087313">.</span><span class="ident" id="1087314">out</span><span class="op" id="1087317">[</span><span class="ident" id="1087318"><a href="/strings/replace_test.go.html#1087224">i</a></span><span class="op" id="1087319">]</span><span class="op" id="1087320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087333">want</span>&nbsp;<span class="op" id="1087338">:=</span>&nbsp;<span class="builtintype" id="1087341">string</span><span class="op" id="1087347">(</span><span class="ident" id="1087348"><a href="/strings/replace_test.go.html#1087178">wantbuf</a></span><span class="op" id="1087355">)</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087360">if</span>&nbsp;<span class="ident" id="1087363"><a href="/strings/replace_test.go.html#1087107">got</a></span>&nbsp;<span class="op" id="1087367">!=</span>&nbsp;<span class="ident" id="1087370"><a href="/strings/replace_test.go.html#1087333">want</a></span>&nbsp;<span class="op" id="1087375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087380"><a href="/strings/replace_test.go.html#1086403">t</a></span><span class="op" id="1087381">.</span><span class="ident" id="1087382">Errorf</span><span class="op" id="1087388">(</span><span class="string" id="1087389">&#34;PrintTrie(%q)\ngot\n%swant\n%s&#34;</span><span class="op" id="1087421">,</span>&nbsp;<span class="ident" id="1087423"><a href="/strings/replace_test.go.html#1086962">tc</a></span><span class="op" id="1087425">.</span><span class="ident" id="1087426">in</span><span class="op" id="1087428">,</span>&nbsp;<span class="ident" id="1087430"><a href="/strings/replace_test.go.html#1087107">got</a></span><span class="op" id="1087433">,</span>&nbsp;<span class="ident" id="1087435"><a href="/strings/replace_test.go.html#1087333">want</a></span><span class="op" id="1087439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087446">}</span><br>
<span class="lineno">420</span><span class="op" id="1087448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1087451">func</span>&nbsp;<span class="ident" id="1087456">BenchmarkGenericNoMatch</span><span class="op" id="1087479">(</span><span class="ident" id="1087480">b</span>&nbsp;<span class="op" id="1087482">*</span><span class="ident" id="1087483"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1087490">.</span><span class="ident" id="1087491">B</span><span class="op" id="1087492">)</span>&nbsp;<span class="op" id="1087494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087497">str</span>&nbsp;<span class="op" id="1087501">:=</span>&nbsp;<span class="ident" id="1087504"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1087510">(</span><span class="string" id="1087511">&#34;A&#34;</span><span class="op" id="1087514">,</span>&nbsp;<span class="num" id="1087516">100</span><span class="op" id="1087519">)</span>&nbsp;<span class="op" id="1087521">+</span>&nbsp;<span class="ident" id="1087523"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1087529">(</span><span class="string" id="1087530">&#34;B&#34;</span><span class="op" id="1087533">,</span>&nbsp;<span class="num" id="1087535">100</span><span class="op" id="1087538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087541">generic</span>&nbsp;<span class="op" id="1087549">:=</span>&nbsp;<span class="ident" id="1087552"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1087563">(</span><span class="string" id="1087564">&#34;a&#34;</span><span class="op" id="1087567">,</span>&nbsp;<span class="string" id="1087569">&#34;A&#34;</span><span class="op" id="1087572">,</span>&nbsp;<span class="string" id="1087574">&#34;b&#34;</span><span class="op" id="1087577">,</span>&nbsp;<span class="string" id="1087579">&#34;B&#34;</span><span class="op" id="1087582">,</span>&nbsp;<span class="string" id="1087584">&#34;12&#34;</span><span class="op" id="1087588">,</span>&nbsp;<span class="string" id="1087590">&#34;123&#34;</span><span class="op" id="1087595">)</span>&nbsp;<span class="comment" id="1087597">//&nbsp;varying&nbsp;lengths&nbsp;forces&nbsp;generic</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087632">for</span>&nbsp;<span class="ident" id="1087636">i</span>&nbsp;<span class="op" id="1087638">:=</span>&nbsp;<span class="num" id="1087641">0</span><span class="op" id="1087642">;</span>&nbsp;<span class="ident" id="1087644"><a href="/strings/replace_test.go.html#1087636">i</a></span>&nbsp;<span class="op" id="1087646">&lt;</span>&nbsp;<span class="ident" id="1087648"><a href="/strings/replace_test.go.html#1087480">b</a></span><span class="op" id="1087649">.</span><span class="ident" id="1087650">N</span><span class="op" id="1087651">;</span>&nbsp;<span class="ident" id="1087653"><a href="/strings/replace_test.go.html#1087636">i</a></span><span class="op" id="1087654">++</span>&nbsp;<span class="op" id="1087657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087661"><a href="/strings/replace_test.go.html#1087541">generic</a></span><span class="op" id="1087668">.</span><span class="ident" id="1087669">Replace</span><span class="op" id="1087676">(</span><span class="ident" id="1087677"><a href="/strings/replace_test.go.html#1087497">str</a></span><span class="op" id="1087680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087683">}</span><br>
<span class="lineno"></span><span class="op" id="1087685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">430</span><span class="keyword" id="1087688">func</span>&nbsp;<span class="ident" id="1087693">BenchmarkGenericMatch1</span><span class="op" id="1087715">(</span><span class="ident" id="1087716">b</span>&nbsp;<span class="op" id="1087718">*</span><span class="ident" id="1087719"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1087726">.</span><span class="ident" id="1087727">B</span><span class="op" id="1087728">)</span>&nbsp;<span class="op" id="1087730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087733">str</span>&nbsp;<span class="op" id="1087737">:=</span>&nbsp;<span class="ident" id="1087740"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1087746">(</span><span class="string" id="1087747">&#34;a&#34;</span><span class="op" id="1087750">,</span>&nbsp;<span class="num" id="1087752">100</span><span class="op" id="1087755">)</span>&nbsp;<span class="op" id="1087757">+</span>&nbsp;<span class="ident" id="1087759"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1087765">(</span><span class="string" id="1087766">&#34;b&#34;</span><span class="op" id="1087769">,</span>&nbsp;<span class="num" id="1087771">100</span><span class="op" id="1087774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087777">generic</span>&nbsp;<span class="op" id="1087785">:=</span>&nbsp;<span class="ident" id="1087788"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1087799">(</span><span class="string" id="1087800">&#34;a&#34;</span><span class="op" id="1087803">,</span>&nbsp;<span class="string" id="1087805">&#34;A&#34;</span><span class="op" id="1087808">,</span>&nbsp;<span class="string" id="1087810">&#34;b&#34;</span><span class="op" id="1087813">,</span>&nbsp;<span class="string" id="1087815">&#34;B&#34;</span><span class="op" id="1087818">,</span>&nbsp;<span class="string" id="1087820">&#34;12&#34;</span><span class="op" id="1087824">,</span>&nbsp;<span class="string" id="1087826">&#34;123&#34;</span><span class="op" id="1087831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087834">for</span>&nbsp;<span class="ident" id="1087838">i</span>&nbsp;<span class="op" id="1087840">:=</span>&nbsp;<span class="num" id="1087843">0</span><span class="op" id="1087844">;</span>&nbsp;<span class="ident" id="1087846"><a href="/strings/replace_test.go.html#1087838">i</a></span>&nbsp;<span class="op" id="1087848">&lt;</span>&nbsp;<span class="ident" id="1087850"><a href="/strings/replace_test.go.html#1087716">b</a></span><span class="op" id="1087851">.</span><span class="ident" id="1087852">N</span><span class="op" id="1087853">;</span>&nbsp;<span class="ident" id="1087855"><a href="/strings/replace_test.go.html#1087838">i</a></span><span class="op" id="1087856">++</span>&nbsp;<span class="op" id="1087859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087863"><a href="/strings/replace_test.go.html#1087777">generic</a></span><span class="op" id="1087870">.</span><span class="ident" id="1087871">Replace</span><span class="op" id="1087878">(</span><span class="ident" id="1087879"><a href="/strings/replace_test.go.html#1087733">str</a></span><span class="op" id="1087882">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1087885">}</span><br>
<span class="lineno"></span><span class="op" id="1087887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1087890">func</span>&nbsp;<span class="ident" id="1087895">BenchmarkGenericMatch2</span><span class="op" id="1087917">(</span><span class="ident" id="1087918">b</span>&nbsp;<span class="op" id="1087920">*</span><span class="ident" id="1087921"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1087928">.</span><span class="ident" id="1087929">B</span><span class="op" id="1087930">)</span>&nbsp;<span class="op" id="1087932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1087935">str</span>&nbsp;<span class="op" id="1087939">:=</span>&nbsp;<span class="ident" id="1087942"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1087948">(</span><span class="string" id="1087949">&#34;It&amp;apos;s&nbsp;&amp;lt;b&amp;gt;HTML&amp;lt;/b&amp;gt;!&#34;</span><span class="op" id="1087985">,</span>&nbsp;<span class="num" id="1087987">100</span><span class="op" id="1087990">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1087993">for</span>&nbsp;<span class="ident" id="1087997">i</span>&nbsp;<span class="op" id="1087999">:=</span>&nbsp;<span class="num" id="1088002">0</span><span class="op" id="1088003">;</span>&nbsp;<span class="ident" id="1088005"><a href="/strings/replace_test.go.html#1087997">i</a></span>&nbsp;<span class="op" id="1088007">&lt;</span>&nbsp;<span class="ident" id="1088009"><a href="/strings/replace_test.go.html#1087918">b</a></span><span class="op" id="1088010">.</span><span class="ident" id="1088011">N</span><span class="op" id="1088012">;</span>&nbsp;<span class="ident" id="1088014"><a href="/strings/replace_test.go.html#1087997">i</a></span><span class="op" id="1088015">++</span>&nbsp;<span class="op" id="1088018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088022"><a href="/strings/replace_test.go.html#1077147">htmlUnescaper</a></span><span class="op" id="1088035">.</span><span class="ident" id="1088036">Replace</span><span class="op" id="1088043">(</span><span class="ident" id="1088044"><a href="/strings/replace_test.go.html#1087935">str</a></span><span class="op" id="1088047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1088050">}</span><br>
<span class="lineno"></span><span class="op" id="1088052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">445</span><span class="keyword" id="1088055">func</span>&nbsp;<span class="ident" id="1088060">benchmarkSingleString</span><span class="op" id="1088081">(</span><span class="ident" id="1088082">b</span>&nbsp;<span class="op" id="1088084">*</span><span class="ident" id="1088085"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088092">.</span><span class="ident" id="1088093">B</span><span class="op" id="1088094">,</span>&nbsp;<span class="ident" id="1088096">pattern</span><span class="op" id="1088103">,</span>&nbsp;<span class="ident" id="1088105">text</span>&nbsp;<span class="builtintype" id="1088110">string</span><span class="op" id="1088116">)</span>&nbsp;<span class="op" id="1088118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088121">r</span>&nbsp;<span class="op" id="1088123">:=</span>&nbsp;<span class="ident" id="1088126"><a href="/strings/replace.go.html#2489705">NewReplacer</a></span><span class="op" id="1088137">(</span><span class="ident" id="1088138"><a href="/strings/replace_test.go.html#1088096">pattern</a></span><span class="op" id="1088145">,</span>&nbsp;<span class="string" id="1088147">&#34;[match]&#34;</span><span class="op" id="1088156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088159"><a href="/strings/replace_test.go.html#1088082">b</a></span><span class="op" id="1088160">.</span><span class="ident" id="1088161">SetBytes</span><span class="op" id="1088169">(</span><span class="ident" id="1088170">int64</span><span class="op" id="1088175">(</span><span class="builtinfunc" id="1088176">len</span><span class="op" id="1088179">(</span><span class="ident" id="1088180"><a href="/strings/replace_test.go.html#1088105">text</a></span><span class="op" id="1088184">)</span><span class="op" id="1088185">)</span><span class="op" id="1088186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088189"><a href="/strings/replace_test.go.html#1088082">b</a></span><span class="op" id="1088190">.</span><span class="ident" id="1088191">ResetTimer</span><span class="op" id="1088201">(</span><span class="op" id="1088202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1088205">for</span>&nbsp;<span class="ident" id="1088209">i</span>&nbsp;<span class="op" id="1088211">:=</span>&nbsp;<span class="num" id="1088214">0</span><span class="op" id="1088215">;</span>&nbsp;<span class="ident" id="1088217"><a href="/strings/replace_test.go.html#1088209">i</a></span>&nbsp;<span class="op" id="1088219">&lt;</span>&nbsp;<span class="ident" id="1088221"><a href="/strings/replace_test.go.html#1088082">b</a></span><span class="op" id="1088222">.</span><span class="ident" id="1088223">N</span><span class="op" id="1088224">;</span>&nbsp;<span class="ident" id="1088226"><a href="/strings/replace_test.go.html#1088209">i</a></span><span class="op" id="1088227">++</span>&nbsp;<span class="op" id="1088230">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088234"><a href="/strings/replace_test.go.html#1088121">r</a></span><span class="op" id="1088235">.</span><span class="ident" id="1088236">Replace</span><span class="op" id="1088243">(</span><span class="ident" id="1088244"><a href="/strings/replace_test.go.html#1088105">text</a></span><span class="op" id="1088248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1088251">}</span><br>
<span class="lineno"></span><span class="op" id="1088253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1088256">func</span>&nbsp;<span class="ident" id="1088261">BenchmarkSingleMaxSkipping</span><span class="op" id="1088287">(</span><span class="ident" id="1088288">b</span>&nbsp;<span class="op" id="1088290">*</span><span class="ident" id="1088291"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088298">.</span><span class="ident" id="1088299">B</span><span class="op" id="1088300">)</span>&nbsp;<span class="op" id="1088302">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088305"><a href="/strings/replace_test.go.html#1088060">benchmarkSingleString</a></span><span class="op" id="1088326">(</span><span class="ident" id="1088327"><a href="/strings/replace_test.go.html#1088288">b</a></span><span class="op" id="1088328">,</span>&nbsp;<span class="ident" id="1088330"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088336">(</span><span class="string" id="1088337">&#34;b&#34;</span><span class="op" id="1088340">,</span>&nbsp;<span class="num" id="1088342">25</span><span class="op" id="1088344">)</span><span class="op" id="1088345">,</span>&nbsp;<span class="ident" id="1088347"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088353">(</span><span class="string" id="1088354">&#34;a&#34;</span><span class="op" id="1088357">,</span>&nbsp;<span class="num" id="1088359">10000</span><span class="op" id="1088364">)</span><span class="op" id="1088365">)</span><br>
<span class="lineno"></span><span class="op" id="1088367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1088370">func</span>&nbsp;<span class="ident" id="1088375">BenchmarkSingleLongSuffixFail</span><span class="op" id="1088404">(</span><span class="ident" id="1088405">b</span>&nbsp;<span class="op" id="1088407">*</span><span class="ident" id="1088408"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088415">.</span><span class="ident" id="1088416">B</span><span class="op" id="1088417">)</span>&nbsp;<span class="op" id="1088419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088422"><a href="/strings/replace_test.go.html#1088060">benchmarkSingleString</a></span><span class="op" id="1088443">(</span><span class="ident" id="1088444"><a href="/strings/replace_test.go.html#1088405">b</a></span><span class="op" id="1088445">,</span>&nbsp;<span class="string" id="1088447">&#34;b&#34;</span><span class="op" id="1088450">+</span><span class="ident" id="1088451"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088457">(</span><span class="string" id="1088458">&#34;a&#34;</span><span class="op" id="1088461">,</span>&nbsp;<span class="num" id="1088463">500</span><span class="op" id="1088466">)</span><span class="op" id="1088467">,</span>&nbsp;<span class="ident" id="1088469"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088475">(</span><span class="string" id="1088476">&#34;a&#34;</span><span class="op" id="1088479">,</span>&nbsp;<span class="num" id="1088481">1002</span><span class="op" id="1088485">)</span><span class="op" id="1088486">)</span><br>
<span class="lineno">460</span><span class="op" id="1088488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1088491">func</span>&nbsp;<span class="ident" id="1088496">BenchmarkSingleMatch</span><span class="op" id="1088516">(</span><span class="ident" id="1088517">b</span>&nbsp;<span class="op" id="1088519">*</span><span class="ident" id="1088520"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088527">.</span><span class="ident" id="1088528">B</span><span class="op" id="1088529">)</span>&nbsp;<span class="op" id="1088531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088534"><a href="/strings/replace_test.go.html#1088060">benchmarkSingleString</a></span><span class="op" id="1088555">(</span><span class="ident" id="1088556"><a href="/strings/replace_test.go.html#1088517">b</a></span><span class="op" id="1088557">,</span>&nbsp;<span class="string" id="1088559">&#34;abcdef&#34;</span><span class="op" id="1088567">,</span>&nbsp;<span class="ident" id="1088569"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088575">(</span><span class="string" id="1088576">&#34;abcdefghijklmno&#34;</span><span class="op" id="1088593">,</span>&nbsp;<span class="num" id="1088595">1000</span><span class="op" id="1088599">)</span><span class="op" id="1088600">)</span><br>
<span class="lineno"></span><span class="op" id="1088602">}</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span><span class="keyword" id="1088605">func</span>&nbsp;<span class="ident" id="1088610">BenchmarkByteByteNoMatch</span><span class="op" id="1088634">(</span><span class="ident" id="1088635">b</span>&nbsp;<span class="op" id="1088637">*</span><span class="ident" id="1088638"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088645">.</span><span class="ident" id="1088646">B</span><span class="op" id="1088647">)</span>&nbsp;<span class="op" id="1088649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088652">str</span>&nbsp;<span class="op" id="1088656">:=</span>&nbsp;<span class="ident" id="1088659"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088665">(</span><span class="string" id="1088666">&#34;A&#34;</span><span class="op" id="1088669">,</span>&nbsp;<span class="num" id="1088671">100</span><span class="op" id="1088674">)</span>&nbsp;<span class="op" id="1088676">+</span>&nbsp;<span class="ident" id="1088678"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088684">(</span><span class="string" id="1088685">&#34;B&#34;</span><span class="op" id="1088688">,</span>&nbsp;<span class="num" id="1088690">100</span><span class="op" id="1088693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1088696">for</span>&nbsp;<span class="ident" id="1088700">i</span>&nbsp;<span class="op" id="1088702">:=</span>&nbsp;<span class="num" id="1088705">0</span><span class="op" id="1088706">;</span>&nbsp;<span class="ident" id="1088708"><a href="/strings/replace_test.go.html#1088700">i</a></span>&nbsp;<span class="op" id="1088710">&lt;</span>&nbsp;<span class="ident" id="1088712"><a href="/strings/replace_test.go.html#1088635">b</a></span><span class="op" id="1088713">.</span><span class="ident" id="1088714">N</span><span class="op" id="1088715">;</span>&nbsp;<span class="ident" id="1088717"><a href="/strings/replace_test.go.html#1088700">i</a></span><span class="op" id="1088718">++</span>&nbsp;<span class="op" id="1088721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088725"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1088739">.</span><span class="ident" id="1088740">Replace</span><span class="op" id="1088747">(</span><span class="ident" id="1088748"><a href="/strings/replace_test.go.html#1088652">str</a></span><span class="op" id="1088751">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1088754">}</span><br>
<span class="lineno"></span><span class="op" id="1088756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1088759">func</span>&nbsp;<span class="ident" id="1088764">BenchmarkByteByteMatch</span><span class="op" id="1088786">(</span><span class="ident" id="1088787">b</span>&nbsp;<span class="op" id="1088789">*</span><span class="ident" id="1088790"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088797">.</span><span class="ident" id="1088798">B</span><span class="op" id="1088799">)</span>&nbsp;<span class="op" id="1088801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088804">str</span>&nbsp;<span class="op" id="1088808">:=</span>&nbsp;<span class="ident" id="1088811"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088817">(</span><span class="string" id="1088818">&#34;a&#34;</span><span class="op" id="1088821">,</span>&nbsp;<span class="num" id="1088823">100</span><span class="op" id="1088826">)</span>&nbsp;<span class="op" id="1088828">+</span>&nbsp;<span class="ident" id="1088830"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088836">(</span><span class="string" id="1088837">&#34;b&#34;</span><span class="op" id="1088840">,</span>&nbsp;<span class="num" id="1088842">100</span><span class="op" id="1088845">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1088848">for</span>&nbsp;<span class="ident" id="1088852">i</span>&nbsp;<span class="op" id="1088854">:=</span>&nbsp;<span class="num" id="1088857">0</span><span class="op" id="1088858">;</span>&nbsp;<span class="ident" id="1088860"><a href="/strings/replace_test.go.html#1088852">i</a></span>&nbsp;<span class="op" id="1088862">&lt;</span>&nbsp;<span class="ident" id="1088864"><a href="/strings/replace_test.go.html#1088787">b</a></span><span class="op" id="1088865">.</span><span class="ident" id="1088866">N</span><span class="op" id="1088867">;</span>&nbsp;<span class="ident" id="1088869"><a href="/strings/replace_test.go.html#1088852">i</a></span><span class="op" id="1088870">++</span>&nbsp;<span class="op" id="1088873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088877"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1088891">.</span><span class="ident" id="1088892">Replace</span><span class="op" id="1088899">(</span><span class="ident" id="1088900"><a href="/strings/replace_test.go.html#1088804">str</a></span><span class="op" id="1088903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1088906">}</span><br>
<span class="lineno"></span><span class="op" id="1088908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="1088911">func</span>&nbsp;<span class="ident" id="1088916">BenchmarkByteStringMatch</span><span class="op" id="1088940">(</span><span class="ident" id="1088941">b</span>&nbsp;<span class="op" id="1088943">*</span><span class="ident" id="1088944"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1088951">.</span><span class="ident" id="1088952">B</span><span class="op" id="1088953">)</span>&nbsp;<span class="op" id="1088955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1088958">str</span>&nbsp;<span class="op" id="1088962">:=</span>&nbsp;<span class="string" id="1088965">&#34;&lt;&#34;</span>&nbsp;<span class="op" id="1088969">+</span>&nbsp;<span class="ident" id="1088971"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088977">(</span><span class="string" id="1088978">&#34;a&#34;</span><span class="op" id="1088981">,</span>&nbsp;<span class="num" id="1088983">99</span><span class="op" id="1088985">)</span>&nbsp;<span class="op" id="1088987">+</span>&nbsp;<span class="ident" id="1088989"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1088995">(</span><span class="string" id="1088996">&#34;b&#34;</span><span class="op" id="1088999">,</span>&nbsp;<span class="num" id="1089001">99</span><span class="op" id="1089003">)</span>&nbsp;<span class="op" id="1089005">+</span>&nbsp;<span class="string" id="1089007">&#34;&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089012">for</span>&nbsp;<span class="ident" id="1089016">i</span>&nbsp;<span class="op" id="1089018">:=</span>&nbsp;<span class="num" id="1089021">0</span><span class="op" id="1089022">;</span>&nbsp;<span class="ident" id="1089024"><a href="/strings/replace_test.go.html#1089016">i</a></span>&nbsp;<span class="op" id="1089026">&lt;</span>&nbsp;<span class="ident" id="1089028"><a href="/strings/replace_test.go.html#1088941">b</a></span><span class="op" id="1089029">.</span><span class="ident" id="1089030">N</span><span class="op" id="1089031">;</span>&nbsp;<span class="ident" id="1089033"><a href="/strings/replace_test.go.html#1089016">i</a></span><span class="op" id="1089034">++</span>&nbsp;<span class="op" id="1089037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089041"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1089052">.</span><span class="ident" id="1089053">Replace</span><span class="op" id="1089060">(</span><span class="ident" id="1089061"><a href="/strings/replace_test.go.html#1088958">str</a></span><span class="op" id="1089064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1089067">}</span><br>
<span class="lineno">485</span><span class="op" id="1089069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1089072">func</span>&nbsp;<span class="ident" id="1089077">BenchmarkHTMLEscapeNew</span><span class="op" id="1089099">(</span><span class="ident" id="1089100">b</span>&nbsp;<span class="op" id="1089102">*</span><span class="ident" id="1089103"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1089110">.</span><span class="ident" id="1089111">B</span><span class="op" id="1089112">)</span>&nbsp;<span class="op" id="1089114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089117">str</span>&nbsp;<span class="op" id="1089121">:=</span>&nbsp;<span class="string" id="1089124">&#34;I&nbsp;&lt;3&nbsp;to&nbsp;escape&nbsp;HTML&nbsp;&amp;&nbsp;other&nbsp;text&nbsp;too.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089165">for</span>&nbsp;<span class="ident" id="1089169">i</span>&nbsp;<span class="op" id="1089171">:=</span>&nbsp;<span class="num" id="1089174">0</span><span class="op" id="1089175">;</span>&nbsp;<span class="ident" id="1089177"><a href="/strings/replace_test.go.html#1089169">i</a></span>&nbsp;<span class="op" id="1089179">&lt;</span>&nbsp;<span class="ident" id="1089181"><a href="/strings/replace_test.go.html#1089100">b</a></span><span class="op" id="1089182">.</span><span class="ident" id="1089183">N</span><span class="op" id="1089184">;</span>&nbsp;<span class="ident" id="1089186"><a href="/strings/replace_test.go.html#1089169">i</a></span><span class="op" id="1089187">++</span>&nbsp;<span class="op" id="1089190">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089194"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1089205">.</span><span class="ident" id="1089206">Replace</span><span class="op" id="1089213">(</span><span class="ident" id="1089214"><a href="/strings/replace_test.go.html#1089117">str</a></span><span class="op" id="1089217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1089220">}</span><br>
<span class="lineno"></span><span class="op" id="1089222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1089225">func</span>&nbsp;<span class="ident" id="1089230">BenchmarkHTMLEscapeOld</span><span class="op" id="1089252">(</span><span class="ident" id="1089253">b</span>&nbsp;<span class="op" id="1089255">*</span><span class="ident" id="1089256"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1089263">.</span><span class="ident" id="1089264">B</span><span class="op" id="1089265">)</span>&nbsp;<span class="op" id="1089267">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089270">str</span>&nbsp;<span class="op" id="1089274">:=</span>&nbsp;<span class="string" id="1089277">&#34;I&nbsp;&lt;3&nbsp;to&nbsp;escape&nbsp;HTML&nbsp;&amp;&nbsp;other&nbsp;text&nbsp;too.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089318">for</span>&nbsp;<span class="ident" id="1089322">i</span>&nbsp;<span class="op" id="1089324">:=</span>&nbsp;<span class="num" id="1089327">0</span><span class="op" id="1089328">;</span>&nbsp;<span class="ident" id="1089330"><a href="/strings/replace_test.go.html#1089322">i</a></span>&nbsp;<span class="op" id="1089332">&lt;</span>&nbsp;<span class="ident" id="1089334"><a href="/strings/replace_test.go.html#1089253">b</a></span><span class="op" id="1089335">.</span><span class="ident" id="1089336">N</span><span class="op" id="1089337">;</span>&nbsp;<span class="ident" id="1089339"><a href="/strings/replace_test.go.html#1089322">i</a></span><span class="op" id="1089340">++</span>&nbsp;<span class="op" id="1089343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089347"><a href="/strings/replace_test.go.html#1077309">oldHTMLEscape</a></span><span class="op" id="1089360">(</span><span class="ident" id="1089361"><a href="/strings/replace_test.go.html#1089270">str</a></span><span class="op" id="1089364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1089367">}</span><br>
<span class="lineno"></span><span class="op" id="1089369">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span><span class="keyword" id="1089372">func</span>&nbsp;<span class="ident" id="1089377">BenchmarkByteStringReplacerWriteString</span><span class="op" id="1089415">(</span><span class="ident" id="1089416">b</span>&nbsp;<span class="op" id="1089418">*</span><span class="ident" id="1089419"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1089426">.</span><span class="ident" id="1089427">B</span><span class="op" id="1089428">)</span>&nbsp;<span class="op" id="1089430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089433">str</span>&nbsp;<span class="op" id="1089437">:=</span>&nbsp;<span class="ident" id="1089440"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1089446">(</span><span class="string" id="1089447">&#34;I&nbsp;&lt;3&nbsp;to&nbsp;escape&nbsp;HTML&nbsp;&amp;&nbsp;other&nbsp;text&nbsp;too.&#34;</span><span class="op" id="1089486">,</span>&nbsp;<span class="num" id="1089488">100</span><span class="op" id="1089491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089494">buf</span>&nbsp;<span class="op" id="1089498">:=</span>&nbsp;<span class="builtinfunc" id="1089501">new</span><span class="op" id="1089504">(</span><span class="ident" id="1089505"><a href="/strings/replace_test.go.html#1076992">bytes</a></span><span class="op" id="1089510">.</span><span class="ident" id="1089511">Buffer</span><span class="op" id="1089517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089520">for</span>&nbsp;<span class="ident" id="1089524">i</span>&nbsp;<span class="op" id="1089526">:=</span>&nbsp;<span class="num" id="1089529">0</span><span class="op" id="1089530">;</span>&nbsp;<span class="ident" id="1089532"><a href="/strings/replace_test.go.html#1089524">i</a></span>&nbsp;<span class="op" id="1089534">&lt;</span>&nbsp;<span class="ident" id="1089536"><a href="/strings/replace_test.go.html#1089416">b</a></span><span class="op" id="1089537">.</span><span class="ident" id="1089538">N</span><span class="op" id="1089539">;</span>&nbsp;<span class="ident" id="1089541"><a href="/strings/replace_test.go.html#1089524">i</a></span><span class="op" id="1089542">++</span>&nbsp;<span class="op" id="1089545">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089549"><a href="/strings/replace_test.go.html#1077038">htmlEscaper</a></span><span class="op" id="1089560">.</span><span class="ident" id="1089561">WriteString</span><span class="op" id="1089572">(</span><span class="ident" id="1089573"><a href="/strings/replace_test.go.html#1089494">buf</a></span><span class="op" id="1089576">,</span>&nbsp;<span class="ident" id="1089578"><a href="/strings/replace_test.go.html#1089433">str</a></span><span class="op" id="1089581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089585"><a href="/strings/replace_test.go.html#1089494">buf</a></span><span class="op" id="1089588">.</span><span class="ident" id="1089589">Reset</span><span class="op" id="1089594">(</span><span class="op" id="1089595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1089598">}</span><br>
<span class="lineno"></span><span class="op" id="1089600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="1089603">func</span>&nbsp;<span class="ident" id="1089608">BenchmarkByteReplacerWriteString</span><span class="op" id="1089640">(</span><span class="ident" id="1089641">b</span>&nbsp;<span class="op" id="1089643">*</span><span class="ident" id="1089644"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1089651">.</span><span class="ident" id="1089652">B</span><span class="op" id="1089653">)</span>&nbsp;<span class="op" id="1089655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089658">str</span>&nbsp;<span class="op" id="1089662">:=</span>&nbsp;<span class="ident" id="1089665"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1089671">(</span><span class="string" id="1089672">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="1089700">,</span>&nbsp;<span class="num" id="1089702">100</span><span class="op" id="1089705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089708">buf</span>&nbsp;<span class="op" id="1089712">:=</span>&nbsp;<span class="builtinfunc" id="1089715">new</span><span class="op" id="1089718">(</span><span class="ident" id="1089719"><a href="/strings/replace_test.go.html#1076992">bytes</a></span><span class="op" id="1089724">.</span><span class="ident" id="1089725">Buffer</span><span class="op" id="1089731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089734">for</span>&nbsp;<span class="ident" id="1089738">i</span>&nbsp;<span class="op" id="1089740">:=</span>&nbsp;<span class="num" id="1089743">0</span><span class="op" id="1089744">;</span>&nbsp;<span class="ident" id="1089746"><a href="/strings/replace_test.go.html#1089738">i</a></span>&nbsp;<span class="op" id="1089748">&lt;</span>&nbsp;<span class="ident" id="1089750"><a href="/strings/replace_test.go.html#1089641">b</a></span><span class="op" id="1089751">.</span><span class="ident" id="1089752">N</span><span class="op" id="1089753">;</span>&nbsp;<span class="ident" id="1089755"><a href="/strings/replace_test.go.html#1089738">i</a></span><span class="op" id="1089756">++</span>&nbsp;<span class="op" id="1089759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089763"><a href="/strings/replace_test.go.html#1077529">capitalLetters</a></span><span class="op" id="1089777">.</span><span class="ident" id="1089778">WriteString</span><span class="op" id="1089789">(</span><span class="ident" id="1089790"><a href="/strings/replace_test.go.html#1089708">buf</a></span><span class="op" id="1089793">,</span>&nbsp;<span class="ident" id="1089795"><a href="/strings/replace_test.go.html#1089658">str</a></span><span class="op" id="1089798">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089802"><a href="/strings/replace_test.go.html#1089708">buf</a></span><span class="op" id="1089805">.</span><span class="ident" id="1089806">Reset</span><span class="op" id="1089811">(</span><span class="op" id="1089812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1089815">}</span><br>
<span class="lineno"></span><span class="op" id="1089817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1089820">//&nbsp;BenchmarkByteByteReplaces&nbsp;compares&nbsp;byteByteImpl&nbsp;against&nbsp;multiple&nbsp;Replaces.</span><br>
<span class="lineno">520</span><span class="keyword" id="1089898">func</span>&nbsp;<span class="ident" id="1089903">BenchmarkByteByteReplaces</span><span class="op" id="1089928">(</span><span class="ident" id="1089929">b</span>&nbsp;<span class="op" id="1089931">*</span><span class="ident" id="1089932"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1089939">.</span><span class="ident" id="1089940">B</span><span class="op" id="1089941">)</span>&nbsp;<span class="op" id="1089943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1089946">str</span>&nbsp;<span class="op" id="1089950">:=</span>&nbsp;<span class="ident" id="1089953"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1089959">(</span><span class="string" id="1089960">&#34;a&#34;</span><span class="op" id="1089963">,</span>&nbsp;<span class="num" id="1089965">100</span><span class="op" id="1089968">)</span>&nbsp;<span class="op" id="1089970">+</span>&nbsp;<span class="ident" id="1089972"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1089978">(</span><span class="string" id="1089979">&#34;b&#34;</span><span class="op" id="1089982">,</span>&nbsp;<span class="num" id="1089984">100</span><span class="op" id="1089987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1089990">for</span>&nbsp;<span class="ident" id="1089994">i</span>&nbsp;<span class="op" id="1089996">:=</span>&nbsp;<span class="num" id="1089999">0</span><span class="op" id="1090000">;</span>&nbsp;<span class="ident" id="1090002"><a href="/strings/replace_test.go.html#1089994">i</a></span>&nbsp;<span class="op" id="1090004">&lt;</span>&nbsp;<span class="ident" id="1090006"><a href="/strings/replace_test.go.html#1089929">b</a></span><span class="op" id="1090007">.</span><span class="ident" id="1090008">N</span><span class="op" id="1090009">;</span>&nbsp;<span class="ident" id="1090011"><a href="/strings/replace_test.go.html#1089994">i</a></span><span class="op" id="1090012">++</span>&nbsp;<span class="op" id="1090015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1090019"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1090026">(</span><span class="ident" id="1090027"><a href="/strings/strings.go.html#2524058">Replace</a></span><span class="op" id="1090034">(</span><span class="ident" id="1090035"><a href="/strings/replace_test.go.html#1089946">str</a></span><span class="op" id="1090038">,</span>&nbsp;<span class="string" id="1090040">&#34;a&#34;</span><span class="op" id="1090043">,</span>&nbsp;<span class="string" id="1090045">&#34;A&#34;</span><span class="op" id="1090048">,</span>&nbsp;<span class="op" id="1090050">-</span><span class="num" id="1090051">1</span><span class="op" id="1090052">)</span><span class="op" id="1090053">,</span>&nbsp;<span class="string" id="1090055">&#34;b&#34;</span><span class="op" id="1090058">,</span>&nbsp;<span class="string" id="1090060">&#34;B&#34;</span><span class="op" id="1090063">,</span>&nbsp;<span class="op" id="1090065">-</span><span class="num" id="1090066">1</span><span class="op" id="1090067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1090070">}</span><br>
<span class="lineno">525</span><span class="op" id="1090072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1090075">//&nbsp;BenchmarkByteByteMap&nbsp;compares&nbsp;byteByteImpl&nbsp;against&nbsp;Map.</span><br>
<span class="lineno"></span><span class="keyword" id="1090134">func</span>&nbsp;<span class="ident" id="1090139">BenchmarkByteByteMap</span><span class="op" id="1090159">(</span><span class="ident" id="1090160">b</span>&nbsp;<span class="op" id="1090162">*</span><span class="ident" id="1090163"><a href="/strings/replace_test.go.html#1077021">testing</a></span><span class="op" id="1090170">.</span><span class="ident" id="1090171">B</span><span class="op" id="1090172">)</span>&nbsp;<span class="op" id="1090174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1090177">str</span>&nbsp;<span class="op" id="1090181">:=</span>&nbsp;<span class="ident" id="1090184"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1090190">(</span><span class="string" id="1090191">&#34;a&#34;</span><span class="op" id="1090194">,</span>&nbsp;<span class="num" id="1090196">100</span><span class="op" id="1090199">)</span>&nbsp;<span class="op" id="1090201">+</span>&nbsp;<span class="ident" id="1090203"><a href="/strings/strings.go.html#2517531">Repeat</a></span><span class="op" id="1090209">(</span><span class="string" id="1090210">&#34;b&#34;</span><span class="op" id="1090213">,</span>&nbsp;<span class="num" id="1090215">100</span><span class="op" id="1090218">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1090221">fn</span>&nbsp;<span class="op" id="1090224">:=</span>&nbsp;<span class="keyword" id="1090227">func</span><span class="op" id="1090231">(</span><span class="ident" id="1090232">r</span>&nbsp;<span class="builtintype" id="1090234">rune</span><span class="op" id="1090238">)</span>&nbsp;<span class="builtintype" id="1090240">rune</span>&nbsp;<span class="op" id="1090245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090249">switch</span>&nbsp;<span class="ident" id="1090256"><a href="/strings/replace_test.go.html#1090232">r</a></span>&nbsp;<span class="op" id="1090258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090262">case</span>&nbsp;<span class="string" id="1090267">&#39;a&#39;</span><span class="op" id="1090270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090275">return</span>&nbsp;<span class="string" id="1090282">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090288">case</span>&nbsp;<span class="string" id="1090293">&#39;b&#39;</span><span class="op" id="1090296">:</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090301">return</span>&nbsp;<span class="string" id="1090308">&#39;B&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1090314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090318">return</span>&nbsp;<span class="ident" id="1090325"><a href="/strings/replace_test.go.html#1090232">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1090328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1090331">for</span>&nbsp;<span class="ident" id="1090335">i</span>&nbsp;<span class="op" id="1090337">:=</span>&nbsp;<span class="num" id="1090340">0</span><span class="op" id="1090341">;</span>&nbsp;<span class="ident" id="1090343"><a href="/strings/replace_test.go.html#1090335">i</a></span>&nbsp;<span class="op" id="1090345">&lt;</span>&nbsp;<span class="ident" id="1090347"><a href="/strings/replace_test.go.html#1090160">b</a></span><span class="op" id="1090348">.</span><span class="ident" id="1090349">N</span><span class="op" id="1090350">;</span>&nbsp;<span class="ident" id="1090352"><a href="/strings/replace_test.go.html#1090335">i</a></span><span class="op" id="1090353">++</span>&nbsp;<span class="op" id="1090356">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1090360"><a href="/strings/strings.go.html#2516496">Map</a></span><span class="op" id="1090363">(</span><span class="ident" id="1090364"><a href="/strings/replace_test.go.html#1090221">fn</a></span><span class="op" id="1090366">,</span>&nbsp;<span class="ident" id="1090368"><a href="/strings/replace_test.go.html#1090177">str</a></span><span class="op" id="1090371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1090374">}</span><br>
<span class="lineno"></span><span class="op" id="1090376">}</span>
</div>
</body>
</html>
