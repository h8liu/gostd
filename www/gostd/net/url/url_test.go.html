<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/url</h2>
<ul>
<li><a href="/gostd/net/url/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/url/url.go.html">url.go</a></li>
<li><a href="/gostd/net/url/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6502156">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6502211">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6502265">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6502316">package</span>&nbsp;<span class="ident" id="6502324">url</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6502329">import</span>&nbsp;<span class="op" id="6502336">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502339">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502346">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502357">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502368">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6502378">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6502381">type</span>&nbsp;<span class="ident" id="6502386">URLTest</span>&nbsp;<span class="keyword" id="6502394">struct</span>&nbsp;<span class="op" id="6502401">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502404">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6502414">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502422">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502432">*</span><span class="ident" id="6502433"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502438">roundtrip</span>&nbsp;<span class="builtintype" id="6502448">string</span>&nbsp;<span class="comment" id="6502455">//&nbsp;expected&nbsp;result&nbsp;of&nbsp;reserializing&nbsp;the&nbsp;URL;&nbsp;empty&nbsp;means&nbsp;same&nbsp;as&nbsp;&#34;in&#34;.</span><br>
<span class="lineno"></span><span class="op" id="6502526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="6502529">var</span>&nbsp;<span class="ident" id="6502533">urltests</span>&nbsp;<span class="op" id="6502542">=</span>&nbsp;<span class="op" id="6502544">[</span><span class="op" id="6502545">]</span><span class="ident" id="6502546"><a href="/gostd/net/url/url_test.go.html#6502386">URLTest</a></span><span class="op" id="6502553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6502556">//&nbsp;no&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502572">&#34;http://www.google.com&#34;</span><span class="op" id="6502595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502599">&amp;</span><span class="ident" id="6502600"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6502603">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502608"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6502614">:</span>&nbsp;<span class="string" id="6502616">&#34;http&#34;</span><span class="op" id="6502622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502627"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6502631">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6502635">&#34;www.google.com&#34;</span><span class="op" id="6502651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502655">}</span><span class="op" id="6502656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502660">&#34;&#34;</span><span class="op" id="6502662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502665">}</span><span class="op" id="6502666">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6502669">//&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502682">&#34;http://www.google.com/&#34;</span><span class="op" id="6502706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502710">&amp;</span><span class="ident" id="6502711"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6502714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502719"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6502725">:</span>&nbsp;<span class="string" id="6502727">&#34;http&#34;</span><span class="op" id="6502733">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502738"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6502742">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6502746">&#34;www.google.com&#34;</span><span class="op" id="6502762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502767"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6502771">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6502775">&#34;/&#34;</span><span class="op" id="6502778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502782">}</span><span class="op" id="6502783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502787">&#34;&#34;</span><span class="op" id="6502789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502792">}</span><span class="op" id="6502793">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6502796">//&nbsp;path&nbsp;with&nbsp;hex&nbsp;escaping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502827">&#34;http://www.google.com/file%20one%26two&#34;</span><span class="op" id="6502867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502871">&amp;</span><span class="ident" id="6502872"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6502875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502880"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6502886">:</span>&nbsp;<span class="string" id="6502888">&#34;http&#34;</span><span class="op" id="6502894">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502899"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6502903">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6502907">&#34;www.google.com&#34;</span><span class="op" id="6502923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6502928"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6502932">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6502936">&#34;/file&nbsp;one&amp;two&#34;</span><span class="op" id="6502951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6502955">}</span><span class="op" id="6502956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6502960">&#34;http://www.google.com/file%20one&amp;two&#34;</span><span class="op" id="6502998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503001">}</span><span class="op" id="6503002">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503005">//&nbsp;user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503018">&#34;ftp://webmaster@www.google.com/&#34;</span><span class="op" id="6503051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503055">&amp;</span><span class="ident" id="6503056"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6503059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503064"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6503070">:</span>&nbsp;<span class="string" id="6503072">&#34;ftp&#34;</span><span class="op" id="6503077">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503082"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6503086">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6503090"><a href="/gostd/net/url/url.go.html#3751585">User</a></span><span class="op" id="6503094">(</span><span class="string" id="6503095">&#34;webmaster&#34;</span><span class="op" id="6503106">)</span><span class="op" id="6503107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503112"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6503116">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503120">&#34;www.google.com&#34;</span><span class="op" id="6503136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503141"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6503145">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503149">&#34;/&#34;</span><span class="op" id="6503152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503156">}</span><span class="op" id="6503157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503161">&#34;&#34;</span><span class="op" id="6503163">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503166">}</span><span class="op" id="6503167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503170">//&nbsp;escape&nbsp;sequence&nbsp;in&nbsp;username</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503206">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="6503240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503244">&amp;</span><span class="ident" id="6503245"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6503248">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503253"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6503259">:</span>&nbsp;<span class="string" id="6503261">&#34;ftp&#34;</span><span class="op" id="6503266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503271"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6503275">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6503279"><a href="/gostd/net/url/url.go.html#3751585">User</a></span><span class="op" id="6503283">(</span><span class="string" id="6503284">&#34;john&nbsp;doe&#34;</span><span class="op" id="6503294">)</span><span class="op" id="6503295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503300"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6503304">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503308">&#34;www.google.com&#34;</span><span class="op" id="6503324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503329"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6503333">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503337">&#34;/&#34;</span><span class="op" id="6503340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503344">}</span><span class="op" id="6503345">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503349">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="6503383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503386">}</span><span class="op" id="6503387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503390">//&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503404">&#34;http://www.google.com/?q=go+language&#34;</span><span class="op" id="6503442">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503446">&amp;</span><span class="ident" id="6503447"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6503450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503455"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6503461">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503465">&#34;http&#34;</span><span class="op" id="6503471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503476"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6503480">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503486">&#34;www.google.com&#34;</span><span class="op" id="6503502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503507"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6503511">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503517">&#34;/&#34;</span><span class="op" id="6503520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503525"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6503533">:</span>&nbsp;<span class="string" id="6503535">&#34;q=go+language&#34;</span><span class="op" id="6503550">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503554">}</span><span class="op" id="6503555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503559">&#34;&#34;</span><span class="op" id="6503561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503564">}</span><span class="op" id="6503565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503568">//&nbsp;query&nbsp;with&nbsp;hex&nbsp;escaping:&nbsp;NOT&nbsp;parsed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503608">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503612">&#34;http://www.google.com/?q=go%20language&#34;</span><span class="op" id="6503652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503656">&amp;</span><span class="ident" id="6503657"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6503660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503665"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6503671">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503675">&#34;http&#34;</span><span class="op" id="6503681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503686"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6503690">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503696">&#34;www.google.com&#34;</span><span class="op" id="6503712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503717"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6503721">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503727">&#34;/&#34;</span><span class="op" id="6503730">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503735"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6503743">:</span>&nbsp;<span class="string" id="6503745">&#34;q=go%20language&#34;</span><span class="op" id="6503762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503766">}</span><span class="op" id="6503767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503771">&#34;&#34;</span><span class="op" id="6503773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503776">}</span><span class="op" id="6503777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503780">//&nbsp;%20&nbsp;outside&nbsp;query</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503806">&#34;http://www.google.com/a%20b?q=c+d&#34;</span><span class="op" id="6503841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503845">&amp;</span><span class="ident" id="6503846"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6503849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503854"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6503860">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6503864">&#34;http&#34;</span><span class="op" id="6503870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503875"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6503879">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503885">&#34;www.google.com&#34;</span><span class="op" id="6503901">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503906"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6503910">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503916">&#34;/a&nbsp;b&#34;</span><span class="op" id="6503922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6503927"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6503935">:</span>&nbsp;<span class="string" id="6503937">&#34;q=c+d&#34;</span><span class="op" id="6503944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503948">}</span><span class="op" id="6503949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6503953">&#34;&#34;</span><span class="op" id="6503955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6503958">}</span><span class="op" id="6503959">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6503962">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504008">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="6504044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504048">&amp;</span><span class="ident" id="6504049"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6504052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504057"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6504063">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6504067">&#34;http&#34;</span><span class="op" id="6504073">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504078"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6504084">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6504088">&#34;www.google.com/&#34;</span><span class="op" id="6504105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504110"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6504118">:</span>&nbsp;<span class="string" id="6504120">&#34;q=go+language&#34;</span><span class="op" id="6504135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504139">}</span><span class="op" id="6504140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504144">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="6504180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504183">}</span><span class="op" id="6504184">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6504187">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504233">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="6504275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504279">&amp;</span><span class="ident" id="6504280"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6504283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504288"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6504294">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6504298">&#34;http&#34;</span><span class="op" id="6504304">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504309"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6504315">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6504319">&#34;%2f%2fwww.google.com/&#34;</span><span class="op" id="6504342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504347"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6504355">:</span>&nbsp;<span class="string" id="6504357">&#34;q=go+language&#34;</span><span class="op" id="6504372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504376">}</span><span class="op" id="6504377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504381">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="6504423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504426">}</span><span class="op" id="6504427">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6504430">//&nbsp;non-authority&nbsp;with&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504462">&#34;mailto:/webmaster@golang.org&#34;</span><span class="op" id="6504492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504496">&amp;</span><span class="ident" id="6504497"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6504500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504505"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6504511">:</span>&nbsp;<span class="string" id="6504513">&#34;mailto&#34;</span><span class="op" id="6504521">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504526"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6504530">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6504534">&#34;/webmaster@golang.org&#34;</span><span class="op" id="6504557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504561">}</span><span class="op" id="6504562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504566">&#34;mailto:///webmaster@golang.org&#34;</span><span class="op" id="6504598">,</span>&nbsp;<span class="comment" id="6504600">//&nbsp;unfortunate&nbsp;compromise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504627">}</span><span class="op" id="6504628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6504631">//&nbsp;non-authority</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504653">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="6504682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504686">&amp;</span><span class="ident" id="6504687"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6504690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504695"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6504701">:</span>&nbsp;<span class="string" id="6504703">&#34;mailto&#34;</span><span class="op" id="6504711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504716"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6504722">:</span>&nbsp;<span class="string" id="6504724">&#34;webmaster@golang.org&#34;</span><span class="op" id="6504746">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504750">}</span><span class="op" id="6504751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504755">&#34;&#34;</span><span class="op" id="6504757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504760">}</span><span class="op" id="6504761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6504764">//&nbsp;unescaped&nbsp;://&nbsp;in&nbsp;query&nbsp;should&nbsp;not&nbsp;create&nbsp;a&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504818">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504822">&#34;/foo?query=http://bad&#34;</span><span class="op" id="6504845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504849">&amp;</span><span class="ident" id="6504850"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6504853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504858"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6504862">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504868">&#34;/foo&#34;</span><span class="op" id="6504874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6504879"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6504887">:</span>&nbsp;<span class="string" id="6504889">&#34;query=http://bad&#34;</span><span class="op" id="6504907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504911">}</span><span class="op" id="6504912">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504916">&#34;&#34;</span><span class="op" id="6504918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504921">}</span><span class="op" id="6504922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6504925">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme&nbsp;should&nbsp;create&nbsp;an&nbsp;authority</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6504986">&#34;//foo&#34;</span><span class="op" id="6504993">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6504997">&amp;</span><span class="ident" id="6504998"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6505001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505006"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6505010">:</span>&nbsp;<span class="string" id="6505012">&#34;foo&#34;</span><span class="op" id="6505017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505021">}</span><span class="op" id="6505022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505026">&#34;&#34;</span><span class="op" id="6505028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505031">}</span><span class="op" id="6505032">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505035">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme,&nbsp;with&nbsp;userinfo,&nbsp;path,&nbsp;and&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505101">&#34;//user@foo/path?a=b&#34;</span><span class="op" id="6505122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505126">&amp;</span><span class="ident" id="6505127"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6505130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505135"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6505139">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505145"><a href="/gostd/net/url/url.go.html#3751585">User</a></span><span class="op" id="6505149">(</span><span class="string" id="6505150">&#34;user&#34;</span><span class="op" id="6505156">)</span><span class="op" id="6505157">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505162"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6505166">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505172">&#34;foo&#34;</span><span class="op" id="6505177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505182"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6505186">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505192">&#34;/path&#34;</span><span class="op" id="6505199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505204"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6505212">:</span>&nbsp;<span class="string" id="6505214">&#34;a=b&#34;</span><span class="op" id="6505219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505223">}</span><span class="op" id="6505224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505228">&#34;&#34;</span><span class="op" id="6505230">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505233">}</span><span class="op" id="6505234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505237">//&nbsp;Three&nbsp;leading&nbsp;slashes&nbsp;isn&#39;t&nbsp;an&nbsp;authority,&nbsp;but&nbsp;doesn&#39;t&nbsp;return&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505312">//&nbsp;(We&nbsp;can&#39;t&nbsp;return&nbsp;an&nbsp;error,&nbsp;as&nbsp;this&nbsp;code&nbsp;is&nbsp;also&nbsp;used&nbsp;via</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505373">//&nbsp;ServeHTTP&nbsp;-&gt;&nbsp;ReadRequest&nbsp;-&gt;&nbsp;Parse,&nbsp;which&nbsp;is&nbsp;arguably&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505432">//&nbsp;different&nbsp;URL&nbsp;parsing&nbsp;context,&nbsp;but&nbsp;currently&nbsp;shares&nbsp;the</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505492">//&nbsp;same&nbsp;codepath)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505515">&#34;///threeslashes&#34;</span><span class="op" id="6505532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505536">&amp;</span><span class="ident" id="6505537"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6505540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505545"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6505549">:</span>&nbsp;<span class="string" id="6505551">&#34;///threeslashes&#34;</span><span class="op" id="6505568">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505572">}</span><span class="op" id="6505573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505577">&#34;&#34;</span><span class="op" id="6505579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505582">}</span><span class="op" id="6505583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505590">&#34;http://user:password@google.com&#34;</span><span class="op" id="6505623">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505627">&amp;</span><span class="ident" id="6505628"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6505631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505636"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6505642">:</span>&nbsp;<span class="string" id="6505644">&#34;http&#34;</span><span class="op" id="6505650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505655"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6505659">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6505663"><a href="/gostd/net/url/url.go.html#3752059">UserPassword</a></span><span class="op" id="6505675">(</span><span class="string" id="6505676">&#34;user&#34;</span><span class="op" id="6505682">,</span>&nbsp;<span class="string" id="6505684">&#34;password&#34;</span><span class="op" id="6505694">)</span><span class="op" id="6505695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505700"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6505704">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6505708">&#34;google.com&#34;</span><span class="op" id="6505720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505724">}</span><span class="op" id="6505725">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505729">&#34;http://user:password@google.com&#34;</span><span class="op" id="6505762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505765">}</span><span class="op" id="6505766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6505769">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;username&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505825">&#34;http://j@ne:password@google.com&#34;</span><span class="op" id="6505858">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505862">&amp;</span><span class="ident" id="6505863"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6505866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505871"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6505877">:</span>&nbsp;<span class="string" id="6505879">&#34;http&#34;</span><span class="op" id="6505885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505890"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6505894">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6505898"><a href="/gostd/net/url/url.go.html#3752059">UserPassword</a></span><span class="op" id="6505910">(</span><span class="string" id="6505911">&#34;j@ne&#34;</span><span class="op" id="6505917">,</span>&nbsp;<span class="string" id="6505919">&#34;password&#34;</span><span class="op" id="6505929">)</span><span class="op" id="6505930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505935"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6505939">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6505943">&#34;google.com&#34;</span><span class="op" id="6505955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505959">}</span><span class="op" id="6505960">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6505964">&#34;http://j%40ne:password@google.com&#34;</span><span class="op" id="6505999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506002">}</span><span class="op" id="6506003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6506006">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;password&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506062">&#34;http://jane:p@ssword@google.com&#34;</span><span class="op" id="6506095">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506099">&amp;</span><span class="ident" id="6506100"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6506103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506108"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6506114">:</span>&nbsp;<span class="string" id="6506116">&#34;http&#34;</span><span class="op" id="6506122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506127"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6506131">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6506135"><a href="/gostd/net/url/url.go.html#3752059">UserPassword</a></span><span class="op" id="6506147">(</span><span class="string" id="6506148">&#34;jane&#34;</span><span class="op" id="6506154">,</span>&nbsp;<span class="string" id="6506156">&#34;p@ssword&#34;</span><span class="op" id="6506166">)</span><span class="op" id="6506167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506172"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6506176">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6506180">&#34;google.com&#34;</span><span class="op" id="6506192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506196">}</span><span class="op" id="6506197">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506201">&#34;http://jane:p%40ssword@google.com&#34;</span><span class="op" id="6506236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506239">}</span><span class="op" id="6506240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506247">&#34;http://j@ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="6506291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506295">&amp;</span><span class="ident" id="6506296"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6506299">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506304"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6506310">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6506314">&#34;http&#34;</span><span class="op" id="6506320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506325"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6506329">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506335"><a href="/gostd/net/url/url.go.html#3752059">UserPassword</a></span><span class="op" id="6506347">(</span><span class="string" id="6506348">&#34;j@ne&#34;</span><span class="op" id="6506354">,</span>&nbsp;<span class="string" id="6506356">&#34;password&#34;</span><span class="op" id="6506366">)</span><span class="op" id="6506367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506372"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6506376">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506382">&#34;google.com&#34;</span><span class="op" id="6506394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506399"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6506403">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506409">&#34;/p@th&#34;</span><span class="op" id="6506416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506421"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6506429">:</span>&nbsp;<span class="string" id="6506431">&#34;q=@go&#34;</span><span class="op" id="6506438">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506442">}</span><span class="op" id="6506443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506447">&#34;http://j%40ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="6506493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506496">}</span><span class="op" id="6506497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506504">&#34;http://www.google.com/?q=go+language#foo&#34;</span><span class="op" id="6506546">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506550">&amp;</span><span class="ident" id="6506551"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6506554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506559"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6506565">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6506569">&#34;http&#34;</span><span class="op" id="6506575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506580"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6506584">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506590">&#34;www.google.com&#34;</span><span class="op" id="6506606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506611"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6506615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506621">&#34;/&#34;</span><span class="op" id="6506624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506629"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6506637">:</span>&nbsp;<span class="string" id="6506639">&#34;q=go+language&#34;</span><span class="op" id="6506654">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506659"><a href="/gostd/net/url/url.go.html#3751437">Fragment</a></span><span class="op" id="6506667">:</span>&nbsp;<span class="string" id="6506669">&#34;foo&#34;</span><span class="op" id="6506674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506678">}</span><span class="op" id="6506679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506683">&#34;&#34;</span><span class="op" id="6506685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506688">}</span><span class="op" id="6506689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506692">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506696">&#34;http://www.google.com/?q=go+language#foo%26bar&#34;</span><span class="op" id="6506744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506748">&amp;</span><span class="ident" id="6506749"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6506752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506757"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6506763">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6506767">&#34;http&#34;</span><span class="op" id="6506773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506778"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6506782">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506788">&#34;www.google.com&#34;</span><span class="op" id="6506804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506809"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6506813">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506819">&#34;/&#34;</span><span class="op" id="6506822">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506827"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6506835">:</span>&nbsp;<span class="string" id="6506837">&#34;q=go+language&#34;</span><span class="op" id="6506852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506857"><a href="/gostd/net/url/url.go.html#3751437">Fragment</a></span><span class="op" id="6506865">:</span>&nbsp;<span class="string" id="6506867">&#34;foo&amp;bar&#34;</span><span class="op" id="6506876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506880">}</span><span class="op" id="6506881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506885">&#34;http://www.google.com/?q=go+language#foo&amp;bar&#34;</span><span class="op" id="6506931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506934">}</span><span class="op" id="6506935">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6506942">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="6506968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6506972">&amp;</span><span class="ident" id="6506973"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6506976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6506981"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6506987">:</span>&nbsp;<span class="string" id="6506989">&#34;file&#34;</span><span class="op" id="6506995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507000"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6507004">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6507008">&#34;&#34;</span><span class="op" id="6507010">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507015"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6507019">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6507023">&#34;/home/adg/rabbits&#34;</span><span class="op" id="6507042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507046">}</span><span class="op" id="6507047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507051">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="6507077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507080">}</span><span class="op" id="6507081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6507084">//&nbsp;&#34;Windows&#34;&nbsp;paths&nbsp;are&nbsp;no&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6507134">//&nbsp;See&nbsp;golang.org/issue/6027,&nbsp;especially&nbsp;comment&nbsp;#9.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507192">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="6507219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507223">&amp;</span><span class="ident" id="6507224"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6507227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507232"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6507238">:</span>&nbsp;<span class="string" id="6507240">&#34;file&#34;</span><span class="op" id="6507246">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507251"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6507255">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6507259">&#34;&#34;</span><span class="op" id="6507261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507266"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6507270">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6507274">&#34;/C:/FooBar/Baz.txt&#34;</span><span class="op" id="6507294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507298">}</span><span class="op" id="6507299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507303">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="6507330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507333">}</span><span class="op" id="6507334">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6507337">//&nbsp;case-insensitive&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507369">&#34;MaIlTo:webmaster@golang.org&#34;</span><span class="op" id="6507398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507402">&amp;</span><span class="ident" id="6507403"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6507406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507411"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6507417">:</span>&nbsp;<span class="string" id="6507419">&#34;mailto&#34;</span><span class="op" id="6507427">,</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507432"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6507438">:</span>&nbsp;<span class="string" id="6507440">&#34;webmaster@golang.org&#34;</span><span class="op" id="6507462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507466">}</span><span class="op" id="6507467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507471">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="6507500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507503">}</span><span class="op" id="6507504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6507507">//&nbsp;Relative&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507529">&#34;a/b/c&#34;</span><span class="op" id="6507536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507540">&amp;</span><span class="ident" id="6507541"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6507544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507549"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6507553">:</span>&nbsp;<span class="string" id="6507555">&#34;a/b/c&#34;</span><span class="op" id="6507562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507566">}</span><span class="op" id="6507567">,</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507571">&#34;a/b/c&#34;</span><span class="op" id="6507578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507581">}</span><span class="op" id="6507582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6507585">//&nbsp;escaped&nbsp;&#39;?&#39;&nbsp;in&nbsp;username&nbsp;and&nbsp;password</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507630">&#34;http://%3Fam:pa%3Fsword@google.com&#34;</span><span class="op" id="6507666">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507670">&amp;</span><span class="ident" id="6507671"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6507674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507679"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6507685">:</span>&nbsp;<span class="string" id="6507687">&#34;http&#34;</span><span class="op" id="6507693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507698"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6507702">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6507706"><a href="/gostd/net/url/url.go.html#3752059">UserPassword</a></span><span class="op" id="6507718">(</span><span class="string" id="6507719">&#34;?am&#34;</span><span class="op" id="6507724">,</span>&nbsp;<span class="string" id="6507726">&#34;pa?sword&#34;</span><span class="op" id="6507736">)</span><span class="op" id="6507737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507742"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6507746">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6507750">&#34;google.com&#34;</span><span class="op" id="6507762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507766">}</span><span class="op" id="6507767">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6507771">&#34;&#34;</span><span class="op" id="6507773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507776">}</span><span class="op" id="6507777">,</span><br>
<span class="lineno"></span><span class="op" id="6507779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6507782">//&nbsp;more&nbsp;useful&nbsp;string&nbsp;for&nbsp;debugging&nbsp;than&nbsp;fmt&#39;s&nbsp;struct&nbsp;printer</span><br>
<span class="lineno">295</span><span class="keyword" id="6507844">func</span>&nbsp;<span class="ident" id="6507849">ufmt</span><span class="op" id="6507853">(</span><span class="ident" id="6507854">u</span>&nbsp;<span class="op" id="6507856">*</span><span class="ident" id="6507857"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6507860">)</span>&nbsp;<span class="builtintype" id="6507862">string</span>&nbsp;<span class="op" id="6507869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6507872">var</span>&nbsp;<span class="ident" id="6507876">user</span><span class="op" id="6507880">,</span>&nbsp;<span class="ident" id="6507882">pass</span>&nbsp;<span class="keyword" id="6507887">interface</span><span class="op" id="6507896">{</span><span class="op" id="6507897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6507900">if</span>&nbsp;<span class="ident" id="6507903"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6507904">.</span><span class="ident" id="6507905"><a href="/gostd/net/url/url.go.html#3751268">User</a></span>&nbsp;<span class="op" id="6507910">!=</span>&nbsp;<span class="builtintype" id="6507913">nil</span>&nbsp;<span class="op" id="6507917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507921"><a href="/gostd/net/url/url_test.go.html#6507876">user</a></span>&nbsp;<span class="op" id="6507926">=</span>&nbsp;<span class="ident" id="6507928"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6507929">.</span><span class="ident" id="6507930"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6507934">.</span><span class="ident" id="6507935"><a href="/gostd/net/url/url.go.html#3752535">Username</a></span><span class="op" id="6507943">(</span><span class="op" id="6507944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6507948">if</span>&nbsp;<span class="ident" id="6507951">p</span><span class="op" id="6507952">,</span>&nbsp;<span class="ident" id="6507954">ok</span>&nbsp;<span class="op" id="6507957">:=</span>&nbsp;<span class="ident" id="6507960"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6507961">.</span><span class="ident" id="6507962"><a href="/gostd/net/url/url.go.html#3751268">User</a></span><span class="op" id="6507966">.</span><span class="ident" id="6507967"><a href="/gostd/net/url/url.go.html#3752671">Password</a></span><span class="op" id="6507975">(</span><span class="op" id="6507976">)</span><span class="op" id="6507977">;</span>&nbsp;<span class="ident" id="6507979"><a href="/gostd/net/url/url_test.go.html#6507954">ok</a></span>&nbsp;<span class="op" id="6507982">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6507987"><a href="/gostd/net/url/url_test.go.html#6507882">pass</a></span>&nbsp;<span class="op" id="6507992">=</span>&nbsp;<span class="ident" id="6507994"><a href="/gostd/net/url/url_test.go.html#6507951">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6507998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508004">return</span>&nbsp;<span class="ident" id="6508011"><a href="/gostd/net/url/url_test.go.html#6502339">fmt</a></span><span class="op" id="6508014">.</span><span class="ident" id="6508015"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="6508022">(</span><span class="string" id="6508023">&#34;opaque=%q,&nbsp;scheme=%q,&nbsp;user=%#v,&nbsp;pass=%#v,&nbsp;host=%q,&nbsp;path=%q,&nbsp;rawq=%q,&nbsp;frag=%q&#34;</span><span class="op" id="6508101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508105"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508106">.</span><span class="ident" id="6508107"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6508113">,</span>&nbsp;<span class="ident" id="6508115"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508116">.</span><span class="ident" id="6508117"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6508123">,</span>&nbsp;<span class="ident" id="6508125"><a href="/gostd/net/url/url_test.go.html#6507876">user</a></span><span class="op" id="6508129">,</span>&nbsp;<span class="ident" id="6508131"><a href="/gostd/net/url/url_test.go.html#6507882">pass</a></span><span class="op" id="6508135">,</span>&nbsp;<span class="ident" id="6508137"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508138">.</span><span class="ident" id="6508139"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6508143">,</span>&nbsp;<span class="ident" id="6508145"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508146">.</span><span class="ident" id="6508147"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6508151">,</span>&nbsp;<span class="ident" id="6508153"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508154">.</span><span class="ident" id="6508155"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6508163">,</span>&nbsp;<span class="ident" id="6508165"><a href="/gostd/net/url/url_test.go.html#6507854">u</a></span><span class="op" id="6508166">.</span><span class="ident" id="6508167"><a href="/gostd/net/url/url.go.html#3751437">Fragment</a></span><span class="op" id="6508175">)</span><br>
<span class="lineno">305</span><span class="op" id="6508177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6508180">func</span>&nbsp;<span class="ident" id="6508185">DoTest</span><span class="op" id="6508191">(</span><span class="ident" id="6508192">t</span>&nbsp;<span class="op" id="6508194">*</span><span class="ident" id="6508195"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6508202">.</span><span class="ident" id="6508203"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6508204">,</span>&nbsp;<span class="ident" id="6508206">parse</span>&nbsp;<span class="keyword" id="6508212">func</span><span class="op" id="6508216">(</span><span class="builtintype" id="6508217">string</span><span class="op" id="6508223">)</span>&nbsp;<span class="op" id="6508225">(</span><span class="op" id="6508226">*</span><span class="ident" id="6508227"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6508230">,</span>&nbsp;<span class="builtintype" id="6508232">error</span><span class="op" id="6508237">)</span><span class="op" id="6508238">,</span>&nbsp;<span class="ident" id="6508240">name</span>&nbsp;<span class="builtintype" id="6508245">string</span><span class="op" id="6508251">,</span>&nbsp;<span class="ident" id="6508253">tests</span>&nbsp;<span class="op" id="6508259">[</span><span class="op" id="6508260">]</span><span class="ident" id="6508261"><a href="/gostd/net/url/url_test.go.html#6502386">URLTest</a></span><span class="op" id="6508268">)</span>&nbsp;<span class="op" id="6508270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508273">for</span>&nbsp;<span class="ident" id="6508277">_</span><span class="op" id="6508278">,</span>&nbsp;<span class="ident" id="6508280">tt</span>&nbsp;<span class="op" id="6508283">:=</span>&nbsp;<span class="keyword" id="6508286">range</span>&nbsp;<span class="ident" id="6508292"><a href="/gostd/net/url/url_test.go.html#6508253">tests</a></span>&nbsp;<span class="op" id="6508298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508302">u</span><span class="op" id="6508303">,</span>&nbsp;<span class="ident" id="6508305">err</span>&nbsp;<span class="op" id="6508309">:=</span>&nbsp;<span class="ident" id="6508312"><a href="/gostd/net/url/url_test.go.html#6508206">parse</a></span><span class="op" id="6508317">(</span><span class="ident" id="6508318"><a href="/gostd/net/url/url_test.go.html#6508280">tt</a></span><span class="op" id="6508320">.</span><span class="ident" id="6508321"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508323">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508327">if</span>&nbsp;<span class="ident" id="6508330"><a href="/gostd/net/url/url_test.go.html#6508305">err</a></span>&nbsp;<span class="op" id="6508334">!=</span>&nbsp;<span class="builtintype" id="6508337">nil</span>&nbsp;<span class="op" id="6508341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508346"><a href="/gostd/net/url/url_test.go.html#6508192">t</a></span><span class="op" id="6508347">.</span><span class="ident" id="6508348"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6508354">(</span><span class="string" id="6508355">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6508381">,</span>&nbsp;<span class="ident" id="6508383"><a href="/gostd/net/url/url_test.go.html#6508240">name</a></span><span class="op" id="6508387">,</span>&nbsp;<span class="ident" id="6508389"><a href="/gostd/net/url/url_test.go.html#6508280">tt</a></span><span class="op" id="6508391">.</span><span class="ident" id="6508392"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508394">,</span>&nbsp;<span class="ident" id="6508396"><a href="/gostd/net/url/url_test.go.html#6508305">err</a></span><span class="op" id="6508399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508404">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508419">if</span>&nbsp;<span class="op" id="6508422">!</span><span class="ident" id="6508423"><a href="/gostd/net/url/url_test.go.html#6502346">reflect</a></span><span class="op" id="6508430">.</span><span class="ident" id="6508431"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6508440">(</span><span class="ident" id="6508441"><a href="/gostd/net/url/url_test.go.html#6508302">u</a></span><span class="op" id="6508442">,</span>&nbsp;<span class="ident" id="6508444"><a href="/gostd/net/url/url_test.go.html#6508280">tt</a></span><span class="op" id="6508446">.</span><span class="ident" id="6508447"><a href="/gostd/net/url/url_test.go.html#6502422">out</a></span><span class="op" id="6508450">)</span>&nbsp;<span class="op" id="6508452">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508457"><a href="/gostd/net/url/url_test.go.html#6508192">t</a></span><span class="op" id="6508458">.</span><span class="ident" id="6508459"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6508465">(</span><span class="string" id="6508466">&#34;%s(%q):\n\thave&nbsp;%v\n\twant&nbsp;%v\n&#34;</span><span class="op" id="6508499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508505"><a href="/gostd/net/url/url_test.go.html#6508240">name</a></span><span class="op" id="6508509">,</span>&nbsp;<span class="ident" id="6508511"><a href="/gostd/net/url/url_test.go.html#6508280">tt</a></span><span class="op" id="6508513">.</span><span class="ident" id="6508514"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508516">,</span>&nbsp;<span class="ident" id="6508518"><a href="/gostd/net/url/url_test.go.html#6507849">ufmt</a></span><span class="op" id="6508522">(</span><span class="ident" id="6508523"><a href="/gostd/net/url/url_test.go.html#6508302">u</a></span><span class="op" id="6508524">)</span><span class="op" id="6508525">,</span>&nbsp;<span class="ident" id="6508527"><a href="/gostd/net/url/url_test.go.html#6507849">ufmt</a></span><span class="op" id="6508531">(</span><span class="ident" id="6508532"><a href="/gostd/net/url/url_test.go.html#6508280">tt</a></span><span class="op" id="6508534">.</span><span class="ident" id="6508535"><a href="/gostd/net/url/url_test.go.html#6502422">out</a></span><span class="op" id="6508538">)</span><span class="op" id="6508539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508546">}</span><br>
<span class="lineno"></span><span class="op" id="6508548">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="6508551">func</span>&nbsp;<span class="ident" id="6508556">BenchmarkString</span><span class="op" id="6508571">(</span><span class="ident" id="6508572">b</span>&nbsp;<span class="op" id="6508574">*</span><span class="ident" id="6508575"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6508582">.</span><span class="ident" id="6508583"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6508584">)</span>&nbsp;<span class="op" id="6508586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508589"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508590">.</span><span class="ident" id="6508591"><a href="/gostd/testing/benchmark.go.html#5452096">StopTimer</a></span><span class="op" id="6508600">(</span><span class="op" id="6508601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508604"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508605">.</span><span class="ident" id="6508606"><a href="/gostd/testing/benchmark.go.html#5453061">ReportAllocs</a></span><span class="op" id="6508618">(</span><span class="op" id="6508619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508622">for</span>&nbsp;<span class="ident" id="6508626">_</span><span class="op" id="6508627">,</span>&nbsp;<span class="ident" id="6508629">tt</span>&nbsp;<span class="op" id="6508632">:=</span>&nbsp;<span class="keyword" id="6508635">range</span>&nbsp;<span class="ident" id="6508641"><a href="/gostd/net/url/url_test.go.html#6502533">urltests</a></span>&nbsp;<span class="op" id="6508650">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508654">u</span><span class="op" id="6508655">,</span>&nbsp;<span class="ident" id="6508657">err</span>&nbsp;<span class="op" id="6508661">:=</span>&nbsp;<span class="ident" id="6508664"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="6508669">(</span><span class="ident" id="6508670"><a href="/gostd/net/url/url_test.go.html#6508629">tt</a></span><span class="op" id="6508672">.</span><span class="ident" id="6508673"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508679">if</span>&nbsp;<span class="ident" id="6508682"><a href="/gostd/net/url/url_test.go.html#6508657">err</a></span>&nbsp;<span class="op" id="6508686">!=</span>&nbsp;<span class="builtintype" id="6508689">nil</span>&nbsp;<span class="op" id="6508693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508698"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508699">.</span><span class="ident" id="6508700"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6508706">(</span><span class="string" id="6508707">&#34;Parse(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6508736">,</span>&nbsp;<span class="ident" id="6508738"><a href="/gostd/net/url/url_test.go.html#6508629">tt</a></span><span class="op" id="6508740">.</span><span class="ident" id="6508741"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508743">,</span>&nbsp;<span class="ident" id="6508745"><a href="/gostd/net/url/url_test.go.html#6508657">err</a></span><span class="op" id="6508748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508753">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508764">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508768">if</span>&nbsp;<span class="ident" id="6508771"><a href="/gostd/net/url/url_test.go.html#6508629">tt</a></span><span class="op" id="6508773">.</span><span class="ident" id="6508774"><a href="/gostd/net/url/url_test.go.html#6502438">roundtrip</a></span>&nbsp;<span class="op" id="6508784">==</span>&nbsp;<span class="string" id="6508787">&#34;&#34;</span>&nbsp;<span class="op" id="6508790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508795">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508810"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508811">.</span><span class="ident" id="6508812"><a href="/gostd/testing/benchmark.go.html#5451749">StartTimer</a></span><span class="op" id="6508822">(</span><span class="op" id="6508823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508827">var</span>&nbsp;<span class="ident" id="6508831">g</span>&nbsp;<span class="builtintype" id="6508833">string</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508842">for</span>&nbsp;<span class="ident" id="6508846">i</span>&nbsp;<span class="op" id="6508848">:=</span>&nbsp;<span class="num" id="6508851">0</span><span class="op" id="6508852">;</span>&nbsp;<span class="ident" id="6508854"><a href="/gostd/net/url/url_test.go.html#6508846">i</a></span>&nbsp;<span class="op" id="6508856">&lt;</span>&nbsp;<span class="ident" id="6508858"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508859">.</span><span class="ident" id="6508860"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6508861">;</span>&nbsp;<span class="ident" id="6508863"><a href="/gostd/net/url/url_test.go.html#6508846">i</a></span><span class="op" id="6508864">++</span>&nbsp;<span class="op" id="6508867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508872"><a href="/gostd/net/url/url_test.go.html#6508831">g</a></span>&nbsp;<span class="op" id="6508874">=</span>&nbsp;<span class="ident" id="6508876"><a href="/gostd/net/url/url_test.go.html#6508654">u</a></span><span class="op" id="6508877">.</span><span class="ident" id="6508878"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6508884">(</span><span class="op" id="6508885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6508889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508893"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508894">.</span><span class="ident" id="6508895"><a href="/gostd/testing/benchmark.go.html#5452096">StopTimer</a></span><span class="op" id="6508904">(</span><span class="op" id="6508905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6508909">if</span>&nbsp;<span class="ident" id="6508912">w</span>&nbsp;<span class="op" id="6508914">:=</span>&nbsp;<span class="ident" id="6508917"><a href="/gostd/net/url/url_test.go.html#6508629">tt</a></span><span class="op" id="6508919">.</span><span class="ident" id="6508920"><a href="/gostd/net/url/url_test.go.html#6502438">roundtrip</a></span><span class="op" id="6508929">;</span>&nbsp;<span class="ident" id="6508931"><a href="/gostd/net/url/url_test.go.html#6508831">g</a></span>&nbsp;<span class="op" id="6508933">!=</span>&nbsp;<span class="ident" id="6508936"><a href="/gostd/net/url/url_test.go.html#6508912">w</a></span>&nbsp;<span class="op" id="6508938">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6508943"><a href="/gostd/net/url/url_test.go.html#6508572">b</a></span><span class="op" id="6508944">.</span><span class="ident" id="6508945"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6508951">(</span><span class="string" id="6508952">&#34;Parse(%q).String()&nbsp;==&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6508987">,</span>&nbsp;<span class="ident" id="6508989"><a href="/gostd/net/url/url_test.go.html#6508629">tt</a></span><span class="op" id="6508991">.</span><span class="ident" id="6508992"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6508994">,</span>&nbsp;<span class="ident" id="6508996"><a href="/gostd/net/url/url_test.go.html#6508831">g</a></span><span class="op" id="6508997">,</span>&nbsp;<span class="ident" id="6508999"><a href="/gostd/net/url/url_test.go.html#6508912">w</a></span><span class="op" id="6509000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509007">}</span><br>
<span class="lineno"></span><span class="op" id="6509009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="6509012">func</span>&nbsp;<span class="ident" id="6509017">TestParse</span><span class="op" id="6509026">(</span><span class="ident" id="6509027">t</span>&nbsp;<span class="op" id="6509029">*</span><span class="ident" id="6509030"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6509037">.</span><span class="ident" id="6509038"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6509039">)</span>&nbsp;<span class="op" id="6509041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509044"><a href="/gostd/net/url/url_test.go.html#6508185">DoTest</a></span><span class="op" id="6509050">(</span><span class="ident" id="6509051"><a href="/gostd/net/url/url_test.go.html#6509027">t</a></span><span class="op" id="6509052">,</span>&nbsp;<span class="ident" id="6509054"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="6509059">,</span>&nbsp;<span class="string" id="6509061">&#34;Parse&#34;</span><span class="op" id="6509068">,</span>&nbsp;<span class="ident" id="6509070"><a href="/gostd/net/url/url_test.go.html#6502533">urltests</a></span><span class="op" id="6509078">)</span><br>
<span class="lineno"></span><span class="op" id="6509080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6509083">const</span>&nbsp;<span class="ident" id="6509089">pathThatLooksSchemeRelative</span>&nbsp;<span class="op" id="6509117">=</span>&nbsp;<span class="string" id="6509119">&#34;//not.a.user@not.a.host/just/a/path&#34;</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="6509158">var</span>&nbsp;<span class="ident" id="6509162">parseRequestURLTests</span>&nbsp;<span class="op" id="6509183">=</span>&nbsp;<span class="op" id="6509185">[</span><span class="op" id="6509186">]</span><span class="keyword" id="6509187">struct</span>&nbsp;<span class="op" id="6509194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509197">url</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6509211">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509219">expectedValid</span>&nbsp;<span class="builtintype" id="6509233">bool</span><br>
<span class="lineno"></span><span class="op" id="6509238">}</span><span class="op" id="6509239">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509242">{</span><span class="string" id="6509243">&#34;http://foo.com&#34;</span><span class="op" id="6509259">,</span>&nbsp;<span class="builtintype" id="6509261">true</span><span class="op" id="6509265">}</span><span class="op" id="6509266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509269">{</span><span class="string" id="6509270">&#34;http://foo.com/&#34;</span><span class="op" id="6509287">,</span>&nbsp;<span class="builtintype" id="6509289">true</span><span class="op" id="6509293">}</span><span class="op" id="6509294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509297">{</span><span class="string" id="6509298">&#34;http://foo.com/path&#34;</span><span class="op" id="6509319">,</span>&nbsp;<span class="builtintype" id="6509321">true</span><span class="op" id="6509325">}</span><span class="op" id="6509326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509329">{</span><span class="string" id="6509330">&#34;/&#34;</span><span class="op" id="6509333">,</span>&nbsp;<span class="builtintype" id="6509335">true</span><span class="op" id="6509339">}</span><span class="op" id="6509340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509343">{</span><span class="ident" id="6509344"><a href="/gostd/net/url/url_test.go.html#6509089">pathThatLooksSchemeRelative</a></span><span class="op" id="6509371">,</span>&nbsp;<span class="builtintype" id="6509373">true</span><span class="op" id="6509377">}</span><span class="op" id="6509378">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509381">{</span><span class="string" id="6509382">&#34;//not.a.user@%66%6f%6f.com/just/a/path/also&#34;</span><span class="op" id="6509427">,</span>&nbsp;<span class="builtintype" id="6509429">true</span><span class="op" id="6509433">}</span><span class="op" id="6509434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509437">{</span><span class="string" id="6509438">&#34;foo.html&#34;</span><span class="op" id="6509448">,</span>&nbsp;<span class="builtintype" id="6509450">false</span><span class="op" id="6509455">}</span><span class="op" id="6509456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509459">{</span><span class="string" id="6509460">&#34;../dir/&#34;</span><span class="op" id="6509469">,</span>&nbsp;<span class="builtintype" id="6509471">false</span><span class="op" id="6509476">}</span><span class="op" id="6509477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509480">{</span><span class="string" id="6509481">&#34;*&#34;</span><span class="op" id="6509484">,</span>&nbsp;<span class="builtintype" id="6509486">true</span><span class="op" id="6509490">}</span><span class="op" id="6509491">,</span><br>
<span class="lineno"></span><span class="op" id="6509493">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="6509496">func</span>&nbsp;<span class="ident" id="6509501">TestParseRequestURI</span><span class="op" id="6509520">(</span><span class="ident" id="6509521">t</span>&nbsp;<span class="op" id="6509523">*</span><span class="ident" id="6509524"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6509531">.</span><span class="ident" id="6509532"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6509533">)</span>&nbsp;<span class="op" id="6509535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6509538">for</span>&nbsp;<span class="ident" id="6509542">_</span><span class="op" id="6509543">,</span>&nbsp;<span class="ident" id="6509545">test</span>&nbsp;<span class="op" id="6509550">:=</span>&nbsp;<span class="keyword" id="6509553">range</span>&nbsp;<span class="ident" id="6509559"><a href="/gostd/net/url/url_test.go.html#6509162">parseRequestURLTests</a></span>&nbsp;<span class="op" id="6509580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509584">_</span><span class="op" id="6509585">,</span>&nbsp;<span class="ident" id="6509587">err</span>&nbsp;<span class="op" id="6509591">:=</span>&nbsp;<span class="ident" id="6509594"><a href="/gostd/net/url/url.go.html#3754843">ParseRequestURI</a></span><span class="op" id="6509609">(</span><span class="ident" id="6509610"><a href="/gostd/net/url/url_test.go.html#6509545">test</a></span><span class="op" id="6509614">.</span><span class="ident" id="6509615"><a href="/gostd/net/url/url_test.go.html#6509197">url</a></span><span class="op" id="6509618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509622">valid</span>&nbsp;<span class="op" id="6509628">:=</span>&nbsp;<span class="ident" id="6509631"><a href="/gostd/net/url/url_test.go.html#6509587">err</a></span>&nbsp;<span class="op" id="6509635">==</span>&nbsp;<span class="builtintype" id="6509638">nil</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6509644">if</span>&nbsp;<span class="ident" id="6509647"><a href="/gostd/net/url/url_test.go.html#6509622">valid</a></span>&nbsp;<span class="op" id="6509653">!=</span>&nbsp;<span class="ident" id="6509656"><a href="/gostd/net/url/url_test.go.html#6509545">test</a></span><span class="op" id="6509660">.</span><span class="ident" id="6509661"><a href="/gostd/net/url/url_test.go.html#6509219">expectedValid</a></span>&nbsp;<span class="op" id="6509675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509680"><a href="/gostd/net/url/url_test.go.html#6509521">t</a></span><span class="op" id="6509681">.</span><span class="ident" id="6509682"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6509688">(</span><span class="string" id="6509689">&#34;Expected&nbsp;valid=%v&nbsp;for&nbsp;%q;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6509723">,</span>&nbsp;<span class="ident" id="6509725"><a href="/gostd/net/url/url_test.go.html#6509545">test</a></span><span class="op" id="6509729">.</span><span class="ident" id="6509730"><a href="/gostd/net/url/url_test.go.html#6509219">expectedValid</a></span><span class="op" id="6509743">,</span>&nbsp;<span class="ident" id="6509745"><a href="/gostd/net/url/url_test.go.html#6509545">test</a></span><span class="op" id="6509749">.</span><span class="ident" id="6509750"><a href="/gostd/net/url/url_test.go.html#6509197">url</a></span><span class="op" id="6509753">,</span>&nbsp;<span class="ident" id="6509755"><a href="/gostd/net/url/url_test.go.html#6509622">valid</a></span><span class="op" id="6509760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509771">url</span><span class="op" id="6509774">,</span>&nbsp;<span class="ident" id="6509776">err</span>&nbsp;<span class="op" id="6509780">:=</span>&nbsp;<span class="ident" id="6509783"><a href="/gostd/net/url/url.go.html#3754843">ParseRequestURI</a></span><span class="op" id="6509798">(</span><span class="ident" id="6509799"><a href="/gostd/net/url/url_test.go.html#6509089">pathThatLooksSchemeRelative</a></span><span class="op" id="6509826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6509829">if</span>&nbsp;<span class="ident" id="6509832"><a href="/gostd/net/url/url_test.go.html#6509776">err</a></span>&nbsp;<span class="op" id="6509836">!=</span>&nbsp;<span class="builtintype" id="6509839">nil</span>&nbsp;<span class="op" id="6509843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509847"><a href="/gostd/net/url/url_test.go.html#6509521">t</a></span><span class="op" id="6509848">.</span><span class="ident" id="6509849"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6509855">(</span><span class="string" id="6509856">&#34;Unexpected&nbsp;error&nbsp;%v&#34;</span><span class="op" id="6509877">,</span>&nbsp;<span class="ident" id="6509879"><a href="/gostd/net/url/url_test.go.html#6509776">err</a></span><span class="op" id="6509882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6509885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6509888">if</span>&nbsp;<span class="ident" id="6509891"><a href="/gostd/net/url/url_test.go.html#6509771">url</a></span><span class="op" id="6509894">.</span><span class="ident" id="6509895"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span>&nbsp;<span class="op" id="6509900">!=</span>&nbsp;<span class="ident" id="6509903"><a href="/gostd/net/url/url_test.go.html#6509089">pathThatLooksSchemeRelative</a></span>&nbsp;<span class="op" id="6509931">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6509935"><a href="/gostd/net/url/url_test.go.html#6509521">t</a></span><span class="op" id="6509936">.</span><span class="ident" id="6509937"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6509943">(</span><span class="string" id="6509944">&#34;Expected&nbsp;path&nbsp;%q;&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6509970">,</span>&nbsp;<span class="ident" id="6509972"><a href="/gostd/net/url/url_test.go.html#6509089">pathThatLooksSchemeRelative</a></span><span class="op" id="6509999">,</span>&nbsp;<span class="ident" id="6510001"><a href="/gostd/net/url/url_test.go.html#6509771">url</a></span><span class="op" id="6510004">.</span><span class="ident" id="6510005"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6510009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510012">}</span><br>
<span class="lineno"></span><span class="op" id="6510014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510017">func</span>&nbsp;<span class="ident" id="6510022">DoTestString</span><span class="op" id="6510034">(</span><span class="ident" id="6510035">t</span>&nbsp;<span class="op" id="6510037">*</span><span class="ident" id="6510038"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6510045">.</span><span class="ident" id="6510046"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6510047">,</span>&nbsp;<span class="ident" id="6510049">parse</span>&nbsp;<span class="keyword" id="6510055">func</span><span class="op" id="6510059">(</span><span class="builtintype" id="6510060">string</span><span class="op" id="6510066">)</span>&nbsp;<span class="op" id="6510068">(</span><span class="op" id="6510069">*</span><span class="ident" id="6510070"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6510073">,</span>&nbsp;<span class="builtintype" id="6510075">error</span><span class="op" id="6510080">)</span><span class="op" id="6510081">,</span>&nbsp;<span class="ident" id="6510083">name</span>&nbsp;<span class="builtintype" id="6510088">string</span><span class="op" id="6510094">,</span>&nbsp;<span class="ident" id="6510096">tests</span>&nbsp;<span class="op" id="6510102">[</span><span class="op" id="6510103">]</span><span class="ident" id="6510104"><a href="/gostd/net/url/url_test.go.html#6502386">URLTest</a></span><span class="op" id="6510111">)</span>&nbsp;<span class="op" id="6510113">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510116">for</span>&nbsp;<span class="ident" id="6510120">_</span><span class="op" id="6510121">,</span>&nbsp;<span class="ident" id="6510123">tt</span>&nbsp;<span class="op" id="6510126">:=</span>&nbsp;<span class="keyword" id="6510129">range</span>&nbsp;<span class="ident" id="6510135"><a href="/gostd/net/url/url_test.go.html#6510096">tests</a></span>&nbsp;<span class="op" id="6510141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510145">u</span><span class="op" id="6510146">,</span>&nbsp;<span class="ident" id="6510148">err</span>&nbsp;<span class="op" id="6510152">:=</span>&nbsp;<span class="ident" id="6510155"><a href="/gostd/net/url/url_test.go.html#6510049">parse</a></span><span class="op" id="6510160">(</span><span class="ident" id="6510161"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510163">.</span><span class="ident" id="6510164"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6510166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510170">if</span>&nbsp;<span class="ident" id="6510173"><a href="/gostd/net/url/url_test.go.html#6510148">err</a></span>&nbsp;<span class="op" id="6510177">!=</span>&nbsp;<span class="builtintype" id="6510180">nil</span>&nbsp;<span class="op" id="6510184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510189"><a href="/gostd/net/url/url_test.go.html#6510035">t</a></span><span class="op" id="6510190">.</span><span class="ident" id="6510191"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6510197">(</span><span class="string" id="6510198">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6510224">,</span>&nbsp;<span class="ident" id="6510226"><a href="/gostd/net/url/url_test.go.html#6510083">name</a></span><span class="op" id="6510230">,</span>&nbsp;<span class="ident" id="6510232"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510234">.</span><span class="ident" id="6510235"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6510237">,</span>&nbsp;<span class="ident" id="6510239"><a href="/gostd/net/url/url_test.go.html#6510148">err</a></span><span class="op" id="6510242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510247">continue</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510262">expected</span>&nbsp;<span class="op" id="6510271">:=</span>&nbsp;<span class="ident" id="6510274"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510276">.</span><span class="ident" id="6510277"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510282">if</span>&nbsp;<span class="builtinfunc" id="6510285">len</span><span class="op" id="6510288">(</span><span class="ident" id="6510289"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510291">.</span><span class="ident" id="6510292"><a href="/gostd/net/url/url_test.go.html#6502438">roundtrip</a></span><span class="op" id="6510301">)</span>&nbsp;<span class="op" id="6510303">&gt;</span>&nbsp;<span class="num" id="6510305">0</span>&nbsp;<span class="op" id="6510307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510312"><a href="/gostd/net/url/url_test.go.html#6510262">expected</a></span>&nbsp;<span class="op" id="6510321">=</span>&nbsp;<span class="ident" id="6510323"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510325">.</span><span class="ident" id="6510326"><a href="/gostd/net/url/url_test.go.html#6502438">roundtrip</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510338">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510342">s</span>&nbsp;<span class="op" id="6510344">:=</span>&nbsp;<span class="ident" id="6510347"><a href="/gostd/net/url/url_test.go.html#6510145">u</a></span><span class="op" id="6510348">.</span><span class="ident" id="6510349"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6510355">(</span><span class="op" id="6510356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510360">if</span>&nbsp;<span class="ident" id="6510363"><a href="/gostd/net/url/url_test.go.html#6510342">s</a></span>&nbsp;<span class="op" id="6510365">!=</span>&nbsp;<span class="ident" id="6510368"><a href="/gostd/net/url/url_test.go.html#6510262">expected</a></span>&nbsp;<span class="op" id="6510377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510382"><a href="/gostd/net/url/url_test.go.html#6510035">t</a></span><span class="op" id="6510383">.</span><span class="ident" id="6510384"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6510390">(</span><span class="string" id="6510391">&#34;%s(%q).String()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="6510428">,</span>&nbsp;<span class="ident" id="6510430"><a href="/gostd/net/url/url_test.go.html#6510083">name</a></span><span class="op" id="6510434">,</span>&nbsp;<span class="ident" id="6510436"><a href="/gostd/net/url/url_test.go.html#6510123">tt</a></span><span class="op" id="6510438">.</span><span class="ident" id="6510439"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6510441">,</span>&nbsp;<span class="ident" id="6510443"><a href="/gostd/net/url/url_test.go.html#6510342">s</a></span><span class="op" id="6510444">,</span>&nbsp;<span class="ident" id="6510446"><a href="/gostd/net/url/url_test.go.html#6510262">expected</a></span><span class="op" id="6510454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510461">}</span><br>
<span class="lineno">400</span><span class="op" id="6510463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510466">func</span>&nbsp;<span class="ident" id="6510471">TestURLString</span><span class="op" id="6510484">(</span><span class="ident" id="6510485">t</span>&nbsp;<span class="op" id="6510487">*</span><span class="ident" id="6510488"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6510495">.</span><span class="ident" id="6510496"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6510497">)</span>&nbsp;<span class="op" id="6510499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510502"><a href="/gostd/net/url/url_test.go.html#6510022">DoTestString</a></span><span class="op" id="6510514">(</span><span class="ident" id="6510515"><a href="/gostd/net/url/url_test.go.html#6510485">t</a></span><span class="op" id="6510516">,</span>&nbsp;<span class="ident" id="6510518"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="6510523">,</span>&nbsp;<span class="string" id="6510525">&#34;Parse&#34;</span><span class="op" id="6510532">,</span>&nbsp;<span class="ident" id="6510534"><a href="/gostd/net/url/url_test.go.html#6502533">urltests</a></span><span class="op" id="6510542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6510546">//&nbsp;no&nbsp;leading&nbsp;slash&nbsp;on&nbsp;path&nbsp;should&nbsp;prepend</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6510590">//&nbsp;slash&nbsp;on&nbsp;String()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510617">noslash</span>&nbsp;<span class="op" id="6510625">:=</span>&nbsp;<span class="ident" id="6510628"><a href="/gostd/net/url/url_test.go.html#6502386">URLTest</a></span><span class="op" id="6510635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6510639">&#34;http://www.google.com/search&#34;</span><span class="op" id="6510669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510673">&amp;</span><span class="ident" id="6510674"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6510677">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510682"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6510688">:</span>&nbsp;<span class="string" id="6510690">&#34;http&#34;</span><span class="op" id="6510696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510701"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6510705">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6510709">&#34;www.google.com&#34;</span><span class="op" id="6510725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510730"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6510734">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6510738">&#34;search&#34;</span><span class="op" id="6510746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510750">}</span><span class="op" id="6510751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6510755">&#34;&#34;</span><span class="op" id="6510757">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510763">s</span>&nbsp;<span class="op" id="6510765">:=</span>&nbsp;<span class="ident" id="6510768"><a href="/gostd/net/url/url_test.go.html#6510617">noslash</a></span><span class="op" id="6510775">.</span><span class="ident" id="6510776"><a href="/gostd/net/url/url_test.go.html#6502422">out</a></span><span class="op" id="6510779">.</span><span class="ident" id="6510780"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6510786">(</span><span class="op" id="6510787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6510790">if</span>&nbsp;<span class="ident" id="6510793"><a href="/gostd/net/url/url_test.go.html#6510763">s</a></span>&nbsp;<span class="op" id="6510795">!=</span>&nbsp;<span class="ident" id="6510798"><a href="/gostd/net/url/url_test.go.html#6510617">noslash</a></span><span class="op" id="6510805">.</span><span class="ident" id="6510806"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span>&nbsp;<span class="op" id="6510809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510813"><a href="/gostd/net/url/url_test.go.html#6510485">t</a></span><span class="op" id="6510814">.</span><span class="ident" id="6510815"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6510821">(</span><span class="string" id="6510822">&#34;Expected&nbsp;%s;&nbsp;go&nbsp;%s&#34;</span><span class="op" id="6510842">,</span>&nbsp;<span class="ident" id="6510844"><a href="/gostd/net/url/url_test.go.html#6510617">noslash</a></span><span class="op" id="6510851">.</span><span class="ident" id="6510852"><a href="/gostd/net/url/url_test.go.html#6502404">in</a></span><span class="op" id="6510854">,</span>&nbsp;<span class="ident" id="6510856"><a href="/gostd/net/url/url_test.go.html#6510763">s</a></span><span class="op" id="6510857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510860">}</span><br>
<span class="lineno">420</span><span class="op" id="6510862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510865">type</span>&nbsp;<span class="ident" id="6510870">EscapeTest</span>&nbsp;<span class="keyword" id="6510881">struct</span>&nbsp;<span class="op" id="6510888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510891">in</span>&nbsp;&nbsp;<span class="builtintype" id="6510895">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510903">out</span>&nbsp;<span class="builtintype" id="6510907">string</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6510915">err</span>&nbsp;<span class="builtintype" id="6510919">error</span><br>
<span class="lineno"></span><span class="op" id="6510925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510928">var</span>&nbsp;<span class="ident" id="6510932">unescapeTests</span>&nbsp;<span class="op" id="6510946">=</span>&nbsp;<span class="op" id="6510948">[</span><span class="op" id="6510949">]</span><span class="ident" id="6510950"><a href="/gostd/net/url/url_test.go.html#6510870">EscapeTest</a></span><span class="op" id="6510960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510963">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6510967">&#34;&#34;</span><span class="op" id="6510969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6510973">&#34;&#34;</span><span class="op" id="6510975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6510979">nil</span><span class="op" id="6510982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510985">}</span><span class="op" id="6510986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6510989">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6510993">&#34;abc&#34;</span><span class="op" id="6510998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511002">&#34;abc&#34;</span><span class="op" id="6511007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511011">nil</span><span class="op" id="6511014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511017">}</span><span class="op" id="6511018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511021">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511025">&#34;1%41&#34;</span><span class="op" id="6511031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511035">&#34;1A&#34;</span><span class="op" id="6511039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511043">nil</span><span class="op" id="6511046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511049">}</span><span class="op" id="6511050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511053">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511057">&#34;1%41%42%43&#34;</span><span class="op" id="6511069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511073">&#34;1ABC&#34;</span><span class="op" id="6511079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511083">nil</span><span class="op" id="6511086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511089">}</span><span class="op" id="6511090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511093">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511097">&#34;%4a&#34;</span><span class="op" id="6511102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511106">&#34;J&#34;</span><span class="op" id="6511109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511113">nil</span><span class="op" id="6511116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511119">}</span><span class="op" id="6511120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511123">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511127">&#34;%6F&#34;</span><span class="op" id="6511132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511136">&#34;o&#34;</span><span class="op" id="6511139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511143">nil</span><span class="op" id="6511146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511149">}</span><span class="op" id="6511150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511153">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511157">&#34;%&#34;</span><span class="op" id="6511160">,</span>&nbsp;<span class="comment" id="6511162">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511197">&#34;&#34;</span><span class="op" id="6511199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511203"><a href="/gostd/net/url/url.go.html#3746704">EscapeError</a></span><span class="op" id="6511214">(</span><span class="string" id="6511215">&#34;%&#34;</span><span class="op" id="6511218">)</span><span class="op" id="6511219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511222">}</span><span class="op" id="6511223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511226">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511230">&#34;%a&#34;</span><span class="op" id="6511234">,</span>&nbsp;<span class="comment" id="6511236">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511271">&#34;&#34;</span><span class="op" id="6511273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511277"><a href="/gostd/net/url/url.go.html#3746704">EscapeError</a></span><span class="op" id="6511288">(</span><span class="string" id="6511289">&#34;%a&#34;</span><span class="op" id="6511293">)</span><span class="op" id="6511294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511297">}</span><span class="op" id="6511298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511301">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511305">&#34;%1&#34;</span><span class="op" id="6511309">,</span>&nbsp;<span class="comment" id="6511311">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511346">&#34;&#34;</span><span class="op" id="6511348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511352"><a href="/gostd/net/url/url.go.html#3746704">EscapeError</a></span><span class="op" id="6511363">(</span><span class="string" id="6511364">&#34;%1&#34;</span><span class="op" id="6511368">)</span><span class="op" id="6511369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511372">}</span><span class="op" id="6511373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511376">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511380">&#34;123%45%6&#34;</span><span class="op" id="6511390">,</span>&nbsp;<span class="comment" id="6511392">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511427">&#34;&#34;</span><span class="op" id="6511429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511433"><a href="/gostd/net/url/url.go.html#3746704">EscapeError</a></span><span class="op" id="6511444">(</span><span class="string" id="6511445">&#34;%6&#34;</span><span class="op" id="6511449">)</span><span class="op" id="6511450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511453">}</span><span class="op" id="6511454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511457">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511461">&#34;%zzzzz&#34;</span><span class="op" id="6511469">,</span>&nbsp;<span class="comment" id="6511471">//&nbsp;invalid&nbsp;hex&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511495">&#34;&#34;</span><span class="op" id="6511497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511501"><a href="/gostd/net/url/url.go.html#3746704">EscapeError</a></span><span class="op" id="6511512">(</span><span class="string" id="6511513">&#34;%zz&#34;</span><span class="op" id="6511518">)</span><span class="op" id="6511519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511522">}</span><span class="op" id="6511523">,</span><br>
<span class="lineno"></span><span class="op" id="6511525">}</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span><span class="keyword" id="6511528">func</span>&nbsp;<span class="ident" id="6511533">TestUnescape</span><span class="op" id="6511545">(</span><span class="ident" id="6511546">t</span>&nbsp;<span class="op" id="6511548">*</span><span class="ident" id="6511549"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6511556">.</span><span class="ident" id="6511557"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6511558">)</span>&nbsp;<span class="op" id="6511560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6511563">for</span>&nbsp;<span class="ident" id="6511567">_</span><span class="op" id="6511568">,</span>&nbsp;<span class="ident" id="6511570">tt</span>&nbsp;<span class="op" id="6511573">:=</span>&nbsp;<span class="keyword" id="6511576">range</span>&nbsp;<span class="ident" id="6511582"><a href="/gostd/net/url/url_test.go.html#6510932">unescapeTests</a></span>&nbsp;<span class="op" id="6511596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511600">actual</span><span class="op" id="6511606">,</span>&nbsp;<span class="ident" id="6511608">err</span>&nbsp;<span class="op" id="6511612">:=</span>&nbsp;<span class="ident" id="6511615"><a href="/gostd/net/url/url.go.html#3748527">QueryUnescape</a></span><span class="op" id="6511628">(</span><span class="ident" id="6511629"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511631">.</span><span class="ident" id="6511632"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span><span class="op" id="6511634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6511638">if</span>&nbsp;<span class="ident" id="6511641"><a href="/gostd/net/url/url_test.go.html#6511600">actual</a></span>&nbsp;<span class="op" id="6511648">!=</span>&nbsp;<span class="ident" id="6511651"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511653">.</span><span class="ident" id="6511654"><a href="/gostd/net/url/url_test.go.html#6510903">out</a></span>&nbsp;<span class="op" id="6511658">||</span>&nbsp;<span class="op" id="6511661">(</span><span class="ident" id="6511662"><a href="/gostd/net/url/url_test.go.html#6511608">err</a></span>&nbsp;<span class="op" id="6511666">!=</span>&nbsp;<span class="builtintype" id="6511669">nil</span><span class="op" id="6511672">)</span>&nbsp;<span class="op" id="6511674">!=</span>&nbsp;<span class="op" id="6511677">(</span><span class="ident" id="6511678"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511680">.</span><span class="ident" id="6511681"><a href="/gostd/net/url/url_test.go.html#6510915">err</a></span>&nbsp;<span class="op" id="6511685">!=</span>&nbsp;<span class="builtintype" id="6511688">nil</span><span class="op" id="6511691">)</span>&nbsp;<span class="op" id="6511693">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6511698"><a href="/gostd/net/url/url_test.go.html#6511546">t</a></span><span class="op" id="6511699">.</span><span class="ident" id="6511700"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6511706">(</span><span class="string" id="6511707">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="6511748">,</span>&nbsp;<span class="ident" id="6511750"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511752">.</span><span class="ident" id="6511753"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span><span class="op" id="6511755">,</span>&nbsp;<span class="ident" id="6511757"><a href="/gostd/net/url/url_test.go.html#6511600">actual</a></span><span class="op" id="6511763">,</span>&nbsp;<span class="ident" id="6511765"><a href="/gostd/net/url/url_test.go.html#6511608">err</a></span><span class="op" id="6511768">,</span>&nbsp;<span class="ident" id="6511770"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511772">.</span><span class="ident" id="6511773"><a href="/gostd/net/url/url_test.go.html#6510903">out</a></span><span class="op" id="6511776">,</span>&nbsp;<span class="ident" id="6511778"><a href="/gostd/net/url/url_test.go.html#6511570">tt</a></span><span class="op" id="6511780">.</span><span class="ident" id="6511781"><a href="/gostd/net/url/url_test.go.html#6510915">err</a></span><span class="op" id="6511784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511791">}</span><br>
<span class="lineno"></span><span class="op" id="6511793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span><span class="keyword" id="6511796">var</span>&nbsp;<span class="ident" id="6511800">escapeTests</span>&nbsp;<span class="op" id="6511812">=</span>&nbsp;<span class="op" id="6511814">[</span><span class="op" id="6511815">]</span><span class="ident" id="6511816"><a href="/gostd/net/url/url_test.go.html#6510870">EscapeTest</a></span><span class="op" id="6511826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511833">&#34;&#34;</span><span class="op" id="6511835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511839">&#34;&#34;</span><span class="op" id="6511841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511845">nil</span><span class="op" id="6511848">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511851">}</span><span class="op" id="6511852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511859">&#34;abc&#34;</span><span class="op" id="6511864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511868">&#34;abc&#34;</span><span class="op" id="6511873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511877">nil</span><span class="op" id="6511880">,</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511883">}</span><span class="op" id="6511884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511891">&#34;one&nbsp;two&#34;</span><span class="op" id="6511900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511904">&#34;one+two&#34;</span><span class="op" id="6511913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511917">nil</span><span class="op" id="6511920">,</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511923">}</span><span class="op" id="6511924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511931">&#34;10%&#34;</span><span class="op" id="6511936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511940">&#34;10%25&#34;</span><span class="op" id="6511947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6511951">nil</span><span class="op" id="6511954">,</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511957">}</span><span class="op" id="6511958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6511961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6511965">&#34;&nbsp;?&amp;=#+%!&lt;&gt;#\&#34;{}|\\^[]`☺\t:/@$&#39;()*,;&#34;</span><span class="op" id="6512004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6512008">&#34;+%3F%26%3D%23%2B%25%21%3C%3E%23%22%7B%7D%7C%5C%5E%5B%5D%60%E2%98%BA%09%3A%2F%40%24%27%28%29%2A%2C%3B&#34;</span><span class="op" id="6512110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6512114">nil</span><span class="op" id="6512117">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512120">}</span><span class="op" id="6512121">,</span><br>
<span class="lineno"></span><span class="op" id="6512123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512126">func</span>&nbsp;<span class="ident" id="6512131">TestEscape</span><span class="op" id="6512141">(</span><span class="ident" id="6512142">t</span>&nbsp;<span class="op" id="6512144">*</span><span class="ident" id="6512145"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6512152">.</span><span class="ident" id="6512153"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6512154">)</span>&nbsp;<span class="op" id="6512156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6512159">for</span>&nbsp;<span class="ident" id="6512163">_</span><span class="op" id="6512164">,</span>&nbsp;<span class="ident" id="6512166">tt</span>&nbsp;<span class="op" id="6512169">:=</span>&nbsp;<span class="keyword" id="6512172">range</span>&nbsp;<span class="ident" id="6512178"><a href="/gostd/net/url/url_test.go.html#6511800">escapeTests</a></span>&nbsp;<span class="op" id="6512190">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512194">actual</span>&nbsp;<span class="op" id="6512201">:=</span>&nbsp;<span class="ident" id="6512204"><a href="/gostd/net/url/url.go.html#3749627">QueryEscape</a></span><span class="op" id="6512215">(</span><span class="ident" id="6512216"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512218">.</span><span class="ident" id="6512219"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span><span class="op" id="6512221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6512225">if</span>&nbsp;<span class="ident" id="6512228"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512230">.</span><span class="ident" id="6512231"><a href="/gostd/net/url/url_test.go.html#6510903">out</a></span>&nbsp;<span class="op" id="6512235">!=</span>&nbsp;<span class="ident" id="6512238"><a href="/gostd/net/url/url_test.go.html#6512194">actual</a></span>&nbsp;<span class="op" id="6512245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512250"><a href="/gostd/net/url/url_test.go.html#6512142">t</a></span><span class="op" id="6512251">.</span><span class="ident" id="6512252"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6512258">(</span><span class="string" id="6512259">&#34;QueryEscape(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6512290">,</span>&nbsp;<span class="ident" id="6512292"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512294">.</span><span class="ident" id="6512295"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span><span class="op" id="6512297">,</span>&nbsp;<span class="ident" id="6512299"><a href="/gostd/net/url/url_test.go.html#6512194">actual</a></span><span class="op" id="6512305">,</span>&nbsp;<span class="ident" id="6512307"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512309">.</span><span class="ident" id="6512310"><a href="/gostd/net/url/url_test.go.html#6510903">out</a></span><span class="op" id="6512313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6512322">//&nbsp;for&nbsp;bonus&nbsp;points,&nbsp;verify&nbsp;that&nbsp;escape:unescape&nbsp;is&nbsp;an&nbsp;identity.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512389">roundtrip</span><span class="op" id="6512398">,</span>&nbsp;<span class="ident" id="6512400">err</span>&nbsp;<span class="op" id="6512404">:=</span>&nbsp;<span class="ident" id="6512407"><a href="/gostd/net/url/url.go.html#3748527">QueryUnescape</a></span><span class="op" id="6512420">(</span><span class="ident" id="6512421"><a href="/gostd/net/url/url_test.go.html#6512194">actual</a></span><span class="op" id="6512427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6512431">if</span>&nbsp;<span class="ident" id="6512434"><a href="/gostd/net/url/url_test.go.html#6512389">roundtrip</a></span>&nbsp;<span class="op" id="6512444">!=</span>&nbsp;<span class="ident" id="6512447"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512449">.</span><span class="ident" id="6512450"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span>&nbsp;<span class="op" id="6512453">||</span>&nbsp;<span class="ident" id="6512456"><a href="/gostd/net/url/url_test.go.html#6512400">err</a></span>&nbsp;<span class="op" id="6512460">!=</span>&nbsp;<span class="builtintype" id="6512463">nil</span>&nbsp;<span class="op" id="6512467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512472"><a href="/gostd/net/url/url_test.go.html#6512142">t</a></span><span class="op" id="6512473">.</span><span class="ident" id="6512474"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6512480">(</span><span class="string" id="6512481">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="6512522">,</span>&nbsp;<span class="ident" id="6512524"><a href="/gostd/net/url/url_test.go.html#6512194">actual</a></span><span class="op" id="6512530">,</span>&nbsp;<span class="ident" id="6512532"><a href="/gostd/net/url/url_test.go.html#6512389">roundtrip</a></span><span class="op" id="6512541">,</span>&nbsp;<span class="ident" id="6512543"><a href="/gostd/net/url/url_test.go.html#6512400">err</a></span><span class="op" id="6512546">,</span>&nbsp;<span class="ident" id="6512548"><a href="/gostd/net/url/url_test.go.html#6512166">tt</a></span><span class="op" id="6512550">.</span><span class="ident" id="6512551"><a href="/gostd/net/url/url_test.go.html#6510891">in</a></span><span class="op" id="6512553">,</span>&nbsp;<span class="string" id="6512555">&#34;[no&nbsp;error]&#34;</span><span class="op" id="6512567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512571">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512574">}</span><br>
<span class="lineno"></span><span class="op" id="6512576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6512579">//var&nbsp;userinfoTests&nbsp;=&nbsp;[]UserinfoTest{</span><br>
<span class="lineno"></span><span class="comment" id="6512617">//&nbsp;&nbsp;&nbsp;&nbsp;{&#34;user&#34;,&nbsp;&#34;password&#34;,&nbsp;&#34;user:password&#34;},</span><br>
<span class="lineno">540</span><span class="comment" id="6512659">//&nbsp;&nbsp;&nbsp;&nbsp;{&#34;foo:bar&#34;,&nbsp;&#34;~!@#$%^&amp;*()_+{}|[]\\-=`:;&#39;\&#34;&lt;&gt;?,./&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="6512712">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;foo%3Abar:~!%40%23$%25%5E&amp;*()_+%7B%7D%7C%5B%5D%5C-=%60%3A;&#39;%22%3C%3E?,.%2F&#34;},</span><br>
<span class="lineno"></span><span class="comment" id="6512795">//}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512800">type</span>&nbsp;<span class="ident" id="6512805">EncodeQueryTest</span>&nbsp;<span class="keyword" id="6512821">struct</span>&nbsp;<span class="op" id="6512828">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512831">m</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512840"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6512848">expected</span>&nbsp;<span class="builtintype" id="6512857">string</span><br>
<span class="lineno"></span><span class="op" id="6512864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512867">var</span>&nbsp;<span class="ident" id="6512871">encodeQueryTests</span>&nbsp;<span class="op" id="6512888">=</span>&nbsp;<span class="op" id="6512890">[</span><span class="op" id="6512891">]</span><span class="ident" id="6512892"><a href="/gostd/net/url/url_test.go.html#6512805">EncodeQueryTest</a></span><span class="op" id="6512907">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512910">{</span><span class="builtintype" id="6512911">nil</span><span class="op" id="6512914">,</span>&nbsp;<span class="string" id="6512916">&#34;&#34;</span><span class="op" id="6512918">}</span><span class="op" id="6512919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512922">{</span><span class="ident" id="6512923"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6512929">{</span><span class="string" id="6512930">&#34;q&#34;</span><span class="op" id="6512933">:</span>&nbsp;<span class="op" id="6512935">{</span><span class="string" id="6512936">&#34;puppies&#34;</span><span class="op" id="6512945">}</span><span class="op" id="6512946">,</span>&nbsp;<span class="string" id="6512948">&#34;oe&#34;</span><span class="op" id="6512952">:</span>&nbsp;<span class="op" id="6512954">{</span><span class="string" id="6512955">&#34;utf8&#34;</span><span class="op" id="6512961">}</span><span class="op" id="6512962">}</span><span class="op" id="6512963">,</span>&nbsp;<span class="string" id="6512965">&#34;oe=utf8&amp;q=puppies&#34;</span><span class="op" id="6512984">}</span><span class="op" id="6512985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6512988">{</span><span class="ident" id="6512989"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6512995">{</span><span class="string" id="6512996">&#34;q&#34;</span><span class="op" id="6512999">:</span>&nbsp;<span class="op" id="6513001">{</span><span class="string" id="6513002">&#34;dogs&#34;</span><span class="op" id="6513008">,</span>&nbsp;<span class="string" id="6513010">&#34;&amp;&#34;</span><span class="op" id="6513013">,</span>&nbsp;<span class="string" id="6513015">&#34;7&#34;</span><span class="op" id="6513018">}</span><span class="op" id="6513019">}</span><span class="op" id="6513020">,</span>&nbsp;<span class="string" id="6513022">&#34;q=dogs&amp;q=%26&amp;q=7&#34;</span><span class="op" id="6513040">}</span><span class="op" id="6513041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513044">{</span><span class="ident" id="6513045"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6513051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6513055">&#34;a&#34;</span><span class="op" id="6513058">:</span>&nbsp;<span class="op" id="6513060">{</span><span class="string" id="6513061">&#34;a1&#34;</span><span class="op" id="6513065">,</span>&nbsp;<span class="string" id="6513067">&#34;a2&#34;</span><span class="op" id="6513071">,</span>&nbsp;<span class="string" id="6513073">&#34;a3&#34;</span><span class="op" id="6513077">}</span><span class="op" id="6513078">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6513082">&#34;b&#34;</span><span class="op" id="6513085">:</span>&nbsp;<span class="op" id="6513087">{</span><span class="string" id="6513088">&#34;b1&#34;</span><span class="op" id="6513092">,</span>&nbsp;<span class="string" id="6513094">&#34;b2&#34;</span><span class="op" id="6513098">,</span>&nbsp;<span class="string" id="6513100">&#34;b3&#34;</span><span class="op" id="6513104">}</span><span class="op" id="6513105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6513109">&#34;c&#34;</span><span class="op" id="6513112">:</span>&nbsp;<span class="op" id="6513114">{</span><span class="string" id="6513115">&#34;c1&#34;</span><span class="op" id="6513119">,</span>&nbsp;<span class="string" id="6513121">&#34;c2&#34;</span><span class="op" id="6513125">,</span>&nbsp;<span class="string" id="6513127">&#34;c3&#34;</span><span class="op" id="6513131">}</span><span class="op" id="6513132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513135">}</span><span class="op" id="6513136">,</span>&nbsp;<span class="string" id="6513138">&#34;a=a1&amp;a=a2&amp;a=a3&amp;b=b1&amp;b=b2&amp;b=b3&amp;c=c1&amp;c=c2&amp;c=c3&#34;</span><span class="op" id="6513184">}</span><span class="op" id="6513185">,</span><br>
<span class="lineno"></span><span class="op" id="6513187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="keyword" id="6513190">func</span>&nbsp;<span class="ident" id="6513195">TestEncodeQuery</span><span class="op" id="6513210">(</span><span class="ident" id="6513211">t</span>&nbsp;<span class="op" id="6513213">*</span><span class="ident" id="6513214"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6513221">.</span><span class="ident" id="6513222"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6513223">)</span>&nbsp;<span class="op" id="6513225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6513228">for</span>&nbsp;<span class="ident" id="6513232">_</span><span class="op" id="6513233">,</span>&nbsp;<span class="ident" id="6513235">tt</span>&nbsp;<span class="op" id="6513238">:=</span>&nbsp;<span class="keyword" id="6513241">range</span>&nbsp;<span class="ident" id="6513247"><a href="/gostd/net/url/url_test.go.html#6512871">encodeQueryTests</a></span>&nbsp;<span class="op" id="6513264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6513268">if</span>&nbsp;<span class="ident" id="6513271">q</span>&nbsp;<span class="op" id="6513273">:=</span>&nbsp;<span class="ident" id="6513276"><a href="/gostd/net/url/url_test.go.html#6513235">tt</a></span><span class="op" id="6513278">.</span><span class="ident" id="6513279"><a href="/gostd/net/url/url_test.go.html#6512831">m</a></span><span class="op" id="6513280">.</span><span class="ident" id="6513281"><a href="/gostd/net/url/url.go.html#3760724">Encode</a></span><span class="op" id="6513287">(</span><span class="op" id="6513288">)</span><span class="op" id="6513289">;</span>&nbsp;<span class="ident" id="6513291"><a href="/gostd/net/url/url_test.go.html#6513271">q</a></span>&nbsp;<span class="op" id="6513293">!=</span>&nbsp;<span class="ident" id="6513296"><a href="/gostd/net/url/url_test.go.html#6513235">tt</a></span><span class="op" id="6513298">.</span><span class="ident" id="6513299"><a href="/gostd/net/url/url_test.go.html#6512848">expected</a></span>&nbsp;<span class="op" id="6513308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6513313"><a href="/gostd/net/url/url_test.go.html#6513211">t</a></span><span class="op" id="6513314">.</span><span class="ident" id="6513315"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6513321">(</span><span class="string" id="6513322">`EncodeQuery(%+v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="6513354">,</span>&nbsp;<span class="ident" id="6513356"><a href="/gostd/net/url/url_test.go.html#6513235">tt</a></span><span class="op" id="6513358">.</span><span class="ident" id="6513359"><a href="/gostd/net/url/url_test.go.html#6512831">m</a></span><span class="op" id="6513360">,</span>&nbsp;<span class="ident" id="6513362"><a href="/gostd/net/url/url_test.go.html#6513271">q</a></span><span class="op" id="6513363">,</span>&nbsp;<span class="ident" id="6513365"><a href="/gostd/net/url/url_test.go.html#6513235">tt</a></span><span class="op" id="6513367">.</span><span class="ident" id="6513368"><a href="/gostd/net/url/url_test.go.html#6512848">expected</a></span><span class="op" id="6513376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513380">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513383">}</span><br>
<span class="lineno"></span><span class="op" id="6513385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6513388">var</span>&nbsp;<span class="ident" id="6513392">resolvePathTests</span>&nbsp;<span class="op" id="6513409">=</span>&nbsp;<span class="op" id="6513411">[</span><span class="op" id="6513412">]</span><span class="keyword" id="6513413">struct</span>&nbsp;<span class="op" id="6513420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6513423">base</span><span class="op" id="6513427">,</span>&nbsp;<span class="ident" id="6513429">ref</span><span class="op" id="6513432">,</span>&nbsp;<span class="ident" id="6513434">expected</span>&nbsp;<span class="builtintype" id="6513443">string</span><br>
<span class="lineno">570</span><span class="op" id="6513450">}</span><span class="op" id="6513451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513454">{</span><span class="string" id="6513455">&#34;a/b&#34;</span><span class="op" id="6513460">,</span>&nbsp;<span class="string" id="6513462">&#34;.&#34;</span><span class="op" id="6513465">,</span>&nbsp;<span class="string" id="6513467">&#34;/a/&#34;</span><span class="op" id="6513472">}</span><span class="op" id="6513473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513476">{</span><span class="string" id="6513477">&#34;a/b&#34;</span><span class="op" id="6513482">,</span>&nbsp;<span class="string" id="6513484">&#34;c&#34;</span><span class="op" id="6513487">,</span>&nbsp;<span class="string" id="6513489">&#34;/a/c&#34;</span><span class="op" id="6513495">}</span><span class="op" id="6513496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513499">{</span><span class="string" id="6513500">&#34;a/b&#34;</span><span class="op" id="6513505">,</span>&nbsp;<span class="string" id="6513507">&#34;..&#34;</span><span class="op" id="6513511">,</span>&nbsp;<span class="string" id="6513513">&#34;/&#34;</span><span class="op" id="6513516">}</span><span class="op" id="6513517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513520">{</span><span class="string" id="6513521">&#34;a/&#34;</span><span class="op" id="6513525">,</span>&nbsp;<span class="string" id="6513527">&#34;..&#34;</span><span class="op" id="6513531">,</span>&nbsp;<span class="string" id="6513533">&#34;/&#34;</span><span class="op" id="6513536">}</span><span class="op" id="6513537">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513540">{</span><span class="string" id="6513541">&#34;a/&#34;</span><span class="op" id="6513545">,</span>&nbsp;<span class="string" id="6513547">&#34;../..&#34;</span><span class="op" id="6513554">,</span>&nbsp;<span class="string" id="6513556">&#34;/&#34;</span><span class="op" id="6513559">}</span><span class="op" id="6513560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513563">{</span><span class="string" id="6513564">&#34;a/b/c&#34;</span><span class="op" id="6513571">,</span>&nbsp;<span class="string" id="6513573">&#34;..&#34;</span><span class="op" id="6513577">,</span>&nbsp;<span class="string" id="6513579">&#34;/a/&#34;</span><span class="op" id="6513584">}</span><span class="op" id="6513585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513588">{</span><span class="string" id="6513589">&#34;a/b/c&#34;</span><span class="op" id="6513596">,</span>&nbsp;<span class="string" id="6513598">&#34;../d&#34;</span><span class="op" id="6513604">,</span>&nbsp;<span class="string" id="6513606">&#34;/a/d&#34;</span><span class="op" id="6513612">}</span><span class="op" id="6513613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513616">{</span><span class="string" id="6513617">&#34;a/b/c&#34;</span><span class="op" id="6513624">,</span>&nbsp;<span class="string" id="6513626">&#34;.././d&#34;</span><span class="op" id="6513634">,</span>&nbsp;<span class="string" id="6513636">&#34;/a/d&#34;</span><span class="op" id="6513642">}</span><span class="op" id="6513643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513646">{</span><span class="string" id="6513647">&#34;a/b&#34;</span><span class="op" id="6513652">,</span>&nbsp;<span class="string" id="6513654">&#34;./..&#34;</span><span class="op" id="6513660">,</span>&nbsp;<span class="string" id="6513662">&#34;/&#34;</span><span class="op" id="6513665">}</span><span class="op" id="6513666">,</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513669">{</span><span class="string" id="6513670">&#34;a/./b&#34;</span><span class="op" id="6513677">,</span>&nbsp;<span class="string" id="6513679">&#34;.&#34;</span><span class="op" id="6513682">,</span>&nbsp;<span class="string" id="6513684">&#34;/a/&#34;</span><span class="op" id="6513689">}</span><span class="op" id="6513690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513693">{</span><span class="string" id="6513694">&#34;a/../&#34;</span><span class="op" id="6513701">,</span>&nbsp;<span class="string" id="6513703">&#34;.&#34;</span><span class="op" id="6513706">,</span>&nbsp;<span class="string" id="6513708">&#34;/&#34;</span><span class="op" id="6513711">}</span><span class="op" id="6513712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513715">{</span><span class="string" id="6513716">&#34;a/.././b&#34;</span><span class="op" id="6513726">,</span>&nbsp;<span class="string" id="6513728">&#34;c&#34;</span><span class="op" id="6513731">,</span>&nbsp;<span class="string" id="6513733">&#34;/c&#34;</span><span class="op" id="6513737">}</span><span class="op" id="6513738">,</span><br>
<span class="lineno"></span><span class="op" id="6513740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6513743">func</span>&nbsp;<span class="ident" id="6513748">TestResolvePath</span><span class="op" id="6513763">(</span><span class="ident" id="6513764">t</span>&nbsp;<span class="op" id="6513766">*</span><span class="ident" id="6513767"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6513774">.</span><span class="ident" id="6513775"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6513776">)</span>&nbsp;<span class="op" id="6513778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6513781">for</span>&nbsp;<span class="ident" id="6513785">_</span><span class="op" id="6513786">,</span>&nbsp;<span class="ident" id="6513788">test</span>&nbsp;<span class="op" id="6513793">:=</span>&nbsp;<span class="keyword" id="6513796">range</span>&nbsp;<span class="ident" id="6513802"><a href="/gostd/net/url/url_test.go.html#6513392">resolvePathTests</a></span>&nbsp;<span class="op" id="6513819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6513823">got</span>&nbsp;<span class="op" id="6513827">:=</span>&nbsp;<span class="ident" id="6513830"><a href="/gostd/net/url/url.go.html#3761240">resolvePath</a></span><span class="op" id="6513841">(</span><span class="ident" id="6513842"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513846">.</span><span class="ident" id="6513847"><a href="/gostd/net/url/url_test.go.html#6513423">base</a></span><span class="op" id="6513851">,</span>&nbsp;<span class="ident" id="6513853"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513857">.</span><span class="ident" id="6513858"><a href="/gostd/net/url/url_test.go.html#6513429">ref</a></span><span class="op" id="6513861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6513865">if</span>&nbsp;<span class="ident" id="6513868"><a href="/gostd/net/url/url_test.go.html#6513823">got</a></span>&nbsp;<span class="op" id="6513872">!=</span>&nbsp;<span class="ident" id="6513875"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513879">.</span><span class="ident" id="6513880"><a href="/gostd/net/url/url_test.go.html#6513434">expected</a></span>&nbsp;<span class="op" id="6513889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6513894"><a href="/gostd/net/url/url_test.go.html#6513764">t</a></span><span class="op" id="6513895">.</span><span class="ident" id="6513896"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6513902">(</span><span class="string" id="6513903">&#34;For&nbsp;%q&nbsp;+&nbsp;%q&nbsp;got&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6513936">,</span>&nbsp;<span class="ident" id="6513938"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513942">.</span><span class="ident" id="6513943"><a href="/gostd/net/url/url_test.go.html#6513423">base</a></span><span class="op" id="6513947">,</span>&nbsp;<span class="ident" id="6513949"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513953">.</span><span class="ident" id="6513954"><a href="/gostd/net/url/url_test.go.html#6513429">ref</a></span><span class="op" id="6513957">,</span>&nbsp;<span class="ident" id="6513959"><a href="/gostd/net/url/url_test.go.html#6513823">got</a></span><span class="op" id="6513962">,</span>&nbsp;<span class="ident" id="6513964"><a href="/gostd/net/url/url_test.go.html#6513788">test</a></span><span class="op" id="6513968">.</span><span class="ident" id="6513969"><a href="/gostd/net/url/url_test.go.html#6513434">expected</a></span><span class="op" id="6513977">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6513984">}</span><br>
<span class="lineno"></span><span class="op" id="6513986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6513989">var</span>&nbsp;<span class="ident" id="6513993">resolveReferenceTests</span>&nbsp;<span class="op" id="6514015">=</span>&nbsp;<span class="op" id="6514017">[</span><span class="op" id="6514018">]</span><span class="keyword" id="6514019">struct</span>&nbsp;<span class="op" id="6514026">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6514029">base</span><span class="op" id="6514033">,</span>&nbsp;<span class="ident" id="6514035">rel</span><span class="op" id="6514038">,</span>&nbsp;<span class="ident" id="6514040">expected</span>&nbsp;<span class="builtintype" id="6514049">string</span><br>
<span class="lineno"></span><span class="op" id="6514056">}</span><span class="op" id="6514057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514060">//&nbsp;Absolute&nbsp;URL&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514088">{</span><span class="string" id="6514089">&#34;http://foo.com?a=b&#34;</span><span class="op" id="6514109">,</span>&nbsp;<span class="string" id="6514111">&#34;https://bar.com/&#34;</span><span class="op" id="6514129">,</span>&nbsp;<span class="string" id="6514131">&#34;https://bar.com/&#34;</span><span class="op" id="6514149">}</span><span class="op" id="6514150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514153">{</span><span class="string" id="6514154">&#34;http://foo.com/&#34;</span><span class="op" id="6514171">,</span>&nbsp;<span class="string" id="6514173">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="6514195">,</span>&nbsp;<span class="string" id="6514197">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="6514219">}</span><span class="op" id="6514220">,</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514223">{</span><span class="string" id="6514224">&#34;http://foo.com/bar&#34;</span><span class="op" id="6514244">,</span>&nbsp;<span class="string" id="6514246">&#34;mailto:foo@example.com&#34;</span><span class="op" id="6514270">,</span>&nbsp;<span class="string" id="6514272">&#34;mailto:foo@example.com&#34;</span><span class="op" id="6514296">}</span><span class="op" id="6514297">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514301">//&nbsp;Path-absolute&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514330">{</span><span class="string" id="6514331">&#34;http://foo.com/bar&#34;</span><span class="op" id="6514351">,</span>&nbsp;<span class="string" id="6514353">&#34;/baz&#34;</span><span class="op" id="6514359">,</span>&nbsp;<span class="string" id="6514361">&#34;http://foo.com/baz&#34;</span><span class="op" id="6514381">}</span><span class="op" id="6514382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514385">{</span><span class="string" id="6514386">&#34;http://foo.com/bar?a=b#f&#34;</span><span class="op" id="6514412">,</span>&nbsp;<span class="string" id="6514414">&#34;/baz&#34;</span><span class="op" id="6514420">,</span>&nbsp;<span class="string" id="6514422">&#34;http://foo.com/baz&#34;</span><span class="op" id="6514442">}</span><span class="op" id="6514443">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514446">{</span><span class="string" id="6514447">&#34;http://foo.com/bar?a=b&#34;</span><span class="op" id="6514471">,</span>&nbsp;<span class="string" id="6514473">&#34;/baz?c=d&#34;</span><span class="op" id="6514483">,</span>&nbsp;<span class="string" id="6514485">&#34;http://foo.com/baz?c=d&#34;</span><span class="op" id="6514509">}</span><span class="op" id="6514510">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514514">//&nbsp;Scheme-relative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514534">{</span><span class="string" id="6514535">&#34;https://foo.com/bar?a=b&#34;</span><span class="op" id="6514560">,</span>&nbsp;<span class="string" id="6514562">&#34;//bar.com/quux&#34;</span><span class="op" id="6514578">,</span>&nbsp;<span class="string" id="6514580">&#34;https://bar.com/quux&#34;</span><span class="op" id="6514602">}</span><span class="op" id="6514603">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514607">//&nbsp;Path-relative&nbsp;references:</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514638">//&nbsp;...&nbsp;current&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514664">{</span><span class="string" id="6514665">&#34;http://foo.com&#34;</span><span class="op" id="6514681">,</span>&nbsp;<span class="string" id="6514683">&#34;.&#34;</span><span class="op" id="6514686">,</span>&nbsp;<span class="string" id="6514688">&#34;http://foo.com/&#34;</span><span class="op" id="6514705">}</span><span class="op" id="6514706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514709">{</span><span class="string" id="6514710">&#34;http://foo.com/bar&#34;</span><span class="op" id="6514730">,</span>&nbsp;<span class="string" id="6514732">&#34;.&#34;</span><span class="op" id="6514735">,</span>&nbsp;<span class="string" id="6514737">&#34;http://foo.com/&#34;</span><span class="op" id="6514754">}</span><span class="op" id="6514755">,</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514758">{</span><span class="string" id="6514759">&#34;http://foo.com/bar/&#34;</span><span class="op" id="6514780">,</span>&nbsp;<span class="string" id="6514782">&#34;.&#34;</span><span class="op" id="6514785">,</span>&nbsp;<span class="string" id="6514787">&#34;http://foo.com/bar/&#34;</span><span class="op" id="6514808">}</span><span class="op" id="6514809">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514813">//&nbsp;...&nbsp;going&nbsp;down</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514832">{</span><span class="string" id="6514833">&#34;http://foo.com&#34;</span><span class="op" id="6514849">,</span>&nbsp;<span class="string" id="6514851">&#34;bar&#34;</span><span class="op" id="6514856">,</span>&nbsp;<span class="string" id="6514858">&#34;http://foo.com/bar&#34;</span><span class="op" id="6514878">}</span><span class="op" id="6514879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514882">{</span><span class="string" id="6514883">&#34;http://foo.com/&#34;</span><span class="op" id="6514900">,</span>&nbsp;<span class="string" id="6514902">&#34;bar&#34;</span><span class="op" id="6514907">,</span>&nbsp;<span class="string" id="6514909">&#34;http://foo.com/bar&#34;</span><span class="op" id="6514929">}</span><span class="op" id="6514930">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514933">{</span><span class="string" id="6514934">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6514958">,</span>&nbsp;<span class="string" id="6514960">&#34;quux&#34;</span><span class="op" id="6514966">,</span>&nbsp;<span class="string" id="6514968">&#34;http://foo.com/bar/quux&#34;</span><span class="op" id="6514993">}</span><span class="op" id="6514994">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6514998">//&nbsp;...&nbsp;going&nbsp;up</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515015">{</span><span class="string" id="6515016">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515040">,</span>&nbsp;<span class="string" id="6515042">&#34;../quux&#34;</span><span class="op" id="6515051">,</span>&nbsp;<span class="string" id="6515053">&#34;http://foo.com/quux&#34;</span><span class="op" id="6515074">}</span><span class="op" id="6515075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515078">{</span><span class="string" id="6515079">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515103">,</span>&nbsp;<span class="string" id="6515105">&#34;../../../../../quux&#34;</span><span class="op" id="6515126">,</span>&nbsp;<span class="string" id="6515128">&#34;http://foo.com/quux&#34;</span><span class="op" id="6515149">}</span><span class="op" id="6515150">,</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515153">{</span><span class="string" id="6515154">&#34;http://foo.com/bar&#34;</span><span class="op" id="6515174">,</span>&nbsp;<span class="string" id="6515176">&#34;..&#34;</span><span class="op" id="6515180">,</span>&nbsp;<span class="string" id="6515182">&#34;http://foo.com/&#34;</span><span class="op" id="6515199">}</span><span class="op" id="6515200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515203">{</span><span class="string" id="6515204">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515228">,</span>&nbsp;<span class="string" id="6515230">&#34;./..&#34;</span><span class="op" id="6515236">,</span>&nbsp;<span class="string" id="6515238">&#34;http://foo.com/&#34;</span><span class="op" id="6515255">}</span><span class="op" id="6515256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6515259">//&nbsp;&#34;..&#34;&nbsp;in&nbsp;the&nbsp;middle&nbsp;(issue&nbsp;3560)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515295">{</span><span class="string" id="6515296">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515320">,</span>&nbsp;<span class="string" id="6515322">&#34;quux/dotdot/../tail&#34;</span><span class="op" id="6515343">,</span>&nbsp;<span class="string" id="6515345">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515375">}</span><span class="op" id="6515376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515379">{</span><span class="string" id="6515380">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515404">,</span>&nbsp;<span class="string" id="6515406">&#34;quux/./dotdot/../tail&#34;</span><span class="op" id="6515429">,</span>&nbsp;<span class="string" id="6515431">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515461">}</span><span class="op" id="6515462">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515465">{</span><span class="string" id="6515466">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515490">,</span>&nbsp;<span class="string" id="6515492">&#34;quux/./dotdot/.././tail&#34;</span><span class="op" id="6515517">,</span>&nbsp;<span class="string" id="6515519">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515549">}</span><span class="op" id="6515550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515553">{</span><span class="string" id="6515554">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515578">,</span>&nbsp;<span class="string" id="6515580">&#34;quux/./dotdot/./../tail&#34;</span><span class="op" id="6515605">,</span>&nbsp;<span class="string" id="6515607">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515637">}</span><span class="op" id="6515638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515641">{</span><span class="string" id="6515642">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515666">,</span>&nbsp;<span class="string" id="6515668">&#34;quux/./dotdot/dotdot/././../../tail&#34;</span><span class="op" id="6515705">,</span>&nbsp;<span class="string" id="6515707">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515737">}</span><span class="op" id="6515738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515741">{</span><span class="string" id="6515742">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515766">,</span>&nbsp;<span class="string" id="6515768">&#34;quux/./dotdot/dotdot/./.././../tail&#34;</span><span class="op" id="6515805">,</span>&nbsp;<span class="string" id="6515807">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515837">}</span><span class="op" id="6515838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515841">{</span><span class="string" id="6515842">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515866">,</span>&nbsp;<span class="string" id="6515868">&#34;quux/./dotdot/dotdot/dotdot/./../../.././././tail&#34;</span><span class="op" id="6515919">,</span>&nbsp;<span class="string" id="6515921">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="6515951">}</span><span class="op" id="6515952">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6515955">{</span><span class="string" id="6515956">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="6515980">,</span>&nbsp;<span class="string" id="6515982">&#34;quux/./dotdot/../dotdot/../dot/./tail/..&#34;</span><span class="op" id="6516024">,</span>&nbsp;<span class="string" id="6516026">&#34;http://foo.com/bar/quux/dot/&#34;</span><span class="op" id="6516056">}</span><span class="op" id="6516057">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516061">//&nbsp;Remove&nbsp;any&nbsp;dot-segments&nbsp;prior&nbsp;to&nbsp;forming&nbsp;the&nbsp;target&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516122">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.2.4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516175">{</span><span class="string" id="6516176">&#34;http://foo.com/dot/./dotdot/../foo/bar&#34;</span><span class="op" id="6516216">,</span>&nbsp;<span class="string" id="6516218">&#34;../baz&#34;</span><span class="op" id="6516226">,</span>&nbsp;<span class="string" id="6516228">&#34;http://foo.com/dot/baz&#34;</span><span class="op" id="6516252">}</span><span class="op" id="6516253">,</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516257">//&nbsp;Triple&nbsp;dot&nbsp;isn&#39;t&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516286">{</span><span class="string" id="6516287">&#34;http://foo.com/bar&#34;</span><span class="op" id="6516307">,</span>&nbsp;<span class="string" id="6516309">&#34;...&#34;</span><span class="op" id="6516314">,</span>&nbsp;<span class="string" id="6516316">&#34;http://foo.com/...&#34;</span><span class="op" id="6516336">}</span><span class="op" id="6516337">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516341">//&nbsp;Fragment</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516354">{</span><span class="string" id="6516355">&#34;http://foo.com/bar&#34;</span><span class="op" id="6516375">,</span>&nbsp;<span class="string" id="6516377">&#34;.#frag&#34;</span><span class="op" id="6516385">,</span>&nbsp;<span class="string" id="6516387">&#34;http://foo.com/#frag&#34;</span><span class="op" id="6516409">}</span><span class="op" id="6516410">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516414">//&nbsp;RFC&nbsp;3986:&nbsp;Normal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6516444">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516497">{</span><span class="string" id="6516498">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516518">,</span>&nbsp;<span class="string" id="6516520">&#34;g:h&#34;</span><span class="op" id="6516525">,</span>&nbsp;<span class="string" id="6516527">&#34;g:h&#34;</span><span class="op" id="6516532">}</span><span class="op" id="6516533">,</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516536">{</span><span class="string" id="6516537">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516557">,</span>&nbsp;<span class="string" id="6516559">&#34;g&#34;</span><span class="op" id="6516562">,</span>&nbsp;<span class="string" id="6516564">&#34;http://a/b/c/g&#34;</span><span class="op" id="6516580">}</span><span class="op" id="6516581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516584">{</span><span class="string" id="6516585">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516605">,</span>&nbsp;<span class="string" id="6516607">&#34;./g&#34;</span><span class="op" id="6516612">,</span>&nbsp;<span class="string" id="6516614">&#34;http://a/b/c/g&#34;</span><span class="op" id="6516630">}</span><span class="op" id="6516631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516634">{</span><span class="string" id="6516635">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516655">,</span>&nbsp;<span class="string" id="6516657">&#34;g/&#34;</span><span class="op" id="6516661">,</span>&nbsp;<span class="string" id="6516663">&#34;http://a/b/c/g/&#34;</span><span class="op" id="6516680">}</span><span class="op" id="6516681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516684">{</span><span class="string" id="6516685">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516705">,</span>&nbsp;<span class="string" id="6516707">&#34;/g&#34;</span><span class="op" id="6516711">,</span>&nbsp;<span class="string" id="6516713">&#34;http://a/g&#34;</span><span class="op" id="6516725">}</span><span class="op" id="6516726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516729">{</span><span class="string" id="6516730">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516750">,</span>&nbsp;<span class="string" id="6516752">&#34;//g&#34;</span><span class="op" id="6516757">,</span>&nbsp;<span class="string" id="6516759">&#34;http://g&#34;</span><span class="op" id="6516769">}</span><span class="op" id="6516770">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516773">{</span><span class="string" id="6516774">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516794">,</span>&nbsp;<span class="string" id="6516796">&#34;?y&#34;</span><span class="op" id="6516800">,</span>&nbsp;<span class="string" id="6516802">&#34;http://a/b/c/d;p?y&#34;</span><span class="op" id="6516822">}</span><span class="op" id="6516823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516826">{</span><span class="string" id="6516827">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516847">,</span>&nbsp;<span class="string" id="6516849">&#34;g?y&#34;</span><span class="op" id="6516854">,</span>&nbsp;<span class="string" id="6516856">&#34;http://a/b/c/g?y&#34;</span><span class="op" id="6516874">}</span><span class="op" id="6516875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516878">{</span><span class="string" id="6516879">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516899">,</span>&nbsp;<span class="string" id="6516901">&#34;#s&#34;</span><span class="op" id="6516905">,</span>&nbsp;<span class="string" id="6516907">&#34;http://a/b/c/d;p?q#s&#34;</span><span class="op" id="6516929">}</span><span class="op" id="6516930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516933">{</span><span class="string" id="6516934">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6516954">,</span>&nbsp;<span class="string" id="6516956">&#34;g#s&#34;</span><span class="op" id="6516961">,</span>&nbsp;<span class="string" id="6516963">&#34;http://a/b/c/g#s&#34;</span><span class="op" id="6516981">}</span><span class="op" id="6516982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6516985">{</span><span class="string" id="6516986">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517006">,</span>&nbsp;<span class="string" id="6517008">&#34;g?y#s&#34;</span><span class="op" id="6517015">,</span>&nbsp;<span class="string" id="6517017">&#34;http://a/b/c/g?y#s&#34;</span><span class="op" id="6517037">}</span><span class="op" id="6517038">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517041">{</span><span class="string" id="6517042">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517062">,</span>&nbsp;<span class="string" id="6517064">&#34;;x&#34;</span><span class="op" id="6517068">,</span>&nbsp;<span class="string" id="6517070">&#34;http://a/b/c/;x&#34;</span><span class="op" id="6517087">}</span><span class="op" id="6517088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517091">{</span><span class="string" id="6517092">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517112">,</span>&nbsp;<span class="string" id="6517114">&#34;g;x&#34;</span><span class="op" id="6517119">,</span>&nbsp;<span class="string" id="6517121">&#34;http://a/b/c/g;x&#34;</span><span class="op" id="6517139">}</span><span class="op" id="6517140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517143">{</span><span class="string" id="6517144">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517164">,</span>&nbsp;<span class="string" id="6517166">&#34;g;x?y#s&#34;</span><span class="op" id="6517175">,</span>&nbsp;<span class="string" id="6517177">&#34;http://a/b/c/g;x?y#s&#34;</span><span class="op" id="6517199">}</span><span class="op" id="6517200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517203">{</span><span class="string" id="6517204">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517224">,</span>&nbsp;<span class="string" id="6517226">&#34;&#34;</span><span class="op" id="6517228">,</span>&nbsp;<span class="string" id="6517230">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517250">}</span><span class="op" id="6517251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517254">{</span><span class="string" id="6517255">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517275">,</span>&nbsp;<span class="string" id="6517277">&#34;.&#34;</span><span class="op" id="6517280">,</span>&nbsp;<span class="string" id="6517282">&#34;http://a/b/c/&#34;</span><span class="op" id="6517297">}</span><span class="op" id="6517298">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517301">{</span><span class="string" id="6517302">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517322">,</span>&nbsp;<span class="string" id="6517324">&#34;./&#34;</span><span class="op" id="6517328">,</span>&nbsp;<span class="string" id="6517330">&#34;http://a/b/c/&#34;</span><span class="op" id="6517345">}</span><span class="op" id="6517346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517349">{</span><span class="string" id="6517350">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517370">,</span>&nbsp;<span class="string" id="6517372">&#34;..&#34;</span><span class="op" id="6517376">,</span>&nbsp;<span class="string" id="6517378">&#34;http://a/b/&#34;</span><span class="op" id="6517391">}</span><span class="op" id="6517392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517395">{</span><span class="string" id="6517396">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517416">,</span>&nbsp;<span class="string" id="6517418">&#34;../&#34;</span><span class="op" id="6517423">,</span>&nbsp;<span class="string" id="6517425">&#34;http://a/b/&#34;</span><span class="op" id="6517438">}</span><span class="op" id="6517439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517442">{</span><span class="string" id="6517443">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517463">,</span>&nbsp;<span class="string" id="6517465">&#34;../g&#34;</span><span class="op" id="6517471">,</span>&nbsp;<span class="string" id="6517473">&#34;http://a/b/g&#34;</span><span class="op" id="6517487">}</span><span class="op" id="6517488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517491">{</span><span class="string" id="6517492">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517512">,</span>&nbsp;<span class="string" id="6517514">&#34;../..&#34;</span><span class="op" id="6517521">,</span>&nbsp;<span class="string" id="6517523">&#34;http://a/&#34;</span><span class="op" id="6517534">}</span><span class="op" id="6517535">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517538">{</span><span class="string" id="6517539">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517559">,</span>&nbsp;<span class="string" id="6517561">&#34;../../&#34;</span><span class="op" id="6517569">,</span>&nbsp;<span class="string" id="6517571">&#34;http://a/&#34;</span><span class="op" id="6517582">}</span><span class="op" id="6517583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517586">{</span><span class="string" id="6517587">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517607">,</span>&nbsp;<span class="string" id="6517609">&#34;../../g&#34;</span><span class="op" id="6517618">,</span>&nbsp;<span class="string" id="6517620">&#34;http://a/g&#34;</span><span class="op" id="6517632">}</span><span class="op" id="6517633">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6517637">//&nbsp;RFC&nbsp;3986:&nbsp;Abnormal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6517669">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.2</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517722">{</span><span class="string" id="6517723">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517743">,</span>&nbsp;<span class="string" id="6517745">&#34;../../../g&#34;</span><span class="op" id="6517757">,</span>&nbsp;<span class="string" id="6517759">&#34;http://a/g&#34;</span><span class="op" id="6517771">}</span><span class="op" id="6517772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517775">{</span><span class="string" id="6517776">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517796">,</span>&nbsp;<span class="string" id="6517798">&#34;../../../../g&#34;</span><span class="op" id="6517813">,</span>&nbsp;<span class="string" id="6517815">&#34;http://a/g&#34;</span><span class="op" id="6517827">}</span><span class="op" id="6517828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517831">{</span><span class="string" id="6517832">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517852">,</span>&nbsp;<span class="string" id="6517854">&#34;/./g&#34;</span><span class="op" id="6517860">,</span>&nbsp;<span class="string" id="6517862">&#34;http://a/g&#34;</span><span class="op" id="6517874">}</span><span class="op" id="6517875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517878">{</span><span class="string" id="6517879">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517899">,</span>&nbsp;<span class="string" id="6517901">&#34;/../g&#34;</span><span class="op" id="6517908">,</span>&nbsp;<span class="string" id="6517910">&#34;http://a/g&#34;</span><span class="op" id="6517922">}</span><span class="op" id="6517923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517926">{</span><span class="string" id="6517927">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517947">,</span>&nbsp;<span class="string" id="6517949">&#34;g.&#34;</span><span class="op" id="6517953">,</span>&nbsp;<span class="string" id="6517955">&#34;http://a/b/c/g.&#34;</span><span class="op" id="6517972">}</span><span class="op" id="6517973">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6517976">{</span><span class="string" id="6517977">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6517997">,</span>&nbsp;<span class="string" id="6517999">&#34;.g&#34;</span><span class="op" id="6518003">,</span>&nbsp;<span class="string" id="6518005">&#34;http://a/b/c/.g&#34;</span><span class="op" id="6518022">}</span><span class="op" id="6518023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518026">{</span><span class="string" id="6518027">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518047">,</span>&nbsp;<span class="string" id="6518049">&#34;g..&#34;</span><span class="op" id="6518054">,</span>&nbsp;<span class="string" id="6518056">&#34;http://a/b/c/g..&#34;</span><span class="op" id="6518074">}</span><span class="op" id="6518075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518078">{</span><span class="string" id="6518079">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518099">,</span>&nbsp;<span class="string" id="6518101">&#34;..g&#34;</span><span class="op" id="6518106">,</span>&nbsp;<span class="string" id="6518108">&#34;http://a/b/c/..g&#34;</span><span class="op" id="6518126">}</span><span class="op" id="6518127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518130">{</span><span class="string" id="6518131">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518151">,</span>&nbsp;<span class="string" id="6518153">&#34;./../g&#34;</span><span class="op" id="6518161">,</span>&nbsp;<span class="string" id="6518163">&#34;http://a/b/g&#34;</span><span class="op" id="6518177">}</span><span class="op" id="6518178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518181">{</span><span class="string" id="6518182">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518202">,</span>&nbsp;<span class="string" id="6518204">&#34;./g/.&#34;</span><span class="op" id="6518211">,</span>&nbsp;<span class="string" id="6518213">&#34;http://a/b/c/g/&#34;</span><span class="op" id="6518230">}</span><span class="op" id="6518231">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518234">{</span><span class="string" id="6518235">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518255">,</span>&nbsp;<span class="string" id="6518257">&#34;g/./h&#34;</span><span class="op" id="6518264">,</span>&nbsp;<span class="string" id="6518266">&#34;http://a/b/c/g/h&#34;</span><span class="op" id="6518284">}</span><span class="op" id="6518285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518288">{</span><span class="string" id="6518289">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518309">,</span>&nbsp;<span class="string" id="6518311">&#34;g/../h&#34;</span><span class="op" id="6518319">,</span>&nbsp;<span class="string" id="6518321">&#34;http://a/b/c/h&#34;</span><span class="op" id="6518337">}</span><span class="op" id="6518338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518341">{</span><span class="string" id="6518342">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518362">,</span>&nbsp;<span class="string" id="6518364">&#34;g;x=1/./y&#34;</span><span class="op" id="6518375">,</span>&nbsp;<span class="string" id="6518377">&#34;http://a/b/c/g;x=1/y&#34;</span><span class="op" id="6518399">}</span><span class="op" id="6518400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518403">{</span><span class="string" id="6518404">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518424">,</span>&nbsp;<span class="string" id="6518426">&#34;g;x=1/../y&#34;</span><span class="op" id="6518438">,</span>&nbsp;<span class="string" id="6518440">&#34;http://a/b/c/y&#34;</span><span class="op" id="6518456">}</span><span class="op" id="6518457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518460">{</span><span class="string" id="6518461">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518481">,</span>&nbsp;<span class="string" id="6518483">&#34;g?y/./x&#34;</span><span class="op" id="6518492">,</span>&nbsp;<span class="string" id="6518494">&#34;http://a/b/c/g?y/./x&#34;</span><span class="op" id="6518516">}</span><span class="op" id="6518517">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518520">{</span><span class="string" id="6518521">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518541">,</span>&nbsp;<span class="string" id="6518543">&#34;g?y/../x&#34;</span><span class="op" id="6518553">,</span>&nbsp;<span class="string" id="6518555">&#34;http://a/b/c/g?y/../x&#34;</span><span class="op" id="6518578">}</span><span class="op" id="6518579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518582">{</span><span class="string" id="6518583">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518603">,</span>&nbsp;<span class="string" id="6518605">&#34;g#s/./x&#34;</span><span class="op" id="6518614">,</span>&nbsp;<span class="string" id="6518616">&#34;http://a/b/c/g#s/./x&#34;</span><span class="op" id="6518638">}</span><span class="op" id="6518639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518642">{</span><span class="string" id="6518643">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="6518663">,</span>&nbsp;<span class="string" id="6518665">&#34;g#s/../x&#34;</span><span class="op" id="6518675">,</span>&nbsp;<span class="string" id="6518677">&#34;http://a/b/c/g#s/../x&#34;</span><span class="op" id="6518700">}</span><span class="op" id="6518701">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6518705">//&nbsp;Extras.</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518717">{</span><span class="string" id="6518718">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="6518739">,</span>&nbsp;<span class="string" id="6518741">&#34;//g?q&#34;</span><span class="op" id="6518748">,</span>&nbsp;<span class="string" id="6518750">&#34;https://g?q&#34;</span><span class="op" id="6518763">}</span><span class="op" id="6518764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518767">{</span><span class="string" id="6518768">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="6518789">,</span>&nbsp;<span class="string" id="6518791">&#34;//g#s&#34;</span><span class="op" id="6518798">,</span>&nbsp;<span class="string" id="6518800">&#34;https://g#s&#34;</span><span class="op" id="6518813">}</span><span class="op" id="6518814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518817">{</span><span class="string" id="6518818">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="6518839">,</span>&nbsp;<span class="string" id="6518841">&#34;//g/d/e/f?y#s&#34;</span><span class="op" id="6518856">,</span>&nbsp;<span class="string" id="6518858">&#34;https://g/d/e/f?y#s&#34;</span><span class="op" id="6518879">}</span><span class="op" id="6518880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518883">{</span><span class="string" id="6518884">&#34;https://a/b/c/d;p#s&#34;</span><span class="op" id="6518905">,</span>&nbsp;<span class="string" id="6518907">&#34;?y&#34;</span><span class="op" id="6518911">,</span>&nbsp;<span class="string" id="6518913">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="6518934">}</span><span class="op" id="6518935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6518938">{</span><span class="string" id="6518939">&#34;https://a/b/c/d;p?q#s&#34;</span><span class="op" id="6518962">,</span>&nbsp;<span class="string" id="6518964">&#34;?y&#34;</span><span class="op" id="6518968">,</span>&nbsp;<span class="string" id="6518970">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="6518991">}</span><span class="op" id="6518992">,</span><br>
<span class="lineno">700</span><span class="op" id="6518994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6518997">func</span>&nbsp;<span class="ident" id="6519002">TestResolveReference</span><span class="op" id="6519022">(</span><span class="ident" id="6519023">t</span>&nbsp;<span class="op" id="6519025">*</span><span class="ident" id="6519026"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6519033">.</span><span class="ident" id="6519034"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6519035">)</span>&nbsp;<span class="op" id="6519037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519040">mustParse</span>&nbsp;<span class="op" id="6519050">:=</span>&nbsp;<span class="keyword" id="6519053">func</span><span class="op" id="6519057">(</span><span class="ident" id="6519058">url</span>&nbsp;<span class="builtintype" id="6519062">string</span><span class="op" id="6519068">)</span>&nbsp;<span class="op" id="6519070">*</span><span class="ident" id="6519071"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span>&nbsp;<span class="op" id="6519075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519079">u</span><span class="op" id="6519080">,</span>&nbsp;<span class="ident" id="6519082">err</span>&nbsp;<span class="op" id="6519086">:=</span>&nbsp;<span class="ident" id="6519089"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="6519094">(</span><span class="ident" id="6519095"><a href="/gostd/net/url/url_test.go.html#6519058">url</a></span><span class="op" id="6519098">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519102">if</span>&nbsp;<span class="ident" id="6519105"><a href="/gostd/net/url/url_test.go.html#6519082">err</a></span>&nbsp;<span class="op" id="6519109">!=</span>&nbsp;<span class="builtintype" id="6519112">nil</span>&nbsp;<span class="op" id="6519116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519121"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6519122">.</span><span class="ident" id="6519123"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6519129">(</span><span class="string" id="6519130">&#34;Expected&nbsp;URL&nbsp;to&nbsp;parse:&nbsp;%q,&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6519172">,</span>&nbsp;<span class="ident" id="6519174"><a href="/gostd/net/url/url_test.go.html#6519058">url</a></span><span class="op" id="6519177">,</span>&nbsp;<span class="ident" id="6519179"><a href="/gostd/net/url/url_test.go.html#6519082">err</a></span><span class="op" id="6519182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519190">return</span>&nbsp;<span class="ident" id="6519197"><a href="/gostd/net/url/url_test.go.html#6519079">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519200">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519203">opaque</span>&nbsp;<span class="op" id="6519210">:=</span>&nbsp;<span class="op" id="6519213">&amp;</span><span class="ident" id="6519214"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6519217">{</span><span class="ident" id="6519218"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6519224">:</span>&nbsp;<span class="string" id="6519226">&#34;scheme&#34;</span><span class="op" id="6519234">,</span>&nbsp;<span class="ident" id="6519236"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6519242">:</span>&nbsp;<span class="string" id="6519244">&#34;opaque&#34;</span><span class="op" id="6519252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519255">for</span>&nbsp;<span class="ident" id="6519259">_</span><span class="op" id="6519260">,</span>&nbsp;<span class="ident" id="6519262">test</span>&nbsp;<span class="op" id="6519267">:=</span>&nbsp;<span class="keyword" id="6519270">range</span>&nbsp;<span class="ident" id="6519276"><a href="/gostd/net/url/url_test.go.html#6513993">resolveReferenceTests</a></span>&nbsp;<span class="op" id="6519298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519302">base</span>&nbsp;<span class="op" id="6519307">:=</span>&nbsp;<span class="ident" id="6519310"><a href="/gostd/net/url/url_test.go.html#6519040">mustParse</a></span><span class="op" id="6519319">(</span><span class="ident" id="6519320"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519324">.</span><span class="ident" id="6519325"><a href="/gostd/net/url/url_test.go.html#6514029">base</a></span><span class="op" id="6519329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519333">rel</span>&nbsp;<span class="op" id="6519337">:=</span>&nbsp;<span class="ident" id="6519340"><a href="/gostd/net/url/url_test.go.html#6519040">mustParse</a></span><span class="op" id="6519349">(</span><span class="ident" id="6519350"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519354">.</span><span class="ident" id="6519355"><a href="/gostd/net/url/url_test.go.html#6514035">rel</a></span><span class="op" id="6519358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519362">url</span>&nbsp;<span class="op" id="6519366">:=</span>&nbsp;<span class="ident" id="6519369"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span><span class="op" id="6519373">.</span><span class="ident" id="6519374"><a href="/gostd/net/url/url.go.html#3762765">ResolveReference</a></span><span class="op" id="6519390">(</span><span class="ident" id="6519391"><a href="/gostd/net/url/url_test.go.html#6519333">rel</a></span><span class="op" id="6519394">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519398">if</span>&nbsp;<span class="ident" id="6519401"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6519404">.</span><span class="ident" id="6519405"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6519411">(</span><span class="op" id="6519412">)</span>&nbsp;<span class="op" id="6519414">!=</span>&nbsp;<span class="ident" id="6519417"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519421">.</span><span class="ident" id="6519422"><a href="/gostd/net/url/url_test.go.html#6514040">expected</a></span>&nbsp;<span class="op" id="6519431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519436"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6519437">.</span><span class="ident" id="6519438"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6519444">(</span><span class="string" id="6519445">&#34;URL(%q).ResolveReference(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6519489">,</span>&nbsp;<span class="ident" id="6519491"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519495">.</span><span class="ident" id="6519496"><a href="/gostd/net/url/url_test.go.html#6514029">base</a></span><span class="op" id="6519500">,</span>&nbsp;<span class="ident" id="6519502"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519506">.</span><span class="ident" id="6519507"><a href="/gostd/net/url/url_test.go.html#6514035">rel</a></span><span class="op" id="6519510">,</span>&nbsp;<span class="ident" id="6519512"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519516">.</span><span class="ident" id="6519517"><a href="/gostd/net/url/url_test.go.html#6514040">expected</a></span><span class="op" id="6519525">,</span>&nbsp;<span class="ident" id="6519527"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6519530">.</span><span class="ident" id="6519531"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6519537">(</span><span class="op" id="6519538">)</span><span class="op" id="6519539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6519547">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519592">if</span>&nbsp;<span class="ident" id="6519595"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span>&nbsp;<span class="op" id="6519600">==</span>&nbsp;<span class="ident" id="6519603"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6519607">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519612"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6519613">.</span><span class="ident" id="6519614"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6519620">(</span><span class="string" id="6519621">&#34;Expected&nbsp;URL.ResolveReference&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="6519680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6519688">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519727"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6519730">,</span>&nbsp;<span class="ident" id="6519732">err</span>&nbsp;<span class="op" id="6519736">:=</span>&nbsp;<span class="ident" id="6519739"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span><span class="op" id="6519743">.</span><span class="ident" id="6519744"><a href="/gostd/net/url/url.go.html#3762216">Parse</a></span><span class="op" id="6519749">(</span><span class="ident" id="6519750"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519754">.</span><span class="ident" id="6519755"><a href="/gostd/net/url/url_test.go.html#6514035">rel</a></span><span class="op" id="6519758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6519762">if</span>&nbsp;<span class="ident" id="6519765"><a href="/gostd/net/url/url_test.go.html#6519732">err</a></span>&nbsp;<span class="op" id="6519769">!=</span>&nbsp;<span class="builtintype" id="6519772">nil</span>&nbsp;<span class="op" id="6519776">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519781"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6519782">.</span><span class="ident" id="6519783"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6519789">(</span><span class="string" id="6519790">&#34;URL(%q).Parse(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6519820">,</span>&nbsp;<span class="ident" id="6519822"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519826">.</span><span class="ident" id="6519827"><a href="/gostd/net/url/url_test.go.html#6514029">base</a></span><span class="op" id="6519831">,</span>&nbsp;<span class="ident" id="6519833"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519837">.</span><span class="ident" id="6519838"><a href="/gostd/net/url/url_test.go.html#6514035">rel</a></span><span class="op" id="6519841">,</span>&nbsp;<span class="ident" id="6519843"><a href="/gostd/net/url/url_test.go.html#6519732">err</a></span><span class="op" id="6519846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519850">}</span>&nbsp;<span class="keyword" id="6519852">else</span>&nbsp;<span class="keyword" id="6519857">if</span>&nbsp;<span class="ident" id="6519860"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6519863">.</span><span class="ident" id="6519864"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6519870">(</span><span class="op" id="6519871">)</span>&nbsp;<span class="op" id="6519873">!=</span>&nbsp;<span class="ident" id="6519876"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519880">.</span><span class="ident" id="6519881"><a href="/gostd/net/url/url_test.go.html#6514040">expected</a></span>&nbsp;<span class="op" id="6519890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6519895"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6519896">.</span><span class="ident" id="6519897"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6519903">(</span><span class="string" id="6519904">&#34;URL(%q).Parse(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6519937">,</span>&nbsp;<span class="ident" id="6519939"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519943">.</span><span class="ident" id="6519944"><a href="/gostd/net/url/url_test.go.html#6514029">base</a></span><span class="op" id="6519948">,</span>&nbsp;<span class="ident" id="6519950"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519954">.</span><span class="ident" id="6519955"><a href="/gostd/net/url/url_test.go.html#6514035">rel</a></span><span class="op" id="6519958">,</span>&nbsp;<span class="ident" id="6519960"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6519964">.</span><span class="ident" id="6519965"><a href="/gostd/net/url/url_test.go.html#6514040">expected</a></span><span class="op" id="6519973">,</span>&nbsp;<span class="ident" id="6519975"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6519978">.</span><span class="ident" id="6519979"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="6519985">(</span><span class="op" id="6519986">)</span><span class="op" id="6519987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6519991">}</span>&nbsp;<span class="keyword" id="6519993">else</span>&nbsp;<span class="keyword" id="6519998">if</span>&nbsp;<span class="ident" id="6520001"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span>&nbsp;<span class="op" id="6520006">==</span>&nbsp;<span class="ident" id="6520009"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6520013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6520018">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned&nbsp;for&nbsp;the&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520084"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6520085">.</span><span class="ident" id="6520086"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520092">(</span><span class="string" id="6520093">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="6520141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6520149">//&nbsp;Ensure&nbsp;Opaque&nbsp;resets&nbsp;the&nbsp;URL.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520184"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6520188">=</span>&nbsp;<span class="ident" id="6520190"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span><span class="op" id="6520194">.</span><span class="ident" id="6520195"><a href="/gostd/net/url/url.go.html#3762765">ResolveReference</a></span><span class="op" id="6520211">(</span><span class="ident" id="6520212"><a href="/gostd/net/url/url_test.go.html#6519203">opaque</a></span><span class="op" id="6520218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6520222">if</span>&nbsp;<span class="op" id="6520225">*</span><span class="ident" id="6520226"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6520230">!=</span>&nbsp;<span class="op" id="6520233">*</span><span class="ident" id="6520234"><a href="/gostd/net/url/url_test.go.html#6519203">opaque</a></span>&nbsp;<span class="op" id="6520241">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520246"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6520247">.</span><span class="ident" id="6520248"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520254">(</span><span class="string" id="6520255">&#34;ResolveReference&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="6520321">,</span>&nbsp;<span class="ident" id="6520323"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6520326">,</span>&nbsp;<span class="ident" id="6520328"><a href="/gostd/net/url/url_test.go.html#6519203">opaque</a></span><span class="op" id="6520334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6520342">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;with&nbsp;an&nbsp;opaque&nbsp;URL&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520400"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6520403">,</span>&nbsp;<span class="ident" id="6520405"><a href="/gostd/net/url/url_test.go.html#6519732">err</a></span>&nbsp;<span class="op" id="6520409">=</span>&nbsp;<span class="ident" id="6520411"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span><span class="op" id="6520415">.</span><span class="ident" id="6520416"><a href="/gostd/net/url/url.go.html#3762216">Parse</a></span><span class="op" id="6520421">(</span><span class="string" id="6520422">&#34;scheme:opaque&#34;</span><span class="op" id="6520437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6520441">if</span>&nbsp;<span class="ident" id="6520444"><a href="/gostd/net/url/url_test.go.html#6519732">err</a></span>&nbsp;<span class="op" id="6520448">!=</span>&nbsp;<span class="builtintype" id="6520451">nil</span>&nbsp;<span class="op" id="6520455">{</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520460"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6520461">.</span><span class="ident" id="6520462"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520468">(</span><span class="string" id="6520469">`URL(%q).Parse(&#34;scheme:opaque&#34;)&nbsp;failed:&nbsp;%v`</span><span class="op" id="6520512">,</span>&nbsp;<span class="ident" id="6520514"><a href="/gostd/net/url/url_test.go.html#6519262">test</a></span><span class="op" id="6520518">.</span><span class="ident" id="6520519"><a href="/gostd/net/url/url_test.go.html#6514029">base</a></span><span class="op" id="6520523">,</span>&nbsp;<span class="ident" id="6520525"><a href="/gostd/net/url/url_test.go.html#6519732">err</a></span><span class="op" id="6520528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520532">}</span>&nbsp;<span class="keyword" id="6520534">else</span>&nbsp;<span class="keyword" id="6520539">if</span>&nbsp;<span class="op" id="6520542">*</span><span class="ident" id="6520543"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6520547">!=</span>&nbsp;<span class="op" id="6520550">*</span><span class="ident" id="6520551"><a href="/gostd/net/url/url_test.go.html#6519203">opaque</a></span>&nbsp;<span class="op" id="6520558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520563"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6520564">.</span><span class="ident" id="6520565"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520571">(</span><span class="string" id="6520572">&#34;Parse&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="6520627">,</span>&nbsp;<span class="ident" id="6520629"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span><span class="op" id="6520632">,</span>&nbsp;<span class="ident" id="6520634"><a href="/gostd/net/url/url_test.go.html#6519203">opaque</a></span><span class="op" id="6520640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520644">}</span>&nbsp;<span class="keyword" id="6520646">else</span>&nbsp;<span class="keyword" id="6520651">if</span>&nbsp;<span class="ident" id="6520654"><a href="/gostd/net/url/url_test.go.html#6519302">base</a></span>&nbsp;<span class="op" id="6520659">==</span>&nbsp;<span class="ident" id="6520662"><a href="/gostd/net/url/url_test.go.html#6519362">url</a></span>&nbsp;<span class="op" id="6520666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6520671">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned,&nbsp;again.</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520724"><a href="/gostd/net/url/url_test.go.html#6519023">t</a></span><span class="op" id="6520725">.</span><span class="ident" id="6520726"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520732">(</span><span class="string" id="6520733">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="6520781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520788">}</span><br>
<span class="lineno"></span><span class="op" id="6520790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span><span class="keyword" id="6520793">func</span>&nbsp;<span class="ident" id="6520798">TestQueryValues</span><span class="op" id="6520813">(</span><span class="ident" id="6520814">t</span>&nbsp;<span class="op" id="6520816">*</span><span class="ident" id="6520817"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6520824">.</span><span class="ident" id="6520825"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6520826">)</span>&nbsp;<span class="op" id="6520828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520831">u</span><span class="op" id="6520832">,</span>&nbsp;<span class="ident" id="6520834">_</span>&nbsp;<span class="op" id="6520836">:=</span>&nbsp;<span class="ident" id="6520839"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="6520844">(</span><span class="string" id="6520845">&#34;http://x.com?foo=bar&amp;bar=1&amp;bar=2&#34;</span><span class="op" id="6520879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520882">v</span>&nbsp;<span class="op" id="6520884">:=</span>&nbsp;<span class="ident" id="6520887"><a href="/gostd/net/url/url_test.go.html#6520831">u</a></span><span class="op" id="6520888">.</span><span class="ident" id="6520889"><a href="/gostd/net/url/url.go.html#3763469">Query</a></span><span class="op" id="6520894">(</span><span class="op" id="6520895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6520898">if</span>&nbsp;<span class="builtinfunc" id="6520901">len</span><span class="op" id="6520904">(</span><span class="ident" id="6520905"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6520906">)</span>&nbsp;<span class="op" id="6520908">!=</span>&nbsp;<span class="num" id="6520911">2</span>&nbsp;<span class="op" id="6520913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6520917"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6520918">.</span><span class="ident" id="6520919"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6520925">(</span><span class="string" id="6520926">&#34;got&nbsp;%d&nbsp;keys&nbsp;in&nbsp;Query&nbsp;values,&nbsp;want&nbsp;2&#34;</span><span class="op" id="6520963">,</span>&nbsp;<span class="builtinfunc" id="6520965">len</span><span class="op" id="6520968">(</span><span class="ident" id="6520969"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6520970">)</span><span class="op" id="6520971">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6520974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6520977">if</span>&nbsp;<span class="ident" id="6520980">g</span><span class="op" id="6520981">,</span>&nbsp;<span class="ident" id="6520983">e</span>&nbsp;<span class="op" id="6520985">:=</span>&nbsp;<span class="ident" id="6520988"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6520989">.</span><span class="ident" id="6520990"><a href="/gostd/net/url/url.go.html#3759100">Get</a></span><span class="op" id="6520993">(</span><span class="string" id="6520994">&#34;foo&#34;</span><span class="op" id="6520999">)</span><span class="op" id="6521000">,</span>&nbsp;<span class="string" id="6521002">&#34;bar&#34;</span><span class="op" id="6521007">;</span>&nbsp;<span class="ident" id="6521009"><a href="/gostd/net/url/url_test.go.html#6520980">g</a></span>&nbsp;<span class="op" id="6521011">!=</span>&nbsp;<span class="ident" id="6521014"><a href="/gostd/net/url/url_test.go.html#6520983">e</a></span>&nbsp;<span class="op" id="6521016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521020"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6521021">.</span><span class="ident" id="6521022"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6521028">(</span><span class="string" id="6521029">&#34;Get(foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6521053">,</span>&nbsp;<span class="ident" id="6521055"><a href="/gostd/net/url/url_test.go.html#6520980">g</a></span><span class="op" id="6521056">,</span>&nbsp;<span class="ident" id="6521058"><a href="/gostd/net/url/url_test.go.html#6520983">e</a></span><span class="op" id="6521059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6521065">//&nbsp;Case&nbsp;sensitive:</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6521085">if</span>&nbsp;<span class="ident" id="6521088">g</span><span class="op" id="6521089">,</span>&nbsp;<span class="ident" id="6521091">e</span>&nbsp;<span class="op" id="6521093">:=</span>&nbsp;<span class="ident" id="6521096"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6521097">.</span><span class="ident" id="6521098"><a href="/gostd/net/url/url.go.html#3759100">Get</a></span><span class="op" id="6521101">(</span><span class="string" id="6521102">&#34;Foo&#34;</span><span class="op" id="6521107">)</span><span class="op" id="6521108">,</span>&nbsp;<span class="string" id="6521110">&#34;&#34;</span><span class="op" id="6521112">;</span>&nbsp;<span class="ident" id="6521114"><a href="/gostd/net/url/url_test.go.html#6521088">g</a></span>&nbsp;<span class="op" id="6521116">!=</span>&nbsp;<span class="ident" id="6521119"><a href="/gostd/net/url/url_test.go.html#6521091">e</a></span>&nbsp;<span class="op" id="6521121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521125"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6521126">.</span><span class="ident" id="6521127"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6521133">(</span><span class="string" id="6521134">&#34;Get(Foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6521158">,</span>&nbsp;<span class="ident" id="6521160"><a href="/gostd/net/url/url_test.go.html#6521088">g</a></span><span class="op" id="6521161">,</span>&nbsp;<span class="ident" id="6521163"><a href="/gostd/net/url/url_test.go.html#6521091">e</a></span><span class="op" id="6521164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6521170">if</span>&nbsp;<span class="ident" id="6521173">g</span><span class="op" id="6521174">,</span>&nbsp;<span class="ident" id="6521176">e</span>&nbsp;<span class="op" id="6521178">:=</span>&nbsp;<span class="ident" id="6521181"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6521182">.</span><span class="ident" id="6521183"><a href="/gostd/net/url/url.go.html#3759100">Get</a></span><span class="op" id="6521186">(</span><span class="string" id="6521187">&#34;bar&#34;</span><span class="op" id="6521192">)</span><span class="op" id="6521193">,</span>&nbsp;<span class="string" id="6521195">&#34;1&#34;</span><span class="op" id="6521198">;</span>&nbsp;<span class="ident" id="6521200"><a href="/gostd/net/url/url_test.go.html#6521173">g</a></span>&nbsp;<span class="op" id="6521202">!=</span>&nbsp;<span class="ident" id="6521205"><a href="/gostd/net/url/url_test.go.html#6521176">e</a></span>&nbsp;<span class="op" id="6521207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521211"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6521212">.</span><span class="ident" id="6521213"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6521219">(</span><span class="string" id="6521220">&#34;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6521244">,</span>&nbsp;<span class="ident" id="6521246"><a href="/gostd/net/url/url_test.go.html#6521173">g</a></span><span class="op" id="6521247">,</span>&nbsp;<span class="ident" id="6521249"><a href="/gostd/net/url/url_test.go.html#6521176">e</a></span><span class="op" id="6521250">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6521256">if</span>&nbsp;<span class="ident" id="6521259">g</span><span class="op" id="6521260">,</span>&nbsp;<span class="ident" id="6521262">e</span>&nbsp;<span class="op" id="6521264">:=</span>&nbsp;<span class="ident" id="6521267"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6521268">.</span><span class="ident" id="6521269"><a href="/gostd/net/url/url.go.html#3759100">Get</a></span><span class="op" id="6521272">(</span><span class="string" id="6521273">&#34;baz&#34;</span><span class="op" id="6521278">)</span><span class="op" id="6521279">,</span>&nbsp;<span class="string" id="6521281">&#34;&#34;</span><span class="op" id="6521283">;</span>&nbsp;<span class="ident" id="6521285"><a href="/gostd/net/url/url_test.go.html#6521259">g</a></span>&nbsp;<span class="op" id="6521287">!=</span>&nbsp;<span class="ident" id="6521290"><a href="/gostd/net/url/url_test.go.html#6521262">e</a></span>&nbsp;<span class="op" id="6521292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521296"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6521297">.</span><span class="ident" id="6521298"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6521304">(</span><span class="string" id="6521305">&#34;Get(baz)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6521329">,</span>&nbsp;<span class="ident" id="6521331"><a href="/gostd/net/url/url_test.go.html#6521259">g</a></span><span class="op" id="6521332">,</span>&nbsp;<span class="ident" id="6521334"><a href="/gostd/net/url/url_test.go.html#6521262">e</a></span><span class="op" id="6521335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521341"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6521342">.</span><span class="ident" id="6521343"><a href="/gostd/net/url/url.go.html#3759594">Del</a></span><span class="op" id="6521346">(</span><span class="string" id="6521347">&#34;bar&#34;</span><span class="op" id="6521352">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6521355">if</span>&nbsp;<span class="ident" id="6521358">g</span><span class="op" id="6521359">,</span>&nbsp;<span class="ident" id="6521361">e</span>&nbsp;<span class="op" id="6521363">:=</span>&nbsp;<span class="ident" id="6521366"><a href="/gostd/net/url/url_test.go.html#6520882">v</a></span><span class="op" id="6521367">.</span><span class="ident" id="6521368"><a href="/gostd/net/url/url.go.html#3759100">Get</a></span><span class="op" id="6521371">(</span><span class="string" id="6521372">&#34;bar&#34;</span><span class="op" id="6521377">)</span><span class="op" id="6521378">,</span>&nbsp;<span class="string" id="6521380">&#34;&#34;</span><span class="op" id="6521382">;</span>&nbsp;<span class="ident" id="6521384"><a href="/gostd/net/url/url_test.go.html#6521358">g</a></span>&nbsp;<span class="op" id="6521386">!=</span>&nbsp;<span class="ident" id="6521389"><a href="/gostd/net/url/url_test.go.html#6521361">e</a></span>&nbsp;<span class="op" id="6521391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521395"><a href="/gostd/net/url/url_test.go.html#6520814">t</a></span><span class="op" id="6521396">.</span><span class="ident" id="6521397"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6521403">(</span><span class="string" id="6521404">&#34;second&nbsp;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6521435">,</span>&nbsp;<span class="ident" id="6521437"><a href="/gostd/net/url/url_test.go.html#6521358">g</a></span><span class="op" id="6521438">,</span>&nbsp;<span class="ident" id="6521440"><a href="/gostd/net/url/url_test.go.html#6521361">e</a></span><span class="op" id="6521441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521444">}</span><br>
<span class="lineno"></span><span class="op" id="6521446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">775</span><span class="keyword" id="6521449">type</span>&nbsp;<span class="ident" id="6521454">parseTest</span>&nbsp;<span class="keyword" id="6521464">struct</span>&nbsp;<span class="op" id="6521471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521474">query</span>&nbsp;<span class="builtintype" id="6521480">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521488">out</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521494"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><br>
<span class="lineno"></span><span class="op" id="6521501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">780</span><span class="keyword" id="6521504">var</span>&nbsp;<span class="ident" id="6521508">parseTests</span>&nbsp;<span class="op" id="6521519">=</span>&nbsp;<span class="op" id="6521521">[</span><span class="op" id="6521522">]</span><span class="ident" id="6521523"><a href="/gostd/net/url/url_test.go.html#6521454">parseTest</a></span><span class="op" id="6521532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521539"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6521544">:</span>&nbsp;<span class="string" id="6521546">&#34;a=1&amp;b=2&#34;</span><span class="op" id="6521555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521559"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6521562">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521566"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6521572">{</span><span class="string" id="6521573">&#34;a&#34;</span><span class="op" id="6521576">:</span>&nbsp;<span class="op" id="6521578">[</span><span class="op" id="6521579">]</span><span class="builtintype" id="6521580">string</span><span class="op" id="6521586">{</span><span class="string" id="6521587">&#34;1&#34;</span><span class="op" id="6521590">}</span><span class="op" id="6521591">,</span>&nbsp;<span class="string" id="6521593">&#34;b&#34;</span><span class="op" id="6521596">:</span>&nbsp;<span class="op" id="6521598">[</span><span class="op" id="6521599">]</span><span class="builtintype" id="6521600">string</span><span class="op" id="6521606">{</span><span class="string" id="6521607">&#34;2&#34;</span><span class="op" id="6521610">}</span><span class="op" id="6521611">}</span><span class="op" id="6521612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521615">}</span><span class="op" id="6521616">,</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521623"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6521628">:</span>&nbsp;<span class="string" id="6521630">&#34;a=1&amp;a=2&amp;a=banana&#34;</span><span class="op" id="6521648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521652"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6521655">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521659"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6521665">{</span><span class="string" id="6521666">&#34;a&#34;</span><span class="op" id="6521669">:</span>&nbsp;<span class="op" id="6521671">[</span><span class="op" id="6521672">]</span><span class="builtintype" id="6521673">string</span><span class="op" id="6521679">{</span><span class="string" id="6521680">&#34;1&#34;</span><span class="op" id="6521683">,</span>&nbsp;<span class="string" id="6521685">&#34;2&#34;</span><span class="op" id="6521688">,</span>&nbsp;<span class="string" id="6521690">&#34;banana&#34;</span><span class="op" id="6521698">}</span><span class="op" id="6521699">}</span><span class="op" id="6521700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521703">}</span><span class="op" id="6521704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521707">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521711"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6521716">:</span>&nbsp;<span class="string" id="6521718">&#34;ascii=%3Ckey%3A+0x90%3E&#34;</span><span class="op" id="6521743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521747"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6521750">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521754"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6521760">{</span><span class="string" id="6521761">&#34;ascii&#34;</span><span class="op" id="6521768">:</span>&nbsp;<span class="op" id="6521770">[</span><span class="op" id="6521771">]</span><span class="builtintype" id="6521772">string</span><span class="op" id="6521778">{</span><span class="string" id="6521779">&#34;&lt;key:&nbsp;0x90&gt;&#34;</span><span class="op" id="6521792">}</span><span class="op" id="6521793">}</span><span class="op" id="6521794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521797">}</span><span class="op" id="6521798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521805"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6521810">:</span>&nbsp;<span class="string" id="6521812">&#34;a=1;b=2&#34;</span><span class="op" id="6521821">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521825"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6521828">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521832"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6521838">{</span><span class="string" id="6521839">&#34;a&#34;</span><span class="op" id="6521842">:</span>&nbsp;<span class="op" id="6521844">[</span><span class="op" id="6521845">]</span><span class="builtintype" id="6521846">string</span><span class="op" id="6521852">{</span><span class="string" id="6521853">&#34;1&#34;</span><span class="op" id="6521856">}</span><span class="op" id="6521857">,</span>&nbsp;<span class="string" id="6521859">&#34;b&#34;</span><span class="op" id="6521862">:</span>&nbsp;<span class="op" id="6521864">[</span><span class="op" id="6521865">]</span><span class="builtintype" id="6521866">string</span><span class="op" id="6521872">{</span><span class="string" id="6521873">&#34;2&#34;</span><span class="op" id="6521876">}</span><span class="op" id="6521877">}</span><span class="op" id="6521878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521881">}</span><span class="op" id="6521882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521889"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6521894">:</span>&nbsp;<span class="string" id="6521896">&#34;a=1&amp;a=2;a=banana&#34;</span><span class="op" id="6521914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6521918"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6521921">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6521925"><a href="/gostd/net/url/url.go.html#3758861">Values</a></span><span class="op" id="6521931">{</span><span class="string" id="6521932">&#34;a&#34;</span><span class="op" id="6521935">:</span>&nbsp;<span class="op" id="6521937">[</span><span class="op" id="6521938">]</span><span class="builtintype" id="6521939">string</span><span class="op" id="6521945">{</span><span class="string" id="6521946">&#34;1&#34;</span><span class="op" id="6521949">,</span>&nbsp;<span class="string" id="6521951">&#34;2&#34;</span><span class="op" id="6521954">,</span>&nbsp;<span class="string" id="6521956">&#34;banana&#34;</span><span class="op" id="6521964">}</span><span class="op" id="6521965">}</span><span class="op" id="6521966">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6521969">}</span><span class="op" id="6521970">,</span><br>
<span class="lineno"></span><span class="op" id="6521972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6521975">func</span>&nbsp;<span class="ident" id="6521980">TestParseQuery</span><span class="op" id="6521994">(</span><span class="ident" id="6521995">t</span>&nbsp;<span class="op" id="6521997">*</span><span class="ident" id="6521998"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6522005">.</span><span class="ident" id="6522006"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6522007">)</span>&nbsp;<span class="op" id="6522009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522012">for</span>&nbsp;<span class="ident" id="6522016">i</span><span class="op" id="6522017">,</span>&nbsp;<span class="ident" id="6522019">test</span>&nbsp;<span class="op" id="6522024">:=</span>&nbsp;<span class="keyword" id="6522027">range</span>&nbsp;<span class="ident" id="6522033"><a href="/gostd/net/url/url_test.go.html#6521508">parseTests</a></span>&nbsp;<span class="op" id="6522044">{</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522048">form</span><span class="op" id="6522052">,</span>&nbsp;<span class="ident" id="6522054">err</span>&nbsp;<span class="op" id="6522058">:=</span>&nbsp;<span class="ident" id="6522061"><a href="/gostd/net/url/url.go.html#3759908">ParseQuery</a></span><span class="op" id="6522071">(</span><span class="ident" id="6522072"><a href="/gostd/net/url/url_test.go.html#6522019">test</a></span><span class="op" id="6522076">.</span><span class="ident" id="6522077"><a href="/gostd/net/url/url_test.go.html#6521474">query</a></span><span class="op" id="6522082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522086">if</span>&nbsp;<span class="ident" id="6522089"><a href="/gostd/net/url/url_test.go.html#6522054">err</a></span>&nbsp;<span class="op" id="6522093">!=</span>&nbsp;<span class="builtintype" id="6522096">nil</span>&nbsp;<span class="op" id="6522100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522105"><a href="/gostd/net/url/url_test.go.html#6521995">t</a></span><span class="op" id="6522106">.</span><span class="ident" id="6522107"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6522113">(</span><span class="string" id="6522114">&#34;test&nbsp;%d:&nbsp;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6522145">,</span>&nbsp;<span class="ident" id="6522147"><a href="/gostd/net/url/url_test.go.html#6522016">i</a></span><span class="op" id="6522148">,</span>&nbsp;<span class="ident" id="6522150"><a href="/gostd/net/url/url_test.go.html#6522054">err</a></span><span class="op" id="6522153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522158">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522169">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522173">if</span>&nbsp;<span class="builtinfunc" id="6522176">len</span><span class="op" id="6522179">(</span><span class="ident" id="6522180"><a href="/gostd/net/url/url_test.go.html#6522048">form</a></span><span class="op" id="6522184">)</span>&nbsp;<span class="op" id="6522186">!=</span>&nbsp;<span class="builtinfunc" id="6522189">len</span><span class="op" id="6522192">(</span><span class="ident" id="6522193"><a href="/gostd/net/url/url_test.go.html#6522019">test</a></span><span class="op" id="6522197">.</span><span class="ident" id="6522198"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6522201">)</span>&nbsp;<span class="op" id="6522203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522208"><a href="/gostd/net/url/url_test.go.html#6521995">t</a></span><span class="op" id="6522209">.</span><span class="ident" id="6522210"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6522216">(</span><span class="string" id="6522217">&#34;test&nbsp;%d:&nbsp;len(form)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6522251">,</span>&nbsp;<span class="ident" id="6522253"><a href="/gostd/net/url/url_test.go.html#6522016">i</a></span><span class="op" id="6522254">,</span>&nbsp;<span class="builtinfunc" id="6522256">len</span><span class="op" id="6522259">(</span><span class="ident" id="6522260"><a href="/gostd/net/url/url_test.go.html#6522048">form</a></span><span class="op" id="6522264">)</span><span class="op" id="6522265">,</span>&nbsp;<span class="builtinfunc" id="6522267">len</span><span class="op" id="6522270">(</span><span class="ident" id="6522271"><a href="/gostd/net/url/url_test.go.html#6522019">test</a></span><span class="op" id="6522275">.</span><span class="ident" id="6522276"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span><span class="op" id="6522279">)</span><span class="op" id="6522280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522288">for</span>&nbsp;<span class="ident" id="6522292">k</span><span class="op" id="6522293">,</span>&nbsp;<span class="ident" id="6522295">evs</span>&nbsp;<span class="op" id="6522299">:=</span>&nbsp;<span class="keyword" id="6522302">range</span>&nbsp;<span class="ident" id="6522308"><a href="/gostd/net/url/url_test.go.html#6522019">test</a></span><span class="op" id="6522312">.</span><span class="ident" id="6522313"><a href="/gostd/net/url/url_test.go.html#6521488">out</a></span>&nbsp;<span class="op" id="6522317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522322">vs</span><span class="op" id="6522324">,</span>&nbsp;<span class="ident" id="6522326">ok</span>&nbsp;<span class="op" id="6522329">:=</span>&nbsp;<span class="ident" id="6522332"><a href="/gostd/net/url/url_test.go.html#6522048">form</a></span><span class="op" id="6522336">[</span><span class="ident" id="6522337"><a href="/gostd/net/url/url_test.go.html#6522292">k</a></span><span class="op" id="6522338">]</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522343">if</span>&nbsp;<span class="op" id="6522346">!</span><span class="ident" id="6522347"><a href="/gostd/net/url/url_test.go.html#6522326">ok</a></span>&nbsp;<span class="op" id="6522350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522356"><a href="/gostd/net/url/url_test.go.html#6521995">t</a></span><span class="op" id="6522357">.</span><span class="ident" id="6522358"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6522364">(</span><span class="string" id="6522365">&#34;test&nbsp;%d:&nbsp;Missing&nbsp;key&nbsp;%q&#34;</span><span class="op" id="6522390">,</span>&nbsp;<span class="ident" id="6522392"><a href="/gostd/net/url/url_test.go.html#6522016">i</a></span><span class="op" id="6522393">,</span>&nbsp;<span class="ident" id="6522395"><a href="/gostd/net/url/url_test.go.html#6522292">k</a></span><span class="op" id="6522396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522402">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522419">if</span>&nbsp;<span class="builtinfunc" id="6522422">len</span><span class="op" id="6522425">(</span><span class="ident" id="6522426"><a href="/gostd/net/url/url_test.go.html#6522322">vs</a></span><span class="op" id="6522428">)</span>&nbsp;<span class="op" id="6522430">!=</span>&nbsp;<span class="builtinfunc" id="6522433">len</span><span class="op" id="6522436">(</span><span class="ident" id="6522437"><a href="/gostd/net/url/url_test.go.html#6522295">evs</a></span><span class="op" id="6522440">)</span>&nbsp;<span class="op" id="6522442">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522448"><a href="/gostd/net/url/url_test.go.html#6521995">t</a></span><span class="op" id="6522449">.</span><span class="ident" id="6522450"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6522456">(</span><span class="string" id="6522457">&#34;test&nbsp;%d:&nbsp;len(form[%q])&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6522495">,</span>&nbsp;<span class="ident" id="6522497"><a href="/gostd/net/url/url_test.go.html#6522016">i</a></span><span class="op" id="6522498">,</span>&nbsp;<span class="ident" id="6522500"><a href="/gostd/net/url/url_test.go.html#6522292">k</a></span><span class="op" id="6522501">,</span>&nbsp;<span class="builtinfunc" id="6522503">len</span><span class="op" id="6522506">(</span><span class="ident" id="6522507"><a href="/gostd/net/url/url_test.go.html#6522322">vs</a></span><span class="op" id="6522509">)</span><span class="op" id="6522510">,</span>&nbsp;<span class="builtinfunc" id="6522512">len</span><span class="op" id="6522515">(</span><span class="ident" id="6522516"><a href="/gostd/net/url/url_test.go.html#6522295">evs</a></span><span class="op" id="6522519">)</span><span class="op" id="6522520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522526">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522543">for</span>&nbsp;<span class="ident" id="6522547">j</span><span class="op" id="6522548">,</span>&nbsp;<span class="ident" id="6522550">ev</span>&nbsp;<span class="op" id="6522553">:=</span>&nbsp;<span class="keyword" id="6522556">range</span>&nbsp;<span class="ident" id="6522562"><a href="/gostd/net/url/url_test.go.html#6522295">evs</a></span>&nbsp;<span class="op" id="6522566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6522572">if</span>&nbsp;<span class="ident" id="6522575">v</span>&nbsp;<span class="op" id="6522577">:=</span>&nbsp;<span class="ident" id="6522580"><a href="/gostd/net/url/url_test.go.html#6522322">vs</a></span><span class="op" id="6522582">[</span><span class="ident" id="6522583"><a href="/gostd/net/url/url_test.go.html#6522547">j</a></span><span class="op" id="6522584">]</span><span class="op" id="6522585">;</span>&nbsp;<span class="ident" id="6522587"><a href="/gostd/net/url/url_test.go.html#6522575">v</a></span>&nbsp;<span class="op" id="6522589">!=</span>&nbsp;<span class="ident" id="6522592"><a href="/gostd/net/url/url_test.go.html#6522550">ev</a></span>&nbsp;<span class="op" id="6522595">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522602"><a href="/gostd/net/url/url_test.go.html#6521995">t</a></span><span class="op" id="6522603">.</span><span class="ident" id="6522604"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6522610">(</span><span class="string" id="6522611">&#34;test&nbsp;%d:&nbsp;form[%q][%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6522648">,</span>&nbsp;<span class="ident" id="6522650"><a href="/gostd/net/url/url_test.go.html#6522016">i</a></span><span class="op" id="6522651">,</span>&nbsp;<span class="ident" id="6522653"><a href="/gostd/net/url/url_test.go.html#6522292">k</a></span><span class="op" id="6522654">,</span>&nbsp;<span class="ident" id="6522656"><a href="/gostd/net/url/url_test.go.html#6522547">j</a></span><span class="op" id="6522657">,</span>&nbsp;<span class="ident" id="6522659"><a href="/gostd/net/url/url_test.go.html#6522575">v</a></span><span class="op" id="6522660">,</span>&nbsp;<span class="ident" id="6522662"><a href="/gostd/net/url/url_test.go.html#6522550">ev</a></span><span class="op" id="6522664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522682">}</span><br>
<span class="lineno">830</span><span class="op" id="6522684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6522687">type</span>&nbsp;<span class="ident" id="6522692">RequestURITest</span>&nbsp;<span class="keyword" id="6522707">struct</span>&nbsp;<span class="op" id="6522714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522717">url</span>&nbsp;<span class="op" id="6522721">*</span><span class="ident" id="6522722"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522727">out</span>&nbsp;<span class="builtintype" id="6522731">string</span><br>
<span class="lineno">835</span><span class="op" id="6522738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6522741">var</span>&nbsp;<span class="ident" id="6522745">requritests</span>&nbsp;<span class="op" id="6522757">=</span>&nbsp;<span class="op" id="6522759">[</span><span class="op" id="6522760">]</span><span class="ident" id="6522761"><a href="/gostd/net/url/url_test.go.html#6522692">RequestURITest</a></span><span class="op" id="6522775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522782">&amp;</span><span class="ident" id="6522783"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6522786">{</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522791"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6522797">:</span>&nbsp;<span class="string" id="6522799">&#34;http&#34;</span><span class="op" id="6522805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522810"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6522814">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6522818">&#34;example.com&#34;</span><span class="op" id="6522831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522836"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6522840">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6522844">&#34;&#34;</span><span class="op" id="6522846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522850">}</span><span class="op" id="6522851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6522855">&#34;/&#34;</span><span class="op" id="6522858">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522861">}</span><span class="op" id="6522862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522869">&amp;</span><span class="ident" id="6522870"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6522873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522878"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6522884">:</span>&nbsp;<span class="string" id="6522886">&#34;http&#34;</span><span class="op" id="6522892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522897"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6522901">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6522905">&#34;example.com&#34;</span><span class="op" id="6522918">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6522923"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6522927">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6522931">&#34;/a&nbsp;b&#34;</span><span class="op" id="6522937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522941">}</span><span class="op" id="6522942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6522946">&#34;/a%20b&#34;</span><span class="op" id="6522954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522957">}</span><span class="op" id="6522958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6522961">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;1</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6522997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523001">&amp;</span><span class="ident" id="6523002"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6523005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523010"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6523016">:</span>&nbsp;<span class="string" id="6523018">&#34;http&#34;</span><span class="op" id="6523024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523029"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6523033">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6523037">&#34;example.com&#34;</span><span class="op" id="6523050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523055"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6523061">:</span>&nbsp;<span class="string" id="6523063">&#34;/%2F/%2F/&#34;</span><span class="op" id="6523074">,</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523078">}</span><span class="op" id="6523079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523083">&#34;/%2F/%2F/&#34;</span><span class="op" id="6523094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523097">}</span><span class="op" id="6523098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6523101">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523137">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523141">&amp;</span><span class="ident" id="6523142"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6523145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523150"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6523156">:</span>&nbsp;<span class="string" id="6523158">&#34;http&#34;</span><span class="op" id="6523164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523169"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6523173">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6523177">&#34;example.com&#34;</span><span class="op" id="6523190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523195"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6523201">:</span>&nbsp;<span class="string" id="6523203">&#34;//other.example.com/%2F/%2F/&#34;</span><span class="op" id="6523233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523237">}</span><span class="op" id="6523238">,</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523242">&#34;http://other.example.com/%2F/%2F/&#34;</span><span class="op" id="6523277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523280">}</span><span class="op" id="6523281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523288">&amp;</span><span class="ident" id="6523289"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6523292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523297"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6523303">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6523307">&#34;http&#34;</span><span class="op" id="6523313">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523318"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="6523322">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523328">&#34;example.com&#34;</span><span class="op" id="6523341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523346"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="6523350">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523356">&#34;/a&nbsp;b&#34;</span><span class="op" id="6523362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523367"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6523375">:</span>&nbsp;<span class="string" id="6523377">&#34;q=go+language&#34;</span><span class="op" id="6523392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523396">}</span><span class="op" id="6523397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523401">&#34;/a%20b?q=go+language&#34;</span><span class="op" id="6523423">,</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523426">}</span><span class="op" id="6523427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523434">&amp;</span><span class="ident" id="6523435"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6523438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523443"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6523449">:</span>&nbsp;<span class="string" id="6523451">&#34;myschema&#34;</span><span class="op" id="6523461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523466"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6523472">:</span>&nbsp;<span class="string" id="6523474">&#34;opaque&#34;</span><span class="op" id="6523482">,</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523486">}</span><span class="op" id="6523487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523491">&#34;opaque&#34;</span><span class="op" id="6523499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523502">}</span><span class="op" id="6523503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523510">&amp;</span><span class="ident" id="6523511"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="6523514">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523519"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="6523525">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6523529">&#34;myschema&#34;</span><span class="op" id="6523539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523544"><a href="/gostd/net/url/url.go.html#3751225">Opaque</a></span><span class="op" id="6523550">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6523554">&#34;opaque&#34;</span><span class="op" id="6523562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523567"><a href="/gostd/net/url/url.go.html#3751383">RawQuery</a></span><span class="op" id="6523575">:</span>&nbsp;<span class="string" id="6523577">&#34;q=go+language&#34;</span><span class="op" id="6523592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523596">}</span><span class="op" id="6523597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523601">&#34;opaque?q=go+language&#34;</span><span class="op" id="6523623">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523626">}</span><span class="op" id="6523627">,</span><br>
<span class="lineno"></span><span class="op" id="6523629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523632">func</span>&nbsp;<span class="ident" id="6523637">TestRequestURI</span><span class="op" id="6523651">(</span><span class="ident" id="6523652">t</span>&nbsp;<span class="op" id="6523654">*</span><span class="ident" id="6523655"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6523662">.</span><span class="ident" id="6523663"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6523664">)</span>&nbsp;<span class="op" id="6523666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523669">for</span>&nbsp;<span class="ident" id="6523673">_</span><span class="op" id="6523674">,</span>&nbsp;<span class="ident" id="6523676">tt</span>&nbsp;<span class="op" id="6523679">:=</span>&nbsp;<span class="keyword" id="6523682">range</span>&nbsp;<span class="ident" id="6523688"><a href="/gostd/net/url/url_test.go.html#6522745">requritests</a></span>&nbsp;<span class="op" id="6523700">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523704">s</span>&nbsp;<span class="op" id="6523706">:=</span>&nbsp;<span class="ident" id="6523709"><a href="/gostd/net/url/url_test.go.html#6523676">tt</a></span><span class="op" id="6523711">.</span><span class="ident" id="6523712"><a href="/gostd/net/url/url_test.go.html#6522717">url</a></span><span class="op" id="6523715">.</span><span class="ident" id="6523716"><a href="/gostd/net/url/url.go.html#3763661">RequestURI</a></span><span class="op" id="6523726">(</span><span class="op" id="6523727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523731">if</span>&nbsp;<span class="ident" id="6523734"><a href="/gostd/net/url/url_test.go.html#6523704">s</a></span>&nbsp;<span class="op" id="6523736">!=</span>&nbsp;<span class="ident" id="6523739"><a href="/gostd/net/url/url_test.go.html#6523676">tt</a></span><span class="op" id="6523741">.</span><span class="ident" id="6523742"><a href="/gostd/net/url/url_test.go.html#6522727">out</a></span>&nbsp;<span class="op" id="6523746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523751"><a href="/gostd/net/url/url_test.go.html#6523652">t</a></span><span class="op" id="6523752">.</span><span class="ident" id="6523753"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6523759">(</span><span class="string" id="6523760">&#34;%#v.RequestURI()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="6523798">,</span>&nbsp;<span class="ident" id="6523800"><a href="/gostd/net/url/url_test.go.html#6523676">tt</a></span><span class="op" id="6523802">.</span><span class="ident" id="6523803"><a href="/gostd/net/url/url_test.go.html#6522717">url</a></span><span class="op" id="6523806">,</span>&nbsp;<span class="ident" id="6523808"><a href="/gostd/net/url/url_test.go.html#6523704">s</a></span><span class="op" id="6523809">,</span>&nbsp;<span class="ident" id="6523811"><a href="/gostd/net/url/url_test.go.html#6523676">tt</a></span><span class="op" id="6523813">.</span><span class="ident" id="6523814"><a href="/gostd/net/url/url_test.go.html#6522727">out</a></span><span class="op" id="6523817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523824">}</span><br>
<span class="lineno">905</span><span class="op" id="6523826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523829">func</span>&nbsp;<span class="ident" id="6523834">TestParseFailure</span><span class="op" id="6523850">(</span><span class="ident" id="6523851">t</span>&nbsp;<span class="op" id="6523853">*</span><span class="ident" id="6523854"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6523861">.</span><span class="ident" id="6523862"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6523863">)</span>&nbsp;<span class="op" id="6523865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6523868">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;first&nbsp;parse&nbsp;error&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523917">const</span>&nbsp;<span class="ident" id="6523923">url</span>&nbsp;<span class="op" id="6523927">=</span>&nbsp;<span class="string" id="6523929">&#34;%gh&amp;%ij&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523940">_</span><span class="op" id="6523941">,</span>&nbsp;<span class="ident" id="6523943">err</span>&nbsp;<span class="op" id="6523947">:=</span>&nbsp;<span class="ident" id="6523950"><a href="/gostd/net/url/url.go.html#3759908">ParseQuery</a></span><span class="op" id="6523960">(</span><span class="ident" id="6523961"><a href="/gostd/net/url/url_test.go.html#6523923">url</a></span><span class="op" id="6523964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523967">errStr</span>&nbsp;<span class="op" id="6523974">:=</span>&nbsp;<span class="ident" id="6523977"><a href="/gostd/net/url/url_test.go.html#6502339">fmt</a></span><span class="op" id="6523980">.</span><span class="ident" id="6523981"><a href="/gostd/fmt/print.go.html#2144876">Sprint</a></span><span class="op" id="6523987">(</span><span class="ident" id="6523988"><a href="/gostd/net/url/url_test.go.html#6523943">err</a></span><span class="op" id="6523991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523994">if</span>&nbsp;<span class="op" id="6523997">!</span><span class="ident" id="6523998"><a href="/gostd/net/url/url_test.go.html#6502357">strings</a></span><span class="op" id="6524005">.</span><span class="ident" id="6524006"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="6524014">(</span><span class="ident" id="6524015"><a href="/gostd/net/url/url_test.go.html#6523967">errStr</a></span><span class="op" id="6524021">,</span>&nbsp;<span class="string" id="6524023">&#34;%gh&#34;</span><span class="op" id="6524028">)</span>&nbsp;<span class="op" id="6524030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524034"><a href="/gostd/net/url/url_test.go.html#6523851">t</a></span><span class="op" id="6524035">.</span><span class="ident" id="6524036"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6524042">(</span><span class="string" id="6524043">`ParseQuery(%q)&nbsp;returned&nbsp;error&nbsp;%q,&nbsp;want&nbsp;something&nbsp;containing&nbsp;%q&#34;`</span><span class="op" id="6524108">,</span>&nbsp;<span class="ident" id="6524110"><a href="/gostd/net/url/url_test.go.html#6523923">url</a></span><span class="op" id="6524113">,</span>&nbsp;<span class="ident" id="6524115"><a href="/gostd/net/url/url_test.go.html#6523967">errStr</a></span><span class="op" id="6524121">,</span>&nbsp;<span class="string" id="6524123">&#34;%gh&#34;</span><span class="op" id="6524128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524131">}</span><br>
<span class="lineno">915</span><span class="op" id="6524133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6524136">type</span>&nbsp;<span class="ident" id="6524141">shouldEscapeTest</span>&nbsp;<span class="keyword" id="6524158">struct</span>&nbsp;<span class="op" id="6524165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524168">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6524175">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524181">mode</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6524188"><a href="/gostd/net/url/url.go.html#3746584">encoding</a></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524198">escape</span>&nbsp;<span class="builtintype" id="6524205">bool</span><br>
<span class="lineno"></span><span class="op" id="6524210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6524213">var</span>&nbsp;<span class="ident" id="6524217">shouldEscapeTests</span>&nbsp;<span class="op" id="6524235">=</span>&nbsp;<span class="op" id="6524237">[</span><span class="op" id="6524238">]</span><span class="ident" id="6524239"><a href="/gostd/net/url/url_test.go.html#6524141">shouldEscapeTest</a></span><span class="op" id="6524255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6524258">//&nbsp;Unreserved&nbsp;characters&nbsp;(§2.3)</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524292">{</span><span class="string" id="6524293">&#39;a&#39;</span><span class="op" id="6524296">,</span>&nbsp;<span class="ident" id="6524298"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524308">,</span>&nbsp;<span class="builtintype" id="6524310">false</span><span class="op" id="6524315">}</span><span class="op" id="6524316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524319">{</span><span class="string" id="6524320">&#39;a&#39;</span><span class="op" id="6524323">,</span>&nbsp;<span class="ident" id="6524325"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524343">,</span>&nbsp;<span class="builtintype" id="6524345">false</span><span class="op" id="6524350">}</span><span class="op" id="6524351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524354">{</span><span class="string" id="6524355">&#39;a&#39;</span><span class="op" id="6524358">,</span>&nbsp;<span class="ident" id="6524360"><a href="/gostd/net/url/url.go.html#3746659">encodeQueryComponent</a></span><span class="op" id="6524380">,</span>&nbsp;<span class="builtintype" id="6524382">false</span><span class="op" id="6524387">}</span><span class="op" id="6524388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524391">{</span><span class="string" id="6524392">&#39;a&#39;</span><span class="op" id="6524395">,</span>&nbsp;<span class="ident" id="6524397"><a href="/gostd/net/url/url.go.html#3746681">encodeFragment</a></span><span class="op" id="6524411">,</span>&nbsp;<span class="builtintype" id="6524413">false</span><span class="op" id="6524418">}</span><span class="op" id="6524419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524422">{</span><span class="string" id="6524423">&#39;z&#39;</span><span class="op" id="6524426">,</span>&nbsp;<span class="ident" id="6524428"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524438">,</span>&nbsp;<span class="builtintype" id="6524440">false</span><span class="op" id="6524445">}</span><span class="op" id="6524446">,</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524449">{</span><span class="string" id="6524450">&#39;A&#39;</span><span class="op" id="6524453">,</span>&nbsp;<span class="ident" id="6524455"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524465">,</span>&nbsp;<span class="builtintype" id="6524467">false</span><span class="op" id="6524472">}</span><span class="op" id="6524473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524476">{</span><span class="string" id="6524477">&#39;Z&#39;</span><span class="op" id="6524480">,</span>&nbsp;<span class="ident" id="6524482"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524492">,</span>&nbsp;<span class="builtintype" id="6524494">false</span><span class="op" id="6524499">}</span><span class="op" id="6524500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524503">{</span><span class="string" id="6524504">&#39;0&#39;</span><span class="op" id="6524507">,</span>&nbsp;<span class="ident" id="6524509"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524519">,</span>&nbsp;<span class="builtintype" id="6524521">false</span><span class="op" id="6524526">}</span><span class="op" id="6524527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524530">{</span><span class="string" id="6524531">&#39;9&#39;</span><span class="op" id="6524534">,</span>&nbsp;<span class="ident" id="6524536"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524546">,</span>&nbsp;<span class="builtintype" id="6524548">false</span><span class="op" id="6524553">}</span><span class="op" id="6524554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524557">{</span><span class="string" id="6524558">&#39;-&#39;</span><span class="op" id="6524561">,</span>&nbsp;<span class="ident" id="6524563"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524573">,</span>&nbsp;<span class="builtintype" id="6524575">false</span><span class="op" id="6524580">}</span><span class="op" id="6524581">,</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524584">{</span><span class="string" id="6524585">&#39;-&#39;</span><span class="op" id="6524588">,</span>&nbsp;<span class="ident" id="6524590"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524608">,</span>&nbsp;<span class="builtintype" id="6524610">false</span><span class="op" id="6524615">}</span><span class="op" id="6524616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524619">{</span><span class="string" id="6524620">&#39;-&#39;</span><span class="op" id="6524623">,</span>&nbsp;<span class="ident" id="6524625"><a href="/gostd/net/url/url.go.html#3746659">encodeQueryComponent</a></span><span class="op" id="6524645">,</span>&nbsp;<span class="builtintype" id="6524647">false</span><span class="op" id="6524652">}</span><span class="op" id="6524653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524656">{</span><span class="string" id="6524657">&#39;-&#39;</span><span class="op" id="6524660">,</span>&nbsp;<span class="ident" id="6524662"><a href="/gostd/net/url/url.go.html#3746681">encodeFragment</a></span><span class="op" id="6524676">,</span>&nbsp;<span class="builtintype" id="6524678">false</span><span class="op" id="6524683">}</span><span class="op" id="6524684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524687">{</span><span class="string" id="6524688">&#39;.&#39;</span><span class="op" id="6524691">,</span>&nbsp;<span class="ident" id="6524693"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524703">,</span>&nbsp;<span class="builtintype" id="6524705">false</span><span class="op" id="6524710">}</span><span class="op" id="6524711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524714">{</span><span class="string" id="6524715">&#39;_&#39;</span><span class="op" id="6524718">,</span>&nbsp;<span class="ident" id="6524720"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524730">,</span>&nbsp;<span class="builtintype" id="6524732">false</span><span class="op" id="6524737">}</span><span class="op" id="6524738">,</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524741">{</span><span class="string" id="6524742">&#39;~&#39;</span><span class="op" id="6524745">,</span>&nbsp;<span class="ident" id="6524747"><a href="/gostd/net/url/url.go.html#3746607">encodePath</a></span><span class="op" id="6524757">,</span>&nbsp;<span class="builtintype" id="6524759">false</span><span class="op" id="6524764">}</span><span class="op" id="6524765">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6524769">//&nbsp;User&nbsp;information&nbsp;(§3.2.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524800">{</span><span class="string" id="6524801">&#39;:&#39;</span><span class="op" id="6524804">,</span>&nbsp;<span class="ident" id="6524806"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524824">,</span>&nbsp;<span class="builtintype" id="6524826">true</span><span class="op" id="6524830">}</span><span class="op" id="6524831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524834">{</span><span class="string" id="6524835">&#39;/&#39;</span><span class="op" id="6524838">,</span>&nbsp;<span class="ident" id="6524840"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524858">,</span>&nbsp;<span class="builtintype" id="6524860">true</span><span class="op" id="6524864">}</span><span class="op" id="6524865">,</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524868">{</span><span class="string" id="6524869">&#39;?&#39;</span><span class="op" id="6524872">,</span>&nbsp;<span class="ident" id="6524874"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524892">,</span>&nbsp;<span class="builtintype" id="6524894">true</span><span class="op" id="6524898">}</span><span class="op" id="6524899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524902">{</span><span class="string" id="6524903">&#39;@&#39;</span><span class="op" id="6524906">,</span>&nbsp;<span class="ident" id="6524908"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524926">,</span>&nbsp;<span class="builtintype" id="6524928">true</span><span class="op" id="6524932">}</span><span class="op" id="6524933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524936">{</span><span class="string" id="6524937">&#39;$&#39;</span><span class="op" id="6524940">,</span>&nbsp;<span class="ident" id="6524942"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524960">,</span>&nbsp;<span class="builtintype" id="6524962">false</span><span class="op" id="6524967">}</span><span class="op" id="6524968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524971">{</span><span class="string" id="6524972">&#39;&amp;&#39;</span><span class="op" id="6524975">,</span>&nbsp;<span class="ident" id="6524977"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6524995">,</span>&nbsp;<span class="builtintype" id="6524997">false</span><span class="op" id="6525002">}</span><span class="op" id="6525003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525006">{</span><span class="string" id="6525007">&#39;+&#39;</span><span class="op" id="6525010">,</span>&nbsp;<span class="ident" id="6525012"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6525030">,</span>&nbsp;<span class="builtintype" id="6525032">false</span><span class="op" id="6525037">}</span><span class="op" id="6525038">,</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525041">{</span><span class="string" id="6525042">&#39;,&#39;</span><span class="op" id="6525045">,</span>&nbsp;<span class="ident" id="6525047"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6525065">,</span>&nbsp;<span class="builtintype" id="6525067">false</span><span class="op" id="6525072">}</span><span class="op" id="6525073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525076">{</span><span class="string" id="6525077">&#39;;&#39;</span><span class="op" id="6525080">,</span>&nbsp;<span class="ident" id="6525082"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6525100">,</span>&nbsp;<span class="builtintype" id="6525102">false</span><span class="op" id="6525107">}</span><span class="op" id="6525108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525111">{</span><span class="string" id="6525112">&#39;=&#39;</span><span class="op" id="6525115">,</span>&nbsp;<span class="ident" id="6525117"><a href="/gostd/net/url/url.go.html#3746639">encodeUserPassword</a></span><span class="op" id="6525135">,</span>&nbsp;<span class="builtintype" id="6525137">false</span><span class="op" id="6525142">}</span><span class="op" id="6525143">,</span><br>
<span class="lineno"></span><span class="op" id="6525145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">955</span><span class="keyword" id="6525148">func</span>&nbsp;<span class="ident" id="6525153">TestShouldEscape</span><span class="op" id="6525169">(</span><span class="ident" id="6525170">t</span>&nbsp;<span class="op" id="6525172">*</span><span class="ident" id="6525173"><a href="/gostd/net/url/url_test.go.html#6502368">testing</a></span><span class="op" id="6525180">.</span><span class="ident" id="6525181"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6525182">)</span>&nbsp;<span class="op" id="6525184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6525187">for</span>&nbsp;<span class="ident" id="6525191">_</span><span class="op" id="6525192">,</span>&nbsp;<span class="ident" id="6525194">tt</span>&nbsp;<span class="op" id="6525197">:=</span>&nbsp;<span class="keyword" id="6525200">range</span>&nbsp;<span class="ident" id="6525206"><a href="/gostd/net/url/url_test.go.html#6524217">shouldEscapeTests</a></span>&nbsp;<span class="op" id="6525224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6525228">if</span>&nbsp;<span class="ident" id="6525231"><a href="/gostd/net/url/url.go.html#3746945">shouldEscape</a></span><span class="op" id="6525243">(</span><span class="ident" id="6525244"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525246">.</span><span class="ident" id="6525247"><a href="/gostd/net/url/url_test.go.html#6524168">in</a></span><span class="op" id="6525249">,</span>&nbsp;<span class="ident" id="6525251"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525253">.</span><span class="ident" id="6525254"><a href="/gostd/net/url/url_test.go.html#6524181">mode</a></span><span class="op" id="6525258">)</span>&nbsp;<span class="op" id="6525260">!=</span>&nbsp;<span class="ident" id="6525263"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525265">.</span><span class="ident" id="6525266"><a href="/gostd/net/url/url_test.go.html#6524198">escape</a></span>&nbsp;<span class="op" id="6525273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6525278"><a href="/gostd/net/url/url_test.go.html#6525170">t</a></span><span class="op" id="6525279">.</span><span class="ident" id="6525280"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6525286">(</span><span class="string" id="6525287">&#34;shouldEscape(%q,&nbsp;%v)&nbsp;returned&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="6525334">,</span>&nbsp;<span class="ident" id="6525336"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525338">.</span><span class="ident" id="6525339"><a href="/gostd/net/url/url_test.go.html#6524168">in</a></span><span class="op" id="6525341">,</span>&nbsp;<span class="ident" id="6525343"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525345">.</span><span class="ident" id="6525346"><a href="/gostd/net/url/url_test.go.html#6524181">mode</a></span><span class="op" id="6525350">,</span>&nbsp;<span class="op" id="6525352">!</span><span class="ident" id="6525353"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525355">.</span><span class="ident" id="6525356"><a href="/gostd/net/url/url_test.go.html#6524198">escape</a></span><span class="op" id="6525362">,</span>&nbsp;<span class="ident" id="6525364"><a href="/gostd/net/url/url_test.go.html#6525194">tt</a></span><span class="op" id="6525366">.</span><span class="ident" id="6525367"><a href="/gostd/net/url/url_test.go.html#6524198">escape</a></span><span class="op" id="6525373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525377">}</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6525380">}</span><br>
<span class="lineno"></span><span class="op" id="6525382">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
