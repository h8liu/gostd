<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8211700">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8211756">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8211810">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8211861">package</span>&nbsp;<span class="ident" id="8211869">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8211875">import</span>&nbsp;<span class="op" id="8211882">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8211885">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8211895">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8211898">func</span>&nbsp;<span class="ident" id="8211903">TestTagParsing</span><span class="op" id="8211917">(</span><span class="ident" id="8211918">t</span>&nbsp;<span class="op" id="8211920">*</span><span class="ident" id="8211921">testing</span><span class="op" id="8211928">.</span><span class="ident" id="8211929">T</span><span class="op" id="8211930">)</span>&nbsp;<span class="op" id="8211932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8211935">name</span><span class="op" id="8211939">,</span>&nbsp;<span class="ident" id="8211941">opts</span>&nbsp;<span class="op" id="8211946">:=</span>&nbsp;<span class="ident" id="8211949">parseTag</span><span class="op" id="8211957">(</span><span class="string" id="8211958">&#34;field,foobar,foo&#34;</span><span class="op" id="8211976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8211979">if</span>&nbsp;<span class="ident" id="8211982">name</span>&nbsp;<span class="op" id="8211987">!=</span>&nbsp;<span class="string" id="8211990">&#34;field&#34;</span>&nbsp;<span class="op" id="8211998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8212002">t</span><span class="op" id="8212003">.</span><span class="ident" id="8212004">Fatalf</span><span class="op" id="8212010">(</span><span class="string" id="8212011">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8212034">,</span>&nbsp;<span class="ident" id="8212036">name</span><span class="op" id="8212040">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8212046">for</span>&nbsp;<span class="ident" id="8212050">_</span><span class="op" id="8212051">,</span>&nbsp;<span class="ident" id="8212053">tt</span>&nbsp;<span class="op" id="8212056">:=</span>&nbsp;<span class="keyword" id="8212059">range</span>&nbsp;<span class="op" id="8212065">[</span><span class="op" id="8212066">]</span><span class="keyword" id="8212067">struct</span>&nbsp;<span class="op" id="8212074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8212078">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8212083">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8212092">want</span>&nbsp;<span class="builtintype" id="8212097">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212103">}</span><span class="op" id="8212104">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212108">{</span><span class="string" id="8212109">&#34;foobar&#34;</span><span class="op" id="8212117">,</span>&nbsp;<span class="builtintype" id="8212119">true</span><span class="op" id="8212123">}</span><span class="op" id="8212124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212128">{</span><span class="string" id="8212129">&#34;foo&#34;</span><span class="op" id="8212134">,</span>&nbsp;<span class="builtintype" id="8212136">true</span><span class="op" id="8212140">}</span><span class="op" id="8212141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212145">{</span><span class="string" id="8212146">&#34;bar&#34;</span><span class="op" id="8212151">,</span>&nbsp;<span class="builtintype" id="8212153">false</span><span class="op" id="8212158">}</span><span class="op" id="8212159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212162">}</span>&nbsp;<span class="op" id="8212164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8212168">if</span>&nbsp;<span class="ident" id="8212171">opts</span><span class="op" id="8212175">.</span><span class="ident" id="8212176">Contains</span><span class="op" id="8212184">(</span><span class="ident" id="8212185">tt</span><span class="op" id="8212187">.</span><span class="ident" id="8212188">opt</span><span class="op" id="8212191">)</span>&nbsp;<span class="op" id="8212193">!=</span>&nbsp;<span class="ident" id="8212196">tt</span><span class="op" id="8212198">.</span><span class="ident" id="8212199">want</span>&nbsp;<span class="op" id="8212204">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8212209">t</span><span class="op" id="8212210">.</span><span class="ident" id="8212211">Errorf</span><span class="op" id="8212217">(</span><span class="string" id="8212218">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8212237">,</span>&nbsp;<span class="ident" id="8212239">tt</span><span class="op" id="8212241">.</span><span class="ident" id="8212242">opt</span><span class="op" id="8212245">,</span>&nbsp;<span class="op" id="8212247">!</span><span class="ident" id="8212248">tt</span><span class="op" id="8212250">.</span><span class="ident" id="8212251">want</span><span class="op" id="8212255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8212262">}</span><br>
<span class="lineno"></span><span class="op" id="8212264">}</span>
</div>
</body>
</html>
