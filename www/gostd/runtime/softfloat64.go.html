<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html" class="current">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1886799">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1886855">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1886909">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1886960">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="1887003">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="1887056">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1887092">package</span>&nbsp;<span class="ident" id="1887100">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1887109">const</span>&nbsp;<span class="op" id="1887115">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887118">mantbits64</span>&nbsp;<span class="builtintype" id="1887129">uint</span>&nbsp;<span class="op" id="1887134">=</span>&nbsp;<span class="num" id="1887136">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887140">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="1887151">uint</span>&nbsp;<span class="op" id="1887156">=</span>&nbsp;<span class="num" id="1887158">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887162">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1887178">=</span>&nbsp;<span class="op" id="1887180">-</span><span class="num" id="1887181">1</span><span class="op" id="1887182">&lt;&lt;</span><span class="op" id="1887184">(</span><span class="ident" id="1887185">expbits64</span><span class="op" id="1887194">-</span><span class="num" id="1887195">1</span><span class="op" id="1887196">)</span>&nbsp;<span class="op" id="1887198">+</span>&nbsp;<span class="num" id="1887200">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887204">nan64</span>&nbsp;<span class="ident" id="1887210">uint64</span>&nbsp;<span class="op" id="1887217">=</span>&nbsp;<span class="op" id="1887219">(</span><span class="num" id="1887220">1</span><span class="op" id="1887221">&lt;&lt;</span><span class="ident" id="1887223">expbits64</span><span class="op" id="1887232">-</span><span class="num" id="1887233">1</span><span class="op" id="1887234">)</span><span class="op" id="1887235">&lt;&lt;</span><span class="ident" id="1887237">mantbits64</span>&nbsp;<span class="op" id="1887248">+</span>&nbsp;<span class="num" id="1887250">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887253">inf64</span>&nbsp;<span class="ident" id="1887259">uint64</span>&nbsp;<span class="op" id="1887266">=</span>&nbsp;<span class="op" id="1887268">(</span><span class="num" id="1887269">1</span><span class="op" id="1887270">&lt;&lt;</span><span class="ident" id="1887272">expbits64</span>&nbsp;<span class="op" id="1887282">-</span>&nbsp;<span class="num" id="1887284">1</span><span class="op" id="1887285">)</span>&nbsp;<span class="op" id="1887287">&lt;&lt;</span>&nbsp;<span class="ident" id="1887290">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887302">neg64</span>&nbsp;<span class="ident" id="1887308">uint64</span>&nbsp;<span class="op" id="1887315">=</span>&nbsp;<span class="num" id="1887317">1</span>&nbsp;<span class="op" id="1887319">&lt;&lt;</span>&nbsp;<span class="op" id="1887322">(</span><span class="ident" id="1887323">expbits64</span>&nbsp;<span class="op" id="1887333">+</span>&nbsp;<span class="ident" id="1887335">mantbits64</span><span class="op" id="1887345">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887349">mantbits32</span>&nbsp;<span class="builtintype" id="1887360">uint</span>&nbsp;<span class="op" id="1887365">=</span>&nbsp;<span class="num" id="1887367">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887371">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="1887382">uint</span>&nbsp;<span class="op" id="1887387">=</span>&nbsp;<span class="num" id="1887389">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887392">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1887408">=</span>&nbsp;<span class="op" id="1887410">-</span><span class="num" id="1887411">1</span><span class="op" id="1887412">&lt;&lt;</span><span class="op" id="1887414">(</span><span class="ident" id="1887415">expbits32</span><span class="op" id="1887424">-</span><span class="num" id="1887425">1</span><span class="op" id="1887426">)</span>&nbsp;<span class="op" id="1887428">+</span>&nbsp;<span class="num" id="1887430">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887434">nan32</span>&nbsp;<span class="builtintype" id="1887440">uint32</span>&nbsp;<span class="op" id="1887447">=</span>&nbsp;<span class="op" id="1887449">(</span><span class="num" id="1887450">1</span><span class="op" id="1887451">&lt;&lt;</span><span class="ident" id="1887453">expbits32</span><span class="op" id="1887462">-</span><span class="num" id="1887463">1</span><span class="op" id="1887464">)</span><span class="op" id="1887465">&lt;&lt;</span><span class="ident" id="1887467">mantbits32</span>&nbsp;<span class="op" id="1887478">+</span>&nbsp;<span class="num" id="1887480">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887483">inf32</span>&nbsp;<span class="builtintype" id="1887489">uint32</span>&nbsp;<span class="op" id="1887496">=</span>&nbsp;<span class="op" id="1887498">(</span><span class="num" id="1887499">1</span><span class="op" id="1887500">&lt;&lt;</span><span class="ident" id="1887502">expbits32</span>&nbsp;<span class="op" id="1887512">-</span>&nbsp;<span class="num" id="1887514">1</span><span class="op" id="1887515">)</span>&nbsp;<span class="op" id="1887517">&lt;&lt;</span>&nbsp;<span class="ident" id="1887520">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887532">neg32</span>&nbsp;<span class="builtintype" id="1887538">uint32</span>&nbsp;<span class="op" id="1887545">=</span>&nbsp;<span class="num" id="1887547">1</span>&nbsp;<span class="op" id="1887549">&lt;&lt;</span>&nbsp;<span class="op" id="1887552">(</span><span class="ident" id="1887553">expbits32</span>&nbsp;<span class="op" id="1887563">+</span>&nbsp;<span class="ident" id="1887565">mantbits32</span><span class="op" id="1887575">)</span><br>
<span class="lineno"></span><span class="op" id="1887577">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1887580">func</span>&nbsp;<span class="ident" id="1887585">funpack64</span><span class="op" id="1887594">(</span><span class="ident" id="1887595">f</span>&nbsp;<span class="ident" id="1887597">uint64</span><span class="op" id="1887603">)</span>&nbsp;<span class="op" id="1887605">(</span><span class="ident" id="1887606">sign</span><span class="op" id="1887610">,</span>&nbsp;<span class="ident" id="1887612">mant</span>&nbsp;<span class="ident" id="1887617">uint64</span><span class="op" id="1887623">,</span>&nbsp;<span class="ident" id="1887625">exp</span>&nbsp;<span class="builtintype" id="1887629">int</span><span class="op" id="1887632">,</span>&nbsp;<span class="ident" id="1887634">inf</span><span class="op" id="1887637">,</span>&nbsp;<span class="ident" id="1887639">nan</span>&nbsp;<span class="builtintype" id="1887643">bool</span><span class="op" id="1887647">)</span>&nbsp;<span class="op" id="1887649">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887652">sign</span>&nbsp;<span class="op" id="1887657">=</span>&nbsp;<span class="ident" id="1887659">f</span>&nbsp;<span class="op" id="1887661">&amp;</span>&nbsp;<span class="op" id="1887663">(</span><span class="num" id="1887664">1</span>&nbsp;<span class="op" id="1887666">&lt;&lt;</span>&nbsp;<span class="op" id="1887669">(</span><span class="ident" id="1887670">mantbits64</span>&nbsp;<span class="op" id="1887681">+</span>&nbsp;<span class="ident" id="1887683">expbits64</span><span class="op" id="1887692">)</span><span class="op" id="1887693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887696">mant</span>&nbsp;<span class="op" id="1887701">=</span>&nbsp;<span class="ident" id="1887703">f</span>&nbsp;<span class="op" id="1887705">&amp;</span>&nbsp;<span class="op" id="1887707">(</span><span class="num" id="1887708">1</span><span class="op" id="1887709">&lt;&lt;</span><span class="ident" id="1887711">mantbits64</span>&nbsp;<span class="op" id="1887722">-</span>&nbsp;<span class="num" id="1887724">1</span><span class="op" id="1887725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887728">exp</span>&nbsp;<span class="op" id="1887732">=</span>&nbsp;<span class="builtintype" id="1887734">int</span><span class="op" id="1887737">(</span><span class="ident" id="1887738">f</span><span class="op" id="1887739">&gt;&gt;</span><span class="ident" id="1887741">mantbits64</span><span class="op" id="1887751">)</span>&nbsp;<span class="op" id="1887753">&amp;</span>&nbsp;<span class="op" id="1887755">(</span><span class="num" id="1887756">1</span><span class="op" id="1887757">&lt;&lt;</span><span class="ident" id="1887759">expbits64</span>&nbsp;<span class="op" id="1887769">-</span>&nbsp;<span class="num" id="1887771">1</span><span class="op" id="1887772">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887776">switch</span>&nbsp;<span class="ident" id="1887783">exp</span>&nbsp;<span class="op" id="1887787">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887790">case</span>&nbsp;<span class="num" id="1887795">1</span><span class="op" id="1887796">&lt;&lt;</span><span class="ident" id="1887798">expbits64</span>&nbsp;<span class="op" id="1887808">-</span>&nbsp;<span class="num" id="1887810">1</span><span class="op" id="1887811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887815">if</span>&nbsp;<span class="ident" id="1887818">mant</span>&nbsp;<span class="op" id="1887823">!=</span>&nbsp;<span class="num" id="1887826">0</span>&nbsp;<span class="op" id="1887828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887833">nan</span>&nbsp;<span class="op" id="1887837">=</span>&nbsp;<span class="builtintype" id="1887839">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887847">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1887856">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887860">inf</span>&nbsp;<span class="op" id="1887864">=</span>&nbsp;<span class="builtintype" id="1887866">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887873">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887882">case</span>&nbsp;<span class="num" id="1887887">0</span><span class="op" id="1887888">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1887892">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887910">if</span>&nbsp;<span class="ident" id="1887913">mant</span>&nbsp;<span class="op" id="1887918">!=</span>&nbsp;<span class="num" id="1887921">0</span>&nbsp;<span class="op" id="1887923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887928">exp</span>&nbsp;<span class="op" id="1887932">+=</span>&nbsp;<span class="ident" id="1887935">bias64</span>&nbsp;<span class="op" id="1887942">+</span>&nbsp;<span class="num" id="1887944">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1887949">for</span>&nbsp;<span class="ident" id="1887953">mant</span>&nbsp;<span class="op" id="1887958">&lt;</span>&nbsp;<span class="num" id="1887960">1</span><span class="op" id="1887961">&lt;&lt;</span><span class="ident" id="1887963">mantbits64</span>&nbsp;<span class="op" id="1887974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887980">mant</span>&nbsp;<span class="op" id="1887985">&lt;&lt;=</span>&nbsp;<span class="num" id="1887989">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1887995">exp</span><span class="op" id="1887998">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888012">default</span><span class="op" id="1888019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1888023">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888049">mant</span>&nbsp;<span class="op" id="1888054">|=</span>&nbsp;<span class="num" id="1888057">1</span>&nbsp;<span class="op" id="1888059">&lt;&lt;</span>&nbsp;<span class="ident" id="1888062">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888075">exp</span>&nbsp;<span class="op" id="1888079">+=</span>&nbsp;<span class="ident" id="1888082">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888093">return</span><br>
<span class="lineno"></span><span class="op" id="1888100">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1888103">func</span>&nbsp;<span class="ident" id="1888108">funpack32</span><span class="op" id="1888117">(</span><span class="ident" id="1888118">f</span>&nbsp;<span class="builtintype" id="1888120">uint32</span><span class="op" id="1888126">)</span>&nbsp;<span class="op" id="1888128">(</span><span class="ident" id="1888129">sign</span><span class="op" id="1888133">,</span>&nbsp;<span class="ident" id="1888135">mant</span>&nbsp;<span class="builtintype" id="1888140">uint32</span><span class="op" id="1888146">,</span>&nbsp;<span class="ident" id="1888148">exp</span>&nbsp;<span class="builtintype" id="1888152">int</span><span class="op" id="1888155">,</span>&nbsp;<span class="ident" id="1888157">inf</span><span class="op" id="1888160">,</span>&nbsp;<span class="ident" id="1888162">nan</span>&nbsp;<span class="builtintype" id="1888166">bool</span><span class="op" id="1888170">)</span>&nbsp;<span class="op" id="1888172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888175">sign</span>&nbsp;<span class="op" id="1888180">=</span>&nbsp;<span class="ident" id="1888182">f</span>&nbsp;<span class="op" id="1888184">&amp;</span>&nbsp;<span class="op" id="1888186">(</span><span class="num" id="1888187">1</span>&nbsp;<span class="op" id="1888189">&lt;&lt;</span>&nbsp;<span class="op" id="1888192">(</span><span class="ident" id="1888193">mantbits32</span>&nbsp;<span class="op" id="1888204">+</span>&nbsp;<span class="ident" id="1888206">expbits32</span><span class="op" id="1888215">)</span><span class="op" id="1888216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888219">mant</span>&nbsp;<span class="op" id="1888224">=</span>&nbsp;<span class="ident" id="1888226">f</span>&nbsp;<span class="op" id="1888228">&amp;</span>&nbsp;<span class="op" id="1888230">(</span><span class="num" id="1888231">1</span><span class="op" id="1888232">&lt;&lt;</span><span class="ident" id="1888234">mantbits32</span>&nbsp;<span class="op" id="1888245">-</span>&nbsp;<span class="num" id="1888247">1</span><span class="op" id="1888248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888251">exp</span>&nbsp;<span class="op" id="1888255">=</span>&nbsp;<span class="builtintype" id="1888257">int</span><span class="op" id="1888260">(</span><span class="ident" id="1888261">f</span><span class="op" id="1888262">&gt;&gt;</span><span class="ident" id="1888264">mantbits32</span><span class="op" id="1888274">)</span>&nbsp;<span class="op" id="1888276">&amp;</span>&nbsp;<span class="op" id="1888278">(</span><span class="num" id="1888279">1</span><span class="op" id="1888280">&lt;&lt;</span><span class="ident" id="1888282">expbits32</span>&nbsp;<span class="op" id="1888292">-</span>&nbsp;<span class="num" id="1888294">1</span><span class="op" id="1888295">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888299">switch</span>&nbsp;<span class="ident" id="1888306">exp</span>&nbsp;<span class="op" id="1888310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888313">case</span>&nbsp;<span class="num" id="1888318">1</span><span class="op" id="1888319">&lt;&lt;</span><span class="ident" id="1888321">expbits32</span>&nbsp;<span class="op" id="1888331">-</span>&nbsp;<span class="num" id="1888333">1</span><span class="op" id="1888334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888338">if</span>&nbsp;<span class="ident" id="1888341">mant</span>&nbsp;<span class="op" id="1888346">!=</span>&nbsp;<span class="num" id="1888349">0</span>&nbsp;<span class="op" id="1888351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888356">nan</span>&nbsp;<span class="op" id="1888360">=</span>&nbsp;<span class="builtintype" id="1888362">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888370">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888383">inf</span>&nbsp;<span class="op" id="1888387">=</span>&nbsp;<span class="builtintype" id="1888389">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888396">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888405">case</span>&nbsp;<span class="num" id="1888410">0</span><span class="op" id="1888411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1888415">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888433">if</span>&nbsp;<span class="ident" id="1888436">mant</span>&nbsp;<span class="op" id="1888441">!=</span>&nbsp;<span class="num" id="1888444">0</span>&nbsp;<span class="op" id="1888446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888451">exp</span>&nbsp;<span class="op" id="1888455">+=</span>&nbsp;<span class="ident" id="1888458">bias32</span>&nbsp;<span class="op" id="1888465">+</span>&nbsp;<span class="num" id="1888467">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888472">for</span>&nbsp;<span class="ident" id="1888476">mant</span>&nbsp;<span class="op" id="1888481">&lt;</span>&nbsp;<span class="num" id="1888483">1</span><span class="op" id="1888484">&lt;&lt;</span><span class="ident" id="1888486">mantbits32</span>&nbsp;<span class="op" id="1888497">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888503">mant</span>&nbsp;<span class="op" id="1888508">&lt;&lt;=</span>&nbsp;<span class="num" id="1888512">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888518">exp</span><span class="op" id="1888521">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888535">default</span><span class="op" id="1888542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1888546">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888572">mant</span>&nbsp;<span class="op" id="1888577">|=</span>&nbsp;<span class="num" id="1888580">1</span>&nbsp;<span class="op" id="1888582">&lt;&lt;</span>&nbsp;<span class="ident" id="1888585">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888598">exp</span>&nbsp;<span class="op" id="1888602">+=</span>&nbsp;<span class="ident" id="1888605">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888613">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888616">return</span><br>
<span class="lineno"></span><span class="op" id="1888623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1888626">func</span>&nbsp;<span class="ident" id="1888631">fpack64</span><span class="op" id="1888638">(</span><span class="ident" id="1888639">sign</span><span class="op" id="1888643">,</span>&nbsp;<span class="ident" id="1888645">mant</span>&nbsp;<span class="ident" id="1888650">uint64</span><span class="op" id="1888656">,</span>&nbsp;<span class="ident" id="1888658">exp</span>&nbsp;<span class="builtintype" id="1888662">int</span><span class="op" id="1888665">,</span>&nbsp;<span class="ident" id="1888667">trunc</span>&nbsp;<span class="ident" id="1888673">uint64</span><span class="op" id="1888679">)</span>&nbsp;<span class="ident" id="1888681">uint64</span>&nbsp;<span class="op" id="1888688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888691">mant0</span><span class="op" id="1888696">,</span>&nbsp;<span class="ident" id="1888698">exp0</span><span class="op" id="1888702">,</span>&nbsp;<span class="ident" id="1888704">trunc0</span>&nbsp;<span class="op" id="1888711">:=</span>&nbsp;<span class="ident" id="1888714">mant</span><span class="op" id="1888718">,</span>&nbsp;<span class="ident" id="1888720">exp</span><span class="op" id="1888723">,</span>&nbsp;<span class="ident" id="1888725">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888732">if</span>&nbsp;<span class="ident" id="1888735">mant</span>&nbsp;<span class="op" id="1888740">==</span>&nbsp;<span class="num" id="1888743">0</span>&nbsp;<span class="op" id="1888745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888749">return</span>&nbsp;<span class="ident" id="1888756">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888765">for</span>&nbsp;<span class="ident" id="1888769">mant</span>&nbsp;<span class="op" id="1888774">&lt;</span>&nbsp;<span class="num" id="1888776">1</span><span class="op" id="1888777">&lt;&lt;</span><span class="ident" id="1888779">mantbits64</span>&nbsp;<span class="op" id="1888790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888794">mant</span>&nbsp;<span class="op" id="1888799">&lt;&lt;=</span>&nbsp;<span class="num" id="1888803">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888807">exp</span><span class="op" id="1888810">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888817">for</span>&nbsp;<span class="ident" id="1888821">mant</span>&nbsp;<span class="op" id="1888826">&gt;=</span>&nbsp;<span class="num" id="1888829">4</span><span class="op" id="1888830">&lt;&lt;</span><span class="ident" id="1888832">mantbits64</span>&nbsp;<span class="op" id="1888843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888847">trunc</span>&nbsp;<span class="op" id="1888853">|=</span>&nbsp;<span class="ident" id="1888856">mant</span>&nbsp;<span class="op" id="1888861">&amp;</span>&nbsp;<span class="num" id="1888863">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888867">mant</span>&nbsp;<span class="op" id="1888872">&gt;&gt;=</span>&nbsp;<span class="num" id="1888876">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888880">exp</span><span class="op" id="1888883">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1888887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888890">if</span>&nbsp;<span class="ident" id="1888893">mant</span>&nbsp;<span class="op" id="1888898">&gt;=</span>&nbsp;<span class="num" id="1888901">2</span><span class="op" id="1888902">&lt;&lt;</span><span class="ident" id="1888904">mantbits64</span>&nbsp;<span class="op" id="1888915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888919">if</span>&nbsp;<span class="ident" id="1888922">mant</span><span class="op" id="1888926">&amp;</span><span class="num" id="1888927">1</span>&nbsp;<span class="op" id="1888929">!=</span>&nbsp;<span class="num" id="1888932">0</span>&nbsp;<span class="op" id="1888934">&amp;&amp;</span>&nbsp;<span class="op" id="1888937">(</span><span class="ident" id="1888938">trunc</span>&nbsp;<span class="op" id="1888944">!=</span>&nbsp;<span class="num" id="1888947">0</span>&nbsp;<span class="op" id="1888949">||</span>&nbsp;<span class="ident" id="1888952">mant</span><span class="op" id="1888956">&amp;</span><span class="num" id="1888957">2</span>&nbsp;<span class="op" id="1888959">!=</span>&nbsp;<span class="num" id="1888962">0</span><span class="op" id="1888963">)</span>&nbsp;<span class="op" id="1888965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1888970">mant</span><span class="op" id="1888974">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1888980">if</span>&nbsp;<span class="ident" id="1888983">mant</span>&nbsp;<span class="op" id="1888988">&gt;=</span>&nbsp;<span class="num" id="1888991">4</span><span class="op" id="1888992">&lt;&lt;</span><span class="ident" id="1888994">mantbits64</span>&nbsp;<span class="op" id="1889005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889011">mant</span>&nbsp;<span class="op" id="1889016">&gt;&gt;=</span>&nbsp;<span class="num" id="1889020">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889026">exp</span><span class="op" id="1889029">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889039">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889043">mant</span>&nbsp;<span class="op" id="1889048">&gt;&gt;=</span>&nbsp;<span class="num" id="1889052">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889056">exp</span><span class="op" id="1889059">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889066">if</span>&nbsp;<span class="ident" id="1889069">exp</span>&nbsp;<span class="op" id="1889073">&gt;=</span>&nbsp;<span class="num" id="1889076">1</span><span class="op" id="1889077">&lt;&lt;</span><span class="ident" id="1889079">expbits64</span><span class="op" id="1889088">-</span><span class="num" id="1889089">1</span><span class="op" id="1889090">+</span><span class="ident" id="1889091">bias64</span>&nbsp;<span class="op" id="1889098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889102">return</span>&nbsp;<span class="ident" id="1889109">sign</span>&nbsp;<span class="op" id="1889114">^</span>&nbsp;<span class="ident" id="1889116">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889126">if</span>&nbsp;<span class="ident" id="1889129">exp</span>&nbsp;<span class="op" id="1889133">&lt;</span>&nbsp;<span class="ident" id="1889135">bias64</span><span class="op" id="1889141">+</span><span class="num" id="1889142">1</span>&nbsp;<span class="op" id="1889144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889148">if</span>&nbsp;<span class="ident" id="1889151">exp</span>&nbsp;<span class="op" id="1889155">&lt;</span>&nbsp;<span class="ident" id="1889157">bias64</span><span class="op" id="1889163">-</span><span class="builtintype" id="1889164">int</span><span class="op" id="1889167">(</span><span class="ident" id="1889168">mantbits64</span><span class="op" id="1889178">)</span>&nbsp;<span class="op" id="1889180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889185">return</span>&nbsp;<span class="ident" id="1889192">sign</span>&nbsp;<span class="op" id="1889197">|</span>&nbsp;<span class="num" id="1889199">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889203">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1889207">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889238">mant</span><span class="op" id="1889242">,</span>&nbsp;<span class="ident" id="1889244">exp</span><span class="op" id="1889247">,</span>&nbsp;<span class="ident" id="1889249">trunc</span>&nbsp;<span class="op" id="1889255">=</span>&nbsp;<span class="ident" id="1889257">mant0</span><span class="op" id="1889262">,</span>&nbsp;<span class="ident" id="1889264">exp0</span><span class="op" id="1889268">,</span>&nbsp;<span class="ident" id="1889270">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889279">for</span>&nbsp;<span class="ident" id="1889283">exp</span>&nbsp;<span class="op" id="1889287">&lt;</span>&nbsp;<span class="ident" id="1889289">bias64</span>&nbsp;<span class="op" id="1889296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889301">trunc</span>&nbsp;<span class="op" id="1889307">|=</span>&nbsp;<span class="ident" id="1889310">mant</span>&nbsp;<span class="op" id="1889315">&amp;</span>&nbsp;<span class="num" id="1889317">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889322">mant</span>&nbsp;<span class="op" id="1889327">&gt;&gt;=</span>&nbsp;<span class="num" id="1889331">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889336">exp</span><span class="op" id="1889339">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889348">if</span>&nbsp;<span class="ident" id="1889351">mant</span><span class="op" id="1889355">&amp;</span><span class="num" id="1889356">1</span>&nbsp;<span class="op" id="1889358">!=</span>&nbsp;<span class="num" id="1889361">0</span>&nbsp;<span class="op" id="1889363">&amp;&amp;</span>&nbsp;<span class="op" id="1889366">(</span><span class="ident" id="1889367">trunc</span>&nbsp;<span class="op" id="1889373">!=</span>&nbsp;<span class="num" id="1889376">0</span>&nbsp;<span class="op" id="1889378">||</span>&nbsp;<span class="ident" id="1889381">mant</span><span class="op" id="1889385">&amp;</span><span class="num" id="1889386">2</span>&nbsp;<span class="op" id="1889388">!=</span>&nbsp;<span class="num" id="1889391">0</span><span class="op" id="1889392">)</span>&nbsp;<span class="op" id="1889394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889399">mant</span><span class="op" id="1889403">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889408">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889412">mant</span>&nbsp;<span class="op" id="1889417">&gt;&gt;=</span>&nbsp;<span class="num" id="1889421">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889425">exp</span><span class="op" id="1889428">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889433">if</span>&nbsp;<span class="ident" id="1889436">mant</span>&nbsp;<span class="op" id="1889441">&lt;</span>&nbsp;<span class="num" id="1889443">1</span><span class="op" id="1889444">&lt;&lt;</span><span class="ident" id="1889446">mantbits64</span>&nbsp;<span class="op" id="1889457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889462">return</span>&nbsp;<span class="ident" id="1889469">sign</span>&nbsp;<span class="op" id="1889474">|</span>&nbsp;<span class="ident" id="1889476">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889483">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889489">return</span>&nbsp;<span class="ident" id="1889496">sign</span>&nbsp;<span class="op" id="1889501">|</span>&nbsp;<span class="ident" id="1889503">uint64</span><span class="op" id="1889509">(</span><span class="ident" id="1889510">exp</span><span class="op" id="1889513">-</span><span class="ident" id="1889514">bias64</span><span class="op" id="1889520">)</span><span class="op" id="1889521">&lt;&lt;</span><span class="ident" id="1889523">mantbits64</span>&nbsp;<span class="op" id="1889534">|</span>&nbsp;<span class="ident" id="1889536">mant</span><span class="op" id="1889540">&amp;</span><span class="op" id="1889541">(</span><span class="num" id="1889542">1</span><span class="op" id="1889543">&lt;&lt;</span><span class="ident" id="1889545">mantbits64</span><span class="op" id="1889555">-</span><span class="num" id="1889556">1</span><span class="op" id="1889557">)</span><br>
<span class="lineno"></span><span class="op" id="1889559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1889562">func</span>&nbsp;<span class="ident" id="1889567">fpack32</span><span class="op" id="1889574">(</span><span class="ident" id="1889575">sign</span><span class="op" id="1889579">,</span>&nbsp;<span class="ident" id="1889581">mant</span>&nbsp;<span class="builtintype" id="1889586">uint32</span><span class="op" id="1889592">,</span>&nbsp;<span class="ident" id="1889594">exp</span>&nbsp;<span class="builtintype" id="1889598">int</span><span class="op" id="1889601">,</span>&nbsp;<span class="ident" id="1889603">trunc</span>&nbsp;<span class="builtintype" id="1889609">uint32</span><span class="op" id="1889615">)</span>&nbsp;<span class="builtintype" id="1889617">uint32</span>&nbsp;<span class="op" id="1889624">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889627">mant0</span><span class="op" id="1889632">,</span>&nbsp;<span class="ident" id="1889634">exp0</span><span class="op" id="1889638">,</span>&nbsp;<span class="ident" id="1889640">trunc0</span>&nbsp;<span class="op" id="1889647">:=</span>&nbsp;<span class="ident" id="1889650">mant</span><span class="op" id="1889654">,</span>&nbsp;<span class="ident" id="1889656">exp</span><span class="op" id="1889659">,</span>&nbsp;<span class="ident" id="1889661">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889668">if</span>&nbsp;<span class="ident" id="1889671">mant</span>&nbsp;<span class="op" id="1889676">==</span>&nbsp;<span class="num" id="1889679">0</span>&nbsp;<span class="op" id="1889681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889685">return</span>&nbsp;<span class="ident" id="1889692">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889701">for</span>&nbsp;<span class="ident" id="1889705">mant</span>&nbsp;<span class="op" id="1889710">&lt;</span>&nbsp;<span class="num" id="1889712">1</span><span class="op" id="1889713">&lt;&lt;</span><span class="ident" id="1889715">mantbits32</span>&nbsp;<span class="op" id="1889726">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889730">mant</span>&nbsp;<span class="op" id="1889735">&lt;&lt;=</span>&nbsp;<span class="num" id="1889739">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889743">exp</span><span class="op" id="1889746">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889753">for</span>&nbsp;<span class="ident" id="1889757">mant</span>&nbsp;<span class="op" id="1889762">&gt;=</span>&nbsp;<span class="num" id="1889765">4</span><span class="op" id="1889766">&lt;&lt;</span><span class="ident" id="1889768">mantbits32</span>&nbsp;<span class="op" id="1889779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889783">trunc</span>&nbsp;<span class="op" id="1889789">|=</span>&nbsp;<span class="ident" id="1889792">mant</span>&nbsp;<span class="op" id="1889797">&amp;</span>&nbsp;<span class="num" id="1889799">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889803">mant</span>&nbsp;<span class="op" id="1889808">&gt;&gt;=</span>&nbsp;<span class="num" id="1889812">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889816">exp</span><span class="op" id="1889819">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889826">if</span>&nbsp;<span class="ident" id="1889829">mant</span>&nbsp;<span class="op" id="1889834">&gt;=</span>&nbsp;<span class="num" id="1889837">2</span><span class="op" id="1889838">&lt;&lt;</span><span class="ident" id="1889840">mantbits32</span>&nbsp;<span class="op" id="1889851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889855">if</span>&nbsp;<span class="ident" id="1889858">mant</span><span class="op" id="1889862">&amp;</span><span class="num" id="1889863">1</span>&nbsp;<span class="op" id="1889865">!=</span>&nbsp;<span class="num" id="1889868">0</span>&nbsp;<span class="op" id="1889870">&amp;&amp;</span>&nbsp;<span class="op" id="1889873">(</span><span class="ident" id="1889874">trunc</span>&nbsp;<span class="op" id="1889880">!=</span>&nbsp;<span class="num" id="1889883">0</span>&nbsp;<span class="op" id="1889885">||</span>&nbsp;<span class="ident" id="1889888">mant</span><span class="op" id="1889892">&amp;</span><span class="num" id="1889893">2</span>&nbsp;<span class="op" id="1889895">!=</span>&nbsp;<span class="num" id="1889898">0</span><span class="op" id="1889899">)</span>&nbsp;<span class="op" id="1889901">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889906">mant</span><span class="op" id="1889910">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1889916">if</span>&nbsp;<span class="ident" id="1889919">mant</span>&nbsp;<span class="op" id="1889924">&gt;=</span>&nbsp;<span class="num" id="1889927">4</span><span class="op" id="1889928">&lt;&lt;</span><span class="ident" id="1889930">mantbits32</span>&nbsp;<span class="op" id="1889941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889947">mant</span>&nbsp;<span class="op" id="1889952">&gt;&gt;=</span>&nbsp;<span class="num" id="1889956">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889962">exp</span><span class="op" id="1889965">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889971">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889979">mant</span>&nbsp;<span class="op" id="1889984">&gt;&gt;=</span>&nbsp;<span class="num" id="1889988">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1889992">exp</span><span class="op" id="1889995">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1889999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890002">if</span>&nbsp;<span class="ident" id="1890005">exp</span>&nbsp;<span class="op" id="1890009">&gt;=</span>&nbsp;<span class="num" id="1890012">1</span><span class="op" id="1890013">&lt;&lt;</span><span class="ident" id="1890015">expbits32</span><span class="op" id="1890024">-</span><span class="num" id="1890025">1</span><span class="op" id="1890026">+</span><span class="ident" id="1890027">bias32</span>&nbsp;<span class="op" id="1890034">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890038">return</span>&nbsp;<span class="ident" id="1890045">sign</span>&nbsp;<span class="op" id="1890050">^</span>&nbsp;<span class="ident" id="1890052">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890062">if</span>&nbsp;<span class="ident" id="1890065">exp</span>&nbsp;<span class="op" id="1890069">&lt;</span>&nbsp;<span class="ident" id="1890071">bias32</span><span class="op" id="1890077">+</span><span class="num" id="1890078">1</span>&nbsp;<span class="op" id="1890080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890084">if</span>&nbsp;<span class="ident" id="1890087">exp</span>&nbsp;<span class="op" id="1890091">&lt;</span>&nbsp;<span class="ident" id="1890093">bias32</span><span class="op" id="1890099">-</span><span class="builtintype" id="1890100">int</span><span class="op" id="1890103">(</span><span class="ident" id="1890104">mantbits32</span><span class="op" id="1890114">)</span>&nbsp;<span class="op" id="1890116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890121">return</span>&nbsp;<span class="ident" id="1890128">sign</span>&nbsp;<span class="op" id="1890133">|</span>&nbsp;<span class="num" id="1890135">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1890143">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890174">mant</span><span class="op" id="1890178">,</span>&nbsp;<span class="ident" id="1890180">exp</span><span class="op" id="1890183">,</span>&nbsp;<span class="ident" id="1890185">trunc</span>&nbsp;<span class="op" id="1890191">=</span>&nbsp;<span class="ident" id="1890193">mant0</span><span class="op" id="1890198">,</span>&nbsp;<span class="ident" id="1890200">exp0</span><span class="op" id="1890204">,</span>&nbsp;<span class="ident" id="1890206">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890215">for</span>&nbsp;<span class="ident" id="1890219">exp</span>&nbsp;<span class="op" id="1890223">&lt;</span>&nbsp;<span class="ident" id="1890225">bias32</span>&nbsp;<span class="op" id="1890232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890237">trunc</span>&nbsp;<span class="op" id="1890243">|=</span>&nbsp;<span class="ident" id="1890246">mant</span>&nbsp;<span class="op" id="1890251">&amp;</span>&nbsp;<span class="num" id="1890253">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890258">mant</span>&nbsp;<span class="op" id="1890263">&gt;&gt;=</span>&nbsp;<span class="num" id="1890267">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890272">exp</span><span class="op" id="1890275">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890284">if</span>&nbsp;<span class="ident" id="1890287">mant</span><span class="op" id="1890291">&amp;</span><span class="num" id="1890292">1</span>&nbsp;<span class="op" id="1890294">!=</span>&nbsp;<span class="num" id="1890297">0</span>&nbsp;<span class="op" id="1890299">&amp;&amp;</span>&nbsp;<span class="op" id="1890302">(</span><span class="ident" id="1890303">trunc</span>&nbsp;<span class="op" id="1890309">!=</span>&nbsp;<span class="num" id="1890312">0</span>&nbsp;<span class="op" id="1890314">||</span>&nbsp;<span class="ident" id="1890317">mant</span><span class="op" id="1890321">&amp;</span><span class="num" id="1890322">2</span>&nbsp;<span class="op" id="1890324">!=</span>&nbsp;<span class="num" id="1890327">0</span><span class="op" id="1890328">)</span>&nbsp;<span class="op" id="1890330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890335">mant</span><span class="op" id="1890339">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890348">mant</span>&nbsp;<span class="op" id="1890353">&gt;&gt;=</span>&nbsp;<span class="num" id="1890357">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890361">exp</span><span class="op" id="1890364">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890369">if</span>&nbsp;<span class="ident" id="1890372">mant</span>&nbsp;<span class="op" id="1890377">&lt;</span>&nbsp;<span class="num" id="1890379">1</span><span class="op" id="1890380">&lt;&lt;</span><span class="ident" id="1890382">mantbits32</span>&nbsp;<span class="op" id="1890393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890398">return</span>&nbsp;<span class="ident" id="1890405">sign</span>&nbsp;<span class="op" id="1890410">|</span>&nbsp;<span class="ident" id="1890412">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1890422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890425">return</span>&nbsp;<span class="ident" id="1890432">sign</span>&nbsp;<span class="op" id="1890437">|</span>&nbsp;<span class="builtintype" id="1890439">uint32</span><span class="op" id="1890445">(</span><span class="ident" id="1890446">exp</span><span class="op" id="1890449">-</span><span class="ident" id="1890450">bias32</span><span class="op" id="1890456">)</span><span class="op" id="1890457">&lt;&lt;</span><span class="ident" id="1890459">mantbits32</span>&nbsp;<span class="op" id="1890470">|</span>&nbsp;<span class="ident" id="1890472">mant</span><span class="op" id="1890476">&amp;</span><span class="op" id="1890477">(</span><span class="num" id="1890478">1</span><span class="op" id="1890479">&lt;&lt;</span><span class="ident" id="1890481">mantbits32</span><span class="op" id="1890491">-</span><span class="num" id="1890492">1</span><span class="op" id="1890493">)</span><br>
<span class="lineno"></span><span class="op" id="1890495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="1890498">func</span>&nbsp;<span class="ident" id="1890503">fadd64</span><span class="op" id="1890509">(</span><span class="ident" id="1890510">f</span><span class="op" id="1890511">,</span>&nbsp;<span class="ident" id="1890513">g</span>&nbsp;<span class="ident" id="1890515">uint64</span><span class="op" id="1890521">)</span>&nbsp;<span class="ident" id="1890523">uint64</span>&nbsp;<span class="op" id="1890530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890533">fs</span><span class="op" id="1890535">,</span>&nbsp;<span class="ident" id="1890537">fm</span><span class="op" id="1890539">,</span>&nbsp;<span class="ident" id="1890541">fe</span><span class="op" id="1890543">,</span>&nbsp;<span class="ident" id="1890545">fi</span><span class="op" id="1890547">,</span>&nbsp;<span class="ident" id="1890549">fn</span>&nbsp;<span class="op" id="1890552">:=</span>&nbsp;<span class="ident" id="1890555">funpack64</span><span class="op" id="1890564">(</span><span class="ident" id="1890565">f</span><span class="op" id="1890566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890569">gs</span><span class="op" id="1890571">,</span>&nbsp;<span class="ident" id="1890573">gm</span><span class="op" id="1890575">,</span>&nbsp;<span class="ident" id="1890577">ge</span><span class="op" id="1890579">,</span>&nbsp;<span class="ident" id="1890581">gi</span><span class="op" id="1890583">,</span>&nbsp;<span class="ident" id="1890585">gn</span>&nbsp;<span class="op" id="1890588">:=</span>&nbsp;<span class="ident" id="1890591">funpack64</span><span class="op" id="1890600">(</span><span class="ident" id="1890601">g</span><span class="op" id="1890602">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1890606">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890625">switch</span>&nbsp;<span class="op" id="1890632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890635">case</span>&nbsp;<span class="ident" id="1890640">fn</span>&nbsp;<span class="op" id="1890643">||</span>&nbsp;<span class="ident" id="1890646">gn</span><span class="op" id="1890648">:</span>&nbsp;<span class="comment" id="1890650">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890680">return</span>&nbsp;<span class="ident" id="1890687">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890695">case</span>&nbsp;<span class="ident" id="1890700">fi</span>&nbsp;<span class="op" id="1890703">&amp;&amp;</span>&nbsp;<span class="ident" id="1890706">gi</span>&nbsp;<span class="op" id="1890709">&amp;&amp;</span>&nbsp;<span class="ident" id="1890712">fs</span>&nbsp;<span class="op" id="1890715">!=</span>&nbsp;<span class="ident" id="1890718">gs</span><span class="op" id="1890720">:</span>&nbsp;<span class="comment" id="1890722">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890760">return</span>&nbsp;<span class="ident" id="1890767">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890775">case</span>&nbsp;<span class="ident" id="1890780">fi</span><span class="op" id="1890782">:</span>&nbsp;<span class="comment" id="1890784">//&nbsp;±Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890807">return</span>&nbsp;<span class="ident" id="1890814">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890818">case</span>&nbsp;<span class="ident" id="1890823">gi</span><span class="op" id="1890825">:</span>&nbsp;<span class="comment" id="1890827">//&nbsp;f&nbsp;+&nbsp;±Inf&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890850">return</span>&nbsp;<span class="ident" id="1890857">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890861">case</span>&nbsp;<span class="ident" id="1890866">fm</span>&nbsp;<span class="op" id="1890869">==</span>&nbsp;<span class="num" id="1890872">0</span>&nbsp;<span class="op" id="1890874">&amp;&amp;</span>&nbsp;<span class="ident" id="1890877">gm</span>&nbsp;<span class="op" id="1890880">==</span>&nbsp;<span class="num" id="1890883">0</span>&nbsp;<span class="op" id="1890885">&amp;&amp;</span>&nbsp;<span class="ident" id="1890888">fs</span>&nbsp;<span class="op" id="1890891">!=</span>&nbsp;<span class="num" id="1890894">0</span>&nbsp;<span class="op" id="1890896">&amp;&amp;</span>&nbsp;<span class="ident" id="1890899">gs</span>&nbsp;<span class="op" id="1890902">!=</span>&nbsp;<span class="num" id="1890905">0</span><span class="op" id="1890906">:</span>&nbsp;<span class="comment" id="1890908">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890926">return</span>&nbsp;<span class="ident" id="1890933">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890937">case</span>&nbsp;<span class="ident" id="1890942">fm</span>&nbsp;<span class="op" id="1890945">==</span>&nbsp;<span class="num" id="1890948">0</span><span class="op" id="1890949">:</span>&nbsp;<span class="comment" id="1890951">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1890982">if</span>&nbsp;<span class="ident" id="1890985">gm</span>&nbsp;<span class="op" id="1890988">==</span>&nbsp;<span class="num" id="1890991">0</span>&nbsp;<span class="op" id="1890993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1890998">g</span>&nbsp;<span class="op" id="1891000">^=</span>&nbsp;<span class="ident" id="1891003">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891008">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891012">return</span>&nbsp;<span class="ident" id="1891019">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891023">case</span>&nbsp;<span class="ident" id="1891028">gm</span>&nbsp;<span class="op" id="1891031">==</span>&nbsp;<span class="num" id="1891034">0</span><span class="op" id="1891035">:</span>&nbsp;<span class="comment" id="1891037">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891052">return</span>&nbsp;<span class="ident" id="1891059">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891067">if</span>&nbsp;<span class="ident" id="1891070">fe</span>&nbsp;<span class="op" id="1891073">&lt;</span>&nbsp;<span class="ident" id="1891075">ge</span>&nbsp;<span class="op" id="1891078">||</span>&nbsp;<span class="ident" id="1891081">fe</span>&nbsp;<span class="op" id="1891084">==</span>&nbsp;<span class="ident" id="1891087">ge</span>&nbsp;<span class="op" id="1891090">&amp;&amp;</span>&nbsp;<span class="ident" id="1891093">fm</span>&nbsp;<span class="op" id="1891096">&lt;</span>&nbsp;<span class="ident" id="1891098">gm</span>&nbsp;<span class="op" id="1891101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891105">f</span><span class="op" id="1891106">,</span>&nbsp;<span class="ident" id="1891108">g</span><span class="op" id="1891109">,</span>&nbsp;<span class="ident" id="1891111">fs</span><span class="op" id="1891113">,</span>&nbsp;<span class="ident" id="1891115">fm</span><span class="op" id="1891117">,</span>&nbsp;<span class="ident" id="1891119">fe</span><span class="op" id="1891121">,</span>&nbsp;<span class="ident" id="1891123">gs</span><span class="op" id="1891125">,</span>&nbsp;<span class="ident" id="1891127">gm</span><span class="op" id="1891129">,</span>&nbsp;<span class="ident" id="1891131">ge</span>&nbsp;<span class="op" id="1891134">=</span>&nbsp;<span class="ident" id="1891136">g</span><span class="op" id="1891137">,</span>&nbsp;<span class="ident" id="1891139">f</span><span class="op" id="1891140">,</span>&nbsp;<span class="ident" id="1891142">gs</span><span class="op" id="1891144">,</span>&nbsp;<span class="ident" id="1891146">gm</span><span class="op" id="1891148">,</span>&nbsp;<span class="ident" id="1891150">ge</span><span class="op" id="1891152">,</span>&nbsp;<span class="ident" id="1891154">fs</span><span class="op" id="1891156">,</span>&nbsp;<span class="ident" id="1891158">fm</span><span class="op" id="1891160">,</span>&nbsp;<span class="ident" id="1891162">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891166">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891170">shift</span>&nbsp;<span class="op" id="1891176">:=</span>&nbsp;<span class="builtintype" id="1891179">uint</span><span class="op" id="1891183">(</span><span class="ident" id="1891184">fe</span>&nbsp;<span class="op" id="1891187">-</span>&nbsp;<span class="ident" id="1891189">ge</span><span class="op" id="1891191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891194">fm</span>&nbsp;<span class="op" id="1891197">&lt;&lt;=</span>&nbsp;<span class="num" id="1891201">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891204">gm</span>&nbsp;<span class="op" id="1891207">&lt;&lt;=</span>&nbsp;<span class="num" id="1891211">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891214">trunc</span>&nbsp;<span class="op" id="1891220">:=</span>&nbsp;<span class="ident" id="1891223">gm</span>&nbsp;<span class="op" id="1891226">&amp;</span>&nbsp;<span class="op" id="1891228">(</span><span class="num" id="1891229">1</span><span class="op" id="1891230">&lt;&lt;</span><span class="ident" id="1891232">shift</span>&nbsp;<span class="op" id="1891238">-</span>&nbsp;<span class="num" id="1891240">1</span><span class="op" id="1891241">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891244">gm</span>&nbsp;<span class="op" id="1891247">&gt;&gt;=</span>&nbsp;<span class="ident" id="1891251">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891258">if</span>&nbsp;<span class="ident" id="1891261">fs</span>&nbsp;<span class="op" id="1891264">==</span>&nbsp;<span class="ident" id="1891267">gs</span>&nbsp;<span class="op" id="1891270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891274">fm</span>&nbsp;<span class="op" id="1891277">+=</span>&nbsp;<span class="ident" id="1891280">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891284">}</span>&nbsp;<span class="keyword" id="1891286">else</span>&nbsp;<span class="op" id="1891291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891295">fm</span>&nbsp;<span class="op" id="1891298">-=</span>&nbsp;<span class="ident" id="1891301">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891306">if</span>&nbsp;<span class="ident" id="1891309">trunc</span>&nbsp;<span class="op" id="1891315">!=</span>&nbsp;<span class="num" id="1891318">0</span>&nbsp;<span class="op" id="1891320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891325">fm</span><span class="op" id="1891327">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891338">if</span>&nbsp;<span class="ident" id="1891341">fm</span>&nbsp;<span class="op" id="1891344">==</span>&nbsp;<span class="num" id="1891347">0</span>&nbsp;<span class="op" id="1891349">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891353">fs</span>&nbsp;<span class="op" id="1891356">=</span>&nbsp;<span class="num" id="1891358">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1891361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891364">return</span>&nbsp;<span class="ident" id="1891371">fpack64</span><span class="op" id="1891378">(</span><span class="ident" id="1891379">fs</span><span class="op" id="1891381">,</span>&nbsp;<span class="ident" id="1891383">fm</span><span class="op" id="1891385">,</span>&nbsp;<span class="ident" id="1891387">fe</span><span class="op" id="1891389">-</span><span class="num" id="1891390">2</span><span class="op" id="1891391">,</span>&nbsp;<span class="ident" id="1891393">trunc</span><span class="op" id="1891398">)</span><br>
<span class="lineno"></span><span class="op" id="1891400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1891403">func</span>&nbsp;<span class="ident" id="1891408">fsub64</span><span class="op" id="1891414">(</span><span class="ident" id="1891415">f</span><span class="op" id="1891416">,</span>&nbsp;<span class="ident" id="1891418">g</span>&nbsp;<span class="ident" id="1891420">uint64</span><span class="op" id="1891426">)</span>&nbsp;<span class="ident" id="1891428">uint64</span>&nbsp;<span class="op" id="1891435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891438">return</span>&nbsp;<span class="ident" id="1891445">fadd64</span><span class="op" id="1891451">(</span><span class="ident" id="1891452">f</span><span class="op" id="1891453">,</span>&nbsp;<span class="ident" id="1891455">fneg64</span><span class="op" id="1891461">(</span><span class="ident" id="1891462">g</span><span class="op" id="1891463">)</span><span class="op" id="1891464">)</span><br>
<span class="lineno"></span><span class="op" id="1891466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1891469">func</span>&nbsp;<span class="ident" id="1891474">fneg64</span><span class="op" id="1891480">(</span><span class="ident" id="1891481">f</span>&nbsp;<span class="ident" id="1891483">uint64</span><span class="op" id="1891489">)</span>&nbsp;<span class="ident" id="1891491">uint64</span>&nbsp;<span class="op" id="1891498">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891501">return</span>&nbsp;<span class="ident" id="1891508">f</span>&nbsp;<span class="op" id="1891510">^</span>&nbsp;<span class="op" id="1891512">(</span><span class="num" id="1891513">1</span>&nbsp;<span class="op" id="1891515">&lt;&lt;</span>&nbsp;<span class="op" id="1891518">(</span><span class="ident" id="1891519">mantbits64</span>&nbsp;<span class="op" id="1891530">+</span>&nbsp;<span class="ident" id="1891532">expbits64</span><span class="op" id="1891541">)</span><span class="op" id="1891542">)</span><br>
<span class="lineno"></span><span class="op" id="1891544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1891547">func</span>&nbsp;<span class="ident" id="1891552">fmul64</span><span class="op" id="1891558">(</span><span class="ident" id="1891559">f</span><span class="op" id="1891560">,</span>&nbsp;<span class="ident" id="1891562">g</span>&nbsp;<span class="ident" id="1891564">uint64</span><span class="op" id="1891570">)</span>&nbsp;<span class="ident" id="1891572">uint64</span>&nbsp;<span class="op" id="1891579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891582">fs</span><span class="op" id="1891584">,</span>&nbsp;<span class="ident" id="1891586">fm</span><span class="op" id="1891588">,</span>&nbsp;<span class="ident" id="1891590">fe</span><span class="op" id="1891592">,</span>&nbsp;<span class="ident" id="1891594">fi</span><span class="op" id="1891596">,</span>&nbsp;<span class="ident" id="1891598">fn</span>&nbsp;<span class="op" id="1891601">:=</span>&nbsp;<span class="ident" id="1891604">funpack64</span><span class="op" id="1891613">(</span><span class="ident" id="1891614">f</span><span class="op" id="1891615">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1891618">gs</span><span class="op" id="1891620">,</span>&nbsp;<span class="ident" id="1891622">gm</span><span class="op" id="1891624">,</span>&nbsp;<span class="ident" id="1891626">ge</span><span class="op" id="1891628">,</span>&nbsp;<span class="ident" id="1891630">gi</span><span class="op" id="1891632">,</span>&nbsp;<span class="ident" id="1891634">gn</span>&nbsp;<span class="op" id="1891637">:=</span>&nbsp;<span class="ident" id="1891640">funpack64</span><span class="op" id="1891649">(</span><span class="ident" id="1891650">g</span><span class="op" id="1891651">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1891655">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891674">switch</span>&nbsp;<span class="op" id="1891681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891684">case</span>&nbsp;<span class="ident" id="1891689">fn</span>&nbsp;<span class="op" id="1891692">||</span>&nbsp;<span class="ident" id="1891695">gn</span><span class="op" id="1891697">:</span>&nbsp;<span class="comment" id="1891699">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891729">return</span>&nbsp;<span class="ident" id="1891736">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891744">case</span>&nbsp;<span class="ident" id="1891749">fi</span>&nbsp;<span class="op" id="1891752">&amp;&amp;</span>&nbsp;<span class="ident" id="1891755">gi</span><span class="op" id="1891757">:</span>&nbsp;<span class="comment" id="1891759">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891801">return</span>&nbsp;<span class="ident" id="1891808">f</span>&nbsp;<span class="op" id="1891810">^</span>&nbsp;<span class="ident" id="1891812">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891817">case</span>&nbsp;<span class="ident" id="1891822">fi</span>&nbsp;<span class="op" id="1891825">&amp;&amp;</span>&nbsp;<span class="ident" id="1891828">gm</span>&nbsp;<span class="op" id="1891831">==</span>&nbsp;<span class="num" id="1891834">0</span><span class="op" id="1891835">,</span>&nbsp;<span class="ident" id="1891837">fm</span>&nbsp;<span class="op" id="1891840">==</span>&nbsp;<span class="num" id="1891843">0</span>&nbsp;<span class="op" id="1891845">&amp;&amp;</span>&nbsp;<span class="ident" id="1891848">gi</span><span class="op" id="1891850">:</span>&nbsp;<span class="comment" id="1891852">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891881">return</span>&nbsp;<span class="ident" id="1891888">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891896">case</span>&nbsp;<span class="ident" id="1891901">fm</span>&nbsp;<span class="op" id="1891904">==</span>&nbsp;<span class="num" id="1891907">0</span><span class="op" id="1891908">:</span>&nbsp;<span class="comment" id="1891910">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891946">return</span>&nbsp;<span class="ident" id="1891953">f</span>&nbsp;<span class="op" id="1891955">^</span>&nbsp;<span class="ident" id="1891957">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1891962">case</span>&nbsp;<span class="ident" id="1891967">gm</span>&nbsp;<span class="op" id="1891970">==</span>&nbsp;<span class="num" id="1891973">0</span><span class="op" id="1891974">:</span>&nbsp;<span class="comment" id="1891976">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892012">return</span>&nbsp;<span class="ident" id="1892019">g</span>&nbsp;<span class="op" id="1892021">^</span>&nbsp;<span class="ident" id="1892023">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1892027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1892031">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892069">lo</span><span class="op" id="1892071">,</span>&nbsp;<span class="ident" id="1892073">hi</span>&nbsp;<span class="op" id="1892076">:=</span>&nbsp;<span class="ident" id="1892079">mullu</span><span class="op" id="1892084">(</span><span class="ident" id="1892085">fm</span><span class="op" id="1892087">,</span>&nbsp;<span class="ident" id="1892089">gm</span><span class="op" id="1892091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892094">shift</span>&nbsp;<span class="op" id="1892100">:=</span>&nbsp;<span class="ident" id="1892103">mantbits64</span>&nbsp;<span class="op" id="1892114">-</span>&nbsp;<span class="num" id="1892116">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892119">trunc</span>&nbsp;<span class="op" id="1892125">:=</span>&nbsp;<span class="ident" id="1892128">lo</span>&nbsp;<span class="op" id="1892131">&amp;</span>&nbsp;<span class="op" id="1892133">(</span><span class="num" id="1892134">1</span><span class="op" id="1892135">&lt;&lt;</span><span class="ident" id="1892137">shift</span>&nbsp;<span class="op" id="1892143">-</span>&nbsp;<span class="num" id="1892145">1</span><span class="op" id="1892146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892149">mant</span>&nbsp;<span class="op" id="1892154">:=</span>&nbsp;<span class="ident" id="1892157">hi</span><span class="op" id="1892159">&lt;&lt;</span><span class="op" id="1892161">(</span><span class="num" id="1892162">64</span><span class="op" id="1892164">-</span><span class="ident" id="1892165">shift</span><span class="op" id="1892170">)</span>&nbsp;<span class="op" id="1892172">|</span>&nbsp;<span class="ident" id="1892174">lo</span><span class="op" id="1892176">&gt;&gt;</span><span class="ident" id="1892178">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892185">return</span>&nbsp;<span class="ident" id="1892192">fpack64</span><span class="op" id="1892199">(</span><span class="ident" id="1892200">fs</span><span class="op" id="1892202">^</span><span class="ident" id="1892203">gs</span><span class="op" id="1892205">,</span>&nbsp;<span class="ident" id="1892207">mant</span><span class="op" id="1892211">,</span>&nbsp;<span class="ident" id="1892213">fe</span><span class="op" id="1892215">+</span><span class="ident" id="1892216">ge</span><span class="op" id="1892218">-</span><span class="num" id="1892219">1</span><span class="op" id="1892220">,</span>&nbsp;<span class="ident" id="1892222">trunc</span><span class="op" id="1892227">)</span><br>
<span class="lineno"></span><span class="op" id="1892229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1892232">func</span>&nbsp;<span class="ident" id="1892237">fdiv64</span><span class="op" id="1892243">(</span><span class="ident" id="1892244">f</span><span class="op" id="1892245">,</span>&nbsp;<span class="ident" id="1892247">g</span>&nbsp;<span class="ident" id="1892249">uint64</span><span class="op" id="1892255">)</span>&nbsp;<span class="ident" id="1892257">uint64</span>&nbsp;<span class="op" id="1892264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892267">fs</span><span class="op" id="1892269">,</span>&nbsp;<span class="ident" id="1892271">fm</span><span class="op" id="1892273">,</span>&nbsp;<span class="ident" id="1892275">fe</span><span class="op" id="1892277">,</span>&nbsp;<span class="ident" id="1892279">fi</span><span class="op" id="1892281">,</span>&nbsp;<span class="ident" id="1892283">fn</span>&nbsp;<span class="op" id="1892286">:=</span>&nbsp;<span class="ident" id="1892289">funpack64</span><span class="op" id="1892298">(</span><span class="ident" id="1892299">f</span><span class="op" id="1892300">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892303">gs</span><span class="op" id="1892305">,</span>&nbsp;<span class="ident" id="1892307">gm</span><span class="op" id="1892309">,</span>&nbsp;<span class="ident" id="1892311">ge</span><span class="op" id="1892313">,</span>&nbsp;<span class="ident" id="1892315">gi</span><span class="op" id="1892317">,</span>&nbsp;<span class="ident" id="1892319">gn</span>&nbsp;<span class="op" id="1892322">:=</span>&nbsp;<span class="ident" id="1892325">funpack64</span><span class="op" id="1892334">(</span><span class="ident" id="1892335">g</span><span class="op" id="1892336">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1892340">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892359">switch</span>&nbsp;<span class="op" id="1892366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892369">case</span>&nbsp;<span class="ident" id="1892374">fn</span>&nbsp;<span class="op" id="1892377">||</span>&nbsp;<span class="ident" id="1892380">gn</span><span class="op" id="1892382">:</span>&nbsp;<span class="comment" id="1892384">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892413">return</span>&nbsp;<span class="ident" id="1892420">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892428">case</span>&nbsp;<span class="ident" id="1892433">fi</span>&nbsp;<span class="op" id="1892436">&amp;&amp;</span>&nbsp;<span class="ident" id="1892439">gi</span><span class="op" id="1892441">:</span>&nbsp;<span class="comment" id="1892443">//&nbsp;±Inf&nbsp;/&nbsp;±Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892468">return</span>&nbsp;<span class="ident" id="1892475">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892483">case</span>&nbsp;<span class="op" id="1892488">!</span><span class="ident" id="1892489">fi</span>&nbsp;<span class="op" id="1892492">&amp;&amp;</span>&nbsp;<span class="op" id="1892495">!</span><span class="ident" id="1892496">gi</span>&nbsp;<span class="op" id="1892499">&amp;&amp;</span>&nbsp;<span class="ident" id="1892502">fm</span>&nbsp;<span class="op" id="1892505">==</span>&nbsp;<span class="num" id="1892508">0</span>&nbsp;<span class="op" id="1892510">&amp;&amp;</span>&nbsp;<span class="ident" id="1892513">gm</span>&nbsp;<span class="op" id="1892516">==</span>&nbsp;<span class="num" id="1892519">0</span><span class="op" id="1892520">:</span>&nbsp;<span class="comment" id="1892522">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892539">return</span>&nbsp;<span class="ident" id="1892546">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892554">case</span>&nbsp;<span class="ident" id="1892559">fi</span><span class="op" id="1892561">,</span>&nbsp;<span class="op" id="1892563">!</span><span class="ident" id="1892564">gi</span>&nbsp;<span class="op" id="1892567">&amp;&amp;</span>&nbsp;<span class="ident" id="1892570">gm</span>&nbsp;<span class="op" id="1892573">==</span>&nbsp;<span class="num" id="1892576">0</span><span class="op" id="1892577">:</span>&nbsp;<span class="comment" id="1892579">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892606">return</span>&nbsp;<span class="ident" id="1892613">fs</span>&nbsp;<span class="op" id="1892616">^</span>&nbsp;<span class="ident" id="1892618">gs</span>&nbsp;<span class="op" id="1892621">^</span>&nbsp;<span class="ident" id="1892623">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892631">case</span>&nbsp;<span class="ident" id="1892636">gi</span><span class="op" id="1892638">,</span>&nbsp;<span class="ident" id="1892640">fm</span>&nbsp;<span class="op" id="1892643">==</span>&nbsp;<span class="num" id="1892646">0</span><span class="op" id="1892647">:</span>&nbsp;<span class="comment" id="1892649">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892676">return</span>&nbsp;<span class="ident" id="1892683">fs</span>&nbsp;<span class="op" id="1892686">^</span>&nbsp;<span class="ident" id="1892688">gs</span>&nbsp;<span class="op" id="1892691">^</span>&nbsp;<span class="num" id="1892693">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1892696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892699">_</span><span class="op" id="1892700">,</span>&nbsp;<span class="ident" id="1892702">_</span><span class="op" id="1892703">,</span>&nbsp;<span class="ident" id="1892705">_</span><span class="op" id="1892706">,</span>&nbsp;<span class="ident" id="1892708">_</span>&nbsp;<span class="op" id="1892710">=</span>&nbsp;<span class="ident" id="1892712">fi</span><span class="op" id="1892714">,</span>&nbsp;<span class="ident" id="1892716">fn</span><span class="op" id="1892718">,</span>&nbsp;<span class="ident" id="1892720">gi</span><span class="op" id="1892722">,</span>&nbsp;<span class="ident" id="1892724">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1892729">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892770">shift</span>&nbsp;<span class="op" id="1892776">:=</span>&nbsp;<span class="ident" id="1892779">mantbits64</span>&nbsp;<span class="op" id="1892790">+</span>&nbsp;<span class="num" id="1892792">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892795">q</span><span class="op" id="1892796">,</span>&nbsp;<span class="ident" id="1892798">r</span>&nbsp;<span class="op" id="1892800">:=</span>&nbsp;<span class="ident" id="1892803">divlu</span><span class="op" id="1892808">(</span><span class="ident" id="1892809">fm</span><span class="op" id="1892811">&gt;&gt;</span><span class="op" id="1892813">(</span><span class="num" id="1892814">64</span><span class="op" id="1892816">-</span><span class="ident" id="1892817">shift</span><span class="op" id="1892822">)</span><span class="op" id="1892823">,</span>&nbsp;<span class="ident" id="1892825">fm</span><span class="op" id="1892827">&lt;&lt;</span><span class="ident" id="1892829">shift</span><span class="op" id="1892834">,</span>&nbsp;<span class="ident" id="1892836">gm</span><span class="op" id="1892838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892841">return</span>&nbsp;<span class="ident" id="1892848">fpack64</span><span class="op" id="1892855">(</span><span class="ident" id="1892856">fs</span><span class="op" id="1892858">^</span><span class="ident" id="1892859">gs</span><span class="op" id="1892861">,</span>&nbsp;<span class="ident" id="1892863">q</span><span class="op" id="1892864">,</span>&nbsp;<span class="ident" id="1892866">fe</span><span class="op" id="1892868">-</span><span class="ident" id="1892869">ge</span><span class="op" id="1892871">-</span><span class="num" id="1892872">2</span><span class="op" id="1892873">,</span>&nbsp;<span class="ident" id="1892875">r</span><span class="op" id="1892876">)</span><br>
<span class="lineno">315</span><span class="op" id="1892878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1892881">func</span>&nbsp;<span class="ident" id="1892886">f64to32</span><span class="op" id="1892893">(</span><span class="ident" id="1892894">f</span>&nbsp;<span class="ident" id="1892896">uint64</span><span class="op" id="1892902">)</span>&nbsp;<span class="builtintype" id="1892904">uint32</span>&nbsp;<span class="op" id="1892911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892914">fs</span><span class="op" id="1892916">,</span>&nbsp;<span class="ident" id="1892918">fm</span><span class="op" id="1892920">,</span>&nbsp;<span class="ident" id="1892922">fe</span><span class="op" id="1892924">,</span>&nbsp;<span class="ident" id="1892926">fi</span><span class="op" id="1892928">,</span>&nbsp;<span class="ident" id="1892930">fn</span>&nbsp;<span class="op" id="1892933">:=</span>&nbsp;<span class="ident" id="1892936">funpack64</span><span class="op" id="1892945">(</span><span class="ident" id="1892946">f</span><span class="op" id="1892947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892950">if</span>&nbsp;<span class="ident" id="1892953">fn</span>&nbsp;<span class="op" id="1892956">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1892960">return</span>&nbsp;<span class="ident" id="1892967">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1892974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1892977">fs32</span>&nbsp;<span class="op" id="1892982">:=</span>&nbsp;<span class="builtintype" id="1892985">uint32</span><span class="op" id="1892991">(</span><span class="ident" id="1892992">fs</span>&nbsp;<span class="op" id="1892995">&gt;&gt;</span>&nbsp;<span class="num" id="1892998">32</span><span class="op" id="1893000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893003">if</span>&nbsp;<span class="ident" id="1893006">fi</span>&nbsp;<span class="op" id="1893009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893013">return</span>&nbsp;<span class="ident" id="1893020">fs32</span>&nbsp;<span class="op" id="1893025">^</span>&nbsp;<span class="ident" id="1893027">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1893034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893037">const</span>&nbsp;<span class="ident" id="1893043">d</span>&nbsp;<span class="op" id="1893045">=</span>&nbsp;<span class="ident" id="1893047">mantbits64</span>&nbsp;<span class="op" id="1893058">-</span>&nbsp;<span class="ident" id="1893060">mantbits32</span>&nbsp;<span class="op" id="1893071">-</span>&nbsp;<span class="num" id="1893073">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893076">return</span>&nbsp;<span class="ident" id="1893083">fpack32</span><span class="op" id="1893090">(</span><span class="ident" id="1893091">fs32</span><span class="op" id="1893095">,</span>&nbsp;<span class="builtintype" id="1893097">uint32</span><span class="op" id="1893103">(</span><span class="ident" id="1893104">fm</span><span class="op" id="1893106">&gt;&gt;</span><span class="ident" id="1893108">d</span><span class="op" id="1893109">)</span><span class="op" id="1893110">,</span>&nbsp;<span class="ident" id="1893112">fe</span><span class="op" id="1893114">-</span><span class="num" id="1893115">1</span><span class="op" id="1893116">,</span>&nbsp;<span class="builtintype" id="1893118">uint32</span><span class="op" id="1893124">(</span><span class="ident" id="1893125">fm</span><span class="op" id="1893127">&amp;</span><span class="op" id="1893128">(</span><span class="num" id="1893129">1</span><span class="op" id="1893130">&lt;&lt;</span><span class="ident" id="1893132">d</span><span class="op" id="1893133">-</span><span class="num" id="1893134">1</span><span class="op" id="1893135">)</span><span class="op" id="1893136">)</span><span class="op" id="1893137">)</span><br>
<span class="lineno"></span><span class="op" id="1893139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="1893142">func</span>&nbsp;<span class="ident" id="1893147">f32to64</span><span class="op" id="1893154">(</span><span class="ident" id="1893155">f</span>&nbsp;<span class="builtintype" id="1893157">uint32</span><span class="op" id="1893163">)</span>&nbsp;<span class="ident" id="1893165">uint64</span>&nbsp;<span class="op" id="1893172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893175">const</span>&nbsp;<span class="ident" id="1893181">d</span>&nbsp;<span class="op" id="1893183">=</span>&nbsp;<span class="ident" id="1893185">mantbits64</span>&nbsp;<span class="op" id="1893196">-</span>&nbsp;<span class="ident" id="1893198">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1893210">fs</span><span class="op" id="1893212">,</span>&nbsp;<span class="ident" id="1893214">fm</span><span class="op" id="1893216">,</span>&nbsp;<span class="ident" id="1893218">fe</span><span class="op" id="1893220">,</span>&nbsp;<span class="ident" id="1893222">fi</span><span class="op" id="1893224">,</span>&nbsp;<span class="ident" id="1893226">fn</span>&nbsp;<span class="op" id="1893229">:=</span>&nbsp;<span class="ident" id="1893232">funpack32</span><span class="op" id="1893241">(</span><span class="ident" id="1893242">f</span><span class="op" id="1893243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893246">if</span>&nbsp;<span class="ident" id="1893249">fn</span>&nbsp;<span class="op" id="1893252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893256">return</span>&nbsp;<span class="ident" id="1893263">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1893270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1893273">fs64</span>&nbsp;<span class="op" id="1893278">:=</span>&nbsp;<span class="ident" id="1893281">uint64</span><span class="op" id="1893287">(</span><span class="ident" id="1893288">fs</span><span class="op" id="1893290">)</span>&nbsp;<span class="op" id="1893292">&lt;&lt;</span>&nbsp;<span class="num" id="1893295">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893299">if</span>&nbsp;<span class="ident" id="1893302">fi</span>&nbsp;<span class="op" id="1893305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893309">return</span>&nbsp;<span class="ident" id="1893316">fs64</span>&nbsp;<span class="op" id="1893321">^</span>&nbsp;<span class="ident" id="1893323">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1893330">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893333">return</span>&nbsp;<span class="ident" id="1893340">fpack64</span><span class="op" id="1893347">(</span><span class="ident" id="1893348">fs64</span><span class="op" id="1893352">,</span>&nbsp;<span class="ident" id="1893354">uint64</span><span class="op" id="1893360">(</span><span class="ident" id="1893361">fm</span><span class="op" id="1893363">)</span><span class="op" id="1893364">&lt;&lt;</span><span class="ident" id="1893366">d</span><span class="op" id="1893367">,</span>&nbsp;<span class="ident" id="1893369">fe</span><span class="op" id="1893371">,</span>&nbsp;<span class="num" id="1893373">0</span><span class="op" id="1893374">)</span><br>
<span class="lineno"></span><span class="op" id="1893376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1893379">func</span>&nbsp;<span class="ident" id="1893384">fcmp64</span><span class="op" id="1893390">(</span><span class="ident" id="1893391">f</span><span class="op" id="1893392">,</span>&nbsp;<span class="ident" id="1893394">g</span>&nbsp;<span class="ident" id="1893396">uint64</span><span class="op" id="1893402">)</span>&nbsp;<span class="op" id="1893404">(</span><span class="ident" id="1893405">cmp</span>&nbsp;<span class="builtintype" id="1893409">int</span><span class="op" id="1893412">,</span>&nbsp;<span class="ident" id="1893414">isnan</span>&nbsp;<span class="builtintype" id="1893420">bool</span><span class="op" id="1893424">)</span>&nbsp;<span class="op" id="1893426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1893429">fs</span><span class="op" id="1893431">,</span>&nbsp;<span class="ident" id="1893433">fm</span><span class="op" id="1893435">,</span>&nbsp;<span class="ident" id="1893437">_</span><span class="op" id="1893438">,</span>&nbsp;<span class="ident" id="1893440">fi</span><span class="op" id="1893442">,</span>&nbsp;<span class="ident" id="1893444">fn</span>&nbsp;<span class="op" id="1893447">:=</span>&nbsp;<span class="ident" id="1893450">funpack64</span><span class="op" id="1893459">(</span><span class="ident" id="1893460">f</span><span class="op" id="1893461">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1893464">gs</span><span class="op" id="1893466">,</span>&nbsp;<span class="ident" id="1893468">gm</span><span class="op" id="1893470">,</span>&nbsp;<span class="ident" id="1893472">_</span><span class="op" id="1893473">,</span>&nbsp;<span class="ident" id="1893475">gi</span><span class="op" id="1893477">,</span>&nbsp;<span class="ident" id="1893479">gn</span>&nbsp;<span class="op" id="1893482">:=</span>&nbsp;<span class="ident" id="1893485">funpack64</span><span class="op" id="1893494">(</span><span class="ident" id="1893495">g</span><span class="op" id="1893496">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893500">switch</span>&nbsp;<span class="op" id="1893507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893510">case</span>&nbsp;<span class="ident" id="1893515">fn</span><span class="op" id="1893517">,</span>&nbsp;<span class="ident" id="1893519">gn</span><span class="op" id="1893521">:</span>&nbsp;<span class="comment" id="1893523">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893537">return</span>&nbsp;<span class="num" id="1893544">0</span><span class="op" id="1893545">,</span>&nbsp;<span class="builtintype" id="1893547">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893554">case</span>&nbsp;<span class="op" id="1893559">!</span><span class="ident" id="1893560">fi</span>&nbsp;<span class="op" id="1893563">&amp;&amp;</span>&nbsp;<span class="op" id="1893566">!</span><span class="ident" id="1893567">gi</span>&nbsp;<span class="op" id="1893570">&amp;&amp;</span>&nbsp;<span class="ident" id="1893573">fm</span>&nbsp;<span class="op" id="1893576">==</span>&nbsp;<span class="num" id="1893579">0</span>&nbsp;<span class="op" id="1893581">&amp;&amp;</span>&nbsp;<span class="ident" id="1893584">gm</span>&nbsp;<span class="op" id="1893587">==</span>&nbsp;<span class="num" id="1893590">0</span><span class="op" id="1893591">:</span>&nbsp;<span class="comment" id="1893593">//&nbsp;±0&nbsp;==&nbsp;±0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893609">return</span>&nbsp;<span class="num" id="1893616">0</span><span class="op" id="1893617">,</span>&nbsp;<span class="builtintype" id="1893619">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893627">case</span>&nbsp;<span class="ident" id="1893632">fs</span>&nbsp;<span class="op" id="1893635">&gt;</span>&nbsp;<span class="ident" id="1893637">gs</span><span class="op" id="1893639">:</span>&nbsp;<span class="comment" id="1893641">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893659">return</span>&nbsp;<span class="op" id="1893666">-</span><span class="num" id="1893667">1</span><span class="op" id="1893668">,</span>&nbsp;<span class="builtintype" id="1893670">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893678">case</span>&nbsp;<span class="ident" id="1893683">fs</span>&nbsp;<span class="op" id="1893686">&lt;</span>&nbsp;<span class="ident" id="1893688">gs</span><span class="op" id="1893690">:</span>&nbsp;<span class="comment" id="1893692">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893710">return</span>&nbsp;<span class="op" id="1893717">+</span><span class="num" id="1893718">1</span><span class="op" id="1893719">,</span>&nbsp;<span class="builtintype" id="1893721">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1893729">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1893753">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1893793">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893815">case</span>&nbsp;<span class="ident" id="1893820">fs</span>&nbsp;<span class="op" id="1893823">==</span>&nbsp;<span class="num" id="1893826">0</span>&nbsp;<span class="op" id="1893828">&amp;&amp;</span>&nbsp;<span class="ident" id="1893831">f</span>&nbsp;<span class="op" id="1893833">&lt;</span>&nbsp;<span class="ident" id="1893835">g</span><span class="op" id="1893836">,</span>&nbsp;<span class="ident" id="1893838">fs</span>&nbsp;<span class="op" id="1893841">!=</span>&nbsp;<span class="num" id="1893844">0</span>&nbsp;<span class="op" id="1893846">&amp;&amp;</span>&nbsp;<span class="ident" id="1893849">f</span>&nbsp;<span class="op" id="1893851">&gt;</span>&nbsp;<span class="ident" id="1893853">g</span><span class="op" id="1893854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893858">return</span>&nbsp;<span class="op" id="1893865">-</span><span class="num" id="1893866">1</span><span class="op" id="1893867">,</span>&nbsp;<span class="builtintype" id="1893869">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893877">case</span>&nbsp;<span class="ident" id="1893882">fs</span>&nbsp;<span class="op" id="1893885">==</span>&nbsp;<span class="num" id="1893888">0</span>&nbsp;<span class="op" id="1893890">&amp;&amp;</span>&nbsp;<span class="ident" id="1893893">f</span>&nbsp;<span class="op" id="1893895">&gt;</span>&nbsp;<span class="ident" id="1893897">g</span><span class="op" id="1893898">,</span>&nbsp;<span class="ident" id="1893900">fs</span>&nbsp;<span class="op" id="1893903">!=</span>&nbsp;<span class="num" id="1893906">0</span>&nbsp;<span class="op" id="1893908">&amp;&amp;</span>&nbsp;<span class="ident" id="1893911">f</span>&nbsp;<span class="op" id="1893913">&lt;</span>&nbsp;<span class="ident" id="1893915">g</span><span class="op" id="1893916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893920">return</span>&nbsp;<span class="op" id="1893927">+</span><span class="num" id="1893928">1</span><span class="op" id="1893929">,</span>&nbsp;<span class="builtintype" id="1893931">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1893938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1893942">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1893953">return</span>&nbsp;<span class="num" id="1893960">0</span><span class="op" id="1893961">,</span>&nbsp;<span class="builtintype" id="1893963">false</span><br>
<span class="lineno"></span><span class="op" id="1893969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1893972">func</span>&nbsp;<span class="ident" id="1893977">f64toint</span><span class="op" id="1893985">(</span><span class="ident" id="1893986">f</span>&nbsp;<span class="ident" id="1893988">uint64</span><span class="op" id="1893994">)</span>&nbsp;<span class="op" id="1893996">(</span><span class="ident" id="1893997">val</span>&nbsp;<span class="ident" id="1894001">int64</span><span class="op" id="1894006">,</span>&nbsp;<span class="ident" id="1894008">ok</span>&nbsp;<span class="builtintype" id="1894011">bool</span><span class="op" id="1894015">)</span>&nbsp;<span class="op" id="1894017">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894020">fs</span><span class="op" id="1894022">,</span>&nbsp;<span class="ident" id="1894024">fm</span><span class="op" id="1894026">,</span>&nbsp;<span class="ident" id="1894028">fe</span><span class="op" id="1894030">,</span>&nbsp;<span class="ident" id="1894032">fi</span><span class="op" id="1894034">,</span>&nbsp;<span class="ident" id="1894036">fn</span>&nbsp;<span class="op" id="1894039">:=</span>&nbsp;<span class="ident" id="1894042">funpack64</span><span class="op" id="1894051">(</span><span class="ident" id="1894052">f</span><span class="op" id="1894053">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894057">switch</span>&nbsp;<span class="op" id="1894064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894067">case</span>&nbsp;<span class="ident" id="1894072">fi</span><span class="op" id="1894074">,</span>&nbsp;<span class="ident" id="1894076">fn</span><span class="op" id="1894078">:</span>&nbsp;<span class="comment" id="1894080">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894089">return</span>&nbsp;<span class="num" id="1894096">0</span><span class="op" id="1894097">,</span>&nbsp;<span class="builtintype" id="1894099">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894107">case</span>&nbsp;<span class="ident" id="1894112">fe</span>&nbsp;<span class="op" id="1894115">&lt;</span>&nbsp;<span class="op" id="1894117">-</span><span class="num" id="1894118">1</span><span class="op" id="1894119">:</span>&nbsp;<span class="comment" id="1894121">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894134">return</span>&nbsp;<span class="num" id="1894141">0</span><span class="op" id="1894142">,</span>&nbsp;<span class="builtintype" id="1894144">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894152">case</span>&nbsp;<span class="ident" id="1894157">fe</span>&nbsp;<span class="op" id="1894160">&gt;</span>&nbsp;<span class="num" id="1894162">63</span><span class="op" id="1894164">:</span>&nbsp;<span class="comment" id="1894166">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894181">if</span>&nbsp;<span class="ident" id="1894184">fs</span>&nbsp;<span class="op" id="1894187">!=</span>&nbsp;<span class="num" id="1894190">0</span>&nbsp;<span class="op" id="1894192">&amp;&amp;</span>&nbsp;<span class="ident" id="1894195">fm</span>&nbsp;<span class="op" id="1894198">==</span>&nbsp;<span class="num" id="1894201">0</span>&nbsp;<span class="op" id="1894203">{</span>&nbsp;<span class="comment" id="1894205">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894222">return</span>&nbsp;<span class="op" id="1894229">-</span><span class="num" id="1894230">1</span>&nbsp;<span class="op" id="1894232">&lt;&lt;</span>&nbsp;<span class="num" id="1894235">63</span><span class="op" id="1894237">,</span>&nbsp;<span class="builtintype" id="1894239">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894250">if</span>&nbsp;<span class="ident" id="1894253">fs</span>&nbsp;<span class="op" id="1894256">!=</span>&nbsp;<span class="num" id="1894259">0</span>&nbsp;<span class="op" id="1894261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894266">return</span>&nbsp;<span class="num" id="1894273">0</span><span class="op" id="1894274">,</span>&nbsp;<span class="builtintype" id="1894276">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894288">return</span>&nbsp;<span class="num" id="1894295">0</span><span class="op" id="1894296">,</span>&nbsp;<span class="builtintype" id="1894298">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894309">for</span>&nbsp;<span class="ident" id="1894313">fe</span>&nbsp;<span class="op" id="1894316">&gt;</span>&nbsp;<span class="builtintype" id="1894318">int</span><span class="op" id="1894321">(</span><span class="ident" id="1894322">mantbits64</span><span class="op" id="1894332">)</span>&nbsp;<span class="op" id="1894334">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894338">fe</span><span class="op" id="1894340">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894345">fm</span>&nbsp;<span class="op" id="1894348">&lt;&lt;=</span>&nbsp;<span class="num" id="1894352">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894358">for</span>&nbsp;<span class="ident" id="1894362">fe</span>&nbsp;<span class="op" id="1894365">&lt;</span>&nbsp;<span class="builtintype" id="1894367">int</span><span class="op" id="1894370">(</span><span class="ident" id="1894371">mantbits64</span><span class="op" id="1894381">)</span>&nbsp;<span class="op" id="1894383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894387">fe</span><span class="op" id="1894389">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894394">fm</span>&nbsp;<span class="op" id="1894397">&gt;&gt;=</span>&nbsp;<span class="num" id="1894401">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894407">val</span>&nbsp;<span class="op" id="1894411">=</span>&nbsp;<span class="ident" id="1894413">int64</span><span class="op" id="1894418">(</span><span class="ident" id="1894419">fm</span><span class="op" id="1894421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894424">if</span>&nbsp;<span class="ident" id="1894427">fs</span>&nbsp;<span class="op" id="1894430">!=</span>&nbsp;<span class="num" id="1894433">0</span>&nbsp;<span class="op" id="1894435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894439">val</span>&nbsp;<span class="op" id="1894443">=</span>&nbsp;<span class="op" id="1894445">-</span><span class="ident" id="1894446">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894454">return</span>&nbsp;<span class="ident" id="1894461">val</span><span class="op" id="1894464">,</span>&nbsp;<span class="builtintype" id="1894466">true</span><br>
<span class="lineno"></span><span class="op" id="1894471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1894474">func</span>&nbsp;<span class="ident" id="1894479">fintto64</span><span class="op" id="1894487">(</span><span class="ident" id="1894488">val</span>&nbsp;<span class="ident" id="1894492">int64</span><span class="op" id="1894497">)</span>&nbsp;<span class="op" id="1894499">(</span><span class="ident" id="1894500">f</span>&nbsp;<span class="ident" id="1894502">uint64</span><span class="op" id="1894508">)</span>&nbsp;<span class="op" id="1894510">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894513">fs</span>&nbsp;<span class="op" id="1894516">:=</span>&nbsp;<span class="ident" id="1894519">uint64</span><span class="op" id="1894525">(</span><span class="ident" id="1894526">val</span><span class="op" id="1894529">)</span>&nbsp;<span class="op" id="1894531">&amp;</span>&nbsp;<span class="op" id="1894533">(</span><span class="num" id="1894534">1</span>&nbsp;<span class="op" id="1894536">&lt;&lt;</span>&nbsp;<span class="num" id="1894539">63</span><span class="op" id="1894541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894544">mant</span>&nbsp;<span class="op" id="1894549">:=</span>&nbsp;<span class="ident" id="1894552">uint64</span><span class="op" id="1894558">(</span><span class="ident" id="1894559">val</span><span class="op" id="1894562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894565">if</span>&nbsp;<span class="ident" id="1894568">fs</span>&nbsp;<span class="op" id="1894571">!=</span>&nbsp;<span class="num" id="1894574">0</span>&nbsp;<span class="op" id="1894576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894580">mant</span>&nbsp;<span class="op" id="1894585">=</span>&nbsp;<span class="op" id="1894587">-</span><span class="ident" id="1894588">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894594">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894597">return</span>&nbsp;<span class="ident" id="1894604">fpack64</span><span class="op" id="1894611">(</span><span class="ident" id="1894612">fs</span><span class="op" id="1894614">,</span>&nbsp;<span class="ident" id="1894616">mant</span><span class="op" id="1894620">,</span>&nbsp;<span class="builtintype" id="1894622">int</span><span class="op" id="1894625">(</span><span class="ident" id="1894626">mantbits64</span><span class="op" id="1894636">)</span><span class="op" id="1894637">,</span>&nbsp;<span class="num" id="1894639">0</span><span class="op" id="1894640">)</span><br>
<span class="lineno"></span><span class="op" id="1894642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1894645">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="1894671">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="1894705">func</span>&nbsp;<span class="ident" id="1894710">mullu</span><span class="op" id="1894715">(</span><span class="ident" id="1894716">u</span><span class="op" id="1894717">,</span>&nbsp;<span class="ident" id="1894719">v</span>&nbsp;<span class="ident" id="1894721">uint64</span><span class="op" id="1894727">)</span>&nbsp;<span class="op" id="1894729">(</span><span class="ident" id="1894730">lo</span><span class="op" id="1894732">,</span>&nbsp;<span class="ident" id="1894734">hi</span>&nbsp;<span class="ident" id="1894737">uint64</span><span class="op" id="1894743">)</span>&nbsp;<span class="op" id="1894745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894748">const</span>&nbsp;<span class="op" id="1894754">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894758">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1894763">=</span>&nbsp;<span class="num" id="1894765">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894770">mask</span>&nbsp;<span class="op" id="1894775">=</span>&nbsp;<span class="num" id="1894777">1</span><span class="op" id="1894778">&lt;&lt;</span><span class="ident" id="1894780">s</span>&nbsp;<span class="op" id="1894782">-</span>&nbsp;<span class="num" id="1894784">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1894787">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894790">u0</span>&nbsp;<span class="op" id="1894793">:=</span>&nbsp;<span class="ident" id="1894796">u</span>&nbsp;<span class="op" id="1894798">&amp;</span>&nbsp;<span class="ident" id="1894800">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894806">u1</span>&nbsp;<span class="op" id="1894809">:=</span>&nbsp;<span class="ident" id="1894812">u</span>&nbsp;<span class="op" id="1894814">&gt;&gt;</span>&nbsp;<span class="ident" id="1894817">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894820">v0</span>&nbsp;<span class="op" id="1894823">:=</span>&nbsp;<span class="ident" id="1894826">v</span>&nbsp;<span class="op" id="1894828">&amp;</span>&nbsp;<span class="ident" id="1894830">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894836">v1</span>&nbsp;<span class="op" id="1894839">:=</span>&nbsp;<span class="ident" id="1894842">v</span>&nbsp;<span class="op" id="1894844">&gt;&gt;</span>&nbsp;<span class="ident" id="1894847">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894850">w0</span>&nbsp;<span class="op" id="1894853">:=</span>&nbsp;<span class="ident" id="1894856">u0</span>&nbsp;<span class="op" id="1894859">*</span>&nbsp;<span class="ident" id="1894861">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894865">t</span>&nbsp;<span class="op" id="1894867">:=</span>&nbsp;<span class="ident" id="1894870">u1</span><span class="op" id="1894872">*</span><span class="ident" id="1894873">v0</span>&nbsp;<span class="op" id="1894876">+</span>&nbsp;<span class="ident" id="1894878">w0</span><span class="op" id="1894880">&gt;&gt;</span><span class="ident" id="1894882">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894885">w1</span>&nbsp;<span class="op" id="1894888">:=</span>&nbsp;<span class="ident" id="1894891">t</span>&nbsp;<span class="op" id="1894893">&amp;</span>&nbsp;<span class="ident" id="1894895">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894901">w2</span>&nbsp;<span class="op" id="1894904">:=</span>&nbsp;<span class="ident" id="1894907">t</span>&nbsp;<span class="op" id="1894909">&gt;&gt;</span>&nbsp;<span class="ident" id="1894912">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1894915">w1</span>&nbsp;<span class="op" id="1894918">+=</span>&nbsp;<span class="ident" id="1894921">u0</span>&nbsp;<span class="op" id="1894924">*</span>&nbsp;<span class="ident" id="1894926">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1894930">return</span>&nbsp;<span class="ident" id="1894937">u</span>&nbsp;<span class="op" id="1894939">*</span>&nbsp;<span class="ident" id="1894941">v</span><span class="op" id="1894942">,</span>&nbsp;<span class="ident" id="1894944">u1</span><span class="op" id="1894946">*</span><span class="ident" id="1894947">v1</span>&nbsp;<span class="op" id="1894950">+</span>&nbsp;<span class="ident" id="1894952">w2</span>&nbsp;<span class="op" id="1894955">+</span>&nbsp;<span class="ident" id="1894957">w1</span><span class="op" id="1894959">&gt;&gt;</span><span class="ident" id="1894961">s</span><br>
<span class="lineno">435</span><span class="op" id="1894963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1894966">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1895006">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="1895039">func</span>&nbsp;<span class="ident" id="1895044">divlu</span><span class="op" id="1895049">(</span><span class="ident" id="1895050">u1</span><span class="op" id="1895052">,</span>&nbsp;<span class="ident" id="1895054">u0</span><span class="op" id="1895056">,</span>&nbsp;<span class="ident" id="1895058">v</span>&nbsp;<span class="ident" id="1895060">uint64</span><span class="op" id="1895066">)</span>&nbsp;<span class="op" id="1895068">(</span><span class="ident" id="1895069">q</span><span class="op" id="1895070">,</span>&nbsp;<span class="ident" id="1895072">r</span>&nbsp;<span class="ident" id="1895074">uint64</span><span class="op" id="1895080">)</span>&nbsp;<span class="op" id="1895082">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895085">const</span>&nbsp;<span class="ident" id="1895091">b</span>&nbsp;<span class="op" id="1895093">=</span>&nbsp;<span class="num" id="1895095">1</span>&nbsp;<span class="op" id="1895097">&lt;&lt;</span>&nbsp;<span class="num" id="1895100">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895105">if</span>&nbsp;<span class="ident" id="1895108">u1</span>&nbsp;<span class="op" id="1895111">&gt;=</span>&nbsp;<span class="ident" id="1895114">v</span>&nbsp;<span class="op" id="1895116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895120">return</span>&nbsp;<span class="num" id="1895127">1</span><span class="op" id="1895128">&lt;&lt;</span><span class="num" id="1895130">64</span>&nbsp;<span class="op" id="1895133">-</span>&nbsp;<span class="num" id="1895135">1</span><span class="op" id="1895136">,</span>&nbsp;<span class="num" id="1895138">1</span><span class="op" id="1895139">&lt;&lt;</span><span class="num" id="1895141">64</span>&nbsp;<span class="op" id="1895144">-</span>&nbsp;<span class="num" id="1895146">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895149">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1895153">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895177">s</span>&nbsp;<span class="op" id="1895179">:=</span>&nbsp;<span class="builtintype" id="1895182">uint</span><span class="op" id="1895186">(</span><span class="num" id="1895187">0</span><span class="op" id="1895188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895191">for</span>&nbsp;<span class="ident" id="1895195">v</span><span class="op" id="1895196">&amp;</span><span class="op" id="1895197">(</span><span class="num" id="1895198">1</span><span class="op" id="1895199">&lt;&lt;</span><span class="num" id="1895201">63</span><span class="op" id="1895203">)</span>&nbsp;<span class="op" id="1895205">==</span>&nbsp;<span class="num" id="1895208">0</span>&nbsp;<span class="op" id="1895210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895214">s</span><span class="op" id="1895215">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895220">v</span>&nbsp;<span class="op" id="1895222">&lt;&lt;=</span>&nbsp;<span class="num" id="1895226">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895233">vn1</span>&nbsp;<span class="op" id="1895237">:=</span>&nbsp;<span class="ident" id="1895240">v</span>&nbsp;<span class="op" id="1895242">&gt;&gt;</span>&nbsp;<span class="num" id="1895245">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895249">vn0</span>&nbsp;<span class="op" id="1895253">:=</span>&nbsp;<span class="ident" id="1895256">v</span>&nbsp;<span class="op" id="1895258">&amp;</span>&nbsp;<span class="op" id="1895260">(</span><span class="num" id="1895261">1</span><span class="op" id="1895262">&lt;&lt;</span><span class="num" id="1895264">32</span>&nbsp;<span class="op" id="1895267">-</span>&nbsp;<span class="num" id="1895269">1</span><span class="op" id="1895270">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895273">un32</span>&nbsp;<span class="op" id="1895278">:=</span>&nbsp;<span class="ident" id="1895281">u1</span><span class="op" id="1895283">&lt;&lt;</span><span class="ident" id="1895285">s</span>&nbsp;<span class="op" id="1895287">|</span>&nbsp;<span class="ident" id="1895289">u0</span><span class="op" id="1895291">&gt;&gt;</span><span class="op" id="1895293">(</span><span class="num" id="1895294">64</span><span class="op" id="1895296">-</span><span class="ident" id="1895297">s</span><span class="op" id="1895298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895301">un10</span>&nbsp;<span class="op" id="1895306">:=</span>&nbsp;<span class="ident" id="1895309">u0</span>&nbsp;<span class="op" id="1895312">&lt;&lt;</span>&nbsp;<span class="ident" id="1895315">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895318">un1</span>&nbsp;<span class="op" id="1895322">:=</span>&nbsp;<span class="ident" id="1895325">un10</span>&nbsp;<span class="op" id="1895330">&gt;&gt;</span>&nbsp;<span class="num" id="1895333">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895337">un0</span>&nbsp;<span class="op" id="1895341">:=</span>&nbsp;<span class="ident" id="1895344">un10</span>&nbsp;<span class="op" id="1895349">&amp;</span>&nbsp;<span class="op" id="1895351">(</span><span class="num" id="1895352">1</span><span class="op" id="1895353">&lt;&lt;</span><span class="num" id="1895355">32</span>&nbsp;<span class="op" id="1895358">-</span>&nbsp;<span class="num" id="1895360">1</span><span class="op" id="1895361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895364">q1</span>&nbsp;<span class="op" id="1895367">:=</span>&nbsp;<span class="ident" id="1895370">un32</span>&nbsp;<span class="op" id="1895375">/</span>&nbsp;<span class="ident" id="1895377">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895382">rhat</span>&nbsp;<span class="op" id="1895387">:=</span>&nbsp;<span class="ident" id="1895390">un32</span>&nbsp;<span class="op" id="1895395">-</span>&nbsp;<span class="ident" id="1895397">q1</span><span class="op" id="1895399">*</span><span class="ident" id="1895400">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1895405">again1</span><span class="op" id="1895411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895414">if</span>&nbsp;<span class="ident" id="1895417">q1</span>&nbsp;<span class="op" id="1895420">&gt;=</span>&nbsp;<span class="ident" id="1895423">b</span>&nbsp;<span class="op" id="1895425">||</span>&nbsp;<span class="ident" id="1895428">q1</span><span class="op" id="1895430">*</span><span class="ident" id="1895431">vn0</span>&nbsp;<span class="op" id="1895435">&gt;</span>&nbsp;<span class="ident" id="1895437">b</span><span class="op" id="1895438">*</span><span class="ident" id="1895439">rhat</span><span class="op" id="1895443">+</span><span class="ident" id="1895444">un1</span>&nbsp;<span class="op" id="1895448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895452">q1</span><span class="op" id="1895454">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895459">rhat</span>&nbsp;<span class="op" id="1895464">+=</span>&nbsp;<span class="ident" id="1895467">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895473">if</span>&nbsp;<span class="ident" id="1895476">rhat</span>&nbsp;<span class="op" id="1895481">&lt;</span>&nbsp;<span class="ident" id="1895483">b</span>&nbsp;<span class="op" id="1895485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895490">goto</span>&nbsp;<span class="ident" id="1895495">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895507">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895511">un21</span>&nbsp;<span class="op" id="1895516">:=</span>&nbsp;<span class="ident" id="1895519">un32</span><span class="op" id="1895523">*</span><span class="ident" id="1895524">b</span>&nbsp;<span class="op" id="1895526">+</span>&nbsp;<span class="ident" id="1895528">un1</span>&nbsp;<span class="op" id="1895532">-</span>&nbsp;<span class="ident" id="1895534">q1</span><span class="op" id="1895536">*</span><span class="ident" id="1895537">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895540">q0</span>&nbsp;<span class="op" id="1895543">:=</span>&nbsp;<span class="ident" id="1895546">un21</span>&nbsp;<span class="op" id="1895551">/</span>&nbsp;<span class="ident" id="1895553">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895558">rhat</span>&nbsp;<span class="op" id="1895563">=</span>&nbsp;<span class="ident" id="1895565">un21</span>&nbsp;<span class="op" id="1895570">-</span>&nbsp;<span class="ident" id="1895572">q0</span><span class="op" id="1895574">*</span><span class="ident" id="1895575">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="1895580">again2</span><span class="op" id="1895586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895589">if</span>&nbsp;<span class="ident" id="1895592">q0</span>&nbsp;<span class="op" id="1895595">&gt;=</span>&nbsp;<span class="ident" id="1895598">b</span>&nbsp;<span class="op" id="1895600">||</span>&nbsp;<span class="ident" id="1895603">q0</span><span class="op" id="1895605">*</span><span class="ident" id="1895606">vn0</span>&nbsp;<span class="op" id="1895610">&gt;</span>&nbsp;<span class="ident" id="1895612">b</span><span class="op" id="1895613">*</span><span class="ident" id="1895614">rhat</span><span class="op" id="1895618">+</span><span class="ident" id="1895619">un0</span>&nbsp;<span class="op" id="1895623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895627">q0</span><span class="op" id="1895629">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1895634">rhat</span>&nbsp;<span class="op" id="1895639">+=</span>&nbsp;<span class="ident" id="1895642">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895648">if</span>&nbsp;<span class="ident" id="1895651">rhat</span>&nbsp;<span class="op" id="1895656">&lt;</span>&nbsp;<span class="ident" id="1895658">b</span>&nbsp;<span class="op" id="1895660">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895665">goto</span>&nbsp;<span class="ident" id="1895670">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1895682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1895686">return</span>&nbsp;<span class="ident" id="1895693">q1</span><span class="op" id="1895695">*</span><span class="ident" id="1895696">b</span>&nbsp;<span class="op" id="1895698">+</span>&nbsp;<span class="ident" id="1895700">q0</span><span class="op" id="1895702">,</span>&nbsp;<span class="op" id="1895704">(</span><span class="ident" id="1895705">un21</span><span class="op" id="1895709">*</span><span class="ident" id="1895710">b</span>&nbsp;<span class="op" id="1895712">+</span>&nbsp;<span class="ident" id="1895714">un0</span>&nbsp;<span class="op" id="1895718">-</span>&nbsp;<span class="ident" id="1895720">q0</span><span class="op" id="1895722">*</span><span class="ident" id="1895723">v</span><span class="op" id="1895724">)</span>&nbsp;<span class="op" id="1895726">&gt;&gt;</span>&nbsp;<span class="ident" id="1895729">s</span><br>
<span class="lineno">485</span><span class="op" id="1895731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1895734">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1895754">func</span>&nbsp;<span class="ident" id="1895759">fadd64c</span><span class="op" id="1895766">(</span><span class="ident" id="1895767">f</span><span class="op" id="1895768">,</span>&nbsp;<span class="ident" id="1895770">g</span>&nbsp;<span class="ident" id="1895772">uint64</span><span class="op" id="1895778">,</span>&nbsp;<span class="ident" id="1895780">ret</span>&nbsp;<span class="op" id="1895784">*</span><span class="ident" id="1895785">uint64</span><span class="op" id="1895791">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1895804">{</span>&nbsp;<span class="op" id="1895806">*</span><span class="ident" id="1895807">ret</span>&nbsp;<span class="op" id="1895811">=</span>&nbsp;<span class="ident" id="1895813">fadd64</span><span class="op" id="1895819">(</span><span class="ident" id="1895820">f</span><span class="op" id="1895821">,</span>&nbsp;<span class="ident" id="1895823">g</span><span class="op" id="1895824">)</span>&nbsp;<span class="op" id="1895826">}</span><br>
<span class="lineno">490</span><span class="keyword" id="1895828">func</span>&nbsp;<span class="ident" id="1895833">fsub64c</span><span class="op" id="1895840">(</span><span class="ident" id="1895841">f</span><span class="op" id="1895842">,</span>&nbsp;<span class="ident" id="1895844">g</span>&nbsp;<span class="ident" id="1895846">uint64</span><span class="op" id="1895852">,</span>&nbsp;<span class="ident" id="1895854">ret</span>&nbsp;<span class="op" id="1895858">*</span><span class="ident" id="1895859">uint64</span><span class="op" id="1895865">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1895878">{</span>&nbsp;<span class="op" id="1895880">*</span><span class="ident" id="1895881">ret</span>&nbsp;<span class="op" id="1895885">=</span>&nbsp;<span class="ident" id="1895887">fsub64</span><span class="op" id="1895893">(</span><span class="ident" id="1895894">f</span><span class="op" id="1895895">,</span>&nbsp;<span class="ident" id="1895897">g</span><span class="op" id="1895898">)</span>&nbsp;<span class="op" id="1895900">}</span><br>
<span class="lineno"></span><span class="keyword" id="1895902">func</span>&nbsp;<span class="ident" id="1895907">fmul64c</span><span class="op" id="1895914">(</span><span class="ident" id="1895915">f</span><span class="op" id="1895916">,</span>&nbsp;<span class="ident" id="1895918">g</span>&nbsp;<span class="ident" id="1895920">uint64</span><span class="op" id="1895926">,</span>&nbsp;<span class="ident" id="1895928">ret</span>&nbsp;<span class="op" id="1895932">*</span><span class="ident" id="1895933">uint64</span><span class="op" id="1895939">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1895952">{</span>&nbsp;<span class="op" id="1895954">*</span><span class="ident" id="1895955">ret</span>&nbsp;<span class="op" id="1895959">=</span>&nbsp;<span class="ident" id="1895961">fmul64</span><span class="op" id="1895967">(</span><span class="ident" id="1895968">f</span><span class="op" id="1895969">,</span>&nbsp;<span class="ident" id="1895971">g</span><span class="op" id="1895972">)</span>&nbsp;<span class="op" id="1895974">}</span><br>
<span class="lineno"></span><span class="keyword" id="1895976">func</span>&nbsp;<span class="ident" id="1895981">fdiv64c</span><span class="op" id="1895988">(</span><span class="ident" id="1895989">f</span><span class="op" id="1895990">,</span>&nbsp;<span class="ident" id="1895992">g</span>&nbsp;<span class="ident" id="1895994">uint64</span><span class="op" id="1896000">,</span>&nbsp;<span class="ident" id="1896002">ret</span>&nbsp;<span class="op" id="1896006">*</span><span class="ident" id="1896007">uint64</span><span class="op" id="1896013">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1896026">{</span>&nbsp;<span class="op" id="1896028">*</span><span class="ident" id="1896029">ret</span>&nbsp;<span class="op" id="1896033">=</span>&nbsp;<span class="ident" id="1896035">fdiv64</span><span class="op" id="1896041">(</span><span class="ident" id="1896042">f</span><span class="op" id="1896043">,</span>&nbsp;<span class="ident" id="1896045">g</span><span class="op" id="1896046">)</span>&nbsp;<span class="op" id="1896048">}</span><br>
<span class="lineno"></span><span class="keyword" id="1896050">func</span>&nbsp;<span class="ident" id="1896055">fneg64c</span><span class="op" id="1896062">(</span><span class="ident" id="1896063">f</span>&nbsp;<span class="ident" id="1896065">uint64</span><span class="op" id="1896071">,</span>&nbsp;<span class="ident" id="1896073">ret</span>&nbsp;<span class="op" id="1896077">*</span><span class="ident" id="1896078">uint64</span><span class="op" id="1896084">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1896100">{</span>&nbsp;<span class="op" id="1896102">*</span><span class="ident" id="1896103">ret</span>&nbsp;<span class="op" id="1896107">=</span>&nbsp;<span class="ident" id="1896109">fneg64</span><span class="op" id="1896115">(</span><span class="ident" id="1896116">f</span><span class="op" id="1896117">)</span>&nbsp;<span class="op" id="1896119">}</span><br>
<span class="lineno"></span><span class="keyword" id="1896121">func</span>&nbsp;<span class="ident" id="1896126">f32to64c</span><span class="op" id="1896134">(</span><span class="ident" id="1896135">f</span>&nbsp;<span class="builtintype" id="1896137">uint32</span><span class="op" id="1896143">,</span>&nbsp;<span class="ident" id="1896145">ret</span>&nbsp;<span class="op" id="1896149">*</span><span class="ident" id="1896150">uint64</span><span class="op" id="1896156">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1896171">{</span>&nbsp;<span class="op" id="1896173">*</span><span class="ident" id="1896174">ret</span>&nbsp;<span class="op" id="1896178">=</span>&nbsp;<span class="ident" id="1896180">f32to64</span><span class="op" id="1896187">(</span><span class="ident" id="1896188">f</span><span class="op" id="1896189">)</span>&nbsp;<span class="op" id="1896191">}</span><br>
<span class="lineno">495</span><span class="keyword" id="1896193">func</span>&nbsp;<span class="ident" id="1896198">f64to32c</span><span class="op" id="1896206">(</span><span class="ident" id="1896207">f</span>&nbsp;<span class="ident" id="1896209">uint64</span><span class="op" id="1896215">,</span>&nbsp;<span class="ident" id="1896217">ret</span>&nbsp;<span class="op" id="1896221">*</span><span class="builtintype" id="1896222">uint32</span><span class="op" id="1896228">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1896243">{</span>&nbsp;<span class="op" id="1896245">*</span><span class="ident" id="1896246">ret</span>&nbsp;<span class="op" id="1896250">=</span>&nbsp;<span class="ident" id="1896252">f64to32</span><span class="op" id="1896259">(</span><span class="ident" id="1896260">f</span><span class="op" id="1896261">)</span>&nbsp;<span class="op" id="1896263">}</span><br>
<span class="lineno"></span><span class="keyword" id="1896265">func</span>&nbsp;<span class="ident" id="1896270">fcmp64c</span><span class="op" id="1896277">(</span><span class="ident" id="1896278">f</span><span class="op" id="1896279">,</span>&nbsp;<span class="ident" id="1896281">g</span>&nbsp;<span class="ident" id="1896283">uint64</span><span class="op" id="1896289">,</span>&nbsp;<span class="ident" id="1896291">ret</span>&nbsp;<span class="op" id="1896295">*</span><span class="builtintype" id="1896296">int</span><span class="op" id="1896299">,</span>&nbsp;<span class="ident" id="1896301">retnan</span>&nbsp;<span class="op" id="1896308">*</span><span class="builtintype" id="1896309">bool</span><span class="op" id="1896313">)</span>&nbsp;<span class="op" id="1896315">{</span>&nbsp;<span class="op" id="1896317">*</span><span class="ident" id="1896318">ret</span><span class="op" id="1896321">,</span>&nbsp;<span class="op" id="1896323">*</span><span class="ident" id="1896324">retnan</span>&nbsp;<span class="op" id="1896331">=</span>&nbsp;<span class="ident" id="1896333">fcmp64</span><span class="op" id="1896339">(</span><span class="ident" id="1896340">f</span><span class="op" id="1896341">,</span>&nbsp;<span class="ident" id="1896343">g</span><span class="op" id="1896344">)</span>&nbsp;<span class="op" id="1896346">}</span><br>
<span class="lineno"></span><span class="keyword" id="1896348">func</span>&nbsp;<span class="ident" id="1896353">fintto64c</span><span class="op" id="1896362">(</span><span class="ident" id="1896363">val</span>&nbsp;<span class="ident" id="1896367">int64</span><span class="op" id="1896372">,</span>&nbsp;<span class="ident" id="1896374">ret</span>&nbsp;<span class="op" id="1896378">*</span><span class="ident" id="1896379">uint64</span><span class="op" id="1896385">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1896398">{</span>&nbsp;<span class="op" id="1896400">*</span><span class="ident" id="1896401">ret</span>&nbsp;<span class="op" id="1896405">=</span>&nbsp;<span class="ident" id="1896407">fintto64</span><span class="op" id="1896415">(</span><span class="ident" id="1896416">val</span><span class="op" id="1896419">)</span>&nbsp;<span class="op" id="1896421">}</span><br>
<span class="lineno"></span><span class="keyword" id="1896423">func</span>&nbsp;<span class="ident" id="1896428">f64tointc</span><span class="op" id="1896437">(</span><span class="ident" id="1896438">f</span>&nbsp;<span class="ident" id="1896440">uint64</span><span class="op" id="1896446">,</span>&nbsp;<span class="ident" id="1896448">ret</span>&nbsp;<span class="op" id="1896452">*</span><span class="ident" id="1896453">int64</span><span class="op" id="1896458">,</span>&nbsp;<span class="ident" id="1896460">retok</span>&nbsp;<span class="op" id="1896466">*</span><span class="builtintype" id="1896467">bool</span><span class="op" id="1896471">)</span>&nbsp;<span class="op" id="1896473">{</span>&nbsp;<span class="op" id="1896475">*</span><span class="ident" id="1896476">ret</span><span class="op" id="1896479">,</span>&nbsp;<span class="op" id="1896481">*</span><span class="ident" id="1896482">retok</span>&nbsp;<span class="op" id="1896488">=</span>&nbsp;<span class="ident" id="1896490">f64toint</span><span class="op" id="1896498">(</span><span class="ident" id="1896499">f</span><span class="op" id="1896500">)</span>&nbsp;<span class="op" id="1896502">}</span>
</div>
</body>
</html>
