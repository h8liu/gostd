<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8327114">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8327170">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8327224">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8327275">package</span>&nbsp;<span class="ident" id="8327283">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8327289">import</span>&nbsp;<span class="op" id="8327296">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8327299">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8327309">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8327312">func</span>&nbsp;<span class="ident" id="8327317">TestTagParsing</span><span class="op" id="8327331">(</span><span class="ident" id="8327332">t</span>&nbsp;<span class="op" id="8327334">*</span><span class="ident" id="8327335">testing</span><span class="op" id="8327342">.</span><span class="ident" id="8327343">T</span><span class="op" id="8327344">)</span>&nbsp;<span class="op" id="8327346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327349">name</span><span class="op" id="8327353">,</span>&nbsp;<span class="ident" id="8327355">opts</span>&nbsp;<span class="op" id="8327360">:=</span>&nbsp;<span class="ident" id="8327363">parseTag</span><span class="op" id="8327371">(</span><span class="string" id="8327372">&#34;field,foobar,foo&#34;</span><span class="op" id="8327390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327393">if</span>&nbsp;<span class="ident" id="8327396">name</span>&nbsp;<span class="op" id="8327401">!=</span>&nbsp;<span class="string" id="8327404">&#34;field&#34;</span>&nbsp;<span class="op" id="8327412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327416">t</span><span class="op" id="8327417">.</span><span class="ident" id="8327418">Fatalf</span><span class="op" id="8327424">(</span><span class="string" id="8327425">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8327448">,</span>&nbsp;<span class="ident" id="8327450">name</span><span class="op" id="8327454">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327460">for</span>&nbsp;<span class="ident" id="8327464">_</span><span class="op" id="8327465">,</span>&nbsp;<span class="ident" id="8327467">tt</span>&nbsp;<span class="op" id="8327470">:=</span>&nbsp;<span class="keyword" id="8327473">range</span>&nbsp;<span class="op" id="8327479">[</span><span class="op" id="8327480">]</span><span class="keyword" id="8327481">struct</span>&nbsp;<span class="op" id="8327488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327492">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8327497">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327506">want</span>&nbsp;<span class="builtintype" id="8327511">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327517">}</span><span class="op" id="8327518">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327522">{</span><span class="string" id="8327523">&#34;foobar&#34;</span><span class="op" id="8327531">,</span>&nbsp;<span class="builtintype" id="8327533">true</span><span class="op" id="8327537">}</span><span class="op" id="8327538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327542">{</span><span class="string" id="8327543">&#34;foo&#34;</span><span class="op" id="8327548">,</span>&nbsp;<span class="builtintype" id="8327550">true</span><span class="op" id="8327554">}</span><span class="op" id="8327555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327559">{</span><span class="string" id="8327560">&#34;bar&#34;</span><span class="op" id="8327565">,</span>&nbsp;<span class="builtintype" id="8327567">false</span><span class="op" id="8327572">}</span><span class="op" id="8327573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327576">}</span>&nbsp;<span class="op" id="8327578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327582">if</span>&nbsp;<span class="ident" id="8327585">opts</span><span class="op" id="8327589">.</span><span class="ident" id="8327590">Contains</span><span class="op" id="8327598">(</span><span class="ident" id="8327599">tt</span><span class="op" id="8327601">.</span><span class="ident" id="8327602">opt</span><span class="op" id="8327605">)</span>&nbsp;<span class="op" id="8327607">!=</span>&nbsp;<span class="ident" id="8327610">tt</span><span class="op" id="8327612">.</span><span class="ident" id="8327613">want</span>&nbsp;<span class="op" id="8327618">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327623">t</span><span class="op" id="8327624">.</span><span class="ident" id="8327625">Errorf</span><span class="op" id="8327631">(</span><span class="string" id="8327632">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8327651">,</span>&nbsp;<span class="ident" id="8327653">tt</span><span class="op" id="8327655">.</span><span class="ident" id="8327656">opt</span><span class="op" id="8327659">,</span>&nbsp;<span class="op" id="8327661">!</span><span class="ident" id="8327662">tt</span><span class="op" id="8327664">.</span><span class="ident" id="8327665">want</span><span class="op" id="8327669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327676">}</span><br>
<span class="lineno"></span><span class="op" id="8327678">}</span>
</div>
</body>
</html>
