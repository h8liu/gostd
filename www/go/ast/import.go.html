<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5905472">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5905527">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5905581">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5905632">package</span>&nbsp;<span class="ident" id="5905640">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5905645">import</span>&nbsp;<span class="op" id="5905652">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5905655">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5905667">&#34;sort&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5905675">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5905685">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5905688">//&nbsp;SortImports&nbsp;sorts&nbsp;runs&nbsp;of&nbsp;consecutive&nbsp;import&nbsp;lines&nbsp;in&nbsp;import&nbsp;blocks&nbsp;in&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5905765">//&nbsp;It&nbsp;also&nbsp;removes&nbsp;duplicate&nbsp;imports&nbsp;when&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;do&nbsp;so&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno">15</span><span class="keyword" id="5905850">func</span>&nbsp;<span class="ident" id="5905855">SortImports</span><span class="op" id="5905866">(</span><span class="ident" id="5905867">fset</span>&nbsp;<span class="op" id="5905872">*</span><span class="ident" id="5905873"><a href="/go/ast/import.go.html#5905655">token</a></span><span class="op" id="5905878">.</span><span class="ident" id="5905879">FileSet</span><span class="op" id="5905886">,</span>&nbsp;<span class="ident" id="5905888">f</span>&nbsp;<span class="op" id="5905890">*</span><span class="ident" id="5905891"><a href="/go/ast/ast.go.html#5882563">File</a></span><span class="op" id="5905895">)</span>&nbsp;<span class="op" id="5905897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5905900">for</span>&nbsp;<span class="ident" id="5905904">_</span><span class="op" id="5905905">,</span>&nbsp;<span class="ident" id="5905907">d</span>&nbsp;<span class="op" id="5905909">:=</span>&nbsp;<span class="keyword" id="5905912">range</span>&nbsp;<span class="ident" id="5905918"><a href="/go/ast/import.go.html#5905888">f</a></span><span class="op" id="5905919">.</span><span class="ident" id="5905920">Decls</span>&nbsp;<span class="op" id="5905926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5905930">d</span><span class="op" id="5905931">,</span>&nbsp;<span class="ident" id="5905933">ok</span>&nbsp;<span class="op" id="5905936">:=</span>&nbsp;<span class="ident" id="5905939"><a href="/go/ast/import.go.html#5905907">d</a></span><span class="op" id="5905940">.</span><span class="op" id="5905941">(</span><span class="op" id="5905942">*</span><span class="ident" id="5905943"><a href="/go/ast/ast.go.html#5880856">GenDecl</a></span><span class="op" id="5905950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5905954">if</span>&nbsp;<span class="op" id="5905957">!</span><span class="ident" id="5905958"><a href="/go/ast/import.go.html#5905933">ok</a></span>&nbsp;<span class="op" id="5905961">||</span>&nbsp;<span class="ident" id="5905964"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5905965">.</span><span class="ident" id="5905966">Tok</span>&nbsp;<span class="op" id="5905970">!=</span>&nbsp;<span class="ident" id="5905973"><a href="/go/ast/import.go.html#5905655">token</a></span><span class="op" id="5905978">.</span><span class="ident" id="5905979">IMPORT</span>&nbsp;<span class="op" id="5905986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5905991">//&nbsp;Not&nbsp;an&nbsp;import&nbsp;declaration,&nbsp;so&nbsp;we&#39;re&nbsp;done.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5906039">//&nbsp;Imports&nbsp;are&nbsp;always&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906071">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906084">if</span>&nbsp;<span class="op" id="5906087">!</span><span class="ident" id="5906088"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906089">.</span><span class="ident" id="5906090">Lparen</span><span class="op" id="5906096">.</span><span class="ident" id="5906097">IsValid</span><span class="op" id="5906104">(</span><span class="op" id="5906105">)</span>&nbsp;<span class="op" id="5906107">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5906112">//&nbsp;Not&nbsp;a&nbsp;block:&nbsp;sorted&nbsp;by&nbsp;default.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5906166">//&nbsp;Identify&nbsp;and&nbsp;sort&nbsp;runs&nbsp;of&nbsp;specs&nbsp;on&nbsp;successive&nbsp;lines.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906224">i</span>&nbsp;<span class="op" id="5906226">:=</span>&nbsp;<span class="num" id="5906229">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906233">specs</span>&nbsp;<span class="op" id="5906239">:=</span>&nbsp;<span class="ident" id="5906242"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906243">.</span><span class="ident" id="5906244">Specs</span><span class="op" id="5906249">[</span><span class="op" id="5906250">:</span><span class="num" id="5906251">0</span><span class="op" id="5906252">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906256">for</span>&nbsp;<span class="ident" id="5906260">j</span><span class="op" id="5906261">,</span>&nbsp;<span class="ident" id="5906263">s</span>&nbsp;<span class="op" id="5906265">:=</span>&nbsp;<span class="keyword" id="5906268">range</span>&nbsp;<span class="ident" id="5906274"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906275">.</span><span class="ident" id="5906276">Specs</span>&nbsp;<span class="op" id="5906282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906287">if</span>&nbsp;<span class="ident" id="5906290"><a href="/go/ast/import.go.html#5906260">j</a></span>&nbsp;<span class="op" id="5906292">&gt;</span>&nbsp;<span class="ident" id="5906294"><a href="/go/ast/import.go.html#5906224">i</a></span>&nbsp;<span class="op" id="5906296">&amp;&amp;</span>&nbsp;<span class="ident" id="5906299"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906303">.</span><span class="ident" id="5906304">Position</span><span class="op" id="5906312">(</span><span class="ident" id="5906313"><a href="/go/ast/import.go.html#5906263">s</a></span><span class="op" id="5906314">.</span><span class="ident" id="5906315">Pos</span><span class="op" id="5906318">(</span><span class="op" id="5906319">)</span><span class="op" id="5906320">)</span><span class="op" id="5906321">.</span><span class="ident" id="5906322">Line</span>&nbsp;<span class="op" id="5906327">&gt;</span>&nbsp;<span class="num" id="5906329">1</span><span class="op" id="5906330">+</span><span class="ident" id="5906331"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906335">.</span><span class="ident" id="5906336">Position</span><span class="op" id="5906344">(</span><span class="ident" id="5906345"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906346">.</span><span class="ident" id="5906347">Specs</span><span class="op" id="5906352">[</span><span class="ident" id="5906353"><a href="/go/ast/import.go.html#5906260">j</a></span><span class="op" id="5906354">-</span><span class="num" id="5906355">1</span><span class="op" id="5906356">]</span><span class="op" id="5906357">.</span><span class="ident" id="5906358">End</span><span class="op" id="5906361">(</span><span class="op" id="5906362">)</span><span class="op" id="5906363">)</span><span class="op" id="5906364">.</span><span class="ident" id="5906365">Line</span>&nbsp;<span class="op" id="5906370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5906376">//&nbsp;j&nbsp;begins&nbsp;a&nbsp;new&nbsp;run.&nbsp;&nbsp;End&nbsp;this&nbsp;one.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906418"><a href="/go/ast/import.go.html#5906233">specs</a></span>&nbsp;<span class="op" id="5906424">=</span>&nbsp;<span class="builtinfunc" id="5906426">append</span><span class="op" id="5906432">(</span><span class="ident" id="5906433"><a href="/go/ast/import.go.html#5906233">specs</a></span><span class="op" id="5906438">,</span>&nbsp;<span class="ident" id="5906440"><a href="/go/ast/import.go.html#5907575">sortSpecs</a></span><span class="op" id="5906449">(</span><span class="ident" id="5906450"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906454">,</span>&nbsp;<span class="ident" id="5906456"><a href="/go/ast/import.go.html#5905888">f</a></span><span class="op" id="5906457">,</span>&nbsp;<span class="ident" id="5906459"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906460">.</span><span class="ident" id="5906461">Specs</span><span class="op" id="5906466">[</span><span class="ident" id="5906467"><a href="/go/ast/import.go.html#5906224">i</a></span><span class="op" id="5906468">:</span><span class="ident" id="5906469"><a href="/go/ast/import.go.html#5906260">j</a></span><span class="op" id="5906470">]</span><span class="op" id="5906471">)</span><span class="op" id="5906472">...</span><span class="op" id="5906475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906481"><a href="/go/ast/import.go.html#5906224">i</a></span>&nbsp;<span class="op" id="5906483">=</span>&nbsp;<span class="ident" id="5906485"><a href="/go/ast/import.go.html#5906260">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906498"><a href="/go/ast/import.go.html#5906233">specs</a></span>&nbsp;<span class="op" id="5906504">=</span>&nbsp;<span class="builtinfunc" id="5906506">append</span><span class="op" id="5906512">(</span><span class="ident" id="5906513"><a href="/go/ast/import.go.html#5906233">specs</a></span><span class="op" id="5906518">,</span>&nbsp;<span class="ident" id="5906520"><a href="/go/ast/import.go.html#5907575">sortSpecs</a></span><span class="op" id="5906529">(</span><span class="ident" id="5906530"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906534">,</span>&nbsp;<span class="ident" id="5906536"><a href="/go/ast/import.go.html#5905888">f</a></span><span class="op" id="5906537">,</span>&nbsp;<span class="ident" id="5906539"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906540">.</span><span class="ident" id="5906541">Specs</span><span class="op" id="5906546">[</span><span class="ident" id="5906547"><a href="/go/ast/import.go.html#5906224">i</a></span><span class="op" id="5906548">:</span><span class="op" id="5906549">]</span><span class="op" id="5906550">)</span><span class="op" id="5906551">...</span><span class="op" id="5906554">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906558"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906559">.</span><span class="ident" id="5906560">Specs</span>&nbsp;<span class="op" id="5906566">=</span>&nbsp;<span class="ident" id="5906568"><a href="/go/ast/import.go.html#5906233">specs</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5906577">//&nbsp;Deduping&nbsp;can&nbsp;leave&nbsp;a&nbsp;blank&nbsp;line&nbsp;before&nbsp;the&nbsp;rparen;&nbsp;clean&nbsp;that&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906648">if</span>&nbsp;<span class="builtinfunc" id="5906651">len</span><span class="op" id="5906654">(</span><span class="ident" id="5906655"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906656">.</span><span class="ident" id="5906657">Specs</span><span class="op" id="5906662">)</span>&nbsp;<span class="op" id="5906664">&gt;</span>&nbsp;<span class="num" id="5906666">0</span>&nbsp;<span class="op" id="5906668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906673">lastSpec</span>&nbsp;<span class="op" id="5906682">:=</span>&nbsp;<span class="ident" id="5906685"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906686">.</span><span class="ident" id="5906687">Specs</span><span class="op" id="5906692">[</span><span class="builtinfunc" id="5906693">len</span><span class="op" id="5906696">(</span><span class="ident" id="5906697"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906698">.</span><span class="ident" id="5906699">Specs</span><span class="op" id="5906704">)</span><span class="op" id="5906705">-</span><span class="num" id="5906706">1</span><span class="op" id="5906707">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906712">lastLine</span>&nbsp;<span class="op" id="5906721">:=</span>&nbsp;<span class="ident" id="5906724"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906728">.</span><span class="ident" id="5906729">Position</span><span class="op" id="5906737">(</span><span class="ident" id="5906738"><a href="/go/ast/import.go.html#5906673">lastSpec</a></span><span class="op" id="5906746">.</span><span class="ident" id="5906747">Pos</span><span class="op" id="5906750">(</span><span class="op" id="5906751">)</span><span class="op" id="5906752">)</span><span class="op" id="5906753">.</span><span class="ident" id="5906754">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906762">if</span>&nbsp;<span class="ident" id="5906765">rParenLine</span>&nbsp;<span class="op" id="5906776">:=</span>&nbsp;<span class="ident" id="5906779"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906783">.</span><span class="ident" id="5906784">Position</span><span class="op" id="5906792">(</span><span class="ident" id="5906793"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906794">.</span><span class="ident" id="5906795">Rparen</span><span class="op" id="5906801">)</span><span class="op" id="5906802">.</span><span class="ident" id="5906803">Line</span><span class="op" id="5906807">;</span>&nbsp;<span class="ident" id="5906809"><a href="/go/ast/import.go.html#5906765">rParenLine</a></span>&nbsp;<span class="op" id="5906820">&gt;</span>&nbsp;<span class="ident" id="5906822"><a href="/go/ast/import.go.html#5906712">lastLine</a></span><span class="op" id="5906830">+</span><span class="num" id="5906831">1</span>&nbsp;<span class="op" id="5906833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906839"><a href="/go/ast/import.go.html#5905867">fset</a></span><span class="op" id="5906843">.</span><span class="ident" id="5906844">File</span><span class="op" id="5906848">(</span><span class="ident" id="5906849"><a href="/go/ast/import.go.html#5905930">d</a></span><span class="op" id="5906850">.</span><span class="ident" id="5906851">Rparen</span><span class="op" id="5906857">)</span><span class="op" id="5906858">.</span><span class="ident" id="5906859">MergeLine</span><span class="op" id="5906868">(</span><span class="ident" id="5906869"><a href="/go/ast/import.go.html#5906765">rParenLine</a></span>&nbsp;<span class="op" id="5906880">-</span>&nbsp;<span class="num" id="5906882">1</span><span class="op" id="5906883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906892">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5906895">}</span><br>
<span class="lineno"></span><span class="op" id="5906897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5906900">func</span>&nbsp;<span class="ident" id="5906905">importPath</span><span class="op" id="5906915">(</span><span class="ident" id="5906916">s</span>&nbsp;<span class="ident" id="5906918"><a href="/go/ast/ast.go.html#5878202">Spec</a></span><span class="op" id="5906922">)</span>&nbsp;<span class="builtintype" id="5906924">string</span>&nbsp;<span class="op" id="5906931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5906934">t</span><span class="op" id="5906935">,</span>&nbsp;<span class="ident" id="5906937">err</span>&nbsp;<span class="op" id="5906941">:=</span>&nbsp;<span class="ident" id="5906944"><a href="/go/ast/import.go.html#5905675">strconv</a></span><span class="op" id="5906951">.</span><span class="ident" id="5906952">Unquote</span><span class="op" id="5906959">(</span><span class="ident" id="5906960"><a href="/go/ast/import.go.html#5906916">s</a></span><span class="op" id="5906961">.</span><span class="op" id="5906962">(</span><span class="op" id="5906963">*</span><span class="ident" id="5906964"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5906974">)</span><span class="op" id="5906975">.</span><span class="ident" id="5906976">Path</span><span class="op" id="5906980">.</span><span class="ident" id="5906981">Value</span><span class="op" id="5906986">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5906989">if</span>&nbsp;<span class="ident" id="5906992"><a href="/go/ast/import.go.html#5906937">err</a></span>&nbsp;<span class="op" id="5906996">==</span>&nbsp;<span class="ident" id="5906999">nil</span>&nbsp;<span class="op" id="5907003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907007">return</span>&nbsp;<span class="ident" id="5907014"><a href="/go/ast/import.go.html#5906934">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907020">return</span>&nbsp;<span class="string" id="5907027">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5907030">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="5907033">func</span>&nbsp;<span class="ident" id="5907038">importName</span><span class="op" id="5907048">(</span><span class="ident" id="5907049">s</span>&nbsp;<span class="ident" id="5907051"><a href="/go/ast/ast.go.html#5878202">Spec</a></span><span class="op" id="5907055">)</span>&nbsp;<span class="builtintype" id="5907057">string</span>&nbsp;<span class="op" id="5907064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907067">n</span>&nbsp;<span class="op" id="5907069">:=</span>&nbsp;<span class="ident" id="5907072"><a href="/go/ast/import.go.html#5907049">s</a></span><span class="op" id="5907073">.</span><span class="op" id="5907074">(</span><span class="op" id="5907075">*</span><span class="ident" id="5907076"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5907086">)</span><span class="op" id="5907087">.</span><span class="ident" id="5907088">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907094">if</span>&nbsp;<span class="ident" id="5907097"><a href="/go/ast/import.go.html#5907067">n</a></span>&nbsp;<span class="op" id="5907099">==</span>&nbsp;<span class="ident" id="5907102">nil</span>&nbsp;<span class="op" id="5907106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907110">return</span>&nbsp;<span class="string" id="5907117">&#34;&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907124">return</span>&nbsp;<span class="ident" id="5907131"><a href="/go/ast/import.go.html#5907067">n</a></span><span class="op" id="5907132">.</span><span class="ident" id="5907133">Name</span><br>
<span class="lineno"></span><span class="op" id="5907138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5907141">func</span>&nbsp;<span class="ident" id="5907146">importComment</span><span class="op" id="5907159">(</span><span class="ident" id="5907160">s</span>&nbsp;<span class="ident" id="5907162"><a href="/go/ast/ast.go.html#5878202">Spec</a></span><span class="op" id="5907166">)</span>&nbsp;<span class="builtintype" id="5907168">string</span>&nbsp;<span class="op" id="5907175">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907178">c</span>&nbsp;<span class="op" id="5907180">:=</span>&nbsp;<span class="ident" id="5907183"><a href="/go/ast/import.go.html#5907160">s</a></span><span class="op" id="5907184">.</span><span class="op" id="5907185">(</span><span class="op" id="5907186">*</span><span class="ident" id="5907187"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5907197">)</span><span class="op" id="5907198">.</span><span class="ident" id="5907199">Comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907208">if</span>&nbsp;<span class="ident" id="5907211"><a href="/go/ast/import.go.html#5907178">c</a></span>&nbsp;<span class="op" id="5907213">==</span>&nbsp;<span class="ident" id="5907216">nil</span>&nbsp;<span class="op" id="5907220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907224">return</span>&nbsp;<span class="string" id="5907231">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907238">return</span>&nbsp;<span class="ident" id="5907245"><a href="/go/ast/import.go.html#5907178">c</a></span><span class="op" id="5907246">.</span><span class="ident" id="5907247">Text</span><span class="op" id="5907251">(</span><span class="op" id="5907252">)</span><br>
<span class="lineno">75</span><span class="op" id="5907254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5907257">//&nbsp;collapse&nbsp;indicates&nbsp;whether&nbsp;prev&nbsp;may&nbsp;be&nbsp;removed,&nbsp;leaving&nbsp;only&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="5907327">func</span>&nbsp;<span class="ident" id="5907332">collapse</span><span class="op" id="5907340">(</span><span class="ident" id="5907341">prev</span><span class="op" id="5907345">,</span>&nbsp;<span class="ident" id="5907347">next</span>&nbsp;<span class="ident" id="5907352"><a href="/go/ast/ast.go.html#5878202">Spec</a></span><span class="op" id="5907356">)</span>&nbsp;<span class="builtintype" id="5907358">bool</span>&nbsp;<span class="op" id="5907363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907366">if</span>&nbsp;<span class="ident" id="5907369"><a href="/go/ast/import.go.html#5906905">importPath</a></span><span class="op" id="5907379">(</span><span class="ident" id="5907380"><a href="/go/ast/import.go.html#5907347">next</a></span><span class="op" id="5907384">)</span>&nbsp;<span class="op" id="5907386">!=</span>&nbsp;<span class="ident" id="5907389"><a href="/go/ast/import.go.html#5906905">importPath</a></span><span class="op" id="5907399">(</span><span class="ident" id="5907400"><a href="/go/ast/import.go.html#5907341">prev</a></span><span class="op" id="5907404">)</span>&nbsp;<span class="op" id="5907406">||</span>&nbsp;<span class="ident" id="5907409"><a href="/go/ast/import.go.html#5907038">importName</a></span><span class="op" id="5907419">(</span><span class="ident" id="5907420"><a href="/go/ast/import.go.html#5907347">next</a></span><span class="op" id="5907424">)</span>&nbsp;<span class="op" id="5907426">!=</span>&nbsp;<span class="ident" id="5907429"><a href="/go/ast/import.go.html#5907038">importName</a></span><span class="op" id="5907439">(</span><span class="ident" id="5907440"><a href="/go/ast/import.go.html#5907341">prev</a></span><span class="op" id="5907444">)</span>&nbsp;<span class="op" id="5907446">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907450">return</span>&nbsp;<span class="ident" id="5907457">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907467">return</span>&nbsp;<span class="ident" id="5907474"><a href="/go/ast/import.go.html#5907341">prev</a></span><span class="op" id="5907478">.</span><span class="op" id="5907479">(</span><span class="op" id="5907480">*</span><span class="ident" id="5907481"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5907491">)</span><span class="op" id="5907492">.</span><span class="ident" id="5907493">Comment</span>&nbsp;<span class="op" id="5907501">==</span>&nbsp;<span class="ident" id="5907504">nil</span><br>
<span class="lineno"></span><span class="op" id="5907508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5907511">type</span>&nbsp;<span class="ident" id="5907516">posSpan</span>&nbsp;<span class="keyword" id="5907524">struct</span>&nbsp;<span class="op" id="5907531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907534">Start</span>&nbsp;<span class="ident" id="5907540"><a href="/go/ast/import.go.html#5905655">token</a></span><span class="op" id="5907545">.</span><span class="ident" id="5907546">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907551">End</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5907557"><a href="/go/ast/import.go.html#5905655">token</a></span><span class="op" id="5907562">.</span><span class="ident" id="5907563">Pos</span><br>
<span class="lineno"></span><span class="op" id="5907567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="5907570">func</span>&nbsp;<span class="ident" id="5907575">sortSpecs</span><span class="op" id="5907584">(</span><span class="ident" id="5907585">fset</span>&nbsp;<span class="op" id="5907590">*</span><span class="ident" id="5907591"><a href="/go/ast/import.go.html#5905655">token</a></span><span class="op" id="5907596">.</span><span class="ident" id="5907597">FileSet</span><span class="op" id="5907604">,</span>&nbsp;<span class="ident" id="5907606">f</span>&nbsp;<span class="op" id="5907608">*</span><span class="ident" id="5907609"><a href="/go/ast/ast.go.html#5882563">File</a></span><span class="op" id="5907613">,</span>&nbsp;<span class="ident" id="5907615">specs</span>&nbsp;<span class="op" id="5907621">[</span><span class="op" id="5907622">]</span><span class="ident" id="5907623"><a href="/go/ast/ast.go.html#5878202">Spec</a></span><span class="op" id="5907627">)</span>&nbsp;<span class="op" id="5907629">[</span><span class="op" id="5907630">]</span><span class="ident" id="5907631"><a href="/go/ast/ast.go.html#5878202">Spec</a></span>&nbsp;<span class="op" id="5907636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5907639">//&nbsp;Can&#39;t&nbsp;short-circuit&nbsp;here&nbsp;even&nbsp;if&nbsp;specs&nbsp;are&nbsp;already&nbsp;sorted,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5907702">//&nbsp;since&nbsp;they&nbsp;might&nbsp;yet&nbsp;need&nbsp;deduplication.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5907747">//&nbsp;A&nbsp;lone&nbsp;import,&nbsp;however,&nbsp;may&nbsp;be&nbsp;safely&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907798">if</span>&nbsp;<span class="builtinfunc" id="5907801">len</span><span class="op" id="5907804">(</span><span class="ident" id="5907805"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5907810">)</span>&nbsp;<span class="op" id="5907812">&lt;=</span>&nbsp;<span class="num" id="5907815">1</span>&nbsp;<span class="op" id="5907817">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907821">return</span>&nbsp;<span class="ident" id="5907828"><a href="/go/ast/import.go.html#5907615">specs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5907839">//&nbsp;Record&nbsp;positions&nbsp;for&nbsp;specs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907871">pos</span>&nbsp;<span class="op" id="5907875">:=</span>&nbsp;<span class="builtinfunc" id="5907878">make</span><span class="op" id="5907882">(</span><span class="op" id="5907883">[</span><span class="op" id="5907884">]</span><span class="ident" id="5907885"><a href="/go/ast/import.go.html#5907516">posSpan</a></span><span class="op" id="5907892">,</span>&nbsp;<span class="builtinfunc" id="5907894">len</span><span class="op" id="5907897">(</span><span class="ident" id="5907898"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5907903">)</span><span class="op" id="5907904">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5907907">for</span>&nbsp;<span class="ident" id="5907911">i</span><span class="op" id="5907912">,</span>&nbsp;<span class="ident" id="5907914">s</span>&nbsp;<span class="op" id="5907916">:=</span>&nbsp;<span class="keyword" id="5907919">range</span>&nbsp;<span class="ident" id="5907925"><a href="/go/ast/import.go.html#5907615">specs</a></span>&nbsp;<span class="op" id="5907931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5907935"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5907938">[</span><span class="ident" id="5907939"><a href="/go/ast/import.go.html#5907911">i</a></span><span class="op" id="5907940">]</span>&nbsp;<span class="op" id="5907942">=</span>&nbsp;<span class="ident" id="5907944"><a href="/go/ast/import.go.html#5907516">posSpan</a></span><span class="op" id="5907951">{</span><span class="ident" id="5907952"><a href="/go/ast/import.go.html#5907914">s</a></span><span class="op" id="5907953">.</span><span class="ident" id="5907954">Pos</span><span class="op" id="5907957">(</span><span class="op" id="5907958">)</span><span class="op" id="5907959">,</span>&nbsp;<span class="ident" id="5907961"><a href="/go/ast/import.go.html#5907914">s</a></span><span class="op" id="5907962">.</span><span class="ident" id="5907963">End</span><span class="op" id="5907966">(</span><span class="op" id="5907967">)</span><span class="op" id="5907968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5907971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5907975">//&nbsp;Identify&nbsp;comments&nbsp;in&nbsp;this&nbsp;range.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908012">//&nbsp;Any&nbsp;comment&nbsp;from&nbsp;pos[0].Start&nbsp;to&nbsp;the&nbsp;final&nbsp;line&nbsp;counts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908072">lastLine</span>&nbsp;<span class="op" id="5908081">:=</span>&nbsp;<span class="ident" id="5908084"><a href="/go/ast/import.go.html#5907585">fset</a></span><span class="op" id="5908088">.</span><span class="ident" id="5908089">Position</span><span class="op" id="5908097">(</span><span class="ident" id="5908098"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5908101">[</span><span class="builtinfunc" id="5908102">len</span><span class="op" id="5908105">(</span><span class="ident" id="5908106"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5908109">)</span><span class="op" id="5908110">-</span><span class="num" id="5908111">1</span><span class="op" id="5908112">]</span><span class="op" id="5908113">.</span><span class="ident" id="5908114">End</span><span class="op" id="5908117">)</span><span class="op" id="5908118">.</span><span class="ident" id="5908119">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908125">cstart</span>&nbsp;<span class="op" id="5908132">:=</span>&nbsp;<span class="builtinfunc" id="5908135">len</span><span class="op" id="5908138">(</span><span class="ident" id="5908139"><a href="/go/ast/import.go.html#5907606">f</a></span><span class="op" id="5908140">.</span><span class="ident" id="5908141">Comments</span><span class="op" id="5908149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908152">cend</span>&nbsp;<span class="op" id="5908157">:=</span>&nbsp;<span class="builtinfunc" id="5908160">len</span><span class="op" id="5908163">(</span><span class="ident" id="5908164"><a href="/go/ast/import.go.html#5907606">f</a></span><span class="op" id="5908165">.</span><span class="ident" id="5908166">Comments</span><span class="op" id="5908174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908177">for</span>&nbsp;<span class="ident" id="5908181">i</span><span class="op" id="5908182">,</span>&nbsp;<span class="ident" id="5908184">g</span>&nbsp;<span class="op" id="5908186">:=</span>&nbsp;<span class="keyword" id="5908189">range</span>&nbsp;<span class="ident" id="5908195"><a href="/go/ast/import.go.html#5907606">f</a></span><span class="op" id="5908196">.</span><span class="ident" id="5908197">Comments</span>&nbsp;<span class="op" id="5908206">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908210">if</span>&nbsp;<span class="ident" id="5908213"><a href="/go/ast/import.go.html#5908184">g</a></span><span class="op" id="5908214">.</span><span class="ident" id="5908215">Pos</span><span class="op" id="5908218">(</span><span class="op" id="5908219">)</span>&nbsp;<span class="op" id="5908221">&lt;</span>&nbsp;<span class="ident" id="5908223"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5908226">[</span><span class="num" id="5908227">0</span><span class="op" id="5908228">]</span><span class="op" id="5908229">.</span><span class="ident" id="5908230">Start</span>&nbsp;<span class="op" id="5908236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908241">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908256">if</span>&nbsp;<span class="ident" id="5908259"><a href="/go/ast/import.go.html#5908181">i</a></span>&nbsp;<span class="op" id="5908261">&lt;</span>&nbsp;<span class="ident" id="5908263"><a href="/go/ast/import.go.html#5908125">cstart</a></span>&nbsp;<span class="op" id="5908270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908275"><a href="/go/ast/import.go.html#5908125">cstart</a></span>&nbsp;<span class="op" id="5908282">=</span>&nbsp;<span class="ident" id="5908284"><a href="/go/ast/import.go.html#5908181">i</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908292">if</span>&nbsp;<span class="ident" id="5908295"><a href="/go/ast/import.go.html#5907585">fset</a></span><span class="op" id="5908299">.</span><span class="ident" id="5908300">Position</span><span class="op" id="5908308">(</span><span class="ident" id="5908309"><a href="/go/ast/import.go.html#5908184">g</a></span><span class="op" id="5908310">.</span><span class="ident" id="5908311">End</span><span class="op" id="5908314">(</span><span class="op" id="5908315">)</span><span class="op" id="5908316">)</span><span class="op" id="5908317">.</span><span class="ident" id="5908318">Line</span>&nbsp;<span class="op" id="5908323">&gt;</span>&nbsp;<span class="ident" id="5908325"><a href="/go/ast/import.go.html#5908072">lastLine</a></span>&nbsp;<span class="op" id="5908334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908339"><a href="/go/ast/import.go.html#5908152">cend</a></span>&nbsp;<span class="op" id="5908344">=</span>&nbsp;<span class="ident" id="5908346"><a href="/go/ast/import.go.html#5908181">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908351">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908359">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908365">comments</span>&nbsp;<span class="op" id="5908374">:=</span>&nbsp;<span class="ident" id="5908377"><a href="/go/ast/import.go.html#5907606">f</a></span><span class="op" id="5908378">.</span><span class="ident" id="5908379">Comments</span><span class="op" id="5908387">[</span><span class="ident" id="5908388"><a href="/go/ast/import.go.html#5908125">cstart</a></span><span class="op" id="5908394">:</span><span class="ident" id="5908395"><a href="/go/ast/import.go.html#5908152">cend</a></span><span class="op" id="5908399">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908403">//&nbsp;Assign&nbsp;each&nbsp;comment&nbsp;to&nbsp;the&nbsp;import&nbsp;spec&nbsp;preceding&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908460">importComment</span>&nbsp;<span class="op" id="5908474">:=</span>&nbsp;<span class="keyword" id="5908477">map</span><span class="op" id="5908480">[</span><span class="op" id="5908481">*</span><span class="ident" id="5908482"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5908492">]</span><span class="op" id="5908493">[</span><span class="op" id="5908494">]</span><span class="op" id="5908495">*</span><span class="ident" id="5908496"><a href="/go/ast/ast.go.html#5854728">CommentGroup</a></span><span class="op" id="5908508">{</span><span class="op" id="5908509">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908512">specIndex</span>&nbsp;<span class="op" id="5908522">:=</span>&nbsp;<span class="num" id="5908525">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908528">for</span>&nbsp;<span class="ident" id="5908532">_</span><span class="op" id="5908533">,</span>&nbsp;<span class="ident" id="5908535">g</span>&nbsp;<span class="op" id="5908537">:=</span>&nbsp;<span class="keyword" id="5908540">range</span>&nbsp;<span class="ident" id="5908546"><a href="/go/ast/import.go.html#5908365">comments</a></span>&nbsp;<span class="op" id="5908555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5908559">for</span>&nbsp;<span class="ident" id="5908563"><a href="/go/ast/import.go.html#5908512">specIndex</a></span><span class="op" id="5908572">+</span><span class="num" id="5908573">1</span>&nbsp;<span class="op" id="5908575">&lt;</span>&nbsp;<span class="builtinfunc" id="5908577">len</span><span class="op" id="5908580">(</span><span class="ident" id="5908581"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5908586">)</span>&nbsp;<span class="op" id="5908588">&amp;&amp;</span>&nbsp;<span class="ident" id="5908591"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5908594">[</span><span class="ident" id="5908595"><a href="/go/ast/import.go.html#5908512">specIndex</a></span><span class="op" id="5908604">+</span><span class="num" id="5908605">1</span><span class="op" id="5908606">]</span><span class="op" id="5908607">.</span><span class="ident" id="5908608">Start</span>&nbsp;<span class="op" id="5908614">&lt;=</span>&nbsp;<span class="ident" id="5908617"><a href="/go/ast/import.go.html#5908535">g</a></span><span class="op" id="5908618">.</span><span class="ident" id="5908619">Pos</span><span class="op" id="5908622">(</span><span class="op" id="5908623">)</span>&nbsp;<span class="op" id="5908625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908630"><a href="/go/ast/import.go.html#5908512">specIndex</a></span><span class="op" id="5908639">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908644">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908648">s</span>&nbsp;<span class="op" id="5908650">:=</span>&nbsp;<span class="ident" id="5908653"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5908658">[</span><span class="ident" id="5908659"><a href="/go/ast/import.go.html#5908512">specIndex</a></span><span class="op" id="5908668">]</span><span class="op" id="5908669">.</span><span class="op" id="5908670">(</span><span class="op" id="5908671">*</span><span class="ident" id="5908672"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5908682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908686"><a href="/go/ast/import.go.html#5908460">importComment</a></span><span class="op" id="5908699">[</span><span class="ident" id="5908700"><a href="/go/ast/import.go.html#5908648">s</a></span><span class="op" id="5908701">]</span>&nbsp;<span class="op" id="5908703">=</span>&nbsp;<span class="builtinfunc" id="5908705">append</span><span class="op" id="5908711">(</span><span class="ident" id="5908712"><a href="/go/ast/import.go.html#5908460">importComment</a></span><span class="op" id="5908725">[</span><span class="ident" id="5908726"><a href="/go/ast/import.go.html#5908648">s</a></span><span class="op" id="5908727">]</span><span class="op" id="5908728">,</span>&nbsp;<span class="ident" id="5908730"><a href="/go/ast/import.go.html#5908535">g</a></span><span class="op" id="5908731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5908734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908738">//&nbsp;Sort&nbsp;the&nbsp;import&nbsp;specs&nbsp;by&nbsp;import&nbsp;path.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908780">//&nbsp;Remove&nbsp;duplicates,&nbsp;when&nbsp;possible&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908836">//&nbsp;Reassign&nbsp;the&nbsp;import&nbsp;paths&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;position&nbsp;sequence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908902">//&nbsp;Reassign&nbsp;each&nbsp;comment&nbsp;to&nbsp;abut&nbsp;the&nbsp;end&nbsp;of&nbsp;its&nbsp;spec.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5908957">//&nbsp;Sort&nbsp;the&nbsp;comments&nbsp;by&nbsp;new&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5908996"><a href="/go/ast/import.go.html#5905667">sort</a></span><span class="op" id="5909000">.</span><span class="ident" id="5909001">Sort</span><span class="op" id="5909005">(</span><span class="ident" id="5909006"><a href="/go/ast/import.go.html#5909708">byImportSpec</a></span><span class="op" id="5909018">(</span><span class="ident" id="5909019"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5909024">)</span><span class="op" id="5909025">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5909029">//&nbsp;Dedup.&nbsp;Thanks&nbsp;to&nbsp;our&nbsp;sorting,&nbsp;we&nbsp;can&nbsp;just&nbsp;consider</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5909084">//&nbsp;adjacent&nbsp;pairs&nbsp;of&nbsp;imports.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909115">deduped</span>&nbsp;<span class="op" id="5909123">:=</span>&nbsp;<span class="ident" id="5909126"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5909131">[</span><span class="op" id="5909132">:</span><span class="num" id="5909133">0</span><span class="op" id="5909134">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909137">for</span>&nbsp;<span class="ident" id="5909141">i</span><span class="op" id="5909142">,</span>&nbsp;<span class="ident" id="5909144">s</span>&nbsp;<span class="op" id="5909146">:=</span>&nbsp;<span class="keyword" id="5909149">range</span>&nbsp;<span class="ident" id="5909155"><a href="/go/ast/import.go.html#5907615">specs</a></span>&nbsp;<span class="op" id="5909161">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909165">if</span>&nbsp;<span class="ident" id="5909168"><a href="/go/ast/import.go.html#5909141">i</a></span>&nbsp;<span class="op" id="5909170">==</span>&nbsp;<span class="builtinfunc" id="5909173">len</span><span class="op" id="5909176">(</span><span class="ident" id="5909177"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5909182">)</span><span class="op" id="5909183">-</span><span class="num" id="5909184">1</span>&nbsp;<span class="op" id="5909186">||</span>&nbsp;<span class="op" id="5909189">!</span><span class="ident" id="5909190"><a href="/go/ast/import.go.html#5907332">collapse</a></span><span class="op" id="5909198">(</span><span class="ident" id="5909199"><a href="/go/ast/import.go.html#5909144">s</a></span><span class="op" id="5909200">,</span>&nbsp;<span class="ident" id="5909202"><a href="/go/ast/import.go.html#5907615">specs</a></span><span class="op" id="5909207">[</span><span class="ident" id="5909208"><a href="/go/ast/import.go.html#5909141">i</a></span><span class="op" id="5909209">+</span><span class="num" id="5909210">1</span><span class="op" id="5909211">]</span><span class="op" id="5909212">)</span>&nbsp;<span class="op" id="5909214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909219"><a href="/go/ast/import.go.html#5909115">deduped</a></span>&nbsp;<span class="op" id="5909227">=</span>&nbsp;<span class="builtinfunc" id="5909229">append</span><span class="op" id="5909235">(</span><span class="ident" id="5909236"><a href="/go/ast/import.go.html#5909115">deduped</a></span><span class="op" id="5909243">,</span>&nbsp;<span class="ident" id="5909245"><a href="/go/ast/import.go.html#5909144">s</a></span><span class="op" id="5909246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909250">}</span>&nbsp;<span class="keyword" id="5909252">else</span>&nbsp;<span class="op" id="5909257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909262">p</span>&nbsp;<span class="op" id="5909264">:=</span>&nbsp;<span class="ident" id="5909267"><a href="/go/ast/import.go.html#5909144">s</a></span><span class="op" id="5909268">.</span><span class="ident" id="5909269">Pos</span><span class="op" id="5909272">(</span><span class="op" id="5909273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909278"><a href="/go/ast/import.go.html#5907585">fset</a></span><span class="op" id="5909282">.</span><span class="ident" id="5909283">File</span><span class="op" id="5909287">(</span><span class="ident" id="5909288"><a href="/go/ast/import.go.html#5909262">p</a></span><span class="op" id="5909289">)</span><span class="op" id="5909290">.</span><span class="ident" id="5909291">MergeLine</span><span class="op" id="5909300">(</span><span class="ident" id="5909301"><a href="/go/ast/import.go.html#5907585">fset</a></span><span class="op" id="5909305">.</span><span class="ident" id="5909306">Position</span><span class="op" id="5909314">(</span><span class="ident" id="5909315"><a href="/go/ast/import.go.html#5909262">p</a></span><span class="op" id="5909316">)</span><span class="op" id="5909317">.</span><span class="ident" id="5909318">Line</span><span class="op" id="5909322">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909332"><a href="/go/ast/import.go.html#5907615">specs</a></span>&nbsp;<span class="op" id="5909338">=</span>&nbsp;<span class="ident" id="5909340"><a href="/go/ast/import.go.html#5909115">deduped</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5909350">//&nbsp;Fix&nbsp;up&nbsp;comment&nbsp;positions</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909379">for</span>&nbsp;<span class="ident" id="5909383">i</span><span class="op" id="5909384">,</span>&nbsp;<span class="ident" id="5909386">s</span>&nbsp;<span class="op" id="5909388">:=</span>&nbsp;<span class="keyword" id="5909391">range</span>&nbsp;<span class="ident" id="5909397"><a href="/go/ast/import.go.html#5907615">specs</a></span>&nbsp;<span class="op" id="5909403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909407">s</span>&nbsp;<span class="op" id="5909409">:=</span>&nbsp;<span class="ident" id="5909412"><a href="/go/ast/import.go.html#5909386">s</a></span><span class="op" id="5909413">.</span><span class="op" id="5909414">(</span><span class="op" id="5909415">*</span><span class="ident" id="5909416"><a href="/go/ast/ast.go.html#5878303">ImportSpec</a></span><span class="op" id="5909426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909430">if</span>&nbsp;<span class="ident" id="5909433"><a href="/go/ast/import.go.html#5909407">s</a></span><span class="op" id="5909434">.</span><span class="ident" id="5909435">Name</span>&nbsp;<span class="op" id="5909440">!=</span>&nbsp;<span class="ident" id="5909443">nil</span>&nbsp;<span class="op" id="5909447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909452"><a href="/go/ast/import.go.html#5909407">s</a></span><span class="op" id="5909453">.</span><span class="ident" id="5909454">Name</span><span class="op" id="5909458">.</span><span class="ident" id="5909459">NamePos</span>&nbsp;<span class="op" id="5909467">=</span>&nbsp;<span class="ident" id="5909469"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5909472">[</span><span class="ident" id="5909473"><a href="/go/ast/import.go.html#5909383">i</a></span><span class="op" id="5909474">]</span><span class="op" id="5909475">.</span><span class="ident" id="5909476">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909484">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909488"><a href="/go/ast/import.go.html#5909407">s</a></span><span class="op" id="5909489">.</span><span class="ident" id="5909490">Path</span><span class="op" id="5909494">.</span><span class="ident" id="5909495">ValuePos</span>&nbsp;<span class="op" id="5909504">=</span>&nbsp;<span class="ident" id="5909506"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5909509">[</span><span class="ident" id="5909510"><a href="/go/ast/import.go.html#5909383">i</a></span><span class="op" id="5909511">]</span><span class="op" id="5909512">.</span><span class="ident" id="5909513">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909521"><a href="/go/ast/import.go.html#5909407">s</a></span><span class="op" id="5909522">.</span><span class="ident" id="5909523">EndPos</span>&nbsp;<span class="op" id="5909530">=</span>&nbsp;<span class="ident" id="5909532"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5909535">[</span><span class="ident" id="5909536"><a href="/go/ast/import.go.html#5909383">i</a></span><span class="op" id="5909537">]</span><span class="op" id="5909538">.</span><span class="ident" id="5909539">End</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909545">for</span>&nbsp;<span class="ident" id="5909549">_</span><span class="op" id="5909550">,</span>&nbsp;<span class="ident" id="5909552">g</span>&nbsp;<span class="op" id="5909554">:=</span>&nbsp;<span class="keyword" id="5909557">range</span>&nbsp;<span class="ident" id="5909563"><a href="/go/ast/import.go.html#5908460">importComment</a></span><span class="op" id="5909576">[</span><span class="ident" id="5909577"><a href="/go/ast/import.go.html#5909407">s</a></span><span class="op" id="5909578">]</span>&nbsp;<span class="op" id="5909580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909585">for</span>&nbsp;<span class="ident" id="5909589">_</span><span class="op" id="5909590">,</span>&nbsp;<span class="ident" id="5909592">c</span>&nbsp;<span class="op" id="5909594">:=</span>&nbsp;<span class="keyword" id="5909597">range</span>&nbsp;<span class="ident" id="5909603"><a href="/go/ast/import.go.html#5909552">g</a></span><span class="op" id="5909604">.</span><span class="ident" id="5909605">List</span>&nbsp;<span class="op" id="5909610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909616"><a href="/go/ast/import.go.html#5909592">c</a></span><span class="op" id="5909617">.</span><span class="ident" id="5909618">Slash</span>&nbsp;<span class="op" id="5909624">=</span>&nbsp;<span class="ident" id="5909626"><a href="/go/ast/import.go.html#5907871">pos</a></span><span class="op" id="5909629">[</span><span class="ident" id="5909630"><a href="/go/ast/import.go.html#5909383">i</a></span><span class="op" id="5909631">]</span><span class="op" id="5909632">.</span><span class="ident" id="5909633">End</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5909647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909651"><a href="/go/ast/import.go.html#5905667">sort</a></span><span class="op" id="5909655">.</span><span class="ident" id="5909656">Sort</span><span class="op" id="5909660">(</span><span class="ident" id="5909661"><a href="/go/ast/import.go.html#5910177">byCommentPos</a></span><span class="op" id="5909673">(</span><span class="ident" id="5909674"><a href="/go/ast/import.go.html#5908365">comments</a></span><span class="op" id="5909682">)</span><span class="op" id="5909683">)</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909687">return</span>&nbsp;<span class="ident" id="5909694"><a href="/go/ast/import.go.html#5907615">specs</a></span><br>
<span class="lineno"></span><span class="op" id="5909700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5909703">type</span>&nbsp;<span class="ident" id="5909708">byImportSpec</span>&nbsp;<span class="op" id="5909721">[</span><span class="op" id="5909722">]</span><span class="ident" id="5909723"><a href="/go/ast/ast.go.html#5878202">Spec</a></span>&nbsp;<span class="comment" id="5909728">//&nbsp;slice&nbsp;of&nbsp;*ImportSpec</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="5909753">func</span>&nbsp;<span class="op" id="5909758">(</span><span class="ident" id="5909759">x</span>&nbsp;<span class="ident" id="5909761"><a href="/go/ast/import.go.html#5909708">byImportSpec</a></span><span class="op" id="5909773">)</span>&nbsp;<span class="ident" id="5909775">Len</span><span class="op" id="5909778">(</span><span class="op" id="5909779">)</span>&nbsp;<span class="builtintype" id="5909781">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5909790">{</span>&nbsp;<span class="keyword" id="5909792">return</span>&nbsp;<span class="builtinfunc" id="5909799">len</span><span class="op" id="5909802">(</span><span class="ident" id="5909803"><a href="/go/ast/import.go.html#5909759">x</a></span><span class="op" id="5909804">)</span>&nbsp;<span class="op" id="5909806">}</span><br>
<span class="lineno"></span><span class="keyword" id="5909808">func</span>&nbsp;<span class="op" id="5909813">(</span><span class="ident" id="5909814">x</span>&nbsp;<span class="ident" id="5909816"><a href="/go/ast/import.go.html#5909708">byImportSpec</a></span><span class="op" id="5909828">)</span>&nbsp;<span class="ident" id="5909830">Swap</span><span class="op" id="5909834">(</span><span class="ident" id="5909835">i</span><span class="op" id="5909836">,</span>&nbsp;<span class="ident" id="5909838">j</span>&nbsp;<span class="builtintype" id="5909840">int</span><span class="op" id="5909843">)</span>&nbsp;<span class="op" id="5909845">{</span>&nbsp;<span class="ident" id="5909847"><a href="/go/ast/import.go.html#5909814">x</a></span><span class="op" id="5909848">[</span><span class="ident" id="5909849"><a href="/go/ast/import.go.html#5909835">i</a></span><span class="op" id="5909850">]</span><span class="op" id="5909851">,</span>&nbsp;<span class="ident" id="5909853"><a href="/go/ast/import.go.html#5909814">x</a></span><span class="op" id="5909854">[</span><span class="ident" id="5909855"><a href="/go/ast/import.go.html#5909838">j</a></span><span class="op" id="5909856">]</span>&nbsp;<span class="op" id="5909858">=</span>&nbsp;<span class="ident" id="5909860"><a href="/go/ast/import.go.html#5909814">x</a></span><span class="op" id="5909861">[</span><span class="ident" id="5909862"><a href="/go/ast/import.go.html#5909838">j</a></span><span class="op" id="5909863">]</span><span class="op" id="5909864">,</span>&nbsp;<span class="ident" id="5909866"><a href="/go/ast/import.go.html#5909814">x</a></span><span class="op" id="5909867">[</span><span class="ident" id="5909868"><a href="/go/ast/import.go.html#5909835">i</a></span><span class="op" id="5909869">]</span>&nbsp;<span class="op" id="5909871">}</span><br>
<span class="lineno"></span><span class="keyword" id="5909873">func</span>&nbsp;<span class="op" id="5909878">(</span><span class="ident" id="5909879">x</span>&nbsp;<span class="ident" id="5909881"><a href="/go/ast/import.go.html#5909708">byImportSpec</a></span><span class="op" id="5909893">)</span>&nbsp;<span class="ident" id="5909895">Less</span><span class="op" id="5909899">(</span><span class="ident" id="5909900">i</span><span class="op" id="5909901">,</span>&nbsp;<span class="ident" id="5909903">j</span>&nbsp;<span class="builtintype" id="5909905">int</span><span class="op" id="5909908">)</span>&nbsp;<span class="builtintype" id="5909910">bool</span>&nbsp;<span class="op" id="5909915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909918">ipath</span>&nbsp;<span class="op" id="5909924">:=</span>&nbsp;<span class="ident" id="5909927"><a href="/go/ast/import.go.html#5906905">importPath</a></span><span class="op" id="5909937">(</span><span class="ident" id="5909938"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5909939">[</span><span class="ident" id="5909940"><a href="/go/ast/import.go.html#5909900">i</a></span><span class="op" id="5909941">]</span><span class="op" id="5909942">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5909945">jpath</span>&nbsp;<span class="op" id="5909951">:=</span>&nbsp;<span class="ident" id="5909954"><a href="/go/ast/import.go.html#5906905">importPath</a></span><span class="op" id="5909964">(</span><span class="ident" id="5909965"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5909966">[</span><span class="ident" id="5909967"><a href="/go/ast/import.go.html#5909903">j</a></span><span class="op" id="5909968">]</span><span class="op" id="5909969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909972">if</span>&nbsp;<span class="ident" id="5909975"><a href="/go/ast/import.go.html#5909918">ipath</a></span>&nbsp;<span class="op" id="5909981">!=</span>&nbsp;<span class="ident" id="5909984"><a href="/go/ast/import.go.html#5909945">jpath</a></span>&nbsp;<span class="op" id="5909990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5909994">return</span>&nbsp;<span class="ident" id="5910001"><a href="/go/ast/import.go.html#5909918">ipath</a></span>&nbsp;<span class="op" id="5910007">&lt;</span>&nbsp;<span class="ident" id="5910009"><a href="/go/ast/import.go.html#5909945">jpath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910019">iname</span>&nbsp;<span class="op" id="5910025">:=</span>&nbsp;<span class="ident" id="5910028"><a href="/go/ast/import.go.html#5907038">importName</a></span><span class="op" id="5910038">(</span><span class="ident" id="5910039"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5910040">[</span><span class="ident" id="5910041"><a href="/go/ast/import.go.html#5909900">i</a></span><span class="op" id="5910042">]</span><span class="op" id="5910043">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5910046">jname</span>&nbsp;<span class="op" id="5910052">:=</span>&nbsp;<span class="ident" id="5910055"><a href="/go/ast/import.go.html#5907038">importName</a></span><span class="op" id="5910065">(</span><span class="ident" id="5910066"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5910067">[</span><span class="ident" id="5910068"><a href="/go/ast/import.go.html#5909903">j</a></span><span class="op" id="5910069">]</span><span class="op" id="5910070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910073">if</span>&nbsp;<span class="ident" id="5910076"><a href="/go/ast/import.go.html#5910019">iname</a></span>&nbsp;<span class="op" id="5910082">!=</span>&nbsp;<span class="ident" id="5910085"><a href="/go/ast/import.go.html#5910046">jname</a></span>&nbsp;<span class="op" id="5910091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910095">return</span>&nbsp;<span class="ident" id="5910102"><a href="/go/ast/import.go.html#5910019">iname</a></span>&nbsp;<span class="op" id="5910108">&lt;</span>&nbsp;<span class="ident" id="5910110"><a href="/go/ast/import.go.html#5910046">jname</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5910117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910120">return</span>&nbsp;<span class="ident" id="5910127"><a href="/go/ast/import.go.html#5907146">importComment</a></span><span class="op" id="5910140">(</span><span class="ident" id="5910141"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5910142">[</span><span class="ident" id="5910143"><a href="/go/ast/import.go.html#5909900">i</a></span><span class="op" id="5910144">]</span><span class="op" id="5910145">)</span>&nbsp;<span class="op" id="5910147">&lt;</span>&nbsp;<span class="ident" id="5910149"><a href="/go/ast/import.go.html#5907146">importComment</a></span><span class="op" id="5910162">(</span><span class="ident" id="5910163"><a href="/go/ast/import.go.html#5909879">x</a></span><span class="op" id="5910164">[</span><span class="ident" id="5910165"><a href="/go/ast/import.go.html#5909903">j</a></span><span class="op" id="5910166">]</span><span class="op" id="5910167">)</span><br>
<span class="lineno">190</span><span class="op" id="5910169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910172">type</span>&nbsp;<span class="ident" id="5910177">byCommentPos</span>&nbsp;<span class="op" id="5910190">[</span><span class="op" id="5910191">]</span><span class="op" id="5910192">*</span><span class="ident" id="5910193"><a href="/go/ast/ast.go.html#5854728">CommentGroup</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910207">func</span>&nbsp;<span class="op" id="5910212">(</span><span class="ident" id="5910213">x</span>&nbsp;<span class="ident" id="5910215"><a href="/go/ast/import.go.html#5910177">byCommentPos</a></span><span class="op" id="5910227">)</span>&nbsp;<span class="ident" id="5910229">Len</span><span class="op" id="5910232">(</span><span class="op" id="5910233">)</span>&nbsp;<span class="builtintype" id="5910235">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5910249">{</span>&nbsp;<span class="keyword" id="5910251">return</span>&nbsp;<span class="builtinfunc" id="5910258">len</span><span class="op" id="5910261">(</span><span class="ident" id="5910262"><a href="/go/ast/import.go.html#5910213">x</a></span><span class="op" id="5910263">)</span>&nbsp;<span class="op" id="5910265">}</span><br>
<span class="lineno">195</span><span class="keyword" id="5910267">func</span>&nbsp;<span class="op" id="5910272">(</span><span class="ident" id="5910273">x</span>&nbsp;<span class="ident" id="5910275"><a href="/go/ast/import.go.html#5910177">byCommentPos</a></span><span class="op" id="5910287">)</span>&nbsp;<span class="ident" id="5910289">Swap</span><span class="op" id="5910293">(</span><span class="ident" id="5910294">i</span><span class="op" id="5910295">,</span>&nbsp;<span class="ident" id="5910297">j</span>&nbsp;<span class="builtintype" id="5910299">int</span><span class="op" id="5910302">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5910309">{</span>&nbsp;<span class="ident" id="5910311"><a href="/go/ast/import.go.html#5910273">x</a></span><span class="op" id="5910312">[</span><span class="ident" id="5910313"><a href="/go/ast/import.go.html#5910294">i</a></span><span class="op" id="5910314">]</span><span class="op" id="5910315">,</span>&nbsp;<span class="ident" id="5910317"><a href="/go/ast/import.go.html#5910273">x</a></span><span class="op" id="5910318">[</span><span class="ident" id="5910319"><a href="/go/ast/import.go.html#5910297">j</a></span><span class="op" id="5910320">]</span>&nbsp;<span class="op" id="5910322">=</span>&nbsp;<span class="ident" id="5910324"><a href="/go/ast/import.go.html#5910273">x</a></span><span class="op" id="5910325">[</span><span class="ident" id="5910326"><a href="/go/ast/import.go.html#5910297">j</a></span><span class="op" id="5910327">]</span><span class="op" id="5910328">,</span>&nbsp;<span class="ident" id="5910330"><a href="/go/ast/import.go.html#5910273">x</a></span><span class="op" id="5910331">[</span><span class="ident" id="5910332"><a href="/go/ast/import.go.html#5910294">i</a></span><span class="op" id="5910333">]</span>&nbsp;<span class="op" id="5910335">}</span><br>
<span class="lineno"></span><span class="keyword" id="5910337">func</span>&nbsp;<span class="op" id="5910342">(</span><span class="ident" id="5910343">x</span>&nbsp;<span class="ident" id="5910345"><a href="/go/ast/import.go.html#5910177">byCommentPos</a></span><span class="op" id="5910357">)</span>&nbsp;<span class="ident" id="5910359">Less</span><span class="op" id="5910363">(</span><span class="ident" id="5910364">i</span><span class="op" id="5910365">,</span>&nbsp;<span class="ident" id="5910367">j</span>&nbsp;<span class="builtintype" id="5910369">int</span><span class="op" id="5910372">)</span>&nbsp;<span class="builtintype" id="5910374">bool</span>&nbsp;<span class="op" id="5910379">{</span>&nbsp;<span class="keyword" id="5910381">return</span>&nbsp;<span class="ident" id="5910388"><a href="/go/ast/import.go.html#5910343">x</a></span><span class="op" id="5910389">[</span><span class="ident" id="5910390"><a href="/go/ast/import.go.html#5910364">i</a></span><span class="op" id="5910391">]</span><span class="op" id="5910392">.</span><span class="ident" id="5910393">Pos</span><span class="op" id="5910396">(</span><span class="op" id="5910397">)</span>&nbsp;<span class="op" id="5910399">&lt;</span>&nbsp;<span class="ident" id="5910401"><a href="/go/ast/import.go.html#5910343">x</a></span><span class="op" id="5910402">[</span><span class="ident" id="5910403"><a href="/go/ast/import.go.html#5910367">j</a></span><span class="op" id="5910404">]</span><span class="op" id="5910405">.</span><span class="ident" id="5910406">Pos</span><span class="op" id="5910409">(</span><span class="op" id="5910410">)</span>&nbsp;<span class="op" id="5910412">}</span>
</div>
</body>
</html>
