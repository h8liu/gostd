<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6924936">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6924991">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6925045">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6925096">package</span>&nbsp;<span class="ident" id="6925104">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925113">import</span>&nbsp;<span class="op" id="6925120">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6925123">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6925134">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6925144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925147">var</span>&nbsp;<span class="ident" id="6925151">golden</span>&nbsp;<span class="op" id="6925158">=</span>&nbsp;<span class="op" id="6925160">[</span><span class="op" id="6925161">]</span><span class="keyword" id="6925162">struct</span>&nbsp;<span class="op" id="6925169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925172">out</span>&nbsp;<span class="builtintype" id="6925176">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925184">in</span>&nbsp;&nbsp;<span class="builtintype" id="6925188">string</span><br>
<span class="lineno">15</span><span class="op" id="6925195">}</span><span class="op" id="6925196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925199">{</span><span class="num" id="6925200">0x00000001</span><span class="op" id="6925210">,</span>&nbsp;<span class="string" id="6925212">&#34;&#34;</span><span class="op" id="6925214">}</span><span class="op" id="6925215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925218">{</span><span class="num" id="6925219">0x00620062</span><span class="op" id="6925229">,</span>&nbsp;<span class="string" id="6925231">&#34;a&#34;</span><span class="op" id="6925234">}</span><span class="op" id="6925235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925238">{</span><span class="num" id="6925239">0x012600c4</span><span class="op" id="6925249">,</span>&nbsp;<span class="string" id="6925251">&#34;ab&#34;</span><span class="op" id="6925255">}</span><span class="op" id="6925256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925259">{</span><span class="num" id="6925260">0x024d0127</span><span class="op" id="6925270">,</span>&nbsp;<span class="string" id="6925272">&#34;abc&#34;</span><span class="op" id="6925277">}</span><span class="op" id="6925278">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925281">{</span><span class="num" id="6925282">0x03d8018b</span><span class="op" id="6925292">,</span>&nbsp;<span class="string" id="6925294">&#34;abcd&#34;</span><span class="op" id="6925300">}</span><span class="op" id="6925301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925304">{</span><span class="num" id="6925305">0x05c801f0</span><span class="op" id="6925315">,</span>&nbsp;<span class="string" id="6925317">&#34;abcde&#34;</span><span class="op" id="6925324">}</span><span class="op" id="6925325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925328">{</span><span class="num" id="6925329">0x081e0256</span><span class="op" id="6925339">,</span>&nbsp;<span class="string" id="6925341">&#34;abcdef&#34;</span><span class="op" id="6925349">}</span><span class="op" id="6925350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925353">{</span><span class="num" id="6925354">0x0adb02bd</span><span class="op" id="6925364">,</span>&nbsp;<span class="string" id="6925366">&#34;abcdefg&#34;</span><span class="op" id="6925375">}</span><span class="op" id="6925376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925379">{</span><span class="num" id="6925380">0x0e000325</span><span class="op" id="6925390">,</span>&nbsp;<span class="string" id="6925392">&#34;abcdefgh&#34;</span><span class="op" id="6925402">}</span><span class="op" id="6925403">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925406">{</span><span class="num" id="6925407">0x118e038e</span><span class="op" id="6925417">,</span>&nbsp;<span class="string" id="6925419">&#34;abcdefghi&#34;</span><span class="op" id="6925430">}</span><span class="op" id="6925431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925434">{</span><span class="num" id="6925435">0x158603f8</span><span class="op" id="6925445">,</span>&nbsp;<span class="string" id="6925447">&#34;abcdefghij&#34;</span><span class="op" id="6925459">}</span><span class="op" id="6925460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925463">{</span><span class="num" id="6925464">0x3f090f02</span><span class="op" id="6925474">,</span>&nbsp;<span class="string" id="6925476">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="6925519">}</span><span class="op" id="6925520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925523">{</span><span class="num" id="6925524">0x46d81477</span><span class="op" id="6925534">,</span>&nbsp;<span class="string" id="6925536">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="6925595">}</span><span class="op" id="6925596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925599">{</span><span class="num" id="6925600">0x40ee0ee1</span><span class="op" id="6925610">,</span>&nbsp;<span class="string" id="6925612">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="6925656">}</span><span class="op" id="6925657">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925660">{</span><span class="num" id="6925661">0x16661315</span><span class="op" id="6925671">,</span>&nbsp;<span class="string" id="6925673">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="6925732">}</span><span class="op" id="6925733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925736">{</span><span class="num" id="6925737">0x5b2e1480</span><span class="op" id="6925747">,</span>&nbsp;<span class="string" id="6925749">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="6925809">}</span><span class="op" id="6925810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925813">{</span><span class="num" id="6925814">0x8c3c09ea</span><span class="op" id="6925824">,</span>&nbsp;<span class="string" id="6925826">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="6925855">}</span><span class="op" id="6925856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925859">{</span><span class="num" id="6925860">0x45ac18fd</span><span class="op" id="6925870">,</span>&nbsp;<span class="string" id="6925872">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="6925941">}</span><span class="op" id="6925942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925945">{</span><span class="num" id="6925946">0x53c61462</span><span class="op" id="6925956">,</span>&nbsp;<span class="string" id="6925958">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="6926017">}</span><span class="op" id="6926018">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926021">{</span><span class="num" id="6926022">0x7e511e63</span><span class="op" id="6926032">,</span>&nbsp;<span class="string" id="6926034">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="6926124">}</span><span class="op" id="6926125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926128">{</span><span class="num" id="6926129">0xe4801a6a</span><span class="op" id="6926139">,</span>&nbsp;<span class="string" id="6926141">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="6926218">}</span><span class="op" id="6926219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926222">{</span><span class="num" id="6926223">0x61b507df</span><span class="op" id="6926233">,</span>&nbsp;<span class="string" id="6926235">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="6926261">}</span><span class="op" id="6926262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926265">{</span><span class="num" id="6926266">0xb8631171</span><span class="op" id="6926276">,</span>&nbsp;<span class="string" id="6926278">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="6926329">}</span><span class="op" id="6926330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926333">{</span><span class="num" id="6926334">0x8b5e1904</span><span class="op" id="6926344">,</span>&nbsp;<span class="string" id="6926346">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="6926420">}</span><span class="op" id="6926421">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926424">{</span><span class="num" id="6926425">0x7cc6102b</span><span class="op" id="6926435">,</span>&nbsp;<span class="string" id="6926437">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="6926485">}</span><span class="op" id="6926486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926489">{</span><span class="num" id="6926490">0x700318e7</span><span class="op" id="6926500">,</span>&nbsp;<span class="string" id="6926502">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="6926574">}</span><span class="op" id="6926575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926578">{</span><span class="num" id="6926579">0x1e601747</span><span class="op" id="6926589">,</span>&nbsp;<span class="string" id="6926591">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="6926661">}</span><span class="op" id="6926662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926665">{</span><span class="num" id="6926666">0xb55b0b09</span><span class="op" id="6926676">,</span>&nbsp;<span class="string" id="6926678">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="6926712">}</span><span class="op" id="6926713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926716">{</span><span class="num" id="6926717">0x39111dd0</span><span class="op" id="6926727">,</span>&nbsp;<span class="string" id="6926729">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="6926819">}</span><span class="op" id="6926820">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926823">{</span><span class="num" id="6926824">0x91dd304f</span><span class="op" id="6926834">,</span>&nbsp;<span class="string" id="6926836">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="6926970">}</span><span class="op" id="6926971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926974">{</span><span class="num" id="6926975">0x2e5d1316</span><span class="op" id="6926985">,</span>&nbsp;<span class="string" id="6926987">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="6927045">}</span><span class="op" id="6927046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927049">{</span><span class="num" id="6927050">0xd0201df6</span><span class="op" id="6927060">,</span>&nbsp;<span class="string" id="6927062">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="6927145">}</span><span class="op" id="6927146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927149">{</span><span class="num" id="6927150">0x211297c8</span><span class="op" id="6927160">,</span>&nbsp;<span class="ident" id="6927162">strings</span><span class="op" id="6927169">.</span><span class="ident" id="6927170">Repeat</span><span class="op" id="6927176">(</span><span class="string" id="6927177">&#34;\xff&#34;</span><span class="op" id="6927183">,</span>&nbsp;<span class="num" id="6927185">5548</span><span class="op" id="6927189">)</span>&nbsp;<span class="op" id="6927191">+</span>&nbsp;<span class="string" id="6927193">&#34;8&#34;</span><span class="op" id="6927196">}</span><span class="op" id="6927197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927200">{</span><span class="num" id="6927201">0xbaa198c8</span><span class="op" id="6927211">,</span>&nbsp;<span class="ident" id="6927213">strings</span><span class="op" id="6927220">.</span><span class="ident" id="6927221">Repeat</span><span class="op" id="6927227">(</span><span class="string" id="6927228">&#34;\xff&#34;</span><span class="op" id="6927234">,</span>&nbsp;<span class="num" id="6927236">5549</span><span class="op" id="6927240">)</span>&nbsp;<span class="op" id="6927242">+</span>&nbsp;<span class="string" id="6927244">&#34;9&#34;</span><span class="op" id="6927247">}</span><span class="op" id="6927248">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927251">{</span><span class="num" id="6927252">0x553499be</span><span class="op" id="6927262">,</span>&nbsp;<span class="ident" id="6927264">strings</span><span class="op" id="6927271">.</span><span class="ident" id="6927272">Repeat</span><span class="op" id="6927278">(</span><span class="string" id="6927279">&#34;\xff&#34;</span><span class="op" id="6927285">,</span>&nbsp;<span class="num" id="6927287">5550</span><span class="op" id="6927291">)</span>&nbsp;<span class="op" id="6927293">+</span>&nbsp;<span class="string" id="6927295">&#34;0&#34;</span><span class="op" id="6927298">}</span><span class="op" id="6927299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927302">{</span><span class="num" id="6927303">0xf0c19abe</span><span class="op" id="6927313">,</span>&nbsp;<span class="ident" id="6927315">strings</span><span class="op" id="6927322">.</span><span class="ident" id="6927323">Repeat</span><span class="op" id="6927329">(</span><span class="string" id="6927330">&#34;\xff&#34;</span><span class="op" id="6927336">,</span>&nbsp;<span class="num" id="6927338">5551</span><span class="op" id="6927342">)</span>&nbsp;<span class="op" id="6927344">+</span>&nbsp;<span class="string" id="6927346">&#34;1&#34;</span><span class="op" id="6927349">}</span><span class="op" id="6927350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927353">{</span><span class="num" id="6927354">0x8d5c9bbe</span><span class="op" id="6927364">,</span>&nbsp;<span class="ident" id="6927366">strings</span><span class="op" id="6927373">.</span><span class="ident" id="6927374">Repeat</span><span class="op" id="6927380">(</span><span class="string" id="6927381">&#34;\xff&#34;</span><span class="op" id="6927387">,</span>&nbsp;<span class="num" id="6927389">5552</span><span class="op" id="6927393">)</span>&nbsp;<span class="op" id="6927395">+</span>&nbsp;<span class="string" id="6927397">&#34;2&#34;</span><span class="op" id="6927400">}</span><span class="op" id="6927401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927404">{</span><span class="num" id="6927405">0x2af69cbe</span><span class="op" id="6927415">,</span>&nbsp;<span class="ident" id="6927417">strings</span><span class="op" id="6927424">.</span><span class="ident" id="6927425">Repeat</span><span class="op" id="6927431">(</span><span class="string" id="6927432">&#34;\xff&#34;</span><span class="op" id="6927438">,</span>&nbsp;<span class="num" id="6927440">5553</span><span class="op" id="6927444">)</span>&nbsp;<span class="op" id="6927446">+</span>&nbsp;<span class="string" id="6927448">&#34;3&#34;</span><span class="op" id="6927451">}</span><span class="op" id="6927452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927455">{</span><span class="num" id="6927456">0xc9809dbe</span><span class="op" id="6927466">,</span>&nbsp;<span class="ident" id="6927468">strings</span><span class="op" id="6927475">.</span><span class="ident" id="6927476">Repeat</span><span class="op" id="6927482">(</span><span class="string" id="6927483">&#34;\xff&#34;</span><span class="op" id="6927489">,</span>&nbsp;<span class="num" id="6927491">5554</span><span class="op" id="6927495">)</span>&nbsp;<span class="op" id="6927497">+</span>&nbsp;<span class="string" id="6927499">&#34;4&#34;</span><span class="op" id="6927502">}</span><span class="op" id="6927503">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927506">{</span><span class="num" id="6927507">0x69189ebe</span><span class="op" id="6927517">,</span>&nbsp;<span class="ident" id="6927519">strings</span><span class="op" id="6927526">.</span><span class="ident" id="6927527">Repeat</span><span class="op" id="6927533">(</span><span class="string" id="6927534">&#34;\xff&#34;</span><span class="op" id="6927540">,</span>&nbsp;<span class="num" id="6927542">5555</span><span class="op" id="6927546">)</span>&nbsp;<span class="op" id="6927548">+</span>&nbsp;<span class="string" id="6927550">&#34;5&#34;</span><span class="op" id="6927553">}</span><span class="op" id="6927554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927557">{</span><span class="num" id="6927558">0x86af0001</span><span class="op" id="6927568">,</span>&nbsp;<span class="ident" id="6927570">strings</span><span class="op" id="6927577">.</span><span class="ident" id="6927578">Repeat</span><span class="op" id="6927584">(</span><span class="string" id="6927585">&#34;\x00&#34;</span><span class="op" id="6927591">,</span>&nbsp;<span class="num" id="6927593">1e5</span><span class="op" id="6927596">)</span><span class="op" id="6927597">}</span><span class="op" id="6927598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927601">{</span><span class="num" id="6927602">0x79660b4d</span><span class="op" id="6927612">,</span>&nbsp;<span class="ident" id="6927614">strings</span><span class="op" id="6927621">.</span><span class="ident" id="6927622">Repeat</span><span class="op" id="6927628">(</span><span class="string" id="6927629">&#34;a&#34;</span><span class="op" id="6927632">,</span>&nbsp;<span class="num" id="6927634">1e5</span><span class="op" id="6927637">)</span><span class="op" id="6927638">}</span><span class="op" id="6927639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927642">{</span><span class="num" id="6927643">0x110588ee</span><span class="op" id="6927653">,</span>&nbsp;<span class="ident" id="6927655">strings</span><span class="op" id="6927662">.</span><span class="ident" id="6927663">Repeat</span><span class="op" id="6927669">(</span><span class="string" id="6927670">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="6927698">,</span>&nbsp;<span class="num" id="6927700">1e4</span><span class="op" id="6927703">)</span><span class="op" id="6927704">}</span><span class="op" id="6927705">,</span><br>
<span class="lineno"></span><span class="op" id="6927707">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6927710">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="6927784">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="6927851">func</span>&nbsp;<span class="ident" id="6927856">checksum</span><span class="op" id="6927864">(</span><span class="ident" id="6927865">p</span>&nbsp;<span class="op" id="6927867">[</span><span class="op" id="6927868">]</span><span class="builtintype" id="6927869">byte</span><span class="op" id="6927873">)</span>&nbsp;<span class="builtintype" id="6927875">uint32</span>&nbsp;<span class="op" id="6927882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927885">s1</span><span class="op" id="6927887">,</span>&nbsp;<span class="ident" id="6927889">s2</span>&nbsp;<span class="op" id="6927892">:=</span>&nbsp;<span class="builtintype" id="6927895">uint32</span><span class="op" id="6927901">(</span><span class="num" id="6927902">1</span><span class="op" id="6927903">)</span><span class="op" id="6927904">,</span>&nbsp;<span class="builtintype" id="6927906">uint32</span><span class="op" id="6927912">(</span><span class="num" id="6927913">0</span><span class="op" id="6927914">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927917">for</span>&nbsp;<span class="ident" id="6927921">_</span><span class="op" id="6927922">,</span>&nbsp;<span class="ident" id="6927924">x</span>&nbsp;<span class="op" id="6927926">:=</span>&nbsp;<span class="keyword" id="6927929">range</span>&nbsp;<span class="ident" id="6927935">p</span>&nbsp;<span class="op" id="6927937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927941">s1</span>&nbsp;<span class="op" id="6927944">=</span>&nbsp;<span class="op" id="6927946">(</span><span class="ident" id="6927947">s1</span>&nbsp;<span class="op" id="6927950">+</span>&nbsp;<span class="builtintype" id="6927952">uint32</span><span class="op" id="6927958">(</span><span class="ident" id="6927959">x</span><span class="op" id="6927960">)</span><span class="op" id="6927961">)</span>&nbsp;<span class="op" id="6927963">%</span>&nbsp;<span class="ident" id="6927965">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927971">s2</span>&nbsp;<span class="op" id="6927974">=</span>&nbsp;<span class="op" id="6927976">(</span><span class="ident" id="6927977">s2</span>&nbsp;<span class="op" id="6927980">+</span>&nbsp;<span class="ident" id="6927982">s1</span><span class="op" id="6927984">)</span>&nbsp;<span class="op" id="6927986">%</span>&nbsp;<span class="ident" id="6927988">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927996">return</span>&nbsp;<span class="ident" id="6928003">s2</span><span class="op" id="6928005">&lt;&lt;</span><span class="num" id="6928007">16</span>&nbsp;<span class="op" id="6928010">|</span>&nbsp;<span class="ident" id="6928012">s1</span><br>
<span class="lineno">70</span><span class="op" id="6928015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6928018">func</span>&nbsp;<span class="ident" id="6928023">TestGolden</span><span class="op" id="6928033">(</span><span class="ident" id="6928034">t</span>&nbsp;<span class="op" id="6928036">*</span><span class="ident" id="6928037">testing</span><span class="op" id="6928044">.</span><span class="ident" id="6928045">T</span><span class="op" id="6928046">)</span>&nbsp;<span class="op" id="6928048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928051">for</span>&nbsp;<span class="ident" id="6928055">_</span><span class="op" id="6928056">,</span>&nbsp;<span class="ident" id="6928058">g</span>&nbsp;<span class="op" id="6928060">:=</span>&nbsp;<span class="keyword" id="6928063">range</span>&nbsp;<span class="ident" id="6928069">golden</span>&nbsp;<span class="op" id="6928076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928080">in</span>&nbsp;<span class="op" id="6928083">:=</span>&nbsp;<span class="ident" id="6928086">g</span><span class="op" id="6928087">.</span><span class="ident" id="6928088">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928093">if</span>&nbsp;<span class="builtinfunc" id="6928096">len</span><span class="op" id="6928099">(</span><span class="ident" id="6928100">in</span><span class="op" id="6928102">)</span>&nbsp;<span class="op" id="6928104">&gt;</span>&nbsp;<span class="num" id="6928106">220</span>&nbsp;<span class="op" id="6928110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928115">in</span>&nbsp;<span class="op" id="6928118">=</span>&nbsp;<span class="ident" id="6928120">in</span><span class="op" id="6928122">[</span><span class="op" id="6928123">:</span><span class="num" id="6928124">100</span><span class="op" id="6928127">]</span>&nbsp;<span class="op" id="6928129">+</span>&nbsp;<span class="string" id="6928131">&#34;...&#34;</span>&nbsp;<span class="op" id="6928137">+</span>&nbsp;<span class="ident" id="6928139">in</span><span class="op" id="6928141">[</span><span class="builtinfunc" id="6928142">len</span><span class="op" id="6928145">(</span><span class="ident" id="6928146">in</span><span class="op" id="6928148">)</span><span class="op" id="6928149">-</span><span class="num" id="6928150">100</span><span class="op" id="6928153">:</span><span class="op" id="6928154">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928162">p</span>&nbsp;<span class="op" id="6928164">:=</span>&nbsp;<span class="op" id="6928167">[</span><span class="op" id="6928168">]</span><span class="builtintype" id="6928169">byte</span><span class="op" id="6928173">(</span><span class="ident" id="6928174">g</span><span class="op" id="6928175">.</span><span class="ident" id="6928176">in</span><span class="op" id="6928178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928182">if</span>&nbsp;<span class="ident" id="6928185">got</span>&nbsp;<span class="op" id="6928189">:=</span>&nbsp;<span class="ident" id="6928192">checksum</span><span class="op" id="6928200">(</span><span class="ident" id="6928201">p</span><span class="op" id="6928202">)</span><span class="op" id="6928203">;</span>&nbsp;<span class="ident" id="6928205">got</span>&nbsp;<span class="op" id="6928209">!=</span>&nbsp;<span class="ident" id="6928212">g</span><span class="op" id="6928213">.</span><span class="ident" id="6928214">out</span>&nbsp;<span class="op" id="6928218">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928223">t</span><span class="op" id="6928224">.</span><span class="ident" id="6928225">Errorf</span><span class="op" id="6928231">(</span><span class="string" id="6928232">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6928286">,</span>&nbsp;<span class="ident" id="6928288">in</span><span class="op" id="6928290">,</span>&nbsp;<span class="ident" id="6928292">got</span><span class="op" id="6928295">,</span>&nbsp;<span class="ident" id="6928297">g</span><span class="op" id="6928298">.</span><span class="ident" id="6928299">out</span><span class="op" id="6928302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928307">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928322">if</span>&nbsp;<span class="ident" id="6928325">got</span>&nbsp;<span class="op" id="6928329">:=</span>&nbsp;<span class="ident" id="6928332">Checksum</span><span class="op" id="6928340">(</span><span class="ident" id="6928341">p</span><span class="op" id="6928342">)</span><span class="op" id="6928343">;</span>&nbsp;<span class="ident" id="6928345">got</span>&nbsp;<span class="op" id="6928349">!=</span>&nbsp;<span class="ident" id="6928352">g</span><span class="op" id="6928353">.</span><span class="ident" id="6928354">out</span>&nbsp;<span class="op" id="6928358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928363">t</span><span class="op" id="6928364">.</span><span class="ident" id="6928365">Errorf</span><span class="op" id="6928371">(</span><span class="string" id="6928372">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6928429">,</span>&nbsp;<span class="ident" id="6928431">in</span><span class="op" id="6928433">,</span>&nbsp;<span class="ident" id="6928435">got</span><span class="op" id="6928438">,</span>&nbsp;<span class="ident" id="6928440">g</span><span class="op" id="6928441">.</span><span class="ident" id="6928442">out</span><span class="op" id="6928445">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928450">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928464">}</span><br>
<span class="lineno"></span><span class="op" id="6928466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6928469">func</span>&nbsp;<span class="ident" id="6928474">BenchmarkAdler32KB</span><span class="op" id="6928492">(</span><span class="ident" id="6928493">b</span>&nbsp;<span class="op" id="6928495">*</span><span class="ident" id="6928496">testing</span><span class="op" id="6928503">.</span><span class="ident" id="6928504">B</span><span class="op" id="6928505">)</span>&nbsp;<span class="op" id="6928507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928510">b</span><span class="op" id="6928511">.</span><span class="ident" id="6928512">SetBytes</span><span class="op" id="6928520">(</span><span class="num" id="6928521">1024</span><span class="op" id="6928525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928528">data</span>&nbsp;<span class="op" id="6928533">:=</span>&nbsp;<span class="builtinfunc" id="6928536">make</span><span class="op" id="6928540">(</span><span class="op" id="6928541">[</span><span class="op" id="6928542">]</span><span class="builtintype" id="6928543">byte</span><span class="op" id="6928547">,</span>&nbsp;<span class="num" id="6928549">1024</span><span class="op" id="6928553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928556">for</span>&nbsp;<span class="ident" id="6928560">i</span>&nbsp;<span class="op" id="6928562">:=</span>&nbsp;<span class="keyword" id="6928565">range</span>&nbsp;<span class="ident" id="6928571">data</span>&nbsp;<span class="op" id="6928576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928580">data</span><span class="op" id="6928584">[</span><span class="ident" id="6928585">i</span><span class="op" id="6928586">]</span>&nbsp;<span class="op" id="6928588">=</span>&nbsp;<span class="builtintype" id="6928590">byte</span><span class="op" id="6928594">(</span><span class="ident" id="6928595">i</span><span class="op" id="6928596">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928602">h</span>&nbsp;<span class="op" id="6928604">:=</span>&nbsp;<span class="ident" id="6928607">New</span><span class="op" id="6928610">(</span><span class="op" id="6928611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928614">in</span>&nbsp;<span class="op" id="6928617">:=</span>&nbsp;<span class="builtinfunc" id="6928620">make</span><span class="op" id="6928624">(</span><span class="op" id="6928625">[</span><span class="op" id="6928626">]</span><span class="builtintype" id="6928627">byte</span><span class="op" id="6928631">,</span>&nbsp;<span class="num" id="6928633">0</span><span class="op" id="6928634">,</span>&nbsp;<span class="ident" id="6928636">h</span><span class="op" id="6928637">.</span><span class="ident" id="6928638">Size</span><span class="op" id="6928642">(</span><span class="op" id="6928643">)</span><span class="op" id="6928644">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928648">b</span><span class="op" id="6928649">.</span><span class="ident" id="6928650">ResetTimer</span><span class="op" id="6928660">(</span><span class="op" id="6928661">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928664">for</span>&nbsp;<span class="ident" id="6928668">i</span>&nbsp;<span class="op" id="6928670">:=</span>&nbsp;<span class="num" id="6928673">0</span><span class="op" id="6928674">;</span>&nbsp;<span class="ident" id="6928676">i</span>&nbsp;<span class="op" id="6928678">&lt;</span>&nbsp;<span class="ident" id="6928680">b</span><span class="op" id="6928681">.</span><span class="ident" id="6928682">N</span><span class="op" id="6928683">;</span>&nbsp;<span class="ident" id="6928685">i</span><span class="op" id="6928686">++</span>&nbsp;<span class="op" id="6928689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928693">h</span><span class="op" id="6928694">.</span><span class="ident" id="6928695">Reset</span><span class="op" id="6928700">(</span><span class="op" id="6928701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928705">h</span><span class="op" id="6928706">.</span><span class="ident" id="6928707">Write</span><span class="op" id="6928712">(</span><span class="ident" id="6928713">data</span><span class="op" id="6928717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928721">h</span><span class="op" id="6928722">.</span><span class="ident" id="6928723">Sum</span><span class="op" id="6928726">(</span><span class="ident" id="6928727">in</span><span class="op" id="6928729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928732">}</span><br>
<span class="lineno">105</span><span class="op" id="6928734">}</span>
</div>
</body>
</html>
