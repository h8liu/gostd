<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2356768">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2356823">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2356877">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2356928">package</span>&nbsp;<span class="ident" id="2356936">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2356940">import</span>&nbsp;<span class="op" id="2356947">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2356950">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2356961">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2356968">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2356971">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2357036">func</span>&nbsp;<span class="ident" id="2357041">Getpagesize</span><span class="op" id="2357052">(</span><span class="op" id="2357053">)</span>&nbsp;<span class="builtintype" id="2357055">int</span>&nbsp;<span class="op" id="2357059">{</span>&nbsp;<span class="keyword" id="2357061">return</span>&nbsp;<span class="ident" id="2357068">syscall</span><span class="op" id="2357075">.</span><span class="ident" id="2357076">Getpagesize</span><span class="op" id="2357087">(</span><span class="op" id="2357088">)</span>&nbsp;<span class="op" id="2357090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2357093">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2357159">type</span>&nbsp;<span class="ident" id="2357164">FileInfo</span>&nbsp;<span class="keyword" id="2357173">interface</span>&nbsp;<span class="op" id="2357183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357186">Name</span><span class="op" id="2357190">(</span><span class="op" id="2357191">)</span>&nbsp;<span class="builtintype" id="2357193">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357206">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357232">Size</span><span class="op" id="2357236">(</span><span class="op" id="2357237">)</span>&nbsp;<span class="ident" id="2357239">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357252">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357319">Mode</span><span class="op" id="2357323">(</span><span class="op" id="2357324">)</span>&nbsp;<span class="ident" id="2357326">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357339">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357358">ModTime</span><span class="op" id="2357365">(</span><span class="op" id="2357366">)</span>&nbsp;<span class="ident" id="2357368">time</span><span class="op" id="2357372">.</span><span class="ident" id="2357373">Time</span>&nbsp;<span class="comment" id="2357378">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357400">IsDir</span><span class="op" id="2357405">(</span><span class="op" id="2357406">)</span>&nbsp;<span class="builtintype" id="2357408">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357420">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2357456">Sys</span><span class="op" id="2357459">(</span><span class="op" id="2357460">)</span>&nbsp;<span class="keyword" id="2357462">interface</span><span class="op" id="2357471">{</span><span class="op" id="2357472">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2357476">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2357519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2357522">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2357582">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2357643">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2357699">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2357759">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2357812">type</span>&nbsp;<span class="ident" id="2357817">FileMode</span>&nbsp;<span class="builtintype" id="2357826">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2357834">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2357911">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2357991">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2358067">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2358142">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2358188">const</span>&nbsp;<span class="op" id="2358194">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2358197">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2358242">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358286">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358301">FileMode</span>&nbsp;<span class="op" id="2358310">=</span>&nbsp;<span class="num" id="2358312">1</span>&nbsp;<span class="op" id="2358314">&lt;&lt;</span>&nbsp;<span class="op" id="2358317">(</span><span class="num" id="2358318">32</span>&nbsp;<span class="op" id="2358321">-</span>&nbsp;<span class="num" id="2358323">1</span>&nbsp;<span class="op" id="2358325">-</span>&nbsp;<span class="ident" id="2358327">iota</span><span class="op" id="2358331">)</span>&nbsp;<span class="comment" id="2358333">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358355">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358402">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358421">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358468">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358489">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358536">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358574">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358621">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358642">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358689">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358708">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358755">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358780">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358827">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358853">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358900">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358914">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358961">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2358975">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359022">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359075">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359122">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2359137">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359202">ModeType</span>&nbsp;<span class="op" id="2359211">=</span>&nbsp;<span class="ident" id="2359213">ModeDir</span>&nbsp;<span class="op" id="2359221">|</span>&nbsp;<span class="ident" id="2359223">ModeSymlink</span>&nbsp;<span class="op" id="2359235">|</span>&nbsp;<span class="ident" id="2359237">ModeNamedPipe</span>&nbsp;<span class="op" id="2359251">|</span>&nbsp;<span class="ident" id="2359253">ModeSocket</span>&nbsp;<span class="op" id="2359264">|</span>&nbsp;<span class="ident" id="2359266">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359279">ModePerm</span>&nbsp;<span class="ident" id="2359288">FileMode</span>&nbsp;<span class="op" id="2359297">=</span>&nbsp;<span class="num" id="2359299">0777</span>&nbsp;<span class="comment" id="2359304">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2359323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2359326">func</span>&nbsp;<span class="op" id="2359331">(</span><span class="ident" id="2359332">m</span>&nbsp;<span class="ident" id="2359334">FileMode</span><span class="op" id="2359342">)</span>&nbsp;<span class="ident" id="2359344">String</span><span class="op" id="2359350">(</span><span class="op" id="2359351">)</span>&nbsp;<span class="builtintype" id="2359353">string</span>&nbsp;<span class="op" id="2359360">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359363">const</span>&nbsp;<span class="ident" id="2359369">str</span>&nbsp;<span class="op" id="2359373">=</span>&nbsp;<span class="string" id="2359375">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359391">var</span>&nbsp;<span class="ident" id="2359395">buf</span>&nbsp;<span class="op" id="2359399">[</span><span class="num" id="2359400">32</span><span class="op" id="2359402">]</span><span class="builtintype" id="2359403">byte</span>&nbsp;<span class="comment" id="2359408">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359428">w</span>&nbsp;<span class="op" id="2359430">:=</span>&nbsp;<span class="num" id="2359433">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359436">for</span>&nbsp;<span class="ident" id="2359440">i</span><span class="op" id="2359441">,</span>&nbsp;<span class="ident" id="2359443">c</span>&nbsp;<span class="op" id="2359445">:=</span>&nbsp;<span class="keyword" id="2359448">range</span>&nbsp;<span class="ident" id="2359454">str</span>&nbsp;<span class="op" id="2359458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359462">if</span>&nbsp;<span class="ident" id="2359465">m</span><span class="op" id="2359466">&amp;</span><span class="op" id="2359467">(</span><span class="num" id="2359468">1</span><span class="op" id="2359469">&lt;&lt;</span><span class="builtintype" id="2359471">uint</span><span class="op" id="2359475">(</span><span class="num" id="2359476">32</span><span class="op" id="2359478">-</span><span class="num" id="2359479">1</span><span class="op" id="2359480">-</span><span class="ident" id="2359481">i</span><span class="op" id="2359482">)</span><span class="op" id="2359483">)</span>&nbsp;<span class="op" id="2359485">!=</span>&nbsp;<span class="num" id="2359488">0</span>&nbsp;<span class="op" id="2359490">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359495">buf</span><span class="op" id="2359498">[</span><span class="ident" id="2359499">w</span><span class="op" id="2359500">]</span>&nbsp;<span class="op" id="2359502">=</span>&nbsp;<span class="builtintype" id="2359504">byte</span><span class="op" id="2359508">(</span><span class="ident" id="2359509">c</span><span class="op" id="2359510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359515">w</span><span class="op" id="2359516">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359527">if</span>&nbsp;<span class="ident" id="2359530">w</span>&nbsp;<span class="op" id="2359532">==</span>&nbsp;<span class="num" id="2359535">0</span>&nbsp;<span class="op" id="2359537">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359541">buf</span><span class="op" id="2359544">[</span><span class="ident" id="2359545">w</span><span class="op" id="2359546">]</span>&nbsp;<span class="op" id="2359548">=</span>&nbsp;<span class="string" id="2359550">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359556">w</span><span class="op" id="2359557">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359564">const</span>&nbsp;<span class="ident" id="2359570">rwx</span>&nbsp;<span class="op" id="2359574">=</span>&nbsp;<span class="string" id="2359576">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359589">for</span>&nbsp;<span class="ident" id="2359593">i</span><span class="op" id="2359594">,</span>&nbsp;<span class="ident" id="2359596">c</span>&nbsp;<span class="op" id="2359598">:=</span>&nbsp;<span class="keyword" id="2359601">range</span>&nbsp;<span class="ident" id="2359607">rwx</span>&nbsp;<span class="op" id="2359611">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359615">if</span>&nbsp;<span class="ident" id="2359618">m</span><span class="op" id="2359619">&amp;</span><span class="op" id="2359620">(</span><span class="num" id="2359621">1</span><span class="op" id="2359622">&lt;&lt;</span><span class="builtintype" id="2359624">uint</span><span class="op" id="2359628">(</span><span class="num" id="2359629">9</span><span class="op" id="2359630">-</span><span class="num" id="2359631">1</span><span class="op" id="2359632">-</span><span class="ident" id="2359633">i</span><span class="op" id="2359634">)</span><span class="op" id="2359635">)</span>&nbsp;<span class="op" id="2359637">!=</span>&nbsp;<span class="num" id="2359640">0</span>&nbsp;<span class="op" id="2359642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359647">buf</span><span class="op" id="2359650">[</span><span class="ident" id="2359651">w</span><span class="op" id="2359652">]</span>&nbsp;<span class="op" id="2359654">=</span>&nbsp;<span class="builtintype" id="2359656">byte</span><span class="op" id="2359660">(</span><span class="ident" id="2359661">c</span><span class="op" id="2359662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359666">}</span>&nbsp;<span class="keyword" id="2359668">else</span>&nbsp;<span class="op" id="2359673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359678">buf</span><span class="op" id="2359681">[</span><span class="ident" id="2359682">w</span><span class="op" id="2359683">]</span>&nbsp;<span class="op" id="2359685">=</span>&nbsp;<span class="string" id="2359687">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359693">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2359697">w</span><span class="op" id="2359698">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2359702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359705">return</span>&nbsp;<span class="builtintype" id="2359712">string</span><span class="op" id="2359718">(</span><span class="ident" id="2359719">buf</span><span class="op" id="2359722">[</span><span class="op" id="2359723">:</span><span class="ident" id="2359724">w</span><span class="op" id="2359725">]</span><span class="op" id="2359726">)</span><br>
<span class="lineno"></span><span class="op" id="2359728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2359731">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2359781">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2359838">func</span>&nbsp;<span class="op" id="2359843">(</span><span class="ident" id="2359844">m</span>&nbsp;<span class="ident" id="2359846">FileMode</span><span class="op" id="2359854">)</span>&nbsp;<span class="ident" id="2359856">IsDir</span><span class="op" id="2359861">(</span><span class="op" id="2359862">)</span>&nbsp;<span class="builtintype" id="2359864">bool</span>&nbsp;<span class="op" id="2359869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2359872">return</span>&nbsp;<span class="ident" id="2359879">m</span><span class="op" id="2359880">&amp;</span><span class="ident" id="2359881">ModeDir</span>&nbsp;<span class="op" id="2359889">!=</span>&nbsp;<span class="num" id="2359892">0</span><br>
<span class="lineno"></span><span class="op" id="2359894">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2359897">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2359954">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2360007">func</span>&nbsp;<span class="op" id="2360012">(</span><span class="ident" id="2360013">m</span>&nbsp;<span class="ident" id="2360015">FileMode</span><span class="op" id="2360023">)</span>&nbsp;<span class="ident" id="2360025">IsRegular</span><span class="op" id="2360034">(</span><span class="op" id="2360035">)</span>&nbsp;<span class="builtintype" id="2360037">bool</span>&nbsp;<span class="op" id="2360042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2360045">return</span>&nbsp;<span class="ident" id="2360052">m</span><span class="op" id="2360053">&amp;</span><span class="ident" id="2360054">ModeType</span>&nbsp;<span class="op" id="2360063">==</span>&nbsp;<span class="num" id="2360066">0</span><br>
<span class="lineno">95</span><span class="op" id="2360068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2360071">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2360118">func</span>&nbsp;<span class="op" id="2360123">(</span><span class="ident" id="2360124">m</span>&nbsp;<span class="ident" id="2360126">FileMode</span><span class="op" id="2360134">)</span>&nbsp;<span class="ident" id="2360136">Perm</span><span class="op" id="2360140">(</span><span class="op" id="2360141">)</span>&nbsp;<span class="ident" id="2360143">FileMode</span>&nbsp;<span class="op" id="2360152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2360155">return</span>&nbsp;<span class="ident" id="2360162">m</span>&nbsp;<span class="op" id="2360164">&amp;</span>&nbsp;<span class="ident" id="2360166">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2360175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2360178">func</span>&nbsp;<span class="op" id="2360183">(</span><span class="ident" id="2360184">fs</span>&nbsp;<span class="op" id="2360187">*</span><span class="ident" id="2360188">fileStat</span><span class="op" id="2360196">)</span>&nbsp;<span class="ident" id="2360198">Name</span><span class="op" id="2360202">(</span><span class="op" id="2360203">)</span>&nbsp;<span class="builtintype" id="2360205">string</span>&nbsp;<span class="op" id="2360212">{</span>&nbsp;<span class="keyword" id="2360214">return</span>&nbsp;<span class="ident" id="2360221">fs</span><span class="op" id="2360223">.</span><span class="ident" id="2360224">name</span>&nbsp;<span class="op" id="2360229">}</span><br>
<span class="lineno"></span><span class="keyword" id="2360231">func</span>&nbsp;<span class="op" id="2360236">(</span><span class="ident" id="2360237">fs</span>&nbsp;<span class="op" id="2360240">*</span><span class="ident" id="2360241">fileStat</span><span class="op" id="2360249">)</span>&nbsp;<span class="ident" id="2360251">IsDir</span><span class="op" id="2360256">(</span><span class="op" id="2360257">)</span>&nbsp;<span class="builtintype" id="2360259">bool</span>&nbsp;&nbsp;<span class="op" id="2360265">{</span>&nbsp;<span class="keyword" id="2360267">return</span>&nbsp;<span class="ident" id="2360274">fs</span><span class="op" id="2360276">.</span><span class="ident" id="2360277">Mode</span><span class="op" id="2360281">(</span><span class="op" id="2360282">)</span><span class="op" id="2360283">.</span><span class="ident" id="2360284">IsDir</span><span class="op" id="2360289">(</span><span class="op" id="2360290">)</span>&nbsp;<span class="op" id="2360292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2360295">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2360359">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2360427">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2360495">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2360543">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2360612">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2360648">func</span>&nbsp;<span class="ident" id="2360653">SameFile</span><span class="op" id="2360661">(</span><span class="ident" id="2360662">fi1</span><span class="op" id="2360665">,</span>&nbsp;<span class="ident" id="2360667">fi2</span>&nbsp;<span class="ident" id="2360671">FileInfo</span><span class="op" id="2360679">)</span>&nbsp;<span class="builtintype" id="2360681">bool</span>&nbsp;<span class="op" id="2360686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2360689">fs1</span><span class="op" id="2360692">,</span>&nbsp;<span class="ident" id="2360694">ok1</span>&nbsp;<span class="op" id="2360698">:=</span>&nbsp;<span class="ident" id="2360701">fi1</span><span class="op" id="2360704">.</span><span class="op" id="2360705">(</span><span class="op" id="2360706">*</span><span class="ident" id="2360707">fileStat</span><span class="op" id="2360715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2360718">fs2</span><span class="op" id="2360721">,</span>&nbsp;<span class="ident" id="2360723">ok2</span>&nbsp;<span class="op" id="2360727">:=</span>&nbsp;<span class="ident" id="2360730">fi2</span><span class="op" id="2360733">.</span><span class="op" id="2360734">(</span><span class="op" id="2360735">*</span><span class="ident" id="2360736">fileStat</span><span class="op" id="2360744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2360747">if</span>&nbsp;<span class="op" id="2360750">!</span><span class="ident" id="2360751">ok1</span>&nbsp;<span class="op" id="2360755">||</span>&nbsp;<span class="op" id="2360758">!</span><span class="ident" id="2360759">ok2</span>&nbsp;<span class="op" id="2360763">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2360767">return</span>&nbsp;<span class="builtintype" id="2360774">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2360781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2360784">return</span>&nbsp;<span class="ident" id="2360791">sameFile</span><span class="op" id="2360799">(</span><span class="ident" id="2360800">fs1</span><span class="op" id="2360803">,</span>&nbsp;<span class="ident" id="2360805">fs2</span><span class="op" id="2360808">)</span><br>
<span class="lineno"></span><span class="op" id="2360810">}</span>
</div>
</body>
</html>
