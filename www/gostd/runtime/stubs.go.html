<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1908085">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1908140">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1908194">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1908245">package</span>&nbsp;<span class="ident" id="1908253">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1908262">import</span>&nbsp;<span class="string" id="1908269">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1908279">//&nbsp;Declarations&nbsp;for&nbsp;runtime&nbsp;services&nbsp;implemented&nbsp;in&nbsp;C&nbsp;or&nbsp;assembly.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1908347">const</span>&nbsp;<span class="ident" id="1908353">ptrSize</span>&nbsp;<span class="op" id="1908361">=</span>&nbsp;<span class="num" id="1908363">4</span>&nbsp;<span class="op" id="1908365">&lt;&lt;</span>&nbsp;<span class="op" id="1908368">(</span><span class="op" id="1908369">^</span><span class="builtintype" id="1908370">uintptr</span><span class="op" id="1908377">(</span><span class="num" id="1908378">0</span><span class="op" id="1908379">)</span>&nbsp;<span class="op" id="1908381">&gt;&gt;</span>&nbsp;<span class="num" id="1908384">63</span><span class="op" id="1908386">)</span>&nbsp;<span class="comment" id="1908388">//&nbsp;unsafe.Sizeof(uintptr(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><span class="keyword" id="1908436">const</span>&nbsp;<span class="ident" id="1908442">regSize</span>&nbsp;<span class="op" id="1908450">=</span>&nbsp;<span class="num" id="1908452">4</span>&nbsp;<span class="op" id="1908454">&lt;&lt;</span>&nbsp;<span class="op" id="1908457">(</span><span class="op" id="1908458">^</span><span class="ident" id="1908459">uintreg</span><span class="op" id="1908466">(</span><span class="num" id="1908467">0</span><span class="op" id="1908468">)</span>&nbsp;<span class="op" id="1908470">&gt;&gt;</span>&nbsp;<span class="num" id="1908473">63</span><span class="op" id="1908475">)</span>&nbsp;<span class="comment" id="1908477">//&nbsp;unsafe.Sizeof(uintreg(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1908526">//&nbsp;Should&nbsp;be&nbsp;a&nbsp;built-in&nbsp;for&nbsp;unsafe.Pointer?</span><br>
<span class="lineno">15</span><span class="comment" id="1908570">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1908583">func</span>&nbsp;<span class="ident" id="1908588">add</span><span class="op" id="1908591">(</span><span class="ident" id="1908592">p</span>&nbsp;<span class="ident" id="1908594">unsafe</span><span class="op" id="1908600">.</span><span class="ident" id="1908601">Pointer</span><span class="op" id="1908608">,</span>&nbsp;<span class="ident" id="1908610">x</span>&nbsp;<span class="builtintype" id="1908612">uintptr</span><span class="op" id="1908619">)</span>&nbsp;<span class="ident" id="1908621">unsafe</span><span class="op" id="1908627">.</span><span class="ident" id="1908628">Pointer</span>&nbsp;<span class="op" id="1908636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908639">return</span>&nbsp;<span class="ident" id="1908646">unsafe</span><span class="op" id="1908652">.</span><span class="ident" id="1908653">Pointer</span><span class="op" id="1908660">(</span><span class="builtintype" id="1908661">uintptr</span><span class="op" id="1908668">(</span><span class="ident" id="1908669">p</span><span class="op" id="1908670">)</span>&nbsp;<span class="op" id="1908672">+</span>&nbsp;<span class="ident" id="1908674">x</span><span class="op" id="1908675">)</span><br>
<span class="lineno"></span><span class="op" id="1908677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1908680">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;2</span><br>
<span class="lineno"></span><span class="keyword" id="1908706">func</span>&nbsp;<span class="ident" id="1908711">roundup</span><span class="op" id="1908718">(</span><span class="ident" id="1908719">p</span>&nbsp;<span class="ident" id="1908721">unsafe</span><span class="op" id="1908727">.</span><span class="ident" id="1908728">Pointer</span><span class="op" id="1908735">,</span>&nbsp;<span class="ident" id="1908737">n</span>&nbsp;<span class="builtintype" id="1908739">uintptr</span><span class="op" id="1908746">)</span>&nbsp;<span class="ident" id="1908748">unsafe</span><span class="op" id="1908754">.</span><span class="ident" id="1908755">Pointer</span>&nbsp;<span class="op" id="1908763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908766">delta</span>&nbsp;<span class="op" id="1908772">:=</span>&nbsp;<span class="op" id="1908775">-</span><span class="builtintype" id="1908776">uintptr</span><span class="op" id="1908783">(</span><span class="ident" id="1908784">p</span><span class="op" id="1908785">)</span>&nbsp;<span class="op" id="1908787">&amp;</span>&nbsp;<span class="op" id="1908789">(</span><span class="ident" id="1908790">n</span>&nbsp;<span class="op" id="1908792">-</span>&nbsp;<span class="num" id="1908794">1</span><span class="op" id="1908795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908798">return</span>&nbsp;<span class="ident" id="1908805">unsafe</span><span class="op" id="1908811">.</span><span class="ident" id="1908812">Pointer</span><span class="op" id="1908819">(</span><span class="builtintype" id="1908820">uintptr</span><span class="op" id="1908827">(</span><span class="ident" id="1908828">p</span><span class="op" id="1908829">)</span>&nbsp;<span class="op" id="1908831">+</span>&nbsp;<span class="ident" id="1908833">delta</span><span class="op" id="1908838">)</span><br>
<span class="lineno"></span><span class="op" id="1908840">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1908843">//&nbsp;in&nbsp;runtime.c</span><br>
<span class="lineno"></span><span class="keyword" id="1908859">func</span>&nbsp;<span class="ident" id="1908864">getg</span><span class="op" id="1908868">(</span><span class="op" id="1908869">)</span>&nbsp;<span class="op" id="1908871">*</span><span class="ident" id="1908872">g</span><br>
<span class="lineno"></span><span class="keyword" id="1908874">func</span>&nbsp;<span class="ident" id="1908879">acquirem</span><span class="op" id="1908887">(</span><span class="op" id="1908888">)</span>&nbsp;<span class="op" id="1908890">*</span><span class="ident" id="1908891">m</span><br>
<span class="lineno"></span><span class="keyword" id="1908893">func</span>&nbsp;<span class="ident" id="1908898">releasem</span><span class="op" id="1908906">(</span><span class="ident" id="1908907">mp</span>&nbsp;<span class="op" id="1908910">*</span><span class="ident" id="1908911">m</span><span class="op" id="1908912">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1908914">func</span>&nbsp;<span class="ident" id="1908919">gomcache</span><span class="op" id="1908927">(</span><span class="op" id="1908928">)</span>&nbsp;<span class="op" id="1908930">*</span><span class="ident" id="1908931">mcache</span><br>
<span class="lineno"></span><span class="keyword" id="1908938">func</span>&nbsp;<span class="ident" id="1908943">readgstatus</span><span class="op" id="1908954">(</span><span class="op" id="1908955">*</span><span class="ident" id="1908956">g</span><span class="op" id="1908957">)</span>&nbsp;<span class="builtintype" id="1908959">uint32</span>&nbsp;<span class="comment" id="1908966">//&nbsp;proc.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1908977">//&nbsp;mcall&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn(g),</span><br>
<span class="lineno"></span><span class="comment" id="1909041">//&nbsp;where&nbsp;g&nbsp;is&nbsp;the&nbsp;goroutine&nbsp;that&nbsp;made&nbsp;the&nbsp;call.</span><br>
<span class="lineno">35</span><span class="comment" id="1909089">//&nbsp;mcall&nbsp;saves&nbsp;g&#39;s&nbsp;current&nbsp;PC/SP&nbsp;in&nbsp;g-&gt;sched&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restored&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1909168">//&nbsp;It&nbsp;is&nbsp;up&nbsp;to&nbsp;fn&nbsp;to&nbsp;arrange&nbsp;for&nbsp;that&nbsp;later&nbsp;execution,&nbsp;typically&nbsp;by&nbsp;recording</span><br>
<span class="lineno"></span><span class="comment" id="1909246">//&nbsp;g&nbsp;in&nbsp;a&nbsp;data&nbsp;structure,&nbsp;causing&nbsp;something&nbsp;to&nbsp;call&nbsp;ready(g)&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1909314">//&nbsp;mcall&nbsp;returns&nbsp;to&nbsp;the&nbsp;original&nbsp;goroutine&nbsp;g&nbsp;later,&nbsp;when&nbsp;g&nbsp;has&nbsp;been&nbsp;rescheduled.</span><br>
<span class="lineno"></span><span class="comment" id="1909395">//&nbsp;fn&nbsp;must&nbsp;not&nbsp;return&nbsp;at&nbsp;all;&nbsp;typically&nbsp;it&nbsp;ends&nbsp;by&nbsp;calling&nbsp;schedule,&nbsp;to&nbsp;let&nbsp;the&nbsp;m</span><br>
<span class="lineno">40</span><span class="comment" id="1909477">//&nbsp;run&nbsp;other&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="comment" id="1909502">//</span><br>
<span class="lineno"></span><span class="comment" id="1909505">//&nbsp;mcall&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;from&nbsp;g&nbsp;stacks&nbsp;(not&nbsp;g0,&nbsp;not&nbsp;gsignal).</span><br>
<span class="lineno"></span><span class="comment" id="1909570">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1909584">func</span>&nbsp;<span class="ident" id="1909589">mcall</span><span class="op" id="1909594">(</span><span class="ident" id="1909595">fn</span>&nbsp;<span class="keyword" id="1909598">func</span><span class="op" id="1909602">(</span><span class="op" id="1909603">*</span><span class="ident" id="1909604">g</span><span class="op" id="1909605">)</span><span class="op" id="1909606">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1909609">//&nbsp;onM&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn().</span><br>
<span class="lineno"></span><span class="comment" id="1909670">//&nbsp;When&nbsp;fn&nbsp;returns,&nbsp;onM&nbsp;switches&nbsp;back&nbsp;to&nbsp;the&nbsp;g&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1909730">//&nbsp;continuing&nbsp;execution&nbsp;on&nbsp;the&nbsp;g&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1909770">//&nbsp;If&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;fn,&nbsp;they&nbsp;can&nbsp;be&nbsp;written&nbsp;to</span><br>
<span class="lineno">50</span><span class="comment" id="1909831">//&nbsp;g-&gt;m-&gt;ptrarg&nbsp;(pointers)&nbsp;and&nbsp;g-&gt;m-&gt;scalararg&nbsp;(non-pointers)</span><br>
<span class="lineno"></span><span class="comment" id="1909893">//&nbsp;before&nbsp;the&nbsp;call&nbsp;and&nbsp;then&nbsp;consulted&nbsp;during&nbsp;fn.</span><br>
<span class="lineno"></span><span class="comment" id="1909942">//&nbsp;Similarly,&nbsp;fn&nbsp;can&nbsp;pass&nbsp;return&nbsp;values&nbsp;back&nbsp;in&nbsp;those&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1910007">//&nbsp;If&nbsp;fn&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;closure,&nbsp;which&nbsp;avoids&nbsp;the&nbsp;need&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1910081">//&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;entirely.</span><br>
<span class="lineno">55</span><span class="comment" id="1910115">//&nbsp;After&nbsp;reading&nbsp;values&nbsp;out&nbsp;of&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;it&nbsp;is&nbsp;conventional</span><br>
<span class="lineno"></span><span class="comment" id="1910186">//&nbsp;to&nbsp;zero&nbsp;them&nbsp;to&nbsp;avoid&nbsp;(memory&nbsp;or&nbsp;information)&nbsp;leaks.</span><br>
<span class="lineno"></span><span class="comment" id="1910242">//</span><br>
<span class="lineno"></span><span class="comment" id="1910245">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;g0&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1910309">//&nbsp;without&nbsp;any&nbsp;stack&nbsp;switches.</span><br>
<span class="lineno">60</span><span class="comment" id="1910340">//</span><br>
<span class="lineno"></span><span class="comment" id="1910343">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;crashes&nbsp;the&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="1910409">//&nbsp;The&nbsp;implication&nbsp;is&nbsp;that&nbsp;functions&nbsp;used&nbsp;in&nbsp;signal&nbsp;handlers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1910475">//&nbsp;not&nbsp;use&nbsp;onM.</span><br>
<span class="lineno"></span><span class="comment" id="1910491">//</span><br>
<span class="lineno">65</span><span class="comment" id="1910494">//&nbsp;NOTE(rsc):&nbsp;We&nbsp;could&nbsp;introduce&nbsp;a&nbsp;separate&nbsp;onMsignal&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1910556">//&nbsp;like&nbsp;onM&nbsp;but&nbsp;if&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack&nbsp;would&nbsp;just&nbsp;run&nbsp;fn&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1910624">//&nbsp;that&nbsp;stack.&nbsp;The&nbsp;caller&nbsp;of&nbsp;onMsignal&nbsp;would&nbsp;be&nbsp;required&nbsp;to&nbsp;save&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1910693">//&nbsp;old&nbsp;values&nbsp;of&nbsp;ptrarg/scalararg&nbsp;and&nbsp;restore&nbsp;them&nbsp;when&nbsp;the&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1910758">//&nbsp;was&nbsp;finished,&nbsp;in&nbsp;case&nbsp;the&nbsp;signal&nbsp;interrupted&nbsp;an&nbsp;onM&nbsp;sequence</span><br>
<span class="lineno">70</span><span class="comment" id="1910822">//&nbsp;in&nbsp;progress&nbsp;on&nbsp;the&nbsp;g&nbsp;or&nbsp;g0&nbsp;stacks.&nbsp;Until&nbsp;there&nbsp;is&nbsp;a&nbsp;clear&nbsp;need&nbsp;for&nbsp;this,</span><br>
<span class="lineno"></span><span class="comment" id="1910898">//&nbsp;we&nbsp;just&nbsp;reject&nbsp;onM&nbsp;in&nbsp;signal&nbsp;handling&nbsp;contexts&nbsp;entirely.</span><br>
<span class="lineno"></span><span class="comment" id="1910958">//</span><br>
<span class="lineno"></span><span class="comment" id="1910961">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1910975">func</span>&nbsp;<span class="ident" id="1910980">onM</span><span class="op" id="1910983">(</span><span class="ident" id="1910984">fn</span>&nbsp;<span class="keyword" id="1910987">func</span><span class="op" id="1910991">(</span><span class="op" id="1910992">)</span><span class="op" id="1910993">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1910996">//&nbsp;onMsignal&nbsp;is&nbsp;like&nbsp;onM&nbsp;but&nbsp;is&nbsp;allowed&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;code&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1911060">//&nbsp;might&nbsp;run&nbsp;on&nbsp;the&nbsp;gsignal&nbsp;stack.&nbsp;Code&nbsp;running&nbsp;on&nbsp;a&nbsp;signal&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="1911126">//&nbsp;may&nbsp;be&nbsp;interrupting&nbsp;an&nbsp;onM&nbsp;sequence&nbsp;on&nbsp;the&nbsp;main&nbsp;stack,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1911187">//&nbsp;if&nbsp;the&nbsp;onMsignal&nbsp;calling&nbsp;sequence&nbsp;writes&nbsp;to&nbsp;ptrarg/scalararg,</span><br>
<span class="lineno">80</span><span class="comment" id="1911252">//&nbsp;it&nbsp;must&nbsp;first&nbsp;save&nbsp;the&nbsp;old&nbsp;values&nbsp;and&nbsp;then&nbsp;restore&nbsp;them&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1911316">//&nbsp;finished.&nbsp;As&nbsp;an&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule,&nbsp;it&nbsp;is&nbsp;fine&nbsp;not&nbsp;to&nbsp;save&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1911385">//&nbsp;restore&nbsp;the&nbsp;values&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;trying&nbsp;to&nbsp;crash&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="1911453">//&nbsp;return&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler.</span><br>
<span class="lineno"></span><span class="comment" id="1911488">//&nbsp;Once&nbsp;all&nbsp;the&nbsp;runtime&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;ptrarg/scalararg</span><br>
<span class="lineno">85</span><span class="comment" id="1911564">//&nbsp;and&nbsp;the&nbsp;distinction&nbsp;between&nbsp;onM&nbsp;and&nbsp;onMsignal&nbsp;(and&nbsp;perhaps&nbsp;mcall)</span><br>
<span class="lineno"></span><span class="comment" id="1911633">//&nbsp;can&nbsp;go&nbsp;away.</span><br>
<span class="lineno"></span><span class="comment" id="1911649">//</span><br>
<span class="lineno"></span><span class="comment" id="1911652">//&nbsp;If&nbsp;onMsignal&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;directly,</span><br>
<span class="lineno"></span><span class="comment" id="1911724">//&nbsp;without&nbsp;a&nbsp;stack&nbsp;switch.&nbsp;Otherwise&nbsp;onMsignal&nbsp;behaves&nbsp;like&nbsp;onM.</span><br>
<span class="lineno">90</span><span class="comment" id="1911789">//</span><br>
<span class="lineno"></span><span class="comment" id="1911792">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1911806">func</span>&nbsp;<span class="ident" id="1911811">onM_signalok</span><span class="op" id="1911823">(</span><span class="ident" id="1911824">fn</span>&nbsp;<span class="keyword" id="1911827">func</span><span class="op" id="1911831">(</span><span class="op" id="1911832">)</span><span class="op" id="1911833">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1911836">func</span>&nbsp;<span class="ident" id="1911841">badonm</span><span class="op" id="1911847">(</span><span class="op" id="1911848">)</span>&nbsp;<span class="op" id="1911850">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911853">gothrow</span><span class="op" id="1911860">(</span><span class="string" id="1911861">&#34;onM&nbsp;called&nbsp;from&nbsp;signal&nbsp;goroutine&#34;</span><span class="op" id="1911895">)</span><br>
<span class="lineno"></span><span class="op" id="1911897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1911900">//&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1911940">//&nbsp;Call&nbsp;using&nbsp;mcall.</span><br>
<span class="lineno">100</span><span class="keyword" id="1911961">func</span>&nbsp;<span class="ident" id="1911966">gosched_m</span><span class="op" id="1911975">(</span><span class="op" id="1911976">*</span><span class="ident" id="1911977">g</span><span class="op" id="1911978">)</span><br>
<span class="lineno"></span><span class="keyword" id="1911980">func</span>&nbsp;<span class="ident" id="1911985">park_m</span><span class="op" id="1911991">(</span><span class="op" id="1911992">*</span><span class="ident" id="1911993">g</span><span class="op" id="1911994">)</span><br>
<span class="lineno"></span><span class="keyword" id="1911996">func</span>&nbsp;<span class="ident" id="1912001">recovery_m</span><span class="op" id="1912011">(</span><span class="op" id="1912012">*</span><span class="ident" id="1912013">g</span><span class="op" id="1912014">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1912017">//&nbsp;More&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno">105</span><span class="comment" id="1912062">//&nbsp;Call&nbsp;using&nbsp;onM.</span><br>
<span class="lineno"></span><span class="keyword" id="1912081">func</span>&nbsp;<span class="ident" id="1912086">mcacheRefill_m</span><span class="op" id="1912100">(</span><span class="op" id="1912101">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912103">func</span>&nbsp;<span class="ident" id="1912108">largeAlloc_m</span><span class="op" id="1912120">(</span><span class="op" id="1912121">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912123">func</span>&nbsp;<span class="ident" id="1912128">gc_m</span><span class="op" id="1912132">(</span><span class="op" id="1912133">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912135">func</span>&nbsp;<span class="ident" id="1912140">scavenge_m</span><span class="op" id="1912150">(</span><span class="op" id="1912151">)</span><br>
<span class="lineno">110</span><span class="keyword" id="1912153">func</span>&nbsp;<span class="ident" id="1912158">setFinalizer_m</span><span class="op" id="1912172">(</span><span class="op" id="1912173">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912175">func</span>&nbsp;<span class="ident" id="1912180">removeFinalizer_m</span><span class="op" id="1912197">(</span><span class="op" id="1912198">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912200">func</span>&nbsp;<span class="ident" id="1912205">markallocated_m</span><span class="op" id="1912220">(</span><span class="op" id="1912221">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912223">func</span>&nbsp;<span class="ident" id="1912228">unrollgcprog_m</span><span class="op" id="1912242">(</span><span class="op" id="1912243">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912245">func</span>&nbsp;<span class="ident" id="1912250">unrollgcproginplace_m</span><span class="op" id="1912271">(</span><span class="op" id="1912272">)</span><br>
<span class="lineno">115</span><span class="keyword" id="1912274">func</span>&nbsp;<span class="ident" id="1912279">setgcpercent_m</span><span class="op" id="1912293">(</span><span class="op" id="1912294">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912296">func</span>&nbsp;<span class="ident" id="1912301">setmaxthreads_m</span><span class="op" id="1912316">(</span><span class="op" id="1912317">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912319">func</span>&nbsp;<span class="ident" id="1912324">ready_m</span><span class="op" id="1912331">(</span><span class="op" id="1912332">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912334">func</span>&nbsp;<span class="ident" id="1912339">deferproc_m</span><span class="op" id="1912350">(</span><span class="op" id="1912351">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912353">func</span>&nbsp;<span class="ident" id="1912358">goexit_m</span><span class="op" id="1912366">(</span><span class="op" id="1912367">)</span><br>
<span class="lineno">120</span><span class="keyword" id="1912369">func</span>&nbsp;<span class="ident" id="1912374">startpanic_m</span><span class="op" id="1912386">(</span><span class="op" id="1912387">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912389">func</span>&nbsp;<span class="ident" id="1912394">dopanic_m</span><span class="op" id="1912403">(</span><span class="op" id="1912404">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912406">func</span>&nbsp;<span class="ident" id="1912411">readmemstats_m</span><span class="op" id="1912425">(</span><span class="op" id="1912426">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912428">func</span>&nbsp;<span class="ident" id="1912433">writeheapdump_m</span><span class="op" id="1912448">(</span><span class="op" id="1912449">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="1912452">//&nbsp;memclr&nbsp;clears&nbsp;n&nbsp;bytes&nbsp;starting&nbsp;at&nbsp;ptr.</span><br>
<span class="lineno"></span><span class="comment" id="1912494">//&nbsp;in&nbsp;memclr_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1912511">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1912525">func</span>&nbsp;<span class="ident" id="1912530">memclr</span><span class="op" id="1912536">(</span><span class="ident" id="1912537">ptr</span>&nbsp;<span class="ident" id="1912541">unsafe</span><span class="op" id="1912547">.</span><span class="ident" id="1912548">Pointer</span><span class="op" id="1912555">,</span>&nbsp;<span class="ident" id="1912557">n</span>&nbsp;<span class="builtintype" id="1912559">uintptr</span><span class="op" id="1912566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1912569">//&nbsp;memmove&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;from&nbsp;&#34;from&#34;&nbsp;to&nbsp;&#34;to&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1912616">//&nbsp;in&nbsp;memmove_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1912634">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1912648">func</span>&nbsp;<span class="ident" id="1912653">memmove</span><span class="op" id="1912660">(</span><span class="ident" id="1912661">to</span>&nbsp;<span class="ident" id="1912664">unsafe</span><span class="op" id="1912670">.</span><span class="ident" id="1912671">Pointer</span><span class="op" id="1912678">,</span>&nbsp;<span class="ident" id="1912680">from</span>&nbsp;<span class="ident" id="1912685">unsafe</span><span class="op" id="1912691">.</span><span class="ident" id="1912692">Pointer</span><span class="op" id="1912699">,</span>&nbsp;<span class="ident" id="1912701">n</span>&nbsp;<span class="builtintype" id="1912703">uintptr</span><span class="op" id="1912710">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1912713">func</span>&nbsp;<span class="ident" id="1912718">starttheworld</span><span class="op" id="1912731">(</span><span class="op" id="1912732">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912734">func</span>&nbsp;<span class="ident" id="1912739">stoptheworld</span><span class="op" id="1912751">(</span><span class="op" id="1912752">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912754">func</span>&nbsp;<span class="ident" id="1912759">newextram</span><span class="op" id="1912768">(</span><span class="op" id="1912769">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912771">func</span>&nbsp;<span class="ident" id="1912776">lockOSThread</span><span class="op" id="1912788">(</span><span class="op" id="1912789">)</span><br>
<span class="lineno"></span><span class="keyword" id="1912791">func</span>&nbsp;<span class="ident" id="1912796">unlockOSThread</span><span class="op" id="1912810">(</span><span class="op" id="1912811">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1912814">//&nbsp;exported&nbsp;value&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="1912844">var</span>&nbsp;<span class="ident" id="1912848">hashLoad</span>&nbsp;<span class="op" id="1912857">=</span>&nbsp;<span class="ident" id="1912859">loadFactor</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1912871">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">145</span><span class="keyword" id="1912885">func</span>&nbsp;<span class="ident" id="1912890">fastrand1</span><span class="op" id="1912899">(</span><span class="op" id="1912900">)</span>&nbsp;<span class="builtintype" id="1912902">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1912910">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1912924">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1912938">func</span>&nbsp;<span class="ident" id="1912943">memeq</span><span class="op" id="1912948">(</span><span class="ident" id="1912949">a</span><span class="op" id="1912950">,</span>&nbsp;<span class="ident" id="1912952">b</span>&nbsp;<span class="ident" id="1912954">unsafe</span><span class="op" id="1912960">.</span><span class="ident" id="1912961">Pointer</span><span class="op" id="1912968">,</span>&nbsp;<span class="ident" id="1912970">size</span>&nbsp;<span class="builtintype" id="1912975">uintptr</span><span class="op" id="1912982">)</span>&nbsp;<span class="builtintype" id="1912984">bool</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1912990">//&nbsp;noescape&nbsp;hides&nbsp;a&nbsp;pointer&nbsp;from&nbsp;escape&nbsp;analysis.&nbsp;&nbsp;noescape&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1913053">//&nbsp;the&nbsp;identity&nbsp;function&nbsp;but&nbsp;escape&nbsp;analysis&nbsp;doesn&#39;t&nbsp;think&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1913116">//&nbsp;output&nbsp;depends&nbsp;on&nbsp;the&nbsp;input.&nbsp;&nbsp;noescape&nbsp;is&nbsp;inlined&nbsp;and&nbsp;currently</span><br>
<span class="lineno"></span><span class="comment" id="1913183">//&nbsp;compiles&nbsp;down&nbsp;to&nbsp;a&nbsp;single&nbsp;xor&nbsp;instruction.</span><br>
<span class="lineno">155</span><span class="comment" id="1913229">//&nbsp;USE&nbsp;CAREFULLY!</span><br>
<span class="lineno"></span><span class="comment" id="1913247">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1913260">func</span>&nbsp;<span class="ident" id="1913265">noescape</span><span class="op" id="1913273">(</span><span class="ident" id="1913274">p</span>&nbsp;<span class="ident" id="1913276">unsafe</span><span class="op" id="1913282">.</span><span class="ident" id="1913283">Pointer</span><span class="op" id="1913290">)</span>&nbsp;<span class="ident" id="1913292">unsafe</span><span class="op" id="1913298">.</span><span class="ident" id="1913299">Pointer</span>&nbsp;<span class="op" id="1913307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913310">x</span>&nbsp;<span class="op" id="1913312">:=</span>&nbsp;<span class="builtintype" id="1913315">uintptr</span><span class="op" id="1913322">(</span><span class="ident" id="1913323">p</span><span class="op" id="1913324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913327">return</span>&nbsp;<span class="ident" id="1913334">unsafe</span><span class="op" id="1913340">.</span><span class="ident" id="1913341">Pointer</span><span class="op" id="1913348">(</span><span class="ident" id="1913349">x</span>&nbsp;<span class="op" id="1913351">^</span>&nbsp;<span class="num" id="1913353">0</span><span class="op" id="1913354">)</span><br>
<span class="lineno">160</span><span class="op" id="1913356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1913359">func</span>&nbsp;<span class="ident" id="1913364">entersyscall</span><span class="op" id="1913376">(</span><span class="op" id="1913377">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913379">func</span>&nbsp;<span class="ident" id="1913384">reentersyscall</span><span class="op" id="1913398">(</span><span class="ident" id="1913399">pc</span>&nbsp;<span class="builtintype" id="1913402">uintptr</span><span class="op" id="1913409">,</span>&nbsp;<span class="ident" id="1913411">sp</span>&nbsp;<span class="ident" id="1913414">unsafe</span><span class="op" id="1913420">.</span><span class="ident" id="1913421">Pointer</span><span class="op" id="1913428">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913430">func</span>&nbsp;<span class="ident" id="1913435">entersyscallblock</span><span class="op" id="1913452">(</span><span class="op" id="1913453">)</span><br>
<span class="lineno">165</span><span class="keyword" id="1913455">func</span>&nbsp;<span class="ident" id="1913460">exitsyscall</span><span class="op" id="1913471">(</span><span class="op" id="1913472">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1913475">func</span>&nbsp;<span class="ident" id="1913480">cgocallback</span><span class="op" id="1913491">(</span><span class="ident" id="1913492">fn</span><span class="op" id="1913494">,</span>&nbsp;<span class="ident" id="1913496">frame</span>&nbsp;<span class="ident" id="1913502">unsafe</span><span class="op" id="1913508">.</span><span class="ident" id="1913509">Pointer</span><span class="op" id="1913516">,</span>&nbsp;<span class="ident" id="1913518">framesize</span>&nbsp;<span class="builtintype" id="1913528">uintptr</span><span class="op" id="1913535">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913537">func</span>&nbsp;<span class="ident" id="1913542">gogo</span><span class="op" id="1913546">(</span><span class="ident" id="1913547">buf</span>&nbsp;<span class="op" id="1913551">*</span><span class="ident" id="1913552">gobuf</span><span class="op" id="1913557">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913559">func</span>&nbsp;<span class="ident" id="1913564">gosave</span><span class="op" id="1913570">(</span><span class="ident" id="1913571">buf</span>&nbsp;<span class="op" id="1913575">*</span><span class="ident" id="1913576">gobuf</span><span class="op" id="1913581">)</span><br>
<span class="lineno">170</span><span class="keyword" id="1913583">func</span>&nbsp;<span class="ident" id="1913588">read</span><span class="op" id="1913592">(</span><span class="ident" id="1913593">fd</span>&nbsp;<span class="builtintype" id="1913596">int32</span><span class="op" id="1913601">,</span>&nbsp;<span class="ident" id="1913603">p</span>&nbsp;<span class="ident" id="1913605">unsafe</span><span class="op" id="1913611">.</span><span class="ident" id="1913612">Pointer</span><span class="op" id="1913619">,</span>&nbsp;<span class="ident" id="1913621">n</span>&nbsp;<span class="builtintype" id="1913623">int32</span><span class="op" id="1913628">)</span>&nbsp;<span class="builtintype" id="1913630">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1913636">func</span>&nbsp;<span class="builtinfunc" id="1913641">close</span><span class="op" id="1913646">(</span><span class="ident" id="1913647">fd</span>&nbsp;<span class="builtintype" id="1913650">int32</span><span class="op" id="1913655">)</span>&nbsp;<span class="builtintype" id="1913657">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1913663">func</span>&nbsp;<span class="ident" id="1913668">mincore</span><span class="op" id="1913675">(</span><span class="ident" id="1913676">addr</span>&nbsp;<span class="ident" id="1913681">unsafe</span><span class="op" id="1913687">.</span><span class="ident" id="1913688">Pointer</span><span class="op" id="1913695">,</span>&nbsp;<span class="ident" id="1913697">n</span>&nbsp;<span class="builtintype" id="1913699">uintptr</span><span class="op" id="1913706">,</span>&nbsp;<span class="ident" id="1913708">dst</span>&nbsp;<span class="op" id="1913712">*</span><span class="builtintype" id="1913713">byte</span><span class="op" id="1913717">)</span>&nbsp;<span class="builtintype" id="1913719">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1913726">//go:noescape</span><br>
<span class="lineno">175</span><span class="keyword" id="1913740">func</span>&nbsp;<span class="ident" id="1913745">jmpdefer</span><span class="op" id="1913753">(</span><span class="ident" id="1913754">fv</span>&nbsp;<span class="op" id="1913757">*</span><span class="ident" id="1913758">funcval</span><span class="op" id="1913765">,</span>&nbsp;<span class="ident" id="1913767">argp</span>&nbsp;<span class="builtintype" id="1913772">uintptr</span><span class="op" id="1913779">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913781">func</span>&nbsp;<span class="ident" id="1913786">exit1</span><span class="op" id="1913791">(</span><span class="ident" id="1913792">code</span>&nbsp;<span class="builtintype" id="1913797">int32</span><span class="op" id="1913802">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913804">func</span>&nbsp;<span class="ident" id="1913809">asminit</span><span class="op" id="1913816">(</span><span class="op" id="1913817">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913819">func</span>&nbsp;<span class="ident" id="1913824">setg</span><span class="op" id="1913828">(</span><span class="ident" id="1913829">gg</span>&nbsp;<span class="op" id="1913832">*</span><span class="ident" id="1913833">g</span><span class="op" id="1913834">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913836">func</span>&nbsp;<span class="ident" id="1913841">exit</span><span class="op" id="1913845">(</span><span class="ident" id="1913846">code</span>&nbsp;<span class="builtintype" id="1913851">int32</span><span class="op" id="1913856">)</span><br>
<span class="lineno">180</span><span class="keyword" id="1913858">func</span>&nbsp;<span class="ident" id="1913863">breakpoint</span><span class="op" id="1913873">(</span><span class="op" id="1913874">)</span><br>
<span class="lineno"></span><span class="keyword" id="1913876">func</span>&nbsp;<span class="ident" id="1913881">nanotime</span><span class="op" id="1913889">(</span><span class="op" id="1913890">)</span>&nbsp;<span class="ident" id="1913892">int64</span><br>
<span class="lineno"></span><span class="keyword" id="1913898">func</span>&nbsp;<span class="ident" id="1913903">usleep</span><span class="op" id="1913909">(</span><span class="ident" id="1913910">usec</span>&nbsp;<span class="builtintype" id="1913915">uint32</span><span class="op" id="1913921">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1913924">//&nbsp;careful:&nbsp;cputicks&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;monotonic!&nbsp;&nbsp;In&nbsp;particular,&nbsp;we&nbsp;have</span><br>
<span class="lineno">185</span><span class="comment" id="1914004">//&nbsp;noticed&nbsp;drift&nbsp;between&nbsp;cpus&nbsp;on&nbsp;certain&nbsp;os/arch&nbsp;combinations.&nbsp;&nbsp;See&nbsp;issue&nbsp;8976.</span><br>
<span class="lineno"></span><span class="keyword" id="1914084">func</span>&nbsp;<span class="ident" id="1914089">cputicks</span><span class="op" id="1914097">(</span><span class="op" id="1914098">)</span>&nbsp;<span class="ident" id="1914100">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1914107">func</span>&nbsp;<span class="ident" id="1914112">mmap</span><span class="op" id="1914116">(</span><span class="ident" id="1914117">addr</span>&nbsp;<span class="ident" id="1914122">unsafe</span><span class="op" id="1914128">.</span><span class="ident" id="1914129">Pointer</span><span class="op" id="1914136">,</span>&nbsp;<span class="ident" id="1914138">n</span>&nbsp;<span class="builtintype" id="1914140">uintptr</span><span class="op" id="1914147">,</span>&nbsp;<span class="ident" id="1914149">prot</span><span class="op" id="1914153">,</span>&nbsp;<span class="ident" id="1914155">flags</span><span class="op" id="1914160">,</span>&nbsp;<span class="ident" id="1914162">fd</span>&nbsp;<span class="builtintype" id="1914165">int32</span><span class="op" id="1914170">,</span>&nbsp;<span class="ident" id="1914172">off</span>&nbsp;<span class="builtintype" id="1914176">uint32</span><span class="op" id="1914182">)</span>&nbsp;<span class="ident" id="1914184">unsafe</span><span class="op" id="1914190">.</span><span class="ident" id="1914191">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="1914199">func</span>&nbsp;<span class="ident" id="1914204">munmap</span><span class="op" id="1914210">(</span><span class="ident" id="1914211">addr</span>&nbsp;<span class="ident" id="1914216">unsafe</span><span class="op" id="1914222">.</span><span class="ident" id="1914223">Pointer</span><span class="op" id="1914230">,</span>&nbsp;<span class="ident" id="1914232">n</span>&nbsp;<span class="builtintype" id="1914234">uintptr</span><span class="op" id="1914241">)</span><br>
<span class="lineno">190</span><span class="keyword" id="1914243">func</span>&nbsp;<span class="ident" id="1914248">madvise</span><span class="op" id="1914255">(</span><span class="ident" id="1914256">addr</span>&nbsp;<span class="ident" id="1914261">unsafe</span><span class="op" id="1914267">.</span><span class="ident" id="1914268">Pointer</span><span class="op" id="1914275">,</span>&nbsp;<span class="ident" id="1914277">n</span>&nbsp;<span class="builtintype" id="1914279">uintptr</span><span class="op" id="1914286">,</span>&nbsp;<span class="ident" id="1914288">flags</span>&nbsp;<span class="builtintype" id="1914294">int32</span><span class="op" id="1914299">)</span><br>
<span class="lineno"></span><span class="keyword" id="1914301">func</span>&nbsp;<span class="ident" id="1914306">reflectcall</span><span class="op" id="1914317">(</span><span class="ident" id="1914318">fn</span><span class="op" id="1914320">,</span>&nbsp;<span class="ident" id="1914322">arg</span>&nbsp;<span class="ident" id="1914326">unsafe</span><span class="op" id="1914332">.</span><span class="ident" id="1914333">Pointer</span><span class="op" id="1914340">,</span>&nbsp;<span class="ident" id="1914342">n</span>&nbsp;<span class="builtintype" id="1914344">uint32</span><span class="op" id="1914350">,</span>&nbsp;<span class="ident" id="1914352">retoffset</span>&nbsp;<span class="builtintype" id="1914362">uint32</span><span class="op" id="1914368">)</span><br>
<span class="lineno"></span><span class="keyword" id="1914370">func</span>&nbsp;<span class="ident" id="1914375">osyield</span><span class="op" id="1914382">(</span><span class="op" id="1914383">)</span><br>
<span class="lineno"></span><span class="keyword" id="1914385">func</span>&nbsp;<span class="ident" id="1914390">procyield</span><span class="op" id="1914399">(</span><span class="ident" id="1914400">cycles</span>&nbsp;<span class="builtintype" id="1914407">uint32</span><span class="op" id="1914413">)</span><br>
<span class="lineno"></span><span class="keyword" id="1914415">func</span>&nbsp;<span class="ident" id="1914420">cgocallback_gofunc</span><span class="op" id="1914438">(</span><span class="ident" id="1914439">fv</span>&nbsp;<span class="op" id="1914442">*</span><span class="ident" id="1914443">funcval</span><span class="op" id="1914450">,</span>&nbsp;<span class="ident" id="1914452">frame</span>&nbsp;<span class="ident" id="1914458">unsafe</span><span class="op" id="1914464">.</span><span class="ident" id="1914465">Pointer</span><span class="op" id="1914472">,</span>&nbsp;<span class="ident" id="1914474">framesize</span>&nbsp;<span class="builtintype" id="1914484">uintptr</span><span class="op" id="1914491">)</span><br>
<span class="lineno">195</span><span class="keyword" id="1914493">func</span>&nbsp;<span class="ident" id="1914498">readgogc</span><span class="op" id="1914506">(</span><span class="op" id="1914507">)</span>&nbsp;<span class="builtintype" id="1914509">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1914515">func</span>&nbsp;<span class="ident" id="1914520">purgecachedstats</span><span class="op" id="1914536">(</span><span class="ident" id="1914537">c</span>&nbsp;<span class="op" id="1914539">*</span><span class="ident" id="1914540">mcache</span><span class="op" id="1914546">)</span><br>
<span class="lineno"></span><span class="keyword" id="1914548">func</span>&nbsp;<span class="ident" id="1914553">gostringnocopy</span><span class="op" id="1914567">(</span><span class="ident" id="1914568">b</span>&nbsp;<span class="op" id="1914570">*</span><span class="builtintype" id="1914571">byte</span><span class="op" id="1914575">)</span>&nbsp;<span class="builtintype" id="1914577">string</span><br>
<span class="lineno"></span><span class="keyword" id="1914584">func</span>&nbsp;<span class="ident" id="1914589">goexit</span><span class="op" id="1914595">(</span><span class="op" id="1914596">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1914599">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1914613">func</span>&nbsp;<span class="ident" id="1914618">write</span><span class="op" id="1914623">(</span><span class="ident" id="1914624">fd</span>&nbsp;<span class="builtintype" id="1914627">uintptr</span><span class="op" id="1914634">,</span>&nbsp;<span class="ident" id="1914636">p</span>&nbsp;<span class="ident" id="1914638">unsafe</span><span class="op" id="1914644">.</span><span class="ident" id="1914645">Pointer</span><span class="op" id="1914652">,</span>&nbsp;<span class="ident" id="1914654">n</span>&nbsp;<span class="builtintype" id="1914656">int32</span><span class="op" id="1914661">)</span>&nbsp;<span class="builtintype" id="1914663">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1914670">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1914684">func</span>&nbsp;<span class="ident" id="1914689">cas</span><span class="op" id="1914692">(</span><span class="ident" id="1914693">ptr</span>&nbsp;<span class="op" id="1914697">*</span><span class="builtintype" id="1914698">uint32</span><span class="op" id="1914704">,</span>&nbsp;<span class="ident" id="1914706">old</span><span class="op" id="1914709">,</span>&nbsp;<span class="builtinfunc" id="1914711">new</span>&nbsp;<span class="builtintype" id="1914715">uint32</span><span class="op" id="1914721">)</span>&nbsp;<span class="builtintype" id="1914723">bool</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1914729">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1914743">func</span>&nbsp;<span class="ident" id="1914748">casp</span><span class="op" id="1914752">(</span><span class="ident" id="1914753">ptr</span>&nbsp;<span class="op" id="1914757">*</span><span class="ident" id="1914758">unsafe</span><span class="op" id="1914764">.</span><span class="ident" id="1914765">Pointer</span><span class="op" id="1914772">,</span>&nbsp;<span class="ident" id="1914774">old</span><span class="op" id="1914777">,</span>&nbsp;<span class="builtinfunc" id="1914779">new</span>&nbsp;<span class="ident" id="1914783">unsafe</span><span class="op" id="1914789">.</span><span class="ident" id="1914790">Pointer</span><span class="op" id="1914797">)</span>&nbsp;<span class="builtintype" id="1914799">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1914805">//go:noescape</span><br>
<span class="lineno">210</span><span class="keyword" id="1914819">func</span>&nbsp;<span class="ident" id="1914824">casuintptr</span><span class="op" id="1914834">(</span><span class="ident" id="1914835">ptr</span>&nbsp;<span class="op" id="1914839">*</span><span class="builtintype" id="1914840">uintptr</span><span class="op" id="1914847">,</span>&nbsp;<span class="ident" id="1914849">old</span><span class="op" id="1914852">,</span>&nbsp;<span class="builtinfunc" id="1914854">new</span>&nbsp;<span class="builtintype" id="1914858">uintptr</span><span class="op" id="1914865">)</span>&nbsp;<span class="builtintype" id="1914867">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1914873">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1914887">func</span>&nbsp;<span class="ident" id="1914892">atomicstoreuintptr</span><span class="op" id="1914910">(</span><span class="ident" id="1914911">ptr</span>&nbsp;<span class="op" id="1914915">*</span><span class="builtintype" id="1914916">uintptr</span><span class="op" id="1914923">,</span>&nbsp;<span class="builtinfunc" id="1914925">new</span>&nbsp;<span class="builtintype" id="1914929">uintptr</span><span class="op" id="1914936">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1914939">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1914953">func</span>&nbsp;<span class="ident" id="1914958">atomicloaduintptr</span><span class="op" id="1914975">(</span><span class="ident" id="1914976">ptr</span>&nbsp;<span class="op" id="1914980">*</span><span class="builtintype" id="1914981">uintptr</span><span class="op" id="1914988">)</span>&nbsp;<span class="builtintype" id="1914990">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1914999">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1915013">func</span>&nbsp;<span class="ident" id="1915018">atomicloaduint</span><span class="op" id="1915032">(</span><span class="ident" id="1915033">ptr</span>&nbsp;<span class="op" id="1915037">*</span><span class="builtintype" id="1915038">uint</span><span class="op" id="1915042">)</span>&nbsp;<span class="builtintype" id="1915044">uint</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="1915050">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1915064">func</span>&nbsp;<span class="ident" id="1915069">setcallerpc</span><span class="op" id="1915080">(</span><span class="ident" id="1915081">argp</span>&nbsp;<span class="ident" id="1915086">unsafe</span><span class="op" id="1915092">.</span><span class="ident" id="1915093">Pointer</span><span class="op" id="1915100">,</span>&nbsp;<span class="ident" id="1915102">pc</span>&nbsp;<span class="builtintype" id="1915105">uintptr</span><span class="op" id="1915112">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1915115">//&nbsp;getcallerpc&nbsp;returns&nbsp;the&nbsp;program&nbsp;counter&nbsp;(PC)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno">225</span><span class="comment" id="1915187">//&nbsp;getcallersp&nbsp;returns&nbsp;the&nbsp;stack&nbsp;pointer&nbsp;(SP)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="1915257">//&nbsp;For&nbsp;both,&nbsp;the&nbsp;argp&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;caller&#39;s&nbsp;first&nbsp;function&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="1915338">//&nbsp;The&nbsp;implementation&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;use&nbsp;argp,&nbsp;depending&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1915398">//&nbsp;the&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="comment" id="1915419">//</span><br>
<span class="lineno">230</span><span class="comment" id="1915422">//&nbsp;For&nbsp;example:</span><br>
<span class="lineno"></span><span class="comment" id="1915438">//</span><br>
<span class="lineno"></span><span class="comment" id="1915441">//&nbsp;&nbsp;&nbsp;&nbspfunc&nbsp;f(arg1,&nbsp;arg2,&nbsp;arg3&nbsp;int)&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1915475">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsppc&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg1))</span><br>
<span class="lineno"></span><span class="comment" id="1915520">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsp&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg2))</span><br>
<span class="lineno">235</span><span class="comment" id="1915565">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1915570">//</span><br>
<span class="lineno"></span><span class="comment" id="1915573">//&nbsp;These&nbsp;two&nbsp;lines&nbsp;find&nbsp;the&nbsp;PC&nbsp;and&nbsp;SP&nbsp;immediately&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="1915633">//&nbsp;the&nbsp;call&nbsp;to&nbsp;f&nbsp;(where&nbsp;f&nbsp;will&nbsp;return).</span><br>
<span class="lineno"></span><span class="comment" id="1915673">//</span><br>
<span class="lineno">240</span><span class="comment" id="1915676">//&nbsp;The&nbsp;call&nbsp;to&nbsp;getcallerpc&nbsp;and&nbsp;getcallersp&nbsp;must&nbsp;be&nbsp;done&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1915739">//&nbsp;frame&nbsp;being&nbsp;asked&nbsp;about.&nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;correct&nbsp;for&nbsp;f&nbsp;to&nbsp;pass&nbsp;&amp;arg1</span><br>
<span class="lineno"></span><span class="comment" id="1915811">//&nbsp;to&nbsp;another&nbsp;function&nbsp;g&nbsp;and&nbsp;let&nbsp;g&nbsp;call&nbsp;getcallerpc/getcallersp.</span><br>
<span class="lineno"></span><span class="comment" id="1915876">//&nbsp;The&nbsp;call&nbsp;inside&nbsp;g&nbsp;might&nbsp;return&nbsp;information&nbsp;about&nbsp;g&#39;s&nbsp;caller&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1915942">//&nbsp;information&nbsp;about&nbsp;f&#39;s&nbsp;caller&nbsp;or&nbsp;complete&nbsp;garbage.</span><br>
<span class="lineno">245</span><span class="comment" id="1915995">//</span><br>
<span class="lineno"></span><span class="comment" id="1915998">//&nbsp;The&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;is&nbsp;correct&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;return,</span><br>
<span class="lineno"></span><span class="comment" id="1916065">//&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;invalidated&nbsp;by&nbsp;any&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="1916131">//&nbsp;that&nbsp;might&nbsp;relocate&nbsp;the&nbsp;stack&nbsp;in&nbsp;order&nbsp;to&nbsp;grow&nbsp;or&nbsp;shrink&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="1916195">//&nbsp;A&nbsp;general&nbsp;rule&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;should&nbsp;be&nbsp;used</span><br>
<span class="lineno">250</span><span class="comment" id="1916262">//&nbsp;immediately&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;passed&nbsp;to&nbsp;nosplit&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1916323">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1916337">func</span>&nbsp;<span class="ident" id="1916342">getcallerpc</span><span class="op" id="1916353">(</span><span class="ident" id="1916354">argp</span>&nbsp;<span class="ident" id="1916359">unsafe</span><span class="op" id="1916365">.</span><span class="ident" id="1916366">Pointer</span><span class="op" id="1916373">)</span>&nbsp;<span class="builtintype" id="1916375">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="1916384">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1916398">func</span>&nbsp;<span class="ident" id="1916403">getcallersp</span><span class="op" id="1916414">(</span><span class="ident" id="1916415">argp</span>&nbsp;<span class="ident" id="1916420">unsafe</span><span class="op" id="1916426">.</span><span class="ident" id="1916427">Pointer</span><span class="op" id="1916434">)</span>&nbsp;<span class="builtintype" id="1916436">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1916445">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1916459">func</span>&nbsp;<span class="ident" id="1916464">asmcgocall</span><span class="op" id="1916474">(</span><span class="ident" id="1916475">fn</span><span class="op" id="1916477">,</span>&nbsp;<span class="ident" id="1916479">arg</span>&nbsp;<span class="ident" id="1916483">unsafe</span><span class="op" id="1916489">.</span><span class="ident" id="1916490">Pointer</span><span class="op" id="1916497">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="1916500">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1916514">func</span>&nbsp;<span class="ident" id="1916519">asmcgocall_errno</span><span class="op" id="1916535">(</span><span class="ident" id="1916536">fn</span><span class="op" id="1916538">,</span>&nbsp;<span class="ident" id="1916540">arg</span>&nbsp;<span class="ident" id="1916544">unsafe</span><span class="op" id="1916550">.</span><span class="ident" id="1916551">Pointer</span><span class="op" id="1916558">)</span>&nbsp;<span class="builtintype" id="1916560">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1916567">//go:noescape</span><br>
<span class="lineno">265</span><span class="keyword" id="1916581">func</span>&nbsp;<span class="ident" id="1916586">open</span><span class="op" id="1916590">(</span><span class="ident" id="1916591">name</span>&nbsp;<span class="op" id="1916596">*</span><span class="builtintype" id="1916597">byte</span><span class="op" id="1916601">,</span>&nbsp;<span class="ident" id="1916603">mode</span><span class="op" id="1916607">,</span>&nbsp;<span class="ident" id="1916609">perm</span>&nbsp;<span class="builtintype" id="1916614">int32</span><span class="op" id="1916619">)</span>&nbsp;<span class="builtintype" id="1916621">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1916628">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1916642">func</span>&nbsp;<span class="ident" id="1916647">gotraceback</span><span class="op" id="1916658">(</span><span class="op" id="1916659">*</span><span class="builtintype" id="1916660">bool</span><span class="op" id="1916664">)</span>&nbsp;<span class="builtintype" id="1916666">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1916673">const</span>&nbsp;<span class="ident" id="1916679">_NoArgs</span>&nbsp;<span class="op" id="1916687">=</span>&nbsp;<span class="op" id="1916689">^</span><span class="builtintype" id="1916690">uintptr</span><span class="op" id="1916697">(</span><span class="num" id="1916698">0</span><span class="op" id="1916699">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1916702">func</span>&nbsp;<span class="ident" id="1916707">newstack</span><span class="op" id="1916715">(</span><span class="op" id="1916716">)</span><br>
<span class="lineno"></span><span class="keyword" id="1916718">func</span>&nbsp;<span class="ident" id="1916723">newproc</span><span class="op" id="1916730">(</span><span class="op" id="1916731">)</span><br>
<span class="lineno"></span><span class="keyword" id="1916733">func</span>&nbsp;<span class="ident" id="1916738">morestack</span><span class="op" id="1916747">(</span><span class="op" id="1916748">)</span><br>
<span class="lineno">275</span><span class="keyword" id="1916750">func</span>&nbsp;<span class="ident" id="1916755">mstart</span><span class="op" id="1916761">(</span><span class="op" id="1916762">)</span><br>
<span class="lineno"></span><span class="keyword" id="1916764">func</span>&nbsp;<span class="ident" id="1916769">rt0_go</span><span class="op" id="1916775">(</span><span class="op" id="1916776">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1916779">//&nbsp;return0&nbsp;is&nbsp;a&nbsp;stub&nbsp;used&nbsp;to&nbsp;return&nbsp;0&nbsp;from&nbsp;deferproc.</span><br>
<span class="lineno"></span><span class="comment" id="1916833">//&nbsp;It&nbsp;is&nbsp;called&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;deferproc&nbsp;to&nbsp;signal</span><br>
<span class="lineno">280</span><span class="comment" id="1916888">//&nbsp;the&nbsp;calling&nbsp;Go&nbsp;function&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;jump</span><br>
<span class="lineno"></span><span class="comment" id="1916939">//&nbsp;to&nbsp;deferreturn.</span><br>
<span class="lineno"></span><span class="comment" id="1916958">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="1916972">func</span>&nbsp;<span class="ident" id="1916977">return0</span><span class="op" id="1916984">(</span><span class="op" id="1916985">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1916988">//&nbsp;thunk&nbsp;to&nbsp;call&nbsp;time.now.</span><br>
<span class="lineno"></span><span class="keyword" id="1917015">func</span>&nbsp;<span class="ident" id="1917020">timenow</span><span class="op" id="1917027">(</span><span class="op" id="1917028">)</span>&nbsp;<span class="op" id="1917030">(</span><span class="ident" id="1917031">sec</span>&nbsp;<span class="ident" id="1917035">int64</span><span class="op" id="1917040">,</span>&nbsp;<span class="ident" id="1917042">nsec</span>&nbsp;<span class="builtintype" id="1917047">int32</span><span class="op" id="1917052">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1917055">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1917069">//&nbsp;not&nbsp;called&nbsp;directly;&nbsp;definitions&nbsp;here&nbsp;supply&nbsp;type&nbsp;information&nbsp;for&nbsp;traceback.</span><br>
<span class="lineno">290</span><span class="keyword" id="1917149">func</span>&nbsp;<span class="ident" id="1917154">call16</span><span class="op" id="1917160">(</span><span class="ident" id="1917161">fn</span><span class="op" id="1917163">,</span>&nbsp;<span class="ident" id="1917165">arg</span>&nbsp;<span class="ident" id="1917169">unsafe</span><span class="op" id="1917175">.</span><span class="ident" id="1917176">Pointer</span><span class="op" id="1917183">,</span>&nbsp;<span class="ident" id="1917185">n</span><span class="op" id="1917186">,</span>&nbsp;<span class="ident" id="1917188">retoffset</span>&nbsp;<span class="builtintype" id="1917198">uint32</span><span class="op" id="1917204">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917206">func</span>&nbsp;<span class="ident" id="1917211">call32</span><span class="op" id="1917217">(</span><span class="ident" id="1917218">fn</span><span class="op" id="1917220">,</span>&nbsp;<span class="ident" id="1917222">arg</span>&nbsp;<span class="ident" id="1917226">unsafe</span><span class="op" id="1917232">.</span><span class="ident" id="1917233">Pointer</span><span class="op" id="1917240">,</span>&nbsp;<span class="ident" id="1917242">n</span><span class="op" id="1917243">,</span>&nbsp;<span class="ident" id="1917245">retoffset</span>&nbsp;<span class="builtintype" id="1917255">uint32</span><span class="op" id="1917261">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917263">func</span>&nbsp;<span class="ident" id="1917268">call64</span><span class="op" id="1917274">(</span><span class="ident" id="1917275">fn</span><span class="op" id="1917277">,</span>&nbsp;<span class="ident" id="1917279">arg</span>&nbsp;<span class="ident" id="1917283">unsafe</span><span class="op" id="1917289">.</span><span class="ident" id="1917290">Pointer</span><span class="op" id="1917297">,</span>&nbsp;<span class="ident" id="1917299">n</span><span class="op" id="1917300">,</span>&nbsp;<span class="ident" id="1917302">retoffset</span>&nbsp;<span class="builtintype" id="1917312">uint32</span><span class="op" id="1917318">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917320">func</span>&nbsp;<span class="ident" id="1917325">call128</span><span class="op" id="1917332">(</span><span class="ident" id="1917333">fn</span><span class="op" id="1917335">,</span>&nbsp;<span class="ident" id="1917337">arg</span>&nbsp;<span class="ident" id="1917341">unsafe</span><span class="op" id="1917347">.</span><span class="ident" id="1917348">Pointer</span><span class="op" id="1917355">,</span>&nbsp;<span class="ident" id="1917357">n</span><span class="op" id="1917358">,</span>&nbsp;<span class="ident" id="1917360">retoffset</span>&nbsp;<span class="builtintype" id="1917370">uint32</span><span class="op" id="1917376">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917378">func</span>&nbsp;<span class="ident" id="1917383">call256</span><span class="op" id="1917390">(</span><span class="ident" id="1917391">fn</span><span class="op" id="1917393">,</span>&nbsp;<span class="ident" id="1917395">arg</span>&nbsp;<span class="ident" id="1917399">unsafe</span><span class="op" id="1917405">.</span><span class="ident" id="1917406">Pointer</span><span class="op" id="1917413">,</span>&nbsp;<span class="ident" id="1917415">n</span><span class="op" id="1917416">,</span>&nbsp;<span class="ident" id="1917418">retoffset</span>&nbsp;<span class="builtintype" id="1917428">uint32</span><span class="op" id="1917434">)</span><br>
<span class="lineno">295</span><span class="keyword" id="1917436">func</span>&nbsp;<span class="ident" id="1917441">call512</span><span class="op" id="1917448">(</span><span class="ident" id="1917449">fn</span><span class="op" id="1917451">,</span>&nbsp;<span class="ident" id="1917453">arg</span>&nbsp;<span class="ident" id="1917457">unsafe</span><span class="op" id="1917463">.</span><span class="ident" id="1917464">Pointer</span><span class="op" id="1917471">,</span>&nbsp;<span class="ident" id="1917473">n</span><span class="op" id="1917474">,</span>&nbsp;<span class="ident" id="1917476">retoffset</span>&nbsp;<span class="builtintype" id="1917486">uint32</span><span class="op" id="1917492">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917494">func</span>&nbsp;<span class="ident" id="1917499">call1024</span><span class="op" id="1917507">(</span><span class="ident" id="1917508">fn</span><span class="op" id="1917510">,</span>&nbsp;<span class="ident" id="1917512">arg</span>&nbsp;<span class="ident" id="1917516">unsafe</span><span class="op" id="1917522">.</span><span class="ident" id="1917523">Pointer</span><span class="op" id="1917530">,</span>&nbsp;<span class="ident" id="1917532">n</span><span class="op" id="1917533">,</span>&nbsp;<span class="ident" id="1917535">retoffset</span>&nbsp;<span class="builtintype" id="1917545">uint32</span><span class="op" id="1917551">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917553">func</span>&nbsp;<span class="ident" id="1917558">call2048</span><span class="op" id="1917566">(</span><span class="ident" id="1917567">fn</span><span class="op" id="1917569">,</span>&nbsp;<span class="ident" id="1917571">arg</span>&nbsp;<span class="ident" id="1917575">unsafe</span><span class="op" id="1917581">.</span><span class="ident" id="1917582">Pointer</span><span class="op" id="1917589">,</span>&nbsp;<span class="ident" id="1917591">n</span><span class="op" id="1917592">,</span>&nbsp;<span class="ident" id="1917594">retoffset</span>&nbsp;<span class="builtintype" id="1917604">uint32</span><span class="op" id="1917610">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917612">func</span>&nbsp;<span class="ident" id="1917617">call4096</span><span class="op" id="1917625">(</span><span class="ident" id="1917626">fn</span><span class="op" id="1917628">,</span>&nbsp;<span class="ident" id="1917630">arg</span>&nbsp;<span class="ident" id="1917634">unsafe</span><span class="op" id="1917640">.</span><span class="ident" id="1917641">Pointer</span><span class="op" id="1917648">,</span>&nbsp;<span class="ident" id="1917650">n</span><span class="op" id="1917651">,</span>&nbsp;<span class="ident" id="1917653">retoffset</span>&nbsp;<span class="builtintype" id="1917663">uint32</span><span class="op" id="1917669">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917671">func</span>&nbsp;<span class="ident" id="1917676">call8192</span><span class="op" id="1917684">(</span><span class="ident" id="1917685">fn</span><span class="op" id="1917687">,</span>&nbsp;<span class="ident" id="1917689">arg</span>&nbsp;<span class="ident" id="1917693">unsafe</span><span class="op" id="1917699">.</span><span class="ident" id="1917700">Pointer</span><span class="op" id="1917707">,</span>&nbsp;<span class="ident" id="1917709">n</span><span class="op" id="1917710">,</span>&nbsp;<span class="ident" id="1917712">retoffset</span>&nbsp;<span class="builtintype" id="1917722">uint32</span><span class="op" id="1917728">)</span><br>
<span class="lineno">300</span><span class="keyword" id="1917730">func</span>&nbsp;<span class="ident" id="1917735">call16384</span><span class="op" id="1917744">(</span><span class="ident" id="1917745">fn</span><span class="op" id="1917747">,</span>&nbsp;<span class="ident" id="1917749">arg</span>&nbsp;<span class="ident" id="1917753">unsafe</span><span class="op" id="1917759">.</span><span class="ident" id="1917760">Pointer</span><span class="op" id="1917767">,</span>&nbsp;<span class="ident" id="1917769">n</span><span class="op" id="1917770">,</span>&nbsp;<span class="ident" id="1917772">retoffset</span>&nbsp;<span class="builtintype" id="1917782">uint32</span><span class="op" id="1917788">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917790">func</span>&nbsp;<span class="ident" id="1917795">call32768</span><span class="op" id="1917804">(</span><span class="ident" id="1917805">fn</span><span class="op" id="1917807">,</span>&nbsp;<span class="ident" id="1917809">arg</span>&nbsp;<span class="ident" id="1917813">unsafe</span><span class="op" id="1917819">.</span><span class="ident" id="1917820">Pointer</span><span class="op" id="1917827">,</span>&nbsp;<span class="ident" id="1917829">n</span><span class="op" id="1917830">,</span>&nbsp;<span class="ident" id="1917832">retoffset</span>&nbsp;<span class="builtintype" id="1917842">uint32</span><span class="op" id="1917848">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917850">func</span>&nbsp;<span class="ident" id="1917855">call65536</span><span class="op" id="1917864">(</span><span class="ident" id="1917865">fn</span><span class="op" id="1917867">,</span>&nbsp;<span class="ident" id="1917869">arg</span>&nbsp;<span class="ident" id="1917873">unsafe</span><span class="op" id="1917879">.</span><span class="ident" id="1917880">Pointer</span><span class="op" id="1917887">,</span>&nbsp;<span class="ident" id="1917889">n</span><span class="op" id="1917890">,</span>&nbsp;<span class="ident" id="1917892">retoffset</span>&nbsp;<span class="builtintype" id="1917902">uint32</span><span class="op" id="1917908">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917910">func</span>&nbsp;<span class="ident" id="1917915">call131072</span><span class="op" id="1917925">(</span><span class="ident" id="1917926">fn</span><span class="op" id="1917928">,</span>&nbsp;<span class="ident" id="1917930">arg</span>&nbsp;<span class="ident" id="1917934">unsafe</span><span class="op" id="1917940">.</span><span class="ident" id="1917941">Pointer</span><span class="op" id="1917948">,</span>&nbsp;<span class="ident" id="1917950">n</span><span class="op" id="1917951">,</span>&nbsp;<span class="ident" id="1917953">retoffset</span>&nbsp;<span class="builtintype" id="1917963">uint32</span><span class="op" id="1917969">)</span><br>
<span class="lineno"></span><span class="keyword" id="1917971">func</span>&nbsp;<span class="ident" id="1917976">call262144</span><span class="op" id="1917986">(</span><span class="ident" id="1917987">fn</span><span class="op" id="1917989">,</span>&nbsp;<span class="ident" id="1917991">arg</span>&nbsp;<span class="ident" id="1917995">unsafe</span><span class="op" id="1918001">.</span><span class="ident" id="1918002">Pointer</span><span class="op" id="1918009">,</span>&nbsp;<span class="ident" id="1918011">n</span><span class="op" id="1918012">,</span>&nbsp;<span class="ident" id="1918014">retoffset</span>&nbsp;<span class="builtintype" id="1918024">uint32</span><span class="op" id="1918030">)</span><br>
<span class="lineno">305</span><span class="keyword" id="1918032">func</span>&nbsp;<span class="ident" id="1918037">call524288</span><span class="op" id="1918047">(</span><span class="ident" id="1918048">fn</span><span class="op" id="1918050">,</span>&nbsp;<span class="ident" id="1918052">arg</span>&nbsp;<span class="ident" id="1918056">unsafe</span><span class="op" id="1918062">.</span><span class="ident" id="1918063">Pointer</span><span class="op" id="1918070">,</span>&nbsp;<span class="ident" id="1918072">n</span><span class="op" id="1918073">,</span>&nbsp;<span class="ident" id="1918075">retoffset</span>&nbsp;<span class="builtintype" id="1918085">uint32</span><span class="op" id="1918091">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918093">func</span>&nbsp;<span class="ident" id="1918098">call1048576</span><span class="op" id="1918109">(</span><span class="ident" id="1918110">fn</span><span class="op" id="1918112">,</span>&nbsp;<span class="ident" id="1918114">arg</span>&nbsp;<span class="ident" id="1918118">unsafe</span><span class="op" id="1918124">.</span><span class="ident" id="1918125">Pointer</span><span class="op" id="1918132">,</span>&nbsp;<span class="ident" id="1918134">n</span><span class="op" id="1918135">,</span>&nbsp;<span class="ident" id="1918137">retoffset</span>&nbsp;<span class="builtintype" id="1918147">uint32</span><span class="op" id="1918153">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918155">func</span>&nbsp;<span class="ident" id="1918160">call2097152</span><span class="op" id="1918171">(</span><span class="ident" id="1918172">fn</span><span class="op" id="1918174">,</span>&nbsp;<span class="ident" id="1918176">arg</span>&nbsp;<span class="ident" id="1918180">unsafe</span><span class="op" id="1918186">.</span><span class="ident" id="1918187">Pointer</span><span class="op" id="1918194">,</span>&nbsp;<span class="ident" id="1918196">n</span><span class="op" id="1918197">,</span>&nbsp;<span class="ident" id="1918199">retoffset</span>&nbsp;<span class="builtintype" id="1918209">uint32</span><span class="op" id="1918215">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918217">func</span>&nbsp;<span class="ident" id="1918222">call4194304</span><span class="op" id="1918233">(</span><span class="ident" id="1918234">fn</span><span class="op" id="1918236">,</span>&nbsp;<span class="ident" id="1918238">arg</span>&nbsp;<span class="ident" id="1918242">unsafe</span><span class="op" id="1918248">.</span><span class="ident" id="1918249">Pointer</span><span class="op" id="1918256">,</span>&nbsp;<span class="ident" id="1918258">n</span><span class="op" id="1918259">,</span>&nbsp;<span class="ident" id="1918261">retoffset</span>&nbsp;<span class="builtintype" id="1918271">uint32</span><span class="op" id="1918277">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918279">func</span>&nbsp;<span class="ident" id="1918284">call8388608</span><span class="op" id="1918295">(</span><span class="ident" id="1918296">fn</span><span class="op" id="1918298">,</span>&nbsp;<span class="ident" id="1918300">arg</span>&nbsp;<span class="ident" id="1918304">unsafe</span><span class="op" id="1918310">.</span><span class="ident" id="1918311">Pointer</span><span class="op" id="1918318">,</span>&nbsp;<span class="ident" id="1918320">n</span><span class="op" id="1918321">,</span>&nbsp;<span class="ident" id="1918323">retoffset</span>&nbsp;<span class="builtintype" id="1918333">uint32</span><span class="op" id="1918339">)</span><br>
<span class="lineno">310</span><span class="keyword" id="1918341">func</span>&nbsp;<span class="ident" id="1918346">call16777216</span><span class="op" id="1918358">(</span><span class="ident" id="1918359">fn</span><span class="op" id="1918361">,</span>&nbsp;<span class="ident" id="1918363">arg</span>&nbsp;<span class="ident" id="1918367">unsafe</span><span class="op" id="1918373">.</span><span class="ident" id="1918374">Pointer</span><span class="op" id="1918381">,</span>&nbsp;<span class="ident" id="1918383">n</span><span class="op" id="1918384">,</span>&nbsp;<span class="ident" id="1918386">retoffset</span>&nbsp;<span class="builtintype" id="1918396">uint32</span><span class="op" id="1918402">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918404">func</span>&nbsp;<span class="ident" id="1918409">call33554432</span><span class="op" id="1918421">(</span><span class="ident" id="1918422">fn</span><span class="op" id="1918424">,</span>&nbsp;<span class="ident" id="1918426">arg</span>&nbsp;<span class="ident" id="1918430">unsafe</span><span class="op" id="1918436">.</span><span class="ident" id="1918437">Pointer</span><span class="op" id="1918444">,</span>&nbsp;<span class="ident" id="1918446">n</span><span class="op" id="1918447">,</span>&nbsp;<span class="ident" id="1918449">retoffset</span>&nbsp;<span class="builtintype" id="1918459">uint32</span><span class="op" id="1918465">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918467">func</span>&nbsp;<span class="ident" id="1918472">call67108864</span><span class="op" id="1918484">(</span><span class="ident" id="1918485">fn</span><span class="op" id="1918487">,</span>&nbsp;<span class="ident" id="1918489">arg</span>&nbsp;<span class="ident" id="1918493">unsafe</span><span class="op" id="1918499">.</span><span class="ident" id="1918500">Pointer</span><span class="op" id="1918507">,</span>&nbsp;<span class="ident" id="1918509">n</span><span class="op" id="1918510">,</span>&nbsp;<span class="ident" id="1918512">retoffset</span>&nbsp;<span class="builtintype" id="1918522">uint32</span><span class="op" id="1918528">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918530">func</span>&nbsp;<span class="ident" id="1918535">call134217728</span><span class="op" id="1918548">(</span><span class="ident" id="1918549">fn</span><span class="op" id="1918551">,</span>&nbsp;<span class="ident" id="1918553">arg</span>&nbsp;<span class="ident" id="1918557">unsafe</span><span class="op" id="1918563">.</span><span class="ident" id="1918564">Pointer</span><span class="op" id="1918571">,</span>&nbsp;<span class="ident" id="1918573">n</span><span class="op" id="1918574">,</span>&nbsp;<span class="ident" id="1918576">retoffset</span>&nbsp;<span class="builtintype" id="1918586">uint32</span><span class="op" id="1918592">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918594">func</span>&nbsp;<span class="ident" id="1918599">call268435456</span><span class="op" id="1918612">(</span><span class="ident" id="1918613">fn</span><span class="op" id="1918615">,</span>&nbsp;<span class="ident" id="1918617">arg</span>&nbsp;<span class="ident" id="1918621">unsafe</span><span class="op" id="1918627">.</span><span class="ident" id="1918628">Pointer</span><span class="op" id="1918635">,</span>&nbsp;<span class="ident" id="1918637">n</span><span class="op" id="1918638">,</span>&nbsp;<span class="ident" id="1918640">retoffset</span>&nbsp;<span class="builtintype" id="1918650">uint32</span><span class="op" id="1918656">)</span><br>
<span class="lineno">315</span><span class="keyword" id="1918658">func</span>&nbsp;<span class="ident" id="1918663">call536870912</span><span class="op" id="1918676">(</span><span class="ident" id="1918677">fn</span><span class="op" id="1918679">,</span>&nbsp;<span class="ident" id="1918681">arg</span>&nbsp;<span class="ident" id="1918685">unsafe</span><span class="op" id="1918691">.</span><span class="ident" id="1918692">Pointer</span><span class="op" id="1918699">,</span>&nbsp;<span class="ident" id="1918701">n</span><span class="op" id="1918702">,</span>&nbsp;<span class="ident" id="1918704">retoffset</span>&nbsp;<span class="builtintype" id="1918714">uint32</span><span class="op" id="1918720">)</span><br>
<span class="lineno"></span><span class="keyword" id="1918722">func</span>&nbsp;<span class="ident" id="1918727">call1073741824</span><span class="op" id="1918741">(</span><span class="ident" id="1918742">fn</span><span class="op" id="1918744">,</span>&nbsp;<span class="ident" id="1918746">arg</span>&nbsp;<span class="ident" id="1918750">unsafe</span><span class="op" id="1918756">.</span><span class="ident" id="1918757">Pointer</span><span class="op" id="1918764">,</span>&nbsp;<span class="ident" id="1918766">n</span><span class="op" id="1918767">,</span>&nbsp;<span class="ident" id="1918769">retoffset</span>&nbsp;<span class="builtintype" id="1918779">uint32</span><span class="op" id="1918785">)</span>
</div>
</body>
</html>
