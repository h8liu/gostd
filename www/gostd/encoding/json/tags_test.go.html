<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html" class="current">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6549974">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6550030">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6550084">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6550135">package</span>&nbsp;<span class="ident" id="6550143">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6550149">import</span>&nbsp;<span class="op" id="6550156">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6550159">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6550169">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6550172">func</span>&nbsp;<span class="ident" id="6550177">TestTagParsing</span><span class="op" id="6550191">(</span><span class="ident" id="6550192">t</span>&nbsp;<span class="op" id="6550194">*</span><span class="ident" id="6550195">testing</span><span class="op" id="6550202">.</span><span class="ident" id="6550203">T</span><span class="op" id="6550204">)</span>&nbsp;<span class="op" id="6550206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6550209">name</span><span class="op" id="6550213">,</span>&nbsp;<span class="ident" id="6550215">opts</span>&nbsp;<span class="op" id="6550220">:=</span>&nbsp;<span class="ident" id="6550223">parseTag</span><span class="op" id="6550231">(</span><span class="string" id="6550232">&#34;field,foobar,foo&#34;</span><span class="op" id="6550250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6550253">if</span>&nbsp;<span class="ident" id="6550256">name</span>&nbsp;<span class="op" id="6550261">!=</span>&nbsp;<span class="string" id="6550264">&#34;field&#34;</span>&nbsp;<span class="op" id="6550272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6550276">t</span><span class="op" id="6550277">.</span><span class="ident" id="6550278">Fatalf</span><span class="op" id="6550284">(</span><span class="string" id="6550285">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="6550308">,</span>&nbsp;<span class="ident" id="6550310">name</span><span class="op" id="6550314">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6550320">for</span>&nbsp;<span class="ident" id="6550324">_</span><span class="op" id="6550325">,</span>&nbsp;<span class="ident" id="6550327">tt</span>&nbsp;<span class="op" id="6550330">:=</span>&nbsp;<span class="keyword" id="6550333">range</span>&nbsp;<span class="op" id="6550339">[</span><span class="op" id="6550340">]</span><span class="keyword" id="6550341">struct</span>&nbsp;<span class="op" id="6550348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6550352">opt</span>&nbsp;&nbsp;<span class="builtintype" id="6550357">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6550366">want</span>&nbsp;<span class="builtintype" id="6550371">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550377">}</span><span class="op" id="6550378">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550382">{</span><span class="string" id="6550383">&#34;foobar&#34;</span><span class="op" id="6550391">,</span>&nbsp;<span class="builtintype" id="6550393">true</span><span class="op" id="6550397">}</span><span class="op" id="6550398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550402">{</span><span class="string" id="6550403">&#34;foo&#34;</span><span class="op" id="6550408">,</span>&nbsp;<span class="builtintype" id="6550410">true</span><span class="op" id="6550414">}</span><span class="op" id="6550415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550419">{</span><span class="string" id="6550420">&#34;bar&#34;</span><span class="op" id="6550425">,</span>&nbsp;<span class="builtintype" id="6550427">false</span><span class="op" id="6550432">}</span><span class="op" id="6550433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550436">}</span>&nbsp;<span class="op" id="6550438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6550442">if</span>&nbsp;<span class="ident" id="6550445">opts</span><span class="op" id="6550449">.</span><span class="ident" id="6550450">Contains</span><span class="op" id="6550458">(</span><span class="ident" id="6550459">tt</span><span class="op" id="6550461">.</span><span class="ident" id="6550462">opt</span><span class="op" id="6550465">)</span>&nbsp;<span class="op" id="6550467">!=</span>&nbsp;<span class="ident" id="6550470">tt</span><span class="op" id="6550472">.</span><span class="ident" id="6550473">want</span>&nbsp;<span class="op" id="6550478">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6550483">t</span><span class="op" id="6550484">.</span><span class="ident" id="6550485">Errorf</span><span class="op" id="6550491">(</span><span class="string" id="6550492">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6550511">,</span>&nbsp;<span class="ident" id="6550513">tt</span><span class="op" id="6550515">.</span><span class="ident" id="6550516">opt</span><span class="op" id="6550519">,</span>&nbsp;<span class="op" id="6550521">!</span><span class="ident" id="6550522">tt</span><span class="op" id="6550524">.</span><span class="ident" id="6550525">want</span><span class="op" id="6550529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6550536">}</span><br>
<span class="lineno"></span><span class="op" id="6550538">}</span>
</div>
</body>
</html>
