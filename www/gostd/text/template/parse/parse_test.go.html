<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6609478">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6609533">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6609587">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6609638">package</span>&nbsp;<span class="ident" id="6609646">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6609653">import</span>&nbsp;<span class="op" id="6609660">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6609663">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6609671">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6609678">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6609689">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6609699">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6609702">var</span>&nbsp;<span class="ident" id="6609706">debug</span>&nbsp;<span class="op" id="6609712">=</span>&nbsp;<span class="ident" id="6609714">flag</span><span class="op" id="6609718">.</span><span class="ident" id="6609719">Bool</span><span class="op" id="6609723">(</span><span class="string" id="6609724">&#34;debug&#34;</span><span class="op" id="6609731">,</span>&nbsp;<span class="builtintype" id="6609733">false</span><span class="op" id="6609738">,</span>&nbsp;<span class="string" id="6609740">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6609784">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6609787">type</span>&nbsp;<span class="ident" id="6609792">numberTest</span>&nbsp;<span class="keyword" id="6609803">struct</span>&nbsp;<span class="op" id="6609810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609813">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6609823">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609831">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6609841">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609847">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6609857">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609863">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6609873">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609879">isComplex</span>&nbsp;<span class="builtintype" id="6609889">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609895">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609902">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6609910">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6609919">complex128</span><br>
<span class="lineno"></span><span class="op" id="6609930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6609933">var</span>&nbsp;<span class="ident" id="6609937">numberTests</span>&nbsp;<span class="op" id="6609949">=</span>&nbsp;<span class="op" id="6609951">[</span><span class="op" id="6609952">]</span><span class="ident" id="6609953">numberTest</span><span class="op" id="6609963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6609966">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609977">{</span><span class="string" id="6609978">&#34;0&#34;</span><span class="op" id="6609981">,</span>&nbsp;<span class="builtintype" id="6609983">true</span><span class="op" id="6609987">,</span>&nbsp;<span class="builtintype" id="6609989">true</span><span class="op" id="6609993">,</span>&nbsp;<span class="builtintype" id="6609995">true</span><span class="op" id="6609999">,</span>&nbsp;<span class="builtintype" id="6610001">false</span><span class="op" id="6610006">,</span>&nbsp;<span class="num" id="6610008">0</span><span class="op" id="6610009">,</span>&nbsp;<span class="num" id="6610011">0</span><span class="op" id="6610012">,</span>&nbsp;<span class="num" id="6610014">0</span><span class="op" id="6610015">,</span>&nbsp;<span class="num" id="6610017">0</span><span class="op" id="6610018">}</span><span class="op" id="6610019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610022">{</span><span class="string" id="6610023">&#34;-0&#34;</span><span class="op" id="6610027">,</span>&nbsp;<span class="builtintype" id="6610029">true</span><span class="op" id="6610033">,</span>&nbsp;<span class="builtintype" id="6610035">true</span><span class="op" id="6610039">,</span>&nbsp;<span class="builtintype" id="6610041">true</span><span class="op" id="6610045">,</span>&nbsp;<span class="builtintype" id="6610047">false</span><span class="op" id="6610052">,</span>&nbsp;<span class="num" id="6610054">0</span><span class="op" id="6610055">,</span>&nbsp;<span class="num" id="6610057">0</span><span class="op" id="6610058">,</span>&nbsp;<span class="num" id="6610060">0</span><span class="op" id="6610061">,</span>&nbsp;<span class="num" id="6610063">0</span><span class="op" id="6610064">}</span><span class="op" id="6610065">,</span>&nbsp;<span class="comment" id="6610067">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610096">{</span><span class="string" id="6610097">&#34;73&#34;</span><span class="op" id="6610101">,</span>&nbsp;<span class="builtintype" id="6610103">true</span><span class="op" id="6610107">,</span>&nbsp;<span class="builtintype" id="6610109">true</span><span class="op" id="6610113">,</span>&nbsp;<span class="builtintype" id="6610115">true</span><span class="op" id="6610119">,</span>&nbsp;<span class="builtintype" id="6610121">false</span><span class="op" id="6610126">,</span>&nbsp;<span class="num" id="6610128">73</span><span class="op" id="6610130">,</span>&nbsp;<span class="num" id="6610132">73</span><span class="op" id="6610134">,</span>&nbsp;<span class="num" id="6610136">73</span><span class="op" id="6610138">,</span>&nbsp;<span class="num" id="6610140">0</span><span class="op" id="6610141">}</span><span class="op" id="6610142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610145">{</span><span class="string" id="6610146">&#34;073&#34;</span><span class="op" id="6610151">,</span>&nbsp;<span class="builtintype" id="6610153">true</span><span class="op" id="6610157">,</span>&nbsp;<span class="builtintype" id="6610159">true</span><span class="op" id="6610163">,</span>&nbsp;<span class="builtintype" id="6610165">true</span><span class="op" id="6610169">,</span>&nbsp;<span class="builtintype" id="6610171">false</span><span class="op" id="6610176">,</span>&nbsp;<span class="num" id="6610178">073</span><span class="op" id="6610181">,</span>&nbsp;<span class="num" id="6610183">073</span><span class="op" id="6610186">,</span>&nbsp;<span class="num" id="6610188">073</span><span class="op" id="6610191">,</span>&nbsp;<span class="num" id="6610193">0</span><span class="op" id="6610194">}</span><span class="op" id="6610195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610198">{</span><span class="string" id="6610199">&#34;0x73&#34;</span><span class="op" id="6610205">,</span>&nbsp;<span class="builtintype" id="6610207">true</span><span class="op" id="6610211">,</span>&nbsp;<span class="builtintype" id="6610213">true</span><span class="op" id="6610217">,</span>&nbsp;<span class="builtintype" id="6610219">true</span><span class="op" id="6610223">,</span>&nbsp;<span class="builtintype" id="6610225">false</span><span class="op" id="6610230">,</span>&nbsp;<span class="num" id="6610232">0x73</span><span class="op" id="6610236">,</span>&nbsp;<span class="num" id="6610238">0x73</span><span class="op" id="6610242">,</span>&nbsp;<span class="num" id="6610244">0x73</span><span class="op" id="6610248">,</span>&nbsp;<span class="num" id="6610250">0</span><span class="op" id="6610251">}</span><span class="op" id="6610252">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610255">{</span><span class="string" id="6610256">&#34;-73&#34;</span><span class="op" id="6610261">,</span>&nbsp;<span class="builtintype" id="6610263">true</span><span class="op" id="6610267">,</span>&nbsp;<span class="builtintype" id="6610269">false</span><span class="op" id="6610274">,</span>&nbsp;<span class="builtintype" id="6610276">true</span><span class="op" id="6610280">,</span>&nbsp;<span class="builtintype" id="6610282">false</span><span class="op" id="6610287">,</span>&nbsp;<span class="op" id="6610289">-</span><span class="num" id="6610290">73</span><span class="op" id="6610292">,</span>&nbsp;<span class="num" id="6610294">0</span><span class="op" id="6610295">,</span>&nbsp;<span class="op" id="6610297">-</span><span class="num" id="6610298">73</span><span class="op" id="6610300">,</span>&nbsp;<span class="num" id="6610302">0</span><span class="op" id="6610303">}</span><span class="op" id="6610304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610307">{</span><span class="string" id="6610308">&#34;+73&#34;</span><span class="op" id="6610313">,</span>&nbsp;<span class="builtintype" id="6610315">true</span><span class="op" id="6610319">,</span>&nbsp;<span class="builtintype" id="6610321">false</span><span class="op" id="6610326">,</span>&nbsp;<span class="builtintype" id="6610328">true</span><span class="op" id="6610332">,</span>&nbsp;<span class="builtintype" id="6610334">false</span><span class="op" id="6610339">,</span>&nbsp;<span class="num" id="6610341">73</span><span class="op" id="6610343">,</span>&nbsp;<span class="num" id="6610345">0</span><span class="op" id="6610346">,</span>&nbsp;<span class="num" id="6610348">73</span><span class="op" id="6610350">,</span>&nbsp;<span class="num" id="6610352">0</span><span class="op" id="6610353">}</span><span class="op" id="6610354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610357">{</span><span class="string" id="6610358">&#34;100&#34;</span><span class="op" id="6610363">,</span>&nbsp;<span class="builtintype" id="6610365">true</span><span class="op" id="6610369">,</span>&nbsp;<span class="builtintype" id="6610371">true</span><span class="op" id="6610375">,</span>&nbsp;<span class="builtintype" id="6610377">true</span><span class="op" id="6610381">,</span>&nbsp;<span class="builtintype" id="6610383">false</span><span class="op" id="6610388">,</span>&nbsp;<span class="num" id="6610390">100</span><span class="op" id="6610393">,</span>&nbsp;<span class="num" id="6610395">100</span><span class="op" id="6610398">,</span>&nbsp;<span class="num" id="6610400">100</span><span class="op" id="6610403">,</span>&nbsp;<span class="num" id="6610405">0</span><span class="op" id="6610406">}</span><span class="op" id="6610407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610410">{</span><span class="string" id="6610411">&#34;1e9&#34;</span><span class="op" id="6610416">,</span>&nbsp;<span class="builtintype" id="6610418">true</span><span class="op" id="6610422">,</span>&nbsp;<span class="builtintype" id="6610424">true</span><span class="op" id="6610428">,</span>&nbsp;<span class="builtintype" id="6610430">true</span><span class="op" id="6610434">,</span>&nbsp;<span class="builtintype" id="6610436">false</span><span class="op" id="6610441">,</span>&nbsp;<span class="num" id="6610443">1e9</span><span class="op" id="6610446">,</span>&nbsp;<span class="num" id="6610448">1e9</span><span class="op" id="6610451">,</span>&nbsp;<span class="num" id="6610453">1e9</span><span class="op" id="6610456">,</span>&nbsp;<span class="num" id="6610458">0</span><span class="op" id="6610459">}</span><span class="op" id="6610460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610463">{</span><span class="string" id="6610464">&#34;-1e9&#34;</span><span class="op" id="6610470">,</span>&nbsp;<span class="builtintype" id="6610472">true</span><span class="op" id="6610476">,</span>&nbsp;<span class="builtintype" id="6610478">false</span><span class="op" id="6610483">,</span>&nbsp;<span class="builtintype" id="6610485">true</span><span class="op" id="6610489">,</span>&nbsp;<span class="builtintype" id="6610491">false</span><span class="op" id="6610496">,</span>&nbsp;<span class="op" id="6610498">-</span><span class="num" id="6610499">1e9</span><span class="op" id="6610502">,</span>&nbsp;<span class="num" id="6610504">0</span><span class="op" id="6610505">,</span>&nbsp;<span class="op" id="6610507">-</span><span class="num" id="6610508">1e9</span><span class="op" id="6610511">,</span>&nbsp;<span class="num" id="6610513">0</span><span class="op" id="6610514">}</span><span class="op" id="6610515">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610518">{</span><span class="string" id="6610519">&#34;-1.2&#34;</span><span class="op" id="6610525">,</span>&nbsp;<span class="builtintype" id="6610527">false</span><span class="op" id="6610532">,</span>&nbsp;<span class="builtintype" id="6610534">false</span><span class="op" id="6610539">,</span>&nbsp;<span class="builtintype" id="6610541">true</span><span class="op" id="6610545">,</span>&nbsp;<span class="builtintype" id="6610547">false</span><span class="op" id="6610552">,</span>&nbsp;<span class="num" id="6610554">0</span><span class="op" id="6610555">,</span>&nbsp;<span class="num" id="6610557">0</span><span class="op" id="6610558">,</span>&nbsp;<span class="op" id="6610560">-</span><span class="num" id="6610561">1.2</span><span class="op" id="6610564">,</span>&nbsp;<span class="num" id="6610566">0</span><span class="op" id="6610567">}</span><span class="op" id="6610568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610571">{</span><span class="string" id="6610572">&#34;1e19&#34;</span><span class="op" id="6610578">,</span>&nbsp;<span class="builtintype" id="6610580">false</span><span class="op" id="6610585">,</span>&nbsp;<span class="builtintype" id="6610587">true</span><span class="op" id="6610591">,</span>&nbsp;<span class="builtintype" id="6610593">true</span><span class="op" id="6610597">,</span>&nbsp;<span class="builtintype" id="6610599">false</span><span class="op" id="6610604">,</span>&nbsp;<span class="num" id="6610606">0</span><span class="op" id="6610607">,</span>&nbsp;<span class="num" id="6610609">1e19</span><span class="op" id="6610613">,</span>&nbsp;<span class="num" id="6610615">1e19</span><span class="op" id="6610619">,</span>&nbsp;<span class="num" id="6610621">0</span><span class="op" id="6610622">}</span><span class="op" id="6610623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610626">{</span><span class="string" id="6610627">&#34;-1e19&#34;</span><span class="op" id="6610634">,</span>&nbsp;<span class="builtintype" id="6610636">false</span><span class="op" id="6610641">,</span>&nbsp;<span class="builtintype" id="6610643">false</span><span class="op" id="6610648">,</span>&nbsp;<span class="builtintype" id="6610650">true</span><span class="op" id="6610654">,</span>&nbsp;<span class="builtintype" id="6610656">false</span><span class="op" id="6610661">,</span>&nbsp;<span class="num" id="6610663">0</span><span class="op" id="6610664">,</span>&nbsp;<span class="num" id="6610666">0</span><span class="op" id="6610667">,</span>&nbsp;<span class="op" id="6610669">-</span><span class="num" id="6610670">1e19</span><span class="op" id="6610674">,</span>&nbsp;<span class="num" id="6610676">0</span><span class="op" id="6610677">}</span><span class="op" id="6610678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610681">{</span><span class="string" id="6610682">&#34;4i&#34;</span><span class="op" id="6610686">,</span>&nbsp;<span class="builtintype" id="6610688">false</span><span class="op" id="6610693">,</span>&nbsp;<span class="builtintype" id="6610695">false</span><span class="op" id="6610700">,</span>&nbsp;<span class="builtintype" id="6610702">false</span><span class="op" id="6610707">,</span>&nbsp;<span class="builtintype" id="6610709">true</span><span class="op" id="6610713">,</span>&nbsp;<span class="num" id="6610715">0</span><span class="op" id="6610716">,</span>&nbsp;<span class="num" id="6610718">0</span><span class="op" id="6610719">,</span>&nbsp;<span class="num" id="6610721">0</span><span class="op" id="6610722">,</span>&nbsp;<span class="num" id="6610724">4i</span><span class="op" id="6610726">}</span><span class="op" id="6610727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610730">{</span><span class="string" id="6610731">&#34;-1.2+4.2i&#34;</span><span class="op" id="6610742">,</span>&nbsp;<span class="builtintype" id="6610744">false</span><span class="op" id="6610749">,</span>&nbsp;<span class="builtintype" id="6610751">false</span><span class="op" id="6610756">,</span>&nbsp;<span class="builtintype" id="6610758">false</span><span class="op" id="6610763">,</span>&nbsp;<span class="builtintype" id="6610765">true</span><span class="op" id="6610769">,</span>&nbsp;<span class="num" id="6610771">0</span><span class="op" id="6610772">,</span>&nbsp;<span class="num" id="6610774">0</span><span class="op" id="6610775">,</span>&nbsp;<span class="num" id="6610777">0</span><span class="op" id="6610778">,</span>&nbsp;<span class="op" id="6610780">-</span><span class="num" id="6610781">1.2</span>&nbsp;<span class="op" id="6610785">+</span>&nbsp;<span class="num" id="6610787">4.2i</span><span class="op" id="6610791">}</span><span class="op" id="6610792">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610795">{</span><span class="string" id="6610796">&#34;073i&#34;</span><span class="op" id="6610802">,</span>&nbsp;<span class="builtintype" id="6610804">false</span><span class="op" id="6610809">,</span>&nbsp;<span class="builtintype" id="6610811">false</span><span class="op" id="6610816">,</span>&nbsp;<span class="builtintype" id="6610818">false</span><span class="op" id="6610823">,</span>&nbsp;<span class="builtintype" id="6610825">true</span><span class="op" id="6610829">,</span>&nbsp;<span class="num" id="6610831">0</span><span class="op" id="6610832">,</span>&nbsp;<span class="num" id="6610834">0</span><span class="op" id="6610835">,</span>&nbsp;<span class="num" id="6610837">0</span><span class="op" id="6610838">,</span>&nbsp;<span class="num" id="6610840">73i</span><span class="op" id="6610843">}</span><span class="op" id="6610844">,</span>&nbsp;<span class="comment" id="6610846">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6610861">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610920">{</span><span class="string" id="6610921">&#34;0i&#34;</span><span class="op" id="6610925">,</span>&nbsp;<span class="builtintype" id="6610927">true</span><span class="op" id="6610931">,</span>&nbsp;<span class="builtintype" id="6610933">true</span><span class="op" id="6610937">,</span>&nbsp;<span class="builtintype" id="6610939">true</span><span class="op" id="6610943">,</span>&nbsp;<span class="builtintype" id="6610945">true</span><span class="op" id="6610949">,</span>&nbsp;<span class="num" id="6610951">0</span><span class="op" id="6610952">,</span>&nbsp;<span class="num" id="6610954">0</span><span class="op" id="6610955">,</span>&nbsp;<span class="num" id="6610957">0</span><span class="op" id="6610958">,</span>&nbsp;<span class="num" id="6610960">0</span><span class="op" id="6610961">}</span><span class="op" id="6610962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610965">{</span><span class="string" id="6610966">&#34;-1.2+0i&#34;</span><span class="op" id="6610975">,</span>&nbsp;<span class="builtintype" id="6610977">false</span><span class="op" id="6610982">,</span>&nbsp;<span class="builtintype" id="6610984">false</span><span class="op" id="6610989">,</span>&nbsp;<span class="builtintype" id="6610991">true</span><span class="op" id="6610995">,</span>&nbsp;<span class="builtintype" id="6610997">true</span><span class="op" id="6611001">,</span>&nbsp;<span class="num" id="6611003">0</span><span class="op" id="6611004">,</span>&nbsp;<span class="num" id="6611006">0</span><span class="op" id="6611007">,</span>&nbsp;<span class="op" id="6611009">-</span><span class="num" id="6611010">1.2</span><span class="op" id="6611013">,</span>&nbsp;<span class="op" id="6611015">-</span><span class="num" id="6611016">1.2</span><span class="op" id="6611019">}</span><span class="op" id="6611020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611023">{</span><span class="string" id="6611024">&#34;-12+0i&#34;</span><span class="op" id="6611032">,</span>&nbsp;<span class="builtintype" id="6611034">true</span><span class="op" id="6611038">,</span>&nbsp;<span class="builtintype" id="6611040">false</span><span class="op" id="6611045">,</span>&nbsp;<span class="builtintype" id="6611047">true</span><span class="op" id="6611051">,</span>&nbsp;<span class="builtintype" id="6611053">true</span><span class="op" id="6611057">,</span>&nbsp;<span class="op" id="6611059">-</span><span class="num" id="6611060">12</span><span class="op" id="6611062">,</span>&nbsp;<span class="num" id="6611064">0</span><span class="op" id="6611065">,</span>&nbsp;<span class="op" id="6611067">-</span><span class="num" id="6611068">12</span><span class="op" id="6611070">,</span>&nbsp;<span class="op" id="6611072">-</span><span class="num" id="6611073">12</span><span class="op" id="6611075">}</span><span class="op" id="6611076">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611079">{</span><span class="string" id="6611080">&#34;13+0i&#34;</span><span class="op" id="6611087">,</span>&nbsp;<span class="builtintype" id="6611089">true</span><span class="op" id="6611093">,</span>&nbsp;<span class="builtintype" id="6611095">true</span><span class="op" id="6611099">,</span>&nbsp;<span class="builtintype" id="6611101">true</span><span class="op" id="6611105">,</span>&nbsp;<span class="builtintype" id="6611107">true</span><span class="op" id="6611111">,</span>&nbsp;<span class="num" id="6611113">13</span><span class="op" id="6611115">,</span>&nbsp;<span class="num" id="6611117">13</span><span class="op" id="6611119">,</span>&nbsp;<span class="num" id="6611121">13</span><span class="op" id="6611123">,</span>&nbsp;<span class="num" id="6611125">13</span><span class="op" id="6611127">}</span><span class="op" id="6611128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611131">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611147">{</span><span class="string" id="6611148">&#34;0123&#34;</span><span class="op" id="6611154">,</span>&nbsp;<span class="builtintype" id="6611156">true</span><span class="op" id="6611160">,</span>&nbsp;<span class="builtintype" id="6611162">true</span><span class="op" id="6611166">,</span>&nbsp;<span class="builtintype" id="6611168">true</span><span class="op" id="6611172">,</span>&nbsp;<span class="builtintype" id="6611174">false</span><span class="op" id="6611179">,</span>&nbsp;<span class="num" id="6611181">0123</span><span class="op" id="6611185">,</span>&nbsp;<span class="num" id="6611187">0123</span><span class="op" id="6611191">,</span>&nbsp;<span class="num" id="6611193">0123</span><span class="op" id="6611197">,</span>&nbsp;<span class="num" id="6611199">0</span><span class="op" id="6611200">}</span><span class="op" id="6611201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611204">{</span><span class="string" id="6611205">&#34;-0x0&#34;</span><span class="op" id="6611211">,</span>&nbsp;<span class="builtintype" id="6611213">true</span><span class="op" id="6611217">,</span>&nbsp;<span class="builtintype" id="6611219">true</span><span class="op" id="6611223">,</span>&nbsp;<span class="builtintype" id="6611225">true</span><span class="op" id="6611229">,</span>&nbsp;<span class="builtintype" id="6611231">false</span><span class="op" id="6611236">,</span>&nbsp;<span class="num" id="6611238">0</span><span class="op" id="6611239">,</span>&nbsp;<span class="num" id="6611241">0</span><span class="op" id="6611242">,</span>&nbsp;<span class="num" id="6611244">0</span><span class="op" id="6611245">,</span>&nbsp;<span class="num" id="6611247">0</span><span class="op" id="6611248">}</span><span class="op" id="6611249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611252">{</span><span class="string" id="6611253">&#34;0xdeadbeef&#34;</span><span class="op" id="6611265">,</span>&nbsp;<span class="builtintype" id="6611267">true</span><span class="op" id="6611271">,</span>&nbsp;<span class="builtintype" id="6611273">true</span><span class="op" id="6611277">,</span>&nbsp;<span class="builtintype" id="6611279">true</span><span class="op" id="6611283">,</span>&nbsp;<span class="builtintype" id="6611285">false</span><span class="op" id="6611290">,</span>&nbsp;<span class="num" id="6611292">0xdeadbeef</span><span class="op" id="6611302">,</span>&nbsp;<span class="num" id="6611304">0xdeadbeef</span><span class="op" id="6611314">,</span>&nbsp;<span class="num" id="6611316">0xdeadbeef</span><span class="op" id="6611326">,</span>&nbsp;<span class="num" id="6611328">0</span><span class="op" id="6611329">}</span><span class="op" id="6611330">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611333">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611357">{</span><span class="string" id="6611358">`&#39;a&#39;`</span><span class="op" id="6611363">,</span>&nbsp;<span class="builtintype" id="6611365">true</span><span class="op" id="6611369">,</span>&nbsp;<span class="builtintype" id="6611371">true</span><span class="op" id="6611375">,</span>&nbsp;<span class="builtintype" id="6611377">true</span><span class="op" id="6611381">,</span>&nbsp;<span class="builtintype" id="6611383">false</span><span class="op" id="6611388">,</span>&nbsp;<span class="string" id="6611390">&#39;a&#39;</span><span class="op" id="6611393">,</span>&nbsp;<span class="string" id="6611395">&#39;a&#39;</span><span class="op" id="6611398">,</span>&nbsp;<span class="string" id="6611400">&#39;a&#39;</span><span class="op" id="6611403">,</span>&nbsp;<span class="num" id="6611405">0</span><span class="op" id="6611406">}</span><span class="op" id="6611407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611410">{</span><span class="string" id="6611411">`&#39;\n&#39;`</span><span class="op" id="6611417">,</span>&nbsp;<span class="builtintype" id="6611419">true</span><span class="op" id="6611423">,</span>&nbsp;<span class="builtintype" id="6611425">true</span><span class="op" id="6611429">,</span>&nbsp;<span class="builtintype" id="6611431">true</span><span class="op" id="6611435">,</span>&nbsp;<span class="builtintype" id="6611437">false</span><span class="op" id="6611442">,</span>&nbsp;<span class="string" id="6611444">&#39;\n&#39;</span><span class="op" id="6611448">,</span>&nbsp;<span class="string" id="6611450">&#39;\n&#39;</span><span class="op" id="6611454">,</span>&nbsp;<span class="string" id="6611456">&#39;\n&#39;</span><span class="op" id="6611460">,</span>&nbsp;<span class="num" id="6611462">0</span><span class="op" id="6611463">}</span><span class="op" id="6611464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611467">{</span><span class="string" id="6611468">`&#39;\\&#39;`</span><span class="op" id="6611474">,</span>&nbsp;<span class="builtintype" id="6611476">true</span><span class="op" id="6611480">,</span>&nbsp;<span class="builtintype" id="6611482">true</span><span class="op" id="6611486">,</span>&nbsp;<span class="builtintype" id="6611488">true</span><span class="op" id="6611492">,</span>&nbsp;<span class="builtintype" id="6611494">false</span><span class="op" id="6611499">,</span>&nbsp;<span class="string" id="6611501">&#39;\\&#39;</span><span class="op" id="6611505">,</span>&nbsp;<span class="string" id="6611507">&#39;\\&#39;</span><span class="op" id="6611511">,</span>&nbsp;<span class="string" id="6611513">&#39;\\&#39;</span><span class="op" id="6611517">,</span>&nbsp;<span class="num" id="6611519">0</span><span class="op" id="6611520">}</span><span class="op" id="6611521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611524">{</span><span class="string" id="6611525">`&#39;\&#39;&#39;`</span><span class="op" id="6611531">,</span>&nbsp;<span class="builtintype" id="6611533">true</span><span class="op" id="6611537">,</span>&nbsp;<span class="builtintype" id="6611539">true</span><span class="op" id="6611543">,</span>&nbsp;<span class="builtintype" id="6611545">true</span><span class="op" id="6611549">,</span>&nbsp;<span class="builtintype" id="6611551">false</span><span class="op" id="6611556">,</span>&nbsp;<span class="string" id="6611558">&#39;\&#39;&#39;</span><span class="op" id="6611562">,</span>&nbsp;<span class="string" id="6611564">&#39;\&#39;&#39;</span><span class="op" id="6611568">,</span>&nbsp;<span class="string" id="6611570">&#39;\&#39;&#39;</span><span class="op" id="6611574">,</span>&nbsp;<span class="num" id="6611576">0</span><span class="op" id="6611577">}</span><span class="op" id="6611578">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611581">{</span><span class="string" id="6611582">`&#39;\xFF&#39;`</span><span class="op" id="6611590">,</span>&nbsp;<span class="builtintype" id="6611592">true</span><span class="op" id="6611596">,</span>&nbsp;<span class="builtintype" id="6611598">true</span><span class="op" id="6611602">,</span>&nbsp;<span class="builtintype" id="6611604">true</span><span class="op" id="6611608">,</span>&nbsp;<span class="builtintype" id="6611610">false</span><span class="op" id="6611615">,</span>&nbsp;<span class="num" id="6611617">0xFF</span><span class="op" id="6611621">,</span>&nbsp;<span class="num" id="6611623">0xFF</span><span class="op" id="6611627">,</span>&nbsp;<span class="num" id="6611629">0xFF</span><span class="op" id="6611633">,</span>&nbsp;<span class="num" id="6611635">0</span><span class="op" id="6611636">}</span><span class="op" id="6611637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611640">{</span><span class="string" id="6611641">`&#39;ãƒ‘&#39;`</span><span class="op" id="6611648">,</span>&nbsp;<span class="builtintype" id="6611650">true</span><span class="op" id="6611654">,</span>&nbsp;<span class="builtintype" id="6611656">true</span><span class="op" id="6611660">,</span>&nbsp;<span class="builtintype" id="6611662">true</span><span class="op" id="6611666">,</span>&nbsp;<span class="builtintype" id="6611668">false</span><span class="op" id="6611673">,</span>&nbsp;<span class="num" id="6611675">0x30d1</span><span class="op" id="6611681">,</span>&nbsp;<span class="num" id="6611683">0x30d1</span><span class="op" id="6611689">,</span>&nbsp;<span class="num" id="6611691">0x30d1</span><span class="op" id="6611697">,</span>&nbsp;<span class="num" id="6611699">0</span><span class="op" id="6611700">}</span><span class="op" id="6611701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611704">{</span><span class="string" id="6611705">`&#39;\u30d1&#39;`</span><span class="op" id="6611715">,</span>&nbsp;<span class="builtintype" id="6611717">true</span><span class="op" id="6611721">,</span>&nbsp;<span class="builtintype" id="6611723">true</span><span class="op" id="6611727">,</span>&nbsp;<span class="builtintype" id="6611729">true</span><span class="op" id="6611733">,</span>&nbsp;<span class="builtintype" id="6611735">false</span><span class="op" id="6611740">,</span>&nbsp;<span class="num" id="6611742">0x30d1</span><span class="op" id="6611748">,</span>&nbsp;<span class="num" id="6611750">0x30d1</span><span class="op" id="6611756">,</span>&nbsp;<span class="num" id="6611758">0x30d1</span><span class="op" id="6611764">,</span>&nbsp;<span class="num" id="6611766">0</span><span class="op" id="6611767">}</span><span class="op" id="6611768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611771">{</span><span class="string" id="6611772">`&#39;\U000030d1&#39;`</span><span class="op" id="6611786">,</span>&nbsp;<span class="builtintype" id="6611788">true</span><span class="op" id="6611792">,</span>&nbsp;<span class="builtintype" id="6611794">true</span><span class="op" id="6611798">,</span>&nbsp;<span class="builtintype" id="6611800">true</span><span class="op" id="6611804">,</span>&nbsp;<span class="builtintype" id="6611806">false</span><span class="op" id="6611811">,</span>&nbsp;<span class="num" id="6611813">0x30d1</span><span class="op" id="6611819">,</span>&nbsp;<span class="num" id="6611821">0x30d1</span><span class="op" id="6611827">,</span>&nbsp;<span class="num" id="6611829">0x30d1</span><span class="op" id="6611835">,</span>&nbsp;<span class="num" id="6611837">0</span><span class="op" id="6611838">}</span><span class="op" id="6611839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611842">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611865">{</span><span class="ident" id="6611866">text</span><span class="op" id="6611870">:</span>&nbsp;<span class="string" id="6611872">&#34;+-2&#34;</span><span class="op" id="6611877">}</span><span class="op" id="6611878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611881">{</span><span class="ident" id="6611882">text</span><span class="op" id="6611886">:</span>&nbsp;<span class="string" id="6611888">&#34;0x123.&#34;</span><span class="op" id="6611896">}</span><span class="op" id="6611897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611900">{</span><span class="ident" id="6611901">text</span><span class="op" id="6611905">:</span>&nbsp;<span class="string" id="6611907">&#34;1e.&#34;</span><span class="op" id="6611912">}</span><span class="op" id="6611913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611916">{</span><span class="ident" id="6611917">text</span><span class="op" id="6611921">:</span>&nbsp;<span class="string" id="6611923">&#34;0xi.&#34;</span><span class="op" id="6611929">}</span><span class="op" id="6611930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611933">{</span><span class="ident" id="6611934">text</span><span class="op" id="6611938">:</span>&nbsp;<span class="string" id="6611940">&#34;1+2.&#34;</span><span class="op" id="6611946">}</span><span class="op" id="6611947">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611950">{</span><span class="ident" id="6611951">text</span><span class="op" id="6611955">:</span>&nbsp;<span class="string" id="6611957">&#34;&#39;x&#34;</span><span class="op" id="6611961">}</span><span class="op" id="6611962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611965">{</span><span class="ident" id="6611966">text</span><span class="op" id="6611970">:</span>&nbsp;<span class="string" id="6611972">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6611978">}</span><span class="op" id="6611979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611982">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612048">{</span><span class="string" id="6612049">&#34;0xef&#34;</span><span class="op" id="6612055">,</span>&nbsp;<span class="builtintype" id="6612057">true</span><span class="op" id="6612061">,</span>&nbsp;<span class="builtintype" id="6612063">true</span><span class="op" id="6612067">,</span>&nbsp;<span class="builtintype" id="6612069">true</span><span class="op" id="6612073">,</span>&nbsp;<span class="builtintype" id="6612075">false</span><span class="op" id="6612080">,</span>&nbsp;<span class="num" id="6612082">0xef</span><span class="op" id="6612086">,</span>&nbsp;<span class="num" id="6612088">0xef</span><span class="op" id="6612092">,</span>&nbsp;<span class="num" id="6612094">0xef</span><span class="op" id="6612098">,</span>&nbsp;<span class="num" id="6612100">0</span><span class="op" id="6612101">}</span><span class="op" id="6612102">,</span><br>
<span class="lineno"></span><span class="op" id="6612104">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6612107">func</span>&nbsp;<span class="ident" id="6612112">TestNumberParse</span><span class="op" id="6612127">(</span><span class="ident" id="6612128">t</span>&nbsp;<span class="op" id="6612130">*</span><span class="ident" id="6612131">testing</span><span class="op" id="6612138">.</span><span class="ident" id="6612139">T</span><span class="op" id="6612140">)</span>&nbsp;<span class="op" id="6612142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612145">for</span>&nbsp;<span class="ident" id="6612149">_</span><span class="op" id="6612150">,</span>&nbsp;<span class="ident" id="6612152">test</span>&nbsp;<span class="op" id="6612157">:=</span>&nbsp;<span class="keyword" id="6612160">range</span>&nbsp;<span class="ident" id="6612166">numberTests</span>&nbsp;<span class="op" id="6612178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6612182">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6612262">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612308">var</span>&nbsp;<span class="ident" id="6612312">c</span>&nbsp;<span class="builtintype" id="6612314">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612327">typ</span>&nbsp;<span class="op" id="6612331">:=</span>&nbsp;<span class="ident" id="6612334">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612347">var</span>&nbsp;<span class="ident" id="6612351">tree</span>&nbsp;<span class="op" id="6612356">*</span><span class="ident" id="6612357">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612364">if</span>&nbsp;<span class="ident" id="6612367">test</span><span class="op" id="6612371">.</span><span class="ident" id="6612372">text</span><span class="op" id="6612376">[</span><span class="num" id="6612377">0</span><span class="op" id="6612378">]</span>&nbsp;<span class="op" id="6612380">==</span>&nbsp;<span class="string" id="6612383">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6612388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612393">typ</span>&nbsp;<span class="op" id="6612397">=</span>&nbsp;<span class="ident" id="6612399">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612418">}</span>&nbsp;<span class="keyword" id="6612420">else</span>&nbsp;<span class="op" id="6612425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612430">_</span><span class="op" id="6612431">,</span>&nbsp;<span class="ident" id="6612433">err</span>&nbsp;<span class="op" id="6612437">:=</span>&nbsp;<span class="ident" id="6612440">fmt</span><span class="op" id="6612443">.</span><span class="ident" id="6612444">Sscan</span><span class="op" id="6612449">(</span><span class="ident" id="6612450">test</span><span class="op" id="6612454">.</span><span class="ident" id="6612455">text</span><span class="op" id="6612459">,</span>&nbsp;<span class="op" id="6612461">&amp;</span><span class="ident" id="6612462">c</span><span class="op" id="6612463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612468">if</span>&nbsp;<span class="ident" id="6612471">err</span>&nbsp;<span class="op" id="6612475">==</span>&nbsp;<span class="ident" id="6612478">nil</span>&nbsp;<span class="op" id="6612482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612488">typ</span>&nbsp;<span class="op" id="6612492">=</span>&nbsp;<span class="ident" id="6612494">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612509">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612517">n</span><span class="op" id="6612518">,</span>&nbsp;<span class="ident" id="6612520">err</span>&nbsp;<span class="op" id="6612524">:=</span>&nbsp;<span class="ident" id="6612527">tree</span><span class="op" id="6612531">.</span><span class="ident" id="6612532">newNumber</span><span class="op" id="6612541">(</span><span class="num" id="6612542">0</span><span class="op" id="6612543">,</span>&nbsp;<span class="ident" id="6612545">test</span><span class="op" id="6612549">.</span><span class="ident" id="6612550">text</span><span class="op" id="6612554">,</span>&nbsp;<span class="ident" id="6612556">typ</span><span class="op" id="6612559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612563">ok</span>&nbsp;<span class="op" id="6612566">:=</span>&nbsp;<span class="ident" id="6612569">test</span><span class="op" id="6612573">.</span><span class="ident" id="6612574">isInt</span>&nbsp;<span class="op" id="6612580">||</span>&nbsp;<span class="ident" id="6612583">test</span><span class="op" id="6612587">.</span><span class="ident" id="6612588">isUint</span>&nbsp;<span class="op" id="6612595">||</span>&nbsp;<span class="ident" id="6612598">test</span><span class="op" id="6612602">.</span><span class="ident" id="6612603">isFloat</span>&nbsp;<span class="op" id="6612611">||</span>&nbsp;<span class="ident" id="6612614">test</span><span class="op" id="6612618">.</span><span class="ident" id="6612619">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612631">if</span>&nbsp;<span class="ident" id="6612634">ok</span>&nbsp;<span class="op" id="6612637">&amp;&amp;</span>&nbsp;<span class="ident" id="6612640">err</span>&nbsp;<span class="op" id="6612644">!=</span>&nbsp;<span class="ident" id="6612647">nil</span>&nbsp;<span class="op" id="6612651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612656">t</span><span class="op" id="6612657">.</span><span class="ident" id="6612658">Errorf</span><span class="op" id="6612664">(</span><span class="string" id="6612665">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6612694">,</span>&nbsp;<span class="ident" id="6612696">test</span><span class="op" id="6612700">.</span><span class="ident" id="6612701">text</span><span class="op" id="6612705">,</span>&nbsp;<span class="ident" id="6612707">err</span><span class="op" id="6612710">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612715">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612730">if</span>&nbsp;<span class="op" id="6612733">!</span><span class="ident" id="6612734">ok</span>&nbsp;<span class="op" id="6612737">&amp;&amp;</span>&nbsp;<span class="ident" id="6612740">err</span>&nbsp;<span class="op" id="6612744">==</span>&nbsp;<span class="ident" id="6612747">nil</span>&nbsp;<span class="op" id="6612751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612756">t</span><span class="op" id="6612757">.</span><span class="ident" id="6612758">Errorf</span><span class="op" id="6612764">(</span><span class="string" id="6612765">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6612788">,</span>&nbsp;<span class="ident" id="6612790">test</span><span class="op" id="6612794">.</span><span class="ident" id="6612795">text</span><span class="op" id="6612799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612804">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612819">if</span>&nbsp;<span class="op" id="6612822">!</span><span class="ident" id="6612823">ok</span>&nbsp;<span class="op" id="6612826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612831">if</span>&nbsp;<span class="op" id="6612834">*</span><span class="ident" id="6612835">debug</span>&nbsp;<span class="op" id="6612841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612847">fmt</span><span class="op" id="6612850">.</span><span class="ident" id="6612851">Printf</span><span class="op" id="6612857">(</span><span class="string" id="6612858">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6612870">,</span>&nbsp;<span class="ident" id="6612872">test</span><span class="op" id="6612876">.</span><span class="ident" id="6612877">text</span><span class="op" id="6612881">,</span>&nbsp;<span class="ident" id="6612883">err</span><span class="op" id="6612886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612891">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612896">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6612911">if</span>&nbsp;<span class="ident" id="6612914">n</span><span class="op" id="6612915">.</span><span class="ident" id="6612916">IsComplex</span>&nbsp;<span class="op" id="6612926">!=</span>&nbsp;<span class="ident" id="6612929">test</span><span class="op" id="6612933">.</span><span class="ident" id="6612934">isComplex</span>&nbsp;<span class="op" id="6612944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6612949">t</span><span class="op" id="6612950">.</span><span class="ident" id="6612951">Errorf</span><span class="op" id="6612957">(</span><span class="string" id="6612958">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6612998">,</span>&nbsp;<span class="ident" id="6613000">test</span><span class="op" id="6613004">.</span><span class="ident" id="6613005">text</span><span class="op" id="6613009">,</span>&nbsp;<span class="ident" id="6613011">test</span><span class="op" id="6613015">.</span><span class="ident" id="6613016">isComplex</span><span class="op" id="6613025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613029">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613033">if</span>&nbsp;<span class="ident" id="6613036">test</span><span class="op" id="6613040">.</span><span class="ident" id="6613041">isInt</span>&nbsp;<span class="op" id="6613047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613052">if</span>&nbsp;<span class="op" id="6613055">!</span><span class="ident" id="6613056">n</span><span class="op" id="6613057">.</span><span class="ident" id="6613058">IsInt</span>&nbsp;<span class="op" id="6613064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613070">t</span><span class="op" id="6613071">.</span><span class="ident" id="6613072">Errorf</span><span class="op" id="6613078">(</span><span class="string" id="6613079">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613104">,</span>&nbsp;<span class="ident" id="6613106">test</span><span class="op" id="6613110">.</span><span class="ident" id="6613111">text</span><span class="op" id="6613115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613125">if</span>&nbsp;<span class="ident" id="6613128">n</span><span class="op" id="6613129">.</span><span class="ident" id="6613130">Int64</span>&nbsp;<span class="op" id="6613136">!=</span>&nbsp;<span class="ident" id="6613139">test</span><span class="op" id="6613143">.</span><span class="ident" id="6613144">int64</span>&nbsp;<span class="op" id="6613150">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613156">t</span><span class="op" id="6613157">.</span><span class="ident" id="6613158">Errorf</span><span class="op" id="6613164">(</span><span class="string" id="6613165">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6613198">,</span>&nbsp;<span class="ident" id="6613200">test</span><span class="op" id="6613204">.</span><span class="ident" id="6613205">text</span><span class="op" id="6613209">,</span>&nbsp;<span class="ident" id="6613211">test</span><span class="op" id="6613215">.</span><span class="ident" id="6613216">int64</span><span class="op" id="6613221">,</span>&nbsp;<span class="ident" id="6613223">n</span><span class="op" id="6613224">.</span><span class="ident" id="6613225">Int64</span><span class="op" id="6613230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613239">}</span>&nbsp;<span class="keyword" id="6613241">else</span>&nbsp;<span class="keyword" id="6613246">if</span>&nbsp;<span class="ident" id="6613249">n</span><span class="op" id="6613250">.</span><span class="ident" id="6613251">IsInt</span>&nbsp;<span class="op" id="6613257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613262">t</span><span class="op" id="6613263">.</span><span class="ident" id="6613264">Errorf</span><span class="op" id="6613270">(</span><span class="string" id="6613271">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613302">,</span>&nbsp;<span class="ident" id="6613304">test</span><span class="op" id="6613308">.</span><span class="ident" id="6613309">text</span><span class="op" id="6613313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613317">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613321">if</span>&nbsp;<span class="ident" id="6613324">test</span><span class="op" id="6613328">.</span><span class="ident" id="6613329">isUint</span>&nbsp;<span class="op" id="6613336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613341">if</span>&nbsp;<span class="op" id="6613344">!</span><span class="ident" id="6613345">n</span><span class="op" id="6613346">.</span><span class="ident" id="6613347">IsUint</span>&nbsp;<span class="op" id="6613354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613360">t</span><span class="op" id="6613361">.</span><span class="ident" id="6613362">Errorf</span><span class="op" id="6613368">(</span><span class="string" id="6613369">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613403">,</span>&nbsp;<span class="ident" id="6613405">test</span><span class="op" id="6613409">.</span><span class="ident" id="6613410">text</span><span class="op" id="6613414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613424">if</span>&nbsp;<span class="ident" id="6613427">n</span><span class="op" id="6613428">.</span><span class="ident" id="6613429">Uint64</span>&nbsp;<span class="op" id="6613436">!=</span>&nbsp;<span class="ident" id="6613439">test</span><span class="op" id="6613443">.</span><span class="ident" id="6613444">uint64</span>&nbsp;<span class="op" id="6613451">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613457">t</span><span class="op" id="6613458">.</span><span class="ident" id="6613459">Errorf</span><span class="op" id="6613465">(</span><span class="string" id="6613466">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6613500">,</span>&nbsp;<span class="ident" id="6613502">test</span><span class="op" id="6613506">.</span><span class="ident" id="6613507">text</span><span class="op" id="6613511">,</span>&nbsp;<span class="ident" id="6613513">test</span><span class="op" id="6613517">.</span><span class="ident" id="6613518">uint64</span><span class="op" id="6613524">,</span>&nbsp;<span class="ident" id="6613526">n</span><span class="op" id="6613527">.</span><span class="ident" id="6613528">Uint64</span><span class="op" id="6613534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613543">}</span>&nbsp;<span class="keyword" id="6613545">else</span>&nbsp;<span class="keyword" id="6613550">if</span>&nbsp;<span class="ident" id="6613553">n</span><span class="op" id="6613554">.</span><span class="ident" id="6613555">IsUint</span>&nbsp;<span class="op" id="6613562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613567">t</span><span class="op" id="6613568">.</span><span class="ident" id="6613569">Errorf</span><span class="op" id="6613575">(</span><span class="string" id="6613576">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613616">,</span>&nbsp;<span class="ident" id="6613618">test</span><span class="op" id="6613622">.</span><span class="ident" id="6613623">text</span><span class="op" id="6613627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613631">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613635">if</span>&nbsp;<span class="ident" id="6613638">test</span><span class="op" id="6613642">.</span><span class="ident" id="6613643">isFloat</span>&nbsp;<span class="op" id="6613651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613656">if</span>&nbsp;<span class="op" id="6613659">!</span><span class="ident" id="6613660">n</span><span class="op" id="6613661">.</span><span class="ident" id="6613662">IsFloat</span>&nbsp;<span class="op" id="6613670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613676">t</span><span class="op" id="6613677">.</span><span class="ident" id="6613678">Errorf</span><span class="op" id="6613684">(</span><span class="string" id="6613685">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613708">,</span>&nbsp;<span class="ident" id="6613710">test</span><span class="op" id="6613714">.</span><span class="ident" id="6613715">text</span><span class="op" id="6613719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613729">if</span>&nbsp;<span class="ident" id="6613732">n</span><span class="op" id="6613733">.</span><span class="ident" id="6613734">Float64</span>&nbsp;<span class="op" id="6613742">!=</span>&nbsp;<span class="ident" id="6613745">test</span><span class="op" id="6613749">.</span><span class="builtintype" id="6613750">float64</span>&nbsp;<span class="op" id="6613758">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613764">t</span><span class="op" id="6613765">.</span><span class="ident" id="6613766">Errorf</span><span class="op" id="6613772">(</span><span class="string" id="6613773">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6613808">,</span>&nbsp;<span class="ident" id="6613810">test</span><span class="op" id="6613814">.</span><span class="ident" id="6613815">text</span><span class="op" id="6613819">,</span>&nbsp;<span class="ident" id="6613821">test</span><span class="op" id="6613825">.</span><span class="builtintype" id="6613826">float64</span><span class="op" id="6613833">,</span>&nbsp;<span class="ident" id="6613835">n</span><span class="op" id="6613836">.</span><span class="ident" id="6613837">Float64</span><span class="op" id="6613844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613853">}</span>&nbsp;<span class="keyword" id="6613855">else</span>&nbsp;<span class="keyword" id="6613860">if</span>&nbsp;<span class="ident" id="6613863">n</span><span class="op" id="6613864">.</span><span class="ident" id="6613865">IsFloat</span>&nbsp;<span class="op" id="6613873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613878">t</span><span class="op" id="6613879">.</span><span class="ident" id="6613880">Errorf</span><span class="op" id="6613886">(</span><span class="string" id="6613887">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6613916">,</span>&nbsp;<span class="ident" id="6613918">test</span><span class="op" id="6613922">.</span><span class="ident" id="6613923">text</span><span class="op" id="6613927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613931">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613935">if</span>&nbsp;<span class="ident" id="6613938">test</span><span class="op" id="6613942">.</span><span class="ident" id="6613943">isComplex</span>&nbsp;<span class="op" id="6613953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6613958">if</span>&nbsp;<span class="op" id="6613961">!</span><span class="ident" id="6613962">n</span><span class="op" id="6613963">.</span><span class="ident" id="6613964">IsComplex</span>&nbsp;<span class="op" id="6613974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613980">t</span><span class="op" id="6613981">.</span><span class="ident" id="6613982">Errorf</span><span class="op" id="6613988">(</span><span class="string" id="6613989">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6614014">,</span>&nbsp;<span class="ident" id="6614016">test</span><span class="op" id="6614020">.</span><span class="ident" id="6614021">text</span><span class="op" id="6614025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614035">if</span>&nbsp;<span class="ident" id="6614038">n</span><span class="op" id="6614039">.</span><span class="ident" id="6614040">Complex128</span>&nbsp;<span class="op" id="6614051">!=</span>&nbsp;<span class="ident" id="6614054">test</span><span class="op" id="6614058">.</span><span class="builtintype" id="6614059">complex128</span>&nbsp;<span class="op" id="6614070">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614076">t</span><span class="op" id="6614077">.</span><span class="ident" id="6614078">Errorf</span><span class="op" id="6614084">(</span><span class="string" id="6614085">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6614123">,</span>&nbsp;<span class="ident" id="6614125">test</span><span class="op" id="6614129">.</span><span class="ident" id="6614130">text</span><span class="op" id="6614134">,</span>&nbsp;<span class="ident" id="6614136">test</span><span class="op" id="6614140">.</span><span class="builtintype" id="6614141">complex128</span><span class="op" id="6614151">,</span>&nbsp;<span class="ident" id="6614153">n</span><span class="op" id="6614154">.</span><span class="ident" id="6614155">Complex128</span><span class="op" id="6614165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614174">}</span>&nbsp;<span class="keyword" id="6614176">else</span>&nbsp;<span class="keyword" id="6614181">if</span>&nbsp;<span class="ident" id="6614184">n</span><span class="op" id="6614185">.</span><span class="ident" id="6614186">IsComplex</span>&nbsp;<span class="op" id="6614196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614201">t</span><span class="op" id="6614202">.</span><span class="ident" id="6614203">Errorf</span><span class="op" id="6614209">(</span><span class="string" id="6614210">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6614241">,</span>&nbsp;<span class="ident" id="6614243">test</span><span class="op" id="6614247">.</span><span class="ident" id="6614248">text</span><span class="op" id="6614252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614256">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614259">}</span><br>
<span class="lineno"></span><span class="op" id="6614261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614264">type</span>&nbsp;<span class="ident" id="6614269">parseTest</span>&nbsp;<span class="keyword" id="6614279">struct</span>&nbsp;<span class="op" id="6614286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614289">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6614296">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614304">input</span>&nbsp;&nbsp;<span class="builtintype" id="6614311">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614319">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6614326">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614332">result</span>&nbsp;<span class="builtintype" id="6614339">string</span>&nbsp;<span class="comment" id="6614346">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6614394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6614397">const</span>&nbsp;<span class="op" id="6614403">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614406">noError</span>&nbsp;&nbsp;<span class="op" id="6614415">=</span>&nbsp;<span class="builtintype" id="6614417">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614423">hasError</span>&nbsp;<span class="op" id="6614432">=</span>&nbsp;<span class="builtintype" id="6614434">false</span><br>
<span class="lineno"></span><span class="op" id="6614440">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6614443">var</span>&nbsp;<span class="ident" id="6614447">parseTests</span>&nbsp;<span class="op" id="6614458">=</span>&nbsp;<span class="op" id="6614460">[</span><span class="op" id="6614461">]</span><span class="ident" id="6614462">parseTest</span><span class="op" id="6614471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614474">{</span><span class="string" id="6614475">&#34;empty&#34;</span><span class="op" id="6614482">,</span>&nbsp;<span class="string" id="6614484">&#34;&#34;</span><span class="op" id="6614486">,</span>&nbsp;<span class="ident" id="6614488">noError</span><span class="op" id="6614495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614499">``</span><span class="op" id="6614501">}</span><span class="op" id="6614502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614505">{</span><span class="string" id="6614506">&#34;comment&#34;</span><span class="op" id="6614515">,</span>&nbsp;<span class="string" id="6614517">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6614533">,</span>&nbsp;<span class="ident" id="6614535">noError</span><span class="op" id="6614542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614546">``</span><span class="op" id="6614548">}</span><span class="op" id="6614549">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614552">{</span><span class="string" id="6614553">&#34;spaces&#34;</span><span class="op" id="6614561">,</span>&nbsp;<span class="string" id="6614563">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6614570">,</span>&nbsp;<span class="ident" id="6614572">noError</span><span class="op" id="6614579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614583">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6614592">}</span><span class="op" id="6614593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614596">{</span><span class="string" id="6614597">&#34;text&#34;</span><span class="op" id="6614603">,</span>&nbsp;<span class="string" id="6614605">&#34;some&nbsp;text&#34;</span><span class="op" id="6614616">,</span>&nbsp;<span class="ident" id="6614618">noError</span><span class="op" id="6614625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614629">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6614642">}</span><span class="op" id="6614643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614646">{</span><span class="string" id="6614647">&#34;emptyAction&#34;</span><span class="op" id="6614660">,</span>&nbsp;<span class="string" id="6614662">&#34;{{}}&#34;</span><span class="op" id="6614668">,</span>&nbsp;<span class="ident" id="6614670">hasError</span><span class="op" id="6614678">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614682">`{{}}`</span><span class="op" id="6614688">}</span><span class="op" id="6614689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614692">{</span><span class="string" id="6614693">&#34;field&#34;</span><span class="op" id="6614700">,</span>&nbsp;<span class="string" id="6614702">&#34;{{.X}}&#34;</span><span class="op" id="6614710">,</span>&nbsp;<span class="ident" id="6614712">noError</span><span class="op" id="6614719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614723">`{{.X}}`</span><span class="op" id="6614731">}</span><span class="op" id="6614732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614735">{</span><span class="string" id="6614736">&#34;simple&nbsp;command&#34;</span><span class="op" id="6614752">,</span>&nbsp;<span class="string" id="6614754">&#34;{{printf}}&#34;</span><span class="op" id="6614766">,</span>&nbsp;<span class="ident" id="6614768">noError</span><span class="op" id="6614775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614779">`{{printf}}`</span><span class="op" id="6614791">}</span><span class="op" id="6614792">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614795">{</span><span class="string" id="6614796">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6614810">,</span>&nbsp;<span class="string" id="6614812">&#34;{{$}}&#34;</span><span class="op" id="6614819">,</span>&nbsp;<span class="ident" id="6614821">noError</span><span class="op" id="6614828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614832">&#34;{{$}}&#34;</span><span class="op" id="6614839">}</span><span class="op" id="6614840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614843">{</span><span class="string" id="6614844">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6614865">,</span>&nbsp;<span class="string" id="6614867">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6614901">,</span>&nbsp;<span class="ident" id="6614903">noError</span><span class="op" id="6614910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614914">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6614948">}</span><span class="op" id="6614949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614952">{</span><span class="string" id="6614953">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6614975">,</span>&nbsp;<span class="string" id="6614977">&#34;{{$.I}}&#34;</span><span class="op" id="6614986">,</span>&nbsp;<span class="ident" id="6614988">noError</span><span class="op" id="6614995">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6614999">&#34;{{$.I}}&#34;</span><span class="op" id="6615008">}</span><span class="op" id="6615009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615012">{</span><span class="string" id="6615013">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6615033">,</span>&nbsp;<span class="string" id="6615035">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6615055">,</span>&nbsp;<span class="ident" id="6615057">noError</span><span class="op" id="6615064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615068">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6615088">}</span><span class="op" id="6615089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615092">{</span><span class="string" id="6615093">&#34;pipeline&#34;</span><span class="op" id="6615103">,</span>&nbsp;<span class="string" id="6615105">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6615116">,</span>&nbsp;<span class="ident" id="6615118">noError</span><span class="op" id="6615125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615129">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6615142">}</span><span class="op" id="6615143">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615146">{</span><span class="string" id="6615147">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6615167">,</span>&nbsp;<span class="string" id="6615169">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6615186">,</span>&nbsp;<span class="ident" id="6615188">noError</span><span class="op" id="6615195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615199">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6615218">}</span><span class="op" id="6615219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615222">{</span><span class="string" id="6615223">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6615240">,</span>&nbsp;<span class="string" id="6615242">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6615276">,</span>&nbsp;<span class="ident" id="6615278">noError</span><span class="op" id="6615285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615289">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6615323">}</span><span class="op" id="6615324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615327">{</span><span class="string" id="6615328">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6615358">,</span>&nbsp;<span class="string" id="6615360">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6615379">,</span>&nbsp;<span class="ident" id="6615381">noError</span><span class="op" id="6615388">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615392">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6615411">}</span><span class="op" id="6615412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615415">{</span><span class="string" id="6615416">&#34;simple&nbsp;if&#34;</span><span class="op" id="6615427">,</span>&nbsp;<span class="string" id="6615429">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6615452">,</span>&nbsp;<span class="ident" id="6615454">noError</span><span class="op" id="6615461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615465">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6615490">}</span><span class="op" id="6615491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615494">{</span><span class="string" id="6615495">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6615509">,</span>&nbsp;<span class="string" id="6615511">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6615546">,</span>&nbsp;<span class="ident" id="6615548">noError</span><span class="op" id="6615555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615559">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6615598">}</span><span class="op" id="6615599">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615602">{</span><span class="string" id="6615603">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6615620">,</span>&nbsp;<span class="string" id="6615622">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6615663">,</span>&nbsp;<span class="ident" id="6615665">noError</span><span class="op" id="6615672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615676">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6615731">}</span><span class="op" id="6615732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615735">{</span><span class="string" id="6615736">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6615751">,</span>&nbsp;<span class="string" id="6615753">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6615804">,</span>&nbsp;<span class="ident" id="6615806">noError</span><span class="op" id="6615813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615817">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6615898">}</span><span class="op" id="6615899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615902">{</span><span class="string" id="6615903">&#34;simple&nbsp;range&#34;</span><span class="op" id="6615917">,</span>&nbsp;<span class="string" id="6615919">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6615945">,</span>&nbsp;<span class="ident" id="6615947">noError</span><span class="op" id="6615954">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6615958">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6615986">}</span><span class="op" id="6615987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615990">{</span><span class="string" id="6615991">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6616012">,</span>&nbsp;<span class="string" id="6616014">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6616044">,</span>&nbsp;<span class="ident" id="6616046">noError</span><span class="op" id="6616053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616057">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6616089">}</span><span class="op" id="6616090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616093">{</span><span class="string" id="6616094">&#34;nested&nbsp;range&#34;</span><span class="op" id="6616108">,</span>&nbsp;<span class="string" id="6616110">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6616162">,</span>&nbsp;<span class="ident" id="6616164">noError</span><span class="op" id="6616171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616175">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6616231">}</span><span class="op" id="6616232">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616235">{</span><span class="string" id="6616236">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6616253">,</span>&nbsp;<span class="string" id="6616255">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6616293">,</span>&nbsp;<span class="ident" id="6616295">noError</span><span class="op" id="6616302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616306">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6616348">}</span><span class="op" id="6616349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616352">{</span><span class="string" id="6616353">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6616374">,</span>&nbsp;<span class="string" id="6616376">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6616417">,</span>&nbsp;<span class="ident" id="6616419">noError</span><span class="op" id="6616426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616430">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6616477">}</span><span class="op" id="6616478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616481">{</span><span class="string" id="6616482">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6616495">,</span>&nbsp;<span class="string" id="6616497">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6616524">,</span>&nbsp;<span class="ident" id="6616526">noError</span><span class="op" id="6616533">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616537">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6616564">}</span><span class="op" id="6616565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616568">{</span><span class="string" id="6616569">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6616582">,</span>&nbsp;<span class="string" id="6616584">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6616617">,</span>&nbsp;<span class="ident" id="6616619">noError</span><span class="op" id="6616626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616630">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6616663">}</span><span class="op" id="6616664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616667">{</span><span class="string" id="6616668">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6616682">,</span>&nbsp;<span class="string" id="6616684">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6616721">,</span>&nbsp;<span class="ident" id="6616723">noError</span><span class="op" id="6616730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616734">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6616771">}</span><span class="op" id="6616772">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616775">{</span><span class="string" id="6616776">&#34;constants&#34;</span><span class="op" id="6616787">,</span>&nbsp;<span class="string" id="6616789">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6616838">,</span>&nbsp;<span class="ident" id="6616840">noError</span><span class="op" id="6616847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616851">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6616900">}</span><span class="op" id="6616901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616904">{</span><span class="string" id="6616905">&#34;template&#34;</span><span class="op" id="6616915">,</span>&nbsp;<span class="string" id="6616917">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6616935">,</span>&nbsp;<span class="ident" id="6616937">noError</span><span class="op" id="6616944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6616948">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6616966">}</span><span class="op" id="6616967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616970">{</span><span class="string" id="6616971">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6616990">,</span>&nbsp;<span class="string" id="6616992">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6617013">,</span>&nbsp;<span class="ident" id="6617015">noError</span><span class="op" id="6617022">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6617026">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6617047">}</span><span class="op" id="6617048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617051">{</span><span class="string" id="6617052">&#34;with&#34;</span><span class="op" id="6617058">,</span>&nbsp;<span class="string" id="6617060">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6617085">,</span>&nbsp;<span class="ident" id="6617087">noError</span><span class="op" id="6617094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6617098">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6617125">}</span><span class="op" id="6617126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617129">{</span><span class="string" id="6617130">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6617146">,</span>&nbsp;<span class="string" id="6617148">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6617188">,</span>&nbsp;<span class="ident" id="6617190">noError</span><span class="op" id="6617197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6617201">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6617245">}</span><span class="op" id="6617246">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6617249">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617261">{</span><span class="string" id="6617262">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6617279">,</span>&nbsp;<span class="string" id="6617281">&#34;hello{{range&#34;</span><span class="op" id="6617295">,</span>&nbsp;<span class="ident" id="6617297">hasError</span><span class="op" id="6617305">,</span>&nbsp;<span class="string" id="6617307">&#34;&#34;</span><span class="op" id="6617309">}</span><span class="op" id="6617310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617313">{</span><span class="string" id="6617314">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6617329">,</span>&nbsp;<span class="string" id="6617331">&#34;{{end}}&#34;</span><span class="op" id="6617340">,</span>&nbsp;<span class="ident" id="6617342">hasError</span><span class="op" id="6617350">,</span>&nbsp;<span class="string" id="6617352">&#34;&#34;</span><span class="op" id="6617354">}</span><span class="op" id="6617355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617358">{</span><span class="string" id="6617359">&#34;missing&nbsp;end&#34;</span><span class="op" id="6617372">,</span>&nbsp;<span class="string" id="6617374">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6617393">,</span>&nbsp;<span class="ident" id="6617395">hasError</span><span class="op" id="6617403">,</span>&nbsp;<span class="string" id="6617405">&#34;&#34;</span><span class="op" id="6617407">}</span><span class="op" id="6617408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617411">{</span><span class="string" id="6617412">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6617436">,</span>&nbsp;<span class="string" id="6617438">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6617465">,</span>&nbsp;<span class="ident" id="6617467">hasError</span><span class="op" id="6617475">,</span>&nbsp;<span class="string" id="6617477">&#34;&#34;</span><span class="op" id="6617479">}</span><span class="op" id="6617480">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617483">{</span><span class="string" id="6617484">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6617504">,</span>&nbsp;<span class="string" id="6617506">&#34;hello{{undefined}}&#34;</span><span class="op" id="6617526">,</span>&nbsp;<span class="ident" id="6617528">hasError</span><span class="op" id="6617536">,</span>&nbsp;<span class="string" id="6617538">&#34;&#34;</span><span class="op" id="6617540">}</span><span class="op" id="6617541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617544">{</span><span class="string" id="6617545">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6617565">,</span>&nbsp;<span class="string" id="6617567">&#34;{{$x}}&#34;</span><span class="op" id="6617575">,</span>&nbsp;<span class="ident" id="6617577">hasError</span><span class="op" id="6617585">,</span>&nbsp;<span class="string" id="6617587">&#34;&#34;</span><span class="op" id="6617589">}</span><span class="op" id="6617590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617593">{</span><span class="string" id="6617594">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6617624">,</span>&nbsp;<span class="string" id="6617626">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6617657">,</span>&nbsp;<span class="ident" id="6617659">hasError</span><span class="op" id="6617667">,</span>&nbsp;<span class="string" id="6617669">&#34;&#34;</span><span class="op" id="6617671">}</span><span class="op" id="6617672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617675">{</span><span class="string" id="6617676">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6617708">,</span>&nbsp;<span class="string" id="6617710">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6617727">,</span>&nbsp;<span class="ident" id="6617729">hasError</span><span class="op" id="6617737">,</span>&nbsp;<span class="string" id="6617739">&#34;&#34;</span><span class="op" id="6617741">}</span><span class="op" id="6617742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617745">{</span><span class="string" id="6617746">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6617766">,</span>&nbsp;<span class="string" id="6617768">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6617795">,</span>&nbsp;<span class="ident" id="6617797">hasError</span><span class="op" id="6617805">,</span>&nbsp;<span class="string" id="6617807">&#34;&#34;</span><span class="op" id="6617809">}</span><span class="op" id="6617810">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617813">{</span><span class="string" id="6617814">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6617839">,</span>&nbsp;<span class="string" id="6617841">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6617858">,</span>&nbsp;<span class="ident" id="6617860">hasError</span><span class="op" id="6617868">,</span>&nbsp;<span class="string" id="6617870">&#34;&#34;</span><span class="op" id="6617872">}</span><span class="op" id="6617873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617876">{</span><span class="string" id="6617877">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6617896">,</span>&nbsp;<span class="string" id="6617898">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6617915">,</span>&nbsp;<span class="ident" id="6617917">hasError</span><span class="op" id="6617925">,</span>&nbsp;<span class="string" id="6617927">&#34;&#34;</span><span class="op" id="6617929">}</span><span class="op" id="6617930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617933">{</span><span class="string" id="6617934">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6617955">,</span>&nbsp;<span class="string" id="6617957">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6617974">,</span>&nbsp;<span class="ident" id="6617976">hasError</span><span class="op" id="6617984">,</span>&nbsp;<span class="string" id="6617986">&#34;&#34;</span><span class="op" id="6617988">}</span><span class="op" id="6617989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617992">{</span><span class="string" id="6617993">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6618018">,</span>&nbsp;<span class="string" id="6618020">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6618049">,</span>&nbsp;<span class="ident" id="6618051">hasError</span><span class="op" id="6618059">,</span>&nbsp;<span class="string" id="6618061">&#34;&#34;</span><span class="op" id="6618063">}</span><span class="op" id="6618064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618067">{</span><span class="string" id="6618068">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6618093">,</span>&nbsp;<span class="string" id="6618095">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6618129">,</span>&nbsp;<span class="ident" id="6618131">hasError</span><span class="op" id="6618139">,</span>&nbsp;<span class="string" id="6618141">&#34;&#34;</span><span class="op" id="6618143">}</span><span class="op" id="6618144">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618147">{</span><span class="string" id="6618148">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6618176">,</span>&nbsp;<span class="string" id="6618178">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6618202">,</span>&nbsp;<span class="ident" id="6618204">hasError</span><span class="op" id="6618212">,</span>&nbsp;<span class="string" id="6618214">&#34;&#34;</span><span class="op" id="6618216">}</span><span class="op" id="6618217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618220">{</span><span class="string" id="6618221">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6618236">,</span>&nbsp;<span class="string" id="6618238">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6618255">,</span>&nbsp;<span class="ident" id="6618257">hasError</span><span class="op" id="6618265">,</span>&nbsp;<span class="string" id="6618267">&#34;&#34;</span><span class="op" id="6618269">}</span><span class="op" id="6618270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618273">{</span><span class="string" id="6618274">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6618296">,</span>&nbsp;<span class="string" id="6618298">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6618315">,</span>&nbsp;<span class="ident" id="6618317">hasError</span><span class="op" id="6618325">,</span>&nbsp;<span class="string" id="6618327">&#34;&#34;</span><span class="op" id="6618329">}</span><span class="op" id="6618330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618333">{</span><span class="string" id="6618334">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6618354">,</span>&nbsp;<span class="string" id="6618356">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6618397">,</span>&nbsp;<span class="ident" id="6618399">hasError</span><span class="op" id="6618407">,</span>&nbsp;<span class="string" id="6618409">&#34;&#34;</span><span class="op" id="6618411">}</span><span class="op" id="6618412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6618415">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618475">{</span><span class="string" id="6618476">&#34;bug0a&#34;</span><span class="op" id="6618483">,</span>&nbsp;<span class="string" id="6618485">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6618504">,</span>&nbsp;<span class="ident" id="6618506">noError</span><span class="op" id="6618513">,</span>&nbsp;<span class="string" id="6618515">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6618534">}</span><span class="op" id="6618535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618538">{</span><span class="string" id="6618539">&#34;bug0b&#34;</span><span class="op" id="6618546">,</span>&nbsp;<span class="string" id="6618548">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6618566">,</span>&nbsp;<span class="ident" id="6618568">hasError</span><span class="op" id="6618576">,</span>&nbsp;<span class="string" id="6618578">&#34;&#34;</span><span class="op" id="6618580">}</span><span class="op" id="6618581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618584">{</span><span class="string" id="6618585">&#34;bug0c&#34;</span><span class="op" id="6618592">,</span>&nbsp;<span class="string" id="6618594">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6618612">,</span>&nbsp;<span class="ident" id="6618614">hasError</span><span class="op" id="6618622">,</span>&nbsp;<span class="string" id="6618624">&#34;&#34;</span><span class="op" id="6618626">}</span><span class="op" id="6618627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618630">{</span><span class="string" id="6618631">&#34;bug0d&#34;</span><span class="op" id="6618638">,</span>&nbsp;<span class="string" id="6618640">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6618658">,</span>&nbsp;<span class="ident" id="6618660">hasError</span><span class="op" id="6618668">,</span>&nbsp;<span class="string" id="6618670">&#34;&#34;</span><span class="op" id="6618672">}</span><span class="op" id="6618673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6618676">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618728">{</span><span class="string" id="6618729">&#34;bug0e&#34;</span><span class="op" id="6618736">,</span>&nbsp;<span class="string" id="6618738">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6618770">,</span>&nbsp;<span class="ident" id="6618772">hasError</span><span class="op" id="6618780">,</span>&nbsp;<span class="string" id="6618782">&#34;&#34;</span><span class="op" id="6618784">}</span><span class="op" id="6618785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6618788">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618854">{</span><span class="string" id="6618855">&#34;bug1a&#34;</span><span class="op" id="6618862">,</span>&nbsp;<span class="string" id="6618864">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6618883">,</span>&nbsp;<span class="ident" id="6618885">hasError</span><span class="op" id="6618893">,</span>&nbsp;<span class="string" id="6618895">&#34;&#34;</span><span class="op" id="6618897">}</span><span class="op" id="6618898">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6618920">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618948">{</span><span class="string" id="6618949">&#34;bug1b&#34;</span><span class="op" id="6618956">,</span>&nbsp;<span class="string" id="6618958">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6618977">,</span>&nbsp;<span class="ident" id="6618979">hasError</span><span class="op" id="6618987">,</span>&nbsp;<span class="string" id="6618989">&#34;&#34;</span><span class="op" id="6618991">}</span><span class="op" id="6618992">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6619014">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619054">{</span><span class="string" id="6619055">&#34;bug1c&#34;</span><span class="op" id="6619062">,</span>&nbsp;<span class="string" id="6619064">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6619084">,</span>&nbsp;<span class="ident" id="6619086">noError</span><span class="op" id="6619093">,</span>&nbsp;<span class="string" id="6619095">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6619117">}</span><span class="op" id="6619118">,</span>&nbsp;<span class="comment" id="6619120">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6619145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6619148">var</span>&nbsp;<span class="ident" id="6619152">builtins</span>&nbsp;<span class="op" id="6619161">=</span>&nbsp;<span class="keyword" id="6619163">map</span><span class="op" id="6619166">[</span><span class="builtintype" id="6619167">string</span><span class="op" id="6619173">]</span><span class="keyword" id="6619174">interface</span><span class="op" id="6619183">{</span><span class="op" id="6619184">}</span><span class="op" id="6619185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6619188">&#34;printf&#34;</span><span class="op" id="6619196">:</span>&nbsp;<span class="ident" id="6619198">fmt</span><span class="op" id="6619201">.</span><span class="ident" id="6619202">Sprintf</span><span class="op" id="6619209">,</span><br>
<span class="lineno"></span><span class="op" id="6619211">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6619214">func</span>&nbsp;<span class="ident" id="6619219">testParse</span><span class="op" id="6619228">(</span><span class="ident" id="6619229">doCopy</span>&nbsp;<span class="builtintype" id="6619236">bool</span><span class="op" id="6619240">,</span>&nbsp;<span class="ident" id="6619242">t</span>&nbsp;<span class="op" id="6619244">*</span><span class="ident" id="6619245">testing</span><span class="op" id="6619252">.</span><span class="ident" id="6619253">T</span><span class="op" id="6619254">)</span>&nbsp;<span class="op" id="6619256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619259">textFormat</span>&nbsp;<span class="op" id="6619270">=</span>&nbsp;<span class="string" id="6619272">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619278">defer</span>&nbsp;<span class="keyword" id="6619284">func</span><span class="op" id="6619288">(</span><span class="op" id="6619289">)</span>&nbsp;<span class="op" id="6619291">{</span>&nbsp;<span class="ident" id="6619293">textFormat</span>&nbsp;<span class="op" id="6619304">=</span>&nbsp;<span class="string" id="6619306">&#34;%s&#34;</span>&nbsp;<span class="op" id="6619311">}</span><span class="op" id="6619312">(</span><span class="op" id="6619313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619316">for</span>&nbsp;<span class="ident" id="6619320">_</span><span class="op" id="6619321">,</span>&nbsp;<span class="ident" id="6619323">test</span>&nbsp;<span class="op" id="6619328">:=</span>&nbsp;<span class="keyword" id="6619331">range</span>&nbsp;<span class="ident" id="6619337">parseTests</span>&nbsp;<span class="op" id="6619348">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619352">tmpl</span><span class="op" id="6619356">,</span>&nbsp;<span class="ident" id="6619358">err</span>&nbsp;<span class="op" id="6619362">:=</span>&nbsp;<span class="ident" id="6619365">New</span><span class="op" id="6619368">(</span><span class="ident" id="6619369">test</span><span class="op" id="6619373">.</span><span class="ident" id="6619374">name</span><span class="op" id="6619378">)</span><span class="op" id="6619379">.</span><span class="ident" id="6619380">Parse</span><span class="op" id="6619385">(</span><span class="ident" id="6619386">test</span><span class="op" id="6619390">.</span><span class="ident" id="6619391">input</span><span class="op" id="6619396">,</span>&nbsp;<span class="string" id="6619398">&#34;&#34;</span><span class="op" id="6619400">,</span>&nbsp;<span class="string" id="6619402">&#34;&#34;</span><span class="op" id="6619404">,</span>&nbsp;<span class="builtinfunc" id="6619406">make</span><span class="op" id="6619410">(</span><span class="keyword" id="6619411">map</span><span class="op" id="6619414">[</span><span class="builtintype" id="6619415">string</span><span class="op" id="6619421">]</span><span class="op" id="6619422">*</span><span class="ident" id="6619423">Tree</span><span class="op" id="6619427">)</span><span class="op" id="6619428">,</span>&nbsp;<span class="ident" id="6619430">builtins</span><span class="op" id="6619438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619442">switch</span>&nbsp;<span class="op" id="6619449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619453">case</span>&nbsp;<span class="ident" id="6619458">err</span>&nbsp;<span class="op" id="6619462">==</span>&nbsp;<span class="ident" id="6619465">nil</span>&nbsp;<span class="op" id="6619469">&amp;&amp;</span>&nbsp;<span class="op" id="6619472">!</span><span class="ident" id="6619473">test</span><span class="op" id="6619477">.</span><span class="ident" id="6619478">ok</span><span class="op" id="6619480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619485">t</span><span class="op" id="6619486">.</span><span class="ident" id="6619487">Errorf</span><span class="op" id="6619493">(</span><span class="string" id="6619494">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6619524">,</span>&nbsp;<span class="ident" id="6619526">test</span><span class="op" id="6619530">.</span><span class="ident" id="6619531">name</span><span class="op" id="6619535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619540">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619551">case</span>&nbsp;<span class="ident" id="6619556">err</span>&nbsp;<span class="op" id="6619560">!=</span>&nbsp;<span class="ident" id="6619563">nil</span>&nbsp;<span class="op" id="6619567">&amp;&amp;</span>&nbsp;<span class="ident" id="6619570">test</span><span class="op" id="6619574">.</span><span class="ident" id="6619575">ok</span><span class="op" id="6619577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619582">t</span><span class="op" id="6619583">.</span><span class="ident" id="6619584">Errorf</span><span class="op" id="6619590">(</span><span class="string" id="6619591">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6619617">,</span>&nbsp;<span class="ident" id="6619619">test</span><span class="op" id="6619623">.</span><span class="ident" id="6619624">name</span><span class="op" id="6619628">,</span>&nbsp;<span class="ident" id="6619630">err</span><span class="op" id="6619633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619638">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619649">case</span>&nbsp;<span class="ident" id="6619654">err</span>&nbsp;<span class="op" id="6619658">!=</span>&nbsp;<span class="ident" id="6619661">nil</span>&nbsp;<span class="op" id="6619665">&amp;&amp;</span>&nbsp;<span class="op" id="6619668">!</span><span class="ident" id="6619669">test</span><span class="op" id="6619673">.</span><span class="ident" id="6619674">ok</span><span class="op" id="6619676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6619681">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619711">if</span>&nbsp;<span class="op" id="6619714">*</span><span class="ident" id="6619715">debug</span>&nbsp;<span class="op" id="6619721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619727">fmt</span><span class="op" id="6619730">.</span><span class="ident" id="6619731">Printf</span><span class="op" id="6619737">(</span><span class="string" id="6619738">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6619754">,</span>&nbsp;<span class="ident" id="6619756">test</span><span class="op" id="6619760">.</span><span class="ident" id="6619761">name</span><span class="op" id="6619765">,</span>&nbsp;<span class="ident" id="6619767">test</span><span class="op" id="6619771">.</span><span class="ident" id="6619772">input</span><span class="op" id="6619777">,</span>&nbsp;<span class="ident" id="6619779">err</span><span class="op" id="6619782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619792">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619803">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619807">var</span>&nbsp;<span class="ident" id="6619811">result</span>&nbsp;<span class="builtintype" id="6619818">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619827">if</span>&nbsp;<span class="ident" id="6619830">doCopy</span>&nbsp;<span class="op" id="6619837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619842">result</span>&nbsp;<span class="op" id="6619849">=</span>&nbsp;<span class="ident" id="6619851">tmpl</span><span class="op" id="6619855">.</span><span class="ident" id="6619856">Root</span><span class="op" id="6619860">.</span><span class="ident" id="6619861">Copy</span><span class="op" id="6619865">(</span><span class="op" id="6619866">)</span><span class="op" id="6619867">.</span><span class="ident" id="6619868">String</span><span class="op" id="6619874">(</span><span class="op" id="6619875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619879">}</span>&nbsp;<span class="keyword" id="6619881">else</span>&nbsp;<span class="op" id="6619886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619891">result</span>&nbsp;<span class="op" id="6619898">=</span>&nbsp;<span class="ident" id="6619900">tmpl</span><span class="op" id="6619904">.</span><span class="ident" id="6619905">Root</span><span class="op" id="6619909">.</span><span class="ident" id="6619910">String</span><span class="op" id="6619916">(</span><span class="op" id="6619917">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619925">if</span>&nbsp;<span class="ident" id="6619928">result</span>&nbsp;<span class="op" id="6619935">!=</span>&nbsp;<span class="ident" id="6619938">test</span><span class="op" id="6619942">.</span><span class="ident" id="6619943">result</span>&nbsp;<span class="op" id="6619950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619955">t</span><span class="op" id="6619956">.</span><span class="ident" id="6619957">Errorf</span><span class="op" id="6619963">(</span><span class="string" id="6619964">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6620000">,</span>&nbsp;<span class="ident" id="6620002">test</span><span class="op" id="6620006">.</span><span class="ident" id="6620007">name</span><span class="op" id="6620011">,</span>&nbsp;<span class="ident" id="6620013">test</span><span class="op" id="6620017">.</span><span class="ident" id="6620018">input</span><span class="op" id="6620023">,</span>&nbsp;<span class="ident" id="6620025">result</span><span class="op" id="6620031">,</span>&nbsp;<span class="ident" id="6620033">test</span><span class="op" id="6620037">.</span><span class="ident" id="6620038">result</span><span class="op" id="6620044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620051">}</span><br>
<span class="lineno">295</span><span class="op" id="6620053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620056">func</span>&nbsp;<span class="ident" id="6620061">TestParse</span><span class="op" id="6620070">(</span><span class="ident" id="6620071">t</span>&nbsp;<span class="op" id="6620073">*</span><span class="ident" id="6620074">testing</span><span class="op" id="6620081">.</span><span class="ident" id="6620082">T</span><span class="op" id="6620083">)</span>&nbsp;<span class="op" id="6620085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620088">testParse</span><span class="op" id="6620097">(</span><span class="builtintype" id="6620098">false</span><span class="op" id="6620103">,</span>&nbsp;<span class="ident" id="6620105">t</span><span class="op" id="6620106">)</span><br>
<span class="lineno"></span><span class="op" id="6620108">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6620111">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6620160">func</span>&nbsp;<span class="ident" id="6620165">TestParseCopy</span><span class="op" id="6620178">(</span><span class="ident" id="6620179">t</span>&nbsp;<span class="op" id="6620181">*</span><span class="ident" id="6620182">testing</span><span class="op" id="6620189">.</span><span class="ident" id="6620190">T</span><span class="op" id="6620191">)</span>&nbsp;<span class="op" id="6620193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620196">testParse</span><span class="op" id="6620205">(</span><span class="builtintype" id="6620206">true</span><span class="op" id="6620210">,</span>&nbsp;<span class="ident" id="6620212">t</span><span class="op" id="6620213">)</span><br>
<span class="lineno"></span><span class="op" id="6620215">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6620218">type</span>&nbsp;<span class="ident" id="6620223">isEmptyTest</span>&nbsp;<span class="keyword" id="6620235">struct</span>&nbsp;<span class="op" id="6620242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620245">name</span>&nbsp;&nbsp;<span class="builtintype" id="6620251">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620259">input</span>&nbsp;<span class="builtintype" id="6620265">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620273">empty</span>&nbsp;<span class="builtintype" id="6620279">bool</span><br>
<span class="lineno">310</span><span class="op" id="6620284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620287">var</span>&nbsp;<span class="ident" id="6620291">isEmptyTests</span>&nbsp;<span class="op" id="6620304">=</span>&nbsp;<span class="op" id="6620306">[</span><span class="op" id="6620307">]</span><span class="ident" id="6620308">isEmptyTest</span><span class="op" id="6620319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620322">{</span><span class="string" id="6620323">&#34;empty&#34;</span><span class="op" id="6620330">,</span>&nbsp;<span class="string" id="6620332">``</span><span class="op" id="6620334">,</span>&nbsp;<span class="builtintype" id="6620336">true</span><span class="op" id="6620340">}</span><span class="op" id="6620341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620344">{</span><span class="string" id="6620345">&#34;nonempty&#34;</span><span class="op" id="6620355">,</span>&nbsp;<span class="string" id="6620357">`hello`</span><span class="op" id="6620364">,</span>&nbsp;<span class="builtintype" id="6620366">false</span><span class="op" id="6620371">}</span><span class="op" id="6620372">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620375">{</span><span class="string" id="6620376">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6620389">,</span>&nbsp;<span class="string" id="6620391">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6620403">,</span>&nbsp;<span class="builtintype" id="6620405">true</span><span class="op" id="6620409">}</span><span class="op" id="6620410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620413">{</span><span class="string" id="6620414">&#34;definition&#34;</span><span class="op" id="6620426">,</span>&nbsp;<span class="string" id="6620428">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6620460">,</span>&nbsp;<span class="builtintype" id="6620462">true</span><span class="op" id="6620466">}</span><span class="op" id="6620467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620470">{</span><span class="string" id="6620471">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6620494">,</span>&nbsp;<span class="string" id="6620496">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6620566">,</span>&nbsp;<span class="builtintype" id="6620568">true</span><span class="op" id="6620572">}</span><span class="op" id="6620573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620576">{</span><span class="string" id="6620577">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6620599">,</span>&nbsp;<span class="string" id="6620601">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6620673">,</span>&nbsp;<span class="builtintype" id="6620675">false</span><span class="op" id="6620680">}</span><span class="op" id="6620681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620684">{</span><span class="string" id="6620685">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6620708">,</span>&nbsp;<span class="string" id="6620710">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6620760">,</span>&nbsp;<span class="builtintype" id="6620762">false</span><span class="op" id="6620767">}</span><span class="op" id="6620768">,</span><br>
<span class="lineno">320</span><span class="op" id="6620770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620773">func</span>&nbsp;<span class="ident" id="6620778">TestIsEmpty</span><span class="op" id="6620789">(</span><span class="ident" id="6620790">t</span>&nbsp;<span class="op" id="6620792">*</span><span class="ident" id="6620793">testing</span><span class="op" id="6620800">.</span><span class="ident" id="6620801">T</span><span class="op" id="6620802">)</span>&nbsp;<span class="op" id="6620804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620807">if</span>&nbsp;<span class="op" id="6620810">!</span><span class="ident" id="6620811">IsEmptyTree</span><span class="op" id="6620822">(</span><span class="ident" id="6620823">nil</span><span class="op" id="6620826">)</span>&nbsp;<span class="op" id="6620828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620832">t</span><span class="op" id="6620833">.</span><span class="ident" id="6620834">Errorf</span><span class="op" id="6620840">(</span><span class="string" id="6620841">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6620864">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620870">for</span>&nbsp;<span class="ident" id="6620874">_</span><span class="op" id="6620875">,</span>&nbsp;<span class="ident" id="6620877">test</span>&nbsp;<span class="op" id="6620882">:=</span>&nbsp;<span class="keyword" id="6620885">range</span>&nbsp;<span class="ident" id="6620891">isEmptyTests</span>&nbsp;<span class="op" id="6620904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620908">tree</span><span class="op" id="6620912">,</span>&nbsp;<span class="ident" id="6620914">err</span>&nbsp;<span class="op" id="6620918">:=</span>&nbsp;<span class="ident" id="6620921">New</span><span class="op" id="6620924">(</span><span class="string" id="6620925">&#34;root&#34;</span><span class="op" id="6620931">)</span><span class="op" id="6620932">.</span><span class="ident" id="6620933">Parse</span><span class="op" id="6620938">(</span><span class="ident" id="6620939">test</span><span class="op" id="6620943">.</span><span class="ident" id="6620944">input</span><span class="op" id="6620949">,</span>&nbsp;<span class="string" id="6620951">&#34;&#34;</span><span class="op" id="6620953">,</span>&nbsp;<span class="string" id="6620955">&#34;&#34;</span><span class="op" id="6620957">,</span>&nbsp;<span class="builtinfunc" id="6620959">make</span><span class="op" id="6620963">(</span><span class="keyword" id="6620964">map</span><span class="op" id="6620967">[</span><span class="builtintype" id="6620968">string</span><span class="op" id="6620974">]</span><span class="op" id="6620975">*</span><span class="ident" id="6620976">Tree</span><span class="op" id="6620980">)</span><span class="op" id="6620981">,</span>&nbsp;<span class="ident" id="6620983">nil</span><span class="op" id="6620986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620990">if</span>&nbsp;<span class="ident" id="6620993">err</span>&nbsp;<span class="op" id="6620997">!=</span>&nbsp;<span class="ident" id="6621000">nil</span>&nbsp;<span class="op" id="6621004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621009">t</span><span class="op" id="6621010">.</span><span class="ident" id="6621011">Errorf</span><span class="op" id="6621017">(</span><span class="string" id="6621018">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6621044">,</span>&nbsp;<span class="ident" id="6621046">test</span><span class="op" id="6621050">.</span><span class="ident" id="6621051">name</span><span class="op" id="6621055">,</span>&nbsp;<span class="ident" id="6621057">err</span><span class="op" id="6621060">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621065">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621080">if</span>&nbsp;<span class="ident" id="6621083">empty</span>&nbsp;<span class="op" id="6621089">:=</span>&nbsp;<span class="ident" id="6621092">IsEmptyTree</span><span class="op" id="6621103">(</span><span class="ident" id="6621104">tree</span><span class="op" id="6621108">.</span><span class="ident" id="6621109">Root</span><span class="op" id="6621113">)</span><span class="op" id="6621114">;</span>&nbsp;<span class="ident" id="6621116">empty</span>&nbsp;<span class="op" id="6621122">!=</span>&nbsp;<span class="ident" id="6621125">test</span><span class="op" id="6621129">.</span><span class="ident" id="6621130">empty</span>&nbsp;<span class="op" id="6621136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621141">t</span><span class="op" id="6621142">.</span><span class="ident" id="6621143">Errorf</span><span class="op" id="6621149">(</span><span class="string" id="6621150">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6621174">,</span>&nbsp;<span class="ident" id="6621176">test</span><span class="op" id="6621180">.</span><span class="ident" id="6621181">name</span><span class="op" id="6621185">,</span>&nbsp;<span class="ident" id="6621187">test</span><span class="op" id="6621191">.</span><span class="ident" id="6621192">empty</span><span class="op" id="6621197">,</span>&nbsp;<span class="ident" id="6621199">empty</span><span class="op" id="6621204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621208">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621211">}</span><br>
<span class="lineno"></span><span class="op" id="6621213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6621216">func</span>&nbsp;<span class="ident" id="6621221">TestErrorContextWithTreeCopy</span><span class="op" id="6621249">(</span><span class="ident" id="6621250">t</span>&nbsp;<span class="op" id="6621252">*</span><span class="ident" id="6621253">testing</span><span class="op" id="6621260">.</span><span class="ident" id="6621261">T</span><span class="op" id="6621262">)</span>&nbsp;<span class="op" id="6621264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621267">tree</span><span class="op" id="6621271">,</span>&nbsp;<span class="ident" id="6621273">err</span>&nbsp;<span class="op" id="6621277">:=</span>&nbsp;<span class="ident" id="6621280">New</span><span class="op" id="6621283">(</span><span class="string" id="6621284">&#34;root&#34;</span><span class="op" id="6621290">)</span><span class="op" id="6621291">.</span><span class="ident" id="6621292">Parse</span><span class="op" id="6621297">(</span><span class="string" id="6621298">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6621318">,</span>&nbsp;<span class="string" id="6621320">&#34;&#34;</span><span class="op" id="6621322">,</span>&nbsp;<span class="string" id="6621324">&#34;&#34;</span><span class="op" id="6621326">,</span>&nbsp;<span class="builtinfunc" id="6621328">make</span><span class="op" id="6621332">(</span><span class="keyword" id="6621333">map</span><span class="op" id="6621336">[</span><span class="builtintype" id="6621337">string</span><span class="op" id="6621343">]</span><span class="op" id="6621344">*</span><span class="ident" id="6621345">Tree</span><span class="op" id="6621349">)</span><span class="op" id="6621350">,</span>&nbsp;<span class="ident" id="6621352">nil</span><span class="op" id="6621355">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621358">if</span>&nbsp;<span class="ident" id="6621361">err</span>&nbsp;<span class="op" id="6621365">!=</span>&nbsp;<span class="ident" id="6621368">nil</span>&nbsp;<span class="op" id="6621372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621376">t</span><span class="op" id="6621377">.</span><span class="ident" id="6621378">Fatalf</span><span class="op" id="6621384">(</span><span class="string" id="6621385">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6621420">,</span>&nbsp;<span class="ident" id="6621422">err</span><span class="op" id="6621425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621431">treeCopy</span>&nbsp;<span class="op" id="6621440">:=</span>&nbsp;<span class="ident" id="6621443">tree</span><span class="op" id="6621447">.</span><span class="ident" id="6621448">Copy</span><span class="op" id="6621452">(</span><span class="op" id="6621453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621456">wantLocation</span><span class="op" id="6621468">,</span>&nbsp;<span class="ident" id="6621470">wantContext</span>&nbsp;<span class="op" id="6621482">:=</span>&nbsp;<span class="ident" id="6621485">tree</span><span class="op" id="6621489">.</span><span class="ident" id="6621490">ErrorContext</span><span class="op" id="6621502">(</span><span class="ident" id="6621503">tree</span><span class="op" id="6621507">.</span><span class="ident" id="6621508">Root</span><span class="op" id="6621512">.</span><span class="ident" id="6621513">Nodes</span><span class="op" id="6621518">[</span><span class="num" id="6621519">0</span><span class="op" id="6621520">]</span><span class="op" id="6621521">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621524">gotLocation</span><span class="op" id="6621535">,</span>&nbsp;<span class="ident" id="6621537">gotContext</span>&nbsp;<span class="op" id="6621548">:=</span>&nbsp;<span class="ident" id="6621551">treeCopy</span><span class="op" id="6621559">.</span><span class="ident" id="6621560">ErrorContext</span><span class="op" id="6621572">(</span><span class="ident" id="6621573">treeCopy</span><span class="op" id="6621581">.</span><span class="ident" id="6621582">Root</span><span class="op" id="6621586">.</span><span class="ident" id="6621587">Nodes</span><span class="op" id="6621592">[</span><span class="num" id="6621593">0</span><span class="op" id="6621594">]</span><span class="op" id="6621595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621598">if</span>&nbsp;<span class="ident" id="6621601">wantLocation</span>&nbsp;<span class="op" id="6621614">!=</span>&nbsp;<span class="ident" id="6621617">gotLocation</span>&nbsp;<span class="op" id="6621629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621633">t</span><span class="op" id="6621634">.</span><span class="ident" id="6621635">Errorf</span><span class="op" id="6621641">(</span><span class="string" id="6621642">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6621679">,</span>&nbsp;<span class="ident" id="6621681">wantLocation</span><span class="op" id="6621693">,</span>&nbsp;<span class="ident" id="6621695">gotLocation</span><span class="op" id="6621706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621712">if</span>&nbsp;<span class="ident" id="6621715">wantContext</span>&nbsp;<span class="op" id="6621727">!=</span>&nbsp;<span class="ident" id="6621730">gotContext</span>&nbsp;<span class="op" id="6621741">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621745">t</span><span class="op" id="6621746">.</span><span class="ident" id="6621747">Errorf</span><span class="op" id="6621753">(</span><span class="string" id="6621754">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6621791">,</span>&nbsp;<span class="ident" id="6621793">wantContext</span><span class="op" id="6621804">,</span>&nbsp;<span class="ident" id="6621806">gotContext</span><span class="op" id="6621816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621819">}</span><br>
<span class="lineno"></span><span class="op" id="6621821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6621824">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6621907">var</span>&nbsp;<span class="ident" id="6621911">errorTests</span>&nbsp;<span class="op" id="6621922">=</span>&nbsp;<span class="op" id="6621924">[</span><span class="op" id="6621925">]</span><span class="ident" id="6621926">parseTest</span><span class="op" id="6621935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6621938">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621975">{</span><span class="string" id="6621976">&#34;unclosed1&#34;</span><span class="op" id="6621987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6621991">&#34;line1\n{{&#34;</span><span class="op" id="6622002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622006">hasError</span><span class="op" id="6622014">,</span>&nbsp;<span class="string" id="6622016">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6622068">}</span><span class="op" id="6622069">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622072">{</span><span class="string" id="6622073">&#34;unclosed2&#34;</span><span class="op" id="6622084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622088">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6622120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622124">hasError</span><span class="op" id="6622132">,</span>&nbsp;<span class="string" id="6622134">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6622186">}</span><span class="op" id="6622187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6622190">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622211">{</span><span class="string" id="6622212">&#34;function&#34;</span><span class="op" id="6622222">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622226">&#34;{{foo}}&#34;</span><span class="op" id="6622235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622239">hasError</span><span class="op" id="6622247">,</span>&nbsp;<span class="string" id="6622249">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6622277">}</span><span class="op" id="6622278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622281">{</span><span class="string" id="6622282">&#34;comment&#34;</span><span class="op" id="6622291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622295">&#34;{{/*}}&#34;</span><span class="op" id="6622303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622307">hasError</span><span class="op" id="6622315">,</span>&nbsp;<span class="string" id="6622317">`unclosed&nbsp;comment`</span><span class="op" id="6622335">}</span><span class="op" id="6622336">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622339">{</span><span class="string" id="6622340">&#34;lparen&#34;</span><span class="op" id="6622348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622352">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6622367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622371">hasError</span><span class="op" id="6622379">,</span>&nbsp;<span class="string" id="6622381">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6622402">}</span><span class="op" id="6622403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622406">{</span><span class="string" id="6622407">&#34;rparen&#34;</span><span class="op" id="6622415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622419">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6622434">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622438">hasError</span><span class="op" id="6622446">,</span>&nbsp;<span class="string" id="6622448">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6622464">}</span><span class="op" id="6622465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622468">{</span><span class="string" id="6622469">&#34;space&#34;</span><span class="op" id="6622476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622480">&#34;{{`x`3}}&#34;</span><span class="op" id="6622490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622494">hasError</span><span class="op" id="6622502">,</span>&nbsp;<span class="string" id="6622504">`missing&nbsp;space?`</span><span class="op" id="6622520">}</span><span class="op" id="6622521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622524">{</span><span class="string" id="6622525">&#34;idchar&#34;</span><span class="op" id="6622533">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622537">&#34;{{a#}}&#34;</span><span class="op" id="6622545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622549">hasError</span><span class="op" id="6622557">,</span>&nbsp;<span class="string" id="6622559">`&#39;#&#39;`</span><span class="op" id="6622564">}</span><span class="op" id="6622565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622568">{</span><span class="string" id="6622569">&#34;charconst&#34;</span><span class="op" id="6622580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622584">&#34;{{&#39;a}}&#34;</span><span class="op" id="6622592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622596">hasError</span><span class="op" id="6622604">,</span>&nbsp;<span class="string" id="6622606">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6622639">}</span><span class="op" id="6622640">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622643">{</span><span class="string" id="6622644">&#34;stringconst&#34;</span><span class="op" id="6622657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622661">`{{&#34;a}}`</span><span class="op" id="6622669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622673">hasError</span><span class="op" id="6622681">,</span>&nbsp;<span class="string" id="6622683">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6622711">}</span><span class="op" id="6622712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622715">{</span><span class="string" id="6622716">&#34;rawstringconst&#34;</span><span class="op" id="6622732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622736">&#34;{{`a}}&#34;</span><span class="op" id="6622744">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622748">hasError</span><span class="op" id="6622756">,</span>&nbsp;<span class="string" id="6622758">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6622790">}</span><span class="op" id="6622791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622794">{</span><span class="string" id="6622795">&#34;number&#34;</span><span class="op" id="6622803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622807">&#34;{{0xi}}&#34;</span><span class="op" id="6622816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622820">hasError</span><span class="op" id="6622828">,</span>&nbsp;<span class="string" id="6622830">`number&nbsp;syntax`</span><span class="op" id="6622845">}</span><span class="op" id="6622846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622849">{</span><span class="string" id="6622850">&#34;multidefine&#34;</span><span class="op" id="6622863">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622867">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6622913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622917">hasError</span><span class="op" id="6622925">,</span>&nbsp;<span class="string" id="6622927">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6622960">}</span><span class="op" id="6622961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622964">{</span><span class="string" id="6622965">&#34;eof&#34;</span><span class="op" id="6622970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6622974">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6622988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622992">hasError</span><span class="op" id="6623000">,</span>&nbsp;<span class="string" id="6623002">`unexpected&nbsp;EOF`</span><span class="op" id="6623018">}</span><span class="op" id="6623019">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623022">{</span><span class="string" id="6623023">&#34;variable&#34;</span><span class="op" id="6623033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6623037">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6623136">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6623184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623188">hasError</span><span class="op" id="6623196">,</span>&nbsp;<span class="string" id="6623198">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6623215">}</span><span class="op" id="6623216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623219">{</span><span class="string" id="6623220">&#34;multidecl&#34;</span><span class="op" id="6623231">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6623235">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6623255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623259">hasError</span><span class="op" id="6623267">,</span>&nbsp;<span class="string" id="6623269">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6623292">}</span><span class="op" id="6623293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623296">{</span><span class="string" id="6623297">&#34;undefvar&#34;</span><span class="op" id="6623307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6623311">&#34;{{$a}}&#34;</span><span class="op" id="6623319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623323">hasError</span><span class="op" id="6623331">,</span>&nbsp;<span class="string" id="6623333">`undefined&nbsp;variable`</span><span class="op" id="6623353">}</span><span class="op" id="6623354">,</span><br>
<span class="lineno">410</span><span class="op" id="6623356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6623359">func</span>&nbsp;<span class="ident" id="6623364">TestErrors</span><span class="op" id="6623374">(</span><span class="ident" id="6623375">t</span>&nbsp;<span class="op" id="6623377">*</span><span class="ident" id="6623378">testing</span><span class="op" id="6623385">.</span><span class="ident" id="6623386">T</span><span class="op" id="6623387">)</span>&nbsp;<span class="op" id="6623389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623392">for</span>&nbsp;<span class="ident" id="6623396">_</span><span class="op" id="6623397">,</span>&nbsp;<span class="ident" id="6623399">test</span>&nbsp;<span class="op" id="6623404">:=</span>&nbsp;<span class="keyword" id="6623407">range</span>&nbsp;<span class="ident" id="6623413">errorTests</span>&nbsp;<span class="op" id="6623424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623428">_</span><span class="op" id="6623429">,</span>&nbsp;<span class="ident" id="6623431">err</span>&nbsp;<span class="op" id="6623435">:=</span>&nbsp;<span class="ident" id="6623438">New</span><span class="op" id="6623441">(</span><span class="ident" id="6623442">test</span><span class="op" id="6623446">.</span><span class="ident" id="6623447">name</span><span class="op" id="6623451">)</span><span class="op" id="6623452">.</span><span class="ident" id="6623453">Parse</span><span class="op" id="6623458">(</span><span class="ident" id="6623459">test</span><span class="op" id="6623463">.</span><span class="ident" id="6623464">input</span><span class="op" id="6623469">,</span>&nbsp;<span class="string" id="6623471">&#34;&#34;</span><span class="op" id="6623473">,</span>&nbsp;<span class="string" id="6623475">&#34;&#34;</span><span class="op" id="6623477">,</span>&nbsp;<span class="builtinfunc" id="6623479">make</span><span class="op" id="6623483">(</span><span class="keyword" id="6623484">map</span><span class="op" id="6623487">[</span><span class="builtintype" id="6623488">string</span><span class="op" id="6623494">]</span><span class="op" id="6623495">*</span><span class="ident" id="6623496">Tree</span><span class="op" id="6623500">)</span><span class="op" id="6623501">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623505">if</span>&nbsp;<span class="ident" id="6623508">err</span>&nbsp;<span class="op" id="6623512">==</span>&nbsp;<span class="ident" id="6623515">nil</span>&nbsp;<span class="op" id="6623519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623524">t</span><span class="op" id="6623525">.</span><span class="ident" id="6623526">Errorf</span><span class="op" id="6623532">(</span><span class="string" id="6623533">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6623553">,</span>&nbsp;<span class="ident" id="6623555">test</span><span class="op" id="6623559">.</span><span class="ident" id="6623560">name</span><span class="op" id="6623564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623569">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623584">if</span>&nbsp;<span class="op" id="6623587">!</span><span class="ident" id="6623588">strings</span><span class="op" id="6623595">.</span><span class="ident" id="6623596">Contains</span><span class="op" id="6623604">(</span><span class="ident" id="6623605">err</span><span class="op" id="6623608">.</span><span class="ident" id="6623609">Error</span><span class="op" id="6623614">(</span><span class="op" id="6623615">)</span><span class="op" id="6623616">,</span>&nbsp;<span class="ident" id="6623618">test</span><span class="op" id="6623622">.</span><span class="ident" id="6623623">result</span><span class="op" id="6623629">)</span>&nbsp;<span class="op" id="6623631">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623636">t</span><span class="op" id="6623637">.</span><span class="ident" id="6623638">Errorf</span><span class="op" id="6623644">(</span><span class="string" id="6623645">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6623679">,</span>&nbsp;<span class="ident" id="6623681">test</span><span class="op" id="6623685">.</span><span class="ident" id="6623686">name</span><span class="op" id="6623690">,</span>&nbsp;<span class="ident" id="6623692">err</span><span class="op" id="6623695">,</span>&nbsp;<span class="ident" id="6623697">test</span><span class="op" id="6623701">.</span><span class="ident" id="6623702">result</span><span class="op" id="6623708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623715">}</span><br>
<span class="lineno"></span><span class="op" id="6623717">}</span>
</div>
</body>
</html>
