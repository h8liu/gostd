<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2493855">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2493910">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2493964">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2494015">package</span>&nbsp;<span class="ident" id="2494023">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2494027">import</span>&nbsp;<span class="op" id="2494034">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2494037">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2494048">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2494055">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2494058">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2494123">func</span>&nbsp;<span class="ident" id="2494128">Getpagesize</span><span class="op" id="2494139">(</span><span class="op" id="2494140">)</span>&nbsp;<span class="builtintype" id="2494142">int</span>&nbsp;<span class="op" id="2494146">{</span>&nbsp;<span class="keyword" id="2494148">return</span>&nbsp;<span class="ident" id="2494155">syscall</span><span class="op" id="2494162">.</span><span class="ident" id="2494163">Getpagesize</span><span class="op" id="2494174">(</span><span class="op" id="2494175">)</span>&nbsp;<span class="op" id="2494177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2494180">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2494246">type</span>&nbsp;<span class="ident" id="2494251">FileInfo</span>&nbsp;<span class="keyword" id="2494260">interface</span>&nbsp;<span class="op" id="2494270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494273">Name</span><span class="op" id="2494277">(</span><span class="op" id="2494278">)</span>&nbsp;<span class="builtintype" id="2494280">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2494293">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494319">Size</span><span class="op" id="2494323">(</span><span class="op" id="2494324">)</span>&nbsp;<span class="ident" id="2494326">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2494339">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494406">Mode</span><span class="op" id="2494410">(</span><span class="op" id="2494411">)</span>&nbsp;<span class="ident" id="2494413">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2494426">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494445">ModTime</span><span class="op" id="2494452">(</span><span class="op" id="2494453">)</span>&nbsp;<span class="ident" id="2494455">time</span><span class="op" id="2494459">.</span><span class="ident" id="2494460">Time</span>&nbsp;<span class="comment" id="2494465">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494487">IsDir</span><span class="op" id="2494492">(</span><span class="op" id="2494493">)</span>&nbsp;<span class="builtintype" id="2494495">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2494507">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494543">Sys</span><span class="op" id="2494546">(</span><span class="op" id="2494547">)</span>&nbsp;<span class="keyword" id="2494549">interface</span><span class="op" id="2494558">{</span><span class="op" id="2494559">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2494563">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2494606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2494609">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2494669">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2494730">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2494786">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2494846">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2494899">type</span>&nbsp;<span class="ident" id="2494904">FileMode</span>&nbsp;<span class="builtintype" id="2494913">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2494921">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2494998">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2495078">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2495154">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2495229">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2495275">const</span>&nbsp;<span class="op" id="2495281">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2495284">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2495329">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495373">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2495388">FileMode</span>&nbsp;<span class="op" id="2495397">=</span>&nbsp;<span class="num" id="2495399">1</span>&nbsp;<span class="op" id="2495401">&lt;&lt;</span>&nbsp;<span class="op" id="2495404">(</span><span class="num" id="2495405">32</span>&nbsp;<span class="op" id="2495408">-</span>&nbsp;<span class="num" id="2495410">1</span>&nbsp;<span class="op" id="2495412">-</span>&nbsp;<span class="ident" id="2495414">iota</span><span class="op" id="2495418">)</span>&nbsp;<span class="comment" id="2495420">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495442">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495489">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495508">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495555">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495576">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495623">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495661">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495708">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495729">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495776">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495795">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495842">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495867">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495914">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495940">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2495987">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496001">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2496048">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496062">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2496109">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496162">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2496209">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2496224">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496289">ModeType</span>&nbsp;<span class="op" id="2496298">=</span>&nbsp;<span class="ident" id="2496300">ModeDir</span>&nbsp;<span class="op" id="2496308">|</span>&nbsp;<span class="ident" id="2496310">ModeSymlink</span>&nbsp;<span class="op" id="2496322">|</span>&nbsp;<span class="ident" id="2496324">ModeNamedPipe</span>&nbsp;<span class="op" id="2496338">|</span>&nbsp;<span class="ident" id="2496340">ModeSocket</span>&nbsp;<span class="op" id="2496351">|</span>&nbsp;<span class="ident" id="2496353">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496366">ModePerm</span>&nbsp;<span class="ident" id="2496375">FileMode</span>&nbsp;<span class="op" id="2496384">=</span>&nbsp;<span class="num" id="2496386">0777</span>&nbsp;<span class="comment" id="2496391">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2496410">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2496413">func</span>&nbsp;<span class="op" id="2496418">(</span><span class="ident" id="2496419">m</span>&nbsp;<span class="ident" id="2496421">FileMode</span><span class="op" id="2496429">)</span>&nbsp;<span class="ident" id="2496431">String</span><span class="op" id="2496437">(</span><span class="op" id="2496438">)</span>&nbsp;<span class="builtintype" id="2496440">string</span>&nbsp;<span class="op" id="2496447">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496450">const</span>&nbsp;<span class="ident" id="2496456">str</span>&nbsp;<span class="op" id="2496460">=</span>&nbsp;<span class="string" id="2496462">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496478">var</span>&nbsp;<span class="ident" id="2496482">buf</span>&nbsp;<span class="op" id="2496486">[</span><span class="num" id="2496487">32</span><span class="op" id="2496489">]</span><span class="builtintype" id="2496490">byte</span>&nbsp;<span class="comment" id="2496495">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496515">w</span>&nbsp;<span class="op" id="2496517">:=</span>&nbsp;<span class="num" id="2496520">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496523">for</span>&nbsp;<span class="ident" id="2496527">i</span><span class="op" id="2496528">,</span>&nbsp;<span class="ident" id="2496530">c</span>&nbsp;<span class="op" id="2496532">:=</span>&nbsp;<span class="keyword" id="2496535">range</span>&nbsp;<span class="ident" id="2496541">str</span>&nbsp;<span class="op" id="2496545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496549">if</span>&nbsp;<span class="ident" id="2496552">m</span><span class="op" id="2496553">&amp;</span><span class="op" id="2496554">(</span><span class="num" id="2496555">1</span><span class="op" id="2496556">&lt;&lt;</span><span class="builtintype" id="2496558">uint</span><span class="op" id="2496562">(</span><span class="num" id="2496563">32</span><span class="op" id="2496565">-</span><span class="num" id="2496566">1</span><span class="op" id="2496567">-</span><span class="ident" id="2496568">i</span><span class="op" id="2496569">)</span><span class="op" id="2496570">)</span>&nbsp;<span class="op" id="2496572">!=</span>&nbsp;<span class="num" id="2496575">0</span>&nbsp;<span class="op" id="2496577">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496582">buf</span><span class="op" id="2496585">[</span><span class="ident" id="2496586">w</span><span class="op" id="2496587">]</span>&nbsp;<span class="op" id="2496589">=</span>&nbsp;<span class="builtintype" id="2496591">byte</span><span class="op" id="2496595">(</span><span class="ident" id="2496596">c</span><span class="op" id="2496597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496602">w</span><span class="op" id="2496603">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496614">if</span>&nbsp;<span class="ident" id="2496617">w</span>&nbsp;<span class="op" id="2496619">==</span>&nbsp;<span class="num" id="2496622">0</span>&nbsp;<span class="op" id="2496624">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496628">buf</span><span class="op" id="2496631">[</span><span class="ident" id="2496632">w</span><span class="op" id="2496633">]</span>&nbsp;<span class="op" id="2496635">=</span>&nbsp;<span class="string" id="2496637">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496643">w</span><span class="op" id="2496644">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496651">const</span>&nbsp;<span class="ident" id="2496657">rwx</span>&nbsp;<span class="op" id="2496661">=</span>&nbsp;<span class="string" id="2496663">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496676">for</span>&nbsp;<span class="ident" id="2496680">i</span><span class="op" id="2496681">,</span>&nbsp;<span class="ident" id="2496683">c</span>&nbsp;<span class="op" id="2496685">:=</span>&nbsp;<span class="keyword" id="2496688">range</span>&nbsp;<span class="ident" id="2496694">rwx</span>&nbsp;<span class="op" id="2496698">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496702">if</span>&nbsp;<span class="ident" id="2496705">m</span><span class="op" id="2496706">&amp;</span><span class="op" id="2496707">(</span><span class="num" id="2496708">1</span><span class="op" id="2496709">&lt;&lt;</span><span class="builtintype" id="2496711">uint</span><span class="op" id="2496715">(</span><span class="num" id="2496716">9</span><span class="op" id="2496717">-</span><span class="num" id="2496718">1</span><span class="op" id="2496719">-</span><span class="ident" id="2496720">i</span><span class="op" id="2496721">)</span><span class="op" id="2496722">)</span>&nbsp;<span class="op" id="2496724">!=</span>&nbsp;<span class="num" id="2496727">0</span>&nbsp;<span class="op" id="2496729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496734">buf</span><span class="op" id="2496737">[</span><span class="ident" id="2496738">w</span><span class="op" id="2496739">]</span>&nbsp;<span class="op" id="2496741">=</span>&nbsp;<span class="builtintype" id="2496743">byte</span><span class="op" id="2496747">(</span><span class="ident" id="2496748">c</span><span class="op" id="2496749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496753">}</span>&nbsp;<span class="keyword" id="2496755">else</span>&nbsp;<span class="op" id="2496760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496765">buf</span><span class="op" id="2496768">[</span><span class="ident" id="2496769">w</span><span class="op" id="2496770">]</span>&nbsp;<span class="op" id="2496772">=</span>&nbsp;<span class="string" id="2496774">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496780">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496784">w</span><span class="op" id="2496785">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2496789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496792">return</span>&nbsp;<span class="builtintype" id="2496799">string</span><span class="op" id="2496805">(</span><span class="ident" id="2496806">buf</span><span class="op" id="2496809">[</span><span class="op" id="2496810">:</span><span class="ident" id="2496811">w</span><span class="op" id="2496812">]</span><span class="op" id="2496813">)</span><br>
<span class="lineno"></span><span class="op" id="2496815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2496818">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2496868">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2496925">func</span>&nbsp;<span class="op" id="2496930">(</span><span class="ident" id="2496931">m</span>&nbsp;<span class="ident" id="2496933">FileMode</span><span class="op" id="2496941">)</span>&nbsp;<span class="ident" id="2496943">IsDir</span><span class="op" id="2496948">(</span><span class="op" id="2496949">)</span>&nbsp;<span class="builtintype" id="2496951">bool</span>&nbsp;<span class="op" id="2496956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2496959">return</span>&nbsp;<span class="ident" id="2496966">m</span><span class="op" id="2496967">&amp;</span><span class="ident" id="2496968">ModeDir</span>&nbsp;<span class="op" id="2496976">!=</span>&nbsp;<span class="num" id="2496979">0</span><br>
<span class="lineno"></span><span class="op" id="2496981">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2496984">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2497041">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2497094">func</span>&nbsp;<span class="op" id="2497099">(</span><span class="ident" id="2497100">m</span>&nbsp;<span class="ident" id="2497102">FileMode</span><span class="op" id="2497110">)</span>&nbsp;<span class="ident" id="2497112">IsRegular</span><span class="op" id="2497121">(</span><span class="op" id="2497122">)</span>&nbsp;<span class="builtintype" id="2497124">bool</span>&nbsp;<span class="op" id="2497129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497132">return</span>&nbsp;<span class="ident" id="2497139">m</span><span class="op" id="2497140">&amp;</span><span class="ident" id="2497141">ModeType</span>&nbsp;<span class="op" id="2497150">==</span>&nbsp;<span class="num" id="2497153">0</span><br>
<span class="lineno">95</span><span class="op" id="2497155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2497158">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2497205">func</span>&nbsp;<span class="op" id="2497210">(</span><span class="ident" id="2497211">m</span>&nbsp;<span class="ident" id="2497213">FileMode</span><span class="op" id="2497221">)</span>&nbsp;<span class="ident" id="2497223">Perm</span><span class="op" id="2497227">(</span><span class="op" id="2497228">)</span>&nbsp;<span class="ident" id="2497230">FileMode</span>&nbsp;<span class="op" id="2497239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497242">return</span>&nbsp;<span class="ident" id="2497249">m</span>&nbsp;<span class="op" id="2497251">&amp;</span>&nbsp;<span class="ident" id="2497253">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2497262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2497265">func</span>&nbsp;<span class="op" id="2497270">(</span><span class="ident" id="2497271">fs</span>&nbsp;<span class="op" id="2497274">*</span><span class="ident" id="2497275">fileStat</span><span class="op" id="2497283">)</span>&nbsp;<span class="ident" id="2497285">Name</span><span class="op" id="2497289">(</span><span class="op" id="2497290">)</span>&nbsp;<span class="builtintype" id="2497292">string</span>&nbsp;<span class="op" id="2497299">{</span>&nbsp;<span class="keyword" id="2497301">return</span>&nbsp;<span class="ident" id="2497308">fs</span><span class="op" id="2497310">.</span><span class="ident" id="2497311">name</span>&nbsp;<span class="op" id="2497316">}</span><br>
<span class="lineno"></span><span class="keyword" id="2497318">func</span>&nbsp;<span class="op" id="2497323">(</span><span class="ident" id="2497324">fs</span>&nbsp;<span class="op" id="2497327">*</span><span class="ident" id="2497328">fileStat</span><span class="op" id="2497336">)</span>&nbsp;<span class="ident" id="2497338">IsDir</span><span class="op" id="2497343">(</span><span class="op" id="2497344">)</span>&nbsp;<span class="builtintype" id="2497346">bool</span>&nbsp;&nbsp;<span class="op" id="2497352">{</span>&nbsp;<span class="keyword" id="2497354">return</span>&nbsp;<span class="ident" id="2497361">fs</span><span class="op" id="2497363">.</span><span class="ident" id="2497364">Mode</span><span class="op" id="2497368">(</span><span class="op" id="2497369">)</span><span class="op" id="2497370">.</span><span class="ident" id="2497371">IsDir</span><span class="op" id="2497376">(</span><span class="op" id="2497377">)</span>&nbsp;<span class="op" id="2497379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2497382">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2497446">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2497514">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2497582">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2497630">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2497699">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2497735">func</span>&nbsp;<span class="ident" id="2497740">SameFile</span><span class="op" id="2497748">(</span><span class="ident" id="2497749">fi1</span><span class="op" id="2497752">,</span>&nbsp;<span class="ident" id="2497754">fi2</span>&nbsp;<span class="ident" id="2497758">FileInfo</span><span class="op" id="2497766">)</span>&nbsp;<span class="builtintype" id="2497768">bool</span>&nbsp;<span class="op" id="2497773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497776">fs1</span><span class="op" id="2497779">,</span>&nbsp;<span class="ident" id="2497781">ok1</span>&nbsp;<span class="op" id="2497785">:=</span>&nbsp;<span class="ident" id="2497788">fi1</span><span class="op" id="2497791">.</span><span class="op" id="2497792">(</span><span class="op" id="2497793">*</span><span class="ident" id="2497794">fileStat</span><span class="op" id="2497802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497805">fs2</span><span class="op" id="2497808">,</span>&nbsp;<span class="ident" id="2497810">ok2</span>&nbsp;<span class="op" id="2497814">:=</span>&nbsp;<span class="ident" id="2497817">fi2</span><span class="op" id="2497820">.</span><span class="op" id="2497821">(</span><span class="op" id="2497822">*</span><span class="ident" id="2497823">fileStat</span><span class="op" id="2497831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497834">if</span>&nbsp;<span class="op" id="2497837">!</span><span class="ident" id="2497838">ok1</span>&nbsp;<span class="op" id="2497842">||</span>&nbsp;<span class="op" id="2497845">!</span><span class="ident" id="2497846">ok2</span>&nbsp;<span class="op" id="2497850">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497854">return</span>&nbsp;<span class="builtintype" id="2497861">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497871">return</span>&nbsp;<span class="ident" id="2497878">sameFile</span><span class="op" id="2497886">(</span><span class="ident" id="2497887">fs1</span><span class="op" id="2497890">,</span>&nbsp;<span class="ident" id="2497892">fs2</span><span class="op" id="2497895">)</span><br>
<span class="lineno"></span><span class="op" id="2497897">}</span>
</div>
</body>
</html>
