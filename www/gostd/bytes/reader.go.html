<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bytes</h2>
<ul>
<li><a href="/gostd/bytes/buffer.go.html">buffer.go</a></li>
<li><a href="/gostd/bytes/buffer_test.go.html">buffer_test.go</a></li>
<li><a href="/gostd/bytes/bytes.go.html">bytes.go</a></li>
<li><a href="/gostd/bytes/bytes_decl.go.html">bytes_decl.go</a></li>
<li><a href="/gostd/bytes/bytes_test.go.html">bytes_test.go</a></li>
<li><a href="/gostd/bytes/compare_test.go.html">compare_test.go</a></li>
<li><a href="/gostd/bytes/equal_test.go.html">equal_test.go</a></li>
<li><a href="/gostd/bytes/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bytes/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/bytes/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/bytes/reader_test.go.html">reader_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1415154">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1415209">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1415263">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1415314">package</span>&nbsp;<span class="ident" id="1415322">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1415329">import</span>&nbsp;<span class="op" id="1415336">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1415339">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1415349">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1415355">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1415370">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1415373">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.WriterTo,&nbsp;io.Seeker,</span><br>
<span class="lineno"></span><span class="comment" id="1415448">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading&nbsp;from</span><br>
<span class="lineno">15</span><span class="comment" id="1415513">//&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="1415530">//&nbsp;Unlike&nbsp;a&nbsp;Buffer,&nbsp;a&nbsp;Reader&nbsp;is&nbsp;read-only&nbsp;and&nbsp;supports&nbsp;seeking.</span><br>
<span class="lineno"></span><span class="keyword" id="1415594">type</span>&nbsp;<span class="ident" id="1415599">Reader</span>&nbsp;<span class="keyword" id="1415606">struct</span>&nbsp;<span class="op" id="1415613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1415616">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1415625">[</span><span class="op" id="1415626">]</span><span class="builtintype" id="1415627">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1415633">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1415642">int64</span>&nbsp;<span class="comment" id="1415648">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1415674">prevRune</span>&nbsp;<span class="builtintype" id="1415683">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1415689">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="op" id="1415723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1415726">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1415790">//&nbsp;slice.</span><br>
<span class="lineno">25</span><span class="keyword" id="1415800">func</span>&nbsp;<span class="op" id="1415805">(</span><span class="ident" id="1415806">r</span>&nbsp;<span class="op" id="1415808">*</span><span class="ident" id="1415809"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1415815">)</span>&nbsp;<span class="ident" id="1415817">Len</span><span class="op" id="1415820">(</span><span class="op" id="1415821">)</span>&nbsp;<span class="builtintype" id="1415823">int</span>&nbsp;<span class="op" id="1415827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1415830">if</span>&nbsp;<span class="ident" id="1415833"><a href="/gostd/bytes/reader.go.html#1415806">r</a></span><span class="op" id="1415834">.</span><span class="ident" id="1415835"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1415837">&gt;=</span>&nbsp;<span class="builtintype" id="1415840">int64</span><span class="op" id="1415845">(</span><span class="builtinfunc" id="1415846">len</span><span class="op" id="1415849">(</span><span class="ident" id="1415850"><a href="/gostd/bytes/reader.go.html#1415806">r</a></span><span class="op" id="1415851">.</span><span class="ident" id="1415852"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1415853">)</span><span class="op" id="1415854">)</span>&nbsp;<span class="op" id="1415856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1415860">return</span>&nbsp;<span class="num" id="1415867">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1415870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1415873">return</span>&nbsp;<span class="builtintype" id="1415880">int</span><span class="op" id="1415883">(</span><span class="builtintype" id="1415884">int64</span><span class="op" id="1415889">(</span><span class="builtinfunc" id="1415890">len</span><span class="op" id="1415893">(</span><span class="ident" id="1415894"><a href="/gostd/bytes/reader.go.html#1415806">r</a></span><span class="op" id="1415895">.</span><span class="ident" id="1415896"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1415897">)</span><span class="op" id="1415898">)</span>&nbsp;<span class="op" id="1415900">-</span>&nbsp;<span class="ident" id="1415902"><a href="/gostd/bytes/reader.go.html#1415806">r</a></span><span class="op" id="1415903">.</span><span class="ident" id="1415904"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1415905">)</span><br>
<span class="lineno">30</span><span class="op" id="1415907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1415910">func</span>&nbsp;<span class="op" id="1415915">(</span><span class="ident" id="1415916">r</span>&nbsp;<span class="op" id="1415918">*</span><span class="ident" id="1415919"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1415925">)</span>&nbsp;<span class="ident" id="1415927">Read</span><span class="op" id="1415931">(</span><span class="ident" id="1415932">b</span>&nbsp;<span class="op" id="1415934">[</span><span class="op" id="1415935">]</span><span class="builtintype" id="1415936">byte</span><span class="op" id="1415940">)</span>&nbsp;<span class="op" id="1415942">(</span><span class="ident" id="1415943">n</span>&nbsp;<span class="builtintype" id="1415945">int</span><span class="op" id="1415948">,</span>&nbsp;<span class="ident" id="1415950">err</span>&nbsp;<span class="builtintype" id="1415954">error</span><span class="op" id="1415959">)</span>&nbsp;<span class="op" id="1415961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1415964">if</span>&nbsp;<span class="builtinfunc" id="1415967">len</span><span class="op" id="1415970">(</span><span class="ident" id="1415971"><a href="/gostd/bytes/reader.go.html#1415932">b</a></span><span class="op" id="1415972">)</span>&nbsp;<span class="op" id="1415974">==</span>&nbsp;<span class="num" id="1415977">0</span>&nbsp;<span class="op" id="1415979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1415983">return</span>&nbsp;<span class="num" id="1415990">0</span><span class="op" id="1415991">,</span>&nbsp;<span class="builtintype" id="1415993">nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1415998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416001">if</span>&nbsp;<span class="ident" id="1416004"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416005">.</span><span class="ident" id="1416006"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1416008">&gt;=</span>&nbsp;<span class="builtintype" id="1416011">int64</span><span class="op" id="1416016">(</span><span class="builtinfunc" id="1416017">len</span><span class="op" id="1416020">(</span><span class="ident" id="1416021"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416022">.</span><span class="ident" id="1416023"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416024">)</span><span class="op" id="1416025">)</span>&nbsp;<span class="op" id="1416027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416031">return</span>&nbsp;<span class="num" id="1416038">0</span><span class="op" id="1416039">,</span>&nbsp;<span class="ident" id="1416041"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1416043">.</span><span class="ident" id="1416044"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416052"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416053">.</span><span class="ident" id="1416054"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1416063">=</span>&nbsp;<span class="op" id="1416065">-</span><span class="num" id="1416066">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416069"><a href="/gostd/bytes/reader.go.html#1415943">n</a></span>&nbsp;<span class="op" id="1416071">=</span>&nbsp;<span class="builtinfunc" id="1416073">copy</span><span class="op" id="1416077">(</span><span class="ident" id="1416078"><a href="/gostd/bytes/reader.go.html#1415932">b</a></span><span class="op" id="1416079">,</span>&nbsp;<span class="ident" id="1416081"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416082">.</span><span class="ident" id="1416083"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416084">[</span><span class="ident" id="1416085"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416086">.</span><span class="ident" id="1416087"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416088">:</span><span class="op" id="1416089">]</span><span class="op" id="1416090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416093"><a href="/gostd/bytes/reader.go.html#1415916">r</a></span><span class="op" id="1416094">.</span><span class="ident" id="1416095"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1416097">+=</span>&nbsp;<span class="builtintype" id="1416100">int64</span><span class="op" id="1416105">(</span><span class="ident" id="1416106"><a href="/gostd/bytes/reader.go.html#1415943">n</a></span><span class="op" id="1416107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416110">return</span><br>
<span class="lineno"></span><span class="op" id="1416117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="1416120">func</span>&nbsp;<span class="op" id="1416125">(</span><span class="ident" id="1416126">r</span>&nbsp;<span class="op" id="1416128">*</span><span class="ident" id="1416129"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1416135">)</span>&nbsp;<span class="ident" id="1416137">ReadAt</span><span class="op" id="1416143">(</span><span class="ident" id="1416144">b</span>&nbsp;<span class="op" id="1416146">[</span><span class="op" id="1416147">]</span><span class="builtintype" id="1416148">byte</span><span class="op" id="1416152">,</span>&nbsp;<span class="ident" id="1416154">off</span>&nbsp;<span class="builtintype" id="1416158">int64</span><span class="op" id="1416163">)</span>&nbsp;<span class="op" id="1416165">(</span><span class="ident" id="1416166">n</span>&nbsp;<span class="builtintype" id="1416168">int</span><span class="op" id="1416171">,</span>&nbsp;<span class="ident" id="1416173">err</span>&nbsp;<span class="builtintype" id="1416177">error</span><span class="op" id="1416182">)</span>&nbsp;<span class="op" id="1416184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1416187">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416229">if</span>&nbsp;<span class="ident" id="1416232"><a href="/gostd/bytes/reader.go.html#1416154">off</a></span>&nbsp;<span class="op" id="1416236">&lt;</span>&nbsp;<span class="num" id="1416238">0</span>&nbsp;<span class="op" id="1416240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416244">return</span>&nbsp;<span class="num" id="1416251">0</span><span class="op" id="1416252">,</span>&nbsp;<span class="ident" id="1416254"><a href="/gostd/bytes/reader.go.html#1415339">errors</a></span><span class="op" id="1416260">.</span><span class="ident" id="1416261"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1416264">(</span><span class="string" id="1416265">&#34;bytes.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="1416303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416306">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416309">if</span>&nbsp;<span class="ident" id="1416312"><a href="/gostd/bytes/reader.go.html#1416154">off</a></span>&nbsp;<span class="op" id="1416316">&gt;=</span>&nbsp;<span class="builtintype" id="1416319">int64</span><span class="op" id="1416324">(</span><span class="builtinfunc" id="1416325">len</span><span class="op" id="1416328">(</span><span class="ident" id="1416329"><a href="/gostd/bytes/reader.go.html#1416126">r</a></span><span class="op" id="1416330">.</span><span class="ident" id="1416331"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416332">)</span><span class="op" id="1416333">)</span>&nbsp;<span class="op" id="1416335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416339">return</span>&nbsp;<span class="num" id="1416346">0</span><span class="op" id="1416347">,</span>&nbsp;<span class="ident" id="1416349"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1416351">.</span><span class="ident" id="1416352"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416360"><a href="/gostd/bytes/reader.go.html#1416166">n</a></span>&nbsp;<span class="op" id="1416362">=</span>&nbsp;<span class="builtinfunc" id="1416364">copy</span><span class="op" id="1416368">(</span><span class="ident" id="1416369"><a href="/gostd/bytes/reader.go.html#1416144">b</a></span><span class="op" id="1416370">,</span>&nbsp;<span class="ident" id="1416372"><a href="/gostd/bytes/reader.go.html#1416126">r</a></span><span class="op" id="1416373">.</span><span class="ident" id="1416374"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416375">[</span><span class="ident" id="1416376"><a href="/gostd/bytes/reader.go.html#1416154">off</a></span><span class="op" id="1416379">:</span><span class="op" id="1416380">]</span><span class="op" id="1416381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416384">if</span>&nbsp;<span class="ident" id="1416387"><a href="/gostd/bytes/reader.go.html#1416166">n</a></span>&nbsp;<span class="op" id="1416389">&lt;</span>&nbsp;<span class="builtinfunc" id="1416391">len</span><span class="op" id="1416394">(</span><span class="ident" id="1416395"><a href="/gostd/bytes/reader.go.html#1416144">b</a></span><span class="op" id="1416396">)</span>&nbsp;<span class="op" id="1416398">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416402"><a href="/gostd/bytes/reader.go.html#1416173">err</a></span>&nbsp;<span class="op" id="1416406">=</span>&nbsp;<span class="ident" id="1416408"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1416410">.</span><span class="ident" id="1416411"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416419">return</span><br>
<span class="lineno"></span><span class="op" id="1416426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="1416429">func</span>&nbsp;<span class="op" id="1416434">(</span><span class="ident" id="1416435">r</span>&nbsp;<span class="op" id="1416437">*</span><span class="ident" id="1416438"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1416444">)</span>&nbsp;<span class="ident" id="1416446">ReadByte</span><span class="op" id="1416454">(</span><span class="op" id="1416455">)</span>&nbsp;<span class="op" id="1416457">(</span><span class="ident" id="1416458">b</span>&nbsp;<span class="builtintype" id="1416460">byte</span><span class="op" id="1416464">,</span>&nbsp;<span class="ident" id="1416466">err</span>&nbsp;<span class="builtintype" id="1416470">error</span><span class="op" id="1416475">)</span>&nbsp;<span class="op" id="1416477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416480"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416481">.</span><span class="ident" id="1416482"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1416491">=</span>&nbsp;<span class="op" id="1416493">-</span><span class="num" id="1416494">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416497">if</span>&nbsp;<span class="ident" id="1416500"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416501">.</span><span class="ident" id="1416502"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1416504">&gt;=</span>&nbsp;<span class="builtintype" id="1416507">int64</span><span class="op" id="1416512">(</span><span class="builtinfunc" id="1416513">len</span><span class="op" id="1416516">(</span><span class="ident" id="1416517"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416518">.</span><span class="ident" id="1416519"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416520">)</span><span class="op" id="1416521">)</span>&nbsp;<span class="op" id="1416523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416527">return</span>&nbsp;<span class="num" id="1416534">0</span><span class="op" id="1416535">,</span>&nbsp;<span class="ident" id="1416537"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1416539">.</span><span class="ident" id="1416540"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416545">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416548"><a href="/gostd/bytes/reader.go.html#1416458">b</a></span>&nbsp;<span class="op" id="1416550">=</span>&nbsp;<span class="ident" id="1416552"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416553">.</span><span class="ident" id="1416554"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416555">[</span><span class="ident" id="1416556"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416557">.</span><span class="ident" id="1416558"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416559">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416562"><a href="/gostd/bytes/reader.go.html#1416435">r</a></span><span class="op" id="1416563">.</span><span class="ident" id="1416564"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416565">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416569">return</span><br>
<span class="lineno"></span><span class="op" id="1416576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1416579">func</span>&nbsp;<span class="op" id="1416584">(</span><span class="ident" id="1416585">r</span>&nbsp;<span class="op" id="1416587">*</span><span class="ident" id="1416588"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1416594">)</span>&nbsp;<span class="ident" id="1416596">UnreadByte</span><span class="op" id="1416606">(</span><span class="op" id="1416607">)</span>&nbsp;<span class="builtintype" id="1416609">error</span>&nbsp;<span class="op" id="1416615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416618"><a href="/gostd/bytes/reader.go.html#1416585">r</a></span><span class="op" id="1416619">.</span><span class="ident" id="1416620"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1416629">=</span>&nbsp;<span class="op" id="1416631">-</span><span class="num" id="1416632">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416635">if</span>&nbsp;<span class="ident" id="1416638"><a href="/gostd/bytes/reader.go.html#1416585">r</a></span><span class="op" id="1416639">.</span><span class="ident" id="1416640"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1416642">&lt;=</span>&nbsp;<span class="num" id="1416645">0</span>&nbsp;<span class="op" id="1416647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416651">return</span>&nbsp;<span class="ident" id="1416658"><a href="/gostd/bytes/reader.go.html#1415339">errors</a></span><span class="op" id="1416664">.</span><span class="ident" id="1416665"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1416668">(</span><span class="string" id="1416669">&#34;bytes.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;slice&#34;</span><span class="op" id="1416717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416720">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416723"><a href="/gostd/bytes/reader.go.html#1416585">r</a></span><span class="op" id="1416724">.</span><span class="ident" id="1416725"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416726">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416730">return</span>&nbsp;<span class="builtintype" id="1416737">nil</span><br>
<span class="lineno"></span><span class="op" id="1416741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1416744">func</span>&nbsp;<span class="op" id="1416749">(</span><span class="ident" id="1416750">r</span>&nbsp;<span class="op" id="1416752">*</span><span class="ident" id="1416753"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1416759">)</span>&nbsp;<span class="ident" id="1416761">ReadRune</span><span class="op" id="1416769">(</span><span class="op" id="1416770">)</span>&nbsp;<span class="op" id="1416772">(</span><span class="ident" id="1416773">ch</span>&nbsp;<span class="builtintype" id="1416776">rune</span><span class="op" id="1416780">,</span>&nbsp;<span class="ident" id="1416782">size</span>&nbsp;<span class="builtintype" id="1416787">int</span><span class="op" id="1416790">,</span>&nbsp;<span class="ident" id="1416792">err</span>&nbsp;<span class="builtintype" id="1416796">error</span><span class="op" id="1416801">)</span>&nbsp;<span class="op" id="1416803">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416806">if</span>&nbsp;<span class="ident" id="1416809"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416810">.</span><span class="ident" id="1416811"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1416813">&gt;=</span>&nbsp;<span class="builtintype" id="1416816">int64</span><span class="op" id="1416821">(</span><span class="builtinfunc" id="1416822">len</span><span class="op" id="1416825">(</span><span class="ident" id="1416826"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416827">.</span><span class="ident" id="1416828"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416829">)</span><span class="op" id="1416830">)</span>&nbsp;<span class="op" id="1416832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416836"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416837">.</span><span class="ident" id="1416838"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1416847">=</span>&nbsp;<span class="op" id="1416849">-</span><span class="num" id="1416850">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416854">return</span>&nbsp;<span class="num" id="1416861">0</span><span class="op" id="1416862">,</span>&nbsp;<span class="num" id="1416864">0</span><span class="op" id="1416865">,</span>&nbsp;<span class="ident" id="1416867"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1416869">.</span><span class="ident" id="1416870"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416878"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416879">.</span><span class="ident" id="1416880"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1416889">=</span>&nbsp;<span class="builtintype" id="1416891">int</span><span class="op" id="1416894">(</span><span class="ident" id="1416895"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416896">.</span><span class="ident" id="1416897"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416898">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416901">if</span>&nbsp;<span class="ident" id="1416904">c</span>&nbsp;<span class="op" id="1416906">:=</span>&nbsp;<span class="ident" id="1416909"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416910">.</span><span class="ident" id="1416911"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1416912">[</span><span class="ident" id="1416913"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416914">.</span><span class="ident" id="1416915"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416916">]</span><span class="op" id="1416917">;</span>&nbsp;<span class="ident" id="1416919"><a href="/gostd/bytes/reader.go.html#1416904">c</a></span>&nbsp;<span class="op" id="1416921">&lt;</span>&nbsp;<span class="ident" id="1416923"><a href="/gostd/bytes/reader.go.html#1415355">utf8</a></span><span class="op" id="1416927">.</span><span class="ident" id="1416928"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="1416937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416941"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1416942">.</span><span class="ident" id="1416943"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1416944">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1416949">return</span>&nbsp;<span class="builtintype" id="1416956">rune</span><span class="op" id="1416960">(</span><span class="ident" id="1416961"><a href="/gostd/bytes/reader.go.html#1416904">c</a></span><span class="op" id="1416962">)</span><span class="op" id="1416963">,</span>&nbsp;<span class="num" id="1416965">1</span><span class="op" id="1416966">,</span>&nbsp;<span class="builtintype" id="1416968">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1416973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1416976"><a href="/gostd/bytes/reader.go.html#1416773">ch</a></span><span class="op" id="1416978">,</span>&nbsp;<span class="ident" id="1416980"><a href="/gostd/bytes/reader.go.html#1416782">size</a></span>&nbsp;<span class="op" id="1416985">=</span>&nbsp;<span class="ident" id="1416987"><a href="/gostd/bytes/reader.go.html#1415355">utf8</a></span><span class="op" id="1416991">.</span><span class="ident" id="1416992"><a href="/gostd/unicode/utf8/utf8.go.html#1809912">DecodeRune</a></span><span class="op" id="1417002">(</span><span class="ident" id="1417003"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1417004">.</span><span class="ident" id="1417005"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1417006">[</span><span class="ident" id="1417007"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1417008">.</span><span class="ident" id="1417009"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1417010">:</span><span class="op" id="1417011">]</span><span class="op" id="1417012">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417015"><a href="/gostd/bytes/reader.go.html#1416750">r</a></span><span class="op" id="1417016">.</span><span class="ident" id="1417017"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1417019">+=</span>&nbsp;<span class="builtintype" id="1417022">int64</span><span class="op" id="1417027">(</span><span class="ident" id="1417028"><a href="/gostd/bytes/reader.go.html#1416782">size</a></span><span class="op" id="1417032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417035">return</span><br>
<span class="lineno"></span><span class="op" id="1417042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1417045">func</span>&nbsp;<span class="op" id="1417050">(</span><span class="ident" id="1417051">r</span>&nbsp;<span class="op" id="1417053">*</span><span class="ident" id="1417054"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1417060">)</span>&nbsp;<span class="ident" id="1417062">UnreadRune</span><span class="op" id="1417072">(</span><span class="op" id="1417073">)</span>&nbsp;<span class="builtintype" id="1417075">error</span>&nbsp;<span class="op" id="1417081">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417084">if</span>&nbsp;<span class="ident" id="1417087"><a href="/gostd/bytes/reader.go.html#1417051">r</a></span><span class="op" id="1417088">.</span><span class="ident" id="1417089"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1417098">&lt;</span>&nbsp;<span class="num" id="1417100">0</span>&nbsp;<span class="op" id="1417102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417106">return</span>&nbsp;<span class="ident" id="1417113"><a href="/gostd/bytes/reader.go.html#1415339">errors</a></span><span class="op" id="1417119">.</span><span class="ident" id="1417120"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1417123">(</span><span class="string" id="1417124">&#34;bytes.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="1417186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1417189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417192"><a href="/gostd/bytes/reader.go.html#1417051">r</a></span><span class="op" id="1417193">.</span><span class="ident" id="1417194"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1417196">=</span>&nbsp;<span class="builtintype" id="1417198">int64</span><span class="op" id="1417203">(</span><span class="ident" id="1417204"><a href="/gostd/bytes/reader.go.html#1417051">r</a></span><span class="op" id="1417205">.</span><span class="ident" id="1417206"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span><span class="op" id="1417214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417217"><a href="/gostd/bytes/reader.go.html#1417051">r</a></span><span class="op" id="1417218">.</span><span class="ident" id="1417219"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1417228">=</span>&nbsp;<span class="op" id="1417230">-</span><span class="num" id="1417231">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417234">return</span>&nbsp;<span class="builtintype" id="1417241">nil</span><br>
<span class="lineno"></span><span class="op" id="1417245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1417248">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1417292">func</span>&nbsp;<span class="op" id="1417297">(</span><span class="ident" id="1417298">r</span>&nbsp;<span class="op" id="1417300">*</span><span class="ident" id="1417301"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1417307">)</span>&nbsp;<span class="ident" id="1417309">Seek</span><span class="op" id="1417313">(</span><span class="ident" id="1417314">offset</span>&nbsp;<span class="builtintype" id="1417321">int64</span><span class="op" id="1417326">,</span>&nbsp;<span class="ident" id="1417328">whence</span>&nbsp;<span class="builtintype" id="1417335">int</span><span class="op" id="1417338">)</span>&nbsp;<span class="op" id="1417340">(</span><span class="builtintype" id="1417341">int64</span><span class="op" id="1417346">,</span>&nbsp;<span class="builtintype" id="1417348">error</span><span class="op" id="1417353">)</span>&nbsp;<span class="op" id="1417355">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417358"><a href="/gostd/bytes/reader.go.html#1417298">r</a></span><span class="op" id="1417359">.</span><span class="ident" id="1417360"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1417369">=</span>&nbsp;<span class="op" id="1417371">-</span><span class="num" id="1417372">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417375">var</span>&nbsp;<span class="ident" id="1417379">abs</span>&nbsp;<span class="builtintype" id="1417383">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417390">switch</span>&nbsp;<span class="ident" id="1417397"><a href="/gostd/bytes/reader.go.html#1417328">whence</a></span>&nbsp;<span class="op" id="1417404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417407">case</span>&nbsp;<span class="num" id="1417412">0</span><span class="op" id="1417413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417417"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span>&nbsp;<span class="op" id="1417421">=</span>&nbsp;<span class="ident" id="1417423"><a href="/gostd/bytes/reader.go.html#1417314">offset</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417431">case</span>&nbsp;<span class="num" id="1417436">1</span><span class="op" id="1417437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417441"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span>&nbsp;<span class="op" id="1417445">=</span>&nbsp;<span class="builtintype" id="1417447">int64</span><span class="op" id="1417452">(</span><span class="ident" id="1417453"><a href="/gostd/bytes/reader.go.html#1417298">r</a></span><span class="op" id="1417454">.</span><span class="ident" id="1417455"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1417456">)</span>&nbsp;<span class="op" id="1417458">+</span>&nbsp;<span class="ident" id="1417460"><a href="/gostd/bytes/reader.go.html#1417314">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417468">case</span>&nbsp;<span class="num" id="1417473">2</span><span class="op" id="1417474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417478"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span>&nbsp;<span class="op" id="1417482">=</span>&nbsp;<span class="builtintype" id="1417484">int64</span><span class="op" id="1417489">(</span><span class="builtinfunc" id="1417490">len</span><span class="op" id="1417493">(</span><span class="ident" id="1417494"><a href="/gostd/bytes/reader.go.html#1417298">r</a></span><span class="op" id="1417495">.</span><span class="ident" id="1417496"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1417497">)</span><span class="op" id="1417498">)</span>&nbsp;<span class="op" id="1417500">+</span>&nbsp;<span class="ident" id="1417502"><a href="/gostd/bytes/reader.go.html#1417314">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417510">default</span><span class="op" id="1417517">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417521">return</span>&nbsp;<span class="num" id="1417528">0</span><span class="op" id="1417529">,</span>&nbsp;<span class="ident" id="1417531"><a href="/gostd/bytes/reader.go.html#1415339">errors</a></span><span class="op" id="1417537">.</span><span class="ident" id="1417538"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1417541">(</span><span class="string" id="1417542">&#34;bytes.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="1417577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1417580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417583">if</span>&nbsp;<span class="ident" id="1417586"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span>&nbsp;<span class="op" id="1417590">&lt;</span>&nbsp;<span class="num" id="1417592">0</span>&nbsp;<span class="op" id="1417594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417598">return</span>&nbsp;<span class="num" id="1417605">0</span><span class="op" id="1417606">,</span>&nbsp;<span class="ident" id="1417608"><a href="/gostd/bytes/reader.go.html#1415339">errors</a></span><span class="op" id="1417614">.</span><span class="ident" id="1417615"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1417618">(</span><span class="string" id="1417619">&#34;bytes.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="1417657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1417660">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417663"><a href="/gostd/bytes/reader.go.html#1417298">r</a></span><span class="op" id="1417664">.</span><span class="ident" id="1417665"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1417667">=</span>&nbsp;<span class="ident" id="1417669"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417674">return</span>&nbsp;<span class="ident" id="1417681"><a href="/gostd/bytes/reader.go.html#1417379">abs</a></span><span class="op" id="1417684">,</span>&nbsp;<span class="builtintype" id="1417686">nil</span><br>
<span class="lineno"></span><span class="op" id="1417690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1417693">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno">125</span><span class="keyword" id="1417742">func</span>&nbsp;<span class="op" id="1417747">(</span><span class="ident" id="1417748">r</span>&nbsp;<span class="op" id="1417750">*</span><span class="ident" id="1417751"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1417757">)</span>&nbsp;<span class="ident" id="1417759">WriteTo</span><span class="op" id="1417766">(</span><span class="ident" id="1417767">w</span>&nbsp;<span class="ident" id="1417769"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1417771">.</span><span class="ident" id="1417772"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1417778">)</span>&nbsp;<span class="op" id="1417780">(</span><span class="ident" id="1417781">n</span>&nbsp;<span class="builtintype" id="1417783">int64</span><span class="op" id="1417788">,</span>&nbsp;<span class="ident" id="1417790">err</span>&nbsp;<span class="builtintype" id="1417794">error</span><span class="op" id="1417799">)</span>&nbsp;<span class="op" id="1417801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417804"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417805">.</span><span class="ident" id="1417806"><a href="/gostd/bytes/reader.go.html#1415674">prevRune</a></span>&nbsp;<span class="op" id="1417815">=</span>&nbsp;<span class="op" id="1417817">-</span><span class="num" id="1417818">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417821">if</span>&nbsp;<span class="ident" id="1417824"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417825">.</span><span class="ident" id="1417826"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1417828">&gt;=</span>&nbsp;<span class="builtintype" id="1417831">int64</span><span class="op" id="1417836">(</span><span class="builtinfunc" id="1417837">len</span><span class="op" id="1417840">(</span><span class="ident" id="1417841"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417842">.</span><span class="ident" id="1417843"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1417844">)</span><span class="op" id="1417845">)</span>&nbsp;<span class="op" id="1417847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417851">return</span>&nbsp;<span class="num" id="1417858">0</span><span class="op" id="1417859">,</span>&nbsp;<span class="builtintype" id="1417861">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1417866">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417869">b</span>&nbsp;<span class="op" id="1417871">:=</span>&nbsp;<span class="ident" id="1417874"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417875">.</span><span class="ident" id="1417876"><a href="/gostd/bytes/reader.go.html#1415616">s</a></span><span class="op" id="1417877">[</span><span class="ident" id="1417878"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417879">.</span><span class="ident" id="1417880"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span><span class="op" id="1417881">:</span><span class="op" id="1417882">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417885">m</span><span class="op" id="1417886">,</span>&nbsp;<span class="ident" id="1417888"><a href="/gostd/bytes/reader.go.html#1417790">err</a></span>&nbsp;<span class="op" id="1417892">:=</span>&nbsp;<span class="ident" id="1417895"><a href="/gostd/bytes/reader.go.html#1417767">w</a></span><span class="op" id="1417896">.</span><span class="ident" id="1417897"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="1417902">(</span><span class="ident" id="1417903"><a href="/gostd/bytes/reader.go.html#1417869">b</a></span><span class="op" id="1417904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1417907">if</span>&nbsp;<span class="ident" id="1417910"><a href="/gostd/bytes/reader.go.html#1417885">m</a></span>&nbsp;<span class="op" id="1417912">&gt;</span>&nbsp;<span class="builtinfunc" id="1417914">len</span><span class="op" id="1417917">(</span><span class="ident" id="1417918"><a href="/gostd/bytes/reader.go.html#1417869">b</a></span><span class="op" id="1417919">)</span>&nbsp;<span class="op" id="1417921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1417925">panic</span><span class="op" id="1417930">(</span><span class="string" id="1417931">&#34;bytes.Reader.WriteTo:&nbsp;invalid&nbsp;Write&nbsp;count&#34;</span><span class="op" id="1417974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1417977">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417980"><a href="/gostd/bytes/reader.go.html#1417748">r</a></span><span class="op" id="1417981">.</span><span class="ident" id="1417982"><a href="/gostd/bytes/reader.go.html#1415633">i</a></span>&nbsp;<span class="op" id="1417984">+=</span>&nbsp;<span class="builtintype" id="1417987">int64</span><span class="op" id="1417992">(</span><span class="ident" id="1417993"><a href="/gostd/bytes/reader.go.html#1417885">m</a></span><span class="op" id="1417994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1417997"><a href="/gostd/bytes/reader.go.html#1417781">n</a></span>&nbsp;<span class="op" id="1417999">=</span>&nbsp;<span class="builtintype" id="1418001">int64</span><span class="op" id="1418006">(</span><span class="ident" id="1418007"><a href="/gostd/bytes/reader.go.html#1417885">m</a></span><span class="op" id="1418008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1418011">if</span>&nbsp;<span class="ident" id="1418014"><a href="/gostd/bytes/reader.go.html#1417885">m</a></span>&nbsp;<span class="op" id="1418016">!=</span>&nbsp;<span class="builtinfunc" id="1418019">len</span><span class="op" id="1418022">(</span><span class="ident" id="1418023"><a href="/gostd/bytes/reader.go.html#1417869">b</a></span><span class="op" id="1418024">)</span>&nbsp;<span class="op" id="1418026">&amp;&amp;</span>&nbsp;<span class="ident" id="1418029"><a href="/gostd/bytes/reader.go.html#1417790">err</a></span>&nbsp;<span class="op" id="1418033">==</span>&nbsp;<span class="builtintype" id="1418036">nil</span>&nbsp;<span class="op" id="1418040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418044"><a href="/gostd/bytes/reader.go.html#1417790">err</a></span>&nbsp;<span class="op" id="1418048">=</span>&nbsp;<span class="ident" id="1418050"><a href="/gostd/bytes/reader.go.html#1415349">io</a></span><span class="op" id="1418052">.</span><span class="ident" id="1418053"><a href="/gostd/io/io.go.html#1419475">ErrShortWrite</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1418068">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1418071">return</span><br>
<span class="lineno"></span><span class="op" id="1418078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1418081">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1418131">func</span>&nbsp;<span class="ident" id="1418136">NewReader</span><span class="op" id="1418145">(</span><span class="ident" id="1418146">b</span>&nbsp;<span class="op" id="1418148">[</span><span class="op" id="1418149">]</span><span class="builtintype" id="1418150">byte</span><span class="op" id="1418154">)</span>&nbsp;<span class="op" id="1418156">*</span><span class="ident" id="1418157"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span>&nbsp;<span class="op" id="1418164">{</span>&nbsp;<span class="keyword" id="1418166">return</span>&nbsp;<span class="op" id="1418173">&amp;</span><span class="ident" id="1418174"><a href="/gostd/bytes/reader.go.html#1415599">Reader</a></span><span class="op" id="1418180">{</span><span class="ident" id="1418181"><a href="/gostd/bytes/reader.go.html#1418146">b</a></span><span class="op" id="1418182">,</span>&nbsp;<span class="num" id="1418184">0</span><span class="op" id="1418185">,</span>&nbsp;<span class="op" id="1418187">-</span><span class="num" id="1418188">1</span><span class="op" id="1418189">}</span>&nbsp;<span class="op" id="1418191">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
