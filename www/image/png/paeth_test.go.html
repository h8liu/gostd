<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8115385">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8115440">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8115494">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8115545">package</span>&nbsp;<span class="ident" id="8115553">png</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8115558">import</span>&nbsp;<span class="op" id="8115565">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8115568">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8115577">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8115590">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8115600">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8115603">func</span>&nbsp;<span class="ident" id="8115608">slowAbs</span><span class="op" id="8115615">(</span><span class="ident" id="8115616">x</span>&nbsp;<span class="builtintype" id="8115618">int</span><span class="op" id="8115621">)</span>&nbsp;<span class="builtintype" id="8115623">int</span>&nbsp;<span class="op" id="8115627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115630">if</span>&nbsp;<span class="ident" id="8115633"><a href="/image/png/paeth_test.go.html#8115616">x</a></span>&nbsp;<span class="op" id="8115635">&lt;</span>&nbsp;<span class="num" id="8115637">0</span>&nbsp;<span class="op" id="8115639">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115643">return</span>&nbsp;<span class="op" id="8115650">-</span><span class="ident" id="8115651"><a href="/image/png/paeth_test.go.html#8115616">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115657">return</span>&nbsp;<span class="ident" id="8115664"><a href="/image/png/paeth_test.go.html#8115616">x</a></span><br>
<span class="lineno"></span><span class="op" id="8115666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="8115669">//&nbsp;slowPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Paeth&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="8115741">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;the&nbsp;PNG&nbsp;spec,&nbsp;section&nbsp;9.4.</span><br>
<span class="lineno"></span><span class="keyword" id="8115815">func</span>&nbsp;<span class="ident" id="8115820">slowPaeth</span><span class="op" id="8115829">(</span><span class="ident" id="8115830">a</span><span class="op" id="8115831">,</span>&nbsp;<span class="ident" id="8115833">b</span><span class="op" id="8115834">,</span>&nbsp;<span class="ident" id="8115836">c</span>&nbsp;<span class="builtintype" id="8115838">uint8</span><span class="op" id="8115843">)</span>&nbsp;<span class="builtintype" id="8115845">uint8</span>&nbsp;<span class="op" id="8115851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115854">p</span>&nbsp;<span class="op" id="8115856">:=</span>&nbsp;<span class="builtintype" id="8115859">int</span><span class="op" id="8115862">(</span><span class="ident" id="8115863"><a href="/image/png/paeth_test.go.html#8115830">a</a></span><span class="op" id="8115864">)</span>&nbsp;<span class="op" id="8115866">+</span>&nbsp;<span class="builtintype" id="8115868">int</span><span class="op" id="8115871">(</span><span class="ident" id="8115872"><a href="/image/png/paeth_test.go.html#8115833">b</a></span><span class="op" id="8115873">)</span>&nbsp;<span class="op" id="8115875">-</span>&nbsp;<span class="builtintype" id="8115877">int</span><span class="op" id="8115880">(</span><span class="ident" id="8115881"><a href="/image/png/paeth_test.go.html#8115836">c</a></span><span class="op" id="8115882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115885">pa</span>&nbsp;<span class="op" id="8115888">:=</span>&nbsp;<span class="ident" id="8115891"><a href="/image/png/paeth_test.go.html#8115608">slowAbs</a></span><span class="op" id="8115898">(</span><span class="ident" id="8115899"><a href="/image/png/paeth_test.go.html#8115854">p</a></span>&nbsp;<span class="op" id="8115901">-</span>&nbsp;<span class="builtintype" id="8115903">int</span><span class="op" id="8115906">(</span><span class="ident" id="8115907"><a href="/image/png/paeth_test.go.html#8115830">a</a></span><span class="op" id="8115908">)</span><span class="op" id="8115909">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115912">pb</span>&nbsp;<span class="op" id="8115915">:=</span>&nbsp;<span class="ident" id="8115918"><a href="/image/png/paeth_test.go.html#8115608">slowAbs</a></span><span class="op" id="8115925">(</span><span class="ident" id="8115926"><a href="/image/png/paeth_test.go.html#8115854">p</a></span>&nbsp;<span class="op" id="8115928">-</span>&nbsp;<span class="builtintype" id="8115930">int</span><span class="op" id="8115933">(</span><span class="ident" id="8115934"><a href="/image/png/paeth_test.go.html#8115833">b</a></span><span class="op" id="8115935">)</span><span class="op" id="8115936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115939">pc</span>&nbsp;<span class="op" id="8115942">:=</span>&nbsp;<span class="ident" id="8115945"><a href="/image/png/paeth_test.go.html#8115608">slowAbs</a></span><span class="op" id="8115952">(</span><span class="ident" id="8115953"><a href="/image/png/paeth_test.go.html#8115854">p</a></span>&nbsp;<span class="op" id="8115955">-</span>&nbsp;<span class="builtintype" id="8115957">int</span><span class="op" id="8115960">(</span><span class="ident" id="8115961"><a href="/image/png/paeth_test.go.html#8115836">c</a></span><span class="op" id="8115962">)</span><span class="op" id="8115963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115966">if</span>&nbsp;<span class="ident" id="8115969"><a href="/image/png/paeth_test.go.html#8115885">pa</a></span>&nbsp;<span class="op" id="8115972">&lt;=</span>&nbsp;<span class="ident" id="8115975"><a href="/image/png/paeth_test.go.html#8115912">pb</a></span>&nbsp;<span class="op" id="8115978">&amp;&amp;</span>&nbsp;<span class="ident" id="8115981"><a href="/image/png/paeth_test.go.html#8115885">pa</a></span>&nbsp;<span class="op" id="8115984">&lt;=</span>&nbsp;<span class="ident" id="8115987"><a href="/image/png/paeth_test.go.html#8115939">pc</a></span>&nbsp;<span class="op" id="8115990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115994">return</span>&nbsp;<span class="ident" id="8116001"><a href="/image/png/paeth_test.go.html#8115830">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116004">}</span>&nbsp;<span class="keyword" id="8116006">else</span>&nbsp;<span class="keyword" id="8116011">if</span>&nbsp;<span class="ident" id="8116014"><a href="/image/png/paeth_test.go.html#8115912">pb</a></span>&nbsp;<span class="op" id="8116017">&lt;=</span>&nbsp;<span class="ident" id="8116020"><a href="/image/png/paeth_test.go.html#8115939">pc</a></span>&nbsp;<span class="op" id="8116023">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116027">return</span>&nbsp;<span class="ident" id="8116034"><a href="/image/png/paeth_test.go.html#8115833">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116040">return</span>&nbsp;<span class="ident" id="8116047"><a href="/image/png/paeth_test.go.html#8115836">c</a></span><br>
<span class="lineno"></span><span class="op" id="8116049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="8116052">//&nbsp;slowFilterPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;func&nbsp;filterPaeth.</span><br>
<span class="lineno"></span><span class="keyword" id="8116128">func</span>&nbsp;<span class="ident" id="8116133">slowFilterPaeth</span><span class="op" id="8116148">(</span><span class="ident" id="8116149">cdat</span><span class="op" id="8116153">,</span>&nbsp;<span class="ident" id="8116155">pdat</span>&nbsp;<span class="op" id="8116160">[</span><span class="op" id="8116161">]</span><span class="builtintype" id="8116162">byte</span><span class="op" id="8116166">,</span>&nbsp;<span class="ident" id="8116168">bytesPerPixel</span>&nbsp;<span class="builtintype" id="8116182">int</span><span class="op" id="8116185">)</span>&nbsp;<span class="op" id="8116187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116190">for</span>&nbsp;<span class="ident" id="8116194">i</span>&nbsp;<span class="op" id="8116196">:=</span>&nbsp;<span class="num" id="8116199">0</span><span class="op" id="8116200">;</span>&nbsp;<span class="ident" id="8116202"><a href="/image/png/paeth_test.go.html#8116194">i</a></span>&nbsp;<span class="op" id="8116204">&lt;</span>&nbsp;<span class="ident" id="8116206"><a href="/image/png/paeth_test.go.html#8116168">bytesPerPixel</a></span><span class="op" id="8116219">;</span>&nbsp;<span class="ident" id="8116221"><a href="/image/png/paeth_test.go.html#8116194">i</a></span><span class="op" id="8116222">++</span>&nbsp;<span class="op" id="8116225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116229"><a href="/image/png/paeth_test.go.html#8116149">cdat</a></span><span class="op" id="8116233">[</span><span class="ident" id="8116234"><a href="/image/png/paeth_test.go.html#8116194">i</a></span><span class="op" id="8116235">]</span>&nbsp;<span class="op" id="8116237">+=</span>&nbsp;<span class="ident" id="8116240"><a href="/image/png/paeth.go.html#4859677">paeth</a></span><span class="op" id="8116245">(</span><span class="num" id="8116246">0</span><span class="op" id="8116247">,</span>&nbsp;<span class="ident" id="8116249"><a href="/image/png/paeth_test.go.html#8116155">pdat</a></span><span class="op" id="8116253">[</span><span class="ident" id="8116254"><a href="/image/png/paeth_test.go.html#8116194">i</a></span><span class="op" id="8116255">]</span><span class="op" id="8116256">,</span>&nbsp;<span class="num" id="8116258">0</span><span class="op" id="8116259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116262">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116265">for</span>&nbsp;<span class="ident" id="8116269">i</span>&nbsp;<span class="op" id="8116271">:=</span>&nbsp;<span class="ident" id="8116274"><a href="/image/png/paeth_test.go.html#8116168">bytesPerPixel</a></span><span class="op" id="8116287">;</span>&nbsp;<span class="ident" id="8116289"><a href="/image/png/paeth_test.go.html#8116269">i</a></span>&nbsp;<span class="op" id="8116291">&lt;</span>&nbsp;<span class="builtinfunc" id="8116293">len</span><span class="op" id="8116296">(</span><span class="ident" id="8116297"><a href="/image/png/paeth_test.go.html#8116149">cdat</a></span><span class="op" id="8116301">)</span><span class="op" id="8116302">;</span>&nbsp;<span class="ident" id="8116304"><a href="/image/png/paeth_test.go.html#8116269">i</a></span><span class="op" id="8116305">++</span>&nbsp;<span class="op" id="8116308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116312"><a href="/image/png/paeth_test.go.html#8116149">cdat</a></span><span class="op" id="8116316">[</span><span class="ident" id="8116317"><a href="/image/png/paeth_test.go.html#8116269">i</a></span><span class="op" id="8116318">]</span>&nbsp;<span class="op" id="8116320">+=</span>&nbsp;<span class="ident" id="8116323"><a href="/image/png/paeth.go.html#4859677">paeth</a></span><span class="op" id="8116328">(</span><span class="ident" id="8116329"><a href="/image/png/paeth_test.go.html#8116149">cdat</a></span><span class="op" id="8116333">[</span><span class="ident" id="8116334"><a href="/image/png/paeth_test.go.html#8116269">i</a></span><span class="op" id="8116335">-</span><span class="ident" id="8116336"><a href="/image/png/paeth_test.go.html#8116168">bytesPerPixel</a></span><span class="op" id="8116349">]</span><span class="op" id="8116350">,</span>&nbsp;<span class="ident" id="8116352"><a href="/image/png/paeth_test.go.html#8116155">pdat</a></span><span class="op" id="8116356">[</span><span class="ident" id="8116357"><a href="/image/png/paeth_test.go.html#8116269">i</a></span><span class="op" id="8116358">]</span><span class="op" id="8116359">,</span>&nbsp;<span class="ident" id="8116361"><a href="/image/png/paeth_test.go.html#8116155">pdat</a></span><span class="op" id="8116365">[</span><span class="ident" id="8116366"><a href="/image/png/paeth_test.go.html#8116269">i</a></span><span class="op" id="8116367">-</span><span class="ident" id="8116368"><a href="/image/png/paeth_test.go.html#8116168">bytesPerPixel</a></span><span class="op" id="8116381">]</span><span class="op" id="8116382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116385">}</span><br>
<span class="lineno"></span><span class="op" id="8116387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="8116390">func</span>&nbsp;<span class="ident" id="8116395">TestPaeth</span><span class="op" id="8116404">(</span><span class="ident" id="8116405">t</span>&nbsp;<span class="op" id="8116407">*</span><span class="ident" id="8116408"><a href="/image/png/paeth_test.go.html#8115590">testing</a></span><span class="op" id="8116415">.</span><span class="ident" id="8116416">T</span><span class="op" id="8116417">)</span>&nbsp;<span class="op" id="8116419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116422">for</span>&nbsp;<span class="ident" id="8116426">a</span>&nbsp;<span class="op" id="8116428">:=</span>&nbsp;<span class="num" id="8116431">0</span><span class="op" id="8116432">;</span>&nbsp;<span class="ident" id="8116434"><a href="/image/png/paeth_test.go.html#8116426">a</a></span>&nbsp;<span class="op" id="8116436">&lt;</span>&nbsp;<span class="num" id="8116438">256</span><span class="op" id="8116441">;</span>&nbsp;<span class="ident" id="8116443"><a href="/image/png/paeth_test.go.html#8116426">a</a></span>&nbsp;<span class="op" id="8116445">+=</span>&nbsp;<span class="num" id="8116448">15</span>&nbsp;<span class="op" id="8116451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116455">for</span>&nbsp;<span class="ident" id="8116459">b</span>&nbsp;<span class="op" id="8116461">:=</span>&nbsp;<span class="num" id="8116464">0</span><span class="op" id="8116465">;</span>&nbsp;<span class="ident" id="8116467"><a href="/image/png/paeth_test.go.html#8116459">b</a></span>&nbsp;<span class="op" id="8116469">&lt;</span>&nbsp;<span class="num" id="8116471">256</span><span class="op" id="8116474">;</span>&nbsp;<span class="ident" id="8116476"><a href="/image/png/paeth_test.go.html#8116459">b</a></span>&nbsp;<span class="op" id="8116478">+=</span>&nbsp;<span class="num" id="8116481">15</span>&nbsp;<span class="op" id="8116484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116489">for</span>&nbsp;<span class="ident" id="8116493">c</span>&nbsp;<span class="op" id="8116495">:=</span>&nbsp;<span class="num" id="8116498">0</span><span class="op" id="8116499">;</span>&nbsp;<span class="ident" id="8116501"><a href="/image/png/paeth_test.go.html#8116493">c</a></span>&nbsp;<span class="op" id="8116503">&lt;</span>&nbsp;<span class="num" id="8116505">256</span><span class="op" id="8116508">;</span>&nbsp;<span class="ident" id="8116510"><a href="/image/png/paeth_test.go.html#8116493">c</a></span>&nbsp;<span class="op" id="8116512">+=</span>&nbsp;<span class="num" id="8116515">15</span>&nbsp;<span class="op" id="8116518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116524">got</span>&nbsp;<span class="op" id="8116528">:=</span>&nbsp;<span class="ident" id="8116531"><a href="/image/png/paeth.go.html#4859677">paeth</a></span><span class="op" id="8116536">(</span><span class="builtintype" id="8116537">uint8</span><span class="op" id="8116542">(</span><span class="ident" id="8116543"><a href="/image/png/paeth_test.go.html#8116426">a</a></span><span class="op" id="8116544">)</span><span class="op" id="8116545">,</span>&nbsp;<span class="builtintype" id="8116547">uint8</span><span class="op" id="8116552">(</span><span class="ident" id="8116553"><a href="/image/png/paeth_test.go.html#8116459">b</a></span><span class="op" id="8116554">)</span><span class="op" id="8116555">,</span>&nbsp;<span class="builtintype" id="8116557">uint8</span><span class="op" id="8116562">(</span><span class="ident" id="8116563"><a href="/image/png/paeth_test.go.html#8116493">c</a></span><span class="op" id="8116564">)</span><span class="op" id="8116565">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116571">want</span>&nbsp;<span class="op" id="8116576">:=</span>&nbsp;<span class="ident" id="8116579"><a href="/image/png/paeth_test.go.html#8115820">slowPaeth</a></span><span class="op" id="8116588">(</span><span class="builtintype" id="8116589">uint8</span><span class="op" id="8116594">(</span><span class="ident" id="8116595"><a href="/image/png/paeth_test.go.html#8116426">a</a></span><span class="op" id="8116596">)</span><span class="op" id="8116597">,</span>&nbsp;<span class="builtintype" id="8116599">uint8</span><span class="op" id="8116604">(</span><span class="ident" id="8116605"><a href="/image/png/paeth_test.go.html#8116459">b</a></span><span class="op" id="8116606">)</span><span class="op" id="8116607">,</span>&nbsp;<span class="builtintype" id="8116609">uint8</span><span class="op" id="8116614">(</span><span class="ident" id="8116615"><a href="/image/png/paeth_test.go.html#8116493">c</a></span><span class="op" id="8116616">)</span><span class="op" id="8116617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116623">if</span>&nbsp;<span class="ident" id="8116626"><a href="/image/png/paeth_test.go.html#8116524">got</a></span>&nbsp;<span class="op" id="8116630">!=</span>&nbsp;<span class="ident" id="8116633"><a href="/image/png/paeth_test.go.html#8116571">want</a></span>&nbsp;<span class="op" id="8116638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116645"><a href="/image/png/paeth_test.go.html#8116405">t</a></span><span class="op" id="8116646">.</span><span class="ident" id="8116647">Errorf</span><span class="op" id="8116653">(</span><span class="string" id="8116654">&#34;a,&nbsp;b,&nbsp;c&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d:&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8116693">,</span>&nbsp;<span class="ident" id="8116695"><a href="/image/png/paeth_test.go.html#8116426">a</a></span><span class="op" id="8116696">,</span>&nbsp;<span class="ident" id="8116698"><a href="/image/png/paeth_test.go.html#8116459">b</a></span><span class="op" id="8116699">,</span>&nbsp;<span class="ident" id="8116701"><a href="/image/png/paeth_test.go.html#8116493">c</a></span><span class="op" id="8116702">,</span>&nbsp;<span class="ident" id="8116704"><a href="/image/png/paeth_test.go.html#8116524">got</a></span><span class="op" id="8116707">,</span>&nbsp;<span class="ident" id="8116709"><a href="/image/png/paeth_test.go.html#8116571">want</a></span><span class="op" id="8116713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116724">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116731">}</span><br>
<span class="lineno"></span><span class="op" id="8116733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116736">func</span>&nbsp;<span class="ident" id="8116741">BenchmarkPaeth</span><span class="op" id="8116755">(</span><span class="ident" id="8116756">b</span>&nbsp;<span class="op" id="8116758">*</span><span class="ident" id="8116759"><a href="/image/png/paeth_test.go.html#8115590">testing</a></span><span class="op" id="8116766">.</span><span class="ident" id="8116767">B</span><span class="op" id="8116768">)</span>&nbsp;<span class="op" id="8116770">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116773">for</span>&nbsp;<span class="ident" id="8116777">i</span>&nbsp;<span class="op" id="8116779">:=</span>&nbsp;<span class="num" id="8116782">0</span><span class="op" id="8116783">;</span>&nbsp;<span class="ident" id="8116785"><a href="/image/png/paeth_test.go.html#8116777">i</a></span>&nbsp;<span class="op" id="8116787">&lt;</span>&nbsp;<span class="ident" id="8116789"><a href="/image/png/paeth_test.go.html#8116756">b</a></span><span class="op" id="8116790">.</span><span class="ident" id="8116791">N</span><span class="op" id="8116792">;</span>&nbsp;<span class="ident" id="8116794"><a href="/image/png/paeth_test.go.html#8116777">i</a></span><span class="op" id="8116795">++</span>&nbsp;<span class="op" id="8116798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116802"><a href="/image/png/paeth.go.html#4859677">paeth</a></span><span class="op" id="8116807">(</span><span class="builtintype" id="8116808">uint8</span><span class="op" id="8116813">(</span><span class="ident" id="8116814"><a href="/image/png/paeth_test.go.html#8116777">i</a></span><span class="op" id="8116815">&gt;&gt;</span><span class="num" id="8116817">16</span><span class="op" id="8116819">)</span><span class="op" id="8116820">,</span>&nbsp;<span class="builtintype" id="8116822">uint8</span><span class="op" id="8116827">(</span><span class="ident" id="8116828"><a href="/image/png/paeth_test.go.html#8116777">i</a></span><span class="op" id="8116829">&gt;&gt;</span><span class="num" id="8116831">8</span><span class="op" id="8116832">)</span><span class="op" id="8116833">,</span>&nbsp;<span class="builtintype" id="8116835">uint8</span><span class="op" id="8116840">(</span><span class="ident" id="8116841"><a href="/image/png/paeth_test.go.html#8116777">i</a></span><span class="op" id="8116842">)</span><span class="op" id="8116843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116846">}</span><br>
<span class="lineno"></span><span class="op" id="8116848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8116851">func</span>&nbsp;<span class="ident" id="8116856">TestPaethDecode</span><span class="op" id="8116871">(</span><span class="ident" id="8116872">t</span>&nbsp;<span class="op" id="8116874">*</span><span class="ident" id="8116875"><a href="/image/png/paeth_test.go.html#8115590">testing</a></span><span class="op" id="8116882">.</span><span class="ident" id="8116883">T</span><span class="op" id="8116884">)</span>&nbsp;<span class="op" id="8116886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116889">pdat0</span>&nbsp;<span class="op" id="8116895">:=</span>&nbsp;<span class="builtinfunc" id="8116898">make</span><span class="op" id="8116902">(</span><span class="op" id="8116903">[</span><span class="op" id="8116904">]</span><span class="builtintype" id="8116905">byte</span><span class="op" id="8116909">,</span>&nbsp;<span class="num" id="8116911">32</span><span class="op" id="8116913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116916">pdat1</span>&nbsp;<span class="op" id="8116922">:=</span>&nbsp;<span class="builtinfunc" id="8116925">make</span><span class="op" id="8116929">(</span><span class="op" id="8116930">[</span><span class="op" id="8116931">]</span><span class="builtintype" id="8116932">byte</span><span class="op" id="8116936">,</span>&nbsp;<span class="num" id="8116938">32</span><span class="op" id="8116940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116943">pdat2</span>&nbsp;<span class="op" id="8116949">:=</span>&nbsp;<span class="builtinfunc" id="8116952">make</span><span class="op" id="8116956">(</span><span class="op" id="8116957">[</span><span class="op" id="8116958">]</span><span class="builtintype" id="8116959">byte</span><span class="op" id="8116963">,</span>&nbsp;<span class="num" id="8116965">32</span><span class="op" id="8116967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116970">cdat0</span>&nbsp;<span class="op" id="8116976">:=</span>&nbsp;<span class="builtinfunc" id="8116979">make</span><span class="op" id="8116983">(</span><span class="op" id="8116984">[</span><span class="op" id="8116985">]</span><span class="builtintype" id="8116986">byte</span><span class="op" id="8116990">,</span>&nbsp;<span class="num" id="8116992">32</span><span class="op" id="8116994">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116997">cdat1</span>&nbsp;<span class="op" id="8117003">:=</span>&nbsp;<span class="builtinfunc" id="8117006">make</span><span class="op" id="8117010">(</span><span class="op" id="8117011">[</span><span class="op" id="8117012">]</span><span class="builtintype" id="8117013">byte</span><span class="op" id="8117017">,</span>&nbsp;<span class="num" id="8117019">32</span><span class="op" id="8117021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117024">cdat2</span>&nbsp;<span class="op" id="8117030">:=</span>&nbsp;<span class="builtinfunc" id="8117033">make</span><span class="op" id="8117037">(</span><span class="op" id="8117038">[</span><span class="op" id="8117039">]</span><span class="builtintype" id="8117040">byte</span><span class="op" id="8117044">,</span>&nbsp;<span class="num" id="8117046">32</span><span class="op" id="8117048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117051">r</span>&nbsp;<span class="op" id="8117053">:=</span>&nbsp;<span class="ident" id="8117056"><a href="/image/png/paeth_test.go.html#8115577">rand</a></span><span class="op" id="8117060">.</span><span class="ident" id="8117061">New</span><span class="op" id="8117064">(</span><span class="ident" id="8117065"><a href="/image/png/paeth_test.go.html#8115577">rand</a></span><span class="op" id="8117069">.</span><span class="ident" id="8117070">NewSource</span><span class="op" id="8117079">(</span><span class="num" id="8117080">1</span><span class="op" id="8117081">)</span><span class="op" id="8117082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117085">for</span>&nbsp;<span class="ident" id="8117089">bytesPerPixel</span>&nbsp;<span class="op" id="8117103">:=</span>&nbsp;<span class="num" id="8117106">1</span><span class="op" id="8117107">;</span>&nbsp;<span class="ident" id="8117109"><a href="/image/png/paeth_test.go.html#8117089">bytesPerPixel</a></span>&nbsp;<span class="op" id="8117123">&lt;=</span>&nbsp;<span class="num" id="8117126">8</span><span class="op" id="8117127">;</span>&nbsp;<span class="ident" id="8117129"><a href="/image/png/paeth_test.go.html#8117089">bytesPerPixel</a></span><span class="op" id="8117142">++</span>&nbsp;<span class="op" id="8117145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117149">for</span>&nbsp;<span class="ident" id="8117153">i</span>&nbsp;<span class="op" id="8117155">:=</span>&nbsp;<span class="num" id="8117158">0</span><span class="op" id="8117159">;</span>&nbsp;<span class="ident" id="8117161"><a href="/image/png/paeth_test.go.html#8117153">i</a></span>&nbsp;<span class="op" id="8117163">&lt;</span>&nbsp;<span class="num" id="8117165">100</span><span class="op" id="8117168">;</span>&nbsp;<span class="ident" id="8117170"><a href="/image/png/paeth_test.go.html#8117153">i</a></span><span class="op" id="8117171">++</span>&nbsp;<span class="op" id="8117174">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117179">for</span>&nbsp;<span class="ident" id="8117183">j</span>&nbsp;<span class="op" id="8117185">:=</span>&nbsp;<span class="keyword" id="8117188">range</span>&nbsp;<span class="ident" id="8117194"><a href="/image/png/paeth_test.go.html#8116889">pdat0</a></span>&nbsp;<span class="op" id="8117200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117206"><a href="/image/png/paeth_test.go.html#8116889">pdat0</a></span><span class="op" id="8117211">[</span><span class="ident" id="8117212"><a href="/image/png/paeth_test.go.html#8117183">j</a></span><span class="op" id="8117213">]</span>&nbsp;<span class="op" id="8117215">=</span>&nbsp;<span class="builtintype" id="8117217">uint8</span><span class="op" id="8117222">(</span><span class="ident" id="8117223"><a href="/image/png/paeth_test.go.html#8117051">r</a></span><span class="op" id="8117224">.</span><span class="ident" id="8117225">Uint32</span><span class="op" id="8117231">(</span><span class="op" id="8117232">)</span><span class="op" id="8117233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117239"><a href="/image/png/paeth_test.go.html#8116970">cdat0</a></span><span class="op" id="8117244">[</span><span class="ident" id="8117245"><a href="/image/png/paeth_test.go.html#8117183">j</a></span><span class="op" id="8117246">]</span>&nbsp;<span class="op" id="8117248">=</span>&nbsp;<span class="builtintype" id="8117250">uint8</span><span class="op" id="8117255">(</span><span class="ident" id="8117256"><a href="/image/png/paeth_test.go.html#8117051">r</a></span><span class="op" id="8117257">.</span><span class="ident" id="8117258">Uint32</span><span class="op" id="8117264">(</span><span class="op" id="8117265">)</span><span class="op" id="8117266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8117276">copy</span><span class="op" id="8117280">(</span><span class="ident" id="8117281"><a href="/image/png/paeth_test.go.html#8116916">pdat1</a></span><span class="op" id="8117286">,</span>&nbsp;<span class="ident" id="8117288"><a href="/image/png/paeth_test.go.html#8116889">pdat0</a></span><span class="op" id="8117293">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8117298">copy</span><span class="op" id="8117302">(</span><span class="ident" id="8117303"><a href="/image/png/paeth_test.go.html#8116943">pdat2</a></span><span class="op" id="8117308">,</span>&nbsp;<span class="ident" id="8117310"><a href="/image/png/paeth_test.go.html#8116889">pdat0</a></span><span class="op" id="8117315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8117320">copy</span><span class="op" id="8117324">(</span><span class="ident" id="8117325"><a href="/image/png/paeth_test.go.html#8116997">cdat1</a></span><span class="op" id="8117330">,</span>&nbsp;<span class="ident" id="8117332"><a href="/image/png/paeth_test.go.html#8116970">cdat0</a></span><span class="op" id="8117337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8117342">copy</span><span class="op" id="8117346">(</span><span class="ident" id="8117347"><a href="/image/png/paeth_test.go.html#8117024">cdat2</a></span><span class="op" id="8117352">,</span>&nbsp;<span class="ident" id="8117354"><a href="/image/png/paeth_test.go.html#8116970">cdat0</a></span><span class="op" id="8117359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117364"><a href="/image/png/paeth.go.html#4860303">filterPaeth</a></span><span class="op" id="8117375">(</span><span class="ident" id="8117376"><a href="/image/png/paeth_test.go.html#8116997">cdat1</a></span><span class="op" id="8117381">,</span>&nbsp;<span class="ident" id="8117383"><a href="/image/png/paeth_test.go.html#8116916">pdat1</a></span><span class="op" id="8117388">,</span>&nbsp;<span class="ident" id="8117390"><a href="/image/png/paeth_test.go.html#8117089">bytesPerPixel</a></span><span class="op" id="8117403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117408"><a href="/image/png/paeth_test.go.html#8116133">slowFilterPaeth</a></span><span class="op" id="8117423">(</span><span class="ident" id="8117424"><a href="/image/png/paeth_test.go.html#8117024">cdat2</a></span><span class="op" id="8117429">,</span>&nbsp;<span class="ident" id="8117431"><a href="/image/png/paeth_test.go.html#8116943">pdat2</a></span><span class="op" id="8117436">,</span>&nbsp;<span class="ident" id="8117438"><a href="/image/png/paeth_test.go.html#8117089">bytesPerPixel</a></span><span class="op" id="8117451">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117456">if</span>&nbsp;<span class="op" id="8117459">!</span><span class="ident" id="8117460"><a href="/image/png/paeth_test.go.html#8115568">bytes</a></span><span class="op" id="8117465">.</span><span class="ident" id="8117466">Equal</span><span class="op" id="8117471">(</span><span class="ident" id="8117472"><a href="/image/png/paeth_test.go.html#8116997">cdat1</a></span><span class="op" id="8117477">,</span>&nbsp;<span class="ident" id="8117479"><a href="/image/png/paeth_test.go.html#8117024">cdat2</a></span><span class="op" id="8117484">)</span>&nbsp;<span class="op" id="8117486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117492"><a href="/image/png/paeth_test.go.html#8116872">t</a></span><span class="op" id="8117493">.</span><span class="ident" id="8117494">Errorf</span><span class="op" id="8117500">(</span><span class="string" id="8117501">&#34;bytesPerPixel:&nbsp;%d\npdat0:&nbsp;%&nbsp;x\ncdat0:&nbsp;%&nbsp;x\ngot:&nbsp;&nbsp;&nbsp;%&nbsp;x\nwant:&nbsp;&nbsp;%&nbsp;x&#34;</span><span class="op" id="8117568">,</span>&nbsp;<span class="ident" id="8117570"><a href="/image/png/paeth_test.go.html#8117089">bytesPerPixel</a></span><span class="op" id="8117583">,</span>&nbsp;<span class="ident" id="8117585"><a href="/image/png/paeth_test.go.html#8116889">pdat0</a></span><span class="op" id="8117590">,</span>&nbsp;<span class="ident" id="8117592"><a href="/image/png/paeth_test.go.html#8116970">cdat0</a></span><span class="op" id="8117597">,</span>&nbsp;<span class="ident" id="8117599"><a href="/image/png/paeth_test.go.html#8116997">cdat1</a></span><span class="op" id="8117604">,</span>&nbsp;<span class="ident" id="8117606"><a href="/image/png/paeth_test.go.html#8117024">cdat2</a></span><span class="op" id="8117611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117617">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117630">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117633">}</span><br>
<span class="lineno"></span><span class="op" id="8117635">}</span>
</div>
</body>
</html>
