<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5777379">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5777434">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5777488">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5777539">package</span>&nbsp;<span class="ident" id="5777547">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5777552">import</span>&nbsp;<span class="string" id="5777559">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5777569">type</span>&nbsp;<span class="ident" id="5777574">Filter</span>&nbsp;<span class="keyword" id="5777581">func</span><span class="op" id="5777585">(</span><span class="builtintype" id="5777586">string</span><span class="op" id="5777592">)</span>&nbsp;<span class="builtintype" id="5777594">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5777600">func</span>&nbsp;<span class="ident" id="5777605">matchFields</span><span class="op" id="5777616">(</span><span class="ident" id="5777617">fields</span>&nbsp;<span class="op" id="5777624">*</span><span class="ident" id="5777625">ast</span><span class="op" id="5777628">.</span><span class="ident" id="5777629">FieldList</span><span class="op" id="5777638">,</span>&nbsp;<span class="ident" id="5777640">f</span>&nbsp;<span class="ident" id="5777642">Filter</span><span class="op" id="5777648">)</span>&nbsp;<span class="builtintype" id="5777650">bool</span>&nbsp;<span class="op" id="5777655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777658">if</span>&nbsp;<span class="ident" id="5777661">fields</span>&nbsp;<span class="op" id="5777668">!=</span>&nbsp;<span class="ident" id="5777671">nil</span>&nbsp;<span class="op" id="5777675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777679">for</span>&nbsp;<span class="ident" id="5777683">_</span><span class="op" id="5777684">,</span>&nbsp;<span class="ident" id="5777686">field</span>&nbsp;<span class="op" id="5777692">:=</span>&nbsp;<span class="keyword" id="5777695">range</span>&nbsp;<span class="ident" id="5777701">fields</span><span class="op" id="5777707">.</span><span class="ident" id="5777708">List</span>&nbsp;<span class="op" id="5777713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777718">for</span>&nbsp;<span class="ident" id="5777722">_</span><span class="op" id="5777723">,</span>&nbsp;<span class="ident" id="5777725">name</span>&nbsp;<span class="op" id="5777730">:=</span>&nbsp;<span class="keyword" id="5777733">range</span>&nbsp;<span class="ident" id="5777739">field</span><span class="op" id="5777744">.</span><span class="ident" id="5777745">Names</span>&nbsp;<span class="op" id="5777751">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777757">if</span>&nbsp;<span class="ident" id="5777760">f</span><span class="op" id="5777761">(</span><span class="ident" id="5777762">name</span><span class="op" id="5777766">.</span><span class="ident" id="5777767">Name</span><span class="op" id="5777771">)</span>&nbsp;<span class="op" id="5777773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777780">return</span>&nbsp;<span class="builtintype" id="5777787">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5777796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5777801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5777805">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5777808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777811">return</span>&nbsp;<span class="builtintype" id="5777818">false</span><br>
<span class="lineno"></span><span class="op" id="5777824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5777827">func</span>&nbsp;<span class="ident" id="5777832">matchDecl</span><span class="op" id="5777841">(</span><span class="ident" id="5777842">d</span>&nbsp;<span class="op" id="5777844">*</span><span class="ident" id="5777845">ast</span><span class="op" id="5777848">.</span><span class="ident" id="5777849">GenDecl</span><span class="op" id="5777856">,</span>&nbsp;<span class="ident" id="5777858">f</span>&nbsp;<span class="ident" id="5777860">Filter</span><span class="op" id="5777866">)</span>&nbsp;<span class="builtintype" id="5777868">bool</span>&nbsp;<span class="op" id="5777873">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777876">for</span>&nbsp;<span class="ident" id="5777880">_</span><span class="op" id="5777881">,</span>&nbsp;<span class="ident" id="5777883">d</span>&nbsp;<span class="op" id="5777885">:=</span>&nbsp;<span class="keyword" id="5777888">range</span>&nbsp;<span class="ident" id="5777894">d</span><span class="op" id="5777895">.</span><span class="ident" id="5777896">Specs</span>&nbsp;<span class="op" id="5777902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777906">switch</span>&nbsp;<span class="ident" id="5777913">v</span>&nbsp;<span class="op" id="5777915">:=</span>&nbsp;<span class="ident" id="5777918">d</span><span class="op" id="5777919">.</span><span class="op" id="5777920">(</span><span class="keyword" id="5777921">type</span><span class="op" id="5777925">)</span>&nbsp;<span class="op" id="5777927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777931">case</span>&nbsp;<span class="op" id="5777936">*</span><span class="ident" id="5777937">ast</span><span class="op" id="5777940">.</span><span class="ident" id="5777941">ValueSpec</span><span class="op" id="5777950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777955">for</span>&nbsp;<span class="ident" id="5777959">_</span><span class="op" id="5777960">,</span>&nbsp;<span class="ident" id="5777962">name</span>&nbsp;<span class="op" id="5777967">:=</span>&nbsp;<span class="keyword" id="5777970">range</span>&nbsp;<span class="ident" id="5777976">v</span><span class="op" id="5777977">.</span><span class="ident" id="5777978">Names</span>&nbsp;<span class="op" id="5777984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5777990">if</span>&nbsp;<span class="ident" id="5777993">f</span><span class="op" id="5777994">(</span><span class="ident" id="5777995">name</span><span class="op" id="5777999">.</span><span class="ident" id="5778000">Name</span><span class="op" id="5778004">)</span>&nbsp;<span class="op" id="5778006">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778013">return</span>&nbsp;<span class="builtintype" id="5778020">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778038">case</span>&nbsp;<span class="op" id="5778043">*</span><span class="ident" id="5778044">ast</span><span class="op" id="5778047">.</span><span class="ident" id="5778048">TypeSpec</span><span class="op" id="5778056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778061">if</span>&nbsp;<span class="ident" id="5778064">f</span><span class="op" id="5778065">(</span><span class="ident" id="5778066">v</span><span class="op" id="5778067">.</span><span class="ident" id="5778068">Name</span><span class="op" id="5778072">.</span><span class="ident" id="5778073">Name</span><span class="op" id="5778077">)</span>&nbsp;<span class="op" id="5778079">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778085">return</span>&nbsp;<span class="builtintype" id="5778092">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778105">switch</span>&nbsp;<span class="ident" id="5778112">t</span>&nbsp;<span class="op" id="5778114">:=</span>&nbsp;<span class="ident" id="5778117">v</span><span class="op" id="5778118">.</span><span class="ident" id="5778119">Type</span><span class="op" id="5778123">.</span><span class="op" id="5778124">(</span><span class="keyword" id="5778125">type</span><span class="op" id="5778129">)</span>&nbsp;<span class="op" id="5778131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778136">case</span>&nbsp;<span class="op" id="5778141">*</span><span class="ident" id="5778142">ast</span><span class="op" id="5778145">.</span><span class="ident" id="5778146">StructType</span><span class="op" id="5778156">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778162">if</span>&nbsp;<span class="ident" id="5778165">matchFields</span><span class="op" id="5778176">(</span><span class="ident" id="5778177">t</span><span class="op" id="5778178">.</span><span class="ident" id="5778179">Fields</span><span class="op" id="5778185">,</span>&nbsp;<span class="ident" id="5778187">f</span><span class="op" id="5778188">)</span>&nbsp;<span class="op" id="5778190">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778197">return</span>&nbsp;<span class="builtintype" id="5778204">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778218">case</span>&nbsp;<span class="op" id="5778223">*</span><span class="ident" id="5778224">ast</span><span class="op" id="5778227">.</span><span class="ident" id="5778228">InterfaceType</span><span class="op" id="5778241">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778247">if</span>&nbsp;<span class="ident" id="5778250">matchFields</span><span class="op" id="5778261">(</span><span class="ident" id="5778262">t</span><span class="op" id="5778263">.</span><span class="ident" id="5778264">Methods</span><span class="op" id="5778271">,</span>&nbsp;<span class="ident" id="5778273">f</span><span class="op" id="5778274">)</span>&nbsp;<span class="op" id="5778276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778283">return</span>&nbsp;<span class="builtintype" id="5778290">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778314">return</span>&nbsp;<span class="builtintype" id="5778321">false</span><br>
<span class="lineno">50</span><span class="op" id="5778327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5778330">func</span>&nbsp;<span class="ident" id="5778335">filterValues</span><span class="op" id="5778347">(</span><span class="ident" id="5778348">a</span>&nbsp;<span class="op" id="5778350">[</span><span class="op" id="5778351">]</span><span class="op" id="5778352">*</span><span class="ident" id="5778353">Value</span><span class="op" id="5778358">,</span>&nbsp;<span class="ident" id="5778360">f</span>&nbsp;<span class="ident" id="5778362">Filter</span><span class="op" id="5778368">)</span>&nbsp;<span class="op" id="5778370">[</span><span class="op" id="5778371">]</span><span class="op" id="5778372">*</span><span class="ident" id="5778373">Value</span>&nbsp;<span class="op" id="5778379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778382">w</span>&nbsp;<span class="op" id="5778384">:=</span>&nbsp;<span class="num" id="5778387">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778390">for</span>&nbsp;<span class="ident" id="5778394">_</span><span class="op" id="5778395">,</span>&nbsp;<span class="ident" id="5778397">vd</span>&nbsp;<span class="op" id="5778400">:=</span>&nbsp;<span class="keyword" id="5778403">range</span>&nbsp;<span class="ident" id="5778409">a</span>&nbsp;<span class="op" id="5778411">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778415">if</span>&nbsp;<span class="ident" id="5778418">matchDecl</span><span class="op" id="5778427">(</span><span class="ident" id="5778428">vd</span><span class="op" id="5778430">.</span><span class="ident" id="5778431">Decl</span><span class="op" id="5778435">,</span>&nbsp;<span class="ident" id="5778437">f</span><span class="op" id="5778438">)</span>&nbsp;<span class="op" id="5778440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778445">a</span><span class="op" id="5778446">[</span><span class="ident" id="5778447">w</span><span class="op" id="5778448">]</span>&nbsp;<span class="op" id="5778450">=</span>&nbsp;<span class="ident" id="5778452">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778458">w</span><span class="op" id="5778459">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778467">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778470">return</span>&nbsp;<span class="ident" id="5778477">a</span><span class="op" id="5778478">[</span><span class="num" id="5778479">0</span><span class="op" id="5778480">:</span><span class="ident" id="5778481">w</span><span class="op" id="5778482">]</span><br>
<span class="lineno"></span><span class="op" id="5778484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5778487">func</span>&nbsp;<span class="ident" id="5778492">filterFuncs</span><span class="op" id="5778503">(</span><span class="ident" id="5778504">a</span>&nbsp;<span class="op" id="5778506">[</span><span class="op" id="5778507">]</span><span class="op" id="5778508">*</span><span class="ident" id="5778509">Func</span><span class="op" id="5778513">,</span>&nbsp;<span class="ident" id="5778515">f</span>&nbsp;<span class="ident" id="5778517">Filter</span><span class="op" id="5778523">)</span>&nbsp;<span class="op" id="5778525">[</span><span class="op" id="5778526">]</span><span class="op" id="5778527">*</span><span class="ident" id="5778528">Func</span>&nbsp;<span class="op" id="5778533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778536">w</span>&nbsp;<span class="op" id="5778538">:=</span>&nbsp;<span class="num" id="5778541">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778544">for</span>&nbsp;<span class="ident" id="5778548">_</span><span class="op" id="5778549">,</span>&nbsp;<span class="ident" id="5778551">fd</span>&nbsp;<span class="op" id="5778554">:=</span>&nbsp;<span class="keyword" id="5778557">range</span>&nbsp;<span class="ident" id="5778563">a</span>&nbsp;<span class="op" id="5778565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778569">if</span>&nbsp;<span class="ident" id="5778572">f</span><span class="op" id="5778573">(</span><span class="ident" id="5778574">fd</span><span class="op" id="5778576">.</span><span class="ident" id="5778577">Name</span><span class="op" id="5778581">)</span>&nbsp;<span class="op" id="5778583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778588">a</span><span class="op" id="5778589">[</span><span class="ident" id="5778590">w</span><span class="op" id="5778591">]</span>&nbsp;<span class="op" id="5778593">=</span>&nbsp;<span class="ident" id="5778595">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778601">w</span><span class="op" id="5778602">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778607">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778613">return</span>&nbsp;<span class="ident" id="5778620">a</span><span class="op" id="5778621">[</span><span class="num" id="5778622">0</span><span class="op" id="5778623">:</span><span class="ident" id="5778624">w</span><span class="op" id="5778625">]</span><br>
<span class="lineno"></span><span class="op" id="5778627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5778630">func</span>&nbsp;<span class="ident" id="5778635">filterTypes</span><span class="op" id="5778646">(</span><span class="ident" id="5778647">a</span>&nbsp;<span class="op" id="5778649">[</span><span class="op" id="5778650">]</span><span class="op" id="5778651">*</span><span class="ident" id="5778652">Type</span><span class="op" id="5778656">,</span>&nbsp;<span class="ident" id="5778658">f</span>&nbsp;<span class="ident" id="5778660">Filter</span><span class="op" id="5778666">)</span>&nbsp;<span class="op" id="5778668">[</span><span class="op" id="5778669">]</span><span class="op" id="5778670">*</span><span class="ident" id="5778671">Type</span>&nbsp;<span class="op" id="5778676">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778679">w</span>&nbsp;<span class="op" id="5778681">:=</span>&nbsp;<span class="num" id="5778684">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778687">for</span>&nbsp;<span class="ident" id="5778691">_</span><span class="op" id="5778692">,</span>&nbsp;<span class="ident" id="5778694">td</span>&nbsp;<span class="op" id="5778697">:=</span>&nbsp;<span class="keyword" id="5778700">range</span>&nbsp;<span class="ident" id="5778706">a</span>&nbsp;<span class="op" id="5778708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778712">n</span>&nbsp;<span class="op" id="5778714">:=</span>&nbsp;<span class="num" id="5778717">0</span>&nbsp;<span class="comment" id="5778719">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5778742">if</span>&nbsp;<span class="ident" id="5778745">matchDecl</span><span class="op" id="5778754">(</span><span class="ident" id="5778755">td</span><span class="op" id="5778757">.</span><span class="ident" id="5778758">Decl</span><span class="op" id="5778762">,</span>&nbsp;<span class="ident" id="5778764">f</span><span class="op" id="5778765">)</span>&nbsp;<span class="op" id="5778767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778772">n</span>&nbsp;<span class="op" id="5778774">=</span>&nbsp;<span class="num" id="5778776">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5778780">}</span>&nbsp;<span class="keyword" id="5778782">else</span>&nbsp;<span class="op" id="5778787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5778792">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778883">td</span><span class="op" id="5778885">.</span><span class="ident" id="5778886">Consts</span>&nbsp;<span class="op" id="5778893">=</span>&nbsp;<span class="ident" id="5778895">filterValues</span><span class="op" id="5778907">(</span><span class="ident" id="5778908">td</span><span class="op" id="5778910">.</span><span class="ident" id="5778911">Consts</span><span class="op" id="5778917">,</span>&nbsp;<span class="ident" id="5778919">f</span><span class="op" id="5778920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778925">td</span><span class="op" id="5778927">.</span><span class="ident" id="5778928">Vars</span>&nbsp;<span class="op" id="5778933">=</span>&nbsp;<span class="ident" id="5778935">filterValues</span><span class="op" id="5778947">(</span><span class="ident" id="5778948">td</span><span class="op" id="5778950">.</span><span class="ident" id="5778951">Vars</span><span class="op" id="5778955">,</span>&nbsp;<span class="ident" id="5778957">f</span><span class="op" id="5778958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5778963">td</span><span class="op" id="5778965">.</span><span class="ident" id="5778966">Funcs</span>&nbsp;<span class="op" id="5778972">=</span>&nbsp;<span class="ident" id="5778974">filterFuncs</span><span class="op" id="5778985">(</span><span class="ident" id="5778986">td</span><span class="op" id="5778988">.</span><span class="ident" id="5778989">Funcs</span><span class="op" id="5778994">,</span>&nbsp;<span class="ident" id="5778996">f</span><span class="op" id="5778997">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779002">td</span><span class="op" id="5779004">.</span><span class="ident" id="5779005">Methods</span>&nbsp;<span class="op" id="5779013">=</span>&nbsp;<span class="ident" id="5779015">filterFuncs</span><span class="op" id="5779026">(</span><span class="ident" id="5779027">td</span><span class="op" id="5779029">.</span><span class="ident" id="5779030">Methods</span><span class="op" id="5779037">,</span>&nbsp;<span class="ident" id="5779039">f</span><span class="op" id="5779040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779045">n</span>&nbsp;<span class="op" id="5779047">+=</span>&nbsp;<span class="builtinfunc" id="5779050">len</span><span class="op" id="5779053">(</span><span class="ident" id="5779054">td</span><span class="op" id="5779056">.</span><span class="ident" id="5779057">Consts</span><span class="op" id="5779063">)</span>&nbsp;<span class="op" id="5779065">+</span>&nbsp;<span class="builtinfunc" id="5779067">len</span><span class="op" id="5779070">(</span><span class="ident" id="5779071">td</span><span class="op" id="5779073">.</span><span class="ident" id="5779074">Vars</span><span class="op" id="5779078">)</span>&nbsp;<span class="op" id="5779080">+</span>&nbsp;<span class="builtinfunc" id="5779082">len</span><span class="op" id="5779085">(</span><span class="ident" id="5779086">td</span><span class="op" id="5779088">.</span><span class="ident" id="5779089">Funcs</span><span class="op" id="5779094">)</span>&nbsp;<span class="op" id="5779096">+</span>&nbsp;<span class="builtinfunc" id="5779098">len</span><span class="op" id="5779101">(</span><span class="ident" id="5779102">td</span><span class="op" id="5779104">.</span><span class="ident" id="5779105">Methods</span><span class="op" id="5779112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5779116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5779120">if</span>&nbsp;<span class="ident" id="5779123">n</span>&nbsp;<span class="op" id="5779125">&gt;</span>&nbsp;<span class="num" id="5779127">0</span>&nbsp;<span class="op" id="5779129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779134">a</span><span class="op" id="5779135">[</span><span class="ident" id="5779136">w</span><span class="op" id="5779137">]</span>&nbsp;<span class="op" id="5779139">=</span>&nbsp;<span class="ident" id="5779141">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779147">w</span><span class="op" id="5779148">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5779153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5779156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5779159">return</span>&nbsp;<span class="ident" id="5779166">a</span><span class="op" id="5779167">[</span><span class="num" id="5779168">0</span><span class="op" id="5779169">:</span><span class="ident" id="5779170">w</span><span class="op" id="5779171">]</span><br>
<span class="lineno"></span><span class="op" id="5779173">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5779176">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5779259">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="5779308">//</span><br>
<span class="lineno"></span><span class="keyword" id="5779311">func</span>&nbsp;<span class="op" id="5779316">(</span><span class="ident" id="5779317">p</span>&nbsp;<span class="op" id="5779319">*</span><span class="ident" id="5779320">Package</span><span class="op" id="5779327">)</span>&nbsp;<span class="ident" id="5779329">Filter</span><span class="op" id="5779335">(</span><span class="ident" id="5779336">f</span>&nbsp;<span class="ident" id="5779338">Filter</span><span class="op" id="5779344">)</span>&nbsp;<span class="op" id="5779346">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779349">p</span><span class="op" id="5779350">.</span><span class="ident" id="5779351">Consts</span>&nbsp;<span class="op" id="5779358">=</span>&nbsp;<span class="ident" id="5779360">filterValues</span><span class="op" id="5779372">(</span><span class="ident" id="5779373">p</span><span class="op" id="5779374">.</span><span class="ident" id="5779375">Consts</span><span class="op" id="5779381">,</span>&nbsp;<span class="ident" id="5779383">f</span><span class="op" id="5779384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779387">p</span><span class="op" id="5779388">.</span><span class="ident" id="5779389">Vars</span>&nbsp;<span class="op" id="5779394">=</span>&nbsp;<span class="ident" id="5779396">filterValues</span><span class="op" id="5779408">(</span><span class="ident" id="5779409">p</span><span class="op" id="5779410">.</span><span class="ident" id="5779411">Vars</span><span class="op" id="5779415">,</span>&nbsp;<span class="ident" id="5779417">f</span><span class="op" id="5779418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779421">p</span><span class="op" id="5779422">.</span><span class="ident" id="5779423">Types</span>&nbsp;<span class="op" id="5779429">=</span>&nbsp;<span class="ident" id="5779431">filterTypes</span><span class="op" id="5779442">(</span><span class="ident" id="5779443">p</span><span class="op" id="5779444">.</span><span class="ident" id="5779445">Types</span><span class="op" id="5779450">,</span>&nbsp;<span class="ident" id="5779452">f</span><span class="op" id="5779453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779456">p</span><span class="op" id="5779457">.</span><span class="ident" id="5779458">Funcs</span>&nbsp;<span class="op" id="5779464">=</span>&nbsp;<span class="ident" id="5779466">filterFuncs</span><span class="op" id="5779477">(</span><span class="ident" id="5779478">p</span><span class="op" id="5779479">.</span><span class="ident" id="5779480">Funcs</span><span class="op" id="5779485">,</span>&nbsp;<span class="ident" id="5779487">f</span><span class="op" id="5779488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5779491">p</span><span class="op" id="5779492">.</span><span class="ident" id="5779493">Doc</span>&nbsp;<span class="op" id="5779497">=</span>&nbsp;<span class="string" id="5779499">&#34;&#34;</span>&nbsp;<span class="comment" id="5779502">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="5779538">}</span>
</div>
</body>
</html>
