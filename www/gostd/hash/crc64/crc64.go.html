<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html" class="current">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5897960">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5898015">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5898069">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5898120">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5898195">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5898269">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5898285">package</span>&nbsp;<span class="ident" id="5898293">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5898300">import</span>&nbsp;<span class="string" id="5898307">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5898315">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5898358">const</span>&nbsp;<span class="ident" id="5898364">Size</span>&nbsp;<span class="op" id="5898369">=</span>&nbsp;<span class="num" id="5898371">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5898374">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5898401">const</span>&nbsp;<span class="op" id="5898407">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898410">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898472">ISO</span>&nbsp;<span class="op" id="5898476">=</span>&nbsp;<span class="num" id="5898478">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898499">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898545">ECMA</span>&nbsp;<span class="op" id="5898550">=</span>&nbsp;<span class="num" id="5898552">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5898571">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5898574">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5898657">type</span>&nbsp;<span class="ident" id="5898662">Table</span>&nbsp;<span class="op" id="5898668">[</span><span class="num" id="5898669">256</span><span class="op" id="5898672">]</span><span class="builtintype" id="5898673">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5898681">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5898755">func</span>&nbsp;<span class="ident" id="5898760">MakeTable</span><span class="op" id="5898769">(</span><span class="ident" id="5898770">poly</span>&nbsp;<span class="builtintype" id="5898775">uint64</span><span class="op" id="5898781">)</span>&nbsp;<span class="op" id="5898783">*</span><span class="ident" id="5898784"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span>&nbsp;<span class="op" id="5898790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898793">t</span>&nbsp;<span class="op" id="5898795">:=</span>&nbsp;<span class="builtinfunc" id="5898798">new</span><span class="op" id="5898801">(</span><span class="ident" id="5898802"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><span class="op" id="5898807">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898810">for</span>&nbsp;<span class="ident" id="5898814">i</span>&nbsp;<span class="op" id="5898816">:=</span>&nbsp;<span class="num" id="5898819">0</span><span class="op" id="5898820">;</span>&nbsp;<span class="ident" id="5898822"><a href="/gostd/hash/crc64/crc64.go.html#5898814">i</a></span>&nbsp;<span class="op" id="5898824">&lt;</span>&nbsp;<span class="num" id="5898826">256</span><span class="op" id="5898829">;</span>&nbsp;<span class="ident" id="5898831"><a href="/gostd/hash/crc64/crc64.go.html#5898814">i</a></span><span class="op" id="5898832">++</span>&nbsp;<span class="op" id="5898835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898839">crc</span>&nbsp;<span class="op" id="5898843">:=</span>&nbsp;<span class="builtintype" id="5898846">uint64</span><span class="op" id="5898852">(</span><span class="ident" id="5898853"><a href="/gostd/hash/crc64/crc64.go.html#5898814">i</a></span><span class="op" id="5898854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898858">for</span>&nbsp;<span class="ident" id="5898862">j</span>&nbsp;<span class="op" id="5898864">:=</span>&nbsp;<span class="num" id="5898867">0</span><span class="op" id="5898868">;</span>&nbsp;<span class="ident" id="5898870"><a href="/gostd/hash/crc64/crc64.go.html#5898862">j</a></span>&nbsp;<span class="op" id="5898872">&lt;</span>&nbsp;<span class="num" id="5898874">8</span><span class="op" id="5898875">;</span>&nbsp;<span class="ident" id="5898877"><a href="/gostd/hash/crc64/crc64.go.html#5898862">j</a></span><span class="op" id="5898878">++</span>&nbsp;<span class="op" id="5898881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898886">if</span>&nbsp;<span class="ident" id="5898889"><a href="/gostd/hash/crc64/crc64.go.html#5898839">crc</a></span><span class="op" id="5898892">&amp;</span><span class="num" id="5898893">1</span>&nbsp;<span class="op" id="5898895">==</span>&nbsp;<span class="num" id="5898898">1</span>&nbsp;<span class="op" id="5898900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898906"><a href="/gostd/hash/crc64/crc64.go.html#5898839">crc</a></span>&nbsp;<span class="op" id="5898910">=</span>&nbsp;<span class="op" id="5898912">(</span><span class="ident" id="5898913"><a href="/gostd/hash/crc64/crc64.go.html#5898839">crc</a></span>&nbsp;<span class="op" id="5898917">&gt;&gt;</span>&nbsp;<span class="num" id="5898920">1</span><span class="op" id="5898921">)</span>&nbsp;<span class="op" id="5898923">^</span>&nbsp;<span class="ident" id="5898925"><a href="/gostd/hash/crc64/crc64.go.html#5898770">poly</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898933">}</span>&nbsp;<span class="keyword" id="5898935">else</span>&nbsp;<span class="op" id="5898940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898946"><a href="/gostd/hash/crc64/crc64.go.html#5898839">crc</a></span>&nbsp;<span class="op" id="5898950">&gt;&gt;=</span>&nbsp;<span class="num" id="5898954">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898967"><a href="/gostd/hash/crc64/crc64.go.html#5898793">t</a></span><span class="op" id="5898968">[</span><span class="ident" id="5898969"><a href="/gostd/hash/crc64/crc64.go.html#5898814">i</a></span><span class="op" id="5898970">]</span>&nbsp;<span class="op" id="5898972">=</span>&nbsp;<span class="ident" id="5898974"><a href="/gostd/hash/crc64/crc64.go.html#5898839">crc</a></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898982">return</span>&nbsp;<span class="ident" id="5898989"><a href="/gostd/hash/crc64/crc64.go.html#5898793">t</a></span><br>
<span class="lineno"></span><span class="op" id="5898991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5898994">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5899053">type</span>&nbsp;<span class="ident" id="5899058">digest</span>&nbsp;<span class="keyword" id="5899065">struct</span>&nbsp;<span class="op" id="5899072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899075">crc</span>&nbsp;<span class="builtintype" id="5899079">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899087">tab</span>&nbsp;<span class="op" id="5899091">*</span><span class="ident" id="5899092"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><br>
<span class="lineno"></span><span class="op" id="5899098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5899101">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5899164">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5899214">func</span>&nbsp;<span class="ident" id="5899219">New</span><span class="op" id="5899222">(</span><span class="ident" id="5899223">tab</span>&nbsp;<span class="op" id="5899227">*</span><span class="ident" id="5899228"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><span class="op" id="5899233">)</span>&nbsp;<span class="ident" id="5899235"><a href="/gostd/hash/crc64/crc64.go.html#5898307">hash</a></span><span class="op" id="5899239">.</span><span class="ident" id="5899240"><a href="/gostd/hash/hash.go.html#3014957">Hash64</a></span>&nbsp;<span class="op" id="5899247">{</span>&nbsp;<span class="keyword" id="5899249">return</span>&nbsp;<span class="op" id="5899256">&amp;</span><span class="ident" id="5899257"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899263">{</span><span class="num" id="5899264">0</span><span class="op" id="5899265">,</span>&nbsp;<span class="ident" id="5899267"><a href="/gostd/hash/crc64/crc64.go.html#5899223">tab</a></span><span class="op" id="5899270">}</span>&nbsp;<span class="op" id="5899272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899275">func</span>&nbsp;<span class="op" id="5899280">(</span><span class="ident" id="5899281">d</span>&nbsp;<span class="op" id="5899283">*</span><span class="ident" id="5899284"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899290">)</span>&nbsp;<span class="ident" id="5899292">Size</span><span class="op" id="5899296">(</span><span class="op" id="5899297">)</span>&nbsp;<span class="builtintype" id="5899299">int</span>&nbsp;<span class="op" id="5899303">{</span>&nbsp;<span class="keyword" id="5899305">return</span>&nbsp;<span class="ident" id="5899312"><a href="/gostd/hash/crc64/crc64.go.html#5898364">Size</a></span>&nbsp;<span class="op" id="5899317">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5899320">func</span>&nbsp;<span class="op" id="5899325">(</span><span class="ident" id="5899326">d</span>&nbsp;<span class="op" id="5899328">*</span><span class="ident" id="5899329"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899335">)</span>&nbsp;<span class="ident" id="5899337">BlockSize</span><span class="op" id="5899346">(</span><span class="op" id="5899347">)</span>&nbsp;<span class="builtintype" id="5899349">int</span>&nbsp;<span class="op" id="5899353">{</span>&nbsp;<span class="keyword" id="5899355">return</span>&nbsp;<span class="num" id="5899362">1</span>&nbsp;<span class="op" id="5899364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899367">func</span>&nbsp;<span class="op" id="5899372">(</span><span class="ident" id="5899373">d</span>&nbsp;<span class="op" id="5899375">*</span><span class="ident" id="5899376"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899382">)</span>&nbsp;<span class="ident" id="5899384">Reset</span><span class="op" id="5899389">(</span><span class="op" id="5899390">)</span>&nbsp;<span class="op" id="5899392">{</span>&nbsp;<span class="ident" id="5899394"><a href="/gostd/hash/crc64/crc64.go.html#5899373">d</a></span><span class="op" id="5899395">.</span><span class="ident" id="5899396"><a href="/gostd/hash/crc64/crc64.go.html#5899075">crc</a></span>&nbsp;<span class="op" id="5899400">=</span>&nbsp;<span class="num" id="5899402">0</span>&nbsp;<span class="op" id="5899404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5899407">func</span>&nbsp;<span class="ident" id="5899412">update</span><span class="op" id="5899418">(</span><span class="ident" id="5899419">crc</span>&nbsp;<span class="builtintype" id="5899423">uint64</span><span class="op" id="5899429">,</span>&nbsp;<span class="ident" id="5899431">tab</span>&nbsp;<span class="op" id="5899435">*</span><span class="ident" id="5899436"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><span class="op" id="5899441">,</span>&nbsp;<span class="ident" id="5899443">p</span>&nbsp;<span class="op" id="5899445">[</span><span class="op" id="5899446">]</span><span class="builtintype" id="5899447">byte</span><span class="op" id="5899451">)</span>&nbsp;<span class="builtintype" id="5899453">uint64</span>&nbsp;<span class="op" id="5899460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899463"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span>&nbsp;<span class="op" id="5899467">=</span>&nbsp;<span class="op" id="5899469">^</span><span class="ident" id="5899470"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899475">for</span>&nbsp;<span class="ident" id="5899479">_</span><span class="op" id="5899480">,</span>&nbsp;<span class="ident" id="5899482">v</span>&nbsp;<span class="op" id="5899484">:=</span>&nbsp;<span class="keyword" id="5899487">range</span>&nbsp;<span class="ident" id="5899493"><a href="/gostd/hash/crc64/crc64.go.html#5899443">p</a></span>&nbsp;<span class="op" id="5899495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899499"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span>&nbsp;<span class="op" id="5899503">=</span>&nbsp;<span class="ident" id="5899505"><a href="/gostd/hash/crc64/crc64.go.html#5899431">tab</a></span><span class="op" id="5899508">[</span><span class="builtintype" id="5899509">byte</span><span class="op" id="5899513">(</span><span class="ident" id="5899514"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span><span class="op" id="5899517">)</span><span class="op" id="5899518">^</span><span class="ident" id="5899519"><a href="/gostd/hash/crc64/crc64.go.html#5899482">v</a></span><span class="op" id="5899520">]</span>&nbsp;<span class="op" id="5899522">^</span>&nbsp;<span class="op" id="5899524">(</span><span class="ident" id="5899525"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span>&nbsp;<span class="op" id="5899529">&gt;&gt;</span>&nbsp;<span class="num" id="5899532">8</span><span class="op" id="5899533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899536">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899539">return</span>&nbsp;<span class="op" id="5899546">^</span><span class="ident" id="5899547"><a href="/gostd/hash/crc64/crc64.go.html#5899419">crc</a></span><br>
<span class="lineno"></span><span class="op" id="5899551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5899554">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5899620">func</span>&nbsp;<span class="ident" id="5899625">Update</span><span class="op" id="5899631">(</span><span class="ident" id="5899632">crc</span>&nbsp;<span class="builtintype" id="5899636">uint64</span><span class="op" id="5899642">,</span>&nbsp;<span class="ident" id="5899644">tab</span>&nbsp;<span class="op" id="5899648">*</span><span class="ident" id="5899649"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><span class="op" id="5899654">,</span>&nbsp;<span class="ident" id="5899656">p</span>&nbsp;<span class="op" id="5899658">[</span><span class="op" id="5899659">]</span><span class="builtintype" id="5899660">byte</span><span class="op" id="5899664">)</span>&nbsp;<span class="builtintype" id="5899666">uint64</span>&nbsp;<span class="op" id="5899673">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899676">return</span>&nbsp;<span class="ident" id="5899683"><a href="/gostd/hash/crc64/crc64.go.html#5899412">update</a></span><span class="op" id="5899689">(</span><span class="ident" id="5899690"><a href="/gostd/hash/crc64/crc64.go.html#5899632">crc</a></span><span class="op" id="5899693">,</span>&nbsp;<span class="ident" id="5899695"><a href="/gostd/hash/crc64/crc64.go.html#5899644">tab</a></span><span class="op" id="5899698">,</span>&nbsp;<span class="ident" id="5899700"><a href="/gostd/hash/crc64/crc64.go.html#5899656">p</a></span><span class="op" id="5899701">)</span><br>
<span class="lineno"></span><span class="op" id="5899703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899706">func</span>&nbsp;<span class="op" id="5899711">(</span><span class="ident" id="5899712">d</span>&nbsp;<span class="op" id="5899714">*</span><span class="ident" id="5899715"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899721">)</span>&nbsp;<span class="ident" id="5899723">Write</span><span class="op" id="5899728">(</span><span class="ident" id="5899729">p</span>&nbsp;<span class="op" id="5899731">[</span><span class="op" id="5899732">]</span><span class="builtintype" id="5899733">byte</span><span class="op" id="5899737">)</span>&nbsp;<span class="op" id="5899739">(</span><span class="ident" id="5899740">n</span>&nbsp;<span class="builtintype" id="5899742">int</span><span class="op" id="5899745">,</span>&nbsp;<span class="ident" id="5899747">err</span>&nbsp;<span class="builtintype" id="5899751">error</span><span class="op" id="5899756">)</span>&nbsp;<span class="op" id="5899758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899761"><a href="/gostd/hash/crc64/crc64.go.html#5899712">d</a></span><span class="op" id="5899762">.</span><span class="ident" id="5899763"><a href="/gostd/hash/crc64/crc64.go.html#5899075">crc</a></span>&nbsp;<span class="op" id="5899767">=</span>&nbsp;<span class="ident" id="5899769"><a href="/gostd/hash/crc64/crc64.go.html#5899412">update</a></span><span class="op" id="5899775">(</span><span class="ident" id="5899776"><a href="/gostd/hash/crc64/crc64.go.html#5899712">d</a></span><span class="op" id="5899777">.</span><span class="ident" id="5899778"><a href="/gostd/hash/crc64/crc64.go.html#5899075">crc</a></span><span class="op" id="5899781">,</span>&nbsp;<span class="ident" id="5899783"><a href="/gostd/hash/crc64/crc64.go.html#5899712">d</a></span><span class="op" id="5899784">.</span><span class="ident" id="5899785"><a href="/gostd/hash/crc64/crc64.go.html#5899087">tab</a></span><span class="op" id="5899788">,</span>&nbsp;<span class="ident" id="5899790"><a href="/gostd/hash/crc64/crc64.go.html#5899729">p</a></span><span class="op" id="5899791">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899794">return</span>&nbsp;<span class="builtinfunc" id="5899801">len</span><span class="op" id="5899804">(</span><span class="ident" id="5899805"><a href="/gostd/hash/crc64/crc64.go.html#5899729">p</a></span><span class="op" id="5899806">)</span><span class="op" id="5899807">,</span>&nbsp;<span class="builtintype" id="5899809">nil</span><br>
<span class="lineno"></span><span class="op" id="5899813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899816">func</span>&nbsp;<span class="op" id="5899821">(</span><span class="ident" id="5899822">d</span>&nbsp;<span class="op" id="5899824">*</span><span class="ident" id="5899825"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899831">)</span>&nbsp;<span class="ident" id="5899833">Sum64</span><span class="op" id="5899838">(</span><span class="op" id="5899839">)</span>&nbsp;<span class="builtintype" id="5899841">uint64</span>&nbsp;<span class="op" id="5899848">{</span>&nbsp;<span class="keyword" id="5899850">return</span>&nbsp;<span class="ident" id="5899857"><a href="/gostd/hash/crc64/crc64.go.html#5899822">d</a></span><span class="op" id="5899858">.</span><span class="ident" id="5899859"><a href="/gostd/hash/crc64/crc64.go.html#5899075">crc</a></span>&nbsp;<span class="op" id="5899863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5899866">func</span>&nbsp;<span class="op" id="5899871">(</span><span class="ident" id="5899872">d</span>&nbsp;<span class="op" id="5899874">*</span><span class="ident" id="5899875"><a href="/gostd/hash/crc64/crc64.go.html#5899058">digest</a></span><span class="op" id="5899881">)</span>&nbsp;<span class="ident" id="5899883">Sum</span><span class="op" id="5899886">(</span><span class="ident" id="5899887">in</span>&nbsp;<span class="op" id="5899890">[</span><span class="op" id="5899891">]</span><span class="builtintype" id="5899892">byte</span><span class="op" id="5899896">)</span>&nbsp;<span class="op" id="5899898">[</span><span class="op" id="5899899">]</span><span class="builtintype" id="5899900">byte</span>&nbsp;<span class="op" id="5899905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899908">s</span>&nbsp;<span class="op" id="5899910">:=</span>&nbsp;<span class="ident" id="5899913"><a href="/gostd/hash/crc64/crc64.go.html#5899872">d</a></span><span class="op" id="5899914">.</span><span class="ident" id="5899915"><a href="/gostd/hash/crc64/crc64.go.html#5899833">Sum64</a></span><span class="op" id="5899920">(</span><span class="op" id="5899921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899924">return</span>&nbsp;<span class="builtinfunc" id="5899931">append</span><span class="op" id="5899937">(</span><span class="ident" id="5899938"><a href="/gostd/hash/crc64/crc64.go.html#5899887">in</a></span><span class="op" id="5899940">,</span>&nbsp;<span class="builtintype" id="5899942">byte</span><span class="op" id="5899946">(</span><span class="ident" id="5899947"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5899948">&gt;&gt;</span><span class="num" id="5899950">56</span><span class="op" id="5899952">)</span><span class="op" id="5899953">,</span>&nbsp;<span class="builtintype" id="5899955">byte</span><span class="op" id="5899959">(</span><span class="ident" id="5899960"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5899961">&gt;&gt;</span><span class="num" id="5899963">48</span><span class="op" id="5899965">)</span><span class="op" id="5899966">,</span>&nbsp;<span class="builtintype" id="5899968">byte</span><span class="op" id="5899972">(</span><span class="ident" id="5899973"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5899974">&gt;&gt;</span><span class="num" id="5899976">40</span><span class="op" id="5899978">)</span><span class="op" id="5899979">,</span>&nbsp;<span class="builtintype" id="5899981">byte</span><span class="op" id="5899985">(</span><span class="ident" id="5899986"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5899987">&gt;&gt;</span><span class="num" id="5899989">32</span><span class="op" id="5899991">)</span><span class="op" id="5899992">,</span>&nbsp;<span class="builtintype" id="5899994">byte</span><span class="op" id="5899998">(</span><span class="ident" id="5899999"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5900000">&gt;&gt;</span><span class="num" id="5900002">24</span><span class="op" id="5900004">)</span><span class="op" id="5900005">,</span>&nbsp;<span class="builtintype" id="5900007">byte</span><span class="op" id="5900011">(</span><span class="ident" id="5900012"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5900013">&gt;&gt;</span><span class="num" id="5900015">16</span><span class="op" id="5900017">)</span><span class="op" id="5900018">,</span>&nbsp;<span class="builtintype" id="5900020">byte</span><span class="op" id="5900024">(</span><span class="ident" id="5900025"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5900026">&gt;&gt;</span><span class="num" id="5900028">8</span><span class="op" id="5900029">)</span><span class="op" id="5900030">,</span>&nbsp;<span class="builtintype" id="5900032">byte</span><span class="op" id="5900036">(</span><span class="ident" id="5900037"><a href="/gostd/hash/crc64/crc64.go.html#5899908">s</a></span><span class="op" id="5900038">)</span><span class="op" id="5900039">)</span><br>
<span class="lineno"></span><span class="op" id="5900041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5900044">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5900092">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5900142">func</span>&nbsp;<span class="ident" id="5900147">Checksum</span><span class="op" id="5900155">(</span><span class="ident" id="5900156">data</span>&nbsp;<span class="op" id="5900161">[</span><span class="op" id="5900162">]</span><span class="builtintype" id="5900163">byte</span><span class="op" id="5900167">,</span>&nbsp;<span class="ident" id="5900169">tab</span>&nbsp;<span class="op" id="5900173">*</span><span class="ident" id="5900174"><a href="/gostd/hash/crc64/crc64.go.html#5898662">Table</a></span><span class="op" id="5900179">)</span>&nbsp;<span class="builtintype" id="5900181">uint64</span>&nbsp;<span class="op" id="5900188">{</span>&nbsp;<span class="keyword" id="5900190">return</span>&nbsp;<span class="ident" id="5900197"><a href="/gostd/hash/crc64/crc64.go.html#5899412">update</a></span><span class="op" id="5900203">(</span><span class="num" id="5900204">0</span><span class="op" id="5900205">,</span>&nbsp;<span class="ident" id="5900207"><a href="/gostd/hash/crc64/crc64.go.html#5900169">tab</a></span><span class="op" id="5900210">,</span>&nbsp;<span class="ident" id="5900212"><a href="/gostd/hash/crc64/crc64.go.html#5900156">data</a></span><span class="op" id="5900216">)</span>&nbsp;<span class="op" id="5900218">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
