<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7090833">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7090888">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7090942">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7090993">package</span>&nbsp;<span class="ident" id="7091001">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7091007">import</span>&nbsp;<span class="op" id="7091014">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091017">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091026">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091032">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091043">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7091053">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7091056">func</span>&nbsp;<span class="ident" id="7091061">TestBodyReadBadTrailer</span><span class="op" id="7091083">(</span><span class="ident" id="7091084">t</span>&nbsp;<span class="op" id="7091086">*</span><span class="ident" id="7091087">testing</span><span class="op" id="7091094">.</span><span class="ident" id="7091095">T</span><span class="op" id="7091096">)</span>&nbsp;<span class="op" id="7091098">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091101">b</span>&nbsp;<span class="op" id="7091103">:=</span>&nbsp;<span class="op" id="7091106">&amp;</span><span class="ident" id="7091107">body</span><span class="op" id="7091111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091115">src</span><span class="op" id="7091118">:</span>&nbsp;<span class="ident" id="7091120">strings</span><span class="op" id="7091127">.</span><span class="ident" id="7091128">NewReader</span><span class="op" id="7091137">(</span><span class="string" id="7091138">&#34;foobar&#34;</span><span class="op" id="7091146">)</span><span class="op" id="7091147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091151">hdr</span><span class="op" id="7091154">:</span>&nbsp;<span class="builtintype" id="7091156">true</span><span class="op" id="7091160">,</span>&nbsp;<span class="comment" id="7091162">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091193">r</span><span class="op" id="7091194">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7091198">bufio</span><span class="op" id="7091203">.</span><span class="ident" id="7091204">NewReader</span><span class="op" id="7091213">(</span><span class="ident" id="7091214">strings</span><span class="op" id="7091221">.</span><span class="ident" id="7091222">NewReader</span><span class="op" id="7091231">(</span><span class="string" id="7091232">&#34;&#34;</span><span class="op" id="7091234">)</span><span class="op" id="7091235">)</span><span class="op" id="7091236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091239">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091242">buf</span>&nbsp;<span class="op" id="7091246">:=</span>&nbsp;<span class="builtinfunc" id="7091249">make</span><span class="op" id="7091253">(</span><span class="op" id="7091254">[</span><span class="op" id="7091255">]</span><span class="builtintype" id="7091256">byte</span><span class="op" id="7091260">,</span>&nbsp;<span class="num" id="7091262">7</span><span class="op" id="7091263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091266">n</span><span class="op" id="7091267">,</span>&nbsp;<span class="ident" id="7091269">err</span>&nbsp;<span class="op" id="7091273">:=</span>&nbsp;<span class="ident" id="7091276">b</span><span class="op" id="7091277">.</span><span class="ident" id="7091278">Read</span><span class="op" id="7091282">(</span><span class="ident" id="7091283">buf</span><span class="op" id="7091286">[</span><span class="op" id="7091287">:</span><span class="num" id="7091288">3</span><span class="op" id="7091289">]</span><span class="op" id="7091290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091293">got</span>&nbsp;<span class="op" id="7091297">:=</span>&nbsp;<span class="builtintype" id="7091300">string</span><span class="op" id="7091306">(</span><span class="ident" id="7091307">buf</span><span class="op" id="7091310">[</span><span class="op" id="7091311">:</span><span class="ident" id="7091312">n</span><span class="op" id="7091313">]</span><span class="op" id="7091314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091317">if</span>&nbsp;<span class="ident" id="7091320">got</span>&nbsp;<span class="op" id="7091324">!=</span>&nbsp;<span class="string" id="7091327">&#34;foo&#34;</span>&nbsp;<span class="op" id="7091333">||</span>&nbsp;<span class="ident" id="7091336">err</span>&nbsp;<span class="op" id="7091340">!=</span>&nbsp;<span class="ident" id="7091343">nil</span>&nbsp;<span class="op" id="7091347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091351">t</span><span class="op" id="7091352">.</span><span class="ident" id="7091353">Fatalf</span><span class="op" id="7091359">(</span><span class="string" id="7091360">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7091402">,</span>&nbsp;<span class="ident" id="7091404">n</span><span class="op" id="7091405">,</span>&nbsp;<span class="ident" id="7091407">got</span><span class="op" id="7091410">,</span>&nbsp;<span class="ident" id="7091412">err</span><span class="op" id="7091415">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091422">n</span><span class="op" id="7091423">,</span>&nbsp;<span class="ident" id="7091425">err</span>&nbsp;<span class="op" id="7091429">=</span>&nbsp;<span class="ident" id="7091431">b</span><span class="op" id="7091432">.</span><span class="ident" id="7091433">Read</span><span class="op" id="7091437">(</span><span class="ident" id="7091438">buf</span><span class="op" id="7091441">[</span><span class="op" id="7091442">:</span><span class="op" id="7091443">]</span><span class="op" id="7091444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091447">got</span>&nbsp;<span class="op" id="7091451">=</span>&nbsp;<span class="builtintype" id="7091453">string</span><span class="op" id="7091459">(</span><span class="ident" id="7091460">buf</span><span class="op" id="7091463">[</span><span class="op" id="7091464">:</span><span class="ident" id="7091465">n</span><span class="op" id="7091466">]</span><span class="op" id="7091467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091470">if</span>&nbsp;<span class="ident" id="7091473">got</span>&nbsp;<span class="op" id="7091477">!=</span>&nbsp;<span class="string" id="7091480">&#34;bar&#34;</span>&nbsp;<span class="op" id="7091486">||</span>&nbsp;<span class="ident" id="7091489">err</span>&nbsp;<span class="op" id="7091493">!=</span>&nbsp;<span class="ident" id="7091496">nil</span>&nbsp;<span class="op" id="7091500">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091504">t</span><span class="op" id="7091505">.</span><span class="ident" id="7091506">Fatalf</span><span class="op" id="7091512">(</span><span class="string" id="7091513">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7091556">,</span>&nbsp;<span class="ident" id="7091558">n</span><span class="op" id="7091559">,</span>&nbsp;<span class="ident" id="7091561">got</span><span class="op" id="7091564">,</span>&nbsp;<span class="ident" id="7091566">err</span><span class="op" id="7091569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091576">n</span><span class="op" id="7091577">,</span>&nbsp;<span class="ident" id="7091579">err</span>&nbsp;<span class="op" id="7091583">=</span>&nbsp;<span class="ident" id="7091585">b</span><span class="op" id="7091586">.</span><span class="ident" id="7091587">Read</span><span class="op" id="7091591">(</span><span class="ident" id="7091592">buf</span><span class="op" id="7091595">[</span><span class="op" id="7091596">:</span><span class="op" id="7091597">]</span><span class="op" id="7091598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091601">got</span>&nbsp;<span class="op" id="7091605">=</span>&nbsp;<span class="builtintype" id="7091607">string</span><span class="op" id="7091613">(</span><span class="ident" id="7091614">buf</span><span class="op" id="7091617">[</span><span class="op" id="7091618">:</span><span class="ident" id="7091619">n</span><span class="op" id="7091620">]</span><span class="op" id="7091621">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091624">if</span>&nbsp;<span class="ident" id="7091627">err</span>&nbsp;<span class="op" id="7091631">==</span>&nbsp;<span class="ident" id="7091634">nil</span>&nbsp;<span class="op" id="7091638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091642">t</span><span class="op" id="7091643">.</span><span class="ident" id="7091644">Errorf</span><span class="op" id="7091650">(</span><span class="string" id="7091651">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7091717">,</span>&nbsp;<span class="ident" id="7091719">got</span><span class="op" id="7091722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091725">}</span><br>
<span class="lineno"></span><span class="op" id="7091727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7091730">func</span>&nbsp;<span class="ident" id="7091735">TestFinalChunkedBodyReadEOF</span><span class="op" id="7091762">(</span><span class="ident" id="7091763">t</span>&nbsp;<span class="op" id="7091765">*</span><span class="ident" id="7091766">testing</span><span class="op" id="7091773">.</span><span class="ident" id="7091774">T</span><span class="op" id="7091775">)</span>&nbsp;<span class="op" id="7091777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091780">res</span><span class="op" id="7091783">,</span>&nbsp;<span class="ident" id="7091785">err</span>&nbsp;<span class="op" id="7091789">:=</span>&nbsp;<span class="ident" id="7091792">ReadResponse</span><span class="op" id="7091804">(</span><span class="ident" id="7091805">bufio</span><span class="op" id="7091810">.</span><span class="ident" id="7091811">NewReader</span><span class="op" id="7091820">(</span><span class="ident" id="7091821">strings</span><span class="op" id="7091828">.</span><span class="ident" id="7091829">NewReader</span><span class="op" id="7091838">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091842">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7091863">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091868">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7091900">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091905">&#34;\r\n&#34;</span><span class="op" id="7091911">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091916">&#34;0a\r\n&#34;</span><span class="op" id="7091924">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091929">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7091946">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091951">&#34;09\r\n&#34;</span><span class="op" id="7091959">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091964">&#34;continued\r\n&#34;</span><span class="op" id="7091979">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091984">&#34;0\r\n&#34;</span><span class="op" id="7091991">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7091996">&#34;\r\n&#34;</span><span class="op" id="7092002">)</span><span class="op" id="7092003">)</span><span class="op" id="7092004">,</span>&nbsp;<span class="ident" id="7092006">nil</span><span class="op" id="7092009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092012">if</span>&nbsp;<span class="ident" id="7092015">err</span>&nbsp;<span class="op" id="7092019">!=</span>&nbsp;<span class="ident" id="7092022">nil</span>&nbsp;<span class="op" id="7092026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092030">t</span><span class="op" id="7092031">.</span><span class="ident" id="7092032">Fatal</span><span class="op" id="7092037">(</span><span class="ident" id="7092038">err</span><span class="op" id="7092041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092047">want</span>&nbsp;<span class="op" id="7092052">:=</span>&nbsp;<span class="string" id="7092055">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092079">buf</span>&nbsp;<span class="op" id="7092083">:=</span>&nbsp;<span class="builtinfunc" id="7092086">make</span><span class="op" id="7092090">(</span><span class="op" id="7092091">[</span><span class="op" id="7092092">]</span><span class="builtintype" id="7092093">byte</span><span class="op" id="7092097">,</span>&nbsp;<span class="builtinfunc" id="7092099">len</span><span class="op" id="7092102">(</span><span class="ident" id="7092103">want</span><span class="op" id="7092107">)</span><span class="op" id="7092108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092111">n</span><span class="op" id="7092112">,</span>&nbsp;<span class="ident" id="7092114">err</span>&nbsp;<span class="op" id="7092118">:=</span>&nbsp;<span class="ident" id="7092121">res</span><span class="op" id="7092124">.</span><span class="ident" id="7092125">Body</span><span class="op" id="7092129">.</span><span class="ident" id="7092130">Read</span><span class="op" id="7092134">(</span><span class="ident" id="7092135">buf</span><span class="op" id="7092138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092141">if</span>&nbsp;<span class="ident" id="7092144">n</span>&nbsp;<span class="op" id="7092146">!=</span>&nbsp;<span class="builtinfunc" id="7092149">len</span><span class="op" id="7092152">(</span><span class="ident" id="7092153">want</span><span class="op" id="7092157">)</span>&nbsp;<span class="op" id="7092159">||</span>&nbsp;<span class="ident" id="7092162">err</span>&nbsp;<span class="op" id="7092166">!=</span>&nbsp;<span class="ident" id="7092169">io</span><span class="op" id="7092171">.</span><span class="ident" id="7092172">EOF</span>&nbsp;<span class="op" id="7092176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092180">t</span><span class="op" id="7092181">.</span><span class="ident" id="7092182">Logf</span><span class="op" id="7092186">(</span><span class="string" id="7092187">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7092199">,</span>&nbsp;<span class="ident" id="7092201">res</span><span class="op" id="7092204">.</span><span class="ident" id="7092205">Body</span><span class="op" id="7092209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092213">t</span><span class="op" id="7092214">.</span><span class="ident" id="7092215">Errorf</span><span class="op" id="7092221">(</span><span class="string" id="7092222">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7092251">,</span>&nbsp;<span class="ident" id="7092253">n</span><span class="op" id="7092254">,</span>&nbsp;<span class="ident" id="7092256">err</span><span class="op" id="7092259">,</span>&nbsp;<span class="builtinfunc" id="7092261">len</span><span class="op" id="7092264">(</span><span class="ident" id="7092265">want</span><span class="op" id="7092269">)</span><span class="op" id="7092270">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092276">if</span>&nbsp;<span class="builtintype" id="7092279">string</span><span class="op" id="7092285">(</span><span class="ident" id="7092286">buf</span><span class="op" id="7092289">)</span>&nbsp;<span class="op" id="7092291">!=</span>&nbsp;<span class="ident" id="7092294">want</span>&nbsp;<span class="op" id="7092299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092303">t</span><span class="op" id="7092304">.</span><span class="ident" id="7092305">Errorf</span><span class="op" id="7092311">(</span><span class="string" id="7092312">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7092331">,</span>&nbsp;<span class="ident" id="7092333">buf</span><span class="op" id="7092336">,</span>&nbsp;<span class="ident" id="7092338">want</span><span class="op" id="7092342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092345">}</span><br>
<span class="lineno"></span><span class="op" id="7092347">}</span>
</div>
</body>
</html>
