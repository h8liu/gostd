<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4295228">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4295283">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4295337">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4295388">//&nbsp;Package&nbsp;gzip&nbsp;implements&nbsp;reading&nbsp;and&nbsp;writing&nbsp;of&nbsp;gzip&nbsp;format&nbsp;compressed&nbsp;files,</span><br>
<span class="lineno"></span><span class="comment" id="4295468">//&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;1952.</span><br>
<span class="lineno"></span><span class="keyword" id="4295497">package</span>&nbsp;<span class="ident" id="4295505">gzip</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4295511">import</span>&nbsp;<span class="op" id="4295518">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295521">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295530">&#34;compress/flate&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295548">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295558">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295566">&#34;hash/crc32&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295580">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4295586">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="4295593">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4295596">const</span>&nbsp;<span class="op" id="4295602">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295605">gzipID1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4295617">=</span>&nbsp;<span class="num" id="4295619">0x1f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295625">gzipID2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4295637">=</span>&nbsp;<span class="num" id="4295639">0x8b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295645">gzipDeflate</span>&nbsp;<span class="op" id="4295657">=</span>&nbsp;<span class="num" id="4295659">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295662">flagText</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4295674">=</span>&nbsp;<span class="num" id="4295676">1</span>&nbsp;<span class="op" id="4295678">&lt;&lt;</span>&nbsp;<span class="num" id="4295681">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295684">flagHdrCrc</span>&nbsp;&nbsp;<span class="op" id="4295696">=</span>&nbsp;<span class="num" id="4295698">1</span>&nbsp;<span class="op" id="4295700">&lt;&lt;</span>&nbsp;<span class="num" id="4295703">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295706">flagExtra</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4295718">=</span>&nbsp;<span class="num" id="4295720">1</span>&nbsp;<span class="op" id="4295722">&lt;&lt;</span>&nbsp;<span class="num" id="4295725">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295728">flagName</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4295740">=</span>&nbsp;<span class="num" id="4295742">1</span>&nbsp;<span class="op" id="4295744">&lt;&lt;</span>&nbsp;<span class="num" id="4295747">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295750">flagComment</span>&nbsp;<span class="op" id="4295762">=</span>&nbsp;<span class="num" id="4295764">1</span>&nbsp;<span class="op" id="4295766">&lt;&lt;</span>&nbsp;<span class="num" id="4295769">4</span><br>
<span class="lineno"></span><span class="op" id="4295771">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4295774">func</span>&nbsp;<span class="ident" id="4295779">makeReader</span><span class="op" id="4295789">(</span><span class="ident" id="4295790">r</span>&nbsp;<span class="ident" id="4295792"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4295794">.</span><span class="ident" id="4295795">Reader</span><span class="op" id="4295801">)</span>&nbsp;<span class="ident" id="4295803"><a href="/compress/gzip/gunzip.go.html#4295530">flate</a></span><span class="op" id="4295808">.</span><span class="ident" id="4295809">Reader</span>&nbsp;<span class="op" id="4295816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4295819">if</span>&nbsp;<span class="ident" id="4295822">rr</span><span class="op" id="4295824">,</span>&nbsp;<span class="ident" id="4295826">ok</span>&nbsp;<span class="op" id="4295829">:=</span>&nbsp;<span class="ident" id="4295832"><a href="/compress/gzip/gunzip.go.html#4295790">r</a></span><span class="op" id="4295833">.</span><span class="op" id="4295834">(</span><span class="ident" id="4295835"><a href="/compress/gzip/gunzip.go.html#4295530">flate</a></span><span class="op" id="4295840">.</span><span class="ident" id="4295841">Reader</span><span class="op" id="4295847">)</span><span class="op" id="4295848">;</span>&nbsp;<span class="ident" id="4295850"><a href="/compress/gzip/gunzip.go.html#4295826">ok</a></span>&nbsp;<span class="op" id="4295853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4295857">return</span>&nbsp;<span class="ident" id="4295864"><a href="/compress/gzip/gunzip.go.html#4295822">rr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4295868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4295871">return</span>&nbsp;<span class="ident" id="4295878"><a href="/compress/gzip/gunzip.go.html#4295521">bufio</a></span><span class="op" id="4295883">.</span><span class="ident" id="4295884">NewReader</span><span class="op" id="4295893">(</span><span class="ident" id="4295894"><a href="/compress/gzip/gunzip.go.html#4295790">r</a></span><span class="op" id="4295895">)</span><br>
<span class="lineno">35</span><span class="op" id="4295897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4295900">var</span>&nbsp;<span class="op" id="4295904">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4295907">//&nbsp;ErrChecksum&nbsp;is&nbsp;returned&nbsp;when&nbsp;reading&nbsp;GZIP&nbsp;data&nbsp;that&nbsp;has&nbsp;an&nbsp;invalid&nbsp;checksum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4295988">ErrChecksum</span>&nbsp;<span class="op" id="4296000">=</span>&nbsp;<span class="ident" id="4296002"><a href="/compress/gzip/gunzip.go.html#4295548">errors</a></span><span class="op" id="4296008">.</span><span class="ident" id="4296009">New</span><span class="op" id="4296012">(</span><span class="string" id="4296013">&#34;gzip:&nbsp;invalid&nbsp;checksum&#34;</span><span class="op" id="4296037">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4296040">//&nbsp;ErrHeader&nbsp;is&nbsp;returned&nbsp;when&nbsp;reading&nbsp;GZIP&nbsp;data&nbsp;that&nbsp;has&nbsp;an&nbsp;invalid&nbsp;header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296117">ErrHeader</span>&nbsp;<span class="op" id="4296127">=</span>&nbsp;<span class="ident" id="4296129"><a href="/compress/gzip/gunzip.go.html#4295548">errors</a></span><span class="op" id="4296135">.</span><span class="ident" id="4296136">New</span><span class="op" id="4296139">(</span><span class="string" id="4296140">&#34;gzip:&nbsp;invalid&nbsp;header&#34;</span><span class="op" id="4296162">)</span><br>
<span class="lineno"></span><span class="op" id="4296164">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4296167">//&nbsp;The&nbsp;gzip&nbsp;file&nbsp;stores&nbsp;a&nbsp;header&nbsp;giving&nbsp;metadata&nbsp;about&nbsp;the&nbsp;compressed&nbsp;file.</span><br>
<span class="lineno">45</span><span class="comment" id="4296243">//&nbsp;That&nbsp;header&nbsp;is&nbsp;exposed&nbsp;as&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;Writer&nbsp;and&nbsp;Reader&nbsp;structs.</span><br>
<span class="lineno"></span><span class="keyword" id="4296317">type</span>&nbsp;<span class="ident" id="4296322">Header</span>&nbsp;<span class="keyword" id="4296329">struct</span>&nbsp;<span class="op" id="4296336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296339">Comment</span>&nbsp;<span class="builtintype" id="4296347">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4296357">//&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296369">Extra</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4296377">[</span><span class="op" id="4296378">]</span><span class="builtintype" id="4296379">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4296387">//&nbsp;&#34;extra&nbsp;data&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296404">ModTime</span>&nbsp;<span class="ident" id="4296412"><a href="/compress/gzip/gunzip.go.html#4295586">time</a></span><span class="op" id="4296416">.</span><span class="ident" id="4296417">Time</span>&nbsp;<span class="comment" id="4296422">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296444">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4296452">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4296462">//&nbsp;file&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4296476">OS</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4296484">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4296494">//&nbsp;operating&nbsp;system&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="4296519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4296522">//&nbsp;A&nbsp;Reader&nbsp;is&nbsp;an&nbsp;io.Reader&nbsp;that&nbsp;can&nbsp;be&nbsp;read&nbsp;to&nbsp;retrieve</span><br>
<span class="lineno">55</span><span class="comment" id="4296579">//&nbsp;uncompressed&nbsp;data&nbsp;from&nbsp;a&nbsp;gzip-format&nbsp;compressed&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4296636">//</span><br>
<span class="lineno"></span><span class="comment" id="4296639">//&nbsp;In&nbsp;general,&nbsp;a&nbsp;gzip&nbsp;file&nbsp;can&nbsp;be&nbsp;a&nbsp;concatenation&nbsp;of&nbsp;gzip&nbsp;files,</span><br>
<span class="lineno"></span><span class="comment" id="4296704">//&nbsp;each&nbsp;with&nbsp;its&nbsp;own&nbsp;header.&nbsp;&nbsp;Reads&nbsp;from&nbsp;the&nbsp;Reader</span><br>
<span class="lineno"></span><span class="comment" id="4296756">//&nbsp;return&nbsp;the&nbsp;concatenation&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data&nbsp;of&nbsp;each.</span><br>
<span class="lineno">60</span><span class="comment" id="4296818">//&nbsp;Only&nbsp;the&nbsp;first&nbsp;header&nbsp;is&nbsp;recorded&nbsp;in&nbsp;the&nbsp;Reader&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="4296877">//</span><br>
<span class="lineno"></span><span class="comment" id="4296880">//&nbsp;Gzip&nbsp;files&nbsp;store&nbsp;a&nbsp;length&nbsp;and&nbsp;checksum&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="4296948">//&nbsp;The&nbsp;Reader&nbsp;will&nbsp;return&nbsp;a&nbsp;ErrChecksum&nbsp;when&nbsp;Read</span><br>
<span class="lineno"></span><span class="comment" id="4296998">//&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data&nbsp;if&nbsp;it&nbsp;does&nbsp;not</span><br>
<span class="lineno">65</span><span class="comment" id="4297057">//&nbsp;have&nbsp;the&nbsp;expected&nbsp;length&nbsp;or&nbsp;checksum.&nbsp;&nbsp;Clients&nbsp;should&nbsp;treat&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="4297125">//&nbsp;returned&nbsp;by&nbsp;Read&nbsp;as&nbsp;tentative&nbsp;until&nbsp;they&nbsp;receive&nbsp;the&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="comment" id="4297188">//&nbsp;marking&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="4297220">type</span>&nbsp;<span class="ident" id="4297225">Reader</span>&nbsp;<span class="keyword" id="4297232">struct</span>&nbsp;<span class="op" id="4297239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297242"><a href="/compress/gzip/gunzip.go.html#4296322">Header</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297250">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4297263"><a href="/compress/gzip/gunzip.go.html#4295530">flate</a></span><span class="op" id="4297268">.</span><span class="ident" id="4297269">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297277">decompressor</span>&nbsp;<span class="ident" id="4297290"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4297292">.</span><span class="ident" id="4297293">ReadCloser</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297305">digest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4297318"><a href="/compress/gzip/gunzip.go.html#4295558">hash</a></span><span class="op" id="4297322">.</span><span class="ident" id="4297323">Hash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297331">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4297344">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297352">flg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4297365">byte</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297371">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4297384">[</span><span class="num" id="4297385">512</span><span class="op" id="4297388">]</span><span class="builtintype" id="4297389">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297395">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4297408">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297415">multistream</span>&nbsp;&nbsp;<span class="builtintype" id="4297428">bool</span><br>
<span class="lineno"></span><span class="op" id="4297433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4297436">//&nbsp;NewReader&nbsp;creates&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;the&nbsp;given&nbsp;reader.</span><br>
<span class="lineno"></span><span class="comment" id="4297496">//&nbsp;If&nbsp;r&nbsp;does&nbsp;not&nbsp;also&nbsp;implement&nbsp;io.ByteReader,</span><br>
<span class="lineno"></span><span class="comment" id="4297543">//&nbsp;the&nbsp;decompressor&nbsp;may&nbsp;read&nbsp;more&nbsp;data&nbsp;than&nbsp;necessary&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4297605">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;call&nbsp;Close&nbsp;on&nbsp;the&nbsp;Reader&nbsp;when&nbsp;done.</span><br>
<span class="lineno"></span><span class="keyword" id="4297681">func</span>&nbsp;<span class="ident" id="4297686">NewReader</span><span class="op" id="4297695">(</span><span class="ident" id="4297696">r</span>&nbsp;<span class="ident" id="4297698"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4297700">.</span><span class="ident" id="4297701">Reader</span><span class="op" id="4297707">)</span>&nbsp;<span class="op" id="4297709">(</span><span class="op" id="4297710">*</span><span class="ident" id="4297711"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4297717">,</span>&nbsp;<span class="builtintype" id="4297719">error</span><span class="op" id="4297724">)</span>&nbsp;<span class="op" id="4297726">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297729">z</span>&nbsp;<span class="op" id="4297731">:=</span>&nbsp;<span class="builtinfunc" id="4297734">new</span><span class="op" id="4297737">(</span><span class="ident" id="4297738"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4297744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297747"><a href="/compress/gzip/gunzip.go.html#4297729">z</a></span><span class="op" id="4297748">.</span><span class="ident" id="4297749">r</span>&nbsp;<span class="op" id="4297751">=</span>&nbsp;<span class="ident" id="4297753"><a href="/compress/gzip/gunzip.go.html#4295779">makeReader</a></span><span class="op" id="4297763">(</span><span class="ident" id="4297764"><a href="/compress/gzip/gunzip.go.html#4297696">r</a></span><span class="op" id="4297765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297768"><a href="/compress/gzip/gunzip.go.html#4297729">z</a></span><span class="op" id="4297769">.</span><span class="ident" id="4297770">multistream</span>&nbsp;<span class="op" id="4297782">=</span>&nbsp;<span class="builtintype" id="4297784">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4297790"><a href="/compress/gzip/gunzip.go.html#4297729">z</a></span><span class="op" id="4297791">.</span><span class="ident" id="4297792">digest</span>&nbsp;<span class="op" id="4297799">=</span>&nbsp;<span class="ident" id="4297801"><a href="/compress/gzip/gunzip.go.html#4295566">crc32</a></span><span class="op" id="4297806">.</span><span class="ident" id="4297807">NewIEEE</span><span class="op" id="4297814">(</span><span class="op" id="4297815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4297818">if</span>&nbsp;<span class="ident" id="4297821">err</span>&nbsp;<span class="op" id="4297825">:=</span>&nbsp;<span class="ident" id="4297828"><a href="/compress/gzip/gunzip.go.html#4297729">z</a></span><span class="op" id="4297829">.</span><span class="ident" id="4297830">readHeader</span><span class="op" id="4297840">(</span><span class="builtintype" id="4297841">true</span><span class="op" id="4297845">)</span><span class="op" id="4297846">;</span>&nbsp;<span class="ident" id="4297848"><a href="/compress/gzip/gunzip.go.html#4297821">err</a></span>&nbsp;<span class="op" id="4297852">!=</span>&nbsp;<span class="ident" id="4297855">nil</span>&nbsp;<span class="op" id="4297859">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4297863">return</span>&nbsp;<span class="ident" id="4297870">nil</span><span class="op" id="4297873">,</span>&nbsp;<span class="ident" id="4297875"><a href="/compress/gzip/gunzip.go.html#4297821">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4297880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4297883">return</span>&nbsp;<span class="ident" id="4297890"><a href="/compress/gzip/gunzip.go.html#4297729">z</a></span><span class="op" id="4297891">,</span>&nbsp;<span class="ident" id="4297893">nil</span><br>
<span class="lineno"></span><span class="op" id="4297897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4297900">//&nbsp;Reset&nbsp;discards&nbsp;the&nbsp;Reader&nbsp;z&#39;s&nbsp;state&nbsp;and&nbsp;makes&nbsp;it&nbsp;equivalent&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4297970">//&nbsp;result&nbsp;of&nbsp;its&nbsp;original&nbsp;state&nbsp;from&nbsp;NewReader,&nbsp;but&nbsp;reading&nbsp;from&nbsp;r&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="4298046">//&nbsp;This&nbsp;permits&nbsp;reusing&nbsp;a&nbsp;Reader&nbsp;rather&nbsp;than&nbsp;allocating&nbsp;a&nbsp;new&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="4298113">func</span>&nbsp;<span class="op" id="4298118">(</span><span class="ident" id="4298119">z</span>&nbsp;<span class="op" id="4298121">*</span><span class="ident" id="4298122"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4298128">)</span>&nbsp;<span class="ident" id="4298130">Reset</span><span class="op" id="4298135">(</span><span class="ident" id="4298136">r</span>&nbsp;<span class="ident" id="4298138"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4298140">.</span><span class="ident" id="4298141">Reader</span><span class="op" id="4298147">)</span>&nbsp;<span class="builtintype" id="4298149">error</span>&nbsp;<span class="op" id="4298155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298158"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298159">.</span><span class="ident" id="4298160">r</span>&nbsp;<span class="op" id="4298162">=</span>&nbsp;<span class="ident" id="4298164"><a href="/compress/gzip/gunzip.go.html#4295779">makeReader</a></span><span class="op" id="4298174">(</span><span class="ident" id="4298175"><a href="/compress/gzip/gunzip.go.html#4298136">r</a></span><span class="op" id="4298176">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4298179">if</span>&nbsp;<span class="ident" id="4298182"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298183">.</span><span class="ident" id="4298184">digest</span>&nbsp;<span class="op" id="4298191">==</span>&nbsp;<span class="ident" id="4298194">nil</span>&nbsp;<span class="op" id="4298198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298202"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298203">.</span><span class="ident" id="4298204">digest</span>&nbsp;<span class="op" id="4298211">=</span>&nbsp;<span class="ident" id="4298213"><a href="/compress/gzip/gunzip.go.html#4295566">crc32</a></span><span class="op" id="4298218">.</span><span class="ident" id="4298219">NewIEEE</span><span class="op" id="4298226">(</span><span class="op" id="4298227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4298230">}</span>&nbsp;<span class="keyword" id="4298232">else</span>&nbsp;<span class="op" id="4298237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298241"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298242">.</span><span class="ident" id="4298243">digest</span><span class="op" id="4298249">.</span><span class="ident" id="4298250">Reset</span><span class="op" id="4298255">(</span><span class="op" id="4298256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4298259">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298262"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298263">.</span><span class="ident" id="4298264">size</span>&nbsp;<span class="op" id="4298269">=</span>&nbsp;<span class="num" id="4298271">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298274"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298275">.</span><span class="ident" id="4298276">err</span>&nbsp;<span class="op" id="4298280">=</span>&nbsp;<span class="ident" id="4298282">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4298287"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298288">.</span><span class="ident" id="4298289">multistream</span>&nbsp;<span class="op" id="4298301">=</span>&nbsp;<span class="builtintype" id="4298303">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4298309">return</span>&nbsp;<span class="ident" id="4298316"><a href="/compress/gzip/gunzip.go.html#4298119">z</a></span><span class="op" id="4298317">.</span><span class="ident" id="4298318">readHeader</span><span class="op" id="4298328">(</span><span class="builtintype" id="4298329">true</span><span class="op" id="4298333">)</span><br>
<span class="lineno"></span><span class="op" id="4298335">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4298338">//&nbsp;Multistream&nbsp;controls&nbsp;whether&nbsp;the&nbsp;reader&nbsp;supports&nbsp;multistream&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="4298409">//</span><br>
<span class="lineno"></span><span class="comment" id="4298412">//&nbsp;If&nbsp;enabled&nbsp;(the&nbsp;default),&nbsp;the&nbsp;Reader&nbsp;expects&nbsp;the&nbsp;input&nbsp;to&nbsp;be&nbsp;a&nbsp;sequence</span><br>
<span class="lineno"></span><span class="comment" id="4298487">//&nbsp;of&nbsp;individually&nbsp;gzipped&nbsp;data&nbsp;streams,&nbsp;each&nbsp;with&nbsp;its&nbsp;own&nbsp;header&nbsp;and</span><br>
<span class="lineno">115</span><span class="comment" id="4298557">//&nbsp;trailer,&nbsp;ending&nbsp;at&nbsp;EOF.&nbsp;The&nbsp;effect&nbsp;is&nbsp;that&nbsp;the&nbsp;concatenation&nbsp;of&nbsp;a&nbsp;sequence</span><br>
<span class="lineno"></span><span class="comment" id="4298635">//&nbsp;of&nbsp;gzipped&nbsp;files&nbsp;is&nbsp;treated&nbsp;as&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;gzip&nbsp;of&nbsp;the&nbsp;concatenation</span><br>
<span class="lineno"></span><span class="comment" id="4298713">//&nbsp;of&nbsp;the&nbsp;sequence.&nbsp;This&nbsp;is&nbsp;standard&nbsp;behavior&nbsp;for&nbsp;gzip&nbsp;readers.</span><br>
<span class="lineno"></span><span class="comment" id="4298777">//</span><br>
<span class="lineno"></span><span class="comment" id="4298780">//&nbsp;Calling&nbsp;Multistream(false)&nbsp;disables&nbsp;this&nbsp;behavior;&nbsp;disabling&nbsp;the&nbsp;behavior</span><br>
<span class="lineno">120</span><span class="comment" id="4298857">//&nbsp;can&nbsp;be&nbsp;useful&nbsp;when&nbsp;reading&nbsp;file&nbsp;formats&nbsp;that&nbsp;distinguish&nbsp;individual&nbsp;gzip</span><br>
<span class="lineno"></span><span class="comment" id="4298933">//&nbsp;data&nbsp;streams&nbsp;or&nbsp;mix&nbsp;gzip&nbsp;data&nbsp;streams&nbsp;with&nbsp;other&nbsp;data&nbsp;streams.</span><br>
<span class="lineno"></span><span class="comment" id="4298999">//&nbsp;In&nbsp;this&nbsp;mode,&nbsp;when&nbsp;the&nbsp;Reader&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;data&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="4299068">//&nbsp;Read&nbsp;returns&nbsp;io.EOF.&nbsp;If&nbsp;the&nbsp;underlying&nbsp;reader&nbsp;implements&nbsp;io.ByteReader,</span><br>
<span class="lineno"></span><span class="comment" id="4299143">//&nbsp;it&nbsp;will&nbsp;be&nbsp;left&nbsp;positioned&nbsp;just&nbsp;after&nbsp;the&nbsp;gzip&nbsp;stream.</span><br>
<span class="lineno">125</span><span class="comment" id="4299201">//&nbsp;To&nbsp;start&nbsp;the&nbsp;next&nbsp;stream,&nbsp;call&nbsp;z.Reset(r)&nbsp;followed&nbsp;by&nbsp;z.Multistream(false).</span><br>
<span class="lineno"></span><span class="comment" id="4299280">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;next&nbsp;stream,&nbsp;z.Reset(r)&nbsp;will&nbsp;return&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="4299342">func</span>&nbsp;<span class="op" id="4299347">(</span><span class="ident" id="4299348">z</span>&nbsp;<span class="op" id="4299350">*</span><span class="ident" id="4299351"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4299357">)</span>&nbsp;<span class="ident" id="4299359">Multistream</span><span class="op" id="4299370">(</span><span class="ident" id="4299371">ok</span>&nbsp;<span class="builtintype" id="4299374">bool</span><span class="op" id="4299378">)</span>&nbsp;<span class="op" id="4299380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4299383"><a href="/compress/gzip/gunzip.go.html#4299348">z</a></span><span class="op" id="4299384">.</span><span class="ident" id="4299385">multistream</span>&nbsp;<span class="op" id="4299397">=</span>&nbsp;<span class="ident" id="4299399"><a href="/compress/gzip/gunzip.go.html#4299371">ok</a></span><br>
<span class="lineno"></span><span class="op" id="4299402">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="4299405">//&nbsp;GZIP&nbsp;(RFC&nbsp;1952)&nbsp;is&nbsp;little-endian,&nbsp;unlike&nbsp;ZLIB&nbsp;(RFC&nbsp;1950).</span><br>
<span class="lineno"></span><span class="keyword" id="4299466">func</span>&nbsp;<span class="ident" id="4299471">get4</span><span class="op" id="4299475">(</span><span class="ident" id="4299476">p</span>&nbsp;<span class="op" id="4299478">[</span><span class="op" id="4299479">]</span><span class="builtintype" id="4299480">byte</span><span class="op" id="4299484">)</span>&nbsp;<span class="builtintype" id="4299486">uint32</span>&nbsp;<span class="op" id="4299493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299496">return</span>&nbsp;<span class="builtintype" id="4299503">uint32</span><span class="op" id="4299509">(</span><span class="ident" id="4299510"><a href="/compress/gzip/gunzip.go.html#4299476">p</a></span><span class="op" id="4299511">[</span><span class="num" id="4299512">0</span><span class="op" id="4299513">]</span><span class="op" id="4299514">)</span>&nbsp;<span class="op" id="4299516">|</span>&nbsp;<span class="builtintype" id="4299518">uint32</span><span class="op" id="4299524">(</span><span class="ident" id="4299525"><a href="/compress/gzip/gunzip.go.html#4299476">p</a></span><span class="op" id="4299526">[</span><span class="num" id="4299527">1</span><span class="op" id="4299528">]</span><span class="op" id="4299529">)</span><span class="op" id="4299530">&lt;&lt;</span><span class="num" id="4299532">8</span>&nbsp;<span class="op" id="4299534">|</span>&nbsp;<span class="builtintype" id="4299536">uint32</span><span class="op" id="4299542">(</span><span class="ident" id="4299543"><a href="/compress/gzip/gunzip.go.html#4299476">p</a></span><span class="op" id="4299544">[</span><span class="num" id="4299545">2</span><span class="op" id="4299546">]</span><span class="op" id="4299547">)</span><span class="op" id="4299548">&lt;&lt;</span><span class="num" id="4299550">16</span>&nbsp;<span class="op" id="4299553">|</span>&nbsp;<span class="builtintype" id="4299555">uint32</span><span class="op" id="4299561">(</span><span class="ident" id="4299562"><a href="/compress/gzip/gunzip.go.html#4299476">p</a></span><span class="op" id="4299563">[</span><span class="num" id="4299564">3</span><span class="op" id="4299565">]</span><span class="op" id="4299566">)</span><span class="op" id="4299567">&lt;&lt;</span><span class="num" id="4299569">24</span><br>
<span class="lineno"></span><span class="op" id="4299572">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="4299575">func</span>&nbsp;<span class="op" id="4299580">(</span><span class="ident" id="4299581">z</span>&nbsp;<span class="op" id="4299583">*</span><span class="ident" id="4299584"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4299590">)</span>&nbsp;<span class="ident" id="4299592">readString</span><span class="op" id="4299602">(</span><span class="op" id="4299603">)</span>&nbsp;<span class="op" id="4299605">(</span><span class="builtintype" id="4299606">string</span><span class="op" id="4299612">,</span>&nbsp;<span class="builtintype" id="4299614">error</span><span class="op" id="4299619">)</span>&nbsp;<span class="op" id="4299621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299624">var</span>&nbsp;<span class="ident" id="4299628">err</span>&nbsp;<span class="builtintype" id="4299632">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4299639">needconv</span>&nbsp;<span class="op" id="4299648">:=</span>&nbsp;<span class="builtintype" id="4299651">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299658">for</span>&nbsp;<span class="ident" id="4299662">i</span>&nbsp;<span class="op" id="4299664">:=</span>&nbsp;<span class="num" id="4299667">0</span><span class="op" id="4299668">;</span>&nbsp;<span class="op" id="4299670">;</span>&nbsp;<span class="ident" id="4299672"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4299673">++</span>&nbsp;<span class="op" id="4299676">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299680">if</span>&nbsp;<span class="ident" id="4299683"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span>&nbsp;<span class="op" id="4299685">&gt;=</span>&nbsp;<span class="builtinfunc" id="4299688">len</span><span class="op" id="4299691">(</span><span class="ident" id="4299692"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4299693">.</span><span class="ident" id="4299694">buf</span><span class="op" id="4299697">)</span>&nbsp;<span class="op" id="4299699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299704">return</span>&nbsp;<span class="string" id="4299711">&#34;&#34;</span><span class="op" id="4299713">,</span>&nbsp;<span class="ident" id="4299715"><a href="/compress/gzip/gunzip.go.html#4296117">ErrHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4299727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4299731"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4299732">.</span><span class="ident" id="4299733">buf</span><span class="op" id="4299736">[</span><span class="ident" id="4299737"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4299738">]</span><span class="op" id="4299739">,</span>&nbsp;<span class="ident" id="4299741"><a href="/compress/gzip/gunzip.go.html#4299628">err</a></span>&nbsp;<span class="op" id="4299745">=</span>&nbsp;<span class="ident" id="4299747"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4299748">.</span><span class="ident" id="4299749">r</span><span class="op" id="4299750">.</span><span class="ident" id="4299751">ReadByte</span><span class="op" id="4299759">(</span><span class="op" id="4299760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299764">if</span>&nbsp;<span class="ident" id="4299767"><a href="/compress/gzip/gunzip.go.html#4299628">err</a></span>&nbsp;<span class="op" id="4299771">!=</span>&nbsp;<span class="ident" id="4299774">nil</span>&nbsp;<span class="op" id="4299778">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299783">return</span>&nbsp;<span class="string" id="4299790">&#34;&#34;</span><span class="op" id="4299792">,</span>&nbsp;<span class="ident" id="4299794"><a href="/compress/gzip/gunzip.go.html#4299628">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4299800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299804">if</span>&nbsp;<span class="ident" id="4299807"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4299808">.</span><span class="ident" id="4299809">buf</span><span class="op" id="4299812">[</span><span class="ident" id="4299813"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4299814">]</span>&nbsp;<span class="op" id="4299816">&gt;</span>&nbsp;<span class="num" id="4299818">0x7f</span>&nbsp;<span class="op" id="4299823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4299828"><a href="/compress/gzip/gunzip.go.html#4299639">needconv</a></span>&nbsp;<span class="op" id="4299837">=</span>&nbsp;<span class="builtintype" id="4299839">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4299846">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299850">if</span>&nbsp;<span class="ident" id="4299853"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4299854">.</span><span class="ident" id="4299855">buf</span><span class="op" id="4299858">[</span><span class="ident" id="4299859"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4299860">]</span>&nbsp;<span class="op" id="4299862">==</span>&nbsp;<span class="num" id="4299865">0</span>&nbsp;<span class="op" id="4299867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4299872">//&nbsp;GZIP&nbsp;(RFC&nbsp;1952)&nbsp;specifies&nbsp;that&nbsp;strings&nbsp;are&nbsp;NUL-terminated&nbsp;ISO&nbsp;8859-1&nbsp;(Latin-1).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4299958">if</span>&nbsp;<span class="ident" id="4299961"><a href="/compress/gzip/gunzip.go.html#4299639">needconv</a></span>&nbsp;<span class="op" id="4299970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4299976">s</span>&nbsp;<span class="op" id="4299978">:=</span>&nbsp;<span class="builtinfunc" id="4299981">make</span><span class="op" id="4299985">(</span><span class="op" id="4299986">[</span><span class="op" id="4299987">]</span><span class="builtintype" id="4299988">rune</span><span class="op" id="4299992">,</span>&nbsp;<span class="num" id="4299994">0</span><span class="op" id="4299995">,</span>&nbsp;<span class="ident" id="4299997"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4299998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300004">for</span>&nbsp;<span class="ident" id="4300008">_</span><span class="op" id="4300009">,</span>&nbsp;<span class="ident" id="4300011">v</span>&nbsp;<span class="op" id="4300013">:=</span>&nbsp;<span class="keyword" id="4300016">range</span>&nbsp;<span class="ident" id="4300022"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4300023">.</span><span class="ident" id="4300024">buf</span><span class="op" id="4300027">[</span><span class="num" id="4300028">0</span><span class="op" id="4300029">:</span><span class="ident" id="4300030"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4300031">]</span>&nbsp;<span class="op" id="4300033">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300040"><a href="/compress/gzip/gunzip.go.html#4299976">s</a></span>&nbsp;<span class="op" id="4300042">=</span>&nbsp;<span class="builtinfunc" id="4300044">append</span><span class="op" id="4300050">(</span><span class="ident" id="4300051"><a href="/compress/gzip/gunzip.go.html#4299976">s</a></span><span class="op" id="4300052">,</span>&nbsp;<span class="builtintype" id="4300054">rune</span><span class="op" id="4300058">(</span><span class="ident" id="4300059"><a href="/compress/gzip/gunzip.go.html#4300011">v</a></span><span class="op" id="4300060">)</span><span class="op" id="4300061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300073">return</span>&nbsp;<span class="builtintype" id="4300080">string</span><span class="op" id="4300086">(</span><span class="ident" id="4300087"><a href="/compress/gzip/gunzip.go.html#4299976">s</a></span><span class="op" id="4300088">)</span><span class="op" id="4300089">,</span>&nbsp;<span class="ident" id="4300091">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300103">return</span>&nbsp;<span class="builtintype" id="4300110">string</span><span class="op" id="4300116">(</span><span class="ident" id="4300117"><a href="/compress/gzip/gunzip.go.html#4299581">z</a></span><span class="op" id="4300118">.</span><span class="ident" id="4300119">buf</span><span class="op" id="4300122">[</span><span class="num" id="4300123">0</span><span class="op" id="4300124">:</span><span class="ident" id="4300125"><a href="/compress/gzip/gunzip.go.html#4299662">i</a></span><span class="op" id="4300126">]</span><span class="op" id="4300127">)</span><span class="op" id="4300128">,</span>&nbsp;<span class="ident" id="4300130">nil</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300139">}</span><br>
<span class="lineno"></span><span class="op" id="4300141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4300144">func</span>&nbsp;<span class="op" id="4300149">(</span><span class="ident" id="4300150">z</span>&nbsp;<span class="op" id="4300152">*</span><span class="ident" id="4300153"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4300159">)</span>&nbsp;<span class="ident" id="4300161">read2</span><span class="op" id="4300166">(</span><span class="op" id="4300167">)</span>&nbsp;<span class="op" id="4300169">(</span><span class="builtintype" id="4300170">uint32</span><span class="op" id="4300176">,</span>&nbsp;<span class="builtintype" id="4300178">error</span><span class="op" id="4300183">)</span>&nbsp;<span class="op" id="4300185">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300188">_</span><span class="op" id="4300189">,</span>&nbsp;<span class="ident" id="4300191">err</span>&nbsp;<span class="op" id="4300195">:=</span>&nbsp;<span class="ident" id="4300198"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4300200">.</span><span class="ident" id="4300201">ReadFull</span><span class="op" id="4300209">(</span><span class="ident" id="4300210"><a href="/compress/gzip/gunzip.go.html#4300150">z</a></span><span class="op" id="4300211">.</span><span class="ident" id="4300212">r</span><span class="op" id="4300213">,</span>&nbsp;<span class="ident" id="4300215"><a href="/compress/gzip/gunzip.go.html#4300150">z</a></span><span class="op" id="4300216">.</span><span class="ident" id="4300217">buf</span><span class="op" id="4300220">[</span><span class="num" id="4300221">0</span><span class="op" id="4300222">:</span><span class="num" id="4300223">2</span><span class="op" id="4300224">]</span><span class="op" id="4300225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300228">if</span>&nbsp;<span class="ident" id="4300231"><a href="/compress/gzip/gunzip.go.html#4300191">err</a></span>&nbsp;<span class="op" id="4300235">!=</span>&nbsp;<span class="ident" id="4300238">nil</span>&nbsp;<span class="op" id="4300242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300246">return</span>&nbsp;<span class="num" id="4300253">0</span><span class="op" id="4300254">,</span>&nbsp;<span class="ident" id="4300256"><a href="/compress/gzip/gunzip.go.html#4300191">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300264">return</span>&nbsp;<span class="builtintype" id="4300271">uint32</span><span class="op" id="4300277">(</span><span class="ident" id="4300278"><a href="/compress/gzip/gunzip.go.html#4300150">z</a></span><span class="op" id="4300279">.</span><span class="ident" id="4300280">buf</span><span class="op" id="4300283">[</span><span class="num" id="4300284">0</span><span class="op" id="4300285">]</span><span class="op" id="4300286">)</span>&nbsp;<span class="op" id="4300288">|</span>&nbsp;<span class="builtintype" id="4300290">uint32</span><span class="op" id="4300296">(</span><span class="ident" id="4300297"><a href="/compress/gzip/gunzip.go.html#4300150">z</a></span><span class="op" id="4300298">.</span><span class="ident" id="4300299">buf</span><span class="op" id="4300302">[</span><span class="num" id="4300303">1</span><span class="op" id="4300304">]</span><span class="op" id="4300305">)</span><span class="op" id="4300306">&lt;&lt;</span><span class="num" id="4300308">8</span><span class="op" id="4300309">,</span>&nbsp;<span class="ident" id="4300311">nil</span><br>
<span class="lineno">170</span><span class="op" id="4300315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4300318">func</span>&nbsp;<span class="op" id="4300323">(</span><span class="ident" id="4300324">z</span>&nbsp;<span class="op" id="4300326">*</span><span class="ident" id="4300327"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4300333">)</span>&nbsp;<span class="ident" id="4300335">readHeader</span><span class="op" id="4300345">(</span><span class="ident" id="4300346">save</span>&nbsp;<span class="builtintype" id="4300351">bool</span><span class="op" id="4300355">)</span>&nbsp;<span class="builtintype" id="4300357">error</span>&nbsp;<span class="op" id="4300363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300366">_</span><span class="op" id="4300367">,</span>&nbsp;<span class="ident" id="4300369">err</span>&nbsp;<span class="op" id="4300373">:=</span>&nbsp;<span class="ident" id="4300376"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4300378">.</span><span class="ident" id="4300379">ReadFull</span><span class="op" id="4300387">(</span><span class="ident" id="4300388"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300389">.</span><span class="ident" id="4300390">r</span><span class="op" id="4300391">,</span>&nbsp;<span class="ident" id="4300393"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300394">.</span><span class="ident" id="4300395">buf</span><span class="op" id="4300398">[</span><span class="num" id="4300399">0</span><span class="op" id="4300400">:</span><span class="num" id="4300401">10</span><span class="op" id="4300403">]</span><span class="op" id="4300404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300407">if</span>&nbsp;<span class="ident" id="4300410"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span>&nbsp;<span class="op" id="4300414">!=</span>&nbsp;<span class="ident" id="4300417">nil</span>&nbsp;<span class="op" id="4300421">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300425">return</span>&nbsp;<span class="ident" id="4300432"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300440">if</span>&nbsp;<span class="ident" id="4300443"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300444">.</span><span class="ident" id="4300445">buf</span><span class="op" id="4300448">[</span><span class="num" id="4300449">0</span><span class="op" id="4300450">]</span>&nbsp;<span class="op" id="4300452">!=</span>&nbsp;<span class="ident" id="4300455"><a href="/compress/gzip/gunzip.go.html#4295605">gzipID1</a></span>&nbsp;<span class="op" id="4300463">||</span>&nbsp;<span class="ident" id="4300466"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300467">.</span><span class="ident" id="4300468">buf</span><span class="op" id="4300471">[</span><span class="num" id="4300472">1</span><span class="op" id="4300473">]</span>&nbsp;<span class="op" id="4300475">!=</span>&nbsp;<span class="ident" id="4300478"><a href="/compress/gzip/gunzip.go.html#4295625">gzipID2</a></span>&nbsp;<span class="op" id="4300486">||</span>&nbsp;<span class="ident" id="4300489"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300490">.</span><span class="ident" id="4300491">buf</span><span class="op" id="4300494">[</span><span class="num" id="4300495">2</span><span class="op" id="4300496">]</span>&nbsp;<span class="op" id="4300498">!=</span>&nbsp;<span class="ident" id="4300501"><a href="/compress/gzip/gunzip.go.html#4295645">gzipDeflate</a></span>&nbsp;<span class="op" id="4300513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300517">return</span>&nbsp;<span class="ident" id="4300524"><a href="/compress/gzip/gunzip.go.html#4296117">ErrHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300535">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300538"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300539">.</span><span class="ident" id="4300540">flg</span>&nbsp;<span class="op" id="4300544">=</span>&nbsp;<span class="ident" id="4300546"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300547">.</span><span class="ident" id="4300548">buf</span><span class="op" id="4300551">[</span><span class="num" id="4300552">3</span><span class="op" id="4300553">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300556">if</span>&nbsp;<span class="ident" id="4300559"><a href="/compress/gzip/gunzip.go.html#4300346">save</a></span>&nbsp;<span class="op" id="4300564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300568"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300569">.</span><span class="ident" id="4300570">ModTime</span>&nbsp;<span class="op" id="4300578">=</span>&nbsp;<span class="ident" id="4300580"><a href="/compress/gzip/gunzip.go.html#4295586">time</a></span><span class="op" id="4300584">.</span><span class="ident" id="4300585">Unix</span><span class="op" id="4300589">(</span><span class="ident" id="4300590">int64</span><span class="op" id="4300595">(</span><span class="ident" id="4300596"><a href="/compress/gzip/gunzip.go.html#4299471">get4</a></span><span class="op" id="4300600">(</span><span class="ident" id="4300601"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300602">.</span><span class="ident" id="4300603">buf</span><span class="op" id="4300606">[</span><span class="num" id="4300607">4</span><span class="op" id="4300608">:</span><span class="num" id="4300609">8</span><span class="op" id="4300610">]</span><span class="op" id="4300611">)</span><span class="op" id="4300612">)</span><span class="op" id="4300613">,</span>&nbsp;<span class="num" id="4300615">0</span><span class="op" id="4300616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4300620">//&nbsp;z.buf[8]&nbsp;is&nbsp;xfl,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300650"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300651">.</span><span class="ident" id="4300652">OS</span>&nbsp;<span class="op" id="4300655">=</span>&nbsp;<span class="ident" id="4300657"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300658">.</span><span class="ident" id="4300659">buf</span><span class="op" id="4300662">[</span><span class="num" id="4300663">9</span><span class="op" id="4300664">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300670"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300671">.</span><span class="ident" id="4300672">digest</span><span class="op" id="4300678">.</span><span class="ident" id="4300679">Reset</span><span class="op" id="4300684">(</span><span class="op" id="4300685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300688"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300689">.</span><span class="ident" id="4300690">digest</span><span class="op" id="4300696">.</span><span class="ident" id="4300697">Write</span><span class="op" id="4300702">(</span><span class="ident" id="4300703"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300704">.</span><span class="ident" id="4300705">buf</span><span class="op" id="4300708">[</span><span class="num" id="4300709">0</span><span class="op" id="4300710">:</span><span class="num" id="4300711">10</span><span class="op" id="4300713">]</span><span class="op" id="4300714">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300718">if</span>&nbsp;<span class="ident" id="4300721"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300722">.</span><span class="ident" id="4300723">flg</span><span class="op" id="4300726">&amp;</span><span class="ident" id="4300727"><a href="/compress/gzip/gunzip.go.html#4295706">flagExtra</a></span>&nbsp;<span class="op" id="4300737">!=</span>&nbsp;<span class="num" id="4300740">0</span>&nbsp;<span class="op" id="4300742">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300746">n</span><span class="op" id="4300747">,</span>&nbsp;<span class="ident" id="4300749">err</span>&nbsp;<span class="op" id="4300753">:=</span>&nbsp;<span class="ident" id="4300756"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300757">.</span><span class="ident" id="4300758">read2</span><span class="op" id="4300763">(</span><span class="op" id="4300764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300768">if</span>&nbsp;<span class="ident" id="4300771"><a href="/compress/gzip/gunzip.go.html#4300749">err</a></span>&nbsp;<span class="op" id="4300775">!=</span>&nbsp;<span class="ident" id="4300778">nil</span>&nbsp;<span class="op" id="4300782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300787">return</span>&nbsp;<span class="ident" id="4300794"><a href="/compress/gzip/gunzip.go.html#4300749">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300804">data</span>&nbsp;<span class="op" id="4300809">:=</span>&nbsp;<span class="builtinfunc" id="4300812">make</span><span class="op" id="4300816">(</span><span class="op" id="4300817">[</span><span class="op" id="4300818">]</span><span class="builtintype" id="4300819">byte</span><span class="op" id="4300823">,</span>&nbsp;<span class="ident" id="4300825"><a href="/compress/gzip/gunzip.go.html#4300746">n</a></span><span class="op" id="4300826">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300830">if</span>&nbsp;<span class="ident" id="4300833">_</span><span class="op" id="4300834">,</span>&nbsp;<span class="ident" id="4300836"><a href="/compress/gzip/gunzip.go.html#4300749">err</a></span>&nbsp;<span class="op" id="4300840">=</span>&nbsp;<span class="ident" id="4300842"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4300844">.</span><span class="ident" id="4300845">ReadFull</span><span class="op" id="4300853">(</span><span class="ident" id="4300854"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300855">.</span><span class="ident" id="4300856">r</span><span class="op" id="4300857">,</span>&nbsp;<span class="ident" id="4300859"><a href="/compress/gzip/gunzip.go.html#4300804">data</a></span><span class="op" id="4300863">)</span><span class="op" id="4300864">;</span>&nbsp;<span class="ident" id="4300866"><a href="/compress/gzip/gunzip.go.html#4300749">err</a></span>&nbsp;<span class="op" id="4300870">!=</span>&nbsp;<span class="ident" id="4300873">nil</span>&nbsp;<span class="op" id="4300877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300882">return</span>&nbsp;<span class="ident" id="4300889"><a href="/compress/gzip/gunzip.go.html#4300749">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300899">if</span>&nbsp;<span class="ident" id="4300902"><a href="/compress/gzip/gunzip.go.html#4300346">save</a></span>&nbsp;<span class="op" id="4300907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4300912"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300913">.</span><span class="ident" id="4300914">Extra</span>&nbsp;<span class="op" id="4300920">=</span>&nbsp;<span class="ident" id="4300922"><a href="/compress/gzip/gunzip.go.html#4300804">data</a></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4300932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300936">var</span>&nbsp;<span class="ident" id="4300940">s</span>&nbsp;<span class="builtintype" id="4300942">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300950">if</span>&nbsp;<span class="ident" id="4300953"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300954">.</span><span class="ident" id="4300955">flg</span><span class="op" id="4300958">&amp;</span><span class="ident" id="4300959"><a href="/compress/gzip/gunzip.go.html#4295728">flagName</a></span>&nbsp;<span class="op" id="4300968">!=</span>&nbsp;<span class="num" id="4300971">0</span>&nbsp;<span class="op" id="4300973">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4300977">if</span>&nbsp;<span class="ident" id="4300980"><a href="/compress/gzip/gunzip.go.html#4300940">s</a></span><span class="op" id="4300981">,</span>&nbsp;<span class="ident" id="4300983"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span>&nbsp;<span class="op" id="4300987">=</span>&nbsp;<span class="ident" id="4300989"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4300990">.</span><span class="ident" id="4300991">readString</span><span class="op" id="4301001">(</span><span class="op" id="4301002">)</span><span class="op" id="4301003">;</span>&nbsp;<span class="ident" id="4301005"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span>&nbsp;<span class="op" id="4301009">!=</span>&nbsp;<span class="ident" id="4301012">nil</span>&nbsp;<span class="op" id="4301016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301021">return</span>&nbsp;<span class="ident" id="4301028"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301038">if</span>&nbsp;<span class="ident" id="4301041"><a href="/compress/gzip/gunzip.go.html#4300346">save</a></span>&nbsp;<span class="op" id="4301046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301051"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301052">.</span><span class="ident" id="4301053">Name</span>&nbsp;<span class="op" id="4301058">=</span>&nbsp;<span class="ident" id="4301060"><a href="/compress/gzip/gunzip.go.html#4300940">s</a></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301071">if</span>&nbsp;<span class="ident" id="4301074"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301075">.</span><span class="ident" id="4301076">flg</span><span class="op" id="4301079">&amp;</span><span class="ident" id="4301080"><a href="/compress/gzip/gunzip.go.html#4295750">flagComment</a></span>&nbsp;<span class="op" id="4301092">!=</span>&nbsp;<span class="num" id="4301095">0</span>&nbsp;<span class="op" id="4301097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301101">if</span>&nbsp;<span class="ident" id="4301104"><a href="/compress/gzip/gunzip.go.html#4300940">s</a></span><span class="op" id="4301105">,</span>&nbsp;<span class="ident" id="4301107"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span>&nbsp;<span class="op" id="4301111">=</span>&nbsp;<span class="ident" id="4301113"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301114">.</span><span class="ident" id="4301115">readString</span><span class="op" id="4301125">(</span><span class="op" id="4301126">)</span><span class="op" id="4301127">;</span>&nbsp;<span class="ident" id="4301129"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span>&nbsp;<span class="op" id="4301133">!=</span>&nbsp;<span class="ident" id="4301136">nil</span>&nbsp;<span class="op" id="4301140">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301145">return</span>&nbsp;<span class="ident" id="4301152"><a href="/compress/gzip/gunzip.go.html#4300369">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301162">if</span>&nbsp;<span class="ident" id="4301165"><a href="/compress/gzip/gunzip.go.html#4300346">save</a></span>&nbsp;<span class="op" id="4301170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301175"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301176">.</span><span class="ident" id="4301177">Comment</span>&nbsp;<span class="op" id="4301185">=</span>&nbsp;<span class="ident" id="4301187"><a href="/compress/gzip/gunzip.go.html#4300940">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301191">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301198">if</span>&nbsp;<span class="ident" id="4301201"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301202">.</span><span class="ident" id="4301203">flg</span><span class="op" id="4301206">&amp;</span><span class="ident" id="4301207"><a href="/compress/gzip/gunzip.go.html#4295684">flagHdrCrc</a></span>&nbsp;<span class="op" id="4301218">!=</span>&nbsp;<span class="num" id="4301221">0</span>&nbsp;<span class="op" id="4301223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301227">n</span><span class="op" id="4301228">,</span>&nbsp;<span class="ident" id="4301230">err</span>&nbsp;<span class="op" id="4301234">:=</span>&nbsp;<span class="ident" id="4301237"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301238">.</span><span class="ident" id="4301239">read2</span><span class="op" id="4301244">(</span><span class="op" id="4301245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301249">if</span>&nbsp;<span class="ident" id="4301252"><a href="/compress/gzip/gunzip.go.html#4301230">err</a></span>&nbsp;<span class="op" id="4301256">!=</span>&nbsp;<span class="ident" id="4301259">nil</span>&nbsp;<span class="op" id="4301263">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301268">return</span>&nbsp;<span class="ident" id="4301275"><a href="/compress/gzip/gunzip.go.html#4301230">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301285">sum</span>&nbsp;<span class="op" id="4301289">:=</span>&nbsp;<span class="ident" id="4301292"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301293">.</span><span class="ident" id="4301294">digest</span><span class="op" id="4301300">.</span><span class="ident" id="4301301">Sum32</span><span class="op" id="4301306">(</span><span class="op" id="4301307">)</span>&nbsp;<span class="op" id="4301309">&amp;</span>&nbsp;<span class="num" id="4301311">0xFFFF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301320">if</span>&nbsp;<span class="ident" id="4301323"><a href="/compress/gzip/gunzip.go.html#4301227">n</a></span>&nbsp;<span class="op" id="4301325">!=</span>&nbsp;<span class="ident" id="4301328"><a href="/compress/gzip/gunzip.go.html#4301285">sum</a></span>&nbsp;<span class="op" id="4301332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301337">return</span>&nbsp;<span class="ident" id="4301344"><a href="/compress/gzip/gunzip.go.html#4296117">ErrHeader</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301363"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301364">.</span><span class="ident" id="4301365">digest</span><span class="op" id="4301371">.</span><span class="ident" id="4301372">Reset</span><span class="op" id="4301377">(</span><span class="op" id="4301378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301381">if</span>&nbsp;<span class="ident" id="4301384"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301385">.</span><span class="ident" id="4301386">decompressor</span>&nbsp;<span class="op" id="4301399">==</span>&nbsp;<span class="ident" id="4301402">nil</span>&nbsp;<span class="op" id="4301406">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301410"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301411">.</span><span class="ident" id="4301412">decompressor</span>&nbsp;<span class="op" id="4301425">=</span>&nbsp;<span class="ident" id="4301427"><a href="/compress/gzip/gunzip.go.html#4295530">flate</a></span><span class="op" id="4301432">.</span><span class="ident" id="4301433">NewReader</span><span class="op" id="4301442">(</span><span class="ident" id="4301443"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301444">.</span><span class="ident" id="4301445">r</span><span class="op" id="4301446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301449">}</span>&nbsp;<span class="keyword" id="4301451">else</span>&nbsp;<span class="op" id="4301456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301460"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301461">.</span><span class="ident" id="4301462">decompressor</span><span class="op" id="4301474">.</span><span class="op" id="4301475">(</span><span class="ident" id="4301476"><a href="/compress/gzip/gunzip.go.html#4295530">flate</a></span><span class="op" id="4301481">.</span><span class="ident" id="4301482">Resetter</span><span class="op" id="4301490">)</span><span class="op" id="4301491">.</span><span class="ident" id="4301492">Reset</span><span class="op" id="4301497">(</span><span class="ident" id="4301498"><a href="/compress/gzip/gunzip.go.html#4300324">z</a></span><span class="op" id="4301499">.</span><span class="ident" id="4301500">r</span><span class="op" id="4301501">,</span>&nbsp;<span class="ident" id="4301503">nil</span><span class="op" id="4301506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301512">return</span>&nbsp;<span class="ident" id="4301519">nil</span><br>
<span class="lineno">240</span><span class="op" id="4301523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4301526">func</span>&nbsp;<span class="op" id="4301531">(</span><span class="ident" id="4301532">z</span>&nbsp;<span class="op" id="4301534">*</span><span class="ident" id="4301535"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4301541">)</span>&nbsp;<span class="ident" id="4301543">Read</span><span class="op" id="4301547">(</span><span class="ident" id="4301548">p</span>&nbsp;<span class="op" id="4301550">[</span><span class="op" id="4301551">]</span><span class="builtintype" id="4301552">byte</span><span class="op" id="4301556">)</span>&nbsp;<span class="op" id="4301558">(</span><span class="ident" id="4301559">n</span>&nbsp;<span class="builtintype" id="4301561">int</span><span class="op" id="4301564">,</span>&nbsp;<span class="ident" id="4301566">err</span>&nbsp;<span class="builtintype" id="4301570">error</span><span class="op" id="4301575">)</span>&nbsp;<span class="op" id="4301577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301580">if</span>&nbsp;<span class="ident" id="4301583"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301584">.</span><span class="ident" id="4301585">err</span>&nbsp;<span class="op" id="4301589">!=</span>&nbsp;<span class="ident" id="4301592">nil</span>&nbsp;<span class="op" id="4301596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301600">return</span>&nbsp;<span class="num" id="4301607">0</span><span class="op" id="4301608">,</span>&nbsp;<span class="ident" id="4301610"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301611">.</span><span class="ident" id="4301612">err</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301620">if</span>&nbsp;<span class="builtinfunc" id="4301623">len</span><span class="op" id="4301626">(</span><span class="ident" id="4301627"><a href="/compress/gzip/gunzip.go.html#4301548">p</a></span><span class="op" id="4301628">)</span>&nbsp;<span class="op" id="4301630">==</span>&nbsp;<span class="num" id="4301633">0</span>&nbsp;<span class="op" id="4301635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301639">return</span>&nbsp;<span class="num" id="4301646">0</span><span class="op" id="4301647">,</span>&nbsp;<span class="ident" id="4301649">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301658"><a href="/compress/gzip/gunzip.go.html#4301559">n</a></span><span class="op" id="4301659">,</span>&nbsp;<span class="ident" id="4301661"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span>&nbsp;<span class="op" id="4301665">=</span>&nbsp;<span class="ident" id="4301667"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301668">.</span><span class="ident" id="4301669">decompressor</span><span class="op" id="4301681">.</span><span class="ident" id="4301682">Read</span><span class="op" id="4301686">(</span><span class="ident" id="4301687"><a href="/compress/gzip/gunzip.go.html#4301548">p</a></span><span class="op" id="4301688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301691"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301692">.</span><span class="ident" id="4301693">digest</span><span class="op" id="4301699">.</span><span class="ident" id="4301700">Write</span><span class="op" id="4301705">(</span><span class="ident" id="4301706"><a href="/compress/gzip/gunzip.go.html#4301548">p</a></span><span class="op" id="4301707">[</span><span class="num" id="4301708">0</span><span class="op" id="4301709">:</span><span class="ident" id="4301710"><a href="/compress/gzip/gunzip.go.html#4301559">n</a></span><span class="op" id="4301711">]</span><span class="op" id="4301712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301715"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301716">.</span><span class="ident" id="4301717">size</span>&nbsp;<span class="op" id="4301722">+=</span>&nbsp;<span class="builtintype" id="4301725">uint32</span><span class="op" id="4301731">(</span><span class="ident" id="4301732"><a href="/compress/gzip/gunzip.go.html#4301559">n</a></span><span class="op" id="4301733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301736">if</span>&nbsp;<span class="ident" id="4301739"><a href="/compress/gzip/gunzip.go.html#4301559">n</a></span>&nbsp;<span class="op" id="4301741">!=</span>&nbsp;<span class="num" id="4301744">0</span>&nbsp;<span class="op" id="4301746">||</span>&nbsp;<span class="ident" id="4301749"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span>&nbsp;<span class="op" id="4301753">!=</span>&nbsp;<span class="ident" id="4301756"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4301758">.</span><span class="ident" id="4301759">EOF</span>&nbsp;<span class="op" id="4301763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301767"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301768">.</span><span class="ident" id="4301769">err</span>&nbsp;<span class="op" id="4301773">=</span>&nbsp;<span class="ident" id="4301775"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301781">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4301793">//&nbsp;Finished&nbsp;file;&nbsp;check&nbsp;checksum&nbsp;+&nbsp;size.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301835">if</span>&nbsp;<span class="ident" id="4301838">_</span><span class="op" id="4301839">,</span>&nbsp;<span class="ident" id="4301841">err</span>&nbsp;<span class="op" id="4301845">:=</span>&nbsp;<span class="ident" id="4301848"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4301850">.</span><span class="ident" id="4301851">ReadFull</span><span class="op" id="4301859">(</span><span class="ident" id="4301860"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301861">.</span><span class="ident" id="4301862">r</span><span class="op" id="4301863">,</span>&nbsp;<span class="ident" id="4301865"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301866">.</span><span class="ident" id="4301867">buf</span><span class="op" id="4301870">[</span><span class="num" id="4301871">0</span><span class="op" id="4301872">:</span><span class="num" id="4301873">8</span><span class="op" id="4301874">]</span><span class="op" id="4301875">)</span><span class="op" id="4301876">;</span>&nbsp;<span class="ident" id="4301878"><a href="/compress/gzip/gunzip.go.html#4301841">err</a></span>&nbsp;<span class="op" id="4301882">!=</span>&nbsp;<span class="ident" id="4301885">nil</span>&nbsp;<span class="op" id="4301889">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301893"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301894">.</span><span class="ident" id="4301895">err</span>&nbsp;<span class="op" id="4301899">=</span>&nbsp;<span class="ident" id="4301901"><a href="/compress/gzip/gunzip.go.html#4301841">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4301907">return</span>&nbsp;<span class="num" id="4301914">0</span><span class="op" id="4301915">,</span>&nbsp;<span class="ident" id="4301917"><a href="/compress/gzip/gunzip.go.html#4301841">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4301922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301925">crc32</span><span class="op" id="4301930">,</span>&nbsp;<span class="ident" id="4301932">isize</span>&nbsp;<span class="op" id="4301938">:=</span>&nbsp;<span class="ident" id="4301941"><a href="/compress/gzip/gunzip.go.html#4299471">get4</a></span><span class="op" id="4301945">(</span><span class="ident" id="4301946"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301947">.</span><span class="ident" id="4301948">buf</span><span class="op" id="4301951">[</span><span class="num" id="4301952">0</span><span class="op" id="4301953">:</span><span class="num" id="4301954">4</span><span class="op" id="4301955">]</span><span class="op" id="4301956">)</span><span class="op" id="4301957">,</span>&nbsp;<span class="ident" id="4301959"><a href="/compress/gzip/gunzip.go.html#4299471">get4</a></span><span class="op" id="4301963">(</span><span class="ident" id="4301964"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301965">.</span><span class="ident" id="4301966">buf</span><span class="op" id="4301969">[</span><span class="num" id="4301970">4</span><span class="op" id="4301971">:</span><span class="num" id="4301972">8</span><span class="op" id="4301973">]</span><span class="op" id="4301974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4301977">sum</span>&nbsp;<span class="op" id="4301981">:=</span>&nbsp;<span class="ident" id="4301984"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4301985">.</span><span class="ident" id="4301986">digest</span><span class="op" id="4301992">.</span><span class="ident" id="4301993">Sum32</span><span class="op" id="4301998">(</span><span class="op" id="4301999">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302002">if</span>&nbsp;<span class="ident" id="4302005"><a href="/compress/gzip/gunzip.go.html#4301977">sum</a></span>&nbsp;<span class="op" id="4302009">!=</span>&nbsp;<span class="ident" id="4302012"><a href="/compress/gzip/gunzip.go.html#4301925">crc32</a></span>&nbsp;<span class="op" id="4302018">||</span>&nbsp;<span class="ident" id="4302021"><a href="/compress/gzip/gunzip.go.html#4301932">isize</a></span>&nbsp;<span class="op" id="4302027">!=</span>&nbsp;<span class="ident" id="4302030"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302031">.</span><span class="ident" id="4302032">size</span>&nbsp;<span class="op" id="4302037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302041"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302042">.</span><span class="ident" id="4302043">err</span>&nbsp;<span class="op" id="4302047">=</span>&nbsp;<span class="ident" id="4302049"><a href="/compress/gzip/gunzip.go.html#4295988">ErrChecksum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302063">return</span>&nbsp;<span class="num" id="4302070">0</span><span class="op" id="4302071">,</span>&nbsp;<span class="ident" id="4302073"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302074">.</span><span class="ident" id="4302075">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4302084">//&nbsp;File&nbsp;is&nbsp;ok;&nbsp;is&nbsp;there&nbsp;another?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302118">if</span>&nbsp;<span class="op" id="4302121">!</span><span class="ident" id="4302122"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302123">.</span><span class="ident" id="4302124">multistream</span>&nbsp;<span class="op" id="4302136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302140">return</span>&nbsp;<span class="num" id="4302147">0</span><span class="op" id="4302148">,</span>&nbsp;<span class="ident" id="4302150"><a href="/compress/gzip/gunzip.go.html#4295580">io</a></span><span class="op" id="4302152">.</span><span class="ident" id="4302153">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302162">if</span>&nbsp;<span class="ident" id="4302165"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span>&nbsp;<span class="op" id="4302169">=</span>&nbsp;<span class="ident" id="4302171"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302172">.</span><span class="ident" id="4302173">readHeader</span><span class="op" id="4302183">(</span><span class="builtintype" id="4302184">false</span><span class="op" id="4302189">)</span><span class="op" id="4302190">;</span>&nbsp;<span class="ident" id="4302192"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span>&nbsp;<span class="op" id="4302196">!=</span>&nbsp;<span class="ident" id="4302199">nil</span>&nbsp;<span class="op" id="4302203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302207"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302208">.</span><span class="ident" id="4302209">err</span>&nbsp;<span class="op" id="4302213">=</span>&nbsp;<span class="ident" id="4302215"><a href="/compress/gzip/gunzip.go.html#4301566">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302221">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4302229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4302233">//&nbsp;Yes.&nbsp;&nbsp;Reset&nbsp;and&nbsp;read&nbsp;from&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302267"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302268">.</span><span class="ident" id="4302269">digest</span><span class="op" id="4302275">.</span><span class="ident" id="4302276">Reset</span><span class="op" id="4302281">(</span><span class="op" id="4302282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4302285"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302286">.</span><span class="ident" id="4302287">size</span>&nbsp;<span class="op" id="4302292">=</span>&nbsp;<span class="num" id="4302294">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4302297">return</span>&nbsp;<span class="ident" id="4302304"><a href="/compress/gzip/gunzip.go.html#4301532">z</a></span><span class="op" id="4302305">.</span><span class="ident" id="4302306">Read</span><span class="op" id="4302310">(</span><span class="ident" id="4302311"><a href="/compress/gzip/gunzip.go.html#4301548">p</a></span><span class="op" id="4302312">)</span><br>
<span class="lineno"></span><span class="op" id="4302314">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span><span class="comment" id="4302317">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;Reader.&nbsp;It&nbsp;does&nbsp;not&nbsp;close&nbsp;the&nbsp;underlying&nbsp;io.Reader.</span><br>
<span class="lineno"></span><span class="keyword" id="4302389">func</span>&nbsp;<span class="op" id="4302394">(</span><span class="ident" id="4302395">z</span>&nbsp;<span class="op" id="4302397">*</span><span class="ident" id="4302398"><a href="/compress/gzip/gunzip.go.html#4297225">Reader</a></span><span class="op" id="4302404">)</span>&nbsp;<span class="ident" id="4302406">Close</span><span class="op" id="4302411">(</span><span class="op" id="4302412">)</span>&nbsp;<span class="builtintype" id="4302414">error</span>&nbsp;<span class="op" id="4302420">{</span>&nbsp;<span class="keyword" id="4302422">return</span>&nbsp;<span class="ident" id="4302429"><a href="/compress/gzip/gunzip.go.html#4302395">z</a></span><span class="op" id="4302430">.</span><span class="ident" id="4302431">decompressor</span><span class="op" id="4302443">.</span><span class="ident" id="4302444">Close</span><span class="op" id="4302449">(</span><span class="op" id="4302450">)</span>&nbsp;<span class="op" id="4302452">}</span>
</div>
</body>
</html>
