<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6618247">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6618303">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6618357">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6618408">package</span>&nbsp;<span class="ident" id="6618416">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6618421">import</span>&nbsp;<span class="op" id="6618428">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6618431">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6618442">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6618452">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6618455">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6618523">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6618590">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6618600">func</span>&nbsp;<span class="ident" id="6618605">loopbackInterface</span><span class="op" id="6618622">(</span><span class="op" id="6618623">)</span>&nbsp;<span class="op" id="6618625">*</span><span class="ident" id="6618626">Interface</span>&nbsp;<span class="op" id="6618636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618639">ift</span><span class="op" id="6618642">,</span>&nbsp;<span class="ident" id="6618644">err</span>&nbsp;<span class="op" id="6618648">:=</span>&nbsp;<span class="ident" id="6618651">Interfaces</span><span class="op" id="6618661">(</span><span class="op" id="6618662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618665">if</span>&nbsp;<span class="ident" id="6618668">err</span>&nbsp;<span class="op" id="6618672">!=</span>&nbsp;<span class="ident" id="6618675">nil</span>&nbsp;<span class="op" id="6618679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618683">return</span>&nbsp;<span class="ident" id="6618690">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618695">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618698">for</span>&nbsp;<span class="ident" id="6618702">_</span><span class="op" id="6618703">,</span>&nbsp;<span class="ident" id="6618705">ifi</span>&nbsp;<span class="op" id="6618709">:=</span>&nbsp;<span class="keyword" id="6618712">range</span>&nbsp;<span class="ident" id="6618718">ift</span>&nbsp;<span class="op" id="6618722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618726">if</span>&nbsp;<span class="ident" id="6618729">ifi</span><span class="op" id="6618732">.</span><span class="ident" id="6618733">Flags</span><span class="op" id="6618738">&amp;</span><span class="ident" id="6618739">FlagLoopback</span>&nbsp;<span class="op" id="6618752">!=</span>&nbsp;<span class="num" id="6618755">0</span>&nbsp;<span class="op" id="6618757">&amp;&amp;</span>&nbsp;<span class="ident" id="6618760">ifi</span><span class="op" id="6618763">.</span><span class="ident" id="6618764">Flags</span><span class="op" id="6618769">&amp;</span><span class="ident" id="6618770">FlagUp</span>&nbsp;<span class="op" id="6618777">!=</span>&nbsp;<span class="num" id="6618780">0</span>&nbsp;<span class="op" id="6618782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618787">return</span>&nbsp;<span class="op" id="6618794">&amp;</span><span class="ident" id="6618795">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618804">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618807">return</span>&nbsp;<span class="ident" id="6618814">nil</span><br>
<span class="lineno"></span><span class="op" id="6618818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6618821">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6618892">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6618957">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6618987">func</span>&nbsp;<span class="ident" id="6618992">ipv6LinkLocalUnicastAddr</span><span class="op" id="6619016">(</span><span class="ident" id="6619017">ifi</span>&nbsp;<span class="op" id="6619021">*</span><span class="ident" id="6619022">Interface</span><span class="op" id="6619031">)</span>&nbsp;<span class="builtintype" id="6619033">string</span>&nbsp;<span class="op" id="6619040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619043">if</span>&nbsp;<span class="ident" id="6619046">ifi</span>&nbsp;<span class="op" id="6619050">==</span>&nbsp;<span class="ident" id="6619053">nil</span>&nbsp;<span class="op" id="6619057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619061">return</span>&nbsp;<span class="string" id="6619068">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619072">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619075">ifat</span><span class="op" id="6619079">,</span>&nbsp;<span class="ident" id="6619081">err</span>&nbsp;<span class="op" id="6619085">:=</span>&nbsp;<span class="ident" id="6619088">ifi</span><span class="op" id="6619091">.</span><span class="ident" id="6619092">Addrs</span><span class="op" id="6619097">(</span><span class="op" id="6619098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619101">if</span>&nbsp;<span class="ident" id="6619104">err</span>&nbsp;<span class="op" id="6619108">!=</span>&nbsp;<span class="ident" id="6619111">nil</span>&nbsp;<span class="op" id="6619115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619119">return</span>&nbsp;<span class="string" id="6619126">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619133">for</span>&nbsp;<span class="ident" id="6619137">_</span><span class="op" id="6619138">,</span>&nbsp;<span class="ident" id="6619140">ifa</span>&nbsp;<span class="op" id="6619144">:=</span>&nbsp;<span class="keyword" id="6619147">range</span>&nbsp;<span class="ident" id="6619153">ifat</span>&nbsp;<span class="op" id="6619158">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619162">switch</span>&nbsp;<span class="ident" id="6619169">ifa</span>&nbsp;<span class="op" id="6619173">:=</span>&nbsp;<span class="ident" id="6619176">ifa</span><span class="op" id="6619179">.</span><span class="op" id="6619180">(</span><span class="keyword" id="6619181">type</span><span class="op" id="6619185">)</span>&nbsp;<span class="op" id="6619187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619191">case</span>&nbsp;<span class="op" id="6619196">*</span><span class="ident" id="6619197">IPAddr</span><span class="op" id="6619203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619208">if</span>&nbsp;<span class="ident" id="6619211">ifa</span><span class="op" id="6619214">.</span><span class="ident" id="6619215">IP</span><span class="op" id="6619217">.</span><span class="ident" id="6619218">To4</span><span class="op" id="6619221">(</span><span class="op" id="6619222">)</span>&nbsp;<span class="op" id="6619224">==</span>&nbsp;<span class="ident" id="6619227">nil</span>&nbsp;<span class="op" id="6619231">&amp;&amp;</span>&nbsp;<span class="ident" id="6619234">ifa</span><span class="op" id="6619237">.</span><span class="ident" id="6619238">IP</span><span class="op" id="6619240">.</span><span class="ident" id="6619241">IsLinkLocalUnicast</span><span class="op" id="6619259">(</span><span class="op" id="6619260">)</span>&nbsp;<span class="op" id="6619262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619268">return</span>&nbsp;<span class="ident" id="6619275">ifa</span><span class="op" id="6619278">.</span><span class="ident" id="6619279">IP</span><span class="op" id="6619281">.</span><span class="ident" id="6619282">String</span><span class="op" id="6619288">(</span><span class="op" id="6619289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619294">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619298">case</span>&nbsp;<span class="op" id="6619303">*</span><span class="ident" id="6619304">IPNet</span><span class="op" id="6619309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619314">if</span>&nbsp;<span class="ident" id="6619317">ifa</span><span class="op" id="6619320">.</span><span class="ident" id="6619321">IP</span><span class="op" id="6619323">.</span><span class="ident" id="6619324">To4</span><span class="op" id="6619327">(</span><span class="op" id="6619328">)</span>&nbsp;<span class="op" id="6619330">==</span>&nbsp;<span class="ident" id="6619333">nil</span>&nbsp;<span class="op" id="6619337">&amp;&amp;</span>&nbsp;<span class="ident" id="6619340">ifa</span><span class="op" id="6619343">.</span><span class="ident" id="6619344">IP</span><span class="op" id="6619346">.</span><span class="ident" id="6619347">IsLinkLocalUnicast</span><span class="op" id="6619365">(</span><span class="op" id="6619366">)</span>&nbsp;<span class="op" id="6619368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619374">return</span>&nbsp;<span class="ident" id="6619381">ifa</span><span class="op" id="6619384">.</span><span class="ident" id="6619385">IP</span><span class="op" id="6619387">.</span><span class="ident" id="6619388">String</span><span class="op" id="6619394">(</span><span class="op" id="6619395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619404">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619410">return</span>&nbsp;<span class="string" id="6619417">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6619420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6619423">func</span>&nbsp;<span class="ident" id="6619428">TestInterfaces</span><span class="op" id="6619442">(</span><span class="ident" id="6619443">t</span>&nbsp;<span class="op" id="6619445">*</span><span class="ident" id="6619446">testing</span><span class="op" id="6619453">.</span><span class="ident" id="6619454">T</span><span class="op" id="6619455">)</span>&nbsp;<span class="op" id="6619457">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619460">ift</span><span class="op" id="6619463">,</span>&nbsp;<span class="ident" id="6619465">err</span>&nbsp;<span class="op" id="6619469">:=</span>&nbsp;<span class="ident" id="6619472">Interfaces</span><span class="op" id="6619482">(</span><span class="op" id="6619483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619486">if</span>&nbsp;<span class="ident" id="6619489">err</span>&nbsp;<span class="op" id="6619493">!=</span>&nbsp;<span class="ident" id="6619496">nil</span>&nbsp;<span class="op" id="6619500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619504">t</span><span class="op" id="6619505">.</span><span class="ident" id="6619506">Fatalf</span><span class="op" id="6619512">(</span><span class="string" id="6619513">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6619536">,</span>&nbsp;<span class="ident" id="6619538">err</span><span class="op" id="6619541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619547">t</span><span class="op" id="6619548">.</span><span class="ident" id="6619549">Logf</span><span class="op" id="6619553">(</span><span class="string" id="6619554">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6619578">,</span>&nbsp;<span class="builtinfunc" id="6619580">len</span><span class="op" id="6619583">(</span><span class="ident" id="6619584">ift</span><span class="op" id="6619587">)</span><span class="op" id="6619588">,</span>&nbsp;<span class="builtinfunc" id="6619590">cap</span><span class="op" id="6619593">(</span><span class="ident" id="6619594">ift</span><span class="op" id="6619597">)</span><span class="op" id="6619598">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619602">for</span>&nbsp;<span class="ident" id="6619606">_</span><span class="op" id="6619607">,</span>&nbsp;<span class="ident" id="6619609">ifi</span>&nbsp;<span class="op" id="6619613">:=</span>&nbsp;<span class="keyword" id="6619616">range</span>&nbsp;<span class="ident" id="6619622">ift</span>&nbsp;<span class="op" id="6619626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619630">ifxi</span><span class="op" id="6619634">,</span>&nbsp;<span class="ident" id="6619636">err</span>&nbsp;<span class="op" id="6619640">:=</span>&nbsp;<span class="ident" id="6619643">InterfaceByIndex</span><span class="op" id="6619659">(</span><span class="ident" id="6619660">ifi</span><span class="op" id="6619663">.</span><span class="ident" id="6619664">Index</span><span class="op" id="6619669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619673">if</span>&nbsp;<span class="ident" id="6619676">err</span>&nbsp;<span class="op" id="6619680">!=</span>&nbsp;<span class="ident" id="6619683">nil</span>&nbsp;<span class="op" id="6619687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619692">t</span><span class="op" id="6619693">.</span><span class="ident" id="6619694">Fatalf</span><span class="op" id="6619700">(</span><span class="string" id="6619701">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6619734">,</span>&nbsp;<span class="ident" id="6619736">ifi</span><span class="op" id="6619739">.</span><span class="ident" id="6619740">Index</span><span class="op" id="6619745">,</span>&nbsp;<span class="ident" id="6619747">err</span><span class="op" id="6619750">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619758">if</span>&nbsp;<span class="op" id="6619761">!</span><span class="ident" id="6619762">reflect</span><span class="op" id="6619769">.</span><span class="ident" id="6619770">DeepEqual</span><span class="op" id="6619779">(</span><span class="ident" id="6619780">ifxi</span><span class="op" id="6619784">,</span>&nbsp;<span class="op" id="6619786">&amp;</span><span class="ident" id="6619787">ifi</span><span class="op" id="6619790">)</span>&nbsp;<span class="op" id="6619792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619797">t</span><span class="op" id="6619798">.</span><span class="ident" id="6619799">Fatalf</span><span class="op" id="6619805">(</span><span class="string" id="6619806">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6619842">,</span>&nbsp;<span class="ident" id="6619844">ifi</span><span class="op" id="6619847">.</span><span class="ident" id="6619848">Index</span><span class="op" id="6619853">,</span>&nbsp;<span class="ident" id="6619855">ifxi</span><span class="op" id="6619859">,</span>&nbsp;<span class="ident" id="6619861">ifi</span><span class="op" id="6619864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619872">ifxn</span><span class="op" id="6619876">,</span>&nbsp;<span class="ident" id="6619878">err</span>&nbsp;<span class="op" id="6619882">:=</span>&nbsp;<span class="ident" id="6619885">InterfaceByName</span><span class="op" id="6619900">(</span><span class="ident" id="6619901">ifi</span><span class="op" id="6619904">.</span><span class="ident" id="6619905">Name</span><span class="op" id="6619909">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619913">if</span>&nbsp;<span class="ident" id="6619916">err</span>&nbsp;<span class="op" id="6619920">!=</span>&nbsp;<span class="ident" id="6619923">nil</span>&nbsp;<span class="op" id="6619927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619932">t</span><span class="op" id="6619933">.</span><span class="ident" id="6619934">Fatalf</span><span class="op" id="6619940">(</span><span class="string" id="6619941">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6619973">,</span>&nbsp;<span class="ident" id="6619975">ifi</span><span class="op" id="6619978">.</span><span class="ident" id="6619979">Name</span><span class="op" id="6619983">,</span>&nbsp;<span class="ident" id="6619985">err</span><span class="op" id="6619988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619996">if</span>&nbsp;<span class="op" id="6619999">!</span><span class="ident" id="6620000">reflect</span><span class="op" id="6620007">.</span><span class="ident" id="6620008">DeepEqual</span><span class="op" id="6620017">(</span><span class="ident" id="6620018">ifxn</span><span class="op" id="6620022">,</span>&nbsp;<span class="op" id="6620024">&amp;</span><span class="ident" id="6620025">ifi</span><span class="op" id="6620028">)</span>&nbsp;<span class="op" id="6620030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620035">t</span><span class="op" id="6620036">.</span><span class="ident" id="6620037">Fatalf</span><span class="op" id="6620043">(</span><span class="string" id="6620044">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6620079">,</span>&nbsp;<span class="ident" id="6620081">ifi</span><span class="op" id="6620084">.</span><span class="ident" id="6620085">Name</span><span class="op" id="6620089">,</span>&nbsp;<span class="ident" id="6620091">ifxn</span><span class="op" id="6620095">,</span>&nbsp;<span class="ident" id="6620097">ifi</span><span class="op" id="6620100">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620108">t</span><span class="op" id="6620109">.</span><span class="ident" id="6620110">Logf</span><span class="op" id="6620114">(</span><span class="string" id="6620115">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6620149">,</span>&nbsp;<span class="ident" id="6620151">ifi</span><span class="op" id="6620154">.</span><span class="ident" id="6620155">Name</span><span class="op" id="6620159">,</span>&nbsp;<span class="ident" id="6620161">ifi</span><span class="op" id="6620164">.</span><span class="ident" id="6620165">Flags</span><span class="op" id="6620170">.</span><span class="ident" id="6620171">String</span><span class="op" id="6620177">(</span><span class="op" id="6620178">)</span><span class="op" id="6620179">,</span>&nbsp;<span class="ident" id="6620181">ifi</span><span class="op" id="6620184">.</span><span class="ident" id="6620185">Index</span><span class="op" id="6620190">,</span>&nbsp;<span class="ident" id="6620192">ifi</span><span class="op" id="6620195">.</span><span class="ident" id="6620196">MTU</span><span class="op" id="6620199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620203">t</span><span class="op" id="6620204">.</span><span class="ident" id="6620205">Logf</span><span class="op" id="6620209">(</span><span class="string" id="6620210">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6620233">,</span>&nbsp;<span class="ident" id="6620235">ifi</span><span class="op" id="6620238">.</span><span class="ident" id="6620239">HardwareAddr</span><span class="op" id="6620251">.</span><span class="ident" id="6620252">String</span><span class="op" id="6620258">(</span><span class="op" id="6620259">)</span><span class="op" id="6620260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620264">testInterfaceAddrs</span><span class="op" id="6620282">(</span><span class="ident" id="6620283">t</span><span class="op" id="6620284">,</span>&nbsp;<span class="op" id="6620286">&amp;</span><span class="ident" id="6620287">ifi</span><span class="op" id="6620290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620294">testInterfaceMulticastAddrs</span><span class="op" id="6620321">(</span><span class="ident" id="6620322">t</span><span class="op" id="6620323">,</span>&nbsp;<span class="op" id="6620325">&amp;</span><span class="ident" id="6620326">ifi</span><span class="op" id="6620329">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620332">}</span><br>
<span class="lineno"></span><span class="op" id="6620334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620337">func</span>&nbsp;<span class="ident" id="6620342">TestInterfaceAddrs</span><span class="op" id="6620360">(</span><span class="ident" id="6620361">t</span>&nbsp;<span class="op" id="6620363">*</span><span class="ident" id="6620364">testing</span><span class="op" id="6620371">.</span><span class="ident" id="6620372">T</span><span class="op" id="6620373">)</span>&nbsp;<span class="op" id="6620375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620378">ifat</span><span class="op" id="6620382">,</span>&nbsp;<span class="ident" id="6620384">err</span>&nbsp;<span class="op" id="6620388">:=</span>&nbsp;<span class="ident" id="6620391">InterfaceAddrs</span><span class="op" id="6620405">(</span><span class="op" id="6620406">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620409">if</span>&nbsp;<span class="ident" id="6620412">err</span>&nbsp;<span class="op" id="6620416">!=</span>&nbsp;<span class="ident" id="6620419">nil</span>&nbsp;<span class="op" id="6620423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620427">t</span><span class="op" id="6620428">.</span><span class="ident" id="6620429">Fatalf</span><span class="op" id="6620435">(</span><span class="string" id="6620436">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6620463">,</span>&nbsp;<span class="ident" id="6620465">err</span><span class="op" id="6620468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620474">t</span><span class="op" id="6620475">.</span><span class="ident" id="6620476">Logf</span><span class="op" id="6620480">(</span><span class="string" id="6620481">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6620505">,</span>&nbsp;<span class="builtinfunc" id="6620507">len</span><span class="op" id="6620510">(</span><span class="ident" id="6620511">ifat</span><span class="op" id="6620515">)</span><span class="op" id="6620516">,</span>&nbsp;<span class="builtinfunc" id="6620518">cap</span><span class="op" id="6620521">(</span><span class="ident" id="6620522">ifat</span><span class="op" id="6620526">)</span><span class="op" id="6620527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620530">testAddrs</span><span class="op" id="6620539">(</span><span class="ident" id="6620540">t</span><span class="op" id="6620541">,</span>&nbsp;<span class="ident" id="6620543">ifat</span><span class="op" id="6620547">)</span><br>
<span class="lineno">90</span><span class="op" id="6620549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620552">func</span>&nbsp;<span class="ident" id="6620557">testInterfaceAddrs</span><span class="op" id="6620575">(</span><span class="ident" id="6620576">t</span>&nbsp;<span class="op" id="6620578">*</span><span class="ident" id="6620579">testing</span><span class="op" id="6620586">.</span><span class="ident" id="6620587">T</span><span class="op" id="6620588">,</span>&nbsp;<span class="ident" id="6620590">ifi</span>&nbsp;<span class="op" id="6620594">*</span><span class="ident" id="6620595">Interface</span><span class="op" id="6620604">)</span>&nbsp;<span class="op" id="6620606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620609">ifat</span><span class="op" id="6620613">,</span>&nbsp;<span class="ident" id="6620615">err</span>&nbsp;<span class="op" id="6620619">:=</span>&nbsp;<span class="ident" id="6620622">ifi</span><span class="op" id="6620625">.</span><span class="ident" id="6620626">Addrs</span><span class="op" id="6620631">(</span><span class="op" id="6620632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620635">if</span>&nbsp;<span class="ident" id="6620638">err</span>&nbsp;<span class="op" id="6620642">!=</span>&nbsp;<span class="ident" id="6620645">nil</span>&nbsp;<span class="op" id="6620649">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620653">t</span><span class="op" id="6620654">.</span><span class="ident" id="6620655">Fatalf</span><span class="op" id="6620661">(</span><span class="string" id="6620662">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6620690">,</span>&nbsp;<span class="ident" id="6620692">err</span><span class="op" id="6620695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620701">testAddrs</span><span class="op" id="6620710">(</span><span class="ident" id="6620711">t</span><span class="op" id="6620712">,</span>&nbsp;<span class="ident" id="6620714">ifat</span><span class="op" id="6620718">)</span><br>
<span class="lineno"></span><span class="op" id="6620720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6620723">func</span>&nbsp;<span class="ident" id="6620728">testInterfaceMulticastAddrs</span><span class="op" id="6620755">(</span><span class="ident" id="6620756">t</span>&nbsp;<span class="op" id="6620758">*</span><span class="ident" id="6620759">testing</span><span class="op" id="6620766">.</span><span class="ident" id="6620767">T</span><span class="op" id="6620768">,</span>&nbsp;<span class="ident" id="6620770">ifi</span>&nbsp;<span class="op" id="6620774">*</span><span class="ident" id="6620775">Interface</span><span class="op" id="6620784">)</span>&nbsp;<span class="op" id="6620786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620789">ifmat</span><span class="op" id="6620794">,</span>&nbsp;<span class="ident" id="6620796">err</span>&nbsp;<span class="op" id="6620800">:=</span>&nbsp;<span class="ident" id="6620803">ifi</span><span class="op" id="6620806">.</span><span class="ident" id="6620807">MulticastAddrs</span><span class="op" id="6620821">(</span><span class="op" id="6620822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620825">if</span>&nbsp;<span class="ident" id="6620828">err</span>&nbsp;<span class="op" id="6620832">!=</span>&nbsp;<span class="ident" id="6620835">nil</span>&nbsp;<span class="op" id="6620839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620843">t</span><span class="op" id="6620844">.</span><span class="ident" id="6620845">Fatalf</span><span class="op" id="6620851">(</span><span class="string" id="6620852">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6620889">,</span>&nbsp;<span class="ident" id="6620891">err</span><span class="op" id="6620894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620897">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620900">testMulticastAddrs</span><span class="op" id="6620918">(</span><span class="ident" id="6620919">t</span><span class="op" id="6620920">,</span>&nbsp;<span class="ident" id="6620922">ifmat</span><span class="op" id="6620927">)</span><br>
<span class="lineno"></span><span class="op" id="6620929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6620932">func</span>&nbsp;<span class="ident" id="6620937">testAddrs</span><span class="op" id="6620946">(</span><span class="ident" id="6620947">t</span>&nbsp;<span class="op" id="6620949">*</span><span class="ident" id="6620950">testing</span><span class="op" id="6620957">.</span><span class="ident" id="6620958">T</span><span class="op" id="6620959">,</span>&nbsp;<span class="ident" id="6620961">ifat</span>&nbsp;<span class="op" id="6620966">[</span><span class="op" id="6620967">]</span><span class="ident" id="6620968">Addr</span><span class="op" id="6620972">)</span>&nbsp;<span class="op" id="6620974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620977">for</span>&nbsp;<span class="ident" id="6620981">_</span><span class="op" id="6620982">,</span>&nbsp;<span class="ident" id="6620984">ifa</span>&nbsp;<span class="op" id="6620988">:=</span>&nbsp;<span class="keyword" id="6620991">range</span>&nbsp;<span class="ident" id="6620997">ifat</span>&nbsp;<span class="op" id="6621002">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621006">switch</span>&nbsp;<span class="ident" id="6621013">ifa</span>&nbsp;<span class="op" id="6621017">:=</span>&nbsp;<span class="ident" id="6621020">ifa</span><span class="op" id="6621023">.</span><span class="op" id="6621024">(</span><span class="keyword" id="6621025">type</span><span class="op" id="6621029">)</span>&nbsp;<span class="op" id="6621031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621035">case</span>&nbsp;<span class="op" id="6621040">*</span><span class="ident" id="6621041">IPAddr</span><span class="op" id="6621047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621052">if</span>&nbsp;<span class="ident" id="6621055">ifa</span>&nbsp;<span class="op" id="6621059">==</span>&nbsp;<span class="ident" id="6621062">nil</span>&nbsp;<span class="op" id="6621066">||</span>&nbsp;<span class="ident" id="6621069">ifa</span><span class="op" id="6621072">.</span><span class="ident" id="6621073">IP</span>&nbsp;<span class="op" id="6621076">==</span>&nbsp;<span class="ident" id="6621079">nil</span>&nbsp;<span class="op" id="6621083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621089">t</span><span class="op" id="6621090">.</span><span class="ident" id="6621091">Errorf</span><span class="op" id="6621097">(</span><span class="string" id="6621098">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6621126">,</span>&nbsp;<span class="ident" id="6621128">ifa</span><span class="op" id="6621131">,</span>&nbsp;<span class="ident" id="6621133">ifa</span><span class="op" id="6621136">.</span><span class="ident" id="6621137">IP</span><span class="op" id="6621139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621144">}</span>&nbsp;<span class="keyword" id="6621146">else</span>&nbsp;<span class="op" id="6621151">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621157">t</span><span class="op" id="6621158">.</span><span class="ident" id="6621159">Logf</span><span class="op" id="6621163">(</span><span class="string" id="6621164">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6621188">,</span>&nbsp;<span class="ident" id="6621190">ifa</span><span class="op" id="6621193">.</span><span class="ident" id="6621194">String</span><span class="op" id="6621200">(</span><span class="op" id="6621201">)</span><span class="op" id="6621202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621211">case</span>&nbsp;<span class="op" id="6621216">*</span><span class="ident" id="6621217">IPNet</span><span class="op" id="6621222">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621227">if</span>&nbsp;<span class="ident" id="6621230">ifa</span>&nbsp;<span class="op" id="6621234">==</span>&nbsp;<span class="ident" id="6621237">nil</span>&nbsp;<span class="op" id="6621241">||</span>&nbsp;<span class="ident" id="6621244">ifa</span><span class="op" id="6621247">.</span><span class="ident" id="6621248">IP</span>&nbsp;<span class="op" id="6621251">==</span>&nbsp;<span class="ident" id="6621254">nil</span>&nbsp;<span class="op" id="6621258">||</span>&nbsp;<span class="ident" id="6621261">ifa</span><span class="op" id="6621264">.</span><span class="ident" id="6621265">Mask</span>&nbsp;<span class="op" id="6621270">==</span>&nbsp;<span class="ident" id="6621273">nil</span>&nbsp;<span class="op" id="6621277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621283">t</span><span class="op" id="6621284">.</span><span class="ident" id="6621285">Errorf</span><span class="op" id="6621291">(</span><span class="string" id="6621292">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6621324">,</span>&nbsp;<span class="ident" id="6621326">ifa</span><span class="op" id="6621329">,</span>&nbsp;<span class="ident" id="6621331">ifa</span><span class="op" id="6621334">.</span><span class="ident" id="6621335">IP</span><span class="op" id="6621337">,</span>&nbsp;<span class="ident" id="6621339">ifa</span><span class="op" id="6621342">.</span><span class="ident" id="6621343">Mask</span><span class="op" id="6621347">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621352">}</span>&nbsp;<span class="keyword" id="6621354">else</span>&nbsp;<span class="op" id="6621359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621365">_</span><span class="op" id="6621366">,</span>&nbsp;<span class="ident" id="6621368">prefixLen</span>&nbsp;<span class="op" id="6621378">:=</span>&nbsp;<span class="ident" id="6621381">ifa</span><span class="op" id="6621384">.</span><span class="ident" id="6621385">Mask</span><span class="op" id="6621389">.</span><span class="ident" id="6621390">Size</span><span class="op" id="6621394">(</span><span class="op" id="6621395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621401">if</span>&nbsp;<span class="ident" id="6621404">ifa</span><span class="op" id="6621407">.</span><span class="ident" id="6621408">IP</span><span class="op" id="6621410">.</span><span class="ident" id="6621411">To4</span><span class="op" id="6621414">(</span><span class="op" id="6621415">)</span>&nbsp;<span class="op" id="6621417">!=</span>&nbsp;<span class="ident" id="6621420">nil</span>&nbsp;<span class="op" id="6621424">&amp;&amp;</span>&nbsp;<span class="ident" id="6621427">prefixLen</span>&nbsp;<span class="op" id="6621437">!=</span>&nbsp;<span class="num" id="6621440">8</span><span class="op" id="6621441">*</span><span class="ident" id="6621442">IPv4len</span>&nbsp;<span class="op" id="6621450">||</span>&nbsp;<span class="ident" id="6621453">ifa</span><span class="op" id="6621456">.</span><span class="ident" id="6621457">IP</span><span class="op" id="6621459">.</span><span class="ident" id="6621460">To16</span><span class="op" id="6621464">(</span><span class="op" id="6621465">)</span>&nbsp;<span class="op" id="6621467">!=</span>&nbsp;<span class="ident" id="6621470">nil</span>&nbsp;<span class="op" id="6621474">&amp;&amp;</span>&nbsp;<span class="ident" id="6621477">ifa</span><span class="op" id="6621480">.</span><span class="ident" id="6621481">IP</span><span class="op" id="6621483">.</span><span class="ident" id="6621484">To4</span><span class="op" id="6621487">(</span><span class="op" id="6621488">)</span>&nbsp;<span class="op" id="6621490">==</span>&nbsp;<span class="ident" id="6621493">nil</span>&nbsp;<span class="op" id="6621497">&amp;&amp;</span>&nbsp;<span class="ident" id="6621500">prefixLen</span>&nbsp;<span class="op" id="6621510">!=</span>&nbsp;<span class="num" id="6621513">8</span><span class="op" id="6621514">*</span><span class="ident" id="6621515">IPv6len</span>&nbsp;<span class="op" id="6621523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621530">t</span><span class="op" id="6621531">.</span><span class="ident" id="6621532">Errorf</span><span class="op" id="6621538">(</span><span class="string" id="6621539">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6621575">,</span>&nbsp;<span class="ident" id="6621577">ifa</span><span class="op" id="6621580">,</span>&nbsp;<span class="ident" id="6621582">ifa</span><span class="op" id="6621585">.</span><span class="ident" id="6621586">IP</span><span class="op" id="6621588">,</span>&nbsp;<span class="ident" id="6621590">ifa</span><span class="op" id="6621593">.</span><span class="ident" id="6621594">Mask</span><span class="op" id="6621598">,</span>&nbsp;<span class="ident" id="6621600">prefixLen</span><span class="op" id="6621609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621615">}</span>&nbsp;<span class="keyword" id="6621617">else</span>&nbsp;<span class="op" id="6621622">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621629">t</span><span class="op" id="6621630">.</span><span class="ident" id="6621631">Logf</span><span class="op" id="6621635">(</span><span class="string" id="6621636">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6621660">,</span>&nbsp;<span class="ident" id="6621662">ifa</span><span class="op" id="6621665">.</span><span class="ident" id="6621666">String</span><span class="op" id="6621672">(</span><span class="op" id="6621673">)</span><span class="op" id="6621674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621689">default</span><span class="op" id="6621696">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621701">t</span><span class="op" id="6621702">.</span><span class="ident" id="6621703">Errorf</span><span class="op" id="6621709">(</span><span class="string" id="6621710">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6621733">,</span>&nbsp;<span class="ident" id="6621735">ifa</span><span class="op" id="6621738">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621745">}</span><br>
<span class="lineno"></span><span class="op" id="6621747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6621750">func</span>&nbsp;<span class="ident" id="6621755">testMulticastAddrs</span><span class="op" id="6621773">(</span><span class="ident" id="6621774">t</span>&nbsp;<span class="op" id="6621776">*</span><span class="ident" id="6621777">testing</span><span class="op" id="6621784">.</span><span class="ident" id="6621785">T</span><span class="op" id="6621786">,</span>&nbsp;<span class="ident" id="6621788">ifmat</span>&nbsp;<span class="op" id="6621794">[</span><span class="op" id="6621795">]</span><span class="ident" id="6621796">Addr</span><span class="op" id="6621800">)</span>&nbsp;<span class="op" id="6621802">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621805">for</span>&nbsp;<span class="ident" id="6621809">_</span><span class="op" id="6621810">,</span>&nbsp;<span class="ident" id="6621812">ifma</span>&nbsp;<span class="op" id="6621817">:=</span>&nbsp;<span class="keyword" id="6621820">range</span>&nbsp;<span class="ident" id="6621826">ifmat</span>&nbsp;<span class="op" id="6621832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621836">switch</span>&nbsp;<span class="ident" id="6621843">ifma</span>&nbsp;<span class="op" id="6621848">:=</span>&nbsp;<span class="ident" id="6621851">ifma</span><span class="op" id="6621855">.</span><span class="op" id="6621856">(</span><span class="keyword" id="6621857">type</span><span class="op" id="6621861">)</span>&nbsp;<span class="op" id="6621863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621867">case</span>&nbsp;<span class="op" id="6621872">*</span><span class="ident" id="6621873">IPAddr</span><span class="op" id="6621879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621884">if</span>&nbsp;<span class="ident" id="6621887">ifma</span>&nbsp;<span class="op" id="6621892">==</span>&nbsp;<span class="ident" id="6621895">nil</span>&nbsp;<span class="op" id="6621899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621905">t</span><span class="op" id="6621906">.</span><span class="ident" id="6621907">Errorf</span><span class="op" id="6621913">(</span><span class="string" id="6621914">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6621938">,</span>&nbsp;<span class="ident" id="6621940">ifma</span><span class="op" id="6621944">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621949">}</span>&nbsp;<span class="keyword" id="6621951">else</span>&nbsp;<span class="op" id="6621956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621962">t</span><span class="op" id="6621963">.</span><span class="ident" id="6621964">Logf</span><span class="op" id="6621968">(</span><span class="string" id="6621969">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6621996">,</span>&nbsp;<span class="ident" id="6621998">ifma</span><span class="op" id="6622002">.</span><span class="ident" id="6622003">String</span><span class="op" id="6622009">(</span><span class="op" id="6622010">)</span><span class="op" id="6622011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622020">default</span><span class="op" id="6622027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622032">t</span><span class="op" id="6622033">.</span><span class="ident" id="6622034">Errorf</span><span class="op" id="6622040">(</span><span class="string" id="6622041">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6622064">,</span>&nbsp;<span class="ident" id="6622066">ifma</span><span class="op" id="6622070">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622077">}</span><br>
<span class="lineno"></span><span class="op" id="6622079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622082">func</span>&nbsp;<span class="ident" id="6622087">BenchmarkInterfaces</span><span class="op" id="6622106">(</span><span class="ident" id="6622107">b</span>&nbsp;<span class="op" id="6622109">*</span><span class="ident" id="6622110">testing</span><span class="op" id="6622117">.</span><span class="ident" id="6622118">B</span><span class="op" id="6622119">)</span>&nbsp;<span class="op" id="6622121">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622124">for</span>&nbsp;<span class="ident" id="6622128">i</span>&nbsp;<span class="op" id="6622130">:=</span>&nbsp;<span class="num" id="6622133">0</span><span class="op" id="6622134">;</span>&nbsp;<span class="ident" id="6622136">i</span>&nbsp;<span class="op" id="6622138">&lt;</span>&nbsp;<span class="ident" id="6622140">b</span><span class="op" id="6622141">.</span><span class="ident" id="6622142">N</span><span class="op" id="6622143">;</span>&nbsp;<span class="ident" id="6622145">i</span><span class="op" id="6622146">++</span>&nbsp;<span class="op" id="6622149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622153">if</span>&nbsp;<span class="ident" id="6622156">_</span><span class="op" id="6622157">,</span>&nbsp;<span class="ident" id="6622159">err</span>&nbsp;<span class="op" id="6622163">:=</span>&nbsp;<span class="ident" id="6622166">Interfaces</span><span class="op" id="6622176">(</span><span class="op" id="6622177">)</span><span class="op" id="6622178">;</span>&nbsp;<span class="ident" id="6622180">err</span>&nbsp;<span class="op" id="6622184">!=</span>&nbsp;<span class="ident" id="6622187">nil</span>&nbsp;<span class="op" id="6622191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622196">b</span><span class="op" id="6622197">.</span><span class="ident" id="6622198">Fatalf</span><span class="op" id="6622204">(</span><span class="string" id="6622205">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6622228">,</span>&nbsp;<span class="ident" id="6622230">err</span><span class="op" id="6622233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622240">}</span><br>
<span class="lineno">155</span><span class="op" id="6622242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622245">func</span>&nbsp;<span class="ident" id="6622250">BenchmarkInterfaceByIndex</span><span class="op" id="6622275">(</span><span class="ident" id="6622276">b</span>&nbsp;<span class="op" id="6622278">*</span><span class="ident" id="6622279">testing</span><span class="op" id="6622286">.</span><span class="ident" id="6622287">B</span><span class="op" id="6622288">)</span>&nbsp;<span class="op" id="6622290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622293">ifi</span>&nbsp;<span class="op" id="6622297">:=</span>&nbsp;<span class="ident" id="6622300">loopbackInterface</span><span class="op" id="6622317">(</span><span class="op" id="6622318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622321">if</span>&nbsp;<span class="ident" id="6622324">ifi</span>&nbsp;<span class="op" id="6622328">==</span>&nbsp;<span class="ident" id="6622331">nil</span>&nbsp;<span class="op" id="6622335">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622339">b</span><span class="op" id="6622340">.</span><span class="ident" id="6622341">Skip</span><span class="op" id="6622345">(</span><span class="string" id="6622346">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6622376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622382">for</span>&nbsp;<span class="ident" id="6622386">i</span>&nbsp;<span class="op" id="6622388">:=</span>&nbsp;<span class="num" id="6622391">0</span><span class="op" id="6622392">;</span>&nbsp;<span class="ident" id="6622394">i</span>&nbsp;<span class="op" id="6622396">&lt;</span>&nbsp;<span class="ident" id="6622398">b</span><span class="op" id="6622399">.</span><span class="ident" id="6622400">N</span><span class="op" id="6622401">;</span>&nbsp;<span class="ident" id="6622403">i</span><span class="op" id="6622404">++</span>&nbsp;<span class="op" id="6622407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622411">if</span>&nbsp;<span class="ident" id="6622414">_</span><span class="op" id="6622415">,</span>&nbsp;<span class="ident" id="6622417">err</span>&nbsp;<span class="op" id="6622421">:=</span>&nbsp;<span class="ident" id="6622424">InterfaceByIndex</span><span class="op" id="6622440">(</span><span class="ident" id="6622441">ifi</span><span class="op" id="6622444">.</span><span class="ident" id="6622445">Index</span><span class="op" id="6622450">)</span><span class="op" id="6622451">;</span>&nbsp;<span class="ident" id="6622453">err</span>&nbsp;<span class="op" id="6622457">!=</span>&nbsp;<span class="ident" id="6622460">nil</span>&nbsp;<span class="op" id="6622464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622469">b</span><span class="op" id="6622470">.</span><span class="ident" id="6622471">Fatalf</span><span class="op" id="6622477">(</span><span class="string" id="6622478">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6622507">,</span>&nbsp;<span class="ident" id="6622509">err</span><span class="op" id="6622512">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622519">}</span><br>
<span class="lineno"></span><span class="op" id="6622521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622524">func</span>&nbsp;<span class="ident" id="6622529">BenchmarkInterfaceByName</span><span class="op" id="6622553">(</span><span class="ident" id="6622554">b</span>&nbsp;<span class="op" id="6622556">*</span><span class="ident" id="6622557">testing</span><span class="op" id="6622564">.</span><span class="ident" id="6622565">B</span><span class="op" id="6622566">)</span>&nbsp;<span class="op" id="6622568">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622571">ifi</span>&nbsp;<span class="op" id="6622575">:=</span>&nbsp;<span class="ident" id="6622578">loopbackInterface</span><span class="op" id="6622595">(</span><span class="op" id="6622596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622599">if</span>&nbsp;<span class="ident" id="6622602">ifi</span>&nbsp;<span class="op" id="6622606">==</span>&nbsp;<span class="ident" id="6622609">nil</span>&nbsp;<span class="op" id="6622613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622617">b</span><span class="op" id="6622618">.</span><span class="ident" id="6622619">Skip</span><span class="op" id="6622623">(</span><span class="string" id="6622624">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6622654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622660">for</span>&nbsp;<span class="ident" id="6622664">i</span>&nbsp;<span class="op" id="6622666">:=</span>&nbsp;<span class="num" id="6622669">0</span><span class="op" id="6622670">;</span>&nbsp;<span class="ident" id="6622672">i</span>&nbsp;<span class="op" id="6622674">&lt;</span>&nbsp;<span class="ident" id="6622676">b</span><span class="op" id="6622677">.</span><span class="ident" id="6622678">N</span><span class="op" id="6622679">;</span>&nbsp;<span class="ident" id="6622681">i</span><span class="op" id="6622682">++</span>&nbsp;<span class="op" id="6622685">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622689">if</span>&nbsp;<span class="ident" id="6622692">_</span><span class="op" id="6622693">,</span>&nbsp;<span class="ident" id="6622695">err</span>&nbsp;<span class="op" id="6622699">:=</span>&nbsp;<span class="ident" id="6622702">InterfaceByName</span><span class="op" id="6622717">(</span><span class="ident" id="6622718">ifi</span><span class="op" id="6622721">.</span><span class="ident" id="6622722">Name</span><span class="op" id="6622726">)</span><span class="op" id="6622727">;</span>&nbsp;<span class="ident" id="6622729">err</span>&nbsp;<span class="op" id="6622733">!=</span>&nbsp;<span class="ident" id="6622736">nil</span>&nbsp;<span class="op" id="6622740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622745">b</span><span class="op" id="6622746">.</span><span class="ident" id="6622747">Fatalf</span><span class="op" id="6622753">(</span><span class="string" id="6622754">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6622782">,</span>&nbsp;<span class="ident" id="6622784">err</span><span class="op" id="6622787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622794">}</span><br>
<span class="lineno"></span><span class="op" id="6622796">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6622799">func</span>&nbsp;<span class="ident" id="6622804">BenchmarkInterfaceAddrs</span><span class="op" id="6622827">(</span><span class="ident" id="6622828">b</span>&nbsp;<span class="op" id="6622830">*</span><span class="ident" id="6622831">testing</span><span class="op" id="6622838">.</span><span class="ident" id="6622839">B</span><span class="op" id="6622840">)</span>&nbsp;<span class="op" id="6622842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622845">for</span>&nbsp;<span class="ident" id="6622849">i</span>&nbsp;<span class="op" id="6622851">:=</span>&nbsp;<span class="num" id="6622854">0</span><span class="op" id="6622855">;</span>&nbsp;<span class="ident" id="6622857">i</span>&nbsp;<span class="op" id="6622859">&lt;</span>&nbsp;<span class="ident" id="6622861">b</span><span class="op" id="6622862">.</span><span class="ident" id="6622863">N</span><span class="op" id="6622864">;</span>&nbsp;<span class="ident" id="6622866">i</span><span class="op" id="6622867">++</span>&nbsp;<span class="op" id="6622870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622874">if</span>&nbsp;<span class="ident" id="6622877">_</span><span class="op" id="6622878">,</span>&nbsp;<span class="ident" id="6622880">err</span>&nbsp;<span class="op" id="6622884">:=</span>&nbsp;<span class="ident" id="6622887">InterfaceAddrs</span><span class="op" id="6622901">(</span><span class="op" id="6622902">)</span><span class="op" id="6622903">;</span>&nbsp;<span class="ident" id="6622905">err</span>&nbsp;<span class="op" id="6622909">!=</span>&nbsp;<span class="ident" id="6622912">nil</span>&nbsp;<span class="op" id="6622916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622921">b</span><span class="op" id="6622922">.</span><span class="ident" id="6622923">Fatalf</span><span class="op" id="6622929">(</span><span class="string" id="6622930">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6622957">,</span>&nbsp;<span class="ident" id="6622959">err</span><span class="op" id="6622962">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622969">}</span><br>
<span class="lineno"></span><span class="op" id="6622971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622974">func</span>&nbsp;<span class="ident" id="6622979">BenchmarkInterfacesAndAddrs</span><span class="op" id="6623006">(</span><span class="ident" id="6623007">b</span>&nbsp;<span class="op" id="6623009">*</span><span class="ident" id="6623010">testing</span><span class="op" id="6623017">.</span><span class="ident" id="6623018">B</span><span class="op" id="6623019">)</span>&nbsp;<span class="op" id="6623021">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623024">ifi</span>&nbsp;<span class="op" id="6623028">:=</span>&nbsp;<span class="ident" id="6623031">loopbackInterface</span><span class="op" id="6623048">(</span><span class="op" id="6623049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623052">if</span>&nbsp;<span class="ident" id="6623055">ifi</span>&nbsp;<span class="op" id="6623059">==</span>&nbsp;<span class="ident" id="6623062">nil</span>&nbsp;<span class="op" id="6623066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623070">b</span><span class="op" id="6623071">.</span><span class="ident" id="6623072">Skip</span><span class="op" id="6623076">(</span><span class="string" id="6623077">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6623107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623113">for</span>&nbsp;<span class="ident" id="6623117">i</span>&nbsp;<span class="op" id="6623119">:=</span>&nbsp;<span class="num" id="6623122">0</span><span class="op" id="6623123">;</span>&nbsp;<span class="ident" id="6623125">i</span>&nbsp;<span class="op" id="6623127">&lt;</span>&nbsp;<span class="ident" id="6623129">b</span><span class="op" id="6623130">.</span><span class="ident" id="6623131">N</span><span class="op" id="6623132">;</span>&nbsp;<span class="ident" id="6623134">i</span><span class="op" id="6623135">++</span>&nbsp;<span class="op" id="6623138">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623142">if</span>&nbsp;<span class="ident" id="6623145">_</span><span class="op" id="6623146">,</span>&nbsp;<span class="ident" id="6623148">err</span>&nbsp;<span class="op" id="6623152">:=</span>&nbsp;<span class="ident" id="6623155">ifi</span><span class="op" id="6623158">.</span><span class="ident" id="6623159">Addrs</span><span class="op" id="6623164">(</span><span class="op" id="6623165">)</span><span class="op" id="6623166">;</span>&nbsp;<span class="ident" id="6623168">err</span>&nbsp;<span class="op" id="6623172">!=</span>&nbsp;<span class="ident" id="6623175">nil</span>&nbsp;<span class="op" id="6623179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623184">b</span><span class="op" id="6623185">.</span><span class="ident" id="6623186">Fatalf</span><span class="op" id="6623192">(</span><span class="string" id="6623193">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6623221">,</span>&nbsp;<span class="ident" id="6623223">err</span><span class="op" id="6623226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623233">}</span><br>
<span class="lineno"></span><span class="op" id="6623235">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6623238">func</span>&nbsp;<span class="ident" id="6623243">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6623279">(</span><span class="ident" id="6623280">b</span>&nbsp;<span class="op" id="6623282">*</span><span class="ident" id="6623283">testing</span><span class="op" id="6623290">.</span><span class="ident" id="6623291">B</span><span class="op" id="6623292">)</span>&nbsp;<span class="op" id="6623294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623297">ifi</span>&nbsp;<span class="op" id="6623301">:=</span>&nbsp;<span class="ident" id="6623304">loopbackInterface</span><span class="op" id="6623321">(</span><span class="op" id="6623322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623325">if</span>&nbsp;<span class="ident" id="6623328">ifi</span>&nbsp;<span class="op" id="6623332">==</span>&nbsp;<span class="ident" id="6623335">nil</span>&nbsp;<span class="op" id="6623339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623343">b</span><span class="op" id="6623344">.</span><span class="ident" id="6623345">Skip</span><span class="op" id="6623349">(</span><span class="string" id="6623350">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6623380">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623386">for</span>&nbsp;<span class="ident" id="6623390">i</span>&nbsp;<span class="op" id="6623392">:=</span>&nbsp;<span class="num" id="6623395">0</span><span class="op" id="6623396">;</span>&nbsp;<span class="ident" id="6623398">i</span>&nbsp;<span class="op" id="6623400">&lt;</span>&nbsp;<span class="ident" id="6623402">b</span><span class="op" id="6623403">.</span><span class="ident" id="6623404">N</span><span class="op" id="6623405">;</span>&nbsp;<span class="ident" id="6623407">i</span><span class="op" id="6623408">++</span>&nbsp;<span class="op" id="6623411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623415">if</span>&nbsp;<span class="ident" id="6623418">_</span><span class="op" id="6623419">,</span>&nbsp;<span class="ident" id="6623421">err</span>&nbsp;<span class="op" id="6623425">:=</span>&nbsp;<span class="ident" id="6623428">ifi</span><span class="op" id="6623431">.</span><span class="ident" id="6623432">MulticastAddrs</span><span class="op" id="6623446">(</span><span class="op" id="6623447">)</span><span class="op" id="6623448">;</span>&nbsp;<span class="ident" id="6623450">err</span>&nbsp;<span class="op" id="6623454">!=</span>&nbsp;<span class="ident" id="6623457">nil</span>&nbsp;<span class="op" id="6623461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623466">b</span><span class="op" id="6623467">.</span><span class="ident" id="6623468">Fatalf</span><span class="op" id="6623474">(</span><span class="string" id="6623475">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6623512">,</span>&nbsp;<span class="ident" id="6623514">err</span><span class="op" id="6623517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623521">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623524">}</span><br>
<span class="lineno"></span><span class="op" id="6623526">}</span>
</div>
</body>
</html>
