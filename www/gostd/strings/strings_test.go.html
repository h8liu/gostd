<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html" class="current">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1092304">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1092359">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1092413">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1092464">package</span>&nbsp;<span class="ident" id="1092472">strings_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1092486">import</span>&nbsp;<span class="op" id="1092493">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092496">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092505">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092511">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092524">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092535">.</span>&nbsp;<span class="string" id="1092537">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092548">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092559">&#34;unicode&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092570">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1092586">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1092595">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1092598">func</span>&nbsp;<span class="ident" id="1092603">eq</span><span class="op" id="1092605">(</span><span class="ident" id="1092606">a</span><span class="op" id="1092607">,</span>&nbsp;<span class="ident" id="1092609">b</span>&nbsp;<span class="op" id="1092611">[</span><span class="op" id="1092612">]</span><span class="builtintype" id="1092613">string</span><span class="op" id="1092619">)</span>&nbsp;<span class="builtintype" id="1092621">bool</span>&nbsp;<span class="op" id="1092626">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092629">if</span>&nbsp;<span class="builtinfunc" id="1092632">len</span><span class="op" id="1092635">(</span><span class="ident" id="1092636">a</span><span class="op" id="1092637">)</span>&nbsp;<span class="op" id="1092639">!=</span>&nbsp;<span class="builtinfunc" id="1092642">len</span><span class="op" id="1092645">(</span><span class="ident" id="1092646">b</span><span class="op" id="1092647">)</span>&nbsp;<span class="op" id="1092649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092653">return</span>&nbsp;<span class="builtintype" id="1092660">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092670">for</span>&nbsp;<span class="ident" id="1092674">i</span>&nbsp;<span class="op" id="1092676">:=</span>&nbsp;<span class="num" id="1092679">0</span><span class="op" id="1092680">;</span>&nbsp;<span class="ident" id="1092682">i</span>&nbsp;<span class="op" id="1092684">&lt;</span>&nbsp;<span class="builtinfunc" id="1092686">len</span><span class="op" id="1092689">(</span><span class="ident" id="1092690">a</span><span class="op" id="1092691">)</span><span class="op" id="1092692">;</span>&nbsp;<span class="ident" id="1092694">i</span><span class="op" id="1092695">++</span>&nbsp;<span class="op" id="1092698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092702">if</span>&nbsp;<span class="ident" id="1092705">a</span><span class="op" id="1092706">[</span><span class="ident" id="1092707">i</span><span class="op" id="1092708">]</span>&nbsp;<span class="op" id="1092710">!=</span>&nbsp;<span class="ident" id="1092713">b</span><span class="op" id="1092714">[</span><span class="ident" id="1092715">i</span><span class="op" id="1092716">]</span>&nbsp;<span class="op" id="1092718">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092723">return</span>&nbsp;<span class="builtintype" id="1092730">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1092744">return</span>&nbsp;<span class="builtintype" id="1092751">true</span><br>
<span class="lineno"></span><span class="op" id="1092756">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="1092759">var</span>&nbsp;<span class="ident" id="1092763">abcd</span>&nbsp;<span class="op" id="1092768">=</span>&nbsp;<span class="string" id="1092770">&#34;abcd&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="1092777">var</span>&nbsp;<span class="ident" id="1092781">faces</span>&nbsp;<span class="op" id="1092787">=</span>&nbsp;<span class="string" id="1092789">&#34;☺☻☹&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="1092801">var</span>&nbsp;<span class="ident" id="1092805">commas</span>&nbsp;<span class="op" id="1092812">=</span>&nbsp;<span class="string" id="1092814">&#34;1,2,3,4&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="1092824">var</span>&nbsp;<span class="ident" id="1092828">dots</span>&nbsp;<span class="op" id="1092833">=</span>&nbsp;<span class="string" id="1092835">&#34;1....2....3....4&#34;</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="1092855">type</span>&nbsp;<span class="ident" id="1092860">IndexTest</span>&nbsp;<span class="keyword" id="1092870">struct</span>&nbsp;<span class="op" id="1092877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1092880">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1092884">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1092892">sep</span>&nbsp;<span class="builtintype" id="1092896">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1092904">out</span>&nbsp;<span class="builtintype" id="1092908">int</span><br>
<span class="lineno">40</span><span class="op" id="1092912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1092915">var</span>&nbsp;<span class="ident" id="1092919">indexTests</span>&nbsp;<span class="op" id="1092930">=</span>&nbsp;<span class="op" id="1092932">[</span><span class="op" id="1092933">]</span><span class="ident" id="1092934">IndexTest</span><span class="op" id="1092943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092946">{</span><span class="string" id="1092947">&#34;&#34;</span><span class="op" id="1092949">,</span>&nbsp;<span class="string" id="1092951">&#34;&#34;</span><span class="op" id="1092953">,</span>&nbsp;<span class="num" id="1092955">0</span><span class="op" id="1092956">}</span><span class="op" id="1092957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092960">{</span><span class="string" id="1092961">&#34;&#34;</span><span class="op" id="1092963">,</span>&nbsp;<span class="string" id="1092965">&#34;a&#34;</span><span class="op" id="1092968">,</span>&nbsp;<span class="op" id="1092970">-</span><span class="num" id="1092971">1</span><span class="op" id="1092972">}</span><span class="op" id="1092973">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092976">{</span><span class="string" id="1092977">&#34;&#34;</span><span class="op" id="1092979">,</span>&nbsp;<span class="string" id="1092981">&#34;foo&#34;</span><span class="op" id="1092986">,</span>&nbsp;<span class="op" id="1092988">-</span><span class="num" id="1092989">1</span><span class="op" id="1092990">}</span><span class="op" id="1092991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1092994">{</span><span class="string" id="1092995">&#34;fo&#34;</span><span class="op" id="1092999">,</span>&nbsp;<span class="string" id="1093001">&#34;foo&#34;</span><span class="op" id="1093006">,</span>&nbsp;<span class="op" id="1093008">-</span><span class="num" id="1093009">1</span><span class="op" id="1093010">}</span><span class="op" id="1093011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093014">{</span><span class="string" id="1093015">&#34;foo&#34;</span><span class="op" id="1093020">,</span>&nbsp;<span class="string" id="1093022">&#34;foo&#34;</span><span class="op" id="1093027">,</span>&nbsp;<span class="num" id="1093029">0</span><span class="op" id="1093030">}</span><span class="op" id="1093031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093034">{</span><span class="string" id="1093035">&#34;oofofoofooo&#34;</span><span class="op" id="1093048">,</span>&nbsp;<span class="string" id="1093050">&#34;f&#34;</span><span class="op" id="1093053">,</span>&nbsp;<span class="num" id="1093055">2</span><span class="op" id="1093056">}</span><span class="op" id="1093057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093060">{</span><span class="string" id="1093061">&#34;oofofoofooo&#34;</span><span class="op" id="1093074">,</span>&nbsp;<span class="string" id="1093076">&#34;foo&#34;</span><span class="op" id="1093081">,</span>&nbsp;<span class="num" id="1093083">4</span><span class="op" id="1093084">}</span><span class="op" id="1093085">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093088">{</span><span class="string" id="1093089">&#34;barfoobarfoo&#34;</span><span class="op" id="1093103">,</span>&nbsp;<span class="string" id="1093105">&#34;foo&#34;</span><span class="op" id="1093110">,</span>&nbsp;<span class="num" id="1093112">3</span><span class="op" id="1093113">}</span><span class="op" id="1093114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093117">{</span><span class="string" id="1093118">&#34;foo&#34;</span><span class="op" id="1093123">,</span>&nbsp;<span class="string" id="1093125">&#34;&#34;</span><span class="op" id="1093127">,</span>&nbsp;<span class="num" id="1093129">0</span><span class="op" id="1093130">}</span><span class="op" id="1093131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093134">{</span><span class="string" id="1093135">&#34;foo&#34;</span><span class="op" id="1093140">,</span>&nbsp;<span class="string" id="1093142">&#34;o&#34;</span><span class="op" id="1093145">,</span>&nbsp;<span class="num" id="1093147">1</span><span class="op" id="1093148">}</span><span class="op" id="1093149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093152">{</span><span class="string" id="1093153">&#34;abcABCabc&#34;</span><span class="op" id="1093164">,</span>&nbsp;<span class="string" id="1093166">&#34;A&#34;</span><span class="op" id="1093169">,</span>&nbsp;<span class="num" id="1093171">3</span><span class="op" id="1093172">}</span><span class="op" id="1093173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1093176">//&nbsp;cases&nbsp;with&nbsp;one&nbsp;byte&nbsp;strings&nbsp;-&nbsp;test&nbsp;special&nbsp;case&nbsp;in&nbsp;Index()</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093239">{</span><span class="string" id="1093240">&#34;&#34;</span><span class="op" id="1093242">,</span>&nbsp;<span class="string" id="1093244">&#34;a&#34;</span><span class="op" id="1093247">,</span>&nbsp;<span class="op" id="1093249">-</span><span class="num" id="1093250">1</span><span class="op" id="1093251">}</span><span class="op" id="1093252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093255">{</span><span class="string" id="1093256">&#34;x&#34;</span><span class="op" id="1093259">,</span>&nbsp;<span class="string" id="1093261">&#34;a&#34;</span><span class="op" id="1093264">,</span>&nbsp;<span class="op" id="1093266">-</span><span class="num" id="1093267">1</span><span class="op" id="1093268">}</span><span class="op" id="1093269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093272">{</span><span class="string" id="1093273">&#34;x&#34;</span><span class="op" id="1093276">,</span>&nbsp;<span class="string" id="1093278">&#34;x&#34;</span><span class="op" id="1093281">,</span>&nbsp;<span class="num" id="1093283">0</span><span class="op" id="1093284">}</span><span class="op" id="1093285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093288">{</span><span class="string" id="1093289">&#34;abc&#34;</span><span class="op" id="1093294">,</span>&nbsp;<span class="string" id="1093296">&#34;a&#34;</span><span class="op" id="1093299">,</span>&nbsp;<span class="num" id="1093301">0</span><span class="op" id="1093302">}</span><span class="op" id="1093303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093306">{</span><span class="string" id="1093307">&#34;abc&#34;</span><span class="op" id="1093312">,</span>&nbsp;<span class="string" id="1093314">&#34;b&#34;</span><span class="op" id="1093317">,</span>&nbsp;<span class="num" id="1093319">1</span><span class="op" id="1093320">}</span><span class="op" id="1093321">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093324">{</span><span class="string" id="1093325">&#34;abc&#34;</span><span class="op" id="1093330">,</span>&nbsp;<span class="string" id="1093332">&#34;c&#34;</span><span class="op" id="1093335">,</span>&nbsp;<span class="num" id="1093337">2</span><span class="op" id="1093338">}</span><span class="op" id="1093339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093342">{</span><span class="string" id="1093343">&#34;abc&#34;</span><span class="op" id="1093348">,</span>&nbsp;<span class="string" id="1093350">&#34;x&#34;</span><span class="op" id="1093353">,</span>&nbsp;<span class="op" id="1093355">-</span><span class="num" id="1093356">1</span><span class="op" id="1093357">}</span><span class="op" id="1093358">,</span><br>
<span class="lineno"></span><span class="op" id="1093360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1093363">var</span>&nbsp;<span class="ident" id="1093367">lastIndexTests</span>&nbsp;<span class="op" id="1093382">=</span>&nbsp;<span class="op" id="1093384">[</span><span class="op" id="1093385">]</span><span class="ident" id="1093386">IndexTest</span><span class="op" id="1093395">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093398">{</span><span class="string" id="1093399">&#34;&#34;</span><span class="op" id="1093401">,</span>&nbsp;<span class="string" id="1093403">&#34;&#34;</span><span class="op" id="1093405">,</span>&nbsp;<span class="num" id="1093407">0</span><span class="op" id="1093408">}</span><span class="op" id="1093409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093412">{</span><span class="string" id="1093413">&#34;&#34;</span><span class="op" id="1093415">,</span>&nbsp;<span class="string" id="1093417">&#34;a&#34;</span><span class="op" id="1093420">,</span>&nbsp;<span class="op" id="1093422">-</span><span class="num" id="1093423">1</span><span class="op" id="1093424">}</span><span class="op" id="1093425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093428">{</span><span class="string" id="1093429">&#34;&#34;</span><span class="op" id="1093431">,</span>&nbsp;<span class="string" id="1093433">&#34;foo&#34;</span><span class="op" id="1093438">,</span>&nbsp;<span class="op" id="1093440">-</span><span class="num" id="1093441">1</span><span class="op" id="1093442">}</span><span class="op" id="1093443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093446">{</span><span class="string" id="1093447">&#34;fo&#34;</span><span class="op" id="1093451">,</span>&nbsp;<span class="string" id="1093453">&#34;foo&#34;</span><span class="op" id="1093458">,</span>&nbsp;<span class="op" id="1093460">-</span><span class="num" id="1093461">1</span><span class="op" id="1093462">}</span><span class="op" id="1093463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093466">{</span><span class="string" id="1093467">&#34;foo&#34;</span><span class="op" id="1093472">,</span>&nbsp;<span class="string" id="1093474">&#34;foo&#34;</span><span class="op" id="1093479">,</span>&nbsp;<span class="num" id="1093481">0</span><span class="op" id="1093482">}</span><span class="op" id="1093483">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093486">{</span><span class="string" id="1093487">&#34;foo&#34;</span><span class="op" id="1093492">,</span>&nbsp;<span class="string" id="1093494">&#34;f&#34;</span><span class="op" id="1093497">,</span>&nbsp;<span class="num" id="1093499">0</span><span class="op" id="1093500">}</span><span class="op" id="1093501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093504">{</span><span class="string" id="1093505">&#34;oofofoofooo&#34;</span><span class="op" id="1093518">,</span>&nbsp;<span class="string" id="1093520">&#34;f&#34;</span><span class="op" id="1093523">,</span>&nbsp;<span class="num" id="1093525">7</span><span class="op" id="1093526">}</span><span class="op" id="1093527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093530">{</span><span class="string" id="1093531">&#34;oofofoofooo&#34;</span><span class="op" id="1093544">,</span>&nbsp;<span class="string" id="1093546">&#34;foo&#34;</span><span class="op" id="1093551">,</span>&nbsp;<span class="num" id="1093553">7</span><span class="op" id="1093554">}</span><span class="op" id="1093555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093558">{</span><span class="string" id="1093559">&#34;barfoobarfoo&#34;</span><span class="op" id="1093573">,</span>&nbsp;<span class="string" id="1093575">&#34;foo&#34;</span><span class="op" id="1093580">,</span>&nbsp;<span class="num" id="1093582">9</span><span class="op" id="1093583">}</span><span class="op" id="1093584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093587">{</span><span class="string" id="1093588">&#34;foo&#34;</span><span class="op" id="1093593">,</span>&nbsp;<span class="string" id="1093595">&#34;&#34;</span><span class="op" id="1093597">,</span>&nbsp;<span class="num" id="1093599">3</span><span class="op" id="1093600">}</span><span class="op" id="1093601">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093604">{</span><span class="string" id="1093605">&#34;foo&#34;</span><span class="op" id="1093610">,</span>&nbsp;<span class="string" id="1093612">&#34;o&#34;</span><span class="op" id="1093615">,</span>&nbsp;<span class="num" id="1093617">2</span><span class="op" id="1093618">}</span><span class="op" id="1093619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093622">{</span><span class="string" id="1093623">&#34;abcABCabc&#34;</span><span class="op" id="1093634">,</span>&nbsp;<span class="string" id="1093636">&#34;A&#34;</span><span class="op" id="1093639">,</span>&nbsp;<span class="num" id="1093641">3</span><span class="op" id="1093642">}</span><span class="op" id="1093643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093646">{</span><span class="string" id="1093647">&#34;abcABCabc&#34;</span><span class="op" id="1093658">,</span>&nbsp;<span class="string" id="1093660">&#34;a&#34;</span><span class="op" id="1093663">,</span>&nbsp;<span class="num" id="1093665">6</span><span class="op" id="1093666">}</span><span class="op" id="1093667">,</span><br>
<span class="lineno"></span><span class="op" id="1093669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="1093672">var</span>&nbsp;<span class="ident" id="1093676">indexAnyTests</span>&nbsp;<span class="op" id="1093690">=</span>&nbsp;<span class="op" id="1093692">[</span><span class="op" id="1093693">]</span><span class="ident" id="1093694">IndexTest</span><span class="op" id="1093703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093706">{</span><span class="string" id="1093707">&#34;&#34;</span><span class="op" id="1093709">,</span>&nbsp;<span class="string" id="1093711">&#34;&#34;</span><span class="op" id="1093713">,</span>&nbsp;<span class="op" id="1093715">-</span><span class="num" id="1093716">1</span><span class="op" id="1093717">}</span><span class="op" id="1093718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093721">{</span><span class="string" id="1093722">&#34;&#34;</span><span class="op" id="1093724">,</span>&nbsp;<span class="string" id="1093726">&#34;a&#34;</span><span class="op" id="1093729">,</span>&nbsp;<span class="op" id="1093731">-</span><span class="num" id="1093732">1</span><span class="op" id="1093733">}</span><span class="op" id="1093734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093737">{</span><span class="string" id="1093738">&#34;&#34;</span><span class="op" id="1093740">,</span>&nbsp;<span class="string" id="1093742">&#34;abc&#34;</span><span class="op" id="1093747">,</span>&nbsp;<span class="op" id="1093749">-</span><span class="num" id="1093750">1</span><span class="op" id="1093751">}</span><span class="op" id="1093752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093755">{</span><span class="string" id="1093756">&#34;a&#34;</span><span class="op" id="1093759">,</span>&nbsp;<span class="string" id="1093761">&#34;&#34;</span><span class="op" id="1093763">,</span>&nbsp;<span class="op" id="1093765">-</span><span class="num" id="1093766">1</span><span class="op" id="1093767">}</span><span class="op" id="1093768">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093771">{</span><span class="string" id="1093772">&#34;a&#34;</span><span class="op" id="1093775">,</span>&nbsp;<span class="string" id="1093777">&#34;a&#34;</span><span class="op" id="1093780">,</span>&nbsp;<span class="num" id="1093782">0</span><span class="op" id="1093783">}</span><span class="op" id="1093784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093787">{</span><span class="string" id="1093788">&#34;aaa&#34;</span><span class="op" id="1093793">,</span>&nbsp;<span class="string" id="1093795">&#34;a&#34;</span><span class="op" id="1093798">,</span>&nbsp;<span class="num" id="1093800">0</span><span class="op" id="1093801">}</span><span class="op" id="1093802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093805">{</span><span class="string" id="1093806">&#34;abc&#34;</span><span class="op" id="1093811">,</span>&nbsp;<span class="string" id="1093813">&#34;xyz&#34;</span><span class="op" id="1093818">,</span>&nbsp;<span class="op" id="1093820">-</span><span class="num" id="1093821">1</span><span class="op" id="1093822">}</span><span class="op" id="1093823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093826">{</span><span class="string" id="1093827">&#34;abc&#34;</span><span class="op" id="1093832">,</span>&nbsp;<span class="string" id="1093834">&#34;xcz&#34;</span><span class="op" id="1093839">,</span>&nbsp;<span class="num" id="1093841">2</span><span class="op" id="1093842">}</span><span class="op" id="1093843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093846">{</span><span class="string" id="1093847">&#34;a☺b☻c☹d&#34;</span><span class="op" id="1093862">,</span>&nbsp;<span class="string" id="1093864">&#34;uvw☻xyz&#34;</span><span class="op" id="1093875">,</span>&nbsp;<span class="num" id="1093877">2</span>&nbsp;<span class="op" id="1093879">+</span>&nbsp;<span class="builtinfunc" id="1093881">len</span><span class="op" id="1093884">(</span><span class="string" id="1093885">&#34;☺&#34;</span><span class="op" id="1093890">)</span><span class="op" id="1093891">}</span><span class="op" id="1093892">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093895">{</span><span class="string" id="1093896">&#34;aRegExp*&#34;</span><span class="op" id="1093906">,</span>&nbsp;<span class="string" id="1093908">&#34;.(|)*+?^$[]&#34;</span><span class="op" id="1093921">,</span>&nbsp;<span class="num" id="1093923">7</span><span class="op" id="1093924">}</span><span class="op" id="1093925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093928">{</span><span class="ident" id="1093929">dots</span>&nbsp;<span class="op" id="1093934">+</span>&nbsp;<span class="ident" id="1093936">dots</span>&nbsp;<span class="op" id="1093941">+</span>&nbsp;<span class="ident" id="1093943">dots</span><span class="op" id="1093947">,</span>&nbsp;<span class="string" id="1093949">&#34;&nbsp;&#34;</span><span class="op" id="1093952">,</span>&nbsp;<span class="op" id="1093954">-</span><span class="num" id="1093955">1</span><span class="op" id="1093956">}</span><span class="op" id="1093957">,</span><br>
<span class="lineno"></span><span class="op" id="1093959">}</span><br>
<span class="lineno"></span><span class="keyword" id="1093961">var</span>&nbsp;<span class="ident" id="1093965">lastIndexAnyTests</span>&nbsp;<span class="op" id="1093983">=</span>&nbsp;<span class="op" id="1093985">[</span><span class="op" id="1093986">]</span><span class="ident" id="1093987">IndexTest</span><span class="op" id="1093996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1093999">{</span><span class="string" id="1094000">&#34;&#34;</span><span class="op" id="1094002">,</span>&nbsp;<span class="string" id="1094004">&#34;&#34;</span><span class="op" id="1094006">,</span>&nbsp;<span class="op" id="1094008">-</span><span class="num" id="1094009">1</span><span class="op" id="1094010">}</span><span class="op" id="1094011">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094014">{</span><span class="string" id="1094015">&#34;&#34;</span><span class="op" id="1094017">,</span>&nbsp;<span class="string" id="1094019">&#34;a&#34;</span><span class="op" id="1094022">,</span>&nbsp;<span class="op" id="1094024">-</span><span class="num" id="1094025">1</span><span class="op" id="1094026">}</span><span class="op" id="1094027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094030">{</span><span class="string" id="1094031">&#34;&#34;</span><span class="op" id="1094033">,</span>&nbsp;<span class="string" id="1094035">&#34;abc&#34;</span><span class="op" id="1094040">,</span>&nbsp;<span class="op" id="1094042">-</span><span class="num" id="1094043">1</span><span class="op" id="1094044">}</span><span class="op" id="1094045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094048">{</span><span class="string" id="1094049">&#34;a&#34;</span><span class="op" id="1094052">,</span>&nbsp;<span class="string" id="1094054">&#34;&#34;</span><span class="op" id="1094056">,</span>&nbsp;<span class="op" id="1094058">-</span><span class="num" id="1094059">1</span><span class="op" id="1094060">}</span><span class="op" id="1094061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094064">{</span><span class="string" id="1094065">&#34;a&#34;</span><span class="op" id="1094068">,</span>&nbsp;<span class="string" id="1094070">&#34;a&#34;</span><span class="op" id="1094073">,</span>&nbsp;<span class="num" id="1094075">0</span><span class="op" id="1094076">}</span><span class="op" id="1094077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094080">{</span><span class="string" id="1094081">&#34;aaa&#34;</span><span class="op" id="1094086">,</span>&nbsp;<span class="string" id="1094088">&#34;a&#34;</span><span class="op" id="1094091">,</span>&nbsp;<span class="num" id="1094093">2</span><span class="op" id="1094094">}</span><span class="op" id="1094095">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094098">{</span><span class="string" id="1094099">&#34;abc&#34;</span><span class="op" id="1094104">,</span>&nbsp;<span class="string" id="1094106">&#34;xyz&#34;</span><span class="op" id="1094111">,</span>&nbsp;<span class="op" id="1094113">-</span><span class="num" id="1094114">1</span><span class="op" id="1094115">}</span><span class="op" id="1094116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094119">{</span><span class="string" id="1094120">&#34;abc&#34;</span><span class="op" id="1094125">,</span>&nbsp;<span class="string" id="1094127">&#34;ab&#34;</span><span class="op" id="1094131">,</span>&nbsp;<span class="num" id="1094133">1</span><span class="op" id="1094134">}</span><span class="op" id="1094135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094138">{</span><span class="string" id="1094139">&#34;a☺b☻c☹d&#34;</span><span class="op" id="1094154">,</span>&nbsp;<span class="string" id="1094156">&#34;uvw☻xyz&#34;</span><span class="op" id="1094167">,</span>&nbsp;<span class="num" id="1094169">2</span>&nbsp;<span class="op" id="1094171">+</span>&nbsp;<span class="builtinfunc" id="1094173">len</span><span class="op" id="1094176">(</span><span class="string" id="1094177">&#34;☺&#34;</span><span class="op" id="1094182">)</span><span class="op" id="1094183">}</span><span class="op" id="1094184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094187">{</span><span class="string" id="1094188">&#34;a.RegExp*&#34;</span><span class="op" id="1094199">,</span>&nbsp;<span class="string" id="1094201">&#34;.(|)*+?^$[]&#34;</span><span class="op" id="1094214">,</span>&nbsp;<span class="num" id="1094216">8</span><span class="op" id="1094217">}</span><span class="op" id="1094218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094221">{</span><span class="ident" id="1094222">dots</span>&nbsp;<span class="op" id="1094227">+</span>&nbsp;<span class="ident" id="1094229">dots</span>&nbsp;<span class="op" id="1094234">+</span>&nbsp;<span class="ident" id="1094236">dots</span><span class="op" id="1094240">,</span>&nbsp;<span class="string" id="1094242">&#34;&nbsp;&#34;</span><span class="op" id="1094245">,</span>&nbsp;<span class="op" id="1094247">-</span><span class="num" id="1094248">1</span><span class="op" id="1094249">}</span><span class="op" id="1094250">,</span><br>
<span class="lineno">105</span><span class="op" id="1094252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1094255">//&nbsp;Execute&nbsp;f&nbsp;on&nbsp;each&nbsp;test&nbsp;case.&nbsp;&nbsp;funcName&nbsp;should&nbsp;be&nbsp;the&nbsp;name&nbsp;of&nbsp;f;&nbsp;it&#39;s&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="1094332">//&nbsp;in&nbsp;failure&nbsp;reports.</span><br>
<span class="lineno"></span><span class="keyword" id="1094355">func</span>&nbsp;<span class="ident" id="1094360">runIndexTests</span><span class="op" id="1094373">(</span><span class="ident" id="1094374">t</span>&nbsp;<span class="op" id="1094376">*</span><span class="ident" id="1094377">testing</span><span class="op" id="1094384">.</span><span class="ident" id="1094385">T</span><span class="op" id="1094386">,</span>&nbsp;<span class="ident" id="1094388">f</span>&nbsp;<span class="keyword" id="1094390">func</span><span class="op" id="1094394">(</span><span class="ident" id="1094395">s</span><span class="op" id="1094396">,</span>&nbsp;<span class="ident" id="1094398">sep</span>&nbsp;<span class="builtintype" id="1094402">string</span><span class="op" id="1094408">)</span>&nbsp;<span class="builtintype" id="1094410">int</span><span class="op" id="1094413">,</span>&nbsp;<span class="ident" id="1094415">funcName</span>&nbsp;<span class="builtintype" id="1094424">string</span><span class="op" id="1094430">,</span>&nbsp;<span class="ident" id="1094432">testCases</span>&nbsp;<span class="op" id="1094442">[</span><span class="op" id="1094443">]</span><span class="ident" id="1094444">IndexTest</span><span class="op" id="1094453">)</span>&nbsp;<span class="op" id="1094455">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1094458">for</span>&nbsp;<span class="ident" id="1094462">_</span><span class="op" id="1094463">,</span>&nbsp;<span class="ident" id="1094465">test</span>&nbsp;<span class="op" id="1094470">:=</span>&nbsp;<span class="keyword" id="1094473">range</span>&nbsp;<span class="ident" id="1094479">testCases</span>&nbsp;<span class="op" id="1094489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1094493">actual</span>&nbsp;<span class="op" id="1094500">:=</span>&nbsp;<span class="ident" id="1094503">f</span><span class="op" id="1094504">(</span><span class="ident" id="1094505">test</span><span class="op" id="1094509">.</span><span class="ident" id="1094510">s</span><span class="op" id="1094511">,</span>&nbsp;<span class="ident" id="1094513">test</span><span class="op" id="1094517">.</span><span class="ident" id="1094518">sep</span><span class="op" id="1094521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1094525">if</span>&nbsp;<span class="ident" id="1094528">actual</span>&nbsp;<span class="op" id="1094535">!=</span>&nbsp;<span class="ident" id="1094538">test</span><span class="op" id="1094542">.</span><span class="ident" id="1094543">out</span>&nbsp;<span class="op" id="1094547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1094552">t</span><span class="op" id="1094553">.</span><span class="ident" id="1094554">Errorf</span><span class="op" id="1094560">(</span><span class="string" id="1094561">&#34;%s(%q,%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1094586">,</span>&nbsp;<span class="ident" id="1094588">funcName</span><span class="op" id="1094596">,</span>&nbsp;<span class="ident" id="1094598">test</span><span class="op" id="1094602">.</span><span class="ident" id="1094603">s</span><span class="op" id="1094604">,</span>&nbsp;<span class="ident" id="1094606">test</span><span class="op" id="1094610">.</span><span class="ident" id="1094611">sep</span><span class="op" id="1094614">,</span>&nbsp;<span class="ident" id="1094616">actual</span><span class="op" id="1094622">,</span>&nbsp;<span class="ident" id="1094624">test</span><span class="op" id="1094628">.</span><span class="ident" id="1094629">out</span><span class="op" id="1094632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094636">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094639">}</span><br>
<span class="lineno"></span><span class="op" id="1094641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1094644">func</span>&nbsp;<span class="ident" id="1094649">TestIndex</span><span class="op" id="1094658">(</span><span class="ident" id="1094659">t</span>&nbsp;<span class="op" id="1094661">*</span><span class="ident" id="1094662">testing</span><span class="op" id="1094669">.</span><span class="ident" id="1094670">T</span><span class="op" id="1094671">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094680">{</span>&nbsp;<span class="ident" id="1094682">runIndexTests</span><span class="op" id="1094695">(</span><span class="ident" id="1094696">t</span><span class="op" id="1094697">,</span>&nbsp;<span class="ident" id="1094699">Index</span><span class="op" id="1094704">,</span>&nbsp;<span class="string" id="1094706">&#34;Index&#34;</span><span class="op" id="1094713">,</span>&nbsp;<span class="ident" id="1094715">indexTests</span><span class="op" id="1094725">)</span>&nbsp;<span class="op" id="1094727">}</span><br>
<span class="lineno"></span><span class="keyword" id="1094729">func</span>&nbsp;<span class="ident" id="1094734">TestLastIndex</span><span class="op" id="1094747">(</span><span class="ident" id="1094748">t</span>&nbsp;<span class="op" id="1094750">*</span><span class="ident" id="1094751">testing</span><span class="op" id="1094758">.</span><span class="ident" id="1094759">T</span><span class="op" id="1094760">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094765">{</span>&nbsp;<span class="ident" id="1094767">runIndexTests</span><span class="op" id="1094780">(</span><span class="ident" id="1094781">t</span><span class="op" id="1094782">,</span>&nbsp;<span class="ident" id="1094784">LastIndex</span><span class="op" id="1094793">,</span>&nbsp;<span class="string" id="1094795">&#34;LastIndex&#34;</span><span class="op" id="1094806">,</span>&nbsp;<span class="ident" id="1094808">lastIndexTests</span><span class="op" id="1094822">)</span>&nbsp;<span class="op" id="1094824">}</span><br>
<span class="lineno">120</span><span class="keyword" id="1094826">func</span>&nbsp;<span class="ident" id="1094831">TestIndexAny</span><span class="op" id="1094843">(</span><span class="ident" id="1094844">t</span>&nbsp;<span class="op" id="1094846">*</span><span class="ident" id="1094847">testing</span><span class="op" id="1094854">.</span><span class="ident" id="1094855">T</span><span class="op" id="1094856">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1094862">{</span>&nbsp;<span class="ident" id="1094864">runIndexTests</span><span class="op" id="1094877">(</span><span class="ident" id="1094878">t</span><span class="op" id="1094879">,</span>&nbsp;<span class="ident" id="1094881">IndexAny</span><span class="op" id="1094889">,</span>&nbsp;<span class="string" id="1094891">&#34;IndexAny&#34;</span><span class="op" id="1094901">,</span>&nbsp;<span class="ident" id="1094903">indexAnyTests</span><span class="op" id="1094916">)</span>&nbsp;<span class="op" id="1094918">}</span><br>
<span class="lineno"></span><span class="keyword" id="1094920">func</span>&nbsp;<span class="ident" id="1094925">TestLastIndexAny</span><span class="op" id="1094941">(</span><span class="ident" id="1094942">t</span>&nbsp;<span class="op" id="1094944">*</span><span class="ident" id="1094945">testing</span><span class="op" id="1094952">.</span><span class="ident" id="1094953">T</span><span class="op" id="1094954">)</span>&nbsp;<span class="op" id="1094956">{</span>&nbsp;<span class="ident" id="1094958">runIndexTests</span><span class="op" id="1094971">(</span><span class="ident" id="1094972">t</span><span class="op" id="1094973">,</span>&nbsp;<span class="ident" id="1094975">LastIndexAny</span><span class="op" id="1094987">,</span>&nbsp;<span class="string" id="1094989">&#34;LastIndexAny&#34;</span><span class="op" id="1095003">,</span>&nbsp;<span class="ident" id="1095005">lastIndexAnyTests</span><span class="op" id="1095022">)</span>&nbsp;<span class="op" id="1095024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095027">var</span>&nbsp;<span class="ident" id="1095031">indexRuneTests</span>&nbsp;<span class="op" id="1095046">=</span>&nbsp;<span class="op" id="1095048">[</span><span class="op" id="1095049">]</span><span class="keyword" id="1095050">struct</span>&nbsp;<span class="op" id="1095057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095060">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1095065">string</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1095073">rune</span>&nbsp;<span class="builtintype" id="1095078">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095084">out</span>&nbsp;&nbsp;<span class="builtintype" id="1095089">int</span><br>
<span class="lineno"></span><span class="op" id="1095093">}</span><span class="op" id="1095094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095097">{</span><span class="string" id="1095098">&#34;a&nbsp;A&nbsp;x&#34;</span><span class="op" id="1095105">,</span>&nbsp;<span class="string" id="1095107">&#39;A&#39;</span><span class="op" id="1095110">,</span>&nbsp;<span class="num" id="1095112">2</span><span class="op" id="1095113">}</span><span class="op" id="1095114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095117">{</span><span class="string" id="1095118">&#34;some_text=some_value&#34;</span><span class="op" id="1095140">,</span>&nbsp;<span class="string" id="1095142">&#39;=&#39;</span><span class="op" id="1095145">,</span>&nbsp;<span class="num" id="1095147">9</span><span class="op" id="1095148">}</span><span class="op" id="1095149">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095152">{</span><span class="string" id="1095153">&#34;☺a&#34;</span><span class="op" id="1095159">,</span>&nbsp;<span class="string" id="1095161">&#39;a&#39;</span><span class="op" id="1095164">,</span>&nbsp;<span class="num" id="1095166">3</span><span class="op" id="1095167">}</span><span class="op" id="1095168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095171">{</span><span class="string" id="1095172">&#34;a☻☺b&#34;</span><span class="op" id="1095182">,</span>&nbsp;<span class="string" id="1095184">&#39;☺&#39;</span><span class="op" id="1095189">,</span>&nbsp;<span class="num" id="1095191">4</span><span class="op" id="1095192">}</span><span class="op" id="1095193">,</span><br>
<span class="lineno"></span><span class="op" id="1095195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095198">func</span>&nbsp;<span class="ident" id="1095203">TestIndexRune</span><span class="op" id="1095216">(</span><span class="ident" id="1095217">t</span>&nbsp;<span class="op" id="1095219">*</span><span class="ident" id="1095220">testing</span><span class="op" id="1095227">.</span><span class="ident" id="1095228">T</span><span class="op" id="1095229">)</span>&nbsp;<span class="op" id="1095231">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095234">for</span>&nbsp;<span class="ident" id="1095238">_</span><span class="op" id="1095239">,</span>&nbsp;<span class="ident" id="1095241">test</span>&nbsp;<span class="op" id="1095246">:=</span>&nbsp;<span class="keyword" id="1095249">range</span>&nbsp;<span class="ident" id="1095255">indexRuneTests</span>&nbsp;<span class="op" id="1095270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095274">if</span>&nbsp;<span class="ident" id="1095277">actual</span>&nbsp;<span class="op" id="1095284">:=</span>&nbsp;<span class="ident" id="1095287">IndexRune</span><span class="op" id="1095296">(</span><span class="ident" id="1095297">test</span><span class="op" id="1095301">.</span><span class="ident" id="1095302">s</span><span class="op" id="1095303">,</span>&nbsp;<span class="ident" id="1095305">test</span><span class="op" id="1095309">.</span><span class="builtintype" id="1095310">rune</span><span class="op" id="1095314">)</span><span class="op" id="1095315">;</span>&nbsp;<span class="ident" id="1095317">actual</span>&nbsp;<span class="op" id="1095324">!=</span>&nbsp;<span class="ident" id="1095327">test</span><span class="op" id="1095331">.</span><span class="ident" id="1095332">out</span>&nbsp;<span class="op" id="1095336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095341">t</span><span class="op" id="1095342">.</span><span class="ident" id="1095343">Errorf</span><span class="op" id="1095349">(</span><span class="string" id="1095350">&#34;IndexRune(%q,%d)=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1095381">,</span>&nbsp;<span class="ident" id="1095383">test</span><span class="op" id="1095387">.</span><span class="ident" id="1095388">s</span><span class="op" id="1095389">,</span>&nbsp;<span class="ident" id="1095391">test</span><span class="op" id="1095395">.</span><span class="builtintype" id="1095396">rune</span><span class="op" id="1095400">,</span>&nbsp;<span class="ident" id="1095402">actual</span><span class="op" id="1095408">,</span>&nbsp;<span class="ident" id="1095410">test</span><span class="op" id="1095414">.</span><span class="ident" id="1095415">out</span><span class="op" id="1095418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095425">}</span><br>
<span class="lineno">140</span><span class="op" id="1095427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095430">const</span>&nbsp;<span class="ident" id="1095436">benchmarkString</span>&nbsp;<span class="op" id="1095452">=</span>&nbsp;<span class="string" id="1095454">&#34;some_text=some☺value&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095480">func</span>&nbsp;<span class="ident" id="1095485">BenchmarkIndexRune</span><span class="op" id="1095503">(</span><span class="ident" id="1095504">b</span>&nbsp;<span class="op" id="1095506">*</span><span class="ident" id="1095507">testing</span><span class="op" id="1095514">.</span><span class="ident" id="1095515">B</span><span class="op" id="1095516">)</span>&nbsp;<span class="op" id="1095518">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095521">if</span>&nbsp;<span class="ident" id="1095524">got</span>&nbsp;<span class="op" id="1095528">:=</span>&nbsp;<span class="ident" id="1095531">IndexRune</span><span class="op" id="1095540">(</span><span class="ident" id="1095541">benchmarkString</span><span class="op" id="1095556">,</span>&nbsp;<span class="string" id="1095558">&#39;☺&#39;</span><span class="op" id="1095563">)</span><span class="op" id="1095564">;</span>&nbsp;<span class="ident" id="1095566">got</span>&nbsp;<span class="op" id="1095570">!=</span>&nbsp;<span class="num" id="1095573">14</span>&nbsp;<span class="op" id="1095576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095580">b</span><span class="op" id="1095581">.</span><span class="ident" id="1095582">Fatalf</span><span class="op" id="1095588">(</span><span class="string" id="1095589">&#34;wrong&nbsp;index:&nbsp;expected&nbsp;14,&nbsp;got=%d&#34;</span><span class="op" id="1095623">,</span>&nbsp;<span class="ident" id="1095625">got</span><span class="op" id="1095628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095634">for</span>&nbsp;<span class="ident" id="1095638">i</span>&nbsp;<span class="op" id="1095640">:=</span>&nbsp;<span class="num" id="1095643">0</span><span class="op" id="1095644">;</span>&nbsp;<span class="ident" id="1095646">i</span>&nbsp;<span class="op" id="1095648">&lt;</span>&nbsp;<span class="ident" id="1095650">b</span><span class="op" id="1095651">.</span><span class="ident" id="1095652">N</span><span class="op" id="1095653">;</span>&nbsp;<span class="ident" id="1095655">i</span><span class="op" id="1095656">++</span>&nbsp;<span class="op" id="1095659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095663">IndexRune</span><span class="op" id="1095672">(</span><span class="ident" id="1095673">benchmarkString</span><span class="op" id="1095688">,</span>&nbsp;<span class="string" id="1095690">&#39;☺&#39;</span><span class="op" id="1095695">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095698">}</span><br>
<span class="lineno"></span><span class="op" id="1095700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095703">func</span>&nbsp;<span class="ident" id="1095708">BenchmarkIndexRuneFastPath</span><span class="op" id="1095734">(</span><span class="ident" id="1095735">b</span>&nbsp;<span class="op" id="1095737">*</span><span class="ident" id="1095738">testing</span><span class="op" id="1095745">.</span><span class="ident" id="1095746">B</span><span class="op" id="1095747">)</span>&nbsp;<span class="op" id="1095749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095752">if</span>&nbsp;<span class="ident" id="1095755">got</span>&nbsp;<span class="op" id="1095759">:=</span>&nbsp;<span class="ident" id="1095762">IndexRune</span><span class="op" id="1095771">(</span><span class="ident" id="1095772">benchmarkString</span><span class="op" id="1095787">,</span>&nbsp;<span class="string" id="1095789">&#39;v&#39;</span><span class="op" id="1095792">)</span><span class="op" id="1095793">;</span>&nbsp;<span class="ident" id="1095795">got</span>&nbsp;<span class="op" id="1095799">!=</span>&nbsp;<span class="num" id="1095802">17</span>&nbsp;<span class="op" id="1095805">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095809">b</span><span class="op" id="1095810">.</span><span class="ident" id="1095811">Fatalf</span><span class="op" id="1095817">(</span><span class="string" id="1095818">&#34;wrong&nbsp;index:&nbsp;expected&nbsp;17,&nbsp;got=%d&#34;</span><span class="op" id="1095852">,</span>&nbsp;<span class="ident" id="1095854">got</span><span class="op" id="1095857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095863">for</span>&nbsp;<span class="ident" id="1095867">i</span>&nbsp;<span class="op" id="1095869">:=</span>&nbsp;<span class="num" id="1095872">0</span><span class="op" id="1095873">;</span>&nbsp;<span class="ident" id="1095875">i</span>&nbsp;<span class="op" id="1095877">&lt;</span>&nbsp;<span class="ident" id="1095879">b</span><span class="op" id="1095880">.</span><span class="ident" id="1095881">N</span><span class="op" id="1095882">;</span>&nbsp;<span class="ident" id="1095884">i</span><span class="op" id="1095885">++</span>&nbsp;<span class="op" id="1095888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1095892">IndexRune</span><span class="op" id="1095901">(</span><span class="ident" id="1095902">benchmarkString</span><span class="op" id="1095917">,</span>&nbsp;<span class="string" id="1095919">&#39;v&#39;</span><span class="op" id="1095922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1095925">}</span><br>
<span class="lineno">160</span><span class="op" id="1095927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1095930">func</span>&nbsp;<span class="ident" id="1095935">BenchmarkIndex</span><span class="op" id="1095949">(</span><span class="ident" id="1095950">b</span>&nbsp;<span class="op" id="1095952">*</span><span class="ident" id="1095953">testing</span><span class="op" id="1095960">.</span><span class="ident" id="1095961">B</span><span class="op" id="1095962">)</span>&nbsp;<span class="op" id="1095964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1095967">if</span>&nbsp;<span class="ident" id="1095970">got</span>&nbsp;<span class="op" id="1095974">:=</span>&nbsp;<span class="ident" id="1095977">Index</span><span class="op" id="1095982">(</span><span class="ident" id="1095983">benchmarkString</span><span class="op" id="1095998">,</span>&nbsp;<span class="string" id="1096000">&#34;v&#34;</span><span class="op" id="1096003">)</span><span class="op" id="1096004">;</span>&nbsp;<span class="ident" id="1096006">got</span>&nbsp;<span class="op" id="1096010">!=</span>&nbsp;<span class="num" id="1096013">17</span>&nbsp;<span class="op" id="1096016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096020">b</span><span class="op" id="1096021">.</span><span class="ident" id="1096022">Fatalf</span><span class="op" id="1096028">(</span><span class="string" id="1096029">&#34;wrong&nbsp;index:&nbsp;expected&nbsp;17,&nbsp;got=%d&#34;</span><span class="op" id="1096063">,</span>&nbsp;<span class="ident" id="1096065">got</span><span class="op" id="1096068">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096074">for</span>&nbsp;<span class="ident" id="1096078">i</span>&nbsp;<span class="op" id="1096080">:=</span>&nbsp;<span class="num" id="1096083">0</span><span class="op" id="1096084">;</span>&nbsp;<span class="ident" id="1096086">i</span>&nbsp;<span class="op" id="1096088">&lt;</span>&nbsp;<span class="ident" id="1096090">b</span><span class="op" id="1096091">.</span><span class="ident" id="1096092">N</span><span class="op" id="1096093">;</span>&nbsp;<span class="ident" id="1096095">i</span><span class="op" id="1096096">++</span>&nbsp;<span class="op" id="1096099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096103">Index</span><span class="op" id="1096108">(</span><span class="ident" id="1096109">benchmarkString</span><span class="op" id="1096124">,</span>&nbsp;<span class="string" id="1096126">&#34;v&#34;</span><span class="op" id="1096129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096132">}</span><br>
<span class="lineno"></span><span class="op" id="1096134">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="1096137">func</span>&nbsp;<span class="ident" id="1096142">BenchmarkLastIndex</span><span class="op" id="1096160">(</span><span class="ident" id="1096161">b</span>&nbsp;<span class="op" id="1096163">*</span><span class="ident" id="1096164">testing</span><span class="op" id="1096171">.</span><span class="ident" id="1096172">B</span><span class="op" id="1096173">)</span>&nbsp;<span class="op" id="1096175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096178">if</span>&nbsp;<span class="ident" id="1096181">got</span>&nbsp;<span class="op" id="1096185">:=</span>&nbsp;<span class="ident" id="1096188">Index</span><span class="op" id="1096193">(</span><span class="ident" id="1096194">benchmarkString</span><span class="op" id="1096209">,</span>&nbsp;<span class="string" id="1096211">&#34;v&#34;</span><span class="op" id="1096214">)</span><span class="op" id="1096215">;</span>&nbsp;<span class="ident" id="1096217">got</span>&nbsp;<span class="op" id="1096221">!=</span>&nbsp;<span class="num" id="1096224">17</span>&nbsp;<span class="op" id="1096227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096231">b</span><span class="op" id="1096232">.</span><span class="ident" id="1096233">Fatalf</span><span class="op" id="1096239">(</span><span class="string" id="1096240">&#34;wrong&nbsp;index:&nbsp;expected&nbsp;17,&nbsp;got=%d&#34;</span><span class="op" id="1096274">,</span>&nbsp;<span class="ident" id="1096276">got</span><span class="op" id="1096279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096282">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096285">for</span>&nbsp;<span class="ident" id="1096289">i</span>&nbsp;<span class="op" id="1096291">:=</span>&nbsp;<span class="num" id="1096294">0</span><span class="op" id="1096295">;</span>&nbsp;<span class="ident" id="1096297">i</span>&nbsp;<span class="op" id="1096299">&lt;</span>&nbsp;<span class="ident" id="1096301">b</span><span class="op" id="1096302">.</span><span class="ident" id="1096303">N</span><span class="op" id="1096304">;</span>&nbsp;<span class="ident" id="1096306">i</span><span class="op" id="1096307">++</span>&nbsp;<span class="op" id="1096310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096314">LastIndex</span><span class="op" id="1096323">(</span><span class="ident" id="1096324">benchmarkString</span><span class="op" id="1096339">,</span>&nbsp;<span class="string" id="1096341">&#34;v&#34;</span><span class="op" id="1096344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096347">}</span><br>
<span class="lineno"></span><span class="op" id="1096349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="1096352">func</span>&nbsp;<span class="ident" id="1096357">BenchmarkIndexByte</span><span class="op" id="1096375">(</span><span class="ident" id="1096376">b</span>&nbsp;<span class="op" id="1096378">*</span><span class="ident" id="1096379">testing</span><span class="op" id="1096386">.</span><span class="ident" id="1096387">B</span><span class="op" id="1096388">)</span>&nbsp;<span class="op" id="1096390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096393">if</span>&nbsp;<span class="ident" id="1096396">got</span>&nbsp;<span class="op" id="1096400">:=</span>&nbsp;<span class="ident" id="1096403">IndexByte</span><span class="op" id="1096412">(</span><span class="ident" id="1096413">benchmarkString</span><span class="op" id="1096428">,</span>&nbsp;<span class="string" id="1096430">&#39;v&#39;</span><span class="op" id="1096433">)</span><span class="op" id="1096434">;</span>&nbsp;<span class="ident" id="1096436">got</span>&nbsp;<span class="op" id="1096440">!=</span>&nbsp;<span class="num" id="1096443">17</span>&nbsp;<span class="op" id="1096446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096450">b</span><span class="op" id="1096451">.</span><span class="ident" id="1096452">Fatalf</span><span class="op" id="1096458">(</span><span class="string" id="1096459">&#34;wrong&nbsp;index:&nbsp;expected&nbsp;17,&nbsp;got=%d&#34;</span><span class="op" id="1096493">,</span>&nbsp;<span class="ident" id="1096495">got</span><span class="op" id="1096498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096504">for</span>&nbsp;<span class="ident" id="1096508">i</span>&nbsp;<span class="op" id="1096510">:=</span>&nbsp;<span class="num" id="1096513">0</span><span class="op" id="1096514">;</span>&nbsp;<span class="ident" id="1096516">i</span>&nbsp;<span class="op" id="1096518">&lt;</span>&nbsp;<span class="ident" id="1096520">b</span><span class="op" id="1096521">.</span><span class="ident" id="1096522">N</span><span class="op" id="1096523">;</span>&nbsp;<span class="ident" id="1096525">i</span><span class="op" id="1096526">++</span>&nbsp;<span class="op" id="1096529">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096533">IndexByte</span><span class="op" id="1096542">(</span><span class="ident" id="1096543">benchmarkString</span><span class="op" id="1096558">,</span>&nbsp;<span class="string" id="1096560">&#39;v&#39;</span><span class="op" id="1096563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096566">}</span><br>
<span class="lineno"></span><span class="op" id="1096568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1096571">var</span>&nbsp;<span class="ident" id="1096575">explodetests</span>&nbsp;<span class="op" id="1096588">=</span>&nbsp;<span class="op" id="1096590">[</span><span class="op" id="1096591">]</span><span class="keyword" id="1096592">struct</span>&nbsp;<span class="op" id="1096599">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096602">s</span>&nbsp;<span class="builtintype" id="1096604">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096612">n</span>&nbsp;<span class="builtintype" id="1096614">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096619">a</span>&nbsp;<span class="op" id="1096621">[</span><span class="op" id="1096622">]</span><span class="builtintype" id="1096623">string</span><br>
<span class="lineno"></span><span class="op" id="1096630">}</span><span class="op" id="1096631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096634">{</span><span class="string" id="1096635">&#34;&#34;</span><span class="op" id="1096637">,</span>&nbsp;<span class="op" id="1096639">-</span><span class="num" id="1096640">1</span><span class="op" id="1096641">,</span>&nbsp;<span class="op" id="1096643">[</span><span class="op" id="1096644">]</span><span class="builtintype" id="1096645">string</span><span class="op" id="1096651">{</span><span class="op" id="1096652">}</span><span class="op" id="1096653">}</span><span class="op" id="1096654">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096657">{</span><span class="ident" id="1096658">abcd</span><span class="op" id="1096662">,</span>&nbsp;<span class="num" id="1096664">4</span><span class="op" id="1096665">,</span>&nbsp;<span class="op" id="1096667">[</span><span class="op" id="1096668">]</span><span class="builtintype" id="1096669">string</span><span class="op" id="1096675">{</span><span class="string" id="1096676">&#34;a&#34;</span><span class="op" id="1096679">,</span>&nbsp;<span class="string" id="1096681">&#34;b&#34;</span><span class="op" id="1096684">,</span>&nbsp;<span class="string" id="1096686">&#34;c&#34;</span><span class="op" id="1096689">,</span>&nbsp;<span class="string" id="1096691">&#34;d&#34;</span><span class="op" id="1096694">}</span><span class="op" id="1096695">}</span><span class="op" id="1096696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096699">{</span><span class="ident" id="1096700">faces</span><span class="op" id="1096705">,</span>&nbsp;<span class="num" id="1096707">3</span><span class="op" id="1096708">,</span>&nbsp;<span class="op" id="1096710">[</span><span class="op" id="1096711">]</span><span class="builtintype" id="1096712">string</span><span class="op" id="1096718">{</span><span class="string" id="1096719">&#34;☺&#34;</span><span class="op" id="1096724">,</span>&nbsp;<span class="string" id="1096726">&#34;☻&#34;</span><span class="op" id="1096731">,</span>&nbsp;<span class="string" id="1096733">&#34;☹&#34;</span><span class="op" id="1096738">}</span><span class="op" id="1096739">}</span><span class="op" id="1096740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096743">{</span><span class="ident" id="1096744">abcd</span><span class="op" id="1096748">,</span>&nbsp;<span class="num" id="1096750">2</span><span class="op" id="1096751">,</span>&nbsp;<span class="op" id="1096753">[</span><span class="op" id="1096754">]</span><span class="builtintype" id="1096755">string</span><span class="op" id="1096761">{</span><span class="string" id="1096762">&#34;a&#34;</span><span class="op" id="1096765">,</span>&nbsp;<span class="string" id="1096767">&#34;bcd&#34;</span><span class="op" id="1096772">}</span><span class="op" id="1096773">}</span><span class="op" id="1096774">,</span><br>
<span class="lineno"></span><span class="op" id="1096776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="1096779">func</span>&nbsp;<span class="ident" id="1096784">TestExplode</span><span class="op" id="1096795">(</span><span class="ident" id="1096796">t</span>&nbsp;<span class="op" id="1096798">*</span><span class="ident" id="1096799">testing</span><span class="op" id="1096806">.</span><span class="ident" id="1096807">T</span><span class="op" id="1096808">)</span>&nbsp;<span class="op" id="1096810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096813">for</span>&nbsp;<span class="ident" id="1096817">_</span><span class="op" id="1096818">,</span>&nbsp;<span class="ident" id="1096820">tt</span>&nbsp;<span class="op" id="1096823">:=</span>&nbsp;<span class="keyword" id="1096826">range</span>&nbsp;<span class="ident" id="1096832">explodetests</span>&nbsp;<span class="op" id="1096845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096849">a</span>&nbsp;<span class="op" id="1096851">:=</span>&nbsp;<span class="ident" id="1096854">SplitN</span><span class="op" id="1096860">(</span><span class="ident" id="1096861">tt</span><span class="op" id="1096863">.</span><span class="ident" id="1096864">s</span><span class="op" id="1096865">,</span>&nbsp;<span class="string" id="1096867">&#34;&#34;</span><span class="op" id="1096869">,</span>&nbsp;<span class="ident" id="1096871">tt</span><span class="op" id="1096873">.</span><span class="ident" id="1096874">n</span><span class="op" id="1096875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096879">if</span>&nbsp;<span class="op" id="1096882">!</span><span class="ident" id="1096883">eq</span><span class="op" id="1096885">(</span><span class="ident" id="1096886">a</span><span class="op" id="1096887">,</span>&nbsp;<span class="ident" id="1096889">tt</span><span class="op" id="1096891">.</span><span class="ident" id="1096892">a</span><span class="op" id="1096893">)</span>&nbsp;<span class="op" id="1096895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096900">t</span><span class="op" id="1096901">.</span><span class="ident" id="1096902">Errorf</span><span class="op" id="1096908">(</span><span class="string" id="1096909">&#34;explode(%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1096940">,</span>&nbsp;<span class="ident" id="1096942">tt</span><span class="op" id="1096944">.</span><span class="ident" id="1096945">s</span><span class="op" id="1096946">,</span>&nbsp;<span class="ident" id="1096948">tt</span><span class="op" id="1096950">.</span><span class="ident" id="1096951">n</span><span class="op" id="1096952">,</span>&nbsp;<span class="ident" id="1096954">a</span><span class="op" id="1096955">,</span>&nbsp;<span class="ident" id="1096957">tt</span><span class="op" id="1096959">.</span><span class="ident" id="1096960">a</span><span class="op" id="1096961">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1096966">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1096977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1096981">s</span>&nbsp;<span class="op" id="1096983">:=</span>&nbsp;<span class="ident" id="1096986">Join</span><span class="op" id="1096990">(</span><span class="ident" id="1096991">a</span><span class="op" id="1096992">,</span>&nbsp;<span class="string" id="1096994">&#34;&#34;</span><span class="op" id="1096996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097000">if</span>&nbsp;<span class="ident" id="1097003">s</span>&nbsp;<span class="op" id="1097005">!=</span>&nbsp;<span class="ident" id="1097008">tt</span><span class="op" id="1097010">.</span><span class="ident" id="1097011">s</span>&nbsp;<span class="op" id="1097013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097018">t</span><span class="op" id="1097019">.</span><span class="ident" id="1097020">Errorf</span><span class="op" id="1097026">(</span><span class="string" id="1097027">`Join(explode(%q,&nbsp;%d),&nbsp;&#34;&#34;)&nbsp;=&nbsp;%q`</span><span class="op" id="1097059">,</span>&nbsp;<span class="ident" id="1097061">tt</span><span class="op" id="1097063">.</span><span class="ident" id="1097064">s</span><span class="op" id="1097065">,</span>&nbsp;<span class="ident" id="1097067">tt</span><span class="op" id="1097069">.</span><span class="ident" id="1097070">n</span><span class="op" id="1097071">,</span>&nbsp;<span class="ident" id="1097073">s</span><span class="op" id="1097074">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097081">}</span><br>
<span class="lineno"></span><span class="op" id="1097083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1097086">type</span>&nbsp;<span class="ident" id="1097091">SplitTest</span>&nbsp;<span class="keyword" id="1097101">struct</span>&nbsp;<span class="op" id="1097108">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097111">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1097115">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097123">sep</span>&nbsp;<span class="builtintype" id="1097127">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097135">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1097139">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097144">a</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1097148">[</span><span class="op" id="1097149">]</span><span class="builtintype" id="1097150">string</span><br>
<span class="lineno"></span><span class="op" id="1097157">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="1097160">var</span>&nbsp;<span class="ident" id="1097164">splittests</span>&nbsp;<span class="op" id="1097175">=</span>&nbsp;<span class="op" id="1097177">[</span><span class="op" id="1097178">]</span><span class="ident" id="1097179">SplitTest</span><span class="op" id="1097188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097191">{</span><span class="ident" id="1097192">abcd</span><span class="op" id="1097196">,</span>&nbsp;<span class="string" id="1097198">&#34;a&#34;</span><span class="op" id="1097201">,</span>&nbsp;<span class="num" id="1097203">0</span><span class="op" id="1097204">,</span>&nbsp;<span class="builtintype" id="1097206">nil</span><span class="op" id="1097209">}</span><span class="op" id="1097210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097213">{</span><span class="ident" id="1097214">abcd</span><span class="op" id="1097218">,</span>&nbsp;<span class="string" id="1097220">&#34;a&#34;</span><span class="op" id="1097223">,</span>&nbsp;<span class="op" id="1097225">-</span><span class="num" id="1097226">1</span><span class="op" id="1097227">,</span>&nbsp;<span class="op" id="1097229">[</span><span class="op" id="1097230">]</span><span class="builtintype" id="1097231">string</span><span class="op" id="1097237">{</span><span class="string" id="1097238">&#34;&#34;</span><span class="op" id="1097240">,</span>&nbsp;<span class="string" id="1097242">&#34;bcd&#34;</span><span class="op" id="1097247">}</span><span class="op" id="1097248">}</span><span class="op" id="1097249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097252">{</span><span class="ident" id="1097253">abcd</span><span class="op" id="1097257">,</span>&nbsp;<span class="string" id="1097259">&#34;z&#34;</span><span class="op" id="1097262">,</span>&nbsp;<span class="op" id="1097264">-</span><span class="num" id="1097265">1</span><span class="op" id="1097266">,</span>&nbsp;<span class="op" id="1097268">[</span><span class="op" id="1097269">]</span><span class="builtintype" id="1097270">string</span><span class="op" id="1097276">{</span><span class="string" id="1097277">&#34;abcd&#34;</span><span class="op" id="1097283">}</span><span class="op" id="1097284">}</span><span class="op" id="1097285">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097288">{</span><span class="ident" id="1097289">abcd</span><span class="op" id="1097293">,</span>&nbsp;<span class="string" id="1097295">&#34;&#34;</span><span class="op" id="1097297">,</span>&nbsp;<span class="op" id="1097299">-</span><span class="num" id="1097300">1</span><span class="op" id="1097301">,</span>&nbsp;<span class="op" id="1097303">[</span><span class="op" id="1097304">]</span><span class="builtintype" id="1097305">string</span><span class="op" id="1097311">{</span><span class="string" id="1097312">&#34;a&#34;</span><span class="op" id="1097315">,</span>&nbsp;<span class="string" id="1097317">&#34;b&#34;</span><span class="op" id="1097320">,</span>&nbsp;<span class="string" id="1097322">&#34;c&#34;</span><span class="op" id="1097325">,</span>&nbsp;<span class="string" id="1097327">&#34;d&#34;</span><span class="op" id="1097330">}</span><span class="op" id="1097331">}</span><span class="op" id="1097332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097335">{</span><span class="ident" id="1097336">commas</span><span class="op" id="1097342">,</span>&nbsp;<span class="string" id="1097344">&#34;,&#34;</span><span class="op" id="1097347">,</span>&nbsp;<span class="op" id="1097349">-</span><span class="num" id="1097350">1</span><span class="op" id="1097351">,</span>&nbsp;<span class="op" id="1097353">[</span><span class="op" id="1097354">]</span><span class="builtintype" id="1097355">string</span><span class="op" id="1097361">{</span><span class="string" id="1097362">&#34;1&#34;</span><span class="op" id="1097365">,</span>&nbsp;<span class="string" id="1097367">&#34;2&#34;</span><span class="op" id="1097370">,</span>&nbsp;<span class="string" id="1097372">&#34;3&#34;</span><span class="op" id="1097375">,</span>&nbsp;<span class="string" id="1097377">&#34;4&#34;</span><span class="op" id="1097380">}</span><span class="op" id="1097381">}</span><span class="op" id="1097382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097385">{</span><span class="ident" id="1097386">dots</span><span class="op" id="1097390">,</span>&nbsp;<span class="string" id="1097392">&#34;...&#34;</span><span class="op" id="1097397">,</span>&nbsp;<span class="op" id="1097399">-</span><span class="num" id="1097400">1</span><span class="op" id="1097401">,</span>&nbsp;<span class="op" id="1097403">[</span><span class="op" id="1097404">]</span><span class="builtintype" id="1097405">string</span><span class="op" id="1097411">{</span><span class="string" id="1097412">&#34;1&#34;</span><span class="op" id="1097415">,</span>&nbsp;<span class="string" id="1097417">&#34;.2&#34;</span><span class="op" id="1097421">,</span>&nbsp;<span class="string" id="1097423">&#34;.3&#34;</span><span class="op" id="1097427">,</span>&nbsp;<span class="string" id="1097429">&#34;.4&#34;</span><span class="op" id="1097433">}</span><span class="op" id="1097434">}</span><span class="op" id="1097435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097438">{</span><span class="ident" id="1097439">faces</span><span class="op" id="1097444">,</span>&nbsp;<span class="string" id="1097446">&#34;☹&#34;</span><span class="op" id="1097451">,</span>&nbsp;<span class="op" id="1097453">-</span><span class="num" id="1097454">1</span><span class="op" id="1097455">,</span>&nbsp;<span class="op" id="1097457">[</span><span class="op" id="1097458">]</span><span class="builtintype" id="1097459">string</span><span class="op" id="1097465">{</span><span class="string" id="1097466">&#34;☺☻&#34;</span><span class="op" id="1097474">,</span>&nbsp;<span class="string" id="1097476">&#34;&#34;</span><span class="op" id="1097478">}</span><span class="op" id="1097479">}</span><span class="op" id="1097480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097483">{</span><span class="ident" id="1097484">faces</span><span class="op" id="1097489">,</span>&nbsp;<span class="string" id="1097491">&#34;~&#34;</span><span class="op" id="1097494">,</span>&nbsp;<span class="op" id="1097496">-</span><span class="num" id="1097497">1</span><span class="op" id="1097498">,</span>&nbsp;<span class="op" id="1097500">[</span><span class="op" id="1097501">]</span><span class="builtintype" id="1097502">string</span><span class="op" id="1097508">{</span><span class="ident" id="1097509">faces</span><span class="op" id="1097514">}</span><span class="op" id="1097515">}</span><span class="op" id="1097516">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097519">{</span><span class="ident" id="1097520">faces</span><span class="op" id="1097525">,</span>&nbsp;<span class="string" id="1097527">&#34;&#34;</span><span class="op" id="1097529">,</span>&nbsp;<span class="op" id="1097531">-</span><span class="num" id="1097532">1</span><span class="op" id="1097533">,</span>&nbsp;<span class="op" id="1097535">[</span><span class="op" id="1097536">]</span><span class="builtintype" id="1097537">string</span><span class="op" id="1097543">{</span><span class="string" id="1097544">&#34;☺&#34;</span><span class="op" id="1097549">,</span>&nbsp;<span class="string" id="1097551">&#34;☻&#34;</span><span class="op" id="1097556">,</span>&nbsp;<span class="string" id="1097558">&#34;☹&#34;</span><span class="op" id="1097563">}</span><span class="op" id="1097564">}</span><span class="op" id="1097565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097568">{</span><span class="string" id="1097569">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="1097578">,</span>&nbsp;<span class="string" id="1097580">&#34;&nbsp;&#34;</span><span class="op" id="1097583">,</span>&nbsp;<span class="num" id="1097585">3</span><span class="op" id="1097586">,</span>&nbsp;<span class="op" id="1097588">[</span><span class="op" id="1097589">]</span><span class="builtintype" id="1097590">string</span><span class="op" id="1097596">{</span><span class="string" id="1097597">&#34;1&#34;</span><span class="op" id="1097600">,</span>&nbsp;<span class="string" id="1097602">&#34;2&#34;</span><span class="op" id="1097605">,</span>&nbsp;<span class="string" id="1097607">&#34;3&nbsp;4&#34;</span><span class="op" id="1097612">}</span><span class="op" id="1097613">}</span><span class="op" id="1097614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097617">{</span><span class="string" id="1097618">&#34;1&nbsp;2&#34;</span><span class="op" id="1097623">,</span>&nbsp;<span class="string" id="1097625">&#34;&nbsp;&#34;</span><span class="op" id="1097628">,</span>&nbsp;<span class="num" id="1097630">3</span><span class="op" id="1097631">,</span>&nbsp;<span class="op" id="1097633">[</span><span class="op" id="1097634">]</span><span class="builtintype" id="1097635">string</span><span class="op" id="1097641">{</span><span class="string" id="1097642">&#34;1&#34;</span><span class="op" id="1097645">,</span>&nbsp;<span class="string" id="1097647">&#34;2&#34;</span><span class="op" id="1097650">}</span><span class="op" id="1097651">}</span><span class="op" id="1097652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097655">{</span><span class="string" id="1097656">&#34;123&#34;</span><span class="op" id="1097661">,</span>&nbsp;<span class="string" id="1097663">&#34;&#34;</span><span class="op" id="1097665">,</span>&nbsp;<span class="num" id="1097667">2</span><span class="op" id="1097668">,</span>&nbsp;<span class="op" id="1097670">[</span><span class="op" id="1097671">]</span><span class="builtintype" id="1097672">string</span><span class="op" id="1097678">{</span><span class="string" id="1097679">&#34;1&#34;</span><span class="op" id="1097682">,</span>&nbsp;<span class="string" id="1097684">&#34;23&#34;</span><span class="op" id="1097688">}</span><span class="op" id="1097689">}</span><span class="op" id="1097690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097693">{</span><span class="string" id="1097694">&#34;123&#34;</span><span class="op" id="1097699">,</span>&nbsp;<span class="string" id="1097701">&#34;&#34;</span><span class="op" id="1097703">,</span>&nbsp;<span class="num" id="1097705">17</span><span class="op" id="1097707">,</span>&nbsp;<span class="op" id="1097709">[</span><span class="op" id="1097710">]</span><span class="builtintype" id="1097711">string</span><span class="op" id="1097717">{</span><span class="string" id="1097718">&#34;1&#34;</span><span class="op" id="1097721">,</span>&nbsp;<span class="string" id="1097723">&#34;2&#34;</span><span class="op" id="1097726">,</span>&nbsp;<span class="string" id="1097728">&#34;3&#34;</span><span class="op" id="1097731">}</span><span class="op" id="1097732">}</span><span class="op" id="1097733">,</span><br>
<span class="lineno">235</span><span class="op" id="1097735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1097738">func</span>&nbsp;<span class="ident" id="1097743">TestSplit</span><span class="op" id="1097752">(</span><span class="ident" id="1097753">t</span>&nbsp;<span class="op" id="1097755">*</span><span class="ident" id="1097756">testing</span><span class="op" id="1097763">.</span><span class="ident" id="1097764">T</span><span class="op" id="1097765">)</span>&nbsp;<span class="op" id="1097767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097770">for</span>&nbsp;<span class="ident" id="1097774">_</span><span class="op" id="1097775">,</span>&nbsp;<span class="ident" id="1097777">tt</span>&nbsp;<span class="op" id="1097780">:=</span>&nbsp;<span class="keyword" id="1097783">range</span>&nbsp;<span class="ident" id="1097789">splittests</span>&nbsp;<span class="op" id="1097800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097804">a</span>&nbsp;<span class="op" id="1097806">:=</span>&nbsp;<span class="ident" id="1097809">SplitN</span><span class="op" id="1097815">(</span><span class="ident" id="1097816">tt</span><span class="op" id="1097818">.</span><span class="ident" id="1097819">s</span><span class="op" id="1097820">,</span>&nbsp;<span class="ident" id="1097822">tt</span><span class="op" id="1097824">.</span><span class="ident" id="1097825">sep</span><span class="op" id="1097828">,</span>&nbsp;<span class="ident" id="1097830">tt</span><span class="op" id="1097832">.</span><span class="ident" id="1097833">n</span><span class="op" id="1097834">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097838">if</span>&nbsp;<span class="op" id="1097841">!</span><span class="ident" id="1097842">eq</span><span class="op" id="1097844">(</span><span class="ident" id="1097845">a</span><span class="op" id="1097846">,</span>&nbsp;<span class="ident" id="1097848">tt</span><span class="op" id="1097850">.</span><span class="ident" id="1097851">a</span><span class="op" id="1097852">)</span>&nbsp;<span class="op" id="1097854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097859">t</span><span class="op" id="1097860">.</span><span class="ident" id="1097861">Errorf</span><span class="op" id="1097867">(</span><span class="string" id="1097868">&#34;Split(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1097901">,</span>&nbsp;<span class="ident" id="1097903">tt</span><span class="op" id="1097905">.</span><span class="ident" id="1097906">s</span><span class="op" id="1097907">,</span>&nbsp;<span class="ident" id="1097909">tt</span><span class="op" id="1097911">.</span><span class="ident" id="1097912">sep</span><span class="op" id="1097915">,</span>&nbsp;<span class="ident" id="1097917">tt</span><span class="op" id="1097919">.</span><span class="ident" id="1097920">n</span><span class="op" id="1097921">,</span>&nbsp;<span class="ident" id="1097923">a</span><span class="op" id="1097924">,</span>&nbsp;<span class="ident" id="1097926">tt</span><span class="op" id="1097928">.</span><span class="ident" id="1097929">a</span><span class="op" id="1097930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097935">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097950">if</span>&nbsp;<span class="ident" id="1097953">tt</span><span class="op" id="1097955">.</span><span class="ident" id="1097956">n</span>&nbsp;<span class="op" id="1097958">==</span>&nbsp;<span class="num" id="1097961">0</span>&nbsp;<span class="op" id="1097963">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1097968">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1097979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1097983">s</span>&nbsp;<span class="op" id="1097985">:=</span>&nbsp;<span class="ident" id="1097988">Join</span><span class="op" id="1097992">(</span><span class="ident" id="1097993">a</span><span class="op" id="1097994">,</span>&nbsp;<span class="ident" id="1097996">tt</span><span class="op" id="1097998">.</span><span class="ident" id="1097999">sep</span><span class="op" id="1098002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1098006">if</span>&nbsp;<span class="ident" id="1098009">s</span>&nbsp;<span class="op" id="1098011">!=</span>&nbsp;<span class="ident" id="1098014">tt</span><span class="op" id="1098016">.</span><span class="ident" id="1098017">s</span>&nbsp;<span class="op" id="1098019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1098024">t</span><span class="op" id="1098025">.</span><span class="ident" id="1098026">Errorf</span><span class="op" id="1098032">(</span><span class="string" id="1098033">&#34;Join(Split(%q,&nbsp;%q,&nbsp;%d),&nbsp;%q)&nbsp;=&nbsp;%q&#34;</span><span class="op" id="1098067">,</span>&nbsp;<span class="ident" id="1098069">tt</span><span class="op" id="1098071">.</span><span class="ident" id="1098072">s</span><span class="op" id="1098073">,</span>&nbsp;<span class="ident" id="1098075">tt</span><span class="op" id="1098077">.</span><span class="ident" id="1098078">sep</span><span class="op" id="1098081">,</span>&nbsp;<span class="ident" id="1098083">tt</span><span class="op" id="1098085">.</span><span class="ident" id="1098086">n</span><span class="op" id="1098087">,</span>&nbsp;<span class="ident" id="1098089">tt</span><span class="op" id="1098091">.</span><span class="ident" id="1098092">sep</span><span class="op" id="1098095">,</span>&nbsp;<span class="ident" id="1098097">s</span><span class="op" id="1098098">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1098106">if</span>&nbsp;<span class="ident" id="1098109">tt</span><span class="op" id="1098111">.</span><span class="ident" id="1098112">n</span>&nbsp;<span class="op" id="1098114">&lt;</span>&nbsp;<span class="num" id="1098116">0</span>&nbsp;<span class="op" id="1098118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1098123">b</span>&nbsp;<span class="op" id="1098125">:=</span>&nbsp;<span class="ident" id="1098128">Split</span><span class="op" id="1098133">(</span><span class="ident" id="1098134">tt</span><span class="op" id="1098136">.</span><span class="ident" id="1098137">s</span><span class="op" id="1098138">,</span>&nbsp;<span class="ident" id="1098140">tt</span><span class="op" id="1098142">.</span><span class="ident" id="1098143">sep</span><span class="op" id="1098146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1098151">if</span>&nbsp;<span class="op" id="1098154">!</span><span class="ident" id="1098155">reflect</span><span class="op" id="1098162">.</span><span class="ident" id="1098163">DeepEqual</span><span class="op" id="1098172">(</span><span class="ident" id="1098173">a</span><span class="op" id="1098174">,</span>&nbsp;<span class="ident" id="1098176">b</span><span class="op" id="1098177">)</span>&nbsp;<span class="op" id="1098179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1098185">t</span><span class="op" id="1098186">.</span><span class="ident" id="1098187">Errorf</span><span class="op" id="1098193">(</span><span class="string" id="1098194">&#34;Split&nbsp;disagrees&nbsp;with&nbsp;SplitN(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1098249">,</span>&nbsp;<span class="ident" id="1098251">tt</span><span class="op" id="1098253">.</span><span class="ident" id="1098254">s</span><span class="op" id="1098255">,</span>&nbsp;<span class="ident" id="1098257">tt</span><span class="op" id="1098259">.</span><span class="ident" id="1098260">sep</span><span class="op" id="1098263">,</span>&nbsp;<span class="ident" id="1098265">tt</span><span class="op" id="1098267">.</span><span class="ident" id="1098268">n</span><span class="op" id="1098269">,</span>&nbsp;<span class="ident" id="1098271">b</span><span class="op" id="1098272">,</span>&nbsp;<span class="ident" id="1098274">a</span><span class="op" id="1098275">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098287">}</span><br>
<span class="lineno"></span><span class="op" id="1098289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="1098292">var</span>&nbsp;<span class="ident" id="1098296">splitaftertests</span>&nbsp;<span class="op" id="1098312">=</span>&nbsp;<span class="op" id="1098314">[</span><span class="op" id="1098315">]</span><span class="ident" id="1098316">SplitTest</span><span class="op" id="1098325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098328">{</span><span class="ident" id="1098329">abcd</span><span class="op" id="1098333">,</span>&nbsp;<span class="string" id="1098335">&#34;a&#34;</span><span class="op" id="1098338">,</span>&nbsp;<span class="op" id="1098340">-</span><span class="num" id="1098341">1</span><span class="op" id="1098342">,</span>&nbsp;<span class="op" id="1098344">[</span><span class="op" id="1098345">]</span><span class="builtintype" id="1098346">string</span><span class="op" id="1098352">{</span><span class="string" id="1098353">&#34;a&#34;</span><span class="op" id="1098356">,</span>&nbsp;<span class="string" id="1098358">&#34;bcd&#34;</span><span class="op" id="1098363">}</span><span class="op" id="1098364">}</span><span class="op" id="1098365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098368">{</span><span class="ident" id="1098369">abcd</span><span class="op" id="1098373">,</span>&nbsp;<span class="string" id="1098375">&#34;z&#34;</span><span class="op" id="1098378">,</span>&nbsp;<span class="op" id="1098380">-</span><span class="num" id="1098381">1</span><span class="op" id="1098382">,</span>&nbsp;<span class="op" id="1098384">[</span><span class="op" id="1098385">]</span><span class="builtintype" id="1098386">string</span><span class="op" id="1098392">{</span><span class="string" id="1098393">&#34;abcd&#34;</span><span class="op" id="1098399">}</span><span class="op" id="1098400">}</span><span class="op" id="1098401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098404">{</span><span class="ident" id="1098405">abcd</span><span class="op" id="1098409">,</span>&nbsp;<span class="string" id="1098411">&#34;&#34;</span><span class="op" id="1098413">,</span>&nbsp;<span class="op" id="1098415">-</span><span class="num" id="1098416">1</span><span class="op" id="1098417">,</span>&nbsp;<span class="op" id="1098419">[</span><span class="op" id="1098420">]</span><span class="builtintype" id="1098421">string</span><span class="op" id="1098427">{</span><span class="string" id="1098428">&#34;a&#34;</span><span class="op" id="1098431">,</span>&nbsp;<span class="string" id="1098433">&#34;b&#34;</span><span class="op" id="1098436">,</span>&nbsp;<span class="string" id="1098438">&#34;c&#34;</span><span class="op" id="1098441">,</span>&nbsp;<span class="string" id="1098443">&#34;d&#34;</span><span class="op" id="1098446">}</span><span class="op" id="1098447">}</span><span class="op" id="1098448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098451">{</span><span class="ident" id="1098452">commas</span><span class="op" id="1098458">,</span>&nbsp;<span class="string" id="1098460">&#34;,&#34;</span><span class="op" id="1098463">,</span>&nbsp;<span class="op" id="1098465">-</span><span class="num" id="1098466">1</span><span class="op" id="1098467">,</span>&nbsp;<span class="op" id="1098469">[</span><span class="op" id="1098470">]</span><span class="builtintype" id="1098471">string</span><span class="op" id="1098477">{</span><span class="string" id="1098478">&#34;1,&#34;</span><span class="op" id="1098482">,</span>&nbsp;<span class="string" id="1098484">&#34;2,&#34;</span><span class="op" id="1098488">,</span>&nbsp;<span class="string" id="1098490">&#34;3,&#34;</span><span class="op" id="1098494">,</span>&nbsp;<span class="string" id="1098496">&#34;4&#34;</span><span class="op" id="1098499">}</span><span class="op" id="1098500">}</span><span class="op" id="1098501">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098504">{</span><span class="ident" id="1098505">dots</span><span class="op" id="1098509">,</span>&nbsp;<span class="string" id="1098511">&#34;...&#34;</span><span class="op" id="1098516">,</span>&nbsp;<span class="op" id="1098518">-</span><span class="num" id="1098519">1</span><span class="op" id="1098520">,</span>&nbsp;<span class="op" id="1098522">[</span><span class="op" id="1098523">]</span><span class="builtintype" id="1098524">string</span><span class="op" id="1098530">{</span><span class="string" id="1098531">&#34;1...&#34;</span><span class="op" id="1098537">,</span>&nbsp;<span class="string" id="1098539">&#34;.2...&#34;</span><span class="op" id="1098546">,</span>&nbsp;<span class="string" id="1098548">&#34;.3...&#34;</span><span class="op" id="1098555">,</span>&nbsp;<span class="string" id="1098557">&#34;.4&#34;</span><span class="op" id="1098561">}</span><span class="op" id="1098562">}</span><span class="op" id="1098563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098566">{</span><span class="ident" id="1098567">faces</span><span class="op" id="1098572">,</span>&nbsp;<span class="string" id="1098574">&#34;☹&#34;</span><span class="op" id="1098579">,</span>&nbsp;<span class="op" id="1098581">-</span><span class="num" id="1098582">1</span><span class="op" id="1098583">,</span>&nbsp;<span class="op" id="1098585">[</span><span class="op" id="1098586">]</span><span class="builtintype" id="1098587">string</span><span class="op" id="1098593">{</span><span class="string" id="1098594">&#34;☺☻☹&#34;</span><span class="op" id="1098605">,</span>&nbsp;<span class="string" id="1098607">&#34;&#34;</span><span class="op" id="1098609">}</span><span class="op" id="1098610">}</span><span class="op" id="1098611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098614">{</span><span class="ident" id="1098615">faces</span><span class="op" id="1098620">,</span>&nbsp;<span class="string" id="1098622">&#34;~&#34;</span><span class="op" id="1098625">,</span>&nbsp;<span class="op" id="1098627">-</span><span class="num" id="1098628">1</span><span class="op" id="1098629">,</span>&nbsp;<span class="op" id="1098631">[</span><span class="op" id="1098632">]</span><span class="builtintype" id="1098633">string</span><span class="op" id="1098639">{</span><span class="ident" id="1098640">faces</span><span class="op" id="1098645">}</span><span class="op" id="1098646">}</span><span class="op" id="1098647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098650">{</span><span class="ident" id="1098651">faces</span><span class="op" id="1098656">,</span>&nbsp;<span class="string" id="1098658">&#34;&#34;</span><span class="op" id="1098660">,</span>&nbsp;<span class="op" id="1098662">-</span><span class="num" id="1098663">1</span><span class="op" id="1098664">,</span>&nbsp;<span class="op" id="1098666">[</span><span class="op" id="1098667">]</span><span class="builtintype" id="1098668">string</span><span class="op" id="1098674">{</span><span class="string" id="1098675">&#34;☺&#34;</span><span class="op" id="1098680">,</span>&nbsp;<span class="string" id="1098682">&#34;☻&#34;</span><span class="op" id="1098687">,</span>&nbsp;<span class="string" id="1098689">&#34;☹&#34;</span><span class="op" id="1098694">}</span><span class="op" id="1098695">}</span><span class="op" id="1098696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098699">{</span><span class="string" id="1098700">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="1098709">,</span>&nbsp;<span class="string" id="1098711">&#34;&nbsp;&#34;</span><span class="op" id="1098714">,</span>&nbsp;<span class="num" id="1098716">3</span><span class="op" id="1098717">,</span>&nbsp;<span class="op" id="1098719">[</span><span class="op" id="1098720">]</span><span class="builtintype" id="1098721">string</span><span class="op" id="1098727">{</span><span class="string" id="1098728">&#34;1&nbsp;&#34;</span><span class="op" id="1098732">,</span>&nbsp;<span class="string" id="1098734">&#34;2&nbsp;&#34;</span><span class="op" id="1098738">,</span>&nbsp;<span class="string" id="1098740">&#34;3&nbsp;4&#34;</span><span class="op" id="1098745">}</span><span class="op" id="1098746">}</span><span class="op" id="1098747">,</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098750">{</span><span class="string" id="1098751">&#34;1&nbsp;2&nbsp;3&#34;</span><span class="op" id="1098758">,</span>&nbsp;<span class="string" id="1098760">&#34;&nbsp;&#34;</span><span class="op" id="1098763">,</span>&nbsp;<span class="num" id="1098765">3</span><span class="op" id="1098766">,</span>&nbsp;<span class="op" id="1098768">[</span><span class="op" id="1098769">]</span><span class="builtintype" id="1098770">string</span><span class="op" id="1098776">{</span><span class="string" id="1098777">&#34;1&nbsp;&#34;</span><span class="op" id="1098781">,</span>&nbsp;<span class="string" id="1098783">&#34;2&nbsp;&#34;</span><span class="op" id="1098787">,</span>&nbsp;<span class="string" id="1098789">&#34;3&#34;</span><span class="op" id="1098792">}</span><span class="op" id="1098793">}</span><span class="op" id="1098794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098797">{</span><span class="string" id="1098798">&#34;1&nbsp;2&#34;</span><span class="op" id="1098803">,</span>&nbsp;<span class="string" id="1098805">&#34;&nbsp;&#34;</span><span class="op" id="1098808">,</span>&nbsp;<span class="num" id="1098810">3</span><span class="op" id="1098811">,</span>&nbsp;<span class="op" id="1098813">[</span><span class="op" id="1098814">]</span><span class="builtintype" id="1098815">string</span><span class="op" id="1098821">{</span><span class="string" id="1098822">&#34;1&nbsp;&#34;</span><span class="op" id="1098826">,</span>&nbsp;<span class="string" id="1098828">&#34;2&#34;</span><span class="op" id="1098831">}</span><span class="op" id="1098832">}</span><span class="op" id="1098833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098836">{</span><span class="string" id="1098837">&#34;123&#34;</span><span class="op" id="1098842">,</span>&nbsp;<span class="string" id="1098844">&#34;&#34;</span><span class="op" id="1098846">,</span>&nbsp;<span class="num" id="1098848">2</span><span class="op" id="1098849">,</span>&nbsp;<span class="op" id="1098851">[</span><span class="op" id="1098852">]</span><span class="builtintype" id="1098853">string</span><span class="op" id="1098859">{</span><span class="string" id="1098860">&#34;1&#34;</span><span class="op" id="1098863">,</span>&nbsp;<span class="string" id="1098865">&#34;23&#34;</span><span class="op" id="1098869">}</span><span class="op" id="1098870">}</span><span class="op" id="1098871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1098874">{</span><span class="string" id="1098875">&#34;123&#34;</span><span class="op" id="1098880">,</span>&nbsp;<span class="string" id="1098882">&#34;&#34;</span><span class="op" id="1098884">,</span>&nbsp;<span class="num" id="1098886">17</span><span class="op" id="1098888">,</span>&nbsp;<span class="op" id="1098890">[</span><span class="op" id="1098891">]</span><span class="builtintype" id="1098892">string</span><span class="op" id="1098898">{</span><span class="string" id="1098899">&#34;1&#34;</span><span class="op" id="1098902">,</span>&nbsp;<span class="string" id="1098904">&#34;2&#34;</span><span class="op" id="1098907">,</span>&nbsp;<span class="string" id="1098909">&#34;3&#34;</span><span class="op" id="1098912">}</span><span class="op" id="1098913">}</span><span class="op" id="1098914">,</span><br>
<span class="lineno"></span><span class="op" id="1098916">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="1098919">func</span>&nbsp;<span class="ident" id="1098924">TestSplitAfter</span><span class="op" id="1098938">(</span><span class="ident" id="1098939">t</span>&nbsp;<span class="op" id="1098941">*</span><span class="ident" id="1098942">testing</span><span class="op" id="1098949">.</span><span class="ident" id="1098950">T</span><span class="op" id="1098951">)</span>&nbsp;<span class="op" id="1098953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1098956">for</span>&nbsp;<span class="ident" id="1098960">_</span><span class="op" id="1098961">,</span>&nbsp;<span class="ident" id="1098963">tt</span>&nbsp;<span class="op" id="1098966">:=</span>&nbsp;<span class="keyword" id="1098969">range</span>&nbsp;<span class="ident" id="1098975">splitaftertests</span>&nbsp;<span class="op" id="1098991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1098995">a</span>&nbsp;<span class="op" id="1098997">:=</span>&nbsp;<span class="ident" id="1099000">SplitAfterN</span><span class="op" id="1099011">(</span><span class="ident" id="1099012">tt</span><span class="op" id="1099014">.</span><span class="ident" id="1099015">s</span><span class="op" id="1099016">,</span>&nbsp;<span class="ident" id="1099018">tt</span><span class="op" id="1099020">.</span><span class="ident" id="1099021">sep</span><span class="op" id="1099024">,</span>&nbsp;<span class="ident" id="1099026">tt</span><span class="op" id="1099028">.</span><span class="ident" id="1099029">n</span><span class="op" id="1099030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099034">if</span>&nbsp;<span class="op" id="1099037">!</span><span class="ident" id="1099038">eq</span><span class="op" id="1099040">(</span><span class="ident" id="1099041">a</span><span class="op" id="1099042">,</span>&nbsp;<span class="ident" id="1099044">tt</span><span class="op" id="1099046">.</span><span class="ident" id="1099047">a</span><span class="op" id="1099048">)</span>&nbsp;<span class="op" id="1099050">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099055">t</span><span class="op" id="1099056">.</span><span class="ident" id="1099057">Errorf</span><span class="op" id="1099063">(</span><span class="string" id="1099064">`Split(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v`</span><span class="op" id="1099097">,</span>&nbsp;<span class="ident" id="1099099">tt</span><span class="op" id="1099101">.</span><span class="ident" id="1099102">s</span><span class="op" id="1099103">,</span>&nbsp;<span class="ident" id="1099105">tt</span><span class="op" id="1099107">.</span><span class="ident" id="1099108">sep</span><span class="op" id="1099111">,</span>&nbsp;<span class="ident" id="1099113">tt</span><span class="op" id="1099115">.</span><span class="ident" id="1099116">n</span><span class="op" id="1099117">,</span>&nbsp;<span class="ident" id="1099119">a</span><span class="op" id="1099120">,</span>&nbsp;<span class="ident" id="1099122">tt</span><span class="op" id="1099124">.</span><span class="ident" id="1099125">a</span><span class="op" id="1099126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099131">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099146">s</span>&nbsp;<span class="op" id="1099148">:=</span>&nbsp;<span class="ident" id="1099151">Join</span><span class="op" id="1099155">(</span><span class="ident" id="1099156">a</span><span class="op" id="1099157">,</span>&nbsp;<span class="string" id="1099159">&#34;&#34;</span><span class="op" id="1099161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099165">if</span>&nbsp;<span class="ident" id="1099168">s</span>&nbsp;<span class="op" id="1099170">!=</span>&nbsp;<span class="ident" id="1099173">tt</span><span class="op" id="1099175">.</span><span class="ident" id="1099176">s</span>&nbsp;<span class="op" id="1099178">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099183">t</span><span class="op" id="1099184">.</span><span class="ident" id="1099185">Errorf</span><span class="op" id="1099191">(</span><span class="string" id="1099192">`Join(Split(%q,&nbsp;%q,&nbsp;%d),&nbsp;%q)&nbsp;=&nbsp;%q`</span><span class="op" id="1099226">,</span>&nbsp;<span class="ident" id="1099228">tt</span><span class="op" id="1099230">.</span><span class="ident" id="1099231">s</span><span class="op" id="1099232">,</span>&nbsp;<span class="ident" id="1099234">tt</span><span class="op" id="1099236">.</span><span class="ident" id="1099237">sep</span><span class="op" id="1099240">,</span>&nbsp;<span class="ident" id="1099242">tt</span><span class="op" id="1099244">.</span><span class="ident" id="1099245">n</span><span class="op" id="1099246">,</span>&nbsp;<span class="ident" id="1099248">tt</span><span class="op" id="1099250">.</span><span class="ident" id="1099251">sep</span><span class="op" id="1099254">,</span>&nbsp;<span class="ident" id="1099256">s</span><span class="op" id="1099257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099265">if</span>&nbsp;<span class="ident" id="1099268">tt</span><span class="op" id="1099270">.</span><span class="ident" id="1099271">n</span>&nbsp;<span class="op" id="1099273">&lt;</span>&nbsp;<span class="num" id="1099275">0</span>&nbsp;<span class="op" id="1099277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099282">b</span>&nbsp;<span class="op" id="1099284">:=</span>&nbsp;<span class="ident" id="1099287">SplitAfter</span><span class="op" id="1099297">(</span><span class="ident" id="1099298">tt</span><span class="op" id="1099300">.</span><span class="ident" id="1099301">s</span><span class="op" id="1099302">,</span>&nbsp;<span class="ident" id="1099304">tt</span><span class="op" id="1099306">.</span><span class="ident" id="1099307">sep</span><span class="op" id="1099310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099315">if</span>&nbsp;<span class="op" id="1099318">!</span><span class="ident" id="1099319">reflect</span><span class="op" id="1099326">.</span><span class="ident" id="1099327">DeepEqual</span><span class="op" id="1099336">(</span><span class="ident" id="1099337">a</span><span class="op" id="1099338">,</span>&nbsp;<span class="ident" id="1099340">b</span><span class="op" id="1099341">)</span>&nbsp;<span class="op" id="1099343">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099349">t</span><span class="op" id="1099350">.</span><span class="ident" id="1099351">Errorf</span><span class="op" id="1099357">(</span><span class="string" id="1099358">&#34;SplitAfter&nbsp;disagrees&nbsp;with&nbsp;SplitAfterN(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1099423">,</span>&nbsp;<span class="ident" id="1099425">tt</span><span class="op" id="1099427">.</span><span class="ident" id="1099428">s</span><span class="op" id="1099429">,</span>&nbsp;<span class="ident" id="1099431">tt</span><span class="op" id="1099433">.</span><span class="ident" id="1099434">sep</span><span class="op" id="1099437">,</span>&nbsp;<span class="ident" id="1099439">tt</span><span class="op" id="1099441">.</span><span class="ident" id="1099442">n</span><span class="op" id="1099443">,</span>&nbsp;<span class="ident" id="1099445">b</span><span class="op" id="1099446">,</span>&nbsp;<span class="ident" id="1099448">a</span><span class="op" id="1099449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099461">}</span><br>
<span class="lineno"></span><span class="op" id="1099463">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1099466">type</span>&nbsp;<span class="ident" id="1099471">FieldsTest</span>&nbsp;<span class="keyword" id="1099482">struct</span>&nbsp;<span class="op" id="1099489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099492">s</span>&nbsp;<span class="builtintype" id="1099494">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1099502">a</span>&nbsp;<span class="op" id="1099504">[</span><span class="op" id="1099505">]</span><span class="builtintype" id="1099506">string</span><br>
<span class="lineno"></span><span class="op" id="1099513">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1099516">var</span>&nbsp;<span class="ident" id="1099520">fieldstests</span>&nbsp;<span class="op" id="1099532">=</span>&nbsp;<span class="op" id="1099534">[</span><span class="op" id="1099535">]</span><span class="ident" id="1099536">FieldsTest</span><span class="op" id="1099546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099549">{</span><span class="string" id="1099550">&#34;&#34;</span><span class="op" id="1099552">,</span>&nbsp;<span class="op" id="1099554">[</span><span class="op" id="1099555">]</span><span class="builtintype" id="1099556">string</span><span class="op" id="1099562">{</span><span class="op" id="1099563">}</span><span class="op" id="1099564">}</span><span class="op" id="1099565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099568">{</span><span class="string" id="1099569">&#34;&nbsp;&#34;</span><span class="op" id="1099572">,</span>&nbsp;<span class="op" id="1099574">[</span><span class="op" id="1099575">]</span><span class="builtintype" id="1099576">string</span><span class="op" id="1099582">{</span><span class="op" id="1099583">}</span><span class="op" id="1099584">}</span><span class="op" id="1099585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099588">{</span><span class="string" id="1099589">&#34;&nbsp;\t&nbsp;&#34;</span><span class="op" id="1099595">,</span>&nbsp;<span class="op" id="1099597">[</span><span class="op" id="1099598">]</span><span class="builtintype" id="1099599">string</span><span class="op" id="1099605">{</span><span class="op" id="1099606">}</span><span class="op" id="1099607">}</span><span class="op" id="1099608">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099611">{</span><span class="string" id="1099612">&#34;&nbsp;&nbsp;abc&nbsp;&nbsp;&#34;</span><span class="op" id="1099621">,</span>&nbsp;<span class="op" id="1099623">[</span><span class="op" id="1099624">]</span><span class="builtintype" id="1099625">string</span><span class="op" id="1099631">{</span><span class="string" id="1099632">&#34;abc&#34;</span><span class="op" id="1099637">}</span><span class="op" id="1099638">}</span><span class="op" id="1099639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099642">{</span><span class="string" id="1099643">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="1099652">,</span>&nbsp;<span class="op" id="1099654">[</span><span class="op" id="1099655">]</span><span class="builtintype" id="1099656">string</span><span class="op" id="1099662">{</span><span class="string" id="1099663">&#34;1&#34;</span><span class="op" id="1099666">,</span>&nbsp;<span class="string" id="1099668">&#34;2&#34;</span><span class="op" id="1099671">,</span>&nbsp;<span class="string" id="1099673">&#34;3&#34;</span><span class="op" id="1099676">,</span>&nbsp;<span class="string" id="1099678">&#34;4&#34;</span><span class="op" id="1099681">}</span><span class="op" id="1099682">}</span><span class="op" id="1099683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099686">{</span><span class="string" id="1099687">&#34;1&nbsp;&nbsp;2&nbsp;&nbsp;3&nbsp;&nbsp;4&#34;</span><span class="op" id="1099699">,</span>&nbsp;<span class="op" id="1099701">[</span><span class="op" id="1099702">]</span><span class="builtintype" id="1099703">string</span><span class="op" id="1099709">{</span><span class="string" id="1099710">&#34;1&#34;</span><span class="op" id="1099713">,</span>&nbsp;<span class="string" id="1099715">&#34;2&#34;</span><span class="op" id="1099718">,</span>&nbsp;<span class="string" id="1099720">&#34;3&#34;</span><span class="op" id="1099723">,</span>&nbsp;<span class="string" id="1099725">&#34;4&#34;</span><span class="op" id="1099728">}</span><span class="op" id="1099729">}</span><span class="op" id="1099730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099733">{</span><span class="string" id="1099734">&#34;1\t\t2\t\t3\t4&#34;</span><span class="op" id="1099750">,</span>&nbsp;<span class="op" id="1099752">[</span><span class="op" id="1099753">]</span><span class="builtintype" id="1099754">string</span><span class="op" id="1099760">{</span><span class="string" id="1099761">&#34;1&#34;</span><span class="op" id="1099764">,</span>&nbsp;<span class="string" id="1099766">&#34;2&#34;</span><span class="op" id="1099769">,</span>&nbsp;<span class="string" id="1099771">&#34;3&#34;</span><span class="op" id="1099774">,</span>&nbsp;<span class="string" id="1099776">&#34;4&#34;</span><span class="op" id="1099779">}</span><span class="op" id="1099780">}</span><span class="op" id="1099781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099784">{</span><span class="string" id="1099785">&#34;1\u20002\u20013\u20024&#34;</span><span class="op" id="1099809">,</span>&nbsp;<span class="op" id="1099811">[</span><span class="op" id="1099812">]</span><span class="builtintype" id="1099813">string</span><span class="op" id="1099819">{</span><span class="string" id="1099820">&#34;1&#34;</span><span class="op" id="1099823">,</span>&nbsp;<span class="string" id="1099825">&#34;2&#34;</span><span class="op" id="1099828">,</span>&nbsp;<span class="string" id="1099830">&#34;3&#34;</span><span class="op" id="1099833">,</span>&nbsp;<span class="string" id="1099835">&#34;4&#34;</span><span class="op" id="1099838">}</span><span class="op" id="1099839">}</span><span class="op" id="1099840">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099843">{</span><span class="string" id="1099844">&#34;\u2000\u2001\u2002&#34;</span><span class="op" id="1099864">,</span>&nbsp;<span class="op" id="1099866">[</span><span class="op" id="1099867">]</span><span class="builtintype" id="1099868">string</span><span class="op" id="1099874">{</span><span class="op" id="1099875">}</span><span class="op" id="1099876">}</span><span class="op" id="1099877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099880">{</span><span class="string" id="1099881">&#34;\n™\t™\n&#34;</span><span class="op" id="1099895">,</span>&nbsp;<span class="op" id="1099897">[</span><span class="op" id="1099898">]</span><span class="builtintype" id="1099899">string</span><span class="op" id="1099905">{</span><span class="string" id="1099906">&#34;™&#34;</span><span class="op" id="1099911">,</span>&nbsp;<span class="string" id="1099913">&#34;™&#34;</span><span class="op" id="1099918">}</span><span class="op" id="1099919">}</span><span class="op" id="1099920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1099923">{</span><span class="ident" id="1099924">faces</span><span class="op" id="1099929">,</span>&nbsp;<span class="op" id="1099931">[</span><span class="op" id="1099932">]</span><span class="builtintype" id="1099933">string</span><span class="op" id="1099939">{</span><span class="ident" id="1099940">faces</span><span class="op" id="1099945">}</span><span class="op" id="1099946">}</span><span class="op" id="1099947">,</span><br>
<span class="lineno"></span><span class="op" id="1099949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1099952">func</span>&nbsp;<span class="ident" id="1099957">TestFields</span><span class="op" id="1099967">(</span><span class="ident" id="1099968">t</span>&nbsp;<span class="op" id="1099970">*</span><span class="ident" id="1099971">testing</span><span class="op" id="1099978">.</span><span class="ident" id="1099979">T</span><span class="op" id="1099980">)</span>&nbsp;<span class="op" id="1099982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1099985">for</span>&nbsp;<span class="ident" id="1099989">_</span><span class="op" id="1099990">,</span>&nbsp;<span class="ident" id="1099992">tt</span>&nbsp;<span class="op" id="1099995">:=</span>&nbsp;<span class="keyword" id="1099998">range</span>&nbsp;<span class="ident" id="1100004">fieldstests</span>&nbsp;<span class="op" id="1100016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100020">a</span>&nbsp;<span class="op" id="1100022">:=</span>&nbsp;<span class="ident" id="1100025">Fields</span><span class="op" id="1100031">(</span><span class="ident" id="1100032">tt</span><span class="op" id="1100034">.</span><span class="ident" id="1100035">s</span><span class="op" id="1100036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100040">if</span>&nbsp;<span class="op" id="1100043">!</span><span class="ident" id="1100044">eq</span><span class="op" id="1100046">(</span><span class="ident" id="1100047">a</span><span class="op" id="1100048">,</span>&nbsp;<span class="ident" id="1100050">tt</span><span class="op" id="1100052">.</span><span class="ident" id="1100053">a</span><span class="op" id="1100054">)</span>&nbsp;<span class="op" id="1100056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100061">t</span><span class="op" id="1100062">.</span><span class="ident" id="1100063">Errorf</span><span class="op" id="1100069">(</span><span class="string" id="1100070">&#34;Fields(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1100096">,</span>&nbsp;<span class="ident" id="1100098">tt</span><span class="op" id="1100100">.</span><span class="ident" id="1100101">s</span><span class="op" id="1100102">,</span>&nbsp;<span class="ident" id="1100104">a</span><span class="op" id="1100105">,</span>&nbsp;<span class="ident" id="1100107">tt</span><span class="op" id="1100109">.</span><span class="ident" id="1100110">a</span><span class="op" id="1100111">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100116">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100130">}</span><br>
<span class="lineno"></span><span class="op" id="1100132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="keyword" id="1100135">var</span>&nbsp;<span class="ident" id="1100139">FieldsFuncTests</span>&nbsp;<span class="op" id="1100155">=</span>&nbsp;<span class="op" id="1100157">[</span><span class="op" id="1100158">]</span><span class="ident" id="1100159">FieldsTest</span><span class="op" id="1100169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100172">{</span><span class="string" id="1100173">&#34;&#34;</span><span class="op" id="1100175">,</span>&nbsp;<span class="op" id="1100177">[</span><span class="op" id="1100178">]</span><span class="builtintype" id="1100179">string</span><span class="op" id="1100185">{</span><span class="op" id="1100186">}</span><span class="op" id="1100187">}</span><span class="op" id="1100188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100191">{</span><span class="string" id="1100192">&#34;XX&#34;</span><span class="op" id="1100196">,</span>&nbsp;<span class="op" id="1100198">[</span><span class="op" id="1100199">]</span><span class="builtintype" id="1100200">string</span><span class="op" id="1100206">{</span><span class="op" id="1100207">}</span><span class="op" id="1100208">}</span><span class="op" id="1100209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100212">{</span><span class="string" id="1100213">&#34;XXhiXXX&#34;</span><span class="op" id="1100222">,</span>&nbsp;<span class="op" id="1100224">[</span><span class="op" id="1100225">]</span><span class="builtintype" id="1100226">string</span><span class="op" id="1100232">{</span><span class="string" id="1100233">&#34;hi&#34;</span><span class="op" id="1100237">}</span><span class="op" id="1100238">}</span><span class="op" id="1100239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100242">{</span><span class="string" id="1100243">&#34;aXXbXXXcX&#34;</span><span class="op" id="1100254">,</span>&nbsp;<span class="op" id="1100256">[</span><span class="op" id="1100257">]</span><span class="builtintype" id="1100258">string</span><span class="op" id="1100264">{</span><span class="string" id="1100265">&#34;a&#34;</span><span class="op" id="1100268">,</span>&nbsp;<span class="string" id="1100270">&#34;b&#34;</span><span class="op" id="1100273">,</span>&nbsp;<span class="string" id="1100275">&#34;c&#34;</span><span class="op" id="1100278">}</span><span class="op" id="1100279">}</span><span class="op" id="1100280">,</span><br>
<span class="lineno">330</span><span class="op" id="1100282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1100285">func</span>&nbsp;<span class="ident" id="1100290">TestFieldsFunc</span><span class="op" id="1100304">(</span><span class="ident" id="1100305">t</span>&nbsp;<span class="op" id="1100307">*</span><span class="ident" id="1100308">testing</span><span class="op" id="1100315">.</span><span class="ident" id="1100316">T</span><span class="op" id="1100317">)</span>&nbsp;<span class="op" id="1100319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100322">for</span>&nbsp;<span class="ident" id="1100326">_</span><span class="op" id="1100327">,</span>&nbsp;<span class="ident" id="1100329">tt</span>&nbsp;<span class="op" id="1100332">:=</span>&nbsp;<span class="keyword" id="1100335">range</span>&nbsp;<span class="ident" id="1100341">fieldstests</span>&nbsp;<span class="op" id="1100353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100357">a</span>&nbsp;<span class="op" id="1100359">:=</span>&nbsp;<span class="ident" id="1100362">FieldsFunc</span><span class="op" id="1100372">(</span><span class="ident" id="1100373">tt</span><span class="op" id="1100375">.</span><span class="ident" id="1100376">s</span><span class="op" id="1100377">,</span>&nbsp;<span class="ident" id="1100379">unicode</span><span class="op" id="1100386">.</span><span class="ident" id="1100387">IsSpace</span><span class="op" id="1100394">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100398">if</span>&nbsp;<span class="op" id="1100401">!</span><span class="ident" id="1100402">eq</span><span class="op" id="1100404">(</span><span class="ident" id="1100405">a</span><span class="op" id="1100406">,</span>&nbsp;<span class="ident" id="1100408">tt</span><span class="op" id="1100410">.</span><span class="ident" id="1100411">a</span><span class="op" id="1100412">)</span>&nbsp;<span class="op" id="1100414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100419">t</span><span class="op" id="1100420">.</span><span class="ident" id="1100421">Errorf</span><span class="op" id="1100427">(</span><span class="string" id="1100428">&#34;FieldsFunc(%q,&nbsp;unicode.IsSpace)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1100475">,</span>&nbsp;<span class="ident" id="1100477">tt</span><span class="op" id="1100479">.</span><span class="ident" id="1100480">s</span><span class="op" id="1100481">,</span>&nbsp;<span class="ident" id="1100483">a</span><span class="op" id="1100484">,</span>&nbsp;<span class="ident" id="1100486">tt</span><span class="op" id="1100488">.</span><span class="ident" id="1100489">a</span><span class="op" id="1100490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100495">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100509">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100512">pred</span>&nbsp;<span class="op" id="1100517">:=</span>&nbsp;<span class="keyword" id="1100520">func</span><span class="op" id="1100524">(</span><span class="ident" id="1100525">c</span>&nbsp;<span class="builtintype" id="1100527">rune</span><span class="op" id="1100531">)</span>&nbsp;<span class="builtintype" id="1100533">bool</span>&nbsp;<span class="op" id="1100538">{</span>&nbsp;<span class="keyword" id="1100540">return</span>&nbsp;<span class="ident" id="1100547">c</span>&nbsp;<span class="op" id="1100549">==</span>&nbsp;<span class="string" id="1100552">&#39;X&#39;</span>&nbsp;<span class="op" id="1100556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100559">for</span>&nbsp;<span class="ident" id="1100563">_</span><span class="op" id="1100564">,</span>&nbsp;<span class="ident" id="1100566">tt</span>&nbsp;<span class="op" id="1100569">:=</span>&nbsp;<span class="keyword" id="1100572">range</span>&nbsp;<span class="ident" id="1100578">FieldsFuncTests</span>&nbsp;<span class="op" id="1100594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100598">a</span>&nbsp;<span class="op" id="1100600">:=</span>&nbsp;<span class="ident" id="1100603">FieldsFunc</span><span class="op" id="1100613">(</span><span class="ident" id="1100614">tt</span><span class="op" id="1100616">.</span><span class="ident" id="1100617">s</span><span class="op" id="1100618">,</span>&nbsp;<span class="ident" id="1100620">pred</span><span class="op" id="1100624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1100628">if</span>&nbsp;<span class="op" id="1100631">!</span><span class="ident" id="1100632">eq</span><span class="op" id="1100634">(</span><span class="ident" id="1100635">a</span><span class="op" id="1100636">,</span>&nbsp;<span class="ident" id="1100638">tt</span><span class="op" id="1100640">.</span><span class="ident" id="1100641">a</span><span class="op" id="1100642">)</span>&nbsp;<span class="op" id="1100644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100649">t</span><span class="op" id="1100650">.</span><span class="ident" id="1100651">Errorf</span><span class="op" id="1100657">(</span><span class="string" id="1100658">&#34;FieldsFunc(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1100688">,</span>&nbsp;<span class="ident" id="1100690">tt</span><span class="op" id="1100692">.</span><span class="ident" id="1100693">s</span><span class="op" id="1100694">,</span>&nbsp;<span class="ident" id="1100696">a</span><span class="op" id="1100697">,</span>&nbsp;<span class="ident" id="1100699">tt</span><span class="op" id="1100701">.</span><span class="ident" id="1100702">a</span><span class="op" id="1100703">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1100710">}</span><br>
<span class="lineno"></span><span class="op" id="1100712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1100715">//&nbsp;Test&nbsp;case&nbsp;for&nbsp;any&nbsp;function&nbsp;which&nbsp;accepts&nbsp;and&nbsp;returns&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno">350</span><span class="keyword" id="1100788">type</span>&nbsp;<span class="ident" id="1100793">StringTest</span>&nbsp;<span class="keyword" id="1100804">struct</span>&nbsp;<span class="op" id="1100811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1100814">in</span><span class="op" id="1100816">,</span>&nbsp;<span class="ident" id="1100818">out</span>&nbsp;<span class="builtintype" id="1100822">string</span><br>
<span class="lineno"></span><span class="op" id="1100829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1100832">//&nbsp;Execute&nbsp;f&nbsp;on&nbsp;each&nbsp;test&nbsp;case.&nbsp;&nbsp;funcName&nbsp;should&nbsp;be&nbsp;the&nbsp;name&nbsp;of&nbsp;f;&nbsp;it&#39;s&nbsp;used</span><br>
<span class="lineno">355</span><span class="comment" id="1100909">//&nbsp;in&nbsp;failure&nbsp;reports.</span><br>
<span class="lineno"></span><span class="keyword" id="1100932">func</span>&nbsp;<span class="ident" id="1100937">runStringTests</span><span class="op" id="1100951">(</span><span class="ident" id="1100952">t</span>&nbsp;<span class="op" id="1100954">*</span><span class="ident" id="1100955">testing</span><span class="op" id="1100962">.</span><span class="ident" id="1100963">T</span><span class="op" id="1100964">,</span>&nbsp;<span class="ident" id="1100966">f</span>&nbsp;<span class="keyword" id="1100968">func</span><span class="op" id="1100972">(</span><span class="builtintype" id="1100973">string</span><span class="op" id="1100979">)</span>&nbsp;<span class="builtintype" id="1100981">string</span><span class="op" id="1100987">,</span>&nbsp;<span class="ident" id="1100989">funcName</span>&nbsp;<span class="builtintype" id="1100998">string</span><span class="op" id="1101004">,</span>&nbsp;<span class="ident" id="1101006">testCases</span>&nbsp;<span class="op" id="1101016">[</span><span class="op" id="1101017">]</span><span class="ident" id="1101018">StringTest</span><span class="op" id="1101028">)</span>&nbsp;<span class="op" id="1101030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1101033">for</span>&nbsp;<span class="ident" id="1101037">_</span><span class="op" id="1101038">,</span>&nbsp;<span class="ident" id="1101040">tc</span>&nbsp;<span class="op" id="1101043">:=</span>&nbsp;<span class="keyword" id="1101046">range</span>&nbsp;<span class="ident" id="1101052">testCases</span>&nbsp;<span class="op" id="1101062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1101066">actual</span>&nbsp;<span class="op" id="1101073">:=</span>&nbsp;<span class="ident" id="1101076">f</span><span class="op" id="1101077">(</span><span class="ident" id="1101078">tc</span><span class="op" id="1101080">.</span><span class="ident" id="1101081">in</span><span class="op" id="1101083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1101087">if</span>&nbsp;<span class="ident" id="1101090">actual</span>&nbsp;<span class="op" id="1101097">!=</span>&nbsp;<span class="ident" id="1101100">tc</span><span class="op" id="1101102">.</span><span class="ident" id="1101103">out</span>&nbsp;<span class="op" id="1101107">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1101112">t</span><span class="op" id="1101113">.</span><span class="ident" id="1101114">Errorf</span><span class="op" id="1101120">(</span><span class="string" id="1101121">&#34;%s(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1101143">,</span>&nbsp;<span class="ident" id="1101145">funcName</span><span class="op" id="1101153">,</span>&nbsp;<span class="ident" id="1101155">tc</span><span class="op" id="1101157">.</span><span class="ident" id="1101158">in</span><span class="op" id="1101160">,</span>&nbsp;<span class="ident" id="1101162">actual</span><span class="op" id="1101168">,</span>&nbsp;<span class="ident" id="1101170">tc</span><span class="op" id="1101172">.</span><span class="ident" id="1101173">out</span><span class="op" id="1101176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101183">}</span><br>
<span class="lineno"></span><span class="op" id="1101185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">365</span><span class="keyword" id="1101188">var</span>&nbsp;<span class="ident" id="1101192">upperTests</span>&nbsp;<span class="op" id="1101203">=</span>&nbsp;<span class="op" id="1101205">[</span><span class="op" id="1101206">]</span><span class="ident" id="1101207">StringTest</span><span class="op" id="1101217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101220">{</span><span class="string" id="1101221">&#34;&#34;</span><span class="op" id="1101223">,</span>&nbsp;<span class="string" id="1101225">&#34;&#34;</span><span class="op" id="1101227">}</span><span class="op" id="1101228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101231">{</span><span class="string" id="1101232">&#34;abc&#34;</span><span class="op" id="1101237">,</span>&nbsp;<span class="string" id="1101239">&#34;ABC&#34;</span><span class="op" id="1101244">}</span><span class="op" id="1101245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101248">{</span><span class="string" id="1101249">&#34;AbC123&#34;</span><span class="op" id="1101257">,</span>&nbsp;<span class="string" id="1101259">&#34;ABC123&#34;</span><span class="op" id="1101267">}</span><span class="op" id="1101268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101271">{</span><span class="string" id="1101272">&#34;azAZ09_&#34;</span><span class="op" id="1101281">,</span>&nbsp;<span class="string" id="1101283">&#34;AZAZ09_&#34;</span><span class="op" id="1101292">}</span><span class="op" id="1101293">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101296">{</span><span class="string" id="1101297">&#34;\u0250\u0250\u0250\u0250\u0250&#34;</span><span class="op" id="1101329">,</span>&nbsp;<span class="string" id="1101331">&#34;\u2C6F\u2C6F\u2C6F\u2C6F\u2C6F&#34;</span><span class="op" id="1101363">}</span><span class="op" id="1101364">,</span>&nbsp;<span class="comment" id="1101366">//&nbsp;grows&nbsp;one&nbsp;byte&nbsp;per&nbsp;char</span><br>
<span class="lineno"></span><span class="op" id="1101393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1101396">var</span>&nbsp;<span class="ident" id="1101400">lowerTests</span>&nbsp;<span class="op" id="1101411">=</span>&nbsp;<span class="op" id="1101413">[</span><span class="op" id="1101414">]</span><span class="ident" id="1101415">StringTest</span><span class="op" id="1101425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101428">{</span><span class="string" id="1101429">&#34;&#34;</span><span class="op" id="1101431">,</span>&nbsp;<span class="string" id="1101433">&#34;&#34;</span><span class="op" id="1101435">}</span><span class="op" id="1101436">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101439">{</span><span class="string" id="1101440">&#34;abc&#34;</span><span class="op" id="1101445">,</span>&nbsp;<span class="string" id="1101447">&#34;abc&#34;</span><span class="op" id="1101452">}</span><span class="op" id="1101453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101456">{</span><span class="string" id="1101457">&#34;AbC123&#34;</span><span class="op" id="1101465">,</span>&nbsp;<span class="string" id="1101467">&#34;abc123&#34;</span><span class="op" id="1101475">}</span><span class="op" id="1101476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101479">{</span><span class="string" id="1101480">&#34;azAZ09_&#34;</span><span class="op" id="1101489">,</span>&nbsp;<span class="string" id="1101491">&#34;azaz09_&#34;</span><span class="op" id="1101500">}</span><span class="op" id="1101501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101504">{</span><span class="string" id="1101505">&#34;\u2C6D\u2C6D\u2C6D\u2C6D\u2C6D&#34;</span><span class="op" id="1101537">,</span>&nbsp;<span class="string" id="1101539">&#34;\u0251\u0251\u0251\u0251\u0251&#34;</span><span class="op" id="1101571">}</span><span class="op" id="1101572">,</span>&nbsp;<span class="comment" id="1101574">//&nbsp;shrinks&nbsp;one&nbsp;byte&nbsp;per&nbsp;char</span><br>
<span class="lineno"></span><span class="op" id="1101603">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="1101606">const</span>&nbsp;<span class="ident" id="1101612">space</span>&nbsp;<span class="op" id="1101618">=</span>&nbsp;<span class="string" id="1101620">&#34;\t\v\r\f\n\u0085\u00a0\u2000\u3000&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1101658">var</span>&nbsp;<span class="ident" id="1101662">trimSpaceTests</span>&nbsp;<span class="op" id="1101677">=</span>&nbsp;<span class="op" id="1101679">[</span><span class="op" id="1101680">]</span><span class="ident" id="1101681">StringTest</span><span class="op" id="1101691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101694">{</span><span class="string" id="1101695">&#34;&#34;</span><span class="op" id="1101697">,</span>&nbsp;<span class="string" id="1101699">&#34;&#34;</span><span class="op" id="1101701">}</span><span class="op" id="1101702">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101705">{</span><span class="string" id="1101706">&#34;abc&#34;</span><span class="op" id="1101711">,</span>&nbsp;<span class="string" id="1101713">&#34;abc&#34;</span><span class="op" id="1101718">}</span><span class="op" id="1101719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101722">{</span><span class="ident" id="1101723">space</span>&nbsp;<span class="op" id="1101729">+</span>&nbsp;<span class="string" id="1101731">&#34;abc&#34;</span>&nbsp;<span class="op" id="1101737">+</span>&nbsp;<span class="ident" id="1101739">space</span><span class="op" id="1101744">,</span>&nbsp;<span class="string" id="1101746">&#34;abc&#34;</span><span class="op" id="1101751">}</span><span class="op" id="1101752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101755">{</span><span class="string" id="1101756">&#34;&nbsp;&#34;</span><span class="op" id="1101759">,</span>&nbsp;<span class="string" id="1101761">&#34;&#34;</span><span class="op" id="1101763">}</span><span class="op" id="1101764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101767">{</span><span class="string" id="1101768">&#34;&nbsp;\t\r\n&nbsp;\t\t\r\r\n\n&nbsp;&#34;</span><span class="op" id="1101791">,</span>&nbsp;<span class="string" id="1101793">&#34;&#34;</span><span class="op" id="1101795">}</span><span class="op" id="1101796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101799">{</span><span class="string" id="1101800">&#34;&nbsp;\t\r\n&nbsp;x\t\t\r\r\n\n&nbsp;&#34;</span><span class="op" id="1101824">,</span>&nbsp;<span class="string" id="1101826">&#34;x&#34;</span><span class="op" id="1101829">}</span><span class="op" id="1101830">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101833">{</span><span class="string" id="1101834">&#34;&nbsp;\u2000\t\r\n&nbsp;x\t\t\r\r\ny\n&nbsp;\u3000&#34;</span><span class="op" id="1101871">,</span>&nbsp;<span class="string" id="1101873">&#34;x\t\t\r\r\ny&#34;</span><span class="op" id="1101887">}</span><span class="op" id="1101888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101891">{</span><span class="string" id="1101892">&#34;1&nbsp;\t\r\n2&#34;</span><span class="op" id="1101903">,</span>&nbsp;<span class="string" id="1101905">&#34;1&nbsp;\t\r\n2&#34;</span><span class="op" id="1101916">}</span><span class="op" id="1101917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101920">{</span><span class="string" id="1101921">&#34;&nbsp;x\x80&#34;</span><span class="op" id="1101929">,</span>&nbsp;<span class="string" id="1101931">&#34;x\x80&#34;</span><span class="op" id="1101938">}</span><span class="op" id="1101939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101942">{</span><span class="string" id="1101943">&#34;&nbsp;x\xc0&#34;</span><span class="op" id="1101951">,</span>&nbsp;<span class="string" id="1101953">&#34;x\xc0&#34;</span><span class="op" id="1101960">}</span><span class="op" id="1101961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101964">{</span><span class="string" id="1101965">&#34;x&nbsp;\xc0\xc0&nbsp;&#34;</span><span class="op" id="1101978">,</span>&nbsp;<span class="string" id="1101980">&#34;x&nbsp;\xc0\xc0&#34;</span><span class="op" id="1101992">}</span><span class="op" id="1101993">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1101996">{</span><span class="string" id="1101997">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="1102005">,</span>&nbsp;<span class="string" id="1102007">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="1102015">}</span><span class="op" id="1102016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102019">{</span><span class="string" id="1102020">&#34;x&nbsp;\xc0&nbsp;&#34;</span><span class="op" id="1102029">,</span>&nbsp;<span class="string" id="1102031">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="1102039">}</span><span class="op" id="1102040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102043">{</span><span class="string" id="1102044">&#34;x&nbsp;\xc0\xc0&nbsp;&#34;</span><span class="op" id="1102057">,</span>&nbsp;<span class="string" id="1102059">&#34;x&nbsp;\xc0\xc0&#34;</span><span class="op" id="1102071">}</span><span class="op" id="1102072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102075">{</span><span class="string" id="1102076">&#34;x&nbsp;☺\xc0\xc0&nbsp;&#34;</span><span class="op" id="1102092">,</span>&nbsp;<span class="string" id="1102094">&#34;x&nbsp;☺\xc0\xc0&#34;</span><span class="op" id="1102109">}</span><span class="op" id="1102110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102113">{</span><span class="string" id="1102114">&#34;x&nbsp;☺&nbsp;&#34;</span><span class="op" id="1102122">,</span>&nbsp;<span class="string" id="1102124">&#34;x&nbsp;☺&#34;</span><span class="op" id="1102131">}</span><span class="op" id="1102132">,</span><br>
<span class="lineno">400</span><span class="op" id="1102134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1102137">func</span>&nbsp;<span class="ident" id="1102142">tenRunes</span><span class="op" id="1102150">(</span><span class="ident" id="1102151">ch</span>&nbsp;<span class="builtintype" id="1102154">rune</span><span class="op" id="1102158">)</span>&nbsp;<span class="builtintype" id="1102160">string</span>&nbsp;<span class="op" id="1102167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102170">r</span>&nbsp;<span class="op" id="1102172">:=</span>&nbsp;<span class="builtinfunc" id="1102175">make</span><span class="op" id="1102179">(</span><span class="op" id="1102180">[</span><span class="op" id="1102181">]</span><span class="builtintype" id="1102182">rune</span><span class="op" id="1102186">,</span>&nbsp;<span class="num" id="1102188">10</span><span class="op" id="1102190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102193">for</span>&nbsp;<span class="ident" id="1102197">i</span>&nbsp;<span class="op" id="1102199">:=</span>&nbsp;<span class="keyword" id="1102202">range</span>&nbsp;<span class="ident" id="1102208">r</span>&nbsp;<span class="op" id="1102210">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102214">r</span><span class="op" id="1102215">[</span><span class="ident" id="1102216">i</span><span class="op" id="1102217">]</span>&nbsp;<span class="op" id="1102219">=</span>&nbsp;<span class="ident" id="1102221">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102228">return</span>&nbsp;<span class="builtintype" id="1102235">string</span><span class="op" id="1102241">(</span><span class="ident" id="1102242">r</span><span class="op" id="1102243">)</span><br>
<span class="lineno"></span><span class="op" id="1102245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="comment" id="1102248">//&nbsp;User-defined&nbsp;self-inverse&nbsp;mapping&nbsp;function</span><br>
<span class="lineno"></span><span class="keyword" id="1102294">func</span>&nbsp;<span class="ident" id="1102299">rot13</span><span class="op" id="1102304">(</span><span class="ident" id="1102305">r</span>&nbsp;<span class="builtintype" id="1102307">rune</span><span class="op" id="1102311">)</span>&nbsp;<span class="builtintype" id="1102313">rune</span>&nbsp;<span class="op" id="1102318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102321">step</span>&nbsp;<span class="op" id="1102326">:=</span>&nbsp;<span class="builtintype" id="1102329">rune</span><span class="op" id="1102333">(</span><span class="num" id="1102334">13</span><span class="op" id="1102336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102339">if</span>&nbsp;<span class="ident" id="1102342">r</span>&nbsp;<span class="op" id="1102344">&gt;=</span>&nbsp;<span class="string" id="1102347">&#39;a&#39;</span>&nbsp;<span class="op" id="1102351">&amp;&amp;</span>&nbsp;<span class="ident" id="1102354">r</span>&nbsp;<span class="op" id="1102356">&lt;=</span>&nbsp;<span class="string" id="1102359">&#39;z&#39;</span>&nbsp;<span class="op" id="1102363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102367">return</span>&nbsp;<span class="op" id="1102374">(</span><span class="op" id="1102375">(</span><span class="ident" id="1102376">r</span>&nbsp;<span class="op" id="1102378">-</span>&nbsp;<span class="string" id="1102380">&#39;a&#39;</span>&nbsp;<span class="op" id="1102384">+</span>&nbsp;<span class="ident" id="1102386">step</span><span class="op" id="1102390">)</span>&nbsp;<span class="op" id="1102392">%</span>&nbsp;<span class="num" id="1102394">26</span><span class="op" id="1102396">)</span>&nbsp;<span class="op" id="1102398">+</span>&nbsp;<span class="string" id="1102400">&#39;a&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102408">if</span>&nbsp;<span class="ident" id="1102411">r</span>&nbsp;<span class="op" id="1102413">&gt;=</span>&nbsp;<span class="string" id="1102416">&#39;A&#39;</span>&nbsp;<span class="op" id="1102420">&amp;&amp;</span>&nbsp;<span class="ident" id="1102423">r</span>&nbsp;<span class="op" id="1102425">&lt;=</span>&nbsp;<span class="string" id="1102428">&#39;Z&#39;</span>&nbsp;<span class="op" id="1102432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102436">return</span>&nbsp;<span class="op" id="1102443">(</span><span class="op" id="1102444">(</span><span class="ident" id="1102445">r</span>&nbsp;<span class="op" id="1102447">-</span>&nbsp;<span class="string" id="1102449">&#39;A&#39;</span>&nbsp;<span class="op" id="1102453">+</span>&nbsp;<span class="ident" id="1102455">step</span><span class="op" id="1102459">)</span>&nbsp;<span class="op" id="1102461">%</span>&nbsp;<span class="num" id="1102463">26</span><span class="op" id="1102465">)</span>&nbsp;<span class="op" id="1102467">+</span>&nbsp;<span class="string" id="1102469">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102477">return</span>&nbsp;<span class="ident" id="1102484">r</span><br>
<span class="lineno">420</span><span class="op" id="1102486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1102489">func</span>&nbsp;<span class="ident" id="1102494">TestMap</span><span class="op" id="1102501">(</span><span class="ident" id="1102502">t</span>&nbsp;<span class="op" id="1102504">*</span><span class="ident" id="1102505">testing</span><span class="op" id="1102512">.</span><span class="ident" id="1102513">T</span><span class="op" id="1102514">)</span>&nbsp;<span class="op" id="1102516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1102519">//&nbsp;Run&nbsp;a&nbsp;couple&nbsp;of&nbsp;awful&nbsp;growth/shrinkage&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102568">a</span>&nbsp;<span class="op" id="1102570">:=</span>&nbsp;<span class="ident" id="1102573">tenRunes</span><span class="op" id="1102581">(</span><span class="string" id="1102582">&#39;a&#39;</span><span class="op" id="1102585">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1102588">//&nbsp;1.&nbsp;&nbsp;Grow.&nbsp;&nbsp;This&nbsp;triggers&nbsp;two&nbsp;reallocations&nbsp;in&nbsp;Map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102643">maxRune</span>&nbsp;<span class="op" id="1102651">:=</span>&nbsp;<span class="keyword" id="1102654">func</span><span class="op" id="1102658">(</span><span class="builtintype" id="1102659">rune</span><span class="op" id="1102663">)</span>&nbsp;<span class="builtintype" id="1102665">rune</span>&nbsp;<span class="op" id="1102670">{</span>&nbsp;<span class="keyword" id="1102672">return</span>&nbsp;<span class="ident" id="1102679">unicode</span><span class="op" id="1102686">.</span><span class="ident" id="1102687">MaxRune</span>&nbsp;<span class="op" id="1102695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102698">m</span>&nbsp;<span class="op" id="1102700">:=</span>&nbsp;<span class="ident" id="1102703">Map</span><span class="op" id="1102706">(</span><span class="ident" id="1102707">maxRune</span><span class="op" id="1102714">,</span>&nbsp;<span class="ident" id="1102716">a</span><span class="op" id="1102717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102720">expect</span>&nbsp;<span class="op" id="1102727">:=</span>&nbsp;<span class="ident" id="1102730">tenRunes</span><span class="op" id="1102738">(</span><span class="ident" id="1102739">unicode</span><span class="op" id="1102746">.</span><span class="ident" id="1102747">MaxRune</span><span class="op" id="1102754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102757">if</span>&nbsp;<span class="ident" id="1102760">m</span>&nbsp;<span class="op" id="1102762">!=</span>&nbsp;<span class="ident" id="1102765">expect</span>&nbsp;<span class="op" id="1102772">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102776">t</span><span class="op" id="1102777">.</span><span class="ident" id="1102778">Errorf</span><span class="op" id="1102784">(</span><span class="string" id="1102785">&#34;growing:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1102814">,</span>&nbsp;<span class="ident" id="1102816">expect</span><span class="op" id="1102822">,</span>&nbsp;<span class="ident" id="1102824">m</span><span class="op" id="1102825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1102828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1102832">//&nbsp;2.&nbsp;Shrink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102846">minRune</span>&nbsp;<span class="op" id="1102854">:=</span>&nbsp;<span class="keyword" id="1102857">func</span><span class="op" id="1102861">(</span><span class="builtintype" id="1102862">rune</span><span class="op" id="1102866">)</span>&nbsp;<span class="builtintype" id="1102868">rune</span>&nbsp;<span class="op" id="1102873">{</span>&nbsp;<span class="keyword" id="1102875">return</span>&nbsp;<span class="string" id="1102882">&#39;a&#39;</span>&nbsp;<span class="op" id="1102886">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102889">m</span>&nbsp;<span class="op" id="1102891">=</span>&nbsp;<span class="ident" id="1102893">Map</span><span class="op" id="1102896">(</span><span class="ident" id="1102897">minRune</span><span class="op" id="1102904">,</span>&nbsp;<span class="ident" id="1102906">tenRunes</span><span class="op" id="1102914">(</span><span class="ident" id="1102915">unicode</span><span class="op" id="1102922">.</span><span class="ident" id="1102923">MaxRune</span><span class="op" id="1102930">)</span><span class="op" id="1102931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102934">expect</span>&nbsp;<span class="op" id="1102941">=</span>&nbsp;<span class="ident" id="1102943">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1102946">if</span>&nbsp;<span class="ident" id="1102949">m</span>&nbsp;<span class="op" id="1102951">!=</span>&nbsp;<span class="ident" id="1102954">expect</span>&nbsp;<span class="op" id="1102961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1102965">t</span><span class="op" id="1102966">.</span><span class="ident" id="1102967">Errorf</span><span class="op" id="1102973">(</span><span class="string" id="1102974">&#34;shrinking:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1103005">,</span>&nbsp;<span class="ident" id="1103007">expect</span><span class="op" id="1103013">,</span>&nbsp;<span class="ident" id="1103015">m</span><span class="op" id="1103016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103019">}</span><br>
<span class="lineno">440</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1103023">//&nbsp;3.&nbsp;Rot13</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103036">m</span>&nbsp;<span class="op" id="1103038">=</span>&nbsp;<span class="ident" id="1103040">Map</span><span class="op" id="1103043">(</span><span class="ident" id="1103044">rot13</span><span class="op" id="1103049">,</span>&nbsp;<span class="string" id="1103051">&#34;a&nbsp;to&nbsp;zed&#34;</span><span class="op" id="1103061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103064">expect</span>&nbsp;<span class="op" id="1103071">=</span>&nbsp;<span class="string" id="1103073">&#34;n&nbsp;gb&nbsp;mrq&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103085">if</span>&nbsp;<span class="ident" id="1103088">m</span>&nbsp;<span class="op" id="1103090">!=</span>&nbsp;<span class="ident" id="1103093">expect</span>&nbsp;<span class="op" id="1103100">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103104">t</span><span class="op" id="1103105">.</span><span class="ident" id="1103106">Errorf</span><span class="op" id="1103112">(</span><span class="string" id="1103113">&#34;rot13:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1103140">,</span>&nbsp;<span class="ident" id="1103142">expect</span><span class="op" id="1103148">,</span>&nbsp;<span class="ident" id="1103150">m</span><span class="op" id="1103151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1103158">//&nbsp;4.&nbsp;Rot13^2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103173">m</span>&nbsp;<span class="op" id="1103175">=</span>&nbsp;<span class="ident" id="1103177">Map</span><span class="op" id="1103180">(</span><span class="ident" id="1103181">rot13</span><span class="op" id="1103186">,</span>&nbsp;<span class="ident" id="1103188">Map</span><span class="op" id="1103191">(</span><span class="ident" id="1103192">rot13</span><span class="op" id="1103197">,</span>&nbsp;<span class="string" id="1103199">&#34;a&nbsp;to&nbsp;zed&#34;</span><span class="op" id="1103209">)</span><span class="op" id="1103210">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103213">expect</span>&nbsp;<span class="op" id="1103220">=</span>&nbsp;<span class="string" id="1103222">&#34;a&nbsp;to&nbsp;zed&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103234">if</span>&nbsp;<span class="ident" id="1103237">m</span>&nbsp;<span class="op" id="1103239">!=</span>&nbsp;<span class="ident" id="1103242">expect</span>&nbsp;<span class="op" id="1103249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103253">t</span><span class="op" id="1103254">.</span><span class="ident" id="1103255">Errorf</span><span class="op" id="1103261">(</span><span class="string" id="1103262">&#34;rot13:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1103289">,</span>&nbsp;<span class="ident" id="1103291">expect</span><span class="op" id="1103297">,</span>&nbsp;<span class="ident" id="1103299">m</span><span class="op" id="1103300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1103307">//&nbsp;5.&nbsp;Drop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103319">dropNotLatin</span>&nbsp;<span class="op" id="1103332">:=</span>&nbsp;<span class="keyword" id="1103335">func</span><span class="op" id="1103339">(</span><span class="ident" id="1103340">r</span>&nbsp;<span class="builtintype" id="1103342">rune</span><span class="op" id="1103346">)</span>&nbsp;<span class="builtintype" id="1103348">rune</span>&nbsp;<span class="op" id="1103353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103357">if</span>&nbsp;<span class="ident" id="1103360">unicode</span><span class="op" id="1103367">.</span><span class="ident" id="1103368">Is</span><span class="op" id="1103370">(</span><span class="ident" id="1103371">unicode</span><span class="op" id="1103378">.</span><span class="ident" id="1103379">Latin</span><span class="op" id="1103384">,</span>&nbsp;<span class="ident" id="1103386">r</span><span class="op" id="1103387">)</span>&nbsp;<span class="op" id="1103389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103394">return</span>&nbsp;<span class="ident" id="1103401">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103405">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103409">return</span>&nbsp;<span class="op" id="1103416">-</span><span class="num" id="1103417">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103423">m</span>&nbsp;<span class="op" id="1103425">=</span>&nbsp;<span class="ident" id="1103427">Map</span><span class="op" id="1103430">(</span><span class="ident" id="1103431">dropNotLatin</span><span class="op" id="1103443">,</span>&nbsp;<span class="string" id="1103445">&#34;Hello,&nbsp;세계&#34;</span><span class="op" id="1103460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103463">expect</span>&nbsp;<span class="op" id="1103470">=</span>&nbsp;<span class="string" id="1103472">&#34;Hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103481">if</span>&nbsp;<span class="ident" id="1103484">m</span>&nbsp;<span class="op" id="1103486">!=</span>&nbsp;<span class="ident" id="1103489">expect</span>&nbsp;<span class="op" id="1103496">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103500">t</span><span class="op" id="1103501">.</span><span class="ident" id="1103502">Errorf</span><span class="op" id="1103508">(</span><span class="string" id="1103509">&#34;drop:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1103535">,</span>&nbsp;<span class="ident" id="1103537">expect</span><span class="op" id="1103543">,</span>&nbsp;<span class="ident" id="1103545">m</span><span class="op" id="1103546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1103553">//&nbsp;6.&nbsp;Identity</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103569">identity</span>&nbsp;<span class="op" id="1103578">:=</span>&nbsp;<span class="keyword" id="1103581">func</span><span class="op" id="1103585">(</span><span class="ident" id="1103586">r</span>&nbsp;<span class="builtintype" id="1103588">rune</span><span class="op" id="1103592">)</span>&nbsp;<span class="builtintype" id="1103594">rune</span>&nbsp;<span class="op" id="1103599">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103603">return</span>&nbsp;<span class="ident" id="1103610">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103616">orig</span>&nbsp;<span class="op" id="1103621">:=</span>&nbsp;<span class="string" id="1103624">&#34;Input&nbsp;string&nbsp;that&nbsp;we&nbsp;expect&nbsp;not&nbsp;to&nbsp;be&nbsp;copied.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103673">m</span>&nbsp;<span class="op" id="1103675">=</span>&nbsp;<span class="ident" id="1103677">Map</span><span class="op" id="1103680">(</span><span class="ident" id="1103681">identity</span><span class="op" id="1103689">,</span>&nbsp;<span class="ident" id="1103691">orig</span><span class="op" id="1103695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1103698">if</span>&nbsp;<span class="op" id="1103701">(</span><span class="op" id="1103702">*</span><span class="ident" id="1103703">reflect</span><span class="op" id="1103710">.</span><span class="ident" id="1103711">StringHeader</span><span class="op" id="1103723">)</span><span class="op" id="1103724">(</span><span class="ident" id="1103725">unsafe</span><span class="op" id="1103731">.</span><span class="ident" id="1103732">Pointer</span><span class="op" id="1103739">(</span><span class="op" id="1103740">&amp;</span><span class="ident" id="1103741">orig</span><span class="op" id="1103745">)</span><span class="op" id="1103746">)</span><span class="op" id="1103747">.</span><span class="ident" id="1103748">Data</span>&nbsp;<span class="op" id="1103753">!=</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103758">(</span><span class="op" id="1103759">*</span><span class="ident" id="1103760">reflect</span><span class="op" id="1103767">.</span><span class="ident" id="1103768">StringHeader</span><span class="op" id="1103780">)</span><span class="op" id="1103781">(</span><span class="ident" id="1103782">unsafe</span><span class="op" id="1103788">.</span><span class="ident" id="1103789">Pointer</span><span class="op" id="1103796">(</span><span class="op" id="1103797">&amp;</span><span class="ident" id="1103798">m</span><span class="op" id="1103799">)</span><span class="op" id="1103800">)</span><span class="op" id="1103801">.</span><span class="ident" id="1103802">Data</span>&nbsp;<span class="op" id="1103807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1103811">t</span><span class="op" id="1103812">.</span><span class="ident" id="1103813">Error</span><span class="op" id="1103818">(</span><span class="string" id="1103819">&#34;unexpected&nbsp;copy&nbsp;during&nbsp;identity&nbsp;map&#34;</span><span class="op" id="1103856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1103859">}</span><br>
<span class="lineno"></span><span class="op" id="1103861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="1103864">func</span>&nbsp;<span class="ident" id="1103869">TestToUpper</span><span class="op" id="1103880">(</span><span class="ident" id="1103881">t</span>&nbsp;<span class="op" id="1103883">*</span><span class="ident" id="1103884">testing</span><span class="op" id="1103891">.</span><span class="ident" id="1103892">T</span><span class="op" id="1103893">)</span>&nbsp;<span class="op" id="1103895">{</span>&nbsp;<span class="ident" id="1103897">runStringTests</span><span class="op" id="1103911">(</span><span class="ident" id="1103912">t</span><span class="op" id="1103913">,</span>&nbsp;<span class="ident" id="1103915">ToUpper</span><span class="op" id="1103922">,</span>&nbsp;<span class="string" id="1103924">&#34;ToUpper&#34;</span><span class="op" id="1103933">,</span>&nbsp;<span class="ident" id="1103935">upperTests</span><span class="op" id="1103945">)</span>&nbsp;<span class="op" id="1103947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1103950">func</span>&nbsp;<span class="ident" id="1103955">TestToLower</span><span class="op" id="1103966">(</span><span class="ident" id="1103967">t</span>&nbsp;<span class="op" id="1103969">*</span><span class="ident" id="1103970">testing</span><span class="op" id="1103977">.</span><span class="ident" id="1103978">T</span><span class="op" id="1103979">)</span>&nbsp;<span class="op" id="1103981">{</span>&nbsp;<span class="ident" id="1103983">runStringTests</span><span class="op" id="1103997">(</span><span class="ident" id="1103998">t</span><span class="op" id="1103999">,</span>&nbsp;<span class="ident" id="1104001">ToLower</span><span class="op" id="1104008">,</span>&nbsp;<span class="string" id="1104010">&#34;ToLower&#34;</span><span class="op" id="1104019">,</span>&nbsp;<span class="ident" id="1104021">lowerTests</span><span class="op" id="1104031">)</span>&nbsp;<span class="op" id="1104033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1104036">func</span>&nbsp;<span class="ident" id="1104041">BenchmarkMapNoChanges</span><span class="op" id="1104062">(</span><span class="ident" id="1104063">b</span>&nbsp;<span class="op" id="1104065">*</span><span class="ident" id="1104066">testing</span><span class="op" id="1104073">.</span><span class="ident" id="1104074">B</span><span class="op" id="1104075">)</span>&nbsp;<span class="op" id="1104077">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104080">identity</span>&nbsp;<span class="op" id="1104089">:=</span>&nbsp;<span class="keyword" id="1104092">func</span><span class="op" id="1104096">(</span><span class="ident" id="1104097">r</span>&nbsp;<span class="builtintype" id="1104099">rune</span><span class="op" id="1104103">)</span>&nbsp;<span class="builtintype" id="1104105">rune</span>&nbsp;<span class="op" id="1104110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104114">return</span>&nbsp;<span class="ident" id="1104121">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104127">for</span>&nbsp;<span class="ident" id="1104131">i</span>&nbsp;<span class="op" id="1104133">:=</span>&nbsp;<span class="num" id="1104136">0</span><span class="op" id="1104137">;</span>&nbsp;<span class="ident" id="1104139">i</span>&nbsp;<span class="op" id="1104141">&lt;</span>&nbsp;<span class="ident" id="1104143">b</span><span class="op" id="1104144">.</span><span class="ident" id="1104145">N</span><span class="op" id="1104146">;</span>&nbsp;<span class="ident" id="1104148">i</span><span class="op" id="1104149">++</span>&nbsp;<span class="op" id="1104152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104156">Map</span><span class="op" id="1104159">(</span><span class="ident" id="1104160">identity</span><span class="op" id="1104168">,</span>&nbsp;<span class="string" id="1104170">&#34;Some&nbsp;string&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;modified.&#34;</span><span class="op" id="1104207">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104210">}</span><br>
<span class="lineno"></span><span class="op" id="1104212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1104215">func</span>&nbsp;<span class="ident" id="1104220">TestSpecialCase</span><span class="op" id="1104235">(</span><span class="ident" id="1104236">t</span>&nbsp;<span class="op" id="1104238">*</span><span class="ident" id="1104239">testing</span><span class="op" id="1104246">.</span><span class="ident" id="1104247">T</span><span class="op" id="1104248">)</span>&nbsp;<span class="op" id="1104250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104253">lower</span>&nbsp;<span class="op" id="1104259">:=</span>&nbsp;<span class="string" id="1104262">&#34;abcçdefgğhıijklmnoöprsştuüvyz&#34;</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104301">upper</span>&nbsp;<span class="op" id="1104307">:=</span>&nbsp;<span class="string" id="1104310">&#34;ABCÇDEFGĞHIİJKLMNOÖPRSŞTUÜVYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104349">u</span>&nbsp;<span class="op" id="1104351">:=</span>&nbsp;<span class="ident" id="1104354">ToUpperSpecial</span><span class="op" id="1104368">(</span><span class="ident" id="1104369">unicode</span><span class="op" id="1104376">.</span><span class="ident" id="1104377">TurkishCase</span><span class="op" id="1104388">,</span>&nbsp;<span class="ident" id="1104390">upper</span><span class="op" id="1104395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104398">if</span>&nbsp;<span class="ident" id="1104401">u</span>&nbsp;<span class="op" id="1104403">!=</span>&nbsp;<span class="ident" id="1104406">upper</span>&nbsp;<span class="op" id="1104412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104416">t</span><span class="op" id="1104417">.</span><span class="ident" id="1104418">Errorf</span><span class="op" id="1104424">(</span><span class="string" id="1104425">&#34;Upper(upper)&nbsp;is&nbsp;%s&nbsp;not&nbsp;%s&#34;</span><span class="op" id="1104452">,</span>&nbsp;<span class="ident" id="1104454">u</span><span class="op" id="1104455">,</span>&nbsp;<span class="ident" id="1104457">upper</span><span class="op" id="1104462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104465">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104468">u</span>&nbsp;<span class="op" id="1104470">=</span>&nbsp;<span class="ident" id="1104472">ToUpperSpecial</span><span class="op" id="1104486">(</span><span class="ident" id="1104487">unicode</span><span class="op" id="1104494">.</span><span class="ident" id="1104495">TurkishCase</span><span class="op" id="1104506">,</span>&nbsp;<span class="ident" id="1104508">lower</span><span class="op" id="1104513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104516">if</span>&nbsp;<span class="ident" id="1104519">u</span>&nbsp;<span class="op" id="1104521">!=</span>&nbsp;<span class="ident" id="1104524">upper</span>&nbsp;<span class="op" id="1104530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104534">t</span><span class="op" id="1104535">.</span><span class="ident" id="1104536">Errorf</span><span class="op" id="1104542">(</span><span class="string" id="1104543">&#34;Upper(lower)&nbsp;is&nbsp;%s&nbsp;not&nbsp;%s&#34;</span><span class="op" id="1104570">,</span>&nbsp;<span class="ident" id="1104572">u</span><span class="op" id="1104573">,</span>&nbsp;<span class="ident" id="1104575">upper</span><span class="op" id="1104580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104586">l</span>&nbsp;<span class="op" id="1104588">:=</span>&nbsp;<span class="ident" id="1104591">ToLowerSpecial</span><span class="op" id="1104605">(</span><span class="ident" id="1104606">unicode</span><span class="op" id="1104613">.</span><span class="ident" id="1104614">TurkishCase</span><span class="op" id="1104625">,</span>&nbsp;<span class="ident" id="1104627">lower</span><span class="op" id="1104632">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104635">if</span>&nbsp;<span class="ident" id="1104638">l</span>&nbsp;<span class="op" id="1104640">!=</span>&nbsp;<span class="ident" id="1104643">lower</span>&nbsp;<span class="op" id="1104649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104653">t</span><span class="op" id="1104654">.</span><span class="ident" id="1104655">Errorf</span><span class="op" id="1104661">(</span><span class="string" id="1104662">&#34;Lower(lower)&nbsp;is&nbsp;%s&nbsp;not&nbsp;%s&#34;</span><span class="op" id="1104689">,</span>&nbsp;<span class="ident" id="1104691">l</span><span class="op" id="1104692">,</span>&nbsp;<span class="ident" id="1104694">lower</span><span class="op" id="1104699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104705">l</span>&nbsp;<span class="op" id="1104707">=</span>&nbsp;<span class="ident" id="1104709">ToLowerSpecial</span><span class="op" id="1104723">(</span><span class="ident" id="1104724">unicode</span><span class="op" id="1104731">.</span><span class="ident" id="1104732">TurkishCase</span><span class="op" id="1104743">,</span>&nbsp;<span class="ident" id="1104745">upper</span><span class="op" id="1104750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1104753">if</span>&nbsp;<span class="ident" id="1104756">l</span>&nbsp;<span class="op" id="1104758">!=</span>&nbsp;<span class="ident" id="1104761">lower</span>&nbsp;<span class="op" id="1104767">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104771">t</span><span class="op" id="1104772">.</span><span class="ident" id="1104773">Errorf</span><span class="op" id="1104779">(</span><span class="string" id="1104780">&#34;Lower(upper)&nbsp;is&nbsp;%s&nbsp;not&nbsp;%s&#34;</span><span class="op" id="1104807">,</span>&nbsp;<span class="ident" id="1104809">l</span><span class="op" id="1104810">,</span>&nbsp;<span class="ident" id="1104812">lower</span><span class="op" id="1104817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104820">}</span><br>
<span class="lineno"></span><span class="op" id="1104822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1104825">func</span>&nbsp;<span class="ident" id="1104830">TestTrimSpace</span><span class="op" id="1104843">(</span><span class="ident" id="1104844">t</span>&nbsp;<span class="op" id="1104846">*</span><span class="ident" id="1104847">testing</span><span class="op" id="1104854">.</span><span class="ident" id="1104855">T</span><span class="op" id="1104856">)</span>&nbsp;<span class="op" id="1104858">{</span>&nbsp;<span class="ident" id="1104860">runStringTests</span><span class="op" id="1104874">(</span><span class="ident" id="1104875">t</span><span class="op" id="1104876">,</span>&nbsp;<span class="ident" id="1104878">TrimSpace</span><span class="op" id="1104887">,</span>&nbsp;<span class="string" id="1104889">&#34;TrimSpace&#34;</span><span class="op" id="1104900">,</span>&nbsp;<span class="ident" id="1104902">trimSpaceTests</span><span class="op" id="1104916">)</span>&nbsp;<span class="op" id="1104918">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="1104921">var</span>&nbsp;<span class="ident" id="1104925">trimTests</span>&nbsp;<span class="op" id="1104935">=</span>&nbsp;<span class="op" id="1104937">[</span><span class="op" id="1104938">]</span><span class="keyword" id="1104939">struct</span>&nbsp;<span class="op" id="1104946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104949">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1104962">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1104970">in</span><span class="op" id="1104972">,</span>&nbsp;<span class="ident" id="1104974">arg</span><span class="op" id="1104977">,</span>&nbsp;<span class="ident" id="1104979">out</span>&nbsp;<span class="builtintype" id="1104983">string</span><br>
<span class="lineno"></span><span class="op" id="1104990">}</span><span class="op" id="1104991">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1104994">{</span><span class="string" id="1104995">&#34;Trim&#34;</span><span class="op" id="1105001">,</span>&nbsp;<span class="string" id="1105003">&#34;abba&#34;</span><span class="op" id="1105009">,</span>&nbsp;<span class="string" id="1105011">&#34;a&#34;</span><span class="op" id="1105014">,</span>&nbsp;<span class="string" id="1105016">&#34;bb&#34;</span><span class="op" id="1105020">}</span><span class="op" id="1105021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105024">{</span><span class="string" id="1105025">&#34;Trim&#34;</span><span class="op" id="1105031">,</span>&nbsp;<span class="string" id="1105033">&#34;abba&#34;</span><span class="op" id="1105039">,</span>&nbsp;<span class="string" id="1105041">&#34;ab&#34;</span><span class="op" id="1105045">,</span>&nbsp;<span class="string" id="1105047">&#34;&#34;</span><span class="op" id="1105049">}</span><span class="op" id="1105050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105053">{</span><span class="string" id="1105054">&#34;TrimLeft&#34;</span><span class="op" id="1105064">,</span>&nbsp;<span class="string" id="1105066">&#34;abba&#34;</span><span class="op" id="1105072">,</span>&nbsp;<span class="string" id="1105074">&#34;ab&#34;</span><span class="op" id="1105078">,</span>&nbsp;<span class="string" id="1105080">&#34;&#34;</span><span class="op" id="1105082">}</span><span class="op" id="1105083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105086">{</span><span class="string" id="1105087">&#34;TrimRight&#34;</span><span class="op" id="1105098">,</span>&nbsp;<span class="string" id="1105100">&#34;abba&#34;</span><span class="op" id="1105106">,</span>&nbsp;<span class="string" id="1105108">&#34;ab&#34;</span><span class="op" id="1105112">,</span>&nbsp;<span class="string" id="1105114">&#34;&#34;</span><span class="op" id="1105116">}</span><span class="op" id="1105117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105120">{</span><span class="string" id="1105121">&#34;TrimLeft&#34;</span><span class="op" id="1105131">,</span>&nbsp;<span class="string" id="1105133">&#34;abba&#34;</span><span class="op" id="1105139">,</span>&nbsp;<span class="string" id="1105141">&#34;a&#34;</span><span class="op" id="1105144">,</span>&nbsp;<span class="string" id="1105146">&#34;bba&#34;</span><span class="op" id="1105151">}</span><span class="op" id="1105152">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105155">{</span><span class="string" id="1105156">&#34;TrimRight&#34;</span><span class="op" id="1105167">,</span>&nbsp;<span class="string" id="1105169">&#34;abba&#34;</span><span class="op" id="1105175">,</span>&nbsp;<span class="string" id="1105177">&#34;a&#34;</span><span class="op" id="1105180">,</span>&nbsp;<span class="string" id="1105182">&#34;abb&#34;</span><span class="op" id="1105187">}</span><span class="op" id="1105188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105191">{</span><span class="string" id="1105192">&#34;Trim&#34;</span><span class="op" id="1105198">,</span>&nbsp;<span class="string" id="1105200">&#34;&lt;tag&gt;&#34;</span><span class="op" id="1105207">,</span>&nbsp;<span class="string" id="1105209">&#34;&lt;&gt;&#34;</span><span class="op" id="1105213">,</span>&nbsp;<span class="string" id="1105215">&#34;tag&#34;</span><span class="op" id="1105220">}</span><span class="op" id="1105221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105224">{</span><span class="string" id="1105225">&#34;Trim&#34;</span><span class="op" id="1105231">,</span>&nbsp;<span class="string" id="1105233">&#34;*&nbsp;listitem&#34;</span><span class="op" id="1105245">,</span>&nbsp;<span class="string" id="1105247">&#34;&nbsp;*&#34;</span><span class="op" id="1105251">,</span>&nbsp;<span class="string" id="1105253">&#34;listitem&#34;</span><span class="op" id="1105263">}</span><span class="op" id="1105264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105267">{</span><span class="string" id="1105268">&#34;Trim&#34;</span><span class="op" id="1105274">,</span>&nbsp;<span class="string" id="1105276">`&#34;quote&#34;`</span><span class="op" id="1105285">,</span>&nbsp;<span class="string" id="1105287">`&#34;`</span><span class="op" id="1105290">,</span>&nbsp;<span class="string" id="1105292">&#34;quote&#34;</span><span class="op" id="1105299">}</span><span class="op" id="1105300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105303">{</span><span class="string" id="1105304">&#34;Trim&#34;</span><span class="op" id="1105310">,</span>&nbsp;<span class="string" id="1105312">&#34;\u2C6F\u2C6F\u0250\u0250\u2C6F\u2C6F&#34;</span><span class="op" id="1105350">,</span>&nbsp;<span class="string" id="1105352">&#34;\u2C6F&#34;</span><span class="op" id="1105360">,</span>&nbsp;<span class="string" id="1105362">&#34;\u0250\u0250&#34;</span><span class="op" id="1105376">}</span><span class="op" id="1105377">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1105380">//empty&nbsp;string&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105402">{</span><span class="string" id="1105403">&#34;Trim&#34;</span><span class="op" id="1105409">,</span>&nbsp;<span class="string" id="1105411">&#34;abba&#34;</span><span class="op" id="1105417">,</span>&nbsp;<span class="string" id="1105419">&#34;&#34;</span><span class="op" id="1105421">,</span>&nbsp;<span class="string" id="1105423">&#34;abba&#34;</span><span class="op" id="1105429">}</span><span class="op" id="1105430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105433">{</span><span class="string" id="1105434">&#34;Trim&#34;</span><span class="op" id="1105440">,</span>&nbsp;<span class="string" id="1105442">&#34;&#34;</span><span class="op" id="1105444">,</span>&nbsp;<span class="string" id="1105446">&#34;123&#34;</span><span class="op" id="1105451">,</span>&nbsp;<span class="string" id="1105453">&#34;&#34;</span><span class="op" id="1105455">}</span><span class="op" id="1105456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105459">{</span><span class="string" id="1105460">&#34;Trim&#34;</span><span class="op" id="1105466">,</span>&nbsp;<span class="string" id="1105468">&#34;&#34;</span><span class="op" id="1105470">,</span>&nbsp;<span class="string" id="1105472">&#34;&#34;</span><span class="op" id="1105474">,</span>&nbsp;<span class="string" id="1105476">&#34;&#34;</span><span class="op" id="1105478">}</span><span class="op" id="1105479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105482">{</span><span class="string" id="1105483">&#34;TrimLeft&#34;</span><span class="op" id="1105493">,</span>&nbsp;<span class="string" id="1105495">&#34;abba&#34;</span><span class="op" id="1105501">,</span>&nbsp;<span class="string" id="1105503">&#34;&#34;</span><span class="op" id="1105505">,</span>&nbsp;<span class="string" id="1105507">&#34;abba&#34;</span><span class="op" id="1105513">}</span><span class="op" id="1105514">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105517">{</span><span class="string" id="1105518">&#34;TrimLeft&#34;</span><span class="op" id="1105528">,</span>&nbsp;<span class="string" id="1105530">&#34;&#34;</span><span class="op" id="1105532">,</span>&nbsp;<span class="string" id="1105534">&#34;123&#34;</span><span class="op" id="1105539">,</span>&nbsp;<span class="string" id="1105541">&#34;&#34;</span><span class="op" id="1105543">}</span><span class="op" id="1105544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105547">{</span><span class="string" id="1105548">&#34;TrimLeft&#34;</span><span class="op" id="1105558">,</span>&nbsp;<span class="string" id="1105560">&#34;&#34;</span><span class="op" id="1105562">,</span>&nbsp;<span class="string" id="1105564">&#34;&#34;</span><span class="op" id="1105566">,</span>&nbsp;<span class="string" id="1105568">&#34;&#34;</span><span class="op" id="1105570">}</span><span class="op" id="1105571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105574">{</span><span class="string" id="1105575">&#34;TrimRight&#34;</span><span class="op" id="1105586">,</span>&nbsp;<span class="string" id="1105588">&#34;abba&#34;</span><span class="op" id="1105594">,</span>&nbsp;<span class="string" id="1105596">&#34;&#34;</span><span class="op" id="1105598">,</span>&nbsp;<span class="string" id="1105600">&#34;abba&#34;</span><span class="op" id="1105606">}</span><span class="op" id="1105607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105610">{</span><span class="string" id="1105611">&#34;TrimRight&#34;</span><span class="op" id="1105622">,</span>&nbsp;<span class="string" id="1105624">&#34;&#34;</span><span class="op" id="1105626">,</span>&nbsp;<span class="string" id="1105628">&#34;123&#34;</span><span class="op" id="1105633">,</span>&nbsp;<span class="string" id="1105635">&#34;&#34;</span><span class="op" id="1105637">}</span><span class="op" id="1105638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105641">{</span><span class="string" id="1105642">&#34;TrimRight&#34;</span><span class="op" id="1105653">,</span>&nbsp;<span class="string" id="1105655">&#34;&#34;</span><span class="op" id="1105657">,</span>&nbsp;<span class="string" id="1105659">&#34;&#34;</span><span class="op" id="1105661">,</span>&nbsp;<span class="string" id="1105663">&#34;&#34;</span><span class="op" id="1105665">}</span><span class="op" id="1105666">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105669">{</span><span class="string" id="1105670">&#34;TrimRight&#34;</span><span class="op" id="1105681">,</span>&nbsp;<span class="string" id="1105683">&#34;☺\xc0&#34;</span><span class="op" id="1105692">,</span>&nbsp;<span class="string" id="1105694">&#34;☺&#34;</span><span class="op" id="1105699">,</span>&nbsp;<span class="string" id="1105701">&#34;☺\xc0&#34;</span><span class="op" id="1105710">}</span><span class="op" id="1105711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105714">{</span><span class="string" id="1105715">&#34;TrimPrefix&#34;</span><span class="op" id="1105727">,</span>&nbsp;<span class="string" id="1105729">&#34;aabb&#34;</span><span class="op" id="1105735">,</span>&nbsp;<span class="string" id="1105737">&#34;a&#34;</span><span class="op" id="1105740">,</span>&nbsp;<span class="string" id="1105742">&#34;abb&#34;</span><span class="op" id="1105747">}</span><span class="op" id="1105748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105751">{</span><span class="string" id="1105752">&#34;TrimPrefix&#34;</span><span class="op" id="1105764">,</span>&nbsp;<span class="string" id="1105766">&#34;aabb&#34;</span><span class="op" id="1105772">,</span>&nbsp;<span class="string" id="1105774">&#34;b&#34;</span><span class="op" id="1105777">,</span>&nbsp;<span class="string" id="1105779">&#34;aabb&#34;</span><span class="op" id="1105785">}</span><span class="op" id="1105786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105789">{</span><span class="string" id="1105790">&#34;TrimSuffix&#34;</span><span class="op" id="1105802">,</span>&nbsp;<span class="string" id="1105804">&#34;aabb&#34;</span><span class="op" id="1105810">,</span>&nbsp;<span class="string" id="1105812">&#34;a&#34;</span><span class="op" id="1105815">,</span>&nbsp;<span class="string" id="1105817">&#34;aabb&#34;</span><span class="op" id="1105823">}</span><span class="op" id="1105824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1105827">{</span><span class="string" id="1105828">&#34;TrimSuffix&#34;</span><span class="op" id="1105840">,</span>&nbsp;<span class="string" id="1105842">&#34;aabb&#34;</span><span class="op" id="1105848">,</span>&nbsp;<span class="string" id="1105850">&#34;b&#34;</span><span class="op" id="1105853">,</span>&nbsp;<span class="string" id="1105855">&#34;aab&#34;</span><span class="op" id="1105860">}</span><span class="op" id="1105861">,</span><br>
<span class="lineno">545</span><span class="op" id="1105863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1105866">func</span>&nbsp;<span class="ident" id="1105871">TestTrim</span><span class="op" id="1105879">(</span><span class="ident" id="1105880">t</span>&nbsp;<span class="op" id="1105882">*</span><span class="ident" id="1105883">testing</span><span class="op" id="1105890">.</span><span class="ident" id="1105891">T</span><span class="op" id="1105892">)</span>&nbsp;<span class="op" id="1105894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1105897">for</span>&nbsp;<span class="ident" id="1105901">_</span><span class="op" id="1105902">,</span>&nbsp;<span class="ident" id="1105904">tc</span>&nbsp;<span class="op" id="1105907">:=</span>&nbsp;<span class="keyword" id="1105910">range</span>&nbsp;<span class="ident" id="1105916">trimTests</span>&nbsp;<span class="op" id="1105926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1105930">name</span>&nbsp;<span class="op" id="1105935">:=</span>&nbsp;<span class="ident" id="1105938">tc</span><span class="op" id="1105940">.</span><span class="ident" id="1105941">f</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1105945">var</span>&nbsp;<span class="ident" id="1105949">f</span>&nbsp;<span class="keyword" id="1105951">func</span><span class="op" id="1105955">(</span><span class="builtintype" id="1105956">string</span><span class="op" id="1105962">,</span>&nbsp;<span class="builtintype" id="1105964">string</span><span class="op" id="1105970">)</span>&nbsp;<span class="builtintype" id="1105972">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1105981">switch</span>&nbsp;<span class="ident" id="1105988">name</span>&nbsp;<span class="op" id="1105993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1105997">case</span>&nbsp;<span class="string" id="1106002">&#34;Trim&#34;</span><span class="op" id="1106008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106013">f</span>&nbsp;<span class="op" id="1106015">=</span>&nbsp;<span class="ident" id="1106017">Trim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106024">case</span>&nbsp;<span class="string" id="1106029">&#34;TrimLeft&#34;</span><span class="op" id="1106039">:</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106044">f</span>&nbsp;<span class="op" id="1106046">=</span>&nbsp;<span class="ident" id="1106048">TrimLeft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106059">case</span>&nbsp;<span class="string" id="1106064">&#34;TrimRight&#34;</span><span class="op" id="1106075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106080">f</span>&nbsp;<span class="op" id="1106082">=</span>&nbsp;<span class="ident" id="1106084">TrimRight</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106096">case</span>&nbsp;<span class="string" id="1106101">&#34;TrimPrefix&#34;</span><span class="op" id="1106113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106118">f</span>&nbsp;<span class="op" id="1106120">=</span>&nbsp;<span class="ident" id="1106122">TrimPrefix</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106135">case</span>&nbsp;<span class="string" id="1106140">&#34;TrimSuffix&#34;</span><span class="op" id="1106152">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106157">f</span>&nbsp;<span class="op" id="1106159">=</span>&nbsp;<span class="ident" id="1106161">TrimSuffix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106174">default</span><span class="op" id="1106181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106186">t</span><span class="op" id="1106187">.</span><span class="ident" id="1106188">Errorf</span><span class="op" id="1106194">(</span><span class="string" id="1106195">&#34;Undefined&nbsp;trim&nbsp;function&nbsp;%s&#34;</span><span class="op" id="1106223">,</span>&nbsp;<span class="ident" id="1106225">name</span><span class="op" id="1106229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106233">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106237">actual</span>&nbsp;<span class="op" id="1106244">:=</span>&nbsp;<span class="ident" id="1106247">f</span><span class="op" id="1106248">(</span><span class="ident" id="1106249">tc</span><span class="op" id="1106251">.</span><span class="ident" id="1106252">in</span><span class="op" id="1106254">,</span>&nbsp;<span class="ident" id="1106256">tc</span><span class="op" id="1106258">.</span><span class="ident" id="1106259">arg</span><span class="op" id="1106262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106266">if</span>&nbsp;<span class="ident" id="1106269">actual</span>&nbsp;<span class="op" id="1106276">!=</span>&nbsp;<span class="ident" id="1106279">tc</span><span class="op" id="1106281">.</span><span class="ident" id="1106282">out</span>&nbsp;<span class="op" id="1106286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106291">t</span><span class="op" id="1106292">.</span><span class="ident" id="1106293">Errorf</span><span class="op" id="1106299">(</span><span class="string" id="1106300">&#34;%s(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1106326">,</span>&nbsp;<span class="ident" id="1106328">name</span><span class="op" id="1106332">,</span>&nbsp;<span class="ident" id="1106334">tc</span><span class="op" id="1106336">.</span><span class="ident" id="1106337">in</span><span class="op" id="1106339">,</span>&nbsp;<span class="ident" id="1106341">tc</span><span class="op" id="1106343">.</span><span class="ident" id="1106344">arg</span><span class="op" id="1106347">,</span>&nbsp;<span class="ident" id="1106349">actual</span><span class="op" id="1106355">,</span>&nbsp;<span class="ident" id="1106357">tc</span><span class="op" id="1106359">.</span><span class="ident" id="1106360">out</span><span class="op" id="1106363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106370">}</span><br>
<span class="lineno">570</span><span class="op" id="1106372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1106375">type</span>&nbsp;<span class="ident" id="1106380">predicate</span>&nbsp;<span class="keyword" id="1106390">struct</span>&nbsp;<span class="op" id="1106397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106400">f</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106405">func</span><span class="op" id="1106409">(</span><span class="builtintype" id="1106410">rune</span><span class="op" id="1106414">)</span>&nbsp;<span class="builtintype" id="1106416">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106422">name</span>&nbsp;<span class="builtintype" id="1106427">string</span><br>
<span class="lineno">575</span><span class="op" id="1106434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1106437">var</span>&nbsp;<span class="ident" id="1106441">isSpace</span>&nbsp;<span class="op" id="1106449">=</span>&nbsp;<span class="ident" id="1106451">predicate</span><span class="op" id="1106460">{</span><span class="ident" id="1106461">unicode</span><span class="op" id="1106468">.</span><span class="ident" id="1106469">IsSpace</span><span class="op" id="1106476">,</span>&nbsp;<span class="string" id="1106478">&#34;IsSpace&#34;</span><span class="op" id="1106487">}</span><br>
<span class="lineno"></span><span class="keyword" id="1106489">var</span>&nbsp;<span class="ident" id="1106493">isDigit</span>&nbsp;<span class="op" id="1106501">=</span>&nbsp;<span class="ident" id="1106503">predicate</span><span class="op" id="1106512">{</span><span class="ident" id="1106513">unicode</span><span class="op" id="1106520">.</span><span class="ident" id="1106521">IsDigit</span><span class="op" id="1106528">,</span>&nbsp;<span class="string" id="1106530">&#34;IsDigit&#34;</span><span class="op" id="1106539">}</span><br>
<span class="lineno"></span><span class="keyword" id="1106541">var</span>&nbsp;<span class="ident" id="1106545">isUpper</span>&nbsp;<span class="op" id="1106553">=</span>&nbsp;<span class="ident" id="1106555">predicate</span><span class="op" id="1106564">{</span><span class="ident" id="1106565">unicode</span><span class="op" id="1106572">.</span><span class="ident" id="1106573">IsUpper</span><span class="op" id="1106580">,</span>&nbsp;<span class="string" id="1106582">&#34;IsUpper&#34;</span><span class="op" id="1106591">}</span><br>
<span class="lineno">580</span><span class="keyword" id="1106593">var</span>&nbsp;<span class="ident" id="1106597">isValidRune</span>&nbsp;<span class="op" id="1106609">=</span>&nbsp;<span class="ident" id="1106611">predicate</span><span class="op" id="1106620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106623">func</span><span class="op" id="1106627">(</span><span class="ident" id="1106628">r</span>&nbsp;<span class="builtintype" id="1106630">rune</span><span class="op" id="1106634">)</span>&nbsp;<span class="builtintype" id="1106636">bool</span>&nbsp;<span class="op" id="1106641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106645">return</span>&nbsp;<span class="ident" id="1106652">r</span>&nbsp;<span class="op" id="1106654">!=</span>&nbsp;<span class="ident" id="1106657">utf8</span><span class="op" id="1106661">.</span><span class="ident" id="1106662">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106673">}</span><span class="op" id="1106674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1106677">&#34;IsValidRune&#34;</span><span class="op" id="1106690">,</span><br>
<span class="lineno">585</span><span class="op" id="1106692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1106695">func</span>&nbsp;<span class="ident" id="1106700">not</span><span class="op" id="1106703">(</span><span class="ident" id="1106704">p</span>&nbsp;<span class="ident" id="1106706">predicate</span><span class="op" id="1106715">)</span>&nbsp;<span class="ident" id="1106717">predicate</span>&nbsp;<span class="op" id="1106727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106730">return</span>&nbsp;<span class="ident" id="1106737">predicate</span><span class="op" id="1106746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106750">func</span><span class="op" id="1106754">(</span><span class="ident" id="1106755">r</span>&nbsp;<span class="builtintype" id="1106757">rune</span><span class="op" id="1106761">)</span>&nbsp;<span class="builtintype" id="1106763">bool</span>&nbsp;<span class="op" id="1106768">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1106773">return</span>&nbsp;<span class="op" id="1106780">!</span><span class="ident" id="1106781">p</span><span class="op" id="1106782">.</span><span class="ident" id="1106783">f</span><span class="op" id="1106784">(</span><span class="ident" id="1106785">r</span><span class="op" id="1106786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106790">}</span><span class="op" id="1106791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1106795">&#34;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1106802">+</span>&nbsp;<span class="ident" id="1106804">p</span><span class="op" id="1106805">.</span><span class="ident" id="1106806">name</span><span class="op" id="1106810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106813">}</span><br>
<span class="lineno"></span><span class="op" id="1106815">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span><span class="keyword" id="1106818">var</span>&nbsp;<span class="ident" id="1106822">trimFuncTests</span>&nbsp;<span class="op" id="1106836">=</span>&nbsp;<span class="op" id="1106838">[</span><span class="op" id="1106839">]</span><span class="keyword" id="1106840">struct</span>&nbsp;<span class="op" id="1106847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106850">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106858">predicate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1106869">in</span><span class="op" id="1106871">,</span>&nbsp;<span class="ident" id="1106873">out</span>&nbsp;<span class="builtintype" id="1106877">string</span><br>
<span class="lineno"></span><span class="op" id="1106884">}</span><span class="op" id="1106885">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106888">{</span><span class="ident" id="1106889">isSpace</span><span class="op" id="1106896">,</span>&nbsp;<span class="ident" id="1106898">space</span>&nbsp;<span class="op" id="1106904">+</span>&nbsp;<span class="string" id="1106906">&#34;&nbsp;hello&nbsp;&#34;</span>&nbsp;<span class="op" id="1106916">+</span>&nbsp;<span class="ident" id="1106918">space</span><span class="op" id="1106923">,</span>&nbsp;<span class="string" id="1106925">&#34;hello&#34;</span><span class="op" id="1106932">}</span><span class="op" id="1106933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106936">{</span><span class="ident" id="1106937">isDigit</span><span class="op" id="1106944">,</span>&nbsp;<span class="string" id="1106946">&#34;\u0e50\u0e5212hello34\u0e50\u0e51&#34;</span><span class="op" id="1106981">,</span>&nbsp;<span class="string" id="1106983">&#34;hello&#34;</span><span class="op" id="1106990">}</span><span class="op" id="1106991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1106994">{</span><span class="ident" id="1106995">isUpper</span><span class="op" id="1107002">,</span>&nbsp;<span class="string" id="1107004">&#34;\u2C6F\u2C6F\u2C6F\u2C6FABCDhelloEF\u2C6F\u2C6FGH\u2C6F\u2C6F&#34;</span><span class="op" id="1107067">,</span>&nbsp;<span class="string" id="1107069">&#34;hello&#34;</span><span class="op" id="1107076">}</span><span class="op" id="1107077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107080">{</span><span class="ident" id="1107081">not</span><span class="op" id="1107084">(</span><span class="ident" id="1107085">isSpace</span><span class="op" id="1107092">)</span><span class="op" id="1107093">,</span>&nbsp;<span class="string" id="1107095">&#34;hello&#34;</span>&nbsp;<span class="op" id="1107103">+</span>&nbsp;<span class="ident" id="1107105">space</span>&nbsp;<span class="op" id="1107111">+</span>&nbsp;<span class="string" id="1107113">&#34;hello&#34;</span><span class="op" id="1107120">,</span>&nbsp;<span class="ident" id="1107122">space</span><span class="op" id="1107127">}</span><span class="op" id="1107128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107131">{</span><span class="ident" id="1107132">not</span><span class="op" id="1107135">(</span><span class="ident" id="1107136">isDigit</span><span class="op" id="1107143">)</span><span class="op" id="1107144">,</span>&nbsp;<span class="string" id="1107146">&#34;hello\u0e50\u0e521234\u0e50\u0e51helo&#34;</span><span class="op" id="1107185">,</span>&nbsp;<span class="string" id="1107187">&#34;\u0e50\u0e521234\u0e50\u0e51&#34;</span><span class="op" id="1107217">}</span><span class="op" id="1107218">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107221">{</span><span class="ident" id="1107222">isValidRune</span><span class="op" id="1107233">,</span>&nbsp;<span class="string" id="1107235">&#34;ab\xc0a\xc0cd&#34;</span><span class="op" id="1107250">,</span>&nbsp;<span class="string" id="1107252">&#34;\xc0a\xc0&#34;</span><span class="op" id="1107263">}</span><span class="op" id="1107264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107267">{</span><span class="ident" id="1107268">not</span><span class="op" id="1107271">(</span><span class="ident" id="1107272">isValidRune</span><span class="op" id="1107283">)</span><span class="op" id="1107284">,</span>&nbsp;<span class="string" id="1107286">&#34;\xc0a\xc0&#34;</span><span class="op" id="1107297">,</span>&nbsp;<span class="string" id="1107299">&#34;a&#34;</span><span class="op" id="1107302">}</span><span class="op" id="1107303">,</span><br>
<span class="lineno"></span><span class="op" id="1107305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1107308">func</span>&nbsp;<span class="ident" id="1107313">TestTrimFunc</span><span class="op" id="1107325">(</span><span class="ident" id="1107326">t</span>&nbsp;<span class="op" id="1107328">*</span><span class="ident" id="1107329">testing</span><span class="op" id="1107336">.</span><span class="ident" id="1107337">T</span><span class="op" id="1107338">)</span>&nbsp;<span class="op" id="1107340">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1107343">for</span>&nbsp;<span class="ident" id="1107347">_</span><span class="op" id="1107348">,</span>&nbsp;<span class="ident" id="1107350">tc</span>&nbsp;<span class="op" id="1107353">:=</span>&nbsp;<span class="keyword" id="1107356">range</span>&nbsp;<span class="ident" id="1107362">trimFuncTests</span>&nbsp;<span class="op" id="1107376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107380">actual</span>&nbsp;<span class="op" id="1107387">:=</span>&nbsp;<span class="ident" id="1107390">TrimFunc</span><span class="op" id="1107398">(</span><span class="ident" id="1107399">tc</span><span class="op" id="1107401">.</span><span class="ident" id="1107402">in</span><span class="op" id="1107404">,</span>&nbsp;<span class="ident" id="1107406">tc</span><span class="op" id="1107408">.</span><span class="ident" id="1107409">f</span><span class="op" id="1107410">.</span><span class="ident" id="1107411">f</span><span class="op" id="1107412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1107416">if</span>&nbsp;<span class="ident" id="1107419">actual</span>&nbsp;<span class="op" id="1107426">!=</span>&nbsp;<span class="ident" id="1107429">tc</span><span class="op" id="1107431">.</span><span class="ident" id="1107432">out</span>&nbsp;<span class="op" id="1107436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107441">t</span><span class="op" id="1107442">.</span><span class="ident" id="1107443">Errorf</span><span class="op" id="1107449">(</span><span class="string" id="1107450">&#34;TrimFunc(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1107482">,</span>&nbsp;<span class="ident" id="1107484">tc</span><span class="op" id="1107486">.</span><span class="ident" id="1107487">in</span><span class="op" id="1107489">,</span>&nbsp;<span class="ident" id="1107491">tc</span><span class="op" id="1107493">.</span><span class="ident" id="1107494">f</span><span class="op" id="1107495">.</span><span class="ident" id="1107496">name</span><span class="op" id="1107500">,</span>&nbsp;<span class="ident" id="1107502">actual</span><span class="op" id="1107508">,</span>&nbsp;<span class="ident" id="1107510">tc</span><span class="op" id="1107512">.</span><span class="ident" id="1107513">out</span><span class="op" id="1107516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107520">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107523">}</span><br>
<span class="lineno"></span><span class="op" id="1107525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1107528">var</span>&nbsp;<span class="ident" id="1107532">indexFuncTests</span>&nbsp;<span class="op" id="1107547">=</span>&nbsp;<span class="op" id="1107549">[</span><span class="op" id="1107550">]</span><span class="keyword" id="1107551">struct</span>&nbsp;<span class="op" id="1107558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107561">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1107573">string</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107581">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107593">predicate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1107604">first</span><span class="op" id="1107609">,</span>&nbsp;<span class="ident" id="1107611">last</span>&nbsp;<span class="builtintype" id="1107616">int</span><br>
<span class="lineno"></span><span class="op" id="1107620">}</span><span class="op" id="1107621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107624">{</span><span class="string" id="1107625">&#34;&#34;</span><span class="op" id="1107627">,</span>&nbsp;<span class="ident" id="1107629">isValidRune</span><span class="op" id="1107640">,</span>&nbsp;<span class="op" id="1107642">-</span><span class="num" id="1107643">1</span><span class="op" id="1107644">,</span>&nbsp;<span class="op" id="1107646">-</span><span class="num" id="1107647">1</span><span class="op" id="1107648">}</span><span class="op" id="1107649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107652">{</span><span class="string" id="1107653">&#34;abc&#34;</span><span class="op" id="1107658">,</span>&nbsp;<span class="ident" id="1107660">isDigit</span><span class="op" id="1107667">,</span>&nbsp;<span class="op" id="1107669">-</span><span class="num" id="1107670">1</span><span class="op" id="1107671">,</span>&nbsp;<span class="op" id="1107673">-</span><span class="num" id="1107674">1</span><span class="op" id="1107675">}</span><span class="op" id="1107676">,</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107679">{</span><span class="string" id="1107680">&#34;0123&#34;</span><span class="op" id="1107686">,</span>&nbsp;<span class="ident" id="1107688">isDigit</span><span class="op" id="1107695">,</span>&nbsp;<span class="num" id="1107697">0</span><span class="op" id="1107698">,</span>&nbsp;<span class="num" id="1107700">3</span><span class="op" id="1107701">}</span><span class="op" id="1107702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107705">{</span><span class="string" id="1107706">&#34;a1b&#34;</span><span class="op" id="1107711">,</span>&nbsp;<span class="ident" id="1107713">isDigit</span><span class="op" id="1107720">,</span>&nbsp;<span class="num" id="1107722">1</span><span class="op" id="1107723">,</span>&nbsp;<span class="num" id="1107725">1</span><span class="op" id="1107726">}</span><span class="op" id="1107727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107730">{</span><span class="ident" id="1107731">space</span><span class="op" id="1107736">,</span>&nbsp;<span class="ident" id="1107738">isSpace</span><span class="op" id="1107745">,</span>&nbsp;<span class="num" id="1107747">0</span><span class="op" id="1107748">,</span>&nbsp;<span class="builtinfunc" id="1107750">len</span><span class="op" id="1107753">(</span><span class="ident" id="1107754">space</span><span class="op" id="1107759">)</span>&nbsp;<span class="op" id="1107761">-</span>&nbsp;<span class="num" id="1107763">3</span><span class="op" id="1107764">}</span><span class="op" id="1107765">,</span>&nbsp;<span class="comment" id="1107767">//&nbsp;last&nbsp;rune&nbsp;in&nbsp;space&nbsp;is&nbsp;3&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107801">{</span><span class="string" id="1107802">&#34;\u0e50\u0e5212hello34\u0e50\u0e51&#34;</span><span class="op" id="1107837">,</span>&nbsp;<span class="ident" id="1107839">isDigit</span><span class="op" id="1107846">,</span>&nbsp;<span class="num" id="1107848">0</span><span class="op" id="1107849">,</span>&nbsp;<span class="num" id="1107851">18</span><span class="op" id="1107853">}</span><span class="op" id="1107854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107857">{</span><span class="string" id="1107858">&#34;\u2C6F\u2C6F\u2C6F\u2C6FABCDhelloEF\u2C6F\u2C6FGH\u2C6F\u2C6F&#34;</span><span class="op" id="1107921">,</span>&nbsp;<span class="ident" id="1107923">isUpper</span><span class="op" id="1107930">,</span>&nbsp;<span class="num" id="1107932">0</span><span class="op" id="1107933">,</span>&nbsp;<span class="num" id="1107935">34</span><span class="op" id="1107937">}</span><span class="op" id="1107938">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1107941">{</span><span class="string" id="1107942">&#34;12\u0e50\u0e52hello34\u0e50\u0e51&#34;</span><span class="op" id="1107977">,</span>&nbsp;<span class="ident" id="1107979">not</span><span class="op" id="1107982">(</span><span class="ident" id="1107983">isDigit</span><span class="op" id="1107990">)</span><span class="op" id="1107991">,</span>&nbsp;<span class="num" id="1107993">8</span><span class="op" id="1107994">,</span>&nbsp;<span class="num" id="1107996">12</span><span class="op" id="1107998">}</span><span class="op" id="1107999">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1108003">//&nbsp;tests&nbsp;of&nbsp;invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108030">{</span><span class="string" id="1108031">&#34;\x801&#34;</span><span class="op" id="1108038">,</span>&nbsp;<span class="ident" id="1108040">isDigit</span><span class="op" id="1108047">,</span>&nbsp;<span class="num" id="1108049">1</span><span class="op" id="1108050">,</span>&nbsp;<span class="num" id="1108052">1</span><span class="op" id="1108053">}</span><span class="op" id="1108054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108057">{</span><span class="string" id="1108058">&#34;\x80abc&#34;</span><span class="op" id="1108067">,</span>&nbsp;<span class="ident" id="1108069">isDigit</span><span class="op" id="1108076">,</span>&nbsp;<span class="op" id="1108078">-</span><span class="num" id="1108079">1</span><span class="op" id="1108080">,</span>&nbsp;<span class="op" id="1108082">-</span><span class="num" id="1108083">1</span><span class="op" id="1108084">}</span><span class="op" id="1108085">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108088">{</span><span class="string" id="1108089">&#34;\xc0a\xc0&#34;</span><span class="op" id="1108100">,</span>&nbsp;<span class="ident" id="1108102">isValidRune</span><span class="op" id="1108113">,</span>&nbsp;<span class="num" id="1108115">1</span><span class="op" id="1108116">,</span>&nbsp;<span class="num" id="1108118">1</span><span class="op" id="1108119">}</span><span class="op" id="1108120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108123">{</span><span class="string" id="1108124">&#34;\xc0a\xc0&#34;</span><span class="op" id="1108135">,</span>&nbsp;<span class="ident" id="1108137">not</span><span class="op" id="1108140">(</span><span class="ident" id="1108141">isValidRune</span><span class="op" id="1108152">)</span><span class="op" id="1108153">,</span>&nbsp;<span class="num" id="1108155">0</span><span class="op" id="1108156">,</span>&nbsp;<span class="num" id="1108158">2</span><span class="op" id="1108159">}</span><span class="op" id="1108160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108163">{</span><span class="string" id="1108164">&#34;\xc0☺\xc0&#34;</span><span class="op" id="1108177">,</span>&nbsp;<span class="ident" id="1108179">not</span><span class="op" id="1108182">(</span><span class="ident" id="1108183">isValidRune</span><span class="op" id="1108194">)</span><span class="op" id="1108195">,</span>&nbsp;<span class="num" id="1108197">0</span><span class="op" id="1108198">,</span>&nbsp;<span class="num" id="1108200">4</span><span class="op" id="1108201">}</span><span class="op" id="1108202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108205">{</span><span class="string" id="1108206">&#34;\xc0☺\xc0\xc0&#34;</span><span class="op" id="1108223">,</span>&nbsp;<span class="ident" id="1108225">not</span><span class="op" id="1108228">(</span><span class="ident" id="1108229">isValidRune</span><span class="op" id="1108240">)</span><span class="op" id="1108241">,</span>&nbsp;<span class="num" id="1108243">0</span><span class="op" id="1108244">,</span>&nbsp;<span class="num" id="1108246">5</span><span class="op" id="1108247">}</span><span class="op" id="1108248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108251">{</span><span class="string" id="1108252">&#34;ab\xc0a\xc0cd&#34;</span><span class="op" id="1108267">,</span>&nbsp;<span class="ident" id="1108269">not</span><span class="op" id="1108272">(</span><span class="ident" id="1108273">isValidRune</span><span class="op" id="1108284">)</span><span class="op" id="1108285">,</span>&nbsp;<span class="num" id="1108287">2</span><span class="op" id="1108288">,</span>&nbsp;<span class="num" id="1108290">4</span><span class="op" id="1108291">}</span><span class="op" id="1108292">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108295">{</span><span class="string" id="1108296">&#34;a\xe0\x80cd&#34;</span><span class="op" id="1108309">,</span>&nbsp;<span class="ident" id="1108311">not</span><span class="op" id="1108314">(</span><span class="ident" id="1108315">isValidRune</span><span class="op" id="1108326">)</span><span class="op" id="1108327">,</span>&nbsp;<span class="num" id="1108329">1</span><span class="op" id="1108330">,</span>&nbsp;<span class="num" id="1108332">2</span><span class="op" id="1108333">}</span><span class="op" id="1108334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108337">{</span><span class="string" id="1108338">&#34;\x80\x80\x80\x80&#34;</span><span class="op" id="1108356">,</span>&nbsp;<span class="ident" id="1108358">not</span><span class="op" id="1108361">(</span><span class="ident" id="1108362">isValidRune</span><span class="op" id="1108373">)</span><span class="op" id="1108374">,</span>&nbsp;<span class="num" id="1108376">0</span><span class="op" id="1108377">,</span>&nbsp;<span class="num" id="1108379">3</span><span class="op" id="1108380">}</span><span class="op" id="1108381">,</span><br>
<span class="lineno"></span><span class="op" id="1108383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1108386">func</span>&nbsp;<span class="ident" id="1108391">TestIndexFunc</span><span class="op" id="1108404">(</span><span class="ident" id="1108405">t</span>&nbsp;<span class="op" id="1108407">*</span><span class="ident" id="1108408">testing</span><span class="op" id="1108415">.</span><span class="ident" id="1108416">T</span><span class="op" id="1108417">)</span>&nbsp;<span class="op" id="1108419">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108422">for</span>&nbsp;<span class="ident" id="1108426">_</span><span class="op" id="1108427">,</span>&nbsp;<span class="ident" id="1108429">tc</span>&nbsp;<span class="op" id="1108432">:=</span>&nbsp;<span class="keyword" id="1108435">range</span>&nbsp;<span class="ident" id="1108441">indexFuncTests</span>&nbsp;<span class="op" id="1108456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108460">first</span>&nbsp;<span class="op" id="1108466">:=</span>&nbsp;<span class="ident" id="1108469">IndexFunc</span><span class="op" id="1108478">(</span><span class="ident" id="1108479">tc</span><span class="op" id="1108481">.</span><span class="ident" id="1108482">in</span><span class="op" id="1108484">,</span>&nbsp;<span class="ident" id="1108486">tc</span><span class="op" id="1108488">.</span><span class="ident" id="1108489">f</span><span class="op" id="1108490">.</span><span class="ident" id="1108491">f</span><span class="op" id="1108492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108496">if</span>&nbsp;<span class="ident" id="1108499">first</span>&nbsp;<span class="op" id="1108505">!=</span>&nbsp;<span class="ident" id="1108508">tc</span><span class="op" id="1108510">.</span><span class="ident" id="1108511">first</span>&nbsp;<span class="op" id="1108517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108522">t</span><span class="op" id="1108523">.</span><span class="ident" id="1108524">Errorf</span><span class="op" id="1108530">(</span><span class="string" id="1108531">&#34;IndexFunc(%q,&nbsp;%s)&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="1108564">,</span>&nbsp;<span class="ident" id="1108566">tc</span><span class="op" id="1108568">.</span><span class="ident" id="1108569">in</span><span class="op" id="1108571">,</span>&nbsp;<span class="ident" id="1108573">tc</span><span class="op" id="1108575">.</span><span class="ident" id="1108576">f</span><span class="op" id="1108577">.</span><span class="ident" id="1108578">name</span><span class="op" id="1108582">,</span>&nbsp;<span class="ident" id="1108584">first</span><span class="op" id="1108589">,</span>&nbsp;<span class="ident" id="1108591">tc</span><span class="op" id="1108593">.</span><span class="ident" id="1108594">first</span><span class="op" id="1108599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108603">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108607">last</span>&nbsp;<span class="op" id="1108612">:=</span>&nbsp;<span class="ident" id="1108615">LastIndexFunc</span><span class="op" id="1108628">(</span><span class="ident" id="1108629">tc</span><span class="op" id="1108631">.</span><span class="ident" id="1108632">in</span><span class="op" id="1108634">,</span>&nbsp;<span class="ident" id="1108636">tc</span><span class="op" id="1108638">.</span><span class="ident" id="1108639">f</span><span class="op" id="1108640">.</span><span class="ident" id="1108641">f</span><span class="op" id="1108642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108646">if</span>&nbsp;<span class="ident" id="1108649">last</span>&nbsp;<span class="op" id="1108654">!=</span>&nbsp;<span class="ident" id="1108657">tc</span><span class="op" id="1108659">.</span><span class="ident" id="1108660">last</span>&nbsp;<span class="op" id="1108665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108670">t</span><span class="op" id="1108671">.</span><span class="ident" id="1108672">Errorf</span><span class="op" id="1108678">(</span><span class="string" id="1108679">&#34;LastIndexFunc(%q,&nbsp;%s)&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="1108716">,</span>&nbsp;<span class="ident" id="1108718">tc</span><span class="op" id="1108720">.</span><span class="ident" id="1108721">in</span><span class="op" id="1108723">,</span>&nbsp;<span class="ident" id="1108725">tc</span><span class="op" id="1108727">.</span><span class="ident" id="1108728">f</span><span class="op" id="1108729">.</span><span class="ident" id="1108730">name</span><span class="op" id="1108734">,</span>&nbsp;<span class="ident" id="1108736">last</span><span class="op" id="1108740">,</span>&nbsp;<span class="ident" id="1108742">tc</span><span class="op" id="1108744">.</span><span class="ident" id="1108745">last</span><span class="op" id="1108749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108756">}</span><br>
<span class="lineno">655</span><span class="op" id="1108758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1108761">func</span>&nbsp;<span class="ident" id="1108766">equal</span><span class="op" id="1108771">(</span><span class="ident" id="1108772">m</span>&nbsp;<span class="builtintype" id="1108774">string</span><span class="op" id="1108780">,</span>&nbsp;<span class="ident" id="1108782">s1</span><span class="op" id="1108784">,</span>&nbsp;<span class="ident" id="1108786">s2</span>&nbsp;<span class="builtintype" id="1108789">string</span><span class="op" id="1108795">,</span>&nbsp;<span class="ident" id="1108797">t</span>&nbsp;<span class="op" id="1108799">*</span><span class="ident" id="1108800">testing</span><span class="op" id="1108807">.</span><span class="ident" id="1108808">T</span><span class="op" id="1108809">)</span>&nbsp;<span class="builtintype" id="1108811">bool</span>&nbsp;<span class="op" id="1108816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108819">if</span>&nbsp;<span class="ident" id="1108822">s1</span>&nbsp;<span class="op" id="1108825">==</span>&nbsp;<span class="ident" id="1108828">s2</span>&nbsp;<span class="op" id="1108831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108835">return</span>&nbsp;<span class="builtintype" id="1108842">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108851">e1</span>&nbsp;<span class="op" id="1108854">:=</span>&nbsp;<span class="ident" id="1108857">Split</span><span class="op" id="1108862">(</span><span class="ident" id="1108863">s1</span><span class="op" id="1108865">,</span>&nbsp;<span class="string" id="1108867">&#34;&#34;</span><span class="op" id="1108869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108872">e2</span>&nbsp;<span class="op" id="1108875">:=</span>&nbsp;<span class="ident" id="1108878">Split</span><span class="op" id="1108883">(</span><span class="ident" id="1108884">s2</span><span class="op" id="1108886">,</span>&nbsp;<span class="string" id="1108888">&#34;&#34;</span><span class="op" id="1108890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108893">for</span>&nbsp;<span class="ident" id="1108897">i</span><span class="op" id="1108898">,</span>&nbsp;<span class="ident" id="1108900">c1</span>&nbsp;<span class="op" id="1108903">:=</span>&nbsp;<span class="keyword" id="1108906">range</span>&nbsp;<span class="ident" id="1108912">e1</span>&nbsp;<span class="op" id="1108915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108919">if</span>&nbsp;<span class="ident" id="1108922">i</span>&nbsp;<span class="op" id="1108924">&gt;=</span>&nbsp;<span class="builtinfunc" id="1108927">len</span><span class="op" id="1108930">(</span><span class="ident" id="1108931">e2</span><span class="op" id="1108933">)</span>&nbsp;<span class="op" id="1108935">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1108940">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1108948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108952">r1</span><span class="op" id="1108954">,</span>&nbsp;<span class="ident" id="1108956">_</span>&nbsp;<span class="op" id="1108958">:=</span>&nbsp;<span class="ident" id="1108961">utf8</span><span class="op" id="1108965">.</span><span class="ident" id="1108966">DecodeRuneInString</span><span class="op" id="1108984">(</span><span class="ident" id="1108985">c1</span><span class="op" id="1108987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1108991">r2</span><span class="op" id="1108993">,</span>&nbsp;<span class="ident" id="1108995">_</span>&nbsp;<span class="op" id="1108997">:=</span>&nbsp;<span class="ident" id="1109000">utf8</span><span class="op" id="1109004">.</span><span class="ident" id="1109005">DecodeRuneInString</span><span class="op" id="1109023">(</span><span class="ident" id="1109024">e2</span><span class="op" id="1109026">[</span><span class="ident" id="1109027">i</span><span class="op" id="1109028">]</span><span class="op" id="1109029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109033">if</span>&nbsp;<span class="ident" id="1109036">r1</span>&nbsp;<span class="op" id="1109039">!=</span>&nbsp;<span class="ident" id="1109042">r2</span>&nbsp;<span class="op" id="1109045">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109050">t</span><span class="op" id="1109051">.</span><span class="ident" id="1109052">Errorf</span><span class="op" id="1109058">(</span><span class="string" id="1109059">&#34;%s&nbsp;diff&nbsp;at&nbsp;%d:&nbsp;U+%04X&nbsp;U+%04X&#34;</span><span class="op" id="1109089">,</span>&nbsp;<span class="ident" id="1109091">m</span><span class="op" id="1109092">,</span>&nbsp;<span class="ident" id="1109094">i</span><span class="op" id="1109095">,</span>&nbsp;<span class="ident" id="1109097">r1</span><span class="op" id="1109099">,</span>&nbsp;<span class="ident" id="1109101">r2</span><span class="op" id="1109103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109113">return</span>&nbsp;<span class="builtintype" id="1109120">false</span><br>
<span class="lineno"></span><span class="op" id="1109126">}</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="keyword" id="1109129">func</span>&nbsp;<span class="ident" id="1109134">TestCaseConsistency</span><span class="op" id="1109153">(</span><span class="ident" id="1109154">t</span>&nbsp;<span class="op" id="1109156">*</span><span class="ident" id="1109157">testing</span><span class="op" id="1109164">.</span><span class="ident" id="1109165">T</span><span class="op" id="1109166">)</span>&nbsp;<span class="op" id="1109168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1109171">//&nbsp;Make&nbsp;a&nbsp;string&nbsp;of&nbsp;all&nbsp;the&nbsp;runes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109207">numRunes</span>&nbsp;<span class="op" id="1109216">:=</span>&nbsp;<span class="builtintype" id="1109219">int</span><span class="op" id="1109222">(</span><span class="ident" id="1109223">unicode</span><span class="op" id="1109230">.</span><span class="ident" id="1109231">MaxRune</span>&nbsp;<span class="op" id="1109239">+</span>&nbsp;<span class="num" id="1109241">1</span><span class="op" id="1109242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109245">if</span>&nbsp;<span class="ident" id="1109248">testing</span><span class="op" id="1109255">.</span><span class="ident" id="1109256">Short</span><span class="op" id="1109261">(</span><span class="op" id="1109262">)</span>&nbsp;<span class="op" id="1109264">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109268">numRunes</span>&nbsp;<span class="op" id="1109277">=</span>&nbsp;<span class="num" id="1109279">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109288">a</span>&nbsp;<span class="op" id="1109290">:=</span>&nbsp;<span class="builtinfunc" id="1109293">make</span><span class="op" id="1109297">(</span><span class="op" id="1109298">[</span><span class="op" id="1109299">]</span><span class="builtintype" id="1109300">rune</span><span class="op" id="1109304">,</span>&nbsp;<span class="ident" id="1109306">numRunes</span><span class="op" id="1109314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109317">for</span>&nbsp;<span class="ident" id="1109321">i</span>&nbsp;<span class="op" id="1109323">:=</span>&nbsp;<span class="keyword" id="1109326">range</span>&nbsp;<span class="ident" id="1109332">a</span>&nbsp;<span class="op" id="1109334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109338">a</span><span class="op" id="1109339">[</span><span class="ident" id="1109340">i</span><span class="op" id="1109341">]</span>&nbsp;<span class="op" id="1109343">=</span>&nbsp;<span class="builtintype" id="1109345">rune</span><span class="op" id="1109349">(</span><span class="ident" id="1109350">i</span><span class="op" id="1109351">)</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109357">s</span>&nbsp;<span class="op" id="1109359">:=</span>&nbsp;<span class="builtintype" id="1109362">string</span><span class="op" id="1109368">(</span><span class="ident" id="1109369">a</span><span class="op" id="1109370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1109373">//&nbsp;convert&nbsp;the&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109396">upper</span>&nbsp;<span class="op" id="1109402">:=</span>&nbsp;<span class="ident" id="1109405">ToUpper</span><span class="op" id="1109412">(</span><span class="ident" id="1109413">s</span><span class="op" id="1109414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109417">lower</span>&nbsp;<span class="op" id="1109423">:=</span>&nbsp;<span class="ident" id="1109426">ToLower</span><span class="op" id="1109433">(</span><span class="ident" id="1109434">s</span><span class="op" id="1109435">)</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1109439">//&nbsp;Consistency&nbsp;checks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109462">if</span>&nbsp;<span class="ident" id="1109465">n</span>&nbsp;<span class="op" id="1109467">:=</span>&nbsp;<span class="ident" id="1109470">utf8</span><span class="op" id="1109474">.</span><span class="ident" id="1109475">RuneCountInString</span><span class="op" id="1109492">(</span><span class="ident" id="1109493">upper</span><span class="op" id="1109498">)</span><span class="op" id="1109499">;</span>&nbsp;<span class="ident" id="1109501">n</span>&nbsp;<span class="op" id="1109503">!=</span>&nbsp;<span class="ident" id="1109506">numRunes</span>&nbsp;<span class="op" id="1109515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109519">t</span><span class="op" id="1109520">.</span><span class="ident" id="1109521">Error</span><span class="op" id="1109526">(</span><span class="string" id="1109527">&#34;rune&nbsp;count&nbsp;wrong&nbsp;in&nbsp;upper:&#34;</span><span class="op" id="1109555">,</span>&nbsp;<span class="ident" id="1109557">n</span><span class="op" id="1109558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109561">}</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109564">if</span>&nbsp;<span class="ident" id="1109567">n</span>&nbsp;<span class="op" id="1109569">:=</span>&nbsp;<span class="ident" id="1109572">utf8</span><span class="op" id="1109576">.</span><span class="ident" id="1109577">RuneCountInString</span><span class="op" id="1109594">(</span><span class="ident" id="1109595">lower</span><span class="op" id="1109600">)</span><span class="op" id="1109601">;</span>&nbsp;<span class="ident" id="1109603">n</span>&nbsp;<span class="op" id="1109605">!=</span>&nbsp;<span class="ident" id="1109608">numRunes</span>&nbsp;<span class="op" id="1109617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109621">t</span><span class="op" id="1109622">.</span><span class="ident" id="1109623">Error</span><span class="op" id="1109628">(</span><span class="string" id="1109629">&#34;rune&nbsp;count&nbsp;wrong&nbsp;in&nbsp;lower:&#34;</span><span class="op" id="1109657">,</span>&nbsp;<span class="ident" id="1109659">n</span><span class="op" id="1109660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109666">if</span>&nbsp;<span class="op" id="1109669">!</span><span class="ident" id="1109670">equal</span><span class="op" id="1109675">(</span><span class="string" id="1109676">&#34;ToUpper(upper)&#34;</span><span class="op" id="1109692">,</span>&nbsp;<span class="ident" id="1109694">ToUpper</span><span class="op" id="1109701">(</span><span class="ident" id="1109702">upper</span><span class="op" id="1109707">)</span><span class="op" id="1109708">,</span>&nbsp;<span class="ident" id="1109710">upper</span><span class="op" id="1109715">,</span>&nbsp;<span class="ident" id="1109717">t</span><span class="op" id="1109718">)</span>&nbsp;<span class="op" id="1109720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109724">t</span><span class="op" id="1109725">.</span><span class="ident" id="1109726">Error</span><span class="op" id="1109731">(</span><span class="string" id="1109732">&#34;ToUpper(upper)&nbsp;consistency&nbsp;fail&#34;</span><span class="op" id="1109765">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1109771">if</span>&nbsp;<span class="op" id="1109774">!</span><span class="ident" id="1109775">equal</span><span class="op" id="1109780">(</span><span class="string" id="1109781">&#34;ToLower(lower)&#34;</span><span class="op" id="1109797">,</span>&nbsp;<span class="ident" id="1109799">ToLower</span><span class="op" id="1109806">(</span><span class="ident" id="1109807">lower</span><span class="op" id="1109812">)</span><span class="op" id="1109813">,</span>&nbsp;<span class="ident" id="1109815">lower</span><span class="op" id="1109820">,</span>&nbsp;<span class="ident" id="1109822">t</span><span class="op" id="1109823">)</span>&nbsp;<span class="op" id="1109825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1109829">t</span><span class="op" id="1109830">.</span><span class="ident" id="1109831">Error</span><span class="op" id="1109836">(</span><span class="string" id="1109837">&#34;ToLower(lower)&nbsp;consistency&nbsp;fail&#34;</span><span class="op" id="1109870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1109873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1109876">/*<br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;fail&nbsp;because&nbsp;of&nbsp;non-one-to-oneness&nbsp;of&nbsp;the&nbsp;data,&nbsp;such&nbsp;as&nbsp;multiple<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;upper&nbsp;case&nbsp;&#39;I&#39;&nbsp;mapping&nbsp;to&nbsp;&#39;i&#39;.&nbsp;&nbsp;We&nbsp;comment&nbsp;them&nbsp;out&nbsp;but&nbsp;keep&nbsp;them&nbsp;for<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interest.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;instance:&nbsp;CAPITAL&nbsp;LETTER&nbsp;I&nbsp;WITH&nbsp;DOT&nbsp;ABOVE:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unicode.ToUpper(unicode.ToLower(&#39;\u0130&#39;))&nbsp;!=&nbsp;&#39;\u0130&#39;<br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!equal(&#34;ToUpper(lower)&#34;,&nbsp;ToUpper(lower),&nbsp;upper,&nbsp;t)&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.Error(&#34;ToUpper(lower)&nbsp;consistency&nbsp;fail&#34;);<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!equal(&#34;ToLower(upper)&#34;,&nbsp;ToLower(upper),&nbsp;lower,&nbsp;t)&nbsp;{<br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.Error(&#34;ToLower(upper)&nbsp;consistency&nbsp;fail&#34;);<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span><span class="op" id="1110374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">720</span><span class="keyword" id="1110377">var</span>&nbsp;<span class="ident" id="1110381">RepeatTests</span>&nbsp;<span class="op" id="1110393">=</span>&nbsp;<span class="op" id="1110395">[</span><span class="op" id="1110396">]</span><span class="keyword" id="1110397">struct</span>&nbsp;<span class="op" id="1110404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1110407">in</span><span class="op" id="1110409">,</span>&nbsp;<span class="ident" id="1110411">out</span>&nbsp;<span class="builtintype" id="1110415">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1110423">count</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1110431">int</span><br>
<span class="lineno"></span><span class="op" id="1110435">}</span><span class="op" id="1110436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110439">{</span><span class="string" id="1110440">&#34;&#34;</span><span class="op" id="1110442">,</span>&nbsp;<span class="string" id="1110444">&#34;&#34;</span><span class="op" id="1110446">,</span>&nbsp;<span class="num" id="1110448">0</span><span class="op" id="1110449">}</span><span class="op" id="1110450">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110453">{</span><span class="string" id="1110454">&#34;&#34;</span><span class="op" id="1110456">,</span>&nbsp;<span class="string" id="1110458">&#34;&#34;</span><span class="op" id="1110460">,</span>&nbsp;<span class="num" id="1110462">1</span><span class="op" id="1110463">}</span><span class="op" id="1110464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110467">{</span><span class="string" id="1110468">&#34;&#34;</span><span class="op" id="1110470">,</span>&nbsp;<span class="string" id="1110472">&#34;&#34;</span><span class="op" id="1110474">,</span>&nbsp;<span class="num" id="1110476">2</span><span class="op" id="1110477">}</span><span class="op" id="1110478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110481">{</span><span class="string" id="1110482">&#34;-&#34;</span><span class="op" id="1110485">,</span>&nbsp;<span class="string" id="1110487">&#34;&#34;</span><span class="op" id="1110489">,</span>&nbsp;<span class="num" id="1110491">0</span><span class="op" id="1110492">}</span><span class="op" id="1110493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110496">{</span><span class="string" id="1110497">&#34;-&#34;</span><span class="op" id="1110500">,</span>&nbsp;<span class="string" id="1110502">&#34;-&#34;</span><span class="op" id="1110505">,</span>&nbsp;<span class="num" id="1110507">1</span><span class="op" id="1110508">}</span><span class="op" id="1110509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110512">{</span><span class="string" id="1110513">&#34;-&#34;</span><span class="op" id="1110516">,</span>&nbsp;<span class="string" id="1110518">&#34;----------&#34;</span><span class="op" id="1110530">,</span>&nbsp;<span class="num" id="1110532">10</span><span class="op" id="1110534">}</span><span class="op" id="1110535">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110538">{</span><span class="string" id="1110539">&#34;abc&nbsp;&#34;</span><span class="op" id="1110545">,</span>&nbsp;<span class="string" id="1110547">&#34;abc&nbsp;abc&nbsp;abc&nbsp;&#34;</span><span class="op" id="1110561">,</span>&nbsp;<span class="num" id="1110563">3</span><span class="op" id="1110564">}</span><span class="op" id="1110565">,</span><br>
<span class="lineno"></span><span class="op" id="1110567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1110570">func</span>&nbsp;<span class="ident" id="1110575">TestRepeat</span><span class="op" id="1110585">(</span><span class="ident" id="1110586">t</span>&nbsp;<span class="op" id="1110588">*</span><span class="ident" id="1110589">testing</span><span class="op" id="1110596">.</span><span class="ident" id="1110597">T</span><span class="op" id="1110598">)</span>&nbsp;<span class="op" id="1110600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110603">for</span>&nbsp;<span class="ident" id="1110607">_</span><span class="op" id="1110608">,</span>&nbsp;<span class="ident" id="1110610">tt</span>&nbsp;<span class="op" id="1110613">:=</span>&nbsp;<span class="keyword" id="1110616">range</span>&nbsp;<span class="ident" id="1110622">RepeatTests</span>&nbsp;<span class="op" id="1110634">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1110638">a</span>&nbsp;<span class="op" id="1110640">:=</span>&nbsp;<span class="ident" id="1110643">Repeat</span><span class="op" id="1110649">(</span><span class="ident" id="1110650">tt</span><span class="op" id="1110652">.</span><span class="ident" id="1110653">in</span><span class="op" id="1110655">,</span>&nbsp;<span class="ident" id="1110657">tt</span><span class="op" id="1110659">.</span><span class="ident" id="1110660">count</span><span class="op" id="1110665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110669">if</span>&nbsp;<span class="op" id="1110672">!</span><span class="ident" id="1110673">equal</span><span class="op" id="1110678">(</span><span class="string" id="1110679">&#34;Repeat(s)&#34;</span><span class="op" id="1110690">,</span>&nbsp;<span class="ident" id="1110692">a</span><span class="op" id="1110693">,</span>&nbsp;<span class="ident" id="1110695">tt</span><span class="op" id="1110697">.</span><span class="ident" id="1110698">out</span><span class="op" id="1110701">,</span>&nbsp;<span class="ident" id="1110703">t</span><span class="op" id="1110704">)</span>&nbsp;<span class="op" id="1110706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1110711">t</span><span class="op" id="1110712">.</span><span class="ident" id="1110713">Errorf</span><span class="op" id="1110719">(</span><span class="string" id="1110720">&#34;Repeat(%v,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1110750">,</span>&nbsp;<span class="ident" id="1110752">tt</span><span class="op" id="1110754">.</span><span class="ident" id="1110755">in</span><span class="op" id="1110757">,</span>&nbsp;<span class="ident" id="1110759">tt</span><span class="op" id="1110761">.</span><span class="ident" id="1110762">count</span><span class="op" id="1110767">,</span>&nbsp;<span class="ident" id="1110769">a</span><span class="op" id="1110770">,</span>&nbsp;<span class="ident" id="1110772">tt</span><span class="op" id="1110774">.</span><span class="ident" id="1110775">out</span><span class="op" id="1110778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110783">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110794">}</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110797">}</span><br>
<span class="lineno"></span><span class="op" id="1110799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1110802">func</span>&nbsp;<span class="ident" id="1110807">runesEqual</span><span class="op" id="1110817">(</span><span class="ident" id="1110818">a</span><span class="op" id="1110819">,</span>&nbsp;<span class="ident" id="1110821">b</span>&nbsp;<span class="op" id="1110823">[</span><span class="op" id="1110824">]</span><span class="builtintype" id="1110825">rune</span><span class="op" id="1110829">)</span>&nbsp;<span class="builtintype" id="1110831">bool</span>&nbsp;<span class="op" id="1110836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110839">if</span>&nbsp;<span class="builtinfunc" id="1110842">len</span><span class="op" id="1110845">(</span><span class="ident" id="1110846">a</span><span class="op" id="1110847">)</span>&nbsp;<span class="op" id="1110849">!=</span>&nbsp;<span class="builtinfunc" id="1110852">len</span><span class="op" id="1110855">(</span><span class="ident" id="1110856">b</span><span class="op" id="1110857">)</span>&nbsp;<span class="op" id="1110859">{</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110863">return</span>&nbsp;<span class="builtintype" id="1110870">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110880">for</span>&nbsp;<span class="ident" id="1110884">i</span><span class="op" id="1110885">,</span>&nbsp;<span class="ident" id="1110887">r</span>&nbsp;<span class="op" id="1110889">:=</span>&nbsp;<span class="keyword" id="1110892">range</span>&nbsp;<span class="ident" id="1110898">a</span>&nbsp;<span class="op" id="1110900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110904">if</span>&nbsp;<span class="ident" id="1110907">r</span>&nbsp;<span class="op" id="1110909">!=</span>&nbsp;<span class="ident" id="1110912">b</span><span class="op" id="1110913">[</span><span class="ident" id="1110914">i</span><span class="op" id="1110915">]</span>&nbsp;<span class="op" id="1110917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110922">return</span>&nbsp;<span class="builtintype" id="1110929">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1110940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1110943">return</span>&nbsp;<span class="builtintype" id="1110950">true</span><br>
<span class="lineno"></span><span class="op" id="1110955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="keyword" id="1110958">var</span>&nbsp;<span class="ident" id="1110962">RunesTests</span>&nbsp;<span class="op" id="1110973">=</span>&nbsp;<span class="op" id="1110975">[</span><span class="op" id="1110976">]</span><span class="keyword" id="1110977">struct</span>&nbsp;<span class="op" id="1110984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1110987">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1110993">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111001">out</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1111007">[</span><span class="op" id="1111008">]</span><span class="builtintype" id="1111009">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111015">lossy</span>&nbsp;<span class="builtintype" id="1111021">bool</span><br>
<span class="lineno"></span><span class="op" id="1111026">}</span><span class="op" id="1111027">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111030">{</span><span class="string" id="1111031">&#34;&#34;</span><span class="op" id="1111033">,</span>&nbsp;<span class="op" id="1111035">[</span><span class="op" id="1111036">]</span><span class="builtintype" id="1111037">rune</span><span class="op" id="1111041">{</span><span class="op" id="1111042">}</span><span class="op" id="1111043">,</span>&nbsp;<span class="builtintype" id="1111045">false</span><span class="op" id="1111050">}</span><span class="op" id="1111051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111054">{</span><span class="string" id="1111055">&#34;&nbsp;&#34;</span><span class="op" id="1111058">,</span>&nbsp;<span class="op" id="1111060">[</span><span class="op" id="1111061">]</span><span class="builtintype" id="1111062">rune</span><span class="op" id="1111066">{</span><span class="num" id="1111067">32</span><span class="op" id="1111069">}</span><span class="op" id="1111070">,</span>&nbsp;<span class="builtintype" id="1111072">false</span><span class="op" id="1111077">}</span><span class="op" id="1111078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111081">{</span><span class="string" id="1111082">&#34;ABC&#34;</span><span class="op" id="1111087">,</span>&nbsp;<span class="op" id="1111089">[</span><span class="op" id="1111090">]</span><span class="builtintype" id="1111091">rune</span><span class="op" id="1111095">{</span><span class="num" id="1111096">65</span><span class="op" id="1111098">,</span>&nbsp;<span class="num" id="1111100">66</span><span class="op" id="1111102">,</span>&nbsp;<span class="num" id="1111104">67</span><span class="op" id="1111106">}</span><span class="op" id="1111107">,</span>&nbsp;<span class="builtintype" id="1111109">false</span><span class="op" id="1111114">}</span><span class="op" id="1111115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111118">{</span><span class="string" id="1111119">&#34;abc&#34;</span><span class="op" id="1111124">,</span>&nbsp;<span class="op" id="1111126">[</span><span class="op" id="1111127">]</span><span class="builtintype" id="1111128">rune</span><span class="op" id="1111132">{</span><span class="num" id="1111133">97</span><span class="op" id="1111135">,</span>&nbsp;<span class="num" id="1111137">98</span><span class="op" id="1111139">,</span>&nbsp;<span class="num" id="1111141">99</span><span class="op" id="1111143">}</span><span class="op" id="1111144">,</span>&nbsp;<span class="builtintype" id="1111146">false</span><span class="op" id="1111151">}</span><span class="op" id="1111152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111155">{</span><span class="string" id="1111156">&#34;\u65e5\u672c\u8a9e&#34;</span><span class="op" id="1111176">,</span>&nbsp;<span class="op" id="1111178">[</span><span class="op" id="1111179">]</span><span class="builtintype" id="1111180">rune</span><span class="op" id="1111184">{</span><span class="num" id="1111185">26085</span><span class="op" id="1111190">,</span>&nbsp;<span class="num" id="1111192">26412</span><span class="op" id="1111197">,</span>&nbsp;<span class="num" id="1111199">35486</span><span class="op" id="1111204">}</span><span class="op" id="1111205">,</span>&nbsp;<span class="builtintype" id="1111207">false</span><span class="op" id="1111212">}</span><span class="op" id="1111213">,</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111216">{</span><span class="string" id="1111217">&#34;ab\x80c&#34;</span><span class="op" id="1111226">,</span>&nbsp;<span class="op" id="1111228">[</span><span class="op" id="1111229">]</span><span class="builtintype" id="1111230">rune</span><span class="op" id="1111234">{</span><span class="num" id="1111235">97</span><span class="op" id="1111237">,</span>&nbsp;<span class="num" id="1111239">98</span><span class="op" id="1111241">,</span>&nbsp;<span class="num" id="1111243">0xFFFD</span><span class="op" id="1111249">,</span>&nbsp;<span class="num" id="1111251">99</span><span class="op" id="1111253">}</span><span class="op" id="1111254">,</span>&nbsp;<span class="builtintype" id="1111256">true</span><span class="op" id="1111260">}</span><span class="op" id="1111261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111264">{</span><span class="string" id="1111265">&#34;ab\xc0c&#34;</span><span class="op" id="1111274">,</span>&nbsp;<span class="op" id="1111276">[</span><span class="op" id="1111277">]</span><span class="builtintype" id="1111278">rune</span><span class="op" id="1111282">{</span><span class="num" id="1111283">97</span><span class="op" id="1111285">,</span>&nbsp;<span class="num" id="1111287">98</span><span class="op" id="1111289">,</span>&nbsp;<span class="num" id="1111291">0xFFFD</span><span class="op" id="1111297">,</span>&nbsp;<span class="num" id="1111299">99</span><span class="op" id="1111301">}</span><span class="op" id="1111302">,</span>&nbsp;<span class="builtintype" id="1111304">true</span><span class="op" id="1111308">}</span><span class="op" id="1111309">,</span><br>
<span class="lineno"></span><span class="op" id="1111311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1111314">func</span>&nbsp;<span class="ident" id="1111319">TestRunes</span><span class="op" id="1111328">(</span><span class="ident" id="1111329">t</span>&nbsp;<span class="op" id="1111331">*</span><span class="ident" id="1111332">testing</span><span class="op" id="1111339">.</span><span class="ident" id="1111340">T</span><span class="op" id="1111341">)</span>&nbsp;<span class="op" id="1111343">{</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111346">for</span>&nbsp;<span class="ident" id="1111350">_</span><span class="op" id="1111351">,</span>&nbsp;<span class="ident" id="1111353">tt</span>&nbsp;<span class="op" id="1111356">:=</span>&nbsp;<span class="keyword" id="1111359">range</span>&nbsp;<span class="ident" id="1111365">RunesTests</span>&nbsp;<span class="op" id="1111376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111380">a</span>&nbsp;<span class="op" id="1111382">:=</span>&nbsp;<span class="op" id="1111385">[</span><span class="op" id="1111386">]</span><span class="builtintype" id="1111387">rune</span><span class="op" id="1111391">(</span><span class="ident" id="1111392">tt</span><span class="op" id="1111394">.</span><span class="ident" id="1111395">in</span><span class="op" id="1111397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111401">if</span>&nbsp;<span class="op" id="1111404">!</span><span class="ident" id="1111405">runesEqual</span><span class="op" id="1111415">(</span><span class="ident" id="1111416">a</span><span class="op" id="1111417">,</span>&nbsp;<span class="ident" id="1111419">tt</span><span class="op" id="1111421">.</span><span class="ident" id="1111422">out</span><span class="op" id="1111425">)</span>&nbsp;<span class="op" id="1111427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111432">t</span><span class="op" id="1111433">.</span><span class="ident" id="1111434">Errorf</span><span class="op" id="1111440">(</span><span class="string" id="1111441">&#34;[]rune(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1111467">,</span>&nbsp;<span class="ident" id="1111469">tt</span><span class="op" id="1111471">.</span><span class="ident" id="1111472">in</span><span class="op" id="1111474">,</span>&nbsp;<span class="ident" id="1111476">a</span><span class="op" id="1111477">,</span>&nbsp;<span class="ident" id="1111479">tt</span><span class="op" id="1111481">.</span><span class="ident" id="1111482">out</span><span class="op" id="1111485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111490">continue</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111505">if</span>&nbsp;<span class="op" id="1111508">!</span><span class="ident" id="1111509">tt</span><span class="op" id="1111511">.</span><span class="ident" id="1111512">lossy</span>&nbsp;<span class="op" id="1111518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1111523">//&nbsp;can&nbsp;only&nbsp;test&nbsp;reassembly&nbsp;if&nbsp;we&nbsp;didn&#39;t&nbsp;lose&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111584">s</span>&nbsp;<span class="op" id="1111586">:=</span>&nbsp;<span class="builtintype" id="1111589">string</span><span class="op" id="1111595">(</span><span class="ident" id="1111596">a</span><span class="op" id="1111597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111602">if</span>&nbsp;<span class="ident" id="1111605">s</span>&nbsp;<span class="op" id="1111607">!=</span>&nbsp;<span class="ident" id="1111610">tt</span><span class="op" id="1111612">.</span><span class="ident" id="1111613">in</span>&nbsp;<span class="op" id="1111616">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111622">t</span><span class="op" id="1111623">.</span><span class="ident" id="1111624">Errorf</span><span class="op" id="1111630">(</span><span class="string" id="1111631">&#34;string([]rune(%q))&nbsp;=&nbsp;%x;&nbsp;want&nbsp;%x&#34;</span><span class="op" id="1111665">,</span>&nbsp;<span class="ident" id="1111667">tt</span><span class="op" id="1111669">.</span><span class="ident" id="1111670">in</span><span class="op" id="1111672">,</span>&nbsp;<span class="ident" id="1111674">s</span><span class="op" id="1111675">,</span>&nbsp;<span class="ident" id="1111677">tt</span><span class="op" id="1111679">.</span><span class="ident" id="1111680">in</span><span class="op" id="1111682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111694">}</span><br>
<span class="lineno"></span><span class="op" id="1111696">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="1111699">func</span>&nbsp;<span class="ident" id="1111704">TestReadByte</span><span class="op" id="1111716">(</span><span class="ident" id="1111717">t</span>&nbsp;<span class="op" id="1111719">*</span><span class="ident" id="1111720">testing</span><span class="op" id="1111727">.</span><span class="ident" id="1111728">T</span><span class="op" id="1111729">)</span>&nbsp;<span class="op" id="1111731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111734">testStrings</span>&nbsp;<span class="op" id="1111746">:=</span>&nbsp;<span class="op" id="1111749">[</span><span class="op" id="1111750">]</span><span class="builtintype" id="1111751">string</span><span class="op" id="1111757">{</span><span class="string" id="1111758">&#34;&#34;</span><span class="op" id="1111760">,</span>&nbsp;<span class="ident" id="1111762">abcd</span><span class="op" id="1111766">,</span>&nbsp;<span class="ident" id="1111768">faces</span><span class="op" id="1111773">,</span>&nbsp;<span class="ident" id="1111775">commas</span><span class="op" id="1111781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111784">for</span>&nbsp;<span class="ident" id="1111788">_</span><span class="op" id="1111789">,</span>&nbsp;<span class="ident" id="1111791">s</span>&nbsp;<span class="op" id="1111793">:=</span>&nbsp;<span class="keyword" id="1111796">range</span>&nbsp;<span class="ident" id="1111802">testStrings</span>&nbsp;<span class="op" id="1111814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111818">reader</span>&nbsp;<span class="op" id="1111825">:=</span>&nbsp;<span class="ident" id="1111828">NewReader</span><span class="op" id="1111837">(</span><span class="ident" id="1111838">s</span><span class="op" id="1111839">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111843">if</span>&nbsp;<span class="ident" id="1111846">e</span>&nbsp;<span class="op" id="1111848">:=</span>&nbsp;<span class="ident" id="1111851">reader</span><span class="op" id="1111857">.</span><span class="ident" id="1111858">UnreadByte</span><span class="op" id="1111868">(</span><span class="op" id="1111869">)</span><span class="op" id="1111870">;</span>&nbsp;<span class="ident" id="1111872">e</span>&nbsp;<span class="op" id="1111874">==</span>&nbsp;<span class="builtintype" id="1111877">nil</span>&nbsp;<span class="op" id="1111881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111886">t</span><span class="op" id="1111887">.</span><span class="ident" id="1111888">Errorf</span><span class="op" id="1111894">(</span><span class="string" id="1111895">&#34;Unreading&nbsp;%q&nbsp;at&nbsp;beginning:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="1111938">,</span>&nbsp;<span class="ident" id="1111940">s</span><span class="op" id="1111941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1111945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111949">var</span>&nbsp;<span class="ident" id="1111953">res</span>&nbsp;<span class="ident" id="1111957">bytes</span><span class="op" id="1111962">.</span><span class="ident" id="1111963">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1111972">for</span>&nbsp;<span class="op" id="1111976">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1111981">b</span><span class="op" id="1111982">,</span>&nbsp;<span class="ident" id="1111984">e</span>&nbsp;<span class="op" id="1111986">:=</span>&nbsp;<span class="ident" id="1111989">reader</span><span class="op" id="1111995">.</span><span class="ident" id="1111996">ReadByte</span><span class="op" id="1112004">(</span><span class="op" id="1112005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112010">if</span>&nbsp;<span class="ident" id="1112013">e</span>&nbsp;<span class="op" id="1112015">==</span>&nbsp;<span class="ident" id="1112018">io</span><span class="op" id="1112020">.</span><span class="ident" id="1112021">EOF</span>&nbsp;<span class="op" id="1112025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112031">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112045">if</span>&nbsp;<span class="ident" id="1112048">e</span>&nbsp;<span class="op" id="1112050">!=</span>&nbsp;<span class="builtintype" id="1112053">nil</span>&nbsp;<span class="op" id="1112057">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112063">t</span><span class="op" id="1112064">.</span><span class="ident" id="1112065">Errorf</span><span class="op" id="1112071">(</span><span class="string" id="1112072">&#34;Reading&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="1112088">,</span>&nbsp;<span class="ident" id="1112090">s</span><span class="op" id="1112091">,</span>&nbsp;<span class="ident" id="1112093">e</span><span class="op" id="1112094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112100">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112114">res</span><span class="op" id="1112117">.</span><span class="ident" id="1112118">WriteByte</span><span class="op" id="1112127">(</span><span class="ident" id="1112128">b</span><span class="op" id="1112129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1112134">//&nbsp;unread&nbsp;and&nbsp;read&nbsp;again</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112162">e</span>&nbsp;<span class="op" id="1112164">=</span>&nbsp;<span class="ident" id="1112166">reader</span><span class="op" id="1112172">.</span><span class="ident" id="1112173">UnreadByte</span><span class="op" id="1112183">(</span><span class="op" id="1112184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112189">if</span>&nbsp;<span class="ident" id="1112192">e</span>&nbsp;<span class="op" id="1112194">!=</span>&nbsp;<span class="builtintype" id="1112197">nil</span>&nbsp;<span class="op" id="1112201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112207">t</span><span class="op" id="1112208">.</span><span class="ident" id="1112209">Errorf</span><span class="op" id="1112215">(</span><span class="string" id="1112216">&#34;Unreading&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="1112234">,</span>&nbsp;<span class="ident" id="1112236">s</span><span class="op" id="1112237">,</span>&nbsp;<span class="ident" id="1112239">e</span><span class="op" id="1112240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112246">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112255">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112260">b1</span><span class="op" id="1112262">,</span>&nbsp;<span class="ident" id="1112264">e</span>&nbsp;<span class="op" id="1112266">:=</span>&nbsp;<span class="ident" id="1112269">reader</span><span class="op" id="1112275">.</span><span class="ident" id="1112276">ReadByte</span><span class="op" id="1112284">(</span><span class="op" id="1112285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112290">if</span>&nbsp;<span class="ident" id="1112293">e</span>&nbsp;<span class="op" id="1112295">!=</span>&nbsp;<span class="builtintype" id="1112298">nil</span>&nbsp;<span class="op" id="1112302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112308">t</span><span class="op" id="1112309">.</span><span class="ident" id="1112310">Errorf</span><span class="op" id="1112316">(</span><span class="string" id="1112317">&#34;Reading&nbsp;%q&nbsp;after&nbsp;unreading:&nbsp;%s&#34;</span><span class="op" id="1112349">,</span>&nbsp;<span class="ident" id="1112351">s</span><span class="op" id="1112352">,</span>&nbsp;<span class="ident" id="1112354">e</span><span class="op" id="1112355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112361">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112370">}</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112375">if</span>&nbsp;<span class="ident" id="1112378">b1</span>&nbsp;<span class="op" id="1112381">!=</span>&nbsp;<span class="ident" id="1112384">b</span>&nbsp;<span class="op" id="1112386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112392">t</span><span class="op" id="1112393">.</span><span class="ident" id="1112394">Errorf</span><span class="op" id="1112400">(</span><span class="string" id="1112401">&#34;Reading&nbsp;%q&nbsp;after&nbsp;unreading:&nbsp;want&nbsp;byte&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1112451">,</span>&nbsp;<span class="ident" id="1112453">s</span><span class="op" id="1112454">,</span>&nbsp;<span class="ident" id="1112456">b</span><span class="op" id="1112457">,</span>&nbsp;<span class="ident" id="1112459">b1</span><span class="op" id="1112461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112467">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112480">}</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112484">if</span>&nbsp;<span class="ident" id="1112487">res</span><span class="op" id="1112490">.</span><span class="ident" id="1112491">String</span><span class="op" id="1112497">(</span><span class="op" id="1112498">)</span>&nbsp;<span class="op" id="1112500">!=</span>&nbsp;<span class="ident" id="1112503">s</span>&nbsp;<span class="op" id="1112505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112510">t</span><span class="op" id="1112511">.</span><span class="ident" id="1112512">Errorf</span><span class="op" id="1112518">(</span><span class="string" id="1112519">&#34;Reader(%q).ReadByte()&nbsp;produced&nbsp;%q&#34;</span><span class="op" id="1112554">,</span>&nbsp;<span class="ident" id="1112556">s</span><span class="op" id="1112557">,</span>&nbsp;<span class="ident" id="1112559">res</span><span class="op" id="1112562">.</span><span class="ident" id="1112563">String</span><span class="op" id="1112569">(</span><span class="op" id="1112570">)</span><span class="op" id="1112571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112578">}</span><br>
<span class="lineno"></span><span class="op" id="1112580">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span><span class="keyword" id="1112583">func</span>&nbsp;<span class="ident" id="1112588">TestReadRune</span><span class="op" id="1112600">(</span><span class="ident" id="1112601">t</span>&nbsp;<span class="op" id="1112603">*</span><span class="ident" id="1112604">testing</span><span class="op" id="1112611">.</span><span class="ident" id="1112612">T</span><span class="op" id="1112613">)</span>&nbsp;<span class="op" id="1112615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112618">testStrings</span>&nbsp;<span class="op" id="1112630">:=</span>&nbsp;<span class="op" id="1112633">[</span><span class="op" id="1112634">]</span><span class="builtintype" id="1112635">string</span><span class="op" id="1112641">{</span><span class="string" id="1112642">&#34;&#34;</span><span class="op" id="1112644">,</span>&nbsp;<span class="ident" id="1112646">abcd</span><span class="op" id="1112650">,</span>&nbsp;<span class="ident" id="1112652">faces</span><span class="op" id="1112657">,</span>&nbsp;<span class="ident" id="1112659">commas</span><span class="op" id="1112665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112668">for</span>&nbsp;<span class="ident" id="1112672">_</span><span class="op" id="1112673">,</span>&nbsp;<span class="ident" id="1112675">s</span>&nbsp;<span class="op" id="1112677">:=</span>&nbsp;<span class="keyword" id="1112680">range</span>&nbsp;<span class="ident" id="1112686">testStrings</span>&nbsp;<span class="op" id="1112698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112702">reader</span>&nbsp;<span class="op" id="1112709">:=</span>&nbsp;<span class="ident" id="1112712">NewReader</span><span class="op" id="1112721">(</span><span class="ident" id="1112722">s</span><span class="op" id="1112723">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112727">if</span>&nbsp;<span class="ident" id="1112730">e</span>&nbsp;<span class="op" id="1112732">:=</span>&nbsp;<span class="ident" id="1112735">reader</span><span class="op" id="1112741">.</span><span class="ident" id="1112742">UnreadRune</span><span class="op" id="1112752">(</span><span class="op" id="1112753">)</span><span class="op" id="1112754">;</span>&nbsp;<span class="ident" id="1112756">e</span>&nbsp;<span class="op" id="1112758">==</span>&nbsp;<span class="builtintype" id="1112761">nil</span>&nbsp;<span class="op" id="1112765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112770">t</span><span class="op" id="1112771">.</span><span class="ident" id="1112772">Errorf</span><span class="op" id="1112778">(</span><span class="string" id="1112779">&#34;Unreading&nbsp;%q&nbsp;at&nbsp;beginning:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="1112822">,</span>&nbsp;<span class="ident" id="1112824">s</span><span class="op" id="1112825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112833">res</span>&nbsp;<span class="op" id="1112837">:=</span>&nbsp;<span class="string" id="1112840">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112845">for</span>&nbsp;<span class="op" id="1112849">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112854">r</span><span class="op" id="1112855">,</span>&nbsp;<span class="ident" id="1112857">z</span><span class="op" id="1112858">,</span>&nbsp;<span class="ident" id="1112860">e</span>&nbsp;<span class="op" id="1112862">:=</span>&nbsp;<span class="ident" id="1112865">reader</span><span class="op" id="1112871">.</span><span class="ident" id="1112872">ReadRune</span><span class="op" id="1112880">(</span><span class="op" id="1112881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112886">if</span>&nbsp;<span class="ident" id="1112889">e</span>&nbsp;<span class="op" id="1112891">==</span>&nbsp;<span class="ident" id="1112894">io</span><span class="op" id="1112896">.</span><span class="ident" id="1112897">EOF</span>&nbsp;<span class="op" id="1112901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112907">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112921">if</span>&nbsp;<span class="ident" id="1112924">e</span>&nbsp;<span class="op" id="1112926">!=</span>&nbsp;<span class="builtintype" id="1112929">nil</span>&nbsp;<span class="op" id="1112933">{</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112939">t</span><span class="op" id="1112940">.</span><span class="ident" id="1112941">Errorf</span><span class="op" id="1112947">(</span><span class="string" id="1112948">&#34;Reading&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="1112964">,</span>&nbsp;<span class="ident" id="1112966">s</span><span class="op" id="1112967">,</span>&nbsp;<span class="ident" id="1112969">e</span><span class="op" id="1112970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1112976">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1112985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1112990">res</span>&nbsp;<span class="op" id="1112994">+=</span>&nbsp;<span class="builtintype" id="1112997">string</span><span class="op" id="1113003">(</span><span class="ident" id="1113004">r</span><span class="op" id="1113005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1113010">//&nbsp;unread&nbsp;and&nbsp;read&nbsp;again</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113038">e</span>&nbsp;<span class="op" id="1113040">=</span>&nbsp;<span class="ident" id="1113042">reader</span><span class="op" id="1113048">.</span><span class="ident" id="1113049">UnreadRune</span><span class="op" id="1113059">(</span><span class="op" id="1113060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113065">if</span>&nbsp;<span class="ident" id="1113068">e</span>&nbsp;<span class="op" id="1113070">!=</span>&nbsp;<span class="builtintype" id="1113073">nil</span>&nbsp;<span class="op" id="1113077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113083">t</span><span class="op" id="1113084">.</span><span class="ident" id="1113085">Errorf</span><span class="op" id="1113091">(</span><span class="string" id="1113092">&#34;Unreading&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="1113110">,</span>&nbsp;<span class="ident" id="1113112">s</span><span class="op" id="1113113">,</span>&nbsp;<span class="ident" id="1113115">e</span><span class="op" id="1113116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113122">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113131">}</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113136">r1</span><span class="op" id="1113138">,</span>&nbsp;<span class="ident" id="1113140">z1</span><span class="op" id="1113142">,</span>&nbsp;<span class="ident" id="1113144">e</span>&nbsp;<span class="op" id="1113146">:=</span>&nbsp;<span class="ident" id="1113149">reader</span><span class="op" id="1113155">.</span><span class="ident" id="1113156">ReadRune</span><span class="op" id="1113164">(</span><span class="op" id="1113165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113170">if</span>&nbsp;<span class="ident" id="1113173">e</span>&nbsp;<span class="op" id="1113175">!=</span>&nbsp;<span class="builtintype" id="1113178">nil</span>&nbsp;<span class="op" id="1113182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113188">t</span><span class="op" id="1113189">.</span><span class="ident" id="1113190">Errorf</span><span class="op" id="1113196">(</span><span class="string" id="1113197">&#34;Reading&nbsp;%q&nbsp;after&nbsp;unreading:&nbsp;%s&#34;</span><span class="op" id="1113229">,</span>&nbsp;<span class="ident" id="1113231">s</span><span class="op" id="1113232">,</span>&nbsp;<span class="ident" id="1113234">e</span><span class="op" id="1113235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113241">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113250">}</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113255">if</span>&nbsp;<span class="ident" id="1113258">r1</span>&nbsp;<span class="op" id="1113261">!=</span>&nbsp;<span class="ident" id="1113264">r</span>&nbsp;<span class="op" id="1113266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113272">t</span><span class="op" id="1113273">.</span><span class="ident" id="1113274">Errorf</span><span class="op" id="1113280">(</span><span class="string" id="1113281">&#34;Reading&nbsp;%q&nbsp;after&nbsp;unreading:&nbsp;want&nbsp;rune&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="1113331">,</span>&nbsp;<span class="ident" id="1113333">s</span><span class="op" id="1113334">,</span>&nbsp;<span class="ident" id="1113336">r</span><span class="op" id="1113337">,</span>&nbsp;<span class="ident" id="1113339">r1</span><span class="op" id="1113341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113347">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113361">if</span>&nbsp;<span class="ident" id="1113364">z1</span>&nbsp;<span class="op" id="1113367">!=</span>&nbsp;<span class="ident" id="1113370">z</span>&nbsp;<span class="op" id="1113372">{</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113378">t</span><span class="op" id="1113379">.</span><span class="ident" id="1113380">Errorf</span><span class="op" id="1113386">(</span><span class="string" id="1113387">&#34;Reading&nbsp;%q&nbsp;after&nbsp;unreading:&nbsp;want&nbsp;size&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="1113437">,</span>&nbsp;<span class="ident" id="1113439">s</span><span class="op" id="1113440">,</span>&nbsp;<span class="ident" id="1113442">z</span><span class="op" id="1113443">,</span>&nbsp;<span class="ident" id="1113445">z1</span><span class="op" id="1113447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113453">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113470">if</span>&nbsp;<span class="ident" id="1113473">res</span>&nbsp;<span class="op" id="1113477">!=</span>&nbsp;<span class="ident" id="1113480">s</span>&nbsp;<span class="op" id="1113482">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113487">t</span><span class="op" id="1113488">.</span><span class="ident" id="1113489">Errorf</span><span class="op" id="1113495">(</span><span class="string" id="1113496">&#34;Reader(%q).ReadRune()&nbsp;produced&nbsp;%q&#34;</span><span class="op" id="1113531">,</span>&nbsp;<span class="ident" id="1113533">s</span><span class="op" id="1113534">,</span>&nbsp;<span class="ident" id="1113536">res</span><span class="op" id="1113539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113546">}</span><br>
<span class="lineno"></span><span class="op" id="1113548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">870</span><span class="keyword" id="1113551">var</span>&nbsp;<span class="ident" id="1113555">UnreadRuneErrorTests</span>&nbsp;<span class="op" id="1113576">=</span>&nbsp;<span class="op" id="1113578">[</span><span class="op" id="1113579">]</span><span class="keyword" id="1113580">struct</span>&nbsp;<span class="op" id="1113587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113590">name</span>&nbsp;<span class="builtintype" id="1113595">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113603">f</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113608">func</span><span class="op" id="1113612">(</span><span class="op" id="1113613">*</span><span class="ident" id="1113614">Reader</span><span class="op" id="1113620">)</span><br>
<span class="lineno"></span><span class="op" id="1113622">}</span><span class="op" id="1113623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113626">{</span><span class="string" id="1113627">&#34;Read&#34;</span><span class="op" id="1113633">,</span>&nbsp;<span class="keyword" id="1113635">func</span><span class="op" id="1113639">(</span><span class="ident" id="1113640">r</span>&nbsp;<span class="op" id="1113642">*</span><span class="ident" id="1113643">Reader</span><span class="op" id="1113649">)</span>&nbsp;<span class="op" id="1113651">{</span>&nbsp;<span class="ident" id="1113653">r</span><span class="op" id="1113654">.</span><span class="ident" id="1113655">Read</span><span class="op" id="1113659">(</span><span class="op" id="1113660">[</span><span class="op" id="1113661">]</span><span class="builtintype" id="1113662">byte</span><span class="op" id="1113666">{</span><span class="num" id="1113667">0</span><span class="op" id="1113668">}</span><span class="op" id="1113669">)</span>&nbsp;<span class="op" id="1113671">}</span><span class="op" id="1113672">}</span><span class="op" id="1113673">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113676">{</span><span class="string" id="1113677">&#34;ReadByte&#34;</span><span class="op" id="1113687">,</span>&nbsp;<span class="keyword" id="1113689">func</span><span class="op" id="1113693">(</span><span class="ident" id="1113694">r</span>&nbsp;<span class="op" id="1113696">*</span><span class="ident" id="1113697">Reader</span><span class="op" id="1113703">)</span>&nbsp;<span class="op" id="1113705">{</span>&nbsp;<span class="ident" id="1113707">r</span><span class="op" id="1113708">.</span><span class="ident" id="1113709">ReadByte</span><span class="op" id="1113717">(</span><span class="op" id="1113718">)</span>&nbsp;<span class="op" id="1113720">}</span><span class="op" id="1113721">}</span><span class="op" id="1113722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113725">{</span><span class="string" id="1113726">&#34;UnreadRune&#34;</span><span class="op" id="1113738">,</span>&nbsp;<span class="keyword" id="1113740">func</span><span class="op" id="1113744">(</span><span class="ident" id="1113745">r</span>&nbsp;<span class="op" id="1113747">*</span><span class="ident" id="1113748">Reader</span><span class="op" id="1113754">)</span>&nbsp;<span class="op" id="1113756">{</span>&nbsp;<span class="ident" id="1113758">r</span><span class="op" id="1113759">.</span><span class="ident" id="1113760">UnreadRune</span><span class="op" id="1113770">(</span><span class="op" id="1113771">)</span>&nbsp;<span class="op" id="1113773">}</span><span class="op" id="1113774">}</span><span class="op" id="1113775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113778">{</span><span class="string" id="1113779">&#34;Seek&#34;</span><span class="op" id="1113785">,</span>&nbsp;<span class="keyword" id="1113787">func</span><span class="op" id="1113791">(</span><span class="ident" id="1113792">r</span>&nbsp;<span class="op" id="1113794">*</span><span class="ident" id="1113795">Reader</span><span class="op" id="1113801">)</span>&nbsp;<span class="op" id="1113803">{</span>&nbsp;<span class="ident" id="1113805">r</span><span class="op" id="1113806">.</span><span class="ident" id="1113807">Seek</span><span class="op" id="1113811">(</span><span class="num" id="1113812">0</span><span class="op" id="1113813">,</span>&nbsp;<span class="num" id="1113815">1</span><span class="op" id="1113816">)</span>&nbsp;<span class="op" id="1113818">}</span><span class="op" id="1113819">}</span><span class="op" id="1113820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1113823">{</span><span class="string" id="1113824">&#34;WriteTo&#34;</span><span class="op" id="1113833">,</span>&nbsp;<span class="keyword" id="1113835">func</span><span class="op" id="1113839">(</span><span class="ident" id="1113840">r</span>&nbsp;<span class="op" id="1113842">*</span><span class="ident" id="1113843">Reader</span><span class="op" id="1113849">)</span>&nbsp;<span class="op" id="1113851">{</span>&nbsp;<span class="ident" id="1113853">r</span><span class="op" id="1113854">.</span><span class="ident" id="1113855">WriteTo</span><span class="op" id="1113862">(</span><span class="op" id="1113863">&amp;</span><span class="ident" id="1113864">bytes</span><span class="op" id="1113869">.</span><span class="ident" id="1113870">Buffer</span><span class="op" id="1113876">{</span><span class="op" id="1113877">}</span><span class="op" id="1113878">)</span>&nbsp;<span class="op" id="1113880">}</span><span class="op" id="1113881">}</span><span class="op" id="1113882">,</span><br>
<span class="lineno"></span><span class="op" id="1113884">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span><span class="keyword" id="1113887">func</span>&nbsp;<span class="ident" id="1113892">TestUnreadRuneError</span><span class="op" id="1113911">(</span><span class="ident" id="1113912">t</span>&nbsp;<span class="op" id="1113914">*</span><span class="ident" id="1113915">testing</span><span class="op" id="1113922">.</span><span class="ident" id="1113923">T</span><span class="op" id="1113924">)</span>&nbsp;<span class="op" id="1113926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1113929">for</span>&nbsp;<span class="ident" id="1113933">_</span><span class="op" id="1113934">,</span>&nbsp;<span class="ident" id="1113936">tt</span>&nbsp;<span class="op" id="1113939">:=</span>&nbsp;<span class="keyword" id="1113942">range</span>&nbsp;<span class="ident" id="1113948">UnreadRuneErrorTests</span>&nbsp;<span class="op" id="1113969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1113973">reader</span>&nbsp;<span class="op" id="1113980">:=</span>&nbsp;<span class="ident" id="1113983">NewReader</span><span class="op" id="1113992">(</span><span class="string" id="1113993">&#34;0123456789&#34;</span><span class="op" id="1114005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1114009">if</span>&nbsp;<span class="ident" id="1114012">_</span><span class="op" id="1114013">,</span>&nbsp;<span class="ident" id="1114015">_</span><span class="op" id="1114016">,</span>&nbsp;<span class="ident" id="1114018">err</span>&nbsp;<span class="op" id="1114022">:=</span>&nbsp;<span class="ident" id="1114025">reader</span><span class="op" id="1114031">.</span><span class="ident" id="1114032">ReadRune</span><span class="op" id="1114040">(</span><span class="op" id="1114041">)</span><span class="op" id="1114042">;</span>&nbsp;<span class="ident" id="1114044">err</span>&nbsp;<span class="op" id="1114048">!=</span>&nbsp;<span class="builtintype" id="1114051">nil</span>&nbsp;<span class="op" id="1114055">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1114060">//&nbsp;should&nbsp;not&nbsp;happen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114084">t</span><span class="op" id="1114085">.</span><span class="ident" id="1114086">Fatal</span><span class="op" id="1114091">(</span><span class="ident" id="1114092">err</span><span class="op" id="1114095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114103">tt</span><span class="op" id="1114105">.</span><span class="ident" id="1114106">f</span><span class="op" id="1114107">(</span><span class="ident" id="1114108">reader</span><span class="op" id="1114114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114118">err</span>&nbsp;<span class="op" id="1114122">:=</span>&nbsp;<span class="ident" id="1114125">reader</span><span class="op" id="1114131">.</span><span class="ident" id="1114132">UnreadRune</span><span class="op" id="1114142">(</span><span class="op" id="1114143">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1114147">if</span>&nbsp;<span class="ident" id="1114150">err</span>&nbsp;<span class="op" id="1114154">==</span>&nbsp;<span class="builtintype" id="1114157">nil</span>&nbsp;<span class="op" id="1114161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114166">t</span><span class="op" id="1114167">.</span><span class="ident" id="1114168">Errorf</span><span class="op" id="1114174">(</span><span class="string" id="1114175">&#34;Unreading&nbsp;after&nbsp;%s:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="1114211">,</span>&nbsp;<span class="ident" id="1114213">tt</span><span class="op" id="1114215">.</span><span class="ident" id="1114216">name</span><span class="op" id="1114220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114227">}</span><br>
<span class="lineno"></span><span class="op" id="1114229">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="keyword" id="1114232">var</span>&nbsp;<span class="ident" id="1114236">ReplaceTests</span>&nbsp;<span class="op" id="1114249">=</span>&nbsp;<span class="op" id="1114251">[</span><span class="op" id="1114252">]</span><span class="keyword" id="1114253">struct</span>&nbsp;<span class="op" id="1114260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114263">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1114272">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114280">old</span><span class="op" id="1114283">,</span>&nbsp;<span class="builtinfunc" id="1114285">new</span>&nbsp;<span class="builtintype" id="1114289">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114297">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1114306">int</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1114311">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1114320">string</span><br>
<span class="lineno"></span><span class="op" id="1114327">}</span><span class="op" id="1114328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114331">{</span><span class="string" id="1114332">&#34;hello&#34;</span><span class="op" id="1114339">,</span>&nbsp;<span class="string" id="1114341">&#34;l&#34;</span><span class="op" id="1114344">,</span>&nbsp;<span class="string" id="1114346">&#34;L&#34;</span><span class="op" id="1114349">,</span>&nbsp;<span class="num" id="1114351">0</span><span class="op" id="1114352">,</span>&nbsp;<span class="string" id="1114354">&#34;hello&#34;</span><span class="op" id="1114361">}</span><span class="op" id="1114362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114365">{</span><span class="string" id="1114366">&#34;hello&#34;</span><span class="op" id="1114373">,</span>&nbsp;<span class="string" id="1114375">&#34;l&#34;</span><span class="op" id="1114378">,</span>&nbsp;<span class="string" id="1114380">&#34;L&#34;</span><span class="op" id="1114383">,</span>&nbsp;<span class="op" id="1114385">-</span><span class="num" id="1114386">1</span><span class="op" id="1114387">,</span>&nbsp;<span class="string" id="1114389">&#34;heLLo&#34;</span><span class="op" id="1114396">}</span><span class="op" id="1114397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114400">{</span><span class="string" id="1114401">&#34;hello&#34;</span><span class="op" id="1114408">,</span>&nbsp;<span class="string" id="1114410">&#34;x&#34;</span><span class="op" id="1114413">,</span>&nbsp;<span class="string" id="1114415">&#34;X&#34;</span><span class="op" id="1114418">,</span>&nbsp;<span class="op" id="1114420">-</span><span class="num" id="1114421">1</span><span class="op" id="1114422">,</span>&nbsp;<span class="string" id="1114424">&#34;hello&#34;</span><span class="op" id="1114431">}</span><span class="op" id="1114432">,</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114435">{</span><span class="string" id="1114436">&#34;&#34;</span><span class="op" id="1114438">,</span>&nbsp;<span class="string" id="1114440">&#34;x&#34;</span><span class="op" id="1114443">,</span>&nbsp;<span class="string" id="1114445">&#34;X&#34;</span><span class="op" id="1114448">,</span>&nbsp;<span class="op" id="1114450">-</span><span class="num" id="1114451">1</span><span class="op" id="1114452">,</span>&nbsp;<span class="string" id="1114454">&#34;&#34;</span><span class="op" id="1114456">}</span><span class="op" id="1114457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114460">{</span><span class="string" id="1114461">&#34;radar&#34;</span><span class="op" id="1114468">,</span>&nbsp;<span class="string" id="1114470">&#34;r&#34;</span><span class="op" id="1114473">,</span>&nbsp;<span class="string" id="1114475">&#34;&lt;r&gt;&#34;</span><span class="op" id="1114480">,</span>&nbsp;<span class="op" id="1114482">-</span><span class="num" id="1114483">1</span><span class="op" id="1114484">,</span>&nbsp;<span class="string" id="1114486">&#34;&lt;r&gt;ada&lt;r&gt;&#34;</span><span class="op" id="1114497">}</span><span class="op" id="1114498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114501">{</span><span class="string" id="1114502">&#34;&#34;</span><span class="op" id="1114504">,</span>&nbsp;<span class="string" id="1114506">&#34;&#34;</span><span class="op" id="1114508">,</span>&nbsp;<span class="string" id="1114510">&#34;&lt;&gt;&#34;</span><span class="op" id="1114514">,</span>&nbsp;<span class="op" id="1114516">-</span><span class="num" id="1114517">1</span><span class="op" id="1114518">,</span>&nbsp;<span class="string" id="1114520">&#34;&lt;&gt;&#34;</span><span class="op" id="1114524">}</span><span class="op" id="1114525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114528">{</span><span class="string" id="1114529">&#34;banana&#34;</span><span class="op" id="1114537">,</span>&nbsp;<span class="string" id="1114539">&#34;a&#34;</span><span class="op" id="1114542">,</span>&nbsp;<span class="string" id="1114544">&#34;&lt;&gt;&#34;</span><span class="op" id="1114548">,</span>&nbsp;<span class="op" id="1114550">-</span><span class="num" id="1114551">1</span><span class="op" id="1114552">,</span>&nbsp;<span class="string" id="1114554">&#34;b&lt;&gt;n&lt;&gt;n&lt;&gt;&#34;</span><span class="op" id="1114565">}</span><span class="op" id="1114566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114569">{</span><span class="string" id="1114570">&#34;banana&#34;</span><span class="op" id="1114578">,</span>&nbsp;<span class="string" id="1114580">&#34;a&#34;</span><span class="op" id="1114583">,</span>&nbsp;<span class="string" id="1114585">&#34;&lt;&gt;&#34;</span><span class="op" id="1114589">,</span>&nbsp;<span class="num" id="1114591">1</span><span class="op" id="1114592">,</span>&nbsp;<span class="string" id="1114594">&#34;b&lt;&gt;nana&#34;</span><span class="op" id="1114603">}</span><span class="op" id="1114604">,</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114607">{</span><span class="string" id="1114608">&#34;banana&#34;</span><span class="op" id="1114616">,</span>&nbsp;<span class="string" id="1114618">&#34;a&#34;</span><span class="op" id="1114621">,</span>&nbsp;<span class="string" id="1114623">&#34;&lt;&gt;&#34;</span><span class="op" id="1114627">,</span>&nbsp;<span class="num" id="1114629">1000</span><span class="op" id="1114633">,</span>&nbsp;<span class="string" id="1114635">&#34;b&lt;&gt;n&lt;&gt;n&lt;&gt;&#34;</span><span class="op" id="1114646">}</span><span class="op" id="1114647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114650">{</span><span class="string" id="1114651">&#34;banana&#34;</span><span class="op" id="1114659">,</span>&nbsp;<span class="string" id="1114661">&#34;an&#34;</span><span class="op" id="1114665">,</span>&nbsp;<span class="string" id="1114667">&#34;&lt;&gt;&#34;</span><span class="op" id="1114671">,</span>&nbsp;<span class="op" id="1114673">-</span><span class="num" id="1114674">1</span><span class="op" id="1114675">,</span>&nbsp;<span class="string" id="1114677">&#34;b&lt;&gt;&lt;&gt;a&#34;</span><span class="op" id="1114685">}</span><span class="op" id="1114686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114689">{</span><span class="string" id="1114690">&#34;banana&#34;</span><span class="op" id="1114698">,</span>&nbsp;<span class="string" id="1114700">&#34;ana&#34;</span><span class="op" id="1114705">,</span>&nbsp;<span class="string" id="1114707">&#34;&lt;&gt;&#34;</span><span class="op" id="1114711">,</span>&nbsp;<span class="op" id="1114713">-</span><span class="num" id="1114714">1</span><span class="op" id="1114715">,</span>&nbsp;<span class="string" id="1114717">&#34;b&lt;&gt;na&#34;</span><span class="op" id="1114724">}</span><span class="op" id="1114725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114728">{</span><span class="string" id="1114729">&#34;banana&#34;</span><span class="op" id="1114737">,</span>&nbsp;<span class="string" id="1114739">&#34;&#34;</span><span class="op" id="1114741">,</span>&nbsp;<span class="string" id="1114743">&#34;&lt;&gt;&#34;</span><span class="op" id="1114747">,</span>&nbsp;<span class="op" id="1114749">-</span><span class="num" id="1114750">1</span><span class="op" id="1114751">,</span>&nbsp;<span class="string" id="1114753">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;&#34;</span><span class="op" id="1114775">}</span><span class="op" id="1114776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114779">{</span><span class="string" id="1114780">&#34;banana&#34;</span><span class="op" id="1114788">,</span>&nbsp;<span class="string" id="1114790">&#34;&#34;</span><span class="op" id="1114792">,</span>&nbsp;<span class="string" id="1114794">&#34;&lt;&gt;&#34;</span><span class="op" id="1114798">,</span>&nbsp;<span class="num" id="1114800">10</span><span class="op" id="1114802">,</span>&nbsp;<span class="string" id="1114804">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;&#34;</span><span class="op" id="1114826">}</span><span class="op" id="1114827">,</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114830">{</span><span class="string" id="1114831">&#34;banana&#34;</span><span class="op" id="1114839">,</span>&nbsp;<span class="string" id="1114841">&#34;&#34;</span><span class="op" id="1114843">,</span>&nbsp;<span class="string" id="1114845">&#34;&lt;&gt;&#34;</span><span class="op" id="1114849">,</span>&nbsp;<span class="num" id="1114851">6</span><span class="op" id="1114852">,</span>&nbsp;<span class="string" id="1114854">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&#34;</span><span class="op" id="1114874">}</span><span class="op" id="1114875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114878">{</span><span class="string" id="1114879">&#34;banana&#34;</span><span class="op" id="1114887">,</span>&nbsp;<span class="string" id="1114889">&#34;&#34;</span><span class="op" id="1114891">,</span>&nbsp;<span class="string" id="1114893">&#34;&lt;&gt;&#34;</span><span class="op" id="1114897">,</span>&nbsp;<span class="num" id="1114899">5</span><span class="op" id="1114900">,</span>&nbsp;<span class="string" id="1114902">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;na&#34;</span><span class="op" id="1114920">}</span><span class="op" id="1114921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114924">{</span><span class="string" id="1114925">&#34;banana&#34;</span><span class="op" id="1114933">,</span>&nbsp;<span class="string" id="1114935">&#34;&#34;</span><span class="op" id="1114937">,</span>&nbsp;<span class="string" id="1114939">&#34;&lt;&gt;&#34;</span><span class="op" id="1114943">,</span>&nbsp;<span class="num" id="1114945">1</span><span class="op" id="1114946">,</span>&nbsp;<span class="string" id="1114948">&#34;&lt;&gt;banana&#34;</span><span class="op" id="1114958">}</span><span class="op" id="1114959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114962">{</span><span class="string" id="1114963">&#34;banana&#34;</span><span class="op" id="1114971">,</span>&nbsp;<span class="string" id="1114973">&#34;a&#34;</span><span class="op" id="1114976">,</span>&nbsp;<span class="string" id="1114978">&#34;a&#34;</span><span class="op" id="1114981">,</span>&nbsp;<span class="op" id="1114983">-</span><span class="num" id="1114984">1</span><span class="op" id="1114985">,</span>&nbsp;<span class="string" id="1114987">&#34;banana&#34;</span><span class="op" id="1114995">}</span><span class="op" id="1114996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1114999">{</span><span class="string" id="1115000">&#34;banana&#34;</span><span class="op" id="1115008">,</span>&nbsp;<span class="string" id="1115010">&#34;a&#34;</span><span class="op" id="1115013">,</span>&nbsp;<span class="string" id="1115015">&#34;a&#34;</span><span class="op" id="1115018">,</span>&nbsp;<span class="num" id="1115020">1</span><span class="op" id="1115021">,</span>&nbsp;<span class="string" id="1115023">&#34;banana&#34;</span><span class="op" id="1115031">}</span><span class="op" id="1115032">,</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115035">{</span><span class="string" id="1115036">&#34;☺☻☹&#34;</span><span class="op" id="1115047">,</span>&nbsp;<span class="string" id="1115049">&#34;&#34;</span><span class="op" id="1115051">,</span>&nbsp;<span class="string" id="1115053">&#34;&lt;&gt;&#34;</span><span class="op" id="1115057">,</span>&nbsp;<span class="op" id="1115059">-</span><span class="num" id="1115060">1</span><span class="op" id="1115061">,</span>&nbsp;<span class="string" id="1115063">&#34;&lt;&gt;☺&lt;&gt;☻&lt;&gt;☹&lt;&gt;&#34;</span><span class="op" id="1115082">}</span><span class="op" id="1115083">,</span><br>
<span class="lineno"></span><span class="op" id="1115085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1115088">func</span>&nbsp;<span class="ident" id="1115093">TestReplace</span><span class="op" id="1115104">(</span><span class="ident" id="1115105">t</span>&nbsp;<span class="op" id="1115107">*</span><span class="ident" id="1115108">testing</span><span class="op" id="1115115">.</span><span class="ident" id="1115116">T</span><span class="op" id="1115117">)</span>&nbsp;<span class="op" id="1115119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1115122">for</span>&nbsp;<span class="ident" id="1115126">_</span><span class="op" id="1115127">,</span>&nbsp;<span class="ident" id="1115129">tt</span>&nbsp;<span class="op" id="1115132">:=</span>&nbsp;<span class="keyword" id="1115135">range</span>&nbsp;<span class="ident" id="1115141">ReplaceTests</span>&nbsp;<span class="op" id="1115154">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1115158">if</span>&nbsp;<span class="ident" id="1115161">s</span>&nbsp;<span class="op" id="1115163">:=</span>&nbsp;<span class="ident" id="1115166">Replace</span><span class="op" id="1115173">(</span><span class="ident" id="1115174">tt</span><span class="op" id="1115176">.</span><span class="ident" id="1115177">in</span><span class="op" id="1115179">,</span>&nbsp;<span class="ident" id="1115181">tt</span><span class="op" id="1115183">.</span><span class="ident" id="1115184">old</span><span class="op" id="1115187">,</span>&nbsp;<span class="ident" id="1115189">tt</span><span class="op" id="1115191">.</span><span class="builtinfunc" id="1115192">new</span><span class="op" id="1115195">,</span>&nbsp;<span class="ident" id="1115197">tt</span><span class="op" id="1115199">.</span><span class="ident" id="1115200">n</span><span class="op" id="1115201">)</span><span class="op" id="1115202">;</span>&nbsp;<span class="ident" id="1115204">s</span>&nbsp;<span class="op" id="1115206">!=</span>&nbsp;<span class="ident" id="1115209">tt</span><span class="op" id="1115211">.</span><span class="ident" id="1115212">out</span>&nbsp;<span class="op" id="1115216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1115221">t</span><span class="op" id="1115222">.</span><span class="ident" id="1115223">Errorf</span><span class="op" id="1115229">(</span><span class="string" id="1115230">&#34;Replace(%q,&nbsp;%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1115269">,</span>&nbsp;<span class="ident" id="1115271">tt</span><span class="op" id="1115273">.</span><span class="ident" id="1115274">in</span><span class="op" id="1115276">,</span>&nbsp;<span class="ident" id="1115278">tt</span><span class="op" id="1115280">.</span><span class="ident" id="1115281">old</span><span class="op" id="1115284">,</span>&nbsp;<span class="ident" id="1115286">tt</span><span class="op" id="1115288">.</span><span class="builtinfunc" id="1115289">new</span><span class="op" id="1115292">,</span>&nbsp;<span class="ident" id="1115294">tt</span><span class="op" id="1115296">.</span><span class="ident" id="1115297">n</span><span class="op" id="1115298">,</span>&nbsp;<span class="ident" id="1115300">s</span><span class="op" id="1115301">,</span>&nbsp;<span class="ident" id="1115303">tt</span><span class="op" id="1115305">.</span><span class="ident" id="1115306">out</span><span class="op" id="1115309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115316">}</span><br>
<span class="lineno"></span><span class="op" id="1115318">}</span><br>
<span class="lineno">930</span><br>
<span class="lineno"></span><span class="keyword" id="1115321">var</span>&nbsp;<span class="ident" id="1115325">TitleTests</span>&nbsp;<span class="op" id="1115336">=</span>&nbsp;<span class="op" id="1115338">[</span><span class="op" id="1115339">]</span><span class="keyword" id="1115340">struct</span>&nbsp;<span class="op" id="1115347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1115350">in</span><span class="op" id="1115352">,</span>&nbsp;<span class="ident" id="1115354">out</span>&nbsp;<span class="builtintype" id="1115358">string</span><br>
<span class="lineno"></span><span class="op" id="1115365">}</span><span class="op" id="1115366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115369">{</span><span class="string" id="1115370">&#34;&#34;</span><span class="op" id="1115372">,</span>&nbsp;<span class="string" id="1115374">&#34;&#34;</span><span class="op" id="1115376">}</span><span class="op" id="1115377">,</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115380">{</span><span class="string" id="1115381">&#34;a&#34;</span><span class="op" id="1115384">,</span>&nbsp;<span class="string" id="1115386">&#34;A&#34;</span><span class="op" id="1115389">}</span><span class="op" id="1115390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115393">{</span><span class="string" id="1115394">&#34;&nbsp;aaa&nbsp;aaa&nbsp;aaa&nbsp;&#34;</span><span class="op" id="1115409">,</span>&nbsp;<span class="string" id="1115411">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="1115426">}</span><span class="op" id="1115427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115430">{</span><span class="string" id="1115431">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="1115446">,</span>&nbsp;<span class="string" id="1115448">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="1115463">}</span><span class="op" id="1115464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115467">{</span><span class="string" id="1115468">&#34;123a456&#34;</span><span class="op" id="1115477">,</span>&nbsp;<span class="string" id="1115479">&#34;123a456&#34;</span><span class="op" id="1115488">}</span><span class="op" id="1115489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115492">{</span><span class="string" id="1115493">&#34;double-blind&#34;</span><span class="op" id="1115507">,</span>&nbsp;<span class="string" id="1115509">&#34;Double-Blind&#34;</span><span class="op" id="1115523">}</span><span class="op" id="1115524">,</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115527">{</span><span class="string" id="1115528">&#34;ÿøû&#34;</span><span class="op" id="1115536">,</span>&nbsp;<span class="string" id="1115538">&#34;Ÿøû&#34;</span><span class="op" id="1115546">}</span><span class="op" id="1115547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115550">{</span><span class="string" id="1115551">&#34;with_underscore&#34;</span><span class="op" id="1115568">,</span>&nbsp;<span class="string" id="1115570">&#34;With_underscore&#34;</span><span class="op" id="1115587">}</span><span class="op" id="1115588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115591">{</span><span class="string" id="1115592">&#34;unicode&nbsp;\xe2\x80\xa8&nbsp;line&nbsp;separator&#34;</span><span class="op" id="1115629">,</span>&nbsp;<span class="string" id="1115631">&#34;Unicode&nbsp;\xe2\x80\xa8&nbsp;Line&nbsp;Separator&#34;</span><span class="op" id="1115668">}</span><span class="op" id="1115669">,</span><br>
<span class="lineno"></span><span class="op" id="1115671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">945</span><span class="keyword" id="1115674">func</span>&nbsp;<span class="ident" id="1115679">TestTitle</span><span class="op" id="1115688">(</span><span class="ident" id="1115689">t</span>&nbsp;<span class="op" id="1115691">*</span><span class="ident" id="1115692">testing</span><span class="op" id="1115699">.</span><span class="ident" id="1115700">T</span><span class="op" id="1115701">)</span>&nbsp;<span class="op" id="1115703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1115706">for</span>&nbsp;<span class="ident" id="1115710">_</span><span class="op" id="1115711">,</span>&nbsp;<span class="ident" id="1115713">tt</span>&nbsp;<span class="op" id="1115716">:=</span>&nbsp;<span class="keyword" id="1115719">range</span>&nbsp;<span class="ident" id="1115725">TitleTests</span>&nbsp;<span class="op" id="1115736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1115740">if</span>&nbsp;<span class="ident" id="1115743">s</span>&nbsp;<span class="op" id="1115745">:=</span>&nbsp;<span class="ident" id="1115748">Title</span><span class="op" id="1115753">(</span><span class="ident" id="1115754">tt</span><span class="op" id="1115756">.</span><span class="ident" id="1115757">in</span><span class="op" id="1115759">)</span><span class="op" id="1115760">;</span>&nbsp;<span class="ident" id="1115762">s</span>&nbsp;<span class="op" id="1115764">!=</span>&nbsp;<span class="ident" id="1115767">tt</span><span class="op" id="1115769">.</span><span class="ident" id="1115770">out</span>&nbsp;<span class="op" id="1115774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1115779">t</span><span class="op" id="1115780">.</span><span class="ident" id="1115781">Errorf</span><span class="op" id="1115787">(</span><span class="string" id="1115788">&#34;Title(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="1115813">,</span>&nbsp;<span class="ident" id="1115815">tt</span><span class="op" id="1115817">.</span><span class="ident" id="1115818">in</span><span class="op" id="1115820">,</span>&nbsp;<span class="ident" id="1115822">s</span><span class="op" id="1115823">,</span>&nbsp;<span class="ident" id="1115825">tt</span><span class="op" id="1115827">.</span><span class="ident" id="1115828">out</span><span class="op" id="1115831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115835">}</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115838">}</span><br>
<span class="lineno"></span><span class="op" id="1115840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1115843">var</span>&nbsp;<span class="ident" id="1115847">ContainsTests</span>&nbsp;<span class="op" id="1115861">=</span>&nbsp;<span class="op" id="1115863">[</span><span class="op" id="1115864">]</span><span class="keyword" id="1115865">struct</span>&nbsp;<span class="op" id="1115872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1115875">str</span><span class="op" id="1115878">,</span>&nbsp;<span class="ident" id="1115880">substr</span>&nbsp;<span class="builtintype" id="1115887">string</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1115895">expected</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1115907">bool</span><br>
<span class="lineno"></span><span class="op" id="1115912">}</span><span class="op" id="1115913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115916">{</span><span class="string" id="1115917">&#34;abc&#34;</span><span class="op" id="1115922">,</span>&nbsp;<span class="string" id="1115924">&#34;bc&#34;</span><span class="op" id="1115928">,</span>&nbsp;<span class="builtintype" id="1115930">true</span><span class="op" id="1115934">}</span><span class="op" id="1115935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115938">{</span><span class="string" id="1115939">&#34;abc&#34;</span><span class="op" id="1115944">,</span>&nbsp;<span class="string" id="1115946">&#34;bcd&#34;</span><span class="op" id="1115951">,</span>&nbsp;<span class="builtintype" id="1115953">false</span><span class="op" id="1115958">}</span><span class="op" id="1115959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115962">{</span><span class="string" id="1115963">&#34;abc&#34;</span><span class="op" id="1115968">,</span>&nbsp;<span class="string" id="1115970">&#34;&#34;</span><span class="op" id="1115972">,</span>&nbsp;<span class="builtintype" id="1115974">true</span><span class="op" id="1115978">}</span><span class="op" id="1115979">,</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1115982">{</span><span class="string" id="1115983">&#34;&#34;</span><span class="op" id="1115985">,</span>&nbsp;<span class="string" id="1115987">&#34;a&#34;</span><span class="op" id="1115990">,</span>&nbsp;<span class="builtintype" id="1115992">false</span><span class="op" id="1115997">}</span><span class="op" id="1115998">,</span><br>
<span class="lineno"></span><span class="op" id="1116000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1116003">func</span>&nbsp;<span class="ident" id="1116008">TestContains</span><span class="op" id="1116020">(</span><span class="ident" id="1116021">t</span>&nbsp;<span class="op" id="1116023">*</span><span class="ident" id="1116024">testing</span><span class="op" id="1116031">.</span><span class="ident" id="1116032">T</span><span class="op" id="1116033">)</span>&nbsp;<span class="op" id="1116035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1116038">for</span>&nbsp;<span class="ident" id="1116042">_</span><span class="op" id="1116043">,</span>&nbsp;<span class="ident" id="1116045">ct</span>&nbsp;<span class="op" id="1116048">:=</span>&nbsp;<span class="keyword" id="1116051">range</span>&nbsp;<span class="ident" id="1116057">ContainsTests</span>&nbsp;<span class="op" id="1116071">{</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1116075">if</span>&nbsp;<span class="ident" id="1116078">Contains</span><span class="op" id="1116086">(</span><span class="ident" id="1116087">ct</span><span class="op" id="1116089">.</span><span class="ident" id="1116090">str</span><span class="op" id="1116093">,</span>&nbsp;<span class="ident" id="1116095">ct</span><span class="op" id="1116097">.</span><span class="ident" id="1116098">substr</span><span class="op" id="1116104">)</span>&nbsp;<span class="op" id="1116106">!=</span>&nbsp;<span class="ident" id="1116109">ct</span><span class="op" id="1116111">.</span><span class="ident" id="1116112">expected</span>&nbsp;<span class="op" id="1116121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116126">t</span><span class="op" id="1116127">.</span><span class="ident" id="1116128">Errorf</span><span class="op" id="1116134">(</span><span class="string" id="1116135">&#34;Contains(%s,&nbsp;%s)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1116167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116173">ct</span><span class="op" id="1116175">.</span><span class="ident" id="1116176">str</span><span class="op" id="1116179">,</span>&nbsp;<span class="ident" id="1116181">ct</span><span class="op" id="1116183">.</span><span class="ident" id="1116184">substr</span><span class="op" id="1116190">,</span>&nbsp;<span class="op" id="1116192">!</span><span class="ident" id="1116193">ct</span><span class="op" id="1116195">.</span><span class="ident" id="1116196">expected</span><span class="op" id="1116204">,</span>&nbsp;<span class="ident" id="1116206">ct</span><span class="op" id="1116208">.</span><span class="ident" id="1116209">expected</span><span class="op" id="1116217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116224">}</span><br>
<span class="lineno">970</span><span class="op" id="1116226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1116229">var</span>&nbsp;<span class="ident" id="1116233">ContainsAnyTests</span>&nbsp;<span class="op" id="1116250">=</span>&nbsp;<span class="op" id="1116252">[</span><span class="op" id="1116253">]</span><span class="keyword" id="1116254">struct</span>&nbsp;<span class="op" id="1116261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116264">str</span><span class="op" id="1116267">,</span>&nbsp;<span class="ident" id="1116269">substr</span>&nbsp;<span class="builtintype" id="1116276">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116284">expected</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1116296">bool</span><br>
<span class="lineno">975</span><span class="op" id="1116301">}</span><span class="op" id="1116302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116305">{</span><span class="string" id="1116306">&#34;&#34;</span><span class="op" id="1116308">,</span>&nbsp;<span class="string" id="1116310">&#34;&#34;</span><span class="op" id="1116312">,</span>&nbsp;<span class="builtintype" id="1116314">false</span><span class="op" id="1116319">}</span><span class="op" id="1116320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116323">{</span><span class="string" id="1116324">&#34;&#34;</span><span class="op" id="1116326">,</span>&nbsp;<span class="string" id="1116328">&#34;a&#34;</span><span class="op" id="1116331">,</span>&nbsp;<span class="builtintype" id="1116333">false</span><span class="op" id="1116338">}</span><span class="op" id="1116339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116342">{</span><span class="string" id="1116343">&#34;&#34;</span><span class="op" id="1116345">,</span>&nbsp;<span class="string" id="1116347">&#34;abc&#34;</span><span class="op" id="1116352">,</span>&nbsp;<span class="builtintype" id="1116354">false</span><span class="op" id="1116359">}</span><span class="op" id="1116360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116363">{</span><span class="string" id="1116364">&#34;a&#34;</span><span class="op" id="1116367">,</span>&nbsp;<span class="string" id="1116369">&#34;&#34;</span><span class="op" id="1116371">,</span>&nbsp;<span class="builtintype" id="1116373">false</span><span class="op" id="1116378">}</span><span class="op" id="1116379">,</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116382">{</span><span class="string" id="1116383">&#34;a&#34;</span><span class="op" id="1116386">,</span>&nbsp;<span class="string" id="1116388">&#34;a&#34;</span><span class="op" id="1116391">,</span>&nbsp;<span class="builtintype" id="1116393">true</span><span class="op" id="1116397">}</span><span class="op" id="1116398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116401">{</span><span class="string" id="1116402">&#34;aaa&#34;</span><span class="op" id="1116407">,</span>&nbsp;<span class="string" id="1116409">&#34;a&#34;</span><span class="op" id="1116412">,</span>&nbsp;<span class="builtintype" id="1116414">true</span><span class="op" id="1116418">}</span><span class="op" id="1116419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116422">{</span><span class="string" id="1116423">&#34;abc&#34;</span><span class="op" id="1116428">,</span>&nbsp;<span class="string" id="1116430">&#34;xyz&#34;</span><span class="op" id="1116435">,</span>&nbsp;<span class="builtintype" id="1116437">false</span><span class="op" id="1116442">}</span><span class="op" id="1116443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116446">{</span><span class="string" id="1116447">&#34;abc&#34;</span><span class="op" id="1116452">,</span>&nbsp;<span class="string" id="1116454">&#34;xcz&#34;</span><span class="op" id="1116459">,</span>&nbsp;<span class="builtintype" id="1116461">true</span><span class="op" id="1116465">}</span><span class="op" id="1116466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116469">{</span><span class="string" id="1116470">&#34;a☺b☻c☹d&#34;</span><span class="op" id="1116485">,</span>&nbsp;<span class="string" id="1116487">&#34;uvw☻xyz&#34;</span><span class="op" id="1116498">,</span>&nbsp;<span class="builtintype" id="1116500">true</span><span class="op" id="1116504">}</span><span class="op" id="1116505">,</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116508">{</span><span class="string" id="1116509">&#34;aRegExp*&#34;</span><span class="op" id="1116519">,</span>&nbsp;<span class="string" id="1116521">&#34;.(|)*+?^$[]&#34;</span><span class="op" id="1116534">,</span>&nbsp;<span class="builtintype" id="1116536">true</span><span class="op" id="1116540">}</span><span class="op" id="1116541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116544">{</span><span class="ident" id="1116545">dots</span>&nbsp;<span class="op" id="1116550">+</span>&nbsp;<span class="ident" id="1116552">dots</span>&nbsp;<span class="op" id="1116557">+</span>&nbsp;<span class="ident" id="1116559">dots</span><span class="op" id="1116563">,</span>&nbsp;<span class="string" id="1116565">&#34;&nbsp;&#34;</span><span class="op" id="1116568">,</span>&nbsp;<span class="builtintype" id="1116570">false</span><span class="op" id="1116575">}</span><span class="op" id="1116576">,</span><br>
<span class="lineno"></span><span class="op" id="1116578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1116581">func</span>&nbsp;<span class="ident" id="1116586">TestContainsAny</span><span class="op" id="1116601">(</span><span class="ident" id="1116602">t</span>&nbsp;<span class="op" id="1116604">*</span><span class="ident" id="1116605">testing</span><span class="op" id="1116612">.</span><span class="ident" id="1116613">T</span><span class="op" id="1116614">)</span>&nbsp;<span class="op" id="1116616">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1116619">for</span>&nbsp;<span class="ident" id="1116623">_</span><span class="op" id="1116624">,</span>&nbsp;<span class="ident" id="1116626">ct</span>&nbsp;<span class="op" id="1116629">:=</span>&nbsp;<span class="keyword" id="1116632">range</span>&nbsp;<span class="ident" id="1116638">ContainsAnyTests</span>&nbsp;<span class="op" id="1116655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1116659">if</span>&nbsp;<span class="ident" id="1116662">ContainsAny</span><span class="op" id="1116673">(</span><span class="ident" id="1116674">ct</span><span class="op" id="1116676">.</span><span class="ident" id="1116677">str</span><span class="op" id="1116680">,</span>&nbsp;<span class="ident" id="1116682">ct</span><span class="op" id="1116684">.</span><span class="ident" id="1116685">substr</span><span class="op" id="1116691">)</span>&nbsp;<span class="op" id="1116693">!=</span>&nbsp;<span class="ident" id="1116696">ct</span><span class="op" id="1116698">.</span><span class="ident" id="1116699">expected</span>&nbsp;<span class="op" id="1116708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116713">t</span><span class="op" id="1116714">.</span><span class="ident" id="1116715">Errorf</span><span class="op" id="1116721">(</span><span class="string" id="1116722">&#34;ContainsAny(%s,&nbsp;%s)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1116757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116763">ct</span><span class="op" id="1116765">.</span><span class="ident" id="1116766">str</span><span class="op" id="1116769">,</span>&nbsp;<span class="ident" id="1116771">ct</span><span class="op" id="1116773">.</span><span class="ident" id="1116774">substr</span><span class="op" id="1116780">,</span>&nbsp;<span class="op" id="1116782">!</span><span class="ident" id="1116783">ct</span><span class="op" id="1116785">.</span><span class="ident" id="1116786">expected</span><span class="op" id="1116794">,</span>&nbsp;<span class="ident" id="1116796">ct</span><span class="op" id="1116798">.</span><span class="ident" id="1116799">expected</span><span class="op" id="1116807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116811">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116814">}</span><br>
<span class="lineno"></span><span class="op" id="1116816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1116819">var</span>&nbsp;<span class="ident" id="1116823">ContainsRuneTests</span>&nbsp;<span class="op" id="1116841">=</span>&nbsp;<span class="op" id="1116843">[</span><span class="op" id="1116844">]</span><span class="keyword" id="1116845">struct</span>&nbsp;<span class="op" id="1116852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116855">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1116864">string</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116872">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1116881">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1116887">expected</span>&nbsp;<span class="builtintype" id="1116896">bool</span><br>
<span class="lineno"></span><span class="op" id="1116901">}</span><span class="op" id="1116902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116905">{</span><span class="string" id="1116906">&#34;&#34;</span><span class="op" id="1116908">,</span>&nbsp;<span class="string" id="1116910">&#39;a&#39;</span><span class="op" id="1116913">,</span>&nbsp;<span class="builtintype" id="1116915">false</span><span class="op" id="1116920">}</span><span class="op" id="1116921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116924">{</span><span class="string" id="1116925">&#34;a&#34;</span><span class="op" id="1116928">,</span>&nbsp;<span class="string" id="1116930">&#39;a&#39;</span><span class="op" id="1116933">,</span>&nbsp;<span class="builtintype" id="1116935">true</span><span class="op" id="1116939">}</span><span class="op" id="1116940">,</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116943">{</span><span class="string" id="1116944">&#34;aaa&#34;</span><span class="op" id="1116949">,</span>&nbsp;<span class="string" id="1116951">&#39;a&#39;</span><span class="op" id="1116954">,</span>&nbsp;<span class="builtintype" id="1116956">true</span><span class="op" id="1116960">}</span><span class="op" id="1116961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116964">{</span><span class="string" id="1116965">&#34;abc&#34;</span><span class="op" id="1116970">,</span>&nbsp;<span class="string" id="1116972">&#39;y&#39;</span><span class="op" id="1116975">,</span>&nbsp;<span class="builtintype" id="1116977">false</span><span class="op" id="1116982">}</span><span class="op" id="1116983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1116986">{</span><span class="string" id="1116987">&#34;abc&#34;</span><span class="op" id="1116992">,</span>&nbsp;<span class="string" id="1116994">&#39;c&#39;</span><span class="op" id="1116997">,</span>&nbsp;<span class="builtintype" id="1116999">true</span><span class="op" id="1117003">}</span><span class="op" id="1117004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117007">{</span><span class="string" id="1117008">&#34;a☺b☻c☹d&#34;</span><span class="op" id="1117023">,</span>&nbsp;<span class="string" id="1117025">&#39;x&#39;</span><span class="op" id="1117028">,</span>&nbsp;<span class="builtintype" id="1117030">false</span><span class="op" id="1117035">}</span><span class="op" id="1117036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117039">{</span><span class="string" id="1117040">&#34;a☺b☻c☹d&#34;</span><span class="op" id="1117055">,</span>&nbsp;<span class="string" id="1117057">&#39;☻&#39;</span><span class="op" id="1117062">,</span>&nbsp;<span class="builtintype" id="1117064">true</span><span class="op" id="1117068">}</span><span class="op" id="1117069">,</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117072">{</span><span class="string" id="1117073">&#34;aRegExp*&#34;</span><span class="op" id="1117083">,</span>&nbsp;<span class="string" id="1117085">&#39;*&#39;</span><span class="op" id="1117088">,</span>&nbsp;<span class="builtintype" id="1117090">true</span><span class="op" id="1117094">}</span><span class="op" id="1117095">,</span><br>
<span class="lineno"></span><span class="op" id="1117097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1117100">func</span>&nbsp;<span class="ident" id="1117105">TestContainsRune</span><span class="op" id="1117121">(</span><span class="ident" id="1117122">t</span>&nbsp;<span class="op" id="1117124">*</span><span class="ident" id="1117125">testing</span><span class="op" id="1117132">.</span><span class="ident" id="1117133">T</span><span class="op" id="1117134">)</span>&nbsp;<span class="op" id="1117136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1117139">for</span>&nbsp;<span class="ident" id="1117143">_</span><span class="op" id="1117144">,</span>&nbsp;<span class="ident" id="1117146">ct</span>&nbsp;<span class="op" id="1117149">:=</span>&nbsp;<span class="keyword" id="1117152">range</span>&nbsp;<span class="ident" id="1117158">ContainsRuneTests</span>&nbsp;<span class="op" id="1117176">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1117180">if</span>&nbsp;<span class="ident" id="1117183">ContainsRune</span><span class="op" id="1117195">(</span><span class="ident" id="1117196">ct</span><span class="op" id="1117198">.</span><span class="ident" id="1117199">str</span><span class="op" id="1117202">,</span>&nbsp;<span class="ident" id="1117204">ct</span><span class="op" id="1117206">.</span><span class="ident" id="1117207">r</span><span class="op" id="1117208">)</span>&nbsp;<span class="op" id="1117210">!=</span>&nbsp;<span class="ident" id="1117213">ct</span><span class="op" id="1117215">.</span><span class="ident" id="1117216">expected</span>&nbsp;<span class="op" id="1117225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1117230">t</span><span class="op" id="1117231">.</span><span class="ident" id="1117232">Errorf</span><span class="op" id="1117238">(</span><span class="string" id="1117239">&#34;ContainsRune(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1117275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1117281">ct</span><span class="op" id="1117283">.</span><span class="ident" id="1117284">str</span><span class="op" id="1117287">,</span>&nbsp;<span class="ident" id="1117289">ct</span><span class="op" id="1117291">.</span><span class="ident" id="1117292">r</span><span class="op" id="1117293">,</span>&nbsp;<span class="op" id="1117295">!</span><span class="ident" id="1117296">ct</span><span class="op" id="1117298">.</span><span class="ident" id="1117299">expected</span><span class="op" id="1117307">,</span>&nbsp;<span class="ident" id="1117309">ct</span><span class="op" id="1117311">.</span><span class="ident" id="1117312">expected</span><span class="op" id="1117320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117327">}</span><br>
<span class="lineno">1020</span><span class="op" id="1117329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1117332">var</span>&nbsp;<span class="ident" id="1117336">EqualFoldTests</span>&nbsp;<span class="op" id="1117351">=</span>&nbsp;<span class="op" id="1117353">[</span><span class="op" id="1117354">]</span><span class="keyword" id="1117355">struct</span>&nbsp;<span class="op" id="1117362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1117365">s</span><span class="op" id="1117366">,</span>&nbsp;<span class="ident" id="1117368">t</span>&nbsp;<span class="builtintype" id="1117370">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1117378">out</span>&nbsp;&nbsp;<span class="builtintype" id="1117383">bool</span><br>
<span class="lineno">1025</span><span class="op" id="1117388">}</span><span class="op" id="1117389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117392">{</span><span class="string" id="1117393">&#34;abc&#34;</span><span class="op" id="1117398">,</span>&nbsp;<span class="string" id="1117400">&#34;abc&#34;</span><span class="op" id="1117405">,</span>&nbsp;<span class="builtintype" id="1117407">true</span><span class="op" id="1117411">}</span><span class="op" id="1117412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117415">{</span><span class="string" id="1117416">&#34;ABcd&#34;</span><span class="op" id="1117422">,</span>&nbsp;<span class="string" id="1117424">&#34;ABcd&#34;</span><span class="op" id="1117430">,</span>&nbsp;<span class="builtintype" id="1117432">true</span><span class="op" id="1117436">}</span><span class="op" id="1117437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117440">{</span><span class="string" id="1117441">&#34;123abc&#34;</span><span class="op" id="1117449">,</span>&nbsp;<span class="string" id="1117451">&#34;123ABC&#34;</span><span class="op" id="1117459">,</span>&nbsp;<span class="builtintype" id="1117461">true</span><span class="op" id="1117465">}</span><span class="op" id="1117466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117469">{</span><span class="string" id="1117470">&#34;αβδ&#34;</span><span class="op" id="1117478">,</span>&nbsp;<span class="string" id="1117480">&#34;ΑΒΔ&#34;</span><span class="op" id="1117488">,</span>&nbsp;<span class="builtintype" id="1117490">true</span><span class="op" id="1117494">}</span><span class="op" id="1117495">,</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117498">{</span><span class="string" id="1117499">&#34;abc&#34;</span><span class="op" id="1117504">,</span>&nbsp;<span class="string" id="1117506">&#34;xyz&#34;</span><span class="op" id="1117511">,</span>&nbsp;<span class="builtintype" id="1117513">false</span><span class="op" id="1117518">}</span><span class="op" id="1117519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117522">{</span><span class="string" id="1117523">&#34;abc&#34;</span><span class="op" id="1117528">,</span>&nbsp;<span class="string" id="1117530">&#34;XYZ&#34;</span><span class="op" id="1117535">,</span>&nbsp;<span class="builtintype" id="1117537">false</span><span class="op" id="1117542">}</span><span class="op" id="1117543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117546">{</span><span class="string" id="1117547">&#34;abcdefghijk&#34;</span><span class="op" id="1117560">,</span>&nbsp;<span class="string" id="1117562">&#34;abcdefghijX&#34;</span><span class="op" id="1117575">,</span>&nbsp;<span class="builtintype" id="1117577">false</span><span class="op" id="1117582">}</span><span class="op" id="1117583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117586">{</span><span class="string" id="1117587">&#34;abcdefghijk&#34;</span><span class="op" id="1117600">,</span>&nbsp;<span class="string" id="1117602">&#34;abcdefghij\u212A&#34;</span><span class="op" id="1117620">,</span>&nbsp;<span class="builtintype" id="1117622">true</span><span class="op" id="1117626">}</span><span class="op" id="1117627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117630">{</span><span class="string" id="1117631">&#34;abcdefghijK&#34;</span><span class="op" id="1117644">,</span>&nbsp;<span class="string" id="1117646">&#34;abcdefghij\u212A&#34;</span><span class="op" id="1117664">,</span>&nbsp;<span class="builtintype" id="1117666">true</span><span class="op" id="1117670">}</span><span class="op" id="1117671">,</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117674">{</span><span class="string" id="1117675">&#34;abcdefghijkz&#34;</span><span class="op" id="1117689">,</span>&nbsp;<span class="string" id="1117691">&#34;abcdefghij\u212Ay&#34;</span><span class="op" id="1117710">,</span>&nbsp;<span class="builtintype" id="1117712">false</span><span class="op" id="1117717">}</span><span class="op" id="1117718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117721">{</span><span class="string" id="1117722">&#34;abcdefghijKz&#34;</span><span class="op" id="1117736">,</span>&nbsp;<span class="string" id="1117738">&#34;abcdefghij\u212Ay&#34;</span><span class="op" id="1117757">,</span>&nbsp;<span class="builtintype" id="1117759">false</span><span class="op" id="1117764">}</span><span class="op" id="1117765">,</span><br>
<span class="lineno"></span><span class="op" id="1117767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1117770">func</span>&nbsp;<span class="ident" id="1117775">TestEqualFold</span><span class="op" id="1117788">(</span><span class="ident" id="1117789">t</span>&nbsp;<span class="op" id="1117791">*</span><span class="ident" id="1117792">testing</span><span class="op" id="1117799">.</span><span class="ident" id="1117800">T</span><span class="op" id="1117801">)</span>&nbsp;<span class="op" id="1117803">{</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1117806">for</span>&nbsp;<span class="ident" id="1117810">_</span><span class="op" id="1117811">,</span>&nbsp;<span class="ident" id="1117813">tt</span>&nbsp;<span class="op" id="1117816">:=</span>&nbsp;<span class="keyword" id="1117819">range</span>&nbsp;<span class="ident" id="1117825">EqualFoldTests</span>&nbsp;<span class="op" id="1117840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1117844">if</span>&nbsp;<span class="ident" id="1117847">out</span>&nbsp;<span class="op" id="1117851">:=</span>&nbsp;<span class="ident" id="1117854">EqualFold</span><span class="op" id="1117863">(</span><span class="ident" id="1117864">tt</span><span class="op" id="1117866">.</span><span class="ident" id="1117867">s</span><span class="op" id="1117868">,</span>&nbsp;<span class="ident" id="1117870">tt</span><span class="op" id="1117872">.</span><span class="ident" id="1117873">t</span><span class="op" id="1117874">)</span><span class="op" id="1117875">;</span>&nbsp;<span class="ident" id="1117877">out</span>&nbsp;<span class="op" id="1117881">!=</span>&nbsp;<span class="ident" id="1117884">tt</span><span class="op" id="1117886">.</span><span class="ident" id="1117887">out</span>&nbsp;<span class="op" id="1117891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1117896">t</span><span class="op" id="1117897">.</span><span class="ident" id="1117898">Errorf</span><span class="op" id="1117904">(</span><span class="string" id="1117905">&#34;EqualFold(%#q,&nbsp;%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1117940">,</span>&nbsp;<span class="ident" id="1117942">tt</span><span class="op" id="1117944">.</span><span class="ident" id="1117945">s</span><span class="op" id="1117946">,</span>&nbsp;<span class="ident" id="1117948">tt</span><span class="op" id="1117950">.</span><span class="ident" id="1117951">t</span><span class="op" id="1117952">,</span>&nbsp;<span class="ident" id="1117954">out</span><span class="op" id="1117957">,</span>&nbsp;<span class="ident" id="1117959">tt</span><span class="op" id="1117961">.</span><span class="ident" id="1117962">out</span><span class="op" id="1117965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1117969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1117973">if</span>&nbsp;<span class="ident" id="1117976">out</span>&nbsp;<span class="op" id="1117980">:=</span>&nbsp;<span class="ident" id="1117983">EqualFold</span><span class="op" id="1117992">(</span><span class="ident" id="1117993">tt</span><span class="op" id="1117995">.</span><span class="ident" id="1117996">t</span><span class="op" id="1117997">,</span>&nbsp;<span class="ident" id="1117999">tt</span><span class="op" id="1118001">.</span><span class="ident" id="1118002">s</span><span class="op" id="1118003">)</span><span class="op" id="1118004">;</span>&nbsp;<span class="ident" id="1118006">out</span>&nbsp;<span class="op" id="1118010">!=</span>&nbsp;<span class="ident" id="1118013">tt</span><span class="op" id="1118015">.</span><span class="ident" id="1118016">out</span>&nbsp;<span class="op" id="1118020">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118025">t</span><span class="op" id="1118026">.</span><span class="ident" id="1118027">Errorf</span><span class="op" id="1118033">(</span><span class="string" id="1118034">&#34;EqualFold(%#q,&nbsp;%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="1118069">,</span>&nbsp;<span class="ident" id="1118071">tt</span><span class="op" id="1118073">.</span><span class="ident" id="1118074">t</span><span class="op" id="1118075">,</span>&nbsp;<span class="ident" id="1118077">tt</span><span class="op" id="1118079">.</span><span class="ident" id="1118080">s</span><span class="op" id="1118081">,</span>&nbsp;<span class="ident" id="1118083">out</span><span class="op" id="1118086">,</span>&nbsp;<span class="ident" id="1118088">tt</span><span class="op" id="1118090">.</span><span class="ident" id="1118091">out</span><span class="op" id="1118094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118101">}</span><br>
<span class="lineno"></span><span class="op" id="1118103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1050</span><span class="keyword" id="1118106">var</span>&nbsp;<span class="ident" id="1118110">CountTests</span>&nbsp;<span class="op" id="1118121">=</span>&nbsp;<span class="op" id="1118123">[</span><span class="op" id="1118124">]</span><span class="keyword" id="1118125">struct</span>&nbsp;<span class="op" id="1118132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118135">s</span><span class="op" id="1118136">,</span>&nbsp;<span class="ident" id="1118138">sep</span>&nbsp;<span class="builtintype" id="1118142">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118150">num</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1118157">int</span><br>
<span class="lineno"></span><span class="op" id="1118161">}</span><span class="op" id="1118162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118165">{</span><span class="string" id="1118166">&#34;&#34;</span><span class="op" id="1118168">,</span>&nbsp;<span class="string" id="1118170">&#34;&#34;</span><span class="op" id="1118172">,</span>&nbsp;<span class="num" id="1118174">1</span><span class="op" id="1118175">}</span><span class="op" id="1118176">,</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118179">{</span><span class="string" id="1118180">&#34;&#34;</span><span class="op" id="1118182">,</span>&nbsp;<span class="string" id="1118184">&#34;notempty&#34;</span><span class="op" id="1118194">,</span>&nbsp;<span class="num" id="1118196">0</span><span class="op" id="1118197">}</span><span class="op" id="1118198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118201">{</span><span class="string" id="1118202">&#34;notempty&#34;</span><span class="op" id="1118212">,</span>&nbsp;<span class="string" id="1118214">&#34;&#34;</span><span class="op" id="1118216">,</span>&nbsp;<span class="num" id="1118218">9</span><span class="op" id="1118219">}</span><span class="op" id="1118220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118223">{</span><span class="string" id="1118224">&#34;smaller&#34;</span><span class="op" id="1118233">,</span>&nbsp;<span class="string" id="1118235">&#34;not&nbsp;smaller&#34;</span><span class="op" id="1118248">,</span>&nbsp;<span class="num" id="1118250">0</span><span class="op" id="1118251">}</span><span class="op" id="1118252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118255">{</span><span class="string" id="1118256">&#34;12345678987654321&#34;</span><span class="op" id="1118275">,</span>&nbsp;<span class="string" id="1118277">&#34;6&#34;</span><span class="op" id="1118280">,</span>&nbsp;<span class="num" id="1118282">2</span><span class="op" id="1118283">}</span><span class="op" id="1118284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118287">{</span><span class="string" id="1118288">&#34;611161116&#34;</span><span class="op" id="1118299">,</span>&nbsp;<span class="string" id="1118301">&#34;6&#34;</span><span class="op" id="1118304">,</span>&nbsp;<span class="num" id="1118306">3</span><span class="op" id="1118307">}</span><span class="op" id="1118308">,</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118311">{</span><span class="string" id="1118312">&#34;notequal&#34;</span><span class="op" id="1118322">,</span>&nbsp;<span class="string" id="1118324">&#34;NotEqual&#34;</span><span class="op" id="1118334">,</span>&nbsp;<span class="num" id="1118336">0</span><span class="op" id="1118337">}</span><span class="op" id="1118338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118341">{</span><span class="string" id="1118342">&#34;equal&#34;</span><span class="op" id="1118349">,</span>&nbsp;<span class="string" id="1118351">&#34;equal&#34;</span><span class="op" id="1118358">,</span>&nbsp;<span class="num" id="1118360">1</span><span class="op" id="1118361">}</span><span class="op" id="1118362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118365">{</span><span class="string" id="1118366">&#34;abc1231231123q&#34;</span><span class="op" id="1118382">,</span>&nbsp;<span class="string" id="1118384">&#34;123&#34;</span><span class="op" id="1118389">,</span>&nbsp;<span class="num" id="1118391">3</span><span class="op" id="1118392">}</span><span class="op" id="1118393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118396">{</span><span class="string" id="1118397">&#34;11111&#34;</span><span class="op" id="1118404">,</span>&nbsp;<span class="string" id="1118406">&#34;11&#34;</span><span class="op" id="1118410">,</span>&nbsp;<span class="num" id="1118412">2</span><span class="op" id="1118413">}</span><span class="op" id="1118414">,</span><br>
<span class="lineno"></span><span class="op" id="1118416">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="1118419">func</span>&nbsp;<span class="ident" id="1118424">TestCount</span><span class="op" id="1118433">(</span><span class="ident" id="1118434">t</span>&nbsp;<span class="op" id="1118436">*</span><span class="ident" id="1118437">testing</span><span class="op" id="1118444">.</span><span class="ident" id="1118445">T</span><span class="op" id="1118446">)</span>&nbsp;<span class="op" id="1118448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118451">for</span>&nbsp;<span class="ident" id="1118455">_</span><span class="op" id="1118456">,</span>&nbsp;<span class="ident" id="1118458">tt</span>&nbsp;<span class="op" id="1118461">:=</span>&nbsp;<span class="keyword" id="1118464">range</span>&nbsp;<span class="ident" id="1118470">CountTests</span>&nbsp;<span class="op" id="1118481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118485">if</span>&nbsp;<span class="ident" id="1118488">num</span>&nbsp;<span class="op" id="1118492">:=</span>&nbsp;<span class="ident" id="1118495">Count</span><span class="op" id="1118500">(</span><span class="ident" id="1118501">tt</span><span class="op" id="1118503">.</span><span class="ident" id="1118504">s</span><span class="op" id="1118505">,</span>&nbsp;<span class="ident" id="1118507">tt</span><span class="op" id="1118509">.</span><span class="ident" id="1118510">sep</span><span class="op" id="1118513">)</span><span class="op" id="1118514">;</span>&nbsp;<span class="ident" id="1118516">num</span>&nbsp;<span class="op" id="1118520">!=</span>&nbsp;<span class="ident" id="1118523">tt</span><span class="op" id="1118525">.</span><span class="ident" id="1118526">num</span>&nbsp;<span class="op" id="1118530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118535">t</span><span class="op" id="1118536">.</span><span class="ident" id="1118537">Errorf</span><span class="op" id="1118543">(</span><span class="string" id="1118544">&#34;Count(\&#34;%s\&#34;,&nbsp;\&#34;%s\&#34;)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="1118581">,</span>&nbsp;<span class="ident" id="1118583">tt</span><span class="op" id="1118585">.</span><span class="ident" id="1118586">s</span><span class="op" id="1118587">,</span>&nbsp;<span class="ident" id="1118589">tt</span><span class="op" id="1118591">.</span><span class="ident" id="1118592">sep</span><span class="op" id="1118595">,</span>&nbsp;<span class="ident" id="1118597">num</span><span class="op" id="1118600">,</span>&nbsp;<span class="ident" id="1118602">tt</span><span class="op" id="1118604">.</span><span class="ident" id="1118605">num</span><span class="op" id="1118608">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118615">}</span><br>
<span class="lineno"></span><span class="op" id="1118617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1118620">func</span>&nbsp;<span class="ident" id="1118625">makeBenchInputHard</span><span class="op" id="1118643">(</span><span class="op" id="1118644">)</span>&nbsp;<span class="builtintype" id="1118646">string</span>&nbsp;<span class="op" id="1118653">{</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118656">tokens</span>&nbsp;<span class="op" id="1118663">:=</span>&nbsp;<span class="op" id="1118666">[</span><span class="op" id="1118667">...</span><span class="op" id="1118670">]</span><span class="builtintype" id="1118671">string</span><span class="op" id="1118677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1118681">&#34;&lt;a&gt;&#34;</span><span class="op" id="1118686">,</span>&nbsp;<span class="string" id="1118688">&#34;&lt;p&gt;&#34;</span><span class="op" id="1118693">,</span>&nbsp;<span class="string" id="1118695">&#34;&lt;b&gt;&#34;</span><span class="op" id="1118700">,</span>&nbsp;<span class="string" id="1118702">&#34;&lt;strong&gt;&#34;</span><span class="op" id="1118712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1118716">&#34;&lt;/a&gt;&#34;</span><span class="op" id="1118722">,</span>&nbsp;<span class="string" id="1118724">&#34;&lt;/p&gt;&#34;</span><span class="op" id="1118730">,</span>&nbsp;<span class="string" id="1118732">&#34;&lt;/b&gt;&#34;</span><span class="op" id="1118738">,</span>&nbsp;<span class="string" id="1118740">&#34;&lt;/strong&gt;&#34;</span><span class="op" id="1118751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1118755">&#34;hello&#34;</span><span class="op" id="1118762">,</span>&nbsp;<span class="string" id="1118764">&#34;world&#34;</span><span class="op" id="1118771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118774">}</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118777">x</span>&nbsp;<span class="op" id="1118779">:=</span>&nbsp;<span class="builtinfunc" id="1118782">make</span><span class="op" id="1118786">(</span><span class="op" id="1118787">[</span><span class="op" id="1118788">]</span><span class="builtintype" id="1118789">byte</span><span class="op" id="1118793">,</span>&nbsp;<span class="num" id="1118795">0</span><span class="op" id="1118796">,</span>&nbsp;<span class="num" id="1118798">1</span><span class="op" id="1118799">&lt;&lt;</span><span class="num" id="1118801">20</span><span class="op" id="1118803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118806">for</span>&nbsp;<span class="op" id="1118810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118814">i</span>&nbsp;<span class="op" id="1118816">:=</span>&nbsp;<span class="ident" id="1118819">rand</span><span class="op" id="1118823">.</span><span class="ident" id="1118824">Intn</span><span class="op" id="1118828">(</span><span class="builtinfunc" id="1118829">len</span><span class="op" id="1118832">(</span><span class="ident" id="1118833">tokens</span><span class="op" id="1118839">)</span><span class="op" id="1118840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118844">if</span>&nbsp;<span class="builtinfunc" id="1118847">len</span><span class="op" id="1118850">(</span><span class="ident" id="1118851">x</span><span class="op" id="1118852">)</span><span class="op" id="1118853">+</span><span class="builtinfunc" id="1118854">len</span><span class="op" id="1118857">(</span><span class="ident" id="1118858">tokens</span><span class="op" id="1118864">[</span><span class="ident" id="1118865">i</span><span class="op" id="1118866">]</span><span class="op" id="1118867">)</span>&nbsp;<span class="op" id="1118869">&gt;=</span>&nbsp;<span class="num" id="1118872">1</span><span class="op" id="1118873">&lt;&lt;</span><span class="num" id="1118875">20</span>&nbsp;<span class="op" id="1118878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118883">break</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1118895">x</span>&nbsp;<span class="op" id="1118897">=</span>&nbsp;<span class="builtinfunc" id="1118899">append</span><span class="op" id="1118905">(</span><span class="ident" id="1118906">x</span><span class="op" id="1118907">,</span>&nbsp;<span class="ident" id="1118909">tokens</span><span class="op" id="1118915">[</span><span class="ident" id="1118916">i</span><span class="op" id="1118917">]</span><span class="op" id="1118918">...</span><span class="op" id="1118921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1118924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1118927">return</span>&nbsp;<span class="builtintype" id="1118934">string</span><span class="op" id="1118940">(</span><span class="ident" id="1118941">x</span><span class="op" id="1118942">)</span><br>
<span class="lineno"></span><span class="op" id="1118944">}</span><br>
<span class="lineno">1090</span><br>
<span class="lineno"></span><span class="keyword" id="1118947">var</span>&nbsp;<span class="ident" id="1118951">benchInputHard</span>&nbsp;<span class="op" id="1118966">=</span>&nbsp;<span class="ident" id="1118968">makeBenchInputHard</span><span class="op" id="1118986">(</span><span class="op" id="1118987">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1118990">func</span>&nbsp;<span class="ident" id="1118995">benchmarkIndexHard</span><span class="op" id="1119013">(</span><span class="ident" id="1119014">b</span>&nbsp;<span class="op" id="1119016">*</span><span class="ident" id="1119017">testing</span><span class="op" id="1119024">.</span><span class="ident" id="1119025">B</span><span class="op" id="1119026">,</span>&nbsp;<span class="ident" id="1119028">sep</span>&nbsp;<span class="builtintype" id="1119032">string</span><span class="op" id="1119038">)</span>&nbsp;<span class="op" id="1119040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1119043">for</span>&nbsp;<span class="ident" id="1119047">i</span>&nbsp;<span class="op" id="1119049">:=</span>&nbsp;<span class="num" id="1119052">0</span><span class="op" id="1119053">;</span>&nbsp;<span class="ident" id="1119055">i</span>&nbsp;<span class="op" id="1119057">&lt;</span>&nbsp;<span class="ident" id="1119059">b</span><span class="op" id="1119060">.</span><span class="ident" id="1119061">N</span><span class="op" id="1119062">;</span>&nbsp;<span class="ident" id="1119064">i</span><span class="op" id="1119065">++</span>&nbsp;<span class="op" id="1119068">{</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1119072">Index</span><span class="op" id="1119077">(</span><span class="ident" id="1119078">benchInputHard</span><span class="op" id="1119092">,</span>&nbsp;<span class="ident" id="1119094">sep</span><span class="op" id="1119097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1119100">}</span><br>
<span class="lineno"></span><span class="op" id="1119102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1119105">func</span>&nbsp;<span class="ident" id="1119110">benchmarkLastIndexHard</span><span class="op" id="1119132">(</span><span class="ident" id="1119133">b</span>&nbsp;<span class="op" id="1119135">*</span><span class="ident" id="1119136">testing</span><span class="op" id="1119143">.</span><span class="ident" id="1119144">B</span><span class="op" id="1119145">,</span>&nbsp;<span class="ident" id="1119147">sep</span>&nbsp;<span class="builtintype" id="1119151">string</span><span class="op" id="1119157">)</span>&nbsp;<span class="op" id="1119159">{</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1119162">for</span>&nbsp;<span class="ident" id="1119166">i</span>&nbsp;<span class="op" id="1119168">:=</span>&nbsp;<span class="num" id="1119171">0</span><span class="op" id="1119172">;</span>&nbsp;<span class="ident" id="1119174">i</span>&nbsp;<span class="op" id="1119176">&lt;</span>&nbsp;<span class="ident" id="1119178">b</span><span class="op" id="1119179">.</span><span class="ident" id="1119180">N</span><span class="op" id="1119181">;</span>&nbsp;<span class="ident" id="1119183">i</span><span class="op" id="1119184">++</span>&nbsp;<span class="op" id="1119187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1119191">LastIndex</span><span class="op" id="1119200">(</span><span class="ident" id="1119201">benchInputHard</span><span class="op" id="1119215">,</span>&nbsp;<span class="ident" id="1119217">sep</span><span class="op" id="1119220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1119223">}</span><br>
<span class="lineno"></span><span class="op" id="1119225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1105</span><span class="keyword" id="1119228">func</span>&nbsp;<span class="ident" id="1119233">benchmarkCountHard</span><span class="op" id="1119251">(</span><span class="ident" id="1119252">b</span>&nbsp;<span class="op" id="1119254">*</span><span class="ident" id="1119255">testing</span><span class="op" id="1119262">.</span><span class="ident" id="1119263">B</span><span class="op" id="1119264">,</span>&nbsp;<span class="ident" id="1119266">sep</span>&nbsp;<span class="builtintype" id="1119270">string</span><span class="op" id="1119276">)</span>&nbsp;<span class="op" id="1119278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1119281">for</span>&nbsp;<span class="ident" id="1119285">i</span>&nbsp;<span class="op" id="1119287">:=</span>&nbsp;<span class="num" id="1119290">0</span><span class="op" id="1119291">;</span>&nbsp;<span class="ident" id="1119293">i</span>&nbsp;<span class="op" id="1119295">&lt;</span>&nbsp;<span class="ident" id="1119297">b</span><span class="op" id="1119298">.</span><span class="ident" id="1119299">N</span><span class="op" id="1119300">;</span>&nbsp;<span class="ident" id="1119302">i</span><span class="op" id="1119303">++</span>&nbsp;<span class="op" id="1119306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1119310">Count</span><span class="op" id="1119315">(</span><span class="ident" id="1119316">benchInputHard</span><span class="op" id="1119330">,</span>&nbsp;<span class="ident" id="1119332">sep</span><span class="op" id="1119335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1119338">}</span><br>
<span class="lineno"></span><span class="op" id="1119340">}</span><br>
<span class="lineno">1110</span><br>
<span class="lineno"></span><span class="keyword" id="1119343">func</span>&nbsp;<span class="ident" id="1119348">BenchmarkIndexHard1</span><span class="op" id="1119367">(</span><span class="ident" id="1119368">b</span>&nbsp;<span class="op" id="1119370">*</span><span class="ident" id="1119371">testing</span><span class="op" id="1119378">.</span><span class="ident" id="1119379">B</span><span class="op" id="1119380">)</span>&nbsp;<span class="op" id="1119382">{</span>&nbsp;<span class="ident" id="1119384">benchmarkIndexHard</span><span class="op" id="1119402">(</span><span class="ident" id="1119403">b</span><span class="op" id="1119404">,</span>&nbsp;<span class="string" id="1119406">&#34;&lt;&gt;&#34;</span><span class="op" id="1119410">)</span>&nbsp;<span class="op" id="1119412">}</span><br>
<span class="lineno"></span><span class="keyword" id="1119414">func</span>&nbsp;<span class="ident" id="1119419">BenchmarkIndexHard2</span><span class="op" id="1119438">(</span><span class="ident" id="1119439">b</span>&nbsp;<span class="op" id="1119441">*</span><span class="ident" id="1119442">testing</span><span class="op" id="1119449">.</span><span class="ident" id="1119450">B</span><span class="op" id="1119451">)</span>&nbsp;<span class="op" id="1119453">{</span>&nbsp;<span class="ident" id="1119455">benchmarkIndexHard</span><span class="op" id="1119473">(</span><span class="ident" id="1119474">b</span><span class="op" id="1119475">,</span>&nbsp;<span class="string" id="1119477">&#34;&lt;/pre&gt;&#34;</span><span class="op" id="1119485">)</span>&nbsp;<span class="op" id="1119487">}</span><br>
<span class="lineno"></span><span class="keyword" id="1119489">func</span>&nbsp;<span class="ident" id="1119494">BenchmarkIndexHard3</span><span class="op" id="1119513">(</span><span class="ident" id="1119514">b</span>&nbsp;<span class="op" id="1119516">*</span><span class="ident" id="1119517">testing</span><span class="op" id="1119524">.</span><span class="ident" id="1119525">B</span><span class="op" id="1119526">)</span>&nbsp;<span class="op" id="1119528">{</span>&nbsp;<span class="ident" id="1119530">benchmarkIndexHard</span><span class="op" id="1119548">(</span><span class="ident" id="1119549">b</span><span class="op" id="1119550">,</span>&nbsp;<span class="string" id="1119552">&#34;&lt;b&gt;hello&nbsp;world&lt;/b&gt;&#34;</span><span class="op" id="1119572">)</span>&nbsp;<span class="op" id="1119574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span><span class="keyword" id="1119577">func</span>&nbsp;<span class="ident" id="1119582">BenchmarkLastIndexHard1</span><span class="op" id="1119605">(</span><span class="ident" id="1119606">b</span>&nbsp;<span class="op" id="1119608">*</span><span class="ident" id="1119609">testing</span><span class="op" id="1119616">.</span><span class="ident" id="1119617">B</span><span class="op" id="1119618">)</span>&nbsp;<span class="op" id="1119620">{</span>&nbsp;<span class="ident" id="1119622">benchmarkLastIndexHard</span><span class="op" id="1119644">(</span><span class="ident" id="1119645">b</span><span class="op" id="1119646">,</span>&nbsp;<span class="string" id="1119648">&#34;&lt;&gt;&#34;</span><span class="op" id="1119652">)</span>&nbsp;<span class="op" id="1119654">}</span><br>
<span class="lineno"></span><span class="keyword" id="1119656">func</span>&nbsp;<span class="ident" id="1119661">BenchmarkLastIndexHard2</span><span class="op" id="1119684">(</span><span class="ident" id="1119685">b</span>&nbsp;<span class="op" id="1119687">*</span><span class="ident" id="1119688">testing</span><span class="op" id="1119695">.</span><span class="ident" id="1119696">B</span><span class="op" id="1119697">)</span>&nbsp;<span class="op" id="1119699">{</span>&nbsp;<span class="ident" id="1119701">benchmarkLastIndexHard</span><span class="op" id="1119723">(</span><span class="ident" id="1119724">b</span><span class="op" id="1119725">,</span>&nbsp;<span class="string" id="1119727">&#34;&lt;/pre&gt;&#34;</span><span class="op" id="1119735">)</span>&nbsp;<span class="op" id="1119737">}</span><br>
<span class="lineno"></span><span class="keyword" id="1119739">func</span>&nbsp;<span class="ident" id="1119744">BenchmarkLastIndexHard3</span><span class="op" id="1119767">(</span><span class="ident" id="1119768">b</span>&nbsp;<span class="op" id="1119770">*</span><span class="ident" id="1119771">testing</span><span class="op" id="1119778">.</span><span class="ident" id="1119779">B</span><span class="op" id="1119780">)</span>&nbsp;<span class="op" id="1119782">{</span>&nbsp;<span class="ident" id="1119784">benchmarkLastIndexHard</span><span class="op" id="1119806">(</span><span class="ident" id="1119807">b</span><span class="op" id="1119808">,</span>&nbsp;<span class="string" id="1119810">&#34;&lt;b&gt;hello&nbsp;world&lt;/b&gt;&#34;</span><span class="op" id="1119830">)</span>&nbsp;<span class="op" id="1119832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1119835">func</span>&nbsp;<span class="ident" id="1119840">BenchmarkCountHard1</span><span class="op" id="1119859">(</span><span class="ident" id="1119860">b</span>&nbsp;<span class="op" id="1119862">*</span><span class="ident" id="1119863">testing</span><span class="op" id="1119870">.</span><span class="ident" id="1119871">B</span><span class="op" id="1119872">)</span>&nbsp;<span class="op" id="1119874">{</span>&nbsp;<span class="ident" id="1119876">benchmarkCountHard</span><span class="op" id="1119894">(</span><span class="ident" id="1119895">b</span><span class="op" id="1119896">,</span>&nbsp;<span class="string" id="1119898">&#34;&lt;&gt;&#34;</span><span class="op" id="1119902">)</span>&nbsp;<span class="op" id="1119904">}</span><br>
<span class="lineno">1120</span><span class="keyword" id="1119906">func</span>&nbsp;<span class="ident" id="1119911">BenchmarkCountHard2</span><span class="op" id="1119930">(</span><span class="ident" id="1119931">b</span>&nbsp;<span class="op" id="1119933">*</span><span class="ident" id="1119934">testing</span><span class="op" id="1119941">.</span><span class="ident" id="1119942">B</span><span class="op" id="1119943">)</span>&nbsp;<span class="op" id="1119945">{</span>&nbsp;<span class="ident" id="1119947">benchmarkCountHard</span><span class="op" id="1119965">(</span><span class="ident" id="1119966">b</span><span class="op" id="1119967">,</span>&nbsp;<span class="string" id="1119969">&#34;&lt;/pre&gt;&#34;</span><span class="op" id="1119977">)</span>&nbsp;<span class="op" id="1119979">}</span><br>
<span class="lineno"></span><span class="keyword" id="1119981">func</span>&nbsp;<span class="ident" id="1119986">BenchmarkCountHard3</span><span class="op" id="1120005">(</span><span class="ident" id="1120006">b</span>&nbsp;<span class="op" id="1120008">*</span><span class="ident" id="1120009">testing</span><span class="op" id="1120016">.</span><span class="ident" id="1120017">B</span><span class="op" id="1120018">)</span>&nbsp;<span class="op" id="1120020">{</span>&nbsp;<span class="ident" id="1120022">benchmarkCountHard</span><span class="op" id="1120040">(</span><span class="ident" id="1120041">b</span><span class="op" id="1120042">,</span>&nbsp;<span class="string" id="1120044">&#34;&lt;b&gt;hello&nbsp;world&lt;/b&gt;&#34;</span><span class="op" id="1120064">)</span>&nbsp;<span class="op" id="1120066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1120069">var</span>&nbsp;<span class="ident" id="1120073">benchInputTorture</span>&nbsp;<span class="op" id="1120091">=</span>&nbsp;<span class="ident" id="1120093">Repeat</span><span class="op" id="1120099">(</span><span class="string" id="1120100">&#34;ABC&#34;</span><span class="op" id="1120105">,</span>&nbsp;<span class="num" id="1120107">1</span><span class="op" id="1120108">&lt;&lt;</span><span class="num" id="1120110">10</span><span class="op" id="1120112">)</span>&nbsp;<span class="op" id="1120114">+</span>&nbsp;<span class="string" id="1120116">&#34;123&#34;</span>&nbsp;<span class="op" id="1120122">+</span>&nbsp;<span class="ident" id="1120124">Repeat</span><span class="op" id="1120130">(</span><span class="string" id="1120131">&#34;ABC&#34;</span><span class="op" id="1120136">,</span>&nbsp;<span class="num" id="1120138">1</span><span class="op" id="1120139">&lt;&lt;</span><span class="num" id="1120141">10</span><span class="op" id="1120143">)</span><br>
<span class="lineno"></span><span class="keyword" id="1120145">var</span>&nbsp;<span class="ident" id="1120149">benchNeedleTorture</span>&nbsp;<span class="op" id="1120168">=</span>&nbsp;<span class="ident" id="1120170">Repeat</span><span class="op" id="1120176">(</span><span class="string" id="1120177">&#34;ABC&#34;</span><span class="op" id="1120182">,</span>&nbsp;<span class="num" id="1120184">1</span><span class="op" id="1120185">&lt;&lt;</span><span class="num" id="1120187">10</span><span class="op" id="1120189">+</span><span class="num" id="1120190">1</span><span class="op" id="1120191">)</span><br>
<span class="lineno">1125</span><br>
<span class="lineno"></span><span class="keyword" id="1120194">func</span>&nbsp;<span class="ident" id="1120199">BenchmarkIndexTorture</span><span class="op" id="1120220">(</span><span class="ident" id="1120221">b</span>&nbsp;<span class="op" id="1120223">*</span><span class="ident" id="1120224">testing</span><span class="op" id="1120231">.</span><span class="ident" id="1120232">B</span><span class="op" id="1120233">)</span>&nbsp;<span class="op" id="1120235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120238">for</span>&nbsp;<span class="ident" id="1120242">i</span>&nbsp;<span class="op" id="1120244">:=</span>&nbsp;<span class="num" id="1120247">0</span><span class="op" id="1120248">;</span>&nbsp;<span class="ident" id="1120250">i</span>&nbsp;<span class="op" id="1120252">&lt;</span>&nbsp;<span class="ident" id="1120254">b</span><span class="op" id="1120255">.</span><span class="ident" id="1120256">N</span><span class="op" id="1120257">;</span>&nbsp;<span class="ident" id="1120259">i</span><span class="op" id="1120260">++</span>&nbsp;<span class="op" id="1120263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120267">Index</span><span class="op" id="1120272">(</span><span class="ident" id="1120273">benchInputTorture</span><span class="op" id="1120290">,</span>&nbsp;<span class="ident" id="1120292">benchNeedleTorture</span><span class="op" id="1120310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120313">}</span><br>
<span class="lineno">1130</span><span class="op" id="1120315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1120318">func</span>&nbsp;<span class="ident" id="1120323">BenchmarkCountTorture</span><span class="op" id="1120344">(</span><span class="ident" id="1120345">b</span>&nbsp;<span class="op" id="1120347">*</span><span class="ident" id="1120348">testing</span><span class="op" id="1120355">.</span><span class="ident" id="1120356">B</span><span class="op" id="1120357">)</span>&nbsp;<span class="op" id="1120359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120362">for</span>&nbsp;<span class="ident" id="1120366">i</span>&nbsp;<span class="op" id="1120368">:=</span>&nbsp;<span class="num" id="1120371">0</span><span class="op" id="1120372">;</span>&nbsp;<span class="ident" id="1120374">i</span>&nbsp;<span class="op" id="1120376">&lt;</span>&nbsp;<span class="ident" id="1120378">b</span><span class="op" id="1120379">.</span><span class="ident" id="1120380">N</span><span class="op" id="1120381">;</span>&nbsp;<span class="ident" id="1120383">i</span><span class="op" id="1120384">++</span>&nbsp;<span class="op" id="1120387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120391">Count</span><span class="op" id="1120396">(</span><span class="ident" id="1120397">benchInputTorture</span><span class="op" id="1120414">,</span>&nbsp;<span class="ident" id="1120416">benchNeedleTorture</span><span class="op" id="1120434">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120437">}</span><br>
<span class="lineno"></span><span class="op" id="1120439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1120442">func</span>&nbsp;<span class="ident" id="1120447">BenchmarkCountTortureOverlapping</span><span class="op" id="1120479">(</span><span class="ident" id="1120480">b</span>&nbsp;<span class="op" id="1120482">*</span><span class="ident" id="1120483">testing</span><span class="op" id="1120490">.</span><span class="ident" id="1120491">B</span><span class="op" id="1120492">)</span>&nbsp;<span class="op" id="1120494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120497">A</span>&nbsp;<span class="op" id="1120499">:=</span>&nbsp;<span class="ident" id="1120502">Repeat</span><span class="op" id="1120508">(</span><span class="string" id="1120509">&#34;ABC&#34;</span><span class="op" id="1120514">,</span>&nbsp;<span class="num" id="1120516">1</span><span class="op" id="1120517">&lt;&lt;</span><span class="num" id="1120519">20</span><span class="op" id="1120521">)</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120524">B</span>&nbsp;<span class="op" id="1120526">:=</span>&nbsp;<span class="ident" id="1120529">Repeat</span><span class="op" id="1120535">(</span><span class="string" id="1120536">&#34;ABC&#34;</span><span class="op" id="1120541">,</span>&nbsp;<span class="num" id="1120543">1</span><span class="op" id="1120544">&lt;&lt;</span><span class="num" id="1120546">10</span><span class="op" id="1120548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120551">for</span>&nbsp;<span class="ident" id="1120555">i</span>&nbsp;<span class="op" id="1120557">:=</span>&nbsp;<span class="num" id="1120560">0</span><span class="op" id="1120561">;</span>&nbsp;<span class="ident" id="1120563">i</span>&nbsp;<span class="op" id="1120565">&lt;</span>&nbsp;<span class="ident" id="1120567">b</span><span class="op" id="1120568">.</span><span class="ident" id="1120569">N</span><span class="op" id="1120570">;</span>&nbsp;<span class="ident" id="1120572">i</span><span class="op" id="1120573">++</span>&nbsp;<span class="op" id="1120576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120580">Count</span><span class="op" id="1120585">(</span><span class="ident" id="1120586">A</span><span class="op" id="1120587">,</span>&nbsp;<span class="ident" id="1120589">B</span><span class="op" id="1120590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120593">}</span><br>
<span class="lineno"></span><span class="op" id="1120595">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span><span class="keyword" id="1120598">var</span>&nbsp;<span class="ident" id="1120602">makeFieldsInput</span>&nbsp;<span class="op" id="1120618">=</span>&nbsp;<span class="keyword" id="1120620">func</span><span class="op" id="1120624">(</span><span class="op" id="1120625">)</span>&nbsp;<span class="builtintype" id="1120627">string</span>&nbsp;<span class="op" id="1120634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120637">x</span>&nbsp;<span class="op" id="1120639">:=</span>&nbsp;<span class="builtinfunc" id="1120642">make</span><span class="op" id="1120646">(</span><span class="op" id="1120647">[</span><span class="op" id="1120648">]</span><span class="builtintype" id="1120649">byte</span><span class="op" id="1120653">,</span>&nbsp;<span class="num" id="1120655">1</span><span class="op" id="1120656">&lt;&lt;</span><span class="num" id="1120658">20</span><span class="op" id="1120660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1120663">//&nbsp;Input&nbsp;is&nbsp;~10%&nbsp;space,&nbsp;~10%&nbsp;2-byte&nbsp;UTF-8,&nbsp;rest&nbsp;ASCII&nbsp;non-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120729">for</span>&nbsp;<span class="ident" id="1120733">i</span>&nbsp;<span class="op" id="1120735">:=</span>&nbsp;<span class="keyword" id="1120738">range</span>&nbsp;<span class="ident" id="1120744">x</span>&nbsp;<span class="op" id="1120746">{</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120750">switch</span>&nbsp;<span class="ident" id="1120757">rand</span><span class="op" id="1120761">.</span><span class="ident" id="1120762">Intn</span><span class="op" id="1120766">(</span><span class="num" id="1120767">10</span><span class="op" id="1120769">)</span>&nbsp;<span class="op" id="1120771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120775">case</span>&nbsp;<span class="num" id="1120780">0</span><span class="op" id="1120781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120786">x</span><span class="op" id="1120787">[</span><span class="ident" id="1120788">i</span><span class="op" id="1120789">]</span>&nbsp;<span class="op" id="1120791">=</span>&nbsp;<span class="string" id="1120793">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120799">case</span>&nbsp;<span class="num" id="1120804">1</span><span class="op" id="1120805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120810">if</span>&nbsp;<span class="ident" id="1120813">i</span>&nbsp;<span class="op" id="1120815">&gt;</span>&nbsp;<span class="num" id="1120817">0</span>&nbsp;<span class="op" id="1120819">&amp;&amp;</span>&nbsp;<span class="ident" id="1120822">x</span><span class="op" id="1120823">[</span><span class="ident" id="1120824">i</span><span class="op" id="1120825">-</span><span class="num" id="1120826">1</span><span class="op" id="1120827">]</span>&nbsp;<span class="op" id="1120829">==</span>&nbsp;<span class="string" id="1120832">&#39;x&#39;</span>&nbsp;<span class="op" id="1120836">{</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1120842">copy</span><span class="op" id="1120846">(</span><span class="ident" id="1120847">x</span><span class="op" id="1120848">[</span><span class="ident" id="1120849">i</span><span class="op" id="1120850">-</span><span class="num" id="1120851">1</span><span class="op" id="1120852">:</span><span class="op" id="1120853">]</span><span class="op" id="1120854">,</span>&nbsp;<span class="string" id="1120856">&#34;χ&#34;</span><span class="op" id="1120860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120866">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120880">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120894">default</span><span class="op" id="1120901">:</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1120906">x</span><span class="op" id="1120907">[</span><span class="ident" id="1120908">i</span><span class="op" id="1120909">]</span>&nbsp;<span class="op" id="1120911">=</span>&nbsp;<span class="string" id="1120913">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1120922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1120925">return</span>&nbsp;<span class="builtintype" id="1120932">string</span><span class="op" id="1120938">(</span><span class="ident" id="1120939">x</span><span class="op" id="1120940">)</span><br>
<span class="lineno"></span><span class="op" id="1120942">}</span><br>
<span class="lineno">1165</span><br>
<span class="lineno"></span><span class="keyword" id="1120945">var</span>&nbsp;<span class="ident" id="1120949">fieldsInput</span>&nbsp;<span class="op" id="1120961">=</span>&nbsp;<span class="ident" id="1120963">makeFieldsInput</span><span class="op" id="1120978">(</span><span class="op" id="1120979">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1120982">func</span>&nbsp;<span class="ident" id="1120987">BenchmarkFields</span><span class="op" id="1121002">(</span><span class="ident" id="1121003">b</span>&nbsp;<span class="op" id="1121005">*</span><span class="ident" id="1121006">testing</span><span class="op" id="1121013">.</span><span class="ident" id="1121014">B</span><span class="op" id="1121015">)</span>&nbsp;<span class="op" id="1121017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121020">b</span><span class="op" id="1121021">.</span><span class="ident" id="1121022">SetBytes</span><span class="op" id="1121030">(</span><span class="ident" id="1121031">int64</span><span class="op" id="1121036">(</span><span class="builtinfunc" id="1121037">len</span><span class="op" id="1121040">(</span><span class="ident" id="1121041">fieldsInput</span><span class="op" id="1121052">)</span><span class="op" id="1121053">)</span><span class="op" id="1121054">)</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121057">for</span>&nbsp;<span class="ident" id="1121061">i</span>&nbsp;<span class="op" id="1121063">:=</span>&nbsp;<span class="num" id="1121066">0</span><span class="op" id="1121067">;</span>&nbsp;<span class="ident" id="1121069">i</span>&nbsp;<span class="op" id="1121071">&lt;</span>&nbsp;<span class="ident" id="1121073">b</span><span class="op" id="1121074">.</span><span class="ident" id="1121075">N</span><span class="op" id="1121076">;</span>&nbsp;<span class="ident" id="1121078">i</span><span class="op" id="1121079">++</span>&nbsp;<span class="op" id="1121082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121086">Fields</span><span class="op" id="1121092">(</span><span class="ident" id="1121093">fieldsInput</span><span class="op" id="1121104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121107">}</span><br>
<span class="lineno"></span><span class="op" id="1121109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1175</span><span class="keyword" id="1121112">func</span>&nbsp;<span class="ident" id="1121117">BenchmarkFieldsFunc</span><span class="op" id="1121136">(</span><span class="ident" id="1121137">b</span>&nbsp;<span class="op" id="1121139">*</span><span class="ident" id="1121140">testing</span><span class="op" id="1121147">.</span><span class="ident" id="1121148">B</span><span class="op" id="1121149">)</span>&nbsp;<span class="op" id="1121151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121154">b</span><span class="op" id="1121155">.</span><span class="ident" id="1121156">SetBytes</span><span class="op" id="1121164">(</span><span class="ident" id="1121165">int64</span><span class="op" id="1121170">(</span><span class="builtinfunc" id="1121171">len</span><span class="op" id="1121174">(</span><span class="ident" id="1121175">fieldsInput</span><span class="op" id="1121186">)</span><span class="op" id="1121187">)</span><span class="op" id="1121188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121191">for</span>&nbsp;<span class="ident" id="1121195">i</span>&nbsp;<span class="op" id="1121197">:=</span>&nbsp;<span class="num" id="1121200">0</span><span class="op" id="1121201">;</span>&nbsp;<span class="ident" id="1121203">i</span>&nbsp;<span class="op" id="1121205">&lt;</span>&nbsp;<span class="ident" id="1121207">b</span><span class="op" id="1121208">.</span><span class="ident" id="1121209">N</span><span class="op" id="1121210">;</span>&nbsp;<span class="ident" id="1121212">i</span><span class="op" id="1121213">++</span>&nbsp;<span class="op" id="1121216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121220">FieldsFunc</span><span class="op" id="1121230">(</span><span class="ident" id="1121231">fieldsInput</span><span class="op" id="1121242">,</span>&nbsp;<span class="ident" id="1121244">unicode</span><span class="op" id="1121251">.</span><span class="ident" id="1121252">IsSpace</span><span class="op" id="1121259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121262">}</span><br>
<span class="lineno">1180</span><span class="op" id="1121264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1121267">func</span>&nbsp;<span class="ident" id="1121272">BenchmarkSplit1</span><span class="op" id="1121287">(</span><span class="ident" id="1121288">b</span>&nbsp;<span class="op" id="1121290">*</span><span class="ident" id="1121291">testing</span><span class="op" id="1121298">.</span><span class="ident" id="1121299">B</span><span class="op" id="1121300">)</span>&nbsp;<span class="op" id="1121302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121305">for</span>&nbsp;<span class="ident" id="1121309">i</span>&nbsp;<span class="op" id="1121311">:=</span>&nbsp;<span class="num" id="1121314">0</span><span class="op" id="1121315">;</span>&nbsp;<span class="ident" id="1121317">i</span>&nbsp;<span class="op" id="1121319">&lt;</span>&nbsp;<span class="ident" id="1121321">b</span><span class="op" id="1121322">.</span><span class="ident" id="1121323">N</span><span class="op" id="1121324">;</span>&nbsp;<span class="ident" id="1121326">i</span><span class="op" id="1121327">++</span>&nbsp;<span class="op" id="1121330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121334">Split</span><span class="op" id="1121339">(</span><span class="ident" id="1121340">benchInputHard</span><span class="op" id="1121354">,</span>&nbsp;<span class="string" id="1121356">&#34;&#34;</span><span class="op" id="1121358">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121361">}</span><br>
<span class="lineno"></span><span class="op" id="1121363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1121366">func</span>&nbsp;<span class="ident" id="1121371">BenchmarkSplit2</span><span class="op" id="1121386">(</span><span class="ident" id="1121387">b</span>&nbsp;<span class="op" id="1121389">*</span><span class="ident" id="1121390">testing</span><span class="op" id="1121397">.</span><span class="ident" id="1121398">B</span><span class="op" id="1121399">)</span>&nbsp;<span class="op" id="1121401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121404">for</span>&nbsp;<span class="ident" id="1121408">i</span>&nbsp;<span class="op" id="1121410">:=</span>&nbsp;<span class="num" id="1121413">0</span><span class="op" id="1121414">;</span>&nbsp;<span class="ident" id="1121416">i</span>&nbsp;<span class="op" id="1121418">&lt;</span>&nbsp;<span class="ident" id="1121420">b</span><span class="op" id="1121421">.</span><span class="ident" id="1121422">N</span><span class="op" id="1121423">;</span>&nbsp;<span class="ident" id="1121425">i</span><span class="op" id="1121426">++</span>&nbsp;<span class="op" id="1121429">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121433">Split</span><span class="op" id="1121438">(</span><span class="ident" id="1121439">benchInputHard</span><span class="op" id="1121453">,</span>&nbsp;<span class="string" id="1121455">&#34;/&#34;</span><span class="op" id="1121458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121461">}</span><br>
<span class="lineno"></span><span class="op" id="1121463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1121466">func</span>&nbsp;<span class="ident" id="1121471">BenchmarkSplit3</span><span class="op" id="1121486">(</span><span class="ident" id="1121487">b</span>&nbsp;<span class="op" id="1121489">*</span><span class="ident" id="1121490">testing</span><span class="op" id="1121497">.</span><span class="ident" id="1121498">B</span><span class="op" id="1121499">)</span>&nbsp;<span class="op" id="1121501">{</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121504">for</span>&nbsp;<span class="ident" id="1121508">i</span>&nbsp;<span class="op" id="1121510">:=</span>&nbsp;<span class="num" id="1121513">0</span><span class="op" id="1121514">;</span>&nbsp;<span class="ident" id="1121516">i</span>&nbsp;<span class="op" id="1121518">&lt;</span>&nbsp;<span class="ident" id="1121520">b</span><span class="op" id="1121521">.</span><span class="ident" id="1121522">N</span><span class="op" id="1121523">;</span>&nbsp;<span class="ident" id="1121525">i</span><span class="op" id="1121526">++</span>&nbsp;<span class="op" id="1121529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121533">Split</span><span class="op" id="1121538">(</span><span class="ident" id="1121539">benchInputHard</span><span class="op" id="1121553">,</span>&nbsp;<span class="string" id="1121555">&#34;hello&#34;</span><span class="op" id="1121562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121565">}</span><br>
<span class="lineno"></span><span class="op" id="1121567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1200</span><span class="keyword" id="1121570">func</span>&nbsp;<span class="ident" id="1121575">BenchmarkRepeat</span><span class="op" id="1121590">(</span><span class="ident" id="1121591">b</span>&nbsp;<span class="op" id="1121593">*</span><span class="ident" id="1121594">testing</span><span class="op" id="1121601">.</span><span class="ident" id="1121602">B</span><span class="op" id="1121603">)</span>&nbsp;<span class="op" id="1121605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1121608">for</span>&nbsp;<span class="ident" id="1121612">i</span>&nbsp;<span class="op" id="1121614">:=</span>&nbsp;<span class="num" id="1121617">0</span><span class="op" id="1121618">;</span>&nbsp;<span class="ident" id="1121620">i</span>&nbsp;<span class="op" id="1121622">&lt;</span>&nbsp;<span class="ident" id="1121624">b</span><span class="op" id="1121625">.</span><span class="ident" id="1121626">N</span><span class="op" id="1121627">;</span>&nbsp;<span class="ident" id="1121629">i</span><span class="op" id="1121630">++</span>&nbsp;<span class="op" id="1121633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1121637">Repeat</span><span class="op" id="1121643">(</span><span class="string" id="1121644">&#34;-&#34;</span><span class="op" id="1121647">,</span>&nbsp;<span class="num" id="1121649">80</span><span class="op" id="1121651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1121654">}</span><br>
<span class="lineno"></span><span class="op" id="1121656">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
