<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="997065">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="997120">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="997174">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="997225">package</span>&nbsp;<span class="ident" id="997233">sort_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="997244">import</span>&nbsp;<span class="op" id="997251">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="997254">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="997261">&#34;sort&#34;</span><br>
<span class="lineno">10</span><span class="op" id="997268">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="997271">//&nbsp;A&nbsp;Change&nbsp;is&nbsp;a&nbsp;record&nbsp;of&nbsp;source&nbsp;code&nbsp;changes,&nbsp;recording&nbsp;user,&nbsp;language,&nbsp;and&nbsp;delta&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="997361">type</span>&nbsp;<span class="ident" id="997366">Change</span>&nbsp;<span class="keyword" id="997373">struct</span>&nbsp;<span class="op" id="997380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997383">user</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="997392">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997400">language</span>&nbsp;<span class="builtintype" id="997409">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997417">lines</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="997426">int</span><br>
<span class="lineno"></span><span class="op" id="997430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="997433">type</span>&nbsp;<span class="ident" id="997438">lessFunc</span>&nbsp;<span class="keyword" id="997447">func</span><span class="op" id="997451">(</span><span class="ident" id="997452">p1</span><span class="op" id="997454">,</span>&nbsp;<span class="ident" id="997456">p2</span>&nbsp;<span class="op" id="997459">*</span><span class="ident" id="997460">Change</span><span class="op" id="997466">)</span>&nbsp;<span class="builtintype" id="997468">bool</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="997474">//&nbsp;multiSorter&nbsp;implements&nbsp;the&nbsp;Sort&nbsp;interface,&nbsp;sorting&nbsp;the&nbsp;changes&nbsp;within.</span><br>
<span class="lineno"></span><span class="keyword" id="997548">type</span>&nbsp;<span class="ident" id="997553">multiSorter</span>&nbsp;<span class="keyword" id="997565">struct</span>&nbsp;<span class="op" id="997572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997575">changes</span>&nbsp;<span class="op" id="997583">[</span><span class="op" id="997584">]</span><span class="ident" id="997585">Change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997593">less</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="997601">[</span><span class="op" id="997602">]</span><span class="ident" id="997603">lessFunc</span><br>
<span class="lineno">25</span><span class="op" id="997612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="997615">//&nbsp;Sort&nbsp;sorts&nbsp;the&nbsp;argument&nbsp;slice&nbsp;according&nbsp;to&nbsp;the&nbsp;less&nbsp;functions&nbsp;passed&nbsp;to&nbsp;OrderedBy.</span><br>
<span class="lineno"></span><span class="keyword" id="997701">func</span>&nbsp;<span class="op" id="997706">(</span><span class="ident" id="997707">ms</span>&nbsp;<span class="op" id="997710">*</span><span class="ident" id="997711">multiSorter</span><span class="op" id="997722">)</span>&nbsp;<span class="ident" id="997724">Sort</span><span class="op" id="997728">(</span><span class="ident" id="997729">changes</span>&nbsp;<span class="op" id="997737">[</span><span class="op" id="997738">]</span><span class="ident" id="997739">Change</span><span class="op" id="997745">)</span>&nbsp;<span class="op" id="997747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997750">ms</span><span class="op" id="997752">.</span><span class="ident" id="997753">changes</span>&nbsp;<span class="op" id="997761">=</span>&nbsp;<span class="ident" id="997763">changes</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997772">sort</span><span class="op" id="997776">.</span><span class="ident" id="997777">Sort</span><span class="op" id="997781">(</span><span class="ident" id="997782">ms</span><span class="op" id="997784">)</span><br>
<span class="lineno"></span><span class="op" id="997786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="997789">//&nbsp;OrderedBy&nbsp;returns&nbsp;a&nbsp;Sorter&nbsp;that&nbsp;sorts&nbsp;using&nbsp;the&nbsp;less&nbsp;functions,&nbsp;in&nbsp;order.</span><br>
<span class="lineno"></span><span class="comment" id="997866">//&nbsp;Call&nbsp;its&nbsp;Sort&nbsp;method&nbsp;to&nbsp;sort&nbsp;the&nbsp;data.</span><br>
<span class="lineno">35</span><span class="keyword" id="997908">func</span>&nbsp;<span class="ident" id="997913">OrderedBy</span><span class="op" id="997922">(</span><span class="ident" id="997923">less</span>&nbsp;<span class="op" id="997928">...</span><span class="ident" id="997931">lessFunc</span><span class="op" id="997939">)</span>&nbsp;<span class="op" id="997941">*</span><span class="ident" id="997942">multiSorter</span>&nbsp;<span class="op" id="997954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="997957">return</span>&nbsp;<span class="op" id="997964">&amp;</span><span class="ident" id="997965">multiSorter</span><span class="op" id="997976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="997980">less</span><span class="op" id="997984">:</span>&nbsp;<span class="ident" id="997986">less</span><span class="op" id="997990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="997993">}</span><br>
<span class="lineno"></span><span class="op" id="997995">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="997998">//&nbsp;Len&nbsp;is&nbsp;part&nbsp;of&nbsp;sort.Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="998032">func</span>&nbsp;<span class="op" id="998037">(</span><span class="ident" id="998038">ms</span>&nbsp;<span class="op" id="998041">*</span><span class="ident" id="998042">multiSorter</span><span class="op" id="998053">)</span>&nbsp;<span class="ident" id="998055">Len</span><span class="op" id="998058">(</span><span class="op" id="998059">)</span>&nbsp;<span class="builtintype" id="998061">int</span>&nbsp;<span class="op" id="998065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998068">return</span>&nbsp;<span class="builtinfunc" id="998075">len</span><span class="op" id="998078">(</span><span class="ident" id="998079">ms</span><span class="op" id="998081">.</span><span class="ident" id="998082">changes</span><span class="op" id="998089">)</span><br>
<span class="lineno"></span><span class="op" id="998091">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="998094">//&nbsp;Swap&nbsp;is&nbsp;part&nbsp;of&nbsp;sort.Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="998129">func</span>&nbsp;<span class="op" id="998134">(</span><span class="ident" id="998135">ms</span>&nbsp;<span class="op" id="998138">*</span><span class="ident" id="998139">multiSorter</span><span class="op" id="998150">)</span>&nbsp;<span class="ident" id="998152">Swap</span><span class="op" id="998156">(</span><span class="ident" id="998157">i</span><span class="op" id="998158">,</span>&nbsp;<span class="ident" id="998160">j</span>&nbsp;<span class="builtintype" id="998162">int</span><span class="op" id="998165">)</span>&nbsp;<span class="op" id="998167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="998170">ms</span><span class="op" id="998172">.</span><span class="ident" id="998173">changes</span><span class="op" id="998180">[</span><span class="ident" id="998181">i</span><span class="op" id="998182">]</span><span class="op" id="998183">,</span>&nbsp;<span class="ident" id="998185">ms</span><span class="op" id="998187">.</span><span class="ident" id="998188">changes</span><span class="op" id="998195">[</span><span class="ident" id="998196">j</span><span class="op" id="998197">]</span>&nbsp;<span class="op" id="998199">=</span>&nbsp;<span class="ident" id="998201">ms</span><span class="op" id="998203">.</span><span class="ident" id="998204">changes</span><span class="op" id="998211">[</span><span class="ident" id="998212">j</span><span class="op" id="998213">]</span><span class="op" id="998214">,</span>&nbsp;<span class="ident" id="998216">ms</span><span class="op" id="998218">.</span><span class="ident" id="998219">changes</span><span class="op" id="998226">[</span><span class="ident" id="998227">i</span><span class="op" id="998228">]</span><br>
<span class="lineno"></span><span class="op" id="998230">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="998233">//&nbsp;Less&nbsp;is&nbsp;part&nbsp;of&nbsp;sort.Interface.&nbsp;It&nbsp;is&nbsp;implemented&nbsp;by&nbsp;looping&nbsp;along&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="998307">//&nbsp;less&nbsp;functions&nbsp;until&nbsp;it&nbsp;finds&nbsp;a&nbsp;comparison&nbsp;that&nbsp;is&nbsp;either&nbsp;Less&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="998376">//&nbsp;!Less.&nbsp;Note&nbsp;that&nbsp;it&nbsp;can&nbsp;call&nbsp;the&nbsp;less&nbsp;functions&nbsp;twice&nbsp;per&nbsp;call.&nbsp;We</span><br>
<span class="lineno"></span><span class="comment" id="998446">//&nbsp;could&nbsp;change&nbsp;the&nbsp;functions&nbsp;to&nbsp;return&nbsp;-1,&nbsp;0,&nbsp;1&nbsp;and&nbsp;reduce&nbsp;the</span><br>
<span class="lineno">55</span><span class="comment" id="998510">//&nbsp;number&nbsp;of&nbsp;calls&nbsp;for&nbsp;greater&nbsp;efficiency:&nbsp;an&nbsp;exercise&nbsp;for&nbsp;the&nbsp;reader.</span><br>
<span class="lineno"></span><span class="keyword" id="998581">func</span>&nbsp;<span class="op" id="998586">(</span><span class="ident" id="998587">ms</span>&nbsp;<span class="op" id="998590">*</span><span class="ident" id="998591">multiSorter</span><span class="op" id="998602">)</span>&nbsp;<span class="ident" id="998604">Less</span><span class="op" id="998608">(</span><span class="ident" id="998609">i</span><span class="op" id="998610">,</span>&nbsp;<span class="ident" id="998612">j</span>&nbsp;<span class="builtintype" id="998614">int</span><span class="op" id="998617">)</span>&nbsp;<span class="builtintype" id="998619">bool</span>&nbsp;<span class="op" id="998624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="998627">p</span><span class="op" id="998628">,</span>&nbsp;<span class="ident" id="998630">q</span>&nbsp;<span class="op" id="998632">:=</span>&nbsp;<span class="op" id="998635">&amp;</span><span class="ident" id="998636">ms</span><span class="op" id="998638">.</span><span class="ident" id="998639">changes</span><span class="op" id="998646">[</span><span class="ident" id="998647">i</span><span class="op" id="998648">]</span><span class="op" id="998649">,</span>&nbsp;<span class="op" id="998651">&amp;</span><span class="ident" id="998652">ms</span><span class="op" id="998654">.</span><span class="ident" id="998655">changes</span><span class="op" id="998662">[</span><span class="ident" id="998663">j</span><span class="op" id="998664">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="998667">//&nbsp;Try&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;comparison.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998704">var</span>&nbsp;<span class="ident" id="998708">k</span>&nbsp;<span class="builtintype" id="998710">int</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998715">for</span>&nbsp;<span class="ident" id="998719">k</span>&nbsp;<span class="op" id="998721">=</span>&nbsp;<span class="num" id="998723">0</span><span class="op" id="998724">;</span>&nbsp;<span class="ident" id="998726">k</span>&nbsp;<span class="op" id="998728">&lt;</span>&nbsp;<span class="builtinfunc" id="998730">len</span><span class="op" id="998733">(</span><span class="ident" id="998734">ms</span><span class="op" id="998736">.</span><span class="ident" id="998737">less</span><span class="op" id="998741">)</span><span class="op" id="998742">-</span><span class="num" id="998743">1</span><span class="op" id="998744">;</span>&nbsp;<span class="ident" id="998746">k</span><span class="op" id="998747">++</span>&nbsp;<span class="op" id="998750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="998754">less</span>&nbsp;<span class="op" id="998759">:=</span>&nbsp;<span class="ident" id="998762">ms</span><span class="op" id="998764">.</span><span class="ident" id="998765">less</span><span class="op" id="998769">[</span><span class="ident" id="998770">k</span><span class="op" id="998771">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998775">switch</span>&nbsp;<span class="op" id="998782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998786">case</span>&nbsp;<span class="ident" id="998791">less</span><span class="op" id="998795">(</span><span class="ident" id="998796">p</span><span class="op" id="998797">,</span>&nbsp;<span class="ident" id="998799">q</span><span class="op" id="998800">)</span><span class="op" id="998801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="998806">//&nbsp;p&nbsp;&lt;&nbsp;q,&nbsp;so&nbsp;we&nbsp;have&nbsp;a&nbsp;decision.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998842">return</span>&nbsp;<span class="ident" id="998849">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998856">case</span>&nbsp;<span class="ident" id="998861">less</span><span class="op" id="998865">(</span><span class="ident" id="998866">q</span><span class="op" id="998867">,</span>&nbsp;<span class="ident" id="998869">p</span><span class="op" id="998870">)</span><span class="op" id="998871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="998876">//&nbsp;p&nbsp;&gt;&nbsp;q,&nbsp;so&nbsp;we&nbsp;have&nbsp;a&nbsp;decision.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="998912">return</span>&nbsp;<span class="ident" id="998919">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="998927">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="998931">//&nbsp;p&nbsp;==&nbsp;q;&nbsp;try&nbsp;the&nbsp;next&nbsp;comparison.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="998968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="998971">//&nbsp;All&nbsp;comparisons&nbsp;to&nbsp;here&nbsp;said&nbsp;&#34;equal&#34;,&nbsp;so&nbsp;just&nbsp;return&nbsp;whatever</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="999037">//&nbsp;the&nbsp;final&nbsp;comparison&nbsp;reports.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="999071">return</span>&nbsp;<span class="ident" id="999078">ms</span><span class="op" id="999080">.</span><span class="ident" id="999081">less</span><span class="op" id="999085">[</span><span class="ident" id="999086">k</span><span class="op" id="999087">]</span><span class="op" id="999088">(</span><span class="ident" id="999089">p</span><span class="op" id="999090">,</span>&nbsp;<span class="ident" id="999092">q</span><span class="op" id="999093">)</span><br>
<span class="lineno">75</span><span class="op" id="999095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="999098">var</span>&nbsp;<span class="ident" id="999102">changes</span>&nbsp;<span class="op" id="999110">=</span>&nbsp;<span class="op" id="999112">[</span><span class="op" id="999113">]</span><span class="ident" id="999114">Change</span><span class="op" id="999120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999123">{</span><span class="string" id="999124">&#34;gri&#34;</span><span class="op" id="999129">,</span>&nbsp;<span class="string" id="999131">&#34;Go&#34;</span><span class="op" id="999135">,</span>&nbsp;<span class="num" id="999137">100</span><span class="op" id="999140">}</span><span class="op" id="999141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999144">{</span><span class="string" id="999145">&#34;ken&#34;</span><span class="op" id="999150">,</span>&nbsp;<span class="string" id="999152">&#34;C&#34;</span><span class="op" id="999155">,</span>&nbsp;<span class="num" id="999157">150</span><span class="op" id="999160">}</span><span class="op" id="999161">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999164">{</span><span class="string" id="999165">&#34;glenda&#34;</span><span class="op" id="999173">,</span>&nbsp;<span class="string" id="999175">&#34;Go&#34;</span><span class="op" id="999179">,</span>&nbsp;<span class="num" id="999181">200</span><span class="op" id="999184">}</span><span class="op" id="999185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999188">{</span><span class="string" id="999189">&#34;rsc&#34;</span><span class="op" id="999194">,</span>&nbsp;<span class="string" id="999196">&#34;Go&#34;</span><span class="op" id="999200">,</span>&nbsp;<span class="num" id="999202">200</span><span class="op" id="999205">}</span><span class="op" id="999206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999209">{</span><span class="string" id="999210">&#34;r&#34;</span><span class="op" id="999213">,</span>&nbsp;<span class="string" id="999215">&#34;Go&#34;</span><span class="op" id="999219">,</span>&nbsp;<span class="num" id="999221">100</span><span class="op" id="999224">}</span><span class="op" id="999225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999228">{</span><span class="string" id="999229">&#34;ken&#34;</span><span class="op" id="999234">,</span>&nbsp;<span class="string" id="999236">&#34;Go&#34;</span><span class="op" id="999240">,</span>&nbsp;<span class="num" id="999242">200</span><span class="op" id="999245">}</span><span class="op" id="999246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999249">{</span><span class="string" id="999250">&#34;dmr&#34;</span><span class="op" id="999255">,</span>&nbsp;<span class="string" id="999257">&#34;C&#34;</span><span class="op" id="999260">,</span>&nbsp;<span class="num" id="999262">100</span><span class="op" id="999265">}</span><span class="op" id="999266">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999269">{</span><span class="string" id="999270">&#34;r&#34;</span><span class="op" id="999273">,</span>&nbsp;<span class="string" id="999275">&#34;C&#34;</span><span class="op" id="999278">,</span>&nbsp;<span class="num" id="999280">150</span><span class="op" id="999283">}</span><span class="op" id="999284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999287">{</span><span class="string" id="999288">&#34;gri&#34;</span><span class="op" id="999293">,</span>&nbsp;<span class="string" id="999295">&#34;Smalltalk&#34;</span><span class="op" id="999306">,</span>&nbsp;<span class="num" id="999308">80</span><span class="op" id="999310">}</span><span class="op" id="999311">,</span><br>
<span class="lineno"></span><span class="op" id="999313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="999316">//&nbsp;ExampleMultiKeys&nbsp;demonstrates&nbsp;a&nbsp;technique&nbsp;for&nbsp;sorting&nbsp;a&nbsp;struct&nbsp;type&nbsp;using&nbsp;different</span><br>
<span class="lineno">90</span><span class="comment" id="999403">//&nbsp;sets&nbsp;of&nbsp;multiple&nbsp;fields&nbsp;in&nbsp;the&nbsp;comparison.&nbsp;We&nbsp;chain&nbsp;together&nbsp;&#34;Less&#34;&nbsp;functions,&nbsp;each&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="999493">//&nbsp;which&nbsp;compares&nbsp;a&nbsp;single&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="999527">func</span>&nbsp;<span class="ident" id="999532">Example_sortMultiKeys</span><span class="op" id="999553">(</span><span class="op" id="999554">)</span>&nbsp;<span class="op" id="999556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="999559">//&nbsp;Closures&nbsp;that&nbsp;order&nbsp;the&nbsp;Change&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="999605">user</span>&nbsp;<span class="op" id="999610">:=</span>&nbsp;<span class="keyword" id="999613">func</span><span class="op" id="999617">(</span><span class="ident" id="999618">c1</span><span class="op" id="999620">,</span>&nbsp;<span class="ident" id="999622">c2</span>&nbsp;<span class="op" id="999625">*</span><span class="ident" id="999626">Change</span><span class="op" id="999632">)</span>&nbsp;<span class="builtintype" id="999634">bool</span>&nbsp;<span class="op" id="999639">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="999643">return</span>&nbsp;<span class="ident" id="999650">c1</span><span class="op" id="999652">.</span><span class="ident" id="999653">user</span>&nbsp;<span class="op" id="999658">&lt;</span>&nbsp;<span class="ident" id="999660">c2</span><span class="op" id="999662">.</span><span class="ident" id="999663">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="999672">language</span>&nbsp;<span class="op" id="999681">:=</span>&nbsp;<span class="keyword" id="999684">func</span><span class="op" id="999688">(</span><span class="ident" id="999689">c1</span><span class="op" id="999691">,</span>&nbsp;<span class="ident" id="999693">c2</span>&nbsp;<span class="op" id="999696">*</span><span class="ident" id="999697">Change</span><span class="op" id="999703">)</span>&nbsp;<span class="builtintype" id="999705">bool</span>&nbsp;<span class="op" id="999710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="999714">return</span>&nbsp;<span class="ident" id="999721">c1</span><span class="op" id="999723">.</span><span class="ident" id="999724">language</span>&nbsp;<span class="op" id="999733">&lt;</span>&nbsp;<span class="ident" id="999735">c2</span><span class="op" id="999737">.</span><span class="ident" id="999738">language</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999748">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="999751">increasingLines</span>&nbsp;<span class="op" id="999767">:=</span>&nbsp;<span class="keyword" id="999770">func</span><span class="op" id="999774">(</span><span class="ident" id="999775">c1</span><span class="op" id="999777">,</span>&nbsp;<span class="ident" id="999779">c2</span>&nbsp;<span class="op" id="999782">*</span><span class="ident" id="999783">Change</span><span class="op" id="999789">)</span>&nbsp;<span class="builtintype" id="999791">bool</span>&nbsp;<span class="op" id="999796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="999800">return</span>&nbsp;<span class="ident" id="999807">c1</span><span class="op" id="999809">.</span><span class="ident" id="999810">lines</span>&nbsp;<span class="op" id="999816">&lt;</span>&nbsp;<span class="ident" id="999818">c2</span><span class="op" id="999820">.</span><span class="ident" id="999821">lines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="999831">decreasingLines</span>&nbsp;<span class="op" id="999847">:=</span>&nbsp;<span class="keyword" id="999850">func</span><span class="op" id="999854">(</span><span class="ident" id="999855">c1</span><span class="op" id="999857">,</span>&nbsp;<span class="ident" id="999859">c2</span>&nbsp;<span class="op" id="999862">*</span><span class="ident" id="999863">Change</span><span class="op" id="999869">)</span>&nbsp;<span class="builtintype" id="999871">bool</span>&nbsp;<span class="op" id="999876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="999880">return</span>&nbsp;<span class="ident" id="999887">c1</span><span class="op" id="999889">.</span><span class="ident" id="999890">lines</span>&nbsp;<span class="op" id="999896">&gt;</span>&nbsp;<span class="ident" id="999898">c2</span><span class="op" id="999900">.</span><span class="ident" id="999901">lines</span>&nbsp;<span class="comment" id="999907">//&nbsp;Note:&nbsp;&gt;&nbsp;orders&nbsp;downwards.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="999937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="999941">//&nbsp;Simple&nbsp;use:&nbsp;Sort&nbsp;by&nbsp;user.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="999971">OrderedBy</span><span class="op" id="999980">(</span><span class="ident" id="999981">user</span><span class="op" id="999985">)</span><span class="op" id="999986">.</span><span class="ident" id="999987">Sort</span><span class="op" id="999991">(</span><span class="ident" id="999992">changes</span><span class="op" id="999999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000002">fmt</span><span class="op" id="1000005">.</span><span class="ident" id="1000006">Println</span><span class="op" id="1000013">(</span><span class="string" id="1000014">&#34;By&nbsp;user:&#34;</span><span class="op" id="1000024">,</span>&nbsp;<span class="ident" id="1000026">changes</span><span class="op" id="1000033">)</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000037">//&nbsp;More&nbsp;examples.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000056">OrderedBy</span><span class="op" id="1000065">(</span><span class="ident" id="1000066">user</span><span class="op" id="1000070">,</span>&nbsp;<span class="ident" id="1000072">increasingLines</span><span class="op" id="1000087">)</span><span class="op" id="1000088">.</span><span class="ident" id="1000089">Sort</span><span class="op" id="1000093">(</span><span class="ident" id="1000094">changes</span><span class="op" id="1000101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000104">fmt</span><span class="op" id="1000107">.</span><span class="ident" id="1000108">Println</span><span class="op" id="1000115">(</span><span class="string" id="1000116">&#34;By&nbsp;user,&lt;lines:&#34;</span><span class="op" id="1000133">,</span>&nbsp;<span class="ident" id="1000135">changes</span><span class="op" id="1000142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000146">OrderedBy</span><span class="op" id="1000155">(</span><span class="ident" id="1000156">user</span><span class="op" id="1000160">,</span>&nbsp;<span class="ident" id="1000162">decreasingLines</span><span class="op" id="1000177">)</span><span class="op" id="1000178">.</span><span class="ident" id="1000179">Sort</span><span class="op" id="1000183">(</span><span class="ident" id="1000184">changes</span><span class="op" id="1000191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000194">fmt</span><span class="op" id="1000197">.</span><span class="ident" id="1000198">Println</span><span class="op" id="1000205">(</span><span class="string" id="1000206">&#34;By&nbsp;user,&gt;lines:&#34;</span><span class="op" id="1000223">,</span>&nbsp;<span class="ident" id="1000225">changes</span><span class="op" id="1000232">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000236">OrderedBy</span><span class="op" id="1000245">(</span><span class="ident" id="1000246">language</span><span class="op" id="1000254">,</span>&nbsp;<span class="ident" id="1000256">increasingLines</span><span class="op" id="1000271">)</span><span class="op" id="1000272">.</span><span class="ident" id="1000273">Sort</span><span class="op" id="1000277">(</span><span class="ident" id="1000278">changes</span><span class="op" id="1000285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000288">fmt</span><span class="op" id="1000291">.</span><span class="ident" id="1000292">Println</span><span class="op" id="1000299">(</span><span class="string" id="1000300">&#34;By&nbsp;language,&lt;lines:&#34;</span><span class="op" id="1000321">,</span>&nbsp;<span class="ident" id="1000323">changes</span><span class="op" id="1000330">)</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000334">OrderedBy</span><span class="op" id="1000343">(</span><span class="ident" id="1000344">language</span><span class="op" id="1000352">,</span>&nbsp;<span class="ident" id="1000354">increasingLines</span><span class="op" id="1000369">,</span>&nbsp;<span class="ident" id="1000371">user</span><span class="op" id="1000375">)</span><span class="op" id="1000376">.</span><span class="ident" id="1000377">Sort</span><span class="op" id="1000381">(</span><span class="ident" id="1000382">changes</span><span class="op" id="1000389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1000392">fmt</span><span class="op" id="1000395">.</span><span class="ident" id="1000396">Println</span><span class="op" id="1000403">(</span><span class="string" id="1000404">&#34;By&nbsp;language,&lt;lines,user:&#34;</span><span class="op" id="1000430">,</span>&nbsp;<span class="ident" id="1000432">changes</span><span class="op" id="1000439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000443">//&nbsp;Output:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000455">//&nbsp;By&nbsp;user:&nbsp;[{dmr&nbsp;C&nbsp;100}&nbsp;{glenda&nbsp;Go&nbsp;200}&nbsp;{gri&nbsp;Smalltalk&nbsp;80}&nbsp;{gri&nbsp;Go&nbsp;100}&nbsp;{ken&nbsp;Go&nbsp;200}&nbsp;{ken&nbsp;C&nbsp;150}&nbsp;{r&nbsp;Go&nbsp;100}&nbsp;{r&nbsp;C&nbsp;150}&nbsp;{rsc&nbsp;Go&nbsp;200}]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000589">//&nbsp;By&nbsp;user,&lt;lines:&nbsp;[{dmr&nbsp;C&nbsp;100}&nbsp;{glenda&nbsp;Go&nbsp;200}&nbsp;{gri&nbsp;Smalltalk&nbsp;80}&nbsp;{gri&nbsp;Go&nbsp;100}&nbsp;{ken&nbsp;C&nbsp;150}&nbsp;{ken&nbsp;Go&nbsp;200}&nbsp;{r&nbsp;Go&nbsp;100}&nbsp;{r&nbsp;C&nbsp;150}&nbsp;{rsc&nbsp;Go&nbsp;200}]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000730">//&nbsp;By&nbsp;user,&gt;lines:&nbsp;[{dmr&nbsp;C&nbsp;100}&nbsp;{glenda&nbsp;Go&nbsp;200}&nbsp;{gri&nbsp;Go&nbsp;100}&nbsp;{gri&nbsp;Smalltalk&nbsp;80}&nbsp;{ken&nbsp;Go&nbsp;200}&nbsp;{ken&nbsp;C&nbsp;150}&nbsp;{r&nbsp;C&nbsp;150}&nbsp;{r&nbsp;Go&nbsp;100}&nbsp;{rsc&nbsp;Go&nbsp;200}]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1000871">//&nbsp;By&nbsp;language,&lt;lines:&nbsp;[{dmr&nbsp;C&nbsp;100}&nbsp;{ken&nbsp;C&nbsp;150}&nbsp;{r&nbsp;C&nbsp;150}&nbsp;{gri&nbsp;Go&nbsp;100}&nbsp;{r&nbsp;Go&nbsp;100}&nbsp;{ken&nbsp;Go&nbsp;200}&nbsp;{glenda&nbsp;Go&nbsp;200}&nbsp;{rsc&nbsp;Go&nbsp;200}&nbsp;{gri&nbsp;Smalltalk&nbsp;80}]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1001016">//&nbsp;By&nbsp;language,&lt;lines,user:&nbsp;[{dmr&nbsp;C&nbsp;100}&nbsp;{ken&nbsp;C&nbsp;150}&nbsp;{r&nbsp;C&nbsp;150}&nbsp;{gri&nbsp;Go&nbsp;100}&nbsp;{r&nbsp;Go&nbsp;100}&nbsp;{glenda&nbsp;Go&nbsp;200}&nbsp;{ken&nbsp;Go&nbsp;200}&nbsp;{rsc&nbsp;Go&nbsp;200}&nbsp;{gri&nbsp;Smalltalk&nbsp;80}]</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="op" id="1001166">}</span>
</div>
</body>
</html>
