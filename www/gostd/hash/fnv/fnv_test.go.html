<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7173811">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7173866">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7173920">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7173971">package</span>&nbsp;<span class="ident" id="7173979">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7173984">import</span>&nbsp;<span class="op" id="7173991">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7173994">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7174003">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7174022">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7174030">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7174040">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7174043">type</span>&nbsp;<span class="ident" id="7174048">golden</span>&nbsp;<span class="keyword" id="7174055">struct</span>&nbsp;<span class="op" id="7174062">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7174065">sum</span>&nbsp;&nbsp;<span class="op" id="7174070">[</span><span class="op" id="7174071">]</span><span class="builtintype" id="7174072">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7174078">text</span>&nbsp;<span class="builtintype" id="7174083">string</span><br>
<span class="lineno"></span><span class="op" id="7174090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7174093">var</span>&nbsp;<span class="ident" id="7174097">golden32</span>&nbsp;<span class="op" id="7174106">=</span>&nbsp;<span class="op" id="7174108">[</span><span class="op" id="7174109">]</span><span class="ident" id="7174110">golden</span><span class="op" id="7174116">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174119">{</span><span class="op" id="7174120">[</span><span class="op" id="7174121">]</span><span class="builtintype" id="7174122">byte</span><span class="op" id="7174126">{</span><span class="num" id="7174127">0x81</span><span class="op" id="7174131">,</span>&nbsp;<span class="num" id="7174133">0x1c</span><span class="op" id="7174137">,</span>&nbsp;<span class="num" id="7174139">0x9d</span><span class="op" id="7174143">,</span>&nbsp;<span class="num" id="7174145">0xc5</span><span class="op" id="7174149">}</span><span class="op" id="7174150">,</span>&nbsp;<span class="string" id="7174152">&#34;&#34;</span><span class="op" id="7174154">}</span><span class="op" id="7174155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174158">{</span><span class="op" id="7174159">[</span><span class="op" id="7174160">]</span><span class="builtintype" id="7174161">byte</span><span class="op" id="7174165">{</span><span class="num" id="7174166">0x05</span><span class="op" id="7174170">,</span>&nbsp;<span class="num" id="7174172">0x0c</span><span class="op" id="7174176">,</span>&nbsp;<span class="num" id="7174178">0x5d</span><span class="op" id="7174182">,</span>&nbsp;<span class="num" id="7174184">0x7e</span><span class="op" id="7174188">}</span><span class="op" id="7174189">,</span>&nbsp;<span class="string" id="7174191">&#34;a&#34;</span><span class="op" id="7174194">}</span><span class="op" id="7174195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174198">{</span><span class="op" id="7174199">[</span><span class="op" id="7174200">]</span><span class="builtintype" id="7174201">byte</span><span class="op" id="7174205">{</span><span class="num" id="7174206">0x70</span><span class="op" id="7174210">,</span>&nbsp;<span class="num" id="7174212">0x77</span><span class="op" id="7174216">,</span>&nbsp;<span class="num" id="7174218">0x2d</span><span class="op" id="7174222">,</span>&nbsp;<span class="num" id="7174224">0x38</span><span class="op" id="7174228">}</span><span class="op" id="7174229">,</span>&nbsp;<span class="string" id="7174231">&#34;ab&#34;</span><span class="op" id="7174235">}</span><span class="op" id="7174236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174239">{</span><span class="op" id="7174240">[</span><span class="op" id="7174241">]</span><span class="builtintype" id="7174242">byte</span><span class="op" id="7174246">{</span><span class="num" id="7174247">0x43</span><span class="op" id="7174251">,</span>&nbsp;<span class="num" id="7174253">0x9c</span><span class="op" id="7174257">,</span>&nbsp;<span class="num" id="7174259">0x2f</span><span class="op" id="7174263">,</span>&nbsp;<span class="num" id="7174265">0x4b</span><span class="op" id="7174269">}</span><span class="op" id="7174270">,</span>&nbsp;<span class="string" id="7174272">&#34;abc&#34;</span><span class="op" id="7174277">}</span><span class="op" id="7174278">,</span><br>
<span class="lineno"></span><span class="op" id="7174280">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7174283">var</span>&nbsp;<span class="ident" id="7174287">golden32a</span>&nbsp;<span class="op" id="7174297">=</span>&nbsp;<span class="op" id="7174299">[</span><span class="op" id="7174300">]</span><span class="ident" id="7174301">golden</span><span class="op" id="7174307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174310">{</span><span class="op" id="7174311">[</span><span class="op" id="7174312">]</span><span class="builtintype" id="7174313">byte</span><span class="op" id="7174317">{</span><span class="num" id="7174318">0x81</span><span class="op" id="7174322">,</span>&nbsp;<span class="num" id="7174324">0x1c</span><span class="op" id="7174328">,</span>&nbsp;<span class="num" id="7174330">0x9d</span><span class="op" id="7174334">,</span>&nbsp;<span class="num" id="7174336">0xc5</span><span class="op" id="7174340">}</span><span class="op" id="7174341">,</span>&nbsp;<span class="string" id="7174343">&#34;&#34;</span><span class="op" id="7174345">}</span><span class="op" id="7174346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174349">{</span><span class="op" id="7174350">[</span><span class="op" id="7174351">]</span><span class="builtintype" id="7174352">byte</span><span class="op" id="7174356">{</span><span class="num" id="7174357">0xe4</span><span class="op" id="7174361">,</span>&nbsp;<span class="num" id="7174363">0x0c</span><span class="op" id="7174367">,</span>&nbsp;<span class="num" id="7174369">0x29</span><span class="op" id="7174373">,</span>&nbsp;<span class="num" id="7174375">0x2c</span><span class="op" id="7174379">}</span><span class="op" id="7174380">,</span>&nbsp;<span class="string" id="7174382">&#34;a&#34;</span><span class="op" id="7174385">}</span><span class="op" id="7174386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174389">{</span><span class="op" id="7174390">[</span><span class="op" id="7174391">]</span><span class="builtintype" id="7174392">byte</span><span class="op" id="7174396">{</span><span class="num" id="7174397">0x4d</span><span class="op" id="7174401">,</span>&nbsp;<span class="num" id="7174403">0x25</span><span class="op" id="7174407">,</span>&nbsp;<span class="num" id="7174409">0x05</span><span class="op" id="7174413">,</span>&nbsp;<span class="num" id="7174415">0xca</span><span class="op" id="7174419">}</span><span class="op" id="7174420">,</span>&nbsp;<span class="string" id="7174422">&#34;ab&#34;</span><span class="op" id="7174426">}</span><span class="op" id="7174427">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174430">{</span><span class="op" id="7174431">[</span><span class="op" id="7174432">]</span><span class="builtintype" id="7174433">byte</span><span class="op" id="7174437">{</span><span class="num" id="7174438">0x1a</span><span class="op" id="7174442">,</span>&nbsp;<span class="num" id="7174444">0x47</span><span class="op" id="7174448">,</span>&nbsp;<span class="num" id="7174450">0xe9</span><span class="op" id="7174454">,</span>&nbsp;<span class="num" id="7174456">0x0b</span><span class="op" id="7174460">}</span><span class="op" id="7174461">,</span>&nbsp;<span class="string" id="7174463">&#34;abc&#34;</span><span class="op" id="7174468">}</span><span class="op" id="7174469">,</span><br>
<span class="lineno"></span><span class="op" id="7174471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7174474">var</span>&nbsp;<span class="ident" id="7174478">golden64</span>&nbsp;<span class="op" id="7174487">=</span>&nbsp;<span class="op" id="7174489">[</span><span class="op" id="7174490">]</span><span class="ident" id="7174491">golden</span><span class="op" id="7174497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174500">{</span><span class="op" id="7174501">[</span><span class="op" id="7174502">]</span><span class="builtintype" id="7174503">byte</span><span class="op" id="7174507">{</span><span class="num" id="7174508">0xcb</span><span class="op" id="7174512">,</span>&nbsp;<span class="num" id="7174514">0xf2</span><span class="op" id="7174518">,</span>&nbsp;<span class="num" id="7174520">0x9c</span><span class="op" id="7174524">,</span>&nbsp;<span class="num" id="7174526">0xe4</span><span class="op" id="7174530">,</span>&nbsp;<span class="num" id="7174532">0x84</span><span class="op" id="7174536">,</span>&nbsp;<span class="num" id="7174538">0x22</span><span class="op" id="7174542">,</span>&nbsp;<span class="num" id="7174544">0x23</span><span class="op" id="7174548">,</span>&nbsp;<span class="num" id="7174550">0x25</span><span class="op" id="7174554">}</span><span class="op" id="7174555">,</span>&nbsp;<span class="string" id="7174557">&#34;&#34;</span><span class="op" id="7174559">}</span><span class="op" id="7174560">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174563">{</span><span class="op" id="7174564">[</span><span class="op" id="7174565">]</span><span class="builtintype" id="7174566">byte</span><span class="op" id="7174570">{</span><span class="num" id="7174571">0xaf</span><span class="op" id="7174575">,</span>&nbsp;<span class="num" id="7174577">0x63</span><span class="op" id="7174581">,</span>&nbsp;<span class="num" id="7174583">0xbd</span><span class="op" id="7174587">,</span>&nbsp;<span class="num" id="7174589">0x4c</span><span class="op" id="7174593">,</span>&nbsp;<span class="num" id="7174595">0x86</span><span class="op" id="7174599">,</span>&nbsp;<span class="num" id="7174601">0x01</span><span class="op" id="7174605">,</span>&nbsp;<span class="num" id="7174607">0xb7</span><span class="op" id="7174611">,</span>&nbsp;<span class="num" id="7174613">0xbe</span><span class="op" id="7174617">}</span><span class="op" id="7174618">,</span>&nbsp;<span class="string" id="7174620">&#34;a&#34;</span><span class="op" id="7174623">}</span><span class="op" id="7174624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174627">{</span><span class="op" id="7174628">[</span><span class="op" id="7174629">]</span><span class="builtintype" id="7174630">byte</span><span class="op" id="7174634">{</span><span class="num" id="7174635">0x08</span><span class="op" id="7174639">,</span>&nbsp;<span class="num" id="7174641">0x32</span><span class="op" id="7174645">,</span>&nbsp;<span class="num" id="7174647">0x67</span><span class="op" id="7174651">,</span>&nbsp;<span class="num" id="7174653">0x07</span><span class="op" id="7174657">,</span>&nbsp;<span class="num" id="7174659">0xb4</span><span class="op" id="7174663">,</span>&nbsp;<span class="num" id="7174665">0xeb</span><span class="op" id="7174669">,</span>&nbsp;<span class="num" id="7174671">0x37</span><span class="op" id="7174675">,</span>&nbsp;<span class="num" id="7174677">0xb8</span><span class="op" id="7174681">}</span><span class="op" id="7174682">,</span>&nbsp;<span class="string" id="7174684">&#34;ab&#34;</span><span class="op" id="7174688">}</span><span class="op" id="7174689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174692">{</span><span class="op" id="7174693">[</span><span class="op" id="7174694">]</span><span class="builtintype" id="7174695">byte</span><span class="op" id="7174699">{</span><span class="num" id="7174700">0xd8</span><span class="op" id="7174704">,</span>&nbsp;<span class="num" id="7174706">0xdc</span><span class="op" id="7174710">,</span>&nbsp;<span class="num" id="7174712">0xca</span><span class="op" id="7174716">,</span>&nbsp;<span class="num" id="7174718">0x18</span><span class="op" id="7174722">,</span>&nbsp;<span class="num" id="7174724">0x6b</span><span class="op" id="7174728">,</span>&nbsp;<span class="num" id="7174730">0xaf</span><span class="op" id="7174734">,</span>&nbsp;<span class="num" id="7174736">0xad</span><span class="op" id="7174740">,</span>&nbsp;<span class="num" id="7174742">0xcb</span><span class="op" id="7174746">}</span><span class="op" id="7174747">,</span>&nbsp;<span class="string" id="7174749">&#34;abc&#34;</span><span class="op" id="7174754">}</span><span class="op" id="7174755">,</span><br>
<span class="lineno"></span><span class="op" id="7174757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7174760">var</span>&nbsp;<span class="ident" id="7174764">golden64a</span>&nbsp;<span class="op" id="7174774">=</span>&nbsp;<span class="op" id="7174776">[</span><span class="op" id="7174777">]</span><span class="ident" id="7174778">golden</span><span class="op" id="7174784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174787">{</span><span class="op" id="7174788">[</span><span class="op" id="7174789">]</span><span class="builtintype" id="7174790">byte</span><span class="op" id="7174794">{</span><span class="num" id="7174795">0xcb</span><span class="op" id="7174799">,</span>&nbsp;<span class="num" id="7174801">0xf2</span><span class="op" id="7174805">,</span>&nbsp;<span class="num" id="7174807">0x9c</span><span class="op" id="7174811">,</span>&nbsp;<span class="num" id="7174813">0xe4</span><span class="op" id="7174817">,</span>&nbsp;<span class="num" id="7174819">0x84</span><span class="op" id="7174823">,</span>&nbsp;<span class="num" id="7174825">0x22</span><span class="op" id="7174829">,</span>&nbsp;<span class="num" id="7174831">0x23</span><span class="op" id="7174835">,</span>&nbsp;<span class="num" id="7174837">0x25</span><span class="op" id="7174841">}</span><span class="op" id="7174842">,</span>&nbsp;<span class="string" id="7174844">&#34;&#34;</span><span class="op" id="7174846">}</span><span class="op" id="7174847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174850">{</span><span class="op" id="7174851">[</span><span class="op" id="7174852">]</span><span class="builtintype" id="7174853">byte</span><span class="op" id="7174857">{</span><span class="num" id="7174858">0xaf</span><span class="op" id="7174862">,</span>&nbsp;<span class="num" id="7174864">0x63</span><span class="op" id="7174868">,</span>&nbsp;<span class="num" id="7174870">0xdc</span><span class="op" id="7174874">,</span>&nbsp;<span class="num" id="7174876">0x4c</span><span class="op" id="7174880">,</span>&nbsp;<span class="num" id="7174882">0x86</span><span class="op" id="7174886">,</span>&nbsp;<span class="num" id="7174888">0x01</span><span class="op" id="7174892">,</span>&nbsp;<span class="num" id="7174894">0xec</span><span class="op" id="7174898">,</span>&nbsp;<span class="num" id="7174900">0x8c</span><span class="op" id="7174904">}</span><span class="op" id="7174905">,</span>&nbsp;<span class="string" id="7174907">&#34;a&#34;</span><span class="op" id="7174910">}</span><span class="op" id="7174911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174914">{</span><span class="op" id="7174915">[</span><span class="op" id="7174916">]</span><span class="builtintype" id="7174917">byte</span><span class="op" id="7174921">{</span><span class="num" id="7174922">0x08</span><span class="op" id="7174926">,</span>&nbsp;<span class="num" id="7174928">0x9c</span><span class="op" id="7174932">,</span>&nbsp;<span class="num" id="7174934">0x44</span><span class="op" id="7174938">,</span>&nbsp;<span class="num" id="7174940">0x07</span><span class="op" id="7174944">,</span>&nbsp;<span class="num" id="7174946">0xb5</span><span class="op" id="7174950">,</span>&nbsp;<span class="num" id="7174952">0x45</span><span class="op" id="7174956">,</span>&nbsp;<span class="num" id="7174958">0x98</span><span class="op" id="7174962">,</span>&nbsp;<span class="num" id="7174964">0x6a</span><span class="op" id="7174968">}</span><span class="op" id="7174969">,</span>&nbsp;<span class="string" id="7174971">&#34;ab&#34;</span><span class="op" id="7174975">}</span><span class="op" id="7174976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174979">{</span><span class="op" id="7174980">[</span><span class="op" id="7174981">]</span><span class="builtintype" id="7174982">byte</span><span class="op" id="7174986">{</span><span class="num" id="7174987">0xe7</span><span class="op" id="7174991">,</span>&nbsp;<span class="num" id="7174993">0x1f</span><span class="op" id="7174997">,</span>&nbsp;<span class="num" id="7174999">0xa2</span><span class="op" id="7175003">,</span>&nbsp;<span class="num" id="7175005">0x19</span><span class="op" id="7175009">,</span>&nbsp;<span class="num" id="7175011">0x05</span><span class="op" id="7175015">,</span>&nbsp;<span class="num" id="7175017">0x41</span><span class="op" id="7175021">,</span>&nbsp;<span class="num" id="7175023">0x57</span><span class="op" id="7175027">,</span>&nbsp;<span class="num" id="7175029">0x4b</span><span class="op" id="7175033">}</span><span class="op" id="7175034">,</span>&nbsp;<span class="string" id="7175036">&#34;abc&#34;</span><span class="op" id="7175041">}</span><span class="op" id="7175042">,</span><br>
<span class="lineno">45</span><span class="op" id="7175044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175047">func</span>&nbsp;<span class="ident" id="7175052">TestGolden32</span><span class="op" id="7175064">(</span><span class="ident" id="7175065">t</span>&nbsp;<span class="op" id="7175067">*</span><span class="ident" id="7175068">testing</span><span class="op" id="7175075">.</span><span class="ident" id="7175076">T</span><span class="op" id="7175077">)</span>&nbsp;<span class="op" id="7175079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175082">testGolden</span><span class="op" id="7175092">(</span><span class="ident" id="7175093">t</span><span class="op" id="7175094">,</span>&nbsp;<span class="ident" id="7175096">New32</span><span class="op" id="7175101">(</span><span class="op" id="7175102">)</span><span class="op" id="7175103">,</span>&nbsp;<span class="ident" id="7175105">golden32</span><span class="op" id="7175113">)</span><br>
<span class="lineno"></span><span class="op" id="7175115">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7175118">func</span>&nbsp;<span class="ident" id="7175123">TestGolden32a</span><span class="op" id="7175136">(</span><span class="ident" id="7175137">t</span>&nbsp;<span class="op" id="7175139">*</span><span class="ident" id="7175140">testing</span><span class="op" id="7175147">.</span><span class="ident" id="7175148">T</span><span class="op" id="7175149">)</span>&nbsp;<span class="op" id="7175151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175154">testGolden</span><span class="op" id="7175164">(</span><span class="ident" id="7175165">t</span><span class="op" id="7175166">,</span>&nbsp;<span class="ident" id="7175168">New32a</span><span class="op" id="7175174">(</span><span class="op" id="7175175">)</span><span class="op" id="7175176">,</span>&nbsp;<span class="ident" id="7175178">golden32a</span><span class="op" id="7175187">)</span><br>
<span class="lineno"></span><span class="op" id="7175189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7175192">func</span>&nbsp;<span class="ident" id="7175197">TestGolden64</span><span class="op" id="7175209">(</span><span class="ident" id="7175210">t</span>&nbsp;<span class="op" id="7175212">*</span><span class="ident" id="7175213">testing</span><span class="op" id="7175220">.</span><span class="ident" id="7175221">T</span><span class="op" id="7175222">)</span>&nbsp;<span class="op" id="7175224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175227">testGolden</span><span class="op" id="7175237">(</span><span class="ident" id="7175238">t</span><span class="op" id="7175239">,</span>&nbsp;<span class="ident" id="7175241">New64</span><span class="op" id="7175246">(</span><span class="op" id="7175247">)</span><span class="op" id="7175248">,</span>&nbsp;<span class="ident" id="7175250">golden64</span><span class="op" id="7175258">)</span><br>
<span class="lineno"></span><span class="op" id="7175260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175263">func</span>&nbsp;<span class="ident" id="7175268">TestGolden64a</span><span class="op" id="7175281">(</span><span class="ident" id="7175282">t</span>&nbsp;<span class="op" id="7175284">*</span><span class="ident" id="7175285">testing</span><span class="op" id="7175292">.</span><span class="ident" id="7175293">T</span><span class="op" id="7175294">)</span>&nbsp;<span class="op" id="7175296">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175299">testGolden</span><span class="op" id="7175309">(</span><span class="ident" id="7175310">t</span><span class="op" id="7175311">,</span>&nbsp;<span class="ident" id="7175313">New64a</span><span class="op" id="7175319">(</span><span class="op" id="7175320">)</span><span class="op" id="7175321">,</span>&nbsp;<span class="ident" id="7175323">golden64a</span><span class="op" id="7175332">)</span><br>
<span class="lineno"></span><span class="op" id="7175334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175337">func</span>&nbsp;<span class="ident" id="7175342">testGolden</span><span class="op" id="7175352">(</span><span class="ident" id="7175353">t</span>&nbsp;<span class="op" id="7175355">*</span><span class="ident" id="7175356">testing</span><span class="op" id="7175363">.</span><span class="ident" id="7175364">T</span><span class="op" id="7175365">,</span>&nbsp;<span class="ident" id="7175367">hash</span>&nbsp;<span class="ident" id="7175372">hash</span><span class="op" id="7175376">.</span><span class="ident" id="7175377">Hash</span><span class="op" id="7175381">,</span>&nbsp;<span class="ident" id="7175383">gold</span>&nbsp;<span class="op" id="7175388">[</span><span class="op" id="7175389">]</span><span class="ident" id="7175390">golden</span><span class="op" id="7175396">)</span>&nbsp;<span class="op" id="7175398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175401">for</span>&nbsp;<span class="ident" id="7175405">_</span><span class="op" id="7175406">,</span>&nbsp;<span class="ident" id="7175408">g</span>&nbsp;<span class="op" id="7175410">:=</span>&nbsp;<span class="keyword" id="7175413">range</span>&nbsp;<span class="ident" id="7175419">gold</span>&nbsp;<span class="op" id="7175424">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175428">hash</span><span class="op" id="7175432">.</span><span class="ident" id="7175433">Reset</span><span class="op" id="7175438">(</span><span class="op" id="7175439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175443">done</span><span class="op" id="7175447">,</span>&nbsp;<span class="builtintype" id="7175449">error</span>&nbsp;<span class="op" id="7175455">:=</span>&nbsp;<span class="ident" id="7175458">hash</span><span class="op" id="7175462">.</span><span class="ident" id="7175463">Write</span><span class="op" id="7175468">(</span><span class="op" id="7175469">[</span><span class="op" id="7175470">]</span><span class="builtintype" id="7175471">byte</span><span class="op" id="7175475">(</span><span class="ident" id="7175476">g</span><span class="op" id="7175477">.</span><span class="ident" id="7175478">text</span><span class="op" id="7175482">)</span><span class="op" id="7175483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175487">if</span>&nbsp;<span class="builtintype" id="7175490">error</span>&nbsp;<span class="op" id="7175496">!=</span>&nbsp;<span class="builtintype" id="7175499">nil</span>&nbsp;<span class="op" id="7175503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175508">t</span><span class="op" id="7175509">.</span><span class="ident" id="7175510">Fatalf</span><span class="op" id="7175516">(</span><span class="string" id="7175517">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7175534">,</span>&nbsp;<span class="builtintype" id="7175536">error</span><span class="op" id="7175541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175545">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175549">if</span>&nbsp;<span class="ident" id="7175552">done</span>&nbsp;<span class="op" id="7175557">!=</span>&nbsp;<span class="builtinfunc" id="7175560">len</span><span class="op" id="7175563">(</span><span class="ident" id="7175564">g</span><span class="op" id="7175565">.</span><span class="ident" id="7175566">text</span><span class="op" id="7175570">)</span>&nbsp;<span class="op" id="7175572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175577">t</span><span class="op" id="7175578">.</span><span class="ident" id="7175579">Fatalf</span><span class="op" id="7175585">(</span><span class="string" id="7175586">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7175617">,</span>&nbsp;<span class="ident" id="7175619">done</span><span class="op" id="7175623">,</span>&nbsp;<span class="builtinfunc" id="7175625">len</span><span class="op" id="7175628">(</span><span class="ident" id="7175629">g</span><span class="op" id="7175630">.</span><span class="ident" id="7175631">text</span><span class="op" id="7175635">)</span><span class="op" id="7175636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7175644">if</span>&nbsp;<span class="ident" id="7175647">actual</span>&nbsp;<span class="op" id="7175654">:=</span>&nbsp;<span class="ident" id="7175657">hash</span><span class="op" id="7175661">.</span><span class="ident" id="7175662">Sum</span><span class="op" id="7175665">(</span><span class="builtintype" id="7175666">nil</span><span class="op" id="7175669">)</span><span class="op" id="7175670">;</span>&nbsp;<span class="op" id="7175672">!</span><span class="ident" id="7175673">bytes</span><span class="op" id="7175678">.</span><span class="ident" id="7175679">Equal</span><span class="op" id="7175684">(</span><span class="ident" id="7175685">g</span><span class="op" id="7175686">.</span><span class="ident" id="7175687">sum</span><span class="op" id="7175690">,</span>&nbsp;<span class="ident" id="7175692">actual</span><span class="op" id="7175698">)</span>&nbsp;<span class="op" id="7175700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175705">t</span><span class="op" id="7175706">.</span><span class="ident" id="7175707">Errorf</span><span class="op" id="7175713">(</span><span class="string" id="7175714">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7175741">,</span>&nbsp;<span class="ident" id="7175743">g</span><span class="op" id="7175744">.</span><span class="ident" id="7175745">text</span><span class="op" id="7175749">,</span>&nbsp;<span class="ident" id="7175751">actual</span><span class="op" id="7175757">,</span>&nbsp;<span class="ident" id="7175759">g</span><span class="op" id="7175760">.</span><span class="ident" id="7175761">sum</span><span class="op" id="7175764">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175771">}</span><br>
<span class="lineno"></span><span class="op" id="7175773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175776">func</span>&nbsp;<span class="ident" id="7175781">TestIntegrity32</span><span class="op" id="7175796">(</span><span class="ident" id="7175797">t</span>&nbsp;<span class="op" id="7175799">*</span><span class="ident" id="7175800">testing</span><span class="op" id="7175807">.</span><span class="ident" id="7175808">T</span><span class="op" id="7175809">)</span>&nbsp;<span class="op" id="7175811">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175814">testIntegrity</span><span class="op" id="7175827">(</span><span class="ident" id="7175828">t</span><span class="op" id="7175829">,</span>&nbsp;<span class="ident" id="7175831">New32</span><span class="op" id="7175836">(</span><span class="op" id="7175837">)</span><span class="op" id="7175838">)</span><br>
<span class="lineno"></span><span class="op" id="7175840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175843">func</span>&nbsp;<span class="ident" id="7175848">TestIntegrity32a</span><span class="op" id="7175864">(</span><span class="ident" id="7175865">t</span>&nbsp;<span class="op" id="7175867">*</span><span class="ident" id="7175868">testing</span><span class="op" id="7175875">.</span><span class="ident" id="7175876">T</span><span class="op" id="7175877">)</span>&nbsp;<span class="op" id="7175879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175882">testIntegrity</span><span class="op" id="7175895">(</span><span class="ident" id="7175896">t</span><span class="op" id="7175897">,</span>&nbsp;<span class="ident" id="7175899">New32a</span><span class="op" id="7175905">(</span><span class="op" id="7175906">)</span><span class="op" id="7175907">)</span><br>
<span class="lineno">85</span><span class="op" id="7175909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7175912">func</span>&nbsp;<span class="ident" id="7175917">TestIntegrity64</span><span class="op" id="7175932">(</span><span class="ident" id="7175933">t</span>&nbsp;<span class="op" id="7175935">*</span><span class="ident" id="7175936">testing</span><span class="op" id="7175943">.</span><span class="ident" id="7175944">T</span><span class="op" id="7175945">)</span>&nbsp;<span class="op" id="7175947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7175950">testIntegrity</span><span class="op" id="7175963">(</span><span class="ident" id="7175964">t</span><span class="op" id="7175965">,</span>&nbsp;<span class="ident" id="7175967">New64</span><span class="op" id="7175972">(</span><span class="op" id="7175973">)</span><span class="op" id="7175974">)</span><br>
<span class="lineno"></span><span class="op" id="7175976">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7175979">func</span>&nbsp;<span class="ident" id="7175984">TestIntegrity64a</span><span class="op" id="7176000">(</span><span class="ident" id="7176001">t</span>&nbsp;<span class="op" id="7176003">*</span><span class="ident" id="7176004">testing</span><span class="op" id="7176011">.</span><span class="ident" id="7176012">T</span><span class="op" id="7176013">)</span>&nbsp;<span class="op" id="7176015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176018">testIntegrity</span><span class="op" id="7176031">(</span><span class="ident" id="7176032">t</span><span class="op" id="7176033">,</span>&nbsp;<span class="ident" id="7176035">New64a</span><span class="op" id="7176041">(</span><span class="op" id="7176042">)</span><span class="op" id="7176043">)</span><br>
<span class="lineno"></span><span class="op" id="7176045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7176048">func</span>&nbsp;<span class="ident" id="7176053">testIntegrity</span><span class="op" id="7176066">(</span><span class="ident" id="7176067">t</span>&nbsp;<span class="op" id="7176069">*</span><span class="ident" id="7176070">testing</span><span class="op" id="7176077">.</span><span class="ident" id="7176078">T</span><span class="op" id="7176079">,</span>&nbsp;<span class="ident" id="7176081">h</span>&nbsp;<span class="ident" id="7176083">hash</span><span class="op" id="7176087">.</span><span class="ident" id="7176088">Hash</span><span class="op" id="7176092">)</span>&nbsp;<span class="op" id="7176094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176097">data</span>&nbsp;<span class="op" id="7176102">:=</span>&nbsp;<span class="op" id="7176105">[</span><span class="op" id="7176106">]</span><span class="builtintype" id="7176107">byte</span><span class="op" id="7176111">{</span><span class="string" id="7176112">&#39;1&#39;</span><span class="op" id="7176115">,</span>&nbsp;<span class="string" id="7176117">&#39;2&#39;</span><span class="op" id="7176120">,</span>&nbsp;<span class="num" id="7176122">3</span><span class="op" id="7176123">,</span>&nbsp;<span class="num" id="7176125">4</span><span class="op" id="7176126">,</span>&nbsp;<span class="num" id="7176128">5</span><span class="op" id="7176129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176132">h</span><span class="op" id="7176133">.</span><span class="ident" id="7176134">Write</span><span class="op" id="7176139">(</span><span class="ident" id="7176140">data</span><span class="op" id="7176144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176147">sum</span>&nbsp;<span class="op" id="7176151">:=</span>&nbsp;<span class="ident" id="7176154">h</span><span class="op" id="7176155">.</span><span class="ident" id="7176156">Sum</span><span class="op" id="7176159">(</span><span class="builtintype" id="7176160">nil</span><span class="op" id="7176163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176167">if</span>&nbsp;<span class="ident" id="7176170">size</span>&nbsp;<span class="op" id="7176175">:=</span>&nbsp;<span class="ident" id="7176178">h</span><span class="op" id="7176179">.</span><span class="ident" id="7176180">Size</span><span class="op" id="7176184">(</span><span class="op" id="7176185">)</span><span class="op" id="7176186">;</span>&nbsp;<span class="ident" id="7176188">size</span>&nbsp;<span class="op" id="7176193">!=</span>&nbsp;<span class="builtinfunc" id="7176196">len</span><span class="op" id="7176199">(</span><span class="ident" id="7176200">sum</span><span class="op" id="7176203">)</span>&nbsp;<span class="op" id="7176205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176209">t</span><span class="op" id="7176210">.</span><span class="ident" id="7176211">Fatalf</span><span class="op" id="7176217">(</span><span class="string" id="7176218">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7176247">,</span>&nbsp;<span class="ident" id="7176249">size</span><span class="op" id="7176253">,</span>&nbsp;<span class="builtinfunc" id="7176255">len</span><span class="op" id="7176258">(</span><span class="ident" id="7176259">sum</span><span class="op" id="7176262">)</span><span class="op" id="7176263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176270">if</span>&nbsp;<span class="ident" id="7176273">a</span>&nbsp;<span class="op" id="7176275">:=</span>&nbsp;<span class="ident" id="7176278">h</span><span class="op" id="7176279">.</span><span class="ident" id="7176280">Sum</span><span class="op" id="7176283">(</span><span class="builtintype" id="7176284">nil</span><span class="op" id="7176287">)</span><span class="op" id="7176288">;</span>&nbsp;<span class="op" id="7176290">!</span><span class="ident" id="7176291">bytes</span><span class="op" id="7176296">.</span><span class="ident" id="7176297">Equal</span><span class="op" id="7176302">(</span><span class="ident" id="7176303">sum</span><span class="op" id="7176306">,</span>&nbsp;<span class="ident" id="7176308">a</span><span class="op" id="7176309">)</span>&nbsp;<span class="op" id="7176311">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176315">t</span><span class="op" id="7176316">.</span><span class="ident" id="7176317">Fatalf</span><span class="op" id="7176323">(</span><span class="string" id="7176324">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7176361">,</span>&nbsp;<span class="ident" id="7176363">sum</span><span class="op" id="7176366">,</span>&nbsp;<span class="ident" id="7176368">a</span><span class="op" id="7176369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176376">h</span><span class="op" id="7176377">.</span><span class="ident" id="7176378">Reset</span><span class="op" id="7176383">(</span><span class="op" id="7176384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176387">h</span><span class="op" id="7176388">.</span><span class="ident" id="7176389">Write</span><span class="op" id="7176394">(</span><span class="ident" id="7176395">data</span><span class="op" id="7176399">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176402">if</span>&nbsp;<span class="ident" id="7176405">a</span>&nbsp;<span class="op" id="7176407">:=</span>&nbsp;<span class="ident" id="7176410">h</span><span class="op" id="7176411">.</span><span class="ident" id="7176412">Sum</span><span class="op" id="7176415">(</span><span class="builtintype" id="7176416">nil</span><span class="op" id="7176419">)</span><span class="op" id="7176420">;</span>&nbsp;<span class="op" id="7176422">!</span><span class="ident" id="7176423">bytes</span><span class="op" id="7176428">.</span><span class="ident" id="7176429">Equal</span><span class="op" id="7176434">(</span><span class="ident" id="7176435">sum</span><span class="op" id="7176438">,</span>&nbsp;<span class="ident" id="7176440">a</span><span class="op" id="7176441">)</span>&nbsp;<span class="op" id="7176443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176447">t</span><span class="op" id="7176448">.</span><span class="ident" id="7176449">Fatalf</span><span class="op" id="7176455">(</span><span class="string" id="7176456">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7176498">,</span>&nbsp;<span class="ident" id="7176500">sum</span><span class="op" id="7176503">,</span>&nbsp;<span class="ident" id="7176505">a</span><span class="op" id="7176506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176513">h</span><span class="op" id="7176514">.</span><span class="ident" id="7176515">Reset</span><span class="op" id="7176520">(</span><span class="op" id="7176521">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176524">h</span><span class="op" id="7176525">.</span><span class="ident" id="7176526">Write</span><span class="op" id="7176531">(</span><span class="ident" id="7176532">data</span><span class="op" id="7176536">[</span><span class="op" id="7176537">:</span><span class="num" id="7176538">2</span><span class="op" id="7176539">]</span><span class="op" id="7176540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176543">h</span><span class="op" id="7176544">.</span><span class="ident" id="7176545">Write</span><span class="op" id="7176550">(</span><span class="ident" id="7176551">data</span><span class="op" id="7176555">[</span><span class="num" id="7176556">2</span><span class="op" id="7176557">:</span><span class="op" id="7176558">]</span><span class="op" id="7176559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176562">if</span>&nbsp;<span class="ident" id="7176565">a</span>&nbsp;<span class="op" id="7176567">:=</span>&nbsp;<span class="ident" id="7176570">h</span><span class="op" id="7176571">.</span><span class="ident" id="7176572">Sum</span><span class="op" id="7176575">(</span><span class="builtintype" id="7176576">nil</span><span class="op" id="7176579">)</span><span class="op" id="7176580">;</span>&nbsp;<span class="op" id="7176582">!</span><span class="ident" id="7176583">bytes</span><span class="op" id="7176588">.</span><span class="ident" id="7176589">Equal</span><span class="op" id="7176594">(</span><span class="ident" id="7176595">sum</span><span class="op" id="7176598">,</span>&nbsp;<span class="ident" id="7176600">a</span><span class="op" id="7176601">)</span>&nbsp;<span class="op" id="7176603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176607">t</span><span class="op" id="7176608">.</span><span class="ident" id="7176609">Fatalf</span><span class="op" id="7176615">(</span><span class="string" id="7176616">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7176665">,</span>&nbsp;<span class="ident" id="7176667">sum</span><span class="op" id="7176670">,</span>&nbsp;<span class="ident" id="7176672">a</span><span class="op" id="7176673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176676">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176680">switch</span>&nbsp;<span class="ident" id="7176687">h</span><span class="op" id="7176688">.</span><span class="ident" id="7176689">Size</span><span class="op" id="7176693">(</span><span class="op" id="7176694">)</span>&nbsp;<span class="op" id="7176696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176699">case</span>&nbsp;<span class="num" id="7176704">4</span><span class="op" id="7176705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176709">sum32</span>&nbsp;<span class="op" id="7176715">:=</span>&nbsp;<span class="ident" id="7176718">h</span><span class="op" id="7176719">.</span><span class="op" id="7176720">(</span><span class="ident" id="7176721">hash</span><span class="op" id="7176725">.</span><span class="ident" id="7176726">Hash32</span><span class="op" id="7176732">)</span><span class="op" id="7176733">.</span><span class="ident" id="7176734">Sum32</span><span class="op" id="7176739">(</span><span class="op" id="7176740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176744">if</span>&nbsp;<span class="ident" id="7176747">sum32</span>&nbsp;<span class="op" id="7176753">!=</span>&nbsp;<span class="ident" id="7176756">binary</span><span class="op" id="7176762">.</span><span class="ident" id="7176763">BigEndian</span><span class="op" id="7176772">.</span><span class="ident" id="7176773">Uint32</span><span class="op" id="7176779">(</span><span class="ident" id="7176780">sum</span><span class="op" id="7176783">)</span>&nbsp;<span class="op" id="7176785">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176790">t</span><span class="op" id="7176791">.</span><span class="ident" id="7176792">Fatalf</span><span class="op" id="7176798">(</span><span class="string" id="7176799">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7176829">,</span>&nbsp;<span class="ident" id="7176831">sum</span><span class="op" id="7176834">,</span>&nbsp;<span class="ident" id="7176836">sum32</span><span class="op" id="7176841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176848">case</span>&nbsp;<span class="num" id="7176853">8</span><span class="op" id="7176854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176858">sum64</span>&nbsp;<span class="op" id="7176864">:=</span>&nbsp;<span class="ident" id="7176867">h</span><span class="op" id="7176868">.</span><span class="op" id="7176869">(</span><span class="ident" id="7176870">hash</span><span class="op" id="7176874">.</span><span class="ident" id="7176875">Hash64</span><span class="op" id="7176881">)</span><span class="op" id="7176882">.</span><span class="ident" id="7176883">Sum64</span><span class="op" id="7176888">(</span><span class="op" id="7176889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7176893">if</span>&nbsp;<span class="ident" id="7176896">sum64</span>&nbsp;<span class="op" id="7176902">!=</span>&nbsp;<span class="ident" id="7176905">binary</span><span class="op" id="7176911">.</span><span class="ident" id="7176912">BigEndian</span><span class="op" id="7176921">.</span><span class="ident" id="7176922">Uint64</span><span class="op" id="7176928">(</span><span class="ident" id="7176929">sum</span><span class="op" id="7176932">)</span>&nbsp;<span class="op" id="7176934">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7176939">t</span><span class="op" id="7176940">.</span><span class="ident" id="7176941">Fatalf</span><span class="op" id="7176947">(</span><span class="string" id="7176948">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7176978">,</span>&nbsp;<span class="ident" id="7176980">sum</span><span class="op" id="7176983">,</span>&nbsp;<span class="ident" id="7176985">sum64</span><span class="op" id="7176990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176997">}</span><br>
<span class="lineno"></span><span class="op" id="7176999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7177002">func</span>&nbsp;<span class="ident" id="7177007">BenchmarkFnv32KB</span><span class="op" id="7177023">(</span><span class="ident" id="7177024">b</span>&nbsp;<span class="op" id="7177026">*</span><span class="ident" id="7177027">testing</span><span class="op" id="7177034">.</span><span class="ident" id="7177035">B</span><span class="op" id="7177036">)</span>&nbsp;<span class="op" id="7177038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177041">benchmarkKB</span><span class="op" id="7177052">(</span><span class="ident" id="7177053">b</span><span class="op" id="7177054">,</span>&nbsp;<span class="ident" id="7177056">New32</span><span class="op" id="7177061">(</span><span class="op" id="7177062">)</span><span class="op" id="7177063">)</span><br>
<span class="lineno"></span><span class="op" id="7177065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177068">func</span>&nbsp;<span class="ident" id="7177073">BenchmarkFnv32aKB</span><span class="op" id="7177090">(</span><span class="ident" id="7177091">b</span>&nbsp;<span class="op" id="7177093">*</span><span class="ident" id="7177094">testing</span><span class="op" id="7177101">.</span><span class="ident" id="7177102">B</span><span class="op" id="7177103">)</span>&nbsp;<span class="op" id="7177105">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177108">benchmarkKB</span><span class="op" id="7177119">(</span><span class="ident" id="7177120">b</span><span class="op" id="7177121">,</span>&nbsp;<span class="ident" id="7177123">New32a</span><span class="op" id="7177129">(</span><span class="op" id="7177130">)</span><span class="op" id="7177131">)</span><br>
<span class="lineno"></span><span class="op" id="7177133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177136">func</span>&nbsp;<span class="ident" id="7177141">BenchmarkFnv64KB</span><span class="op" id="7177157">(</span><span class="ident" id="7177158">b</span>&nbsp;<span class="op" id="7177160">*</span><span class="ident" id="7177161">testing</span><span class="op" id="7177168">.</span><span class="ident" id="7177169">B</span><span class="op" id="7177170">)</span>&nbsp;<span class="op" id="7177172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177175">benchmarkKB</span><span class="op" id="7177186">(</span><span class="ident" id="7177187">b</span><span class="op" id="7177188">,</span>&nbsp;<span class="ident" id="7177190">New64</span><span class="op" id="7177195">(</span><span class="op" id="7177196">)</span><span class="op" id="7177197">)</span><br>
<span class="lineno">145</span><span class="op" id="7177199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177202">func</span>&nbsp;<span class="ident" id="7177207">BenchmarkFnv64aKB</span><span class="op" id="7177224">(</span><span class="ident" id="7177225">b</span>&nbsp;<span class="op" id="7177227">*</span><span class="ident" id="7177228">testing</span><span class="op" id="7177235">.</span><span class="ident" id="7177236">B</span><span class="op" id="7177237">)</span>&nbsp;<span class="op" id="7177239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177242">benchmarkKB</span><span class="op" id="7177253">(</span><span class="ident" id="7177254">b</span><span class="op" id="7177255">,</span>&nbsp;<span class="ident" id="7177257">New64a</span><span class="op" id="7177263">(</span><span class="op" id="7177264">)</span><span class="op" id="7177265">)</span><br>
<span class="lineno"></span><span class="op" id="7177267">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7177270">func</span>&nbsp;<span class="ident" id="7177275">benchmarkKB</span><span class="op" id="7177286">(</span><span class="ident" id="7177287">b</span>&nbsp;<span class="op" id="7177289">*</span><span class="ident" id="7177290">testing</span><span class="op" id="7177297">.</span><span class="ident" id="7177298">B</span><span class="op" id="7177299">,</span>&nbsp;<span class="ident" id="7177301">h</span>&nbsp;<span class="ident" id="7177303">hash</span><span class="op" id="7177307">.</span><span class="ident" id="7177308">Hash</span><span class="op" id="7177312">)</span>&nbsp;<span class="op" id="7177314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177317">b</span><span class="op" id="7177318">.</span><span class="ident" id="7177319">SetBytes</span><span class="op" id="7177327">(</span><span class="num" id="7177328">1024</span><span class="op" id="7177332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177335">data</span>&nbsp;<span class="op" id="7177340">:=</span>&nbsp;<span class="builtinfunc" id="7177343">make</span><span class="op" id="7177347">(</span><span class="op" id="7177348">[</span><span class="op" id="7177349">]</span><span class="builtintype" id="7177350">byte</span><span class="op" id="7177354">,</span>&nbsp;<span class="num" id="7177356">1024</span><span class="op" id="7177360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7177363">for</span>&nbsp;<span class="ident" id="7177367">i</span>&nbsp;<span class="op" id="7177369">:=</span>&nbsp;<span class="keyword" id="7177372">range</span>&nbsp;<span class="ident" id="7177378">data</span>&nbsp;<span class="op" id="7177383">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177387">data</span><span class="op" id="7177391">[</span><span class="ident" id="7177392">i</span><span class="op" id="7177393">]</span>&nbsp;<span class="op" id="7177395">=</span>&nbsp;<span class="builtintype" id="7177397">byte</span><span class="op" id="7177401">(</span><span class="ident" id="7177402">i</span><span class="op" id="7177403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177409">in</span>&nbsp;<span class="op" id="7177412">:=</span>&nbsp;<span class="builtinfunc" id="7177415">make</span><span class="op" id="7177419">(</span><span class="op" id="7177420">[</span><span class="op" id="7177421">]</span><span class="builtintype" id="7177422">byte</span><span class="op" id="7177426">,</span>&nbsp;<span class="num" id="7177428">0</span><span class="op" id="7177429">,</span>&nbsp;<span class="ident" id="7177431">h</span><span class="op" id="7177432">.</span><span class="ident" id="7177433">Size</span><span class="op" id="7177437">(</span><span class="op" id="7177438">)</span><span class="op" id="7177439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177443">b</span><span class="op" id="7177444">.</span><span class="ident" id="7177445">ResetTimer</span><span class="op" id="7177455">(</span><span class="op" id="7177456">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7177459">for</span>&nbsp;<span class="ident" id="7177463">i</span>&nbsp;<span class="op" id="7177465">:=</span>&nbsp;<span class="num" id="7177468">0</span><span class="op" id="7177469">;</span>&nbsp;<span class="ident" id="7177471">i</span>&nbsp;<span class="op" id="7177473">&lt;</span>&nbsp;<span class="ident" id="7177475">b</span><span class="op" id="7177476">.</span><span class="ident" id="7177477">N</span><span class="op" id="7177478">;</span>&nbsp;<span class="ident" id="7177480">i</span><span class="op" id="7177481">++</span>&nbsp;<span class="op" id="7177484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177488">h</span><span class="op" id="7177489">.</span><span class="ident" id="7177490">Reset</span><span class="op" id="7177495">(</span><span class="op" id="7177496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177500">h</span><span class="op" id="7177501">.</span><span class="ident" id="7177502">Write</span><span class="op" id="7177507">(</span><span class="ident" id="7177508">data</span><span class="op" id="7177512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7177516">h</span><span class="op" id="7177517">.</span><span class="ident" id="7177518">Sum</span><span class="op" id="7177521">(</span><span class="ident" id="7177522">in</span><span class="op" id="7177524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177527">}</span><br>
<span class="lineno">165</span><span class="op" id="7177529">}</span>
</div>
</body>
</html>
