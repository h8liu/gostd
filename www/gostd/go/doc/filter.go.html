<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html" class="current">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6017633">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6017688">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6017742">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6017793">package</span>&nbsp;<span class="ident" id="6017801">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6017806">import</span>&nbsp;<span class="string" id="6017813">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6017823">type</span>&nbsp;<span class="ident" id="6017828">Filter</span>&nbsp;<span class="keyword" id="6017835">func</span><span class="op" id="6017839">(</span><span class="builtintype" id="6017840">string</span><span class="op" id="6017846">)</span>&nbsp;<span class="builtintype" id="6017848">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6017854">func</span>&nbsp;<span class="ident" id="6017859">matchFields</span><span class="op" id="6017870">(</span><span class="ident" id="6017871">fields</span>&nbsp;<span class="op" id="6017878">*</span><span class="ident" id="6017879">ast</span><span class="op" id="6017882">.</span><span class="ident" id="6017883">FieldList</span><span class="op" id="6017892">,</span>&nbsp;<span class="ident" id="6017894">f</span>&nbsp;<span class="ident" id="6017896">Filter</span><span class="op" id="6017902">)</span>&nbsp;<span class="builtintype" id="6017904">bool</span>&nbsp;<span class="op" id="6017909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017912">if</span>&nbsp;<span class="ident" id="6017915">fields</span>&nbsp;<span class="op" id="6017922">!=</span>&nbsp;<span class="ident" id="6017925">nil</span>&nbsp;<span class="op" id="6017929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017933">for</span>&nbsp;<span class="ident" id="6017937">_</span><span class="op" id="6017938">,</span>&nbsp;<span class="ident" id="6017940">field</span>&nbsp;<span class="op" id="6017946">:=</span>&nbsp;<span class="keyword" id="6017949">range</span>&nbsp;<span class="ident" id="6017955">fields</span><span class="op" id="6017961">.</span><span class="ident" id="6017962">List</span>&nbsp;<span class="op" id="6017967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017972">for</span>&nbsp;<span class="ident" id="6017976">_</span><span class="op" id="6017977">,</span>&nbsp;<span class="ident" id="6017979">name</span>&nbsp;<span class="op" id="6017984">:=</span>&nbsp;<span class="keyword" id="6017987">range</span>&nbsp;<span class="ident" id="6017993">field</span><span class="op" id="6017998">.</span><span class="ident" id="6017999">Names</span>&nbsp;<span class="op" id="6018005">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018011">if</span>&nbsp;<span class="ident" id="6018014">f</span><span class="op" id="6018015">(</span><span class="ident" id="6018016">name</span><span class="op" id="6018020">.</span><span class="ident" id="6018021">Name</span><span class="op" id="6018025">)</span>&nbsp;<span class="op" id="6018027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018034">return</span>&nbsp;<span class="builtintype" id="6018041">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018059">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018065">return</span>&nbsp;<span class="builtintype" id="6018072">false</span><br>
<span class="lineno"></span><span class="op" id="6018078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6018081">func</span>&nbsp;<span class="ident" id="6018086">matchDecl</span><span class="op" id="6018095">(</span><span class="ident" id="6018096">d</span>&nbsp;<span class="op" id="6018098">*</span><span class="ident" id="6018099">ast</span><span class="op" id="6018102">.</span><span class="ident" id="6018103">GenDecl</span><span class="op" id="6018110">,</span>&nbsp;<span class="ident" id="6018112">f</span>&nbsp;<span class="ident" id="6018114">Filter</span><span class="op" id="6018120">)</span>&nbsp;<span class="builtintype" id="6018122">bool</span>&nbsp;<span class="op" id="6018127">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018130">for</span>&nbsp;<span class="ident" id="6018134">_</span><span class="op" id="6018135">,</span>&nbsp;<span class="ident" id="6018137">d</span>&nbsp;<span class="op" id="6018139">:=</span>&nbsp;<span class="keyword" id="6018142">range</span>&nbsp;<span class="ident" id="6018148">d</span><span class="op" id="6018149">.</span><span class="ident" id="6018150">Specs</span>&nbsp;<span class="op" id="6018156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018160">switch</span>&nbsp;<span class="ident" id="6018167">v</span>&nbsp;<span class="op" id="6018169">:=</span>&nbsp;<span class="ident" id="6018172">d</span><span class="op" id="6018173">.</span><span class="op" id="6018174">(</span><span class="keyword" id="6018175">type</span><span class="op" id="6018179">)</span>&nbsp;<span class="op" id="6018181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018185">case</span>&nbsp;<span class="op" id="6018190">*</span><span class="ident" id="6018191">ast</span><span class="op" id="6018194">.</span><span class="ident" id="6018195">ValueSpec</span><span class="op" id="6018204">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018209">for</span>&nbsp;<span class="ident" id="6018213">_</span><span class="op" id="6018214">,</span>&nbsp;<span class="ident" id="6018216">name</span>&nbsp;<span class="op" id="6018221">:=</span>&nbsp;<span class="keyword" id="6018224">range</span>&nbsp;<span class="ident" id="6018230">v</span><span class="op" id="6018231">.</span><span class="ident" id="6018232">Names</span>&nbsp;<span class="op" id="6018238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018244">if</span>&nbsp;<span class="ident" id="6018247">f</span><span class="op" id="6018248">(</span><span class="ident" id="6018249">name</span><span class="op" id="6018253">.</span><span class="ident" id="6018254">Name</span><span class="op" id="6018258">)</span>&nbsp;<span class="op" id="6018260">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018267">return</span>&nbsp;<span class="builtintype" id="6018274">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018292">case</span>&nbsp;<span class="op" id="6018297">*</span><span class="ident" id="6018298">ast</span><span class="op" id="6018301">.</span><span class="ident" id="6018302">TypeSpec</span><span class="op" id="6018310">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018315">if</span>&nbsp;<span class="ident" id="6018318">f</span><span class="op" id="6018319">(</span><span class="ident" id="6018320">v</span><span class="op" id="6018321">.</span><span class="ident" id="6018322">Name</span><span class="op" id="6018326">.</span><span class="ident" id="6018327">Name</span><span class="op" id="6018331">)</span>&nbsp;<span class="op" id="6018333">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018339">return</span>&nbsp;<span class="builtintype" id="6018346">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018359">switch</span>&nbsp;<span class="ident" id="6018366">t</span>&nbsp;<span class="op" id="6018368">:=</span>&nbsp;<span class="ident" id="6018371">v</span><span class="op" id="6018372">.</span><span class="ident" id="6018373">Type</span><span class="op" id="6018377">.</span><span class="op" id="6018378">(</span><span class="keyword" id="6018379">type</span><span class="op" id="6018383">)</span>&nbsp;<span class="op" id="6018385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018390">case</span>&nbsp;<span class="op" id="6018395">*</span><span class="ident" id="6018396">ast</span><span class="op" id="6018399">.</span><span class="ident" id="6018400">StructType</span><span class="op" id="6018410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018416">if</span>&nbsp;<span class="ident" id="6018419">matchFields</span><span class="op" id="6018430">(</span><span class="ident" id="6018431">t</span><span class="op" id="6018432">.</span><span class="ident" id="6018433">Fields</span><span class="op" id="6018439">,</span>&nbsp;<span class="ident" id="6018441">f</span><span class="op" id="6018442">)</span>&nbsp;<span class="op" id="6018444">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018451">return</span>&nbsp;<span class="builtintype" id="6018458">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018472">case</span>&nbsp;<span class="op" id="6018477">*</span><span class="ident" id="6018478">ast</span><span class="op" id="6018481">.</span><span class="ident" id="6018482">InterfaceType</span><span class="op" id="6018495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018501">if</span>&nbsp;<span class="ident" id="6018504">matchFields</span><span class="op" id="6018515">(</span><span class="ident" id="6018516">t</span><span class="op" id="6018517">.</span><span class="ident" id="6018518">Methods</span><span class="op" id="6018525">,</span>&nbsp;<span class="ident" id="6018527">f</span><span class="op" id="6018528">)</span>&nbsp;<span class="op" id="6018530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018537">return</span>&nbsp;<span class="builtintype" id="6018544">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018568">return</span>&nbsp;<span class="builtintype" id="6018575">false</span><br>
<span class="lineno">50</span><span class="op" id="6018581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6018584">func</span>&nbsp;<span class="ident" id="6018589">filterValues</span><span class="op" id="6018601">(</span><span class="ident" id="6018602">a</span>&nbsp;<span class="op" id="6018604">[</span><span class="op" id="6018605">]</span><span class="op" id="6018606">*</span><span class="ident" id="6018607">Value</span><span class="op" id="6018612">,</span>&nbsp;<span class="ident" id="6018614">f</span>&nbsp;<span class="ident" id="6018616">Filter</span><span class="op" id="6018622">)</span>&nbsp;<span class="op" id="6018624">[</span><span class="op" id="6018625">]</span><span class="op" id="6018626">*</span><span class="ident" id="6018627">Value</span>&nbsp;<span class="op" id="6018633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018636">w</span>&nbsp;<span class="op" id="6018638">:=</span>&nbsp;<span class="num" id="6018641">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018644">for</span>&nbsp;<span class="ident" id="6018648">_</span><span class="op" id="6018649">,</span>&nbsp;<span class="ident" id="6018651">vd</span>&nbsp;<span class="op" id="6018654">:=</span>&nbsp;<span class="keyword" id="6018657">range</span>&nbsp;<span class="ident" id="6018663">a</span>&nbsp;<span class="op" id="6018665">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018669">if</span>&nbsp;<span class="ident" id="6018672">matchDecl</span><span class="op" id="6018681">(</span><span class="ident" id="6018682">vd</span><span class="op" id="6018684">.</span><span class="ident" id="6018685">Decl</span><span class="op" id="6018689">,</span>&nbsp;<span class="ident" id="6018691">f</span><span class="op" id="6018692">)</span>&nbsp;<span class="op" id="6018694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018699">a</span><span class="op" id="6018700">[</span><span class="ident" id="6018701">w</span><span class="op" id="6018702">]</span>&nbsp;<span class="op" id="6018704">=</span>&nbsp;<span class="ident" id="6018706">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018712">w</span><span class="op" id="6018713">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018721">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018724">return</span>&nbsp;<span class="ident" id="6018731">a</span><span class="op" id="6018732">[</span><span class="num" id="6018733">0</span><span class="op" id="6018734">:</span><span class="ident" id="6018735">w</span><span class="op" id="6018736">]</span><br>
<span class="lineno"></span><span class="op" id="6018738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6018741">func</span>&nbsp;<span class="ident" id="6018746">filterFuncs</span><span class="op" id="6018757">(</span><span class="ident" id="6018758">a</span>&nbsp;<span class="op" id="6018760">[</span><span class="op" id="6018761">]</span><span class="op" id="6018762">*</span><span class="ident" id="6018763">Func</span><span class="op" id="6018767">,</span>&nbsp;<span class="ident" id="6018769">f</span>&nbsp;<span class="ident" id="6018771">Filter</span><span class="op" id="6018777">)</span>&nbsp;<span class="op" id="6018779">[</span><span class="op" id="6018780">]</span><span class="op" id="6018781">*</span><span class="ident" id="6018782">Func</span>&nbsp;<span class="op" id="6018787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018790">w</span>&nbsp;<span class="op" id="6018792">:=</span>&nbsp;<span class="num" id="6018795">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018798">for</span>&nbsp;<span class="ident" id="6018802">_</span><span class="op" id="6018803">,</span>&nbsp;<span class="ident" id="6018805">fd</span>&nbsp;<span class="op" id="6018808">:=</span>&nbsp;<span class="keyword" id="6018811">range</span>&nbsp;<span class="ident" id="6018817">a</span>&nbsp;<span class="op" id="6018819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018823">if</span>&nbsp;<span class="ident" id="6018826">f</span><span class="op" id="6018827">(</span><span class="ident" id="6018828">fd</span><span class="op" id="6018830">.</span><span class="ident" id="6018831">Name</span><span class="op" id="6018835">)</span>&nbsp;<span class="op" id="6018837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018842">a</span><span class="op" id="6018843">[</span><span class="ident" id="6018844">w</span><span class="op" id="6018845">]</span>&nbsp;<span class="op" id="6018847">=</span>&nbsp;<span class="ident" id="6018849">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018855">w</span><span class="op" id="6018856">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018861">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018867">return</span>&nbsp;<span class="ident" id="6018874">a</span><span class="op" id="6018875">[</span><span class="num" id="6018876">0</span><span class="op" id="6018877">:</span><span class="ident" id="6018878">w</span><span class="op" id="6018879">]</span><br>
<span class="lineno"></span><span class="op" id="6018881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6018884">func</span>&nbsp;<span class="ident" id="6018889">filterTypes</span><span class="op" id="6018900">(</span><span class="ident" id="6018901">a</span>&nbsp;<span class="op" id="6018903">[</span><span class="op" id="6018904">]</span><span class="op" id="6018905">*</span><span class="ident" id="6018906">Type</span><span class="op" id="6018910">,</span>&nbsp;<span class="ident" id="6018912">f</span>&nbsp;<span class="ident" id="6018914">Filter</span><span class="op" id="6018920">)</span>&nbsp;<span class="op" id="6018922">[</span><span class="op" id="6018923">]</span><span class="op" id="6018924">*</span><span class="ident" id="6018925">Type</span>&nbsp;<span class="op" id="6018930">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018933">w</span>&nbsp;<span class="op" id="6018935">:=</span>&nbsp;<span class="num" id="6018938">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018941">for</span>&nbsp;<span class="ident" id="6018945">_</span><span class="op" id="6018946">,</span>&nbsp;<span class="ident" id="6018948">td</span>&nbsp;<span class="op" id="6018951">:=</span>&nbsp;<span class="keyword" id="6018954">range</span>&nbsp;<span class="ident" id="6018960">a</span>&nbsp;<span class="op" id="6018962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018966">n</span>&nbsp;<span class="op" id="6018968">:=</span>&nbsp;<span class="num" id="6018971">0</span>&nbsp;<span class="comment" id="6018973">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018996">if</span>&nbsp;<span class="ident" id="6018999">matchDecl</span><span class="op" id="6019008">(</span><span class="ident" id="6019009">td</span><span class="op" id="6019011">.</span><span class="ident" id="6019012">Decl</span><span class="op" id="6019016">,</span>&nbsp;<span class="ident" id="6019018">f</span><span class="op" id="6019019">)</span>&nbsp;<span class="op" id="6019021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019026">n</span>&nbsp;<span class="op" id="6019028">=</span>&nbsp;<span class="num" id="6019030">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019034">}</span>&nbsp;<span class="keyword" id="6019036">else</span>&nbsp;<span class="op" id="6019041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6019046">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019137">td</span><span class="op" id="6019139">.</span><span class="ident" id="6019140">Consts</span>&nbsp;<span class="op" id="6019147">=</span>&nbsp;<span class="ident" id="6019149">filterValues</span><span class="op" id="6019161">(</span><span class="ident" id="6019162">td</span><span class="op" id="6019164">.</span><span class="ident" id="6019165">Consts</span><span class="op" id="6019171">,</span>&nbsp;<span class="ident" id="6019173">f</span><span class="op" id="6019174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019179">td</span><span class="op" id="6019181">.</span><span class="ident" id="6019182">Vars</span>&nbsp;<span class="op" id="6019187">=</span>&nbsp;<span class="ident" id="6019189">filterValues</span><span class="op" id="6019201">(</span><span class="ident" id="6019202">td</span><span class="op" id="6019204">.</span><span class="ident" id="6019205">Vars</span><span class="op" id="6019209">,</span>&nbsp;<span class="ident" id="6019211">f</span><span class="op" id="6019212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019217">td</span><span class="op" id="6019219">.</span><span class="ident" id="6019220">Funcs</span>&nbsp;<span class="op" id="6019226">=</span>&nbsp;<span class="ident" id="6019228">filterFuncs</span><span class="op" id="6019239">(</span><span class="ident" id="6019240">td</span><span class="op" id="6019242">.</span><span class="ident" id="6019243">Funcs</span><span class="op" id="6019248">,</span>&nbsp;<span class="ident" id="6019250">f</span><span class="op" id="6019251">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019256">td</span><span class="op" id="6019258">.</span><span class="ident" id="6019259">Methods</span>&nbsp;<span class="op" id="6019267">=</span>&nbsp;<span class="ident" id="6019269">filterFuncs</span><span class="op" id="6019280">(</span><span class="ident" id="6019281">td</span><span class="op" id="6019283">.</span><span class="ident" id="6019284">Methods</span><span class="op" id="6019291">,</span>&nbsp;<span class="ident" id="6019293">f</span><span class="op" id="6019294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019299">n</span>&nbsp;<span class="op" id="6019301">+=</span>&nbsp;<span class="builtinfunc" id="6019304">len</span><span class="op" id="6019307">(</span><span class="ident" id="6019308">td</span><span class="op" id="6019310">.</span><span class="ident" id="6019311">Consts</span><span class="op" id="6019317">)</span>&nbsp;<span class="op" id="6019319">+</span>&nbsp;<span class="builtinfunc" id="6019321">len</span><span class="op" id="6019324">(</span><span class="ident" id="6019325">td</span><span class="op" id="6019327">.</span><span class="ident" id="6019328">Vars</span><span class="op" id="6019332">)</span>&nbsp;<span class="op" id="6019334">+</span>&nbsp;<span class="builtinfunc" id="6019336">len</span><span class="op" id="6019339">(</span><span class="ident" id="6019340">td</span><span class="op" id="6019342">.</span><span class="ident" id="6019343">Funcs</span><span class="op" id="6019348">)</span>&nbsp;<span class="op" id="6019350">+</span>&nbsp;<span class="builtinfunc" id="6019352">len</span><span class="op" id="6019355">(</span><span class="ident" id="6019356">td</span><span class="op" id="6019358">.</span><span class="ident" id="6019359">Methods</span><span class="op" id="6019366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019374">if</span>&nbsp;<span class="ident" id="6019377">n</span>&nbsp;<span class="op" id="6019379">&gt;</span>&nbsp;<span class="num" id="6019381">0</span>&nbsp;<span class="op" id="6019383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019388">a</span><span class="op" id="6019389">[</span><span class="ident" id="6019390">w</span><span class="op" id="6019391">]</span>&nbsp;<span class="op" id="6019393">=</span>&nbsp;<span class="ident" id="6019395">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019401">w</span><span class="op" id="6019402">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6019410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6019413">return</span>&nbsp;<span class="ident" id="6019420">a</span><span class="op" id="6019421">[</span><span class="num" id="6019422">0</span><span class="op" id="6019423">:</span><span class="ident" id="6019424">w</span><span class="op" id="6019425">]</span><br>
<span class="lineno"></span><span class="op" id="6019427">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="6019430">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="6019513">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="6019562">//</span><br>
<span class="lineno"></span><span class="keyword" id="6019565">func</span>&nbsp;<span class="op" id="6019570">(</span><span class="ident" id="6019571">p</span>&nbsp;<span class="op" id="6019573">*</span><span class="ident" id="6019574">Package</span><span class="op" id="6019581">)</span>&nbsp;<span class="ident" id="6019583">Filter</span><span class="op" id="6019589">(</span><span class="ident" id="6019590">f</span>&nbsp;<span class="ident" id="6019592">Filter</span><span class="op" id="6019598">)</span>&nbsp;<span class="op" id="6019600">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019603">p</span><span class="op" id="6019604">.</span><span class="ident" id="6019605">Consts</span>&nbsp;<span class="op" id="6019612">=</span>&nbsp;<span class="ident" id="6019614">filterValues</span><span class="op" id="6019626">(</span><span class="ident" id="6019627">p</span><span class="op" id="6019628">.</span><span class="ident" id="6019629">Consts</span><span class="op" id="6019635">,</span>&nbsp;<span class="ident" id="6019637">f</span><span class="op" id="6019638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019641">p</span><span class="op" id="6019642">.</span><span class="ident" id="6019643">Vars</span>&nbsp;<span class="op" id="6019648">=</span>&nbsp;<span class="ident" id="6019650">filterValues</span><span class="op" id="6019662">(</span><span class="ident" id="6019663">p</span><span class="op" id="6019664">.</span><span class="ident" id="6019665">Vars</span><span class="op" id="6019669">,</span>&nbsp;<span class="ident" id="6019671">f</span><span class="op" id="6019672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019675">p</span><span class="op" id="6019676">.</span><span class="ident" id="6019677">Types</span>&nbsp;<span class="op" id="6019683">=</span>&nbsp;<span class="ident" id="6019685">filterTypes</span><span class="op" id="6019696">(</span><span class="ident" id="6019697">p</span><span class="op" id="6019698">.</span><span class="ident" id="6019699">Types</span><span class="op" id="6019704">,</span>&nbsp;<span class="ident" id="6019706">f</span><span class="op" id="6019707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019710">p</span><span class="op" id="6019711">.</span><span class="ident" id="6019712">Funcs</span>&nbsp;<span class="op" id="6019718">=</span>&nbsp;<span class="ident" id="6019720">filterFuncs</span><span class="op" id="6019731">(</span><span class="ident" id="6019732">p</span><span class="op" id="6019733">.</span><span class="ident" id="6019734">Funcs</span><span class="op" id="6019739">,</span>&nbsp;<span class="ident" id="6019741">f</span><span class="op" id="6019742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6019745">p</span><span class="op" id="6019746">.</span><span class="ident" id="6019747">Doc</span>&nbsp;<span class="op" id="6019751">=</span>&nbsp;<span class="string" id="6019753">&#34;&#34;</span>&nbsp;<span class="comment" id="6019756">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="6019792">}</span>
</div>
</body>
</html>
