<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6517613">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6517668">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6517722">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6517773">package</span>&nbsp;<span class="ident" id="6517781">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517788">import</span>&nbsp;<span class="op" id="6517795">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6517798">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6517813">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6517823">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517826">func</span>&nbsp;<span class="ident" id="6517831">TestYCbCr</span><span class="op" id="6517840">(</span><span class="ident" id="6517841">t</span>&nbsp;<span class="op" id="6517843">*</span><span class="ident" id="6517844">testing</span><span class="op" id="6517851">.</span><span class="ident" id="6517852">T</span><span class="op" id="6517853">)</span>&nbsp;<span class="op" id="6517855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517858">rects</span>&nbsp;<span class="op" id="6517864">:=</span>&nbsp;<span class="op" id="6517867">[</span><span class="op" id="6517868">]</span><span class="ident" id="6517869">Rectangle</span><span class="op" id="6517878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517882">Rect</span><span class="op" id="6517886">(</span><span class="num" id="6517887">0</span><span class="op" id="6517888">,</span>&nbsp;<span class="num" id="6517890">0</span><span class="op" id="6517891">,</span>&nbsp;<span class="num" id="6517893">16</span><span class="op" id="6517895">,</span>&nbsp;<span class="num" id="6517897">16</span><span class="op" id="6517899">)</span><span class="op" id="6517900">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517904">Rect</span><span class="op" id="6517908">(</span><span class="num" id="6517909">1</span><span class="op" id="6517910">,</span>&nbsp;<span class="num" id="6517912">0</span><span class="op" id="6517913">,</span>&nbsp;<span class="num" id="6517915">16</span><span class="op" id="6517917">,</span>&nbsp;<span class="num" id="6517919">16</span><span class="op" id="6517921">)</span><span class="op" id="6517922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517926">Rect</span><span class="op" id="6517930">(</span><span class="num" id="6517931">0</span><span class="op" id="6517932">,</span>&nbsp;<span class="num" id="6517934">1</span><span class="op" id="6517935">,</span>&nbsp;<span class="num" id="6517937">16</span><span class="op" id="6517939">,</span>&nbsp;<span class="num" id="6517941">16</span><span class="op" id="6517943">)</span><span class="op" id="6517944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517948">Rect</span><span class="op" id="6517952">(</span><span class="num" id="6517953">1</span><span class="op" id="6517954">,</span>&nbsp;<span class="num" id="6517956">1</span><span class="op" id="6517957">,</span>&nbsp;<span class="num" id="6517959">16</span><span class="op" id="6517961">,</span>&nbsp;<span class="num" id="6517963">16</span><span class="op" id="6517965">)</span><span class="op" id="6517966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517970">Rect</span><span class="op" id="6517974">(</span><span class="num" id="6517975">1</span><span class="op" id="6517976">,</span>&nbsp;<span class="num" id="6517978">1</span><span class="op" id="6517979">,</span>&nbsp;<span class="num" id="6517981">15</span><span class="op" id="6517983">,</span>&nbsp;<span class="num" id="6517985">16</span><span class="op" id="6517987">)</span><span class="op" id="6517988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517992">Rect</span><span class="op" id="6517996">(</span><span class="num" id="6517997">1</span><span class="op" id="6517998">,</span>&nbsp;<span class="num" id="6518000">1</span><span class="op" id="6518001">,</span>&nbsp;<span class="num" id="6518003">16</span><span class="op" id="6518005">,</span>&nbsp;<span class="num" id="6518007">15</span><span class="op" id="6518009">)</span><span class="op" id="6518010">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518014">Rect</span><span class="op" id="6518018">(</span><span class="num" id="6518019">1</span><span class="op" id="6518020">,</span>&nbsp;<span class="num" id="6518022">1</span><span class="op" id="6518023">,</span>&nbsp;<span class="num" id="6518025">15</span><span class="op" id="6518027">,</span>&nbsp;<span class="num" id="6518029">15</span><span class="op" id="6518031">)</span><span class="op" id="6518032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518036">Rect</span><span class="op" id="6518040">(</span><span class="num" id="6518041">2</span><span class="op" id="6518042">,</span>&nbsp;<span class="num" id="6518044">3</span><span class="op" id="6518045">,</span>&nbsp;<span class="num" id="6518047">14</span><span class="op" id="6518049">,</span>&nbsp;<span class="num" id="6518051">15</span><span class="op" id="6518053">)</span><span class="op" id="6518054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518058">Rect</span><span class="op" id="6518062">(</span><span class="num" id="6518063">7</span><span class="op" id="6518064">,</span>&nbsp;<span class="num" id="6518066">0</span><span class="op" id="6518067">,</span>&nbsp;<span class="num" id="6518069">7</span><span class="op" id="6518070">,</span>&nbsp;<span class="num" id="6518072">16</span><span class="op" id="6518074">)</span><span class="op" id="6518075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518079">Rect</span><span class="op" id="6518083">(</span><span class="num" id="6518084">0</span><span class="op" id="6518085">,</span>&nbsp;<span class="num" id="6518087">8</span><span class="op" id="6518088">,</span>&nbsp;<span class="num" id="6518090">16</span><span class="op" id="6518092">,</span>&nbsp;<span class="num" id="6518094">8</span><span class="op" id="6518095">)</span><span class="op" id="6518096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518100">Rect</span><span class="op" id="6518104">(</span><span class="num" id="6518105">0</span><span class="op" id="6518106">,</span>&nbsp;<span class="num" id="6518108">0</span><span class="op" id="6518109">,</span>&nbsp;<span class="num" id="6518111">10</span><span class="op" id="6518113">,</span>&nbsp;<span class="num" id="6518115">11</span><span class="op" id="6518117">)</span><span class="op" id="6518118">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518122">Rect</span><span class="op" id="6518126">(</span><span class="num" id="6518127">5</span><span class="op" id="6518128">,</span>&nbsp;<span class="num" id="6518130">6</span><span class="op" id="6518131">,</span>&nbsp;<span class="num" id="6518133">16</span><span class="op" id="6518135">,</span>&nbsp;<span class="num" id="6518137">16</span><span class="op" id="6518139">)</span><span class="op" id="6518140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518144">Rect</span><span class="op" id="6518148">(</span><span class="num" id="6518149">7</span><span class="op" id="6518150">,</span>&nbsp;<span class="num" id="6518152">7</span><span class="op" id="6518153">,</span>&nbsp;<span class="num" id="6518155">8</span><span class="op" id="6518156">,</span>&nbsp;<span class="num" id="6518158">8</span><span class="op" id="6518159">)</span><span class="op" id="6518160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518164">Rect</span><span class="op" id="6518168">(</span><span class="num" id="6518169">7</span><span class="op" id="6518170">,</span>&nbsp;<span class="num" id="6518172">8</span><span class="op" id="6518173">,</span>&nbsp;<span class="num" id="6518175">8</span><span class="op" id="6518176">,</span>&nbsp;<span class="num" id="6518178">9</span><span class="op" id="6518179">)</span><span class="op" id="6518180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518184">Rect</span><span class="op" id="6518188">(</span><span class="num" id="6518189">8</span><span class="op" id="6518190">,</span>&nbsp;<span class="num" id="6518192">7</span><span class="op" id="6518193">,</span>&nbsp;<span class="num" id="6518195">9</span><span class="op" id="6518196">,</span>&nbsp;<span class="num" id="6518198">8</span><span class="op" id="6518199">)</span><span class="op" id="6518200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518204">Rect</span><span class="op" id="6518208">(</span><span class="num" id="6518209">8</span><span class="op" id="6518210">,</span>&nbsp;<span class="num" id="6518212">8</span><span class="op" id="6518213">,</span>&nbsp;<span class="num" id="6518215">9</span><span class="op" id="6518216">,</span>&nbsp;<span class="num" id="6518218">9</span><span class="op" id="6518219">)</span><span class="op" id="6518220">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518224">Rect</span><span class="op" id="6518228">(</span><span class="num" id="6518229">7</span><span class="op" id="6518230">,</span>&nbsp;<span class="num" id="6518232">7</span><span class="op" id="6518233">,</span>&nbsp;<span class="num" id="6518235">17</span><span class="op" id="6518237">,</span>&nbsp;<span class="num" id="6518239">17</span><span class="op" id="6518241">)</span><span class="op" id="6518242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518246">Rect</span><span class="op" id="6518250">(</span><span class="num" id="6518251">8</span><span class="op" id="6518252">,</span>&nbsp;<span class="num" id="6518254">8</span><span class="op" id="6518255">,</span>&nbsp;<span class="num" id="6518257">17</span><span class="op" id="6518259">,</span>&nbsp;<span class="num" id="6518261">17</span><span class="op" id="6518263">)</span><span class="op" id="6518264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518268">Rect</span><span class="op" id="6518272">(</span><span class="num" id="6518273">9</span><span class="op" id="6518274">,</span>&nbsp;<span class="num" id="6518276">9</span><span class="op" id="6518277">,</span>&nbsp;<span class="num" id="6518279">17</span><span class="op" id="6518281">,</span>&nbsp;<span class="num" id="6518283">17</span><span class="op" id="6518285">)</span><span class="op" id="6518286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518290">Rect</span><span class="op" id="6518294">(</span><span class="num" id="6518295">10</span><span class="op" id="6518297">,</span>&nbsp;<span class="num" id="6518299">10</span><span class="op" id="6518301">,</span>&nbsp;<span class="num" id="6518303">17</span><span class="op" id="6518305">,</span>&nbsp;<span class="num" id="6518307">17</span><span class="op" id="6518309">)</span><span class="op" id="6518310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518313">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518316">subsampleRatios</span>&nbsp;<span class="op" id="6518332">:=</span>&nbsp;<span class="op" id="6518335">[</span><span class="op" id="6518336">]</span><span class="ident" id="6518337">YCbCrSubsampleRatio</span><span class="op" id="6518356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518360">YCbCrSubsampleRatio444</span><span class="op" id="6518382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518386">YCbCrSubsampleRatio422</span><span class="op" id="6518408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518412">YCbCrSubsampleRatio420</span><span class="op" id="6518434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518438">YCbCrSubsampleRatio440</span><span class="op" id="6518460">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518466">deltas</span>&nbsp;<span class="op" id="6518473">:=</span>&nbsp;<span class="op" id="6518476">[</span><span class="op" id="6518477">]</span><span class="ident" id="6518478">Point</span><span class="op" id="6518483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518487">Pt</span><span class="op" id="6518489">(</span><span class="num" id="6518490">0</span><span class="op" id="6518491">,</span>&nbsp;<span class="num" id="6518493">0</span><span class="op" id="6518494">)</span><span class="op" id="6518495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518499">Pt</span><span class="op" id="6518501">(</span><span class="num" id="6518502">1000</span><span class="op" id="6518506">,</span>&nbsp;<span class="num" id="6518508">1001</span><span class="op" id="6518512">)</span><span class="op" id="6518513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518517">Pt</span><span class="op" id="6518519">(</span><span class="num" id="6518520">5001</span><span class="op" id="6518524">,</span>&nbsp;<span class="op" id="6518526">-</span><span class="num" id="6518527">400</span><span class="op" id="6518530">)</span><span class="op" id="6518531">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518535">Pt</span><span class="op" id="6518537">(</span><span class="op" id="6518538">-</span><span class="num" id="6518539">701</span><span class="op" id="6518542">,</span>&nbsp;<span class="op" id="6518544">-</span><span class="num" id="6518545">801</span><span class="op" id="6518548">)</span><span class="op" id="6518549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518555">for</span>&nbsp;<span class="ident" id="6518559">_</span><span class="op" id="6518560">,</span>&nbsp;<span class="ident" id="6518562">r</span>&nbsp;<span class="op" id="6518564">:=</span>&nbsp;<span class="keyword" id="6518567">range</span>&nbsp;<span class="ident" id="6518573">rects</span>&nbsp;<span class="op" id="6518579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518583">for</span>&nbsp;<span class="ident" id="6518587">_</span><span class="op" id="6518588">,</span>&nbsp;<span class="ident" id="6518590">subsampleRatio</span>&nbsp;<span class="op" id="6518605">:=</span>&nbsp;<span class="keyword" id="6518608">range</span>&nbsp;<span class="ident" id="6518614">subsampleRatios</span>&nbsp;<span class="op" id="6518630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518635">for</span>&nbsp;<span class="ident" id="6518639">_</span><span class="op" id="6518640">,</span>&nbsp;<span class="ident" id="6518642">delta</span>&nbsp;<span class="op" id="6518648">:=</span>&nbsp;<span class="keyword" id="6518651">range</span>&nbsp;<span class="ident" id="6518657">deltas</span>&nbsp;<span class="op" id="6518664">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518670">testYCbCr</span><span class="op" id="6518679">(</span><span class="ident" id="6518680">t</span><span class="op" id="6518681">,</span>&nbsp;<span class="ident" id="6518683">r</span><span class="op" id="6518684">,</span>&nbsp;<span class="ident" id="6518686">subsampleRatio</span><span class="op" id="6518700">,</span>&nbsp;<span class="ident" id="6518702">delta</span><span class="op" id="6518707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518720">if</span>&nbsp;<span class="ident" id="6518723">testing</span><span class="op" id="6518730">.</span><span class="ident" id="6518731">Short</span><span class="op" id="6518736">(</span><span class="op" id="6518737">)</span>&nbsp;<span class="op" id="6518739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518744">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518755">}</span><br>
<span class="lineno"></span><span class="op" id="6518757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6518760">func</span>&nbsp;<span class="ident" id="6518765">testYCbCr</span><span class="op" id="6518774">(</span><span class="ident" id="6518775">t</span>&nbsp;<span class="op" id="6518777">*</span><span class="ident" id="6518778">testing</span><span class="op" id="6518785">.</span><span class="ident" id="6518786">T</span><span class="op" id="6518787">,</span>&nbsp;<span class="ident" id="6518789">r</span>&nbsp;<span class="ident" id="6518791">Rectangle</span><span class="op" id="6518800">,</span>&nbsp;<span class="ident" id="6518802">subsampleRatio</span>&nbsp;<span class="ident" id="6518817">YCbCrSubsampleRatio</span><span class="op" id="6518836">,</span>&nbsp;<span class="ident" id="6518838">delta</span>&nbsp;<span class="ident" id="6518844">Point</span><span class="op" id="6518849">)</span>&nbsp;<span class="op" id="6518851">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6518854">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518935">r1</span>&nbsp;<span class="op" id="6518938">:=</span>&nbsp;<span class="ident" id="6518941">r</span><span class="op" id="6518942">.</span><span class="ident" id="6518943">Add</span><span class="op" id="6518946">(</span><span class="ident" id="6518947">delta</span><span class="op" id="6518952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518955">m</span>&nbsp;<span class="op" id="6518957">:=</span>&nbsp;<span class="ident" id="6518960">NewYCbCr</span><span class="op" id="6518968">(</span><span class="ident" id="6518969">r1</span><span class="op" id="6518971">,</span>&nbsp;<span class="ident" id="6518973">subsampleRatio</span><span class="op" id="6518987">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6518991">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519093">if</span>&nbsp;<span class="builtinfunc" id="6519096">len</span><span class="op" id="6519099">(</span><span class="ident" id="6519100">m</span><span class="op" id="6519101">.</span><span class="ident" id="6519102">Y</span><span class="op" id="6519103">)</span>&nbsp;<span class="op" id="6519105">&gt;</span>&nbsp;<span class="num" id="6519107">100</span><span class="op" id="6519110">*</span><span class="num" id="6519111">100</span>&nbsp;<span class="op" id="6519115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519119">t</span><span class="op" id="6519120">.</span><span class="ident" id="6519121">Errorf</span><span class="op" id="6519127">(</span><span class="string" id="6519128">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="6519190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519195">r</span><span class="op" id="6519196">,</span>&nbsp;<span class="ident" id="6519198">subsampleRatio</span><span class="op" id="6519212">,</span>&nbsp;<span class="ident" id="6519214">delta</span><span class="op" id="6519219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519223">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6519231">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6519235">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6519322">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519404">for</span>&nbsp;<span class="ident" id="6519408">y</span>&nbsp;<span class="op" id="6519410">:=</span>&nbsp;<span class="ident" id="6519413">r1</span><span class="op" id="6519415">.</span><span class="ident" id="6519416">Min</span><span class="op" id="6519419">.</span><span class="ident" id="6519420">Y</span><span class="op" id="6519421">;</span>&nbsp;<span class="ident" id="6519423">y</span>&nbsp;<span class="op" id="6519425">&lt;</span>&nbsp;<span class="ident" id="6519427">r1</span><span class="op" id="6519429">.</span><span class="ident" id="6519430">Max</span><span class="op" id="6519433">.</span><span class="ident" id="6519434">Y</span><span class="op" id="6519435">;</span>&nbsp;<span class="ident" id="6519437">y</span><span class="op" id="6519438">++</span>&nbsp;<span class="op" id="6519441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519445">for</span>&nbsp;<span class="ident" id="6519449">x</span>&nbsp;<span class="op" id="6519451">:=</span>&nbsp;<span class="ident" id="6519454">r1</span><span class="op" id="6519456">.</span><span class="ident" id="6519457">Min</span><span class="op" id="6519460">.</span><span class="ident" id="6519461">X</span><span class="op" id="6519462">;</span>&nbsp;<span class="ident" id="6519464">x</span>&nbsp;<span class="op" id="6519466">&lt;</span>&nbsp;<span class="ident" id="6519468">r1</span><span class="op" id="6519470">.</span><span class="ident" id="6519471">Max</span><span class="op" id="6519474">.</span><span class="ident" id="6519475">X</span><span class="op" id="6519476">;</span>&nbsp;<span class="ident" id="6519478">x</span><span class="op" id="6519479">++</span>&nbsp;<span class="op" id="6519482">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519487">yi</span>&nbsp;<span class="op" id="6519490">:=</span>&nbsp;<span class="ident" id="6519493">m</span><span class="op" id="6519494">.</span><span class="ident" id="6519495">YOffset</span><span class="op" id="6519502">(</span><span class="ident" id="6519503">x</span><span class="op" id="6519504">,</span>&nbsp;<span class="ident" id="6519506">y</span><span class="op" id="6519507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519512">ci</span>&nbsp;<span class="op" id="6519515">:=</span>&nbsp;<span class="ident" id="6519518">m</span><span class="op" id="6519519">.</span><span class="ident" id="6519520">COffset</span><span class="op" id="6519527">(</span><span class="ident" id="6519528">x</span><span class="op" id="6519529">,</span>&nbsp;<span class="ident" id="6519531">y</span><span class="op" id="6519532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519537">m</span><span class="op" id="6519538">.</span><span class="ident" id="6519539">Y</span><span class="op" id="6519540">[</span><span class="ident" id="6519541">yi</span><span class="op" id="6519543">]</span>&nbsp;<span class="op" id="6519545">=</span>&nbsp;<span class="builtintype" id="6519547">uint8</span><span class="op" id="6519552">(</span><span class="num" id="6519553">16</span><span class="op" id="6519555">*</span><span class="ident" id="6519556">y</span>&nbsp;<span class="op" id="6519558">+</span>&nbsp;<span class="ident" id="6519560">x</span><span class="op" id="6519561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519566">m</span><span class="op" id="6519567">.</span><span class="ident" id="6519568">Cb</span><span class="op" id="6519570">[</span><span class="ident" id="6519571">ci</span><span class="op" id="6519573">]</span>&nbsp;<span class="op" id="6519575">=</span>&nbsp;<span class="builtintype" id="6519577">uint8</span><span class="op" id="6519582">(</span><span class="ident" id="6519583">y</span>&nbsp;<span class="op" id="6519585">+</span>&nbsp;<span class="num" id="6519587">16</span><span class="op" id="6519589">*</span><span class="ident" id="6519590">x</span><span class="op" id="6519591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519596">m</span><span class="op" id="6519597">.</span><span class="ident" id="6519598">Cr</span><span class="op" id="6519600">[</span><span class="ident" id="6519601">ci</span><span class="op" id="6519603">]</span>&nbsp;<span class="op" id="6519605">=</span>&nbsp;<span class="builtintype" id="6519607">uint8</span><span class="op" id="6519612">(</span><span class="ident" id="6519613">y</span>&nbsp;<span class="op" id="6519615">+</span>&nbsp;<span class="num" id="6519617">16</span><span class="op" id="6519619">*</span><span class="ident" id="6519620">x</span><span class="op" id="6519621">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6519625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6519628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6519632">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519666">for</span>&nbsp;<span class="ident" id="6519670">y0</span>&nbsp;<span class="op" id="6519673">:=</span>&nbsp;<span class="ident" id="6519676">delta</span><span class="op" id="6519681">.</span><span class="ident" id="6519682">Y</span>&nbsp;<span class="op" id="6519684">+</span>&nbsp;<span class="num" id="6519686">3</span><span class="op" id="6519687">;</span>&nbsp;<span class="ident" id="6519689">y0</span>&nbsp;<span class="op" id="6519692">&lt;</span>&nbsp;<span class="ident" id="6519694">delta</span><span class="op" id="6519699">.</span><span class="ident" id="6519700">Y</span><span class="op" id="6519701">+</span><span class="num" id="6519702">7</span><span class="op" id="6519703">;</span>&nbsp;<span class="ident" id="6519705">y0</span><span class="op" id="6519707">++</span>&nbsp;<span class="op" id="6519710">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519714">for</span>&nbsp;<span class="ident" id="6519718">y1</span>&nbsp;<span class="op" id="6519721">:=</span>&nbsp;<span class="ident" id="6519724">delta</span><span class="op" id="6519729">.</span><span class="ident" id="6519730">Y</span>&nbsp;<span class="op" id="6519732">+</span>&nbsp;<span class="num" id="6519734">8</span><span class="op" id="6519735">;</span>&nbsp;<span class="ident" id="6519737">y1</span>&nbsp;<span class="op" id="6519740">&lt;</span>&nbsp;<span class="ident" id="6519742">delta</span><span class="op" id="6519747">.</span><span class="ident" id="6519748">Y</span><span class="op" id="6519749">+</span><span class="num" id="6519750">13</span><span class="op" id="6519752">;</span>&nbsp;<span class="ident" id="6519754">y1</span><span class="op" id="6519756">++</span>&nbsp;<span class="op" id="6519759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519764">for</span>&nbsp;<span class="ident" id="6519768">x0</span>&nbsp;<span class="op" id="6519771">:=</span>&nbsp;<span class="ident" id="6519774">delta</span><span class="op" id="6519779">.</span><span class="ident" id="6519780">X</span>&nbsp;<span class="op" id="6519782">+</span>&nbsp;<span class="num" id="6519784">3</span><span class="op" id="6519785">;</span>&nbsp;<span class="ident" id="6519787">x0</span>&nbsp;<span class="op" id="6519790">&lt;</span>&nbsp;<span class="ident" id="6519792">delta</span><span class="op" id="6519797">.</span><span class="ident" id="6519798">X</span><span class="op" id="6519799">+</span><span class="num" id="6519800">7</span><span class="op" id="6519801">;</span>&nbsp;<span class="ident" id="6519803">x0</span><span class="op" id="6519805">++</span>&nbsp;<span class="op" id="6519808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6519814">for</span>&nbsp;<span class="ident" id="6519818">x1</span>&nbsp;<span class="op" id="6519821">:=</span>&nbsp;<span class="ident" id="6519824">delta</span><span class="op" id="6519829">.</span><span class="ident" id="6519830">X</span>&nbsp;<span class="op" id="6519832">+</span>&nbsp;<span class="num" id="6519834">8</span><span class="op" id="6519835">;</span>&nbsp;<span class="ident" id="6519837">x1</span>&nbsp;<span class="op" id="6519840">&lt;</span>&nbsp;<span class="ident" id="6519842">delta</span><span class="op" id="6519847">.</span><span class="ident" id="6519848">X</span><span class="op" id="6519849">+</span><span class="num" id="6519850">13</span><span class="op" id="6519852">;</span>&nbsp;<span class="ident" id="6519854">x1</span><span class="op" id="6519856">++</span>&nbsp;<span class="op" id="6519859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519866">subRect</span>&nbsp;<span class="op" id="6519874">:=</span>&nbsp;<span class="ident" id="6519877">Rect</span><span class="op" id="6519881">(</span><span class="ident" id="6519882">x0</span><span class="op" id="6519884">,</span>&nbsp;<span class="ident" id="6519886">y0</span><span class="op" id="6519888">,</span>&nbsp;<span class="ident" id="6519890">x1</span><span class="op" id="6519892">,</span>&nbsp;<span class="ident" id="6519894">y1</span><span class="op" id="6519896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6519903">sub</span>&nbsp;<span class="op" id="6519907">:=</span>&nbsp;<span class="ident" id="6519910">m</span><span class="op" id="6519911">.</span><span class="ident" id="6519912">SubImage</span><span class="op" id="6519920">(</span><span class="ident" id="6519921">subRect</span><span class="op" id="6519928">)</span><span class="op" id="6519929">.</span><span class="op" id="6519930">(</span><span class="op" id="6519931">*</span><span class="ident" id="6519932">YCbCr</span><span class="op" id="6519937">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6519945">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6520038">for</span>&nbsp;<span class="ident" id="6520042">y</span>&nbsp;<span class="op" id="6520044">:=</span>&nbsp;<span class="ident" id="6520047">sub</span><span class="op" id="6520050">.</span><span class="ident" id="6520051">Rect</span><span class="op" id="6520055">.</span><span class="ident" id="6520056">Min</span><span class="op" id="6520059">.</span><span class="ident" id="6520060">Y</span><span class="op" id="6520061">;</span>&nbsp;<span class="ident" id="6520063">y</span>&nbsp;<span class="op" id="6520065">&lt;</span>&nbsp;<span class="ident" id="6520067">sub</span><span class="op" id="6520070">.</span><span class="ident" id="6520071">Rect</span><span class="op" id="6520075">.</span><span class="ident" id="6520076">Max</span><span class="op" id="6520079">.</span><span class="ident" id="6520080">Y</span><span class="op" id="6520081">;</span>&nbsp;<span class="ident" id="6520083">y</span><span class="op" id="6520084">++</span>&nbsp;<span class="op" id="6520087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6520095">for</span>&nbsp;<span class="ident" id="6520099">x</span>&nbsp;<span class="op" id="6520101">:=</span>&nbsp;<span class="ident" id="6520104">sub</span><span class="op" id="6520107">.</span><span class="ident" id="6520108">Rect</span><span class="op" id="6520112">.</span><span class="ident" id="6520113">Min</span><span class="op" id="6520116">.</span><span class="ident" id="6520117">X</span><span class="op" id="6520118">;</span>&nbsp;<span class="ident" id="6520120">x</span>&nbsp;<span class="op" id="6520122">&lt;</span>&nbsp;<span class="ident" id="6520124">sub</span><span class="op" id="6520127">.</span><span class="ident" id="6520128">Rect</span><span class="op" id="6520132">.</span><span class="ident" id="6520133">Max</span><span class="op" id="6520136">.</span><span class="ident" id="6520137">X</span><span class="op" id="6520138">;</span>&nbsp;<span class="ident" id="6520140">x</span><span class="op" id="6520141">++</span>&nbsp;<span class="op" id="6520144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6520153">color0</span>&nbsp;<span class="op" id="6520160">:=</span>&nbsp;<span class="ident" id="6520163">m</span><span class="op" id="6520164">.</span><span class="ident" id="6520165">At</span><span class="op" id="6520167">(</span><span class="ident" id="6520168">x</span><span class="op" id="6520169">,</span>&nbsp;<span class="ident" id="6520171">y</span><span class="op" id="6520172">)</span><span class="op" id="6520173">.</span><span class="op" id="6520174">(</span><span class="ident" id="6520175">color</span><span class="op" id="6520180">.</span><span class="ident" id="6520181">YCbCr</span><span class="op" id="6520186">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6520195">color1</span>&nbsp;<span class="op" id="6520202">:=</span>&nbsp;<span class="ident" id="6520205">sub</span><span class="op" id="6520208">.</span><span class="ident" id="6520209">At</span><span class="op" id="6520211">(</span><span class="ident" id="6520212">x</span><span class="op" id="6520213">,</span>&nbsp;<span class="ident" id="6520215">y</span><span class="op" id="6520216">)</span><span class="op" id="6520217">.</span><span class="op" id="6520218">(</span><span class="ident" id="6520219">color</span><span class="op" id="6520224">.</span><span class="ident" id="6520225">YCbCr</span><span class="op" id="6520230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6520239">if</span>&nbsp;<span class="ident" id="6520242">color0</span>&nbsp;<span class="op" id="6520249">!=</span>&nbsp;<span class="ident" id="6520252">color1</span>&nbsp;<span class="op" id="6520259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6520269">t</span><span class="op" id="6520270">.</span><span class="ident" id="6520271">Errorf</span><span class="op" id="6520277">(</span><span class="string" id="6520278">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="6520347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6520358">r</span><span class="op" id="6520359">,</span>&nbsp;<span class="ident" id="6520361">subsampleRatio</span><span class="op" id="6520375">,</span>&nbsp;<span class="ident" id="6520377">delta</span><span class="op" id="6520382">,</span>&nbsp;<span class="ident" id="6520384">x</span><span class="op" id="6520385">,</span>&nbsp;<span class="ident" id="6520387">y</span><span class="op" id="6520388">,</span>&nbsp;<span class="ident" id="6520390">color0</span><span class="op" id="6520396">,</span>&nbsp;<span class="ident" id="6520398">color1</span><span class="op" id="6520404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6520414">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520454">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6520461">}</span><br>
<span class="lineno"></span><span class="op" id="6520463">}</span>
</div>
</body>
</html>
