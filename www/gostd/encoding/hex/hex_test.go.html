<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8252856">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8252911">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8252965">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8253016">package</span>&nbsp;<span class="ident" id="8253024">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8253029">import</span>&nbsp;<span class="op" id="8253036">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8253039">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8253048">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8253058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8253061">type</span>&nbsp;<span class="ident" id="8253066">encDecTest</span>&nbsp;<span class="keyword" id="8253077">struct</span>&nbsp;<span class="op" id="8253084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253087">enc</span>&nbsp;<span class="builtintype" id="8253091">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253099">dec</span>&nbsp;<span class="op" id="8253103">[</span><span class="op" id="8253104">]</span><span class="builtintype" id="8253105">byte</span><br>
<span class="lineno">15</span><span class="op" id="8253110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8253113">var</span>&nbsp;<span class="ident" id="8253117">encDecTests</span>&nbsp;<span class="op" id="8253129">=</span>&nbsp;<span class="op" id="8253131">[</span><span class="op" id="8253132">]</span><span class="ident" id="8253133">encDecTest</span><span class="op" id="8253143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253146">{</span><span class="string" id="8253147">&#34;&#34;</span><span class="op" id="8253149">,</span>&nbsp;<span class="op" id="8253151">[</span><span class="op" id="8253152">]</span><span class="builtintype" id="8253153">byte</span><span class="op" id="8253157">{</span><span class="op" id="8253158">}</span><span class="op" id="8253159">}</span><span class="op" id="8253160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253163">{</span><span class="string" id="8253164">&#34;0001020304050607&#34;</span><span class="op" id="8253182">,</span>&nbsp;<span class="op" id="8253184">[</span><span class="op" id="8253185">]</span><span class="builtintype" id="8253186">byte</span><span class="op" id="8253190">{</span><span class="num" id="8253191">0</span><span class="op" id="8253192">,</span>&nbsp;<span class="num" id="8253194">1</span><span class="op" id="8253195">,</span>&nbsp;<span class="num" id="8253197">2</span><span class="op" id="8253198">,</span>&nbsp;<span class="num" id="8253200">3</span><span class="op" id="8253201">,</span>&nbsp;<span class="num" id="8253203">4</span><span class="op" id="8253204">,</span>&nbsp;<span class="num" id="8253206">5</span><span class="op" id="8253207">,</span>&nbsp;<span class="num" id="8253209">6</span><span class="op" id="8253210">,</span>&nbsp;<span class="num" id="8253212">7</span><span class="op" id="8253213">}</span><span class="op" id="8253214">}</span><span class="op" id="8253215">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253218">{</span><span class="string" id="8253219">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="8253237">,</span>&nbsp;<span class="op" id="8253239">[</span><span class="op" id="8253240">]</span><span class="builtintype" id="8253241">byte</span><span class="op" id="8253245">{</span><span class="num" id="8253246">8</span><span class="op" id="8253247">,</span>&nbsp;<span class="num" id="8253249">9</span><span class="op" id="8253250">,</span>&nbsp;<span class="num" id="8253252">10</span><span class="op" id="8253254">,</span>&nbsp;<span class="num" id="8253256">11</span><span class="op" id="8253258">,</span>&nbsp;<span class="num" id="8253260">12</span><span class="op" id="8253262">,</span>&nbsp;<span class="num" id="8253264">13</span><span class="op" id="8253266">,</span>&nbsp;<span class="num" id="8253268">14</span><span class="op" id="8253270">,</span>&nbsp;<span class="num" id="8253272">15</span><span class="op" id="8253274">}</span><span class="op" id="8253275">}</span><span class="op" id="8253276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253279">{</span><span class="string" id="8253280">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="8253298">,</span>&nbsp;<span class="op" id="8253300">[</span><span class="op" id="8253301">]</span><span class="builtintype" id="8253302">byte</span><span class="op" id="8253306">{</span><span class="num" id="8253307">0xf0</span><span class="op" id="8253311">,</span>&nbsp;<span class="num" id="8253313">0xf1</span><span class="op" id="8253317">,</span>&nbsp;<span class="num" id="8253319">0xf2</span><span class="op" id="8253323">,</span>&nbsp;<span class="num" id="8253325">0xf3</span><span class="op" id="8253329">,</span>&nbsp;<span class="num" id="8253331">0xf4</span><span class="op" id="8253335">,</span>&nbsp;<span class="num" id="8253337">0xf5</span><span class="op" id="8253341">,</span>&nbsp;<span class="num" id="8253343">0xf6</span><span class="op" id="8253347">,</span>&nbsp;<span class="num" id="8253349">0xf7</span><span class="op" id="8253353">}</span><span class="op" id="8253354">}</span><span class="op" id="8253355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253358">{</span><span class="string" id="8253359">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="8253377">,</span>&nbsp;<span class="op" id="8253379">[</span><span class="op" id="8253380">]</span><span class="builtintype" id="8253381">byte</span><span class="op" id="8253385">{</span><span class="num" id="8253386">0xf8</span><span class="op" id="8253390">,</span>&nbsp;<span class="num" id="8253392">0xf9</span><span class="op" id="8253396">,</span>&nbsp;<span class="num" id="8253398">0xfa</span><span class="op" id="8253402">,</span>&nbsp;<span class="num" id="8253404">0xfb</span><span class="op" id="8253408">,</span>&nbsp;<span class="num" id="8253410">0xfc</span><span class="op" id="8253414">,</span>&nbsp;<span class="num" id="8253416">0xfd</span><span class="op" id="8253420">,</span>&nbsp;<span class="num" id="8253422">0xfe</span><span class="op" id="8253426">,</span>&nbsp;<span class="num" id="8253428">0xff</span><span class="op" id="8253432">}</span><span class="op" id="8253433">}</span><span class="op" id="8253434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253437">{</span><span class="string" id="8253438">&#34;67&#34;</span><span class="op" id="8253442">,</span>&nbsp;<span class="op" id="8253444">[</span><span class="op" id="8253445">]</span><span class="builtintype" id="8253446">byte</span><span class="op" id="8253450">{</span><span class="string" id="8253451">&#39;g&#39;</span><span class="op" id="8253454">}</span><span class="op" id="8253455">}</span><span class="op" id="8253456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253459">{</span><span class="string" id="8253460">&#34;e3a1&#34;</span><span class="op" id="8253466">,</span>&nbsp;<span class="op" id="8253468">[</span><span class="op" id="8253469">]</span><span class="builtintype" id="8253470">byte</span><span class="op" id="8253474">{</span><span class="num" id="8253475">0xe3</span><span class="op" id="8253479">,</span>&nbsp;<span class="num" id="8253481">0xa1</span><span class="op" id="8253485">}</span><span class="op" id="8253486">}</span><span class="op" id="8253487">,</span><br>
<span class="lineno">25</span><span class="op" id="8253489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8253492">func</span>&nbsp;<span class="ident" id="8253497">TestEncode</span><span class="op" id="8253507">(</span><span class="ident" id="8253508">t</span>&nbsp;<span class="op" id="8253510">*</span><span class="ident" id="8253511">testing</span><span class="op" id="8253518">.</span><span class="ident" id="8253519">T</span><span class="op" id="8253520">)</span>&nbsp;<span class="op" id="8253522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8253525">for</span>&nbsp;<span class="ident" id="8253529">i</span><span class="op" id="8253530">,</span>&nbsp;<span class="ident" id="8253532">test</span>&nbsp;<span class="op" id="8253537">:=</span>&nbsp;<span class="keyword" id="8253540">range</span>&nbsp;<span class="ident" id="8253546">encDecTests</span>&nbsp;<span class="op" id="8253558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253562">dst</span>&nbsp;<span class="op" id="8253566">:=</span>&nbsp;<span class="builtinfunc" id="8253569">make</span><span class="op" id="8253573">(</span><span class="op" id="8253574">[</span><span class="op" id="8253575">]</span><span class="builtintype" id="8253576">byte</span><span class="op" id="8253580">,</span>&nbsp;<span class="ident" id="8253582">EncodedLen</span><span class="op" id="8253592">(</span><span class="builtinfunc" id="8253593">len</span><span class="op" id="8253596">(</span><span class="ident" id="8253597">test</span><span class="op" id="8253601">.</span><span class="ident" id="8253602">dec</span><span class="op" id="8253605">)</span><span class="op" id="8253606">)</span><span class="op" id="8253607">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253611">n</span>&nbsp;<span class="op" id="8253613">:=</span>&nbsp;<span class="ident" id="8253616">Encode</span><span class="op" id="8253622">(</span><span class="ident" id="8253623">dst</span><span class="op" id="8253626">,</span>&nbsp;<span class="ident" id="8253628">test</span><span class="op" id="8253632">.</span><span class="ident" id="8253633">dec</span><span class="op" id="8253636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8253640">if</span>&nbsp;<span class="ident" id="8253643">n</span>&nbsp;<span class="op" id="8253645">!=</span>&nbsp;<span class="builtinfunc" id="8253648">len</span><span class="op" id="8253651">(</span><span class="ident" id="8253652">dst</span><span class="op" id="8253655">)</span>&nbsp;<span class="op" id="8253657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253662">t</span><span class="op" id="8253663">.</span><span class="ident" id="8253664">Errorf</span><span class="op" id="8253670">(</span><span class="string" id="8253671">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="8253712">,</span>&nbsp;<span class="ident" id="8253714">i</span><span class="op" id="8253715">,</span>&nbsp;<span class="ident" id="8253717">n</span><span class="op" id="8253718">,</span>&nbsp;<span class="builtinfunc" id="8253720">len</span><span class="op" id="8253723">(</span><span class="ident" id="8253724">dst</span><span class="op" id="8253727">)</span><span class="op" id="8253728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8253736">if</span>&nbsp;<span class="builtintype" id="8253739">string</span><span class="op" id="8253745">(</span><span class="ident" id="8253746">dst</span><span class="op" id="8253749">)</span>&nbsp;<span class="op" id="8253751">!=</span>&nbsp;<span class="ident" id="8253754">test</span><span class="op" id="8253758">.</span><span class="ident" id="8253759">enc</span>&nbsp;<span class="op" id="8253763">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253768">t</span><span class="op" id="8253769">.</span><span class="ident" id="8253770">Errorf</span><span class="op" id="8253776">(</span><span class="string" id="8253777">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8253802">,</span>&nbsp;<span class="ident" id="8253804">i</span><span class="op" id="8253805">,</span>&nbsp;<span class="ident" id="8253807">dst</span><span class="op" id="8253810">,</span>&nbsp;<span class="ident" id="8253812">test</span><span class="op" id="8253816">.</span><span class="ident" id="8253817">enc</span><span class="op" id="8253820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8253827">}</span><br>
<span class="lineno"></span><span class="op" id="8253829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8253832">func</span>&nbsp;<span class="ident" id="8253837">TestDecode</span><span class="op" id="8253847">(</span><span class="ident" id="8253848">t</span>&nbsp;<span class="op" id="8253850">*</span><span class="ident" id="8253851">testing</span><span class="op" id="8253858">.</span><span class="ident" id="8253859">T</span><span class="op" id="8253860">)</span>&nbsp;<span class="op" id="8253862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8253865">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8253919">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8253953">decTests</span>&nbsp;<span class="op" id="8253962">:=</span>&nbsp;<span class="builtinfunc" id="8253965">append</span><span class="op" id="8253971">(</span><span class="ident" id="8253972">encDecTests</span><span class="op" id="8253983">,</span>&nbsp;<span class="ident" id="8253985">encDecTest</span><span class="op" id="8253995">{</span><span class="string" id="8253996">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="8254014">,</span>&nbsp;<span class="op" id="8254016">[</span><span class="op" id="8254017">]</span><span class="builtintype" id="8254018">byte</span><span class="op" id="8254022">{</span><span class="num" id="8254023">0xf8</span><span class="op" id="8254027">,</span>&nbsp;<span class="num" id="8254029">0xf9</span><span class="op" id="8254033">,</span>&nbsp;<span class="num" id="8254035">0xfa</span><span class="op" id="8254039">,</span>&nbsp;<span class="num" id="8254041">0xfb</span><span class="op" id="8254045">,</span>&nbsp;<span class="num" id="8254047">0xfc</span><span class="op" id="8254051">,</span>&nbsp;<span class="num" id="8254053">0xfd</span><span class="op" id="8254057">,</span>&nbsp;<span class="num" id="8254059">0xfe</span><span class="op" id="8254063">,</span>&nbsp;<span class="num" id="8254065">0xff</span><span class="op" id="8254069">}</span><span class="op" id="8254070">}</span><span class="op" id="8254071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254074">for</span>&nbsp;<span class="ident" id="8254078">i</span><span class="op" id="8254079">,</span>&nbsp;<span class="ident" id="8254081">test</span>&nbsp;<span class="op" id="8254086">:=</span>&nbsp;<span class="keyword" id="8254089">range</span>&nbsp;<span class="ident" id="8254095">decTests</span>&nbsp;<span class="op" id="8254104">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254108">dst</span>&nbsp;<span class="op" id="8254112">:=</span>&nbsp;<span class="builtinfunc" id="8254115">make</span><span class="op" id="8254119">(</span><span class="op" id="8254120">[</span><span class="op" id="8254121">]</span><span class="builtintype" id="8254122">byte</span><span class="op" id="8254126">,</span>&nbsp;<span class="ident" id="8254128">DecodedLen</span><span class="op" id="8254138">(</span><span class="builtinfunc" id="8254139">len</span><span class="op" id="8254142">(</span><span class="ident" id="8254143">test</span><span class="op" id="8254147">.</span><span class="ident" id="8254148">enc</span><span class="op" id="8254151">)</span><span class="op" id="8254152">)</span><span class="op" id="8254153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254157">n</span><span class="op" id="8254158">,</span>&nbsp;<span class="ident" id="8254160">err</span>&nbsp;<span class="op" id="8254164">:=</span>&nbsp;<span class="ident" id="8254167">Decode</span><span class="op" id="8254173">(</span><span class="ident" id="8254174">dst</span><span class="op" id="8254177">,</span>&nbsp;<span class="op" id="8254179">[</span><span class="op" id="8254180">]</span><span class="builtintype" id="8254181">byte</span><span class="op" id="8254185">(</span><span class="ident" id="8254186">test</span><span class="op" id="8254190">.</span><span class="ident" id="8254191">enc</span><span class="op" id="8254194">)</span><span class="op" id="8254195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254199">if</span>&nbsp;<span class="ident" id="8254202">err</span>&nbsp;<span class="op" id="8254206">!=</span>&nbsp;<span class="builtintype" id="8254209">nil</span>&nbsp;<span class="op" id="8254213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254218">t</span><span class="op" id="8254219">.</span><span class="ident" id="8254220">Errorf</span><span class="op" id="8254226">(</span><span class="string" id="8254227">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="8254266">,</span>&nbsp;<span class="ident" id="8254268">i</span><span class="op" id="8254269">,</span>&nbsp;<span class="ident" id="8254271">n</span><span class="op" id="8254272">,</span>&nbsp;<span class="builtinfunc" id="8254274">len</span><span class="op" id="8254277">(</span><span class="ident" id="8254278">dst</span><span class="op" id="8254281">)</span><span class="op" id="8254282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254286">}</span>&nbsp;<span class="keyword" id="8254288">else</span>&nbsp;<span class="keyword" id="8254293">if</span>&nbsp;<span class="op" id="8254296">!</span><span class="ident" id="8254297">bytes</span><span class="op" id="8254302">.</span><span class="ident" id="8254303">Equal</span><span class="op" id="8254308">(</span><span class="ident" id="8254309">dst</span><span class="op" id="8254312">,</span>&nbsp;<span class="ident" id="8254314">test</span><span class="op" id="8254318">.</span><span class="ident" id="8254319">dec</span><span class="op" id="8254322">)</span>&nbsp;<span class="op" id="8254324">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254329">t</span><span class="op" id="8254330">.</span><span class="ident" id="8254331">Errorf</span><span class="op" id="8254337">(</span><span class="string" id="8254338">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="8254363">,</span>&nbsp;<span class="ident" id="8254365">i</span><span class="op" id="8254366">,</span>&nbsp;<span class="ident" id="8254368">dst</span><span class="op" id="8254371">,</span>&nbsp;<span class="ident" id="8254373">test</span><span class="op" id="8254377">.</span><span class="ident" id="8254378">dec</span><span class="op" id="8254381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254388">}</span><br>
<span class="lineno"></span><span class="op" id="8254390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8254393">func</span>&nbsp;<span class="ident" id="8254398">TestEncodeToString</span><span class="op" id="8254416">(</span><span class="ident" id="8254417">t</span>&nbsp;<span class="op" id="8254419">*</span><span class="ident" id="8254420">testing</span><span class="op" id="8254427">.</span><span class="ident" id="8254428">T</span><span class="op" id="8254429">)</span>&nbsp;<span class="op" id="8254431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254434">for</span>&nbsp;<span class="ident" id="8254438">i</span><span class="op" id="8254439">,</span>&nbsp;<span class="ident" id="8254441">test</span>&nbsp;<span class="op" id="8254446">:=</span>&nbsp;<span class="keyword" id="8254449">range</span>&nbsp;<span class="ident" id="8254455">encDecTests</span>&nbsp;<span class="op" id="8254467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254471">s</span>&nbsp;<span class="op" id="8254473">:=</span>&nbsp;<span class="ident" id="8254476">EncodeToString</span><span class="op" id="8254490">(</span><span class="ident" id="8254491">test</span><span class="op" id="8254495">.</span><span class="ident" id="8254496">dec</span><span class="op" id="8254499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254503">if</span>&nbsp;<span class="ident" id="8254506">s</span>&nbsp;<span class="op" id="8254508">!=</span>&nbsp;<span class="ident" id="8254511">test</span><span class="op" id="8254515">.</span><span class="ident" id="8254516">enc</span>&nbsp;<span class="op" id="8254520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254525">t</span><span class="op" id="8254526">.</span><span class="ident" id="8254527">Errorf</span><span class="op" id="8254533">(</span><span class="string" id="8254534">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="8254554">,</span>&nbsp;<span class="ident" id="8254556">i</span><span class="op" id="8254557">,</span>&nbsp;<span class="ident" id="8254559">s</span><span class="op" id="8254560">,</span>&nbsp;<span class="ident" id="8254562">test</span><span class="op" id="8254566">.</span><span class="ident" id="8254567">enc</span><span class="op" id="8254570">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254577">}</span><br>
<span class="lineno"></span><span class="op" id="8254579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8254582">func</span>&nbsp;<span class="ident" id="8254587">TestDecodeString</span><span class="op" id="8254603">(</span><span class="ident" id="8254604">t</span>&nbsp;<span class="op" id="8254606">*</span><span class="ident" id="8254607">testing</span><span class="op" id="8254614">.</span><span class="ident" id="8254615">T</span><span class="op" id="8254616">)</span>&nbsp;<span class="op" id="8254618">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254621">for</span>&nbsp;<span class="ident" id="8254625">i</span><span class="op" id="8254626">,</span>&nbsp;<span class="ident" id="8254628">test</span>&nbsp;<span class="op" id="8254633">:=</span>&nbsp;<span class="keyword" id="8254636">range</span>&nbsp;<span class="ident" id="8254642">encDecTests</span>&nbsp;<span class="op" id="8254654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254658">dst</span><span class="op" id="8254661">,</span>&nbsp;<span class="ident" id="8254663">err</span>&nbsp;<span class="op" id="8254667">:=</span>&nbsp;<span class="ident" id="8254670">DecodeString</span><span class="op" id="8254682">(</span><span class="ident" id="8254683">test</span><span class="op" id="8254687">.</span><span class="ident" id="8254688">enc</span><span class="op" id="8254691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254695">if</span>&nbsp;<span class="ident" id="8254698">err</span>&nbsp;<span class="op" id="8254702">!=</span>&nbsp;<span class="builtintype" id="8254705">nil</span>&nbsp;<span class="op" id="8254709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254714">t</span><span class="op" id="8254715">.</span><span class="ident" id="8254716">Errorf</span><span class="op" id="8254722">(</span><span class="string" id="8254723">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="8254754">,</span>&nbsp;<span class="ident" id="8254756">i</span><span class="op" id="8254757">,</span>&nbsp;<span class="ident" id="8254759">err</span><span class="op" id="8254762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254767">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8254782">if</span>&nbsp;<span class="op" id="8254785">!</span><span class="ident" id="8254786">bytes</span><span class="op" id="8254791">.</span><span class="ident" id="8254792">Equal</span><span class="op" id="8254797">(</span><span class="ident" id="8254798">dst</span><span class="op" id="8254801">,</span>&nbsp;<span class="ident" id="8254803">test</span><span class="op" id="8254807">.</span><span class="ident" id="8254808">dec</span><span class="op" id="8254811">)</span>&nbsp;<span class="op" id="8254813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254818">t</span><span class="op" id="8254819">.</span><span class="ident" id="8254820">Errorf</span><span class="op" id="8254826">(</span><span class="string" id="8254827">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="8254852">,</span>&nbsp;<span class="ident" id="8254854">i</span><span class="op" id="8254855">,</span>&nbsp;<span class="ident" id="8254857">dst</span><span class="op" id="8254860">,</span>&nbsp;<span class="ident" id="8254862">test</span><span class="op" id="8254866">.</span><span class="ident" id="8254867">dec</span><span class="op" id="8254870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254877">}</span><br>
<span class="lineno">75</span><span class="op" id="8254879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8254882">type</span>&nbsp;<span class="ident" id="8254887">errTest</span>&nbsp;<span class="keyword" id="8254895">struct</span>&nbsp;<span class="op" id="8254902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254905">in</span>&nbsp;&nbsp;<span class="builtintype" id="8254909">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8254917">err</span>&nbsp;<span class="builtintype" id="8254921">string</span><br>
<span class="lineno">80</span><span class="op" id="8254928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8254931">var</span>&nbsp;<span class="ident" id="8254935">errTests</span>&nbsp;<span class="op" id="8254944">=</span>&nbsp;<span class="op" id="8254946">[</span><span class="op" id="8254947">]</span><span class="ident" id="8254948">errTest</span><span class="op" id="8254955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254958">{</span><span class="string" id="8254959">&#34;0&#34;</span><span class="op" id="8254962">,</span>&nbsp;<span class="string" id="8254964">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="8255001">}</span><span class="op" id="8255002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255005">{</span><span class="string" id="8255006">&#34;0g&#34;</span><span class="op" id="8255010">,</span>&nbsp;<span class="string" id="8255012">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8255052">}</span><span class="op" id="8255053">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255056">{</span><span class="string" id="8255057">&#34;00gg&#34;</span><span class="op" id="8255063">,</span>&nbsp;<span class="string" id="8255065">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="8255105">}</span><span class="op" id="8255106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255109">{</span><span class="string" id="8255110">&#34;0\x01&#34;</span><span class="op" id="8255117">,</span>&nbsp;<span class="string" id="8255119">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="8255155">}</span><span class="op" id="8255156">,</span><br>
<span class="lineno"></span><span class="op" id="8255158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8255161">func</span>&nbsp;<span class="ident" id="8255166">TestInvalidErr</span><span class="op" id="8255180">(</span><span class="ident" id="8255181">t</span>&nbsp;<span class="op" id="8255183">*</span><span class="ident" id="8255184">testing</span><span class="op" id="8255191">.</span><span class="ident" id="8255192">T</span><span class="op" id="8255193">)</span>&nbsp;<span class="op" id="8255195">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255198">for</span>&nbsp;<span class="ident" id="8255202">i</span><span class="op" id="8255203">,</span>&nbsp;<span class="ident" id="8255205">test</span>&nbsp;<span class="op" id="8255210">:=</span>&nbsp;<span class="keyword" id="8255213">range</span>&nbsp;<span class="ident" id="8255219">errTests</span>&nbsp;<span class="op" id="8255228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255232">dst</span>&nbsp;<span class="op" id="8255236">:=</span>&nbsp;<span class="builtinfunc" id="8255239">make</span><span class="op" id="8255243">(</span><span class="op" id="8255244">[</span><span class="op" id="8255245">]</span><span class="builtintype" id="8255246">byte</span><span class="op" id="8255250">,</span>&nbsp;<span class="ident" id="8255252">DecodedLen</span><span class="op" id="8255262">(</span><span class="builtinfunc" id="8255263">len</span><span class="op" id="8255266">(</span><span class="ident" id="8255267">test</span><span class="op" id="8255271">.</span><span class="ident" id="8255272">in</span><span class="op" id="8255274">)</span><span class="op" id="8255275">)</span><span class="op" id="8255276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255280">_</span><span class="op" id="8255281">,</span>&nbsp;<span class="ident" id="8255283">err</span>&nbsp;<span class="op" id="8255287">:=</span>&nbsp;<span class="ident" id="8255290">Decode</span><span class="op" id="8255296">(</span><span class="ident" id="8255297">dst</span><span class="op" id="8255300">,</span>&nbsp;<span class="op" id="8255302">[</span><span class="op" id="8255303">]</span><span class="builtintype" id="8255304">byte</span><span class="op" id="8255308">(</span><span class="ident" id="8255309">test</span><span class="op" id="8255313">.</span><span class="ident" id="8255314">in</span><span class="op" id="8255316">)</span><span class="op" id="8255317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255321">if</span>&nbsp;<span class="ident" id="8255324">err</span>&nbsp;<span class="op" id="8255328">==</span>&nbsp;<span class="builtintype" id="8255331">nil</span>&nbsp;<span class="op" id="8255335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255340">t</span><span class="op" id="8255341">.</span><span class="ident" id="8255342">Errorf</span><span class="op" id="8255348">(</span><span class="string" id="8255349">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8255380">,</span>&nbsp;<span class="ident" id="8255382">i</span><span class="op" id="8255383">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255387">}</span>&nbsp;<span class="keyword" id="8255389">else</span>&nbsp;<span class="keyword" id="8255394">if</span>&nbsp;<span class="ident" id="8255397">err</span><span class="op" id="8255400">.</span><span class="ident" id="8255401">Error</span><span class="op" id="8255406">(</span><span class="op" id="8255407">)</span>&nbsp;<span class="op" id="8255409">!=</span>&nbsp;<span class="ident" id="8255412">test</span><span class="op" id="8255416">.</span><span class="ident" id="8255417">err</span>&nbsp;<span class="op" id="8255421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255426">t</span><span class="op" id="8255427">.</span><span class="ident" id="8255428">Errorf</span><span class="op" id="8255434">(</span><span class="string" id="8255435">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8255458">,</span>&nbsp;<span class="ident" id="8255460">i</span><span class="op" id="8255461">,</span>&nbsp;<span class="ident" id="8255463">err</span><span class="op" id="8255466">,</span>&nbsp;<span class="ident" id="8255468">test</span><span class="op" id="8255472">.</span><span class="ident" id="8255473">err</span><span class="op" id="8255476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255483">}</span><br>
<span class="lineno"></span><span class="op" id="8255485">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="8255488">func</span>&nbsp;<span class="ident" id="8255493">TestInvalidStringErr</span><span class="op" id="8255513">(</span><span class="ident" id="8255514">t</span>&nbsp;<span class="op" id="8255516">*</span><span class="ident" id="8255517">testing</span><span class="op" id="8255524">.</span><span class="ident" id="8255525">T</span><span class="op" id="8255526">)</span>&nbsp;<span class="op" id="8255528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255531">for</span>&nbsp;<span class="ident" id="8255535">i</span><span class="op" id="8255536">,</span>&nbsp;<span class="ident" id="8255538">test</span>&nbsp;<span class="op" id="8255543">:=</span>&nbsp;<span class="keyword" id="8255546">range</span>&nbsp;<span class="ident" id="8255552">errTests</span>&nbsp;<span class="op" id="8255561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255565">_</span><span class="op" id="8255566">,</span>&nbsp;<span class="ident" id="8255568">err</span>&nbsp;<span class="op" id="8255572">:=</span>&nbsp;<span class="ident" id="8255575">DecodeString</span><span class="op" id="8255587">(</span><span class="ident" id="8255588">test</span><span class="op" id="8255592">.</span><span class="ident" id="8255593">in</span><span class="op" id="8255595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255599">if</span>&nbsp;<span class="ident" id="8255602">err</span>&nbsp;<span class="op" id="8255606">==</span>&nbsp;<span class="builtintype" id="8255609">nil</span>&nbsp;<span class="op" id="8255613">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255618">t</span><span class="op" id="8255619">.</span><span class="ident" id="8255620">Errorf</span><span class="op" id="8255626">(</span><span class="string" id="8255627">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8255658">,</span>&nbsp;<span class="ident" id="8255660">i</span><span class="op" id="8255661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255665">}</span>&nbsp;<span class="keyword" id="8255667">else</span>&nbsp;<span class="keyword" id="8255672">if</span>&nbsp;<span class="ident" id="8255675">err</span><span class="op" id="8255678">.</span><span class="ident" id="8255679">Error</span><span class="op" id="8255684">(</span><span class="op" id="8255685">)</span>&nbsp;<span class="op" id="8255687">!=</span>&nbsp;<span class="ident" id="8255690">test</span><span class="op" id="8255694">.</span><span class="ident" id="8255695">err</span>&nbsp;<span class="op" id="8255699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255704">t</span><span class="op" id="8255705">.</span><span class="ident" id="8255706">Errorf</span><span class="op" id="8255712">(</span><span class="string" id="8255713">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="8255736">,</span>&nbsp;<span class="ident" id="8255738">i</span><span class="op" id="8255739">,</span>&nbsp;<span class="ident" id="8255741">err</span><span class="op" id="8255744">,</span>&nbsp;<span class="ident" id="8255746">test</span><span class="op" id="8255750">.</span><span class="ident" id="8255751">err</span><span class="op" id="8255754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255761">}</span><br>
<span class="lineno">110</span><span class="op" id="8255763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8255766">func</span>&nbsp;<span class="ident" id="8255771">TestDumper</span><span class="op" id="8255781">(</span><span class="ident" id="8255782">t</span>&nbsp;<span class="op" id="8255784">*</span><span class="ident" id="8255785">testing</span><span class="op" id="8255792">.</span><span class="ident" id="8255793">T</span><span class="op" id="8255794">)</span>&nbsp;<span class="op" id="8255796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255799">var</span>&nbsp;<span class="ident" id="8255803">in</span>&nbsp;<span class="op" id="8255806">[</span><span class="num" id="8255807">40</span><span class="op" id="8255809">]</span><span class="builtintype" id="8255810">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255816">for</span>&nbsp;<span class="ident" id="8255820">i</span>&nbsp;<span class="op" id="8255822">:=</span>&nbsp;<span class="keyword" id="8255825">range</span>&nbsp;<span class="ident" id="8255831">in</span>&nbsp;<span class="op" id="8255834">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255838">in</span><span class="op" id="8255840">[</span><span class="ident" id="8255841">i</span><span class="op" id="8255842">]</span>&nbsp;<span class="op" id="8255844">=</span>&nbsp;<span class="builtintype" id="8255846">byte</span><span class="op" id="8255850">(</span><span class="ident" id="8255851">i</span>&nbsp;<span class="op" id="8255853">+</span>&nbsp;<span class="num" id="8255855">30</span><span class="op" id="8255857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8255860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255864">for</span>&nbsp;<span class="ident" id="8255868">stride</span>&nbsp;<span class="op" id="8255875">:=</span>&nbsp;<span class="num" id="8255878">1</span><span class="op" id="8255879">;</span>&nbsp;<span class="ident" id="8255881">stride</span>&nbsp;<span class="op" id="8255888">&lt;</span>&nbsp;<span class="builtinfunc" id="8255890">len</span><span class="op" id="8255893">(</span><span class="ident" id="8255894">in</span><span class="op" id="8255896">)</span><span class="op" id="8255897">;</span>&nbsp;<span class="ident" id="8255899">stride</span><span class="op" id="8255905">++</span>&nbsp;<span class="op" id="8255908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255912">var</span>&nbsp;<span class="ident" id="8255916">out</span>&nbsp;<span class="ident" id="8255920">bytes</span><span class="op" id="8255925">.</span><span class="ident" id="8255926">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255935">dumper</span>&nbsp;<span class="op" id="8255942">:=</span>&nbsp;<span class="ident" id="8255945">Dumper</span><span class="op" id="8255951">(</span><span class="op" id="8255952">&amp;</span><span class="ident" id="8255953">out</span><span class="op" id="8255956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255960">done</span>&nbsp;<span class="op" id="8255965">:=</span>&nbsp;<span class="num" id="8255968">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8255972">for</span>&nbsp;<span class="ident" id="8255976">done</span>&nbsp;<span class="op" id="8255981">&lt;</span>&nbsp;<span class="builtinfunc" id="8255983">len</span><span class="op" id="8255986">(</span><span class="ident" id="8255987">in</span><span class="op" id="8255989">)</span>&nbsp;<span class="op" id="8255991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8255996">todo</span>&nbsp;<span class="op" id="8256001">:=</span>&nbsp;<span class="ident" id="8256004">done</span>&nbsp;<span class="op" id="8256009">+</span>&nbsp;<span class="ident" id="8256011">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8256021">if</span>&nbsp;<span class="ident" id="8256024">todo</span>&nbsp;<span class="op" id="8256029">&gt;</span>&nbsp;<span class="builtinfunc" id="8256031">len</span><span class="op" id="8256034">(</span><span class="ident" id="8256035">in</span><span class="op" id="8256037">)</span>&nbsp;<span class="op" id="8256039">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256045">todo</span>&nbsp;<span class="op" id="8256050">=</span>&nbsp;<span class="builtinfunc" id="8256052">len</span><span class="op" id="8256055">(</span><span class="ident" id="8256056">in</span><span class="op" id="8256058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256068">dumper</span><span class="op" id="8256074">.</span><span class="ident" id="8256075">Write</span><span class="op" id="8256080">(</span><span class="ident" id="8256081">in</span><span class="op" id="8256083">[</span><span class="ident" id="8256084">done</span><span class="op" id="8256088">:</span><span class="ident" id="8256089">todo</span><span class="op" id="8256093">]</span><span class="op" id="8256094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256099">done</span>&nbsp;<span class="op" id="8256104">=</span>&nbsp;<span class="ident" id="8256106">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256113">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256118">dumper</span><span class="op" id="8256124">.</span><span class="ident" id="8256125">Close</span><span class="op" id="8256130">(</span><span class="op" id="8256131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8256135">if</span>&nbsp;<span class="op" id="8256138">!</span><span class="ident" id="8256139">bytes</span><span class="op" id="8256144">.</span><span class="ident" id="8256145">Equal</span><span class="op" id="8256150">(</span><span class="ident" id="8256151">out</span><span class="op" id="8256154">.</span><span class="ident" id="8256155">Bytes</span><span class="op" id="8256160">(</span><span class="op" id="8256161">)</span><span class="op" id="8256162">,</span>&nbsp;<span class="ident" id="8256164">expectedHexDump</span><span class="op" id="8256179">)</span>&nbsp;<span class="op" id="8256181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256186">t</span><span class="op" id="8256187">.</span><span class="ident" id="8256188">Errorf</span><span class="op" id="8256194">(</span><span class="string" id="8256195">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8256235">,</span>&nbsp;<span class="ident" id="8256237">stride</span><span class="op" id="8256243">,</span>&nbsp;<span class="ident" id="8256245">out</span><span class="op" id="8256248">.</span><span class="ident" id="8256249">Bytes</span><span class="op" id="8256254">(</span><span class="op" id="8256255">)</span><span class="op" id="8256256">,</span>&nbsp;<span class="ident" id="8256258">expectedHexDump</span><span class="op" id="8256273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256277">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256280">}</span><br>
<span class="lineno"></span><span class="op" id="8256282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8256285">func</span>&nbsp;<span class="ident" id="8256290">TestDump</span><span class="op" id="8256298">(</span><span class="ident" id="8256299">t</span>&nbsp;<span class="op" id="8256301">*</span><span class="ident" id="8256302">testing</span><span class="op" id="8256309">.</span><span class="ident" id="8256310">T</span><span class="op" id="8256311">)</span>&nbsp;<span class="op" id="8256313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8256316">var</span>&nbsp;<span class="ident" id="8256320">in</span>&nbsp;<span class="op" id="8256323">[</span><span class="num" id="8256324">40</span><span class="op" id="8256326">]</span><span class="builtintype" id="8256327">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8256333">for</span>&nbsp;<span class="ident" id="8256337">i</span>&nbsp;<span class="op" id="8256339">:=</span>&nbsp;<span class="keyword" id="8256342">range</span>&nbsp;<span class="ident" id="8256348">in</span>&nbsp;<span class="op" id="8256351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256355">in</span><span class="op" id="8256357">[</span><span class="ident" id="8256358">i</span><span class="op" id="8256359">]</span>&nbsp;<span class="op" id="8256361">=</span>&nbsp;<span class="builtintype" id="8256363">byte</span><span class="op" id="8256367">(</span><span class="ident" id="8256368">i</span>&nbsp;<span class="op" id="8256370">+</span>&nbsp;<span class="num" id="8256372">30</span><span class="op" id="8256374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256381">out</span>&nbsp;<span class="op" id="8256385">:=</span>&nbsp;<span class="op" id="8256388">[</span><span class="op" id="8256389">]</span><span class="builtintype" id="8256390">byte</span><span class="op" id="8256394">(</span><span class="ident" id="8256395">Dump</span><span class="op" id="8256399">(</span><span class="ident" id="8256400">in</span><span class="op" id="8256402">[</span><span class="op" id="8256403">:</span><span class="op" id="8256404">]</span><span class="op" id="8256405">)</span><span class="op" id="8256406">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8256409">if</span>&nbsp;<span class="op" id="8256412">!</span><span class="ident" id="8256413">bytes</span><span class="op" id="8256418">.</span><span class="ident" id="8256419">Equal</span><span class="op" id="8256424">(</span><span class="ident" id="8256425">out</span><span class="op" id="8256428">,</span>&nbsp;<span class="ident" id="8256430">expectedHexDump</span><span class="op" id="8256445">)</span>&nbsp;<span class="op" id="8256447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8256451">t</span><span class="op" id="8256452">.</span><span class="ident" id="8256453">Errorf</span><span class="op" id="8256459">(</span><span class="string" id="8256460">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="8256481">,</span>&nbsp;<span class="ident" id="8256483">out</span><span class="op" id="8256486">,</span>&nbsp;<span class="ident" id="8256488">expectedHexDump</span><span class="op" id="8256503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8256506">}</span><br>
<span class="lineno"></span><span class="op" id="8256508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="8256511">var</span>&nbsp;<span class="ident" id="8256515">expectedHexDump</span>&nbsp;<span class="op" id="8256531">=</span>&nbsp;<span class="op" id="8256533">[</span><span class="op" id="8256534">]</span><span class="builtintype" id="8256535">byte</span><span class="op" id="8256539">(</span><span class="string" id="8256540">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="8256771">)</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
