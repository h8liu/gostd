<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5108874">package</span>&nbsp;<span class="ident" id="5108882">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5108888">import</span>&nbsp;<span class="op" id="5108895">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5108898">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5108920">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5108923">type</span>&nbsp;<span class="ident" id="5108928">instParse</span>&nbsp;<span class="keyword" id="5108938">func</span><span class="op" id="5108942">(</span><span class="op" id="5108943">*</span><span class="ident" id="5108944">parser</span><span class="op" id="5108950">,</span>&nbsp;<span class="op" id="5108952">[</span><span class="op" id="5108953">]</span><span class="op" id="5108954">*</span><span class="ident" id="5108955">lex8</span><span class="op" id="5108959">.</span><span class="ident" id="5108960">Token</span><span class="op" id="5108965">)</span>&nbsp;<span class="op" id="5108967">(</span><span class="op" id="5108968">*</span><span class="ident" id="5108969">inst</span><span class="op" id="5108973">,</span>&nbsp;<span class="builtintype" id="5108975">bool</span><span class="op" id="5108979">)</span><br>
<span class="lineno"></span><span class="keyword" id="5108981">type</span>&nbsp;<span class="ident" id="5108986">instParsers</span>&nbsp;<span class="op" id="5108998">[</span><span class="op" id="5108999">]</span><span class="ident" id="5109000">instParse</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5109011">func</span>&nbsp;<span class="op" id="5109016">(</span><span class="ident" id="5109017">ips</span>&nbsp;<span class="ident" id="5109021">instParsers</span><span class="op" id="5109032">)</span>&nbsp;<span class="ident" id="5109034">parse</span><span class="op" id="5109039">(</span><span class="ident" id="5109040">p</span>&nbsp;<span class="op" id="5109042">*</span><span class="ident" id="5109043">parser</span><span class="op" id="5109049">,</span>&nbsp;<span class="ident" id="5109051">ops</span>&nbsp;<span class="op" id="5109055">[</span><span class="op" id="5109056">]</span><span class="op" id="5109057">*</span><span class="ident" id="5109058">lex8</span><span class="op" id="5109062">.</span><span class="ident" id="5109063">Token</span><span class="op" id="5109068">)</span>&nbsp;<span class="op" id="5109070">*</span><span class="ident" id="5109071">inst</span>&nbsp;<span class="op" id="5109076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109079">for</span>&nbsp;<span class="ident" id="5109083">_</span><span class="op" id="5109084">,</span>&nbsp;<span class="ident" id="5109086">ip</span>&nbsp;<span class="op" id="5109089">:=</span>&nbsp;<span class="keyword" id="5109092">range</span>&nbsp;<span class="ident" id="5109098">ips</span>&nbsp;<span class="op" id="5109102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109106">if</span>&nbsp;<span class="ident" id="5109109">i</span><span class="op" id="5109110">,</span>&nbsp;<span class="ident" id="5109112">hit</span>&nbsp;<span class="op" id="5109116">:=</span>&nbsp;<span class="ident" id="5109119">ip</span><span class="op" id="5109121">(</span><span class="ident" id="5109122">p</span><span class="op" id="5109123">,</span>&nbsp;<span class="ident" id="5109125">ops</span><span class="op" id="5109128">)</span><span class="op" id="5109129">;</span>&nbsp;<span class="ident" id="5109131">hit</span>&nbsp;<span class="op" id="5109135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109140">return</span>&nbsp;<span class="ident" id="5109147">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109151">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5109154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5109158">op0</span>&nbsp;<span class="op" id="5109162">:=</span>&nbsp;<span class="ident" id="5109165">ops</span><span class="op" id="5109168">[</span><span class="num" id="5109169">0</span><span class="op" id="5109170">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5109173">p</span><span class="op" id="5109174">.</span><span class="ident" id="5109175">err</span><span class="op" id="5109178">(</span><span class="ident" id="5109179">op0</span><span class="op" id="5109182">.</span><span class="ident" id="5109183">Pos</span><span class="op" id="5109186">,</span>&nbsp;<span class="string" id="5109188">&#34;invalid&nbsp;asm&nbsp;instruction&nbsp;%q&#34;</span><span class="op" id="5109216">,</span>&nbsp;<span class="ident" id="5109218">op0</span><span class="op" id="5109221">.</span><span class="ident" id="5109222">Lit</span><span class="op" id="5109225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5109228">return</span>&nbsp;<span class="ident" id="5109235">nil</span><br>
<span class="lineno">20</span><span class="op" id="5109239">}</span>
</div>
</body>
</html>
