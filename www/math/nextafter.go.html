<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1527484">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1527539">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1527593">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1527644">package</span>&nbsp;<span class="ident" id="1527652">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1527658">//&nbsp;Nextafter32&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float32&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="1527737">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno"></span><span class="comment" id="1527755">//&nbsp;&nbsp;&nbsp;&nbspNextafter32(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno">10</span><span class="comment" id="1527782">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1527816">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1527850">func</span>&nbsp;<span class="ident" id="1527855">Nextafter32</span><span class="op" id="1527866">(</span><span class="ident" id="1527867">x</span><span class="op" id="1527868">,</span>&nbsp;<span class="ident" id="1527870">y</span>&nbsp;<span class="builtintype" id="1527872">float32</span><span class="op" id="1527879">)</span>&nbsp;<span class="op" id="1527881">(</span><span class="ident" id="1527882">r</span>&nbsp;<span class="builtintype" id="1527884">float32</span><span class="op" id="1527891">)</span>&nbsp;<span class="op" id="1527893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527896">switch</span>&nbsp;<span class="op" id="1527903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527906">case</span>&nbsp;<span class="ident" id="1527911"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1527916">(</span><span class="builtintype" id="1527917">float64</span><span class="op" id="1527924">(</span><span class="ident" id="1527925"><a href="/math/nextafter.go.html#1527867">x</a></span><span class="op" id="1527926">)</span><span class="op" id="1527927">)</span>&nbsp;<span class="op" id="1527929">||</span>&nbsp;<span class="ident" id="1527932"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1527937">(</span><span class="builtintype" id="1527938">float64</span><span class="op" id="1527945">(</span><span class="ident" id="1527946"><a href="/math/nextafter.go.html#1527870">y</a></span><span class="op" id="1527947">)</span><span class="op" id="1527948">)</span><span class="op" id="1527949">:</span>&nbsp;<span class="comment" id="1527951">//&nbsp;special&nbsp;case</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1527969"><a href="/math/nextafter.go.html#1527882">r</a></span>&nbsp;<span class="op" id="1527971">=</span>&nbsp;<span class="builtintype" id="1527973">float32</span><span class="op" id="1527980">(</span><span class="ident" id="1527981"><a href="/math/bits.go.html#1427274">NaN</a></span><span class="op" id="1527984">(</span><span class="op" id="1527985">)</span><span class="op" id="1527986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527989">case</span>&nbsp;<span class="ident" id="1527994"><a href="/math/nextafter.go.html#1527867">x</a></span>&nbsp;<span class="op" id="1527996">==</span>&nbsp;<span class="ident" id="1527999"><a href="/math/nextafter.go.html#1527870">y</a></span><span class="op" id="1528000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528004"><a href="/math/nextafter.go.html#1527882">r</a></span>&nbsp;<span class="op" id="1528006">=</span>&nbsp;<span class="ident" id="1528008"><a href="/math/nextafter.go.html#1527867">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528011">case</span>&nbsp;<span class="ident" id="1528016"><a href="/math/nextafter.go.html#1527867">x</a></span>&nbsp;<span class="op" id="1528018">==</span>&nbsp;<span class="num" id="1528021">0</span><span class="op" id="1528022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528026"><a href="/math/nextafter.go.html#1527882">r</a></span>&nbsp;<span class="op" id="1528028">=</span>&nbsp;<span class="builtintype" id="1528030">float32</span><span class="op" id="1528037">(</span><span class="ident" id="1528038"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1528046">(</span><span class="builtintype" id="1528047">float64</span><span class="op" id="1528054">(</span><span class="ident" id="1528055"><a href="/math/unsafe.go.html#1555885">Float32frombits</a></span><span class="op" id="1528070">(</span><span class="num" id="1528071">1</span><span class="op" id="1528072">)</span><span class="op" id="1528073">)</span><span class="op" id="1528074">,</span>&nbsp;<span class="builtintype" id="1528076">float64</span><span class="op" id="1528083">(</span><span class="ident" id="1528084"><a href="/math/nextafter.go.html#1527870">y</a></span><span class="op" id="1528085">)</span><span class="op" id="1528086">)</span><span class="op" id="1528087">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528090">case</span>&nbsp;<span class="op" id="1528095">(</span><span class="ident" id="1528096"><a href="/math/nextafter.go.html#1527870">y</a></span>&nbsp;<span class="op" id="1528098">&gt;</span>&nbsp;<span class="ident" id="1528100"><a href="/math/nextafter.go.html#1527867">x</a></span><span class="op" id="1528101">)</span>&nbsp;<span class="op" id="1528103">==</span>&nbsp;<span class="op" id="1528106">(</span><span class="ident" id="1528107"><a href="/math/nextafter.go.html#1527867">x</a></span>&nbsp;<span class="op" id="1528109">&gt;</span>&nbsp;<span class="num" id="1528111">0</span><span class="op" id="1528112">)</span><span class="op" id="1528113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528117"><a href="/math/nextafter.go.html#1527882">r</a></span>&nbsp;<span class="op" id="1528119">=</span>&nbsp;<span class="ident" id="1528121"><a href="/math/unsafe.go.html#1555885">Float32frombits</a></span><span class="op" id="1528136">(</span><span class="ident" id="1528137"><a href="/math/unsafe.go.html#1555696">Float32bits</a></span><span class="op" id="1528148">(</span><span class="ident" id="1528149"><a href="/math/nextafter.go.html#1527867">x</a></span><span class="op" id="1528150">)</span>&nbsp;<span class="op" id="1528152">+</span>&nbsp;<span class="num" id="1528154">1</span><span class="op" id="1528155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528158">default</span><span class="op" id="1528165">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528169"><a href="/math/nextafter.go.html#1527882">r</a></span>&nbsp;<span class="op" id="1528171">=</span>&nbsp;<span class="ident" id="1528173"><a href="/math/unsafe.go.html#1555885">Float32frombits</a></span><span class="op" id="1528188">(</span><span class="ident" id="1528189"><a href="/math/unsafe.go.html#1555696">Float32bits</a></span><span class="op" id="1528200">(</span><span class="ident" id="1528201"><a href="/math/nextafter.go.html#1527867">x</a></span><span class="op" id="1528202">)</span>&nbsp;<span class="op" id="1528204">-</span>&nbsp;<span class="num" id="1528206">1</span><span class="op" id="1528207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1528210">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528213">return</span><br>
<span class="lineno"></span><span class="op" id="1528220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1528223">//&nbsp;Nextafter&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float64&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="1528300">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno">30</span><span class="comment" id="1528318">//&nbsp;&nbsp;&nbsp;&nbspNextafter64(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="1528345">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1528379">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1528413">func</span>&nbsp;<span class="ident" id="1528418">Nextafter</span><span class="op" id="1528427">(</span><span class="ident" id="1528428">x</span><span class="op" id="1528429">,</span>&nbsp;<span class="ident" id="1528431">y</span>&nbsp;<span class="builtintype" id="1528433">float64</span><span class="op" id="1528440">)</span>&nbsp;<span class="op" id="1528442">(</span><span class="ident" id="1528443">r</span>&nbsp;<span class="builtintype" id="1528445">float64</span><span class="op" id="1528452">)</span>&nbsp;<span class="op" id="1528454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528457">switch</span>&nbsp;<span class="op" id="1528464">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528467">case</span>&nbsp;<span class="ident" id="1528472"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1528477">(</span><span class="ident" id="1528478"><a href="/math/nextafter.go.html#1528428">x</a></span><span class="op" id="1528479">)</span>&nbsp;<span class="op" id="1528481">||</span>&nbsp;<span class="ident" id="1528484"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1528489">(</span><span class="ident" id="1528490"><a href="/math/nextafter.go.html#1528431">y</a></span><span class="op" id="1528491">)</span><span class="op" id="1528492">:</span>&nbsp;<span class="comment" id="1528494">//&nbsp;special&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528512"><a href="/math/nextafter.go.html#1528443">r</a></span>&nbsp;<span class="op" id="1528514">=</span>&nbsp;<span class="ident" id="1528516"><a href="/math/bits.go.html#1427274">NaN</a></span><span class="op" id="1528519">(</span><span class="op" id="1528520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528523">case</span>&nbsp;<span class="ident" id="1528528"><a href="/math/nextafter.go.html#1528428">x</a></span>&nbsp;<span class="op" id="1528530">==</span>&nbsp;<span class="ident" id="1528533"><a href="/math/nextafter.go.html#1528431">y</a></span><span class="op" id="1528534">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528538"><a href="/math/nextafter.go.html#1528443">r</a></span>&nbsp;<span class="op" id="1528540">=</span>&nbsp;<span class="ident" id="1528542"><a href="/math/nextafter.go.html#1528428">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528545">case</span>&nbsp;<span class="ident" id="1528550"><a href="/math/nextafter.go.html#1528428">x</a></span>&nbsp;<span class="op" id="1528552">==</span>&nbsp;<span class="num" id="1528555">0</span><span class="op" id="1528556">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528560"><a href="/math/nextafter.go.html#1528443">r</a></span>&nbsp;<span class="op" id="1528562">=</span>&nbsp;<span class="ident" id="1528564"><a href="/math/copysign.go.html#1432437">Copysign</a></span><span class="op" id="1528572">(</span><span class="ident" id="1528573"><a href="/math/unsafe.go.html#1556218">Float64frombits</a></span><span class="op" id="1528588">(</span><span class="num" id="1528589">1</span><span class="op" id="1528590">)</span><span class="op" id="1528591">,</span>&nbsp;<span class="ident" id="1528593"><a href="/math/nextafter.go.html#1528431">y</a></span><span class="op" id="1528594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528597">case</span>&nbsp;<span class="op" id="1528602">(</span><span class="ident" id="1528603"><a href="/math/nextafter.go.html#1528431">y</a></span>&nbsp;<span class="op" id="1528605">&gt;</span>&nbsp;<span class="ident" id="1528607"><a href="/math/nextafter.go.html#1528428">x</a></span><span class="op" id="1528608">)</span>&nbsp;<span class="op" id="1528610">==</span>&nbsp;<span class="op" id="1528613">(</span><span class="ident" id="1528614"><a href="/math/nextafter.go.html#1528428">x</a></span>&nbsp;<span class="op" id="1528616">&gt;</span>&nbsp;<span class="num" id="1528618">0</span><span class="op" id="1528619">)</span><span class="op" id="1528620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528624"><a href="/math/nextafter.go.html#1528443">r</a></span>&nbsp;<span class="op" id="1528626">=</span>&nbsp;<span class="ident" id="1528628"><a href="/math/unsafe.go.html#1556218">Float64frombits</a></span><span class="op" id="1528643">(</span><span class="ident" id="1528644"><a href="/math/unsafe.go.html#1556032">Float64bits</a></span><span class="op" id="1528655">(</span><span class="ident" id="1528656"><a href="/math/nextafter.go.html#1528428">x</a></span><span class="op" id="1528657">)</span>&nbsp;<span class="op" id="1528659">+</span>&nbsp;<span class="num" id="1528661">1</span><span class="op" id="1528662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528665">default</span><span class="op" id="1528672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1528676"><a href="/math/nextafter.go.html#1528443">r</a></span>&nbsp;<span class="op" id="1528678">=</span>&nbsp;<span class="ident" id="1528680"><a href="/math/unsafe.go.html#1556218">Float64frombits</a></span><span class="op" id="1528695">(</span><span class="ident" id="1528696"><a href="/math/unsafe.go.html#1556032">Float64bits</a></span><span class="op" id="1528707">(</span><span class="ident" id="1528708"><a href="/math/nextafter.go.html#1528428">x</a></span><span class="op" id="1528709">)</span>&nbsp;<span class="op" id="1528711">-</span>&nbsp;<span class="num" id="1528713">1</span><span class="op" id="1528714">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1528717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1528720">return</span><br>
<span class="lineno"></span><span class="op" id="1528727">}</span>
</div>
</body>
</html>
