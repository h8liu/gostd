<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6138513">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6138569">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6138623">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6138674">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="6138712">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="6138773">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6138820">package</span>&nbsp;<span class="ident" id="6138828">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6138835">import</span>&nbsp;<span class="string" id="6138842">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6138853">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6138913">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="6138971">type</span>&nbsp;<span class="ident" id="6138976">Type</span>&nbsp;<span class="keyword" id="6138981">interface</span>&nbsp;<span class="op" id="6138991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138994">Common</span><span class="op" id="6139000">(</span><span class="op" id="6139001">)</span>&nbsp;<span class="op" id="6139003">*</span><span class="ident" id="6139004">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139016">String</span><span class="op" id="6139022">(</span><span class="op" id="6139023">)</span>&nbsp;<span class="builtintype" id="6139025">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139033">Size</span><span class="op" id="6139037">(</span><span class="op" id="6139038">)</span>&nbsp;<span class="ident" id="6139040">int64</span><br>
<span class="lineno"></span><span class="op" id="6139046">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6139049">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="6139104">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="6139167">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="6139194">type</span>&nbsp;<span class="ident" id="6139199">CommonType</span>&nbsp;<span class="keyword" id="6139210">struct</span>&nbsp;<span class="op" id="6139217">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139220">ByteSize</span>&nbsp;<span class="ident" id="6139229">int64</span>&nbsp;&nbsp;<span class="comment" id="6139236">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139277">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6139286">string</span>&nbsp;<span class="comment" id="6139293">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="6139335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6139338">func</span>&nbsp;<span class="op" id="6139343">(</span><span class="ident" id="6139344">c</span>&nbsp;<span class="op" id="6139346">*</span><span class="ident" id="6139347">CommonType</span><span class="op" id="6139357">)</span>&nbsp;<span class="ident" id="6139359">Common</span><span class="op" id="6139365">(</span><span class="op" id="6139366">)</span>&nbsp;<span class="op" id="6139368">*</span><span class="ident" id="6139369">CommonType</span>&nbsp;<span class="op" id="6139380">{</span>&nbsp;<span class="keyword" id="6139382">return</span>&nbsp;<span class="ident" id="6139389">c</span>&nbsp;<span class="op" id="6139391">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6139394">func</span>&nbsp;<span class="op" id="6139399">(</span><span class="ident" id="6139400">c</span>&nbsp;<span class="op" id="6139402">*</span><span class="ident" id="6139403">CommonType</span><span class="op" id="6139413">)</span>&nbsp;<span class="ident" id="6139415">Size</span><span class="op" id="6139419">(</span><span class="op" id="6139420">)</span>&nbsp;<span class="ident" id="6139422">int64</span>&nbsp;<span class="op" id="6139428">{</span>&nbsp;<span class="keyword" id="6139430">return</span>&nbsp;<span class="ident" id="6139437">c</span><span class="op" id="6139438">.</span><span class="ident" id="6139439">ByteSize</span>&nbsp;<span class="op" id="6139448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6139451">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="6139467">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="6139522">type</span>&nbsp;<span class="ident" id="6139527">BasicType</span>&nbsp;<span class="keyword" id="6139537">struct</span>&nbsp;<span class="op" id="6139544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139547">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139559">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6139569">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139576">BitOffset</span>&nbsp;<span class="ident" id="6139586">int64</span><br>
<span class="lineno">40</span><span class="op" id="6139592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6139595">func</span>&nbsp;<span class="op" id="6139600">(</span><span class="ident" id="6139601">b</span>&nbsp;<span class="op" id="6139603">*</span><span class="ident" id="6139604">BasicType</span><span class="op" id="6139613">)</span>&nbsp;<span class="ident" id="6139615">Basic</span><span class="op" id="6139620">(</span><span class="op" id="6139621">)</span>&nbsp;<span class="op" id="6139623">*</span><span class="ident" id="6139624">BasicType</span>&nbsp;<span class="op" id="6139634">{</span>&nbsp;<span class="keyword" id="6139636">return</span>&nbsp;<span class="ident" id="6139643">b</span>&nbsp;<span class="op" id="6139645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6139648">func</span>&nbsp;<span class="op" id="6139653">(</span><span class="ident" id="6139654">t</span>&nbsp;<span class="op" id="6139656">*</span><span class="ident" id="6139657">BasicType</span><span class="op" id="6139666">)</span>&nbsp;<span class="ident" id="6139668">String</span><span class="op" id="6139674">(</span><span class="op" id="6139675">)</span>&nbsp;<span class="builtintype" id="6139677">string</span>&nbsp;<span class="op" id="6139684">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139687">if</span>&nbsp;<span class="ident" id="6139690">t</span><span class="op" id="6139691">.</span><span class="ident" id="6139692">Name</span>&nbsp;<span class="op" id="6139697">!=</span>&nbsp;<span class="string" id="6139700">&#34;&#34;</span>&nbsp;<span class="op" id="6139703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139707">return</span>&nbsp;<span class="ident" id="6139714">t</span><span class="op" id="6139715">.</span><span class="ident" id="6139716">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6139722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139725">return</span>&nbsp;<span class="string" id="6139732">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="6139736">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="6139739">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6139789">type</span>&nbsp;<span class="ident" id="6139794">CharType</span>&nbsp;<span class="keyword" id="6139803">struct</span>&nbsp;<span class="op" id="6139810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139813">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6139823">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="6139826">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6139880">type</span>&nbsp;<span class="ident" id="6139885">UcharType</span>&nbsp;<span class="keyword" id="6139895">struct</span>&nbsp;<span class="op" id="6139902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139905">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6139915">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6139918">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6139966">type</span>&nbsp;<span class="ident" id="6139971">IntType</span>&nbsp;<span class="keyword" id="6139979">struct</span>&nbsp;<span class="op" id="6139986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139989">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6139999">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="6140002">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140053">type</span>&nbsp;<span class="ident" id="6140058">UintType</span>&nbsp;<span class="keyword" id="6140067">struct</span>&nbsp;<span class="op" id="6140074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140077">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140087">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="6140090">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140139">type</span>&nbsp;<span class="ident" id="6140144">FloatType</span>&nbsp;<span class="keyword" id="6140154">struct</span>&nbsp;<span class="op" id="6140161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140164">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140174">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="6140177">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140236">type</span>&nbsp;<span class="ident" id="6140241">ComplexType</span>&nbsp;<span class="keyword" id="6140253">struct</span>&nbsp;<span class="op" id="6140260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140263">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140273">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="6140276">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140317">type</span>&nbsp;<span class="ident" id="6140322">BoolType</span>&nbsp;<span class="keyword" id="6140331">struct</span>&nbsp;<span class="op" id="6140338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140341">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140351">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="6140354">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140404">type</span>&nbsp;<span class="ident" id="6140409">AddrType</span>&nbsp;<span class="keyword" id="6140418">struct</span>&nbsp;<span class="op" id="6140425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140428">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140438">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="6140441">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6140527">type</span>&nbsp;<span class="ident" id="6140532">UnspecifiedType</span>&nbsp;<span class="keyword" id="6140548">struct</span>&nbsp;<span class="op" id="6140555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140558">BasicType</span><br>
<span class="lineno"></span><span class="op" id="6140568">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="6140571">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6140586">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="6140683">type</span>&nbsp;<span class="ident" id="6140688">QualType</span>&nbsp;<span class="keyword" id="6140697">struct</span>&nbsp;<span class="op" id="6140704">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140707">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140719">Qual</span>&nbsp;<span class="builtintype" id="6140724">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140732">Type</span>&nbsp;<span class="ident" id="6140737">Type</span><br>
<span class="lineno"></span><span class="op" id="6140742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="6140745">func</span>&nbsp;<span class="op" id="6140750">(</span><span class="ident" id="6140751">t</span>&nbsp;<span class="op" id="6140753">*</span><span class="ident" id="6140754">QualType</span><span class="op" id="6140762">)</span>&nbsp;<span class="ident" id="6140764">String</span><span class="op" id="6140770">(</span><span class="op" id="6140771">)</span>&nbsp;<span class="builtintype" id="6140773">string</span>&nbsp;<span class="op" id="6140780">{</span>&nbsp;<span class="keyword" id="6140782">return</span>&nbsp;<span class="ident" id="6140789">t</span><span class="op" id="6140790">.</span><span class="ident" id="6140791">Qual</span>&nbsp;<span class="op" id="6140796">+</span>&nbsp;<span class="string" id="6140798">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6140802">+</span>&nbsp;<span class="ident" id="6140804">t</span><span class="op" id="6140805">.</span><span class="ident" id="6140806">Type</span><span class="op" id="6140810">.</span><span class="ident" id="6140811">String</span><span class="op" id="6140817">(</span><span class="op" id="6140818">)</span>&nbsp;<span class="op" id="6140820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6140823">func</span>&nbsp;<span class="op" id="6140828">(</span><span class="ident" id="6140829">t</span>&nbsp;<span class="op" id="6140831">*</span><span class="ident" id="6140832">QualType</span><span class="op" id="6140840">)</span>&nbsp;<span class="ident" id="6140842">Size</span><span class="op" id="6140846">(</span><span class="op" id="6140847">)</span>&nbsp;<span class="ident" id="6140849">int64</span>&nbsp;<span class="op" id="6140855">{</span>&nbsp;<span class="keyword" id="6140857">return</span>&nbsp;<span class="ident" id="6140864">t</span><span class="op" id="6140865">.</span><span class="ident" id="6140866">Type</span><span class="op" id="6140870">.</span><span class="ident" id="6140871">Size</span><span class="op" id="6140875">(</span><span class="op" id="6140876">)</span>&nbsp;<span class="op" id="6140878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6140881">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="6140933">type</span>&nbsp;<span class="ident" id="6140938">ArrayType</span>&nbsp;<span class="keyword" id="6140948">struct</span>&nbsp;<span class="op" id="6140955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140958">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140970">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140984">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140990">StrideBitSize</span>&nbsp;<span class="ident" id="6141004">int64</span>&nbsp;<span class="comment" id="6141010">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141058">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141072">int64</span>&nbsp;<span class="comment" id="6141078">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="6141127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6141130">func</span>&nbsp;<span class="op" id="6141135">(</span><span class="ident" id="6141136">t</span>&nbsp;<span class="op" id="6141138">*</span><span class="ident" id="6141139">ArrayType</span><span class="op" id="6141148">)</span>&nbsp;<span class="ident" id="6141150">String</span><span class="op" id="6141156">(</span><span class="op" id="6141157">)</span>&nbsp;<span class="builtintype" id="6141159">string</span>&nbsp;<span class="op" id="6141166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141169">return</span>&nbsp;<span class="string" id="6141176">&#34;[&#34;</span>&nbsp;<span class="op" id="6141180">+</span>&nbsp;<span class="ident" id="6141182">strconv</span><span class="op" id="6141189">.</span><span class="ident" id="6141190">FormatInt</span><span class="op" id="6141199">(</span><span class="ident" id="6141200">t</span><span class="op" id="6141201">.</span><span class="ident" id="6141202">Count</span><span class="op" id="6141207">,</span>&nbsp;<span class="num" id="6141209">10</span><span class="op" id="6141211">)</span>&nbsp;<span class="op" id="6141213">+</span>&nbsp;<span class="string" id="6141215">&#34;]&#34;</span>&nbsp;<span class="op" id="6141219">+</span>&nbsp;<span class="ident" id="6141221">t</span><span class="op" id="6141222">.</span><span class="ident" id="6141223">Type</span><span class="op" id="6141227">.</span><span class="ident" id="6141228">String</span><span class="op" id="6141234">(</span><span class="op" id="6141235">)</span><br>
<span class="lineno"></span><span class="op" id="6141237">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="6141240">func</span>&nbsp;<span class="op" id="6141245">(</span><span class="ident" id="6141246">t</span>&nbsp;<span class="op" id="6141248">*</span><span class="ident" id="6141249">ArrayType</span><span class="op" id="6141258">)</span>&nbsp;<span class="ident" id="6141260">Size</span><span class="op" id="6141264">(</span><span class="op" id="6141265">)</span>&nbsp;<span class="ident" id="6141267">int64</span>&nbsp;<span class="op" id="6141273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141276">if</span>&nbsp;<span class="ident" id="6141279">t</span><span class="op" id="6141280">.</span><span class="ident" id="6141281">Count</span>&nbsp;<span class="op" id="6141287">==</span>&nbsp;<span class="op" id="6141290">-</span><span class="num" id="6141291">1</span>&nbsp;<span class="op" id="6141293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141297">return</span>&nbsp;<span class="num" id="6141304">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6141307">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141310">return</span>&nbsp;<span class="ident" id="6141317">t</span><span class="op" id="6141318">.</span><span class="ident" id="6141319">Count</span>&nbsp;<span class="op" id="6141325">*</span>&nbsp;<span class="ident" id="6141327">t</span><span class="op" id="6141328">.</span><span class="ident" id="6141329">Type</span><span class="op" id="6141333">.</span><span class="ident" id="6141334">Size</span><span class="op" id="6141338">(</span><span class="op" id="6141339">)</span><br>
<span class="lineno"></span><span class="op" id="6141341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6141344">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6141386">type</span>&nbsp;<span class="ident" id="6141391">VoidType</span>&nbsp;<span class="keyword" id="6141400">struct</span>&nbsp;<span class="op" id="6141407">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141410">CommonType</span><br>
<span class="lineno"></span><span class="op" id="6141421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6141424">func</span>&nbsp;<span class="op" id="6141429">(</span><span class="ident" id="6141430">t</span>&nbsp;<span class="op" id="6141432">*</span><span class="ident" id="6141433">VoidType</span><span class="op" id="6141441">)</span>&nbsp;<span class="ident" id="6141443">String</span><span class="op" id="6141449">(</span><span class="op" id="6141450">)</span>&nbsp;<span class="builtintype" id="6141452">string</span>&nbsp;<span class="op" id="6141459">{</span>&nbsp;<span class="keyword" id="6141461">return</span>&nbsp;<span class="string" id="6141468">&#34;void&#34;</span>&nbsp;<span class="op" id="6141475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="6141478">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6141518">type</span>&nbsp;<span class="ident" id="6141523">PtrType</span>&nbsp;<span class="keyword" id="6141531">struct</span>&nbsp;<span class="op" id="6141538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141541">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141553">Type</span>&nbsp;<span class="ident" id="6141558">Type</span><br>
<span class="lineno"></span><span class="op" id="6141563">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="6141566">func</span>&nbsp;<span class="op" id="6141571">(</span><span class="ident" id="6141572">t</span>&nbsp;<span class="op" id="6141574">*</span><span class="ident" id="6141575">PtrType</span><span class="op" id="6141582">)</span>&nbsp;<span class="ident" id="6141584">String</span><span class="op" id="6141590">(</span><span class="op" id="6141591">)</span>&nbsp;<span class="builtintype" id="6141593">string</span>&nbsp;<span class="op" id="6141600">{</span>&nbsp;<span class="keyword" id="6141602">return</span>&nbsp;<span class="string" id="6141609">&#34;*&#34;</span>&nbsp;<span class="op" id="6141613">+</span>&nbsp;<span class="ident" id="6141615">t</span><span class="op" id="6141616">.</span><span class="ident" id="6141617">Type</span><span class="op" id="6141621">.</span><span class="ident" id="6141622">String</span><span class="op" id="6141628">(</span><span class="op" id="6141629">)</span>&nbsp;<span class="op" id="6141631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6141634">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6141697">type</span>&nbsp;<span class="ident" id="6141702">StructType</span>&nbsp;<span class="keyword" id="6141713">struct</span>&nbsp;<span class="op" id="6141720">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141723">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141735">StructName</span>&nbsp;<span class="builtintype" id="6141746">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141754">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6141765">string</span>&nbsp;<span class="comment" id="6141772">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141807">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6141818">[</span><span class="op" id="6141819">]</span><span class="op" id="6141820">*</span><span class="ident" id="6141821">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141834">Incomplete</span>&nbsp;<span class="builtintype" id="6141845">bool</span>&nbsp;<span class="comment" id="6141850">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="6141911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6141914">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6141989">type</span>&nbsp;<span class="ident" id="6141994">StructField</span>&nbsp;<span class="keyword" id="6142006">struct</span>&nbsp;<span class="op" id="6142013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142016">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6142027">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142035">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142046">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142052">ByteOffset</span>&nbsp;<span class="ident" id="6142063">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142070">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6142081">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142088">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="6142099">int64</span>&nbsp;<span class="comment" id="6142105">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142149">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142160">int64</span>&nbsp;<span class="comment" id="6142166">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="6142193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6142196">func</span>&nbsp;<span class="op" id="6142201">(</span><span class="ident" id="6142202">t</span>&nbsp;<span class="op" id="6142204">*</span><span class="ident" id="6142205">StructType</span><span class="op" id="6142215">)</span>&nbsp;<span class="ident" id="6142217">String</span><span class="op" id="6142223">(</span><span class="op" id="6142224">)</span>&nbsp;<span class="builtintype" id="6142226">string</span>&nbsp;<span class="op" id="6142233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142236">if</span>&nbsp;<span class="ident" id="6142239">t</span><span class="op" id="6142240">.</span><span class="ident" id="6142241">StructName</span>&nbsp;<span class="op" id="6142252">!=</span>&nbsp;<span class="string" id="6142255">&#34;&#34;</span>&nbsp;<span class="op" id="6142258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142262">return</span>&nbsp;<span class="ident" id="6142269">t</span><span class="op" id="6142270">.</span><span class="ident" id="6142271">Kind</span>&nbsp;<span class="op" id="6142276">+</span>&nbsp;<span class="string" id="6142278">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6142282">+</span>&nbsp;<span class="ident" id="6142284">t</span><span class="op" id="6142285">.</span><span class="ident" id="6142286">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142301">return</span>&nbsp;<span class="ident" id="6142308">t</span><span class="op" id="6142309">.</span><span class="ident" id="6142310">Defn</span><span class="op" id="6142314">(</span><span class="op" id="6142315">)</span><br>
<span class="lineno"></span><span class="op" id="6142317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6142320">func</span>&nbsp;<span class="op" id="6142325">(</span><span class="ident" id="6142326">t</span>&nbsp;<span class="op" id="6142328">*</span><span class="ident" id="6142329">StructType</span><span class="op" id="6142339">)</span>&nbsp;<span class="ident" id="6142341">Defn</span><span class="op" id="6142345">(</span><span class="op" id="6142346">)</span>&nbsp;<span class="builtintype" id="6142348">string</span>&nbsp;<span class="op" id="6142355">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142358">s</span>&nbsp;<span class="op" id="6142360">:=</span>&nbsp;<span class="ident" id="6142363">t</span><span class="op" id="6142364">.</span><span class="ident" id="6142365">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142371">if</span>&nbsp;<span class="ident" id="6142374">t</span><span class="op" id="6142375">.</span><span class="ident" id="6142376">StructName</span>&nbsp;<span class="op" id="6142387">!=</span>&nbsp;<span class="string" id="6142390">&#34;&#34;</span>&nbsp;<span class="op" id="6142393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142397">s</span>&nbsp;<span class="op" id="6142399">+=</span>&nbsp;<span class="string" id="6142402">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6142406">+</span>&nbsp;<span class="ident" id="6142408">t</span><span class="op" id="6142409">.</span><span class="ident" id="6142410">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142425">if</span>&nbsp;<span class="ident" id="6142428">t</span><span class="op" id="6142429">.</span><span class="ident" id="6142430">Incomplete</span>&nbsp;<span class="op" id="6142441">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142445">s</span>&nbsp;<span class="op" id="6142447">+=</span>&nbsp;<span class="string" id="6142450">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142470">return</span>&nbsp;<span class="ident" id="6142477">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142483">s</span>&nbsp;<span class="op" id="6142485">+=</span>&nbsp;<span class="string" id="6142488">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142494">for</span>&nbsp;<span class="ident" id="6142498">i</span><span class="op" id="6142499">,</span>&nbsp;<span class="ident" id="6142501">f</span>&nbsp;<span class="op" id="6142503">:=</span>&nbsp;<span class="keyword" id="6142506">range</span>&nbsp;<span class="ident" id="6142512">t</span><span class="op" id="6142513">.</span><span class="ident" id="6142514">Field</span>&nbsp;<span class="op" id="6142520">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142524">if</span>&nbsp;<span class="ident" id="6142527">i</span>&nbsp;<span class="op" id="6142529">&gt;</span>&nbsp;<span class="num" id="6142531">0</span>&nbsp;<span class="op" id="6142533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142538">s</span>&nbsp;<span class="op" id="6142540">+=</span>&nbsp;<span class="string" id="6142543">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142554">s</span>&nbsp;<span class="op" id="6142556">+=</span>&nbsp;<span class="ident" id="6142559">f</span><span class="op" id="6142560">.</span><span class="ident" id="6142561">Name</span>&nbsp;<span class="op" id="6142566">+</span>&nbsp;<span class="string" id="6142568">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6142572">+</span>&nbsp;<span class="ident" id="6142574">f</span><span class="op" id="6142575">.</span><span class="ident" id="6142576">Type</span><span class="op" id="6142580">.</span><span class="ident" id="6142581">String</span><span class="op" id="6142587">(</span><span class="op" id="6142588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142592">s</span>&nbsp;<span class="op" id="6142594">+=</span>&nbsp;<span class="string" id="6142597">&#34;@&#34;</span>&nbsp;<span class="op" id="6142601">+</span>&nbsp;<span class="ident" id="6142603">strconv</span><span class="op" id="6142610">.</span><span class="ident" id="6142611">FormatInt</span><span class="op" id="6142620">(</span><span class="ident" id="6142621">f</span><span class="op" id="6142622">.</span><span class="ident" id="6142623">ByteOffset</span><span class="op" id="6142633">,</span>&nbsp;<span class="num" id="6142635">10</span><span class="op" id="6142637">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142641">if</span>&nbsp;<span class="ident" id="6142644">f</span><span class="op" id="6142645">.</span><span class="ident" id="6142646">BitSize</span>&nbsp;<span class="op" id="6142654">&gt;</span>&nbsp;<span class="num" id="6142656">0</span>&nbsp;<span class="op" id="6142658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142663">s</span>&nbsp;<span class="op" id="6142665">+=</span>&nbsp;<span class="string" id="6142668">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="6142674">+</span>&nbsp;<span class="ident" id="6142676">strconv</span><span class="op" id="6142683">.</span><span class="ident" id="6142684">FormatInt</span><span class="op" id="6142693">(</span><span class="ident" id="6142694">f</span><span class="op" id="6142695">.</span><span class="ident" id="6142696">BitSize</span><span class="op" id="6142703">,</span>&nbsp;<span class="num" id="6142705">10</span><span class="op" id="6142707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142712">s</span>&nbsp;<span class="op" id="6142714">+=</span>&nbsp;<span class="string" id="6142717">&#34;@&#34;</span>&nbsp;<span class="op" id="6142721">+</span>&nbsp;<span class="ident" id="6142723">strconv</span><span class="op" id="6142730">.</span><span class="ident" id="6142731">FormatInt</span><span class="op" id="6142740">(</span><span class="ident" id="6142741">f</span><span class="op" id="6142742">.</span><span class="ident" id="6142743">BitOffset</span><span class="op" id="6142752">,</span>&nbsp;<span class="num" id="6142754">10</span><span class="op" id="6142756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142763">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142766">s</span>&nbsp;<span class="op" id="6142768">+=</span>&nbsp;<span class="string" id="6142771">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142776">return</span>&nbsp;<span class="ident" id="6142783">s</span><br>
<span class="lineno"></span><span class="op" id="6142785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6142788">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="6142834">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="6142900">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="6142924">type</span>&nbsp;<span class="ident" id="6142929">EnumType</span>&nbsp;<span class="keyword" id="6142938">struct</span>&nbsp;<span class="op" id="6142945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142948">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142960">EnumName</span>&nbsp;<span class="builtintype" id="6142969">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142977">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142986">[</span><span class="op" id="6142987">]</span><span class="op" id="6142988">*</span><span class="ident" id="6142989">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="6142999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6143002">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="6143057">type</span>&nbsp;<span class="ident" id="6143062">EnumValue</span>&nbsp;<span class="keyword" id="6143072">struct</span>&nbsp;<span class="op" id="6143079">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143082">Name</span>&nbsp;<span class="builtintype" id="6143087">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143095">Val</span>&nbsp;&nbsp;<span class="ident" id="6143100">int64</span><br>
<span class="lineno"></span><span class="op" id="6143106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6143109">func</span>&nbsp;<span class="op" id="6143114">(</span><span class="ident" id="6143115">t</span>&nbsp;<span class="op" id="6143117">*</span><span class="ident" id="6143118">EnumType</span><span class="op" id="6143126">)</span>&nbsp;<span class="ident" id="6143128">String</span><span class="op" id="6143134">(</span><span class="op" id="6143135">)</span>&nbsp;<span class="builtintype" id="6143137">string</span>&nbsp;<span class="op" id="6143144">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143147">s</span>&nbsp;<span class="op" id="6143149">:=</span>&nbsp;<span class="string" id="6143152">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143160">if</span>&nbsp;<span class="ident" id="6143163">t</span><span class="op" id="6143164">.</span><span class="ident" id="6143165">EnumName</span>&nbsp;<span class="op" id="6143174">!=</span>&nbsp;<span class="string" id="6143177">&#34;&#34;</span>&nbsp;<span class="op" id="6143180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143184">s</span>&nbsp;<span class="op" id="6143186">+=</span>&nbsp;<span class="string" id="6143189">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6143193">+</span>&nbsp;<span class="ident" id="6143195">t</span><span class="op" id="6143196">.</span><span class="ident" id="6143197">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143210">s</span>&nbsp;<span class="op" id="6143212">+=</span>&nbsp;<span class="string" id="6143215">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143221">for</span>&nbsp;<span class="ident" id="6143225">i</span><span class="op" id="6143226">,</span>&nbsp;<span class="ident" id="6143228">v</span>&nbsp;<span class="op" id="6143230">:=</span>&nbsp;<span class="keyword" id="6143233">range</span>&nbsp;<span class="ident" id="6143239">t</span><span class="op" id="6143240">.</span><span class="ident" id="6143241">Val</span>&nbsp;<span class="op" id="6143245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143249">if</span>&nbsp;<span class="ident" id="6143252">i</span>&nbsp;<span class="op" id="6143254">&gt;</span>&nbsp;<span class="num" id="6143256">0</span>&nbsp;<span class="op" id="6143258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143263">s</span>&nbsp;<span class="op" id="6143265">+=</span>&nbsp;<span class="string" id="6143268">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143279">s</span>&nbsp;<span class="op" id="6143281">+=</span>&nbsp;<span class="ident" id="6143284">v</span><span class="op" id="6143285">.</span><span class="ident" id="6143286">Name</span>&nbsp;<span class="op" id="6143291">+</span>&nbsp;<span class="string" id="6143293">&#34;=&#34;</span>&nbsp;<span class="op" id="6143297">+</span>&nbsp;<span class="ident" id="6143299">strconv</span><span class="op" id="6143306">.</span><span class="ident" id="6143307">FormatInt</span><span class="op" id="6143316">(</span><span class="ident" id="6143317">v</span><span class="op" id="6143318">.</span><span class="ident" id="6143319">Val</span><span class="op" id="6143322">,</span>&nbsp;<span class="num" id="6143324">10</span><span class="op" id="6143326">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143332">s</span>&nbsp;<span class="op" id="6143334">+=</span>&nbsp;<span class="string" id="6143337">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143342">return</span>&nbsp;<span class="ident" id="6143349">s</span><br>
<span class="lineno"></span><span class="op" id="6143351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="6143354">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6143396">type</span>&nbsp;<span class="ident" id="6143401">FuncType</span>&nbsp;<span class="keyword" id="6143410">struct</span>&nbsp;<span class="op" id="6143417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143420">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143432">ReturnType</span>&nbsp;<span class="ident" id="6143443">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143449">ParamType</span>&nbsp;&nbsp;<span class="op" id="6143460">[</span><span class="op" id="6143461">]</span><span class="ident" id="6143462">Type</span><br>
<span class="lineno">230</span><span class="op" id="6143467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6143470">func</span>&nbsp;<span class="op" id="6143475">(</span><span class="ident" id="6143476">t</span>&nbsp;<span class="op" id="6143478">*</span><span class="ident" id="6143479">FuncType</span><span class="op" id="6143487">)</span>&nbsp;<span class="ident" id="6143489">String</span><span class="op" id="6143495">(</span><span class="op" id="6143496">)</span>&nbsp;<span class="builtintype" id="6143498">string</span>&nbsp;<span class="op" id="6143505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143508">s</span>&nbsp;<span class="op" id="6143510">:=</span>&nbsp;<span class="string" id="6143513">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143522">for</span>&nbsp;<span class="ident" id="6143526">i</span><span class="op" id="6143527">,</span>&nbsp;<span class="ident" id="6143529">t</span>&nbsp;<span class="op" id="6143531">:=</span>&nbsp;<span class="keyword" id="6143534">range</span>&nbsp;<span class="ident" id="6143540">t</span><span class="op" id="6143541">.</span><span class="ident" id="6143542">ParamType</span>&nbsp;<span class="op" id="6143552">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143556">if</span>&nbsp;<span class="ident" id="6143559">i</span>&nbsp;<span class="op" id="6143561">&gt;</span>&nbsp;<span class="num" id="6143563">0</span>&nbsp;<span class="op" id="6143565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143570">s</span>&nbsp;<span class="op" id="6143572">+=</span>&nbsp;<span class="string" id="6143575">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143586">s</span>&nbsp;<span class="op" id="6143588">+=</span>&nbsp;<span class="ident" id="6143591">t</span><span class="op" id="6143592">.</span><span class="ident" id="6143593">String</span><span class="op" id="6143599">(</span><span class="op" id="6143600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143603">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143606">s</span>&nbsp;<span class="op" id="6143608">+=</span>&nbsp;<span class="string" id="6143611">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143616">if</span>&nbsp;<span class="ident" id="6143619">t</span><span class="op" id="6143620">.</span><span class="ident" id="6143621">ReturnType</span>&nbsp;<span class="op" id="6143632">!=</span>&nbsp;<span class="ident" id="6143635">nil</span>&nbsp;<span class="op" id="6143639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143643">s</span>&nbsp;<span class="op" id="6143645">+=</span>&nbsp;<span class="string" id="6143648">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="6143652">+</span>&nbsp;<span class="ident" id="6143654">t</span><span class="op" id="6143655">.</span><span class="ident" id="6143656">ReturnType</span><span class="op" id="6143666">.</span><span class="ident" id="6143667">String</span><span class="op" id="6143673">(</span><span class="op" id="6143674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143680">return</span>&nbsp;<span class="ident" id="6143687">s</span><br>
<span class="lineno">245</span><span class="op" id="6143689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6143692">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="6143759">type</span>&nbsp;<span class="ident" id="6143764">DotDotDotType</span>&nbsp;<span class="keyword" id="6143778">struct</span>&nbsp;<span class="op" id="6143785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143788">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="6143799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6143802">func</span>&nbsp;<span class="op" id="6143807">(</span><span class="ident" id="6143808">t</span>&nbsp;<span class="op" id="6143810">*</span><span class="ident" id="6143811">DotDotDotType</span><span class="op" id="6143824">)</span>&nbsp;<span class="ident" id="6143826">String</span><span class="op" id="6143832">(</span><span class="op" id="6143833">)</span>&nbsp;<span class="builtintype" id="6143835">string</span>&nbsp;<span class="op" id="6143842">{</span>&nbsp;<span class="keyword" id="6143844">return</span>&nbsp;<span class="string" id="6143851">&#34;...&#34;</span>&nbsp;<span class="op" id="6143857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6143860">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="6143902">type</span>&nbsp;<span class="ident" id="6143907">TypedefType</span>&nbsp;<span class="keyword" id="6143919">struct</span>&nbsp;<span class="op" id="6143926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143929">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143941">Type</span>&nbsp;<span class="ident" id="6143946">Type</span><br>
<span class="lineno"></span><span class="op" id="6143951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="6143954">func</span>&nbsp;<span class="op" id="6143959">(</span><span class="ident" id="6143960">t</span>&nbsp;<span class="op" id="6143962">*</span><span class="ident" id="6143963">TypedefType</span><span class="op" id="6143974">)</span>&nbsp;<span class="ident" id="6143976">String</span><span class="op" id="6143982">(</span><span class="op" id="6143983">)</span>&nbsp;<span class="builtintype" id="6143985">string</span>&nbsp;<span class="op" id="6143992">{</span>&nbsp;<span class="keyword" id="6143994">return</span>&nbsp;<span class="ident" id="6144001">t</span><span class="op" id="6144002">.</span><span class="ident" id="6144003">Name</span>&nbsp;<span class="op" id="6144008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6144011">func</span>&nbsp;<span class="op" id="6144016">(</span><span class="ident" id="6144017">t</span>&nbsp;<span class="op" id="6144019">*</span><span class="ident" id="6144020">TypedefType</span><span class="op" id="6144031">)</span>&nbsp;<span class="ident" id="6144033">Size</span><span class="op" id="6144037">(</span><span class="op" id="6144038">)</span>&nbsp;<span class="ident" id="6144040">int64</span>&nbsp;<span class="op" id="6144046">{</span>&nbsp;<span class="keyword" id="6144048">return</span>&nbsp;<span class="ident" id="6144055">t</span><span class="op" id="6144056">.</span><span class="ident" id="6144057">Type</span><span class="op" id="6144061">.</span><span class="ident" id="6144062">Size</span><span class="op" id="6144066">(</span><span class="op" id="6144067">)</span>&nbsp;<span class="op" id="6144069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6144072">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="6144138">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="6144156">type</span>&nbsp;<span class="ident" id="6144161">typeReader</span>&nbsp;<span class="keyword" id="6144172">interface</span>&nbsp;<span class="op" id="6144182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144185">Seek</span><span class="op" id="6144189">(</span><span class="ident" id="6144190">Offset</span><span class="op" id="6144196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144199">Next</span><span class="op" id="6144203">(</span><span class="op" id="6144204">)</span>&nbsp;<span class="op" id="6144206">(</span><span class="op" id="6144207">*</span><span class="ident" id="6144208">Entry</span><span class="op" id="6144213">,</span>&nbsp;<span class="builtintype" id="6144215">error</span><span class="op" id="6144220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144223">clone</span><span class="op" id="6144228">(</span><span class="op" id="6144229">)</span>&nbsp;<span class="ident" id="6144231">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144243">offset</span><span class="op" id="6144249">(</span><span class="op" id="6144250">)</span>&nbsp;<span class="ident" id="6144252">Offset</span><br>
<span class="lineno"></span><span class="op" id="6144259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6144262">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="6144323">func</span>&nbsp;<span class="op" id="6144328">(</span><span class="ident" id="6144329">d</span>&nbsp;<span class="op" id="6144331">*</span><span class="ident" id="6144332">Data</span><span class="op" id="6144336">)</span>&nbsp;<span class="ident" id="6144338">Type</span><span class="op" id="6144342">(</span><span class="ident" id="6144343">off</span>&nbsp;<span class="ident" id="6144347">Offset</span><span class="op" id="6144353">)</span>&nbsp;<span class="op" id="6144355">(</span><span class="ident" id="6144356">Type</span><span class="op" id="6144360">,</span>&nbsp;<span class="builtintype" id="6144362">error</span><span class="op" id="6144367">)</span>&nbsp;<span class="op" id="6144369">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144372">return</span>&nbsp;<span class="ident" id="6144379">d</span><span class="op" id="6144380">.</span><span class="ident" id="6144381">readType</span><span class="op" id="6144389">(</span><span class="string" id="6144390">&#34;info&#34;</span><span class="op" id="6144396">,</span>&nbsp;<span class="ident" id="6144398">d</span><span class="op" id="6144399">.</span><span class="ident" id="6144400">Reader</span><span class="op" id="6144406">(</span><span class="op" id="6144407">)</span><span class="op" id="6144408">,</span>&nbsp;<span class="ident" id="6144410">off</span><span class="op" id="6144413">,</span>&nbsp;<span class="ident" id="6144415">d</span><span class="op" id="6144416">.</span><span class="ident" id="6144417">typeCache</span><span class="op" id="6144426">)</span><br>
<span class="lineno"></span><span class="op" id="6144428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6144431">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6144499">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="6144514">func</span>&nbsp;<span class="op" id="6144519">(</span><span class="ident" id="6144520">d</span>&nbsp;<span class="op" id="6144522">*</span><span class="ident" id="6144523">Data</span><span class="op" id="6144527">)</span>&nbsp;<span class="ident" id="6144529">readType</span><span class="op" id="6144537">(</span><span class="ident" id="6144538">name</span>&nbsp;<span class="builtintype" id="6144543">string</span><span class="op" id="6144549">,</span>&nbsp;<span class="ident" id="6144551">r</span>&nbsp;<span class="ident" id="6144553">typeReader</span><span class="op" id="6144563">,</span>&nbsp;<span class="ident" id="6144565">off</span>&nbsp;<span class="ident" id="6144569">Offset</span><span class="op" id="6144575">,</span>&nbsp;<span class="ident" id="6144577">typeCache</span>&nbsp;<span class="keyword" id="6144587">map</span><span class="op" id="6144590">[</span><span class="ident" id="6144591">Offset</span><span class="op" id="6144597">]</span><span class="ident" id="6144598">Type</span><span class="op" id="6144602">)</span>&nbsp;<span class="op" id="6144604">(</span><span class="ident" id="6144605">Type</span><span class="op" id="6144609">,</span>&nbsp;<span class="builtintype" id="6144611">error</span><span class="op" id="6144616">)</span>&nbsp;<span class="op" id="6144618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144621">if</span>&nbsp;<span class="ident" id="6144624">t</span><span class="op" id="6144625">,</span>&nbsp;<span class="ident" id="6144627">ok</span>&nbsp;<span class="op" id="6144630">:=</span>&nbsp;<span class="ident" id="6144633">typeCache</span><span class="op" id="6144642">[</span><span class="ident" id="6144643">off</span><span class="op" id="6144646">]</span><span class="op" id="6144647">;</span>&nbsp;<span class="ident" id="6144649">ok</span>&nbsp;<span class="op" id="6144652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144656">return</span>&nbsp;<span class="ident" id="6144663">t</span><span class="op" id="6144664">,</span>&nbsp;<span class="ident" id="6144666">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144674">r</span><span class="op" id="6144675">.</span><span class="ident" id="6144676">Seek</span><span class="op" id="6144680">(</span><span class="ident" id="6144681">off</span><span class="op" id="6144684">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144687">e</span><span class="op" id="6144688">,</span>&nbsp;<span class="ident" id="6144690">err</span>&nbsp;<span class="op" id="6144694">:=</span>&nbsp;<span class="ident" id="6144697">r</span><span class="op" id="6144698">.</span><span class="ident" id="6144699">Next</span><span class="op" id="6144703">(</span><span class="op" id="6144704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144707">if</span>&nbsp;<span class="ident" id="6144710">err</span>&nbsp;<span class="op" id="6144714">!=</span>&nbsp;<span class="ident" id="6144717">nil</span>&nbsp;<span class="op" id="6144721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144725">return</span>&nbsp;<span class="ident" id="6144732">nil</span><span class="op" id="6144735">,</span>&nbsp;<span class="ident" id="6144737">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144745">if</span>&nbsp;<span class="ident" id="6144748">e</span>&nbsp;<span class="op" id="6144750">==</span>&nbsp;<span class="ident" id="6144753">nil</span>&nbsp;<span class="op" id="6144757">||</span>&nbsp;<span class="ident" id="6144760">e</span><span class="op" id="6144761">.</span><span class="ident" id="6144762">Offset</span>&nbsp;<span class="op" id="6144769">!=</span>&nbsp;<span class="ident" id="6144772">off</span>&nbsp;<span class="op" id="6144776">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144780">return</span>&nbsp;<span class="ident" id="6144787">nil</span><span class="op" id="6144790">,</span>&nbsp;<span class="ident" id="6144792">DecodeError</span><span class="op" id="6144803">{</span><span class="ident" id="6144804">name</span><span class="op" id="6144808">,</span>&nbsp;<span class="ident" id="6144810">off</span><span class="op" id="6144813">,</span>&nbsp;<span class="string" id="6144815">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="6144834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144841">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144868">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144918">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144978">var</span>&nbsp;<span class="ident" id="6144982">typ</span>&nbsp;<span class="ident" id="6144986">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144993">nextDepth</span>&nbsp;<span class="op" id="6145003">:=</span>&nbsp;<span class="num" id="6145006">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145010">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145056">next</span>&nbsp;<span class="op" id="6145061">:=</span>&nbsp;<span class="keyword" id="6145064">func</span><span class="op" id="6145068">(</span><span class="op" id="6145069">)</span>&nbsp;<span class="op" id="6145071">*</span><span class="ident" id="6145072">Entry</span>&nbsp;<span class="op" id="6145078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145082">if</span>&nbsp;<span class="op" id="6145085">!</span><span class="ident" id="6145086">e</span><span class="op" id="6145087">.</span><span class="ident" id="6145088">Children</span>&nbsp;<span class="op" id="6145097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145102">return</span>&nbsp;<span class="ident" id="6145109">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145115">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145119">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145153">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145211">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145273">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145308">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145340">for</span>&nbsp;<span class="op" id="6145344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145349">kid</span><span class="op" id="6145352">,</span>&nbsp;<span class="ident" id="6145354">err1</span>&nbsp;<span class="op" id="6145359">:=</span>&nbsp;<span class="ident" id="6145362">r</span><span class="op" id="6145363">.</span><span class="ident" id="6145364">Next</span><span class="op" id="6145368">(</span><span class="op" id="6145369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145374">if</span>&nbsp;<span class="ident" id="6145377">err1</span>&nbsp;<span class="op" id="6145382">!=</span>&nbsp;<span class="ident" id="6145385">nil</span>&nbsp;<span class="op" id="6145389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145395">err</span>&nbsp;<span class="op" id="6145399">=</span>&nbsp;<span class="ident" id="6145401">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145410">return</span>&nbsp;<span class="ident" id="6145417">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145429">if</span>&nbsp;<span class="ident" id="6145432">kid</span>&nbsp;<span class="op" id="6145436">==</span>&nbsp;<span class="ident" id="6145439">nil</span>&nbsp;<span class="op" id="6145443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145449">err</span>&nbsp;<span class="op" id="6145453">=</span>&nbsp;<span class="ident" id="6145455">DecodeError</span><span class="op" id="6145466">{</span><span class="ident" id="6145467">name</span><span class="op" id="6145471">,</span>&nbsp;<span class="ident" id="6145473">r</span><span class="op" id="6145474">.</span><span class="ident" id="6145475">offset</span><span class="op" id="6145481">(</span><span class="op" id="6145482">)</span><span class="op" id="6145483">,</span>&nbsp;<span class="string" id="6145485">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="6145518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145524">return</span>&nbsp;<span class="ident" id="6145531">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145538">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145543">if</span>&nbsp;<span class="ident" id="6145546">kid</span><span class="op" id="6145549">.</span><span class="ident" id="6145550">Tag</span>&nbsp;<span class="op" id="6145554">==</span>&nbsp;<span class="num" id="6145557">0</span>&nbsp;<span class="op" id="6145559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145565">if</span>&nbsp;<span class="ident" id="6145568">nextDepth</span>&nbsp;<span class="op" id="6145578">&gt;</span>&nbsp;<span class="num" id="6145580">0</span>&nbsp;<span class="op" id="6145582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145589">nextDepth</span><span class="op" id="6145598">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145606">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145619">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145625">return</span>&nbsp;<span class="ident" id="6145632">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145644">if</span>&nbsp;<span class="ident" id="6145647">kid</span><span class="op" id="6145650">.</span><span class="ident" id="6145651">Children</span>&nbsp;<span class="op" id="6145660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145666">nextDepth</span><span class="op" id="6145675">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145681">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145686">if</span>&nbsp;<span class="ident" id="6145689">nextDepth</span>&nbsp;<span class="op" id="6145699">&gt;</span>&nbsp;<span class="num" id="6145701">0</span>&nbsp;<span class="op" id="6145703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145709">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145726">return</span>&nbsp;<span class="ident" id="6145733">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145739">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145746">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145798">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145860">typeOf</span>&nbsp;<span class="op" id="6145867">:=</span>&nbsp;<span class="keyword" id="6145870">func</span><span class="op" id="6145874">(</span><span class="ident" id="6145875">e</span>&nbsp;<span class="op" id="6145877">*</span><span class="ident" id="6145878">Entry</span><span class="op" id="6145883">)</span>&nbsp;<span class="ident" id="6145885">Type</span>&nbsp;<span class="op" id="6145890">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145894">tval</span>&nbsp;<span class="op" id="6145899">:=</span>&nbsp;<span class="ident" id="6145902">e</span><span class="op" id="6145903">.</span><span class="ident" id="6145904">Val</span><span class="op" id="6145907">(</span><span class="ident" id="6145908">AttrType</span><span class="op" id="6145916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145920">var</span>&nbsp;<span class="ident" id="6145924">t</span>&nbsp;<span class="ident" id="6145926">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145933">switch</span>&nbsp;<span class="ident" id="6145940">toff</span>&nbsp;<span class="op" id="6145945">:=</span>&nbsp;<span class="ident" id="6145948">tval</span><span class="op" id="6145952">.</span><span class="op" id="6145953">(</span><span class="keyword" id="6145954">type</span><span class="op" id="6145958">)</span>&nbsp;<span class="op" id="6145960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145964">case</span>&nbsp;<span class="ident" id="6145969">Offset</span><span class="op" id="6145975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145980">if</span>&nbsp;<span class="ident" id="6145983">t</span><span class="op" id="6145984">,</span>&nbsp;<span class="ident" id="6145986">err</span>&nbsp;<span class="op" id="6145990">=</span>&nbsp;<span class="ident" id="6145992">d</span><span class="op" id="6145993">.</span><span class="ident" id="6145994">readType</span><span class="op" id="6146002">(</span><span class="ident" id="6146003">name</span><span class="op" id="6146007">,</span>&nbsp;<span class="ident" id="6146009">r</span><span class="op" id="6146010">.</span><span class="ident" id="6146011">clone</span><span class="op" id="6146016">(</span><span class="op" id="6146017">)</span><span class="op" id="6146018">,</span>&nbsp;<span class="ident" id="6146020">toff</span><span class="op" id="6146024">,</span>&nbsp;<span class="ident" id="6146026">typeCache</span><span class="op" id="6146035">)</span><span class="op" id="6146036">;</span>&nbsp;<span class="ident" id="6146038">err</span>&nbsp;<span class="op" id="6146042">!=</span>&nbsp;<span class="ident" id="6146045">nil</span>&nbsp;<span class="op" id="6146049">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146055">return</span>&nbsp;<span class="ident" id="6146062">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146073">case</span>&nbsp;<span class="ident" id="6146078">uint64</span><span class="op" id="6146084">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146089">if</span>&nbsp;<span class="ident" id="6146092">t</span><span class="op" id="6146093">,</span>&nbsp;<span class="ident" id="6146095">err</span>&nbsp;<span class="op" id="6146099">=</span>&nbsp;<span class="ident" id="6146101">d</span><span class="op" id="6146102">.</span><span class="ident" id="6146103">sigToType</span><span class="op" id="6146112">(</span><span class="ident" id="6146113">toff</span><span class="op" id="6146117">)</span><span class="op" id="6146118">;</span>&nbsp;<span class="ident" id="6146120">err</span>&nbsp;<span class="op" id="6146124">!=</span>&nbsp;<span class="ident" id="6146127">nil</span>&nbsp;<span class="op" id="6146131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146137">return</span>&nbsp;<span class="ident" id="6146144">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146155">default</span><span class="op" id="6146162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146167">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146211">return</span>&nbsp;<span class="builtinfunc" id="6146218">new</span><span class="op" id="6146221">(</span><span class="ident" id="6146222">VoidType</span><span class="op" id="6146230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146234">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146238">return</span>&nbsp;<span class="ident" id="6146245">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146252">switch</span>&nbsp;<span class="ident" id="6146259">e</span><span class="op" id="6146260">.</span><span class="ident" id="6146261">Tag</span>&nbsp;<span class="op" id="6146265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146268">case</span>&nbsp;<span class="ident" id="6146273">TagArrayType</span><span class="op" id="6146285">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146289">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146337">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146354">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146387">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146450">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146490">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146505">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146570">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146614">t</span>&nbsp;<span class="op" id="6146616">:=</span>&nbsp;<span class="builtinfunc" id="6146619">new</span><span class="op" id="6146622">(</span><span class="ident" id="6146623">ArrayType</span><span class="op" id="6146632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146636">typ</span>&nbsp;<span class="op" id="6146640">=</span>&nbsp;<span class="ident" id="6146642">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146646">typeCache</span><span class="op" id="6146655">[</span><span class="ident" id="6146656">off</span><span class="op" id="6146659">]</span>&nbsp;<span class="op" id="6146661">=</span>&nbsp;<span class="ident" id="6146663">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146667">if</span>&nbsp;<span class="ident" id="6146670">t</span><span class="op" id="6146671">.</span><span class="ident" id="6146672">Type</span>&nbsp;<span class="op" id="6146677">=</span>&nbsp;<span class="ident" id="6146679">typeOf</span><span class="op" id="6146685">(</span><span class="ident" id="6146686">e</span><span class="op" id="6146687">)</span><span class="op" id="6146688">;</span>&nbsp;<span class="ident" id="6146690">err</span>&nbsp;<span class="op" id="6146694">!=</span>&nbsp;<span class="ident" id="6146697">nil</span>&nbsp;<span class="op" id="6146701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146706">goto</span>&nbsp;<span class="ident" id="6146711">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146723">t</span><span class="op" id="6146724">.</span><span class="ident" id="6146725">StrideBitSize</span><span class="op" id="6146738">,</span>&nbsp;<span class="ident" id="6146740">_</span>&nbsp;<span class="op" id="6146742">=</span>&nbsp;<span class="ident" id="6146744">e</span><span class="op" id="6146745">.</span><span class="ident" id="6146746">Val</span><span class="op" id="6146749">(</span><span class="ident" id="6146750">AttrStrideSize</span><span class="op" id="6146764">)</span><span class="op" id="6146765">.</span><span class="op" id="6146766">(</span><span class="ident" id="6146767">int64</span><span class="op" id="6146772">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146777">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146805">var</span>&nbsp;<span class="ident" id="6146809">dims</span>&nbsp;<span class="op" id="6146814">[</span><span class="op" id="6146815">]</span><span class="ident" id="6146816">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146824">for</span>&nbsp;<span class="ident" id="6146828">kid</span>&nbsp;<span class="op" id="6146832">:=</span>&nbsp;<span class="ident" id="6146835">next</span><span class="op" id="6146839">(</span><span class="op" id="6146840">)</span><span class="op" id="6146841">;</span>&nbsp;<span class="ident" id="6146843">kid</span>&nbsp;<span class="op" id="6146847">!=</span>&nbsp;<span class="ident" id="6146850">nil</span><span class="op" id="6146853">;</span>&nbsp;<span class="ident" id="6146855">kid</span>&nbsp;<span class="op" id="6146859">=</span>&nbsp;<span class="ident" id="6146861">next</span><span class="op" id="6146865">(</span><span class="op" id="6146866">)</span>&nbsp;<span class="op" id="6146868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146873">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146921">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146966">switch</span>&nbsp;<span class="ident" id="6146973">kid</span><span class="op" id="6146976">.</span><span class="ident" id="6146977">Tag</span>&nbsp;<span class="op" id="6146981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146986">case</span>&nbsp;<span class="ident" id="6146991">TagSubrangeType</span><span class="op" id="6147006">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147012">count</span><span class="op" id="6147017">,</span>&nbsp;<span class="ident" id="6147019">ok</span>&nbsp;<span class="op" id="6147022">:=</span>&nbsp;<span class="ident" id="6147025">kid</span><span class="op" id="6147028">.</span><span class="ident" id="6147029">Val</span><span class="op" id="6147032">(</span><span class="ident" id="6147033">AttrCount</span><span class="op" id="6147042">)</span><span class="op" id="6147043">.</span><span class="op" id="6147044">(</span><span class="ident" id="6147045">int64</span><span class="op" id="6147050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147056">if</span>&nbsp;<span class="op" id="6147059">!</span><span class="ident" id="6147060">ok</span>&nbsp;<span class="op" id="6147063">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147070">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147124">count</span><span class="op" id="6147129">,</span>&nbsp;<span class="ident" id="6147131">ok</span>&nbsp;<span class="op" id="6147134">=</span>&nbsp;<span class="ident" id="6147136">kid</span><span class="op" id="6147139">.</span><span class="ident" id="6147140">Val</span><span class="op" id="6147143">(</span><span class="ident" id="6147144">AttrUpperBound</span><span class="op" id="6147158">)</span><span class="op" id="6147159">.</span><span class="op" id="6147160">(</span><span class="ident" id="6147161">int64</span><span class="op" id="6147166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147173">if</span>&nbsp;<span class="ident" id="6147176">ok</span>&nbsp;<span class="op" id="6147179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147187">count</span><span class="op" id="6147192">++</span>&nbsp;<span class="comment" id="6147195">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147240">}</span>&nbsp;<span class="keyword" id="6147242">else</span>&nbsp;<span class="keyword" id="6147247">if</span>&nbsp;<span class="builtinfunc" id="6147250">len</span><span class="op" id="6147253">(</span><span class="ident" id="6147254">dims</span><span class="op" id="6147258">)</span>&nbsp;<span class="op" id="6147260">==</span>&nbsp;<span class="num" id="6147263">0</span>&nbsp;<span class="op" id="6147265">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147273">count</span>&nbsp;<span class="op" id="6147279">=</span>&nbsp;<span class="op" id="6147281">-</span><span class="num" id="6147282">1</span>&nbsp;<span class="comment" id="6147284">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147315">dims</span>&nbsp;<span class="op" id="6147320">=</span>&nbsp;<span class="builtinfunc" id="6147322">append</span><span class="op" id="6147328">(</span><span class="ident" id="6147329">dims</span><span class="op" id="6147333">,</span>&nbsp;<span class="ident" id="6147335">count</span><span class="op" id="6147340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147345">case</span>&nbsp;<span class="ident" id="6147350">TagEnumerationType</span><span class="op" id="6147368">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147374">err</span>&nbsp;<span class="op" id="6147378">=</span>&nbsp;<span class="ident" id="6147380">DecodeError</span><span class="op" id="6147391">{</span><span class="ident" id="6147392">name</span><span class="op" id="6147396">,</span>&nbsp;<span class="ident" id="6147398">kid</span><span class="op" id="6147401">.</span><span class="ident" id="6147402">Offset</span><span class="op" id="6147408">,</span>&nbsp;<span class="string" id="6147410">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="6147457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147463">goto</span>&nbsp;<span class="ident" id="6147468">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147485">if</span>&nbsp;<span class="builtinfunc" id="6147488">len</span><span class="op" id="6147491">(</span><span class="ident" id="6147492">dims</span><span class="op" id="6147496">)</span>&nbsp;<span class="op" id="6147498">==</span>&nbsp;<span class="num" id="6147501">0</span>&nbsp;<span class="op" id="6147503">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147508">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147543">dims</span>&nbsp;<span class="op" id="6147548">=</span>&nbsp;<span class="op" id="6147550">[</span><span class="op" id="6147551">]</span><span class="ident" id="6147552">int64</span><span class="op" id="6147557">{</span><span class="op" id="6147558">-</span><span class="num" id="6147559">1</span><span class="op" id="6147560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147569">t</span><span class="op" id="6147570">.</span><span class="ident" id="6147571">Count</span>&nbsp;<span class="op" id="6147577">=</span>&nbsp;<span class="ident" id="6147579">dims</span><span class="op" id="6147583">[</span><span class="num" id="6147584">0</span><span class="op" id="6147585">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147589">for</span>&nbsp;<span class="ident" id="6147593">i</span>&nbsp;<span class="op" id="6147595">:=</span>&nbsp;<span class="builtinfunc" id="6147598">len</span><span class="op" id="6147601">(</span><span class="ident" id="6147602">dims</span><span class="op" id="6147606">)</span>&nbsp;<span class="op" id="6147608">-</span>&nbsp;<span class="num" id="6147610">1</span><span class="op" id="6147611">;</span>&nbsp;<span class="ident" id="6147613">i</span>&nbsp;<span class="op" id="6147615">&gt;=</span>&nbsp;<span class="num" id="6147618">1</span><span class="op" id="6147619">;</span>&nbsp;<span class="ident" id="6147621">i</span><span class="op" id="6147622">--</span>&nbsp;<span class="op" id="6147625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147630">t</span><span class="op" id="6147631">.</span><span class="ident" id="6147632">Type</span>&nbsp;<span class="op" id="6147637">=</span>&nbsp;<span class="op" id="6147639">&amp;</span><span class="ident" id="6147640">ArrayType</span><span class="op" id="6147649">{</span><span class="ident" id="6147650">Type</span><span class="op" id="6147654">:</span>&nbsp;<span class="ident" id="6147656">t</span><span class="op" id="6147657">.</span><span class="ident" id="6147658">Type</span><span class="op" id="6147662">,</span>&nbsp;<span class="ident" id="6147664">Count</span><span class="op" id="6147669">:</span>&nbsp;<span class="ident" id="6147671">dims</span><span class="op" id="6147675">[</span><span class="ident" id="6147676">i</span><span class="op" id="6147677">]</span><span class="op" id="6147678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147686">case</span>&nbsp;<span class="ident" id="6147691">TagBaseType</span><span class="op" id="6147702">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147706">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147741">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147758">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147850">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147919">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147971">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148024">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148117">name</span><span class="op" id="6148121">,</span>&nbsp;<span class="ident" id="6148123">_</span>&nbsp;<span class="op" id="6148125">:=</span>&nbsp;<span class="ident" id="6148128">e</span><span class="op" id="6148129">.</span><span class="ident" id="6148130">Val</span><span class="op" id="6148133">(</span><span class="ident" id="6148134">AttrName</span><span class="op" id="6148142">)</span><span class="op" id="6148143">.</span><span class="op" id="6148144">(</span><span class="builtintype" id="6148145">string</span><span class="op" id="6148151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148155">enc</span><span class="op" id="6148158">,</span>&nbsp;<span class="ident" id="6148160">ok</span>&nbsp;<span class="op" id="6148163">:=</span>&nbsp;<span class="ident" id="6148166">e</span><span class="op" id="6148167">.</span><span class="ident" id="6148168">Val</span><span class="op" id="6148171">(</span><span class="ident" id="6148172">AttrEncoding</span><span class="op" id="6148184">)</span><span class="op" id="6148185">.</span><span class="op" id="6148186">(</span><span class="ident" id="6148187">int64</span><span class="op" id="6148192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148196">if</span>&nbsp;<span class="op" id="6148199">!</span><span class="ident" id="6148200">ok</span>&nbsp;<span class="op" id="6148203">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148208">err</span>&nbsp;<span class="op" id="6148212">=</span>&nbsp;<span class="ident" id="6148214">DecodeError</span><span class="op" id="6148225">{</span><span class="ident" id="6148226">name</span><span class="op" id="6148230">,</span>&nbsp;<span class="ident" id="6148232">e</span><span class="op" id="6148233">.</span><span class="ident" id="6148234">Offset</span><span class="op" id="6148240">,</span>&nbsp;<span class="string" id="6148242">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="6148276">+</span>&nbsp;<span class="ident" id="6148278">name</span><span class="op" id="6148282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148287">goto</span>&nbsp;<span class="ident" id="6148292">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148304">switch</span>&nbsp;<span class="ident" id="6148311">enc</span>&nbsp;<span class="op" id="6148315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148319">default</span><span class="op" id="6148326">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148331">err</span>&nbsp;<span class="op" id="6148335">=</span>&nbsp;<span class="ident" id="6148337">DecodeError</span><span class="op" id="6148348">{</span><span class="ident" id="6148349">name</span><span class="op" id="6148353">,</span>&nbsp;<span class="ident" id="6148355">e</span><span class="op" id="6148356">.</span><span class="ident" id="6148357">Offset</span><span class="op" id="6148363">,</span>&nbsp;<span class="string" id="6148365">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="6148404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148409">goto</span>&nbsp;<span class="ident" id="6148414">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148423">case</span>&nbsp;<span class="ident" id="6148428">encAddress</span><span class="op" id="6148438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148443">typ</span>&nbsp;<span class="op" id="6148447">=</span>&nbsp;<span class="builtinfunc" id="6148449">new</span><span class="op" id="6148452">(</span><span class="ident" id="6148453">AddrType</span><span class="op" id="6148461">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148465">case</span>&nbsp;<span class="ident" id="6148470">encBoolean</span><span class="op" id="6148480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148485">typ</span>&nbsp;<span class="op" id="6148489">=</span>&nbsp;<span class="builtinfunc" id="6148491">new</span><span class="op" id="6148494">(</span><span class="ident" id="6148495">BoolType</span><span class="op" id="6148503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148507">case</span>&nbsp;<span class="ident" id="6148512">encComplexFloat</span><span class="op" id="6148527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148532">typ</span>&nbsp;<span class="op" id="6148536">=</span>&nbsp;<span class="builtinfunc" id="6148538">new</span><span class="op" id="6148541">(</span><span class="ident" id="6148542">ComplexType</span><span class="op" id="6148553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148558">if</span>&nbsp;<span class="ident" id="6148561">name</span>&nbsp;<span class="op" id="6148566">==</span>&nbsp;<span class="string" id="6148569">&#34;complex&#34;</span>&nbsp;<span class="op" id="6148579">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148585">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148667">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148740">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148763">switch</span>&nbsp;<span class="ident" id="6148770">byteSize</span><span class="op" id="6148778">,</span>&nbsp;<span class="ident" id="6148780">_</span>&nbsp;<span class="op" id="6148782">:=</span>&nbsp;<span class="ident" id="6148785">e</span><span class="op" id="6148786">.</span><span class="ident" id="6148787">Val</span><span class="op" id="6148790">(</span><span class="ident" id="6148791">AttrByteSize</span><span class="op" id="6148803">)</span><span class="op" id="6148804">.</span><span class="op" id="6148805">(</span><span class="ident" id="6148806">int64</span><span class="op" id="6148811">)</span><span class="op" id="6148812">;</span>&nbsp;<span class="ident" id="6148814">byteSize</span>&nbsp;<span class="op" id="6148823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148829">case</span>&nbsp;<span class="num" id="6148834">8</span><span class="op" id="6148835">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148842">name</span>&nbsp;<span class="op" id="6148847">=</span>&nbsp;<span class="string" id="6148849">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148869">case</span>&nbsp;<span class="num" id="6148874">16</span><span class="op" id="6148876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148883">name</span>&nbsp;<span class="op" id="6148888">=</span>&nbsp;<span class="string" id="6148890">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148916">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148920">case</span>&nbsp;<span class="ident" id="6148925">encFloat</span><span class="op" id="6148933">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148938">typ</span>&nbsp;<span class="op" id="6148942">=</span>&nbsp;<span class="builtinfunc" id="6148944">new</span><span class="op" id="6148947">(</span><span class="ident" id="6148948">FloatType</span><span class="op" id="6148957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148961">case</span>&nbsp;<span class="ident" id="6148966">encSigned</span><span class="op" id="6148975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148980">typ</span>&nbsp;<span class="op" id="6148984">=</span>&nbsp;<span class="builtinfunc" id="6148986">new</span><span class="op" id="6148989">(</span><span class="ident" id="6148990">IntType</span><span class="op" id="6148997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149001">case</span>&nbsp;<span class="ident" id="6149006">encUnsigned</span><span class="op" id="6149017">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149022">typ</span>&nbsp;<span class="op" id="6149026">=</span>&nbsp;<span class="builtinfunc" id="6149028">new</span><span class="op" id="6149031">(</span><span class="ident" id="6149032">UintType</span><span class="op" id="6149040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149044">case</span>&nbsp;<span class="ident" id="6149049">encSignedChar</span><span class="op" id="6149062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149067">typ</span>&nbsp;<span class="op" id="6149071">=</span>&nbsp;<span class="builtinfunc" id="6149073">new</span><span class="op" id="6149076">(</span><span class="ident" id="6149077">CharType</span><span class="op" id="6149085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149089">case</span>&nbsp;<span class="ident" id="6149094">encUnsignedChar</span><span class="op" id="6149109">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149114">typ</span>&nbsp;<span class="op" id="6149118">=</span>&nbsp;<span class="builtinfunc" id="6149120">new</span><span class="op" id="6149123">(</span><span class="ident" id="6149124">UcharType</span><span class="op" id="6149133">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149141">typeCache</span><span class="op" id="6149150">[</span><span class="ident" id="6149151">off</span><span class="op" id="6149154">]</span>&nbsp;<span class="op" id="6149156">=</span>&nbsp;<span class="ident" id="6149158">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149164">t</span>&nbsp;<span class="op" id="6149166">:=</span>&nbsp;<span class="ident" id="6149169">typ</span><span class="op" id="6149172">.</span><span class="op" id="6149173">(</span><span class="keyword" id="6149174">interface</span>&nbsp;<span class="op" id="6149184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149189">Basic</span><span class="op" id="6149194">(</span><span class="op" id="6149195">)</span>&nbsp;<span class="op" id="6149197">*</span><span class="ident" id="6149198">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149210">}</span><span class="op" id="6149211">)</span><span class="op" id="6149212">.</span><span class="ident" id="6149213">Basic</span><span class="op" id="6149218">(</span><span class="op" id="6149219">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149223">t</span><span class="op" id="6149224">.</span><span class="ident" id="6149225">Name</span>&nbsp;<span class="op" id="6149230">=</span>&nbsp;<span class="ident" id="6149232">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149239">t</span><span class="op" id="6149240">.</span><span class="ident" id="6149241">BitSize</span><span class="op" id="6149248">,</span>&nbsp;<span class="ident" id="6149250">_</span>&nbsp;<span class="op" id="6149252">=</span>&nbsp;<span class="ident" id="6149254">e</span><span class="op" id="6149255">.</span><span class="ident" id="6149256">Val</span><span class="op" id="6149259">(</span><span class="ident" id="6149260">AttrBitSize</span><span class="op" id="6149271">)</span><span class="op" id="6149272">.</span><span class="op" id="6149273">(</span><span class="ident" id="6149274">int64</span><span class="op" id="6149279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149283">t</span><span class="op" id="6149284">.</span><span class="ident" id="6149285">BitOffset</span><span class="op" id="6149294">,</span>&nbsp;<span class="ident" id="6149296">_</span>&nbsp;<span class="op" id="6149298">=</span>&nbsp;<span class="ident" id="6149300">e</span><span class="op" id="6149301">.</span><span class="ident" id="6149302">Val</span><span class="op" id="6149305">(</span><span class="ident" id="6149306">AttrBitOffset</span><span class="op" id="6149319">)</span><span class="op" id="6149320">.</span><span class="op" id="6149321">(</span><span class="ident" id="6149322">int64</span><span class="op" id="6149327">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149331">case</span>&nbsp;<span class="ident" id="6149336">TagClassType</span><span class="op" id="6149348">,</span>&nbsp;<span class="ident" id="6149350">TagStructType</span><span class="op" id="6149363">,</span>&nbsp;<span class="ident" id="6149365">TagUnionType</span><span class="op" id="6149377">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149381">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149437">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149454">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149501">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149541">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149605">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149620">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149659">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149701">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149743">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149777">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149837">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149880">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149957">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150017">t</span>&nbsp;<span class="op" id="6150019">:=</span>&nbsp;<span class="builtinfunc" id="6150022">new</span><span class="op" id="6150025">(</span><span class="ident" id="6150026">StructType</span><span class="op" id="6150036">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150040">typ</span>&nbsp;<span class="op" id="6150044">=</span>&nbsp;<span class="ident" id="6150046">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150050">typeCache</span><span class="op" id="6150059">[</span><span class="ident" id="6150060">off</span><span class="op" id="6150063">]</span>&nbsp;<span class="op" id="6150065">=</span>&nbsp;<span class="ident" id="6150067">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150071">switch</span>&nbsp;<span class="ident" id="6150078">e</span><span class="op" id="6150079">.</span><span class="ident" id="6150080">Tag</span>&nbsp;<span class="op" id="6150084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150088">case</span>&nbsp;<span class="ident" id="6150093">TagClassType</span><span class="op" id="6150105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150110">t</span><span class="op" id="6150111">.</span><span class="ident" id="6150112">Kind</span>&nbsp;<span class="op" id="6150117">=</span>&nbsp;<span class="string" id="6150119">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150129">case</span>&nbsp;<span class="ident" id="6150134">TagStructType</span><span class="op" id="6150147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150152">t</span><span class="op" id="6150153">.</span><span class="ident" id="6150154">Kind</span>&nbsp;<span class="op" id="6150159">=</span>&nbsp;<span class="string" id="6150161">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150172">case</span>&nbsp;<span class="ident" id="6150177">TagUnionType</span><span class="op" id="6150189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150194">t</span><span class="op" id="6150195">.</span><span class="ident" id="6150196">Kind</span>&nbsp;<span class="op" id="6150201">=</span>&nbsp;<span class="string" id="6150203">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150213">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150217">t</span><span class="op" id="6150218">.</span><span class="ident" id="6150219">StructName</span><span class="op" id="6150229">,</span>&nbsp;<span class="ident" id="6150231">_</span>&nbsp;<span class="op" id="6150233">=</span>&nbsp;<span class="ident" id="6150235">e</span><span class="op" id="6150236">.</span><span class="ident" id="6150237">Val</span><span class="op" id="6150240">(</span><span class="ident" id="6150241">AttrName</span><span class="op" id="6150249">)</span><span class="op" id="6150250">.</span><span class="op" id="6150251">(</span><span class="builtintype" id="6150252">string</span><span class="op" id="6150258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150262">t</span><span class="op" id="6150263">.</span><span class="ident" id="6150264">Incomplete</span>&nbsp;<span class="op" id="6150275">=</span>&nbsp;<span class="ident" id="6150277">e</span><span class="op" id="6150278">.</span><span class="ident" id="6150279">Val</span><span class="op" id="6150282">(</span><span class="ident" id="6150283">AttrDeclaration</span><span class="op" id="6150298">)</span>&nbsp;<span class="op" id="6150300">!=</span>&nbsp;<span class="ident" id="6150303">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150309">t</span><span class="op" id="6150310">.</span><span class="ident" id="6150311">Field</span>&nbsp;<span class="op" id="6150317">=</span>&nbsp;<span class="builtinfunc" id="6150319">make</span><span class="op" id="6150323">(</span><span class="op" id="6150324">[</span><span class="op" id="6150325">]</span><span class="op" id="6150326">*</span><span class="ident" id="6150327">StructField</span><span class="op" id="6150338">,</span>&nbsp;<span class="num" id="6150340">0</span><span class="op" id="6150341">,</span>&nbsp;<span class="num" id="6150343">8</span><span class="op" id="6150344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150348">var</span>&nbsp;<span class="ident" id="6150352">lastFieldType</span>&nbsp;<span class="op" id="6150366">*</span><span class="ident" id="6150367">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150374">var</span>&nbsp;<span class="ident" id="6150378">lastFieldBitOffset</span>&nbsp;<span class="ident" id="6150397">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150405">for</span>&nbsp;<span class="ident" id="6150409">kid</span>&nbsp;<span class="op" id="6150413">:=</span>&nbsp;<span class="ident" id="6150416">next</span><span class="op" id="6150420">(</span><span class="op" id="6150421">)</span><span class="op" id="6150422">;</span>&nbsp;<span class="ident" id="6150424">kid</span>&nbsp;<span class="op" id="6150428">!=</span>&nbsp;<span class="ident" id="6150431">nil</span><span class="op" id="6150434">;</span>&nbsp;<span class="ident" id="6150436">kid</span>&nbsp;<span class="op" id="6150440">=</span>&nbsp;<span class="ident" id="6150442">next</span><span class="op" id="6150446">(</span><span class="op" id="6150447">)</span>&nbsp;<span class="op" id="6150449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150454">if</span>&nbsp;<span class="ident" id="6150457">kid</span><span class="op" id="6150460">.</span><span class="ident" id="6150461">Tag</span>&nbsp;<span class="op" id="6150465">==</span>&nbsp;<span class="ident" id="6150468">TagMember</span>&nbsp;<span class="op" id="6150478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150484">f</span>&nbsp;<span class="op" id="6150486">:=</span>&nbsp;<span class="builtinfunc" id="6150489">new</span><span class="op" id="6150492">(</span><span class="ident" id="6150493">StructField</span><span class="op" id="6150504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150510">if</span>&nbsp;<span class="ident" id="6150513">f</span><span class="op" id="6150514">.</span><span class="ident" id="6150515">Type</span>&nbsp;<span class="op" id="6150520">=</span>&nbsp;<span class="ident" id="6150522">typeOf</span><span class="op" id="6150528">(</span><span class="ident" id="6150529">kid</span><span class="op" id="6150532">)</span><span class="op" id="6150533">;</span>&nbsp;<span class="ident" id="6150535">err</span>&nbsp;<span class="op" id="6150539">!=</span>&nbsp;<span class="ident" id="6150542">nil</span>&nbsp;<span class="op" id="6150546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150553">goto</span>&nbsp;<span class="ident" id="6150558">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150574">switch</span>&nbsp;<span class="ident" id="6150581">loc</span>&nbsp;<span class="op" id="6150585">:=</span>&nbsp;<span class="ident" id="6150588">kid</span><span class="op" id="6150591">.</span><span class="ident" id="6150592">Val</span><span class="op" id="6150595">(</span><span class="ident" id="6150596">AttrDataMemberLoc</span><span class="op" id="6150613">)</span><span class="op" id="6150614">.</span><span class="op" id="6150615">(</span><span class="keyword" id="6150616">type</span><span class="op" id="6150620">)</span>&nbsp;<span class="op" id="6150622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150628">case</span>&nbsp;<span class="op" id="6150633">[</span><span class="op" id="6150634">]</span><span class="builtintype" id="6150635">byte</span><span class="op" id="6150639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6150646">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6150693">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150731">b</span>&nbsp;<span class="op" id="6150733">:=</span>&nbsp;<span class="ident" id="6150736">makeBuf</span><span class="op" id="6150743">(</span><span class="ident" id="6150744">d</span><span class="op" id="6150745">,</span>&nbsp;<span class="ident" id="6150747">unknownFormat</span><span class="op" id="6150760">{</span><span class="op" id="6150761">}</span><span class="op" id="6150762">,</span>&nbsp;<span class="string" id="6150764">&#34;location&#34;</span><span class="op" id="6150774">,</span>&nbsp;<span class="num" id="6150776">0</span><span class="op" id="6150777">,</span>&nbsp;<span class="ident" id="6150779">loc</span><span class="op" id="6150782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150789">if</span>&nbsp;<span class="ident" id="6150792">b</span><span class="op" id="6150793">.</span><span class="builtintype" id="6150794">uint8</span><span class="op" id="6150799">(</span><span class="op" id="6150800">)</span>&nbsp;<span class="op" id="6150802">!=</span>&nbsp;<span class="ident" id="6150805">opPlusUconst</span>&nbsp;<span class="op" id="6150818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150826">err</span>&nbsp;<span class="op" id="6150830">=</span>&nbsp;<span class="ident" id="6150832">DecodeError</span><span class="op" id="6150843">{</span><span class="ident" id="6150844">name</span><span class="op" id="6150848">,</span>&nbsp;<span class="ident" id="6150850">kid</span><span class="op" id="6150853">.</span><span class="ident" id="6150854">Offset</span><span class="op" id="6150860">,</span>&nbsp;<span class="string" id="6150862">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="6150881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150889">goto</span>&nbsp;<span class="ident" id="6150894">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150905">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150912">f</span><span class="op" id="6150913">.</span><span class="ident" id="6150914">ByteOffset</span>&nbsp;<span class="op" id="6150925">=</span>&nbsp;<span class="ident" id="6150927">int64</span><span class="op" id="6150932">(</span><span class="ident" id="6150933">b</span><span class="op" id="6150934">.</span><span class="builtintype" id="6150935">uint</span><span class="op" id="6150939">(</span><span class="op" id="6150940">)</span><span class="op" id="6150941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150948">if</span>&nbsp;<span class="ident" id="6150951">b</span><span class="op" id="6150952">.</span><span class="ident" id="6150953">err</span>&nbsp;<span class="op" id="6150957">!=</span>&nbsp;<span class="ident" id="6150960">nil</span>&nbsp;<span class="op" id="6150964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150972">err</span>&nbsp;<span class="op" id="6150976">=</span>&nbsp;<span class="ident" id="6150978">b</span><span class="op" id="6150979">.</span><span class="ident" id="6150980">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150990">goto</span>&nbsp;<span class="ident" id="6150995">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151006">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151012">case</span>&nbsp;<span class="ident" id="6151017">int64</span><span class="op" id="6151022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151029">f</span><span class="op" id="6151030">.</span><span class="ident" id="6151031">ByteOffset</span>&nbsp;<span class="op" id="6151042">=</span>&nbsp;<span class="ident" id="6151044">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151059">haveBitOffset</span>&nbsp;<span class="op" id="6151073">:=</span>&nbsp;<span class="builtintype" id="6151076">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151086">f</span><span class="op" id="6151087">.</span><span class="ident" id="6151088">Name</span><span class="op" id="6151092">,</span>&nbsp;<span class="ident" id="6151094">_</span>&nbsp;<span class="op" id="6151096">=</span>&nbsp;<span class="ident" id="6151098">kid</span><span class="op" id="6151101">.</span><span class="ident" id="6151102">Val</span><span class="op" id="6151105">(</span><span class="ident" id="6151106">AttrName</span><span class="op" id="6151114">)</span><span class="op" id="6151115">.</span><span class="op" id="6151116">(</span><span class="builtintype" id="6151117">string</span><span class="op" id="6151123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151129">f</span><span class="op" id="6151130">.</span><span class="ident" id="6151131">ByteSize</span><span class="op" id="6151139">,</span>&nbsp;<span class="ident" id="6151141">_</span>&nbsp;<span class="op" id="6151143">=</span>&nbsp;<span class="ident" id="6151145">kid</span><span class="op" id="6151148">.</span><span class="ident" id="6151149">Val</span><span class="op" id="6151152">(</span><span class="ident" id="6151153">AttrByteSize</span><span class="op" id="6151165">)</span><span class="op" id="6151166">.</span><span class="op" id="6151167">(</span><span class="ident" id="6151168">int64</span><span class="op" id="6151173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151179">f</span><span class="op" id="6151180">.</span><span class="ident" id="6151181">BitOffset</span><span class="op" id="6151190">,</span>&nbsp;<span class="ident" id="6151192">haveBitOffset</span>&nbsp;<span class="op" id="6151206">=</span>&nbsp;<span class="ident" id="6151208">kid</span><span class="op" id="6151211">.</span><span class="ident" id="6151212">Val</span><span class="op" id="6151215">(</span><span class="ident" id="6151216">AttrBitOffset</span><span class="op" id="6151229">)</span><span class="op" id="6151230">.</span><span class="op" id="6151231">(</span><span class="ident" id="6151232">int64</span><span class="op" id="6151237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151243">f</span><span class="op" id="6151244">.</span><span class="ident" id="6151245">BitSize</span><span class="op" id="6151252">,</span>&nbsp;<span class="ident" id="6151254">_</span>&nbsp;<span class="op" id="6151256">=</span>&nbsp;<span class="ident" id="6151258">kid</span><span class="op" id="6151261">.</span><span class="ident" id="6151262">Val</span><span class="op" id="6151265">(</span><span class="ident" id="6151266">AttrBitSize</span><span class="op" id="6151277">)</span><span class="op" id="6151278">.</span><span class="op" id="6151279">(</span><span class="ident" id="6151280">int64</span><span class="op" id="6151285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151291">t</span><span class="op" id="6151292">.</span><span class="ident" id="6151293">Field</span>&nbsp;<span class="op" id="6151299">=</span>&nbsp;<span class="builtinfunc" id="6151301">append</span><span class="op" id="6151307">(</span><span class="ident" id="6151308">t</span><span class="op" id="6151309">.</span><span class="ident" id="6151310">Field</span><span class="op" id="6151315">,</span>&nbsp;<span class="ident" id="6151317">f</span><span class="op" id="6151318">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151325">bito</span>&nbsp;<span class="op" id="6151330">:=</span>&nbsp;<span class="ident" id="6151333">f</span><span class="op" id="6151334">.</span><span class="ident" id="6151335">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151349">if</span>&nbsp;<span class="op" id="6151352">!</span><span class="ident" id="6151353">haveBitOffset</span>&nbsp;<span class="op" id="6151367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151374">bito</span>&nbsp;<span class="op" id="6151379">=</span>&nbsp;<span class="ident" id="6151381">f</span><span class="op" id="6151382">.</span><span class="ident" id="6151383">ByteOffset</span>&nbsp;<span class="op" id="6151394">*</span>&nbsp;<span class="num" id="6151396">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151402">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151408">if</span>&nbsp;<span class="ident" id="6151411">bito</span>&nbsp;<span class="op" id="6151416">==</span>&nbsp;<span class="ident" id="6151419">lastFieldBitOffset</span>&nbsp;<span class="op" id="6151438">&amp;&amp;</span>&nbsp;<span class="ident" id="6151441">t</span><span class="op" id="6151442">.</span><span class="ident" id="6151443">Kind</span>&nbsp;<span class="op" id="6151448">!=</span>&nbsp;<span class="string" id="6151451">&#34;union&#34;</span>&nbsp;<span class="op" id="6151459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151466">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151520">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151596">zeroArray</span><span class="op" id="6151605">(</span><span class="ident" id="6151606">lastFieldType</span><span class="op" id="6151619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151625">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151631">lastFieldType</span>&nbsp;<span class="op" id="6151645">=</span>&nbsp;<span class="op" id="6151647">&amp;</span><span class="ident" id="6151648">f</span><span class="op" id="6151649">.</span><span class="ident" id="6151650">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151659">lastFieldBitOffset</span>&nbsp;<span class="op" id="6151678">=</span>&nbsp;<span class="ident" id="6151680">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151696">if</span>&nbsp;<span class="ident" id="6151699">t</span><span class="op" id="6151700">.</span><span class="ident" id="6151701">Kind</span>&nbsp;<span class="op" id="6151706">!=</span>&nbsp;<span class="string" id="6151709">&#34;union&#34;</span>&nbsp;<span class="op" id="6151717">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151722">b</span><span class="op" id="6151723">,</span>&nbsp;<span class="ident" id="6151725">ok</span>&nbsp;<span class="op" id="6151728">:=</span>&nbsp;<span class="ident" id="6151731">e</span><span class="op" id="6151732">.</span><span class="ident" id="6151733">Val</span><span class="op" id="6151736">(</span><span class="ident" id="6151737">AttrByteSize</span><span class="op" id="6151749">)</span><span class="op" id="6151750">.</span><span class="op" id="6151751">(</span><span class="ident" id="6151752">int64</span><span class="op" id="6151757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151762">if</span>&nbsp;<span class="ident" id="6151765">ok</span>&nbsp;<span class="op" id="6151768">&amp;&amp;</span>&nbsp;<span class="ident" id="6151771">b</span><span class="op" id="6151772">*</span><span class="num" id="6151773">8</span>&nbsp;<span class="op" id="6151775">==</span>&nbsp;<span class="ident" id="6151778">lastFieldBitOffset</span>&nbsp;<span class="op" id="6151797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151803">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151861">zeroArray</span><span class="op" id="6151870">(</span><span class="ident" id="6151871">lastFieldType</span><span class="op" id="6151884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151889">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151897">case</span>&nbsp;<span class="ident" id="6151902">TagConstType</span><span class="op" id="6151914">,</span>&nbsp;<span class="ident" id="6151916">TagVolatileType</span><span class="op" id="6151931">,</span>&nbsp;<span class="ident" id="6151933">TagRestrictType</span><span class="op" id="6151948">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151952">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151988">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152005">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152028">t</span>&nbsp;<span class="op" id="6152030">:=</span>&nbsp;<span class="builtinfunc" id="6152033">new</span><span class="op" id="6152036">(</span><span class="ident" id="6152037">QualType</span><span class="op" id="6152045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152049">typ</span>&nbsp;<span class="op" id="6152053">=</span>&nbsp;<span class="ident" id="6152055">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152059">typeCache</span><span class="op" id="6152068">[</span><span class="ident" id="6152069">off</span><span class="op" id="6152072">]</span>&nbsp;<span class="op" id="6152074">=</span>&nbsp;<span class="ident" id="6152076">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152080">if</span>&nbsp;<span class="ident" id="6152083">t</span><span class="op" id="6152084">.</span><span class="ident" id="6152085">Type</span>&nbsp;<span class="op" id="6152090">=</span>&nbsp;<span class="ident" id="6152092">typeOf</span><span class="op" id="6152098">(</span><span class="ident" id="6152099">e</span><span class="op" id="6152100">)</span><span class="op" id="6152101">;</span>&nbsp;<span class="ident" id="6152103">err</span>&nbsp;<span class="op" id="6152107">!=</span>&nbsp;<span class="ident" id="6152110">nil</span>&nbsp;<span class="op" id="6152114">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152119">goto</span>&nbsp;<span class="ident" id="6152124">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152136">switch</span>&nbsp;<span class="ident" id="6152143">e</span><span class="op" id="6152144">.</span><span class="ident" id="6152145">Tag</span>&nbsp;<span class="op" id="6152149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152153">case</span>&nbsp;<span class="ident" id="6152158">TagConstType</span><span class="op" id="6152170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152175">t</span><span class="op" id="6152176">.</span><span class="ident" id="6152177">Qual</span>&nbsp;<span class="op" id="6152182">=</span>&nbsp;<span class="string" id="6152184">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152194">case</span>&nbsp;<span class="ident" id="6152199">TagRestrictType</span><span class="op" id="6152214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152219">t</span><span class="op" id="6152220">.</span><span class="ident" id="6152221">Qual</span>&nbsp;<span class="op" id="6152226">=</span>&nbsp;<span class="string" id="6152228">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152241">case</span>&nbsp;<span class="ident" id="6152246">TagVolatileType</span><span class="op" id="6152261">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152266">t</span><span class="op" id="6152267">.</span><span class="ident" id="6152268">Qual</span>&nbsp;<span class="op" id="6152273">=</span>&nbsp;<span class="string" id="6152275">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152288">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152292">case</span>&nbsp;<span class="ident" id="6152297">TagEnumerationType</span><span class="op" id="6152315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152319">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152358">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152375">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152407">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152468">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152483">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152503">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6152536">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152576">t</span>&nbsp;<span class="op" id="6152578">:=</span>&nbsp;<span class="builtinfunc" id="6152581">new</span><span class="op" id="6152584">(</span><span class="ident" id="6152585">EnumType</span><span class="op" id="6152593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152597">typ</span>&nbsp;<span class="op" id="6152601">=</span>&nbsp;<span class="ident" id="6152603">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152607">typeCache</span><span class="op" id="6152616">[</span><span class="ident" id="6152617">off</span><span class="op" id="6152620">]</span>&nbsp;<span class="op" id="6152622">=</span>&nbsp;<span class="ident" id="6152624">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152628">t</span><span class="op" id="6152629">.</span><span class="ident" id="6152630">EnumName</span><span class="op" id="6152638">,</span>&nbsp;<span class="ident" id="6152640">_</span>&nbsp;<span class="op" id="6152642">=</span>&nbsp;<span class="ident" id="6152644">e</span><span class="op" id="6152645">.</span><span class="ident" id="6152646">Val</span><span class="op" id="6152649">(</span><span class="ident" id="6152650">AttrName</span><span class="op" id="6152658">)</span><span class="op" id="6152659">.</span><span class="op" id="6152660">(</span><span class="builtintype" id="6152661">string</span><span class="op" id="6152667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152671">t</span><span class="op" id="6152672">.</span><span class="ident" id="6152673">Val</span>&nbsp;<span class="op" id="6152677">=</span>&nbsp;<span class="builtinfunc" id="6152679">make</span><span class="op" id="6152683">(</span><span class="op" id="6152684">[</span><span class="op" id="6152685">]</span><span class="op" id="6152686">*</span><span class="ident" id="6152687">EnumValue</span><span class="op" id="6152696">,</span>&nbsp;<span class="num" id="6152698">0</span><span class="op" id="6152699">,</span>&nbsp;<span class="num" id="6152701">8</span><span class="op" id="6152702">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152706">for</span>&nbsp;<span class="ident" id="6152710">kid</span>&nbsp;<span class="op" id="6152714">:=</span>&nbsp;<span class="ident" id="6152717">next</span><span class="op" id="6152721">(</span><span class="op" id="6152722">)</span><span class="op" id="6152723">;</span>&nbsp;<span class="ident" id="6152725">kid</span>&nbsp;<span class="op" id="6152729">!=</span>&nbsp;<span class="ident" id="6152732">nil</span><span class="op" id="6152735">;</span>&nbsp;<span class="ident" id="6152737">kid</span>&nbsp;<span class="op" id="6152741">=</span>&nbsp;<span class="ident" id="6152743">next</span><span class="op" id="6152747">(</span><span class="op" id="6152748">)</span>&nbsp;<span class="op" id="6152750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152755">if</span>&nbsp;<span class="ident" id="6152758">kid</span><span class="op" id="6152761">.</span><span class="ident" id="6152762">Tag</span>&nbsp;<span class="op" id="6152766">==</span>&nbsp;<span class="ident" id="6152769">TagEnumerator</span>&nbsp;<span class="op" id="6152783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152789">f</span>&nbsp;<span class="op" id="6152791">:=</span>&nbsp;<span class="builtinfunc" id="6152794">new</span><span class="op" id="6152797">(</span><span class="ident" id="6152798">EnumValue</span><span class="op" id="6152807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152813">f</span><span class="op" id="6152814">.</span><span class="ident" id="6152815">Name</span><span class="op" id="6152819">,</span>&nbsp;<span class="ident" id="6152821">_</span>&nbsp;<span class="op" id="6152823">=</span>&nbsp;<span class="ident" id="6152825">kid</span><span class="op" id="6152828">.</span><span class="ident" id="6152829">Val</span><span class="op" id="6152832">(</span><span class="ident" id="6152833">AttrName</span><span class="op" id="6152841">)</span><span class="op" id="6152842">.</span><span class="op" id="6152843">(</span><span class="builtintype" id="6152844">string</span><span class="op" id="6152850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152856">f</span><span class="op" id="6152857">.</span><span class="ident" id="6152858">Val</span><span class="op" id="6152861">,</span>&nbsp;<span class="ident" id="6152863">_</span>&nbsp;<span class="op" id="6152865">=</span>&nbsp;<span class="ident" id="6152867">kid</span><span class="op" id="6152870">.</span><span class="ident" id="6152871">Val</span><span class="op" id="6152874">(</span><span class="ident" id="6152875">AttrConstValue</span><span class="op" id="6152889">)</span><span class="op" id="6152890">.</span><span class="op" id="6152891">(</span><span class="ident" id="6152892">int64</span><span class="op" id="6152897">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152903">n</span>&nbsp;<span class="op" id="6152905">:=</span>&nbsp;<span class="builtinfunc" id="6152908">len</span><span class="op" id="6152911">(</span><span class="ident" id="6152912">t</span><span class="op" id="6152913">.</span><span class="ident" id="6152914">Val</span><span class="op" id="6152917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152923">if</span>&nbsp;<span class="ident" id="6152926">n</span>&nbsp;<span class="op" id="6152928">&gt;=</span>&nbsp;<span class="builtinfunc" id="6152931">cap</span><span class="op" id="6152934">(</span><span class="ident" id="6152935">t</span><span class="op" id="6152936">.</span><span class="ident" id="6152937">Val</span><span class="op" id="6152940">)</span>&nbsp;<span class="op" id="6152942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152949">val</span>&nbsp;<span class="op" id="6152953">:=</span>&nbsp;<span class="builtinfunc" id="6152956">make</span><span class="op" id="6152960">(</span><span class="op" id="6152961">[</span><span class="op" id="6152962">]</span><span class="op" id="6152963">*</span><span class="ident" id="6152964">EnumValue</span><span class="op" id="6152973">,</span>&nbsp;<span class="ident" id="6152975">n</span><span class="op" id="6152976">,</span>&nbsp;<span class="ident" id="6152978">n</span><span class="op" id="6152979">*</span><span class="num" id="6152980">2</span><span class="op" id="6152981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6152988">copy</span><span class="op" id="6152992">(</span><span class="ident" id="6152993">val</span><span class="op" id="6152996">,</span>&nbsp;<span class="ident" id="6152998">t</span><span class="op" id="6152999">.</span><span class="ident" id="6153000">Val</span><span class="op" id="6153003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153010">t</span><span class="op" id="6153011">.</span><span class="ident" id="6153012">Val</span>&nbsp;<span class="op" id="6153016">=</span>&nbsp;<span class="ident" id="6153018">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6153026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153032">t</span><span class="op" id="6153033">.</span><span class="ident" id="6153034">Val</span>&nbsp;<span class="op" id="6153038">=</span>&nbsp;<span class="ident" id="6153040">t</span><span class="op" id="6153041">.</span><span class="ident" id="6153042">Val</span><span class="op" id="6153045">[</span><span class="num" id="6153046">0</span>&nbsp;<span class="op" id="6153048">:</span>&nbsp;<span class="ident" id="6153050">n</span><span class="op" id="6153051">+</span><span class="num" id="6153052">1</span><span class="op" id="6153053">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153059">t</span><span class="op" id="6153060">.</span><span class="ident" id="6153061">Val</span><span class="op" id="6153064">[</span><span class="ident" id="6153065">n</span><span class="op" id="6153066">]</span>&nbsp;<span class="op" id="6153068">=</span>&nbsp;<span class="ident" id="6153070">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6153075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6153079">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153083">case</span>&nbsp;<span class="ident" id="6153088">TagPointerType</span><span class="op" id="6153102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153106">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153142">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153159">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153221">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153265">t</span>&nbsp;<span class="op" id="6153267">:=</span>&nbsp;<span class="builtinfunc" id="6153270">new</span><span class="op" id="6153273">(</span><span class="ident" id="6153274">PtrType</span><span class="op" id="6153281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153285">typ</span>&nbsp;<span class="op" id="6153289">=</span>&nbsp;<span class="ident" id="6153291">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153295">typeCache</span><span class="op" id="6153304">[</span><span class="ident" id="6153305">off</span><span class="op" id="6153308">]</span>&nbsp;<span class="op" id="6153310">=</span>&nbsp;<span class="ident" id="6153312">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153316">if</span>&nbsp;<span class="ident" id="6153319">e</span><span class="op" id="6153320">.</span><span class="ident" id="6153321">Val</span><span class="op" id="6153324">(</span><span class="ident" id="6153325">AttrType</span><span class="op" id="6153333">)</span>&nbsp;<span class="op" id="6153335">==</span>&nbsp;<span class="ident" id="6153338">nil</span>&nbsp;<span class="op" id="6153342">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153347">t</span><span class="op" id="6153348">.</span><span class="ident" id="6153349">Type</span>&nbsp;<span class="op" id="6153354">=</span>&nbsp;<span class="op" id="6153356">&amp;</span><span class="ident" id="6153357">VoidType</span><span class="op" id="6153365">{</span><span class="op" id="6153366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153371">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6153379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153383">t</span><span class="op" id="6153384">.</span><span class="ident" id="6153385">Type</span>&nbsp;<span class="op" id="6153390">=</span>&nbsp;<span class="ident" id="6153392">typeOf</span><span class="op" id="6153398">(</span><span class="ident" id="6153399">e</span><span class="op" id="6153400">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153404">case</span>&nbsp;<span class="ident" id="6153409">TagSubroutineType</span><span class="op" id="6153426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153430">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153470">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153487">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153530">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153577">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153638">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153653">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153694">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153728">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153768">t</span>&nbsp;<span class="op" id="6153770">:=</span>&nbsp;<span class="builtinfunc" id="6153773">new</span><span class="op" id="6153776">(</span><span class="ident" id="6153777">FuncType</span><span class="op" id="6153785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153789">typ</span>&nbsp;<span class="op" id="6153793">=</span>&nbsp;<span class="ident" id="6153795">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153799">typeCache</span><span class="op" id="6153808">[</span><span class="ident" id="6153809">off</span><span class="op" id="6153812">]</span>&nbsp;<span class="op" id="6153814">=</span>&nbsp;<span class="ident" id="6153816">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153820">if</span>&nbsp;<span class="ident" id="6153823">t</span><span class="op" id="6153824">.</span><span class="ident" id="6153825">ReturnType</span>&nbsp;<span class="op" id="6153836">=</span>&nbsp;<span class="ident" id="6153838">typeOf</span><span class="op" id="6153844">(</span><span class="ident" id="6153845">e</span><span class="op" id="6153846">)</span><span class="op" id="6153847">;</span>&nbsp;<span class="ident" id="6153849">err</span>&nbsp;<span class="op" id="6153853">!=</span>&nbsp;<span class="ident" id="6153856">nil</span>&nbsp;<span class="op" id="6153860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153865">goto</span>&nbsp;<span class="ident" id="6153870">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6153878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153882">t</span><span class="op" id="6153883">.</span><span class="ident" id="6153884">ParamType</span>&nbsp;<span class="op" id="6153894">=</span>&nbsp;<span class="builtinfunc" id="6153896">make</span><span class="op" id="6153900">(</span><span class="op" id="6153901">[</span><span class="op" id="6153902">]</span><span class="ident" id="6153903">Type</span><span class="op" id="6153907">,</span>&nbsp;<span class="num" id="6153909">0</span><span class="op" id="6153910">,</span>&nbsp;<span class="num" id="6153912">8</span><span class="op" id="6153913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153917">for</span>&nbsp;<span class="ident" id="6153921">kid</span>&nbsp;<span class="op" id="6153925">:=</span>&nbsp;<span class="ident" id="6153928">next</span><span class="op" id="6153932">(</span><span class="op" id="6153933">)</span><span class="op" id="6153934">;</span>&nbsp;<span class="ident" id="6153936">kid</span>&nbsp;<span class="op" id="6153940">!=</span>&nbsp;<span class="ident" id="6153943">nil</span><span class="op" id="6153946">;</span>&nbsp;<span class="ident" id="6153948">kid</span>&nbsp;<span class="op" id="6153952">=</span>&nbsp;<span class="ident" id="6153954">next</span><span class="op" id="6153958">(</span><span class="op" id="6153959">)</span>&nbsp;<span class="op" id="6153961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153966">var</span>&nbsp;<span class="ident" id="6153970">tkid</span>&nbsp;<span class="ident" id="6153975">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153983">switch</span>&nbsp;<span class="ident" id="6153990">kid</span><span class="op" id="6153993">.</span><span class="ident" id="6153994">Tag</span>&nbsp;<span class="op" id="6153998">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154003">default</span><span class="op" id="6154010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154016">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154028">case</span>&nbsp;<span class="ident" id="6154033">TagFormalParameter</span><span class="op" id="6154051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154057">if</span>&nbsp;<span class="ident" id="6154060">tkid</span>&nbsp;<span class="op" id="6154065">=</span>&nbsp;<span class="ident" id="6154067">typeOf</span><span class="op" id="6154073">(</span><span class="ident" id="6154074">kid</span><span class="op" id="6154077">)</span><span class="op" id="6154078">;</span>&nbsp;<span class="ident" id="6154080">err</span>&nbsp;<span class="op" id="6154084">!=</span>&nbsp;<span class="ident" id="6154087">nil</span>&nbsp;<span class="op" id="6154091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154098">goto</span>&nbsp;<span class="ident" id="6154103">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154118">case</span>&nbsp;<span class="ident" id="6154123">TagUnspecifiedParameters</span><span class="op" id="6154147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154153">tkid</span>&nbsp;<span class="op" id="6154158">=</span>&nbsp;<span class="op" id="6154160">&amp;</span><span class="ident" id="6154161">DotDotDotType</span><span class="op" id="6154174">{</span><span class="op" id="6154175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154185">t</span><span class="op" id="6154186">.</span><span class="ident" id="6154187">ParamType</span>&nbsp;<span class="op" id="6154197">=</span>&nbsp;<span class="builtinfunc" id="6154199">append</span><span class="op" id="6154205">(</span><span class="ident" id="6154206">t</span><span class="op" id="6154207">.</span><span class="ident" id="6154208">ParamType</span><span class="op" id="6154217">,</span>&nbsp;<span class="ident" id="6154219">tkid</span><span class="op" id="6154223">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154231">case</span>&nbsp;<span class="ident" id="6154236">TagTypedef</span><span class="op" id="6154246">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154250">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154280">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154297">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154328">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154370">t</span>&nbsp;<span class="op" id="6154372">:=</span>&nbsp;<span class="builtinfunc" id="6154375">new</span><span class="op" id="6154378">(</span><span class="ident" id="6154379">TypedefType</span><span class="op" id="6154390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154394">typ</span>&nbsp;<span class="op" id="6154398">=</span>&nbsp;<span class="ident" id="6154400">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154404">typeCache</span><span class="op" id="6154413">[</span><span class="ident" id="6154414">off</span><span class="op" id="6154417">]</span>&nbsp;<span class="op" id="6154419">=</span>&nbsp;<span class="ident" id="6154421">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154425">t</span><span class="op" id="6154426">.</span><span class="ident" id="6154427">Name</span><span class="op" id="6154431">,</span>&nbsp;<span class="ident" id="6154433">_</span>&nbsp;<span class="op" id="6154435">=</span>&nbsp;<span class="ident" id="6154437">e</span><span class="op" id="6154438">.</span><span class="ident" id="6154439">Val</span><span class="op" id="6154442">(</span><span class="ident" id="6154443">AttrName</span><span class="op" id="6154451">)</span><span class="op" id="6154452">.</span><span class="op" id="6154453">(</span><span class="builtintype" id="6154454">string</span><span class="op" id="6154460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154464">t</span><span class="op" id="6154465">.</span><span class="ident" id="6154466">Type</span>&nbsp;<span class="op" id="6154471">=</span>&nbsp;<span class="ident" id="6154473">typeOf</span><span class="op" id="6154479">(</span><span class="ident" id="6154480">e</span><span class="op" id="6154481">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154485">case</span>&nbsp;<span class="ident" id="6154490">TagUnspecifiedType</span><span class="op" id="6154508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154512">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154551">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154568">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154588">t</span>&nbsp;<span class="op" id="6154590">:=</span>&nbsp;<span class="builtinfunc" id="6154593">new</span><span class="op" id="6154596">(</span><span class="ident" id="6154597">UnspecifiedType</span><span class="op" id="6154612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154616">typ</span>&nbsp;<span class="op" id="6154620">=</span>&nbsp;<span class="ident" id="6154622">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154626">typeCache</span><span class="op" id="6154635">[</span><span class="ident" id="6154636">off</span><span class="op" id="6154639">]</span>&nbsp;<span class="op" id="6154641">=</span>&nbsp;<span class="ident" id="6154643">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154647">t</span><span class="op" id="6154648">.</span><span class="ident" id="6154649">Name</span><span class="op" id="6154653">,</span>&nbsp;<span class="ident" id="6154655">_</span>&nbsp;<span class="op" id="6154657">=</span>&nbsp;<span class="ident" id="6154659">e</span><span class="op" id="6154660">.</span><span class="ident" id="6154661">Val</span><span class="op" id="6154664">(</span><span class="ident" id="6154665">AttrName</span><span class="op" id="6154673">)</span><span class="op" id="6154674">.</span><span class="op" id="6154675">(</span><span class="builtintype" id="6154676">string</span><span class="op" id="6154682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154689">if</span>&nbsp;<span class="ident" id="6154692">err</span>&nbsp;<span class="op" id="6154696">!=</span>&nbsp;<span class="ident" id="6154699">nil</span>&nbsp;<span class="op" id="6154703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154707">goto</span>&nbsp;<span class="ident" id="6154712">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154727">b</span><span class="op" id="6154728">,</span>&nbsp;<span class="ident" id="6154730">ok</span>&nbsp;<span class="op" id="6154733">:=</span>&nbsp;<span class="ident" id="6154736">e</span><span class="op" id="6154737">.</span><span class="ident" id="6154738">Val</span><span class="op" id="6154741">(</span><span class="ident" id="6154742">AttrByteSize</span><span class="op" id="6154754">)</span><span class="op" id="6154755">.</span><span class="op" id="6154756">(</span><span class="ident" id="6154757">int64</span><span class="op" id="6154762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154766">if</span>&nbsp;<span class="op" id="6154769">!</span><span class="ident" id="6154770">ok</span>&nbsp;<span class="op" id="6154773">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154778">b</span>&nbsp;<span class="op" id="6154780">=</span>&nbsp;<span class="op" id="6154782">-</span><span class="num" id="6154783">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154791">typ</span><span class="op" id="6154794">.</span><span class="ident" id="6154795">Common</span><span class="op" id="6154801">(</span><span class="op" id="6154802">)</span><span class="op" id="6154803">.</span><span class="ident" id="6154804">ByteSize</span>&nbsp;<span class="op" id="6154813">=</span>&nbsp;<span class="ident" id="6154815">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154821">return</span>&nbsp;<span class="ident" id="6154828">typ</span><span class="op" id="6154831">,</span>&nbsp;<span class="ident" id="6154833">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="6154838">Error</span><span class="op" id="6154843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154846">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154901">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154956">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6154990">delete</span><span class="op" id="6154996">(</span><span class="ident" id="6154997">typeCache</span><span class="op" id="6155006">,</span>&nbsp;<span class="ident" id="6155008">off</span><span class="op" id="6155011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155014">return</span>&nbsp;<span class="ident" id="6155021">nil</span><span class="op" id="6155024">,</span>&nbsp;<span class="ident" id="6155026">err</span><br>
<span class="lineno"></span><span class="op" id="6155030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6155033">func</span>&nbsp;<span class="ident" id="6155038">zeroArray</span><span class="op" id="6155047">(</span><span class="ident" id="6155048">t</span>&nbsp;<span class="op" id="6155050">*</span><span class="ident" id="6155051">Type</span><span class="op" id="6155055">)</span>&nbsp;<span class="op" id="6155057">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155060">if</span>&nbsp;<span class="ident" id="6155063">t</span>&nbsp;<span class="op" id="6155065">==</span>&nbsp;<span class="ident" id="6155068">nil</span>&nbsp;<span class="op" id="6155072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155076">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155087">at</span><span class="op" id="6155089">,</span>&nbsp;<span class="ident" id="6155091">ok</span>&nbsp;<span class="op" id="6155094">:=</span>&nbsp;<span class="op" id="6155097">(</span><span class="op" id="6155098">*</span><span class="ident" id="6155099">t</span><span class="op" id="6155100">)</span><span class="op" id="6155101">.</span><span class="op" id="6155102">(</span><span class="op" id="6155103">*</span><span class="ident" id="6155104">ArrayType</span><span class="op" id="6155113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155116">if</span>&nbsp;<span class="op" id="6155119">!</span><span class="ident" id="6155120">ok</span>&nbsp;<span class="op" id="6155123">||</span>&nbsp;<span class="ident" id="6155126">at</span><span class="op" id="6155128">.</span><span class="ident" id="6155129">Type</span><span class="op" id="6155133">.</span><span class="ident" id="6155134">Size</span><span class="op" id="6155138">(</span><span class="op" id="6155139">)</span>&nbsp;<span class="op" id="6155141">==</span>&nbsp;<span class="num" id="6155144">0</span>&nbsp;<span class="op" id="6155146">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155150">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155161">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155210">tt</span>&nbsp;<span class="op" id="6155213">:=</span>&nbsp;<span class="op" id="6155216">*</span><span class="ident" id="6155217">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155221">tt</span><span class="op" id="6155223">.</span><span class="ident" id="6155224">Count</span>&nbsp;<span class="op" id="6155230">=</span>&nbsp;<span class="num" id="6155232">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155235">*</span><span class="ident" id="6155236">t</span>&nbsp;<span class="op" id="6155238">=</span>&nbsp;<span class="op" id="6155240">&amp;</span><span class="ident" id="6155241">tt</span><br>
<span class="lineno"></span><span class="op" id="6155244">}</span>
</div>
</body>
</html>
