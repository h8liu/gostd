<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html" class="current">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8211831">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8211887">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8211941">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8211992">package</span>&nbsp;<span class="ident" id="8212000">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8212010">import</span>&nbsp;<span class="op" id="8212017">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8212020">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8212031">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8212041">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8212044">type</span>&nbsp;<span class="ident" id="8212049">fileTest</span>&nbsp;<span class="keyword" id="8212058">struct</span>&nbsp;<span class="op" id="8212065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212068">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8212077">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212085">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212094">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212106">sections</span>&nbsp;<span class="op" id="8212115">[</span><span class="op" id="8212116">]</span><span class="op" id="8212117">*</span><span class="ident" id="8212118">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="8212132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8212135">var</span>&nbsp;<span class="ident" id="8212139">fileTests</span>&nbsp;<span class="op" id="8212149">=</span>&nbsp;<span class="op" id="8212151">[</span><span class="op" id="8212152">]</span><span class="ident" id="8212153">fileTest</span><span class="op" id="8212161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212164">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8212168">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="8212193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212197">FileHeader</span><span class="op" id="8212207">{</span><span class="ident" id="8212208">Magic386</span><span class="op" id="8212216">,</span>&nbsp;<span class="num" id="8212218">0x324</span><span class="op" id="8212223">,</span>&nbsp;<span class="num" id="8212225">0x14</span><span class="op" id="8212229">,</span>&nbsp;<span class="num" id="8212231">4</span><span class="op" id="8212232">,</span>&nbsp;<span class="num" id="8212234">0x1000</span><span class="op" id="8212240">,</span>&nbsp;<span class="num" id="8212242">32</span><span class="op" id="8212244">}</span><span class="op" id="8212245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212249">[</span><span class="op" id="8212250">]</span><span class="op" id="8212251">*</span><span class="ident" id="8212252">SectionHeader</span><span class="op" id="8212265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212270">{</span><span class="string" id="8212271">&#34;text&#34;</span><span class="op" id="8212277">,</span>&nbsp;<span class="num" id="8212279">0x4c5f</span><span class="op" id="8212285">,</span>&nbsp;<span class="num" id="8212287">0x20</span><span class="op" id="8212291">}</span><span class="op" id="8212292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212297">{</span><span class="string" id="8212298">&#34;data&#34;</span><span class="op" id="8212304">,</span>&nbsp;<span class="num" id="8212306">0x94c</span><span class="op" id="8212311">,</span>&nbsp;<span class="num" id="8212313">0x4c7f</span><span class="op" id="8212319">}</span><span class="op" id="8212320">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212325">{</span><span class="string" id="8212326">&#34;syms&#34;</span><span class="op" id="8212332">,</span>&nbsp;<span class="num" id="8212334">0x2c2b</span><span class="op" id="8212340">,</span>&nbsp;<span class="num" id="8212342">0x55cb</span><span class="op" id="8212348">}</span><span class="op" id="8212349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212354">{</span><span class="string" id="8212355">&#34;spsz&#34;</span><span class="op" id="8212361">,</span>&nbsp;<span class="num" id="8212363">0x0</span><span class="op" id="8212366">,</span>&nbsp;<span class="num" id="8212368">0x81f6</span><span class="op" id="8212374">}</span><span class="op" id="8212375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212380">{</span><span class="string" id="8212381">&#34;pcsz&#34;</span><span class="op" id="8212387">,</span>&nbsp;<span class="num" id="8212389">0xf7a</span><span class="op" id="8212394">,</span>&nbsp;<span class="num" id="8212396">0x81f6</span><span class="op" id="8212402">}</span><span class="op" id="8212403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212407">}</span><span class="op" id="8212408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212411">}</span><span class="op" id="8212412">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8212419">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="8212446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212450">FileHeader</span><span class="op" id="8212460">{</span><span class="ident" id="8212461">MagicAMD64</span><span class="op" id="8212471">,</span>&nbsp;<span class="num" id="8212473">0x618</span><span class="op" id="8212478">,</span>&nbsp;<span class="num" id="8212480">0x13</span><span class="op" id="8212484">,</span>&nbsp;<span class="num" id="8212486">8</span><span class="op" id="8212487">,</span>&nbsp;<span class="num" id="8212489">0x200000</span><span class="op" id="8212497">,</span>&nbsp;<span class="num" id="8212499">40</span><span class="op" id="8212501">}</span><span class="op" id="8212502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212506">[</span><span class="op" id="8212507">]</span><span class="op" id="8212508">*</span><span class="ident" id="8212509">SectionHeader</span><span class="op" id="8212522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212527">{</span><span class="string" id="8212528">&#34;text&#34;</span><span class="op" id="8212534">,</span>&nbsp;<span class="num" id="8212536">0x4213</span><span class="op" id="8212542">,</span>&nbsp;<span class="num" id="8212544">0x28</span><span class="op" id="8212548">}</span><span class="op" id="8212549">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212554">{</span><span class="string" id="8212555">&#34;data&#34;</span><span class="op" id="8212561">,</span>&nbsp;<span class="num" id="8212563">0xa80</span><span class="op" id="8212568">,</span>&nbsp;<span class="num" id="8212570">0x423b</span><span class="op" id="8212576">}</span><span class="op" id="8212577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212582">{</span><span class="string" id="8212583">&#34;syms&#34;</span><span class="op" id="8212589">,</span>&nbsp;<span class="num" id="8212591">0x2c8c</span><span class="op" id="8212597">,</span>&nbsp;<span class="num" id="8212599">0x4cbb</span><span class="op" id="8212605">}</span><span class="op" id="8212606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212611">{</span><span class="string" id="8212612">&#34;spsz&#34;</span><span class="op" id="8212618">,</span>&nbsp;<span class="num" id="8212620">0x0</span><span class="op" id="8212623">,</span>&nbsp;<span class="num" id="8212625">0x7947</span><span class="op" id="8212631">}</span><span class="op" id="8212632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212637">{</span><span class="string" id="8212638">&#34;pcsz&#34;</span><span class="op" id="8212644">,</span>&nbsp;<span class="num" id="8212646">0xca0</span><span class="op" id="8212651">,</span>&nbsp;<span class="num" id="8212653">0x7947</span><span class="op" id="8212659">}</span><span class="op" id="8212660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212664">}</span><span class="op" id="8212665">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212668">}</span><span class="op" id="8212669">,</span><br>
<span class="lineno"></span><span class="op" id="8212671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8212674">func</span>&nbsp;<span class="ident" id="8212679">TestOpen</span><span class="op" id="8212687">(</span><span class="ident" id="8212688">t</span>&nbsp;<span class="op" id="8212690">*</span><span class="ident" id="8212691">testing</span><span class="op" id="8212698">.</span><span class="ident" id="8212699">T</span><span class="op" id="8212700">)</span>&nbsp;<span class="op" id="8212702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212705">for</span>&nbsp;<span class="ident" id="8212709">i</span>&nbsp;<span class="op" id="8212711">:=</span>&nbsp;<span class="keyword" id="8212714">range</span>&nbsp;<span class="ident" id="8212720">fileTests</span>&nbsp;<span class="op" id="8212730">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212734">tt</span>&nbsp;<span class="op" id="8212737">:=</span>&nbsp;<span class="op" id="8212740">&amp;</span><span class="ident" id="8212741">fileTests</span><span class="op" id="8212750">[</span><span class="ident" id="8212751">i</span><span class="op" id="8212752">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212757">f</span><span class="op" id="8212758">,</span>&nbsp;<span class="ident" id="8212760">err</span>&nbsp;<span class="op" id="8212764">:=</span>&nbsp;<span class="ident" id="8212767">Open</span><span class="op" id="8212771">(</span><span class="ident" id="8212772">tt</span><span class="op" id="8212774">.</span><span class="ident" id="8212775">file</span><span class="op" id="8212779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212783">if</span>&nbsp;<span class="ident" id="8212786">err</span>&nbsp;<span class="op" id="8212790">!=</span>&nbsp;<span class="builtintype" id="8212793">nil</span>&nbsp;<span class="op" id="8212797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212802">t</span><span class="op" id="8212803">.</span><span class="ident" id="8212804">Error</span><span class="op" id="8212809">(</span><span class="ident" id="8212810">err</span><span class="op" id="8212813">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212833">if</span>&nbsp;<span class="op" id="8212836">!</span><span class="ident" id="8212837">reflect</span><span class="op" id="8212844">.</span><span class="ident" id="8212845">DeepEqual</span><span class="op" id="8212854">(</span><span class="ident" id="8212855">f</span><span class="op" id="8212856">.</span><span class="ident" id="8212857">FileHeader</span><span class="op" id="8212867">,</span>&nbsp;<span class="ident" id="8212869">tt</span><span class="op" id="8212871">.</span><span class="ident" id="8212872">hdr</span><span class="op" id="8212875">)</span>&nbsp;<span class="op" id="8212877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8212882">t</span><span class="op" id="8212883">.</span><span class="ident" id="8212884">Errorf</span><span class="op" id="8212890">(</span><span class="string" id="8212891">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8212927">,</span>&nbsp;<span class="ident" id="8212929">tt</span><span class="op" id="8212931">.</span><span class="ident" id="8212932">file</span><span class="op" id="8212936">,</span>&nbsp;<span class="ident" id="8212938">f</span><span class="op" id="8212939">.</span><span class="ident" id="8212940">FileHeader</span><span class="op" id="8212950">,</span>&nbsp;<span class="ident" id="8212952">tt</span><span class="op" id="8212954">.</span><span class="ident" id="8212955">hdr</span><span class="op" id="8212958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212963">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8212974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8212979">for</span>&nbsp;<span class="ident" id="8212983">i</span><span class="op" id="8212984">,</span>&nbsp;<span class="ident" id="8212986">sh</span>&nbsp;<span class="op" id="8212989">:=</span>&nbsp;<span class="keyword" id="8212992">range</span>&nbsp;<span class="ident" id="8212998">f</span><span class="op" id="8212999">.</span><span class="ident" id="8213000">Sections</span>&nbsp;<span class="op" id="8213009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213014">if</span>&nbsp;<span class="ident" id="8213017">i</span>&nbsp;<span class="op" id="8213019">&gt;=</span>&nbsp;<span class="builtinfunc" id="8213022">len</span><span class="op" id="8213025">(</span><span class="ident" id="8213026">tt</span><span class="op" id="8213028">.</span><span class="ident" id="8213029">sections</span><span class="op" id="8213037">)</span>&nbsp;<span class="op" id="8213039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213045">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213059">have</span>&nbsp;<span class="op" id="8213064">:=</span>&nbsp;<span class="op" id="8213067">&amp;</span><span class="ident" id="8213068">sh</span><span class="op" id="8213070">.</span><span class="ident" id="8213071">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213088">want</span>&nbsp;<span class="op" id="8213093">:=</span>&nbsp;<span class="ident" id="8213096">tt</span><span class="op" id="8213098">.</span><span class="ident" id="8213099">sections</span><span class="op" id="8213107">[</span><span class="ident" id="8213108">i</span><span class="op" id="8213109">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213114">if</span>&nbsp;<span class="op" id="8213117">!</span><span class="ident" id="8213118">reflect</span><span class="op" id="8213125">.</span><span class="ident" id="8213126">DeepEqual</span><span class="op" id="8213135">(</span><span class="ident" id="8213136">have</span><span class="op" id="8213140">,</span>&nbsp;<span class="ident" id="8213142">want</span><span class="op" id="8213146">)</span>&nbsp;<span class="op" id="8213148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213154">t</span><span class="op" id="8213155">.</span><span class="ident" id="8213156">Errorf</span><span class="op" id="8213162">(</span><span class="string" id="8213163">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8213211">,</span>&nbsp;<span class="ident" id="8213213">tt</span><span class="op" id="8213215">.</span><span class="ident" id="8213216">file</span><span class="op" id="8213220">,</span>&nbsp;<span class="ident" id="8213222">i</span><span class="op" id="8213223">,</span>&nbsp;<span class="ident" id="8213225">have</span><span class="op" id="8213229">,</span>&nbsp;<span class="ident" id="8213231">want</span><span class="op" id="8213235">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213248">tn</span>&nbsp;<span class="op" id="8213251">:=</span>&nbsp;<span class="builtinfunc" id="8213254">len</span><span class="op" id="8213257">(</span><span class="ident" id="8213258">tt</span><span class="op" id="8213260">.</span><span class="ident" id="8213261">sections</span><span class="op" id="8213269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213273">fn</span>&nbsp;<span class="op" id="8213276">:=</span>&nbsp;<span class="builtinfunc" id="8213279">len</span><span class="op" id="8213282">(</span><span class="ident" id="8213283">f</span><span class="op" id="8213284">.</span><span class="ident" id="8213285">Sections</span><span class="op" id="8213293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213297">if</span>&nbsp;<span class="ident" id="8213300">tn</span>&nbsp;<span class="op" id="8213303">!=</span>&nbsp;<span class="ident" id="8213306">fn</span>&nbsp;<span class="op" id="8213309">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213314">t</span><span class="op" id="8213315">.</span><span class="ident" id="8213316">Errorf</span><span class="op" id="8213322">(</span><span class="string" id="8213323">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8213361">,</span>&nbsp;<span class="ident" id="8213363">tt</span><span class="op" id="8213365">.</span><span class="ident" id="8213366">file</span><span class="op" id="8213370">,</span>&nbsp;<span class="ident" id="8213372">fn</span><span class="op" id="8213374">,</span>&nbsp;<span class="ident" id="8213376">tn</span><span class="op" id="8213378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213385">}</span><br>
<span class="lineno"></span><span class="op" id="8213387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="8213390">func</span>&nbsp;<span class="ident" id="8213395">TestOpenFailure</span><span class="op" id="8213410">(</span><span class="ident" id="8213411">t</span>&nbsp;<span class="op" id="8213413">*</span><span class="ident" id="8213414">testing</span><span class="op" id="8213421">.</span><span class="ident" id="8213422">T</span><span class="op" id="8213423">)</span>&nbsp;<span class="op" id="8213425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213428">filename</span>&nbsp;<span class="op" id="8213437">:=</span>&nbsp;<span class="string" id="8213440">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8213453">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213481">_</span><span class="op" id="8213482">,</span>&nbsp;<span class="ident" id="8213484">err</span>&nbsp;<span class="op" id="8213488">:=</span>&nbsp;<span class="ident" id="8213491">Open</span><span class="op" id="8213495">(</span><span class="ident" id="8213496">filename</span><span class="op" id="8213504">)</span>&nbsp;<span class="comment" id="8213506">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213522">if</span>&nbsp;<span class="ident" id="8213525">err</span>&nbsp;<span class="op" id="8213529">==</span>&nbsp;<span class="builtintype" id="8213532">nil</span>&nbsp;<span class="op" id="8213536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213540">t</span><span class="op" id="8213541">.</span><span class="ident" id="8213542">Errorf</span><span class="op" id="8213548">(</span><span class="string" id="8213549">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="8213582">,</span>&nbsp;<span class="ident" id="8213584">filename</span><span class="op" id="8213592">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213595">}</span><br>
<span class="lineno"></span><span class="op" id="8213597">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
