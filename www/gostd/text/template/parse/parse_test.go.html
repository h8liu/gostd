<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7024414">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7024469">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7024523">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7024574">package</span>&nbsp;<span class="ident" id="7024582">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7024589">import</span>&nbsp;<span class="op" id="7024596">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7024599">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7024607">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7024614">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7024625">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7024635">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7024638">var</span>&nbsp;<span class="ident" id="7024642">debug</span>&nbsp;<span class="op" id="7024648">=</span>&nbsp;<span class="ident" id="7024650">flag</span><span class="op" id="7024654">.</span><span class="ident" id="7024655">Bool</span><span class="op" id="7024659">(</span><span class="string" id="7024660">&#34;debug&#34;</span><span class="op" id="7024667">,</span>&nbsp;<span class="builtintype" id="7024669">false</span><span class="op" id="7024674">,</span>&nbsp;<span class="string" id="7024676">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="7024720">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7024723">type</span>&nbsp;<span class="ident" id="7024728">numberTest</span>&nbsp;<span class="keyword" id="7024739">struct</span>&nbsp;<span class="op" id="7024746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024749">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7024759">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024767">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7024777">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024783">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7024793">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024799">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7024809">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024815">isComplex</span>&nbsp;<span class="builtintype" id="7024825">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024831">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024838">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7024846">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7024855">complex128</span><br>
<span class="lineno"></span><span class="op" id="7024866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7024869">var</span>&nbsp;<span class="ident" id="7024873">numberTests</span>&nbsp;<span class="op" id="7024885">=</span>&nbsp;<span class="op" id="7024887">[</span><span class="op" id="7024888">]</span><span class="ident" id="7024889">numberTest</span><span class="op" id="7024899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7024902">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024913">{</span><span class="string" id="7024914">&#34;0&#34;</span><span class="op" id="7024917">,</span>&nbsp;<span class="builtintype" id="7024919">true</span><span class="op" id="7024923">,</span>&nbsp;<span class="builtintype" id="7024925">true</span><span class="op" id="7024929">,</span>&nbsp;<span class="builtintype" id="7024931">true</span><span class="op" id="7024935">,</span>&nbsp;<span class="builtintype" id="7024937">false</span><span class="op" id="7024942">,</span>&nbsp;<span class="num" id="7024944">0</span><span class="op" id="7024945">,</span>&nbsp;<span class="num" id="7024947">0</span><span class="op" id="7024948">,</span>&nbsp;<span class="num" id="7024950">0</span><span class="op" id="7024951">,</span>&nbsp;<span class="num" id="7024953">0</span><span class="op" id="7024954">}</span><span class="op" id="7024955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024958">{</span><span class="string" id="7024959">&#34;-0&#34;</span><span class="op" id="7024963">,</span>&nbsp;<span class="builtintype" id="7024965">true</span><span class="op" id="7024969">,</span>&nbsp;<span class="builtintype" id="7024971">true</span><span class="op" id="7024975">,</span>&nbsp;<span class="builtintype" id="7024977">true</span><span class="op" id="7024981">,</span>&nbsp;<span class="builtintype" id="7024983">false</span><span class="op" id="7024988">,</span>&nbsp;<span class="num" id="7024990">0</span><span class="op" id="7024991">,</span>&nbsp;<span class="num" id="7024993">0</span><span class="op" id="7024994">,</span>&nbsp;<span class="num" id="7024996">0</span><span class="op" id="7024997">,</span>&nbsp;<span class="num" id="7024999">0</span><span class="op" id="7025000">}</span><span class="op" id="7025001">,</span>&nbsp;<span class="comment" id="7025003">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025032">{</span><span class="string" id="7025033">&#34;73&#34;</span><span class="op" id="7025037">,</span>&nbsp;<span class="builtintype" id="7025039">true</span><span class="op" id="7025043">,</span>&nbsp;<span class="builtintype" id="7025045">true</span><span class="op" id="7025049">,</span>&nbsp;<span class="builtintype" id="7025051">true</span><span class="op" id="7025055">,</span>&nbsp;<span class="builtintype" id="7025057">false</span><span class="op" id="7025062">,</span>&nbsp;<span class="num" id="7025064">73</span><span class="op" id="7025066">,</span>&nbsp;<span class="num" id="7025068">73</span><span class="op" id="7025070">,</span>&nbsp;<span class="num" id="7025072">73</span><span class="op" id="7025074">,</span>&nbsp;<span class="num" id="7025076">0</span><span class="op" id="7025077">}</span><span class="op" id="7025078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025081">{</span><span class="string" id="7025082">&#34;073&#34;</span><span class="op" id="7025087">,</span>&nbsp;<span class="builtintype" id="7025089">true</span><span class="op" id="7025093">,</span>&nbsp;<span class="builtintype" id="7025095">true</span><span class="op" id="7025099">,</span>&nbsp;<span class="builtintype" id="7025101">true</span><span class="op" id="7025105">,</span>&nbsp;<span class="builtintype" id="7025107">false</span><span class="op" id="7025112">,</span>&nbsp;<span class="num" id="7025114">073</span><span class="op" id="7025117">,</span>&nbsp;<span class="num" id="7025119">073</span><span class="op" id="7025122">,</span>&nbsp;<span class="num" id="7025124">073</span><span class="op" id="7025127">,</span>&nbsp;<span class="num" id="7025129">0</span><span class="op" id="7025130">}</span><span class="op" id="7025131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025134">{</span><span class="string" id="7025135">&#34;0x73&#34;</span><span class="op" id="7025141">,</span>&nbsp;<span class="builtintype" id="7025143">true</span><span class="op" id="7025147">,</span>&nbsp;<span class="builtintype" id="7025149">true</span><span class="op" id="7025153">,</span>&nbsp;<span class="builtintype" id="7025155">true</span><span class="op" id="7025159">,</span>&nbsp;<span class="builtintype" id="7025161">false</span><span class="op" id="7025166">,</span>&nbsp;<span class="num" id="7025168">0x73</span><span class="op" id="7025172">,</span>&nbsp;<span class="num" id="7025174">0x73</span><span class="op" id="7025178">,</span>&nbsp;<span class="num" id="7025180">0x73</span><span class="op" id="7025184">,</span>&nbsp;<span class="num" id="7025186">0</span><span class="op" id="7025187">}</span><span class="op" id="7025188">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025191">{</span><span class="string" id="7025192">&#34;-73&#34;</span><span class="op" id="7025197">,</span>&nbsp;<span class="builtintype" id="7025199">true</span><span class="op" id="7025203">,</span>&nbsp;<span class="builtintype" id="7025205">false</span><span class="op" id="7025210">,</span>&nbsp;<span class="builtintype" id="7025212">true</span><span class="op" id="7025216">,</span>&nbsp;<span class="builtintype" id="7025218">false</span><span class="op" id="7025223">,</span>&nbsp;<span class="op" id="7025225">-</span><span class="num" id="7025226">73</span><span class="op" id="7025228">,</span>&nbsp;<span class="num" id="7025230">0</span><span class="op" id="7025231">,</span>&nbsp;<span class="op" id="7025233">-</span><span class="num" id="7025234">73</span><span class="op" id="7025236">,</span>&nbsp;<span class="num" id="7025238">0</span><span class="op" id="7025239">}</span><span class="op" id="7025240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025243">{</span><span class="string" id="7025244">&#34;+73&#34;</span><span class="op" id="7025249">,</span>&nbsp;<span class="builtintype" id="7025251">true</span><span class="op" id="7025255">,</span>&nbsp;<span class="builtintype" id="7025257">false</span><span class="op" id="7025262">,</span>&nbsp;<span class="builtintype" id="7025264">true</span><span class="op" id="7025268">,</span>&nbsp;<span class="builtintype" id="7025270">false</span><span class="op" id="7025275">,</span>&nbsp;<span class="num" id="7025277">73</span><span class="op" id="7025279">,</span>&nbsp;<span class="num" id="7025281">0</span><span class="op" id="7025282">,</span>&nbsp;<span class="num" id="7025284">73</span><span class="op" id="7025286">,</span>&nbsp;<span class="num" id="7025288">0</span><span class="op" id="7025289">}</span><span class="op" id="7025290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025293">{</span><span class="string" id="7025294">&#34;100&#34;</span><span class="op" id="7025299">,</span>&nbsp;<span class="builtintype" id="7025301">true</span><span class="op" id="7025305">,</span>&nbsp;<span class="builtintype" id="7025307">true</span><span class="op" id="7025311">,</span>&nbsp;<span class="builtintype" id="7025313">true</span><span class="op" id="7025317">,</span>&nbsp;<span class="builtintype" id="7025319">false</span><span class="op" id="7025324">,</span>&nbsp;<span class="num" id="7025326">100</span><span class="op" id="7025329">,</span>&nbsp;<span class="num" id="7025331">100</span><span class="op" id="7025334">,</span>&nbsp;<span class="num" id="7025336">100</span><span class="op" id="7025339">,</span>&nbsp;<span class="num" id="7025341">0</span><span class="op" id="7025342">}</span><span class="op" id="7025343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025346">{</span><span class="string" id="7025347">&#34;1e9&#34;</span><span class="op" id="7025352">,</span>&nbsp;<span class="builtintype" id="7025354">true</span><span class="op" id="7025358">,</span>&nbsp;<span class="builtintype" id="7025360">true</span><span class="op" id="7025364">,</span>&nbsp;<span class="builtintype" id="7025366">true</span><span class="op" id="7025370">,</span>&nbsp;<span class="builtintype" id="7025372">false</span><span class="op" id="7025377">,</span>&nbsp;<span class="num" id="7025379">1e9</span><span class="op" id="7025382">,</span>&nbsp;<span class="num" id="7025384">1e9</span><span class="op" id="7025387">,</span>&nbsp;<span class="num" id="7025389">1e9</span><span class="op" id="7025392">,</span>&nbsp;<span class="num" id="7025394">0</span><span class="op" id="7025395">}</span><span class="op" id="7025396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025399">{</span><span class="string" id="7025400">&#34;-1e9&#34;</span><span class="op" id="7025406">,</span>&nbsp;<span class="builtintype" id="7025408">true</span><span class="op" id="7025412">,</span>&nbsp;<span class="builtintype" id="7025414">false</span><span class="op" id="7025419">,</span>&nbsp;<span class="builtintype" id="7025421">true</span><span class="op" id="7025425">,</span>&nbsp;<span class="builtintype" id="7025427">false</span><span class="op" id="7025432">,</span>&nbsp;<span class="op" id="7025434">-</span><span class="num" id="7025435">1e9</span><span class="op" id="7025438">,</span>&nbsp;<span class="num" id="7025440">0</span><span class="op" id="7025441">,</span>&nbsp;<span class="op" id="7025443">-</span><span class="num" id="7025444">1e9</span><span class="op" id="7025447">,</span>&nbsp;<span class="num" id="7025449">0</span><span class="op" id="7025450">}</span><span class="op" id="7025451">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025454">{</span><span class="string" id="7025455">&#34;-1.2&#34;</span><span class="op" id="7025461">,</span>&nbsp;<span class="builtintype" id="7025463">false</span><span class="op" id="7025468">,</span>&nbsp;<span class="builtintype" id="7025470">false</span><span class="op" id="7025475">,</span>&nbsp;<span class="builtintype" id="7025477">true</span><span class="op" id="7025481">,</span>&nbsp;<span class="builtintype" id="7025483">false</span><span class="op" id="7025488">,</span>&nbsp;<span class="num" id="7025490">0</span><span class="op" id="7025491">,</span>&nbsp;<span class="num" id="7025493">0</span><span class="op" id="7025494">,</span>&nbsp;<span class="op" id="7025496">-</span><span class="num" id="7025497">1.2</span><span class="op" id="7025500">,</span>&nbsp;<span class="num" id="7025502">0</span><span class="op" id="7025503">}</span><span class="op" id="7025504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025507">{</span><span class="string" id="7025508">&#34;1e19&#34;</span><span class="op" id="7025514">,</span>&nbsp;<span class="builtintype" id="7025516">false</span><span class="op" id="7025521">,</span>&nbsp;<span class="builtintype" id="7025523">true</span><span class="op" id="7025527">,</span>&nbsp;<span class="builtintype" id="7025529">true</span><span class="op" id="7025533">,</span>&nbsp;<span class="builtintype" id="7025535">false</span><span class="op" id="7025540">,</span>&nbsp;<span class="num" id="7025542">0</span><span class="op" id="7025543">,</span>&nbsp;<span class="num" id="7025545">1e19</span><span class="op" id="7025549">,</span>&nbsp;<span class="num" id="7025551">1e19</span><span class="op" id="7025555">,</span>&nbsp;<span class="num" id="7025557">0</span><span class="op" id="7025558">}</span><span class="op" id="7025559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025562">{</span><span class="string" id="7025563">&#34;-1e19&#34;</span><span class="op" id="7025570">,</span>&nbsp;<span class="builtintype" id="7025572">false</span><span class="op" id="7025577">,</span>&nbsp;<span class="builtintype" id="7025579">false</span><span class="op" id="7025584">,</span>&nbsp;<span class="builtintype" id="7025586">true</span><span class="op" id="7025590">,</span>&nbsp;<span class="builtintype" id="7025592">false</span><span class="op" id="7025597">,</span>&nbsp;<span class="num" id="7025599">0</span><span class="op" id="7025600">,</span>&nbsp;<span class="num" id="7025602">0</span><span class="op" id="7025603">,</span>&nbsp;<span class="op" id="7025605">-</span><span class="num" id="7025606">1e19</span><span class="op" id="7025610">,</span>&nbsp;<span class="num" id="7025612">0</span><span class="op" id="7025613">}</span><span class="op" id="7025614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025617">{</span><span class="string" id="7025618">&#34;4i&#34;</span><span class="op" id="7025622">,</span>&nbsp;<span class="builtintype" id="7025624">false</span><span class="op" id="7025629">,</span>&nbsp;<span class="builtintype" id="7025631">false</span><span class="op" id="7025636">,</span>&nbsp;<span class="builtintype" id="7025638">false</span><span class="op" id="7025643">,</span>&nbsp;<span class="builtintype" id="7025645">true</span><span class="op" id="7025649">,</span>&nbsp;<span class="num" id="7025651">0</span><span class="op" id="7025652">,</span>&nbsp;<span class="num" id="7025654">0</span><span class="op" id="7025655">,</span>&nbsp;<span class="num" id="7025657">0</span><span class="op" id="7025658">,</span>&nbsp;<span class="num" id="7025660">4i</span><span class="op" id="7025662">}</span><span class="op" id="7025663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025666">{</span><span class="string" id="7025667">&#34;-1.2+4.2i&#34;</span><span class="op" id="7025678">,</span>&nbsp;<span class="builtintype" id="7025680">false</span><span class="op" id="7025685">,</span>&nbsp;<span class="builtintype" id="7025687">false</span><span class="op" id="7025692">,</span>&nbsp;<span class="builtintype" id="7025694">false</span><span class="op" id="7025699">,</span>&nbsp;<span class="builtintype" id="7025701">true</span><span class="op" id="7025705">,</span>&nbsp;<span class="num" id="7025707">0</span><span class="op" id="7025708">,</span>&nbsp;<span class="num" id="7025710">0</span><span class="op" id="7025711">,</span>&nbsp;<span class="num" id="7025713">0</span><span class="op" id="7025714">,</span>&nbsp;<span class="op" id="7025716">-</span><span class="num" id="7025717">1.2</span>&nbsp;<span class="op" id="7025721">+</span>&nbsp;<span class="num" id="7025723">4.2i</span><span class="op" id="7025727">}</span><span class="op" id="7025728">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025731">{</span><span class="string" id="7025732">&#34;073i&#34;</span><span class="op" id="7025738">,</span>&nbsp;<span class="builtintype" id="7025740">false</span><span class="op" id="7025745">,</span>&nbsp;<span class="builtintype" id="7025747">false</span><span class="op" id="7025752">,</span>&nbsp;<span class="builtintype" id="7025754">false</span><span class="op" id="7025759">,</span>&nbsp;<span class="builtintype" id="7025761">true</span><span class="op" id="7025765">,</span>&nbsp;<span class="num" id="7025767">0</span><span class="op" id="7025768">,</span>&nbsp;<span class="num" id="7025770">0</span><span class="op" id="7025771">,</span>&nbsp;<span class="num" id="7025773">0</span><span class="op" id="7025774">,</span>&nbsp;<span class="num" id="7025776">73i</span><span class="op" id="7025779">}</span><span class="op" id="7025780">,</span>&nbsp;<span class="comment" id="7025782">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7025797">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025856">{</span><span class="string" id="7025857">&#34;0i&#34;</span><span class="op" id="7025861">,</span>&nbsp;<span class="builtintype" id="7025863">true</span><span class="op" id="7025867">,</span>&nbsp;<span class="builtintype" id="7025869">true</span><span class="op" id="7025873">,</span>&nbsp;<span class="builtintype" id="7025875">true</span><span class="op" id="7025879">,</span>&nbsp;<span class="builtintype" id="7025881">true</span><span class="op" id="7025885">,</span>&nbsp;<span class="num" id="7025887">0</span><span class="op" id="7025888">,</span>&nbsp;<span class="num" id="7025890">0</span><span class="op" id="7025891">,</span>&nbsp;<span class="num" id="7025893">0</span><span class="op" id="7025894">,</span>&nbsp;<span class="num" id="7025896">0</span><span class="op" id="7025897">}</span><span class="op" id="7025898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025901">{</span><span class="string" id="7025902">&#34;-1.2+0i&#34;</span><span class="op" id="7025911">,</span>&nbsp;<span class="builtintype" id="7025913">false</span><span class="op" id="7025918">,</span>&nbsp;<span class="builtintype" id="7025920">false</span><span class="op" id="7025925">,</span>&nbsp;<span class="builtintype" id="7025927">true</span><span class="op" id="7025931">,</span>&nbsp;<span class="builtintype" id="7025933">true</span><span class="op" id="7025937">,</span>&nbsp;<span class="num" id="7025939">0</span><span class="op" id="7025940">,</span>&nbsp;<span class="num" id="7025942">0</span><span class="op" id="7025943">,</span>&nbsp;<span class="op" id="7025945">-</span><span class="num" id="7025946">1.2</span><span class="op" id="7025949">,</span>&nbsp;<span class="op" id="7025951">-</span><span class="num" id="7025952">1.2</span><span class="op" id="7025955">}</span><span class="op" id="7025956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025959">{</span><span class="string" id="7025960">&#34;-12+0i&#34;</span><span class="op" id="7025968">,</span>&nbsp;<span class="builtintype" id="7025970">true</span><span class="op" id="7025974">,</span>&nbsp;<span class="builtintype" id="7025976">false</span><span class="op" id="7025981">,</span>&nbsp;<span class="builtintype" id="7025983">true</span><span class="op" id="7025987">,</span>&nbsp;<span class="builtintype" id="7025989">true</span><span class="op" id="7025993">,</span>&nbsp;<span class="op" id="7025995">-</span><span class="num" id="7025996">12</span><span class="op" id="7025998">,</span>&nbsp;<span class="num" id="7026000">0</span><span class="op" id="7026001">,</span>&nbsp;<span class="op" id="7026003">-</span><span class="num" id="7026004">12</span><span class="op" id="7026006">,</span>&nbsp;<span class="op" id="7026008">-</span><span class="num" id="7026009">12</span><span class="op" id="7026011">}</span><span class="op" id="7026012">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026015">{</span><span class="string" id="7026016">&#34;13+0i&#34;</span><span class="op" id="7026023">,</span>&nbsp;<span class="builtintype" id="7026025">true</span><span class="op" id="7026029">,</span>&nbsp;<span class="builtintype" id="7026031">true</span><span class="op" id="7026035">,</span>&nbsp;<span class="builtintype" id="7026037">true</span><span class="op" id="7026041">,</span>&nbsp;<span class="builtintype" id="7026043">true</span><span class="op" id="7026047">,</span>&nbsp;<span class="num" id="7026049">13</span><span class="op" id="7026051">,</span>&nbsp;<span class="num" id="7026053">13</span><span class="op" id="7026055">,</span>&nbsp;<span class="num" id="7026057">13</span><span class="op" id="7026059">,</span>&nbsp;<span class="num" id="7026061">13</span><span class="op" id="7026063">}</span><span class="op" id="7026064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026067">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026083">{</span><span class="string" id="7026084">&#34;0123&#34;</span><span class="op" id="7026090">,</span>&nbsp;<span class="builtintype" id="7026092">true</span><span class="op" id="7026096">,</span>&nbsp;<span class="builtintype" id="7026098">true</span><span class="op" id="7026102">,</span>&nbsp;<span class="builtintype" id="7026104">true</span><span class="op" id="7026108">,</span>&nbsp;<span class="builtintype" id="7026110">false</span><span class="op" id="7026115">,</span>&nbsp;<span class="num" id="7026117">0123</span><span class="op" id="7026121">,</span>&nbsp;<span class="num" id="7026123">0123</span><span class="op" id="7026127">,</span>&nbsp;<span class="num" id="7026129">0123</span><span class="op" id="7026133">,</span>&nbsp;<span class="num" id="7026135">0</span><span class="op" id="7026136">}</span><span class="op" id="7026137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026140">{</span><span class="string" id="7026141">&#34;-0x0&#34;</span><span class="op" id="7026147">,</span>&nbsp;<span class="builtintype" id="7026149">true</span><span class="op" id="7026153">,</span>&nbsp;<span class="builtintype" id="7026155">true</span><span class="op" id="7026159">,</span>&nbsp;<span class="builtintype" id="7026161">true</span><span class="op" id="7026165">,</span>&nbsp;<span class="builtintype" id="7026167">false</span><span class="op" id="7026172">,</span>&nbsp;<span class="num" id="7026174">0</span><span class="op" id="7026175">,</span>&nbsp;<span class="num" id="7026177">0</span><span class="op" id="7026178">,</span>&nbsp;<span class="num" id="7026180">0</span><span class="op" id="7026181">,</span>&nbsp;<span class="num" id="7026183">0</span><span class="op" id="7026184">}</span><span class="op" id="7026185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026188">{</span><span class="string" id="7026189">&#34;0xdeadbeef&#34;</span><span class="op" id="7026201">,</span>&nbsp;<span class="builtintype" id="7026203">true</span><span class="op" id="7026207">,</span>&nbsp;<span class="builtintype" id="7026209">true</span><span class="op" id="7026213">,</span>&nbsp;<span class="builtintype" id="7026215">true</span><span class="op" id="7026219">,</span>&nbsp;<span class="builtintype" id="7026221">false</span><span class="op" id="7026226">,</span>&nbsp;<span class="num" id="7026228">0xdeadbeef</span><span class="op" id="7026238">,</span>&nbsp;<span class="num" id="7026240">0xdeadbeef</span><span class="op" id="7026250">,</span>&nbsp;<span class="num" id="7026252">0xdeadbeef</span><span class="op" id="7026262">,</span>&nbsp;<span class="num" id="7026264">0</span><span class="op" id="7026265">}</span><span class="op" id="7026266">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026269">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026293">{</span><span class="string" id="7026294">`&#39;a&#39;`</span><span class="op" id="7026299">,</span>&nbsp;<span class="builtintype" id="7026301">true</span><span class="op" id="7026305">,</span>&nbsp;<span class="builtintype" id="7026307">true</span><span class="op" id="7026311">,</span>&nbsp;<span class="builtintype" id="7026313">true</span><span class="op" id="7026317">,</span>&nbsp;<span class="builtintype" id="7026319">false</span><span class="op" id="7026324">,</span>&nbsp;<span class="string" id="7026326">&#39;a&#39;</span><span class="op" id="7026329">,</span>&nbsp;<span class="string" id="7026331">&#39;a&#39;</span><span class="op" id="7026334">,</span>&nbsp;<span class="string" id="7026336">&#39;a&#39;</span><span class="op" id="7026339">,</span>&nbsp;<span class="num" id="7026341">0</span><span class="op" id="7026342">}</span><span class="op" id="7026343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026346">{</span><span class="string" id="7026347">`&#39;\n&#39;`</span><span class="op" id="7026353">,</span>&nbsp;<span class="builtintype" id="7026355">true</span><span class="op" id="7026359">,</span>&nbsp;<span class="builtintype" id="7026361">true</span><span class="op" id="7026365">,</span>&nbsp;<span class="builtintype" id="7026367">true</span><span class="op" id="7026371">,</span>&nbsp;<span class="builtintype" id="7026373">false</span><span class="op" id="7026378">,</span>&nbsp;<span class="string" id="7026380">&#39;\n&#39;</span><span class="op" id="7026384">,</span>&nbsp;<span class="string" id="7026386">&#39;\n&#39;</span><span class="op" id="7026390">,</span>&nbsp;<span class="string" id="7026392">&#39;\n&#39;</span><span class="op" id="7026396">,</span>&nbsp;<span class="num" id="7026398">0</span><span class="op" id="7026399">}</span><span class="op" id="7026400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026403">{</span><span class="string" id="7026404">`&#39;\\&#39;`</span><span class="op" id="7026410">,</span>&nbsp;<span class="builtintype" id="7026412">true</span><span class="op" id="7026416">,</span>&nbsp;<span class="builtintype" id="7026418">true</span><span class="op" id="7026422">,</span>&nbsp;<span class="builtintype" id="7026424">true</span><span class="op" id="7026428">,</span>&nbsp;<span class="builtintype" id="7026430">false</span><span class="op" id="7026435">,</span>&nbsp;<span class="string" id="7026437">&#39;\\&#39;</span><span class="op" id="7026441">,</span>&nbsp;<span class="string" id="7026443">&#39;\\&#39;</span><span class="op" id="7026447">,</span>&nbsp;<span class="string" id="7026449">&#39;\\&#39;</span><span class="op" id="7026453">,</span>&nbsp;<span class="num" id="7026455">0</span><span class="op" id="7026456">}</span><span class="op" id="7026457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026460">{</span><span class="string" id="7026461">`&#39;\&#39;&#39;`</span><span class="op" id="7026467">,</span>&nbsp;<span class="builtintype" id="7026469">true</span><span class="op" id="7026473">,</span>&nbsp;<span class="builtintype" id="7026475">true</span><span class="op" id="7026479">,</span>&nbsp;<span class="builtintype" id="7026481">true</span><span class="op" id="7026485">,</span>&nbsp;<span class="builtintype" id="7026487">false</span><span class="op" id="7026492">,</span>&nbsp;<span class="string" id="7026494">&#39;\&#39;&#39;</span><span class="op" id="7026498">,</span>&nbsp;<span class="string" id="7026500">&#39;\&#39;&#39;</span><span class="op" id="7026504">,</span>&nbsp;<span class="string" id="7026506">&#39;\&#39;&#39;</span><span class="op" id="7026510">,</span>&nbsp;<span class="num" id="7026512">0</span><span class="op" id="7026513">}</span><span class="op" id="7026514">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026517">{</span><span class="string" id="7026518">`&#39;\xFF&#39;`</span><span class="op" id="7026526">,</span>&nbsp;<span class="builtintype" id="7026528">true</span><span class="op" id="7026532">,</span>&nbsp;<span class="builtintype" id="7026534">true</span><span class="op" id="7026538">,</span>&nbsp;<span class="builtintype" id="7026540">true</span><span class="op" id="7026544">,</span>&nbsp;<span class="builtintype" id="7026546">false</span><span class="op" id="7026551">,</span>&nbsp;<span class="num" id="7026553">0xFF</span><span class="op" id="7026557">,</span>&nbsp;<span class="num" id="7026559">0xFF</span><span class="op" id="7026563">,</span>&nbsp;<span class="num" id="7026565">0xFF</span><span class="op" id="7026569">,</span>&nbsp;<span class="num" id="7026571">0</span><span class="op" id="7026572">}</span><span class="op" id="7026573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026576">{</span><span class="string" id="7026577">`&#39;ãƒ‘&#39;`</span><span class="op" id="7026584">,</span>&nbsp;<span class="builtintype" id="7026586">true</span><span class="op" id="7026590">,</span>&nbsp;<span class="builtintype" id="7026592">true</span><span class="op" id="7026596">,</span>&nbsp;<span class="builtintype" id="7026598">true</span><span class="op" id="7026602">,</span>&nbsp;<span class="builtintype" id="7026604">false</span><span class="op" id="7026609">,</span>&nbsp;<span class="num" id="7026611">0x30d1</span><span class="op" id="7026617">,</span>&nbsp;<span class="num" id="7026619">0x30d1</span><span class="op" id="7026625">,</span>&nbsp;<span class="num" id="7026627">0x30d1</span><span class="op" id="7026633">,</span>&nbsp;<span class="num" id="7026635">0</span><span class="op" id="7026636">}</span><span class="op" id="7026637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026640">{</span><span class="string" id="7026641">`&#39;\u30d1&#39;`</span><span class="op" id="7026651">,</span>&nbsp;<span class="builtintype" id="7026653">true</span><span class="op" id="7026657">,</span>&nbsp;<span class="builtintype" id="7026659">true</span><span class="op" id="7026663">,</span>&nbsp;<span class="builtintype" id="7026665">true</span><span class="op" id="7026669">,</span>&nbsp;<span class="builtintype" id="7026671">false</span><span class="op" id="7026676">,</span>&nbsp;<span class="num" id="7026678">0x30d1</span><span class="op" id="7026684">,</span>&nbsp;<span class="num" id="7026686">0x30d1</span><span class="op" id="7026692">,</span>&nbsp;<span class="num" id="7026694">0x30d1</span><span class="op" id="7026700">,</span>&nbsp;<span class="num" id="7026702">0</span><span class="op" id="7026703">}</span><span class="op" id="7026704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026707">{</span><span class="string" id="7026708">`&#39;\U000030d1&#39;`</span><span class="op" id="7026722">,</span>&nbsp;<span class="builtintype" id="7026724">true</span><span class="op" id="7026728">,</span>&nbsp;<span class="builtintype" id="7026730">true</span><span class="op" id="7026734">,</span>&nbsp;<span class="builtintype" id="7026736">true</span><span class="op" id="7026740">,</span>&nbsp;<span class="builtintype" id="7026742">false</span><span class="op" id="7026747">,</span>&nbsp;<span class="num" id="7026749">0x30d1</span><span class="op" id="7026755">,</span>&nbsp;<span class="num" id="7026757">0x30d1</span><span class="op" id="7026763">,</span>&nbsp;<span class="num" id="7026765">0x30d1</span><span class="op" id="7026771">,</span>&nbsp;<span class="num" id="7026773">0</span><span class="op" id="7026774">}</span><span class="op" id="7026775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026778">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026801">{</span><span class="ident" id="7026802">text</span><span class="op" id="7026806">:</span>&nbsp;<span class="string" id="7026808">&#34;+-2&#34;</span><span class="op" id="7026813">}</span><span class="op" id="7026814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026817">{</span><span class="ident" id="7026818">text</span><span class="op" id="7026822">:</span>&nbsp;<span class="string" id="7026824">&#34;0x123.&#34;</span><span class="op" id="7026832">}</span><span class="op" id="7026833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026836">{</span><span class="ident" id="7026837">text</span><span class="op" id="7026841">:</span>&nbsp;<span class="string" id="7026843">&#34;1e.&#34;</span><span class="op" id="7026848">}</span><span class="op" id="7026849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026852">{</span><span class="ident" id="7026853">text</span><span class="op" id="7026857">:</span>&nbsp;<span class="string" id="7026859">&#34;0xi.&#34;</span><span class="op" id="7026865">}</span><span class="op" id="7026866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026869">{</span><span class="ident" id="7026870">text</span><span class="op" id="7026874">:</span>&nbsp;<span class="string" id="7026876">&#34;1+2.&#34;</span><span class="op" id="7026882">}</span><span class="op" id="7026883">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026886">{</span><span class="ident" id="7026887">text</span><span class="op" id="7026891">:</span>&nbsp;<span class="string" id="7026893">&#34;&#39;x&#34;</span><span class="op" id="7026897">}</span><span class="op" id="7026898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026901">{</span><span class="ident" id="7026902">text</span><span class="op" id="7026906">:</span>&nbsp;<span class="string" id="7026908">&#34;&#39;xx&#39;&#34;</span><span class="op" id="7026914">}</span><span class="op" id="7026915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026918">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026984">{</span><span class="string" id="7026985">&#34;0xef&#34;</span><span class="op" id="7026991">,</span>&nbsp;<span class="builtintype" id="7026993">true</span><span class="op" id="7026997">,</span>&nbsp;<span class="builtintype" id="7026999">true</span><span class="op" id="7027003">,</span>&nbsp;<span class="builtintype" id="7027005">true</span><span class="op" id="7027009">,</span>&nbsp;<span class="builtintype" id="7027011">false</span><span class="op" id="7027016">,</span>&nbsp;<span class="num" id="7027018">0xef</span><span class="op" id="7027022">,</span>&nbsp;<span class="num" id="7027024">0xef</span><span class="op" id="7027028">,</span>&nbsp;<span class="num" id="7027030">0xef</span><span class="op" id="7027034">,</span>&nbsp;<span class="num" id="7027036">0</span><span class="op" id="7027037">}</span><span class="op" id="7027038">,</span><br>
<span class="lineno"></span><span class="op" id="7027040">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="7027043">func</span>&nbsp;<span class="ident" id="7027048">TestNumberParse</span><span class="op" id="7027063">(</span><span class="ident" id="7027064">t</span>&nbsp;<span class="op" id="7027066">*</span><span class="ident" id="7027067">testing</span><span class="op" id="7027074">.</span><span class="ident" id="7027075">T</span><span class="op" id="7027076">)</span>&nbsp;<span class="op" id="7027078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027081">for</span>&nbsp;<span class="ident" id="7027085">_</span><span class="op" id="7027086">,</span>&nbsp;<span class="ident" id="7027088">test</span>&nbsp;<span class="op" id="7027093">:=</span>&nbsp;<span class="keyword" id="7027096">range</span>&nbsp;<span class="ident" id="7027102">numberTests</span>&nbsp;<span class="op" id="7027114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027118">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027198">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027244">var</span>&nbsp;<span class="ident" id="7027248">c</span>&nbsp;<span class="builtintype" id="7027250">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027263">typ</span>&nbsp;<span class="op" id="7027267">:=</span>&nbsp;<span class="ident" id="7027270">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027283">var</span>&nbsp;<span class="ident" id="7027287">tree</span>&nbsp;<span class="op" id="7027292">*</span><span class="ident" id="7027293">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027300">if</span>&nbsp;<span class="ident" id="7027303">test</span><span class="op" id="7027307">.</span><span class="ident" id="7027308">text</span><span class="op" id="7027312">[</span><span class="num" id="7027313">0</span><span class="op" id="7027314">]</span>&nbsp;<span class="op" id="7027316">==</span>&nbsp;<span class="string" id="7027319">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="7027324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027329">typ</span>&nbsp;<span class="op" id="7027333">=</span>&nbsp;<span class="ident" id="7027335">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027354">}</span>&nbsp;<span class="keyword" id="7027356">else</span>&nbsp;<span class="op" id="7027361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027366">_</span><span class="op" id="7027367">,</span>&nbsp;<span class="ident" id="7027369">err</span>&nbsp;<span class="op" id="7027373">:=</span>&nbsp;<span class="ident" id="7027376">fmt</span><span class="op" id="7027379">.</span><span class="ident" id="7027380">Sscan</span><span class="op" id="7027385">(</span><span class="ident" id="7027386">test</span><span class="op" id="7027390">.</span><span class="ident" id="7027391">text</span><span class="op" id="7027395">,</span>&nbsp;<span class="op" id="7027397">&amp;</span><span class="ident" id="7027398">c</span><span class="op" id="7027399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027404">if</span>&nbsp;<span class="ident" id="7027407">err</span>&nbsp;<span class="op" id="7027411">==</span>&nbsp;<span class="ident" id="7027414">nil</span>&nbsp;<span class="op" id="7027418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027424">typ</span>&nbsp;<span class="op" id="7027428">=</span>&nbsp;<span class="ident" id="7027430">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027445">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027453">n</span><span class="op" id="7027454">,</span>&nbsp;<span class="ident" id="7027456">err</span>&nbsp;<span class="op" id="7027460">:=</span>&nbsp;<span class="ident" id="7027463">tree</span><span class="op" id="7027467">.</span><span class="ident" id="7027468">newNumber</span><span class="op" id="7027477">(</span><span class="num" id="7027478">0</span><span class="op" id="7027479">,</span>&nbsp;<span class="ident" id="7027481">test</span><span class="op" id="7027485">.</span><span class="ident" id="7027486">text</span><span class="op" id="7027490">,</span>&nbsp;<span class="ident" id="7027492">typ</span><span class="op" id="7027495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027499">ok</span>&nbsp;<span class="op" id="7027502">:=</span>&nbsp;<span class="ident" id="7027505">test</span><span class="op" id="7027509">.</span><span class="ident" id="7027510">isInt</span>&nbsp;<span class="op" id="7027516">||</span>&nbsp;<span class="ident" id="7027519">test</span><span class="op" id="7027523">.</span><span class="ident" id="7027524">isUint</span>&nbsp;<span class="op" id="7027531">||</span>&nbsp;<span class="ident" id="7027534">test</span><span class="op" id="7027538">.</span><span class="ident" id="7027539">isFloat</span>&nbsp;<span class="op" id="7027547">||</span>&nbsp;<span class="ident" id="7027550">test</span><span class="op" id="7027554">.</span><span class="ident" id="7027555">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027567">if</span>&nbsp;<span class="ident" id="7027570">ok</span>&nbsp;<span class="op" id="7027573">&amp;&amp;</span>&nbsp;<span class="ident" id="7027576">err</span>&nbsp;<span class="op" id="7027580">!=</span>&nbsp;<span class="ident" id="7027583">nil</span>&nbsp;<span class="op" id="7027587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027592">t</span><span class="op" id="7027593">.</span><span class="ident" id="7027594">Errorf</span><span class="op" id="7027600">(</span><span class="string" id="7027601">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7027630">,</span>&nbsp;<span class="ident" id="7027632">test</span><span class="op" id="7027636">.</span><span class="ident" id="7027637">text</span><span class="op" id="7027641">,</span>&nbsp;<span class="ident" id="7027643">err</span><span class="op" id="7027646">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027651">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027666">if</span>&nbsp;<span class="op" id="7027669">!</span><span class="ident" id="7027670">ok</span>&nbsp;<span class="op" id="7027673">&amp;&amp;</span>&nbsp;<span class="ident" id="7027676">err</span>&nbsp;<span class="op" id="7027680">==</span>&nbsp;<span class="ident" id="7027683">nil</span>&nbsp;<span class="op" id="7027687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027692">t</span><span class="op" id="7027693">.</span><span class="ident" id="7027694">Errorf</span><span class="op" id="7027700">(</span><span class="string" id="7027701">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7027724">,</span>&nbsp;<span class="ident" id="7027726">test</span><span class="op" id="7027730">.</span><span class="ident" id="7027731">text</span><span class="op" id="7027735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027740">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027755">if</span>&nbsp;<span class="op" id="7027758">!</span><span class="ident" id="7027759">ok</span>&nbsp;<span class="op" id="7027762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027767">if</span>&nbsp;<span class="op" id="7027770">*</span><span class="ident" id="7027771">debug</span>&nbsp;<span class="op" id="7027777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027783">fmt</span><span class="op" id="7027786">.</span><span class="ident" id="7027787">Printf</span><span class="op" id="7027793">(</span><span class="string" id="7027794">&#34;%s\n\t%s\n&#34;</span><span class="op" id="7027806">,</span>&nbsp;<span class="ident" id="7027808">test</span><span class="op" id="7027812">.</span><span class="ident" id="7027813">text</span><span class="op" id="7027817">,</span>&nbsp;<span class="ident" id="7027819">err</span><span class="op" id="7027822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027827">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027832">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027847">if</span>&nbsp;<span class="ident" id="7027850">n</span><span class="op" id="7027851">.</span><span class="ident" id="7027852">IsComplex</span>&nbsp;<span class="op" id="7027862">!=</span>&nbsp;<span class="ident" id="7027865">test</span><span class="op" id="7027869">.</span><span class="ident" id="7027870">isComplex</span>&nbsp;<span class="op" id="7027880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027885">t</span><span class="op" id="7027886">.</span><span class="ident" id="7027887">Errorf</span><span class="op" id="7027893">(</span><span class="string" id="7027894">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7027934">,</span>&nbsp;<span class="ident" id="7027936">test</span><span class="op" id="7027940">.</span><span class="ident" id="7027941">text</span><span class="op" id="7027945">,</span>&nbsp;<span class="ident" id="7027947">test</span><span class="op" id="7027951">.</span><span class="ident" id="7027952">isComplex</span><span class="op" id="7027961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027965">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027969">if</span>&nbsp;<span class="ident" id="7027972">test</span><span class="op" id="7027976">.</span><span class="ident" id="7027977">isInt</span>&nbsp;<span class="op" id="7027983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027988">if</span>&nbsp;<span class="op" id="7027991">!</span><span class="ident" id="7027992">n</span><span class="op" id="7027993">.</span><span class="ident" id="7027994">IsInt</span>&nbsp;<span class="op" id="7028000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028006">t</span><span class="op" id="7028007">.</span><span class="ident" id="7028008">Errorf</span><span class="op" id="7028014">(</span><span class="string" id="7028015">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028040">,</span>&nbsp;<span class="ident" id="7028042">test</span><span class="op" id="7028046">.</span><span class="ident" id="7028047">text</span><span class="op" id="7028051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028061">if</span>&nbsp;<span class="ident" id="7028064">n</span><span class="op" id="7028065">.</span><span class="ident" id="7028066">Int64</span>&nbsp;<span class="op" id="7028072">!=</span>&nbsp;<span class="ident" id="7028075">test</span><span class="op" id="7028079">.</span><span class="ident" id="7028080">int64</span>&nbsp;<span class="op" id="7028086">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028092">t</span><span class="op" id="7028093">.</span><span class="ident" id="7028094">Errorf</span><span class="op" id="7028100">(</span><span class="string" id="7028101">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7028134">,</span>&nbsp;<span class="ident" id="7028136">test</span><span class="op" id="7028140">.</span><span class="ident" id="7028141">text</span><span class="op" id="7028145">,</span>&nbsp;<span class="ident" id="7028147">test</span><span class="op" id="7028151">.</span><span class="ident" id="7028152">int64</span><span class="op" id="7028157">,</span>&nbsp;<span class="ident" id="7028159">n</span><span class="op" id="7028160">.</span><span class="ident" id="7028161">Int64</span><span class="op" id="7028166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028175">}</span>&nbsp;<span class="keyword" id="7028177">else</span>&nbsp;<span class="keyword" id="7028182">if</span>&nbsp;<span class="ident" id="7028185">n</span><span class="op" id="7028186">.</span><span class="ident" id="7028187">IsInt</span>&nbsp;<span class="op" id="7028193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028198">t</span><span class="op" id="7028199">.</span><span class="ident" id="7028200">Errorf</span><span class="op" id="7028206">(</span><span class="string" id="7028207">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028238">,</span>&nbsp;<span class="ident" id="7028240">test</span><span class="op" id="7028244">.</span><span class="ident" id="7028245">text</span><span class="op" id="7028249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028253">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028257">if</span>&nbsp;<span class="ident" id="7028260">test</span><span class="op" id="7028264">.</span><span class="ident" id="7028265">isUint</span>&nbsp;<span class="op" id="7028272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028277">if</span>&nbsp;<span class="op" id="7028280">!</span><span class="ident" id="7028281">n</span><span class="op" id="7028282">.</span><span class="ident" id="7028283">IsUint</span>&nbsp;<span class="op" id="7028290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028296">t</span><span class="op" id="7028297">.</span><span class="ident" id="7028298">Errorf</span><span class="op" id="7028304">(</span><span class="string" id="7028305">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028339">,</span>&nbsp;<span class="ident" id="7028341">test</span><span class="op" id="7028345">.</span><span class="ident" id="7028346">text</span><span class="op" id="7028350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028360">if</span>&nbsp;<span class="ident" id="7028363">n</span><span class="op" id="7028364">.</span><span class="ident" id="7028365">Uint64</span>&nbsp;<span class="op" id="7028372">!=</span>&nbsp;<span class="ident" id="7028375">test</span><span class="op" id="7028379">.</span><span class="ident" id="7028380">uint64</span>&nbsp;<span class="op" id="7028387">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028393">t</span><span class="op" id="7028394">.</span><span class="ident" id="7028395">Errorf</span><span class="op" id="7028401">(</span><span class="string" id="7028402">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7028436">,</span>&nbsp;<span class="ident" id="7028438">test</span><span class="op" id="7028442">.</span><span class="ident" id="7028443">text</span><span class="op" id="7028447">,</span>&nbsp;<span class="ident" id="7028449">test</span><span class="op" id="7028453">.</span><span class="ident" id="7028454">uint64</span><span class="op" id="7028460">,</span>&nbsp;<span class="ident" id="7028462">n</span><span class="op" id="7028463">.</span><span class="ident" id="7028464">Uint64</span><span class="op" id="7028470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028479">}</span>&nbsp;<span class="keyword" id="7028481">else</span>&nbsp;<span class="keyword" id="7028486">if</span>&nbsp;<span class="ident" id="7028489">n</span><span class="op" id="7028490">.</span><span class="ident" id="7028491">IsUint</span>&nbsp;<span class="op" id="7028498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028503">t</span><span class="op" id="7028504">.</span><span class="ident" id="7028505">Errorf</span><span class="op" id="7028511">(</span><span class="string" id="7028512">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028552">,</span>&nbsp;<span class="ident" id="7028554">test</span><span class="op" id="7028558">.</span><span class="ident" id="7028559">text</span><span class="op" id="7028563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028567">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028571">if</span>&nbsp;<span class="ident" id="7028574">test</span><span class="op" id="7028578">.</span><span class="ident" id="7028579">isFloat</span>&nbsp;<span class="op" id="7028587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028592">if</span>&nbsp;<span class="op" id="7028595">!</span><span class="ident" id="7028596">n</span><span class="op" id="7028597">.</span><span class="ident" id="7028598">IsFloat</span>&nbsp;<span class="op" id="7028606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028612">t</span><span class="op" id="7028613">.</span><span class="ident" id="7028614">Errorf</span><span class="op" id="7028620">(</span><span class="string" id="7028621">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028644">,</span>&nbsp;<span class="ident" id="7028646">test</span><span class="op" id="7028650">.</span><span class="ident" id="7028651">text</span><span class="op" id="7028655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028665">if</span>&nbsp;<span class="ident" id="7028668">n</span><span class="op" id="7028669">.</span><span class="ident" id="7028670">Float64</span>&nbsp;<span class="op" id="7028678">!=</span>&nbsp;<span class="ident" id="7028681">test</span><span class="op" id="7028685">.</span><span class="builtintype" id="7028686">float64</span>&nbsp;<span class="op" id="7028694">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028700">t</span><span class="op" id="7028701">.</span><span class="ident" id="7028702">Errorf</span><span class="op" id="7028708">(</span><span class="string" id="7028709">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7028744">,</span>&nbsp;<span class="ident" id="7028746">test</span><span class="op" id="7028750">.</span><span class="ident" id="7028751">text</span><span class="op" id="7028755">,</span>&nbsp;<span class="ident" id="7028757">test</span><span class="op" id="7028761">.</span><span class="builtintype" id="7028762">float64</span><span class="op" id="7028769">,</span>&nbsp;<span class="ident" id="7028771">n</span><span class="op" id="7028772">.</span><span class="ident" id="7028773">Float64</span><span class="op" id="7028780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028789">}</span>&nbsp;<span class="keyword" id="7028791">else</span>&nbsp;<span class="keyword" id="7028796">if</span>&nbsp;<span class="ident" id="7028799">n</span><span class="op" id="7028800">.</span><span class="ident" id="7028801">IsFloat</span>&nbsp;<span class="op" id="7028809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028814">t</span><span class="op" id="7028815">.</span><span class="ident" id="7028816">Errorf</span><span class="op" id="7028822">(</span><span class="string" id="7028823">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028852">,</span>&nbsp;<span class="ident" id="7028854">test</span><span class="op" id="7028858">.</span><span class="ident" id="7028859">text</span><span class="op" id="7028863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028867">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028871">if</span>&nbsp;<span class="ident" id="7028874">test</span><span class="op" id="7028878">.</span><span class="ident" id="7028879">isComplex</span>&nbsp;<span class="op" id="7028889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028894">if</span>&nbsp;<span class="op" id="7028897">!</span><span class="ident" id="7028898">n</span><span class="op" id="7028899">.</span><span class="ident" id="7028900">IsComplex</span>&nbsp;<span class="op" id="7028910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7028916">t</span><span class="op" id="7028917">.</span><span class="ident" id="7028918">Errorf</span><span class="op" id="7028924">(</span><span class="string" id="7028925">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7028950">,</span>&nbsp;<span class="ident" id="7028952">test</span><span class="op" id="7028956">.</span><span class="ident" id="7028957">text</span><span class="op" id="7028961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7028966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7028971">if</span>&nbsp;<span class="ident" id="7028974">n</span><span class="op" id="7028975">.</span><span class="ident" id="7028976">Complex128</span>&nbsp;<span class="op" id="7028987">!=</span>&nbsp;<span class="ident" id="7028990">test</span><span class="op" id="7028994">.</span><span class="builtintype" id="7028995">complex128</span>&nbsp;<span class="op" id="7029006">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029012">t</span><span class="op" id="7029013">.</span><span class="ident" id="7029014">Errorf</span><span class="op" id="7029020">(</span><span class="string" id="7029021">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7029059">,</span>&nbsp;<span class="ident" id="7029061">test</span><span class="op" id="7029065">.</span><span class="ident" id="7029066">text</span><span class="op" id="7029070">,</span>&nbsp;<span class="ident" id="7029072">test</span><span class="op" id="7029076">.</span><span class="builtintype" id="7029077">complex128</span><span class="op" id="7029087">,</span>&nbsp;<span class="ident" id="7029089">n</span><span class="op" id="7029090">.</span><span class="ident" id="7029091">Complex128</span><span class="op" id="7029101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029110">}</span>&nbsp;<span class="keyword" id="7029112">else</span>&nbsp;<span class="keyword" id="7029117">if</span>&nbsp;<span class="ident" id="7029120">n</span><span class="op" id="7029121">.</span><span class="ident" id="7029122">IsComplex</span>&nbsp;<span class="op" id="7029132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029137">t</span><span class="op" id="7029138">.</span><span class="ident" id="7029139">Errorf</span><span class="op" id="7029145">(</span><span class="string" id="7029146">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7029177">,</span>&nbsp;<span class="ident" id="7029179">test</span><span class="op" id="7029183">.</span><span class="ident" id="7029184">text</span><span class="op" id="7029188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029192">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029195">}</span><br>
<span class="lineno"></span><span class="op" id="7029197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7029200">type</span>&nbsp;<span class="ident" id="7029205">parseTest</span>&nbsp;<span class="keyword" id="7029215">struct</span>&nbsp;<span class="op" id="7029222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029225">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7029232">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029240">input</span>&nbsp;&nbsp;<span class="builtintype" id="7029247">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029255">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7029262">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029268">result</span>&nbsp;<span class="builtintype" id="7029275">string</span>&nbsp;<span class="comment" id="7029282">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="7029330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7029333">const</span>&nbsp;<span class="op" id="7029339">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029342">noError</span>&nbsp;&nbsp;<span class="op" id="7029351">=</span>&nbsp;<span class="builtintype" id="7029353">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7029359">hasError</span>&nbsp;<span class="op" id="7029368">=</span>&nbsp;<span class="builtintype" id="7029370">false</span><br>
<span class="lineno"></span><span class="op" id="7029376">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7029379">var</span>&nbsp;<span class="ident" id="7029383">parseTests</span>&nbsp;<span class="op" id="7029394">=</span>&nbsp;<span class="op" id="7029396">[</span><span class="op" id="7029397">]</span><span class="ident" id="7029398">parseTest</span><span class="op" id="7029407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029410">{</span><span class="string" id="7029411">&#34;empty&#34;</span><span class="op" id="7029418">,</span>&nbsp;<span class="string" id="7029420">&#34;&#34;</span><span class="op" id="7029422">,</span>&nbsp;<span class="ident" id="7029424">noError</span><span class="op" id="7029431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029435">``</span><span class="op" id="7029437">}</span><span class="op" id="7029438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029441">{</span><span class="string" id="7029442">&#34;comment&#34;</span><span class="op" id="7029451">,</span>&nbsp;<span class="string" id="7029453">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="7029469">,</span>&nbsp;<span class="ident" id="7029471">noError</span><span class="op" id="7029478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029482">``</span><span class="op" id="7029484">}</span><span class="op" id="7029485">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029488">{</span><span class="string" id="7029489">&#34;spaces&#34;</span><span class="op" id="7029497">,</span>&nbsp;<span class="string" id="7029499">&#34;&nbsp;\t\n&#34;</span><span class="op" id="7029506">,</span>&nbsp;<span class="ident" id="7029508">noError</span><span class="op" id="7029515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029519">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="7029528">}</span><span class="op" id="7029529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029532">{</span><span class="string" id="7029533">&#34;text&#34;</span><span class="op" id="7029539">,</span>&nbsp;<span class="string" id="7029541">&#34;some&nbsp;text&#34;</span><span class="op" id="7029552">,</span>&nbsp;<span class="ident" id="7029554">noError</span><span class="op" id="7029561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029565">`&#34;some&nbsp;text&#34;`</span><span class="op" id="7029578">}</span><span class="op" id="7029579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029582">{</span><span class="string" id="7029583">&#34;emptyAction&#34;</span><span class="op" id="7029596">,</span>&nbsp;<span class="string" id="7029598">&#34;{{}}&#34;</span><span class="op" id="7029604">,</span>&nbsp;<span class="ident" id="7029606">hasError</span><span class="op" id="7029614">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029618">`{{}}`</span><span class="op" id="7029624">}</span><span class="op" id="7029625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029628">{</span><span class="string" id="7029629">&#34;field&#34;</span><span class="op" id="7029636">,</span>&nbsp;<span class="string" id="7029638">&#34;{{.X}}&#34;</span><span class="op" id="7029646">,</span>&nbsp;<span class="ident" id="7029648">noError</span><span class="op" id="7029655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029659">`{{.X}}`</span><span class="op" id="7029667">}</span><span class="op" id="7029668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029671">{</span><span class="string" id="7029672">&#34;simple&nbsp;command&#34;</span><span class="op" id="7029688">,</span>&nbsp;<span class="string" id="7029690">&#34;{{printf}}&#34;</span><span class="op" id="7029702">,</span>&nbsp;<span class="ident" id="7029704">noError</span><span class="op" id="7029711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029715">`{{printf}}`</span><span class="op" id="7029727">}</span><span class="op" id="7029728">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029731">{</span><span class="string" id="7029732">&#34;$&nbsp;invocation&#34;</span><span class="op" id="7029746">,</span>&nbsp;<span class="string" id="7029748">&#34;{{$}}&#34;</span><span class="op" id="7029755">,</span>&nbsp;<span class="ident" id="7029757">noError</span><span class="op" id="7029764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029768">&#34;{{$}}&#34;</span><span class="op" id="7029775">}</span><span class="op" id="7029776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029779">{</span><span class="string" id="7029780">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="7029801">,</span>&nbsp;<span class="string" id="7029803">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7029837">,</span>&nbsp;<span class="ident" id="7029839">noError</span><span class="op" id="7029846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029850">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7029884">}</span><span class="op" id="7029885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029888">{</span><span class="string" id="7029889">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="7029911">,</span>&nbsp;<span class="string" id="7029913">&#34;{{$.I}}&#34;</span><span class="op" id="7029922">,</span>&nbsp;<span class="ident" id="7029924">noError</span><span class="op" id="7029931">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7029935">&#34;{{$.I}}&#34;</span><span class="op" id="7029944">}</span><span class="op" id="7029945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7029948">{</span><span class="string" id="7029949">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="7029969">,</span>&nbsp;<span class="string" id="7029971">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7029991">,</span>&nbsp;<span class="ident" id="7029993">noError</span><span class="op" id="7030000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030004">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7030024">}</span><span class="op" id="7030025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030028">{</span><span class="string" id="7030029">&#34;pipeline&#34;</span><span class="op" id="7030039">,</span>&nbsp;<span class="string" id="7030041">&#34;{{.X|.Y}}&#34;</span><span class="op" id="7030052">,</span>&nbsp;<span class="ident" id="7030054">noError</span><span class="op" id="7030061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030065">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7030078">}</span><span class="op" id="7030079">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030082">{</span><span class="string" id="7030083">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="7030103">,</span>&nbsp;<span class="string" id="7030105">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="7030122">,</span>&nbsp;<span class="ident" id="7030124">noError</span><span class="op" id="7030131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030135">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7030154">}</span><span class="op" id="7030155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030158">{</span><span class="string" id="7030159">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="7030176">,</span>&nbsp;<span class="string" id="7030178">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="7030212">,</span>&nbsp;<span class="ident" id="7030214">noError</span><span class="op" id="7030221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030225">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="7030259">}</span><span class="op" id="7030260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030263">{</span><span class="string" id="7030264">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7030294">,</span>&nbsp;<span class="string" id="7030296">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="7030315">,</span>&nbsp;<span class="ident" id="7030317">noError</span><span class="op" id="7030324">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030328">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="7030347">}</span><span class="op" id="7030348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030351">{</span><span class="string" id="7030352">&#34;simple&nbsp;if&#34;</span><span class="op" id="7030363">,</span>&nbsp;<span class="string" id="7030365">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7030388">,</span>&nbsp;<span class="ident" id="7030390">noError</span><span class="op" id="7030397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030401">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7030426">}</span><span class="op" id="7030427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030430">{</span><span class="string" id="7030431">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="7030445">,</span>&nbsp;<span class="string" id="7030447">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7030482">,</span>&nbsp;<span class="ident" id="7030484">noError</span><span class="op" id="7030491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030495">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7030534">}</span><span class="op" id="7030535">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030538">{</span><span class="string" id="7030539">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="7030556">,</span>&nbsp;<span class="string" id="7030558">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="7030599">,</span>&nbsp;<span class="ident" id="7030601">noError</span><span class="op" id="7030608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030612">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="7030667">}</span><span class="op" id="7030668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030671">{</span><span class="string" id="7030672">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="7030687">,</span>&nbsp;<span class="string" id="7030689">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="7030740">,</span>&nbsp;<span class="ident" id="7030742">noError</span><span class="op" id="7030749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030753">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="7030834">}</span><span class="op" id="7030835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030838">{</span><span class="string" id="7030839">&#34;simple&nbsp;range&#34;</span><span class="op" id="7030853">,</span>&nbsp;<span class="string" id="7030855">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7030881">,</span>&nbsp;<span class="ident" id="7030883">noError</span><span class="op" id="7030890">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030894">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7030922">}</span><span class="op" id="7030923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7030926">{</span><span class="string" id="7030927">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="7030948">,</span>&nbsp;<span class="string" id="7030950">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="7030980">,</span>&nbsp;<span class="ident" id="7030982">noError</span><span class="op" id="7030989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7030993">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="7031025">}</span><span class="op" id="7031026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031029">{</span><span class="string" id="7031030">&#34;nested&nbsp;range&#34;</span><span class="op" id="7031044">,</span>&nbsp;<span class="string" id="7031046">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="7031098">,</span>&nbsp;<span class="ident" id="7031100">noError</span><span class="op" id="7031107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031111">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="7031167">}</span><span class="op" id="7031168">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031171">{</span><span class="string" id="7031172">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="7031189">,</span>&nbsp;<span class="string" id="7031191">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7031229">,</span>&nbsp;<span class="ident" id="7031231">noError</span><span class="op" id="7031238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031242">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7031284">}</span><span class="op" id="7031285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031288">{</span><span class="string" id="7031289">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="7031310">,</span>&nbsp;<span class="string" id="7031312">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="7031353">,</span>&nbsp;<span class="ident" id="7031355">noError</span><span class="op" id="7031362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031366">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7031413">}</span><span class="op" id="7031414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031417">{</span><span class="string" id="7031418">&#34;range&nbsp;[]int&#34;</span><span class="op" id="7031431">,</span>&nbsp;<span class="string" id="7031433">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7031460">,</span>&nbsp;<span class="ident" id="7031462">noError</span><span class="op" id="7031469">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031473">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7031500">}</span><span class="op" id="7031501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031504">{</span><span class="string" id="7031505">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="7031518">,</span>&nbsp;<span class="string" id="7031520">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7031553">,</span>&nbsp;<span class="ident" id="7031555">noError</span><span class="op" id="7031562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031566">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7031599">}</span><span class="op" id="7031600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031603">{</span><span class="string" id="7031604">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="7031618">,</span>&nbsp;<span class="string" id="7031620">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7031657">,</span>&nbsp;<span class="ident" id="7031659">noError</span><span class="op" id="7031666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031670">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7031707">}</span><span class="op" id="7031708">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031711">{</span><span class="string" id="7031712">&#34;constants&#34;</span><span class="op" id="7031723">,</span>&nbsp;<span class="string" id="7031725">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="7031774">,</span>&nbsp;<span class="ident" id="7031776">noError</span><span class="op" id="7031783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031787">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="7031836">}</span><span class="op" id="7031837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031840">{</span><span class="string" id="7031841">&#34;template&#34;</span><span class="op" id="7031851">,</span>&nbsp;<span class="string" id="7031853">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="7031871">,</span>&nbsp;<span class="ident" id="7031873">noError</span><span class="op" id="7031880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031884">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="7031902">}</span><span class="op" id="7031903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031906">{</span><span class="string" id="7031907">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="7031926">,</span>&nbsp;<span class="string" id="7031928">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="7031949">,</span>&nbsp;<span class="ident" id="7031951">noError</span><span class="op" id="7031958">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031962">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="7031983">}</span><span class="op" id="7031984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031987">{</span><span class="string" id="7031988">&#34;with&#34;</span><span class="op" id="7031994">,</span>&nbsp;<span class="string" id="7031996">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7032021">,</span>&nbsp;<span class="ident" id="7032023">noError</span><span class="op" id="7032030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7032034">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7032061">}</span><span class="op" id="7032062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032065">{</span><span class="string" id="7032066">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="7032082">,</span>&nbsp;<span class="string" id="7032084">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="7032124">,</span>&nbsp;<span class="ident" id="7032126">noError</span><span class="op" id="7032133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7032137">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="7032181">}</span><span class="op" id="7032182">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7032185">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032197">{</span><span class="string" id="7032198">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="7032215">,</span>&nbsp;<span class="string" id="7032217">&#34;hello{{range&#34;</span><span class="op" id="7032231">,</span>&nbsp;<span class="ident" id="7032233">hasError</span><span class="op" id="7032241">,</span>&nbsp;<span class="string" id="7032243">&#34;&#34;</span><span class="op" id="7032245">}</span><span class="op" id="7032246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032249">{</span><span class="string" id="7032250">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="7032265">,</span>&nbsp;<span class="string" id="7032267">&#34;{{end}}&#34;</span><span class="op" id="7032276">,</span>&nbsp;<span class="ident" id="7032278">hasError</span><span class="op" id="7032286">,</span>&nbsp;<span class="string" id="7032288">&#34;&#34;</span><span class="op" id="7032290">}</span><span class="op" id="7032291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032294">{</span><span class="string" id="7032295">&#34;missing&nbsp;end&#34;</span><span class="op" id="7032308">,</span>&nbsp;<span class="string" id="7032310">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="7032329">,</span>&nbsp;<span class="ident" id="7032331">hasError</span><span class="op" id="7032339">,</span>&nbsp;<span class="string" id="7032341">&#34;&#34;</span><span class="op" id="7032343">}</span><span class="op" id="7032344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032347">{</span><span class="string" id="7032348">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="7032372">,</span>&nbsp;<span class="string" id="7032374">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="7032401">,</span>&nbsp;<span class="ident" id="7032403">hasError</span><span class="op" id="7032411">,</span>&nbsp;<span class="string" id="7032413">&#34;&#34;</span><span class="op" id="7032415">}</span><span class="op" id="7032416">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032419">{</span><span class="string" id="7032420">&#34;undefined&nbsp;function&#34;</span><span class="op" id="7032440">,</span>&nbsp;<span class="string" id="7032442">&#34;hello{{undefined}}&#34;</span><span class="op" id="7032462">,</span>&nbsp;<span class="ident" id="7032464">hasError</span><span class="op" id="7032472">,</span>&nbsp;<span class="string" id="7032474">&#34;&#34;</span><span class="op" id="7032476">}</span><span class="op" id="7032477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032480">{</span><span class="string" id="7032481">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="7032501">,</span>&nbsp;<span class="string" id="7032503">&#34;{{$x}}&#34;</span><span class="op" id="7032511">,</span>&nbsp;<span class="ident" id="7032513">hasError</span><span class="op" id="7032521">,</span>&nbsp;<span class="string" id="7032523">&#34;&#34;</span><span class="op" id="7032525">}</span><span class="op" id="7032526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032529">{</span><span class="string" id="7032530">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="7032560">,</span>&nbsp;<span class="string" id="7032562">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="7032593">,</span>&nbsp;<span class="ident" id="7032595">hasError</span><span class="op" id="7032603">,</span>&nbsp;<span class="string" id="7032605">&#34;&#34;</span><span class="op" id="7032607">}</span><span class="op" id="7032608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032611">{</span><span class="string" id="7032612">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="7032644">,</span>&nbsp;<span class="string" id="7032646">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7032663">,</span>&nbsp;<span class="ident" id="7032665">hasError</span><span class="op" id="7032673">,</span>&nbsp;<span class="string" id="7032675">&#34;&#34;</span><span class="op" id="7032677">}</span><span class="op" id="7032678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032681">{</span><span class="string" id="7032682">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="7032702">,</span>&nbsp;<span class="string" id="7032704">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="7032731">,</span>&nbsp;<span class="ident" id="7032733">hasError</span><span class="op" id="7032741">,</span>&nbsp;<span class="string" id="7032743">&#34;&#34;</span><span class="op" id="7032745">}</span><span class="op" id="7032746">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032749">{</span><span class="string" id="7032750">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="7032775">,</span>&nbsp;<span class="string" id="7032777">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="7032794">,</span>&nbsp;<span class="ident" id="7032796">hasError</span><span class="op" id="7032804">,</span>&nbsp;<span class="string" id="7032806">&#34;&#34;</span><span class="op" id="7032808">}</span><span class="op" id="7032809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032812">{</span><span class="string" id="7032813">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="7032832">,</span>&nbsp;<span class="string" id="7032834">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7032851">,</span>&nbsp;<span class="ident" id="7032853">hasError</span><span class="op" id="7032861">,</span>&nbsp;<span class="string" id="7032863">&#34;&#34;</span><span class="op" id="7032865">}</span><span class="op" id="7032866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032869">{</span><span class="string" id="7032870">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="7032891">,</span>&nbsp;<span class="string" id="7032893">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="7032910">,</span>&nbsp;<span class="ident" id="7032912">hasError</span><span class="op" id="7032920">,</span>&nbsp;<span class="string" id="7032922">&#34;&#34;</span><span class="op" id="7032924">}</span><span class="op" id="7032925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032928">{</span><span class="string" id="7032929">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="7032954">,</span>&nbsp;<span class="string" id="7032956">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7032985">,</span>&nbsp;<span class="ident" id="7032987">hasError</span><span class="op" id="7032995">,</span>&nbsp;<span class="string" id="7032997">&#34;&#34;</span><span class="op" id="7032999">}</span><span class="op" id="7033000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033003">{</span><span class="string" id="7033004">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="7033029">,</span>&nbsp;<span class="string" id="7033031">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7033065">,</span>&nbsp;<span class="ident" id="7033067">hasError</span><span class="op" id="7033075">,</span>&nbsp;<span class="string" id="7033077">&#34;&#34;</span><span class="op" id="7033079">}</span><span class="op" id="7033080">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033083">{</span><span class="string" id="7033084">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7033112">,</span>&nbsp;<span class="string" id="7033114">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="7033138">,</span>&nbsp;<span class="ident" id="7033140">hasError</span><span class="op" id="7033148">,</span>&nbsp;<span class="string" id="7033150">&#34;&#34;</span><span class="op" id="7033152">}</span><span class="op" id="7033153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033156">{</span><span class="string" id="7033157">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="7033172">,</span>&nbsp;<span class="string" id="7033174">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="7033191">,</span>&nbsp;<span class="ident" id="7033193">hasError</span><span class="op" id="7033201">,</span>&nbsp;<span class="string" id="7033203">&#34;&#34;</span><span class="op" id="7033205">}</span><span class="op" id="7033206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033209">{</span><span class="string" id="7033210">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="7033232">,</span>&nbsp;<span class="string" id="7033234">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="7033251">,</span>&nbsp;<span class="ident" id="7033253">hasError</span><span class="op" id="7033261">,</span>&nbsp;<span class="string" id="7033263">&#34;&#34;</span><span class="op" id="7033265">}</span><span class="op" id="7033266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033269">{</span><span class="string" id="7033270">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="7033290">,</span>&nbsp;<span class="string" id="7033292">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="7033333">,</span>&nbsp;<span class="ident" id="7033335">hasError</span><span class="op" id="7033343">,</span>&nbsp;<span class="string" id="7033345">&#34;&#34;</span><span class="op" id="7033347">}</span><span class="op" id="7033348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7033351">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033411">{</span><span class="string" id="7033412">&#34;bug0a&#34;</span><span class="op" id="7033419">,</span>&nbsp;<span class="string" id="7033421">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7033440">,</span>&nbsp;<span class="ident" id="7033442">noError</span><span class="op" id="7033449">,</span>&nbsp;<span class="string" id="7033451">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7033470">}</span><span class="op" id="7033471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033474">{</span><span class="string" id="7033475">&#34;bug0b&#34;</span><span class="op" id="7033482">,</span>&nbsp;<span class="string" id="7033484">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="7033502">,</span>&nbsp;<span class="ident" id="7033504">hasError</span><span class="op" id="7033512">,</span>&nbsp;<span class="string" id="7033514">&#34;&#34;</span><span class="op" id="7033516">}</span><span class="op" id="7033517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033520">{</span><span class="string" id="7033521">&#34;bug0c&#34;</span><span class="op" id="7033528">,</span>&nbsp;<span class="string" id="7033530">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="7033548">,</span>&nbsp;<span class="ident" id="7033550">hasError</span><span class="op" id="7033558">,</span>&nbsp;<span class="string" id="7033560">&#34;&#34;</span><span class="op" id="7033562">}</span><span class="op" id="7033563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033566">{</span><span class="string" id="7033567">&#34;bug0d&#34;</span><span class="op" id="7033574">,</span>&nbsp;<span class="string" id="7033576">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="7033594">,</span>&nbsp;<span class="ident" id="7033596">hasError</span><span class="op" id="7033604">,</span>&nbsp;<span class="string" id="7033606">&#34;&#34;</span><span class="op" id="7033608">}</span><span class="op" id="7033609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7033612">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033664">{</span><span class="string" id="7033665">&#34;bug0e&#34;</span><span class="op" id="7033672">,</span>&nbsp;<span class="string" id="7033674">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7033706">,</span>&nbsp;<span class="ident" id="7033708">hasError</span><span class="op" id="7033716">,</span>&nbsp;<span class="string" id="7033718">&#34;&#34;</span><span class="op" id="7033720">}</span><span class="op" id="7033721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7033724">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033790">{</span><span class="string" id="7033791">&#34;bug1a&#34;</span><span class="op" id="7033798">,</span>&nbsp;<span class="string" id="7033800">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="7033819">,</span>&nbsp;<span class="ident" id="7033821">hasError</span><span class="op" id="7033829">,</span>&nbsp;<span class="string" id="7033831">&#34;&#34;</span><span class="op" id="7033833">}</span><span class="op" id="7033834">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7033856">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033884">{</span><span class="string" id="7033885">&#34;bug1b&#34;</span><span class="op" id="7033892">,</span>&nbsp;<span class="string" id="7033894">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="7033913">,</span>&nbsp;<span class="ident" id="7033915">hasError</span><span class="op" id="7033923">,</span>&nbsp;<span class="string" id="7033925">&#34;&#34;</span><span class="op" id="7033927">}</span><span class="op" id="7033928">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7033950">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033990">{</span><span class="string" id="7033991">&#34;bug1c&#34;</span><span class="op" id="7033998">,</span>&nbsp;<span class="string" id="7034000">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7034020">,</span>&nbsp;<span class="ident" id="7034022">noError</span><span class="op" id="7034029">,</span>&nbsp;<span class="string" id="7034031">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7034053">}</span><span class="op" id="7034054">,</span>&nbsp;<span class="comment" id="7034056">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="7034081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7034084">var</span>&nbsp;<span class="ident" id="7034088">builtins</span>&nbsp;<span class="op" id="7034097">=</span>&nbsp;<span class="keyword" id="7034099">map</span><span class="op" id="7034102">[</span><span class="builtintype" id="7034103">string</span><span class="op" id="7034109">]</span><span class="keyword" id="7034110">interface</span><span class="op" id="7034119">{</span><span class="op" id="7034120">}</span><span class="op" id="7034121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7034124">&#34;printf&#34;</span><span class="op" id="7034132">:</span>&nbsp;<span class="ident" id="7034134">fmt</span><span class="op" id="7034137">.</span><span class="ident" id="7034138">Sprintf</span><span class="op" id="7034145">,</span><br>
<span class="lineno"></span><span class="op" id="7034147">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="7034150">func</span>&nbsp;<span class="ident" id="7034155">testParse</span><span class="op" id="7034164">(</span><span class="ident" id="7034165">doCopy</span>&nbsp;<span class="builtintype" id="7034172">bool</span><span class="op" id="7034176">,</span>&nbsp;<span class="ident" id="7034178">t</span>&nbsp;<span class="op" id="7034180">*</span><span class="ident" id="7034181">testing</span><span class="op" id="7034188">.</span><span class="ident" id="7034189">T</span><span class="op" id="7034190">)</span>&nbsp;<span class="op" id="7034192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034195">textFormat</span>&nbsp;<span class="op" id="7034206">=</span>&nbsp;<span class="string" id="7034208">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034214">defer</span>&nbsp;<span class="keyword" id="7034220">func</span><span class="op" id="7034224">(</span><span class="op" id="7034225">)</span>&nbsp;<span class="op" id="7034227">{</span>&nbsp;<span class="ident" id="7034229">textFormat</span>&nbsp;<span class="op" id="7034240">=</span>&nbsp;<span class="string" id="7034242">&#34;%s&#34;</span>&nbsp;<span class="op" id="7034247">}</span><span class="op" id="7034248">(</span><span class="op" id="7034249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034252">for</span>&nbsp;<span class="ident" id="7034256">_</span><span class="op" id="7034257">,</span>&nbsp;<span class="ident" id="7034259">test</span>&nbsp;<span class="op" id="7034264">:=</span>&nbsp;<span class="keyword" id="7034267">range</span>&nbsp;<span class="ident" id="7034273">parseTests</span>&nbsp;<span class="op" id="7034284">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034288">tmpl</span><span class="op" id="7034292">,</span>&nbsp;<span class="ident" id="7034294">err</span>&nbsp;<span class="op" id="7034298">:=</span>&nbsp;<span class="ident" id="7034301">New</span><span class="op" id="7034304">(</span><span class="ident" id="7034305">test</span><span class="op" id="7034309">.</span><span class="ident" id="7034310">name</span><span class="op" id="7034314">)</span><span class="op" id="7034315">.</span><span class="ident" id="7034316">Parse</span><span class="op" id="7034321">(</span><span class="ident" id="7034322">test</span><span class="op" id="7034326">.</span><span class="ident" id="7034327">input</span><span class="op" id="7034332">,</span>&nbsp;<span class="string" id="7034334">&#34;&#34;</span><span class="op" id="7034336">,</span>&nbsp;<span class="string" id="7034338">&#34;&#34;</span><span class="op" id="7034340">,</span>&nbsp;<span class="builtinfunc" id="7034342">make</span><span class="op" id="7034346">(</span><span class="keyword" id="7034347">map</span><span class="op" id="7034350">[</span><span class="builtintype" id="7034351">string</span><span class="op" id="7034357">]</span><span class="op" id="7034358">*</span><span class="ident" id="7034359">Tree</span><span class="op" id="7034363">)</span><span class="op" id="7034364">,</span>&nbsp;<span class="ident" id="7034366">builtins</span><span class="op" id="7034374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034378">switch</span>&nbsp;<span class="op" id="7034385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034389">case</span>&nbsp;<span class="ident" id="7034394">err</span>&nbsp;<span class="op" id="7034398">==</span>&nbsp;<span class="ident" id="7034401">nil</span>&nbsp;<span class="op" id="7034405">&amp;&amp;</span>&nbsp;<span class="op" id="7034408">!</span><span class="ident" id="7034409">test</span><span class="op" id="7034413">.</span><span class="ident" id="7034414">ok</span><span class="op" id="7034416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034421">t</span><span class="op" id="7034422">.</span><span class="ident" id="7034423">Errorf</span><span class="op" id="7034429">(</span><span class="string" id="7034430">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7034460">,</span>&nbsp;<span class="ident" id="7034462">test</span><span class="op" id="7034466">.</span><span class="ident" id="7034467">name</span><span class="op" id="7034471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034476">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034487">case</span>&nbsp;<span class="ident" id="7034492">err</span>&nbsp;<span class="op" id="7034496">!=</span>&nbsp;<span class="ident" id="7034499">nil</span>&nbsp;<span class="op" id="7034503">&amp;&amp;</span>&nbsp;<span class="ident" id="7034506">test</span><span class="op" id="7034510">.</span><span class="ident" id="7034511">ok</span><span class="op" id="7034513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034518">t</span><span class="op" id="7034519">.</span><span class="ident" id="7034520">Errorf</span><span class="op" id="7034526">(</span><span class="string" id="7034527">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7034553">,</span>&nbsp;<span class="ident" id="7034555">test</span><span class="op" id="7034559">.</span><span class="ident" id="7034560">name</span><span class="op" id="7034564">,</span>&nbsp;<span class="ident" id="7034566">err</span><span class="op" id="7034569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034574">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034585">case</span>&nbsp;<span class="ident" id="7034590">err</span>&nbsp;<span class="op" id="7034594">!=</span>&nbsp;<span class="ident" id="7034597">nil</span>&nbsp;<span class="op" id="7034601">&amp;&amp;</span>&nbsp;<span class="op" id="7034604">!</span><span class="ident" id="7034605">test</span><span class="op" id="7034609">.</span><span class="ident" id="7034610">ok</span><span class="op" id="7034612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7034617">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034647">if</span>&nbsp;<span class="op" id="7034650">*</span><span class="ident" id="7034651">debug</span>&nbsp;<span class="op" id="7034657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034663">fmt</span><span class="op" id="7034666">.</span><span class="ident" id="7034667">Printf</span><span class="op" id="7034673">(</span><span class="string" id="7034674">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="7034690">,</span>&nbsp;<span class="ident" id="7034692">test</span><span class="op" id="7034696">.</span><span class="ident" id="7034697">name</span><span class="op" id="7034701">,</span>&nbsp;<span class="ident" id="7034703">test</span><span class="op" id="7034707">.</span><span class="ident" id="7034708">input</span><span class="op" id="7034713">,</span>&nbsp;<span class="ident" id="7034715">err</span><span class="op" id="7034718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034728">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034739">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034743">var</span>&nbsp;<span class="ident" id="7034747">result</span>&nbsp;<span class="builtintype" id="7034754">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034763">if</span>&nbsp;<span class="ident" id="7034766">doCopy</span>&nbsp;<span class="op" id="7034773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034778">result</span>&nbsp;<span class="op" id="7034785">=</span>&nbsp;<span class="ident" id="7034787">tmpl</span><span class="op" id="7034791">.</span><span class="ident" id="7034792">Root</span><span class="op" id="7034796">.</span><span class="ident" id="7034797">Copy</span><span class="op" id="7034801">(</span><span class="op" id="7034802">)</span><span class="op" id="7034803">.</span><span class="ident" id="7034804">String</span><span class="op" id="7034810">(</span><span class="op" id="7034811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034815">}</span>&nbsp;<span class="keyword" id="7034817">else</span>&nbsp;<span class="op" id="7034822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034827">result</span>&nbsp;<span class="op" id="7034834">=</span>&nbsp;<span class="ident" id="7034836">tmpl</span><span class="op" id="7034840">.</span><span class="ident" id="7034841">Root</span><span class="op" id="7034845">.</span><span class="ident" id="7034846">String</span><span class="op" id="7034852">(</span><span class="op" id="7034853">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034861">if</span>&nbsp;<span class="ident" id="7034864">result</span>&nbsp;<span class="op" id="7034871">!=</span>&nbsp;<span class="ident" id="7034874">test</span><span class="op" id="7034878">.</span><span class="ident" id="7034879">result</span>&nbsp;<span class="op" id="7034886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034891">t</span><span class="op" id="7034892">.</span><span class="ident" id="7034893">Errorf</span><span class="op" id="7034899">(</span><span class="string" id="7034900">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="7034936">,</span>&nbsp;<span class="ident" id="7034938">test</span><span class="op" id="7034942">.</span><span class="ident" id="7034943">name</span><span class="op" id="7034947">,</span>&nbsp;<span class="ident" id="7034949">test</span><span class="op" id="7034953">.</span><span class="ident" id="7034954">input</span><span class="op" id="7034959">,</span>&nbsp;<span class="ident" id="7034961">result</span><span class="op" id="7034967">,</span>&nbsp;<span class="ident" id="7034969">test</span><span class="op" id="7034973">.</span><span class="ident" id="7034974">result</span><span class="op" id="7034980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034987">}</span><br>
<span class="lineno">295</span><span class="op" id="7034989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7034992">func</span>&nbsp;<span class="ident" id="7034997">TestParse</span><span class="op" id="7035006">(</span><span class="ident" id="7035007">t</span>&nbsp;<span class="op" id="7035009">*</span><span class="ident" id="7035010">testing</span><span class="op" id="7035017">.</span><span class="ident" id="7035018">T</span><span class="op" id="7035019">)</span>&nbsp;<span class="op" id="7035021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035024">testParse</span><span class="op" id="7035033">(</span><span class="builtintype" id="7035034">false</span><span class="op" id="7035039">,</span>&nbsp;<span class="ident" id="7035041">t</span><span class="op" id="7035042">)</span><br>
<span class="lineno"></span><span class="op" id="7035044">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="7035047">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="7035096">func</span>&nbsp;<span class="ident" id="7035101">TestParseCopy</span><span class="op" id="7035114">(</span><span class="ident" id="7035115">t</span>&nbsp;<span class="op" id="7035117">*</span><span class="ident" id="7035118">testing</span><span class="op" id="7035125">.</span><span class="ident" id="7035126">T</span><span class="op" id="7035127">)</span>&nbsp;<span class="op" id="7035129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035132">testParse</span><span class="op" id="7035141">(</span><span class="builtintype" id="7035142">true</span><span class="op" id="7035146">,</span>&nbsp;<span class="ident" id="7035148">t</span><span class="op" id="7035149">)</span><br>
<span class="lineno"></span><span class="op" id="7035151">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7035154">type</span>&nbsp;<span class="ident" id="7035159">isEmptyTest</span>&nbsp;<span class="keyword" id="7035171">struct</span>&nbsp;<span class="op" id="7035178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035181">name</span>&nbsp;&nbsp;<span class="builtintype" id="7035187">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035195">input</span>&nbsp;<span class="builtintype" id="7035201">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035209">empty</span>&nbsp;<span class="builtintype" id="7035215">bool</span><br>
<span class="lineno">310</span><span class="op" id="7035220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035223">var</span>&nbsp;<span class="ident" id="7035227">isEmptyTests</span>&nbsp;<span class="op" id="7035240">=</span>&nbsp;<span class="op" id="7035242">[</span><span class="op" id="7035243">]</span><span class="ident" id="7035244">isEmptyTest</span><span class="op" id="7035255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035258">{</span><span class="string" id="7035259">&#34;empty&#34;</span><span class="op" id="7035266">,</span>&nbsp;<span class="string" id="7035268">``</span><span class="op" id="7035270">,</span>&nbsp;<span class="builtintype" id="7035272">true</span><span class="op" id="7035276">}</span><span class="op" id="7035277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035280">{</span><span class="string" id="7035281">&#34;nonempty&#34;</span><span class="op" id="7035291">,</span>&nbsp;<span class="string" id="7035293">`hello`</span><span class="op" id="7035300">,</span>&nbsp;<span class="builtintype" id="7035302">false</span><span class="op" id="7035307">}</span><span class="op" id="7035308">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035311">{</span><span class="string" id="7035312">&#34;spaces&nbsp;only&#34;</span><span class="op" id="7035325">,</span>&nbsp;<span class="string" id="7035327">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="7035339">,</span>&nbsp;<span class="builtintype" id="7035341">true</span><span class="op" id="7035345">}</span><span class="op" id="7035346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035349">{</span><span class="string" id="7035350">&#34;definition&#34;</span><span class="op" id="7035362">,</span>&nbsp;<span class="string" id="7035364">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="7035396">,</span>&nbsp;<span class="builtintype" id="7035398">true</span><span class="op" id="7035402">}</span><span class="op" id="7035403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035406">{</span><span class="string" id="7035407">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="7035430">,</span>&nbsp;<span class="string" id="7035432">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="7035502">,</span>&nbsp;<span class="builtintype" id="7035504">true</span><span class="op" id="7035508">}</span><span class="op" id="7035509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035512">{</span><span class="string" id="7035513">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="7035535">,</span>&nbsp;<span class="string" id="7035537">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="7035609">,</span>&nbsp;<span class="builtintype" id="7035611">false</span><span class="op" id="7035616">}</span><span class="op" id="7035617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035620">{</span><span class="string" id="7035621">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="7035644">,</span>&nbsp;<span class="string" id="7035646">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="7035696">,</span>&nbsp;<span class="builtintype" id="7035698">false</span><span class="op" id="7035703">}</span><span class="op" id="7035704">,</span><br>
<span class="lineno">320</span><span class="op" id="7035706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7035709">func</span>&nbsp;<span class="ident" id="7035714">TestIsEmpty</span><span class="op" id="7035725">(</span><span class="ident" id="7035726">t</span>&nbsp;<span class="op" id="7035728">*</span><span class="ident" id="7035729">testing</span><span class="op" id="7035736">.</span><span class="ident" id="7035737">T</span><span class="op" id="7035738">)</span>&nbsp;<span class="op" id="7035740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035743">if</span>&nbsp;<span class="op" id="7035746">!</span><span class="ident" id="7035747">IsEmptyTree</span><span class="op" id="7035758">(</span><span class="ident" id="7035759">nil</span><span class="op" id="7035762">)</span>&nbsp;<span class="op" id="7035764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035768">t</span><span class="op" id="7035769">.</span><span class="ident" id="7035770">Errorf</span><span class="op" id="7035776">(</span><span class="string" id="7035777">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="7035800">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7035803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035806">for</span>&nbsp;<span class="ident" id="7035810">_</span><span class="op" id="7035811">,</span>&nbsp;<span class="ident" id="7035813">test</span>&nbsp;<span class="op" id="7035818">:=</span>&nbsp;<span class="keyword" id="7035821">range</span>&nbsp;<span class="ident" id="7035827">isEmptyTests</span>&nbsp;<span class="op" id="7035840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035844">tree</span><span class="op" id="7035848">,</span>&nbsp;<span class="ident" id="7035850">err</span>&nbsp;<span class="op" id="7035854">:=</span>&nbsp;<span class="ident" id="7035857">New</span><span class="op" id="7035860">(</span><span class="string" id="7035861">&#34;root&#34;</span><span class="op" id="7035867">)</span><span class="op" id="7035868">.</span><span class="ident" id="7035869">Parse</span><span class="op" id="7035874">(</span><span class="ident" id="7035875">test</span><span class="op" id="7035879">.</span><span class="ident" id="7035880">input</span><span class="op" id="7035885">,</span>&nbsp;<span class="string" id="7035887">&#34;&#34;</span><span class="op" id="7035889">,</span>&nbsp;<span class="string" id="7035891">&#34;&#34;</span><span class="op" id="7035893">,</span>&nbsp;<span class="builtinfunc" id="7035895">make</span><span class="op" id="7035899">(</span><span class="keyword" id="7035900">map</span><span class="op" id="7035903">[</span><span class="builtintype" id="7035904">string</span><span class="op" id="7035910">]</span><span class="op" id="7035911">*</span><span class="ident" id="7035912">Tree</span><span class="op" id="7035916">)</span><span class="op" id="7035917">,</span>&nbsp;<span class="ident" id="7035919">nil</span><span class="op" id="7035922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7035926">if</span>&nbsp;<span class="ident" id="7035929">err</span>&nbsp;<span class="op" id="7035933">!=</span>&nbsp;<span class="ident" id="7035936">nil</span>&nbsp;<span class="op" id="7035940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7035945">t</span><span class="op" id="7035946">.</span><span class="ident" id="7035947">Errorf</span><span class="op" id="7035953">(</span><span class="string" id="7035954">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7035980">,</span>&nbsp;<span class="ident" id="7035982">test</span><span class="op" id="7035986">.</span><span class="ident" id="7035987">name</span><span class="op" id="7035991">,</span>&nbsp;<span class="ident" id="7035993">err</span><span class="op" id="7035996">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036001">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036016">if</span>&nbsp;<span class="ident" id="7036019">empty</span>&nbsp;<span class="op" id="7036025">:=</span>&nbsp;<span class="ident" id="7036028">IsEmptyTree</span><span class="op" id="7036039">(</span><span class="ident" id="7036040">tree</span><span class="op" id="7036044">.</span><span class="ident" id="7036045">Root</span><span class="op" id="7036049">)</span><span class="op" id="7036050">;</span>&nbsp;<span class="ident" id="7036052">empty</span>&nbsp;<span class="op" id="7036058">!=</span>&nbsp;<span class="ident" id="7036061">test</span><span class="op" id="7036065">.</span><span class="ident" id="7036066">empty</span>&nbsp;<span class="op" id="7036072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036077">t</span><span class="op" id="7036078">.</span><span class="ident" id="7036079">Errorf</span><span class="op" id="7036085">(</span><span class="string" id="7036086">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="7036110">,</span>&nbsp;<span class="ident" id="7036112">test</span><span class="op" id="7036116">.</span><span class="ident" id="7036117">name</span><span class="op" id="7036121">,</span>&nbsp;<span class="ident" id="7036123">test</span><span class="op" id="7036127">.</span><span class="ident" id="7036128">empty</span><span class="op" id="7036133">,</span>&nbsp;<span class="ident" id="7036135">empty</span><span class="op" id="7036140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036144">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036147">}</span><br>
<span class="lineno"></span><span class="op" id="7036149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7036152">func</span>&nbsp;<span class="ident" id="7036157">TestErrorContextWithTreeCopy</span><span class="op" id="7036185">(</span><span class="ident" id="7036186">t</span>&nbsp;<span class="op" id="7036188">*</span><span class="ident" id="7036189">testing</span><span class="op" id="7036196">.</span><span class="ident" id="7036197">T</span><span class="op" id="7036198">)</span>&nbsp;<span class="op" id="7036200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036203">tree</span><span class="op" id="7036207">,</span>&nbsp;<span class="ident" id="7036209">err</span>&nbsp;<span class="op" id="7036213">:=</span>&nbsp;<span class="ident" id="7036216">New</span><span class="op" id="7036219">(</span><span class="string" id="7036220">&#34;root&#34;</span><span class="op" id="7036226">)</span><span class="op" id="7036227">.</span><span class="ident" id="7036228">Parse</span><span class="op" id="7036233">(</span><span class="string" id="7036234">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="7036254">,</span>&nbsp;<span class="string" id="7036256">&#34;&#34;</span><span class="op" id="7036258">,</span>&nbsp;<span class="string" id="7036260">&#34;&#34;</span><span class="op" id="7036262">,</span>&nbsp;<span class="builtinfunc" id="7036264">make</span><span class="op" id="7036268">(</span><span class="keyword" id="7036269">map</span><span class="op" id="7036272">[</span><span class="builtintype" id="7036273">string</span><span class="op" id="7036279">]</span><span class="op" id="7036280">*</span><span class="ident" id="7036281">Tree</span><span class="op" id="7036285">)</span><span class="op" id="7036286">,</span>&nbsp;<span class="ident" id="7036288">nil</span><span class="op" id="7036291">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036294">if</span>&nbsp;<span class="ident" id="7036297">err</span>&nbsp;<span class="op" id="7036301">!=</span>&nbsp;<span class="ident" id="7036304">nil</span>&nbsp;<span class="op" id="7036308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036312">t</span><span class="op" id="7036313">.</span><span class="ident" id="7036314">Fatalf</span><span class="op" id="7036320">(</span><span class="string" id="7036321">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="7036356">,</span>&nbsp;<span class="ident" id="7036358">err</span><span class="op" id="7036361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036367">treeCopy</span>&nbsp;<span class="op" id="7036376">:=</span>&nbsp;<span class="ident" id="7036379">tree</span><span class="op" id="7036383">.</span><span class="ident" id="7036384">Copy</span><span class="op" id="7036388">(</span><span class="op" id="7036389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036392">wantLocation</span><span class="op" id="7036404">,</span>&nbsp;<span class="ident" id="7036406">wantContext</span>&nbsp;<span class="op" id="7036418">:=</span>&nbsp;<span class="ident" id="7036421">tree</span><span class="op" id="7036425">.</span><span class="ident" id="7036426">ErrorContext</span><span class="op" id="7036438">(</span><span class="ident" id="7036439">tree</span><span class="op" id="7036443">.</span><span class="ident" id="7036444">Root</span><span class="op" id="7036448">.</span><span class="ident" id="7036449">Nodes</span><span class="op" id="7036454">[</span><span class="num" id="7036455">0</span><span class="op" id="7036456">]</span><span class="op" id="7036457">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036460">gotLocation</span><span class="op" id="7036471">,</span>&nbsp;<span class="ident" id="7036473">gotContext</span>&nbsp;<span class="op" id="7036484">:=</span>&nbsp;<span class="ident" id="7036487">treeCopy</span><span class="op" id="7036495">.</span><span class="ident" id="7036496">ErrorContext</span><span class="op" id="7036508">(</span><span class="ident" id="7036509">treeCopy</span><span class="op" id="7036517">.</span><span class="ident" id="7036518">Root</span><span class="op" id="7036522">.</span><span class="ident" id="7036523">Nodes</span><span class="op" id="7036528">[</span><span class="num" id="7036529">0</span><span class="op" id="7036530">]</span><span class="op" id="7036531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036534">if</span>&nbsp;<span class="ident" id="7036537">wantLocation</span>&nbsp;<span class="op" id="7036550">!=</span>&nbsp;<span class="ident" id="7036553">gotLocation</span>&nbsp;<span class="op" id="7036565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036569">t</span><span class="op" id="7036570">.</span><span class="ident" id="7036571">Errorf</span><span class="op" id="7036577">(</span><span class="string" id="7036578">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7036615">,</span>&nbsp;<span class="ident" id="7036617">wantLocation</span><span class="op" id="7036629">,</span>&nbsp;<span class="ident" id="7036631">gotLocation</span><span class="op" id="7036642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7036648">if</span>&nbsp;<span class="ident" id="7036651">wantContext</span>&nbsp;<span class="op" id="7036663">!=</span>&nbsp;<span class="ident" id="7036666">gotContext</span>&nbsp;<span class="op" id="7036677">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036681">t</span><span class="op" id="7036682">.</span><span class="ident" id="7036683">Errorf</span><span class="op" id="7036689">(</span><span class="string" id="7036690">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7036727">,</span>&nbsp;<span class="ident" id="7036729">wantContext</span><span class="op" id="7036740">,</span>&nbsp;<span class="ident" id="7036742">gotContext</span><span class="op" id="7036752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036755">}</span><br>
<span class="lineno"></span><span class="op" id="7036757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7036760">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="7036843">var</span>&nbsp;<span class="ident" id="7036847">errorTests</span>&nbsp;<span class="op" id="7036858">=</span>&nbsp;<span class="op" id="7036860">[</span><span class="op" id="7036861">]</span><span class="ident" id="7036862">parseTest</span><span class="op" id="7036871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7036874">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7036911">{</span><span class="string" id="7036912">&#34;unclosed1&#34;</span><span class="op" id="7036923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7036927">&#34;line1\n{{&#34;</span><span class="op" id="7036938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7036942">hasError</span><span class="op" id="7036950">,</span>&nbsp;<span class="string" id="7036952">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7037004">}</span><span class="op" id="7037005">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037008">{</span><span class="string" id="7037009">&#34;unclosed2&#34;</span><span class="op" id="7037020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037024">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="7037056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037060">hasError</span><span class="op" id="7037068">,</span>&nbsp;<span class="string" id="7037070">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7037122">}</span><span class="op" id="7037123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7037126">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037147">{</span><span class="string" id="7037148">&#34;function&#34;</span><span class="op" id="7037158">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037162">&#34;{{foo}}&#34;</span><span class="op" id="7037171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037175">hasError</span><span class="op" id="7037183">,</span>&nbsp;<span class="string" id="7037185">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="7037213">}</span><span class="op" id="7037214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037217">{</span><span class="string" id="7037218">&#34;comment&#34;</span><span class="op" id="7037227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037231">&#34;{{/*}}&#34;</span><span class="op" id="7037239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037243">hasError</span><span class="op" id="7037251">,</span>&nbsp;<span class="string" id="7037253">`unclosed&nbsp;comment`</span><span class="op" id="7037271">}</span><span class="op" id="7037272">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037275">{</span><span class="string" id="7037276">&#34;lparen&#34;</span><span class="op" id="7037284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037288">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="7037303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037307">hasError</span><span class="op" id="7037315">,</span>&nbsp;<span class="string" id="7037317">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="7037338">}</span><span class="op" id="7037339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037342">{</span><span class="string" id="7037343">&#34;rparen&#34;</span><span class="op" id="7037351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037355">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="7037370">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037374">hasError</span><span class="op" id="7037382">,</span>&nbsp;<span class="string" id="7037384">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="7037400">}</span><span class="op" id="7037401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037404">{</span><span class="string" id="7037405">&#34;space&#34;</span><span class="op" id="7037412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037416">&#34;{{`x`3}}&#34;</span><span class="op" id="7037426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037430">hasError</span><span class="op" id="7037438">,</span>&nbsp;<span class="string" id="7037440">`missing&nbsp;space?`</span><span class="op" id="7037456">}</span><span class="op" id="7037457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037460">{</span><span class="string" id="7037461">&#34;idchar&#34;</span><span class="op" id="7037469">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037473">&#34;{{a#}}&#34;</span><span class="op" id="7037481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037485">hasError</span><span class="op" id="7037493">,</span>&nbsp;<span class="string" id="7037495">`&#39;#&#39;`</span><span class="op" id="7037500">}</span><span class="op" id="7037501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037504">{</span><span class="string" id="7037505">&#34;charconst&#34;</span><span class="op" id="7037516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037520">&#34;{{&#39;a}}&#34;</span><span class="op" id="7037528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037532">hasError</span><span class="op" id="7037540">,</span>&nbsp;<span class="string" id="7037542">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="7037575">}</span><span class="op" id="7037576">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037579">{</span><span class="string" id="7037580">&#34;stringconst&#34;</span><span class="op" id="7037593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037597">`{{&#34;a}}`</span><span class="op" id="7037605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037609">hasError</span><span class="op" id="7037617">,</span>&nbsp;<span class="string" id="7037619">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="7037647">}</span><span class="op" id="7037648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037651">{</span><span class="string" id="7037652">&#34;rawstringconst&#34;</span><span class="op" id="7037668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037672">&#34;{{`a}}&#34;</span><span class="op" id="7037680">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037684">hasError</span><span class="op" id="7037692">,</span>&nbsp;<span class="string" id="7037694">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="7037726">}</span><span class="op" id="7037727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037730">{</span><span class="string" id="7037731">&#34;number&#34;</span><span class="op" id="7037739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037743">&#34;{{0xi}}&#34;</span><span class="op" id="7037752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037756">hasError</span><span class="op" id="7037764">,</span>&nbsp;<span class="string" id="7037766">`number&nbsp;syntax`</span><span class="op" id="7037781">}</span><span class="op" id="7037782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037785">{</span><span class="string" id="7037786">&#34;multidefine&#34;</span><span class="op" id="7037799">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037803">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="7037849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037853">hasError</span><span class="op" id="7037861">,</span>&nbsp;<span class="string" id="7037863">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="7037896">}</span><span class="op" id="7037897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037900">{</span><span class="string" id="7037901">&#34;eof&#34;</span><span class="op" id="7037906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7037910">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="7037924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7037928">hasError</span><span class="op" id="7037936">,</span>&nbsp;<span class="string" id="7037938">`unexpected&nbsp;EOF`</span><span class="op" id="7037954">}</span><span class="op" id="7037955">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7037958">{</span><span class="string" id="7037959">&#34;variable&#34;</span><span class="op" id="7037969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7037973">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7038072">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7038120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038124">hasError</span><span class="op" id="7038132">,</span>&nbsp;<span class="string" id="7038134">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="7038151">}</span><span class="op" id="7038152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038155">{</span><span class="string" id="7038156">&#34;multidecl&#34;</span><span class="op" id="7038167">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7038171">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="7038191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038195">hasError</span><span class="op" id="7038203">,</span>&nbsp;<span class="string" id="7038205">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="7038228">}</span><span class="op" id="7038229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038232">{</span><span class="string" id="7038233">&#34;undefvar&#34;</span><span class="op" id="7038243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7038247">&#34;{{$a}}&#34;</span><span class="op" id="7038255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038259">hasError</span><span class="op" id="7038267">,</span>&nbsp;<span class="string" id="7038269">`undefined&nbsp;variable`</span><span class="op" id="7038289">}</span><span class="op" id="7038290">,</span><br>
<span class="lineno">410</span><span class="op" id="7038292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7038295">func</span>&nbsp;<span class="ident" id="7038300">TestErrors</span><span class="op" id="7038310">(</span><span class="ident" id="7038311">t</span>&nbsp;<span class="op" id="7038313">*</span><span class="ident" id="7038314">testing</span><span class="op" id="7038321">.</span><span class="ident" id="7038322">T</span><span class="op" id="7038323">)</span>&nbsp;<span class="op" id="7038325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038328">for</span>&nbsp;<span class="ident" id="7038332">_</span><span class="op" id="7038333">,</span>&nbsp;<span class="ident" id="7038335">test</span>&nbsp;<span class="op" id="7038340">:=</span>&nbsp;<span class="keyword" id="7038343">range</span>&nbsp;<span class="ident" id="7038349">errorTests</span>&nbsp;<span class="op" id="7038360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038364">_</span><span class="op" id="7038365">,</span>&nbsp;<span class="ident" id="7038367">err</span>&nbsp;<span class="op" id="7038371">:=</span>&nbsp;<span class="ident" id="7038374">New</span><span class="op" id="7038377">(</span><span class="ident" id="7038378">test</span><span class="op" id="7038382">.</span><span class="ident" id="7038383">name</span><span class="op" id="7038387">)</span><span class="op" id="7038388">.</span><span class="ident" id="7038389">Parse</span><span class="op" id="7038394">(</span><span class="ident" id="7038395">test</span><span class="op" id="7038399">.</span><span class="ident" id="7038400">input</span><span class="op" id="7038405">,</span>&nbsp;<span class="string" id="7038407">&#34;&#34;</span><span class="op" id="7038409">,</span>&nbsp;<span class="string" id="7038411">&#34;&#34;</span><span class="op" id="7038413">,</span>&nbsp;<span class="builtinfunc" id="7038415">make</span><span class="op" id="7038419">(</span><span class="keyword" id="7038420">map</span><span class="op" id="7038423">[</span><span class="builtintype" id="7038424">string</span><span class="op" id="7038430">]</span><span class="op" id="7038431">*</span><span class="ident" id="7038432">Tree</span><span class="op" id="7038436">)</span><span class="op" id="7038437">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038441">if</span>&nbsp;<span class="ident" id="7038444">err</span>&nbsp;<span class="op" id="7038448">==</span>&nbsp;<span class="ident" id="7038451">nil</span>&nbsp;<span class="op" id="7038455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038460">t</span><span class="op" id="7038461">.</span><span class="ident" id="7038462">Errorf</span><span class="op" id="7038468">(</span><span class="string" id="7038469">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7038489">,</span>&nbsp;<span class="ident" id="7038491">test</span><span class="op" id="7038495">.</span><span class="ident" id="7038496">name</span><span class="op" id="7038500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038505">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7038520">if</span>&nbsp;<span class="op" id="7038523">!</span><span class="ident" id="7038524">strings</span><span class="op" id="7038531">.</span><span class="ident" id="7038532">Contains</span><span class="op" id="7038540">(</span><span class="ident" id="7038541">err</span><span class="op" id="7038544">.</span><span class="ident" id="7038545">Error</span><span class="op" id="7038550">(</span><span class="op" id="7038551">)</span><span class="op" id="7038552">,</span>&nbsp;<span class="ident" id="7038554">test</span><span class="op" id="7038558">.</span><span class="ident" id="7038559">result</span><span class="op" id="7038565">)</span>&nbsp;<span class="op" id="7038567">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7038572">t</span><span class="op" id="7038573">.</span><span class="ident" id="7038574">Errorf</span><span class="op" id="7038580">(</span><span class="string" id="7038581">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="7038615">,</span>&nbsp;<span class="ident" id="7038617">test</span><span class="op" id="7038621">.</span><span class="ident" id="7038622">name</span><span class="op" id="7038626">,</span>&nbsp;<span class="ident" id="7038628">err</span><span class="op" id="7038631">,</span>&nbsp;<span class="ident" id="7038633">test</span><span class="op" id="7038637">.</span><span class="ident" id="7038638">result</span><span class="op" id="7038644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7038651">}</span><br>
<span class="lineno"></span><span class="op" id="7038653">}</span>
</div>
</body>
</html>
