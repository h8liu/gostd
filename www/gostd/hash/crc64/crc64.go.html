<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html" class="current">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5552625">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5552680">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5552734">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5552785">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5552860">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5552934">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5552950">package</span>&nbsp;<span class="ident" id="5552958">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5552965">import</span>&nbsp;<span class="string" id="5552972">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5552980">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5553023">const</span>&nbsp;<span class="ident" id="5553029">Size</span>&nbsp;<span class="op" id="5553034">=</span>&nbsp;<span class="num" id="5553036">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5553039">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5553066">const</span>&nbsp;<span class="op" id="5553072">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5553075">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553137">ISO</span>&nbsp;<span class="op" id="5553141">=</span>&nbsp;<span class="num" id="5553143">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5553164">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553210">ECMA</span>&nbsp;<span class="op" id="5553215">=</span>&nbsp;<span class="num" id="5553217">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5553236">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5553239">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5553322">type</span>&nbsp;<span class="ident" id="5553327">Table</span>&nbsp;<span class="op" id="5553333">[</span><span class="num" id="5553334">256</span><span class="op" id="5553337">]</span><span class="ident" id="5553338">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5553346">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5553420">func</span>&nbsp;<span class="ident" id="5553425">MakeTable</span><span class="op" id="5553434">(</span><span class="ident" id="5553435">poly</span>&nbsp;<span class="ident" id="5553440">uint64</span><span class="op" id="5553446">)</span>&nbsp;<span class="op" id="5553448">*</span><span class="ident" id="5553449">Table</span>&nbsp;<span class="op" id="5553455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553458">t</span>&nbsp;<span class="op" id="5553460">:=</span>&nbsp;<span class="builtinfunc" id="5553463">new</span><span class="op" id="5553466">(</span><span class="ident" id="5553467">Table</span><span class="op" id="5553472">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553475">for</span>&nbsp;<span class="ident" id="5553479">i</span>&nbsp;<span class="op" id="5553481">:=</span>&nbsp;<span class="num" id="5553484">0</span><span class="op" id="5553485">;</span>&nbsp;<span class="ident" id="5553487">i</span>&nbsp;<span class="op" id="5553489">&lt;</span>&nbsp;<span class="num" id="5553491">256</span><span class="op" id="5553494">;</span>&nbsp;<span class="ident" id="5553496">i</span><span class="op" id="5553497">++</span>&nbsp;<span class="op" id="5553500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553504">crc</span>&nbsp;<span class="op" id="5553508">:=</span>&nbsp;<span class="ident" id="5553511">uint64</span><span class="op" id="5553517">(</span><span class="ident" id="5553518">i</span><span class="op" id="5553519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553523">for</span>&nbsp;<span class="ident" id="5553527">j</span>&nbsp;<span class="op" id="5553529">:=</span>&nbsp;<span class="num" id="5553532">0</span><span class="op" id="5553533">;</span>&nbsp;<span class="ident" id="5553535">j</span>&nbsp;<span class="op" id="5553537">&lt;</span>&nbsp;<span class="num" id="5553539">8</span><span class="op" id="5553540">;</span>&nbsp;<span class="ident" id="5553542">j</span><span class="op" id="5553543">++</span>&nbsp;<span class="op" id="5553546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553551">if</span>&nbsp;<span class="ident" id="5553554">crc</span><span class="op" id="5553557">&amp;</span><span class="num" id="5553558">1</span>&nbsp;<span class="op" id="5553560">==</span>&nbsp;<span class="num" id="5553563">1</span>&nbsp;<span class="op" id="5553565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553571">crc</span>&nbsp;<span class="op" id="5553575">=</span>&nbsp;<span class="op" id="5553577">(</span><span class="ident" id="5553578">crc</span>&nbsp;<span class="op" id="5553582">&gt;&gt;</span>&nbsp;<span class="num" id="5553585">1</span><span class="op" id="5553586">)</span>&nbsp;<span class="op" id="5553588">^</span>&nbsp;<span class="ident" id="5553590">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553598">}</span>&nbsp;<span class="keyword" id="5553600">else</span>&nbsp;<span class="op" id="5553605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553611">crc</span>&nbsp;<span class="op" id="5553615">&gt;&gt;=</span>&nbsp;<span class="num" id="5553619">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553632">t</span><span class="op" id="5553633">[</span><span class="ident" id="5553634">i</span><span class="op" id="5553635">]</span>&nbsp;<span class="op" id="5553637">=</span>&nbsp;<span class="ident" id="5553639">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553647">return</span>&nbsp;<span class="ident" id="5553654">t</span><br>
<span class="lineno"></span><span class="op" id="5553656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5553659">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5553718">type</span>&nbsp;<span class="ident" id="5553723">digest</span>&nbsp;<span class="keyword" id="5553730">struct</span>&nbsp;<span class="op" id="5553737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553740">crc</span>&nbsp;<span class="ident" id="5553744">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553752">tab</span>&nbsp;<span class="op" id="5553756">*</span><span class="ident" id="5553757">Table</span><br>
<span class="lineno"></span><span class="op" id="5553763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5553766">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5553829">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5553879">func</span>&nbsp;<span class="ident" id="5553884">New</span><span class="op" id="5553887">(</span><span class="ident" id="5553888">tab</span>&nbsp;<span class="op" id="5553892">*</span><span class="ident" id="5553893">Table</span><span class="op" id="5553898">)</span>&nbsp;<span class="ident" id="5553900">hash</span><span class="op" id="5553904">.</span><span class="ident" id="5553905">Hash64</span>&nbsp;<span class="op" id="5553912">{</span>&nbsp;<span class="keyword" id="5553914">return</span>&nbsp;<span class="op" id="5553921">&amp;</span><span class="ident" id="5553922">digest</span><span class="op" id="5553928">{</span><span class="num" id="5553929">0</span><span class="op" id="5553930">,</span>&nbsp;<span class="ident" id="5553932">tab</span><span class="op" id="5553935">}</span>&nbsp;<span class="op" id="5553937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5553940">func</span>&nbsp;<span class="op" id="5553945">(</span><span class="ident" id="5553946">d</span>&nbsp;<span class="op" id="5553948">*</span><span class="ident" id="5553949">digest</span><span class="op" id="5553955">)</span>&nbsp;<span class="ident" id="5553957">Size</span><span class="op" id="5553961">(</span><span class="op" id="5553962">)</span>&nbsp;<span class="builtintype" id="5553964">int</span>&nbsp;<span class="op" id="5553968">{</span>&nbsp;<span class="keyword" id="5553970">return</span>&nbsp;<span class="ident" id="5553977">Size</span>&nbsp;<span class="op" id="5553982">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5553985">func</span>&nbsp;<span class="op" id="5553990">(</span><span class="ident" id="5553991">d</span>&nbsp;<span class="op" id="5553993">*</span><span class="ident" id="5553994">digest</span><span class="op" id="5554000">)</span>&nbsp;<span class="ident" id="5554002">BlockSize</span><span class="op" id="5554011">(</span><span class="op" id="5554012">)</span>&nbsp;<span class="builtintype" id="5554014">int</span>&nbsp;<span class="op" id="5554018">{</span>&nbsp;<span class="keyword" id="5554020">return</span>&nbsp;<span class="num" id="5554027">1</span>&nbsp;<span class="op" id="5554029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5554032">func</span>&nbsp;<span class="op" id="5554037">(</span><span class="ident" id="5554038">d</span>&nbsp;<span class="op" id="5554040">*</span><span class="ident" id="5554041">digest</span><span class="op" id="5554047">)</span>&nbsp;<span class="ident" id="5554049">Reset</span><span class="op" id="5554054">(</span><span class="op" id="5554055">)</span>&nbsp;<span class="op" id="5554057">{</span>&nbsp;<span class="ident" id="5554059">d</span><span class="op" id="5554060">.</span><span class="ident" id="5554061">crc</span>&nbsp;<span class="op" id="5554065">=</span>&nbsp;<span class="num" id="5554067">0</span>&nbsp;<span class="op" id="5554069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5554072">func</span>&nbsp;<span class="ident" id="5554077">update</span><span class="op" id="5554083">(</span><span class="ident" id="5554084">crc</span>&nbsp;<span class="ident" id="5554088">uint64</span><span class="op" id="5554094">,</span>&nbsp;<span class="ident" id="5554096">tab</span>&nbsp;<span class="op" id="5554100">*</span><span class="ident" id="5554101">Table</span><span class="op" id="5554106">,</span>&nbsp;<span class="ident" id="5554108">p</span>&nbsp;<span class="op" id="5554110">[</span><span class="op" id="5554111">]</span><span class="builtintype" id="5554112">byte</span><span class="op" id="5554116">)</span>&nbsp;<span class="ident" id="5554118">uint64</span>&nbsp;<span class="op" id="5554125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554128">crc</span>&nbsp;<span class="op" id="5554132">=</span>&nbsp;<span class="op" id="5554134">^</span><span class="ident" id="5554135">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554140">for</span>&nbsp;<span class="ident" id="5554144">_</span><span class="op" id="5554145">,</span>&nbsp;<span class="ident" id="5554147">v</span>&nbsp;<span class="op" id="5554149">:=</span>&nbsp;<span class="keyword" id="5554152">range</span>&nbsp;<span class="ident" id="5554158">p</span>&nbsp;<span class="op" id="5554160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554164">crc</span>&nbsp;<span class="op" id="5554168">=</span>&nbsp;<span class="ident" id="5554170">tab</span><span class="op" id="5554173">[</span><span class="builtintype" id="5554174">byte</span><span class="op" id="5554178">(</span><span class="ident" id="5554179">crc</span><span class="op" id="5554182">)</span><span class="op" id="5554183">^</span><span class="ident" id="5554184">v</span><span class="op" id="5554185">]</span>&nbsp;<span class="op" id="5554187">^</span>&nbsp;<span class="op" id="5554189">(</span><span class="ident" id="5554190">crc</span>&nbsp;<span class="op" id="5554194">&gt;&gt;</span>&nbsp;<span class="num" id="5554197">8</span><span class="op" id="5554198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554201">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554204">return</span>&nbsp;<span class="op" id="5554211">^</span><span class="ident" id="5554212">crc</span><br>
<span class="lineno"></span><span class="op" id="5554216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5554219">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5554285">func</span>&nbsp;<span class="ident" id="5554290">Update</span><span class="op" id="5554296">(</span><span class="ident" id="5554297">crc</span>&nbsp;<span class="ident" id="5554301">uint64</span><span class="op" id="5554307">,</span>&nbsp;<span class="ident" id="5554309">tab</span>&nbsp;<span class="op" id="5554313">*</span><span class="ident" id="5554314">Table</span><span class="op" id="5554319">,</span>&nbsp;<span class="ident" id="5554321">p</span>&nbsp;<span class="op" id="5554323">[</span><span class="op" id="5554324">]</span><span class="builtintype" id="5554325">byte</span><span class="op" id="5554329">)</span>&nbsp;<span class="ident" id="5554331">uint64</span>&nbsp;<span class="op" id="5554338">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554341">return</span>&nbsp;<span class="ident" id="5554348">update</span><span class="op" id="5554354">(</span><span class="ident" id="5554355">crc</span><span class="op" id="5554358">,</span>&nbsp;<span class="ident" id="5554360">tab</span><span class="op" id="5554363">,</span>&nbsp;<span class="ident" id="5554365">p</span><span class="op" id="5554366">)</span><br>
<span class="lineno"></span><span class="op" id="5554368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5554371">func</span>&nbsp;<span class="op" id="5554376">(</span><span class="ident" id="5554377">d</span>&nbsp;<span class="op" id="5554379">*</span><span class="ident" id="5554380">digest</span><span class="op" id="5554386">)</span>&nbsp;<span class="ident" id="5554388">Write</span><span class="op" id="5554393">(</span><span class="ident" id="5554394">p</span>&nbsp;<span class="op" id="5554396">[</span><span class="op" id="5554397">]</span><span class="builtintype" id="5554398">byte</span><span class="op" id="5554402">)</span>&nbsp;<span class="op" id="5554404">(</span><span class="ident" id="5554405">n</span>&nbsp;<span class="builtintype" id="5554407">int</span><span class="op" id="5554410">,</span>&nbsp;<span class="ident" id="5554412">err</span>&nbsp;<span class="builtintype" id="5554416">error</span><span class="op" id="5554421">)</span>&nbsp;<span class="op" id="5554423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554426">d</span><span class="op" id="5554427">.</span><span class="ident" id="5554428">crc</span>&nbsp;<span class="op" id="5554432">=</span>&nbsp;<span class="ident" id="5554434">update</span><span class="op" id="5554440">(</span><span class="ident" id="5554441">d</span><span class="op" id="5554442">.</span><span class="ident" id="5554443">crc</span><span class="op" id="5554446">,</span>&nbsp;<span class="ident" id="5554448">d</span><span class="op" id="5554449">.</span><span class="ident" id="5554450">tab</span><span class="op" id="5554453">,</span>&nbsp;<span class="ident" id="5554455">p</span><span class="op" id="5554456">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554459">return</span>&nbsp;<span class="builtinfunc" id="5554466">len</span><span class="op" id="5554469">(</span><span class="ident" id="5554470">p</span><span class="op" id="5554471">)</span><span class="op" id="5554472">,</span>&nbsp;<span class="ident" id="5554474">nil</span><br>
<span class="lineno"></span><span class="op" id="5554478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5554481">func</span>&nbsp;<span class="op" id="5554486">(</span><span class="ident" id="5554487">d</span>&nbsp;<span class="op" id="5554489">*</span><span class="ident" id="5554490">digest</span><span class="op" id="5554496">)</span>&nbsp;<span class="ident" id="5554498">Sum64</span><span class="op" id="5554503">(</span><span class="op" id="5554504">)</span>&nbsp;<span class="ident" id="5554506">uint64</span>&nbsp;<span class="op" id="5554513">{</span>&nbsp;<span class="keyword" id="5554515">return</span>&nbsp;<span class="ident" id="5554522">d</span><span class="op" id="5554523">.</span><span class="ident" id="5554524">crc</span>&nbsp;<span class="op" id="5554528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5554531">func</span>&nbsp;<span class="op" id="5554536">(</span><span class="ident" id="5554537">d</span>&nbsp;<span class="op" id="5554539">*</span><span class="ident" id="5554540">digest</span><span class="op" id="5554546">)</span>&nbsp;<span class="ident" id="5554548">Sum</span><span class="op" id="5554551">(</span><span class="ident" id="5554552">in</span>&nbsp;<span class="op" id="5554555">[</span><span class="op" id="5554556">]</span><span class="builtintype" id="5554557">byte</span><span class="op" id="5554561">)</span>&nbsp;<span class="op" id="5554563">[</span><span class="op" id="5554564">]</span><span class="builtintype" id="5554565">byte</span>&nbsp;<span class="op" id="5554570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554573">s</span>&nbsp;<span class="op" id="5554575">:=</span>&nbsp;<span class="ident" id="5554578">d</span><span class="op" id="5554579">.</span><span class="ident" id="5554580">Sum64</span><span class="op" id="5554585">(</span><span class="op" id="5554586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554589">return</span>&nbsp;<span class="builtinfunc" id="5554596">append</span><span class="op" id="5554602">(</span><span class="ident" id="5554603">in</span><span class="op" id="5554605">,</span>&nbsp;<span class="builtintype" id="5554607">byte</span><span class="op" id="5554611">(</span><span class="ident" id="5554612">s</span><span class="op" id="5554613">&gt;&gt;</span><span class="num" id="5554615">56</span><span class="op" id="5554617">)</span><span class="op" id="5554618">,</span>&nbsp;<span class="builtintype" id="5554620">byte</span><span class="op" id="5554624">(</span><span class="ident" id="5554625">s</span><span class="op" id="5554626">&gt;&gt;</span><span class="num" id="5554628">48</span><span class="op" id="5554630">)</span><span class="op" id="5554631">,</span>&nbsp;<span class="builtintype" id="5554633">byte</span><span class="op" id="5554637">(</span><span class="ident" id="5554638">s</span><span class="op" id="5554639">&gt;&gt;</span><span class="num" id="5554641">40</span><span class="op" id="5554643">)</span><span class="op" id="5554644">,</span>&nbsp;<span class="builtintype" id="5554646">byte</span><span class="op" id="5554650">(</span><span class="ident" id="5554651">s</span><span class="op" id="5554652">&gt;&gt;</span><span class="num" id="5554654">32</span><span class="op" id="5554656">)</span><span class="op" id="5554657">,</span>&nbsp;<span class="builtintype" id="5554659">byte</span><span class="op" id="5554663">(</span><span class="ident" id="5554664">s</span><span class="op" id="5554665">&gt;&gt;</span><span class="num" id="5554667">24</span><span class="op" id="5554669">)</span><span class="op" id="5554670">,</span>&nbsp;<span class="builtintype" id="5554672">byte</span><span class="op" id="5554676">(</span><span class="ident" id="5554677">s</span><span class="op" id="5554678">&gt;&gt;</span><span class="num" id="5554680">16</span><span class="op" id="5554682">)</span><span class="op" id="5554683">,</span>&nbsp;<span class="builtintype" id="5554685">byte</span><span class="op" id="5554689">(</span><span class="ident" id="5554690">s</span><span class="op" id="5554691">&gt;&gt;</span><span class="num" id="5554693">8</span><span class="op" id="5554694">)</span><span class="op" id="5554695">,</span>&nbsp;<span class="builtintype" id="5554697">byte</span><span class="op" id="5554701">(</span><span class="ident" id="5554702">s</span><span class="op" id="5554703">)</span><span class="op" id="5554704">)</span><br>
<span class="lineno"></span><span class="op" id="5554706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5554709">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5554757">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5554807">func</span>&nbsp;<span class="ident" id="5554812">Checksum</span><span class="op" id="5554820">(</span><span class="ident" id="5554821">data</span>&nbsp;<span class="op" id="5554826">[</span><span class="op" id="5554827">]</span><span class="builtintype" id="5554828">byte</span><span class="op" id="5554832">,</span>&nbsp;<span class="ident" id="5554834">tab</span>&nbsp;<span class="op" id="5554838">*</span><span class="ident" id="5554839">Table</span><span class="op" id="5554844">)</span>&nbsp;<span class="ident" id="5554846">uint64</span>&nbsp;<span class="op" id="5554853">{</span>&nbsp;<span class="keyword" id="5554855">return</span>&nbsp;<span class="ident" id="5554862">update</span><span class="op" id="5554868">(</span><span class="num" id="5554869">0</span><span class="op" id="5554870">,</span>&nbsp;<span class="ident" id="5554872">tab</span><span class="op" id="5554875">,</span>&nbsp;<span class="ident" id="5554877">data</span><span class="op" id="5554881">)</span>&nbsp;<span class="op" id="5554883">}</span>
</div>
</body>
</html>
