<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html" class="current">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3337438">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3337494">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3337548">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3337599">package</span>&nbsp;<span class="ident" id="3337607">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3337615">import</span>&nbsp;<span class="op" id="3337622">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3337625">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3337631">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3337648">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3337659">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3337667">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3337674">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3337677">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3337701">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3337767">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3337835">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3337861">var</span>&nbsp;<span class="ident" id="3337865">rand</span>&nbsp;<span class="builtintype" id="3337870">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3337877">var</span>&nbsp;<span class="ident" id="3337881">randmu</span>&nbsp;<span class="ident" id="3337888">sync</span><span class="op" id="3337892">.</span><span class="ident" id="3337893">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3337900">func</span>&nbsp;<span class="ident" id="3337905">reseed</span><span class="op" id="3337911">(</span><span class="op" id="3337912">)</span>&nbsp;<span class="builtintype" id="3337914">uint32</span>&nbsp;<span class="op" id="3337921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3337924">return</span>&nbsp;<span class="builtintype" id="3337931">uint32</span><span class="op" id="3337937">(</span><span class="ident" id="3337938">time</span><span class="op" id="3337942">.</span><span class="ident" id="3337943">Now</span><span class="op" id="3337946">(</span><span class="op" id="3337947">)</span><span class="op" id="3337948">.</span><span class="ident" id="3337949">UnixNano</span><span class="op" id="3337957">(</span><span class="op" id="3337958">)</span>&nbsp;<span class="op" id="3337960">+</span>&nbsp;<span class="ident" id="3337962">int64</span><span class="op" id="3337967">(</span><span class="ident" id="3337968">os</span><span class="op" id="3337970">.</span><span class="ident" id="3337971">Getpid</span><span class="op" id="3337977">(</span><span class="op" id="3337978">)</span><span class="op" id="3337979">)</span><span class="op" id="3337980">)</span><br>
<span class="lineno"></span><span class="op" id="3337982">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3337985">func</span>&nbsp;<span class="ident" id="3337990">nextSuffix</span><span class="op" id="3338000">(</span><span class="op" id="3338001">)</span>&nbsp;<span class="builtintype" id="3338003">string</span>&nbsp;<span class="op" id="3338010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338013">randmu</span><span class="op" id="3338019">.</span><span class="ident" id="3338020">Lock</span><span class="op" id="3338024">(</span><span class="op" id="3338025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338028">r</span>&nbsp;<span class="op" id="3338030">:=</span>&nbsp;<span class="ident" id="3338033">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3338039">if</span>&nbsp;<span class="ident" id="3338042">r</span>&nbsp;<span class="op" id="3338044">==</span>&nbsp;<span class="num" id="3338047">0</span>&nbsp;<span class="op" id="3338049">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338053">r</span>&nbsp;<span class="op" id="3338055">=</span>&nbsp;<span class="ident" id="3338057">reseed</span><span class="op" id="3338063">(</span><span class="op" id="3338064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3338067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338070">r</span>&nbsp;<span class="op" id="3338072">=</span>&nbsp;<span class="ident" id="3338074">r</span><span class="op" id="3338075">*</span><span class="num" id="3338076">1664525</span>&nbsp;<span class="op" id="3338084">+</span>&nbsp;<span class="num" id="3338086">1013904223</span>&nbsp;<span class="comment" id="3338097">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338134">rand</span>&nbsp;<span class="op" id="3338139">=</span>&nbsp;<span class="ident" id="3338141">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338144">randmu</span><span class="op" id="3338150">.</span><span class="ident" id="3338151">Unlock</span><span class="op" id="3338157">(</span><span class="op" id="3338158">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3338161">return</span>&nbsp;<span class="ident" id="3338168">strconv</span><span class="op" id="3338175">.</span><span class="ident" id="3338176">Itoa</span><span class="op" id="3338180">(</span><span class="builtintype" id="3338181">int</span><span class="op" id="3338184">(</span><span class="num" id="3338185">1e9</span>&nbsp;<span class="op" id="3338189">+</span>&nbsp;<span class="ident" id="3338191">r</span><span class="op" id="3338192">%</span><span class="num" id="3338193">1e9</span><span class="op" id="3338196">)</span><span class="op" id="3338197">)</span><span class="op" id="3338198">[</span><span class="num" id="3338199">1</span><span class="op" id="3338200">:</span><span class="op" id="3338201">]</span><br>
<span class="lineno"></span><span class="op" id="3338203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3338206">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3338268">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3338333">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3338385">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3338452">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3338493">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3338546">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3338609">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3338681">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3338726">func</span>&nbsp;<span class="ident" id="3338731">TempFile</span><span class="op" id="3338739">(</span><span class="ident" id="3338740">dir</span><span class="op" id="3338743">,</span>&nbsp;<span class="ident" id="3338745">prefix</span>&nbsp;<span class="builtintype" id="3338752">string</span><span class="op" id="3338758">)</span>&nbsp;<span class="op" id="3338760">(</span><span class="ident" id="3338761">f</span>&nbsp;<span class="op" id="3338763">*</span><span class="ident" id="3338764">os</span><span class="op" id="3338766">.</span><span class="ident" id="3338767">File</span><span class="op" id="3338771">,</span>&nbsp;<span class="ident" id="3338773">err</span>&nbsp;<span class="builtintype" id="3338777">error</span><span class="op" id="3338782">)</span>&nbsp;<span class="op" id="3338784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3338787">if</span>&nbsp;<span class="ident" id="3338790">dir</span>&nbsp;<span class="op" id="3338794">==</span>&nbsp;<span class="string" id="3338797">&#34;&#34;</span>&nbsp;<span class="op" id="3338800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338804">dir</span>&nbsp;<span class="op" id="3338808">=</span>&nbsp;<span class="ident" id="3338810">os</span><span class="op" id="3338812">.</span><span class="ident" id="3338813">TempDir</span><span class="op" id="3338820">(</span><span class="op" id="3338821">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3338824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338828">nconflict</span>&nbsp;<span class="op" id="3338838">:=</span>&nbsp;<span class="num" id="3338841">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3338844">for</span>&nbsp;<span class="ident" id="3338848">i</span>&nbsp;<span class="op" id="3338850">:=</span>&nbsp;<span class="num" id="3338853">0</span><span class="op" id="3338854">;</span>&nbsp;<span class="ident" id="3338856">i</span>&nbsp;<span class="op" id="3338858">&lt;</span>&nbsp;<span class="num" id="3338860">10000</span><span class="op" id="3338865">;</span>&nbsp;<span class="ident" id="3338867">i</span><span class="op" id="3338868">++</span>&nbsp;<span class="op" id="3338871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338875">name</span>&nbsp;<span class="op" id="3338880">:=</span>&nbsp;<span class="ident" id="3338883">filepath</span><span class="op" id="3338891">.</span><span class="ident" id="3338892">Join</span><span class="op" id="3338896">(</span><span class="ident" id="3338897">dir</span><span class="op" id="3338900">,</span>&nbsp;<span class="ident" id="3338902">prefix</span><span class="op" id="3338908">+</span><span class="ident" id="3338909">nextSuffix</span><span class="op" id="3338919">(</span><span class="op" id="3338920">)</span><span class="op" id="3338921">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3338925">f</span><span class="op" id="3338926">,</span>&nbsp;<span class="ident" id="3338928">err</span>&nbsp;<span class="op" id="3338932">=</span>&nbsp;<span class="ident" id="3338934">os</span><span class="op" id="3338936">.</span><span class="ident" id="3338937">OpenFile</span><span class="op" id="3338945">(</span><span class="ident" id="3338946">name</span><span class="op" id="3338950">,</span>&nbsp;<span class="ident" id="3338952">os</span><span class="op" id="3338954">.</span><span class="ident" id="3338955">O_RDWR</span><span class="op" id="3338961">|</span><span class="ident" id="3338962">os</span><span class="op" id="3338964">.</span><span class="ident" id="3338965">O_CREATE</span><span class="op" id="3338973">|</span><span class="ident" id="3338974">os</span><span class="op" id="3338976">.</span><span class="ident" id="3338977">O_EXCL</span><span class="op" id="3338983">,</span>&nbsp;<span class="num" id="3338985">0600</span><span class="op" id="3338989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3338993">if</span>&nbsp;<span class="ident" id="3338996">os</span><span class="op" id="3338998">.</span><span class="ident" id="3338999">IsExist</span><span class="op" id="3339006">(</span><span class="ident" id="3339007">err</span><span class="op" id="3339010">)</span>&nbsp;<span class="op" id="3339012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339017">if</span>&nbsp;<span class="ident" id="3339020">nconflict</span><span class="op" id="3339029">++</span><span class="op" id="3339031">;</span>&nbsp;<span class="ident" id="3339033">nconflict</span>&nbsp;<span class="op" id="3339043">&gt;</span>&nbsp;<span class="num" id="3339045">10</span>&nbsp;<span class="op" id="3339048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339054">rand</span>&nbsp;<span class="op" id="3339059">=</span>&nbsp;<span class="ident" id="3339061">reseed</span><span class="op" id="3339067">(</span><span class="op" id="3339068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339073">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339078">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339093">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339103">return</span><br>
<span class="lineno">65</span><span class="op" id="3339110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3339113">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3339179">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3339244">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3339308">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3339367">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3339419">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3339493">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3339543">func</span>&nbsp;<span class="ident" id="3339548">TempDir</span><span class="op" id="3339555">(</span><span class="ident" id="3339556">dir</span><span class="op" id="3339559">,</span>&nbsp;<span class="ident" id="3339561">prefix</span>&nbsp;<span class="builtintype" id="3339568">string</span><span class="op" id="3339574">)</span>&nbsp;<span class="op" id="3339576">(</span><span class="ident" id="3339577">name</span>&nbsp;<span class="builtintype" id="3339582">string</span><span class="op" id="3339588">,</span>&nbsp;<span class="ident" id="3339590">err</span>&nbsp;<span class="builtintype" id="3339594">error</span><span class="op" id="3339599">)</span>&nbsp;<span class="op" id="3339601">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339604">if</span>&nbsp;<span class="ident" id="3339607">dir</span>&nbsp;<span class="op" id="3339611">==</span>&nbsp;<span class="string" id="3339614">&#34;&#34;</span>&nbsp;<span class="op" id="3339617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339621">dir</span>&nbsp;<span class="op" id="3339625">=</span>&nbsp;<span class="ident" id="3339627">os</span><span class="op" id="3339629">.</span><span class="ident" id="3339630">TempDir</span><span class="op" id="3339637">(</span><span class="op" id="3339638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339645">nconflict</span>&nbsp;<span class="op" id="3339655">:=</span>&nbsp;<span class="num" id="3339658">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339661">for</span>&nbsp;<span class="ident" id="3339665">i</span>&nbsp;<span class="op" id="3339667">:=</span>&nbsp;<span class="num" id="3339670">0</span><span class="op" id="3339671">;</span>&nbsp;<span class="ident" id="3339673">i</span>&nbsp;<span class="op" id="3339675">&lt;</span>&nbsp;<span class="num" id="3339677">10000</span><span class="op" id="3339682">;</span>&nbsp;<span class="ident" id="3339684">i</span><span class="op" id="3339685">++</span>&nbsp;<span class="op" id="3339688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339692">try</span>&nbsp;<span class="op" id="3339696">:=</span>&nbsp;<span class="ident" id="3339699">filepath</span><span class="op" id="3339707">.</span><span class="ident" id="3339708">Join</span><span class="op" id="3339712">(</span><span class="ident" id="3339713">dir</span><span class="op" id="3339716">,</span>&nbsp;<span class="ident" id="3339718">prefix</span><span class="op" id="3339724">+</span><span class="ident" id="3339725">nextSuffix</span><span class="op" id="3339735">(</span><span class="op" id="3339736">)</span><span class="op" id="3339737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339741">err</span>&nbsp;<span class="op" id="3339745">=</span>&nbsp;<span class="ident" id="3339747">os</span><span class="op" id="3339749">.</span><span class="ident" id="3339750">Mkdir</span><span class="op" id="3339755">(</span><span class="ident" id="3339756">try</span><span class="op" id="3339759">,</span>&nbsp;<span class="num" id="3339761">0700</span><span class="op" id="3339765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339769">if</span>&nbsp;<span class="ident" id="3339772">os</span><span class="op" id="3339774">.</span><span class="ident" id="3339775">IsExist</span><span class="op" id="3339782">(</span><span class="ident" id="3339783">err</span><span class="op" id="3339786">)</span>&nbsp;<span class="op" id="3339788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339793">if</span>&nbsp;<span class="ident" id="3339796">nconflict</span><span class="op" id="3339805">++</span><span class="op" id="3339807">;</span>&nbsp;<span class="ident" id="3339809">nconflict</span>&nbsp;<span class="op" id="3339819">&gt;</span>&nbsp;<span class="num" id="3339821">10</span>&nbsp;<span class="op" id="3339824">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339830">rand</span>&nbsp;<span class="op" id="3339835">=</span>&nbsp;<span class="ident" id="3339837">reseed</span><span class="op" id="3339843">(</span><span class="op" id="3339844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339854">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339869">if</span>&nbsp;<span class="ident" id="3339872">err</span>&nbsp;<span class="op" id="3339876">==</span>&nbsp;<span class="ident" id="3339879">nil</span>&nbsp;<span class="op" id="3339883">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3339888">name</span>&nbsp;<span class="op" id="3339893">=</span>&nbsp;<span class="ident" id="3339895">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339905">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3339912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3339915">return</span><br>
<span class="lineno">95</span><span class="op" id="3339922">}</span>
</div>
</body>
</html>
