<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bytes</h2>
<ul>
<li><a href="/gostd/bytes/buffer.go.html">buffer.go</a></li>
<li><a href="/gostd/bytes/buffer_test.go.html">buffer_test.go</a></li>
<li><a href="/gostd/bytes/bytes.go.html">bytes.go</a></li>
<li><a href="/gostd/bytes/bytes_decl.go.html">bytes_decl.go</a></li>
<li><a href="/gostd/bytes/bytes_test.go.html">bytes_test.go</a></li>
<li><a href="/gostd/bytes/compare_test.go.html">compare_test.go</a></li>
<li><a href="/gostd/bytes/equal_test.go.html">equal_test.go</a></li>
<li><a href="/gostd/bytes/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bytes/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/bytes/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/bytes/reader_test.go.html">reader_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1880660">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1880715">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1880769">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1880820">package</span>&nbsp;<span class="ident" id="1880828">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1880835">import</span>&nbsp;<span class="op" id="1880842">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1880845">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1880855">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1880861">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1880876">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1880879">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.WriterTo,&nbsp;io.Seeker,</span><br>
<span class="lineno"></span><span class="comment" id="1880954">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading&nbsp;from</span><br>
<span class="lineno">15</span><span class="comment" id="1881019">//&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="1881036">//&nbsp;Unlike&nbsp;a&nbsp;Buffer,&nbsp;a&nbsp;Reader&nbsp;is&nbsp;read-only&nbsp;and&nbsp;supports&nbsp;seeking.</span><br>
<span class="lineno"></span><span class="keyword" id="1881100">type</span>&nbsp;<span class="ident" id="1881105">Reader</span>&nbsp;<span class="keyword" id="1881112">struct</span>&nbsp;<span class="op" id="1881119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881122">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881131">[</span><span class="op" id="1881132">]</span><span class="builtintype" id="1881133">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881139">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1881148">int64</span>&nbsp;<span class="comment" id="1881154">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881180">prevRune</span>&nbsp;<span class="builtintype" id="1881189">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1881195">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="op" id="1881229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1881232">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1881296">//&nbsp;slice.</span><br>
<span class="lineno">25</span><span class="keyword" id="1881306">func</span>&nbsp;<span class="op" id="1881311">(</span><span class="ident" id="1881312">r</span>&nbsp;<span class="op" id="1881314">*</span><span class="ident" id="1881315">Reader</span><span class="op" id="1881321">)</span>&nbsp;<span class="ident" id="1881323">Len</span><span class="op" id="1881326">(</span><span class="op" id="1881327">)</span>&nbsp;<span class="builtintype" id="1881329">int</span>&nbsp;<span class="op" id="1881333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881336">if</span>&nbsp;<span class="ident" id="1881339">r</span><span class="op" id="1881340">.</span><span class="ident" id="1881341">i</span>&nbsp;<span class="op" id="1881343">&gt;=</span>&nbsp;<span class="builtintype" id="1881346">int64</span><span class="op" id="1881351">(</span><span class="builtinfunc" id="1881352">len</span><span class="op" id="1881355">(</span><span class="ident" id="1881356">r</span><span class="op" id="1881357">.</span><span class="ident" id="1881358">s</span><span class="op" id="1881359">)</span><span class="op" id="1881360">)</span>&nbsp;<span class="op" id="1881362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881366">return</span>&nbsp;<span class="num" id="1881373">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881379">return</span>&nbsp;<span class="builtintype" id="1881386">int</span><span class="op" id="1881389">(</span><span class="builtintype" id="1881390">int64</span><span class="op" id="1881395">(</span><span class="builtinfunc" id="1881396">len</span><span class="op" id="1881399">(</span><span class="ident" id="1881400">r</span><span class="op" id="1881401">.</span><span class="ident" id="1881402">s</span><span class="op" id="1881403">)</span><span class="op" id="1881404">)</span>&nbsp;<span class="op" id="1881406">-</span>&nbsp;<span class="ident" id="1881408">r</span><span class="op" id="1881409">.</span><span class="ident" id="1881410">i</span><span class="op" id="1881411">)</span><br>
<span class="lineno">30</span><span class="op" id="1881413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1881416">func</span>&nbsp;<span class="op" id="1881421">(</span><span class="ident" id="1881422">r</span>&nbsp;<span class="op" id="1881424">*</span><span class="ident" id="1881425">Reader</span><span class="op" id="1881431">)</span>&nbsp;<span class="ident" id="1881433">Read</span><span class="op" id="1881437">(</span><span class="ident" id="1881438">b</span>&nbsp;<span class="op" id="1881440">[</span><span class="op" id="1881441">]</span><span class="builtintype" id="1881442">byte</span><span class="op" id="1881446">)</span>&nbsp;<span class="op" id="1881448">(</span><span class="ident" id="1881449">n</span>&nbsp;<span class="builtintype" id="1881451">int</span><span class="op" id="1881454">,</span>&nbsp;<span class="ident" id="1881456">err</span>&nbsp;<span class="builtintype" id="1881460">error</span><span class="op" id="1881465">)</span>&nbsp;<span class="op" id="1881467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881470">if</span>&nbsp;<span class="builtinfunc" id="1881473">len</span><span class="op" id="1881476">(</span><span class="ident" id="1881477">b</span><span class="op" id="1881478">)</span>&nbsp;<span class="op" id="1881480">==</span>&nbsp;<span class="num" id="1881483">0</span>&nbsp;<span class="op" id="1881485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881489">return</span>&nbsp;<span class="num" id="1881496">0</span><span class="op" id="1881497">,</span>&nbsp;<span class="builtintype" id="1881499">nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881507">if</span>&nbsp;<span class="ident" id="1881510">r</span><span class="op" id="1881511">.</span><span class="ident" id="1881512">i</span>&nbsp;<span class="op" id="1881514">&gt;=</span>&nbsp;<span class="builtintype" id="1881517">int64</span><span class="op" id="1881522">(</span><span class="builtinfunc" id="1881523">len</span><span class="op" id="1881526">(</span><span class="ident" id="1881527">r</span><span class="op" id="1881528">.</span><span class="ident" id="1881529">s</span><span class="op" id="1881530">)</span><span class="op" id="1881531">)</span>&nbsp;<span class="op" id="1881533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881537">return</span>&nbsp;<span class="num" id="1881544">0</span><span class="op" id="1881545">,</span>&nbsp;<span class="ident" id="1881547">io</span><span class="op" id="1881549">.</span><span class="ident" id="1881550">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881558">r</span><span class="op" id="1881559">.</span><span class="ident" id="1881560">prevRune</span>&nbsp;<span class="op" id="1881569">=</span>&nbsp;<span class="op" id="1881571">-</span><span class="num" id="1881572">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881575">n</span>&nbsp;<span class="op" id="1881577">=</span>&nbsp;<span class="builtinfunc" id="1881579">copy</span><span class="op" id="1881583">(</span><span class="ident" id="1881584">b</span><span class="op" id="1881585">,</span>&nbsp;<span class="ident" id="1881587">r</span><span class="op" id="1881588">.</span><span class="ident" id="1881589">s</span><span class="op" id="1881590">[</span><span class="ident" id="1881591">r</span><span class="op" id="1881592">.</span><span class="ident" id="1881593">i</span><span class="op" id="1881594">:</span><span class="op" id="1881595">]</span><span class="op" id="1881596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881599">r</span><span class="op" id="1881600">.</span><span class="ident" id="1881601">i</span>&nbsp;<span class="op" id="1881603">+=</span>&nbsp;<span class="builtintype" id="1881606">int64</span><span class="op" id="1881611">(</span><span class="ident" id="1881612">n</span><span class="op" id="1881613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881616">return</span><br>
<span class="lineno"></span><span class="op" id="1881623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="1881626">func</span>&nbsp;<span class="op" id="1881631">(</span><span class="ident" id="1881632">r</span>&nbsp;<span class="op" id="1881634">*</span><span class="ident" id="1881635">Reader</span><span class="op" id="1881641">)</span>&nbsp;<span class="ident" id="1881643">ReadAt</span><span class="op" id="1881649">(</span><span class="ident" id="1881650">b</span>&nbsp;<span class="op" id="1881652">[</span><span class="op" id="1881653">]</span><span class="builtintype" id="1881654">byte</span><span class="op" id="1881658">,</span>&nbsp;<span class="ident" id="1881660">off</span>&nbsp;<span class="builtintype" id="1881664">int64</span><span class="op" id="1881669">)</span>&nbsp;<span class="op" id="1881671">(</span><span class="ident" id="1881672">n</span>&nbsp;<span class="builtintype" id="1881674">int</span><span class="op" id="1881677">,</span>&nbsp;<span class="ident" id="1881679">err</span>&nbsp;<span class="builtintype" id="1881683">error</span><span class="op" id="1881688">)</span>&nbsp;<span class="op" id="1881690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1881693">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881735">if</span>&nbsp;<span class="ident" id="1881738">off</span>&nbsp;<span class="op" id="1881742">&lt;</span>&nbsp;<span class="num" id="1881744">0</span>&nbsp;<span class="op" id="1881746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881750">return</span>&nbsp;<span class="num" id="1881757">0</span><span class="op" id="1881758">,</span>&nbsp;<span class="ident" id="1881760">errors</span><span class="op" id="1881766">.</span><span class="ident" id="1881767">New</span><span class="op" id="1881770">(</span><span class="string" id="1881771">&#34;bytes.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="1881809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881812">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881815">if</span>&nbsp;<span class="ident" id="1881818">off</span>&nbsp;<span class="op" id="1881822">&gt;=</span>&nbsp;<span class="builtintype" id="1881825">int64</span><span class="op" id="1881830">(</span><span class="builtinfunc" id="1881831">len</span><span class="op" id="1881834">(</span><span class="ident" id="1881835">r</span><span class="op" id="1881836">.</span><span class="ident" id="1881837">s</span><span class="op" id="1881838">)</span><span class="op" id="1881839">)</span>&nbsp;<span class="op" id="1881841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881845">return</span>&nbsp;<span class="num" id="1881852">0</span><span class="op" id="1881853">,</span>&nbsp;<span class="ident" id="1881855">io</span><span class="op" id="1881857">.</span><span class="ident" id="1881858">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881866">n</span>&nbsp;<span class="op" id="1881868">=</span>&nbsp;<span class="builtinfunc" id="1881870">copy</span><span class="op" id="1881874">(</span><span class="ident" id="1881875">b</span><span class="op" id="1881876">,</span>&nbsp;<span class="ident" id="1881878">r</span><span class="op" id="1881879">.</span><span class="ident" id="1881880">s</span><span class="op" id="1881881">[</span><span class="ident" id="1881882">off</span><span class="op" id="1881885">:</span><span class="op" id="1881886">]</span><span class="op" id="1881887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881890">if</span>&nbsp;<span class="ident" id="1881893">n</span>&nbsp;<span class="op" id="1881895">&lt;</span>&nbsp;<span class="builtinfunc" id="1881897">len</span><span class="op" id="1881900">(</span><span class="ident" id="1881901">b</span><span class="op" id="1881902">)</span>&nbsp;<span class="op" id="1881904">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881908">err</span>&nbsp;<span class="op" id="1881912">=</span>&nbsp;<span class="ident" id="1881914">io</span><span class="op" id="1881916">.</span><span class="ident" id="1881917">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1881922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1881925">return</span><br>
<span class="lineno"></span><span class="op" id="1881932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="1881935">func</span>&nbsp;<span class="op" id="1881940">(</span><span class="ident" id="1881941">r</span>&nbsp;<span class="op" id="1881943">*</span><span class="ident" id="1881944">Reader</span><span class="op" id="1881950">)</span>&nbsp;<span class="ident" id="1881952">ReadByte</span><span class="op" id="1881960">(</span><span class="op" id="1881961">)</span>&nbsp;<span class="op" id="1881963">(</span><span class="ident" id="1881964">b</span>&nbsp;<span class="builtintype" id="1881966">byte</span><span class="op" id="1881970">,</span>&nbsp;<span class="ident" id="1881972">err</span>&nbsp;<span class="builtintype" id="1881976">error</span><span class="op" id="1881981">)</span>&nbsp;<span class="op" id="1881983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1881986">r</span><span class="op" id="1881987">.</span><span class="ident" id="1881988">prevRune</span>&nbsp;<span class="op" id="1881997">=</span>&nbsp;<span class="op" id="1881999">-</span><span class="num" id="1882000">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882003">if</span>&nbsp;<span class="ident" id="1882006">r</span><span class="op" id="1882007">.</span><span class="ident" id="1882008">i</span>&nbsp;<span class="op" id="1882010">&gt;=</span>&nbsp;<span class="builtintype" id="1882013">int64</span><span class="op" id="1882018">(</span><span class="builtinfunc" id="1882019">len</span><span class="op" id="1882022">(</span><span class="ident" id="1882023">r</span><span class="op" id="1882024">.</span><span class="ident" id="1882025">s</span><span class="op" id="1882026">)</span><span class="op" id="1882027">)</span>&nbsp;<span class="op" id="1882029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882033">return</span>&nbsp;<span class="num" id="1882040">0</span><span class="op" id="1882041">,</span>&nbsp;<span class="ident" id="1882043">io</span><span class="op" id="1882045">.</span><span class="ident" id="1882046">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1882051">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882054">b</span>&nbsp;<span class="op" id="1882056">=</span>&nbsp;<span class="ident" id="1882058">r</span><span class="op" id="1882059">.</span><span class="ident" id="1882060">s</span><span class="op" id="1882061">[</span><span class="ident" id="1882062">r</span><span class="op" id="1882063">.</span><span class="ident" id="1882064">i</span><span class="op" id="1882065">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882068">r</span><span class="op" id="1882069">.</span><span class="ident" id="1882070">i</span><span class="op" id="1882071">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882075">return</span><br>
<span class="lineno"></span><span class="op" id="1882082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1882085">func</span>&nbsp;<span class="op" id="1882090">(</span><span class="ident" id="1882091">r</span>&nbsp;<span class="op" id="1882093">*</span><span class="ident" id="1882094">Reader</span><span class="op" id="1882100">)</span>&nbsp;<span class="ident" id="1882102">UnreadByte</span><span class="op" id="1882112">(</span><span class="op" id="1882113">)</span>&nbsp;<span class="builtintype" id="1882115">error</span>&nbsp;<span class="op" id="1882121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882124">r</span><span class="op" id="1882125">.</span><span class="ident" id="1882126">prevRune</span>&nbsp;<span class="op" id="1882135">=</span>&nbsp;<span class="op" id="1882137">-</span><span class="num" id="1882138">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882141">if</span>&nbsp;<span class="ident" id="1882144">r</span><span class="op" id="1882145">.</span><span class="ident" id="1882146">i</span>&nbsp;<span class="op" id="1882148">&lt;=</span>&nbsp;<span class="num" id="1882151">0</span>&nbsp;<span class="op" id="1882153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882157">return</span>&nbsp;<span class="ident" id="1882164">errors</span><span class="op" id="1882170">.</span><span class="ident" id="1882171">New</span><span class="op" id="1882174">(</span><span class="string" id="1882175">&#34;bytes.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;slice&#34;</span><span class="op" id="1882223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1882226">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882229">r</span><span class="op" id="1882230">.</span><span class="ident" id="1882231">i</span><span class="op" id="1882232">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882236">return</span>&nbsp;<span class="builtintype" id="1882243">nil</span><br>
<span class="lineno"></span><span class="op" id="1882247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1882250">func</span>&nbsp;<span class="op" id="1882255">(</span><span class="ident" id="1882256">r</span>&nbsp;<span class="op" id="1882258">*</span><span class="ident" id="1882259">Reader</span><span class="op" id="1882265">)</span>&nbsp;<span class="ident" id="1882267">ReadRune</span><span class="op" id="1882275">(</span><span class="op" id="1882276">)</span>&nbsp;<span class="op" id="1882278">(</span><span class="ident" id="1882279">ch</span>&nbsp;<span class="builtintype" id="1882282">rune</span><span class="op" id="1882286">,</span>&nbsp;<span class="ident" id="1882288">size</span>&nbsp;<span class="builtintype" id="1882293">int</span><span class="op" id="1882296">,</span>&nbsp;<span class="ident" id="1882298">err</span>&nbsp;<span class="builtintype" id="1882302">error</span><span class="op" id="1882307">)</span>&nbsp;<span class="op" id="1882309">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882312">if</span>&nbsp;<span class="ident" id="1882315">r</span><span class="op" id="1882316">.</span><span class="ident" id="1882317">i</span>&nbsp;<span class="op" id="1882319">&gt;=</span>&nbsp;<span class="builtintype" id="1882322">int64</span><span class="op" id="1882327">(</span><span class="builtinfunc" id="1882328">len</span><span class="op" id="1882331">(</span><span class="ident" id="1882332">r</span><span class="op" id="1882333">.</span><span class="ident" id="1882334">s</span><span class="op" id="1882335">)</span><span class="op" id="1882336">)</span>&nbsp;<span class="op" id="1882338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882342">r</span><span class="op" id="1882343">.</span><span class="ident" id="1882344">prevRune</span>&nbsp;<span class="op" id="1882353">=</span>&nbsp;<span class="op" id="1882355">-</span><span class="num" id="1882356">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882360">return</span>&nbsp;<span class="num" id="1882367">0</span><span class="op" id="1882368">,</span>&nbsp;<span class="num" id="1882370">0</span><span class="op" id="1882371">,</span>&nbsp;<span class="ident" id="1882373">io</span><span class="op" id="1882375">.</span><span class="ident" id="1882376">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1882381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882384">r</span><span class="op" id="1882385">.</span><span class="ident" id="1882386">prevRune</span>&nbsp;<span class="op" id="1882395">=</span>&nbsp;<span class="builtintype" id="1882397">int</span><span class="op" id="1882400">(</span><span class="ident" id="1882401">r</span><span class="op" id="1882402">.</span><span class="ident" id="1882403">i</span><span class="op" id="1882404">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882407">if</span>&nbsp;<span class="ident" id="1882410">c</span>&nbsp;<span class="op" id="1882412">:=</span>&nbsp;<span class="ident" id="1882415">r</span><span class="op" id="1882416">.</span><span class="ident" id="1882417">s</span><span class="op" id="1882418">[</span><span class="ident" id="1882419">r</span><span class="op" id="1882420">.</span><span class="ident" id="1882421">i</span><span class="op" id="1882422">]</span><span class="op" id="1882423">;</span>&nbsp;<span class="ident" id="1882425">c</span>&nbsp;<span class="op" id="1882427">&lt;</span>&nbsp;<span class="ident" id="1882429">utf8</span><span class="op" id="1882433">.</span><span class="ident" id="1882434">RuneSelf</span>&nbsp;<span class="op" id="1882443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882447">r</span><span class="op" id="1882448">.</span><span class="ident" id="1882449">i</span><span class="op" id="1882450">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882455">return</span>&nbsp;<span class="builtintype" id="1882462">rune</span><span class="op" id="1882466">(</span><span class="ident" id="1882467">c</span><span class="op" id="1882468">)</span><span class="op" id="1882469">,</span>&nbsp;<span class="num" id="1882471">1</span><span class="op" id="1882472">,</span>&nbsp;<span class="builtintype" id="1882474">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1882479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882482">ch</span><span class="op" id="1882484">,</span>&nbsp;<span class="ident" id="1882486">size</span>&nbsp;<span class="op" id="1882491">=</span>&nbsp;<span class="ident" id="1882493">utf8</span><span class="op" id="1882497">.</span><span class="ident" id="1882498">DecodeRune</span><span class="op" id="1882508">(</span><span class="ident" id="1882509">r</span><span class="op" id="1882510">.</span><span class="ident" id="1882511">s</span><span class="op" id="1882512">[</span><span class="ident" id="1882513">r</span><span class="op" id="1882514">.</span><span class="ident" id="1882515">i</span><span class="op" id="1882516">:</span><span class="op" id="1882517">]</span><span class="op" id="1882518">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882521">r</span><span class="op" id="1882522">.</span><span class="ident" id="1882523">i</span>&nbsp;<span class="op" id="1882525">+=</span>&nbsp;<span class="builtintype" id="1882528">int64</span><span class="op" id="1882533">(</span><span class="ident" id="1882534">size</span><span class="op" id="1882538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882541">return</span><br>
<span class="lineno"></span><span class="op" id="1882548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1882551">func</span>&nbsp;<span class="op" id="1882556">(</span><span class="ident" id="1882557">r</span>&nbsp;<span class="op" id="1882559">*</span><span class="ident" id="1882560">Reader</span><span class="op" id="1882566">)</span>&nbsp;<span class="ident" id="1882568">UnreadRune</span><span class="op" id="1882578">(</span><span class="op" id="1882579">)</span>&nbsp;<span class="builtintype" id="1882581">error</span>&nbsp;<span class="op" id="1882587">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882590">if</span>&nbsp;<span class="ident" id="1882593">r</span><span class="op" id="1882594">.</span><span class="ident" id="1882595">prevRune</span>&nbsp;<span class="op" id="1882604">&lt;</span>&nbsp;<span class="num" id="1882606">0</span>&nbsp;<span class="op" id="1882608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882612">return</span>&nbsp;<span class="ident" id="1882619">errors</span><span class="op" id="1882625">.</span><span class="ident" id="1882626">New</span><span class="op" id="1882629">(</span><span class="string" id="1882630">&#34;bytes.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="1882692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1882695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882698">r</span><span class="op" id="1882699">.</span><span class="ident" id="1882700">i</span>&nbsp;<span class="op" id="1882702">=</span>&nbsp;<span class="builtintype" id="1882704">int64</span><span class="op" id="1882709">(</span><span class="ident" id="1882710">r</span><span class="op" id="1882711">.</span><span class="ident" id="1882712">prevRune</span><span class="op" id="1882720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882723">r</span><span class="op" id="1882724">.</span><span class="ident" id="1882725">prevRune</span>&nbsp;<span class="op" id="1882734">=</span>&nbsp;<span class="op" id="1882736">-</span><span class="num" id="1882737">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882740">return</span>&nbsp;<span class="builtintype" id="1882747">nil</span><br>
<span class="lineno"></span><span class="op" id="1882751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1882754">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1882798">func</span>&nbsp;<span class="op" id="1882803">(</span><span class="ident" id="1882804">r</span>&nbsp;<span class="op" id="1882806">*</span><span class="ident" id="1882807">Reader</span><span class="op" id="1882813">)</span>&nbsp;<span class="ident" id="1882815">Seek</span><span class="op" id="1882819">(</span><span class="ident" id="1882820">offset</span>&nbsp;<span class="builtintype" id="1882827">int64</span><span class="op" id="1882832">,</span>&nbsp;<span class="ident" id="1882834">whence</span>&nbsp;<span class="builtintype" id="1882841">int</span><span class="op" id="1882844">)</span>&nbsp;<span class="op" id="1882846">(</span><span class="builtintype" id="1882847">int64</span><span class="op" id="1882852">,</span>&nbsp;<span class="builtintype" id="1882854">error</span><span class="op" id="1882859">)</span>&nbsp;<span class="op" id="1882861">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882864">r</span><span class="op" id="1882865">.</span><span class="ident" id="1882866">prevRune</span>&nbsp;<span class="op" id="1882875">=</span>&nbsp;<span class="op" id="1882877">-</span><span class="num" id="1882878">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882881">var</span>&nbsp;<span class="ident" id="1882885">abs</span>&nbsp;<span class="builtintype" id="1882889">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882896">switch</span>&nbsp;<span class="ident" id="1882903">whence</span>&nbsp;<span class="op" id="1882910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882913">case</span>&nbsp;<span class="num" id="1882918">0</span><span class="op" id="1882919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882923">abs</span>&nbsp;<span class="op" id="1882927">=</span>&nbsp;<span class="ident" id="1882929">offset</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882937">case</span>&nbsp;<span class="num" id="1882942">1</span><span class="op" id="1882943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882947">abs</span>&nbsp;<span class="op" id="1882951">=</span>&nbsp;<span class="builtintype" id="1882953">int64</span><span class="op" id="1882958">(</span><span class="ident" id="1882959">r</span><span class="op" id="1882960">.</span><span class="ident" id="1882961">i</span><span class="op" id="1882962">)</span>&nbsp;<span class="op" id="1882964">+</span>&nbsp;<span class="ident" id="1882966">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1882974">case</span>&nbsp;<span class="num" id="1882979">2</span><span class="op" id="1882980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1882984">abs</span>&nbsp;<span class="op" id="1882988">=</span>&nbsp;<span class="builtintype" id="1882990">int64</span><span class="op" id="1882995">(</span><span class="builtinfunc" id="1882996">len</span><span class="op" id="1882999">(</span><span class="ident" id="1883000">r</span><span class="op" id="1883001">.</span><span class="ident" id="1883002">s</span><span class="op" id="1883003">)</span><span class="op" id="1883004">)</span>&nbsp;<span class="op" id="1883006">+</span>&nbsp;<span class="ident" id="1883008">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883016">default</span><span class="op" id="1883023">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883027">return</span>&nbsp;<span class="num" id="1883034">0</span><span class="op" id="1883035">,</span>&nbsp;<span class="ident" id="1883037">errors</span><span class="op" id="1883043">.</span><span class="ident" id="1883044">New</span><span class="op" id="1883047">(</span><span class="string" id="1883048">&#34;bytes.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="1883083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1883086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883089">if</span>&nbsp;<span class="ident" id="1883092">abs</span>&nbsp;<span class="op" id="1883096">&lt;</span>&nbsp;<span class="num" id="1883098">0</span>&nbsp;<span class="op" id="1883100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883104">return</span>&nbsp;<span class="num" id="1883111">0</span><span class="op" id="1883112">,</span>&nbsp;<span class="ident" id="1883114">errors</span><span class="op" id="1883120">.</span><span class="ident" id="1883121">New</span><span class="op" id="1883124">(</span><span class="string" id="1883125">&#34;bytes.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="1883163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1883166">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883169">r</span><span class="op" id="1883170">.</span><span class="ident" id="1883171">i</span>&nbsp;<span class="op" id="1883173">=</span>&nbsp;<span class="ident" id="1883175">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883180">return</span>&nbsp;<span class="ident" id="1883187">abs</span><span class="op" id="1883190">,</span>&nbsp;<span class="builtintype" id="1883192">nil</span><br>
<span class="lineno"></span><span class="op" id="1883196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1883199">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno">125</span><span class="keyword" id="1883248">func</span>&nbsp;<span class="op" id="1883253">(</span><span class="ident" id="1883254">r</span>&nbsp;<span class="op" id="1883256">*</span><span class="ident" id="1883257">Reader</span><span class="op" id="1883263">)</span>&nbsp;<span class="ident" id="1883265">WriteTo</span><span class="op" id="1883272">(</span><span class="ident" id="1883273">w</span>&nbsp;<span class="ident" id="1883275">io</span><span class="op" id="1883277">.</span><span class="ident" id="1883278">Writer</span><span class="op" id="1883284">)</span>&nbsp;<span class="op" id="1883286">(</span><span class="ident" id="1883287">n</span>&nbsp;<span class="builtintype" id="1883289">int64</span><span class="op" id="1883294">,</span>&nbsp;<span class="ident" id="1883296">err</span>&nbsp;<span class="builtintype" id="1883300">error</span><span class="op" id="1883305">)</span>&nbsp;<span class="op" id="1883307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883310">r</span><span class="op" id="1883311">.</span><span class="ident" id="1883312">prevRune</span>&nbsp;<span class="op" id="1883321">=</span>&nbsp;<span class="op" id="1883323">-</span><span class="num" id="1883324">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883327">if</span>&nbsp;<span class="ident" id="1883330">r</span><span class="op" id="1883331">.</span><span class="ident" id="1883332">i</span>&nbsp;<span class="op" id="1883334">&gt;=</span>&nbsp;<span class="builtintype" id="1883337">int64</span><span class="op" id="1883342">(</span><span class="builtinfunc" id="1883343">len</span><span class="op" id="1883346">(</span><span class="ident" id="1883347">r</span><span class="op" id="1883348">.</span><span class="ident" id="1883349">s</span><span class="op" id="1883350">)</span><span class="op" id="1883351">)</span>&nbsp;<span class="op" id="1883353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883357">return</span>&nbsp;<span class="num" id="1883364">0</span><span class="op" id="1883365">,</span>&nbsp;<span class="builtintype" id="1883367">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1883372">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883375">b</span>&nbsp;<span class="op" id="1883377">:=</span>&nbsp;<span class="ident" id="1883380">r</span><span class="op" id="1883381">.</span><span class="ident" id="1883382">s</span><span class="op" id="1883383">[</span><span class="ident" id="1883384">r</span><span class="op" id="1883385">.</span><span class="ident" id="1883386">i</span><span class="op" id="1883387">:</span><span class="op" id="1883388">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883391">m</span><span class="op" id="1883392">,</span>&nbsp;<span class="ident" id="1883394">err</span>&nbsp;<span class="op" id="1883398">:=</span>&nbsp;<span class="ident" id="1883401">w</span><span class="op" id="1883402">.</span><span class="ident" id="1883403">Write</span><span class="op" id="1883408">(</span><span class="ident" id="1883409">b</span><span class="op" id="1883410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883413">if</span>&nbsp;<span class="ident" id="1883416">m</span>&nbsp;<span class="op" id="1883418">&gt;</span>&nbsp;<span class="builtinfunc" id="1883420">len</span><span class="op" id="1883423">(</span><span class="ident" id="1883424">b</span><span class="op" id="1883425">)</span>&nbsp;<span class="op" id="1883427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1883431">panic</span><span class="op" id="1883436">(</span><span class="string" id="1883437">&#34;bytes.Reader.WriteTo:&nbsp;invalid&nbsp;Write&nbsp;count&#34;</span><span class="op" id="1883480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1883483">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883486">r</span><span class="op" id="1883487">.</span><span class="ident" id="1883488">i</span>&nbsp;<span class="op" id="1883490">+=</span>&nbsp;<span class="builtintype" id="1883493">int64</span><span class="op" id="1883498">(</span><span class="ident" id="1883499">m</span><span class="op" id="1883500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883503">n</span>&nbsp;<span class="op" id="1883505">=</span>&nbsp;<span class="builtintype" id="1883507">int64</span><span class="op" id="1883512">(</span><span class="ident" id="1883513">m</span><span class="op" id="1883514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883517">if</span>&nbsp;<span class="ident" id="1883520">m</span>&nbsp;<span class="op" id="1883522">!=</span>&nbsp;<span class="builtinfunc" id="1883525">len</span><span class="op" id="1883528">(</span><span class="ident" id="1883529">b</span><span class="op" id="1883530">)</span>&nbsp;<span class="op" id="1883532">&amp;&amp;</span>&nbsp;<span class="ident" id="1883535">err</span>&nbsp;<span class="op" id="1883539">==</span>&nbsp;<span class="builtintype" id="1883542">nil</span>&nbsp;<span class="op" id="1883546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1883550">err</span>&nbsp;<span class="op" id="1883554">=</span>&nbsp;<span class="ident" id="1883556">io</span><span class="op" id="1883558">.</span><span class="ident" id="1883559">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1883574">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1883577">return</span><br>
<span class="lineno"></span><span class="op" id="1883584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1883587">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1883637">func</span>&nbsp;<span class="ident" id="1883642">NewReader</span><span class="op" id="1883651">(</span><span class="ident" id="1883652">b</span>&nbsp;<span class="op" id="1883654">[</span><span class="op" id="1883655">]</span><span class="builtintype" id="1883656">byte</span><span class="op" id="1883660">)</span>&nbsp;<span class="op" id="1883662">*</span><span class="ident" id="1883663">Reader</span>&nbsp;<span class="op" id="1883670">{</span>&nbsp;<span class="keyword" id="1883672">return</span>&nbsp;<span class="op" id="1883679">&amp;</span><span class="ident" id="1883680">Reader</span><span class="op" id="1883686">{</span><span class="ident" id="1883687">b</span><span class="op" id="1883688">,</span>&nbsp;<span class="num" id="1883690">0</span><span class="op" id="1883691">,</span>&nbsp;<span class="op" id="1883693">-</span><span class="num" id="1883694">1</span><span class="op" id="1883695">}</span>&nbsp;<span class="op" id="1883697">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
