<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5121571">package</span>&nbsp;<span class="ident" id="5121579">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5121585">import</span>&nbsp;<span class="op" id="5121592">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5121595">&#34;fmt&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5121602">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="5121607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5121610">//&nbsp;ErrorList&nbsp;saves&nbsp;a&nbsp;list&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5121645">type</span>&nbsp;<span class="ident" id="5121650">ErrorList</span>&nbsp;<span class="keyword" id="5121660">struct</span>&nbsp;<span class="op" id="5121667">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121670">Errs</span>&nbsp;<span class="op" id="5121675">[</span><span class="op" id="5121676">]</span><span class="op" id="5121677">*</span><span class="ident" id="5121678">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121686">Max</span>&nbsp;<span class="builtintype" id="5121690">int</span><br>
<span class="lineno"></span><span class="op" id="5121694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5121697">//&nbsp;NewErrList&nbsp;creates&nbsp;a&nbsp;new&nbsp;error&nbsp;list&nbsp;with&nbsp;default&nbsp;(20)&nbsp;maximum</span><br>
<span class="lineno"></span><span class="comment" id="5121762">//&nbsp;lines&nbsp;of&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="5121782">func</span>&nbsp;<span class="ident" id="5121787">NewErrList</span><span class="op" id="5121797">(</span><span class="op" id="5121798">)</span>&nbsp;<span class="op" id="5121800">*</span><span class="ident" id="5121801">ErrorList</span>&nbsp;<span class="op" id="5121811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121814">ret</span>&nbsp;<span class="op" id="5121818">:=</span>&nbsp;<span class="builtinfunc" id="5121821">new</span><span class="op" id="5121824">(</span><span class="ident" id="5121825">ErrorList</span><span class="op" id="5121834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121837">ret</span><span class="op" id="5121840">.</span><span class="ident" id="5121841">Max</span>&nbsp;<span class="op" id="5121845">=</span>&nbsp;<span class="num" id="5121847">20</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121852">return</span>&nbsp;<span class="ident" id="5121859">ret</span><br>
<span class="lineno"></span><span class="op" id="5121863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5121866">//&nbsp;Add&nbsp;appends&nbsp;the&nbsp;error&nbsp;to&nbsp;the&nbsp;list</span><br>
<span class="lineno">25</span><span class="keyword" id="5121903">func</span>&nbsp;<span class="op" id="5121908">(</span><span class="ident" id="5121909">lst</span>&nbsp;<span class="op" id="5121913">*</span><span class="ident" id="5121914">ErrorList</span><span class="op" id="5121923">)</span>&nbsp;<span class="ident" id="5121925">Add</span><span class="op" id="5121928">(</span><span class="ident" id="5121929">e</span>&nbsp;<span class="op" id="5121931">*</span><span class="ident" id="5121932">Error</span><span class="op" id="5121937">)</span>&nbsp;<span class="op" id="5121939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121942">if</span>&nbsp;<span class="builtinfunc" id="5121945">len</span><span class="op" id="5121948">(</span><span class="ident" id="5121949">lst</span><span class="op" id="5121952">.</span><span class="ident" id="5121953">Errs</span><span class="op" id="5121957">)</span>&nbsp;<span class="op" id="5121959">&gt;=</span>&nbsp;<span class="ident" id="5121962">lst</span><span class="op" id="5121965">.</span><span class="ident" id="5121966">Max</span>&nbsp;<span class="op" id="5121970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121974">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5121982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121986">lst</span><span class="op" id="5121989">.</span><span class="ident" id="5121990">Errs</span>&nbsp;<span class="op" id="5121995">=</span>&nbsp;<span class="builtinfunc" id="5121997">append</span><span class="op" id="5122003">(</span><span class="ident" id="5122004">lst</span><span class="op" id="5122007">.</span><span class="ident" id="5122008">Errs</span><span class="op" id="5122012">,</span>&nbsp;<span class="ident" id="5122014">e</span><span class="op" id="5122015">)</span><br>
<span class="lineno"></span><span class="op" id="5122017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5122020">//&nbsp;Addf&nbsp;appends&nbsp;a&nbsp;new&nbsp;error&nbsp;with&nbsp;particular&nbsp;position&nbsp;and&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="5122085">func</span>&nbsp;<span class="op" id="5122090">(</span><span class="ident" id="5122091">lst</span>&nbsp;<span class="op" id="5122095">*</span><span class="ident" id="5122096">ErrorList</span><span class="op" id="5122105">)</span>&nbsp;<span class="ident" id="5122107">Addf</span><span class="op" id="5122111">(</span><span class="ident" id="5122112">p</span>&nbsp;<span class="op" id="5122114">*</span><span class="ident" id="5122115">Pos</span><span class="op" id="5122118">,</span>&nbsp;<span class="ident" id="5122120">f</span>&nbsp;<span class="builtintype" id="5122122">string</span><span class="op" id="5122128">,</span>&nbsp;<span class="ident" id="5122130">args</span>&nbsp;<span class="op" id="5122135">...</span><span class="keyword" id="5122138">interface</span><span class="op" id="5122147">{</span><span class="op" id="5122148">}</span><span class="op" id="5122149">)</span>&nbsp;<span class="op" id="5122151">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5122154">lst</span><span class="op" id="5122157">.</span><span class="ident" id="5122158">Add</span><span class="op" id="5122161">(</span><span class="op" id="5122162">&amp;</span><span class="ident" id="5122163">Error</span><span class="op" id="5122168">{</span><span class="ident" id="5122169">p</span><span class="op" id="5122170">,</span>&nbsp;<span class="ident" id="5122172">fmt</span><span class="op" id="5122175">.</span><span class="ident" id="5122176">Errorf</span><span class="op" id="5122182">(</span><span class="ident" id="5122183">f</span><span class="op" id="5122184">,</span>&nbsp;<span class="ident" id="5122186">args</span><span class="op" id="5122190">...</span><span class="op" id="5122193">)</span><span class="op" id="5122194">}</span><span class="op" id="5122195">)</span><br>
<span class="lineno"></span><span class="op" id="5122197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5122200">//&nbsp;Print&nbsp;prints&nbsp;to&nbsp;the&nbsp;writer&nbsp;(maximume&nbsp;lst.MaxPrint&nbsp;errors).</span><br>
<span class="lineno"></span><span class="keyword" id="5122262">func</span>&nbsp;<span class="op" id="5122267">(</span><span class="ident" id="5122268">lst</span>&nbsp;<span class="op" id="5122272">*</span><span class="ident" id="5122273">ErrorList</span><span class="op" id="5122282">)</span>&nbsp;<span class="ident" id="5122284">Print</span><span class="op" id="5122289">(</span><span class="ident" id="5122290">w</span>&nbsp;<span class="ident" id="5122292">io</span><span class="op" id="5122294">.</span><span class="ident" id="5122295">Writer</span><span class="op" id="5122301">)</span>&nbsp;<span class="builtintype" id="5122303">error</span>&nbsp;<span class="op" id="5122309">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5122312">for</span>&nbsp;<span class="ident" id="5122316">_</span><span class="op" id="5122317">,</span>&nbsp;<span class="ident" id="5122319">e</span>&nbsp;<span class="op" id="5122321">:=</span>&nbsp;<span class="keyword" id="5122324">range</span>&nbsp;<span class="ident" id="5122330">lst</span><span class="op" id="5122333">.</span><span class="ident" id="5122334">Errs</span>&nbsp;<span class="op" id="5122339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5122343">_</span><span class="op" id="5122344">,</span>&nbsp;<span class="ident" id="5122346">pe</span>&nbsp;<span class="op" id="5122349">:=</span>&nbsp;<span class="ident" id="5122352">fmt</span><span class="op" id="5122355">.</span><span class="ident" id="5122356">Fprintln</span><span class="op" id="5122364">(</span><span class="ident" id="5122365">w</span><span class="op" id="5122366">,</span>&nbsp;<span class="ident" id="5122368">e</span><span class="op" id="5122369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5122373">if</span>&nbsp;<span class="ident" id="5122376">pe</span>&nbsp;<span class="op" id="5122379">!=</span>&nbsp;<span class="ident" id="5122382">nil</span>&nbsp;<span class="op" id="5122386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5122391">return</span>&nbsp;<span class="ident" id="5122398">pe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5122403">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5122406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5122410">return</span>&nbsp;<span class="ident" id="5122417">nil</span><br>
<span class="lineno"></span><span class="op" id="5122421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5122424">//&nbsp;SingleErr&nbsp;returns&nbsp;an&nbsp;error&nbsp;array&nbsp;with&nbsp;one&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5122476">func</span>&nbsp;<span class="ident" id="5122481">SingleErr</span><span class="op" id="5122490">(</span><span class="ident" id="5122491">e</span>&nbsp;<span class="builtintype" id="5122493">error</span><span class="op" id="5122498">)</span>&nbsp;<span class="op" id="5122500">[</span><span class="op" id="5122501">]</span><span class="op" id="5122502">*</span><span class="ident" id="5122503">Error</span>&nbsp;<span class="op" id="5122509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5122512">return</span>&nbsp;<span class="op" id="5122519">[</span><span class="op" id="5122520">]</span><span class="op" id="5122521">*</span><span class="ident" id="5122522">Error</span><span class="op" id="5122527">{</span><span class="op" id="5122528">{</span><span class="ident" id="5122529">Err</span><span class="op" id="5122532">:</span>&nbsp;<span class="ident" id="5122534">e</span><span class="op" id="5122535">}</span><span class="op" id="5122536">}</span><br>
<span class="lineno"></span><span class="op" id="5122538">}</span>
</div>
</body>
</html>
