<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7427978">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7428033">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7428087">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7428138">package</span>&nbsp;<span class="ident" id="7428146">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428155">import</span>&nbsp;<span class="op" id="7428162">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7428165">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7428176">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7428186">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428189">var</span>&nbsp;<span class="ident" id="7428193">golden</span>&nbsp;<span class="op" id="7428200">=</span>&nbsp;<span class="op" id="7428202">[</span><span class="op" id="7428203">]</span><span class="keyword" id="7428204">struct</span>&nbsp;<span class="op" id="7428211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428214">out</span>&nbsp;<span class="builtintype" id="7428218">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428226">in</span>&nbsp;&nbsp;<span class="builtintype" id="7428230">string</span><br>
<span class="lineno">15</span><span class="op" id="7428237">}</span><span class="op" id="7428238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428241">{</span><span class="num" id="7428242">0x00000001</span><span class="op" id="7428252">,</span>&nbsp;<span class="string" id="7428254">&#34;&#34;</span><span class="op" id="7428256">}</span><span class="op" id="7428257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428260">{</span><span class="num" id="7428261">0x00620062</span><span class="op" id="7428271">,</span>&nbsp;<span class="string" id="7428273">&#34;a&#34;</span><span class="op" id="7428276">}</span><span class="op" id="7428277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428280">{</span><span class="num" id="7428281">0x012600c4</span><span class="op" id="7428291">,</span>&nbsp;<span class="string" id="7428293">&#34;ab&#34;</span><span class="op" id="7428297">}</span><span class="op" id="7428298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428301">{</span><span class="num" id="7428302">0x024d0127</span><span class="op" id="7428312">,</span>&nbsp;<span class="string" id="7428314">&#34;abc&#34;</span><span class="op" id="7428319">}</span><span class="op" id="7428320">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428323">{</span><span class="num" id="7428324">0x03d8018b</span><span class="op" id="7428334">,</span>&nbsp;<span class="string" id="7428336">&#34;abcd&#34;</span><span class="op" id="7428342">}</span><span class="op" id="7428343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428346">{</span><span class="num" id="7428347">0x05c801f0</span><span class="op" id="7428357">,</span>&nbsp;<span class="string" id="7428359">&#34;abcde&#34;</span><span class="op" id="7428366">}</span><span class="op" id="7428367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428370">{</span><span class="num" id="7428371">0x081e0256</span><span class="op" id="7428381">,</span>&nbsp;<span class="string" id="7428383">&#34;abcdef&#34;</span><span class="op" id="7428391">}</span><span class="op" id="7428392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428395">{</span><span class="num" id="7428396">0x0adb02bd</span><span class="op" id="7428406">,</span>&nbsp;<span class="string" id="7428408">&#34;abcdefg&#34;</span><span class="op" id="7428417">}</span><span class="op" id="7428418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428421">{</span><span class="num" id="7428422">0x0e000325</span><span class="op" id="7428432">,</span>&nbsp;<span class="string" id="7428434">&#34;abcdefgh&#34;</span><span class="op" id="7428444">}</span><span class="op" id="7428445">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428448">{</span><span class="num" id="7428449">0x118e038e</span><span class="op" id="7428459">,</span>&nbsp;<span class="string" id="7428461">&#34;abcdefghi&#34;</span><span class="op" id="7428472">}</span><span class="op" id="7428473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428476">{</span><span class="num" id="7428477">0x158603f8</span><span class="op" id="7428487">,</span>&nbsp;<span class="string" id="7428489">&#34;abcdefghij&#34;</span><span class="op" id="7428501">}</span><span class="op" id="7428502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428505">{</span><span class="num" id="7428506">0x3f090f02</span><span class="op" id="7428516">,</span>&nbsp;<span class="string" id="7428518">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7428561">}</span><span class="op" id="7428562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428565">{</span><span class="num" id="7428566">0x46d81477</span><span class="op" id="7428576">,</span>&nbsp;<span class="string" id="7428578">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7428637">}</span><span class="op" id="7428638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428641">{</span><span class="num" id="7428642">0x40ee0ee1</span><span class="op" id="7428652">,</span>&nbsp;<span class="string" id="7428654">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7428698">}</span><span class="op" id="7428699">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428702">{</span><span class="num" id="7428703">0x16661315</span><span class="op" id="7428713">,</span>&nbsp;<span class="string" id="7428715">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7428774">}</span><span class="op" id="7428775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428778">{</span><span class="num" id="7428779">0x5b2e1480</span><span class="op" id="7428789">,</span>&nbsp;<span class="string" id="7428791">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7428851">}</span><span class="op" id="7428852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428855">{</span><span class="num" id="7428856">0x8c3c09ea</span><span class="op" id="7428866">,</span>&nbsp;<span class="string" id="7428868">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7428897">}</span><span class="op" id="7428898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428901">{</span><span class="num" id="7428902">0x45ac18fd</span><span class="op" id="7428912">,</span>&nbsp;<span class="string" id="7428914">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7428983">}</span><span class="op" id="7428984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428987">{</span><span class="num" id="7428988">0x53c61462</span><span class="op" id="7428998">,</span>&nbsp;<span class="string" id="7429000">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7429059">}</span><span class="op" id="7429060">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429063">{</span><span class="num" id="7429064">0x7e511e63</span><span class="op" id="7429074">,</span>&nbsp;<span class="string" id="7429076">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7429166">}</span><span class="op" id="7429167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429170">{</span><span class="num" id="7429171">0xe4801a6a</span><span class="op" id="7429181">,</span>&nbsp;<span class="string" id="7429183">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7429260">}</span><span class="op" id="7429261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429264">{</span><span class="num" id="7429265">0x61b507df</span><span class="op" id="7429275">,</span>&nbsp;<span class="string" id="7429277">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7429303">}</span><span class="op" id="7429304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429307">{</span><span class="num" id="7429308">0xb8631171</span><span class="op" id="7429318">,</span>&nbsp;<span class="string" id="7429320">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7429371">}</span><span class="op" id="7429372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429375">{</span><span class="num" id="7429376">0x8b5e1904</span><span class="op" id="7429386">,</span>&nbsp;<span class="string" id="7429388">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7429462">}</span><span class="op" id="7429463">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429466">{</span><span class="num" id="7429467">0x7cc6102b</span><span class="op" id="7429477">,</span>&nbsp;<span class="string" id="7429479">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7429527">}</span><span class="op" id="7429528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429531">{</span><span class="num" id="7429532">0x700318e7</span><span class="op" id="7429542">,</span>&nbsp;<span class="string" id="7429544">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7429616">}</span><span class="op" id="7429617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429620">{</span><span class="num" id="7429621">0x1e601747</span><span class="op" id="7429631">,</span>&nbsp;<span class="string" id="7429633">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7429703">}</span><span class="op" id="7429704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429707">{</span><span class="num" id="7429708">0xb55b0b09</span><span class="op" id="7429718">,</span>&nbsp;<span class="string" id="7429720">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7429754">}</span><span class="op" id="7429755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429758">{</span><span class="num" id="7429759">0x39111dd0</span><span class="op" id="7429769">,</span>&nbsp;<span class="string" id="7429771">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7429861">}</span><span class="op" id="7429862">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429865">{</span><span class="num" id="7429866">0x91dd304f</span><span class="op" id="7429876">,</span>&nbsp;<span class="string" id="7429878">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7430012">}</span><span class="op" id="7430013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430016">{</span><span class="num" id="7430017">0x2e5d1316</span><span class="op" id="7430027">,</span>&nbsp;<span class="string" id="7430029">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7430087">}</span><span class="op" id="7430088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430091">{</span><span class="num" id="7430092">0xd0201df6</span><span class="op" id="7430102">,</span>&nbsp;<span class="string" id="7430104">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7430187">}</span><span class="op" id="7430188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430191">{</span><span class="num" id="7430192">0x211297c8</span><span class="op" id="7430202">,</span>&nbsp;<span class="ident" id="7430204">strings</span><span class="op" id="7430211">.</span><span class="ident" id="7430212">Repeat</span><span class="op" id="7430218">(</span><span class="string" id="7430219">&#34;\xff&#34;</span><span class="op" id="7430225">,</span>&nbsp;<span class="num" id="7430227">5548</span><span class="op" id="7430231">)</span>&nbsp;<span class="op" id="7430233">+</span>&nbsp;<span class="string" id="7430235">&#34;8&#34;</span><span class="op" id="7430238">}</span><span class="op" id="7430239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430242">{</span><span class="num" id="7430243">0xbaa198c8</span><span class="op" id="7430253">,</span>&nbsp;<span class="ident" id="7430255">strings</span><span class="op" id="7430262">.</span><span class="ident" id="7430263">Repeat</span><span class="op" id="7430269">(</span><span class="string" id="7430270">&#34;\xff&#34;</span><span class="op" id="7430276">,</span>&nbsp;<span class="num" id="7430278">5549</span><span class="op" id="7430282">)</span>&nbsp;<span class="op" id="7430284">+</span>&nbsp;<span class="string" id="7430286">&#34;9&#34;</span><span class="op" id="7430289">}</span><span class="op" id="7430290">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430293">{</span><span class="num" id="7430294">0x553499be</span><span class="op" id="7430304">,</span>&nbsp;<span class="ident" id="7430306">strings</span><span class="op" id="7430313">.</span><span class="ident" id="7430314">Repeat</span><span class="op" id="7430320">(</span><span class="string" id="7430321">&#34;\xff&#34;</span><span class="op" id="7430327">,</span>&nbsp;<span class="num" id="7430329">5550</span><span class="op" id="7430333">)</span>&nbsp;<span class="op" id="7430335">+</span>&nbsp;<span class="string" id="7430337">&#34;0&#34;</span><span class="op" id="7430340">}</span><span class="op" id="7430341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430344">{</span><span class="num" id="7430345">0xf0c19abe</span><span class="op" id="7430355">,</span>&nbsp;<span class="ident" id="7430357">strings</span><span class="op" id="7430364">.</span><span class="ident" id="7430365">Repeat</span><span class="op" id="7430371">(</span><span class="string" id="7430372">&#34;\xff&#34;</span><span class="op" id="7430378">,</span>&nbsp;<span class="num" id="7430380">5551</span><span class="op" id="7430384">)</span>&nbsp;<span class="op" id="7430386">+</span>&nbsp;<span class="string" id="7430388">&#34;1&#34;</span><span class="op" id="7430391">}</span><span class="op" id="7430392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430395">{</span><span class="num" id="7430396">0x8d5c9bbe</span><span class="op" id="7430406">,</span>&nbsp;<span class="ident" id="7430408">strings</span><span class="op" id="7430415">.</span><span class="ident" id="7430416">Repeat</span><span class="op" id="7430422">(</span><span class="string" id="7430423">&#34;\xff&#34;</span><span class="op" id="7430429">,</span>&nbsp;<span class="num" id="7430431">5552</span><span class="op" id="7430435">)</span>&nbsp;<span class="op" id="7430437">+</span>&nbsp;<span class="string" id="7430439">&#34;2&#34;</span><span class="op" id="7430442">}</span><span class="op" id="7430443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430446">{</span><span class="num" id="7430447">0x2af69cbe</span><span class="op" id="7430457">,</span>&nbsp;<span class="ident" id="7430459">strings</span><span class="op" id="7430466">.</span><span class="ident" id="7430467">Repeat</span><span class="op" id="7430473">(</span><span class="string" id="7430474">&#34;\xff&#34;</span><span class="op" id="7430480">,</span>&nbsp;<span class="num" id="7430482">5553</span><span class="op" id="7430486">)</span>&nbsp;<span class="op" id="7430488">+</span>&nbsp;<span class="string" id="7430490">&#34;3&#34;</span><span class="op" id="7430493">}</span><span class="op" id="7430494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430497">{</span><span class="num" id="7430498">0xc9809dbe</span><span class="op" id="7430508">,</span>&nbsp;<span class="ident" id="7430510">strings</span><span class="op" id="7430517">.</span><span class="ident" id="7430518">Repeat</span><span class="op" id="7430524">(</span><span class="string" id="7430525">&#34;\xff&#34;</span><span class="op" id="7430531">,</span>&nbsp;<span class="num" id="7430533">5554</span><span class="op" id="7430537">)</span>&nbsp;<span class="op" id="7430539">+</span>&nbsp;<span class="string" id="7430541">&#34;4&#34;</span><span class="op" id="7430544">}</span><span class="op" id="7430545">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430548">{</span><span class="num" id="7430549">0x69189ebe</span><span class="op" id="7430559">,</span>&nbsp;<span class="ident" id="7430561">strings</span><span class="op" id="7430568">.</span><span class="ident" id="7430569">Repeat</span><span class="op" id="7430575">(</span><span class="string" id="7430576">&#34;\xff&#34;</span><span class="op" id="7430582">,</span>&nbsp;<span class="num" id="7430584">5555</span><span class="op" id="7430588">)</span>&nbsp;<span class="op" id="7430590">+</span>&nbsp;<span class="string" id="7430592">&#34;5&#34;</span><span class="op" id="7430595">}</span><span class="op" id="7430596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430599">{</span><span class="num" id="7430600">0x86af0001</span><span class="op" id="7430610">,</span>&nbsp;<span class="ident" id="7430612">strings</span><span class="op" id="7430619">.</span><span class="ident" id="7430620">Repeat</span><span class="op" id="7430626">(</span><span class="string" id="7430627">&#34;\x00&#34;</span><span class="op" id="7430633">,</span>&nbsp;<span class="num" id="7430635">1e5</span><span class="op" id="7430638">)</span><span class="op" id="7430639">}</span><span class="op" id="7430640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430643">{</span><span class="num" id="7430644">0x79660b4d</span><span class="op" id="7430654">,</span>&nbsp;<span class="ident" id="7430656">strings</span><span class="op" id="7430663">.</span><span class="ident" id="7430664">Repeat</span><span class="op" id="7430670">(</span><span class="string" id="7430671">&#34;a&#34;</span><span class="op" id="7430674">,</span>&nbsp;<span class="num" id="7430676">1e5</span><span class="op" id="7430679">)</span><span class="op" id="7430680">}</span><span class="op" id="7430681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430684">{</span><span class="num" id="7430685">0x110588ee</span><span class="op" id="7430695">,</span>&nbsp;<span class="ident" id="7430697">strings</span><span class="op" id="7430704">.</span><span class="ident" id="7430705">Repeat</span><span class="op" id="7430711">(</span><span class="string" id="7430712">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7430740">,</span>&nbsp;<span class="num" id="7430742">1e4</span><span class="op" id="7430745">)</span><span class="op" id="7430746">}</span><span class="op" id="7430747">,</span><br>
<span class="lineno"></span><span class="op" id="7430749">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7430752">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7430826">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7430893">func</span>&nbsp;<span class="ident" id="7430898">checksum</span><span class="op" id="7430906">(</span><span class="ident" id="7430907">p</span>&nbsp;<span class="op" id="7430909">[</span><span class="op" id="7430910">]</span><span class="builtintype" id="7430911">byte</span><span class="op" id="7430915">)</span>&nbsp;<span class="builtintype" id="7430917">uint32</span>&nbsp;<span class="op" id="7430924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430927">s1</span><span class="op" id="7430929">,</span>&nbsp;<span class="ident" id="7430931">s2</span>&nbsp;<span class="op" id="7430934">:=</span>&nbsp;<span class="builtintype" id="7430937">uint32</span><span class="op" id="7430943">(</span><span class="num" id="7430944">1</span><span class="op" id="7430945">)</span><span class="op" id="7430946">,</span>&nbsp;<span class="builtintype" id="7430948">uint32</span><span class="op" id="7430954">(</span><span class="num" id="7430955">0</span><span class="op" id="7430956">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430959">for</span>&nbsp;<span class="ident" id="7430963">_</span><span class="op" id="7430964">,</span>&nbsp;<span class="ident" id="7430966">x</span>&nbsp;<span class="op" id="7430968">:=</span>&nbsp;<span class="keyword" id="7430971">range</span>&nbsp;<span class="ident" id="7430977">p</span>&nbsp;<span class="op" id="7430979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430983">s1</span>&nbsp;<span class="op" id="7430986">=</span>&nbsp;<span class="op" id="7430988">(</span><span class="ident" id="7430989">s1</span>&nbsp;<span class="op" id="7430992">+</span>&nbsp;<span class="builtintype" id="7430994">uint32</span><span class="op" id="7431000">(</span><span class="ident" id="7431001">x</span><span class="op" id="7431002">)</span><span class="op" id="7431003">)</span>&nbsp;<span class="op" id="7431005">%</span>&nbsp;<span class="ident" id="7431007">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431013">s2</span>&nbsp;<span class="op" id="7431016">=</span>&nbsp;<span class="op" id="7431018">(</span><span class="ident" id="7431019">s2</span>&nbsp;<span class="op" id="7431022">+</span>&nbsp;<span class="ident" id="7431024">s1</span><span class="op" id="7431026">)</span>&nbsp;<span class="op" id="7431028">%</span>&nbsp;<span class="ident" id="7431030">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431038">return</span>&nbsp;<span class="ident" id="7431045">s2</span><span class="op" id="7431047">&lt;&lt;</span><span class="num" id="7431049">16</span>&nbsp;<span class="op" id="7431052">|</span>&nbsp;<span class="ident" id="7431054">s1</span><br>
<span class="lineno">70</span><span class="op" id="7431057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7431060">func</span>&nbsp;<span class="ident" id="7431065">TestGolden</span><span class="op" id="7431075">(</span><span class="ident" id="7431076">t</span>&nbsp;<span class="op" id="7431078">*</span><span class="ident" id="7431079">testing</span><span class="op" id="7431086">.</span><span class="ident" id="7431087">T</span><span class="op" id="7431088">)</span>&nbsp;<span class="op" id="7431090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431093">for</span>&nbsp;<span class="ident" id="7431097">_</span><span class="op" id="7431098">,</span>&nbsp;<span class="ident" id="7431100">g</span>&nbsp;<span class="op" id="7431102">:=</span>&nbsp;<span class="keyword" id="7431105">range</span>&nbsp;<span class="ident" id="7431111">golden</span>&nbsp;<span class="op" id="7431118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431122">in</span>&nbsp;<span class="op" id="7431125">:=</span>&nbsp;<span class="ident" id="7431128">g</span><span class="op" id="7431129">.</span><span class="ident" id="7431130">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431135">if</span>&nbsp;<span class="builtinfunc" id="7431138">len</span><span class="op" id="7431141">(</span><span class="ident" id="7431142">in</span><span class="op" id="7431144">)</span>&nbsp;<span class="op" id="7431146">&gt;</span>&nbsp;<span class="num" id="7431148">220</span>&nbsp;<span class="op" id="7431152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431157">in</span>&nbsp;<span class="op" id="7431160">=</span>&nbsp;<span class="ident" id="7431162">in</span><span class="op" id="7431164">[</span><span class="op" id="7431165">:</span><span class="num" id="7431166">100</span><span class="op" id="7431169">]</span>&nbsp;<span class="op" id="7431171">+</span>&nbsp;<span class="string" id="7431173">&#34;...&#34;</span>&nbsp;<span class="op" id="7431179">+</span>&nbsp;<span class="ident" id="7431181">in</span><span class="op" id="7431183">[</span><span class="builtinfunc" id="7431184">len</span><span class="op" id="7431187">(</span><span class="ident" id="7431188">in</span><span class="op" id="7431190">)</span><span class="op" id="7431191">-</span><span class="num" id="7431192">100</span><span class="op" id="7431195">:</span><span class="op" id="7431196">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431204">p</span>&nbsp;<span class="op" id="7431206">:=</span>&nbsp;<span class="op" id="7431209">[</span><span class="op" id="7431210">]</span><span class="builtintype" id="7431211">byte</span><span class="op" id="7431215">(</span><span class="ident" id="7431216">g</span><span class="op" id="7431217">.</span><span class="ident" id="7431218">in</span><span class="op" id="7431220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431224">if</span>&nbsp;<span class="ident" id="7431227">got</span>&nbsp;<span class="op" id="7431231">:=</span>&nbsp;<span class="ident" id="7431234">checksum</span><span class="op" id="7431242">(</span><span class="ident" id="7431243">p</span><span class="op" id="7431244">)</span><span class="op" id="7431245">;</span>&nbsp;<span class="ident" id="7431247">got</span>&nbsp;<span class="op" id="7431251">!=</span>&nbsp;<span class="ident" id="7431254">g</span><span class="op" id="7431255">.</span><span class="ident" id="7431256">out</span>&nbsp;<span class="op" id="7431260">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431265">t</span><span class="op" id="7431266">.</span><span class="ident" id="7431267">Errorf</span><span class="op" id="7431273">(</span><span class="string" id="7431274">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7431328">,</span>&nbsp;<span class="ident" id="7431330">in</span><span class="op" id="7431332">,</span>&nbsp;<span class="ident" id="7431334">got</span><span class="op" id="7431337">,</span>&nbsp;<span class="ident" id="7431339">g</span><span class="op" id="7431340">.</span><span class="ident" id="7431341">out</span><span class="op" id="7431344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431349">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431364">if</span>&nbsp;<span class="ident" id="7431367">got</span>&nbsp;<span class="op" id="7431371">:=</span>&nbsp;<span class="ident" id="7431374">Checksum</span><span class="op" id="7431382">(</span><span class="ident" id="7431383">p</span><span class="op" id="7431384">)</span><span class="op" id="7431385">;</span>&nbsp;<span class="ident" id="7431387">got</span>&nbsp;<span class="op" id="7431391">!=</span>&nbsp;<span class="ident" id="7431394">g</span><span class="op" id="7431395">.</span><span class="ident" id="7431396">out</span>&nbsp;<span class="op" id="7431400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431405">t</span><span class="op" id="7431406">.</span><span class="ident" id="7431407">Errorf</span><span class="op" id="7431413">(</span><span class="string" id="7431414">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7431471">,</span>&nbsp;<span class="ident" id="7431473">in</span><span class="op" id="7431475">,</span>&nbsp;<span class="ident" id="7431477">got</span><span class="op" id="7431480">,</span>&nbsp;<span class="ident" id="7431482">g</span><span class="op" id="7431483">.</span><span class="ident" id="7431484">out</span><span class="op" id="7431487">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431492">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431506">}</span><br>
<span class="lineno"></span><span class="op" id="7431508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7431511">func</span>&nbsp;<span class="ident" id="7431516">BenchmarkAdler32KB</span><span class="op" id="7431534">(</span><span class="ident" id="7431535">b</span>&nbsp;<span class="op" id="7431537">*</span><span class="ident" id="7431538">testing</span><span class="op" id="7431545">.</span><span class="ident" id="7431546">B</span><span class="op" id="7431547">)</span>&nbsp;<span class="op" id="7431549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431552">b</span><span class="op" id="7431553">.</span><span class="ident" id="7431554">SetBytes</span><span class="op" id="7431562">(</span><span class="num" id="7431563">1024</span><span class="op" id="7431567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431570">data</span>&nbsp;<span class="op" id="7431575">:=</span>&nbsp;<span class="builtinfunc" id="7431578">make</span><span class="op" id="7431582">(</span><span class="op" id="7431583">[</span><span class="op" id="7431584">]</span><span class="builtintype" id="7431585">byte</span><span class="op" id="7431589">,</span>&nbsp;<span class="num" id="7431591">1024</span><span class="op" id="7431595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431598">for</span>&nbsp;<span class="ident" id="7431602">i</span>&nbsp;<span class="op" id="7431604">:=</span>&nbsp;<span class="keyword" id="7431607">range</span>&nbsp;<span class="ident" id="7431613">data</span>&nbsp;<span class="op" id="7431618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431622">data</span><span class="op" id="7431626">[</span><span class="ident" id="7431627">i</span><span class="op" id="7431628">]</span>&nbsp;<span class="op" id="7431630">=</span>&nbsp;<span class="builtintype" id="7431632">byte</span><span class="op" id="7431636">(</span><span class="ident" id="7431637">i</span><span class="op" id="7431638">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431644">h</span>&nbsp;<span class="op" id="7431646">:=</span>&nbsp;<span class="ident" id="7431649">New</span><span class="op" id="7431652">(</span><span class="op" id="7431653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431656">in</span>&nbsp;<span class="op" id="7431659">:=</span>&nbsp;<span class="builtinfunc" id="7431662">make</span><span class="op" id="7431666">(</span><span class="op" id="7431667">[</span><span class="op" id="7431668">]</span><span class="builtintype" id="7431669">byte</span><span class="op" id="7431673">,</span>&nbsp;<span class="num" id="7431675">0</span><span class="op" id="7431676">,</span>&nbsp;<span class="ident" id="7431678">h</span><span class="op" id="7431679">.</span><span class="ident" id="7431680">Size</span><span class="op" id="7431684">(</span><span class="op" id="7431685">)</span><span class="op" id="7431686">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431690">b</span><span class="op" id="7431691">.</span><span class="ident" id="7431692">ResetTimer</span><span class="op" id="7431702">(</span><span class="op" id="7431703">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431706">for</span>&nbsp;<span class="ident" id="7431710">i</span>&nbsp;<span class="op" id="7431712">:=</span>&nbsp;<span class="num" id="7431715">0</span><span class="op" id="7431716">;</span>&nbsp;<span class="ident" id="7431718">i</span>&nbsp;<span class="op" id="7431720">&lt;</span>&nbsp;<span class="ident" id="7431722">b</span><span class="op" id="7431723">.</span><span class="ident" id="7431724">N</span><span class="op" id="7431725">;</span>&nbsp;<span class="ident" id="7431727">i</span><span class="op" id="7431728">++</span>&nbsp;<span class="op" id="7431731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431735">h</span><span class="op" id="7431736">.</span><span class="ident" id="7431737">Reset</span><span class="op" id="7431742">(</span><span class="op" id="7431743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431747">h</span><span class="op" id="7431748">.</span><span class="ident" id="7431749">Write</span><span class="op" id="7431754">(</span><span class="ident" id="7431755">data</span><span class="op" id="7431759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431763">h</span><span class="op" id="7431764">.</span><span class="ident" id="7431765">Sum</span><span class="op" id="7431768">(</span><span class="ident" id="7431769">in</span><span class="op" id="7431771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431774">}</span><br>
<span class="lineno">105</span><span class="op" id="7431776">}</span>
</div>
</body>
</html>
