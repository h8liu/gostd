<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7749479">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7749534">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7749588">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7749639">package</span>&nbsp;<span class="ident" id="7749647">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7749656">import</span>&nbsp;<span class="op" id="7749663">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7749666">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7749677">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7749687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7749690">var</span>&nbsp;<span class="ident" id="7749694">golden</span>&nbsp;<span class="op" id="7749701">=</span>&nbsp;<span class="op" id="7749703">[</span><span class="op" id="7749704">]</span><span class="keyword" id="7749705">struct</span>&nbsp;<span class="op" id="7749712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749715">out</span>&nbsp;<span class="builtintype" id="7749719">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749727">in</span>&nbsp;&nbsp;<span class="builtintype" id="7749731">string</span><br>
<span class="lineno">15</span><span class="op" id="7749738">}</span><span class="op" id="7749739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749742">{</span><span class="num" id="7749743">0x00000001</span><span class="op" id="7749753">,</span>&nbsp;<span class="string" id="7749755">&#34;&#34;</span><span class="op" id="7749757">}</span><span class="op" id="7749758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749761">{</span><span class="num" id="7749762">0x00620062</span><span class="op" id="7749772">,</span>&nbsp;<span class="string" id="7749774">&#34;a&#34;</span><span class="op" id="7749777">}</span><span class="op" id="7749778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749781">{</span><span class="num" id="7749782">0x012600c4</span><span class="op" id="7749792">,</span>&nbsp;<span class="string" id="7749794">&#34;ab&#34;</span><span class="op" id="7749798">}</span><span class="op" id="7749799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749802">{</span><span class="num" id="7749803">0x024d0127</span><span class="op" id="7749813">,</span>&nbsp;<span class="string" id="7749815">&#34;abc&#34;</span><span class="op" id="7749820">}</span><span class="op" id="7749821">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749824">{</span><span class="num" id="7749825">0x03d8018b</span><span class="op" id="7749835">,</span>&nbsp;<span class="string" id="7749837">&#34;abcd&#34;</span><span class="op" id="7749843">}</span><span class="op" id="7749844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749847">{</span><span class="num" id="7749848">0x05c801f0</span><span class="op" id="7749858">,</span>&nbsp;<span class="string" id="7749860">&#34;abcde&#34;</span><span class="op" id="7749867">}</span><span class="op" id="7749868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749871">{</span><span class="num" id="7749872">0x081e0256</span><span class="op" id="7749882">,</span>&nbsp;<span class="string" id="7749884">&#34;abcdef&#34;</span><span class="op" id="7749892">}</span><span class="op" id="7749893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749896">{</span><span class="num" id="7749897">0x0adb02bd</span><span class="op" id="7749907">,</span>&nbsp;<span class="string" id="7749909">&#34;abcdefg&#34;</span><span class="op" id="7749918">}</span><span class="op" id="7749919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749922">{</span><span class="num" id="7749923">0x0e000325</span><span class="op" id="7749933">,</span>&nbsp;<span class="string" id="7749935">&#34;abcdefgh&#34;</span><span class="op" id="7749945">}</span><span class="op" id="7749946">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749949">{</span><span class="num" id="7749950">0x118e038e</span><span class="op" id="7749960">,</span>&nbsp;<span class="string" id="7749962">&#34;abcdefghi&#34;</span><span class="op" id="7749973">}</span><span class="op" id="7749974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749977">{</span><span class="num" id="7749978">0x158603f8</span><span class="op" id="7749988">,</span>&nbsp;<span class="string" id="7749990">&#34;abcdefghij&#34;</span><span class="op" id="7750002">}</span><span class="op" id="7750003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750006">{</span><span class="num" id="7750007">0x3f090f02</span><span class="op" id="7750017">,</span>&nbsp;<span class="string" id="7750019">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7750062">}</span><span class="op" id="7750063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750066">{</span><span class="num" id="7750067">0x46d81477</span><span class="op" id="7750077">,</span>&nbsp;<span class="string" id="7750079">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7750138">}</span><span class="op" id="7750139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750142">{</span><span class="num" id="7750143">0x40ee0ee1</span><span class="op" id="7750153">,</span>&nbsp;<span class="string" id="7750155">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7750199">}</span><span class="op" id="7750200">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750203">{</span><span class="num" id="7750204">0x16661315</span><span class="op" id="7750214">,</span>&nbsp;<span class="string" id="7750216">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7750275">}</span><span class="op" id="7750276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750279">{</span><span class="num" id="7750280">0x5b2e1480</span><span class="op" id="7750290">,</span>&nbsp;<span class="string" id="7750292">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7750352">}</span><span class="op" id="7750353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750356">{</span><span class="num" id="7750357">0x8c3c09ea</span><span class="op" id="7750367">,</span>&nbsp;<span class="string" id="7750369">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7750398">}</span><span class="op" id="7750399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750402">{</span><span class="num" id="7750403">0x45ac18fd</span><span class="op" id="7750413">,</span>&nbsp;<span class="string" id="7750415">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7750484">}</span><span class="op" id="7750485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750488">{</span><span class="num" id="7750489">0x53c61462</span><span class="op" id="7750499">,</span>&nbsp;<span class="string" id="7750501">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7750560">}</span><span class="op" id="7750561">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750564">{</span><span class="num" id="7750565">0x7e511e63</span><span class="op" id="7750575">,</span>&nbsp;<span class="string" id="7750577">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7750667">}</span><span class="op" id="7750668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750671">{</span><span class="num" id="7750672">0xe4801a6a</span><span class="op" id="7750682">,</span>&nbsp;<span class="string" id="7750684">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7750761">}</span><span class="op" id="7750762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750765">{</span><span class="num" id="7750766">0x61b507df</span><span class="op" id="7750776">,</span>&nbsp;<span class="string" id="7750778">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7750804">}</span><span class="op" id="7750805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750808">{</span><span class="num" id="7750809">0xb8631171</span><span class="op" id="7750819">,</span>&nbsp;<span class="string" id="7750821">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7750872">}</span><span class="op" id="7750873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750876">{</span><span class="num" id="7750877">0x8b5e1904</span><span class="op" id="7750887">,</span>&nbsp;<span class="string" id="7750889">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7750963">}</span><span class="op" id="7750964">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7750967">{</span><span class="num" id="7750968">0x7cc6102b</span><span class="op" id="7750978">,</span>&nbsp;<span class="string" id="7750980">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7751028">}</span><span class="op" id="7751029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751032">{</span><span class="num" id="7751033">0x700318e7</span><span class="op" id="7751043">,</span>&nbsp;<span class="string" id="7751045">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7751117">}</span><span class="op" id="7751118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751121">{</span><span class="num" id="7751122">0x1e601747</span><span class="op" id="7751132">,</span>&nbsp;<span class="string" id="7751134">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7751204">}</span><span class="op" id="7751205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751208">{</span><span class="num" id="7751209">0xb55b0b09</span><span class="op" id="7751219">,</span>&nbsp;<span class="string" id="7751221">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7751255">}</span><span class="op" id="7751256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751259">{</span><span class="num" id="7751260">0x39111dd0</span><span class="op" id="7751270">,</span>&nbsp;<span class="string" id="7751272">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7751362">}</span><span class="op" id="7751363">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751366">{</span><span class="num" id="7751367">0x91dd304f</span><span class="op" id="7751377">,</span>&nbsp;<span class="string" id="7751379">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7751513">}</span><span class="op" id="7751514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751517">{</span><span class="num" id="7751518">0x2e5d1316</span><span class="op" id="7751528">,</span>&nbsp;<span class="string" id="7751530">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7751588">}</span><span class="op" id="7751589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751592">{</span><span class="num" id="7751593">0xd0201df6</span><span class="op" id="7751603">,</span>&nbsp;<span class="string" id="7751605">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7751688">}</span><span class="op" id="7751689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751692">{</span><span class="num" id="7751693">0x211297c8</span><span class="op" id="7751703">,</span>&nbsp;<span class="ident" id="7751705">strings</span><span class="op" id="7751712">.</span><span class="ident" id="7751713">Repeat</span><span class="op" id="7751719">(</span><span class="string" id="7751720">&#34;\xff&#34;</span><span class="op" id="7751726">,</span>&nbsp;<span class="num" id="7751728">5548</span><span class="op" id="7751732">)</span>&nbsp;<span class="op" id="7751734">+</span>&nbsp;<span class="string" id="7751736">&#34;8&#34;</span><span class="op" id="7751739">}</span><span class="op" id="7751740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751743">{</span><span class="num" id="7751744">0xbaa198c8</span><span class="op" id="7751754">,</span>&nbsp;<span class="ident" id="7751756">strings</span><span class="op" id="7751763">.</span><span class="ident" id="7751764">Repeat</span><span class="op" id="7751770">(</span><span class="string" id="7751771">&#34;\xff&#34;</span><span class="op" id="7751777">,</span>&nbsp;<span class="num" id="7751779">5549</span><span class="op" id="7751783">)</span>&nbsp;<span class="op" id="7751785">+</span>&nbsp;<span class="string" id="7751787">&#34;9&#34;</span><span class="op" id="7751790">}</span><span class="op" id="7751791">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751794">{</span><span class="num" id="7751795">0x553499be</span><span class="op" id="7751805">,</span>&nbsp;<span class="ident" id="7751807">strings</span><span class="op" id="7751814">.</span><span class="ident" id="7751815">Repeat</span><span class="op" id="7751821">(</span><span class="string" id="7751822">&#34;\xff&#34;</span><span class="op" id="7751828">,</span>&nbsp;<span class="num" id="7751830">5550</span><span class="op" id="7751834">)</span>&nbsp;<span class="op" id="7751836">+</span>&nbsp;<span class="string" id="7751838">&#34;0&#34;</span><span class="op" id="7751841">}</span><span class="op" id="7751842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751845">{</span><span class="num" id="7751846">0xf0c19abe</span><span class="op" id="7751856">,</span>&nbsp;<span class="ident" id="7751858">strings</span><span class="op" id="7751865">.</span><span class="ident" id="7751866">Repeat</span><span class="op" id="7751872">(</span><span class="string" id="7751873">&#34;\xff&#34;</span><span class="op" id="7751879">,</span>&nbsp;<span class="num" id="7751881">5551</span><span class="op" id="7751885">)</span>&nbsp;<span class="op" id="7751887">+</span>&nbsp;<span class="string" id="7751889">&#34;1&#34;</span><span class="op" id="7751892">}</span><span class="op" id="7751893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751896">{</span><span class="num" id="7751897">0x8d5c9bbe</span><span class="op" id="7751907">,</span>&nbsp;<span class="ident" id="7751909">strings</span><span class="op" id="7751916">.</span><span class="ident" id="7751917">Repeat</span><span class="op" id="7751923">(</span><span class="string" id="7751924">&#34;\xff&#34;</span><span class="op" id="7751930">,</span>&nbsp;<span class="num" id="7751932">5552</span><span class="op" id="7751936">)</span>&nbsp;<span class="op" id="7751938">+</span>&nbsp;<span class="string" id="7751940">&#34;2&#34;</span><span class="op" id="7751943">}</span><span class="op" id="7751944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751947">{</span><span class="num" id="7751948">0x2af69cbe</span><span class="op" id="7751958">,</span>&nbsp;<span class="ident" id="7751960">strings</span><span class="op" id="7751967">.</span><span class="ident" id="7751968">Repeat</span><span class="op" id="7751974">(</span><span class="string" id="7751975">&#34;\xff&#34;</span><span class="op" id="7751981">,</span>&nbsp;<span class="num" id="7751983">5553</span><span class="op" id="7751987">)</span>&nbsp;<span class="op" id="7751989">+</span>&nbsp;<span class="string" id="7751991">&#34;3&#34;</span><span class="op" id="7751994">}</span><span class="op" id="7751995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7751998">{</span><span class="num" id="7751999">0xc9809dbe</span><span class="op" id="7752009">,</span>&nbsp;<span class="ident" id="7752011">strings</span><span class="op" id="7752018">.</span><span class="ident" id="7752019">Repeat</span><span class="op" id="7752025">(</span><span class="string" id="7752026">&#34;\xff&#34;</span><span class="op" id="7752032">,</span>&nbsp;<span class="num" id="7752034">5554</span><span class="op" id="7752038">)</span>&nbsp;<span class="op" id="7752040">+</span>&nbsp;<span class="string" id="7752042">&#34;4&#34;</span><span class="op" id="7752045">}</span><span class="op" id="7752046">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752049">{</span><span class="num" id="7752050">0x69189ebe</span><span class="op" id="7752060">,</span>&nbsp;<span class="ident" id="7752062">strings</span><span class="op" id="7752069">.</span><span class="ident" id="7752070">Repeat</span><span class="op" id="7752076">(</span><span class="string" id="7752077">&#34;\xff&#34;</span><span class="op" id="7752083">,</span>&nbsp;<span class="num" id="7752085">5555</span><span class="op" id="7752089">)</span>&nbsp;<span class="op" id="7752091">+</span>&nbsp;<span class="string" id="7752093">&#34;5&#34;</span><span class="op" id="7752096">}</span><span class="op" id="7752097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752100">{</span><span class="num" id="7752101">0x86af0001</span><span class="op" id="7752111">,</span>&nbsp;<span class="ident" id="7752113">strings</span><span class="op" id="7752120">.</span><span class="ident" id="7752121">Repeat</span><span class="op" id="7752127">(</span><span class="string" id="7752128">&#34;\x00&#34;</span><span class="op" id="7752134">,</span>&nbsp;<span class="num" id="7752136">1e5</span><span class="op" id="7752139">)</span><span class="op" id="7752140">}</span><span class="op" id="7752141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752144">{</span><span class="num" id="7752145">0x79660b4d</span><span class="op" id="7752155">,</span>&nbsp;<span class="ident" id="7752157">strings</span><span class="op" id="7752164">.</span><span class="ident" id="7752165">Repeat</span><span class="op" id="7752171">(</span><span class="string" id="7752172">&#34;a&#34;</span><span class="op" id="7752175">,</span>&nbsp;<span class="num" id="7752177">1e5</span><span class="op" id="7752180">)</span><span class="op" id="7752181">}</span><span class="op" id="7752182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752185">{</span><span class="num" id="7752186">0x110588ee</span><span class="op" id="7752196">,</span>&nbsp;<span class="ident" id="7752198">strings</span><span class="op" id="7752205">.</span><span class="ident" id="7752206">Repeat</span><span class="op" id="7752212">(</span><span class="string" id="7752213">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7752241">,</span>&nbsp;<span class="num" id="7752243">1e4</span><span class="op" id="7752246">)</span><span class="op" id="7752247">}</span><span class="op" id="7752248">,</span><br>
<span class="lineno"></span><span class="op" id="7752250">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7752253">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7752327">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7752394">func</span>&nbsp;<span class="ident" id="7752399">checksum</span><span class="op" id="7752407">(</span><span class="ident" id="7752408">p</span>&nbsp;<span class="op" id="7752410">[</span><span class="op" id="7752411">]</span><span class="builtintype" id="7752412">byte</span><span class="op" id="7752416">)</span>&nbsp;<span class="builtintype" id="7752418">uint32</span>&nbsp;<span class="op" id="7752425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752428">s1</span><span class="op" id="7752430">,</span>&nbsp;<span class="ident" id="7752432">s2</span>&nbsp;<span class="op" id="7752435">:=</span>&nbsp;<span class="builtintype" id="7752438">uint32</span><span class="op" id="7752444">(</span><span class="num" id="7752445">1</span><span class="op" id="7752446">)</span><span class="op" id="7752447">,</span>&nbsp;<span class="builtintype" id="7752449">uint32</span><span class="op" id="7752455">(</span><span class="num" id="7752456">0</span><span class="op" id="7752457">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752460">for</span>&nbsp;<span class="ident" id="7752464">_</span><span class="op" id="7752465">,</span>&nbsp;<span class="ident" id="7752467">x</span>&nbsp;<span class="op" id="7752469">:=</span>&nbsp;<span class="keyword" id="7752472">range</span>&nbsp;<span class="ident" id="7752478">p</span>&nbsp;<span class="op" id="7752480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752484">s1</span>&nbsp;<span class="op" id="7752487">=</span>&nbsp;<span class="op" id="7752489">(</span><span class="ident" id="7752490">s1</span>&nbsp;<span class="op" id="7752493">+</span>&nbsp;<span class="builtintype" id="7752495">uint32</span><span class="op" id="7752501">(</span><span class="ident" id="7752502">x</span><span class="op" id="7752503">)</span><span class="op" id="7752504">)</span>&nbsp;<span class="op" id="7752506">%</span>&nbsp;<span class="ident" id="7752508">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752514">s2</span>&nbsp;<span class="op" id="7752517">=</span>&nbsp;<span class="op" id="7752519">(</span><span class="ident" id="7752520">s2</span>&nbsp;<span class="op" id="7752523">+</span>&nbsp;<span class="ident" id="7752525">s1</span><span class="op" id="7752527">)</span>&nbsp;<span class="op" id="7752529">%</span>&nbsp;<span class="ident" id="7752531">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752539">return</span>&nbsp;<span class="ident" id="7752546">s2</span><span class="op" id="7752548">&lt;&lt;</span><span class="num" id="7752550">16</span>&nbsp;<span class="op" id="7752553">|</span>&nbsp;<span class="ident" id="7752555">s1</span><br>
<span class="lineno">70</span><span class="op" id="7752558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7752561">func</span>&nbsp;<span class="ident" id="7752566">TestGolden</span><span class="op" id="7752576">(</span><span class="ident" id="7752577">t</span>&nbsp;<span class="op" id="7752579">*</span><span class="ident" id="7752580">testing</span><span class="op" id="7752587">.</span><span class="ident" id="7752588">T</span><span class="op" id="7752589">)</span>&nbsp;<span class="op" id="7752591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752594">for</span>&nbsp;<span class="ident" id="7752598">_</span><span class="op" id="7752599">,</span>&nbsp;<span class="ident" id="7752601">g</span>&nbsp;<span class="op" id="7752603">:=</span>&nbsp;<span class="keyword" id="7752606">range</span>&nbsp;<span class="ident" id="7752612">golden</span>&nbsp;<span class="op" id="7752619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752623">in</span>&nbsp;<span class="op" id="7752626">:=</span>&nbsp;<span class="ident" id="7752629">g</span><span class="op" id="7752630">.</span><span class="ident" id="7752631">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752636">if</span>&nbsp;<span class="builtinfunc" id="7752639">len</span><span class="op" id="7752642">(</span><span class="ident" id="7752643">in</span><span class="op" id="7752645">)</span>&nbsp;<span class="op" id="7752647">&gt;</span>&nbsp;<span class="num" id="7752649">220</span>&nbsp;<span class="op" id="7752653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752658">in</span>&nbsp;<span class="op" id="7752661">=</span>&nbsp;<span class="ident" id="7752663">in</span><span class="op" id="7752665">[</span><span class="op" id="7752666">:</span><span class="num" id="7752667">100</span><span class="op" id="7752670">]</span>&nbsp;<span class="op" id="7752672">+</span>&nbsp;<span class="string" id="7752674">&#34;...&#34;</span>&nbsp;<span class="op" id="7752680">+</span>&nbsp;<span class="ident" id="7752682">in</span><span class="op" id="7752684">[</span><span class="builtinfunc" id="7752685">len</span><span class="op" id="7752688">(</span><span class="ident" id="7752689">in</span><span class="op" id="7752691">)</span><span class="op" id="7752692">-</span><span class="num" id="7752693">100</span><span class="op" id="7752696">:</span><span class="op" id="7752697">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752705">p</span>&nbsp;<span class="op" id="7752707">:=</span>&nbsp;<span class="op" id="7752710">[</span><span class="op" id="7752711">]</span><span class="builtintype" id="7752712">byte</span><span class="op" id="7752716">(</span><span class="ident" id="7752717">g</span><span class="op" id="7752718">.</span><span class="ident" id="7752719">in</span><span class="op" id="7752721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752725">if</span>&nbsp;<span class="ident" id="7752728">got</span>&nbsp;<span class="op" id="7752732">:=</span>&nbsp;<span class="ident" id="7752735">checksum</span><span class="op" id="7752743">(</span><span class="ident" id="7752744">p</span><span class="op" id="7752745">)</span><span class="op" id="7752746">;</span>&nbsp;<span class="ident" id="7752748">got</span>&nbsp;<span class="op" id="7752752">!=</span>&nbsp;<span class="ident" id="7752755">g</span><span class="op" id="7752756">.</span><span class="ident" id="7752757">out</span>&nbsp;<span class="op" id="7752761">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752766">t</span><span class="op" id="7752767">.</span><span class="ident" id="7752768">Errorf</span><span class="op" id="7752774">(</span><span class="string" id="7752775">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7752829">,</span>&nbsp;<span class="ident" id="7752831">in</span><span class="op" id="7752833">,</span>&nbsp;<span class="ident" id="7752835">got</span><span class="op" id="7752838">,</span>&nbsp;<span class="ident" id="7752840">g</span><span class="op" id="7752841">.</span><span class="ident" id="7752842">out</span><span class="op" id="7752845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752850">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7752861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752865">if</span>&nbsp;<span class="ident" id="7752868">got</span>&nbsp;<span class="op" id="7752872">:=</span>&nbsp;<span class="ident" id="7752875">Checksum</span><span class="op" id="7752883">(</span><span class="ident" id="7752884">p</span><span class="op" id="7752885">)</span><span class="op" id="7752886">;</span>&nbsp;<span class="ident" id="7752888">got</span>&nbsp;<span class="op" id="7752892">!=</span>&nbsp;<span class="ident" id="7752895">g</span><span class="op" id="7752896">.</span><span class="ident" id="7752897">out</span>&nbsp;<span class="op" id="7752901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7752906">t</span><span class="op" id="7752907">.</span><span class="ident" id="7752908">Errorf</span><span class="op" id="7752914">(</span><span class="string" id="7752915">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7752972">,</span>&nbsp;<span class="ident" id="7752974">in</span><span class="op" id="7752976">,</span>&nbsp;<span class="ident" id="7752978">got</span><span class="op" id="7752981">,</span>&nbsp;<span class="ident" id="7752983">g</span><span class="op" id="7752984">.</span><span class="ident" id="7752985">out</span><span class="op" id="7752988">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7752993">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7753004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7753007">}</span><br>
<span class="lineno"></span><span class="op" id="7753009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7753012">func</span>&nbsp;<span class="ident" id="7753017">BenchmarkAdler32KB</span><span class="op" id="7753035">(</span><span class="ident" id="7753036">b</span>&nbsp;<span class="op" id="7753038">*</span><span class="ident" id="7753039">testing</span><span class="op" id="7753046">.</span><span class="ident" id="7753047">B</span><span class="op" id="7753048">)</span>&nbsp;<span class="op" id="7753050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753053">b</span><span class="op" id="7753054">.</span><span class="ident" id="7753055">SetBytes</span><span class="op" id="7753063">(</span><span class="num" id="7753064">1024</span><span class="op" id="7753068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753071">data</span>&nbsp;<span class="op" id="7753076">:=</span>&nbsp;<span class="builtinfunc" id="7753079">make</span><span class="op" id="7753083">(</span><span class="op" id="7753084">[</span><span class="op" id="7753085">]</span><span class="builtintype" id="7753086">byte</span><span class="op" id="7753090">,</span>&nbsp;<span class="num" id="7753092">1024</span><span class="op" id="7753096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7753099">for</span>&nbsp;<span class="ident" id="7753103">i</span>&nbsp;<span class="op" id="7753105">:=</span>&nbsp;<span class="keyword" id="7753108">range</span>&nbsp;<span class="ident" id="7753114">data</span>&nbsp;<span class="op" id="7753119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753123">data</span><span class="op" id="7753127">[</span><span class="ident" id="7753128">i</span><span class="op" id="7753129">]</span>&nbsp;<span class="op" id="7753131">=</span>&nbsp;<span class="builtintype" id="7753133">byte</span><span class="op" id="7753137">(</span><span class="ident" id="7753138">i</span><span class="op" id="7753139">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7753142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753145">h</span>&nbsp;<span class="op" id="7753147">:=</span>&nbsp;<span class="ident" id="7753150">New</span><span class="op" id="7753153">(</span><span class="op" id="7753154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753157">in</span>&nbsp;<span class="op" id="7753160">:=</span>&nbsp;<span class="builtinfunc" id="7753163">make</span><span class="op" id="7753167">(</span><span class="op" id="7753168">[</span><span class="op" id="7753169">]</span><span class="builtintype" id="7753170">byte</span><span class="op" id="7753174">,</span>&nbsp;<span class="num" id="7753176">0</span><span class="op" id="7753177">,</span>&nbsp;<span class="ident" id="7753179">h</span><span class="op" id="7753180">.</span><span class="ident" id="7753181">Size</span><span class="op" id="7753185">(</span><span class="op" id="7753186">)</span><span class="op" id="7753187">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753191">b</span><span class="op" id="7753192">.</span><span class="ident" id="7753193">ResetTimer</span><span class="op" id="7753203">(</span><span class="op" id="7753204">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7753207">for</span>&nbsp;<span class="ident" id="7753211">i</span>&nbsp;<span class="op" id="7753213">:=</span>&nbsp;<span class="num" id="7753216">0</span><span class="op" id="7753217">;</span>&nbsp;<span class="ident" id="7753219">i</span>&nbsp;<span class="op" id="7753221">&lt;</span>&nbsp;<span class="ident" id="7753223">b</span><span class="op" id="7753224">.</span><span class="ident" id="7753225">N</span><span class="op" id="7753226">;</span>&nbsp;<span class="ident" id="7753228">i</span><span class="op" id="7753229">++</span>&nbsp;<span class="op" id="7753232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753236">h</span><span class="op" id="7753237">.</span><span class="ident" id="7753238">Reset</span><span class="op" id="7753243">(</span><span class="op" id="7753244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753248">h</span><span class="op" id="7753249">.</span><span class="ident" id="7753250">Write</span><span class="op" id="7753255">(</span><span class="ident" id="7753256">data</span><span class="op" id="7753260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7753264">h</span><span class="op" id="7753265">.</span><span class="ident" id="7753266">Sum</span><span class="op" id="7753269">(</span><span class="ident" id="7753270">in</span><span class="op" id="7753272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7753275">}</span><br>
<span class="lineno">105</span><span class="op" id="7753277">}</span>
</div>
</body>
</html>
