<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2053367">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2053422">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2053476">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2053527">//&nbsp;Package&nbsp;os&nbsp;provides&nbsp;a&nbsp;platform-independent&nbsp;interface&nbsp;to&nbsp;operating&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2053603">//&nbsp;functionality.&nbsp;The&nbsp;design&nbsp;is&nbsp;Unix-like,&nbsp;although&nbsp;the&nbsp;error&nbsp;handling&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2053677">//&nbsp;Go-like;&nbsp;failing&nbsp;calls&nbsp;return&nbsp;values&nbsp;of&nbsp;type&nbsp;error&nbsp;rather&nbsp;than&nbsp;error&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="2053758">//&nbsp;Often,&nbsp;more&nbsp;information&nbsp;is&nbsp;available&nbsp;within&nbsp;the&nbsp;error.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="2053829">//&nbsp;if&nbsp;a&nbsp;call&nbsp;that&nbsp;takes&nbsp;a&nbsp;file&nbsp;name&nbsp;fails,&nbsp;such&nbsp;as&nbsp;Open&nbsp;or&nbsp;Stat,&nbsp;the&nbsp;error</span><br>
<span class="lineno">10</span><span class="comment" id="2053904">//&nbsp;will&nbsp;include&nbsp;the&nbsp;failing&nbsp;file&nbsp;name&nbsp;when&nbsp;printed&nbsp;and&nbsp;will&nbsp;be&nbsp;of&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="2053975">//&nbsp;*PathError,&nbsp;which&nbsp;may&nbsp;be&nbsp;unpacked&nbsp;for&nbsp;more&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="2054034">//</span><br>
<span class="lineno"></span><span class="comment" id="2054037">//&nbsp;The&nbsp;os&nbsp;interface&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;uniform&nbsp;across&nbsp;all&nbsp;operating&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2054113">//&nbsp;Features&nbsp;not&nbsp;generally&nbsp;available&nbsp;appear&nbsp;in&nbsp;the&nbsp;system-specific&nbsp;package&nbsp;syscall.</span><br>
<span class="lineno">15</span><span class="comment" id="2054196">//</span><br>
<span class="lineno"></span><span class="comment" id="2054199">//&nbsp;Here&nbsp;is&nbsp;a&nbsp;simple&nbsp;example,&nbsp;opening&nbsp;a&nbsp;file&nbsp;and&nbsp;reading&nbsp;some&nbsp;of&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="2054267">//</span><br>
<span class="lineno"></span><span class="comment" id="2054270">//&nbsp;&nbsp;&nbsp;&nbspfile,&nbsp;err&nbsp;:=&nbsp;os.Open(&#34;file.go&#34;)&nbsp;//&nbsp;For&nbsp;read&nbsp;access.</span><br>
<span class="lineno"></span><span class="comment" id="2054325">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{</span><br>
<span class="lineno">20</span><span class="comment" id="2054344">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplog.Fatal(err)</span><br>
<span class="lineno"></span><span class="comment" id="2054363">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="2054368">//</span><br>
<span class="lineno"></span><span class="comment" id="2054371">//&nbsp;If&nbsp;the&nbsp;open&nbsp;fails,&nbsp;the&nbsp;error&nbsp;string&nbsp;will&nbsp;be&nbsp;self-explanatory,&nbsp;like</span><br>
<span class="lineno"></span><span class="comment" id="2054441">//</span><br>
<span class="lineno">25</span><span class="comment" id="2054444">//&nbsp;&nbsp;&nbsp;&nbspopen&nbsp;file.go:&nbsp;no&nbsp;such&nbsp;file&nbsp;or&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="2054487">//</span><br>
<span class="lineno"></span><span class="comment" id="2054490">//&nbsp;The&nbsp;file&#39;s&nbsp;data&nbsp;can&nbsp;then&nbsp;be&nbsp;read&nbsp;into&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.&nbsp;Read&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2054558">//&nbsp;Write&nbsp;take&nbsp;their&nbsp;byte&nbsp;counts&nbsp;from&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;argument&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="2054629">//</span><br>
<span class="lineno">30</span><span class="comment" id="2054632">//&nbsp;&nbsp;&nbsp;&nbspdata&nbsp;:=&nbsp;make([]byte,&nbsp;100)</span><br>
<span class="lineno"></span><span class="comment" id="2054661">//&nbsp;&nbsp;&nbsp;&nbspcount,&nbsp;err&nbsp;:=&nbsp;file.Read(data)</span><br>
<span class="lineno"></span><span class="comment" id="2054694">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="2054713">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplog.Fatal(err)</span><br>
<span class="lineno"></span><span class="comment" id="2054732">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno">35</span><span class="comment" id="2054737">//&nbsp;&nbsp;&nbsp;&nbspfmt.Printf(&#34;read&nbsp;%d&nbsp;bytes:&nbsp;%q\n&#34;,&nbsp;count,&nbsp;data[:count])</span><br>
<span class="lineno"></span><span class="comment" id="2054795">//</span><br>
<span class="lineno"></span><span class="keyword" id="2054798">package</span>&nbsp;<span class="ident" id="2054806">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2054810">import</span>&nbsp;<span class="op" id="2054817">(</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2054820">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2054826">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="2054836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2054839">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;presented&nbsp;to&nbsp;Open.</span><br>
<span class="lineno">45</span><span class="keyword" id="2054898">func</span>&nbsp;<span class="op" id="2054903">(</span><span class="ident" id="2054904">f</span>&nbsp;<span class="op" id="2054906">*</span><span class="ident" id="2054907"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2054911">)</span>&nbsp;<span class="ident" id="2054913">Name</span><span class="op" id="2054917">(</span><span class="op" id="2054918">)</span>&nbsp;<span class="builtintype" id="2054920">string</span>&nbsp;<span class="op" id="2054927">{</span>&nbsp;<span class="keyword" id="2054929">return</span>&nbsp;<span class="ident" id="2054936"><a href="/os/file.go.html#2054904">f</a></span><span class="op" id="2054937">.</span><span class="ident" id="2054938">name</span>&nbsp;<span class="op" id="2054943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2054946">//&nbsp;Stdin,&nbsp;Stdout,&nbsp;and&nbsp;Stderr&nbsp;are&nbsp;open&nbsp;Files&nbsp;pointing&nbsp;to&nbsp;the&nbsp;standard&nbsp;input,</span><br>
<span class="lineno"></span><span class="comment" id="2055022">//&nbsp;standard&nbsp;output,&nbsp;and&nbsp;standard&nbsp;error&nbsp;file&nbsp;descriptors.</span><br>
<span class="lineno"></span><span class="keyword" id="2055079">var</span>&nbsp;<span class="op" id="2055083">(</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055086">Stdin</span>&nbsp;&nbsp;<span class="op" id="2055093">=</span>&nbsp;<span class="ident" id="2055095"><a href="/os/file_unix.go.html#2066344">NewFile</a></span><span class="op" id="2055102">(</span><span class="builtintype" id="2055103">uintptr</span><span class="op" id="2055110">(</span><span class="ident" id="2055111"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055118">.</span><span class="ident" id="2055119">Stdin</span><span class="op" id="2055124">)</span><span class="op" id="2055125">,</span>&nbsp;<span class="string" id="2055127">&#34;/dev/stdin&#34;</span><span class="op" id="2055139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055142">Stdout</span>&nbsp;<span class="op" id="2055149">=</span>&nbsp;<span class="ident" id="2055151"><a href="/os/file_unix.go.html#2066344">NewFile</a></span><span class="op" id="2055158">(</span><span class="builtintype" id="2055159">uintptr</span><span class="op" id="2055166">(</span><span class="ident" id="2055167"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055174">.</span><span class="ident" id="2055175">Stdout</span><span class="op" id="2055181">)</span><span class="op" id="2055182">,</span>&nbsp;<span class="string" id="2055184">&#34;/dev/stdout&#34;</span><span class="op" id="2055197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055200">Stderr</span>&nbsp;<span class="op" id="2055207">=</span>&nbsp;<span class="ident" id="2055209"><a href="/os/file_unix.go.html#2066344">NewFile</a></span><span class="op" id="2055216">(</span><span class="builtintype" id="2055217">uintptr</span><span class="op" id="2055224">(</span><span class="ident" id="2055225"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055232">.</span><span class="ident" id="2055233">Stderr</span><span class="op" id="2055239">)</span><span class="op" id="2055240">,</span>&nbsp;<span class="string" id="2055242">&#34;/dev/stderr&#34;</span><span class="op" id="2055255">)</span><br>
<span class="lineno"></span><span class="op" id="2055257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="2055260">//&nbsp;Flags&nbsp;to&nbsp;Open&nbsp;wrapping&nbsp;those&nbsp;of&nbsp;the&nbsp;underlying&nbsp;system.&nbsp;Not&nbsp;all&nbsp;flags</span><br>
<span class="lineno"></span><span class="comment" id="2055332">//&nbsp;may&nbsp;be&nbsp;implemented&nbsp;on&nbsp;a&nbsp;given&nbsp;system.</span><br>
<span class="lineno"></span><span class="keyword" id="2055373">const</span>&nbsp;<span class="op" id="2055379">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055382">O_RDONLY</span>&nbsp;<span class="builtintype" id="2055391">int</span>&nbsp;<span class="op" id="2055395">=</span>&nbsp;<span class="ident" id="2055397"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055404">.</span><span class="ident" id="2055405">O_RDONLY</span>&nbsp;<span class="comment" id="2055414">//&nbsp;open&nbsp;the&nbsp;file&nbsp;read-only.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055443">O_WRONLY</span>&nbsp;<span class="builtintype" id="2055452">int</span>&nbsp;<span class="op" id="2055456">=</span>&nbsp;<span class="ident" id="2055458"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055465">.</span><span class="ident" id="2055466">O_WRONLY</span>&nbsp;<span class="comment" id="2055475">//&nbsp;open&nbsp;the&nbsp;file&nbsp;write-only.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055505">O_RDWR</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2055514">int</span>&nbsp;<span class="op" id="2055518">=</span>&nbsp;<span class="ident" id="2055520"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055527">.</span><span class="ident" id="2055528">O_RDWR</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2055537">//&nbsp;open&nbsp;the&nbsp;file&nbsp;read-write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055567">O_APPEND</span>&nbsp;<span class="builtintype" id="2055576">int</span>&nbsp;<span class="op" id="2055580">=</span>&nbsp;<span class="ident" id="2055582"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055589">.</span><span class="ident" id="2055590">O_APPEND</span>&nbsp;<span class="comment" id="2055599">//&nbsp;append&nbsp;data&nbsp;to&nbsp;the&nbsp;file&nbsp;when&nbsp;writing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055641">O_CREATE</span>&nbsp;<span class="builtintype" id="2055650">int</span>&nbsp;<span class="op" id="2055654">=</span>&nbsp;<span class="ident" id="2055656"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055663">.</span><span class="ident" id="2055664">O_CREAT</span>&nbsp;&nbsp;<span class="comment" id="2055673">//&nbsp;create&nbsp;a&nbsp;new&nbsp;file&nbsp;if&nbsp;none&nbsp;exists.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055711">O_EXCL</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2055720">int</span>&nbsp;<span class="op" id="2055724">=</span>&nbsp;<span class="ident" id="2055726"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055733">.</span><span class="ident" id="2055734">O_EXCL</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2055743">//&nbsp;used&nbsp;with&nbsp;O_CREATE,&nbsp;file&nbsp;must&nbsp;not&nbsp;exist</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055787">O_SYNC</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2055796">int</span>&nbsp;<span class="op" id="2055800">=</span>&nbsp;<span class="ident" id="2055802"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055809">.</span><span class="ident" id="2055810">O_SYNC</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2055819">//&nbsp;open&nbsp;for&nbsp;synchronous&nbsp;I/O.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055849">O_TRUNC</span>&nbsp;&nbsp;<span class="builtintype" id="2055858">int</span>&nbsp;<span class="op" id="2055862">=</span>&nbsp;<span class="ident" id="2055864"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2055871">.</span><span class="ident" id="2055872">O_TRUNC</span>&nbsp;&nbsp;<span class="comment" id="2055881">//&nbsp;if&nbsp;possible,&nbsp;truncate&nbsp;file&nbsp;when&nbsp;opened.</span><br>
<span class="lineno"></span><span class="op" id="2055924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2055927">//&nbsp;Seek&nbsp;whence&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="2055950">const</span>&nbsp;<span class="op" id="2055956">(</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055959">SEEK_SET</span>&nbsp;<span class="builtintype" id="2055968">int</span>&nbsp;<span class="op" id="2055972">=</span>&nbsp;<span class="num" id="2055974">0</span>&nbsp;<span class="comment" id="2055976">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056020">SEEK_CUR</span>&nbsp;<span class="builtintype" id="2056029">int</span>&nbsp;<span class="op" id="2056033">=</span>&nbsp;<span class="num" id="2056035">1</span>&nbsp;<span class="comment" id="2056037">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056077">SEEK_END</span>&nbsp;<span class="builtintype" id="2056086">int</span>&nbsp;<span class="op" id="2056090">=</span>&nbsp;<span class="num" id="2056092">2</span>&nbsp;<span class="comment" id="2056094">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;end</span><br>
<span class="lineno"></span><span class="op" id="2056122">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2056125">//&nbsp;LinkError&nbsp;records&nbsp;an&nbsp;error&nbsp;during&nbsp;a&nbsp;link&nbsp;or&nbsp;symlink&nbsp;or&nbsp;rename</span><br>
<span class="lineno"></span><span class="comment" id="2056190">//&nbsp;system&nbsp;call&nbsp;and&nbsp;the&nbsp;paths&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="2056235">type</span>&nbsp;<span class="ident" id="2056240">LinkError</span>&nbsp;<span class="keyword" id="2056250">struct</span>&nbsp;<span class="op" id="2056257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056260">Op</span>&nbsp;&nbsp;<span class="builtintype" id="2056264">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056272">Old</span>&nbsp;<span class="builtintype" id="2056276">string</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056284">New</span>&nbsp;<span class="builtintype" id="2056288">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056296">Err</span>&nbsp;<span class="builtintype" id="2056300">error</span><br>
<span class="lineno"></span><span class="op" id="2056306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2056309">func</span>&nbsp;<span class="op" id="2056314">(</span><span class="ident" id="2056315">e</span>&nbsp;<span class="op" id="2056317">*</span><span class="ident" id="2056318"><a href="/os/file.go.html#2056240">LinkError</a></span><span class="op" id="2056327">)</span>&nbsp;<span class="ident" id="2056329">Error</span><span class="op" id="2056334">(</span><span class="op" id="2056335">)</span>&nbsp;<span class="builtintype" id="2056337">string</span>&nbsp;<span class="op" id="2056344">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056347">return</span>&nbsp;<span class="ident" id="2056354"><a href="/os/file.go.html#2056315">e</a></span><span class="op" id="2056355">.</span><span class="ident" id="2056356">Op</span>&nbsp;<span class="op" id="2056359">+</span>&nbsp;<span class="string" id="2056361">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2056365">+</span>&nbsp;<span class="ident" id="2056367"><a href="/os/file.go.html#2056315">e</a></span><span class="op" id="2056368">.</span><span class="ident" id="2056369">Old</span>&nbsp;<span class="op" id="2056373">+</span>&nbsp;<span class="string" id="2056375">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2056379">+</span>&nbsp;<span class="ident" id="2056381"><a href="/os/file.go.html#2056315">e</a></span><span class="op" id="2056382">.</span><span class="ident" id="2056383">New</span>&nbsp;<span class="op" id="2056387">+</span>&nbsp;<span class="string" id="2056389">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2056394">+</span>&nbsp;<span class="ident" id="2056396"><a href="/os/file.go.html#2056315">e</a></span><span class="op" id="2056397">.</span><span class="ident" id="2056398">Err</span><span class="op" id="2056401">.</span><span class="ident" id="2056402">Error</span><span class="op" id="2056407">(</span><span class="op" id="2056408">)</span><br>
<span class="lineno"></span><span class="op" id="2056410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2056413">//&nbsp;Read&nbsp;reads&nbsp;up&nbsp;to&nbsp;len(b)&nbsp;bytes&nbsp;from&nbsp;the&nbsp;File.</span><br>
<span class="lineno"></span><span class="comment" id="2056461">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">90</span><span class="comment" id="2056522">//&nbsp;EOF&nbsp;is&nbsp;signaled&nbsp;by&nbsp;a&nbsp;zero&nbsp;count&nbsp;with&nbsp;err&nbsp;set&nbsp;to&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2056581">func</span>&nbsp;<span class="op" id="2056586">(</span><span class="ident" id="2056587">f</span>&nbsp;<span class="op" id="2056589">*</span><span class="ident" id="2056590"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2056594">)</span>&nbsp;<span class="ident" id="2056596">Read</span><span class="op" id="2056600">(</span><span class="ident" id="2056601">b</span>&nbsp;<span class="op" id="2056603">[</span><span class="op" id="2056604">]</span><span class="builtintype" id="2056605">byte</span><span class="op" id="2056609">)</span>&nbsp;<span class="op" id="2056611">(</span><span class="ident" id="2056612">n</span>&nbsp;<span class="builtintype" id="2056614">int</span><span class="op" id="2056617">,</span>&nbsp;<span class="ident" id="2056619">err</span>&nbsp;<span class="builtintype" id="2056623">error</span><span class="op" id="2056628">)</span>&nbsp;<span class="op" id="2056630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056633">if</span>&nbsp;<span class="ident" id="2056636"><a href="/os/file.go.html#2056587">f</a></span>&nbsp;<span class="op" id="2056638">==</span>&nbsp;<span class="ident" id="2056641">nil</span>&nbsp;<span class="op" id="2056645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056649">return</span>&nbsp;<span class="num" id="2056656">0</span><span class="op" id="2056657">,</span>&nbsp;<span class="ident" id="2056659"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056671">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056674"><a href="/os/file.go.html#2056612">n</a></span><span class="op" id="2056675">,</span>&nbsp;<span class="ident" id="2056677">e</span>&nbsp;<span class="op" id="2056679">:=</span>&nbsp;<span class="ident" id="2056682"><a href="/os/file.go.html#2056587">f</a></span><span class="op" id="2056683">.</span><span class="ident" id="2056684">read</span><span class="op" id="2056688">(</span><span class="ident" id="2056689"><a href="/os/file.go.html#2056601">b</a></span><span class="op" id="2056690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056693">if</span>&nbsp;<span class="ident" id="2056696"><a href="/os/file.go.html#2056612">n</a></span>&nbsp;<span class="op" id="2056698">&lt;</span>&nbsp;<span class="num" id="2056700">0</span>&nbsp;<span class="op" id="2056702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056706"><a href="/os/file.go.html#2056612">n</a></span>&nbsp;<span class="op" id="2056708">=</span>&nbsp;<span class="num" id="2056710">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056716">if</span>&nbsp;<span class="ident" id="2056719"><a href="/os/file.go.html#2056612">n</a></span>&nbsp;<span class="op" id="2056721">==</span>&nbsp;<span class="num" id="2056724">0</span>&nbsp;<span class="op" id="2056726">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2056729">len</span><span class="op" id="2056732">(</span><span class="ident" id="2056733"><a href="/os/file.go.html#2056601">b</a></span><span class="op" id="2056734">)</span>&nbsp;<span class="op" id="2056736">&gt;</span>&nbsp;<span class="num" id="2056738">0</span>&nbsp;<span class="op" id="2056740">&amp;&amp;</span>&nbsp;<span class="ident" id="2056743"><a href="/os/file.go.html#2056677">e</a></span>&nbsp;<span class="op" id="2056745">==</span>&nbsp;<span class="ident" id="2056748">nil</span>&nbsp;<span class="op" id="2056752">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056756">return</span>&nbsp;<span class="num" id="2056763">0</span><span class="op" id="2056764">,</span>&nbsp;<span class="ident" id="2056766"><a href="/os/file.go.html#2054820">io</a></span><span class="op" id="2056768">.</span><span class="ident" id="2056769">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056777">if</span>&nbsp;<span class="ident" id="2056780"><a href="/os/file.go.html#2056677">e</a></span>&nbsp;<span class="op" id="2056782">!=</span>&nbsp;<span class="ident" id="2056785">nil</span>&nbsp;<span class="op" id="2056789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056793"><a href="/os/file.go.html#2056619">err</a></span>&nbsp;<span class="op" id="2056797">=</span>&nbsp;<span class="op" id="2056799">&amp;</span><span class="ident" id="2056800"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2056809">{</span><span class="string" id="2056810">&#34;read&#34;</span><span class="op" id="2056816">,</span>&nbsp;<span class="ident" id="2056818"><a href="/os/file.go.html#2056587">f</a></span><span class="op" id="2056819">.</span><span class="ident" id="2056820">name</span><span class="op" id="2056824">,</span>&nbsp;<span class="ident" id="2056826"><a href="/os/file.go.html#2056677">e</a></span><span class="op" id="2056827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056830">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056833">return</span>&nbsp;<span class="ident" id="2056840"><a href="/os/file.go.html#2056612">n</a></span><span class="op" id="2056841">,</span>&nbsp;<span class="ident" id="2056843"><a href="/os/file.go.html#2056619">err</a></span><br>
<span class="lineno"></span><span class="op" id="2056847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2056850">//&nbsp;ReadAt&nbsp;reads&nbsp;len(b)&nbsp;bytes&nbsp;from&nbsp;the&nbsp;File&nbsp;starting&nbsp;at&nbsp;byte&nbsp;offset&nbsp;off.</span><br>
<span class="lineno"></span><span class="comment" id="2056922">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read&nbsp;and&nbsp;the&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">110</span><span class="comment" id="2056984">//&nbsp;ReadAt&nbsp;always&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;&lt;&nbsp;len(b).</span><br>
<span class="lineno"></span><span class="comment" id="2057042">//&nbsp;At&nbsp;end&nbsp;of&nbsp;file,&nbsp;that&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2057083">func</span>&nbsp;<span class="op" id="2057088">(</span><span class="ident" id="2057089">f</span>&nbsp;<span class="op" id="2057091">*</span><span class="ident" id="2057092"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2057096">)</span>&nbsp;<span class="ident" id="2057098">ReadAt</span><span class="op" id="2057104">(</span><span class="ident" id="2057105">b</span>&nbsp;<span class="op" id="2057107">[</span><span class="op" id="2057108">]</span><span class="builtintype" id="2057109">byte</span><span class="op" id="2057113">,</span>&nbsp;<span class="ident" id="2057115">off</span>&nbsp;<span class="ident" id="2057119">int64</span><span class="op" id="2057124">)</span>&nbsp;<span class="op" id="2057126">(</span><span class="ident" id="2057127">n</span>&nbsp;<span class="builtintype" id="2057129">int</span><span class="op" id="2057132">,</span>&nbsp;<span class="ident" id="2057134">err</span>&nbsp;<span class="builtintype" id="2057138">error</span><span class="op" id="2057143">)</span>&nbsp;<span class="op" id="2057145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057148">if</span>&nbsp;<span class="ident" id="2057151"><a href="/os/file.go.html#2057089">f</a></span>&nbsp;<span class="op" id="2057153">==</span>&nbsp;<span class="ident" id="2057156">nil</span>&nbsp;<span class="op" id="2057160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057164">return</span>&nbsp;<span class="num" id="2057171">0</span><span class="op" id="2057172">,</span>&nbsp;<span class="ident" id="2057174"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057189">for</span>&nbsp;<span class="builtinfunc" id="2057193">len</span><span class="op" id="2057196">(</span><span class="ident" id="2057197"><a href="/os/file.go.html#2057105">b</a></span><span class="op" id="2057198">)</span>&nbsp;<span class="op" id="2057200">&gt;</span>&nbsp;<span class="num" id="2057202">0</span>&nbsp;<span class="op" id="2057204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057208">m</span><span class="op" id="2057209">,</span>&nbsp;<span class="ident" id="2057211">e</span>&nbsp;<span class="op" id="2057213">:=</span>&nbsp;<span class="ident" id="2057216"><a href="/os/file.go.html#2057089">f</a></span><span class="op" id="2057217">.</span><span class="ident" id="2057218">pread</span><span class="op" id="2057223">(</span><span class="ident" id="2057224"><a href="/os/file.go.html#2057105">b</a></span><span class="op" id="2057225">,</span>&nbsp;<span class="ident" id="2057227"><a href="/os/file.go.html#2057115">off</a></span><span class="op" id="2057230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057234">if</span>&nbsp;<span class="ident" id="2057237"><a href="/os/file.go.html#2057208">m</a></span>&nbsp;<span class="op" id="2057239">==</span>&nbsp;<span class="num" id="2057242">0</span>&nbsp;<span class="op" id="2057244">&amp;&amp;</span>&nbsp;<span class="ident" id="2057247"><a href="/os/file.go.html#2057211">e</a></span>&nbsp;<span class="op" id="2057249">==</span>&nbsp;<span class="ident" id="2057252">nil</span>&nbsp;<span class="op" id="2057256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057261">return</span>&nbsp;<span class="ident" id="2057268"><a href="/os/file.go.html#2057127">n</a></span><span class="op" id="2057269">,</span>&nbsp;<span class="ident" id="2057271"><a href="/os/file.go.html#2054820">io</a></span><span class="op" id="2057273">.</span><span class="ident" id="2057274">EOF</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057284">if</span>&nbsp;<span class="ident" id="2057287"><a href="/os/file.go.html#2057211">e</a></span>&nbsp;<span class="op" id="2057289">!=</span>&nbsp;<span class="ident" id="2057292">nil</span>&nbsp;<span class="op" id="2057296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057301"><a href="/os/file.go.html#2057134">err</a></span>&nbsp;<span class="op" id="2057305">=</span>&nbsp;<span class="op" id="2057307">&amp;</span><span class="ident" id="2057308"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2057317">{</span><span class="string" id="2057318">&#34;read&#34;</span><span class="op" id="2057324">,</span>&nbsp;<span class="ident" id="2057326"><a href="/os/file.go.html#2057089">f</a></span><span class="op" id="2057327">.</span><span class="ident" id="2057328">name</span><span class="op" id="2057332">,</span>&nbsp;<span class="ident" id="2057334"><a href="/os/file.go.html#2057211">e</a></span><span class="op" id="2057335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057340">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057348">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057352"><a href="/os/file.go.html#2057127">n</a></span>&nbsp;<span class="op" id="2057354">+=</span>&nbsp;<span class="ident" id="2057357"><a href="/os/file.go.html#2057208">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057361"><a href="/os/file.go.html#2057105">b</a></span>&nbsp;<span class="op" id="2057363">=</span>&nbsp;<span class="ident" id="2057365"><a href="/os/file.go.html#2057105">b</a></span><span class="op" id="2057366">[</span><span class="ident" id="2057367"><a href="/os/file.go.html#2057208">m</a></span><span class="op" id="2057368">:</span><span class="op" id="2057369">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057373"><a href="/os/file.go.html#2057115">off</a></span>&nbsp;<span class="op" id="2057377">+=</span>&nbsp;<span class="ident" id="2057380">int64</span><span class="op" id="2057385">(</span><span class="ident" id="2057386"><a href="/os/file.go.html#2057208">m</a></span><span class="op" id="2057387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057393">return</span><br>
<span class="lineno">130</span><span class="op" id="2057400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2057403">//&nbsp;Write&nbsp;writes&nbsp;len(b)&nbsp;bytes&nbsp;to&nbsp;the&nbsp;File.</span><br>
<span class="lineno"></span><span class="comment" id="2057445">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2057509">//&nbsp;Write&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;!=&nbsp;len(b).</span><br>
<span class="lineno">135</span><span class="keyword" id="2057560">func</span>&nbsp;<span class="op" id="2057565">(</span><span class="ident" id="2057566">f</span>&nbsp;<span class="op" id="2057568">*</span><span class="ident" id="2057569"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2057573">)</span>&nbsp;<span class="ident" id="2057575">Write</span><span class="op" id="2057580">(</span><span class="ident" id="2057581">b</span>&nbsp;<span class="op" id="2057583">[</span><span class="op" id="2057584">]</span><span class="builtintype" id="2057585">byte</span><span class="op" id="2057589">)</span>&nbsp;<span class="op" id="2057591">(</span><span class="ident" id="2057592">n</span>&nbsp;<span class="builtintype" id="2057594">int</span><span class="op" id="2057597">,</span>&nbsp;<span class="ident" id="2057599">err</span>&nbsp;<span class="builtintype" id="2057603">error</span><span class="op" id="2057608">)</span>&nbsp;<span class="op" id="2057610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057613">if</span>&nbsp;<span class="ident" id="2057616"><a href="/os/file.go.html#2057566">f</a></span>&nbsp;<span class="op" id="2057618">==</span>&nbsp;<span class="ident" id="2057621">nil</span>&nbsp;<span class="op" id="2057625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057629">return</span>&nbsp;<span class="num" id="2057636">0</span><span class="op" id="2057637">,</span>&nbsp;<span class="ident" id="2057639"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057654"><a href="/os/file.go.html#2057592">n</a></span><span class="op" id="2057655">,</span>&nbsp;<span class="ident" id="2057657">e</span>&nbsp;<span class="op" id="2057659">:=</span>&nbsp;<span class="ident" id="2057662"><a href="/os/file.go.html#2057566">f</a></span><span class="op" id="2057663">.</span><span class="ident" id="2057664">write</span><span class="op" id="2057669">(</span><span class="ident" id="2057670"><a href="/os/file.go.html#2057581">b</a></span><span class="op" id="2057671">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057674">if</span>&nbsp;<span class="ident" id="2057677"><a href="/os/file.go.html#2057592">n</a></span>&nbsp;<span class="op" id="2057679">&lt;</span>&nbsp;<span class="num" id="2057681">0</span>&nbsp;<span class="op" id="2057683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057687"><a href="/os/file.go.html#2057592">n</a></span>&nbsp;<span class="op" id="2057689">=</span>&nbsp;<span class="num" id="2057691">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057697">if</span>&nbsp;<span class="ident" id="2057700"><a href="/os/file.go.html#2057592">n</a></span>&nbsp;<span class="op" id="2057702">!=</span>&nbsp;<span class="builtinfunc" id="2057705">len</span><span class="op" id="2057708">(</span><span class="ident" id="2057709"><a href="/os/file.go.html#2057581">b</a></span><span class="op" id="2057710">)</span>&nbsp;<span class="op" id="2057712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057716"><a href="/os/file.go.html#2057599">err</a></span>&nbsp;<span class="op" id="2057720">=</span>&nbsp;<span class="ident" id="2057722"><a href="/os/file.go.html#2054820">io</a></span><span class="op" id="2057724">.</span><span class="ident" id="2057725">ErrShortWrite</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057744"><a href="/os/file_unix.go.html#2066770">epipecheck</a></span><span class="op" id="2057754">(</span><span class="ident" id="2057755"><a href="/os/file.go.html#2057566">f</a></span><span class="op" id="2057756">,</span>&nbsp;<span class="ident" id="2057758"><a href="/os/file.go.html#2057657">e</a></span><span class="op" id="2057759">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057763">if</span>&nbsp;<span class="ident" id="2057766"><a href="/os/file.go.html#2057657">e</a></span>&nbsp;<span class="op" id="2057768">!=</span>&nbsp;<span class="ident" id="2057771">nil</span>&nbsp;<span class="op" id="2057775">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057779"><a href="/os/file.go.html#2057599">err</a></span>&nbsp;<span class="op" id="2057783">=</span>&nbsp;<span class="op" id="2057785">&amp;</span><span class="ident" id="2057786"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2057795">{</span><span class="string" id="2057796">&#34;write&#34;</span><span class="op" id="2057803">,</span>&nbsp;<span class="ident" id="2057805"><a href="/os/file.go.html#2057566">f</a></span><span class="op" id="2057806">.</span><span class="ident" id="2057807">name</span><span class="op" id="2057811">,</span>&nbsp;<span class="ident" id="2057813"><a href="/os/file.go.html#2057657">e</a></span><span class="op" id="2057814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057820">return</span>&nbsp;<span class="ident" id="2057827"><a href="/os/file.go.html#2057592">n</a></span><span class="op" id="2057828">,</span>&nbsp;<span class="ident" id="2057830"><a href="/os/file.go.html#2057599">err</a></span><br>
<span class="lineno"></span><span class="op" id="2057834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="2057837">//&nbsp;WriteAt&nbsp;writes&nbsp;len(b)&nbsp;bytes&nbsp;to&nbsp;the&nbsp;File&nbsp;starting&nbsp;at&nbsp;byte&nbsp;offset&nbsp;off.</span><br>
<span class="lineno"></span><span class="comment" id="2057909">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2057973">//&nbsp;WriteAt&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;!=&nbsp;len(b).</span><br>
<span class="lineno"></span><span class="keyword" id="2058026">func</span>&nbsp;<span class="op" id="2058031">(</span><span class="ident" id="2058032">f</span>&nbsp;<span class="op" id="2058034">*</span><span class="ident" id="2058035"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2058039">)</span>&nbsp;<span class="ident" id="2058041">WriteAt</span><span class="op" id="2058048">(</span><span class="ident" id="2058049">b</span>&nbsp;<span class="op" id="2058051">[</span><span class="op" id="2058052">]</span><span class="builtintype" id="2058053">byte</span><span class="op" id="2058057">,</span>&nbsp;<span class="ident" id="2058059">off</span>&nbsp;<span class="ident" id="2058063">int64</span><span class="op" id="2058068">)</span>&nbsp;<span class="op" id="2058070">(</span><span class="ident" id="2058071">n</span>&nbsp;<span class="builtintype" id="2058073">int</span><span class="op" id="2058076">,</span>&nbsp;<span class="ident" id="2058078">err</span>&nbsp;<span class="builtintype" id="2058082">error</span><span class="op" id="2058087">)</span>&nbsp;<span class="op" id="2058089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058092">if</span>&nbsp;<span class="ident" id="2058095"><a href="/os/file.go.html#2058032">f</a></span>&nbsp;<span class="op" id="2058097">==</span>&nbsp;<span class="ident" id="2058100">nil</span>&nbsp;<span class="op" id="2058104">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058108">return</span>&nbsp;<span class="num" id="2058115">0</span><span class="op" id="2058116">,</span>&nbsp;<span class="ident" id="2058118"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058133">for</span>&nbsp;<span class="builtinfunc" id="2058137">len</span><span class="op" id="2058140">(</span><span class="ident" id="2058141"><a href="/os/file.go.html#2058049">b</a></span><span class="op" id="2058142">)</span>&nbsp;<span class="op" id="2058144">&gt;</span>&nbsp;<span class="num" id="2058146">0</span>&nbsp;<span class="op" id="2058148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058152">m</span><span class="op" id="2058153">,</span>&nbsp;<span class="ident" id="2058155">e</span>&nbsp;<span class="op" id="2058157">:=</span>&nbsp;<span class="ident" id="2058160"><a href="/os/file.go.html#2058032">f</a></span><span class="op" id="2058161">.</span><span class="ident" id="2058162">pwrite</span><span class="op" id="2058168">(</span><span class="ident" id="2058169"><a href="/os/file.go.html#2058049">b</a></span><span class="op" id="2058170">,</span>&nbsp;<span class="ident" id="2058172"><a href="/os/file.go.html#2058059">off</a></span><span class="op" id="2058175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058179">if</span>&nbsp;<span class="ident" id="2058182"><a href="/os/file.go.html#2058155">e</a></span>&nbsp;<span class="op" id="2058184">!=</span>&nbsp;<span class="ident" id="2058187">nil</span>&nbsp;<span class="op" id="2058191">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058196"><a href="/os/file.go.html#2058078">err</a></span>&nbsp;<span class="op" id="2058200">=</span>&nbsp;<span class="op" id="2058202">&amp;</span><span class="ident" id="2058203"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2058212">{</span><span class="string" id="2058213">&#34;write&#34;</span><span class="op" id="2058220">,</span>&nbsp;<span class="ident" id="2058222"><a href="/os/file.go.html#2058032">f</a></span><span class="op" id="2058223">.</span><span class="ident" id="2058224">name</span><span class="op" id="2058228">,</span>&nbsp;<span class="ident" id="2058230"><a href="/os/file.go.html#2058155">e</a></span><span class="op" id="2058231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058236">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058248"><a href="/os/file.go.html#2058071">n</a></span>&nbsp;<span class="op" id="2058250">+=</span>&nbsp;<span class="ident" id="2058253"><a href="/os/file.go.html#2058152">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058257"><a href="/os/file.go.html#2058049">b</a></span>&nbsp;<span class="op" id="2058259">=</span>&nbsp;<span class="ident" id="2058261"><a href="/os/file.go.html#2058049">b</a></span><span class="op" id="2058262">[</span><span class="ident" id="2058263"><a href="/os/file.go.html#2058152">m</a></span><span class="op" id="2058264">:</span><span class="op" id="2058265">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058269"><a href="/os/file.go.html#2058059">off</a></span>&nbsp;<span class="op" id="2058273">+=</span>&nbsp;<span class="ident" id="2058276">int64</span><span class="op" id="2058281">(</span><span class="ident" id="2058282"><a href="/os/file.go.html#2058152">m</a></span><span class="op" id="2058283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058289">return</span><br>
<span class="lineno"></span><span class="op" id="2058296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="2058299">//&nbsp;Seek&nbsp;sets&nbsp;the&nbsp;offset&nbsp;for&nbsp;the&nbsp;next&nbsp;Read&nbsp;or&nbsp;Write&nbsp;on&nbsp;file&nbsp;to&nbsp;offset,&nbsp;interpreted</span><br>
<span class="lineno"></span><span class="comment" id="2058381">//&nbsp;according&nbsp;to&nbsp;whence:&nbsp;0&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;file,&nbsp;1&nbsp;means</span><br>
<span class="lineno"></span><span class="comment" id="2058457">//&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset,&nbsp;and&nbsp;2&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span><span class="comment" id="2058525">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;new&nbsp;offset&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="2058576">func</span>&nbsp;<span class="op" id="2058581">(</span><span class="ident" id="2058582">f</span>&nbsp;<span class="op" id="2058584">*</span><span class="ident" id="2058585"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2058589">)</span>&nbsp;<span class="ident" id="2058591">Seek</span><span class="op" id="2058595">(</span><span class="ident" id="2058596">offset</span>&nbsp;<span class="ident" id="2058603">int64</span><span class="op" id="2058608">,</span>&nbsp;<span class="ident" id="2058610">whence</span>&nbsp;<span class="builtintype" id="2058617">int</span><span class="op" id="2058620">)</span>&nbsp;<span class="op" id="2058622">(</span><span class="ident" id="2058623">ret</span>&nbsp;<span class="ident" id="2058627">int64</span><span class="op" id="2058632">,</span>&nbsp;<span class="ident" id="2058634">err</span>&nbsp;<span class="builtintype" id="2058638">error</span><span class="op" id="2058643">)</span>&nbsp;<span class="op" id="2058645">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058648">if</span>&nbsp;<span class="ident" id="2058651"><a href="/os/file.go.html#2058582">f</a></span>&nbsp;<span class="op" id="2058653">==</span>&nbsp;<span class="ident" id="2058656">nil</span>&nbsp;<span class="op" id="2058660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058664">return</span>&nbsp;<span class="num" id="2058671">0</span><span class="op" id="2058672">,</span>&nbsp;<span class="ident" id="2058674"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058689">r</span><span class="op" id="2058690">,</span>&nbsp;<span class="ident" id="2058692">e</span>&nbsp;<span class="op" id="2058694">:=</span>&nbsp;<span class="ident" id="2058697"><a href="/os/file.go.html#2058582">f</a></span><span class="op" id="2058698">.</span><span class="ident" id="2058699">seek</span><span class="op" id="2058703">(</span><span class="ident" id="2058704"><a href="/os/file.go.html#2058596">offset</a></span><span class="op" id="2058710">,</span>&nbsp;<span class="ident" id="2058712"><a href="/os/file.go.html#2058610">whence</a></span><span class="op" id="2058718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058721">if</span>&nbsp;<span class="ident" id="2058724"><a href="/os/file.go.html#2058692">e</a></span>&nbsp;<span class="op" id="2058726">==</span>&nbsp;<span class="ident" id="2058729">nil</span>&nbsp;<span class="op" id="2058733">&amp;&amp;</span>&nbsp;<span class="ident" id="2058736"><a href="/os/file.go.html#2058582">f</a></span><span class="op" id="2058737">.</span><span class="ident" id="2058738">dirinfo</span>&nbsp;<span class="op" id="2058746">!=</span>&nbsp;<span class="ident" id="2058749">nil</span>&nbsp;<span class="op" id="2058753">&amp;&amp;</span>&nbsp;<span class="ident" id="2058756"><a href="/os/file.go.html#2058689">r</a></span>&nbsp;<span class="op" id="2058758">!=</span>&nbsp;<span class="num" id="2058761">0</span>&nbsp;<span class="op" id="2058763">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058767"><a href="/os/file.go.html#2058692">e</a></span>&nbsp;<span class="op" id="2058769">=</span>&nbsp;<span class="ident" id="2058771"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2058778">.</span><span class="ident" id="2058779">EISDIR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058790">if</span>&nbsp;<span class="ident" id="2058793"><a href="/os/file.go.html#2058692">e</a></span>&nbsp;<span class="op" id="2058795">!=</span>&nbsp;<span class="ident" id="2058798">nil</span>&nbsp;<span class="op" id="2058802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058806">return</span>&nbsp;<span class="num" id="2058813">0</span><span class="op" id="2058814">,</span>&nbsp;<span class="op" id="2058816">&amp;</span><span class="ident" id="2058817"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2058826">{</span><span class="string" id="2058827">&#34;seek&#34;</span><span class="op" id="2058833">,</span>&nbsp;<span class="ident" id="2058835"><a href="/os/file.go.html#2058582">f</a></span><span class="op" id="2058836">.</span><span class="ident" id="2058837">name</span><span class="op" id="2058841">,</span>&nbsp;<span class="ident" id="2058843"><a href="/os/file.go.html#2058692">e</a></span><span class="op" id="2058844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058847">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058850">return</span>&nbsp;<span class="ident" id="2058857"><a href="/os/file.go.html#2058689">r</a></span><span class="op" id="2058858">,</span>&nbsp;<span class="ident" id="2058860">nil</span><br>
<span class="lineno"></span><span class="op" id="2058864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2058867">//&nbsp;WriteString&nbsp;is&nbsp;like&nbsp;Write,&nbsp;but&nbsp;writes&nbsp;the&nbsp;contents&nbsp;of&nbsp;string&nbsp;s&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="2058945">//&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno">195</span><span class="keyword" id="2058966">func</span>&nbsp;<span class="op" id="2058971">(</span><span class="ident" id="2058972">f</span>&nbsp;<span class="op" id="2058974">*</span><span class="ident" id="2058975"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2058979">)</span>&nbsp;<span class="ident" id="2058981">WriteString</span><span class="op" id="2058992">(</span><span class="ident" id="2058993">s</span>&nbsp;<span class="builtintype" id="2058995">string</span><span class="op" id="2059001">)</span>&nbsp;<span class="op" id="2059003">(</span><span class="ident" id="2059004">ret</span>&nbsp;<span class="builtintype" id="2059008">int</span><span class="op" id="2059011">,</span>&nbsp;<span class="ident" id="2059013">err</span>&nbsp;<span class="builtintype" id="2059017">error</span><span class="op" id="2059022">)</span>&nbsp;<span class="op" id="2059024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059027">if</span>&nbsp;<span class="ident" id="2059030"><a href="/os/file.go.html#2058972">f</a></span>&nbsp;<span class="op" id="2059032">==</span>&nbsp;<span class="ident" id="2059035">nil</span>&nbsp;<span class="op" id="2059039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059043">return</span>&nbsp;<span class="num" id="2059050">0</span><span class="op" id="2059051">,</span>&nbsp;<span class="ident" id="2059053"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2059065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059068">return</span>&nbsp;<span class="ident" id="2059075"><a href="/os/file.go.html#2058972">f</a></span><span class="op" id="2059076">.</span><span class="ident" id="2059077">Write</span><span class="op" id="2059082">(</span><span class="op" id="2059083">[</span><span class="op" id="2059084">]</span><span class="builtintype" id="2059085">byte</span><span class="op" id="2059089">(</span><span class="ident" id="2059090"><a href="/os/file.go.html#2058993">s</a></span><span class="op" id="2059091">)</span><span class="op" id="2059092">)</span><br>
<span class="lineno">200</span><span class="op" id="2059094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2059097">//&nbsp;Mkdir&nbsp;creates&nbsp;a&nbsp;new&nbsp;directory&nbsp;with&nbsp;the&nbsp;specified&nbsp;name&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2059175">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2059231">func</span>&nbsp;<span class="ident" id="2059236">Mkdir</span><span class="op" id="2059241">(</span><span class="ident" id="2059242">name</span>&nbsp;<span class="builtintype" id="2059247">string</span><span class="op" id="2059253">,</span>&nbsp;<span class="ident" id="2059255">perm</span>&nbsp;<span class="ident" id="2059260"><a href="/os/types.go.html#2086441">FileMode</a></span><span class="op" id="2059268">)</span>&nbsp;<span class="builtintype" id="2059270">error</span>&nbsp;<span class="op" id="2059276">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2059279">e</span>&nbsp;<span class="op" id="2059281">:=</span>&nbsp;<span class="ident" id="2059284"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2059291">.</span><span class="ident" id="2059292">Mkdir</span><span class="op" id="2059297">(</span><span class="ident" id="2059298"><a href="/os/file.go.html#2059242">name</a></span><span class="op" id="2059302">,</span>&nbsp;<span class="ident" id="2059304"><a href="/os/file_posix.go.html#2062060">syscallMode</a></span><span class="op" id="2059315">(</span><span class="ident" id="2059316"><a href="/os/file.go.html#2059255">perm</a></span><span class="op" id="2059320">)</span><span class="op" id="2059321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059324">if</span>&nbsp;<span class="ident" id="2059327"><a href="/os/file.go.html#2059279">e</a></span>&nbsp;<span class="op" id="2059329">!=</span>&nbsp;<span class="ident" id="2059332">nil</span>&nbsp;<span class="op" id="2059336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059340">return</span>&nbsp;<span class="op" id="2059347">&amp;</span><span class="ident" id="2059348"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2059357">{</span><span class="string" id="2059358">&#34;mkdir&#34;</span><span class="op" id="2059365">,</span>&nbsp;<span class="ident" id="2059367"><a href="/os/file.go.html#2059242">name</a></span><span class="op" id="2059371">,</span>&nbsp;<span class="ident" id="2059373"><a href="/os/file.go.html#2059279">e</a></span><span class="op" id="2059374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2059377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059380">return</span>&nbsp;<span class="ident" id="2059387">nil</span><br>
<span class="lineno">210</span><span class="op" id="2059391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2059394">//&nbsp;Chdir&nbsp;changes&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;to&nbsp;the&nbsp;named&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2059465">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2059521">func</span>&nbsp;<span class="ident" id="2059526">Chdir</span><span class="op" id="2059531">(</span><span class="ident" id="2059532">dir</span>&nbsp;<span class="builtintype" id="2059536">string</span><span class="op" id="2059542">)</span>&nbsp;<span class="builtintype" id="2059544">error</span>&nbsp;<span class="op" id="2059550">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059553">if</span>&nbsp;<span class="ident" id="2059556">e</span>&nbsp;<span class="op" id="2059558">:=</span>&nbsp;<span class="ident" id="2059561"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2059568">.</span><span class="ident" id="2059569">Chdir</span><span class="op" id="2059574">(</span><span class="ident" id="2059575"><a href="/os/file.go.html#2059532">dir</a></span><span class="op" id="2059578">)</span><span class="op" id="2059579">;</span>&nbsp;<span class="ident" id="2059581"><a href="/os/file.go.html#2059556">e</a></span>&nbsp;<span class="op" id="2059583">!=</span>&nbsp;<span class="ident" id="2059586">nil</span>&nbsp;<span class="op" id="2059590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059594">return</span>&nbsp;<span class="op" id="2059601">&amp;</span><span class="ident" id="2059602"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2059611">{</span><span class="string" id="2059612">&#34;chdir&#34;</span><span class="op" id="2059619">,</span>&nbsp;<span class="ident" id="2059621"><a href="/os/file.go.html#2059532">dir</a></span><span class="op" id="2059624">,</span>&nbsp;<span class="ident" id="2059626"><a href="/os/file.go.html#2059556">e</a></span><span class="op" id="2059627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2059630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059633">return</span>&nbsp;<span class="ident" id="2059640">nil</span><br>
<span class="lineno"></span><span class="op" id="2059644">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="2059647">//&nbsp;Chdir&nbsp;changes&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;to&nbsp;the&nbsp;file,</span><br>
<span class="lineno"></span><span class="comment" id="2059707">//&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2059737">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2059793">func</span>&nbsp;<span class="op" id="2059798">(</span><span class="ident" id="2059799">f</span>&nbsp;<span class="op" id="2059801">*</span><span class="ident" id="2059802"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2059806">)</span>&nbsp;<span class="ident" id="2059808">Chdir</span><span class="op" id="2059813">(</span><span class="op" id="2059814">)</span>&nbsp;<span class="builtintype" id="2059816">error</span>&nbsp;<span class="op" id="2059822">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059825">if</span>&nbsp;<span class="ident" id="2059828"><a href="/os/file.go.html#2059799">f</a></span>&nbsp;<span class="op" id="2059830">==</span>&nbsp;<span class="ident" id="2059833">nil</span>&nbsp;<span class="op" id="2059837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059841">return</span>&nbsp;<span class="ident" id="2059848"><a href="/os/error.go.html#2043976">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2059860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059863">if</span>&nbsp;<span class="ident" id="2059866">e</span>&nbsp;<span class="op" id="2059868">:=</span>&nbsp;<span class="ident" id="2059871"><a href="/os/file.go.html#2054826">syscall</a></span><span class="op" id="2059878">.</span><span class="ident" id="2059879">Fchdir</span><span class="op" id="2059885">(</span><span class="ident" id="2059886"><a href="/os/file.go.html#2059799">f</a></span><span class="op" id="2059887">.</span><span class="ident" id="2059888">fd</span><span class="op" id="2059890">)</span><span class="op" id="2059891">;</span>&nbsp;<span class="ident" id="2059893"><a href="/os/file.go.html#2059866">e</a></span>&nbsp;<span class="op" id="2059895">!=</span>&nbsp;<span class="ident" id="2059898">nil</span>&nbsp;<span class="op" id="2059902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059906">return</span>&nbsp;<span class="op" id="2059913">&amp;</span><span class="ident" id="2059914"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2059923">{</span><span class="string" id="2059924">&#34;chdir&#34;</span><span class="op" id="2059931">,</span>&nbsp;<span class="ident" id="2059933"><a href="/os/file.go.html#2059799">f</a></span><span class="op" id="2059934">.</span><span class="ident" id="2059935">name</span><span class="op" id="2059939">,</span>&nbsp;<span class="ident" id="2059941"><a href="/os/file.go.html#2059866">e</a></span><span class="op" id="2059942">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2059945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2059948">return</span>&nbsp;<span class="ident" id="2059955">nil</span><br>
<span class="lineno"></span><span class="op" id="2059959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2059962">//&nbsp;Open&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;for&nbsp;reading.&nbsp;&nbsp;If&nbsp;successful,&nbsp;methods&nbsp;on</span><br>
<span class="lineno">235</span><span class="comment" id="2060031">//&nbsp;the&nbsp;returned&nbsp;file&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;reading;&nbsp;the&nbsp;associated&nbsp;file</span><br>
<span class="lineno"></span><span class="comment" id="2060097">//&nbsp;descriptor&nbsp;has&nbsp;mode&nbsp;O_RDONLY.</span><br>
<span class="lineno"></span><span class="comment" id="2060130">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2060186">func</span>&nbsp;<span class="ident" id="2060191">Open</span><span class="op" id="2060195">(</span><span class="ident" id="2060196">name</span>&nbsp;<span class="builtintype" id="2060201">string</span><span class="op" id="2060207">)</span>&nbsp;<span class="op" id="2060209">(</span><span class="ident" id="2060210">file</span>&nbsp;<span class="op" id="2060215">*</span><span class="ident" id="2060216"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2060220">,</span>&nbsp;<span class="ident" id="2060222">err</span>&nbsp;<span class="builtintype" id="2060226">error</span><span class="op" id="2060231">)</span>&nbsp;<span class="op" id="2060233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2060236">return</span>&nbsp;<span class="ident" id="2060243"><a href="/os/file_unix.go.html#2067423">OpenFile</a></span><span class="op" id="2060251">(</span><span class="ident" id="2060252"><a href="/os/file.go.html#2060196">name</a></span><span class="op" id="2060256">,</span>&nbsp;<span class="ident" id="2060258"><a href="/os/file.go.html#2055382">O_RDONLY</a></span><span class="op" id="2060266">,</span>&nbsp;<span class="num" id="2060268">0</span><span class="op" id="2060269">)</span><br>
<span class="lineno">240</span><span class="op" id="2060271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2060274">//&nbsp;Create&nbsp;creates&nbsp;the&nbsp;named&nbsp;file&nbsp;mode&nbsp;0666&nbsp;(before&nbsp;umask),&nbsp;truncating</span><br>
<span class="lineno"></span><span class="comment" id="2060344">//&nbsp;it&nbsp;if&nbsp;it&nbsp;already&nbsp;exists.&nbsp;&nbsp;If&nbsp;successful,&nbsp;methods&nbsp;on&nbsp;the&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2060412">//&nbsp;File&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;I/O;&nbsp;the&nbsp;associated&nbsp;file&nbsp;descriptor&nbsp;has&nbsp;mode</span><br>
<span class="lineno">245</span><span class="comment" id="2060481">//&nbsp;O_RDWR.</span><br>
<span class="lineno"></span><span class="comment" id="2060492">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2060548">func</span>&nbsp;<span class="ident" id="2060553">Create</span><span class="op" id="2060559">(</span><span class="ident" id="2060560">name</span>&nbsp;<span class="builtintype" id="2060565">string</span><span class="op" id="2060571">)</span>&nbsp;<span class="op" id="2060573">(</span><span class="ident" id="2060574">file</span>&nbsp;<span class="op" id="2060579">*</span><span class="ident" id="2060580"><a href="/os/file_unix.go.html#2065616">File</a></span><span class="op" id="2060584">,</span>&nbsp;<span class="ident" id="2060586">err</span>&nbsp;<span class="builtintype" id="2060590">error</span><span class="op" id="2060595">)</span>&nbsp;<span class="op" id="2060597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2060600">return</span>&nbsp;<span class="ident" id="2060607"><a href="/os/file_unix.go.html#2067423">OpenFile</a></span><span class="op" id="2060615">(</span><span class="ident" id="2060616"><a href="/os/file.go.html#2060560">name</a></span><span class="op" id="2060620">,</span>&nbsp;<span class="ident" id="2060622"><a href="/os/file.go.html#2055505">O_RDWR</a></span><span class="op" id="2060628">|</span><span class="ident" id="2060629"><a href="/os/file.go.html#2055641">O_CREATE</a></span><span class="op" id="2060637">|</span><span class="ident" id="2060638"><a href="/os/file.go.html#2055849">O_TRUNC</a></span><span class="op" id="2060645">,</span>&nbsp;<span class="num" id="2060647">0666</span><span class="op" id="2060651">)</span><br>
<span class="lineno"></span><span class="op" id="2060653">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="comment" id="2060656">//&nbsp;lstat&nbsp;is&nbsp;overridden&nbsp;in&nbsp;tests.</span><br>
<span class="lineno"></span><span class="keyword" id="2060689">var</span>&nbsp;<span class="ident" id="2060693">lstat</span>&nbsp;<span class="op" id="2060699">=</span>&nbsp;<span class="ident" id="2060701"><a href="/os/file_unix.go.html#2069301">Lstat</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2060708">//&nbsp;Rename&nbsp;renames&nbsp;(moves)&nbsp;a&nbsp;file.&nbsp;OS-specific&nbsp;restrictions&nbsp;might&nbsp;apply.</span><br>
<span class="lineno">255</span><span class="keyword" id="2060780">func</span>&nbsp;<span class="ident" id="2060785">Rename</span><span class="op" id="2060791">(</span><span class="ident" id="2060792">oldpath</span><span class="op" id="2060799">,</span>&nbsp;<span class="ident" id="2060801">newpath</span>&nbsp;<span class="builtintype" id="2060809">string</span><span class="op" id="2060815">)</span>&nbsp;<span class="builtintype" id="2060817">error</span>&nbsp;<span class="op" id="2060823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2060826">return</span>&nbsp;<span class="ident" id="2060833"><a href="/os/file_posix.go.html#2061808">rename</a></span><span class="op" id="2060839">(</span><span class="ident" id="2060840"><a href="/os/file.go.html#2060792">oldpath</a></span><span class="op" id="2060847">,</span>&nbsp;<span class="ident" id="2060849"><a href="/os/file.go.html#2060801">newpath</a></span><span class="op" id="2060856">)</span><br>
<span class="lineno"></span><span class="op" id="2060858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2060861">//&nbsp;Many&nbsp;functions&nbsp;in&nbsp;package&nbsp;syscall&nbsp;return&nbsp;a&nbsp;count&nbsp;of&nbsp;-1&nbsp;instead&nbsp;of&nbsp;0.</span><br>
<span class="lineno">260</span><span class="comment" id="2060933">//&nbsp;Using&nbsp;fixCount(call())&nbsp;instead&nbsp;of&nbsp;call()&nbsp;corrects&nbsp;the&nbsp;count.</span><br>
<span class="lineno"></span><span class="keyword" id="2060997">func</span>&nbsp;<span class="ident" id="2061002">fixCount</span><span class="op" id="2061010">(</span><span class="ident" id="2061011">n</span>&nbsp;<span class="builtintype" id="2061013">int</span><span class="op" id="2061016">,</span>&nbsp;<span class="ident" id="2061018">err</span>&nbsp;<span class="builtintype" id="2061022">error</span><span class="op" id="2061027">)</span>&nbsp;<span class="op" id="2061029">(</span><span class="builtintype" id="2061030">int</span><span class="op" id="2061033">,</span>&nbsp;<span class="builtintype" id="2061035">error</span><span class="op" id="2061040">)</span>&nbsp;<span class="op" id="2061042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2061045">if</span>&nbsp;<span class="ident" id="2061048"><a href="/os/file.go.html#2061011">n</a></span>&nbsp;<span class="op" id="2061050">&lt;</span>&nbsp;<span class="num" id="2061052">0</span>&nbsp;<span class="op" id="2061054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2061058"><a href="/os/file.go.html#2061011">n</a></span>&nbsp;<span class="op" id="2061060">=</span>&nbsp;<span class="num" id="2061062">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2061065">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2061068">return</span>&nbsp;<span class="ident" id="2061075"><a href="/os/file.go.html#2061011">n</a></span><span class="op" id="2061076">,</span>&nbsp;<span class="ident" id="2061078"><a href="/os/file.go.html#2061018">err</a></span><br>
<span class="lineno"></span><span class="op" id="2061082">}</span>
</div>
</body>
</html>
