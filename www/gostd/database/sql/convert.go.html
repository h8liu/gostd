<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql</h2>
<ul>
<li><a href="/gostd/database/sql/convert.go.html">convert.go</a></li>
<li><a href="/gostd/database/sql/convert_test.go.html">convert_test.go</a></li>
<li><a href="/gostd/database/sql/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/database/sql/fakedb_test.go.html">fakedb_test.go</a></li>
<li><a href="/gostd/database/sql/sql.go.html">sql.go</a></li>
<li><a href="/gostd/database/sql/sql_test.go.html">sql_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3206424">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3206479">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3206533">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3206584">//&nbsp;Type&nbsp;conversions&nbsp;for&nbsp;Scan.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3206615">package</span>&nbsp;<span class="ident" id="3206623">sql</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3206628">import</span>&nbsp;<span class="op" id="3206635">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3206638">&#34;database/sql/driver&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3206661">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3206671">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3206678">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3206689">&#34;strconv&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3206699">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3206702">var</span>&nbsp;<span class="ident" id="3206706">errNilPtr</span>&nbsp;<span class="op" id="3206716">=</span>&nbsp;<span class="ident" id="3206718">errors</span><span class="op" id="3206724">.</span><span class="ident" id="3206725">New</span><span class="op" id="3206728">(</span><span class="string" id="3206729">&#34;destination&nbsp;pointer&nbsp;is&nbsp;nil&#34;</span><span class="op" id="3206757">)</span>&nbsp;<span class="comment" id="3206759">//&nbsp;embedded&nbsp;in&nbsp;descriptive&nbsp;error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3206793">//&nbsp;driverArgs&nbsp;converts&nbsp;arguments&nbsp;from&nbsp;callers&nbsp;of&nbsp;Stmt.Exec&nbsp;and</span><br>
<span class="lineno">20</span><span class="comment" id="3206856">//&nbsp;Stmt.Query&nbsp;into&nbsp;driver&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="3206890">//</span><br>
<span class="lineno"></span><span class="comment" id="3206893">//&nbsp;The&nbsp;statement&nbsp;ds&nbsp;may&nbsp;be&nbsp;nil,&nbsp;if&nbsp;no&nbsp;statement&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="3206955">func</span>&nbsp;<span class="ident" id="3206960">driverArgs</span><span class="op" id="3206970">(</span><span class="ident" id="3206971">ds</span>&nbsp;<span class="op" id="3206974">*</span><span class="ident" id="3206975">driverStmt</span><span class="op" id="3206985">,</span>&nbsp;<span class="ident" id="3206987">args</span>&nbsp;<span class="op" id="3206992">[</span><span class="op" id="3206993">]</span><span class="keyword" id="3206994">interface</span><span class="op" id="3207003">{</span><span class="op" id="3207004">}</span><span class="op" id="3207005">)</span>&nbsp;<span class="op" id="3207007">(</span><span class="op" id="3207008">[</span><span class="op" id="3207009">]</span><span class="ident" id="3207010">driver</span><span class="op" id="3207016">.</span><span class="ident" id="3207017">Value</span><span class="op" id="3207022">,</span>&nbsp;<span class="builtintype" id="3207024">error</span><span class="op" id="3207029">)</span>&nbsp;<span class="op" id="3207031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207034">dargs</span>&nbsp;<span class="op" id="3207040">:=</span>&nbsp;<span class="builtinfunc" id="3207043">make</span><span class="op" id="3207047">(</span><span class="op" id="3207048">[</span><span class="op" id="3207049">]</span><span class="ident" id="3207050">driver</span><span class="op" id="3207056">.</span><span class="ident" id="3207057">Value</span><span class="op" id="3207062">,</span>&nbsp;<span class="builtinfunc" id="3207064">len</span><span class="op" id="3207067">(</span><span class="ident" id="3207068">args</span><span class="op" id="3207072">)</span><span class="op" id="3207073">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207076">var</span>&nbsp;<span class="ident" id="3207080">si</span>&nbsp;<span class="ident" id="3207083">driver</span><span class="op" id="3207089">.</span><span class="ident" id="3207090">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207096">if</span>&nbsp;<span class="ident" id="3207099">ds</span>&nbsp;<span class="op" id="3207102">!=</span>&nbsp;<span class="ident" id="3207105">nil</span>&nbsp;<span class="op" id="3207109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207113">si</span>&nbsp;<span class="op" id="3207116">=</span>&nbsp;<span class="ident" id="3207118">ds</span><span class="op" id="3207120">.</span><span class="ident" id="3207121">si</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207128">cc</span><span class="op" id="3207130">,</span>&nbsp;<span class="ident" id="3207132">ok</span>&nbsp;<span class="op" id="3207135">:=</span>&nbsp;<span class="ident" id="3207138">si</span><span class="op" id="3207140">.</span><span class="op" id="3207141">(</span><span class="ident" id="3207142">driver</span><span class="op" id="3207148">.</span><span class="ident" id="3207149">ColumnConverter</span><span class="op" id="3207164">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207168">//&nbsp;Normal&nbsp;path,&nbsp;for&nbsp;a&nbsp;driver.Stmt&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207234">if</span>&nbsp;<span class="op" id="3207237">!</span><span class="ident" id="3207238">ok</span>&nbsp;<span class="op" id="3207241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207245">for</span>&nbsp;<span class="ident" id="3207249">n</span><span class="op" id="3207250">,</span>&nbsp;<span class="ident" id="3207252">arg</span>&nbsp;<span class="op" id="3207256">:=</span>&nbsp;<span class="keyword" id="3207259">range</span>&nbsp;<span class="ident" id="3207265">args</span>&nbsp;<span class="op" id="3207270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207275">var</span>&nbsp;<span class="ident" id="3207279">err</span>&nbsp;<span class="builtintype" id="3207283">error</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207292">dargs</span><span class="op" id="3207297">[</span><span class="ident" id="3207298">n</span><span class="op" id="3207299">]</span><span class="op" id="3207300">,</span>&nbsp;<span class="ident" id="3207302">err</span>&nbsp;<span class="op" id="3207306">=</span>&nbsp;<span class="ident" id="3207308">driver</span><span class="op" id="3207314">.</span><span class="ident" id="3207315">DefaultParameterConverter</span><span class="op" id="3207340">.</span><span class="ident" id="3207341">ConvertValue</span><span class="op" id="3207353">(</span><span class="ident" id="3207354">arg</span><span class="op" id="3207357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207362">if</span>&nbsp;<span class="ident" id="3207365">err</span>&nbsp;<span class="op" id="3207369">!=</span>&nbsp;<span class="ident" id="3207372">nil</span>&nbsp;<span class="op" id="3207376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207382">return</span>&nbsp;<span class="ident" id="3207389">nil</span><span class="op" id="3207392">,</span>&nbsp;<span class="ident" id="3207394">fmt</span><span class="op" id="3207397">.</span><span class="ident" id="3207398">Errorf</span><span class="op" id="3207404">(</span><span class="string" id="3207405">&#34;sql:&nbsp;converting&nbsp;Exec&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="3207451">,</span>&nbsp;<span class="ident" id="3207453">n</span><span class="op" id="3207454">,</span>&nbsp;<span class="ident" id="3207456">err</span><span class="op" id="3207459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207468">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207472">return</span>&nbsp;<span class="ident" id="3207479">dargs</span><span class="op" id="3207484">,</span>&nbsp;<span class="ident" id="3207486">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207495">//&nbsp;Let&nbsp;the&nbsp;Stmt&nbsp;convert&nbsp;its&nbsp;own&nbsp;arguments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207539">for</span>&nbsp;<span class="ident" id="3207543">n</span><span class="op" id="3207544">,</span>&nbsp;<span class="ident" id="3207546">arg</span>&nbsp;<span class="op" id="3207550">:=</span>&nbsp;<span class="keyword" id="3207553">range</span>&nbsp;<span class="ident" id="3207559">args</span>&nbsp;<span class="op" id="3207564">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207568">//&nbsp;First,&nbsp;see&nbsp;if&nbsp;the&nbsp;value&nbsp;itself&nbsp;knows&nbsp;how&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207625">//&nbsp;itself&nbsp;to&nbsp;a&nbsp;driver&nbsp;type.&nbsp;&nbsp;For&nbsp;example,&nbsp;a&nbsp;NullString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207682">//&nbsp;struct&nbsp;changing&nbsp;into&nbsp;a&nbsp;string&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207725">if</span>&nbsp;<span class="ident" id="3207728">svi</span><span class="op" id="3207731">,</span>&nbsp;<span class="ident" id="3207733">ok</span>&nbsp;<span class="op" id="3207736">:=</span>&nbsp;<span class="ident" id="3207739">arg</span><span class="op" id="3207742">.</span><span class="op" id="3207743">(</span><span class="ident" id="3207744">driver</span><span class="op" id="3207750">.</span><span class="ident" id="3207751">Valuer</span><span class="op" id="3207757">)</span><span class="op" id="3207758">;</span>&nbsp;<span class="ident" id="3207760">ok</span>&nbsp;<span class="op" id="3207763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207768">sv</span><span class="op" id="3207770">,</span>&nbsp;<span class="ident" id="3207772">err</span>&nbsp;<span class="op" id="3207776">:=</span>&nbsp;<span class="ident" id="3207779">svi</span><span class="op" id="3207782">.</span><span class="ident" id="3207783">Value</span><span class="op" id="3207788">(</span><span class="op" id="3207789">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207794">if</span>&nbsp;<span class="ident" id="3207797">err</span>&nbsp;<span class="op" id="3207801">!=</span>&nbsp;<span class="ident" id="3207804">nil</span>&nbsp;<span class="op" id="3207808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207814">return</span>&nbsp;<span class="ident" id="3207821">nil</span><span class="op" id="3207824">,</span>&nbsp;<span class="ident" id="3207826">fmt</span><span class="op" id="3207829">.</span><span class="ident" id="3207830">Errorf</span><span class="op" id="3207836">(</span><span class="string" id="3207837">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d&nbsp;from&nbsp;Value:&nbsp;%v&#34;</span><span class="op" id="3207876">,</span>&nbsp;<span class="ident" id="3207878">n</span><span class="op" id="3207879">,</span>&nbsp;<span class="ident" id="3207881">err</span><span class="op" id="3207884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207894">if</span>&nbsp;<span class="op" id="3207897">!</span><span class="ident" id="3207898">driver</span><span class="op" id="3207904">.</span><span class="ident" id="3207905">IsValue</span><span class="op" id="3207912">(</span><span class="ident" id="3207913">sv</span><span class="op" id="3207915">)</span>&nbsp;<span class="op" id="3207917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207923">return</span>&nbsp;<span class="ident" id="3207930">nil</span><span class="op" id="3207933">,</span>&nbsp;<span class="ident" id="3207935">fmt</span><span class="op" id="3207938">.</span><span class="ident" id="3207939">Errorf</span><span class="op" id="3207945">(</span><span class="string" id="3207946">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d:&nbsp;non-subset&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="3208010">,</span>&nbsp;<span class="ident" id="3208012">n</span><span class="op" id="3208013">,</span>&nbsp;<span class="ident" id="3208015">sv</span><span class="op" id="3208017">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208027">arg</span>&nbsp;<span class="op" id="3208031">=</span>&nbsp;<span class="ident" id="3208033">sv</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208043">//&nbsp;Second,&nbsp;ask&nbsp;the&nbsp;column&nbsp;to&nbsp;sanity&nbsp;check&nbsp;itself.&nbsp;For</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208099">//&nbsp;example,&nbsp;drivers&nbsp;might&nbsp;use&nbsp;this&nbsp;to&nbsp;make&nbsp;sure&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208154">//&nbsp;an&nbsp;int64&nbsp;values&nbsp;being&nbsp;inserted&nbsp;into&nbsp;a&nbsp;16-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208204">//&nbsp;integer&nbsp;field&nbsp;is&nbsp;in&nbsp;range&nbsp;(before&nbsp;getting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208251">//&nbsp;truncated),&nbsp;or&nbsp;that&nbsp;a&nbsp;nil&nbsp;can&#39;t&nbsp;go&nbsp;into&nbsp;a&nbsp;NOT&nbsp;NULL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208307">//&nbsp;column&nbsp;before&nbsp;going&nbsp;across&nbsp;the&nbsp;network&nbsp;to&nbsp;get&nbsp;the</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208362">//&nbsp;same&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208379">var</span>&nbsp;<span class="ident" id="3208383">err</span>&nbsp;<span class="builtintype" id="3208387">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208395">ds</span><span class="op" id="3208397">.</span><span class="ident" id="3208398">Lock</span><span class="op" id="3208402">(</span><span class="op" id="3208403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208407">dargs</span><span class="op" id="3208412">[</span><span class="ident" id="3208413">n</span><span class="op" id="3208414">]</span><span class="op" id="3208415">,</span>&nbsp;<span class="ident" id="3208417">err</span>&nbsp;<span class="op" id="3208421">=</span>&nbsp;<span class="ident" id="3208423">cc</span><span class="op" id="3208425">.</span><span class="ident" id="3208426">ColumnConverter</span><span class="op" id="3208441">(</span><span class="ident" id="3208442">n</span><span class="op" id="3208443">)</span><span class="op" id="3208444">.</span><span class="ident" id="3208445">ConvertValue</span><span class="op" id="3208457">(</span><span class="ident" id="3208458">arg</span><span class="op" id="3208461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208465">ds</span><span class="op" id="3208467">.</span><span class="ident" id="3208468">Unlock</span><span class="op" id="3208474">(</span><span class="op" id="3208475">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208479">if</span>&nbsp;<span class="ident" id="3208482">err</span>&nbsp;<span class="op" id="3208486">!=</span>&nbsp;<span class="ident" id="3208489">nil</span>&nbsp;<span class="op" id="3208493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208498">return</span>&nbsp;<span class="ident" id="3208505">nil</span><span class="op" id="3208508">,</span>&nbsp;<span class="ident" id="3208510">fmt</span><span class="op" id="3208513">.</span><span class="ident" id="3208514">Errorf</span><span class="op" id="3208520">(</span><span class="string" id="3208521">&#34;sql:&nbsp;converting&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="3208562">,</span>&nbsp;<span class="ident" id="3208564">n</span><span class="op" id="3208565">,</span>&nbsp;<span class="ident" id="3208567">err</span><span class="op" id="3208570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208578">if</span>&nbsp;<span class="op" id="3208581">!</span><span class="ident" id="3208582">driver</span><span class="op" id="3208588">.</span><span class="ident" id="3208589">IsValue</span><span class="op" id="3208596">(</span><span class="ident" id="3208597">dargs</span><span class="op" id="3208602">[</span><span class="ident" id="3208603">n</span><span class="op" id="3208604">]</span><span class="op" id="3208605">)</span>&nbsp;<span class="op" id="3208607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208612">return</span>&nbsp;<span class="ident" id="3208619">nil</span><span class="op" id="3208622">,</span>&nbsp;<span class="ident" id="3208624">fmt</span><span class="op" id="3208627">.</span><span class="ident" id="3208628">Errorf</span><span class="op" id="3208634">(</span><span class="string" id="3208635">&#34;sql:&nbsp;driver&nbsp;ColumnConverter&nbsp;error&nbsp;converted&nbsp;%T&nbsp;to&nbsp;unsupported&nbsp;type&nbsp;%T&#34;</span><span class="op" id="3208706">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208712">arg</span><span class="op" id="3208715">,</span>&nbsp;<span class="ident" id="3208717">dargs</span><span class="op" id="3208722">[</span><span class="ident" id="3208723">n</span><span class="op" id="3208724">]</span><span class="op" id="3208725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208736">return</span>&nbsp;<span class="ident" id="3208743">dargs</span><span class="op" id="3208748">,</span>&nbsp;<span class="ident" id="3208750">nil</span><br>
<span class="lineno">80</span><span class="op" id="3208754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3208757">//&nbsp;convertAssign&nbsp;copies&nbsp;to&nbsp;dest&nbsp;the&nbsp;value&nbsp;in&nbsp;src,&nbsp;converting&nbsp;it&nbsp;if&nbsp;possible.</span><br>
<span class="lineno"></span><span class="comment" id="3208834">//&nbsp;An&nbsp;error&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;copy&nbsp;would&nbsp;result&nbsp;in&nbsp;loss&nbsp;of&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="3208907">//&nbsp;dest&nbsp;should&nbsp;be&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno">85</span><span class="keyword" id="3208941">func</span>&nbsp;<span class="ident" id="3208946">convertAssign</span><span class="op" id="3208959">(</span><span class="ident" id="3208960">dest</span><span class="op" id="3208964">,</span>&nbsp;<span class="ident" id="3208966">src</span>&nbsp;<span class="keyword" id="3208970">interface</span><span class="op" id="3208979">{</span><span class="op" id="3208980">}</span><span class="op" id="3208981">)</span>&nbsp;<span class="builtintype" id="3208983">error</span>&nbsp;<span class="op" id="3208989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3208992">//&nbsp;Common&nbsp;cases,&nbsp;without&nbsp;reflect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209027">switch</span>&nbsp;<span class="ident" id="3209034">s</span>&nbsp;<span class="op" id="3209036">:=</span>&nbsp;<span class="ident" id="3209039">src</span><span class="op" id="3209042">.</span><span class="op" id="3209043">(</span><span class="keyword" id="3209044">type</span><span class="op" id="3209048">)</span>&nbsp;<span class="op" id="3209050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209053">case</span>&nbsp;<span class="builtintype" id="3209058">string</span><span class="op" id="3209064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209068">switch</span>&nbsp;<span class="ident" id="3209075">d</span>&nbsp;<span class="op" id="3209077">:=</span>&nbsp;<span class="ident" id="3209080">dest</span><span class="op" id="3209084">.</span><span class="op" id="3209085">(</span><span class="keyword" id="3209086">type</span><span class="op" id="3209090">)</span>&nbsp;<span class="op" id="3209092">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209096">case</span>&nbsp;<span class="op" id="3209101">*</span><span class="builtintype" id="3209102">string</span><span class="op" id="3209108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209113">if</span>&nbsp;<span class="ident" id="3209116">d</span>&nbsp;<span class="op" id="3209118">==</span>&nbsp;<span class="ident" id="3209121">nil</span>&nbsp;<span class="op" id="3209125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209131">return</span>&nbsp;<span class="ident" id="3209138">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209156">*</span><span class="ident" id="3209157">d</span>&nbsp;<span class="op" id="3209159">=</span>&nbsp;<span class="ident" id="3209161">s</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209166">return</span>&nbsp;<span class="ident" id="3209173">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209179">case</span>&nbsp;<span class="op" id="3209184">*</span><span class="op" id="3209185">[</span><span class="op" id="3209186">]</span><span class="builtintype" id="3209187">byte</span><span class="op" id="3209191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209196">if</span>&nbsp;<span class="ident" id="3209199">d</span>&nbsp;<span class="op" id="3209201">==</span>&nbsp;<span class="ident" id="3209204">nil</span>&nbsp;<span class="op" id="3209208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209214">return</span>&nbsp;<span class="ident" id="3209221">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209234">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209239">*</span><span class="ident" id="3209240">d</span>&nbsp;<span class="op" id="3209242">=</span>&nbsp;<span class="op" id="3209244">[</span><span class="op" id="3209245">]</span><span class="builtintype" id="3209246">byte</span><span class="op" id="3209250">(</span><span class="ident" id="3209251">s</span><span class="op" id="3209252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209257">return</span>&nbsp;<span class="ident" id="3209264">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209273">case</span>&nbsp;<span class="op" id="3209278">[</span><span class="op" id="3209279">]</span><span class="builtintype" id="3209280">byte</span><span class="op" id="3209284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209288">switch</span>&nbsp;<span class="ident" id="3209295">d</span>&nbsp;<span class="op" id="3209297">:=</span>&nbsp;<span class="ident" id="3209300">dest</span><span class="op" id="3209304">.</span><span class="op" id="3209305">(</span><span class="keyword" id="3209306">type</span><span class="op" id="3209310">)</span>&nbsp;<span class="op" id="3209312">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209316">case</span>&nbsp;<span class="op" id="3209321">*</span><span class="builtintype" id="3209322">string</span><span class="op" id="3209328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209333">if</span>&nbsp;<span class="ident" id="3209336">d</span>&nbsp;<span class="op" id="3209338">==</span>&nbsp;<span class="ident" id="3209341">nil</span>&nbsp;<span class="op" id="3209345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209351">return</span>&nbsp;<span class="ident" id="3209358">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209376">*</span><span class="ident" id="3209377">d</span>&nbsp;<span class="op" id="3209379">=</span>&nbsp;<span class="builtintype" id="3209381">string</span><span class="op" id="3209387">(</span><span class="ident" id="3209388">s</span><span class="op" id="3209389">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209394">return</span>&nbsp;<span class="ident" id="3209401">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209407">case</span>&nbsp;<span class="op" id="3209412">*</span><span class="keyword" id="3209413">interface</span><span class="op" id="3209422">{</span><span class="op" id="3209423">}</span><span class="op" id="3209424">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209429">if</span>&nbsp;<span class="ident" id="3209432">d</span>&nbsp;<span class="op" id="3209434">==</span>&nbsp;<span class="ident" id="3209437">nil</span>&nbsp;<span class="op" id="3209441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209447">return</span>&nbsp;<span class="ident" id="3209454">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209467">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209472">*</span><span class="ident" id="3209473">d</span>&nbsp;<span class="op" id="3209475">=</span>&nbsp;<span class="ident" id="3209477">cloneBytes</span><span class="op" id="3209487">(</span><span class="ident" id="3209488">s</span><span class="op" id="3209489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209494">return</span>&nbsp;<span class="ident" id="3209501">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209507">case</span>&nbsp;<span class="op" id="3209512">*</span><span class="op" id="3209513">[</span><span class="op" id="3209514">]</span><span class="builtintype" id="3209515">byte</span><span class="op" id="3209519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209524">if</span>&nbsp;<span class="ident" id="3209527">d</span>&nbsp;<span class="op" id="3209529">==</span>&nbsp;<span class="ident" id="3209532">nil</span>&nbsp;<span class="op" id="3209536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209542">return</span>&nbsp;<span class="ident" id="3209549">errNilPtr</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209567">*</span><span class="ident" id="3209568">d</span>&nbsp;<span class="op" id="3209570">=</span>&nbsp;<span class="ident" id="3209572">cloneBytes</span><span class="op" id="3209582">(</span><span class="ident" id="3209583">s</span><span class="op" id="3209584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209589">return</span>&nbsp;<span class="ident" id="3209596">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209602">case</span>&nbsp;<span class="op" id="3209607">*</span><span class="ident" id="3209608">RawBytes</span><span class="op" id="3209616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209621">if</span>&nbsp;<span class="ident" id="3209624">d</span>&nbsp;<span class="op" id="3209626">==</span>&nbsp;<span class="ident" id="3209629">nil</span>&nbsp;<span class="op" id="3209633">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209639">return</span>&nbsp;<span class="ident" id="3209646">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209664">*</span><span class="ident" id="3209665">d</span>&nbsp;<span class="op" id="3209667">=</span>&nbsp;<span class="ident" id="3209669">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209674">return</span>&nbsp;<span class="ident" id="3209681">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209687">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209690">case</span>&nbsp;<span class="ident" id="3209695">nil</span><span class="op" id="3209698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209702">switch</span>&nbsp;<span class="ident" id="3209709">d</span>&nbsp;<span class="op" id="3209711">:=</span>&nbsp;<span class="ident" id="3209714">dest</span><span class="op" id="3209718">.</span><span class="op" id="3209719">(</span><span class="keyword" id="3209720">type</span><span class="op" id="3209724">)</span>&nbsp;<span class="op" id="3209726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209730">case</span>&nbsp;<span class="op" id="3209735">*</span><span class="keyword" id="3209736">interface</span><span class="op" id="3209745">{</span><span class="op" id="3209746">}</span><span class="op" id="3209747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209752">if</span>&nbsp;<span class="ident" id="3209755">d</span>&nbsp;<span class="op" id="3209757">==</span>&nbsp;<span class="ident" id="3209760">nil</span>&nbsp;<span class="op" id="3209764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209770">return</span>&nbsp;<span class="ident" id="3209777">errNilPtr</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209795">*</span><span class="ident" id="3209796">d</span>&nbsp;<span class="op" id="3209798">=</span>&nbsp;<span class="ident" id="3209800">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209807">return</span>&nbsp;<span class="ident" id="3209814">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209820">case</span>&nbsp;<span class="op" id="3209825">*</span><span class="op" id="3209826">[</span><span class="op" id="3209827">]</span><span class="builtintype" id="3209828">byte</span><span class="op" id="3209832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209837">if</span>&nbsp;<span class="ident" id="3209840">d</span>&nbsp;<span class="op" id="3209842">==</span>&nbsp;<span class="ident" id="3209845">nil</span>&nbsp;<span class="op" id="3209849">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209855">return</span>&nbsp;<span class="ident" id="3209862">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209880">*</span><span class="ident" id="3209881">d</span>&nbsp;<span class="op" id="3209883">=</span>&nbsp;<span class="ident" id="3209885">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209892">return</span>&nbsp;<span class="ident" id="3209899">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209905">case</span>&nbsp;<span class="op" id="3209910">*</span><span class="ident" id="3209911">RawBytes</span><span class="op" id="3209919">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209924">if</span>&nbsp;<span class="ident" id="3209927">d</span>&nbsp;<span class="op" id="3209929">==</span>&nbsp;<span class="ident" id="3209932">nil</span>&nbsp;<span class="op" id="3209936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209942">return</span>&nbsp;<span class="ident" id="3209949">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209967">*</span><span class="ident" id="3209968">d</span>&nbsp;<span class="op" id="3209970">=</span>&nbsp;<span class="ident" id="3209972">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209979">return</span>&nbsp;<span class="ident" id="3209986">nil</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209999">var</span>&nbsp;<span class="ident" id="3210003">sv</span>&nbsp;<span class="ident" id="3210006">reflect</span><span class="op" id="3210013">.</span><span class="ident" id="3210014">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210022">switch</span>&nbsp;<span class="ident" id="3210029">d</span>&nbsp;<span class="op" id="3210031">:=</span>&nbsp;<span class="ident" id="3210034">dest</span><span class="op" id="3210038">.</span><span class="op" id="3210039">(</span><span class="keyword" id="3210040">type</span><span class="op" id="3210044">)</span>&nbsp;<span class="op" id="3210046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210049">case</span>&nbsp;<span class="op" id="3210054">*</span><span class="builtintype" id="3210055">string</span><span class="op" id="3210061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210065">sv</span>&nbsp;<span class="op" id="3210068">=</span>&nbsp;<span class="ident" id="3210070">reflect</span><span class="op" id="3210077">.</span><span class="ident" id="3210078">ValueOf</span><span class="op" id="3210085">(</span><span class="ident" id="3210086">src</span><span class="op" id="3210089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210093">switch</span>&nbsp;<span class="ident" id="3210100">sv</span><span class="op" id="3210102">.</span><span class="ident" id="3210103">Kind</span><span class="op" id="3210107">(</span><span class="op" id="3210108">)</span>&nbsp;<span class="op" id="3210110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210114">case</span>&nbsp;<span class="ident" id="3210119">reflect</span><span class="op" id="3210126">.</span><span class="ident" id="3210127">Bool</span><span class="op" id="3210131">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210136">reflect</span><span class="op" id="3210143">.</span><span class="ident" id="3210144">Int</span><span class="op" id="3210147">,</span>&nbsp;<span class="ident" id="3210149">reflect</span><span class="op" id="3210156">.</span><span class="ident" id="3210157">Int8</span><span class="op" id="3210161">,</span>&nbsp;<span class="ident" id="3210163">reflect</span><span class="op" id="3210170">.</span><span class="ident" id="3210171">Int16</span><span class="op" id="3210176">,</span>&nbsp;<span class="ident" id="3210178">reflect</span><span class="op" id="3210185">.</span><span class="ident" id="3210186">Int32</span><span class="op" id="3210191">,</span>&nbsp;<span class="ident" id="3210193">reflect</span><span class="op" id="3210200">.</span><span class="ident" id="3210201">Int64</span><span class="op" id="3210206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210211">reflect</span><span class="op" id="3210218">.</span><span class="ident" id="3210219">Uint</span><span class="op" id="3210223">,</span>&nbsp;<span class="ident" id="3210225">reflect</span><span class="op" id="3210232">.</span><span class="ident" id="3210233">Uint8</span><span class="op" id="3210238">,</span>&nbsp;<span class="ident" id="3210240">reflect</span><span class="op" id="3210247">.</span><span class="ident" id="3210248">Uint16</span><span class="op" id="3210254">,</span>&nbsp;<span class="ident" id="3210256">reflect</span><span class="op" id="3210263">.</span><span class="ident" id="3210264">Uint32</span><span class="op" id="3210270">,</span>&nbsp;<span class="ident" id="3210272">reflect</span><span class="op" id="3210279">.</span><span class="ident" id="3210280">Uint64</span><span class="op" id="3210286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210291">reflect</span><span class="op" id="3210298">.</span><span class="ident" id="3210299">Float32</span><span class="op" id="3210306">,</span>&nbsp;<span class="ident" id="3210308">reflect</span><span class="op" id="3210315">.</span><span class="ident" id="3210316">Float64</span><span class="op" id="3210323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210328">*</span><span class="ident" id="3210329">d</span>&nbsp;<span class="op" id="3210331">=</span>&nbsp;<span class="ident" id="3210333">asString</span><span class="op" id="3210341">(</span><span class="ident" id="3210342">src</span><span class="op" id="3210345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210350">return</span>&nbsp;<span class="ident" id="3210357">nil</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210366">case</span>&nbsp;<span class="op" id="3210371">*</span><span class="op" id="3210372">[</span><span class="op" id="3210373">]</span><span class="builtintype" id="3210374">byte</span><span class="op" id="3210378">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210382">sv</span>&nbsp;<span class="op" id="3210385">=</span>&nbsp;<span class="ident" id="3210387">reflect</span><span class="op" id="3210394">.</span><span class="ident" id="3210395">ValueOf</span><span class="op" id="3210402">(</span><span class="ident" id="3210403">src</span><span class="op" id="3210406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210410">if</span>&nbsp;<span class="ident" id="3210413">b</span><span class="op" id="3210414">,</span>&nbsp;<span class="ident" id="3210416">ok</span>&nbsp;<span class="op" id="3210419">:=</span>&nbsp;<span class="ident" id="3210422">asBytes</span><span class="op" id="3210429">(</span><span class="ident" id="3210430">nil</span><span class="op" id="3210433">,</span>&nbsp;<span class="ident" id="3210435">sv</span><span class="op" id="3210437">)</span><span class="op" id="3210438">;</span>&nbsp;<span class="ident" id="3210440">ok</span>&nbsp;<span class="op" id="3210443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210448">*</span><span class="ident" id="3210449">d</span>&nbsp;<span class="op" id="3210451">=</span>&nbsp;<span class="ident" id="3210453">b</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210458">return</span>&nbsp;<span class="ident" id="3210465">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210474">case</span>&nbsp;<span class="op" id="3210479">*</span><span class="ident" id="3210480">RawBytes</span><span class="op" id="3210488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210492">sv</span>&nbsp;<span class="op" id="3210495">=</span>&nbsp;<span class="ident" id="3210497">reflect</span><span class="op" id="3210504">.</span><span class="ident" id="3210505">ValueOf</span><span class="op" id="3210512">(</span><span class="ident" id="3210513">src</span><span class="op" id="3210516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210520">if</span>&nbsp;<span class="ident" id="3210523">b</span><span class="op" id="3210524">,</span>&nbsp;<span class="ident" id="3210526">ok</span>&nbsp;<span class="op" id="3210529">:=</span>&nbsp;<span class="ident" id="3210532">asBytes</span><span class="op" id="3210539">(</span><span class="op" id="3210540">[</span><span class="op" id="3210541">]</span><span class="builtintype" id="3210542">byte</span><span class="op" id="3210546">(</span><span class="op" id="3210547">*</span><span class="ident" id="3210548">d</span><span class="op" id="3210549">)</span><span class="op" id="3210550">[</span><span class="op" id="3210551">:</span><span class="num" id="3210552">0</span><span class="op" id="3210553">]</span><span class="op" id="3210554">,</span>&nbsp;<span class="ident" id="3210556">sv</span><span class="op" id="3210558">)</span><span class="op" id="3210559">;</span>&nbsp;<span class="ident" id="3210561">ok</span>&nbsp;<span class="op" id="3210564">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210569">*</span><span class="ident" id="3210570">d</span>&nbsp;<span class="op" id="3210572">=</span>&nbsp;<span class="ident" id="3210574">RawBytes</span><span class="op" id="3210582">(</span><span class="ident" id="3210583">b</span><span class="op" id="3210584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210589">return</span>&nbsp;<span class="ident" id="3210596">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210605">case</span>&nbsp;<span class="op" id="3210610">*</span><span class="builtintype" id="3210611">bool</span><span class="op" id="3210615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210619">bv</span><span class="op" id="3210621">,</span>&nbsp;<span class="ident" id="3210623">err</span>&nbsp;<span class="op" id="3210627">:=</span>&nbsp;<span class="ident" id="3210630">driver</span><span class="op" id="3210636">.</span><span class="ident" id="3210637">Bool</span><span class="op" id="3210641">.</span><span class="ident" id="3210642">ConvertValue</span><span class="op" id="3210654">(</span><span class="ident" id="3210655">src</span><span class="op" id="3210658">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210662">if</span>&nbsp;<span class="ident" id="3210665">err</span>&nbsp;<span class="op" id="3210669">==</span>&nbsp;<span class="ident" id="3210672">nil</span>&nbsp;<span class="op" id="3210676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210681">*</span><span class="ident" id="3210682">d</span>&nbsp;<span class="op" id="3210684">=</span>&nbsp;<span class="ident" id="3210686">bv</span><span class="op" id="3210688">.</span><span class="op" id="3210689">(</span><span class="builtintype" id="3210690">bool</span><span class="op" id="3210694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210702">return</span>&nbsp;<span class="ident" id="3210709">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210714">case</span>&nbsp;<span class="op" id="3210719">*</span><span class="keyword" id="3210720">interface</span><span class="op" id="3210729">{</span><span class="op" id="3210730">}</span><span class="op" id="3210731">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210735">*</span><span class="ident" id="3210736">d</span>&nbsp;<span class="op" id="3210738">=</span>&nbsp;<span class="ident" id="3210740">src</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210746">return</span>&nbsp;<span class="ident" id="3210753">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210762">if</span>&nbsp;<span class="ident" id="3210765">scanner</span><span class="op" id="3210772">,</span>&nbsp;<span class="ident" id="3210774">ok</span>&nbsp;<span class="op" id="3210777">:=</span>&nbsp;<span class="ident" id="3210780">dest</span><span class="op" id="3210784">.</span><span class="op" id="3210785">(</span><span class="ident" id="3210786">Scanner</span><span class="op" id="3210793">)</span><span class="op" id="3210794">;</span>&nbsp;<span class="ident" id="3210796">ok</span>&nbsp;<span class="op" id="3210799">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210803">return</span>&nbsp;<span class="ident" id="3210810">scanner</span><span class="op" id="3210817">.</span><span class="ident" id="3210818">Scan</span><span class="op" id="3210822">(</span><span class="ident" id="3210823">src</span><span class="op" id="3210826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210833">dpv</span>&nbsp;<span class="op" id="3210837">:=</span>&nbsp;<span class="ident" id="3210840">reflect</span><span class="op" id="3210847">.</span><span class="ident" id="3210848">ValueOf</span><span class="op" id="3210855">(</span><span class="ident" id="3210856">dest</span><span class="op" id="3210860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210863">if</span>&nbsp;<span class="ident" id="3210866">dpv</span><span class="op" id="3210869">.</span><span class="ident" id="3210870">Kind</span><span class="op" id="3210874">(</span><span class="op" id="3210875">)</span>&nbsp;<span class="op" id="3210877">!=</span>&nbsp;<span class="ident" id="3210880">reflect</span><span class="op" id="3210887">.</span><span class="ident" id="3210888">Ptr</span>&nbsp;<span class="op" id="3210892">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210896">return</span>&nbsp;<span class="ident" id="3210903">errors</span><span class="op" id="3210909">.</span><span class="ident" id="3210910">New</span><span class="op" id="3210913">(</span><span class="string" id="3210914">&#34;destination&nbsp;not&nbsp;a&nbsp;pointer&#34;</span><span class="op" id="3210941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210947">if</span>&nbsp;<span class="ident" id="3210950">dpv</span><span class="op" id="3210953">.</span><span class="ident" id="3210954">IsNil</span><span class="op" id="3210959">(</span><span class="op" id="3210960">)</span>&nbsp;<span class="op" id="3210962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210966">return</span>&nbsp;<span class="ident" id="3210973">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210984">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210988">if</span>&nbsp;<span class="op" id="3210991">!</span><span class="ident" id="3210992">sv</span><span class="op" id="3210994">.</span><span class="ident" id="3210995">IsValid</span><span class="op" id="3211002">(</span><span class="op" id="3211003">)</span>&nbsp;<span class="op" id="3211005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211009">sv</span>&nbsp;<span class="op" id="3211012">=</span>&nbsp;<span class="ident" id="3211014">reflect</span><span class="op" id="3211021">.</span><span class="ident" id="3211022">ValueOf</span><span class="op" id="3211029">(</span><span class="ident" id="3211030">src</span><span class="op" id="3211033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211040">dv</span>&nbsp;<span class="op" id="3211043">:=</span>&nbsp;<span class="ident" id="3211046">reflect</span><span class="op" id="3211053">.</span><span class="ident" id="3211054">Indirect</span><span class="op" id="3211062">(</span><span class="ident" id="3211063">dpv</span><span class="op" id="3211066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211069">if</span>&nbsp;<span class="ident" id="3211072">dv</span><span class="op" id="3211074">.</span><span class="ident" id="3211075">Kind</span><span class="op" id="3211079">(</span><span class="op" id="3211080">)</span>&nbsp;<span class="op" id="3211082">==</span>&nbsp;<span class="ident" id="3211085">sv</span><span class="op" id="3211087">.</span><span class="ident" id="3211088">Kind</span><span class="op" id="3211092">(</span><span class="op" id="3211093">)</span>&nbsp;<span class="op" id="3211095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211099">dv</span><span class="op" id="3211101">.</span><span class="ident" id="3211102">Set</span><span class="op" id="3211105">(</span><span class="ident" id="3211106">sv</span><span class="op" id="3211108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211112">return</span>&nbsp;<span class="ident" id="3211119">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211124">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211128">switch</span>&nbsp;<span class="ident" id="3211135">dv</span><span class="op" id="3211137">.</span><span class="ident" id="3211138">Kind</span><span class="op" id="3211142">(</span><span class="op" id="3211143">)</span>&nbsp;<span class="op" id="3211145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211148">case</span>&nbsp;<span class="ident" id="3211153">reflect</span><span class="op" id="3211160">.</span><span class="ident" id="3211161">Ptr</span><span class="op" id="3211164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211168">if</span>&nbsp;<span class="ident" id="3211171">src</span>&nbsp;<span class="op" id="3211175">==</span>&nbsp;<span class="ident" id="3211178">nil</span>&nbsp;<span class="op" id="3211182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211187">dv</span><span class="op" id="3211189">.</span><span class="ident" id="3211190">Set</span><span class="op" id="3211193">(</span><span class="ident" id="3211194">reflect</span><span class="op" id="3211201">.</span><span class="ident" id="3211202">Zero</span><span class="op" id="3211206">(</span><span class="ident" id="3211207">dv</span><span class="op" id="3211209">.</span><span class="ident" id="3211210">Type</span><span class="op" id="3211214">(</span><span class="op" id="3211215">)</span><span class="op" id="3211216">)</span><span class="op" id="3211217">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211222">return</span>&nbsp;<span class="ident" id="3211229">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211235">}</span>&nbsp;<span class="keyword" id="3211237">else</span>&nbsp;<span class="op" id="3211242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211247">dv</span><span class="op" id="3211249">.</span><span class="ident" id="3211250">Set</span><span class="op" id="3211253">(</span><span class="ident" id="3211254">reflect</span><span class="op" id="3211261">.</span><span class="ident" id="3211262">New</span><span class="op" id="3211265">(</span><span class="ident" id="3211266">dv</span><span class="op" id="3211268">.</span><span class="ident" id="3211269">Type</span><span class="op" id="3211273">(</span><span class="op" id="3211274">)</span><span class="op" id="3211275">.</span><span class="ident" id="3211276">Elem</span><span class="op" id="3211280">(</span><span class="op" id="3211281">)</span><span class="op" id="3211282">)</span><span class="op" id="3211283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211288">return</span>&nbsp;<span class="ident" id="3211295">convertAssign</span><span class="op" id="3211308">(</span><span class="ident" id="3211309">dv</span><span class="op" id="3211311">.</span><span class="ident" id="3211312">Interface</span><span class="op" id="3211321">(</span><span class="op" id="3211322">)</span><span class="op" id="3211323">,</span>&nbsp;<span class="ident" id="3211325">src</span><span class="op" id="3211328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211332">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211335">case</span>&nbsp;<span class="ident" id="3211340">reflect</span><span class="op" id="3211347">.</span><span class="ident" id="3211348">Int</span><span class="op" id="3211351">,</span>&nbsp;<span class="ident" id="3211353">reflect</span><span class="op" id="3211360">.</span><span class="ident" id="3211361">Int8</span><span class="op" id="3211365">,</span>&nbsp;<span class="ident" id="3211367">reflect</span><span class="op" id="3211374">.</span><span class="ident" id="3211375">Int16</span><span class="op" id="3211380">,</span>&nbsp;<span class="ident" id="3211382">reflect</span><span class="op" id="3211389">.</span><span class="ident" id="3211390">Int32</span><span class="op" id="3211395">,</span>&nbsp;<span class="ident" id="3211397">reflect</span><span class="op" id="3211404">.</span><span class="ident" id="3211405">Int64</span><span class="op" id="3211410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211414">s</span>&nbsp;<span class="op" id="3211416">:=</span>&nbsp;<span class="ident" id="3211419">asString</span><span class="op" id="3211427">(</span><span class="ident" id="3211428">src</span><span class="op" id="3211431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211435">i64</span><span class="op" id="3211438">,</span>&nbsp;<span class="ident" id="3211440">err</span>&nbsp;<span class="op" id="3211444">:=</span>&nbsp;<span class="ident" id="3211447">strconv</span><span class="op" id="3211454">.</span><span class="ident" id="3211455">ParseInt</span><span class="op" id="3211463">(</span><span class="ident" id="3211464">s</span><span class="op" id="3211465">,</span>&nbsp;<span class="num" id="3211467">10</span><span class="op" id="3211469">,</span>&nbsp;<span class="ident" id="3211471">dv</span><span class="op" id="3211473">.</span><span class="ident" id="3211474">Type</span><span class="op" id="3211478">(</span><span class="op" id="3211479">)</span><span class="op" id="3211480">.</span><span class="ident" id="3211481">Bits</span><span class="op" id="3211485">(</span><span class="op" id="3211486">)</span><span class="op" id="3211487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211491">if</span>&nbsp;<span class="ident" id="3211494">err</span>&nbsp;<span class="op" id="3211498">!=</span>&nbsp;<span class="ident" id="3211501">nil</span>&nbsp;<span class="op" id="3211505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211510">return</span>&nbsp;<span class="ident" id="3211517">fmt</span><span class="op" id="3211520">.</span><span class="ident" id="3211521">Errorf</span><span class="op" id="3211527">(</span><span class="string" id="3211528">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="3211562">,</span>&nbsp;<span class="ident" id="3211564">s</span><span class="op" id="3211565">,</span>&nbsp;<span class="ident" id="3211567">dv</span><span class="op" id="3211569">.</span><span class="ident" id="3211570">Kind</span><span class="op" id="3211574">(</span><span class="op" id="3211575">)</span><span class="op" id="3211576">,</span>&nbsp;<span class="ident" id="3211578">err</span><span class="op" id="3211581">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211589">dv</span><span class="op" id="3211591">.</span><span class="ident" id="3211592">SetInt</span><span class="op" id="3211598">(</span><span class="ident" id="3211599">i64</span><span class="op" id="3211602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211606">return</span>&nbsp;<span class="ident" id="3211613">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211618">case</span>&nbsp;<span class="ident" id="3211623">reflect</span><span class="op" id="3211630">.</span><span class="ident" id="3211631">Uint</span><span class="op" id="3211635">,</span>&nbsp;<span class="ident" id="3211637">reflect</span><span class="op" id="3211644">.</span><span class="ident" id="3211645">Uint8</span><span class="op" id="3211650">,</span>&nbsp;<span class="ident" id="3211652">reflect</span><span class="op" id="3211659">.</span><span class="ident" id="3211660">Uint16</span><span class="op" id="3211666">,</span>&nbsp;<span class="ident" id="3211668">reflect</span><span class="op" id="3211675">.</span><span class="ident" id="3211676">Uint32</span><span class="op" id="3211682">,</span>&nbsp;<span class="ident" id="3211684">reflect</span><span class="op" id="3211691">.</span><span class="ident" id="3211692">Uint64</span><span class="op" id="3211698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211702">s</span>&nbsp;<span class="op" id="3211704">:=</span>&nbsp;<span class="ident" id="3211707">asString</span><span class="op" id="3211715">(</span><span class="ident" id="3211716">src</span><span class="op" id="3211719">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211723">u64</span><span class="op" id="3211726">,</span>&nbsp;<span class="ident" id="3211728">err</span>&nbsp;<span class="op" id="3211732">:=</span>&nbsp;<span class="ident" id="3211735">strconv</span><span class="op" id="3211742">.</span><span class="ident" id="3211743">ParseUint</span><span class="op" id="3211752">(</span><span class="ident" id="3211753">s</span><span class="op" id="3211754">,</span>&nbsp;<span class="num" id="3211756">10</span><span class="op" id="3211758">,</span>&nbsp;<span class="ident" id="3211760">dv</span><span class="op" id="3211762">.</span><span class="ident" id="3211763">Type</span><span class="op" id="3211767">(</span><span class="op" id="3211768">)</span><span class="op" id="3211769">.</span><span class="ident" id="3211770">Bits</span><span class="op" id="3211774">(</span><span class="op" id="3211775">)</span><span class="op" id="3211776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211780">if</span>&nbsp;<span class="ident" id="3211783">err</span>&nbsp;<span class="op" id="3211787">!=</span>&nbsp;<span class="ident" id="3211790">nil</span>&nbsp;<span class="op" id="3211794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211799">return</span>&nbsp;<span class="ident" id="3211806">fmt</span><span class="op" id="3211809">.</span><span class="ident" id="3211810">Errorf</span><span class="op" id="3211816">(</span><span class="string" id="3211817">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="3211851">,</span>&nbsp;<span class="ident" id="3211853">s</span><span class="op" id="3211854">,</span>&nbsp;<span class="ident" id="3211856">dv</span><span class="op" id="3211858">.</span><span class="ident" id="3211859">Kind</span><span class="op" id="3211863">(</span><span class="op" id="3211864">)</span><span class="op" id="3211865">,</span>&nbsp;<span class="ident" id="3211867">err</span><span class="op" id="3211870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211878">dv</span><span class="op" id="3211880">.</span><span class="ident" id="3211881">SetUint</span><span class="op" id="3211888">(</span><span class="ident" id="3211889">u64</span><span class="op" id="3211892">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211896">return</span>&nbsp;<span class="ident" id="3211903">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211908">case</span>&nbsp;<span class="ident" id="3211913">reflect</span><span class="op" id="3211920">.</span><span class="ident" id="3211921">Float32</span><span class="op" id="3211928">,</span>&nbsp;<span class="ident" id="3211930">reflect</span><span class="op" id="3211937">.</span><span class="ident" id="3211938">Float64</span><span class="op" id="3211945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211949">s</span>&nbsp;<span class="op" id="3211951">:=</span>&nbsp;<span class="ident" id="3211954">asString</span><span class="op" id="3211962">(</span><span class="ident" id="3211963">src</span><span class="op" id="3211966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211970">f64</span><span class="op" id="3211973">,</span>&nbsp;<span class="ident" id="3211975">err</span>&nbsp;<span class="op" id="3211979">:=</span>&nbsp;<span class="ident" id="3211982">strconv</span><span class="op" id="3211989">.</span><span class="ident" id="3211990">ParseFloat</span><span class="op" id="3212000">(</span><span class="ident" id="3212001">s</span><span class="op" id="3212002">,</span>&nbsp;<span class="ident" id="3212004">dv</span><span class="op" id="3212006">.</span><span class="ident" id="3212007">Type</span><span class="op" id="3212011">(</span><span class="op" id="3212012">)</span><span class="op" id="3212013">.</span><span class="ident" id="3212014">Bits</span><span class="op" id="3212018">(</span><span class="op" id="3212019">)</span><span class="op" id="3212020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212024">if</span>&nbsp;<span class="ident" id="3212027">err</span>&nbsp;<span class="op" id="3212031">!=</span>&nbsp;<span class="ident" id="3212034">nil</span>&nbsp;<span class="op" id="3212038">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212043">return</span>&nbsp;<span class="ident" id="3212050">fmt</span><span class="op" id="3212053">.</span><span class="ident" id="3212054">Errorf</span><span class="op" id="3212060">(</span><span class="string" id="3212061">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="3212095">,</span>&nbsp;<span class="ident" id="3212097">s</span><span class="op" id="3212098">,</span>&nbsp;<span class="ident" id="3212100">dv</span><span class="op" id="3212102">.</span><span class="ident" id="3212103">Kind</span><span class="op" id="3212107">(</span><span class="op" id="3212108">)</span><span class="op" id="3212109">,</span>&nbsp;<span class="ident" id="3212111">err</span><span class="op" id="3212114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3212122">dv</span><span class="op" id="3212124">.</span><span class="ident" id="3212125">SetFloat</span><span class="op" id="3212133">(</span><span class="ident" id="3212134">f64</span><span class="op" id="3212137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212141">return</span>&nbsp;<span class="ident" id="3212148">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212153">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212157">return</span>&nbsp;<span class="ident" id="3212164">fmt</span><span class="op" id="3212167">.</span><span class="ident" id="3212168">Errorf</span><span class="op" id="3212174">(</span><span class="string" id="3212175">&#34;unsupported&nbsp;driver&nbsp;-&gt;&nbsp;Scan&nbsp;pair:&nbsp;%T&nbsp;-&gt;&nbsp;%T&#34;</span><span class="op" id="3212218">,</span>&nbsp;<span class="ident" id="3212220">src</span><span class="op" id="3212223">,</span>&nbsp;<span class="ident" id="3212225">dest</span><span class="op" id="3212229">)</span><br>
<span class="lineno"></span><span class="op" id="3212231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3212234">func</span>&nbsp;<span class="ident" id="3212239">cloneBytes</span><span class="op" id="3212249">(</span><span class="ident" id="3212250">b</span>&nbsp;<span class="op" id="3212252">[</span><span class="op" id="3212253">]</span><span class="builtintype" id="3212254">byte</span><span class="op" id="3212258">)</span>&nbsp;<span class="op" id="3212260">[</span><span class="op" id="3212261">]</span><span class="builtintype" id="3212262">byte</span>&nbsp;<span class="op" id="3212267">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212270">if</span>&nbsp;<span class="ident" id="3212273">b</span>&nbsp;<span class="op" id="3212275">==</span>&nbsp;<span class="ident" id="3212278">nil</span>&nbsp;<span class="op" id="3212282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212286">return</span>&nbsp;<span class="ident" id="3212293">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212298">}</span>&nbsp;<span class="keyword" id="3212300">else</span>&nbsp;<span class="op" id="3212305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3212309">c</span>&nbsp;<span class="op" id="3212311">:=</span>&nbsp;<span class="builtinfunc" id="3212314">make</span><span class="op" id="3212318">(</span><span class="op" id="3212319">[</span><span class="op" id="3212320">]</span><span class="builtintype" id="3212321">byte</span><span class="op" id="3212325">,</span>&nbsp;<span class="builtinfunc" id="3212327">len</span><span class="op" id="3212330">(</span><span class="ident" id="3212331">b</span><span class="op" id="3212332">)</span><span class="op" id="3212333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3212337">copy</span><span class="op" id="3212341">(</span><span class="ident" id="3212342">c</span><span class="op" id="3212343">,</span>&nbsp;<span class="ident" id="3212345">b</span><span class="op" id="3212346">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212350">return</span>&nbsp;<span class="ident" id="3212357">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212360">}</span><br>
<span class="lineno"></span><span class="op" id="3212362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3212365">func</span>&nbsp;<span class="ident" id="3212370">asString</span><span class="op" id="3212378">(</span><span class="ident" id="3212379">src</span>&nbsp;<span class="keyword" id="3212383">interface</span><span class="op" id="3212392">{</span><span class="op" id="3212393">}</span><span class="op" id="3212394">)</span>&nbsp;<span class="builtintype" id="3212396">string</span>&nbsp;<span class="op" id="3212403">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212406">switch</span>&nbsp;<span class="ident" id="3212413">v</span>&nbsp;<span class="op" id="3212415">:=</span>&nbsp;<span class="ident" id="3212418">src</span><span class="op" id="3212421">.</span><span class="op" id="3212422">(</span><span class="keyword" id="3212423">type</span><span class="op" id="3212427">)</span>&nbsp;<span class="op" id="3212429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212432">case</span>&nbsp;<span class="builtintype" id="3212437">string</span><span class="op" id="3212443">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212447">return</span>&nbsp;<span class="ident" id="3212454">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212457">case</span>&nbsp;<span class="op" id="3212462">[</span><span class="op" id="3212463">]</span><span class="builtintype" id="3212464">byte</span><span class="op" id="3212468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212472">return</span>&nbsp;<span class="builtintype" id="3212479">string</span><span class="op" id="3212485">(</span><span class="ident" id="3212486">v</span><span class="op" id="3212487">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3212493">rv</span>&nbsp;<span class="op" id="3212496">:=</span>&nbsp;<span class="ident" id="3212499">reflect</span><span class="op" id="3212506">.</span><span class="ident" id="3212507">ValueOf</span><span class="op" id="3212514">(</span><span class="ident" id="3212515">src</span><span class="op" id="3212518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212521">switch</span>&nbsp;<span class="ident" id="3212528">rv</span><span class="op" id="3212530">.</span><span class="ident" id="3212531">Kind</span><span class="op" id="3212535">(</span><span class="op" id="3212536">)</span>&nbsp;<span class="op" id="3212538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212541">case</span>&nbsp;<span class="ident" id="3212546">reflect</span><span class="op" id="3212553">.</span><span class="ident" id="3212554">Int</span><span class="op" id="3212557">,</span>&nbsp;<span class="ident" id="3212559">reflect</span><span class="op" id="3212566">.</span><span class="ident" id="3212567">Int8</span><span class="op" id="3212571">,</span>&nbsp;<span class="ident" id="3212573">reflect</span><span class="op" id="3212580">.</span><span class="ident" id="3212581">Int16</span><span class="op" id="3212586">,</span>&nbsp;<span class="ident" id="3212588">reflect</span><span class="op" id="3212595">.</span><span class="ident" id="3212596">Int32</span><span class="op" id="3212601">,</span>&nbsp;<span class="ident" id="3212603">reflect</span><span class="op" id="3212610">.</span><span class="ident" id="3212611">Int64</span><span class="op" id="3212616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212620">return</span>&nbsp;<span class="ident" id="3212627">strconv</span><span class="op" id="3212634">.</span><span class="ident" id="3212635">FormatInt</span><span class="op" id="3212644">(</span><span class="ident" id="3212645">rv</span><span class="op" id="3212647">.</span><span class="ident" id="3212648">Int</span><span class="op" id="3212651">(</span><span class="op" id="3212652">)</span><span class="op" id="3212653">,</span>&nbsp;<span class="num" id="3212655">10</span><span class="op" id="3212657">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212660">case</span>&nbsp;<span class="ident" id="3212665">reflect</span><span class="op" id="3212672">.</span><span class="ident" id="3212673">Uint</span><span class="op" id="3212677">,</span>&nbsp;<span class="ident" id="3212679">reflect</span><span class="op" id="3212686">.</span><span class="ident" id="3212687">Uint8</span><span class="op" id="3212692">,</span>&nbsp;<span class="ident" id="3212694">reflect</span><span class="op" id="3212701">.</span><span class="ident" id="3212702">Uint16</span><span class="op" id="3212708">,</span>&nbsp;<span class="ident" id="3212710">reflect</span><span class="op" id="3212717">.</span><span class="ident" id="3212718">Uint32</span><span class="op" id="3212724">,</span>&nbsp;<span class="ident" id="3212726">reflect</span><span class="op" id="3212733">.</span><span class="ident" id="3212734">Uint64</span><span class="op" id="3212740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212744">return</span>&nbsp;<span class="ident" id="3212751">strconv</span><span class="op" id="3212758">.</span><span class="ident" id="3212759">FormatUint</span><span class="op" id="3212769">(</span><span class="ident" id="3212770">rv</span><span class="op" id="3212772">.</span><span class="ident" id="3212773">Uint</span><span class="op" id="3212777">(</span><span class="op" id="3212778">)</span><span class="op" id="3212779">,</span>&nbsp;<span class="num" id="3212781">10</span><span class="op" id="3212783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212786">case</span>&nbsp;<span class="ident" id="3212791">reflect</span><span class="op" id="3212798">.</span><span class="ident" id="3212799">Float64</span><span class="op" id="3212806">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212810">return</span>&nbsp;<span class="ident" id="3212817">strconv</span><span class="op" id="3212824">.</span><span class="ident" id="3212825">FormatFloat</span><span class="op" id="3212836">(</span><span class="ident" id="3212837">rv</span><span class="op" id="3212839">.</span><span class="ident" id="3212840">Float</span><span class="op" id="3212845">(</span><span class="op" id="3212846">)</span><span class="op" id="3212847">,</span>&nbsp;<span class="string" id="3212849">&#39;g&#39;</span><span class="op" id="3212852">,</span>&nbsp;<span class="op" id="3212854">-</span><span class="num" id="3212855">1</span><span class="op" id="3212856">,</span>&nbsp;<span class="num" id="3212858">64</span><span class="op" id="3212860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212863">case</span>&nbsp;<span class="ident" id="3212868">reflect</span><span class="op" id="3212875">.</span><span class="ident" id="3212876">Float32</span><span class="op" id="3212883">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212887">return</span>&nbsp;<span class="ident" id="3212894">strconv</span><span class="op" id="3212901">.</span><span class="ident" id="3212902">FormatFloat</span><span class="op" id="3212913">(</span><span class="ident" id="3212914">rv</span><span class="op" id="3212916">.</span><span class="ident" id="3212917">Float</span><span class="op" id="3212922">(</span><span class="op" id="3212923">)</span><span class="op" id="3212924">,</span>&nbsp;<span class="string" id="3212926">&#39;g&#39;</span><span class="op" id="3212929">,</span>&nbsp;<span class="op" id="3212931">-</span><span class="num" id="3212932">1</span><span class="op" id="3212933">,</span>&nbsp;<span class="num" id="3212935">32</span><span class="op" id="3212937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212940">case</span>&nbsp;<span class="ident" id="3212945">reflect</span><span class="op" id="3212952">.</span><span class="ident" id="3212953">Bool</span><span class="op" id="3212957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3212961">return</span>&nbsp;<span class="ident" id="3212968">strconv</span><span class="op" id="3212975">.</span><span class="ident" id="3212976">FormatBool</span><span class="op" id="3212986">(</span><span class="ident" id="3212987">rv</span><span class="op" id="3212989">.</span><span class="ident" id="3212990">Bool</span><span class="op" id="3212994">(</span><span class="op" id="3212995">)</span><span class="op" id="3212996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3212999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213002">return</span>&nbsp;<span class="ident" id="3213009">fmt</span><span class="op" id="3213012">.</span><span class="ident" id="3213013">Sprintf</span><span class="op" id="3213020">(</span><span class="string" id="3213021">&#34;%v&#34;</span><span class="op" id="3213025">,</span>&nbsp;<span class="ident" id="3213027">src</span><span class="op" id="3213030">)</span><br>
<span class="lineno">280</span><span class="op" id="3213032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3213035">func</span>&nbsp;<span class="ident" id="3213040">asBytes</span><span class="op" id="3213047">(</span><span class="ident" id="3213048">buf</span>&nbsp;<span class="op" id="3213052">[</span><span class="op" id="3213053">]</span><span class="builtintype" id="3213054">byte</span><span class="op" id="3213058">,</span>&nbsp;<span class="ident" id="3213060">rv</span>&nbsp;<span class="ident" id="3213063">reflect</span><span class="op" id="3213070">.</span><span class="ident" id="3213071">Value</span><span class="op" id="3213076">)</span>&nbsp;<span class="op" id="3213078">(</span><span class="ident" id="3213079">b</span>&nbsp;<span class="op" id="3213081">[</span><span class="op" id="3213082">]</span><span class="builtintype" id="3213083">byte</span><span class="op" id="3213087">,</span>&nbsp;<span class="ident" id="3213089">ok</span>&nbsp;<span class="builtintype" id="3213092">bool</span><span class="op" id="3213096">)</span>&nbsp;<span class="op" id="3213098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213101">switch</span>&nbsp;<span class="ident" id="3213108">rv</span><span class="op" id="3213110">.</span><span class="ident" id="3213111">Kind</span><span class="op" id="3213115">(</span><span class="op" id="3213116">)</span>&nbsp;<span class="op" id="3213118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213121">case</span>&nbsp;<span class="ident" id="3213126">reflect</span><span class="op" id="3213133">.</span><span class="ident" id="3213134">Int</span><span class="op" id="3213137">,</span>&nbsp;<span class="ident" id="3213139">reflect</span><span class="op" id="3213146">.</span><span class="ident" id="3213147">Int8</span><span class="op" id="3213151">,</span>&nbsp;<span class="ident" id="3213153">reflect</span><span class="op" id="3213160">.</span><span class="ident" id="3213161">Int16</span><span class="op" id="3213166">,</span>&nbsp;<span class="ident" id="3213168">reflect</span><span class="op" id="3213175">.</span><span class="ident" id="3213176">Int32</span><span class="op" id="3213181">,</span>&nbsp;<span class="ident" id="3213183">reflect</span><span class="op" id="3213190">.</span><span class="ident" id="3213191">Int64</span><span class="op" id="3213196">:</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213200">return</span>&nbsp;<span class="ident" id="3213207">strconv</span><span class="op" id="3213214">.</span><span class="ident" id="3213215">AppendInt</span><span class="op" id="3213224">(</span><span class="ident" id="3213225">buf</span><span class="op" id="3213228">,</span>&nbsp;<span class="ident" id="3213230">rv</span><span class="op" id="3213232">.</span><span class="ident" id="3213233">Int</span><span class="op" id="3213236">(</span><span class="op" id="3213237">)</span><span class="op" id="3213238">,</span>&nbsp;<span class="num" id="3213240">10</span><span class="op" id="3213242">)</span><span class="op" id="3213243">,</span>&nbsp;<span class="builtintype" id="3213245">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213251">case</span>&nbsp;<span class="ident" id="3213256">reflect</span><span class="op" id="3213263">.</span><span class="ident" id="3213264">Uint</span><span class="op" id="3213268">,</span>&nbsp;<span class="ident" id="3213270">reflect</span><span class="op" id="3213277">.</span><span class="ident" id="3213278">Uint8</span><span class="op" id="3213283">,</span>&nbsp;<span class="ident" id="3213285">reflect</span><span class="op" id="3213292">.</span><span class="ident" id="3213293">Uint16</span><span class="op" id="3213299">,</span>&nbsp;<span class="ident" id="3213301">reflect</span><span class="op" id="3213308">.</span><span class="ident" id="3213309">Uint32</span><span class="op" id="3213315">,</span>&nbsp;<span class="ident" id="3213317">reflect</span><span class="op" id="3213324">.</span><span class="ident" id="3213325">Uint64</span><span class="op" id="3213331">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213335">return</span>&nbsp;<span class="ident" id="3213342">strconv</span><span class="op" id="3213349">.</span><span class="ident" id="3213350">AppendUint</span><span class="op" id="3213360">(</span><span class="ident" id="3213361">buf</span><span class="op" id="3213364">,</span>&nbsp;<span class="ident" id="3213366">rv</span><span class="op" id="3213368">.</span><span class="ident" id="3213369">Uint</span><span class="op" id="3213373">(</span><span class="op" id="3213374">)</span><span class="op" id="3213375">,</span>&nbsp;<span class="num" id="3213377">10</span><span class="op" id="3213379">)</span><span class="op" id="3213380">,</span>&nbsp;<span class="builtintype" id="3213382">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213388">case</span>&nbsp;<span class="ident" id="3213393">reflect</span><span class="op" id="3213400">.</span><span class="ident" id="3213401">Float32</span><span class="op" id="3213408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213412">return</span>&nbsp;<span class="ident" id="3213419">strconv</span><span class="op" id="3213426">.</span><span class="ident" id="3213427">AppendFloat</span><span class="op" id="3213438">(</span><span class="ident" id="3213439">buf</span><span class="op" id="3213442">,</span>&nbsp;<span class="ident" id="3213444">rv</span><span class="op" id="3213446">.</span><span class="ident" id="3213447">Float</span><span class="op" id="3213452">(</span><span class="op" id="3213453">)</span><span class="op" id="3213454">,</span>&nbsp;<span class="string" id="3213456">&#39;g&#39;</span><span class="op" id="3213459">,</span>&nbsp;<span class="op" id="3213461">-</span><span class="num" id="3213462">1</span><span class="op" id="3213463">,</span>&nbsp;<span class="num" id="3213465">32</span><span class="op" id="3213467">)</span><span class="op" id="3213468">,</span>&nbsp;<span class="builtintype" id="3213470">true</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213476">case</span>&nbsp;<span class="ident" id="3213481">reflect</span><span class="op" id="3213488">.</span><span class="ident" id="3213489">Float64</span><span class="op" id="3213496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213500">return</span>&nbsp;<span class="ident" id="3213507">strconv</span><span class="op" id="3213514">.</span><span class="ident" id="3213515">AppendFloat</span><span class="op" id="3213526">(</span><span class="ident" id="3213527">buf</span><span class="op" id="3213530">,</span>&nbsp;<span class="ident" id="3213532">rv</span><span class="op" id="3213534">.</span><span class="ident" id="3213535">Float</span><span class="op" id="3213540">(</span><span class="op" id="3213541">)</span><span class="op" id="3213542">,</span>&nbsp;<span class="string" id="3213544">&#39;g&#39;</span><span class="op" id="3213547">,</span>&nbsp;<span class="op" id="3213549">-</span><span class="num" id="3213550">1</span><span class="op" id="3213551">,</span>&nbsp;<span class="num" id="3213553">64</span><span class="op" id="3213555">)</span><span class="op" id="3213556">,</span>&nbsp;<span class="builtintype" id="3213558">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213564">case</span>&nbsp;<span class="ident" id="3213569">reflect</span><span class="op" id="3213576">.</span><span class="ident" id="3213577">Bool</span><span class="op" id="3213581">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213585">return</span>&nbsp;<span class="ident" id="3213592">strconv</span><span class="op" id="3213599">.</span><span class="ident" id="3213600">AppendBool</span><span class="op" id="3213610">(</span><span class="ident" id="3213611">buf</span><span class="op" id="3213614">,</span>&nbsp;<span class="ident" id="3213616">rv</span><span class="op" id="3213618">.</span><span class="ident" id="3213619">Bool</span><span class="op" id="3213623">(</span><span class="op" id="3213624">)</span><span class="op" id="3213625">)</span><span class="op" id="3213626">,</span>&nbsp;<span class="builtintype" id="3213628">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213634">case</span>&nbsp;<span class="ident" id="3213639">reflect</span><span class="op" id="3213646">.</span><span class="ident" id="3213647">String</span><span class="op" id="3213653">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3213657">s</span>&nbsp;<span class="op" id="3213659">:=</span>&nbsp;<span class="ident" id="3213662">rv</span><span class="op" id="3213664">.</span><span class="ident" id="3213665">String</span><span class="op" id="3213671">(</span><span class="op" id="3213672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213676">return</span>&nbsp;<span class="builtinfunc" id="3213683">append</span><span class="op" id="3213689">(</span><span class="ident" id="3213690">buf</span><span class="op" id="3213693">,</span>&nbsp;<span class="ident" id="3213695">s</span><span class="op" id="3213696">...</span><span class="op" id="3213699">)</span><span class="op" id="3213700">,</span>&nbsp;<span class="builtintype" id="3213702">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3213708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3213711">return</span><br>
<span class="lineno"></span><span class="op" id="3213718">}</span>
</div>
</body>
</html>
