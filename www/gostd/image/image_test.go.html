<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7152468">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7152523">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7152577">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7152628">package</span>&nbsp;<span class="ident" id="7152636">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7152643">import</span>&nbsp;<span class="op" id="7152650">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7152653">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7152668">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7152678">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7152681">type</span>&nbsp;<span class="ident" id="7152686">image</span>&nbsp;<span class="keyword" id="7152692">interface</span>&nbsp;<span class="op" id="7152702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152705">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152712">Opaque</span><span class="op" id="7152718">(</span><span class="op" id="7152719">)</span>&nbsp;<span class="builtintype" id="7152721">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152727">Set</span><span class="op" id="7152730">(</span><span class="builtintype" id="7152731">int</span><span class="op" id="7152734">,</span>&nbsp;<span class="builtintype" id="7152736">int</span><span class="op" id="7152739">,</span>&nbsp;<span class="ident" id="7152741">color</span><span class="op" id="7152746">.</span><span class="ident" id="7152747">Color</span><span class="op" id="7152752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152755">SubImage</span><span class="op" id="7152763">(</span><span class="ident" id="7152764">Rectangle</span><span class="op" id="7152773">)</span>&nbsp;<span class="ident" id="7152775">Image</span><br>
<span class="lineno"></span><span class="op" id="7152781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7152784">func</span>&nbsp;<span class="ident" id="7152789">cmp</span><span class="op" id="7152792">(</span><span class="ident" id="7152793">t</span>&nbsp;<span class="op" id="7152795">*</span><span class="ident" id="7152796">testing</span><span class="op" id="7152803">.</span><span class="ident" id="7152804">T</span><span class="op" id="7152805">,</span>&nbsp;<span class="ident" id="7152807">cm</span>&nbsp;<span class="ident" id="7152810">color</span><span class="op" id="7152815">.</span><span class="ident" id="7152816">Model</span><span class="op" id="7152821">,</span>&nbsp;<span class="ident" id="7152823">c0</span><span class="op" id="7152825">,</span>&nbsp;<span class="ident" id="7152827">c1</span>&nbsp;<span class="ident" id="7152830">color</span><span class="op" id="7152835">.</span><span class="ident" id="7152836">Color</span><span class="op" id="7152841">)</span>&nbsp;<span class="builtintype" id="7152843">bool</span>&nbsp;<span class="op" id="7152848">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152851">r0</span><span class="op" id="7152853">,</span>&nbsp;<span class="ident" id="7152855">g0</span><span class="op" id="7152857">,</span>&nbsp;<span class="ident" id="7152859">b0</span><span class="op" id="7152861">,</span>&nbsp;<span class="ident" id="7152863">a0</span>&nbsp;<span class="op" id="7152866">:=</span>&nbsp;<span class="ident" id="7152869">cm</span><span class="op" id="7152871">.</span><span class="ident" id="7152872">Convert</span><span class="op" id="7152879">(</span><span class="ident" id="7152880">c0</span><span class="op" id="7152882">)</span><span class="op" id="7152883">.</span><span class="ident" id="7152884">RGBA</span><span class="op" id="7152888">(</span><span class="op" id="7152889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7152892">r1</span><span class="op" id="7152894">,</span>&nbsp;<span class="ident" id="7152896">g1</span><span class="op" id="7152898">,</span>&nbsp;<span class="ident" id="7152900">b1</span><span class="op" id="7152902">,</span>&nbsp;<span class="ident" id="7152904">a1</span>&nbsp;<span class="op" id="7152907">:=</span>&nbsp;<span class="ident" id="7152910">cm</span><span class="op" id="7152912">.</span><span class="ident" id="7152913">Convert</span><span class="op" id="7152920">(</span><span class="ident" id="7152921">c1</span><span class="op" id="7152923">)</span><span class="op" id="7152924">.</span><span class="ident" id="7152925">RGBA</span><span class="op" id="7152929">(</span><span class="op" id="7152930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7152933">return</span>&nbsp;<span class="ident" id="7152940">r0</span>&nbsp;<span class="op" id="7152943">==</span>&nbsp;<span class="ident" id="7152946">r1</span>&nbsp;<span class="op" id="7152949">&amp;&amp;</span>&nbsp;<span class="ident" id="7152952">g0</span>&nbsp;<span class="op" id="7152955">==</span>&nbsp;<span class="ident" id="7152958">g1</span>&nbsp;<span class="op" id="7152961">&amp;&amp;</span>&nbsp;<span class="ident" id="7152964">b0</span>&nbsp;<span class="op" id="7152967">==</span>&nbsp;<span class="ident" id="7152970">b1</span>&nbsp;<span class="op" id="7152973">&amp;&amp;</span>&nbsp;<span class="ident" id="7152976">a0</span>&nbsp;<span class="op" id="7152979">==</span>&nbsp;<span class="ident" id="7152982">a1</span><br>
<span class="lineno"></span><span class="op" id="7152985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7152988">func</span>&nbsp;<span class="ident" id="7152993">TestImage</span><span class="op" id="7153002">(</span><span class="ident" id="7153003">t</span>&nbsp;<span class="op" id="7153005">*</span><span class="ident" id="7153006">testing</span><span class="op" id="7153013">.</span><span class="ident" id="7153014">T</span><span class="op" id="7153015">)</span>&nbsp;<span class="op" id="7153017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153020">testImage</span>&nbsp;<span class="op" id="7153030">:=</span>&nbsp;<span class="op" id="7153033">[</span><span class="op" id="7153034">]</span><span class="ident" id="7153035">image</span><span class="op" id="7153040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153044">NewRGBA</span><span class="op" id="7153051">(</span><span class="ident" id="7153052">Rect</span><span class="op" id="7153056">(</span><span class="num" id="7153057">0</span><span class="op" id="7153058">,</span>&nbsp;<span class="num" id="7153060">0</span><span class="op" id="7153061">,</span>&nbsp;<span class="num" id="7153063">10</span><span class="op" id="7153065">,</span>&nbsp;<span class="num" id="7153067">10</span><span class="op" id="7153069">)</span><span class="op" id="7153070">)</span><span class="op" id="7153071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153075">NewRGBA64</span><span class="op" id="7153084">(</span><span class="ident" id="7153085">Rect</span><span class="op" id="7153089">(</span><span class="num" id="7153090">0</span><span class="op" id="7153091">,</span>&nbsp;<span class="num" id="7153093">0</span><span class="op" id="7153094">,</span>&nbsp;<span class="num" id="7153096">10</span><span class="op" id="7153098">,</span>&nbsp;<span class="num" id="7153100">10</span><span class="op" id="7153102">)</span><span class="op" id="7153103">)</span><span class="op" id="7153104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153108">NewNRGBA</span><span class="op" id="7153116">(</span><span class="ident" id="7153117">Rect</span><span class="op" id="7153121">(</span><span class="num" id="7153122">0</span><span class="op" id="7153123">,</span>&nbsp;<span class="num" id="7153125">0</span><span class="op" id="7153126">,</span>&nbsp;<span class="num" id="7153128">10</span><span class="op" id="7153130">,</span>&nbsp;<span class="num" id="7153132">10</span><span class="op" id="7153134">)</span><span class="op" id="7153135">)</span><span class="op" id="7153136">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153140">NewNRGBA64</span><span class="op" id="7153150">(</span><span class="ident" id="7153151">Rect</span><span class="op" id="7153155">(</span><span class="num" id="7153156">0</span><span class="op" id="7153157">,</span>&nbsp;<span class="num" id="7153159">0</span><span class="op" id="7153160">,</span>&nbsp;<span class="num" id="7153162">10</span><span class="op" id="7153164">,</span>&nbsp;<span class="num" id="7153166">10</span><span class="op" id="7153168">)</span><span class="op" id="7153169">)</span><span class="op" id="7153170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153174">NewAlpha</span><span class="op" id="7153182">(</span><span class="ident" id="7153183">Rect</span><span class="op" id="7153187">(</span><span class="num" id="7153188">0</span><span class="op" id="7153189">,</span>&nbsp;<span class="num" id="7153191">0</span><span class="op" id="7153192">,</span>&nbsp;<span class="num" id="7153194">10</span><span class="op" id="7153196">,</span>&nbsp;<span class="num" id="7153198">10</span><span class="op" id="7153200">)</span><span class="op" id="7153201">)</span><span class="op" id="7153202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153206">NewAlpha16</span><span class="op" id="7153216">(</span><span class="ident" id="7153217">Rect</span><span class="op" id="7153221">(</span><span class="num" id="7153222">0</span><span class="op" id="7153223">,</span>&nbsp;<span class="num" id="7153225">0</span><span class="op" id="7153226">,</span>&nbsp;<span class="num" id="7153228">10</span><span class="op" id="7153230">,</span>&nbsp;<span class="num" id="7153232">10</span><span class="op" id="7153234">)</span><span class="op" id="7153235">)</span><span class="op" id="7153236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153240">NewGray</span><span class="op" id="7153247">(</span><span class="ident" id="7153248">Rect</span><span class="op" id="7153252">(</span><span class="num" id="7153253">0</span><span class="op" id="7153254">,</span>&nbsp;<span class="num" id="7153256">0</span><span class="op" id="7153257">,</span>&nbsp;<span class="num" id="7153259">10</span><span class="op" id="7153261">,</span>&nbsp;<span class="num" id="7153263">10</span><span class="op" id="7153265">)</span><span class="op" id="7153266">)</span><span class="op" id="7153267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153271">NewGray16</span><span class="op" id="7153280">(</span><span class="ident" id="7153281">Rect</span><span class="op" id="7153285">(</span><span class="num" id="7153286">0</span><span class="op" id="7153287">,</span>&nbsp;<span class="num" id="7153289">0</span><span class="op" id="7153290">,</span>&nbsp;<span class="num" id="7153292">10</span><span class="op" id="7153294">,</span>&nbsp;<span class="num" id="7153296">10</span><span class="op" id="7153298">)</span><span class="op" id="7153299">)</span><span class="op" id="7153300">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153304">NewPaletted</span><span class="op" id="7153315">(</span><span class="ident" id="7153316">Rect</span><span class="op" id="7153320">(</span><span class="num" id="7153321">0</span><span class="op" id="7153322">,</span>&nbsp;<span class="num" id="7153324">0</span><span class="op" id="7153325">,</span>&nbsp;<span class="num" id="7153327">10</span><span class="op" id="7153329">,</span>&nbsp;<span class="num" id="7153331">10</span><span class="op" id="7153333">)</span><span class="op" id="7153334">,</span>&nbsp;<span class="ident" id="7153336">color</span><span class="op" id="7153341">.</span><span class="ident" id="7153342">Palette</span><span class="op" id="7153349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153354">Transparent</span><span class="op" id="7153365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153370">Opaque</span><span class="op" id="7153376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153380">}</span><span class="op" id="7153381">)</span><span class="op" id="7153382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153385">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153388">for</span>&nbsp;<span class="ident" id="7153392">_</span><span class="op" id="7153393">,</span>&nbsp;<span class="ident" id="7153395">m</span>&nbsp;<span class="op" id="7153397">:=</span>&nbsp;<span class="keyword" id="7153400">range</span>&nbsp;<span class="ident" id="7153406">testImage</span>&nbsp;<span class="op" id="7153416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153420">if</span>&nbsp;<span class="op" id="7153423">!</span><span class="ident" id="7153424">Rect</span><span class="op" id="7153428">(</span><span class="num" id="7153429">0</span><span class="op" id="7153430">,</span>&nbsp;<span class="num" id="7153432">0</span><span class="op" id="7153433">,</span>&nbsp;<span class="num" id="7153435">10</span><span class="op" id="7153437">,</span>&nbsp;<span class="num" id="7153439">10</span><span class="op" id="7153441">)</span><span class="op" id="7153442">.</span><span class="ident" id="7153443">Eq</span><span class="op" id="7153445">(</span><span class="ident" id="7153446">m</span><span class="op" id="7153447">.</span><span class="ident" id="7153448">Bounds</span><span class="op" id="7153454">(</span><span class="op" id="7153455">)</span><span class="op" id="7153456">)</span>&nbsp;<span class="op" id="7153458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153463">t</span><span class="op" id="7153464">.</span><span class="ident" id="7153465">Errorf</span><span class="op" id="7153471">(</span><span class="string" id="7153472">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7153500">,</span>&nbsp;<span class="ident" id="7153502">m</span><span class="op" id="7153503">,</span>&nbsp;<span class="ident" id="7153505">Rect</span><span class="op" id="7153509">(</span><span class="num" id="7153510">0</span><span class="op" id="7153511">,</span>&nbsp;<span class="num" id="7153513">0</span><span class="op" id="7153514">,</span>&nbsp;<span class="num" id="7153516">10</span><span class="op" id="7153518">,</span>&nbsp;<span class="num" id="7153520">10</span><span class="op" id="7153522">)</span><span class="op" id="7153523">,</span>&nbsp;<span class="ident" id="7153525">m</span><span class="op" id="7153526">.</span><span class="ident" id="7153527">Bounds</span><span class="op" id="7153533">(</span><span class="op" id="7153534">)</span><span class="op" id="7153535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153540">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153551">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153555">if</span>&nbsp;<span class="op" id="7153558">!</span><span class="ident" id="7153559">cmp</span><span class="op" id="7153562">(</span><span class="ident" id="7153563">t</span><span class="op" id="7153564">,</span>&nbsp;<span class="ident" id="7153566">m</span><span class="op" id="7153567">.</span><span class="ident" id="7153568">ColorModel</span><span class="op" id="7153578">(</span><span class="op" id="7153579">)</span><span class="op" id="7153580">,</span>&nbsp;<span class="ident" id="7153582">Transparent</span><span class="op" id="7153593">,</span>&nbsp;<span class="ident" id="7153595">m</span><span class="op" id="7153596">.</span><span class="ident" id="7153597">At</span><span class="op" id="7153599">(</span><span class="num" id="7153600">6</span><span class="op" id="7153601">,</span>&nbsp;<span class="num" id="7153603">3</span><span class="op" id="7153604">)</span><span class="op" id="7153605">)</span>&nbsp;<span class="op" id="7153607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153612">t</span><span class="op" id="7153613">.</span><span class="ident" id="7153614">Errorf</span><span class="op" id="7153620">(</span><span class="string" id="7153621">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7153663">,</span>&nbsp;<span class="ident" id="7153665">m</span><span class="op" id="7153666">,</span>&nbsp;<span class="ident" id="7153668">m</span><span class="op" id="7153669">.</span><span class="ident" id="7153670">At</span><span class="op" id="7153672">(</span><span class="num" id="7153673">6</span><span class="op" id="7153674">,</span>&nbsp;<span class="num" id="7153676">3</span><span class="op" id="7153677">)</span><span class="op" id="7153678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153683">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153698">m</span><span class="op" id="7153699">.</span><span class="ident" id="7153700">Set</span><span class="op" id="7153703">(</span><span class="num" id="7153704">6</span><span class="op" id="7153705">,</span>&nbsp;<span class="num" id="7153707">3</span><span class="op" id="7153708">,</span>&nbsp;<span class="ident" id="7153710">Opaque</span><span class="op" id="7153716">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153720">if</span>&nbsp;<span class="op" id="7153723">!</span><span class="ident" id="7153724">cmp</span><span class="op" id="7153727">(</span><span class="ident" id="7153728">t</span><span class="op" id="7153729">,</span>&nbsp;<span class="ident" id="7153731">m</span><span class="op" id="7153732">.</span><span class="ident" id="7153733">ColorModel</span><span class="op" id="7153743">(</span><span class="op" id="7153744">)</span><span class="op" id="7153745">,</span>&nbsp;<span class="ident" id="7153747">Opaque</span><span class="op" id="7153753">,</span>&nbsp;<span class="ident" id="7153755">m</span><span class="op" id="7153756">.</span><span class="ident" id="7153757">At</span><span class="op" id="7153759">(</span><span class="num" id="7153760">6</span><span class="op" id="7153761">,</span>&nbsp;<span class="num" id="7153763">3</span><span class="op" id="7153764">)</span><span class="op" id="7153765">)</span>&nbsp;<span class="op" id="7153767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153772">t</span><span class="op" id="7153773">.</span><span class="ident" id="7153774">Errorf</span><span class="op" id="7153780">(</span><span class="string" id="7153781">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7153827">,</span>&nbsp;<span class="ident" id="7153829">m</span><span class="op" id="7153830">,</span>&nbsp;<span class="ident" id="7153832">m</span><span class="op" id="7153833">.</span><span class="ident" id="7153834">At</span><span class="op" id="7153836">(</span><span class="num" id="7153837">6</span><span class="op" id="7153838">,</span>&nbsp;<span class="num" id="7153840">3</span><span class="op" id="7153841">)</span><span class="op" id="7153842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153847">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153862">if</span>&nbsp;<span class="op" id="7153865">!</span><span class="ident" id="7153866">m</span><span class="op" id="7153867">.</span><span class="ident" id="7153868">SubImage</span><span class="op" id="7153876">(</span><span class="ident" id="7153877">Rect</span><span class="op" id="7153881">(</span><span class="num" id="7153882">6</span><span class="op" id="7153883">,</span>&nbsp;<span class="num" id="7153885">3</span><span class="op" id="7153886">,</span>&nbsp;<span class="num" id="7153888">7</span><span class="op" id="7153889">,</span>&nbsp;<span class="num" id="7153891">4</span><span class="op" id="7153892">)</span><span class="op" id="7153893">)</span><span class="op" id="7153894">.</span><span class="op" id="7153895">(</span><span class="ident" id="7153896">image</span><span class="op" id="7153901">)</span><span class="op" id="7153902">.</span><span class="ident" id="7153903">Opaque</span><span class="op" id="7153909">(</span><span class="op" id="7153910">)</span>&nbsp;<span class="op" id="7153912">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153917">t</span><span class="op" id="7153918">.</span><span class="ident" id="7153919">Errorf</span><span class="op" id="7153925">(</span><span class="string" id="7153926">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="7153956">,</span>&nbsp;<span class="ident" id="7153958">m</span><span class="op" id="7153959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7153964">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7153975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7153979">m</span>&nbsp;<span class="op" id="7153981">=</span>&nbsp;<span class="ident" id="7153983">m</span><span class="op" id="7153984">.</span><span class="ident" id="7153985">SubImage</span><span class="op" id="7153993">(</span><span class="ident" id="7153994">Rect</span><span class="op" id="7153998">(</span><span class="num" id="7153999">3</span><span class="op" id="7154000">,</span>&nbsp;<span class="num" id="7154002">2</span><span class="op" id="7154003">,</span>&nbsp;<span class="num" id="7154005">9</span><span class="op" id="7154006">,</span>&nbsp;<span class="num" id="7154008">8</span><span class="op" id="7154009">)</span><span class="op" id="7154010">)</span><span class="op" id="7154011">.</span><span class="op" id="7154012">(</span><span class="ident" id="7154013">image</span><span class="op" id="7154018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154022">if</span>&nbsp;<span class="op" id="7154025">!</span><span class="ident" id="7154026">Rect</span><span class="op" id="7154030">(</span><span class="num" id="7154031">3</span><span class="op" id="7154032">,</span>&nbsp;<span class="num" id="7154034">2</span><span class="op" id="7154035">,</span>&nbsp;<span class="num" id="7154037">9</span><span class="op" id="7154038">,</span>&nbsp;<span class="num" id="7154040">8</span><span class="op" id="7154041">)</span><span class="op" id="7154042">.</span><span class="ident" id="7154043">Eq</span><span class="op" id="7154045">(</span><span class="ident" id="7154046">m</span><span class="op" id="7154047">.</span><span class="ident" id="7154048">Bounds</span><span class="op" id="7154054">(</span><span class="op" id="7154055">)</span><span class="op" id="7154056">)</span>&nbsp;<span class="op" id="7154058">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154063">t</span><span class="op" id="7154064">.</span><span class="ident" id="7154065">Errorf</span><span class="op" id="7154071">(</span><span class="string" id="7154072">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7154110">,</span>&nbsp;<span class="ident" id="7154112">m</span><span class="op" id="7154113">,</span>&nbsp;<span class="ident" id="7154115">Rect</span><span class="op" id="7154119">(</span><span class="num" id="7154120">3</span><span class="op" id="7154121">,</span>&nbsp;<span class="num" id="7154123">2</span><span class="op" id="7154124">,</span>&nbsp;<span class="num" id="7154126">9</span><span class="op" id="7154127">,</span>&nbsp;<span class="num" id="7154129">8</span><span class="op" id="7154130">)</span><span class="op" id="7154131">,</span>&nbsp;<span class="ident" id="7154133">m</span><span class="op" id="7154134">.</span><span class="ident" id="7154135">Bounds</span><span class="op" id="7154141">(</span><span class="op" id="7154142">)</span><span class="op" id="7154143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154148">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7154159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154163">if</span>&nbsp;<span class="op" id="7154166">!</span><span class="ident" id="7154167">cmp</span><span class="op" id="7154170">(</span><span class="ident" id="7154171">t</span><span class="op" id="7154172">,</span>&nbsp;<span class="ident" id="7154174">m</span><span class="op" id="7154175">.</span><span class="ident" id="7154176">ColorModel</span><span class="op" id="7154186">(</span><span class="op" id="7154187">)</span><span class="op" id="7154188">,</span>&nbsp;<span class="ident" id="7154190">Opaque</span><span class="op" id="7154196">,</span>&nbsp;<span class="ident" id="7154198">m</span><span class="op" id="7154199">.</span><span class="ident" id="7154200">At</span><span class="op" id="7154202">(</span><span class="num" id="7154203">6</span><span class="op" id="7154204">,</span>&nbsp;<span class="num" id="7154206">3</span><span class="op" id="7154207">)</span><span class="op" id="7154208">)</span>&nbsp;<span class="op" id="7154210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154215">t</span><span class="op" id="7154216">.</span><span class="ident" id="7154217">Errorf</span><span class="op" id="7154223">(</span><span class="string" id="7154224">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7154280">,</span>&nbsp;<span class="ident" id="7154282">m</span><span class="op" id="7154283">,</span>&nbsp;<span class="ident" id="7154285">m</span><span class="op" id="7154286">.</span><span class="ident" id="7154287">At</span><span class="op" id="7154289">(</span><span class="num" id="7154290">6</span><span class="op" id="7154291">,</span>&nbsp;<span class="num" id="7154293">3</span><span class="op" id="7154294">)</span><span class="op" id="7154295">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154300">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7154311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154315">if</span>&nbsp;<span class="op" id="7154318">!</span><span class="ident" id="7154319">cmp</span><span class="op" id="7154322">(</span><span class="ident" id="7154323">t</span><span class="op" id="7154324">,</span>&nbsp;<span class="ident" id="7154326">m</span><span class="op" id="7154327">.</span><span class="ident" id="7154328">ColorModel</span><span class="op" id="7154338">(</span><span class="op" id="7154339">)</span><span class="op" id="7154340">,</span>&nbsp;<span class="ident" id="7154342">Transparent</span><span class="op" id="7154353">,</span>&nbsp;<span class="ident" id="7154355">m</span><span class="op" id="7154356">.</span><span class="ident" id="7154357">At</span><span class="op" id="7154359">(</span><span class="num" id="7154360">3</span><span class="op" id="7154361">,</span>&nbsp;<span class="num" id="7154363">3</span><span class="op" id="7154364">)</span><span class="op" id="7154365">)</span>&nbsp;<span class="op" id="7154367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154372">t</span><span class="op" id="7154373">.</span><span class="ident" id="7154374">Errorf</span><span class="op" id="7154380">(</span><span class="string" id="7154381">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7154433">,</span>&nbsp;<span class="ident" id="7154435">m</span><span class="op" id="7154436">,</span>&nbsp;<span class="ident" id="7154438">m</span><span class="op" id="7154439">.</span><span class="ident" id="7154440">At</span><span class="op" id="7154442">(</span><span class="num" id="7154443">3</span><span class="op" id="7154444">,</span>&nbsp;<span class="num" id="7154446">3</span><span class="op" id="7154447">)</span><span class="op" id="7154448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154453">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7154464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154468">m</span><span class="op" id="7154469">.</span><span class="ident" id="7154470">Set</span><span class="op" id="7154473">(</span><span class="num" id="7154474">3</span><span class="op" id="7154475">,</span>&nbsp;<span class="num" id="7154477">3</span><span class="op" id="7154478">,</span>&nbsp;<span class="ident" id="7154480">Opaque</span><span class="op" id="7154486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154490">if</span>&nbsp;<span class="op" id="7154493">!</span><span class="ident" id="7154494">cmp</span><span class="op" id="7154497">(</span><span class="ident" id="7154498">t</span><span class="op" id="7154499">,</span>&nbsp;<span class="ident" id="7154501">m</span><span class="op" id="7154502">.</span><span class="ident" id="7154503">ColorModel</span><span class="op" id="7154513">(</span><span class="op" id="7154514">)</span><span class="op" id="7154515">,</span>&nbsp;<span class="ident" id="7154517">Opaque</span><span class="op" id="7154523">,</span>&nbsp;<span class="ident" id="7154525">m</span><span class="op" id="7154526">.</span><span class="ident" id="7154527">At</span><span class="op" id="7154529">(</span><span class="num" id="7154530">3</span><span class="op" id="7154531">,</span>&nbsp;<span class="num" id="7154533">3</span><span class="op" id="7154534">)</span><span class="op" id="7154535">)</span>&nbsp;<span class="op" id="7154537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154542">t</span><span class="op" id="7154543">.</span><span class="ident" id="7154544">Errorf</span><span class="op" id="7154550">(</span><span class="string" id="7154551">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7154607">,</span>&nbsp;<span class="ident" id="7154609">m</span><span class="op" id="7154610">,</span>&nbsp;<span class="ident" id="7154612">m</span><span class="op" id="7154613">.</span><span class="ident" id="7154614">At</span><span class="op" id="7154616">(</span><span class="num" id="7154617">3</span><span class="op" id="7154618">,</span>&nbsp;<span class="num" id="7154620">3</span><span class="op" id="7154621">)</span><span class="op" id="7154622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7154627">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7154638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7154642">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154720">m</span><span class="op" id="7154721">.</span><span class="ident" id="7154722">SubImage</span><span class="op" id="7154730">(</span><span class="ident" id="7154731">Rect</span><span class="op" id="7154735">(</span><span class="num" id="7154736">0</span><span class="op" id="7154737">,</span>&nbsp;<span class="num" id="7154739">0</span><span class="op" id="7154740">,</span>&nbsp;<span class="num" id="7154742">0</span><span class="op" id="7154743">,</span>&nbsp;<span class="num" id="7154745">0</span><span class="op" id="7154746">)</span><span class="op" id="7154747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154751">m</span><span class="op" id="7154752">.</span><span class="ident" id="7154753">SubImage</span><span class="op" id="7154761">(</span><span class="ident" id="7154762">Rect</span><span class="op" id="7154766">(</span><span class="num" id="7154767">10</span><span class="op" id="7154769">,</span>&nbsp;<span class="num" id="7154771">0</span><span class="op" id="7154772">,</span>&nbsp;<span class="num" id="7154774">10</span><span class="op" id="7154776">,</span>&nbsp;<span class="num" id="7154778">0</span><span class="op" id="7154779">)</span><span class="op" id="7154780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154784">m</span><span class="op" id="7154785">.</span><span class="ident" id="7154786">SubImage</span><span class="op" id="7154794">(</span><span class="ident" id="7154795">Rect</span><span class="op" id="7154799">(</span><span class="num" id="7154800">0</span><span class="op" id="7154801">,</span>&nbsp;<span class="num" id="7154803">10</span><span class="op" id="7154805">,</span>&nbsp;<span class="num" id="7154807">0</span><span class="op" id="7154808">,</span>&nbsp;<span class="num" id="7154810">10</span><span class="op" id="7154812">)</span><span class="op" id="7154813">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154817">m</span><span class="op" id="7154818">.</span><span class="ident" id="7154819">SubImage</span><span class="op" id="7154827">(</span><span class="ident" id="7154828">Rect</span><span class="op" id="7154832">(</span><span class="num" id="7154833">10</span><span class="op" id="7154835">,</span>&nbsp;<span class="num" id="7154837">10</span><span class="op" id="7154839">,</span>&nbsp;<span class="num" id="7154841">10</span><span class="op" id="7154843">,</span>&nbsp;<span class="num" id="7154845">10</span><span class="op" id="7154847">)</span><span class="op" id="7154848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7154851">}</span><br>
<span class="lineno"></span><span class="op" id="7154853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7154856">func</span>&nbsp;<span class="ident" id="7154861">Test16BitsPerColorChannel</span><span class="op" id="7154886">(</span><span class="ident" id="7154887">t</span>&nbsp;<span class="op" id="7154889">*</span><span class="ident" id="7154890">testing</span><span class="op" id="7154897">.</span><span class="ident" id="7154898">T</span><span class="op" id="7154899">)</span>&nbsp;<span class="op" id="7154901">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154904">testColorModel</span>&nbsp;<span class="op" id="7154919">:=</span>&nbsp;<span class="op" id="7154922">[</span><span class="op" id="7154923">]</span><span class="ident" id="7154924">color</span><span class="op" id="7154929">.</span><span class="ident" id="7154930">Model</span><span class="op" id="7154935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154939">color</span><span class="op" id="7154944">.</span><span class="ident" id="7154945">RGBA64Model</span><span class="op" id="7154956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154960">color</span><span class="op" id="7154965">.</span><span class="ident" id="7154966">NRGBA64Model</span><span class="op" id="7154978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7154982">color</span><span class="op" id="7154987">.</span><span class="ident" id="7154988">Alpha16Model</span><span class="op" id="7155000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155004">color</span><span class="op" id="7155009">.</span><span class="ident" id="7155010">Gray16Model</span><span class="op" id="7155021">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155027">for</span>&nbsp;<span class="ident" id="7155031">_</span><span class="op" id="7155032">,</span>&nbsp;<span class="ident" id="7155034">cm</span>&nbsp;<span class="op" id="7155037">:=</span>&nbsp;<span class="keyword" id="7155040">range</span>&nbsp;<span class="ident" id="7155046">testColorModel</span>&nbsp;<span class="op" id="7155061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155065">c</span>&nbsp;<span class="op" id="7155067">:=</span>&nbsp;<span class="ident" id="7155070">cm</span><span class="op" id="7155072">.</span><span class="ident" id="7155073">Convert</span><span class="op" id="7155080">(</span><span class="ident" id="7155081">color</span><span class="op" id="7155086">.</span><span class="ident" id="7155087">RGBA64</span><span class="op" id="7155093">{</span><span class="num" id="7155094">0x1234</span><span class="op" id="7155100">,</span>&nbsp;<span class="num" id="7155102">0x1234</span><span class="op" id="7155108">,</span>&nbsp;<span class="num" id="7155110">0x1234</span><span class="op" id="7155116">,</span>&nbsp;<span class="num" id="7155118">0x1234</span><span class="op" id="7155124">}</span><span class="op" id="7155125">)</span>&nbsp;<span class="comment" id="7155127">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155153">r</span><span class="op" id="7155154">,</span>&nbsp;<span class="ident" id="7155156">_</span><span class="op" id="7155157">,</span>&nbsp;<span class="ident" id="7155159">_</span><span class="op" id="7155160">,</span>&nbsp;<span class="ident" id="7155162">_</span>&nbsp;<span class="op" id="7155164">:=</span>&nbsp;<span class="ident" id="7155167">c</span><span class="op" id="7155168">.</span><span class="ident" id="7155169">RGBA</span><span class="op" id="7155173">(</span><span class="op" id="7155174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155178">if</span>&nbsp;<span class="ident" id="7155181">r</span>&nbsp;<span class="op" id="7155183">!=</span>&nbsp;<span class="num" id="7155186">0x1234</span>&nbsp;<span class="op" id="7155193">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155198">t</span><span class="op" id="7155199">.</span><span class="ident" id="7155200">Errorf</span><span class="op" id="7155206">(</span><span class="string" id="7155207">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7155245">,</span>&nbsp;<span class="ident" id="7155247">c</span><span class="op" id="7155248">,</span>&nbsp;<span class="num" id="7155250">0x1234</span><span class="op" id="7155256">,</span>&nbsp;<span class="ident" id="7155258">r</span><span class="op" id="7155259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155264">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155281">testImage</span>&nbsp;<span class="op" id="7155291">:=</span>&nbsp;<span class="op" id="7155294">[</span><span class="op" id="7155295">]</span><span class="ident" id="7155296">image</span><span class="op" id="7155301">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155305">NewRGBA64</span><span class="op" id="7155314">(</span><span class="ident" id="7155315">Rect</span><span class="op" id="7155319">(</span><span class="num" id="7155320">0</span><span class="op" id="7155321">,</span>&nbsp;<span class="num" id="7155323">0</span><span class="op" id="7155324">,</span>&nbsp;<span class="num" id="7155326">10</span><span class="op" id="7155328">,</span>&nbsp;<span class="num" id="7155330">10</span><span class="op" id="7155332">)</span><span class="op" id="7155333">)</span><span class="op" id="7155334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155338">NewNRGBA64</span><span class="op" id="7155348">(</span><span class="ident" id="7155349">Rect</span><span class="op" id="7155353">(</span><span class="num" id="7155354">0</span><span class="op" id="7155355">,</span>&nbsp;<span class="num" id="7155357">0</span><span class="op" id="7155358">,</span>&nbsp;<span class="num" id="7155360">10</span><span class="op" id="7155362">,</span>&nbsp;<span class="num" id="7155364">10</span><span class="op" id="7155366">)</span><span class="op" id="7155367">)</span><span class="op" id="7155368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155372">NewAlpha16</span><span class="op" id="7155382">(</span><span class="ident" id="7155383">Rect</span><span class="op" id="7155387">(</span><span class="num" id="7155388">0</span><span class="op" id="7155389">,</span>&nbsp;<span class="num" id="7155391">0</span><span class="op" id="7155392">,</span>&nbsp;<span class="num" id="7155394">10</span><span class="op" id="7155396">,</span>&nbsp;<span class="num" id="7155398">10</span><span class="op" id="7155400">)</span><span class="op" id="7155401">)</span><span class="op" id="7155402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155406">NewGray16</span><span class="op" id="7155415">(</span><span class="ident" id="7155416">Rect</span><span class="op" id="7155420">(</span><span class="num" id="7155421">0</span><span class="op" id="7155422">,</span>&nbsp;<span class="num" id="7155424">0</span><span class="op" id="7155425">,</span>&nbsp;<span class="num" id="7155427">10</span><span class="op" id="7155429">,</span>&nbsp;<span class="num" id="7155431">10</span><span class="op" id="7155433">)</span><span class="op" id="7155434">)</span><span class="op" id="7155435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155438">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155441">for</span>&nbsp;<span class="ident" id="7155445">_</span><span class="op" id="7155446">,</span>&nbsp;<span class="ident" id="7155448">m</span>&nbsp;<span class="op" id="7155450">:=</span>&nbsp;<span class="keyword" id="7155453">range</span>&nbsp;<span class="ident" id="7155459">testImage</span>&nbsp;<span class="op" id="7155469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155473">m</span><span class="op" id="7155474">.</span><span class="ident" id="7155475">Set</span><span class="op" id="7155478">(</span><span class="num" id="7155479">1</span><span class="op" id="7155480">,</span>&nbsp;<span class="num" id="7155482">2</span><span class="op" id="7155483">,</span>&nbsp;<span class="ident" id="7155485">color</span><span class="op" id="7155490">.</span><span class="ident" id="7155491">NRGBA64</span><span class="op" id="7155498">{</span><span class="num" id="7155499">0xffff</span><span class="op" id="7155505">,</span>&nbsp;<span class="num" id="7155507">0xffff</span><span class="op" id="7155513">,</span>&nbsp;<span class="num" id="7155515">0xffff</span><span class="op" id="7155521">,</span>&nbsp;<span class="num" id="7155523">0x1357</span><span class="op" id="7155529">}</span><span class="op" id="7155530">)</span>&nbsp;<span class="comment" id="7155532">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155562">r</span><span class="op" id="7155563">,</span>&nbsp;<span class="ident" id="7155565">_</span><span class="op" id="7155566">,</span>&nbsp;<span class="ident" id="7155568">_</span><span class="op" id="7155569">,</span>&nbsp;<span class="ident" id="7155571">_</span>&nbsp;<span class="op" id="7155573">:=</span>&nbsp;<span class="ident" id="7155576">m</span><span class="op" id="7155577">.</span><span class="ident" id="7155578">At</span><span class="op" id="7155580">(</span><span class="num" id="7155581">1</span><span class="op" id="7155582">,</span>&nbsp;<span class="num" id="7155584">2</span><span class="op" id="7155585">)</span><span class="op" id="7155586">.</span><span class="ident" id="7155587">RGBA</span><span class="op" id="7155591">(</span><span class="op" id="7155592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155596">if</span>&nbsp;<span class="ident" id="7155599">r</span>&nbsp;<span class="op" id="7155601">!=</span>&nbsp;<span class="num" id="7155604">0x1357</span>&nbsp;<span class="op" id="7155611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155616">t</span><span class="op" id="7155617">.</span><span class="ident" id="7155618">Errorf</span><span class="op" id="7155624">(</span><span class="string" id="7155625">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7155663">,</span>&nbsp;<span class="ident" id="7155665">m</span><span class="op" id="7155666">,</span>&nbsp;<span class="num" id="7155668">0x1357</span><span class="op" id="7155674">,</span>&nbsp;<span class="ident" id="7155676">r</span><span class="op" id="7155677">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7155682">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7155696">}</span><br>
<span class="lineno"></span><span class="op" id="7155698">}</span>
</div>
</body>
</html>
