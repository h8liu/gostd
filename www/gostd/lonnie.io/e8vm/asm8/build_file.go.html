<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5080372">package</span>&nbsp;<span class="ident" id="5080380">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5080386">func</span>&nbsp;<span class="ident" id="5080391">buildFile</span><span class="op" id="5080400">(</span><span class="ident" id="5080401">b</span>&nbsp;<span class="op" id="5080403">*</span><span class="ident" id="5080404">builder</span><span class="op" id="5080411">,</span>&nbsp;<span class="ident" id="5080413">f</span>&nbsp;<span class="op" id="5080415">*</span><span class="ident" id="5080416">file</span><span class="op" id="5080420">)</span>&nbsp;<span class="op" id="5080422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5080425">b</span><span class="op" id="5080426">.</span><span class="ident" id="5080427">scope</span><span class="op" id="5080432">.</span><span class="ident" id="5080433">Push</span><span class="op" id="5080437">(</span><span class="op" id="5080438">)</span>&nbsp;<span class="comment" id="5080440">//&nbsp;file&nbsp;scope</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5080455">defer</span>&nbsp;<span class="ident" id="5080461">b</span><span class="op" id="5080462">.</span><span class="ident" id="5080463">scope</span><span class="op" id="5080468">.</span><span class="ident" id="5080469">Pop</span><span class="op" id="5080472">(</span><span class="op" id="5080473">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5080477">//&nbsp;TODO:&nbsp;import&nbsp;required&nbsp;packages,&nbsp;and&nbsp;add&nbsp;them&nbsp;into&nbsp;the&nbsp;symbol&nbsp;table</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5080549">pkg</span>&nbsp;<span class="op" id="5080553">:=</span>&nbsp;<span class="ident" id="5080556">b</span><span class="op" id="5080557">.</span><span class="ident" id="5080558">curPkg</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5080566">for</span>&nbsp;<span class="ident" id="5080570">_</span><span class="op" id="5080571">,</span>&nbsp;<span class="ident" id="5080573">fn</span>&nbsp;<span class="op" id="5080576">:=</span>&nbsp;<span class="keyword" id="5080579">range</span>&nbsp;<span class="ident" id="5080585">f</span><span class="op" id="5080586">.</span><span class="ident" id="5080587">Funcs</span>&nbsp;<span class="op" id="5080593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5080597">if</span>&nbsp;<span class="ident" id="5080600">obj</span>&nbsp;<span class="op" id="5080604">:=</span>&nbsp;<span class="ident" id="5080607">buildFunc</span><span class="op" id="5080616">(</span><span class="ident" id="5080617">b</span><span class="op" id="5080618">,</span>&nbsp;<span class="ident" id="5080620">fn</span><span class="op" id="5080622">)</span><span class="op" id="5080623">;</span>&nbsp;<span class="ident" id="5080625">obj</span>&nbsp;<span class="op" id="5080629">!=</span>&nbsp;<span class="ident" id="5080632">nil</span>&nbsp;<span class="op" id="5080636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5080641">pkg</span><span class="op" id="5080644">.</span><span class="ident" id="5080645">DefineFunc</span><span class="op" id="5080655">(</span><span class="ident" id="5080656">fn</span><span class="op" id="5080658">.</span><span class="ident" id="5080659">index</span><span class="op" id="5080664">,</span>&nbsp;<span class="ident" id="5080666">obj</span><span class="op" id="5080669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5080673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5080676">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5080680">for</span>&nbsp;<span class="ident" id="5080684">_</span><span class="op" id="5080685">,</span>&nbsp;<span class="ident" id="5080687">v</span>&nbsp;<span class="op" id="5080689">:=</span>&nbsp;<span class="keyword" id="5080692">range</span>&nbsp;<span class="ident" id="5080698">f</span><span class="op" id="5080699">.</span><span class="ident" id="5080700">Vars</span>&nbsp;<span class="op" id="5080705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5080709">if</span>&nbsp;<span class="ident" id="5080712">obj</span>&nbsp;<span class="op" id="5080716">:=</span>&nbsp;<span class="ident" id="5080719">buildVar</span><span class="op" id="5080727">(</span><span class="ident" id="5080728">b</span><span class="op" id="5080729">,</span>&nbsp;<span class="ident" id="5080731">v</span><span class="op" id="5080732">)</span><span class="op" id="5080733">;</span>&nbsp;<span class="ident" id="5080735">obj</span>&nbsp;<span class="op" id="5080739">!=</span>&nbsp;<span class="ident" id="5080742">nil</span>&nbsp;<span class="op" id="5080746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5080751">pkg</span><span class="op" id="5080754">.</span><span class="ident" id="5080755">DefineVar</span><span class="op" id="5080764">(</span><span class="ident" id="5080765">v</span><span class="op" id="5080766">.</span><span class="ident" id="5080767">index</span><span class="op" id="5080772">,</span>&nbsp;<span class="ident" id="5080774">obj</span><span class="op" id="5080777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5080781">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5080784">}</span><br>
<span class="lineno"></span><span class="op" id="5080786">}</span>
</div>
</body>
</html>
