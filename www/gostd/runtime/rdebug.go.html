<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html" class="current">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1625134">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1625190">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1625244">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1625295">package</span>&nbsp;<span class="ident" id="1625303">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625312">func</span>&nbsp;<span class="ident" id="1625317">setMaxStack</span><span class="op" id="1625328">(</span><span class="ident" id="1625329">in</span>&nbsp;<span class="builtintype" id="1625332">int</span><span class="op" id="1625335">)</span>&nbsp;<span class="op" id="1625337">(</span><span class="ident" id="1625338">out</span>&nbsp;<span class="builtintype" id="1625342">int</span><span class="op" id="1625345">)</span>&nbsp;<span class="op" id="1625347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625350">out</span>&nbsp;<span class="op" id="1625354">=</span>&nbsp;<span class="builtintype" id="1625356">int</span><span class="op" id="1625359">(</span><span class="ident" id="1625360">maxstacksize</span><span class="op" id="1625372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625375">maxstacksize</span>&nbsp;<span class="op" id="1625388">=</span>&nbsp;<span class="builtintype" id="1625390">uintptr</span><span class="op" id="1625397">(</span><span class="ident" id="1625398">in</span><span class="op" id="1625400">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1625403">return</span>&nbsp;<span class="ident" id="1625410">out</span><br>
<span class="lineno"></span><span class="op" id="1625414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625417">func</span>&nbsp;<span class="ident" id="1625422">setGCPercent</span><span class="op" id="1625434">(</span><span class="ident" id="1625435">in</span>&nbsp;<span class="builtintype" id="1625438">int32</span><span class="op" id="1625443">)</span>&nbsp;<span class="op" id="1625445">(</span><span class="ident" id="1625446">out</span>&nbsp;<span class="builtintype" id="1625450">int32</span><span class="op" id="1625455">)</span>&nbsp;<span class="op" id="1625457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625460">mp</span>&nbsp;<span class="op" id="1625463">:=</span>&nbsp;<span class="ident" id="1625466">acquirem</span><span class="op" id="1625474">(</span><span class="op" id="1625475">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625478">mp</span><span class="op" id="1625480">.</span><span class="ident" id="1625481">scalararg</span><span class="op" id="1625490">[</span><span class="num" id="1625491">0</span><span class="op" id="1625492">]</span>&nbsp;<span class="op" id="1625494">=</span>&nbsp;<span class="builtintype" id="1625496">uintptr</span><span class="op" id="1625503">(</span><span class="builtintype" id="1625504">int</span><span class="op" id="1625507">(</span><span class="ident" id="1625508">in</span><span class="op" id="1625510">)</span><span class="op" id="1625511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625514">onM</span><span class="op" id="1625517">(</span><span class="ident" id="1625518">setgcpercent_m</span><span class="op" id="1625532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625535">out</span>&nbsp;<span class="op" id="1625539">=</span>&nbsp;<span class="builtintype" id="1625541">int32</span><span class="op" id="1625546">(</span><span class="builtintype" id="1625547">int</span><span class="op" id="1625550">(</span><span class="ident" id="1625551">mp</span><span class="op" id="1625553">.</span><span class="ident" id="1625554">scalararg</span><span class="op" id="1625563">[</span><span class="num" id="1625564">0</span><span class="op" id="1625565">]</span><span class="op" id="1625566">)</span><span class="op" id="1625567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625570">releasem</span><span class="op" id="1625578">(</span><span class="ident" id="1625579">mp</span><span class="op" id="1625581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1625584">return</span>&nbsp;<span class="ident" id="1625591">out</span><br>
<span class="lineno">20</span><span class="op" id="1625595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625598">func</span>&nbsp;<span class="ident" id="1625603">setPanicOnFault</span><span class="op" id="1625618">(</span><span class="builtinfunc" id="1625619">new</span>&nbsp;<span class="builtintype" id="1625623">bool</span><span class="op" id="1625627">)</span>&nbsp;<span class="op" id="1625629">(</span><span class="ident" id="1625630">old</span>&nbsp;<span class="builtintype" id="1625634">bool</span><span class="op" id="1625638">)</span>&nbsp;<span class="op" id="1625640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625643">mp</span>&nbsp;<span class="op" id="1625646">:=</span>&nbsp;<span class="ident" id="1625649">acquirem</span><span class="op" id="1625657">(</span><span class="op" id="1625658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625661">old</span>&nbsp;<span class="op" id="1625665">=</span>&nbsp;<span class="ident" id="1625667">mp</span><span class="op" id="1625669">.</span><span class="ident" id="1625670">curg</span><span class="op" id="1625674">.</span><span class="ident" id="1625675">paniconfault</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625689">mp</span><span class="op" id="1625691">.</span><span class="ident" id="1625692">curg</span><span class="op" id="1625696">.</span><span class="ident" id="1625697">paniconfault</span>&nbsp;<span class="op" id="1625710">=</span>&nbsp;<span class="builtinfunc" id="1625712">new</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625717">releasem</span><span class="op" id="1625725">(</span><span class="ident" id="1625726">mp</span><span class="op" id="1625728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1625731">return</span>&nbsp;<span class="ident" id="1625738">old</span><br>
<span class="lineno"></span><span class="op" id="1625742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1625745">func</span>&nbsp;<span class="ident" id="1625750">setMaxThreads</span><span class="op" id="1625763">(</span><span class="ident" id="1625764">in</span>&nbsp;<span class="builtintype" id="1625767">int</span><span class="op" id="1625770">)</span>&nbsp;<span class="op" id="1625772">(</span><span class="ident" id="1625773">out</span>&nbsp;<span class="builtintype" id="1625777">int</span><span class="op" id="1625780">)</span>&nbsp;<span class="op" id="1625782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625785">mp</span>&nbsp;<span class="op" id="1625788">:=</span>&nbsp;<span class="ident" id="1625791">acquirem</span><span class="op" id="1625799">(</span><span class="op" id="1625800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625803">mp</span><span class="op" id="1625805">.</span><span class="ident" id="1625806">scalararg</span><span class="op" id="1625815">[</span><span class="num" id="1625816">0</span><span class="op" id="1625817">]</span>&nbsp;<span class="op" id="1625819">=</span>&nbsp;<span class="builtintype" id="1625821">uintptr</span><span class="op" id="1625828">(</span><span class="ident" id="1625829">in</span><span class="op" id="1625831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625834">onM</span><span class="op" id="1625837">(</span><span class="ident" id="1625838">setmaxthreads_m</span><span class="op" id="1625853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625856">out</span>&nbsp;<span class="op" id="1625860">=</span>&nbsp;<span class="builtintype" id="1625862">int</span><span class="op" id="1625865">(</span><span class="ident" id="1625866">mp</span><span class="op" id="1625868">.</span><span class="ident" id="1625869">scalararg</span><span class="op" id="1625878">[</span><span class="num" id="1625879">0</span><span class="op" id="1625880">]</span><span class="op" id="1625881">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1625884">releasem</span><span class="op" id="1625892">(</span><span class="ident" id="1625893">mp</span><span class="op" id="1625895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1625898">return</span>&nbsp;<span class="ident" id="1625905">out</span><br>
<span class="lineno"></span><span class="op" id="1625909">}</span>
</div>
</body>
</html>
