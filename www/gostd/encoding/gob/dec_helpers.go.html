<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4925321">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4925380">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4925435">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4925489">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4925540">package</span>&nbsp;<span class="ident" id="4925548">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4925553">import</span>&nbsp;<span class="op" id="4925560">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4925563">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4925571">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4925581">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4925584">var</span>&nbsp;<span class="ident" id="4925588">decArrayHelper</span>&nbsp;<span class="op" id="4925603">=</span>&nbsp;<span class="keyword" id="4925605">map</span><span class="op" id="4925608">[</span><span class="ident" id="4925609">reflect</span><span class="op" id="4925616">.</span><span class="ident" id="4925617">Kind</span><span class="op" id="4925621">]</span><span class="ident" id="4925622">decHelper</span><span class="op" id="4925631">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925634">reflect</span><span class="op" id="4925641">.</span><span class="ident" id="4925642">Bool</span><span class="op" id="4925646">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925654">decBoolArray</span><span class="op" id="4925666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925669">reflect</span><span class="op" id="4925676">.</span><span class="ident" id="4925677">Complex64</span><span class="op" id="4925686">:</span>&nbsp;&nbsp;<span class="ident" id="4925689">decComplex64Array</span><span class="op" id="4925706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925709">reflect</span><span class="op" id="4925716">.</span><span class="ident" id="4925717">Complex128</span><span class="op" id="4925727">:</span>&nbsp;<span class="ident" id="4925729">decComplex128Array</span><span class="op" id="4925747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925750">reflect</span><span class="op" id="4925757">.</span><span class="ident" id="4925758">Float32</span><span class="op" id="4925765">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925770">decFloat32Array</span><span class="op" id="4925785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925788">reflect</span><span class="op" id="4925795">.</span><span class="ident" id="4925796">Float64</span><span class="op" id="4925803">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925808">decFloat64Array</span><span class="op" id="4925823">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925826">reflect</span><span class="op" id="4925833">.</span><span class="ident" id="4925834">Int</span><span class="op" id="4925837">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925846">decIntArray</span><span class="op" id="4925857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925860">reflect</span><span class="op" id="4925867">.</span><span class="ident" id="4925868">Int16</span><span class="op" id="4925873">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925880">decInt16Array</span><span class="op" id="4925893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925896">reflect</span><span class="op" id="4925903">.</span><span class="ident" id="4925904">Int32</span><span class="op" id="4925909">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925916">decInt32Array</span><span class="op" id="4925929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925932">reflect</span><span class="op" id="4925939">.</span><span class="ident" id="4925940">Int64</span><span class="op" id="4925945">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925952">decInt64Array</span><span class="op" id="4925965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4925968">reflect</span><span class="op" id="4925975">.</span><span class="ident" id="4925976">Int8</span><span class="op" id="4925980">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4925988">decInt8Array</span><span class="op" id="4926000">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926003">reflect</span><span class="op" id="4926010">.</span><span class="ident" id="4926011">String</span><span class="op" id="4926017">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926023">decStringArray</span><span class="op" id="4926037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926040">reflect</span><span class="op" id="4926047">.</span><span class="ident" id="4926048">Uint</span><span class="op" id="4926052">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926060">decUintArray</span><span class="op" id="4926072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926075">reflect</span><span class="op" id="4926082">.</span><span class="ident" id="4926083">Uint16</span><span class="op" id="4926089">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926095">decUint16Array</span><span class="op" id="4926109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926112">reflect</span><span class="op" id="4926119">.</span><span class="ident" id="4926120">Uint32</span><span class="op" id="4926126">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926132">decUint32Array</span><span class="op" id="4926146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926149">reflect</span><span class="op" id="4926156">.</span><span class="ident" id="4926157">Uint64</span><span class="op" id="4926163">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926169">decUint64Array</span><span class="op" id="4926183">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926186">reflect</span><span class="op" id="4926193">.</span><span class="ident" id="4926194">Uintptr</span><span class="op" id="4926201">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926206">decUintptrArray</span><span class="op" id="4926221">,</span><br>
<span class="lineno"></span><span class="op" id="4926223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4926226">var</span>&nbsp;<span class="ident" id="4926230">decSliceHelper</span>&nbsp;<span class="op" id="4926245">=</span>&nbsp;<span class="keyword" id="4926247">map</span><span class="op" id="4926250">[</span><span class="ident" id="4926251">reflect</span><span class="op" id="4926258">.</span><span class="ident" id="4926259">Kind</span><span class="op" id="4926263">]</span><span class="ident" id="4926264">decHelper</span><span class="op" id="4926273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926276">reflect</span><span class="op" id="4926283">.</span><span class="ident" id="4926284">Bool</span><span class="op" id="4926288">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926296">decBoolSlice</span><span class="op" id="4926308">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926311">reflect</span><span class="op" id="4926318">.</span><span class="ident" id="4926319">Complex64</span><span class="op" id="4926328">:</span>&nbsp;&nbsp;<span class="ident" id="4926331">decComplex64Slice</span><span class="op" id="4926348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926351">reflect</span><span class="op" id="4926358">.</span><span class="ident" id="4926359">Complex128</span><span class="op" id="4926369">:</span>&nbsp;<span class="ident" id="4926371">decComplex128Slice</span><span class="op" id="4926389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926392">reflect</span><span class="op" id="4926399">.</span><span class="ident" id="4926400">Float32</span><span class="op" id="4926407">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926412">decFloat32Slice</span><span class="op" id="4926427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926430">reflect</span><span class="op" id="4926437">.</span><span class="ident" id="4926438">Float64</span><span class="op" id="4926445">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926450">decFloat64Slice</span><span class="op" id="4926465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926468">reflect</span><span class="op" id="4926475">.</span><span class="ident" id="4926476">Int</span><span class="op" id="4926479">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926488">decIntSlice</span><span class="op" id="4926499">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926502">reflect</span><span class="op" id="4926509">.</span><span class="ident" id="4926510">Int16</span><span class="op" id="4926515">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926522">decInt16Slice</span><span class="op" id="4926535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926538">reflect</span><span class="op" id="4926545">.</span><span class="ident" id="4926546">Int32</span><span class="op" id="4926551">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926558">decInt32Slice</span><span class="op" id="4926571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926574">reflect</span><span class="op" id="4926581">.</span><span class="ident" id="4926582">Int64</span><span class="op" id="4926587">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926594">decInt64Slice</span><span class="op" id="4926607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926610">reflect</span><span class="op" id="4926617">.</span><span class="ident" id="4926618">Int8</span><span class="op" id="4926622">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926630">decInt8Slice</span><span class="op" id="4926642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926645">reflect</span><span class="op" id="4926652">.</span><span class="ident" id="4926653">String</span><span class="op" id="4926659">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926665">decStringSlice</span><span class="op" id="4926679">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926682">reflect</span><span class="op" id="4926689">.</span><span class="ident" id="4926690">Uint</span><span class="op" id="4926694">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926702">decUintSlice</span><span class="op" id="4926714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926717">reflect</span><span class="op" id="4926724">.</span><span class="ident" id="4926725">Uint16</span><span class="op" id="4926731">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926737">decUint16Slice</span><span class="op" id="4926751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926754">reflect</span><span class="op" id="4926761">.</span><span class="ident" id="4926762">Uint32</span><span class="op" id="4926768">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926774">decUint32Slice</span><span class="op" id="4926788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926791">reflect</span><span class="op" id="4926798">.</span><span class="ident" id="4926799">Uint64</span><span class="op" id="4926805">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926811">decUint64Slice</span><span class="op" id="4926825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4926828">reflect</span><span class="op" id="4926835">.</span><span class="ident" id="4926836">Uintptr</span><span class="op" id="4926843">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4926848">decUintptrSlice</span><span class="op" id="4926863">,</span><br>
<span class="lineno">50</span><span class="op" id="4926865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4926868">func</span>&nbsp;<span class="ident" id="4926873">decBoolArray</span><span class="op" id="4926885">(</span><span class="ident" id="4926886">state</span>&nbsp;<span class="op" id="4926892">*</span><span class="ident" id="4926893">decoderState</span><span class="op" id="4926905">,</span>&nbsp;<span class="ident" id="4926907">v</span>&nbsp;<span class="ident" id="4926909">reflect</span><span class="op" id="4926916">.</span><span class="ident" id="4926917">Value</span><span class="op" id="4926922">,</span>&nbsp;<span class="ident" id="4926924">length</span>&nbsp;<span class="builtintype" id="4926931">int</span><span class="op" id="4926934">,</span>&nbsp;<span class="ident" id="4926936">ovfl</span>&nbsp;<span class="builtintype" id="4926941">error</span><span class="op" id="4926946">)</span>&nbsp;<span class="builtintype" id="4926948">bool</span>&nbsp;<span class="op" id="4926953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4926956">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4926997">if</span>&nbsp;<span class="op" id="4927000">!</span><span class="ident" id="4927001">v</span><span class="op" id="4927002">.</span><span class="ident" id="4927003">CanAddr</span><span class="op" id="4927010">(</span><span class="op" id="4927011">)</span>&nbsp;<span class="op" id="4927013">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927017">return</span>&nbsp;<span class="builtintype" id="4927024">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4927031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927034">return</span>&nbsp;<span class="ident" id="4927041">decBoolSlice</span><span class="op" id="4927053">(</span><span class="ident" id="4927054">state</span><span class="op" id="4927059">,</span>&nbsp;<span class="ident" id="4927061">v</span><span class="op" id="4927062">.</span><span class="ident" id="4927063">Slice</span><span class="op" id="4927068">(</span><span class="num" id="4927069">0</span><span class="op" id="4927070">,</span>&nbsp;<span class="ident" id="4927072">v</span><span class="op" id="4927073">.</span><span class="ident" id="4927074">Len</span><span class="op" id="4927077">(</span><span class="op" id="4927078">)</span><span class="op" id="4927079">)</span><span class="op" id="4927080">,</span>&nbsp;<span class="ident" id="4927082">length</span><span class="op" id="4927088">,</span>&nbsp;<span class="ident" id="4927090">ovfl</span><span class="op" id="4927094">)</span><br>
<span class="lineno"></span><span class="op" id="4927096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4927099">func</span>&nbsp;<span class="ident" id="4927104">decBoolSlice</span><span class="op" id="4927116">(</span><span class="ident" id="4927117">state</span>&nbsp;<span class="op" id="4927123">*</span><span class="ident" id="4927124">decoderState</span><span class="op" id="4927136">,</span>&nbsp;<span class="ident" id="4927138">v</span>&nbsp;<span class="ident" id="4927140">reflect</span><span class="op" id="4927147">.</span><span class="ident" id="4927148">Value</span><span class="op" id="4927153">,</span>&nbsp;<span class="ident" id="4927155">length</span>&nbsp;<span class="builtintype" id="4927162">int</span><span class="op" id="4927165">,</span>&nbsp;<span class="ident" id="4927167">ovfl</span>&nbsp;<span class="builtintype" id="4927172">error</span><span class="op" id="4927177">)</span>&nbsp;<span class="builtintype" id="4927179">bool</span>&nbsp;<span class="op" id="4927184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4927187">slice</span><span class="op" id="4927192">,</span>&nbsp;<span class="ident" id="4927194">ok</span>&nbsp;<span class="op" id="4927197">:=</span>&nbsp;<span class="ident" id="4927200">v</span><span class="op" id="4927201">.</span><span class="ident" id="4927202">Interface</span><span class="op" id="4927211">(</span><span class="op" id="4927212">)</span><span class="op" id="4927213">.</span><span class="op" id="4927214">(</span><span class="op" id="4927215">[</span><span class="op" id="4927216">]</span><span class="builtintype" id="4927217">bool</span><span class="op" id="4927221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927224">if</span>&nbsp;<span class="op" id="4927227">!</span><span class="ident" id="4927228">ok</span>&nbsp;<span class="op" id="4927231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4927235">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927310">return</span>&nbsp;<span class="builtintype" id="4927317">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4927324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927327">for</span>&nbsp;<span class="ident" id="4927331">i</span>&nbsp;<span class="op" id="4927333">:=</span>&nbsp;<span class="num" id="4927336">0</span><span class="op" id="4927337">;</span>&nbsp;<span class="ident" id="4927339">i</span>&nbsp;<span class="op" id="4927341">&lt;</span>&nbsp;<span class="ident" id="4927343">length</span><span class="op" id="4927349">;</span>&nbsp;<span class="ident" id="4927351">i</span><span class="op" id="4927352">++</span>&nbsp;<span class="op" id="4927355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927359">if</span>&nbsp;<span class="ident" id="4927362">state</span><span class="op" id="4927367">.</span><span class="ident" id="4927368">b</span><span class="op" id="4927369">.</span><span class="ident" id="4927370">Len</span><span class="op" id="4927373">(</span><span class="op" id="4927374">)</span>&nbsp;<span class="op" id="4927376">==</span>&nbsp;<span class="num" id="4927379">0</span>&nbsp;<span class="op" id="4927381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4927386">errorf</span><span class="op" id="4927392">(</span><span class="string" id="4927393">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4927464">,</span>&nbsp;<span class="ident" id="4927466">length</span><span class="op" id="4927472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4927476">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4927480">slice</span><span class="op" id="4927485">[</span><span class="ident" id="4927486">i</span><span class="op" id="4927487">]</span>&nbsp;<span class="op" id="4927489">=</span>&nbsp;<span class="ident" id="4927491">state</span><span class="op" id="4927496">.</span><span class="ident" id="4927497">decodeUint</span><span class="op" id="4927507">(</span><span class="op" id="4927508">)</span>&nbsp;<span class="op" id="4927510">!=</span>&nbsp;<span class="num" id="4927513">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4927516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927519">return</span>&nbsp;<span class="builtintype" id="4927526">true</span><br>
<span class="lineno"></span><span class="op" id="4927531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4927534">func</span>&nbsp;<span class="ident" id="4927539">decComplex64Array</span><span class="op" id="4927556">(</span><span class="ident" id="4927557">state</span>&nbsp;<span class="op" id="4927563">*</span><span class="ident" id="4927564">decoderState</span><span class="op" id="4927576">,</span>&nbsp;<span class="ident" id="4927578">v</span>&nbsp;<span class="ident" id="4927580">reflect</span><span class="op" id="4927587">.</span><span class="ident" id="4927588">Value</span><span class="op" id="4927593">,</span>&nbsp;<span class="ident" id="4927595">length</span>&nbsp;<span class="builtintype" id="4927602">int</span><span class="op" id="4927605">,</span>&nbsp;<span class="ident" id="4927607">ovfl</span>&nbsp;<span class="builtintype" id="4927612">error</span><span class="op" id="4927617">)</span>&nbsp;<span class="builtintype" id="4927619">bool</span>&nbsp;<span class="op" id="4927624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4927627">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927668">if</span>&nbsp;<span class="op" id="4927671">!</span><span class="ident" id="4927672">v</span><span class="op" id="4927673">.</span><span class="ident" id="4927674">CanAddr</span><span class="op" id="4927681">(</span><span class="op" id="4927682">)</span>&nbsp;<span class="op" id="4927684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927688">return</span>&nbsp;<span class="builtintype" id="4927695">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4927702">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927705">return</span>&nbsp;<span class="ident" id="4927712">decComplex64Slice</span><span class="op" id="4927729">(</span><span class="ident" id="4927730">state</span><span class="op" id="4927735">,</span>&nbsp;<span class="ident" id="4927737">v</span><span class="op" id="4927738">.</span><span class="ident" id="4927739">Slice</span><span class="op" id="4927744">(</span><span class="num" id="4927745">0</span><span class="op" id="4927746">,</span>&nbsp;<span class="ident" id="4927748">v</span><span class="op" id="4927749">.</span><span class="ident" id="4927750">Len</span><span class="op" id="4927753">(</span><span class="op" id="4927754">)</span><span class="op" id="4927755">)</span><span class="op" id="4927756">,</span>&nbsp;<span class="ident" id="4927758">length</span><span class="op" id="4927764">,</span>&nbsp;<span class="ident" id="4927766">ovfl</span><span class="op" id="4927770">)</span><br>
<span class="lineno"></span><span class="op" id="4927772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4927775">func</span>&nbsp;<span class="ident" id="4927780">decComplex64Slice</span><span class="op" id="4927797">(</span><span class="ident" id="4927798">state</span>&nbsp;<span class="op" id="4927804">*</span><span class="ident" id="4927805">decoderState</span><span class="op" id="4927817">,</span>&nbsp;<span class="ident" id="4927819">v</span>&nbsp;<span class="ident" id="4927821">reflect</span><span class="op" id="4927828">.</span><span class="ident" id="4927829">Value</span><span class="op" id="4927834">,</span>&nbsp;<span class="ident" id="4927836">length</span>&nbsp;<span class="builtintype" id="4927843">int</span><span class="op" id="4927846">,</span>&nbsp;<span class="ident" id="4927848">ovfl</span>&nbsp;<span class="builtintype" id="4927853">error</span><span class="op" id="4927858">)</span>&nbsp;<span class="builtintype" id="4927860">bool</span>&nbsp;<span class="op" id="4927865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4927868">slice</span><span class="op" id="4927873">,</span>&nbsp;<span class="ident" id="4927875">ok</span>&nbsp;<span class="op" id="4927878">:=</span>&nbsp;<span class="ident" id="4927881">v</span><span class="op" id="4927882">.</span><span class="ident" id="4927883">Interface</span><span class="op" id="4927892">(</span><span class="op" id="4927893">)</span><span class="op" id="4927894">.</span><span class="op" id="4927895">(</span><span class="op" id="4927896">[</span><span class="op" id="4927897">]</span><span class="builtintype" id="4927898">complex64</span><span class="op" id="4927907">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4927910">if</span>&nbsp;<span class="op" id="4927913">!</span><span class="ident" id="4927914">ok</span>&nbsp;<span class="op" id="4927917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4927921">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928006">return</span>&nbsp;<span class="builtintype" id="4928013">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4928020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928023">for</span>&nbsp;<span class="ident" id="4928027">i</span>&nbsp;<span class="op" id="4928029">:=</span>&nbsp;<span class="num" id="4928032">0</span><span class="op" id="4928033">;</span>&nbsp;<span class="ident" id="4928035">i</span>&nbsp;<span class="op" id="4928037">&lt;</span>&nbsp;<span class="ident" id="4928039">length</span><span class="op" id="4928045">;</span>&nbsp;<span class="ident" id="4928047">i</span><span class="op" id="4928048">++</span>&nbsp;<span class="op" id="4928051">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928055">if</span>&nbsp;<span class="ident" id="4928058">state</span><span class="op" id="4928063">.</span><span class="ident" id="4928064">b</span><span class="op" id="4928065">.</span><span class="ident" id="4928066">Len</span><span class="op" id="4928069">(</span><span class="op" id="4928070">)</span>&nbsp;<span class="op" id="4928072">==</span>&nbsp;<span class="num" id="4928075">0</span>&nbsp;<span class="op" id="4928077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4928082">errorf</span><span class="op" id="4928088">(</span><span class="string" id="4928089">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4928165">,</span>&nbsp;<span class="ident" id="4928167">length</span><span class="op" id="4928173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4928177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4928181">real</span>&nbsp;<span class="op" id="4928186">:=</span>&nbsp;<span class="ident" id="4928189">float32FromBits</span><span class="op" id="4928204">(</span><span class="ident" id="4928205">state</span><span class="op" id="4928210">.</span><span class="ident" id="4928211">decodeUint</span><span class="op" id="4928221">(</span><span class="op" id="4928222">)</span><span class="op" id="4928223">,</span>&nbsp;<span class="ident" id="4928225">ovfl</span><span class="op" id="4928229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4928233">imag</span>&nbsp;<span class="op" id="4928238">:=</span>&nbsp;<span class="ident" id="4928241">float32FromBits</span><span class="op" id="4928256">(</span><span class="ident" id="4928257">state</span><span class="op" id="4928262">.</span><span class="ident" id="4928263">decodeUint</span><span class="op" id="4928273">(</span><span class="op" id="4928274">)</span><span class="op" id="4928275">,</span>&nbsp;<span class="ident" id="4928277">ovfl</span><span class="op" id="4928281">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4928285">slice</span><span class="op" id="4928290">[</span><span class="ident" id="4928291">i</span><span class="op" id="4928292">]</span>&nbsp;<span class="op" id="4928294">=</span>&nbsp;<span class="builtinfunc" id="4928296">complex</span><span class="op" id="4928303">(</span><span class="builtintype" id="4928304">float32</span><span class="op" id="4928311">(</span><span class="builtinfunc" id="4928312">real</span><span class="op" id="4928316">)</span><span class="op" id="4928317">,</span>&nbsp;<span class="builtintype" id="4928319">float32</span><span class="op" id="4928326">(</span><span class="builtinfunc" id="4928327">imag</span><span class="op" id="4928331">)</span><span class="op" id="4928332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4928335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928338">return</span>&nbsp;<span class="builtintype" id="4928345">true</span><br>
<span class="lineno"></span><span class="op" id="4928350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4928353">func</span>&nbsp;<span class="ident" id="4928358">decComplex128Array</span><span class="op" id="4928376">(</span><span class="ident" id="4928377">state</span>&nbsp;<span class="op" id="4928383">*</span><span class="ident" id="4928384">decoderState</span><span class="op" id="4928396">,</span>&nbsp;<span class="ident" id="4928398">v</span>&nbsp;<span class="ident" id="4928400">reflect</span><span class="op" id="4928407">.</span><span class="ident" id="4928408">Value</span><span class="op" id="4928413">,</span>&nbsp;<span class="ident" id="4928415">length</span>&nbsp;<span class="builtintype" id="4928422">int</span><span class="op" id="4928425">,</span>&nbsp;<span class="ident" id="4928427">ovfl</span>&nbsp;<span class="builtintype" id="4928432">error</span><span class="op" id="4928437">)</span>&nbsp;<span class="builtintype" id="4928439">bool</span>&nbsp;<span class="op" id="4928444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4928447">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928488">if</span>&nbsp;<span class="op" id="4928491">!</span><span class="ident" id="4928492">v</span><span class="op" id="4928493">.</span><span class="ident" id="4928494">CanAddr</span><span class="op" id="4928501">(</span><span class="op" id="4928502">)</span>&nbsp;<span class="op" id="4928504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928508">return</span>&nbsp;<span class="builtintype" id="4928515">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4928522">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928525">return</span>&nbsp;<span class="ident" id="4928532">decComplex128Slice</span><span class="op" id="4928550">(</span><span class="ident" id="4928551">state</span><span class="op" id="4928556">,</span>&nbsp;<span class="ident" id="4928558">v</span><span class="op" id="4928559">.</span><span class="ident" id="4928560">Slice</span><span class="op" id="4928565">(</span><span class="num" id="4928566">0</span><span class="op" id="4928567">,</span>&nbsp;<span class="ident" id="4928569">v</span><span class="op" id="4928570">.</span><span class="ident" id="4928571">Len</span><span class="op" id="4928574">(</span><span class="op" id="4928575">)</span><span class="op" id="4928576">)</span><span class="op" id="4928577">,</span>&nbsp;<span class="ident" id="4928579">length</span><span class="op" id="4928585">,</span>&nbsp;<span class="ident" id="4928587">ovfl</span><span class="op" id="4928591">)</span><br>
<span class="lineno"></span><span class="op" id="4928593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4928596">func</span>&nbsp;<span class="ident" id="4928601">decComplex128Slice</span><span class="op" id="4928619">(</span><span class="ident" id="4928620">state</span>&nbsp;<span class="op" id="4928626">*</span><span class="ident" id="4928627">decoderState</span><span class="op" id="4928639">,</span>&nbsp;<span class="ident" id="4928641">v</span>&nbsp;<span class="ident" id="4928643">reflect</span><span class="op" id="4928650">.</span><span class="ident" id="4928651">Value</span><span class="op" id="4928656">,</span>&nbsp;<span class="ident" id="4928658">length</span>&nbsp;<span class="builtintype" id="4928665">int</span><span class="op" id="4928668">,</span>&nbsp;<span class="ident" id="4928670">ovfl</span>&nbsp;<span class="builtintype" id="4928675">error</span><span class="op" id="4928680">)</span>&nbsp;<span class="builtintype" id="4928682">bool</span>&nbsp;<span class="op" id="4928687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4928690">slice</span><span class="op" id="4928695">,</span>&nbsp;<span class="ident" id="4928697">ok</span>&nbsp;<span class="op" id="4928700">:=</span>&nbsp;<span class="ident" id="4928703">v</span><span class="op" id="4928704">.</span><span class="ident" id="4928705">Interface</span><span class="op" id="4928714">(</span><span class="op" id="4928715">)</span><span class="op" id="4928716">.</span><span class="op" id="4928717">(</span><span class="op" id="4928718">[</span><span class="op" id="4928719">]</span><span class="builtintype" id="4928720">complex128</span><span class="op" id="4928730">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928733">if</span>&nbsp;<span class="op" id="4928736">!</span><span class="ident" id="4928737">ok</span>&nbsp;<span class="op" id="4928740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4928744">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928831">return</span>&nbsp;<span class="builtintype" id="4928838">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4928845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928848">for</span>&nbsp;<span class="ident" id="4928852">i</span>&nbsp;<span class="op" id="4928854">:=</span>&nbsp;<span class="num" id="4928857">0</span><span class="op" id="4928858">;</span>&nbsp;<span class="ident" id="4928860">i</span>&nbsp;<span class="op" id="4928862">&lt;</span>&nbsp;<span class="ident" id="4928864">length</span><span class="op" id="4928870">;</span>&nbsp;<span class="ident" id="4928872">i</span><span class="op" id="4928873">++</span>&nbsp;<span class="op" id="4928876">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4928880">if</span>&nbsp;<span class="ident" id="4928883">state</span><span class="op" id="4928888">.</span><span class="ident" id="4928889">b</span><span class="op" id="4928890">.</span><span class="ident" id="4928891">Len</span><span class="op" id="4928894">(</span><span class="op" id="4928895">)</span>&nbsp;<span class="op" id="4928897">==</span>&nbsp;<span class="num" id="4928900">0</span>&nbsp;<span class="op" id="4928902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4928907">errorf</span><span class="op" id="4928913">(</span><span class="string" id="4928914">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4928991">,</span>&nbsp;<span class="ident" id="4928993">length</span><span class="op" id="4928999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4929007">real</span>&nbsp;<span class="op" id="4929012">:=</span>&nbsp;<span class="ident" id="4929015">float64FromBits</span><span class="op" id="4929030">(</span><span class="ident" id="4929031">state</span><span class="op" id="4929036">.</span><span class="ident" id="4929037">decodeUint</span><span class="op" id="4929047">(</span><span class="op" id="4929048">)</span><span class="op" id="4929049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4929053">imag</span>&nbsp;<span class="op" id="4929058">:=</span>&nbsp;<span class="ident" id="4929061">float64FromBits</span><span class="op" id="4929076">(</span><span class="ident" id="4929077">state</span><span class="op" id="4929082">.</span><span class="ident" id="4929083">decodeUint</span><span class="op" id="4929093">(</span><span class="op" id="4929094">)</span><span class="op" id="4929095">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4929099">slice</span><span class="op" id="4929104">[</span><span class="ident" id="4929105">i</span><span class="op" id="4929106">]</span>&nbsp;<span class="op" id="4929108">=</span>&nbsp;<span class="builtinfunc" id="4929110">complex</span><span class="op" id="4929117">(</span><span class="builtinfunc" id="4929118">real</span><span class="op" id="4929122">,</span>&nbsp;<span class="builtinfunc" id="4929124">imag</span><span class="op" id="4929128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929134">return</span>&nbsp;<span class="builtintype" id="4929141">true</span><br>
<span class="lineno"></span><span class="op" id="4929146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4929149">func</span>&nbsp;<span class="ident" id="4929154">decFloat32Array</span><span class="op" id="4929169">(</span><span class="ident" id="4929170">state</span>&nbsp;<span class="op" id="4929176">*</span><span class="ident" id="4929177">decoderState</span><span class="op" id="4929189">,</span>&nbsp;<span class="ident" id="4929191">v</span>&nbsp;<span class="ident" id="4929193">reflect</span><span class="op" id="4929200">.</span><span class="ident" id="4929201">Value</span><span class="op" id="4929206">,</span>&nbsp;<span class="ident" id="4929208">length</span>&nbsp;<span class="builtintype" id="4929215">int</span><span class="op" id="4929218">,</span>&nbsp;<span class="ident" id="4929220">ovfl</span>&nbsp;<span class="builtintype" id="4929225">error</span><span class="op" id="4929230">)</span>&nbsp;<span class="builtintype" id="4929232">bool</span>&nbsp;<span class="op" id="4929237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4929240">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929281">if</span>&nbsp;<span class="op" id="4929284">!</span><span class="ident" id="4929285">v</span><span class="op" id="4929286">.</span><span class="ident" id="4929287">CanAddr</span><span class="op" id="4929294">(</span><span class="op" id="4929295">)</span>&nbsp;<span class="op" id="4929297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929301">return</span>&nbsp;<span class="builtintype" id="4929308">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929315">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929318">return</span>&nbsp;<span class="ident" id="4929325">decFloat32Slice</span><span class="op" id="4929340">(</span><span class="ident" id="4929341">state</span><span class="op" id="4929346">,</span>&nbsp;<span class="ident" id="4929348">v</span><span class="op" id="4929349">.</span><span class="ident" id="4929350">Slice</span><span class="op" id="4929355">(</span><span class="num" id="4929356">0</span><span class="op" id="4929357">,</span>&nbsp;<span class="ident" id="4929359">v</span><span class="op" id="4929360">.</span><span class="ident" id="4929361">Len</span><span class="op" id="4929364">(</span><span class="op" id="4929365">)</span><span class="op" id="4929366">)</span><span class="op" id="4929367">,</span>&nbsp;<span class="ident" id="4929369">length</span><span class="op" id="4929375">,</span>&nbsp;<span class="ident" id="4929377">ovfl</span><span class="op" id="4929381">)</span><br>
<span class="lineno"></span><span class="op" id="4929383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4929386">func</span>&nbsp;<span class="ident" id="4929391">decFloat32Slice</span><span class="op" id="4929406">(</span><span class="ident" id="4929407">state</span>&nbsp;<span class="op" id="4929413">*</span><span class="ident" id="4929414">decoderState</span><span class="op" id="4929426">,</span>&nbsp;<span class="ident" id="4929428">v</span>&nbsp;<span class="ident" id="4929430">reflect</span><span class="op" id="4929437">.</span><span class="ident" id="4929438">Value</span><span class="op" id="4929443">,</span>&nbsp;<span class="ident" id="4929445">length</span>&nbsp;<span class="builtintype" id="4929452">int</span><span class="op" id="4929455">,</span>&nbsp;<span class="ident" id="4929457">ovfl</span>&nbsp;<span class="builtintype" id="4929462">error</span><span class="op" id="4929467">)</span>&nbsp;<span class="builtintype" id="4929469">bool</span>&nbsp;<span class="op" id="4929474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4929477">slice</span><span class="op" id="4929482">,</span>&nbsp;<span class="ident" id="4929484">ok</span>&nbsp;<span class="op" id="4929487">:=</span>&nbsp;<span class="ident" id="4929490">v</span><span class="op" id="4929491">.</span><span class="ident" id="4929492">Interface</span><span class="op" id="4929501">(</span><span class="op" id="4929502">)</span><span class="op" id="4929503">.</span><span class="op" id="4929504">(</span><span class="op" id="4929505">[</span><span class="op" id="4929506">]</span><span class="builtintype" id="4929507">float32</span><span class="op" id="4929514">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929517">if</span>&nbsp;<span class="op" id="4929520">!</span><span class="ident" id="4929521">ok</span>&nbsp;<span class="op" id="4929524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4929528">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929609">return</span>&nbsp;<span class="builtintype" id="4929616">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929626">for</span>&nbsp;<span class="ident" id="4929630">i</span>&nbsp;<span class="op" id="4929632">:=</span>&nbsp;<span class="num" id="4929635">0</span><span class="op" id="4929636">;</span>&nbsp;<span class="ident" id="4929638">i</span>&nbsp;<span class="op" id="4929640">&lt;</span>&nbsp;<span class="ident" id="4929642">length</span><span class="op" id="4929648">;</span>&nbsp;<span class="ident" id="4929650">i</span><span class="op" id="4929651">++</span>&nbsp;<span class="op" id="4929654">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929658">if</span>&nbsp;<span class="ident" id="4929661">state</span><span class="op" id="4929666">.</span><span class="ident" id="4929667">b</span><span class="op" id="4929668">.</span><span class="ident" id="4929669">Len</span><span class="op" id="4929672">(</span><span class="op" id="4929673">)</span>&nbsp;<span class="op" id="4929675">==</span>&nbsp;<span class="num" id="4929678">0</span>&nbsp;<span class="op" id="4929680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4929685">errorf</span><span class="op" id="4929691">(</span><span class="string" id="4929692">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4929766">,</span>&nbsp;<span class="ident" id="4929768">length</span><span class="op" id="4929774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4929782">slice</span><span class="op" id="4929787">[</span><span class="ident" id="4929788">i</span><span class="op" id="4929789">]</span>&nbsp;<span class="op" id="4929791">=</span>&nbsp;<span class="builtintype" id="4929793">float32</span><span class="op" id="4929800">(</span><span class="ident" id="4929801">float32FromBits</span><span class="op" id="4929816">(</span><span class="ident" id="4929817">state</span><span class="op" id="4929822">.</span><span class="ident" id="4929823">decodeUint</span><span class="op" id="4929833">(</span><span class="op" id="4929834">)</span><span class="op" id="4929835">,</span>&nbsp;<span class="ident" id="4929837">ovfl</span><span class="op" id="4929841">)</span><span class="op" id="4929842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4929845">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929848">return</span>&nbsp;<span class="builtintype" id="4929855">true</span><br>
<span class="lineno"></span><span class="op" id="4929860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4929863">func</span>&nbsp;<span class="ident" id="4929868">decFloat64Array</span><span class="op" id="4929883">(</span><span class="ident" id="4929884">state</span>&nbsp;<span class="op" id="4929890">*</span><span class="ident" id="4929891">decoderState</span><span class="op" id="4929903">,</span>&nbsp;<span class="ident" id="4929905">v</span>&nbsp;<span class="ident" id="4929907">reflect</span><span class="op" id="4929914">.</span><span class="ident" id="4929915">Value</span><span class="op" id="4929920">,</span>&nbsp;<span class="ident" id="4929922">length</span>&nbsp;<span class="builtintype" id="4929929">int</span><span class="op" id="4929932">,</span>&nbsp;<span class="ident" id="4929934">ovfl</span>&nbsp;<span class="builtintype" id="4929939">error</span><span class="op" id="4929944">)</span>&nbsp;<span class="builtintype" id="4929946">bool</span>&nbsp;<span class="op" id="4929951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4929954">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4929995">if</span>&nbsp;<span class="op" id="4929998">!</span><span class="ident" id="4929999">v</span><span class="op" id="4930000">.</span><span class="ident" id="4930001">CanAddr</span><span class="op" id="4930008">(</span><span class="op" id="4930009">)</span>&nbsp;<span class="op" id="4930011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930015">return</span>&nbsp;<span class="builtintype" id="4930022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4930029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930032">return</span>&nbsp;<span class="ident" id="4930039">decFloat64Slice</span><span class="op" id="4930054">(</span><span class="ident" id="4930055">state</span><span class="op" id="4930060">,</span>&nbsp;<span class="ident" id="4930062">v</span><span class="op" id="4930063">.</span><span class="ident" id="4930064">Slice</span><span class="op" id="4930069">(</span><span class="num" id="4930070">0</span><span class="op" id="4930071">,</span>&nbsp;<span class="ident" id="4930073">v</span><span class="op" id="4930074">.</span><span class="ident" id="4930075">Len</span><span class="op" id="4930078">(</span><span class="op" id="4930079">)</span><span class="op" id="4930080">)</span><span class="op" id="4930081">,</span>&nbsp;<span class="ident" id="4930083">length</span><span class="op" id="4930089">,</span>&nbsp;<span class="ident" id="4930091">ovfl</span><span class="op" id="4930095">)</span><br>
<span class="lineno"></span><span class="op" id="4930097">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4930100">func</span>&nbsp;<span class="ident" id="4930105">decFloat64Slice</span><span class="op" id="4930120">(</span><span class="ident" id="4930121">state</span>&nbsp;<span class="op" id="4930127">*</span><span class="ident" id="4930128">decoderState</span><span class="op" id="4930140">,</span>&nbsp;<span class="ident" id="4930142">v</span>&nbsp;<span class="ident" id="4930144">reflect</span><span class="op" id="4930151">.</span><span class="ident" id="4930152">Value</span><span class="op" id="4930157">,</span>&nbsp;<span class="ident" id="4930159">length</span>&nbsp;<span class="builtintype" id="4930166">int</span><span class="op" id="4930169">,</span>&nbsp;<span class="ident" id="4930171">ovfl</span>&nbsp;<span class="builtintype" id="4930176">error</span><span class="op" id="4930181">)</span>&nbsp;<span class="builtintype" id="4930183">bool</span>&nbsp;<span class="op" id="4930188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4930191">slice</span><span class="op" id="4930196">,</span>&nbsp;<span class="ident" id="4930198">ok</span>&nbsp;<span class="op" id="4930201">:=</span>&nbsp;<span class="ident" id="4930204">v</span><span class="op" id="4930205">.</span><span class="ident" id="4930206">Interface</span><span class="op" id="4930215">(</span><span class="op" id="4930216">)</span><span class="op" id="4930217">.</span><span class="op" id="4930218">(</span><span class="op" id="4930219">[</span><span class="op" id="4930220">]</span><span class="builtintype" id="4930221">float64</span><span class="op" id="4930228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930231">if</span>&nbsp;<span class="op" id="4930234">!</span><span class="ident" id="4930235">ok</span>&nbsp;<span class="op" id="4930238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4930242">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930323">return</span>&nbsp;<span class="builtintype" id="4930330">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4930337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930340">for</span>&nbsp;<span class="ident" id="4930344">i</span>&nbsp;<span class="op" id="4930346">:=</span>&nbsp;<span class="num" id="4930349">0</span><span class="op" id="4930350">;</span>&nbsp;<span class="ident" id="4930352">i</span>&nbsp;<span class="op" id="4930354">&lt;</span>&nbsp;<span class="ident" id="4930356">length</span><span class="op" id="4930362">;</span>&nbsp;<span class="ident" id="4930364">i</span><span class="op" id="4930365">++</span>&nbsp;<span class="op" id="4930368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930372">if</span>&nbsp;<span class="ident" id="4930375">state</span><span class="op" id="4930380">.</span><span class="ident" id="4930381">b</span><span class="op" id="4930382">.</span><span class="ident" id="4930383">Len</span><span class="op" id="4930386">(</span><span class="op" id="4930387">)</span>&nbsp;<span class="op" id="4930389">==</span>&nbsp;<span class="num" id="4930392">0</span>&nbsp;<span class="op" id="4930394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4930399">errorf</span><span class="op" id="4930405">(</span><span class="string" id="4930406">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4930480">,</span>&nbsp;<span class="ident" id="4930482">length</span><span class="op" id="4930488">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4930492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4930496">slice</span><span class="op" id="4930501">[</span><span class="ident" id="4930502">i</span><span class="op" id="4930503">]</span>&nbsp;<span class="op" id="4930505">=</span>&nbsp;<span class="ident" id="4930507">float64FromBits</span><span class="op" id="4930522">(</span><span class="ident" id="4930523">state</span><span class="op" id="4930528">.</span><span class="ident" id="4930529">decodeUint</span><span class="op" id="4930539">(</span><span class="op" id="4930540">)</span><span class="op" id="4930541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4930544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930547">return</span>&nbsp;<span class="builtintype" id="4930554">true</span><br>
<span class="lineno"></span><span class="op" id="4930559">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4930562">func</span>&nbsp;<span class="ident" id="4930567">decIntArray</span><span class="op" id="4930578">(</span><span class="ident" id="4930579">state</span>&nbsp;<span class="op" id="4930585">*</span><span class="ident" id="4930586">decoderState</span><span class="op" id="4930598">,</span>&nbsp;<span class="ident" id="4930600">v</span>&nbsp;<span class="ident" id="4930602">reflect</span><span class="op" id="4930609">.</span><span class="ident" id="4930610">Value</span><span class="op" id="4930615">,</span>&nbsp;<span class="ident" id="4930617">length</span>&nbsp;<span class="builtintype" id="4930624">int</span><span class="op" id="4930627">,</span>&nbsp;<span class="ident" id="4930629">ovfl</span>&nbsp;<span class="builtintype" id="4930634">error</span><span class="op" id="4930639">)</span>&nbsp;<span class="builtintype" id="4930641">bool</span>&nbsp;<span class="op" id="4930646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4930649">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930690">if</span>&nbsp;<span class="op" id="4930693">!</span><span class="ident" id="4930694">v</span><span class="op" id="4930695">.</span><span class="ident" id="4930696">CanAddr</span><span class="op" id="4930703">(</span><span class="op" id="4930704">)</span>&nbsp;<span class="op" id="4930706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930710">return</span>&nbsp;<span class="builtintype" id="4930717">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4930724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930727">return</span>&nbsp;<span class="ident" id="4930734">decIntSlice</span><span class="op" id="4930745">(</span><span class="ident" id="4930746">state</span><span class="op" id="4930751">,</span>&nbsp;<span class="ident" id="4930753">v</span><span class="op" id="4930754">.</span><span class="ident" id="4930755">Slice</span><span class="op" id="4930760">(</span><span class="num" id="4930761">0</span><span class="op" id="4930762">,</span>&nbsp;<span class="ident" id="4930764">v</span><span class="op" id="4930765">.</span><span class="ident" id="4930766">Len</span><span class="op" id="4930769">(</span><span class="op" id="4930770">)</span><span class="op" id="4930771">)</span><span class="op" id="4930772">,</span>&nbsp;<span class="ident" id="4930774">length</span><span class="op" id="4930780">,</span>&nbsp;<span class="ident" id="4930782">ovfl</span><span class="op" id="4930786">)</span><br>
<span class="lineno"></span><span class="op" id="4930788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4930791">func</span>&nbsp;<span class="ident" id="4930796">decIntSlice</span><span class="op" id="4930807">(</span><span class="ident" id="4930808">state</span>&nbsp;<span class="op" id="4930814">*</span><span class="ident" id="4930815">decoderState</span><span class="op" id="4930827">,</span>&nbsp;<span class="ident" id="4930829">v</span>&nbsp;<span class="ident" id="4930831">reflect</span><span class="op" id="4930838">.</span><span class="ident" id="4930839">Value</span><span class="op" id="4930844">,</span>&nbsp;<span class="ident" id="4930846">length</span>&nbsp;<span class="builtintype" id="4930853">int</span><span class="op" id="4930856">,</span>&nbsp;<span class="ident" id="4930858">ovfl</span>&nbsp;<span class="builtintype" id="4930863">error</span><span class="op" id="4930868">)</span>&nbsp;<span class="builtintype" id="4930870">bool</span>&nbsp;<span class="op" id="4930875">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4930878">slice</span><span class="op" id="4930883">,</span>&nbsp;<span class="ident" id="4930885">ok</span>&nbsp;<span class="op" id="4930888">:=</span>&nbsp;<span class="ident" id="4930891">v</span><span class="op" id="4930892">.</span><span class="ident" id="4930893">Interface</span><span class="op" id="4930902">(</span><span class="op" id="4930903">)</span><span class="op" id="4930904">.</span><span class="op" id="4930905">(</span><span class="op" id="4930906">[</span><span class="op" id="4930907">]</span><span class="builtintype" id="4930908">int</span><span class="op" id="4930911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930914">if</span>&nbsp;<span class="op" id="4930917">!</span><span class="ident" id="4930918">ok</span>&nbsp;<span class="op" id="4930921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4930925">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4930998">return</span>&nbsp;<span class="builtintype" id="4931005">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931012">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931015">for</span>&nbsp;<span class="ident" id="4931019">i</span>&nbsp;<span class="op" id="4931021">:=</span>&nbsp;<span class="num" id="4931024">0</span><span class="op" id="4931025">;</span>&nbsp;<span class="ident" id="4931027">i</span>&nbsp;<span class="op" id="4931029">&lt;</span>&nbsp;<span class="ident" id="4931031">length</span><span class="op" id="4931037">;</span>&nbsp;<span class="ident" id="4931039">i</span><span class="op" id="4931040">++</span>&nbsp;<span class="op" id="4931043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931047">if</span>&nbsp;<span class="ident" id="4931050">state</span><span class="op" id="4931055">.</span><span class="ident" id="4931056">b</span><span class="op" id="4931057">.</span><span class="ident" id="4931058">Len</span><span class="op" id="4931061">(</span><span class="op" id="4931062">)</span>&nbsp;<span class="op" id="4931064">==</span>&nbsp;<span class="num" id="4931067">0</span>&nbsp;<span class="op" id="4931069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931074">errorf</span><span class="op" id="4931080">(</span><span class="string" id="4931081">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4931151">,</span>&nbsp;<span class="ident" id="4931153">length</span><span class="op" id="4931159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931167">x</span>&nbsp;<span class="op" id="4931169">:=</span>&nbsp;<span class="ident" id="4931172">state</span><span class="op" id="4931177">.</span><span class="ident" id="4931178">decodeInt</span><span class="op" id="4931187">(</span><span class="op" id="4931188">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4931192">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931215">if</span>&nbsp;<span class="ident" id="4931218">x</span>&nbsp;<span class="op" id="4931220">&lt;</span>&nbsp;<span class="op" id="4931222">^</span><span class="ident" id="4931223">int64</span><span class="op" id="4931228">(</span><span class="op" id="4931229">^</span><span class="builtintype" id="4931230">uint</span><span class="op" id="4931234">(</span><span class="num" id="4931235">0</span><span class="op" id="4931236">)</span><span class="op" id="4931237">&gt;&gt;</span><span class="num" id="4931239">1</span><span class="op" id="4931240">)</span>&nbsp;<span class="op" id="4931242">||</span>&nbsp;<span class="ident" id="4931245">int64</span><span class="op" id="4931250">(</span><span class="op" id="4931251">^</span><span class="builtintype" id="4931252">uint</span><span class="op" id="4931256">(</span><span class="num" id="4931257">0</span><span class="op" id="4931258">)</span><span class="op" id="4931259">&gt;&gt;</span><span class="num" id="4931261">1</span><span class="op" id="4931262">)</span>&nbsp;<span class="op" id="4931264">&lt;</span>&nbsp;<span class="ident" id="4931266">x</span>&nbsp;<span class="op" id="4931268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931273">error_</span><span class="op" id="4931279">(</span><span class="ident" id="4931280">ovfl</span><span class="op" id="4931284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931292">slice</span><span class="op" id="4931297">[</span><span class="ident" id="4931298">i</span><span class="op" id="4931299">]</span>&nbsp;<span class="op" id="4931301">=</span>&nbsp;<span class="builtintype" id="4931303">int</span><span class="op" id="4931306">(</span><span class="ident" id="4931307">x</span><span class="op" id="4931308">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931314">return</span>&nbsp;<span class="builtintype" id="4931321">true</span><br>
<span class="lineno"></span><span class="op" id="4931326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4931329">func</span>&nbsp;<span class="ident" id="4931334">decInt16Array</span><span class="op" id="4931347">(</span><span class="ident" id="4931348">state</span>&nbsp;<span class="op" id="4931354">*</span><span class="ident" id="4931355">decoderState</span><span class="op" id="4931367">,</span>&nbsp;<span class="ident" id="4931369">v</span>&nbsp;<span class="ident" id="4931371">reflect</span><span class="op" id="4931378">.</span><span class="ident" id="4931379">Value</span><span class="op" id="4931384">,</span>&nbsp;<span class="ident" id="4931386">length</span>&nbsp;<span class="builtintype" id="4931393">int</span><span class="op" id="4931396">,</span>&nbsp;<span class="ident" id="4931398">ovfl</span>&nbsp;<span class="builtintype" id="4931403">error</span><span class="op" id="4931408">)</span>&nbsp;<span class="builtintype" id="4931410">bool</span>&nbsp;<span class="op" id="4931415">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4931418">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931459">if</span>&nbsp;<span class="op" id="4931462">!</span><span class="ident" id="4931463">v</span><span class="op" id="4931464">.</span><span class="ident" id="4931465">CanAddr</span><span class="op" id="4931472">(</span><span class="op" id="4931473">)</span>&nbsp;<span class="op" id="4931475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931479">return</span>&nbsp;<span class="builtintype" id="4931486">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931496">return</span>&nbsp;<span class="ident" id="4931503">decInt16Slice</span><span class="op" id="4931516">(</span><span class="ident" id="4931517">state</span><span class="op" id="4931522">,</span>&nbsp;<span class="ident" id="4931524">v</span><span class="op" id="4931525">.</span><span class="ident" id="4931526">Slice</span><span class="op" id="4931531">(</span><span class="num" id="4931532">0</span><span class="op" id="4931533">,</span>&nbsp;<span class="ident" id="4931535">v</span><span class="op" id="4931536">.</span><span class="ident" id="4931537">Len</span><span class="op" id="4931540">(</span><span class="op" id="4931541">)</span><span class="op" id="4931542">)</span><span class="op" id="4931543">,</span>&nbsp;<span class="ident" id="4931545">length</span><span class="op" id="4931551">,</span>&nbsp;<span class="ident" id="4931553">ovfl</span><span class="op" id="4931557">)</span><br>
<span class="lineno">205</span><span class="op" id="4931559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4931562">func</span>&nbsp;<span class="ident" id="4931567">decInt16Slice</span><span class="op" id="4931580">(</span><span class="ident" id="4931581">state</span>&nbsp;<span class="op" id="4931587">*</span><span class="ident" id="4931588">decoderState</span><span class="op" id="4931600">,</span>&nbsp;<span class="ident" id="4931602">v</span>&nbsp;<span class="ident" id="4931604">reflect</span><span class="op" id="4931611">.</span><span class="ident" id="4931612">Value</span><span class="op" id="4931617">,</span>&nbsp;<span class="ident" id="4931619">length</span>&nbsp;<span class="builtintype" id="4931626">int</span><span class="op" id="4931629">,</span>&nbsp;<span class="ident" id="4931631">ovfl</span>&nbsp;<span class="builtintype" id="4931636">error</span><span class="op" id="4931641">)</span>&nbsp;<span class="builtintype" id="4931643">bool</span>&nbsp;<span class="op" id="4931648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931651">slice</span><span class="op" id="4931656">,</span>&nbsp;<span class="ident" id="4931658">ok</span>&nbsp;<span class="op" id="4931661">:=</span>&nbsp;<span class="ident" id="4931664">v</span><span class="op" id="4931665">.</span><span class="ident" id="4931666">Interface</span><span class="op" id="4931675">(</span><span class="op" id="4931676">)</span><span class="op" id="4931677">.</span><span class="op" id="4931678">(</span><span class="op" id="4931679">[</span><span class="op" id="4931680">]</span><span class="builtintype" id="4931681">int16</span><span class="op" id="4931686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931689">if</span>&nbsp;<span class="op" id="4931692">!</span><span class="ident" id="4931693">ok</span>&nbsp;<span class="op" id="4931696">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4931700">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931777">return</span>&nbsp;<span class="builtintype" id="4931784">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931794">for</span>&nbsp;<span class="ident" id="4931798">i</span>&nbsp;<span class="op" id="4931800">:=</span>&nbsp;<span class="num" id="4931803">0</span><span class="op" id="4931804">;</span>&nbsp;<span class="ident" id="4931806">i</span>&nbsp;<span class="op" id="4931808">&lt;</span>&nbsp;<span class="ident" id="4931810">length</span><span class="op" id="4931816">;</span>&nbsp;<span class="ident" id="4931818">i</span><span class="op" id="4931819">++</span>&nbsp;<span class="op" id="4931822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931826">if</span>&nbsp;<span class="ident" id="4931829">state</span><span class="op" id="4931834">.</span><span class="ident" id="4931835">b</span><span class="op" id="4931836">.</span><span class="ident" id="4931837">Len</span><span class="op" id="4931840">(</span><span class="op" id="4931841">)</span>&nbsp;<span class="op" id="4931843">==</span>&nbsp;<span class="num" id="4931846">0</span>&nbsp;<span class="op" id="4931848">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931853">errorf</span><span class="op" id="4931859">(</span><span class="string" id="4931860">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4931932">,</span>&nbsp;<span class="ident" id="4931934">length</span><span class="op" id="4931940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4931944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4931948">x</span>&nbsp;<span class="op" id="4931950">:=</span>&nbsp;<span class="ident" id="4931953">state</span><span class="op" id="4931958">.</span><span class="ident" id="4931959">decodeInt</span><span class="op" id="4931968">(</span><span class="op" id="4931969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4931973">if</span>&nbsp;<span class="ident" id="4931976">x</span>&nbsp;<span class="op" id="4931978">&lt;</span>&nbsp;<span class="ident" id="4931980">math</span><span class="op" id="4931984">.</span><span class="ident" id="4931985">MinInt16</span>&nbsp;<span class="op" id="4931994">||</span>&nbsp;<span class="ident" id="4931997">math</span><span class="op" id="4932001">.</span><span class="ident" id="4932002">MaxInt16</span>&nbsp;<span class="op" id="4932011">&lt;</span>&nbsp;<span class="ident" id="4932013">x</span>&nbsp;<span class="op" id="4932015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932020">error_</span><span class="op" id="4932026">(</span><span class="ident" id="4932027">ovfl</span><span class="op" id="4932031">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932039">slice</span><span class="op" id="4932044">[</span><span class="ident" id="4932045">i</span><span class="op" id="4932046">]</span>&nbsp;<span class="op" id="4932048">=</span>&nbsp;<span class="builtintype" id="4932050">int16</span><span class="op" id="4932055">(</span><span class="ident" id="4932056">x</span><span class="op" id="4932057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932063">return</span>&nbsp;<span class="builtintype" id="4932070">true</span><br>
<span class="lineno"></span><span class="op" id="4932075">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4932078">func</span>&nbsp;<span class="ident" id="4932083">decInt32Array</span><span class="op" id="4932096">(</span><span class="ident" id="4932097">state</span>&nbsp;<span class="op" id="4932103">*</span><span class="ident" id="4932104">decoderState</span><span class="op" id="4932116">,</span>&nbsp;<span class="ident" id="4932118">v</span>&nbsp;<span class="ident" id="4932120">reflect</span><span class="op" id="4932127">.</span><span class="ident" id="4932128">Value</span><span class="op" id="4932133">,</span>&nbsp;<span class="ident" id="4932135">length</span>&nbsp;<span class="builtintype" id="4932142">int</span><span class="op" id="4932145">,</span>&nbsp;<span class="ident" id="4932147">ovfl</span>&nbsp;<span class="builtintype" id="4932152">error</span><span class="op" id="4932157">)</span>&nbsp;<span class="builtintype" id="4932159">bool</span>&nbsp;<span class="op" id="4932164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4932167">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932208">if</span>&nbsp;<span class="op" id="4932211">!</span><span class="ident" id="4932212">v</span><span class="op" id="4932213">.</span><span class="ident" id="4932214">CanAddr</span><span class="op" id="4932221">(</span><span class="op" id="4932222">)</span>&nbsp;<span class="op" id="4932224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932228">return</span>&nbsp;<span class="builtintype" id="4932235">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932245">return</span>&nbsp;<span class="ident" id="4932252">decInt32Slice</span><span class="op" id="4932265">(</span><span class="ident" id="4932266">state</span><span class="op" id="4932271">,</span>&nbsp;<span class="ident" id="4932273">v</span><span class="op" id="4932274">.</span><span class="ident" id="4932275">Slice</span><span class="op" id="4932280">(</span><span class="num" id="4932281">0</span><span class="op" id="4932282">,</span>&nbsp;<span class="ident" id="4932284">v</span><span class="op" id="4932285">.</span><span class="ident" id="4932286">Len</span><span class="op" id="4932289">(</span><span class="op" id="4932290">)</span><span class="op" id="4932291">)</span><span class="op" id="4932292">,</span>&nbsp;<span class="ident" id="4932294">length</span><span class="op" id="4932300">,</span>&nbsp;<span class="ident" id="4932302">ovfl</span><span class="op" id="4932306">)</span><br>
<span class="lineno"></span><span class="op" id="4932308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4932311">func</span>&nbsp;<span class="ident" id="4932316">decInt32Slice</span><span class="op" id="4932329">(</span><span class="ident" id="4932330">state</span>&nbsp;<span class="op" id="4932336">*</span><span class="ident" id="4932337">decoderState</span><span class="op" id="4932349">,</span>&nbsp;<span class="ident" id="4932351">v</span>&nbsp;<span class="ident" id="4932353">reflect</span><span class="op" id="4932360">.</span><span class="ident" id="4932361">Value</span><span class="op" id="4932366">,</span>&nbsp;<span class="ident" id="4932368">length</span>&nbsp;<span class="builtintype" id="4932375">int</span><span class="op" id="4932378">,</span>&nbsp;<span class="ident" id="4932380">ovfl</span>&nbsp;<span class="builtintype" id="4932385">error</span><span class="op" id="4932390">)</span>&nbsp;<span class="builtintype" id="4932392">bool</span>&nbsp;<span class="op" id="4932397">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932400">slice</span><span class="op" id="4932405">,</span>&nbsp;<span class="ident" id="4932407">ok</span>&nbsp;<span class="op" id="4932410">:=</span>&nbsp;<span class="ident" id="4932413">v</span><span class="op" id="4932414">.</span><span class="ident" id="4932415">Interface</span><span class="op" id="4932424">(</span><span class="op" id="4932425">)</span><span class="op" id="4932426">.</span><span class="op" id="4932427">(</span><span class="op" id="4932428">[</span><span class="op" id="4932429">]</span><span class="builtintype" id="4932430">int32</span><span class="op" id="4932435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932438">if</span>&nbsp;<span class="op" id="4932441">!</span><span class="ident" id="4932442">ok</span>&nbsp;<span class="op" id="4932445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4932449">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932526">return</span>&nbsp;<span class="builtintype" id="4932533">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932540">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932543">for</span>&nbsp;<span class="ident" id="4932547">i</span>&nbsp;<span class="op" id="4932549">:=</span>&nbsp;<span class="num" id="4932552">0</span><span class="op" id="4932553">;</span>&nbsp;<span class="ident" id="4932555">i</span>&nbsp;<span class="op" id="4932557">&lt;</span>&nbsp;<span class="ident" id="4932559">length</span><span class="op" id="4932565">;</span>&nbsp;<span class="ident" id="4932567">i</span><span class="op" id="4932568">++</span>&nbsp;<span class="op" id="4932571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932575">if</span>&nbsp;<span class="ident" id="4932578">state</span><span class="op" id="4932583">.</span><span class="ident" id="4932584">b</span><span class="op" id="4932585">.</span><span class="ident" id="4932586">Len</span><span class="op" id="4932589">(</span><span class="op" id="4932590">)</span>&nbsp;<span class="op" id="4932592">==</span>&nbsp;<span class="num" id="4932595">0</span>&nbsp;<span class="op" id="4932597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932602">errorf</span><span class="op" id="4932608">(</span><span class="string" id="4932609">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4932681">,</span>&nbsp;<span class="ident" id="4932683">length</span><span class="op" id="4932689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932697">x</span>&nbsp;<span class="op" id="4932699">:=</span>&nbsp;<span class="ident" id="4932702">state</span><span class="op" id="4932707">.</span><span class="ident" id="4932708">decodeInt</span><span class="op" id="4932717">(</span><span class="op" id="4932718">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932722">if</span>&nbsp;<span class="ident" id="4932725">x</span>&nbsp;<span class="op" id="4932727">&lt;</span>&nbsp;<span class="ident" id="4932729">math</span><span class="op" id="4932733">.</span><span class="ident" id="4932734">MinInt32</span>&nbsp;<span class="op" id="4932743">||</span>&nbsp;<span class="ident" id="4932746">math</span><span class="op" id="4932750">.</span><span class="ident" id="4932751">MaxInt32</span>&nbsp;<span class="op" id="4932760">&lt;</span>&nbsp;<span class="ident" id="4932762">x</span>&nbsp;<span class="op" id="4932764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932769">error_</span><span class="op" id="4932775">(</span><span class="ident" id="4932776">ovfl</span><span class="op" id="4932780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4932788">slice</span><span class="op" id="4932793">[</span><span class="ident" id="4932794">i</span><span class="op" id="4932795">]</span>&nbsp;<span class="op" id="4932797">=</span>&nbsp;<span class="builtintype" id="4932799">int32</span><span class="op" id="4932804">(</span><span class="ident" id="4932805">x</span><span class="op" id="4932806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932809">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932812">return</span>&nbsp;<span class="builtintype" id="4932819">true</span><br>
<span class="lineno"></span><span class="op" id="4932824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4932827">func</span>&nbsp;<span class="ident" id="4932832">decInt64Array</span><span class="op" id="4932845">(</span><span class="ident" id="4932846">state</span>&nbsp;<span class="op" id="4932852">*</span><span class="ident" id="4932853">decoderState</span><span class="op" id="4932865">,</span>&nbsp;<span class="ident" id="4932867">v</span>&nbsp;<span class="ident" id="4932869">reflect</span><span class="op" id="4932876">.</span><span class="ident" id="4932877">Value</span><span class="op" id="4932882">,</span>&nbsp;<span class="ident" id="4932884">length</span>&nbsp;<span class="builtintype" id="4932891">int</span><span class="op" id="4932894">,</span>&nbsp;<span class="ident" id="4932896">ovfl</span>&nbsp;<span class="builtintype" id="4932901">error</span><span class="op" id="4932906">)</span>&nbsp;<span class="builtintype" id="4932908">bool</span>&nbsp;<span class="op" id="4932913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4932916">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932957">if</span>&nbsp;<span class="op" id="4932960">!</span><span class="ident" id="4932961">v</span><span class="op" id="4932962">.</span><span class="ident" id="4932963">CanAddr</span><span class="op" id="4932970">(</span><span class="op" id="4932971">)</span>&nbsp;<span class="op" id="4932973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932977">return</span>&nbsp;<span class="builtintype" id="4932984">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4932991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4932994">return</span>&nbsp;<span class="ident" id="4933001">decInt64Slice</span><span class="op" id="4933014">(</span><span class="ident" id="4933015">state</span><span class="op" id="4933020">,</span>&nbsp;<span class="ident" id="4933022">v</span><span class="op" id="4933023">.</span><span class="ident" id="4933024">Slice</span><span class="op" id="4933029">(</span><span class="num" id="4933030">0</span><span class="op" id="4933031">,</span>&nbsp;<span class="ident" id="4933033">v</span><span class="op" id="4933034">.</span><span class="ident" id="4933035">Len</span><span class="op" id="4933038">(</span><span class="op" id="4933039">)</span><span class="op" id="4933040">)</span><span class="op" id="4933041">,</span>&nbsp;<span class="ident" id="4933043">length</span><span class="op" id="4933049">,</span>&nbsp;<span class="ident" id="4933051">ovfl</span><span class="op" id="4933055">)</span><br>
<span class="lineno"></span><span class="op" id="4933057">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4933060">func</span>&nbsp;<span class="ident" id="4933065">decInt64Slice</span><span class="op" id="4933078">(</span><span class="ident" id="4933079">state</span>&nbsp;<span class="op" id="4933085">*</span><span class="ident" id="4933086">decoderState</span><span class="op" id="4933098">,</span>&nbsp;<span class="ident" id="4933100">v</span>&nbsp;<span class="ident" id="4933102">reflect</span><span class="op" id="4933109">.</span><span class="ident" id="4933110">Value</span><span class="op" id="4933115">,</span>&nbsp;<span class="ident" id="4933117">length</span>&nbsp;<span class="builtintype" id="4933124">int</span><span class="op" id="4933127">,</span>&nbsp;<span class="ident" id="4933129">ovfl</span>&nbsp;<span class="builtintype" id="4933134">error</span><span class="op" id="4933139">)</span>&nbsp;<span class="builtintype" id="4933141">bool</span>&nbsp;<span class="op" id="4933146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4933149">slice</span><span class="op" id="4933154">,</span>&nbsp;<span class="ident" id="4933156">ok</span>&nbsp;<span class="op" id="4933159">:=</span>&nbsp;<span class="ident" id="4933162">v</span><span class="op" id="4933163">.</span><span class="ident" id="4933164">Interface</span><span class="op" id="4933173">(</span><span class="op" id="4933174">)</span><span class="op" id="4933175">.</span><span class="op" id="4933176">(</span><span class="op" id="4933177">[</span><span class="op" id="4933178">]</span><span class="ident" id="4933179">int64</span><span class="op" id="4933184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933187">if</span>&nbsp;<span class="op" id="4933190">!</span><span class="ident" id="4933191">ok</span>&nbsp;<span class="op" id="4933194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4933198">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933275">return</span>&nbsp;<span class="builtintype" id="4933282">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4933289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933292">for</span>&nbsp;<span class="ident" id="4933296">i</span>&nbsp;<span class="op" id="4933298">:=</span>&nbsp;<span class="num" id="4933301">0</span><span class="op" id="4933302">;</span>&nbsp;<span class="ident" id="4933304">i</span>&nbsp;<span class="op" id="4933306">&lt;</span>&nbsp;<span class="ident" id="4933308">length</span><span class="op" id="4933314">;</span>&nbsp;<span class="ident" id="4933316">i</span><span class="op" id="4933317">++</span>&nbsp;<span class="op" id="4933320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933324">if</span>&nbsp;<span class="ident" id="4933327">state</span><span class="op" id="4933332">.</span><span class="ident" id="4933333">b</span><span class="op" id="4933334">.</span><span class="ident" id="4933335">Len</span><span class="op" id="4933338">(</span><span class="op" id="4933339">)</span>&nbsp;<span class="op" id="4933341">==</span>&nbsp;<span class="num" id="4933344">0</span>&nbsp;<span class="op" id="4933346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4933351">errorf</span><span class="op" id="4933357">(</span><span class="string" id="4933358">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4933430">,</span>&nbsp;<span class="ident" id="4933432">length</span><span class="op" id="4933438">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4933442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4933446">slice</span><span class="op" id="4933451">[</span><span class="ident" id="4933452">i</span><span class="op" id="4933453">]</span>&nbsp;<span class="op" id="4933455">=</span>&nbsp;<span class="ident" id="4933457">state</span><span class="op" id="4933462">.</span><span class="ident" id="4933463">decodeInt</span><span class="op" id="4933472">(</span><span class="op" id="4933473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4933476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933479">return</span>&nbsp;<span class="builtintype" id="4933486">true</span><br>
<span class="lineno"></span><span class="op" id="4933491">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4933494">func</span>&nbsp;<span class="ident" id="4933499">decInt8Array</span><span class="op" id="4933511">(</span><span class="ident" id="4933512">state</span>&nbsp;<span class="op" id="4933518">*</span><span class="ident" id="4933519">decoderState</span><span class="op" id="4933531">,</span>&nbsp;<span class="ident" id="4933533">v</span>&nbsp;<span class="ident" id="4933535">reflect</span><span class="op" id="4933542">.</span><span class="ident" id="4933543">Value</span><span class="op" id="4933548">,</span>&nbsp;<span class="ident" id="4933550">length</span>&nbsp;<span class="builtintype" id="4933557">int</span><span class="op" id="4933560">,</span>&nbsp;<span class="ident" id="4933562">ovfl</span>&nbsp;<span class="builtintype" id="4933567">error</span><span class="op" id="4933572">)</span>&nbsp;<span class="builtintype" id="4933574">bool</span>&nbsp;<span class="op" id="4933579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4933582">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933623">if</span>&nbsp;<span class="op" id="4933626">!</span><span class="ident" id="4933627">v</span><span class="op" id="4933628">.</span><span class="ident" id="4933629">CanAddr</span><span class="op" id="4933636">(</span><span class="op" id="4933637">)</span>&nbsp;<span class="op" id="4933639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933643">return</span>&nbsp;<span class="builtintype" id="4933650">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4933657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933660">return</span>&nbsp;<span class="ident" id="4933667">decInt8Slice</span><span class="op" id="4933679">(</span><span class="ident" id="4933680">state</span><span class="op" id="4933685">,</span>&nbsp;<span class="ident" id="4933687">v</span><span class="op" id="4933688">.</span><span class="ident" id="4933689">Slice</span><span class="op" id="4933694">(</span><span class="num" id="4933695">0</span><span class="op" id="4933696">,</span>&nbsp;<span class="ident" id="4933698">v</span><span class="op" id="4933699">.</span><span class="ident" id="4933700">Len</span><span class="op" id="4933703">(</span><span class="op" id="4933704">)</span><span class="op" id="4933705">)</span><span class="op" id="4933706">,</span>&nbsp;<span class="ident" id="4933708">length</span><span class="op" id="4933714">,</span>&nbsp;<span class="ident" id="4933716">ovfl</span><span class="op" id="4933720">)</span><br>
<span class="lineno"></span><span class="op" id="4933722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4933725">func</span>&nbsp;<span class="ident" id="4933730">decInt8Slice</span><span class="op" id="4933742">(</span><span class="ident" id="4933743">state</span>&nbsp;<span class="op" id="4933749">*</span><span class="ident" id="4933750">decoderState</span><span class="op" id="4933762">,</span>&nbsp;<span class="ident" id="4933764">v</span>&nbsp;<span class="ident" id="4933766">reflect</span><span class="op" id="4933773">.</span><span class="ident" id="4933774">Value</span><span class="op" id="4933779">,</span>&nbsp;<span class="ident" id="4933781">length</span>&nbsp;<span class="builtintype" id="4933788">int</span><span class="op" id="4933791">,</span>&nbsp;<span class="ident" id="4933793">ovfl</span>&nbsp;<span class="builtintype" id="4933798">error</span><span class="op" id="4933803">)</span>&nbsp;<span class="builtintype" id="4933805">bool</span>&nbsp;<span class="op" id="4933810">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4933813">slice</span><span class="op" id="4933818">,</span>&nbsp;<span class="ident" id="4933820">ok</span>&nbsp;<span class="op" id="4933823">:=</span>&nbsp;<span class="ident" id="4933826">v</span><span class="op" id="4933827">.</span><span class="ident" id="4933828">Interface</span><span class="op" id="4933837">(</span><span class="op" id="4933838">)</span><span class="op" id="4933839">.</span><span class="op" id="4933840">(</span><span class="op" id="4933841">[</span><span class="op" id="4933842">]</span><span class="builtintype" id="4933843">int8</span><span class="op" id="4933847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933850">if</span>&nbsp;<span class="op" id="4933853">!</span><span class="ident" id="4933854">ok</span>&nbsp;<span class="op" id="4933857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4933861">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933936">return</span>&nbsp;<span class="builtintype" id="4933943">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4933950">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933953">for</span>&nbsp;<span class="ident" id="4933957">i</span>&nbsp;<span class="op" id="4933959">:=</span>&nbsp;<span class="num" id="4933962">0</span><span class="op" id="4933963">;</span>&nbsp;<span class="ident" id="4933965">i</span>&nbsp;<span class="op" id="4933967">&lt;</span>&nbsp;<span class="ident" id="4933969">length</span><span class="op" id="4933975">;</span>&nbsp;<span class="ident" id="4933977">i</span><span class="op" id="4933978">++</span>&nbsp;<span class="op" id="4933981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4933985">if</span>&nbsp;<span class="ident" id="4933988">state</span><span class="op" id="4933993">.</span><span class="ident" id="4933994">b</span><span class="op" id="4933995">.</span><span class="ident" id="4933996">Len</span><span class="op" id="4933999">(</span><span class="op" id="4934000">)</span>&nbsp;<span class="op" id="4934002">==</span>&nbsp;<span class="num" id="4934005">0</span>&nbsp;<span class="op" id="4934007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934012">errorf</span><span class="op" id="4934018">(</span><span class="string" id="4934019">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4934090">,</span>&nbsp;<span class="ident" id="4934092">length</span><span class="op" id="4934098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934106">x</span>&nbsp;<span class="op" id="4934108">:=</span>&nbsp;<span class="ident" id="4934111">state</span><span class="op" id="4934116">.</span><span class="ident" id="4934117">decodeInt</span><span class="op" id="4934126">(</span><span class="op" id="4934127">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934131">if</span>&nbsp;<span class="ident" id="4934134">x</span>&nbsp;<span class="op" id="4934136">&lt;</span>&nbsp;<span class="ident" id="4934138">math</span><span class="op" id="4934142">.</span><span class="ident" id="4934143">MinInt8</span>&nbsp;<span class="op" id="4934151">||</span>&nbsp;<span class="ident" id="4934154">math</span><span class="op" id="4934158">.</span><span class="ident" id="4934159">MaxInt8</span>&nbsp;<span class="op" id="4934167">&lt;</span>&nbsp;<span class="ident" id="4934169">x</span>&nbsp;<span class="op" id="4934171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934176">error_</span><span class="op" id="4934182">(</span><span class="ident" id="4934183">ovfl</span><span class="op" id="4934187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934195">slice</span><span class="op" id="4934200">[</span><span class="ident" id="4934201">i</span><span class="op" id="4934202">]</span>&nbsp;<span class="op" id="4934204">=</span>&nbsp;<span class="builtintype" id="4934206">int8</span><span class="op" id="4934210">(</span><span class="ident" id="4934211">x</span><span class="op" id="4934212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934215">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934218">return</span>&nbsp;<span class="builtintype" id="4934225">true</span><br>
<span class="lineno"></span><span class="op" id="4934230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4934233">func</span>&nbsp;<span class="ident" id="4934238">decStringArray</span><span class="op" id="4934252">(</span><span class="ident" id="4934253">state</span>&nbsp;<span class="op" id="4934259">*</span><span class="ident" id="4934260">decoderState</span><span class="op" id="4934272">,</span>&nbsp;<span class="ident" id="4934274">v</span>&nbsp;<span class="ident" id="4934276">reflect</span><span class="op" id="4934283">.</span><span class="ident" id="4934284">Value</span><span class="op" id="4934289">,</span>&nbsp;<span class="ident" id="4934291">length</span>&nbsp;<span class="builtintype" id="4934298">int</span><span class="op" id="4934301">,</span>&nbsp;<span class="ident" id="4934303">ovfl</span>&nbsp;<span class="builtintype" id="4934308">error</span><span class="op" id="4934313">)</span>&nbsp;<span class="builtintype" id="4934315">bool</span>&nbsp;<span class="op" id="4934320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4934323">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934364">if</span>&nbsp;<span class="op" id="4934367">!</span><span class="ident" id="4934368">v</span><span class="op" id="4934369">.</span><span class="ident" id="4934370">CanAddr</span><span class="op" id="4934377">(</span><span class="op" id="4934378">)</span>&nbsp;<span class="op" id="4934380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934384">return</span>&nbsp;<span class="builtintype" id="4934391">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934401">return</span>&nbsp;<span class="ident" id="4934408">decStringSlice</span><span class="op" id="4934422">(</span><span class="ident" id="4934423">state</span><span class="op" id="4934428">,</span>&nbsp;<span class="ident" id="4934430">v</span><span class="op" id="4934431">.</span><span class="ident" id="4934432">Slice</span><span class="op" id="4934437">(</span><span class="num" id="4934438">0</span><span class="op" id="4934439">,</span>&nbsp;<span class="ident" id="4934441">v</span><span class="op" id="4934442">.</span><span class="ident" id="4934443">Len</span><span class="op" id="4934446">(</span><span class="op" id="4934447">)</span><span class="op" id="4934448">)</span><span class="op" id="4934449">,</span>&nbsp;<span class="ident" id="4934451">length</span><span class="op" id="4934457">,</span>&nbsp;<span class="ident" id="4934459">ovfl</span><span class="op" id="4934463">)</span><br>
<span class="lineno"></span><span class="op" id="4934465">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4934468">func</span>&nbsp;<span class="ident" id="4934473">decStringSlice</span><span class="op" id="4934487">(</span><span class="ident" id="4934488">state</span>&nbsp;<span class="op" id="4934494">*</span><span class="ident" id="4934495">decoderState</span><span class="op" id="4934507">,</span>&nbsp;<span class="ident" id="4934509">v</span>&nbsp;<span class="ident" id="4934511">reflect</span><span class="op" id="4934518">.</span><span class="ident" id="4934519">Value</span><span class="op" id="4934524">,</span>&nbsp;<span class="ident" id="4934526">length</span>&nbsp;<span class="builtintype" id="4934533">int</span><span class="op" id="4934536">,</span>&nbsp;<span class="ident" id="4934538">ovfl</span>&nbsp;<span class="builtintype" id="4934543">error</span><span class="op" id="4934548">)</span>&nbsp;<span class="builtintype" id="4934550">bool</span>&nbsp;<span class="op" id="4934555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934558">slice</span><span class="op" id="4934563">,</span>&nbsp;<span class="ident" id="4934565">ok</span>&nbsp;<span class="op" id="4934568">:=</span>&nbsp;<span class="ident" id="4934571">v</span><span class="op" id="4934572">.</span><span class="ident" id="4934573">Interface</span><span class="op" id="4934582">(</span><span class="op" id="4934583">)</span><span class="op" id="4934584">.</span><span class="op" id="4934585">(</span><span class="op" id="4934586">[</span><span class="op" id="4934587">]</span><span class="builtintype" id="4934588">string</span><span class="op" id="4934594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934597">if</span>&nbsp;<span class="op" id="4934600">!</span><span class="ident" id="4934601">ok</span>&nbsp;<span class="op" id="4934604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4934608">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934687">return</span>&nbsp;<span class="builtintype" id="4934694">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934704">for</span>&nbsp;<span class="ident" id="4934708">i</span>&nbsp;<span class="op" id="4934710">:=</span>&nbsp;<span class="num" id="4934713">0</span><span class="op" id="4934714">;</span>&nbsp;<span class="ident" id="4934716">i</span>&nbsp;<span class="op" id="4934718">&lt;</span>&nbsp;<span class="ident" id="4934720">length</span><span class="op" id="4934726">;</span>&nbsp;<span class="ident" id="4934728">i</span><span class="op" id="4934729">++</span>&nbsp;<span class="op" id="4934732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934736">if</span>&nbsp;<span class="ident" id="4934739">state</span><span class="op" id="4934744">.</span><span class="ident" id="4934745">b</span><span class="op" id="4934746">.</span><span class="ident" id="4934747">Len</span><span class="op" id="4934750">(</span><span class="op" id="4934751">)</span>&nbsp;<span class="op" id="4934753">==</span>&nbsp;<span class="num" id="4934756">0</span>&nbsp;<span class="op" id="4934758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934763">errorf</span><span class="op" id="4934769">(</span><span class="string" id="4934770">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4934843">,</span>&nbsp;<span class="ident" id="4934845">length</span><span class="op" id="4934851">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4934855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934859">u</span>&nbsp;<span class="op" id="4934861">:=</span>&nbsp;<span class="ident" id="4934864">state</span><span class="op" id="4934869">.</span><span class="ident" id="4934870">decodeUint</span><span class="op" id="4934880">(</span><span class="op" id="4934881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934885">n</span>&nbsp;<span class="op" id="4934887">:=</span>&nbsp;<span class="builtintype" id="4934890">int</span><span class="op" id="4934893">(</span><span class="ident" id="4934894">u</span><span class="op" id="4934895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4934899">if</span>&nbsp;<span class="ident" id="4934902">n</span>&nbsp;<span class="op" id="4934904">&lt;</span>&nbsp;<span class="num" id="4934906">0</span>&nbsp;<span class="op" id="4934908">||</span>&nbsp;<span class="ident" id="4934911">uint64</span><span class="op" id="4934917">(</span><span class="ident" id="4934918">n</span><span class="op" id="4934919">)</span>&nbsp;<span class="op" id="4934921">!=</span>&nbsp;<span class="ident" id="4934924">u</span>&nbsp;<span class="op" id="4934926">||</span>&nbsp;<span class="ident" id="4934929">n</span>&nbsp;<span class="op" id="4934931">&gt;</span>&nbsp;<span class="ident" id="4934933">state</span><span class="op" id="4934938">.</span><span class="ident" id="4934939">b</span><span class="op" id="4934940">.</span><span class="ident" id="4934941">Len</span><span class="op" id="4934944">(</span><span class="op" id="4934945">)</span>&nbsp;<span class="op" id="4934947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4934952">errorf</span><span class="op" id="4934958">(</span><span class="string" id="4934959">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4935007">,</span>&nbsp;<span class="ident" id="4935009">u</span><span class="op" id="4935010">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935018">if</span>&nbsp;<span class="ident" id="4935021">n</span>&nbsp;<span class="op" id="4935023">&gt;</span>&nbsp;<span class="ident" id="4935025">state</span><span class="op" id="4935030">.</span><span class="ident" id="4935031">b</span><span class="op" id="4935032">.</span><span class="ident" id="4935033">Len</span><span class="op" id="4935036">(</span><span class="op" id="4935037">)</span>&nbsp;<span class="op" id="4935039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935044">errorf</span><span class="op" id="4935050">(</span><span class="string" id="4935051">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4935088">,</span>&nbsp;<span class="ident" id="4935090">n</span><span class="op" id="4935091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4935099">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935119">data</span>&nbsp;<span class="op" id="4935124">:=</span>&nbsp;<span class="builtinfunc" id="4935127">make</span><span class="op" id="4935131">(</span><span class="op" id="4935132">[</span><span class="op" id="4935133">]</span><span class="builtintype" id="4935134">byte</span><span class="op" id="4935138">,</span>&nbsp;<span class="ident" id="4935140">n</span><span class="op" id="4935141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935145">if</span>&nbsp;<span class="ident" id="4935148">_</span><span class="op" id="4935149">,</span>&nbsp;<span class="ident" id="4935151">err</span>&nbsp;<span class="op" id="4935155">:=</span>&nbsp;<span class="ident" id="4935158">state</span><span class="op" id="4935163">.</span><span class="ident" id="4935164">b</span><span class="op" id="4935165">.</span><span class="ident" id="4935166">Read</span><span class="op" id="4935170">(</span><span class="ident" id="4935171">data</span><span class="op" id="4935175">)</span><span class="op" id="4935176">;</span>&nbsp;<span class="ident" id="4935178">err</span>&nbsp;<span class="op" id="4935182">!=</span>&nbsp;<span class="ident" id="4935185">nil</span>&nbsp;<span class="op" id="4935189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935194">errorf</span><span class="op" id="4935200">(</span><span class="string" id="4935201">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4935228">,</span>&nbsp;<span class="ident" id="4935230">err</span><span class="op" id="4935233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935241">slice</span><span class="op" id="4935246">[</span><span class="ident" id="4935247">i</span><span class="op" id="4935248">]</span>&nbsp;<span class="op" id="4935250">=</span>&nbsp;<span class="builtintype" id="4935252">string</span><span class="op" id="4935258">(</span><span class="ident" id="4935259">data</span><span class="op" id="4935263">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935269">return</span>&nbsp;<span class="builtintype" id="4935276">true</span><br>
<span class="lineno"></span><span class="op" id="4935281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4935284">func</span>&nbsp;<span class="ident" id="4935289">decUintArray</span><span class="op" id="4935301">(</span><span class="ident" id="4935302">state</span>&nbsp;<span class="op" id="4935308">*</span><span class="ident" id="4935309">decoderState</span><span class="op" id="4935321">,</span>&nbsp;<span class="ident" id="4935323">v</span>&nbsp;<span class="ident" id="4935325">reflect</span><span class="op" id="4935332">.</span><span class="ident" id="4935333">Value</span><span class="op" id="4935338">,</span>&nbsp;<span class="ident" id="4935340">length</span>&nbsp;<span class="builtintype" id="4935347">int</span><span class="op" id="4935350">,</span>&nbsp;<span class="ident" id="4935352">ovfl</span>&nbsp;<span class="builtintype" id="4935357">error</span><span class="op" id="4935362">)</span>&nbsp;<span class="builtintype" id="4935364">bool</span>&nbsp;<span class="op" id="4935369">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4935372">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935413">if</span>&nbsp;<span class="op" id="4935416">!</span><span class="ident" id="4935417">v</span><span class="op" id="4935418">.</span><span class="ident" id="4935419">CanAddr</span><span class="op" id="4935426">(</span><span class="op" id="4935427">)</span>&nbsp;<span class="op" id="4935429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935433">return</span>&nbsp;<span class="builtintype" id="4935440">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935450">return</span>&nbsp;<span class="ident" id="4935457">decUintSlice</span><span class="op" id="4935469">(</span><span class="ident" id="4935470">state</span><span class="op" id="4935475">,</span>&nbsp;<span class="ident" id="4935477">v</span><span class="op" id="4935478">.</span><span class="ident" id="4935479">Slice</span><span class="op" id="4935484">(</span><span class="num" id="4935485">0</span><span class="op" id="4935486">,</span>&nbsp;<span class="ident" id="4935488">v</span><span class="op" id="4935489">.</span><span class="ident" id="4935490">Len</span><span class="op" id="4935493">(</span><span class="op" id="4935494">)</span><span class="op" id="4935495">)</span><span class="op" id="4935496">,</span>&nbsp;<span class="ident" id="4935498">length</span><span class="op" id="4935504">,</span>&nbsp;<span class="ident" id="4935506">ovfl</span><span class="op" id="4935510">)</span><br>
<span class="lineno">345</span><span class="op" id="4935512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4935515">func</span>&nbsp;<span class="ident" id="4935520">decUintSlice</span><span class="op" id="4935532">(</span><span class="ident" id="4935533">state</span>&nbsp;<span class="op" id="4935539">*</span><span class="ident" id="4935540">decoderState</span><span class="op" id="4935552">,</span>&nbsp;<span class="ident" id="4935554">v</span>&nbsp;<span class="ident" id="4935556">reflect</span><span class="op" id="4935563">.</span><span class="ident" id="4935564">Value</span><span class="op" id="4935569">,</span>&nbsp;<span class="ident" id="4935571">length</span>&nbsp;<span class="builtintype" id="4935578">int</span><span class="op" id="4935581">,</span>&nbsp;<span class="ident" id="4935583">ovfl</span>&nbsp;<span class="builtintype" id="4935588">error</span><span class="op" id="4935593">)</span>&nbsp;<span class="builtintype" id="4935595">bool</span>&nbsp;<span class="op" id="4935600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935603">slice</span><span class="op" id="4935608">,</span>&nbsp;<span class="ident" id="4935610">ok</span>&nbsp;<span class="op" id="4935613">:=</span>&nbsp;<span class="ident" id="4935616">v</span><span class="op" id="4935617">.</span><span class="ident" id="4935618">Interface</span><span class="op" id="4935627">(</span><span class="op" id="4935628">)</span><span class="op" id="4935629">.</span><span class="op" id="4935630">(</span><span class="op" id="4935631">[</span><span class="op" id="4935632">]</span><span class="builtintype" id="4935633">uint</span><span class="op" id="4935637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935640">if</span>&nbsp;<span class="op" id="4935643">!</span><span class="ident" id="4935644">ok</span>&nbsp;<span class="op" id="4935647">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4935651">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935726">return</span>&nbsp;<span class="builtintype" id="4935733">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935743">for</span>&nbsp;<span class="ident" id="4935747">i</span>&nbsp;<span class="op" id="4935749">:=</span>&nbsp;<span class="num" id="4935752">0</span><span class="op" id="4935753">;</span>&nbsp;<span class="ident" id="4935755">i</span>&nbsp;<span class="op" id="4935757">&lt;</span>&nbsp;<span class="ident" id="4935759">length</span><span class="op" id="4935765">;</span>&nbsp;<span class="ident" id="4935767">i</span><span class="op" id="4935768">++</span>&nbsp;<span class="op" id="4935771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4935775">if</span>&nbsp;<span class="ident" id="4935778">state</span><span class="op" id="4935783">.</span><span class="ident" id="4935784">b</span><span class="op" id="4935785">.</span><span class="ident" id="4935786">Len</span><span class="op" id="4935789">(</span><span class="op" id="4935790">)</span>&nbsp;<span class="op" id="4935792">==</span>&nbsp;<span class="num" id="4935795">0</span>&nbsp;<span class="op" id="4935797">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935802">errorf</span><span class="op" id="4935808">(</span><span class="string" id="4935809">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4935880">,</span>&nbsp;<span class="ident" id="4935882">length</span><span class="op" id="4935888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935896">x</span>&nbsp;<span class="op" id="4935898">:=</span>&nbsp;<span class="ident" id="4935901">state</span><span class="op" id="4935906">.</span><span class="ident" id="4935907">decodeUint</span><span class="op" id="4935917">(</span><span class="op" id="4935918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4935922">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4935977">slice</span><span class="op" id="4935982">[</span><span class="ident" id="4935983">i</span><span class="op" id="4935984">]</span>&nbsp;<span class="op" id="4935986">=</span>&nbsp;<span class="builtintype" id="4935988">uint</span><span class="op" id="4935992">(</span><span class="ident" id="4935993">x</span><span class="op" id="4935994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4935997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936000">return</span>&nbsp;<span class="builtintype" id="4936007">true</span><br>
<span class="lineno"></span><span class="op" id="4936012">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4936015">func</span>&nbsp;<span class="ident" id="4936020">decUint16Array</span><span class="op" id="4936034">(</span><span class="ident" id="4936035">state</span>&nbsp;<span class="op" id="4936041">*</span><span class="ident" id="4936042">decoderState</span><span class="op" id="4936054">,</span>&nbsp;<span class="ident" id="4936056">v</span>&nbsp;<span class="ident" id="4936058">reflect</span><span class="op" id="4936065">.</span><span class="ident" id="4936066">Value</span><span class="op" id="4936071">,</span>&nbsp;<span class="ident" id="4936073">length</span>&nbsp;<span class="builtintype" id="4936080">int</span><span class="op" id="4936083">,</span>&nbsp;<span class="ident" id="4936085">ovfl</span>&nbsp;<span class="builtintype" id="4936090">error</span><span class="op" id="4936095">)</span>&nbsp;<span class="builtintype" id="4936097">bool</span>&nbsp;<span class="op" id="4936102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4936105">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936146">if</span>&nbsp;<span class="op" id="4936149">!</span><span class="ident" id="4936150">v</span><span class="op" id="4936151">.</span><span class="ident" id="4936152">CanAddr</span><span class="op" id="4936159">(</span><span class="op" id="4936160">)</span>&nbsp;<span class="op" id="4936162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936166">return</span>&nbsp;<span class="builtintype" id="4936173">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936183">return</span>&nbsp;<span class="ident" id="4936190">decUint16Slice</span><span class="op" id="4936204">(</span><span class="ident" id="4936205">state</span><span class="op" id="4936210">,</span>&nbsp;<span class="ident" id="4936212">v</span><span class="op" id="4936213">.</span><span class="ident" id="4936214">Slice</span><span class="op" id="4936219">(</span><span class="num" id="4936220">0</span><span class="op" id="4936221">,</span>&nbsp;<span class="ident" id="4936223">v</span><span class="op" id="4936224">.</span><span class="ident" id="4936225">Len</span><span class="op" id="4936228">(</span><span class="op" id="4936229">)</span><span class="op" id="4936230">)</span><span class="op" id="4936231">,</span>&nbsp;<span class="ident" id="4936233">length</span><span class="op" id="4936239">,</span>&nbsp;<span class="ident" id="4936241">ovfl</span><span class="op" id="4936245">)</span><br>
<span class="lineno"></span><span class="op" id="4936247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4936250">func</span>&nbsp;<span class="ident" id="4936255">decUint16Slice</span><span class="op" id="4936269">(</span><span class="ident" id="4936270">state</span>&nbsp;<span class="op" id="4936276">*</span><span class="ident" id="4936277">decoderState</span><span class="op" id="4936289">,</span>&nbsp;<span class="ident" id="4936291">v</span>&nbsp;<span class="ident" id="4936293">reflect</span><span class="op" id="4936300">.</span><span class="ident" id="4936301">Value</span><span class="op" id="4936306">,</span>&nbsp;<span class="ident" id="4936308">length</span>&nbsp;<span class="builtintype" id="4936315">int</span><span class="op" id="4936318">,</span>&nbsp;<span class="ident" id="4936320">ovfl</span>&nbsp;<span class="builtintype" id="4936325">error</span><span class="op" id="4936330">)</span>&nbsp;<span class="builtintype" id="4936332">bool</span>&nbsp;<span class="op" id="4936337">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4936340">slice</span><span class="op" id="4936345">,</span>&nbsp;<span class="ident" id="4936347">ok</span>&nbsp;<span class="op" id="4936350">:=</span>&nbsp;<span class="ident" id="4936353">v</span><span class="op" id="4936354">.</span><span class="ident" id="4936355">Interface</span><span class="op" id="4936364">(</span><span class="op" id="4936365">)</span><span class="op" id="4936366">.</span><span class="op" id="4936367">(</span><span class="op" id="4936368">[</span><span class="op" id="4936369">]</span><span class="builtintype" id="4936370">uint16</span><span class="op" id="4936376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936379">if</span>&nbsp;<span class="op" id="4936382">!</span><span class="ident" id="4936383">ok</span>&nbsp;<span class="op" id="4936386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4936390">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936469">return</span>&nbsp;<span class="builtintype" id="4936476">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936483">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936486">for</span>&nbsp;<span class="ident" id="4936490">i</span>&nbsp;<span class="op" id="4936492">:=</span>&nbsp;<span class="num" id="4936495">0</span><span class="op" id="4936496">;</span>&nbsp;<span class="ident" id="4936498">i</span>&nbsp;<span class="op" id="4936500">&lt;</span>&nbsp;<span class="ident" id="4936502">length</span><span class="op" id="4936508">;</span>&nbsp;<span class="ident" id="4936510">i</span><span class="op" id="4936511">++</span>&nbsp;<span class="op" id="4936514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936518">if</span>&nbsp;<span class="ident" id="4936521">state</span><span class="op" id="4936526">.</span><span class="ident" id="4936527">b</span><span class="op" id="4936528">.</span><span class="ident" id="4936529">Len</span><span class="op" id="4936532">(</span><span class="op" id="4936533">)</span>&nbsp;<span class="op" id="4936535">==</span>&nbsp;<span class="num" id="4936538">0</span>&nbsp;<span class="op" id="4936540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4936545">errorf</span><span class="op" id="4936551">(</span><span class="string" id="4936552">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4936625">,</span>&nbsp;<span class="ident" id="4936627">length</span><span class="op" id="4936633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4936641">x</span>&nbsp;<span class="op" id="4936643">:=</span>&nbsp;<span class="ident" id="4936646">state</span><span class="op" id="4936651">.</span><span class="ident" id="4936652">decodeUint</span><span class="op" id="4936662">(</span><span class="op" id="4936663">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936667">if</span>&nbsp;<span class="ident" id="4936670">math</span><span class="op" id="4936674">.</span><span class="ident" id="4936675">MaxUint16</span>&nbsp;<span class="op" id="4936685">&lt;</span>&nbsp;<span class="ident" id="4936687">x</span>&nbsp;<span class="op" id="4936689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4936694">error_</span><span class="op" id="4936700">(</span><span class="ident" id="4936701">ovfl</span><span class="op" id="4936705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4936713">slice</span><span class="op" id="4936718">[</span><span class="ident" id="4936719">i</span><span class="op" id="4936720">]</span>&nbsp;<span class="op" id="4936722">=</span>&nbsp;<span class="builtintype" id="4936724">uint16</span><span class="op" id="4936730">(</span><span class="ident" id="4936731">x</span><span class="op" id="4936732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936735">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936738">return</span>&nbsp;<span class="builtintype" id="4936745">true</span><br>
<span class="lineno"></span><span class="op" id="4936750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4936753">func</span>&nbsp;<span class="ident" id="4936758">decUint32Array</span><span class="op" id="4936772">(</span><span class="ident" id="4936773">state</span>&nbsp;<span class="op" id="4936779">*</span><span class="ident" id="4936780">decoderState</span><span class="op" id="4936792">,</span>&nbsp;<span class="ident" id="4936794">v</span>&nbsp;<span class="ident" id="4936796">reflect</span><span class="op" id="4936803">.</span><span class="ident" id="4936804">Value</span><span class="op" id="4936809">,</span>&nbsp;<span class="ident" id="4936811">length</span>&nbsp;<span class="builtintype" id="4936818">int</span><span class="op" id="4936821">,</span>&nbsp;<span class="ident" id="4936823">ovfl</span>&nbsp;<span class="builtintype" id="4936828">error</span><span class="op" id="4936833">)</span>&nbsp;<span class="builtintype" id="4936835">bool</span>&nbsp;<span class="op" id="4936840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4936843">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936884">if</span>&nbsp;<span class="op" id="4936887">!</span><span class="ident" id="4936888">v</span><span class="op" id="4936889">.</span><span class="ident" id="4936890">CanAddr</span><span class="op" id="4936897">(</span><span class="op" id="4936898">)</span>&nbsp;<span class="op" id="4936900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936904">return</span>&nbsp;<span class="builtintype" id="4936911">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4936918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4936921">return</span>&nbsp;<span class="ident" id="4936928">decUint32Slice</span><span class="op" id="4936942">(</span><span class="ident" id="4936943">state</span><span class="op" id="4936948">,</span>&nbsp;<span class="ident" id="4936950">v</span><span class="op" id="4936951">.</span><span class="ident" id="4936952">Slice</span><span class="op" id="4936957">(</span><span class="num" id="4936958">0</span><span class="op" id="4936959">,</span>&nbsp;<span class="ident" id="4936961">v</span><span class="op" id="4936962">.</span><span class="ident" id="4936963">Len</span><span class="op" id="4936966">(</span><span class="op" id="4936967">)</span><span class="op" id="4936968">)</span><span class="op" id="4936969">,</span>&nbsp;<span class="ident" id="4936971">length</span><span class="op" id="4936977">,</span>&nbsp;<span class="ident" id="4936979">ovfl</span><span class="op" id="4936983">)</span><br>
<span class="lineno"></span><span class="op" id="4936985">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4936988">func</span>&nbsp;<span class="ident" id="4936993">decUint32Slice</span><span class="op" id="4937007">(</span><span class="ident" id="4937008">state</span>&nbsp;<span class="op" id="4937014">*</span><span class="ident" id="4937015">decoderState</span><span class="op" id="4937027">,</span>&nbsp;<span class="ident" id="4937029">v</span>&nbsp;<span class="ident" id="4937031">reflect</span><span class="op" id="4937038">.</span><span class="ident" id="4937039">Value</span><span class="op" id="4937044">,</span>&nbsp;<span class="ident" id="4937046">length</span>&nbsp;<span class="builtintype" id="4937053">int</span><span class="op" id="4937056">,</span>&nbsp;<span class="ident" id="4937058">ovfl</span>&nbsp;<span class="builtintype" id="4937063">error</span><span class="op" id="4937068">)</span>&nbsp;<span class="builtintype" id="4937070">bool</span>&nbsp;<span class="op" id="4937075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937078">slice</span><span class="op" id="4937083">,</span>&nbsp;<span class="ident" id="4937085">ok</span>&nbsp;<span class="op" id="4937088">:=</span>&nbsp;<span class="ident" id="4937091">v</span><span class="op" id="4937092">.</span><span class="ident" id="4937093">Interface</span><span class="op" id="4937102">(</span><span class="op" id="4937103">)</span><span class="op" id="4937104">.</span><span class="op" id="4937105">(</span><span class="op" id="4937106">[</span><span class="op" id="4937107">]</span><span class="builtintype" id="4937108">uint32</span><span class="op" id="4937114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937117">if</span>&nbsp;<span class="op" id="4937120">!</span><span class="ident" id="4937121">ok</span>&nbsp;<span class="op" id="4937124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4937128">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937207">return</span>&nbsp;<span class="builtintype" id="4937214">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937224">for</span>&nbsp;<span class="ident" id="4937228">i</span>&nbsp;<span class="op" id="4937230">:=</span>&nbsp;<span class="num" id="4937233">0</span><span class="op" id="4937234">;</span>&nbsp;<span class="ident" id="4937236">i</span>&nbsp;<span class="op" id="4937238">&lt;</span>&nbsp;<span class="ident" id="4937240">length</span><span class="op" id="4937246">;</span>&nbsp;<span class="ident" id="4937248">i</span><span class="op" id="4937249">++</span>&nbsp;<span class="op" id="4937252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937256">if</span>&nbsp;<span class="ident" id="4937259">state</span><span class="op" id="4937264">.</span><span class="ident" id="4937265">b</span><span class="op" id="4937266">.</span><span class="ident" id="4937267">Len</span><span class="op" id="4937270">(</span><span class="op" id="4937271">)</span>&nbsp;<span class="op" id="4937273">==</span>&nbsp;<span class="num" id="4937276">0</span>&nbsp;<span class="op" id="4937278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937283">errorf</span><span class="op" id="4937289">(</span><span class="string" id="4937290">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4937363">,</span>&nbsp;<span class="ident" id="4937365">length</span><span class="op" id="4937371">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937379">x</span>&nbsp;<span class="op" id="4937381">:=</span>&nbsp;<span class="ident" id="4937384">state</span><span class="op" id="4937389">.</span><span class="ident" id="4937390">decodeUint</span><span class="op" id="4937400">(</span><span class="op" id="4937401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937405">if</span>&nbsp;<span class="ident" id="4937408">math</span><span class="op" id="4937412">.</span><span class="ident" id="4937413">MaxUint32</span>&nbsp;<span class="op" id="4937423">&lt;</span>&nbsp;<span class="ident" id="4937425">x</span>&nbsp;<span class="op" id="4937427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937432">error_</span><span class="op" id="4937438">(</span><span class="ident" id="4937439">ovfl</span><span class="op" id="4937443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937447">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937451">slice</span><span class="op" id="4937456">[</span><span class="ident" id="4937457">i</span><span class="op" id="4937458">]</span>&nbsp;<span class="op" id="4937460">=</span>&nbsp;<span class="builtintype" id="4937462">uint32</span><span class="op" id="4937468">(</span><span class="ident" id="4937469">x</span><span class="op" id="4937470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937476">return</span>&nbsp;<span class="builtintype" id="4937483">true</span><br>
<span class="lineno"></span><span class="op" id="4937488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4937491">func</span>&nbsp;<span class="ident" id="4937496">decUint64Array</span><span class="op" id="4937510">(</span><span class="ident" id="4937511">state</span>&nbsp;<span class="op" id="4937517">*</span><span class="ident" id="4937518">decoderState</span><span class="op" id="4937530">,</span>&nbsp;<span class="ident" id="4937532">v</span>&nbsp;<span class="ident" id="4937534">reflect</span><span class="op" id="4937541">.</span><span class="ident" id="4937542">Value</span><span class="op" id="4937547">,</span>&nbsp;<span class="ident" id="4937549">length</span>&nbsp;<span class="builtintype" id="4937556">int</span><span class="op" id="4937559">,</span>&nbsp;<span class="ident" id="4937561">ovfl</span>&nbsp;<span class="builtintype" id="4937566">error</span><span class="op" id="4937571">)</span>&nbsp;<span class="builtintype" id="4937573">bool</span>&nbsp;<span class="op" id="4937578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4937581">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937622">if</span>&nbsp;<span class="op" id="4937625">!</span><span class="ident" id="4937626">v</span><span class="op" id="4937627">.</span><span class="ident" id="4937628">CanAddr</span><span class="op" id="4937635">(</span><span class="op" id="4937636">)</span>&nbsp;<span class="op" id="4937638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937642">return</span>&nbsp;<span class="builtintype" id="4937649">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937656">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937659">return</span>&nbsp;<span class="ident" id="4937666">decUint64Slice</span><span class="op" id="4937680">(</span><span class="ident" id="4937681">state</span><span class="op" id="4937686">,</span>&nbsp;<span class="ident" id="4937688">v</span><span class="op" id="4937689">.</span><span class="ident" id="4937690">Slice</span><span class="op" id="4937695">(</span><span class="num" id="4937696">0</span><span class="op" id="4937697">,</span>&nbsp;<span class="ident" id="4937699">v</span><span class="op" id="4937700">.</span><span class="ident" id="4937701">Len</span><span class="op" id="4937704">(</span><span class="op" id="4937705">)</span><span class="op" id="4937706">)</span><span class="op" id="4937707">,</span>&nbsp;<span class="ident" id="4937709">length</span><span class="op" id="4937715">,</span>&nbsp;<span class="ident" id="4937717">ovfl</span><span class="op" id="4937721">)</span><br>
<span class="lineno"></span><span class="op" id="4937723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4937726">func</span>&nbsp;<span class="ident" id="4937731">decUint64Slice</span><span class="op" id="4937745">(</span><span class="ident" id="4937746">state</span>&nbsp;<span class="op" id="4937752">*</span><span class="ident" id="4937753">decoderState</span><span class="op" id="4937765">,</span>&nbsp;<span class="ident" id="4937767">v</span>&nbsp;<span class="ident" id="4937769">reflect</span><span class="op" id="4937776">.</span><span class="ident" id="4937777">Value</span><span class="op" id="4937782">,</span>&nbsp;<span class="ident" id="4937784">length</span>&nbsp;<span class="builtintype" id="4937791">int</span><span class="op" id="4937794">,</span>&nbsp;<span class="ident" id="4937796">ovfl</span>&nbsp;<span class="builtintype" id="4937801">error</span><span class="op" id="4937806">)</span>&nbsp;<span class="builtintype" id="4937808">bool</span>&nbsp;<span class="op" id="4937813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4937816">slice</span><span class="op" id="4937821">,</span>&nbsp;<span class="ident" id="4937823">ok</span>&nbsp;<span class="op" id="4937826">:=</span>&nbsp;<span class="ident" id="4937829">v</span><span class="op" id="4937830">.</span><span class="ident" id="4937831">Interface</span><span class="op" id="4937840">(</span><span class="op" id="4937841">)</span><span class="op" id="4937842">.</span><span class="op" id="4937843">(</span><span class="op" id="4937844">[</span><span class="op" id="4937845">]</span><span class="ident" id="4937846">uint64</span><span class="op" id="4937852">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937855">if</span>&nbsp;<span class="op" id="4937858">!</span><span class="ident" id="4937859">ok</span>&nbsp;<span class="op" id="4937862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4937866">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937945">return</span>&nbsp;<span class="builtintype" id="4937952">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4937959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937962">for</span>&nbsp;<span class="ident" id="4937966">i</span>&nbsp;<span class="op" id="4937968">:=</span>&nbsp;<span class="num" id="4937971">0</span><span class="op" id="4937972">;</span>&nbsp;<span class="ident" id="4937974">i</span>&nbsp;<span class="op" id="4937976">&lt;</span>&nbsp;<span class="ident" id="4937978">length</span><span class="op" id="4937984">;</span>&nbsp;<span class="ident" id="4937986">i</span><span class="op" id="4937987">++</span>&nbsp;<span class="op" id="4937990">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4937994">if</span>&nbsp;<span class="ident" id="4937997">state</span><span class="op" id="4938002">.</span><span class="ident" id="4938003">b</span><span class="op" id="4938004">.</span><span class="ident" id="4938005">Len</span><span class="op" id="4938008">(</span><span class="op" id="4938009">)</span>&nbsp;<span class="op" id="4938011">==</span>&nbsp;<span class="num" id="4938014">0</span>&nbsp;<span class="op" id="4938016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938021">errorf</span><span class="op" id="4938027">(</span><span class="string" id="4938028">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4938101">,</span>&nbsp;<span class="ident" id="4938103">length</span><span class="op" id="4938109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938117">slice</span><span class="op" id="4938122">[</span><span class="ident" id="4938123">i</span><span class="op" id="4938124">]</span>&nbsp;<span class="op" id="4938126">=</span>&nbsp;<span class="ident" id="4938128">state</span><span class="op" id="4938133">.</span><span class="ident" id="4938134">decodeUint</span><span class="op" id="4938144">(</span><span class="op" id="4938145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938148">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938151">return</span>&nbsp;<span class="builtintype" id="4938158">true</span><br>
<span class="lineno"></span><span class="op" id="4938163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4938166">func</span>&nbsp;<span class="ident" id="4938171">decUintptrArray</span><span class="op" id="4938186">(</span><span class="ident" id="4938187">state</span>&nbsp;<span class="op" id="4938193">*</span><span class="ident" id="4938194">decoderState</span><span class="op" id="4938206">,</span>&nbsp;<span class="ident" id="4938208">v</span>&nbsp;<span class="ident" id="4938210">reflect</span><span class="op" id="4938217">.</span><span class="ident" id="4938218">Value</span><span class="op" id="4938223">,</span>&nbsp;<span class="ident" id="4938225">length</span>&nbsp;<span class="builtintype" id="4938232">int</span><span class="op" id="4938235">,</span>&nbsp;<span class="ident" id="4938237">ovfl</span>&nbsp;<span class="builtintype" id="4938242">error</span><span class="op" id="4938247">)</span>&nbsp;<span class="builtintype" id="4938249">bool</span>&nbsp;<span class="op" id="4938254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4938257">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938298">if</span>&nbsp;<span class="op" id="4938301">!</span><span class="ident" id="4938302">v</span><span class="op" id="4938303">.</span><span class="ident" id="4938304">CanAddr</span><span class="op" id="4938311">(</span><span class="op" id="4938312">)</span>&nbsp;<span class="op" id="4938314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938318">return</span>&nbsp;<span class="builtintype" id="4938325">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938335">return</span>&nbsp;<span class="ident" id="4938342">decUintptrSlice</span><span class="op" id="4938357">(</span><span class="ident" id="4938358">state</span><span class="op" id="4938363">,</span>&nbsp;<span class="ident" id="4938365">v</span><span class="op" id="4938366">.</span><span class="ident" id="4938367">Slice</span><span class="op" id="4938372">(</span><span class="num" id="4938373">0</span><span class="op" id="4938374">,</span>&nbsp;<span class="ident" id="4938376">v</span><span class="op" id="4938377">.</span><span class="ident" id="4938378">Len</span><span class="op" id="4938381">(</span><span class="op" id="4938382">)</span><span class="op" id="4938383">)</span><span class="op" id="4938384">,</span>&nbsp;<span class="ident" id="4938386">length</span><span class="op" id="4938392">,</span>&nbsp;<span class="ident" id="4938394">ovfl</span><span class="op" id="4938398">)</span><br>
<span class="lineno"></span><span class="op" id="4938400">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4938403">func</span>&nbsp;<span class="ident" id="4938408">decUintptrSlice</span><span class="op" id="4938423">(</span><span class="ident" id="4938424">state</span>&nbsp;<span class="op" id="4938430">*</span><span class="ident" id="4938431">decoderState</span><span class="op" id="4938443">,</span>&nbsp;<span class="ident" id="4938445">v</span>&nbsp;<span class="ident" id="4938447">reflect</span><span class="op" id="4938454">.</span><span class="ident" id="4938455">Value</span><span class="op" id="4938460">,</span>&nbsp;<span class="ident" id="4938462">length</span>&nbsp;<span class="builtintype" id="4938469">int</span><span class="op" id="4938472">,</span>&nbsp;<span class="ident" id="4938474">ovfl</span>&nbsp;<span class="builtintype" id="4938479">error</span><span class="op" id="4938484">)</span>&nbsp;<span class="builtintype" id="4938486">bool</span>&nbsp;<span class="op" id="4938491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938494">slice</span><span class="op" id="4938499">,</span>&nbsp;<span class="ident" id="4938501">ok</span>&nbsp;<span class="op" id="4938504">:=</span>&nbsp;<span class="ident" id="4938507">v</span><span class="op" id="4938508">.</span><span class="ident" id="4938509">Interface</span><span class="op" id="4938518">(</span><span class="op" id="4938519">)</span><span class="op" id="4938520">.</span><span class="op" id="4938521">(</span><span class="op" id="4938522">[</span><span class="op" id="4938523">]</span><span class="builtintype" id="4938524">uintptr</span><span class="op" id="4938531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938534">if</span>&nbsp;<span class="op" id="4938537">!</span><span class="ident" id="4938538">ok</span>&nbsp;<span class="op" id="4938541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4938545">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938626">return</span>&nbsp;<span class="builtintype" id="4938633">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938643">for</span>&nbsp;<span class="ident" id="4938647">i</span>&nbsp;<span class="op" id="4938649">:=</span>&nbsp;<span class="num" id="4938652">0</span><span class="op" id="4938653">;</span>&nbsp;<span class="ident" id="4938655">i</span>&nbsp;<span class="op" id="4938657">&lt;</span>&nbsp;<span class="ident" id="4938659">length</span><span class="op" id="4938665">;</span>&nbsp;<span class="ident" id="4938667">i</span><span class="op" id="4938668">++</span>&nbsp;<span class="op" id="4938671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938675">if</span>&nbsp;<span class="ident" id="4938678">state</span><span class="op" id="4938683">.</span><span class="ident" id="4938684">b</span><span class="op" id="4938685">.</span><span class="ident" id="4938686">Len</span><span class="op" id="4938689">(</span><span class="op" id="4938690">)</span>&nbsp;<span class="op" id="4938692">==</span>&nbsp;<span class="num" id="4938695">0</span>&nbsp;<span class="op" id="4938697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938702">errorf</span><span class="op" id="4938708">(</span><span class="string" id="4938709">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4938783">,</span>&nbsp;<span class="ident" id="4938785">length</span><span class="op" id="4938791">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938799">x</span>&nbsp;<span class="op" id="4938801">:=</span>&nbsp;<span class="ident" id="4938804">state</span><span class="op" id="4938809">.</span><span class="ident" id="4938810">decodeUint</span><span class="op" id="4938820">(</span><span class="op" id="4938821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938825">if</span>&nbsp;<span class="ident" id="4938828">uint64</span><span class="op" id="4938834">(</span><span class="op" id="4938835">^</span><span class="builtintype" id="4938836">uintptr</span><span class="op" id="4938843">(</span><span class="num" id="4938844">0</span><span class="op" id="4938845">)</span><span class="op" id="4938846">)</span>&nbsp;<span class="op" id="4938848">&lt;</span>&nbsp;<span class="ident" id="4938850">x</span>&nbsp;<span class="op" id="4938852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938857">error_</span><span class="op" id="4938863">(</span><span class="ident" id="4938864">ovfl</span><span class="op" id="4938868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938872">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4938876">slice</span><span class="op" id="4938881">[</span><span class="ident" id="4938882">i</span><span class="op" id="4938883">]</span>&nbsp;<span class="op" id="4938885">=</span>&nbsp;<span class="builtintype" id="4938887">uintptr</span><span class="op" id="4938894">(</span><span class="ident" id="4938895">x</span><span class="op" id="4938896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4938899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4938902">return</span>&nbsp;<span class="builtintype" id="4938909">true</span><br>
<span class="lineno"></span><span class="op" id="4938914">}</span>
</div>
</body>
</html>
