<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7475408">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7475463">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7475517">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7475568">package</span>&nbsp;<span class="ident" id="7475576">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475581">import</span>&nbsp;<span class="op" id="7475588">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475591">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475602">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7475612">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475615">var</span>&nbsp;<span class="ident" id="7475619">testInetaddr</span>&nbsp;<span class="op" id="7475632">=</span>&nbsp;<span class="keyword" id="7475634">func</span><span class="op" id="7475638">(</span><span class="ident" id="7475639">ip</span>&nbsp;<span class="ident" id="7475642">IP</span><span class="op" id="7475644">)</span>&nbsp;<span class="ident" id="7475646">netaddr</span>&nbsp;<span class="op" id="7475654">{</span>&nbsp;<span class="keyword" id="7475656">return</span>&nbsp;<span class="op" id="7475663">&amp;</span><span class="ident" id="7475664">TCPAddr</span><span class="op" id="7475671">{</span><span class="ident" id="7475672">IP</span><span class="op" id="7475674">:</span>&nbsp;<span class="ident" id="7475676">ip</span><span class="op" id="7475678">,</span>&nbsp;<span class="ident" id="7475680">Port</span><span class="op" id="7475684">:</span>&nbsp;<span class="num" id="7475686">5682</span><span class="op" id="7475690">}</span>&nbsp;<span class="op" id="7475692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475695">var</span>&nbsp;<span class="ident" id="7475699">firstFavoriteAddrTests</span>&nbsp;<span class="op" id="7475722">=</span>&nbsp;<span class="op" id="7475724">[</span><span class="op" id="7475725">]</span><span class="keyword" id="7475726">struct</span>&nbsp;<span class="op" id="7475733">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475736">filter</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475745">func</span><span class="op" id="7475749">(</span><span class="ident" id="7475750">IP</span><span class="op" id="7475752">)</span>&nbsp;<span class="ident" id="7475754">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475758">ips</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475767">[</span><span class="op" id="7475768">]</span><span class="ident" id="7475769">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475773">inetaddr</span>&nbsp;<span class="keyword" id="7475782">func</span><span class="op" id="7475786">(</span><span class="ident" id="7475787">IP</span><span class="op" id="7475789">)</span>&nbsp;<span class="ident" id="7475791">netaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475800">addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475809">netaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475818">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7475827">error</span><br>
<span class="lineno">20</span><span class="op" id="7475833">}</span><span class="op" id="7475834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475841">nil</span><span class="op" id="7475844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475848">[</span><span class="op" id="7475849">]</span><span class="ident" id="7475850">IP</span><span class="op" id="7475852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475857">IPv4</span><span class="op" id="7475861">(</span><span class="num" id="7475862">127</span><span class="op" id="7475865">,</span>&nbsp;<span class="num" id="7475867">0</span><span class="op" id="7475868">,</span>&nbsp;<span class="num" id="7475870">0</span><span class="op" id="7475871">,</span>&nbsp;<span class="num" id="7475873">1</span><span class="op" id="7475874">)</span><span class="op" id="7475875">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475880">IPv6loopback</span><span class="op" id="7475892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475896">}</span><span class="op" id="7475897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475901">testInetaddr</span><span class="op" id="7475913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475917">addrList</span><span class="op" id="7475925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475930">&amp;</span><span class="ident" id="7475931">TCPAddr</span><span class="op" id="7475938">{</span><span class="ident" id="7475939">IP</span><span class="op" id="7475941">:</span>&nbsp;<span class="ident" id="7475943">IPv4</span><span class="op" id="7475947">(</span><span class="num" id="7475948">127</span><span class="op" id="7475951">,</span>&nbsp;<span class="num" id="7475953">0</span><span class="op" id="7475954">,</span>&nbsp;<span class="num" id="7475956">0</span><span class="op" id="7475957">,</span>&nbsp;<span class="num" id="7475959">1</span><span class="op" id="7475960">)</span><span class="op" id="7475961">,</span>&nbsp;<span class="ident" id="7475963">Port</span><span class="op" id="7475967">:</span>&nbsp;<span class="num" id="7475969">5682</span><span class="op" id="7475973">}</span><span class="op" id="7475974">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475979">&amp;</span><span class="ident" id="7475980">TCPAddr</span><span class="op" id="7475987">{</span><span class="ident" id="7475988">IP</span><span class="op" id="7475990">:</span>&nbsp;<span class="ident" id="7475992">IPv6loopback</span><span class="op" id="7476004">,</span>&nbsp;<span class="ident" id="7476006">Port</span><span class="op" id="7476010">:</span>&nbsp;<span class="num" id="7476012">5682</span><span class="op" id="7476016">}</span><span class="op" id="7476017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476021">}</span><span class="op" id="7476022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476026">nil</span><span class="op" id="7476029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476032">}</span><span class="op" id="7476033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476036">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476040">nil</span><span class="op" id="7476043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476047">[</span><span class="op" id="7476048">]</span><span class="ident" id="7476049">IP</span><span class="op" id="7476051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476056">IPv6loopback</span><span class="op" id="7476068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476073">IPv4</span><span class="op" id="7476077">(</span><span class="num" id="7476078">127</span><span class="op" id="7476081">,</span>&nbsp;<span class="num" id="7476083">0</span><span class="op" id="7476084">,</span>&nbsp;<span class="num" id="7476086">0</span><span class="op" id="7476087">,</span>&nbsp;<span class="num" id="7476089">1</span><span class="op" id="7476090">)</span><span class="op" id="7476091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476095">}</span><span class="op" id="7476096">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476100">testInetaddr</span><span class="op" id="7476112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476116">addrList</span><span class="op" id="7476124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476129">&amp;</span><span class="ident" id="7476130">TCPAddr</span><span class="op" id="7476137">{</span><span class="ident" id="7476138">IP</span><span class="op" id="7476140">:</span>&nbsp;<span class="ident" id="7476142">IPv4</span><span class="op" id="7476146">(</span><span class="num" id="7476147">127</span><span class="op" id="7476150">,</span>&nbsp;<span class="num" id="7476152">0</span><span class="op" id="7476153">,</span>&nbsp;<span class="num" id="7476155">0</span><span class="op" id="7476156">,</span>&nbsp;<span class="num" id="7476158">1</span><span class="op" id="7476159">)</span><span class="op" id="7476160">,</span>&nbsp;<span class="ident" id="7476162">Port</span><span class="op" id="7476166">:</span>&nbsp;<span class="num" id="7476168">5682</span><span class="op" id="7476172">}</span><span class="op" id="7476173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476178">&amp;</span><span class="ident" id="7476179">TCPAddr</span><span class="op" id="7476186">{</span><span class="ident" id="7476187">IP</span><span class="op" id="7476189">:</span>&nbsp;<span class="ident" id="7476191">IPv6loopback</span><span class="op" id="7476203">,</span>&nbsp;<span class="ident" id="7476205">Port</span><span class="op" id="7476209">:</span>&nbsp;<span class="num" id="7476211">5682</span><span class="op" id="7476215">}</span><span class="op" id="7476216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476220">}</span><span class="op" id="7476221">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476225">nil</span><span class="op" id="7476228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476231">}</span><span class="op" id="7476232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476239">nil</span><span class="op" id="7476242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476246">[</span><span class="op" id="7476247">]</span><span class="ident" id="7476248">IP</span><span class="op" id="7476250">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476255">IPv4</span><span class="op" id="7476259">(</span><span class="num" id="7476260">127</span><span class="op" id="7476263">,</span>&nbsp;<span class="num" id="7476265">0</span><span class="op" id="7476266">,</span>&nbsp;<span class="num" id="7476268">0</span><span class="op" id="7476269">,</span>&nbsp;<span class="num" id="7476271">1</span><span class="op" id="7476272">)</span><span class="op" id="7476273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476278">IPv4</span><span class="op" id="7476282">(</span><span class="num" id="7476283">192</span><span class="op" id="7476286">,</span>&nbsp;<span class="num" id="7476288">168</span><span class="op" id="7476291">,</span>&nbsp;<span class="num" id="7476293">0</span><span class="op" id="7476294">,</span>&nbsp;<span class="num" id="7476296">1</span><span class="op" id="7476297">)</span><span class="op" id="7476298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476302">}</span><span class="op" id="7476303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476307">testInetaddr</span><span class="op" id="7476319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476323">&amp;</span><span class="ident" id="7476324">TCPAddr</span><span class="op" id="7476331">{</span><span class="ident" id="7476332">IP</span><span class="op" id="7476334">:</span>&nbsp;<span class="ident" id="7476336">IPv4</span><span class="op" id="7476340">(</span><span class="num" id="7476341">127</span><span class="op" id="7476344">,</span>&nbsp;<span class="num" id="7476346">0</span><span class="op" id="7476347">,</span>&nbsp;<span class="num" id="7476349">0</span><span class="op" id="7476350">,</span>&nbsp;<span class="num" id="7476352">1</span><span class="op" id="7476353">)</span><span class="op" id="7476354">,</span>&nbsp;<span class="ident" id="7476356">Port</span><span class="op" id="7476360">:</span>&nbsp;<span class="num" id="7476362">5682</span><span class="op" id="7476366">}</span><span class="op" id="7476367">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476371">nil</span><span class="op" id="7476374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476377">}</span><span class="op" id="7476378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476385">nil</span><span class="op" id="7476388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476392">[</span><span class="op" id="7476393">]</span><span class="ident" id="7476394">IP</span><span class="op" id="7476396">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476401">IPv6loopback</span><span class="op" id="7476413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476418">ParseIP</span><span class="op" id="7476425">(</span><span class="string" id="7476426">&#34;fe80::1&#34;</span><span class="op" id="7476435">)</span><span class="op" id="7476436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476440">}</span><span class="op" id="7476441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476445">testInetaddr</span><span class="op" id="7476457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476461">&amp;</span><span class="ident" id="7476462">TCPAddr</span><span class="op" id="7476469">{</span><span class="ident" id="7476470">IP</span><span class="op" id="7476472">:</span>&nbsp;<span class="ident" id="7476474">IPv6loopback</span><span class="op" id="7476486">,</span>&nbsp;<span class="ident" id="7476488">Port</span><span class="op" id="7476492">:</span>&nbsp;<span class="num" id="7476494">5682</span><span class="op" id="7476498">}</span><span class="op" id="7476499">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476503">nil</span><span class="op" id="7476506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476509">}</span><span class="op" id="7476510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476517">nil</span><span class="op" id="7476520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476524">[</span><span class="op" id="7476525">]</span><span class="ident" id="7476526">IP</span><span class="op" id="7476528">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476533">IPv4</span><span class="op" id="7476537">(</span><span class="num" id="7476538">127</span><span class="op" id="7476541">,</span>&nbsp;<span class="num" id="7476543">0</span><span class="op" id="7476544">,</span>&nbsp;<span class="num" id="7476546">0</span><span class="op" id="7476547">,</span>&nbsp;<span class="num" id="7476549">1</span><span class="op" id="7476550">)</span><span class="op" id="7476551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476556">IPv4</span><span class="op" id="7476560">(</span><span class="num" id="7476561">192</span><span class="op" id="7476564">,</span>&nbsp;<span class="num" id="7476566">168</span><span class="op" id="7476569">,</span>&nbsp;<span class="num" id="7476571">0</span><span class="op" id="7476572">,</span>&nbsp;<span class="num" id="7476574">1</span><span class="op" id="7476575">)</span><span class="op" id="7476576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476581">IPv6loopback</span><span class="op" id="7476593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476598">ParseIP</span><span class="op" id="7476605">(</span><span class="string" id="7476606">&#34;fe80::1&#34;</span><span class="op" id="7476615">)</span><span class="op" id="7476616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476620">}</span><span class="op" id="7476621">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476625">testInetaddr</span><span class="op" id="7476637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476641">addrList</span><span class="op" id="7476649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476654">&amp;</span><span class="ident" id="7476655">TCPAddr</span><span class="op" id="7476662">{</span><span class="ident" id="7476663">IP</span><span class="op" id="7476665">:</span>&nbsp;<span class="ident" id="7476667">IPv4</span><span class="op" id="7476671">(</span><span class="num" id="7476672">127</span><span class="op" id="7476675">,</span>&nbsp;<span class="num" id="7476677">0</span><span class="op" id="7476678">,</span>&nbsp;<span class="num" id="7476680">0</span><span class="op" id="7476681">,</span>&nbsp;<span class="num" id="7476683">1</span><span class="op" id="7476684">)</span><span class="op" id="7476685">,</span>&nbsp;<span class="ident" id="7476687">Port</span><span class="op" id="7476691">:</span>&nbsp;<span class="num" id="7476693">5682</span><span class="op" id="7476697">}</span><span class="op" id="7476698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476703">&amp;</span><span class="ident" id="7476704">TCPAddr</span><span class="op" id="7476711">{</span><span class="ident" id="7476712">IP</span><span class="op" id="7476714">:</span>&nbsp;<span class="ident" id="7476716">IPv6loopback</span><span class="op" id="7476728">,</span>&nbsp;<span class="ident" id="7476730">Port</span><span class="op" id="7476734">:</span>&nbsp;<span class="num" id="7476736">5682</span><span class="op" id="7476740">}</span><span class="op" id="7476741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476745">}</span><span class="op" id="7476746">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476750">nil</span><span class="op" id="7476753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476756">}</span><span class="op" id="7476757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476764">nil</span><span class="op" id="7476767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476771">[</span><span class="op" id="7476772">]</span><span class="ident" id="7476773">IP</span><span class="op" id="7476775">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476780">IPv6loopback</span><span class="op" id="7476792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476797">ParseIP</span><span class="op" id="7476804">(</span><span class="string" id="7476805">&#34;fe80::1&#34;</span><span class="op" id="7476814">)</span><span class="op" id="7476815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476820">IPv4</span><span class="op" id="7476824">(</span><span class="num" id="7476825">127</span><span class="op" id="7476828">,</span>&nbsp;<span class="num" id="7476830">0</span><span class="op" id="7476831">,</span>&nbsp;<span class="num" id="7476833">0</span><span class="op" id="7476834">,</span>&nbsp;<span class="num" id="7476836">1</span><span class="op" id="7476837">)</span><span class="op" id="7476838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476843">IPv4</span><span class="op" id="7476847">(</span><span class="num" id="7476848">192</span><span class="op" id="7476851">,</span>&nbsp;<span class="num" id="7476853">168</span><span class="op" id="7476856">,</span>&nbsp;<span class="num" id="7476858">0</span><span class="op" id="7476859">,</span>&nbsp;<span class="num" id="7476861">1</span><span class="op" id="7476862">)</span><span class="op" id="7476863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476867">}</span><span class="op" id="7476868">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476872">testInetaddr</span><span class="op" id="7476884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476888">addrList</span><span class="op" id="7476896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476901">&amp;</span><span class="ident" id="7476902">TCPAddr</span><span class="op" id="7476909">{</span><span class="ident" id="7476910">IP</span><span class="op" id="7476912">:</span>&nbsp;<span class="ident" id="7476914">IPv4</span><span class="op" id="7476918">(</span><span class="num" id="7476919">127</span><span class="op" id="7476922">,</span>&nbsp;<span class="num" id="7476924">0</span><span class="op" id="7476925">,</span>&nbsp;<span class="num" id="7476927">0</span><span class="op" id="7476928">,</span>&nbsp;<span class="num" id="7476930">1</span><span class="op" id="7476931">)</span><span class="op" id="7476932">,</span>&nbsp;<span class="ident" id="7476934">Port</span><span class="op" id="7476938">:</span>&nbsp;<span class="num" id="7476940">5682</span><span class="op" id="7476944">}</span><span class="op" id="7476945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476950">&amp;</span><span class="ident" id="7476951">TCPAddr</span><span class="op" id="7476958">{</span><span class="ident" id="7476959">IP</span><span class="op" id="7476961">:</span>&nbsp;<span class="ident" id="7476963">IPv6loopback</span><span class="op" id="7476975">,</span>&nbsp;<span class="ident" id="7476977">Port</span><span class="op" id="7476981">:</span>&nbsp;<span class="num" id="7476983">5682</span><span class="op" id="7476987">}</span><span class="op" id="7476988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476992">}</span><span class="op" id="7476993">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476997">nil</span><span class="op" id="7477000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477003">}</span><span class="op" id="7477004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477011">nil</span><span class="op" id="7477014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477018">[</span><span class="op" id="7477019">]</span><span class="ident" id="7477020">IP</span><span class="op" id="7477022">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477027">IPv4</span><span class="op" id="7477031">(</span><span class="num" id="7477032">127</span><span class="op" id="7477035">,</span>&nbsp;<span class="num" id="7477037">0</span><span class="op" id="7477038">,</span>&nbsp;<span class="num" id="7477040">0</span><span class="op" id="7477041">,</span>&nbsp;<span class="num" id="7477043">1</span><span class="op" id="7477044">)</span><span class="op" id="7477045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477050">IPv6loopback</span><span class="op" id="7477062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477067">IPv4</span><span class="op" id="7477071">(</span><span class="num" id="7477072">192</span><span class="op" id="7477075">,</span>&nbsp;<span class="num" id="7477077">168</span><span class="op" id="7477080">,</span>&nbsp;<span class="num" id="7477082">0</span><span class="op" id="7477083">,</span>&nbsp;<span class="num" id="7477085">1</span><span class="op" id="7477086">)</span><span class="op" id="7477087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477092">ParseIP</span><span class="op" id="7477099">(</span><span class="string" id="7477100">&#34;fe80::1&#34;</span><span class="op" id="7477109">)</span><span class="op" id="7477110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477114">}</span><span class="op" id="7477115">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477119">testInetaddr</span><span class="op" id="7477131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477135">addrList</span><span class="op" id="7477143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477148">&amp;</span><span class="ident" id="7477149">TCPAddr</span><span class="op" id="7477156">{</span><span class="ident" id="7477157">IP</span><span class="op" id="7477159">:</span>&nbsp;<span class="ident" id="7477161">IPv4</span><span class="op" id="7477165">(</span><span class="num" id="7477166">127</span><span class="op" id="7477169">,</span>&nbsp;<span class="num" id="7477171">0</span><span class="op" id="7477172">,</span>&nbsp;<span class="num" id="7477174">0</span><span class="op" id="7477175">,</span>&nbsp;<span class="num" id="7477177">1</span><span class="op" id="7477178">)</span><span class="op" id="7477179">,</span>&nbsp;<span class="ident" id="7477181">Port</span><span class="op" id="7477185">:</span>&nbsp;<span class="num" id="7477187">5682</span><span class="op" id="7477191">}</span><span class="op" id="7477192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477197">&amp;</span><span class="ident" id="7477198">TCPAddr</span><span class="op" id="7477205">{</span><span class="ident" id="7477206">IP</span><span class="op" id="7477208">:</span>&nbsp;<span class="ident" id="7477210">IPv6loopback</span><span class="op" id="7477222">,</span>&nbsp;<span class="ident" id="7477224">Port</span><span class="op" id="7477228">:</span>&nbsp;<span class="num" id="7477230">5682</span><span class="op" id="7477234">}</span><span class="op" id="7477235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477239">}</span><span class="op" id="7477240">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477244">nil</span><span class="op" id="7477247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477250">}</span><span class="op" id="7477251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477258">nil</span><span class="op" id="7477261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477265">[</span><span class="op" id="7477266">]</span><span class="ident" id="7477267">IP</span><span class="op" id="7477269">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477274">IPv6loopback</span><span class="op" id="7477286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477291">IPv4</span><span class="op" id="7477295">(</span><span class="num" id="7477296">127</span><span class="op" id="7477299">,</span>&nbsp;<span class="num" id="7477301">0</span><span class="op" id="7477302">,</span>&nbsp;<span class="num" id="7477304">0</span><span class="op" id="7477305">,</span>&nbsp;<span class="num" id="7477307">1</span><span class="op" id="7477308">)</span><span class="op" id="7477309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477314">ParseIP</span><span class="op" id="7477321">(</span><span class="string" id="7477322">&#34;fe80::1&#34;</span><span class="op" id="7477331">)</span><span class="op" id="7477332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477337">IPv4</span><span class="op" id="7477341">(</span><span class="num" id="7477342">192</span><span class="op" id="7477345">,</span>&nbsp;<span class="num" id="7477347">168</span><span class="op" id="7477350">,</span>&nbsp;<span class="num" id="7477352">0</span><span class="op" id="7477353">,</span>&nbsp;<span class="num" id="7477355">1</span><span class="op" id="7477356">)</span><span class="op" id="7477357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477361">}</span><span class="op" id="7477362">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477366">testInetaddr</span><span class="op" id="7477378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477382">addrList</span><span class="op" id="7477390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477395">&amp;</span><span class="ident" id="7477396">TCPAddr</span><span class="op" id="7477403">{</span><span class="ident" id="7477404">IP</span><span class="op" id="7477406">:</span>&nbsp;<span class="ident" id="7477408">IPv4</span><span class="op" id="7477412">(</span><span class="num" id="7477413">127</span><span class="op" id="7477416">,</span>&nbsp;<span class="num" id="7477418">0</span><span class="op" id="7477419">,</span>&nbsp;<span class="num" id="7477421">0</span><span class="op" id="7477422">,</span>&nbsp;<span class="num" id="7477424">1</span><span class="op" id="7477425">)</span><span class="op" id="7477426">,</span>&nbsp;<span class="ident" id="7477428">Port</span><span class="op" id="7477432">:</span>&nbsp;<span class="num" id="7477434">5682</span><span class="op" id="7477438">}</span><span class="op" id="7477439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477444">&amp;</span><span class="ident" id="7477445">TCPAddr</span><span class="op" id="7477452">{</span><span class="ident" id="7477453">IP</span><span class="op" id="7477455">:</span>&nbsp;<span class="ident" id="7477457">IPv6loopback</span><span class="op" id="7477469">,</span>&nbsp;<span class="ident" id="7477471">Port</span><span class="op" id="7477475">:</span>&nbsp;<span class="num" id="7477477">5682</span><span class="op" id="7477481">}</span><span class="op" id="7477482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477486">}</span><span class="op" id="7477487">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477491">nil</span><span class="op" id="7477494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477497">}</span><span class="op" id="7477498">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477506">ipv4only</span><span class="op" id="7477514">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477518">[</span><span class="op" id="7477519">]</span><span class="ident" id="7477520">IP</span><span class="op" id="7477522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477527">IPv4</span><span class="op" id="7477531">(</span><span class="num" id="7477532">127</span><span class="op" id="7477535">,</span>&nbsp;<span class="num" id="7477537">0</span><span class="op" id="7477538">,</span>&nbsp;<span class="num" id="7477540">0</span><span class="op" id="7477541">,</span>&nbsp;<span class="num" id="7477543">1</span><span class="op" id="7477544">)</span><span class="op" id="7477545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477550">IPv6loopback</span><span class="op" id="7477562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477566">}</span><span class="op" id="7477567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477571">testInetaddr</span><span class="op" id="7477583">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477587">&amp;</span><span class="ident" id="7477588">TCPAddr</span><span class="op" id="7477595">{</span><span class="ident" id="7477596">IP</span><span class="op" id="7477598">:</span>&nbsp;<span class="ident" id="7477600">IPv4</span><span class="op" id="7477604">(</span><span class="num" id="7477605">127</span><span class="op" id="7477608">,</span>&nbsp;<span class="num" id="7477610">0</span><span class="op" id="7477611">,</span>&nbsp;<span class="num" id="7477613">0</span><span class="op" id="7477614">,</span>&nbsp;<span class="num" id="7477616">1</span><span class="op" id="7477617">)</span><span class="op" id="7477618">,</span>&nbsp;<span class="ident" id="7477620">Port</span><span class="op" id="7477624">:</span>&nbsp;<span class="num" id="7477626">5682</span><span class="op" id="7477630">}</span><span class="op" id="7477631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477635">nil</span><span class="op" id="7477638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477641">}</span><span class="op" id="7477642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477649">ipv4only</span><span class="op" id="7477657">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477661">[</span><span class="op" id="7477662">]</span><span class="ident" id="7477663">IP</span><span class="op" id="7477665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477670">IPv6loopback</span><span class="op" id="7477682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477687">IPv4</span><span class="op" id="7477691">(</span><span class="num" id="7477692">127</span><span class="op" id="7477695">,</span>&nbsp;<span class="num" id="7477697">0</span><span class="op" id="7477698">,</span>&nbsp;<span class="num" id="7477700">0</span><span class="op" id="7477701">,</span>&nbsp;<span class="num" id="7477703">1</span><span class="op" id="7477704">)</span><span class="op" id="7477705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477709">}</span><span class="op" id="7477710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477714">testInetaddr</span><span class="op" id="7477726">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477730">&amp;</span><span class="ident" id="7477731">TCPAddr</span><span class="op" id="7477738">{</span><span class="ident" id="7477739">IP</span><span class="op" id="7477741">:</span>&nbsp;<span class="ident" id="7477743">IPv4</span><span class="op" id="7477747">(</span><span class="num" id="7477748">127</span><span class="op" id="7477751">,</span>&nbsp;<span class="num" id="7477753">0</span><span class="op" id="7477754">,</span>&nbsp;<span class="num" id="7477756">0</span><span class="op" id="7477757">,</span>&nbsp;<span class="num" id="7477759">1</span><span class="op" id="7477760">)</span><span class="op" id="7477761">,</span>&nbsp;<span class="ident" id="7477763">Port</span><span class="op" id="7477767">:</span>&nbsp;<span class="num" id="7477769">5682</span><span class="op" id="7477773">}</span><span class="op" id="7477774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477778">nil</span><span class="op" id="7477781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477784">}</span><span class="op" id="7477785">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477789">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477793">ipv6only</span><span class="op" id="7477801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477805">[</span><span class="op" id="7477806">]</span><span class="ident" id="7477807">IP</span><span class="op" id="7477809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477814">IPv4</span><span class="op" id="7477818">(</span><span class="num" id="7477819">127</span><span class="op" id="7477822">,</span>&nbsp;<span class="num" id="7477824">0</span><span class="op" id="7477825">,</span>&nbsp;<span class="num" id="7477827">0</span><span class="op" id="7477828">,</span>&nbsp;<span class="num" id="7477830">1</span><span class="op" id="7477831">)</span><span class="op" id="7477832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477837">IPv6loopback</span><span class="op" id="7477849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477853">}</span><span class="op" id="7477854">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477858">testInetaddr</span><span class="op" id="7477870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477874">&amp;</span><span class="ident" id="7477875">TCPAddr</span><span class="op" id="7477882">{</span><span class="ident" id="7477883">IP</span><span class="op" id="7477885">:</span>&nbsp;<span class="ident" id="7477887">IPv6loopback</span><span class="op" id="7477899">,</span>&nbsp;<span class="ident" id="7477901">Port</span><span class="op" id="7477905">:</span>&nbsp;<span class="num" id="7477907">5682</span><span class="op" id="7477911">}</span><span class="op" id="7477912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477916">nil</span><span class="op" id="7477919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477922">}</span><span class="op" id="7477923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477926">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477930">ipv6only</span><span class="op" id="7477938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477942">[</span><span class="op" id="7477943">]</span><span class="ident" id="7477944">IP</span><span class="op" id="7477946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477951">IPv6loopback</span><span class="op" id="7477963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477968">IPv4</span><span class="op" id="7477972">(</span><span class="num" id="7477973">127</span><span class="op" id="7477976">,</span>&nbsp;<span class="num" id="7477978">0</span><span class="op" id="7477979">,</span>&nbsp;<span class="num" id="7477981">0</span><span class="op" id="7477982">,</span>&nbsp;<span class="num" id="7477984">1</span><span class="op" id="7477985">)</span><span class="op" id="7477986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477990">}</span><span class="op" id="7477991">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477995">testInetaddr</span><span class="op" id="7478007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478011">&amp;</span><span class="ident" id="7478012">TCPAddr</span><span class="op" id="7478019">{</span><span class="ident" id="7478020">IP</span><span class="op" id="7478022">:</span>&nbsp;<span class="ident" id="7478024">IPv6loopback</span><span class="op" id="7478036">,</span>&nbsp;<span class="ident" id="7478038">Port</span><span class="op" id="7478042">:</span>&nbsp;<span class="num" id="7478044">5682</span><span class="op" id="7478048">}</span><span class="op" id="7478049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478053">nil</span><span class="op" id="7478056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478059">}</span><span class="op" id="7478060">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478064">{</span><span class="ident" id="7478065">nil</span><span class="op" id="7478068">,</span>&nbsp;<span class="ident" id="7478070">nil</span><span class="op" id="7478073">,</span>&nbsp;<span class="ident" id="7478075">testInetaddr</span><span class="op" id="7478087">,</span>&nbsp;<span class="ident" id="7478089">nil</span><span class="op" id="7478092">,</span>&nbsp;<span class="ident" id="7478094">errNoSuitableAddress</span><span class="op" id="7478114">}</span><span class="op" id="7478115">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478119">{</span><span class="ident" id="7478120">ipv4only</span><span class="op" id="7478128">,</span>&nbsp;<span class="ident" id="7478130">nil</span><span class="op" id="7478133">,</span>&nbsp;<span class="ident" id="7478135">testInetaddr</span><span class="op" id="7478147">,</span>&nbsp;<span class="ident" id="7478149">nil</span><span class="op" id="7478152">,</span>&nbsp;<span class="ident" id="7478154">errNoSuitableAddress</span><span class="op" id="7478174">}</span><span class="op" id="7478175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478178">{</span><span class="ident" id="7478179">ipv4only</span><span class="op" id="7478187">,</span>&nbsp;<span class="op" id="7478189">[</span><span class="op" id="7478190">]</span><span class="ident" id="7478191">IP</span><span class="op" id="7478193">{</span><span class="ident" id="7478194">IPv6loopback</span><span class="op" id="7478206">}</span><span class="op" id="7478207">,</span>&nbsp;<span class="ident" id="7478209">testInetaddr</span><span class="op" id="7478221">,</span>&nbsp;<span class="ident" id="7478223">nil</span><span class="op" id="7478226">,</span>&nbsp;<span class="ident" id="7478228">errNoSuitableAddress</span><span class="op" id="7478248">}</span><span class="op" id="7478249">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478253">{</span><span class="ident" id="7478254">ipv6only</span><span class="op" id="7478262">,</span>&nbsp;<span class="ident" id="7478264">nil</span><span class="op" id="7478267">,</span>&nbsp;<span class="ident" id="7478269">testInetaddr</span><span class="op" id="7478281">,</span>&nbsp;<span class="ident" id="7478283">nil</span><span class="op" id="7478286">,</span>&nbsp;<span class="ident" id="7478288">errNoSuitableAddress</span><span class="op" id="7478308">}</span><span class="op" id="7478309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478312">{</span><span class="ident" id="7478313">ipv6only</span><span class="op" id="7478321">,</span>&nbsp;<span class="op" id="7478323">[</span><span class="op" id="7478324">]</span><span class="ident" id="7478325">IP</span><span class="op" id="7478327">{</span><span class="ident" id="7478328">IPv4</span><span class="op" id="7478332">(</span><span class="num" id="7478333">127</span><span class="op" id="7478336">,</span>&nbsp;<span class="num" id="7478338">0</span><span class="op" id="7478339">,</span>&nbsp;<span class="num" id="7478341">0</span><span class="op" id="7478342">,</span>&nbsp;<span class="num" id="7478344">1</span><span class="op" id="7478345">)</span><span class="op" id="7478346">}</span><span class="op" id="7478347">,</span>&nbsp;<span class="ident" id="7478349">testInetaddr</span><span class="op" id="7478361">,</span>&nbsp;<span class="ident" id="7478363">nil</span><span class="op" id="7478366">,</span>&nbsp;<span class="ident" id="7478368">errNoSuitableAddress</span><span class="op" id="7478388">}</span><span class="op" id="7478389">,</span><br>
<span class="lineno"></span><span class="op" id="7478391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7478394">func</span>&nbsp;<span class="ident" id="7478399">TestFirstFavoriteAddr</span><span class="op" id="7478420">(</span><span class="ident" id="7478421">t</span>&nbsp;<span class="op" id="7478423">*</span><span class="ident" id="7478424">testing</span><span class="op" id="7478431">.</span><span class="ident" id="7478432">T</span><span class="op" id="7478433">)</span>&nbsp;<span class="op" id="7478435">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478438">if</span>&nbsp;<span class="op" id="7478441">!</span><span class="ident" id="7478442">supportsIPv4</span>&nbsp;<span class="op" id="7478455">||</span>&nbsp;<span class="op" id="7478458">!</span><span class="ident" id="7478459">supportsIPv6</span>&nbsp;<span class="op" id="7478472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478476">t</span><span class="op" id="7478477">.</span><span class="ident" id="7478478">Skip</span><span class="op" id="7478482">(</span><span class="string" id="7478483">&#34;ipv4&nbsp;or&nbsp;ipv6&nbsp;is&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7478514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478521">for</span>&nbsp;<span class="ident" id="7478525">i</span><span class="op" id="7478526">,</span>&nbsp;<span class="ident" id="7478528">tt</span>&nbsp;<span class="op" id="7478531">:=</span>&nbsp;<span class="keyword" id="7478534">range</span>&nbsp;<span class="ident" id="7478540">firstFavoriteAddrTests</span>&nbsp;<span class="op" id="7478563">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478567">addr</span><span class="op" id="7478571">,</span>&nbsp;<span class="ident" id="7478573">err</span>&nbsp;<span class="op" id="7478577">:=</span>&nbsp;<span class="ident" id="7478580">firstFavoriteAddr</span><span class="op" id="7478597">(</span><span class="ident" id="7478598">tt</span><span class="op" id="7478600">.</span><span class="ident" id="7478601">filter</span><span class="op" id="7478607">,</span>&nbsp;<span class="ident" id="7478609">tt</span><span class="op" id="7478611">.</span><span class="ident" id="7478612">ips</span><span class="op" id="7478615">,</span>&nbsp;<span class="ident" id="7478617">tt</span><span class="op" id="7478619">.</span><span class="ident" id="7478620">inetaddr</span><span class="op" id="7478628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478632">if</span>&nbsp;<span class="ident" id="7478635">err</span>&nbsp;<span class="op" id="7478639">!=</span>&nbsp;<span class="ident" id="7478642">tt</span><span class="op" id="7478644">.</span><span class="ident" id="7478645">err</span>&nbsp;<span class="op" id="7478649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478654">t</span><span class="op" id="7478655">.</span><span class="ident" id="7478656">Errorf</span><span class="op" id="7478662">(</span><span class="string" id="7478663">&#34;#%v:&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7478689">,</span>&nbsp;<span class="ident" id="7478691">i</span><span class="op" id="7478692">,</span>&nbsp;<span class="ident" id="7478694">err</span><span class="op" id="7478697">,</span>&nbsp;<span class="ident" id="7478699">tt</span><span class="op" id="7478701">.</span><span class="ident" id="7478702">err</span><span class="op" id="7478705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478713">if</span>&nbsp;<span class="op" id="7478716">!</span><span class="ident" id="7478717">reflect</span><span class="op" id="7478724">.</span><span class="ident" id="7478725">DeepEqual</span><span class="op" id="7478734">(</span><span class="ident" id="7478735">addr</span><span class="op" id="7478739">,</span>&nbsp;<span class="ident" id="7478741">tt</span><span class="op" id="7478743">.</span><span class="ident" id="7478744">addr</span><span class="op" id="7478748">)</span>&nbsp;<span class="op" id="7478750">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478755">t</span><span class="op" id="7478756">.</span><span class="ident" id="7478757">Errorf</span><span class="op" id="7478763">(</span><span class="string" id="7478764">&#34;#%v:&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7478790">,</span>&nbsp;<span class="ident" id="7478792">i</span><span class="op" id="7478793">,</span>&nbsp;<span class="ident" id="7478795">addr</span><span class="op" id="7478799">,</span>&nbsp;<span class="ident" id="7478801">tt</span><span class="op" id="7478803">.</span><span class="ident" id="7478804">addr</span><span class="op" id="7478808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478815">}</span><br>
<span class="lineno"></span><span class="op" id="7478817">}</span>
</div>
</body>
</html>
