<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html" class="current">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7424345">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7424400">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7424454">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7424505">package</span>&nbsp;<span class="ident" id="7424513">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424519">import</span>&nbsp;<span class="op" id="7424526">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7424529">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7424538">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7424548">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424551">type</span>&nbsp;<span class="ident" id="7424556">clipTest</span>&nbsp;<span class="keyword" id="7424565">struct</span>&nbsp;<span class="op" id="7424572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424575">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7424589">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424597">r</span><span class="op" id="7424598">,</span>&nbsp;<span class="ident" id="7424600">dr</span><span class="op" id="7424602">,</span>&nbsp;<span class="ident" id="7424604">sr</span><span class="op" id="7424606">,</span>&nbsp;<span class="ident" id="7424608">mr</span>&nbsp;<span class="ident" id="7424611">image</span><span class="op" id="7424616">.</span><span class="ident" id="7424617">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424628">sp</span><span class="op" id="7424630">,</span>&nbsp;<span class="ident" id="7424632">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424642">image</span><span class="op" id="7424647">.</span><span class="ident" id="7424648">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424655">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7424669">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424675">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424689">image</span><span class="op" id="7424694">.</span><span class="ident" id="7424695">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424706">sp0</span><span class="op" id="7424709">,</span>&nbsp;<span class="ident" id="7424711">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424720">image</span><span class="op" id="7424725">.</span><span class="ident" id="7424726">Point</span><br>
<span class="lineno"></span><span class="op" id="7424732">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7424735">var</span>&nbsp;<span class="ident" id="7424739">clipTests</span>&nbsp;<span class="op" id="7424749">=</span>&nbsp;<span class="op" id="7424751">[</span><span class="op" id="7424752">]</span><span class="ident" id="7424753">clipTest</span><span class="op" id="7424761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7424764">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7424813">&#34;basic&#34;</span><span class="op" id="7424820">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424824">image</span><span class="op" id="7424829">.</span><span class="ident" id="7424830">Rect</span><span class="op" id="7424834">(</span><span class="num" id="7424835">0</span><span class="op" id="7424836">,</span>&nbsp;<span class="num" id="7424838">0</span><span class="op" id="7424839">,</span>&nbsp;<span class="num" id="7424841">100</span><span class="op" id="7424844">,</span>&nbsp;<span class="num" id="7424846">100</span><span class="op" id="7424849">)</span><span class="op" id="7424850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424854">image</span><span class="op" id="7424859">.</span><span class="ident" id="7424860">Rect</span><span class="op" id="7424864">(</span><span class="num" id="7424865">0</span><span class="op" id="7424866">,</span>&nbsp;<span class="num" id="7424868">0</span><span class="op" id="7424869">,</span>&nbsp;<span class="num" id="7424871">100</span><span class="op" id="7424874">,</span>&nbsp;<span class="num" id="7424876">100</span><span class="op" id="7424879">)</span><span class="op" id="7424880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424884">image</span><span class="op" id="7424889">.</span><span class="ident" id="7424890">Rect</span><span class="op" id="7424894">(</span><span class="num" id="7424895">0</span><span class="op" id="7424896">,</span>&nbsp;<span class="num" id="7424898">0</span><span class="op" id="7424899">,</span>&nbsp;<span class="num" id="7424901">100</span><span class="op" id="7424904">,</span>&nbsp;<span class="num" id="7424906">100</span><span class="op" id="7424909">)</span><span class="op" id="7424910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424914">image</span><span class="op" id="7424919">.</span><span class="ident" id="7424920">ZR</span><span class="op" id="7424922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424926">image</span><span class="op" id="7424931">.</span><span class="ident" id="7424932">ZP</span><span class="op" id="7424934">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424938">image</span><span class="op" id="7424943">.</span><span class="ident" id="7424944">ZP</span><span class="op" id="7424946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7424950">true</span><span class="op" id="7424954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424958">image</span><span class="op" id="7424963">.</span><span class="ident" id="7424964">Rect</span><span class="op" id="7424968">(</span><span class="num" id="7424969">0</span><span class="op" id="7424970">,</span>&nbsp;<span class="num" id="7424972">0</span><span class="op" id="7424973">,</span>&nbsp;<span class="num" id="7424975">100</span><span class="op" id="7424978">,</span>&nbsp;<span class="num" id="7424980">100</span><span class="op" id="7424983">)</span><span class="op" id="7424984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424988">image</span><span class="op" id="7424993">.</span><span class="ident" id="7424994">ZP</span><span class="op" id="7424996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425000">image</span><span class="op" id="7425005">.</span><span class="ident" id="7425006">ZP</span><span class="op" id="7425008">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425011">}</span><span class="op" id="7425012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425019">&#34;clip&nbsp;dr&#34;</span><span class="op" id="7425028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425032">image</span><span class="op" id="7425037">.</span><span class="ident" id="7425038">Rect</span><span class="op" id="7425042">(</span><span class="num" id="7425043">0</span><span class="op" id="7425044">,</span>&nbsp;<span class="num" id="7425046">0</span><span class="op" id="7425047">,</span>&nbsp;<span class="num" id="7425049">100</span><span class="op" id="7425052">,</span>&nbsp;<span class="num" id="7425054">100</span><span class="op" id="7425057">)</span><span class="op" id="7425058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425062">image</span><span class="op" id="7425067">.</span><span class="ident" id="7425068">Rect</span><span class="op" id="7425072">(</span><span class="num" id="7425073">40</span><span class="op" id="7425075">,</span>&nbsp;<span class="num" id="7425077">40</span><span class="op" id="7425079">,</span>&nbsp;<span class="num" id="7425081">60</span><span class="op" id="7425083">,</span>&nbsp;<span class="num" id="7425085">60</span><span class="op" id="7425087">)</span><span class="op" id="7425088">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425092">image</span><span class="op" id="7425097">.</span><span class="ident" id="7425098">Rect</span><span class="op" id="7425102">(</span><span class="num" id="7425103">0</span><span class="op" id="7425104">,</span>&nbsp;<span class="num" id="7425106">0</span><span class="op" id="7425107">,</span>&nbsp;<span class="num" id="7425109">100</span><span class="op" id="7425112">,</span>&nbsp;<span class="num" id="7425114">100</span><span class="op" id="7425117">)</span><span class="op" id="7425118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425122">image</span><span class="op" id="7425127">.</span><span class="ident" id="7425128">ZR</span><span class="op" id="7425130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425134">image</span><span class="op" id="7425139">.</span><span class="ident" id="7425140">ZP</span><span class="op" id="7425142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425146">image</span><span class="op" id="7425151">.</span><span class="ident" id="7425152">ZP</span><span class="op" id="7425154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7425158">true</span><span class="op" id="7425162">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425166">image</span><span class="op" id="7425171">.</span><span class="ident" id="7425172">Rect</span><span class="op" id="7425176">(</span><span class="num" id="7425177">40</span><span class="op" id="7425179">,</span>&nbsp;<span class="num" id="7425181">40</span><span class="op" id="7425183">,</span>&nbsp;<span class="num" id="7425185">60</span><span class="op" id="7425187">,</span>&nbsp;<span class="num" id="7425189">60</span><span class="op" id="7425191">)</span><span class="op" id="7425192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425196">image</span><span class="op" id="7425201">.</span><span class="ident" id="7425202">Pt</span><span class="op" id="7425204">(</span><span class="num" id="7425205">40</span><span class="op" id="7425207">,</span>&nbsp;<span class="num" id="7425209">40</span><span class="op" id="7425211">)</span><span class="op" id="7425212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425216">image</span><span class="op" id="7425221">.</span><span class="ident" id="7425222">ZP</span><span class="op" id="7425224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425227">}</span><span class="op" id="7425228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425231">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425235">&#34;clip&nbsp;sr&#34;</span><span class="op" id="7425244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425248">image</span><span class="op" id="7425253">.</span><span class="ident" id="7425254">Rect</span><span class="op" id="7425258">(</span><span class="num" id="7425259">0</span><span class="op" id="7425260">,</span>&nbsp;<span class="num" id="7425262">0</span><span class="op" id="7425263">,</span>&nbsp;<span class="num" id="7425265">100</span><span class="op" id="7425268">,</span>&nbsp;<span class="num" id="7425270">100</span><span class="op" id="7425273">)</span><span class="op" id="7425274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425278">image</span><span class="op" id="7425283">.</span><span class="ident" id="7425284">Rect</span><span class="op" id="7425288">(</span><span class="num" id="7425289">0</span><span class="op" id="7425290">,</span>&nbsp;<span class="num" id="7425292">0</span><span class="op" id="7425293">,</span>&nbsp;<span class="num" id="7425295">100</span><span class="op" id="7425298">,</span>&nbsp;<span class="num" id="7425300">100</span><span class="op" id="7425303">)</span><span class="op" id="7425304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425308">image</span><span class="op" id="7425313">.</span><span class="ident" id="7425314">Rect</span><span class="op" id="7425318">(</span><span class="num" id="7425319">20</span><span class="op" id="7425321">,</span>&nbsp;<span class="num" id="7425323">20</span><span class="op" id="7425325">,</span>&nbsp;<span class="num" id="7425327">80</span><span class="op" id="7425329">,</span>&nbsp;<span class="num" id="7425331">80</span><span class="op" id="7425333">)</span><span class="op" id="7425334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425338">image</span><span class="op" id="7425343">.</span><span class="ident" id="7425344">ZR</span><span class="op" id="7425346">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425350">image</span><span class="op" id="7425355">.</span><span class="ident" id="7425356">ZP</span><span class="op" id="7425358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425362">image</span><span class="op" id="7425367">.</span><span class="ident" id="7425368">ZP</span><span class="op" id="7425370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7425374">true</span><span class="op" id="7425378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425382">image</span><span class="op" id="7425387">.</span><span class="ident" id="7425388">Rect</span><span class="op" id="7425392">(</span><span class="num" id="7425393">20</span><span class="op" id="7425395">,</span>&nbsp;<span class="num" id="7425397">20</span><span class="op" id="7425399">,</span>&nbsp;<span class="num" id="7425401">80</span><span class="op" id="7425403">,</span>&nbsp;<span class="num" id="7425405">80</span><span class="op" id="7425407">)</span><span class="op" id="7425408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425412">image</span><span class="op" id="7425417">.</span><span class="ident" id="7425418">Pt</span><span class="op" id="7425420">(</span><span class="num" id="7425421">20</span><span class="op" id="7425423">,</span>&nbsp;<span class="num" id="7425425">20</span><span class="op" id="7425427">)</span><span class="op" id="7425428">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425432">image</span><span class="op" id="7425437">.</span><span class="ident" id="7425438">ZP</span><span class="op" id="7425440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425443">}</span><span class="op" id="7425444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425451">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="7425467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425471">image</span><span class="op" id="7425476">.</span><span class="ident" id="7425477">Rect</span><span class="op" id="7425481">(</span><span class="num" id="7425482">0</span><span class="op" id="7425483">,</span>&nbsp;<span class="num" id="7425485">0</span><span class="op" id="7425486">,</span>&nbsp;<span class="num" id="7425488">100</span><span class="op" id="7425491">,</span>&nbsp;<span class="num" id="7425493">100</span><span class="op" id="7425496">)</span><span class="op" id="7425497">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425501">image</span><span class="op" id="7425506">.</span><span class="ident" id="7425507">Rect</span><span class="op" id="7425511">(</span><span class="num" id="7425512">0</span><span class="op" id="7425513">,</span>&nbsp;<span class="num" id="7425515">0</span><span class="op" id="7425516">,</span>&nbsp;<span class="num" id="7425518">50</span><span class="op" id="7425520">,</span>&nbsp;<span class="num" id="7425522">100</span><span class="op" id="7425525">)</span><span class="op" id="7425526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425530">image</span><span class="op" id="7425535">.</span><span class="ident" id="7425536">Rect</span><span class="op" id="7425540">(</span><span class="num" id="7425541">20</span><span class="op" id="7425543">,</span>&nbsp;<span class="num" id="7425545">20</span><span class="op" id="7425547">,</span>&nbsp;<span class="num" id="7425549">80</span><span class="op" id="7425551">,</span>&nbsp;<span class="num" id="7425553">80</span><span class="op" id="7425555">)</span><span class="op" id="7425556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425560">image</span><span class="op" id="7425565">.</span><span class="ident" id="7425566">ZR</span><span class="op" id="7425568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425572">image</span><span class="op" id="7425577">.</span><span class="ident" id="7425578">ZP</span><span class="op" id="7425580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425584">image</span><span class="op" id="7425589">.</span><span class="ident" id="7425590">ZP</span><span class="op" id="7425592">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7425596">true</span><span class="op" id="7425600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425604">image</span><span class="op" id="7425609">.</span><span class="ident" id="7425610">Rect</span><span class="op" id="7425614">(</span><span class="num" id="7425615">20</span><span class="op" id="7425617">,</span>&nbsp;<span class="num" id="7425619">20</span><span class="op" id="7425621">,</span>&nbsp;<span class="num" id="7425623">50</span><span class="op" id="7425625">,</span>&nbsp;<span class="num" id="7425627">80</span><span class="op" id="7425629">)</span><span class="op" id="7425630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425634">image</span><span class="op" id="7425639">.</span><span class="ident" id="7425640">Pt</span><span class="op" id="7425642">(</span><span class="num" id="7425643">20</span><span class="op" id="7425645">,</span>&nbsp;<span class="num" id="7425647">20</span><span class="op" id="7425649">)</span><span class="op" id="7425650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425654">image</span><span class="op" id="7425659">.</span><span class="ident" id="7425660">ZP</span><span class="op" id="7425662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425665">}</span><span class="op" id="7425666">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425673">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="7425715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425719">image</span><span class="op" id="7425724">.</span><span class="ident" id="7425725">Rect</span><span class="op" id="7425729">(</span><span class="num" id="7425730">0</span><span class="op" id="7425731">,</span>&nbsp;<span class="num" id="7425733">0</span><span class="op" id="7425734">,</span>&nbsp;<span class="num" id="7425736">100</span><span class="op" id="7425739">,</span>&nbsp;<span class="num" id="7425741">100</span><span class="op" id="7425744">)</span><span class="op" id="7425745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425749">image</span><span class="op" id="7425754">.</span><span class="ident" id="7425755">Rect</span><span class="op" id="7425759">(</span><span class="num" id="7425760">0</span><span class="op" id="7425761">,</span>&nbsp;<span class="num" id="7425763">0</span><span class="op" id="7425764">,</span>&nbsp;<span class="num" id="7425766">50</span><span class="op" id="7425768">,</span>&nbsp;<span class="num" id="7425770">100</span><span class="op" id="7425773">)</span><span class="op" id="7425774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425778">image</span><span class="op" id="7425783">.</span><span class="ident" id="7425784">Rect</span><span class="op" id="7425788">(</span><span class="num" id="7425789">20</span><span class="op" id="7425791">,</span>&nbsp;<span class="num" id="7425793">20</span><span class="op" id="7425795">,</span>&nbsp;<span class="num" id="7425797">80</span><span class="op" id="7425799">,</span>&nbsp;<span class="num" id="7425801">80</span><span class="op" id="7425803">)</span><span class="op" id="7425804">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425808">image</span><span class="op" id="7425813">.</span><span class="ident" id="7425814">ZR</span><span class="op" id="7425816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425820">image</span><span class="op" id="7425825">.</span><span class="ident" id="7425826">Pt</span><span class="op" id="7425828">(</span><span class="num" id="7425829">15</span><span class="op" id="7425831">,</span>&nbsp;<span class="num" id="7425833">8</span><span class="op" id="7425834">)</span><span class="op" id="7425835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425839">image</span><span class="op" id="7425844">.</span><span class="ident" id="7425845">ZP</span><span class="op" id="7425847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7425851">true</span><span class="op" id="7425855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425859">image</span><span class="op" id="7425864">.</span><span class="ident" id="7425865">Rect</span><span class="op" id="7425869">(</span><span class="num" id="7425870">5</span><span class="op" id="7425871">,</span>&nbsp;<span class="num" id="7425873">12</span><span class="op" id="7425875">,</span>&nbsp;<span class="num" id="7425877">50</span><span class="op" id="7425879">,</span>&nbsp;<span class="num" id="7425881">72</span><span class="op" id="7425883">)</span><span class="op" id="7425884">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425888">image</span><span class="op" id="7425893">.</span><span class="ident" id="7425894">Pt</span><span class="op" id="7425896">(</span><span class="num" id="7425897">20</span><span class="op" id="7425899">,</span>&nbsp;<span class="num" id="7425901">20</span><span class="op" id="7425903">)</span><span class="op" id="7425904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425908">image</span><span class="op" id="7425913">.</span><span class="ident" id="7425914">ZP</span><span class="op" id="7425916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425919">}</span><span class="op" id="7425920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425927">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="7425972">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425976">image</span><span class="op" id="7425981">.</span><span class="ident" id="7425982">Rect</span><span class="op" id="7425986">(</span><span class="num" id="7425987">0</span><span class="op" id="7425988">,</span>&nbsp;<span class="num" id="7425990">0</span><span class="op" id="7425991">,</span>&nbsp;<span class="num" id="7425993">100</span><span class="op" id="7425996">,</span>&nbsp;<span class="num" id="7425998">100</span><span class="op" id="7426001">)</span><span class="op" id="7426002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426006">image</span><span class="op" id="7426011">.</span><span class="ident" id="7426012">Rect</span><span class="op" id="7426016">(</span><span class="num" id="7426017">0</span><span class="op" id="7426018">,</span>&nbsp;<span class="num" id="7426020">0</span><span class="op" id="7426021">,</span>&nbsp;<span class="num" id="7426023">50</span><span class="op" id="7426025">,</span>&nbsp;<span class="num" id="7426027">100</span><span class="op" id="7426030">)</span><span class="op" id="7426031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426035">image</span><span class="op" id="7426040">.</span><span class="ident" id="7426041">Rect</span><span class="op" id="7426045">(</span><span class="num" id="7426046">20</span><span class="op" id="7426048">,</span>&nbsp;<span class="num" id="7426050">20</span><span class="op" id="7426052">,</span>&nbsp;<span class="num" id="7426054">80</span><span class="op" id="7426056">,</span>&nbsp;<span class="num" id="7426058">80</span><span class="op" id="7426060">)</span><span class="op" id="7426061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426065">image</span><span class="op" id="7426070">.</span><span class="ident" id="7426071">ZR</span><span class="op" id="7426073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426077">image</span><span class="op" id="7426082">.</span><span class="ident" id="7426083">Pt</span><span class="op" id="7426085">(</span><span class="num" id="7426086">15</span><span class="op" id="7426088">,</span>&nbsp;<span class="num" id="7426090">66</span><span class="op" id="7426092">)</span><span class="op" id="7426093">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426097">image</span><span class="op" id="7426102">.</span><span class="ident" id="7426103">ZP</span><span class="op" id="7426105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7426109">true</span><span class="op" id="7426113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426117">image</span><span class="op" id="7426122">.</span><span class="ident" id="7426123">Rect</span><span class="op" id="7426127">(</span><span class="num" id="7426128">5</span><span class="op" id="7426129">,</span>&nbsp;<span class="num" id="7426131">0</span><span class="op" id="7426132">,</span>&nbsp;<span class="num" id="7426134">50</span><span class="op" id="7426136">,</span>&nbsp;<span class="num" id="7426138">14</span><span class="op" id="7426140">)</span><span class="op" id="7426141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426145">image</span><span class="op" id="7426150">.</span><span class="ident" id="7426151">Pt</span><span class="op" id="7426153">(</span><span class="num" id="7426154">20</span><span class="op" id="7426156">,</span>&nbsp;<span class="num" id="7426158">66</span><span class="op" id="7426160">)</span><span class="op" id="7426161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426165">image</span><span class="op" id="7426170">.</span><span class="ident" id="7426171">ZP</span><span class="op" id="7426173">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426176">}</span><span class="op" id="7426177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7426184">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="7426229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426233">image</span><span class="op" id="7426238">.</span><span class="ident" id="7426239">Rect</span><span class="op" id="7426243">(</span><span class="num" id="7426244">0</span><span class="op" id="7426245">,</span>&nbsp;<span class="num" id="7426247">0</span><span class="op" id="7426248">,</span>&nbsp;<span class="num" id="7426250">100</span><span class="op" id="7426253">,</span>&nbsp;<span class="num" id="7426255">100</span><span class="op" id="7426258">)</span><span class="op" id="7426259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426263">image</span><span class="op" id="7426268">.</span><span class="ident" id="7426269">Rect</span><span class="op" id="7426273">(</span><span class="num" id="7426274">0</span><span class="op" id="7426275">,</span>&nbsp;<span class="num" id="7426277">0</span><span class="op" id="7426278">,</span>&nbsp;<span class="num" id="7426280">50</span><span class="op" id="7426282">,</span>&nbsp;<span class="num" id="7426284">100</span><span class="op" id="7426287">)</span><span class="op" id="7426288">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426292">image</span><span class="op" id="7426297">.</span><span class="ident" id="7426298">Rect</span><span class="op" id="7426302">(</span><span class="num" id="7426303">20</span><span class="op" id="7426305">,</span>&nbsp;<span class="num" id="7426307">20</span><span class="op" id="7426309">,</span>&nbsp;<span class="num" id="7426311">80</span><span class="op" id="7426313">,</span>&nbsp;<span class="num" id="7426315">80</span><span class="op" id="7426317">)</span><span class="op" id="7426318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426322">image</span><span class="op" id="7426327">.</span><span class="ident" id="7426328">ZR</span><span class="op" id="7426330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426334">image</span><span class="op" id="7426339">.</span><span class="ident" id="7426340">Pt</span><span class="op" id="7426342">(</span><span class="num" id="7426343">15</span><span class="op" id="7426345">,</span>&nbsp;<span class="num" id="7426347">91</span><span class="op" id="7426349">)</span><span class="op" id="7426350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426354">image</span><span class="op" id="7426359">.</span><span class="ident" id="7426360">ZP</span><span class="op" id="7426362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7426366">true</span><span class="op" id="7426370">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426374">image</span><span class="op" id="7426379">.</span><span class="ident" id="7426380">ZR</span><span class="op" id="7426382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426386">image</span><span class="op" id="7426391">.</span><span class="ident" id="7426392">Pt</span><span class="op" id="7426394">(</span><span class="num" id="7426395">15</span><span class="op" id="7426397">,</span>&nbsp;<span class="num" id="7426399">91</span><span class="op" id="7426401">)</span><span class="op" id="7426402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426406">image</span><span class="op" id="7426411">.</span><span class="ident" id="7426412">ZP</span><span class="op" id="7426414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426417">}</span><span class="op" id="7426418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426421">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7426425">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="7426455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426459">image</span><span class="op" id="7426464">.</span><span class="ident" id="7426465">Rect</span><span class="op" id="7426469">(</span><span class="num" id="7426470">0</span><span class="op" id="7426471">,</span>&nbsp;<span class="num" id="7426473">0</span><span class="op" id="7426474">,</span>&nbsp;<span class="num" id="7426476">100</span><span class="op" id="7426479">,</span>&nbsp;<span class="num" id="7426481">100</span><span class="op" id="7426484">)</span><span class="op" id="7426485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426489">image</span><span class="op" id="7426494">.</span><span class="ident" id="7426495">Rect</span><span class="op" id="7426499">(</span><span class="num" id="7426500">0</span><span class="op" id="7426501">,</span>&nbsp;<span class="num" id="7426503">0</span><span class="op" id="7426504">,</span>&nbsp;<span class="num" id="7426506">50</span><span class="op" id="7426508">,</span>&nbsp;<span class="num" id="7426510">100</span><span class="op" id="7426513">)</span><span class="op" id="7426514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426518">image</span><span class="op" id="7426523">.</span><span class="ident" id="7426524">Rect</span><span class="op" id="7426528">(</span><span class="num" id="7426529">20</span><span class="op" id="7426531">,</span>&nbsp;<span class="num" id="7426533">20</span><span class="op" id="7426535">,</span>&nbsp;<span class="num" id="7426537">80</span><span class="op" id="7426539">,</span>&nbsp;<span class="num" id="7426541">80</span><span class="op" id="7426543">)</span><span class="op" id="7426544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426548">image</span><span class="op" id="7426553">.</span><span class="ident" id="7426554">ZR</span><span class="op" id="7426556">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426560">image</span><span class="op" id="7426565">.</span><span class="ident" id="7426566">Pt</span><span class="op" id="7426568">(</span><span class="num" id="7426569">44</span><span class="op" id="7426571">,</span>&nbsp;<span class="num" id="7426573">33</span><span class="op" id="7426575">)</span><span class="op" id="7426576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426580">image</span><span class="op" id="7426585">.</span><span class="ident" id="7426586">ZP</span><span class="op" id="7426588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7426592">true</span><span class="op" id="7426596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426600">image</span><span class="op" id="7426605">.</span><span class="ident" id="7426606">Rect</span><span class="op" id="7426610">(</span><span class="num" id="7426611">0</span><span class="op" id="7426612">,</span>&nbsp;<span class="num" id="7426614">0</span><span class="op" id="7426615">,</span>&nbsp;<span class="num" id="7426617">36</span><span class="op" id="7426619">,</span>&nbsp;<span class="num" id="7426621">47</span><span class="op" id="7426623">)</span><span class="op" id="7426624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426628">image</span><span class="op" id="7426633">.</span><span class="ident" id="7426634">Pt</span><span class="op" id="7426636">(</span><span class="num" id="7426637">44</span><span class="op" id="7426639">,</span>&nbsp;<span class="num" id="7426641">33</span><span class="op" id="7426643">)</span><span class="op" id="7426644">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426648">image</span><span class="op" id="7426653">.</span><span class="ident" id="7426654">ZP</span><span class="op" id="7426656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426659">}</span><span class="op" id="7426660">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426664">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426713">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7426717">&#34;basic&nbsp;mask&#34;</span><span class="op" id="7426729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426733">image</span><span class="op" id="7426738">.</span><span class="ident" id="7426739">Rect</span><span class="op" id="7426743">(</span><span class="num" id="7426744">0</span><span class="op" id="7426745">,</span>&nbsp;<span class="num" id="7426747">0</span><span class="op" id="7426748">,</span>&nbsp;<span class="num" id="7426750">80</span><span class="op" id="7426752">,</span>&nbsp;<span class="num" id="7426754">80</span><span class="op" id="7426756">)</span><span class="op" id="7426757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426761">image</span><span class="op" id="7426766">.</span><span class="ident" id="7426767">Rect</span><span class="op" id="7426771">(</span><span class="num" id="7426772">20</span><span class="op" id="7426774">,</span>&nbsp;<span class="num" id="7426776">0</span><span class="op" id="7426777">,</span>&nbsp;<span class="num" id="7426779">100</span><span class="op" id="7426782">,</span>&nbsp;<span class="num" id="7426784">80</span><span class="op" id="7426786">)</span><span class="op" id="7426787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426791">image</span><span class="op" id="7426796">.</span><span class="ident" id="7426797">Rect</span><span class="op" id="7426801">(</span><span class="num" id="7426802">0</span><span class="op" id="7426803">,</span>&nbsp;<span class="num" id="7426805">0</span><span class="op" id="7426806">,</span>&nbsp;<span class="num" id="7426808">50</span><span class="op" id="7426810">,</span>&nbsp;<span class="num" id="7426812">49</span><span class="op" id="7426814">)</span><span class="op" id="7426815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426819">image</span><span class="op" id="7426824">.</span><span class="ident" id="7426825">Rect</span><span class="op" id="7426829">(</span><span class="num" id="7426830">0</span><span class="op" id="7426831">,</span>&nbsp;<span class="num" id="7426833">0</span><span class="op" id="7426834">,</span>&nbsp;<span class="num" id="7426836">46</span><span class="op" id="7426838">,</span>&nbsp;<span class="num" id="7426840">47</span><span class="op" id="7426842">)</span><span class="op" id="7426843">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426847">image</span><span class="op" id="7426852">.</span><span class="ident" id="7426853">ZP</span><span class="op" id="7426855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426859">image</span><span class="op" id="7426864">.</span><span class="ident" id="7426865">ZP</span><span class="op" id="7426867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7426871">false</span><span class="op" id="7426876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426880">image</span><span class="op" id="7426885">.</span><span class="ident" id="7426886">Rect</span><span class="op" id="7426890">(</span><span class="num" id="7426891">20</span><span class="op" id="7426893">,</span>&nbsp;<span class="num" id="7426895">0</span><span class="op" id="7426896">,</span>&nbsp;<span class="num" id="7426898">46</span><span class="op" id="7426900">,</span>&nbsp;<span class="num" id="7426902">47</span><span class="op" id="7426904">)</span><span class="op" id="7426905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426909">image</span><span class="op" id="7426914">.</span><span class="ident" id="7426915">Pt</span><span class="op" id="7426917">(</span><span class="num" id="7426918">20</span><span class="op" id="7426920">,</span>&nbsp;<span class="num" id="7426922">0</span><span class="op" id="7426923">)</span><span class="op" id="7426924">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426928">image</span><span class="op" id="7426933">.</span><span class="ident" id="7426934">Pt</span><span class="op" id="7426936">(</span><span class="num" id="7426937">20</span><span class="op" id="7426939">,</span>&nbsp;<span class="num" id="7426941">0</span><span class="op" id="7426942">)</span><span class="op" id="7426943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426946">}</span><span class="op" id="7426947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426950">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="7426987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="7426990">func</span>&nbsp;<span class="ident" id="7426995">TestClip</span><span class="op" id="7427003">(</span><span class="ident" id="7427004">t</span>&nbsp;<span class="op" id="7427006">*</span><span class="ident" id="7427007">testing</span><span class="op" id="7427014">.</span><span class="ident" id="7427015">T</span><span class="op" id="7427016">)</span>&nbsp;<span class="op" id="7427018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427021">dst0</span>&nbsp;<span class="op" id="7427026">:=</span>&nbsp;<span class="ident" id="7427029">image</span><span class="op" id="7427034">.</span><span class="ident" id="7427035">NewRGBA</span><span class="op" id="7427042">(</span><span class="ident" id="7427043">image</span><span class="op" id="7427048">.</span><span class="ident" id="7427049">Rect</span><span class="op" id="7427053">(</span><span class="num" id="7427054">0</span><span class="op" id="7427055">,</span>&nbsp;<span class="num" id="7427057">0</span><span class="op" id="7427058">,</span>&nbsp;<span class="num" id="7427060">100</span><span class="op" id="7427063">,</span>&nbsp;<span class="num" id="7427065">100</span><span class="op" id="7427068">)</span><span class="op" id="7427069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427072">src0</span>&nbsp;<span class="op" id="7427077">:=</span>&nbsp;<span class="ident" id="7427080">image</span><span class="op" id="7427085">.</span><span class="ident" id="7427086">NewRGBA</span><span class="op" id="7427093">(</span><span class="ident" id="7427094">image</span><span class="op" id="7427099">.</span><span class="ident" id="7427100">Rect</span><span class="op" id="7427104">(</span><span class="num" id="7427105">0</span><span class="op" id="7427106">,</span>&nbsp;<span class="num" id="7427108">0</span><span class="op" id="7427109">,</span>&nbsp;<span class="num" id="7427111">100</span><span class="op" id="7427114">,</span>&nbsp;<span class="num" id="7427116">100</span><span class="op" id="7427119">)</span><span class="op" id="7427120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427123">mask0</span>&nbsp;<span class="op" id="7427129">:=</span>&nbsp;<span class="ident" id="7427132">image</span><span class="op" id="7427137">.</span><span class="ident" id="7427138">NewRGBA</span><span class="op" id="7427145">(</span><span class="ident" id="7427146">image</span><span class="op" id="7427151">.</span><span class="ident" id="7427152">Rect</span><span class="op" id="7427156">(</span><span class="num" id="7427157">0</span><span class="op" id="7427158">,</span>&nbsp;<span class="num" id="7427160">0</span><span class="op" id="7427161">,</span>&nbsp;<span class="num" id="7427163">100</span><span class="op" id="7427166">,</span>&nbsp;<span class="num" id="7427168">100</span><span class="op" id="7427171">)</span><span class="op" id="7427172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427175">for</span>&nbsp;<span class="ident" id="7427179">_</span><span class="op" id="7427180">,</span>&nbsp;<span class="ident" id="7427182">c</span>&nbsp;<span class="op" id="7427184">:=</span>&nbsp;<span class="keyword" id="7427187">range</span>&nbsp;<span class="ident" id="7427193">clipTests</span>&nbsp;<span class="op" id="7427203">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427207">dst</span>&nbsp;<span class="op" id="7427211">:=</span>&nbsp;<span class="ident" id="7427214">dst0</span><span class="op" id="7427218">.</span><span class="ident" id="7427219">SubImage</span><span class="op" id="7427227">(</span><span class="ident" id="7427228">c</span><span class="op" id="7427229">.</span><span class="ident" id="7427230">dr</span><span class="op" id="7427232">)</span><span class="op" id="7427233">.</span><span class="op" id="7427234">(</span><span class="op" id="7427235">*</span><span class="ident" id="7427236">image</span><span class="op" id="7427241">.</span><span class="ident" id="7427242">RGBA</span><span class="op" id="7427246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427250">src</span>&nbsp;<span class="op" id="7427254">:=</span>&nbsp;<span class="ident" id="7427257">src0</span><span class="op" id="7427261">.</span><span class="ident" id="7427262">SubImage</span><span class="op" id="7427270">(</span><span class="ident" id="7427271">c</span><span class="op" id="7427272">.</span><span class="ident" id="7427273">sr</span><span class="op" id="7427275">)</span><span class="op" id="7427276">.</span><span class="op" id="7427277">(</span><span class="op" id="7427278">*</span><span class="ident" id="7427279">image</span><span class="op" id="7427284">.</span><span class="ident" id="7427285">RGBA</span><span class="op" id="7427289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427293">var</span>&nbsp;<span class="ident" id="7427297">mask</span>&nbsp;<span class="ident" id="7427302">image</span><span class="op" id="7427307">.</span><span class="ident" id="7427308">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427316">if</span>&nbsp;<span class="op" id="7427319">!</span><span class="ident" id="7427320">c</span><span class="op" id="7427321">.</span><span class="ident" id="7427322">nilMask</span>&nbsp;<span class="op" id="7427330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427335">mask</span>&nbsp;<span class="op" id="7427340">=</span>&nbsp;<span class="ident" id="7427342">mask0</span><span class="op" id="7427347">.</span><span class="ident" id="7427348">SubImage</span><span class="op" id="7427356">(</span><span class="ident" id="7427357">c</span><span class="op" id="7427358">.</span><span class="ident" id="7427359">mr</span><span class="op" id="7427361">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427369">r</span><span class="op" id="7427370">,</span>&nbsp;<span class="ident" id="7427372">sp</span><span class="op" id="7427374">,</span>&nbsp;<span class="ident" id="7427376">mp</span>&nbsp;<span class="op" id="7427379">:=</span>&nbsp;<span class="ident" id="7427382">c</span><span class="op" id="7427383">.</span><span class="ident" id="7427384">r</span><span class="op" id="7427385">,</span>&nbsp;<span class="ident" id="7427387">c</span><span class="op" id="7427388">.</span><span class="ident" id="7427389">sp</span><span class="op" id="7427391">,</span>&nbsp;<span class="ident" id="7427393">c</span><span class="op" id="7427394">.</span><span class="ident" id="7427395">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427400">clip</span><span class="op" id="7427404">(</span><span class="ident" id="7427405">dst</span><span class="op" id="7427408">,</span>&nbsp;<span class="op" id="7427410">&amp;</span><span class="ident" id="7427411">r</span><span class="op" id="7427412">,</span>&nbsp;<span class="ident" id="7427414">src</span><span class="op" id="7427417">,</span>&nbsp;<span class="op" id="7427419">&amp;</span><span class="ident" id="7427420">sp</span><span class="op" id="7427422">,</span>&nbsp;<span class="ident" id="7427424">mask</span><span class="op" id="7427428">,</span>&nbsp;<span class="op" id="7427430">&amp;</span><span class="ident" id="7427431">mp</span><span class="op" id="7427433">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7427438">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427501">if</span>&nbsp;<span class="op" id="7427504">!</span><span class="ident" id="7427505">c</span><span class="op" id="7427506">.</span><span class="ident" id="7427507">r0</span><span class="op" id="7427509">.</span><span class="ident" id="7427510">Eq</span><span class="op" id="7427512">(</span><span class="ident" id="7427513">r</span><span class="op" id="7427514">)</span>&nbsp;<span class="op" id="7427516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427521">t</span><span class="op" id="7427522">.</span><span class="ident" id="7427523">Errorf</span><span class="op" id="7427529">(</span><span class="string" id="7427530">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7427565">,</span>&nbsp;<span class="ident" id="7427567">c</span><span class="op" id="7427568">.</span><span class="ident" id="7427569">desc</span><span class="op" id="7427573">,</span>&nbsp;<span class="ident" id="7427575">c</span><span class="op" id="7427576">.</span><span class="ident" id="7427577">r0</span><span class="op" id="7427579">,</span>&nbsp;<span class="ident" id="7427581">r</span><span class="op" id="7427582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427587">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427602">if</span>&nbsp;<span class="op" id="7427605">!</span><span class="ident" id="7427606">c</span><span class="op" id="7427607">.</span><span class="ident" id="7427608">sp0</span><span class="op" id="7427611">.</span><span class="ident" id="7427612">Eq</span><span class="op" id="7427614">(</span><span class="ident" id="7427615">sp</span><span class="op" id="7427617">)</span>&nbsp;<span class="op" id="7427619">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427624">t</span><span class="op" id="7427625">.</span><span class="ident" id="7427626">Errorf</span><span class="op" id="7427632">(</span><span class="string" id="7427633">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7427656">,</span>&nbsp;<span class="ident" id="7427658">c</span><span class="op" id="7427659">.</span><span class="ident" id="7427660">desc</span><span class="op" id="7427664">,</span>&nbsp;<span class="ident" id="7427666">c</span><span class="op" id="7427667">.</span><span class="ident" id="7427668">sp0</span><span class="op" id="7427671">,</span>&nbsp;<span class="ident" id="7427673">sp</span><span class="op" id="7427675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427680">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427695">if</span>&nbsp;<span class="op" id="7427698">!</span><span class="ident" id="7427699">c</span><span class="op" id="7427700">.</span><span class="ident" id="7427701">nilMask</span>&nbsp;<span class="op" id="7427709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427714">if</span>&nbsp;<span class="op" id="7427717">!</span><span class="ident" id="7427718">c</span><span class="op" id="7427719">.</span><span class="ident" id="7427720">mp0</span><span class="op" id="7427723">.</span><span class="ident" id="7427724">Eq</span><span class="op" id="7427726">(</span><span class="ident" id="7427727">mp</span><span class="op" id="7427729">)</span>&nbsp;<span class="op" id="7427731">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427737">t</span><span class="op" id="7427738">.</span><span class="ident" id="7427739">Errorf</span><span class="op" id="7427745">(</span><span class="string" id="7427746">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7427769">,</span>&nbsp;<span class="ident" id="7427771">c</span><span class="op" id="7427772">.</span><span class="ident" id="7427773">desc</span><span class="op" id="7427777">,</span>&nbsp;<span class="ident" id="7427779">c</span><span class="op" id="7427780">.</span><span class="ident" id="7427781">mp0</span><span class="op" id="7427784">,</span>&nbsp;<span class="ident" id="7427786">mp</span><span class="op" id="7427788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427794">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7427815">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7427890">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427947">if</span>&nbsp;<span class="op" id="7427950">!</span><span class="ident" id="7427951">r</span><span class="op" id="7427952">.</span><span class="ident" id="7427953">In</span><span class="op" id="7427955">(</span><span class="ident" id="7427956">c</span><span class="op" id="7427957">.</span><span class="ident" id="7427958">dr</span><span class="op" id="7427960">)</span>&nbsp;<span class="op" id="7427962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427967">t</span><span class="op" id="7427968">.</span><span class="ident" id="7427969">Errorf</span><span class="op" id="7427975">(</span><span class="string" id="7427976">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="7428011">,</span>&nbsp;<span class="ident" id="7428013">c</span><span class="op" id="7428014">.</span><span class="ident" id="7428015">desc</span><span class="op" id="7428019">,</span>&nbsp;<span class="ident" id="7428021">c</span><span class="op" id="7428022">.</span><span class="ident" id="7428023">dr</span><span class="op" id="7428025">,</span>&nbsp;<span class="ident" id="7428027">r</span><span class="op" id="7428028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428032">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7428036">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428090">sr</span>&nbsp;<span class="op" id="7428093">:=</span>&nbsp;<span class="ident" id="7428096">r</span><span class="op" id="7428097">.</span><span class="ident" id="7428098">Add</span><span class="op" id="7428101">(</span><span class="ident" id="7428102">c</span><span class="op" id="7428103">.</span><span class="ident" id="7428104">sp</span><span class="op" id="7428106">.</span><span class="ident" id="7428107">Sub</span><span class="op" id="7428110">(</span><span class="ident" id="7428111">c</span><span class="op" id="7428112">.</span><span class="ident" id="7428113">dr</span><span class="op" id="7428115">.</span><span class="ident" id="7428116">Min</span><span class="op" id="7428119">)</span><span class="op" id="7428120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428124">if</span>&nbsp;<span class="op" id="7428127">!</span><span class="ident" id="7428128">sr</span><span class="op" id="7428130">.</span><span class="ident" id="7428131">In</span><span class="op" id="7428133">(</span><span class="ident" id="7428134">c</span><span class="op" id="7428135">.</span><span class="ident" id="7428136">sr</span><span class="op" id="7428138">)</span>&nbsp;<span class="op" id="7428140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428145">t</span><span class="op" id="7428146">.</span><span class="ident" id="7428147">Errorf</span><span class="op" id="7428153">(</span><span class="string" id="7428154">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="7428190">,</span>&nbsp;<span class="ident" id="7428192">c</span><span class="op" id="7428193">.</span><span class="ident" id="7428194">desc</span><span class="op" id="7428198">,</span>&nbsp;<span class="ident" id="7428200">c</span><span class="op" id="7428201">.</span><span class="ident" id="7428202">sr</span><span class="op" id="7428204">,</span>&nbsp;<span class="ident" id="7428206">sr</span><span class="op" id="7428208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428212">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428216">if</span>&nbsp;<span class="op" id="7428219">!</span><span class="ident" id="7428220">c</span><span class="op" id="7428221">.</span><span class="ident" id="7428222">nilMask</span>&nbsp;<span class="op" id="7428230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7428235">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428291">mr</span>&nbsp;<span class="op" id="7428294">:=</span>&nbsp;<span class="ident" id="7428297">r</span><span class="op" id="7428298">.</span><span class="ident" id="7428299">Add</span><span class="op" id="7428302">(</span><span class="ident" id="7428303">c</span><span class="op" id="7428304">.</span><span class="ident" id="7428305">mp</span><span class="op" id="7428307">.</span><span class="ident" id="7428308">Sub</span><span class="op" id="7428311">(</span><span class="ident" id="7428312">c</span><span class="op" id="7428313">.</span><span class="ident" id="7428314">dr</span><span class="op" id="7428316">.</span><span class="ident" id="7428317">Min</span><span class="op" id="7428320">)</span><span class="op" id="7428321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428326">if</span>&nbsp;<span class="op" id="7428329">!</span><span class="ident" id="7428330">mr</span><span class="op" id="7428332">.</span><span class="ident" id="7428333">In</span><span class="op" id="7428335">(</span><span class="ident" id="7428336">c</span><span class="op" id="7428337">.</span><span class="ident" id="7428338">mr</span><span class="op" id="7428340">)</span>&nbsp;<span class="op" id="7428342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428348">t</span><span class="op" id="7428349">.</span><span class="ident" id="7428350">Errorf</span><span class="op" id="7428356">(</span><span class="string" id="7428357">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="7428393">,</span>&nbsp;<span class="ident" id="7428395">c</span><span class="op" id="7428396">.</span><span class="ident" id="7428397">desc</span><span class="op" id="7428401">,</span>&nbsp;<span class="ident" id="7428403">c</span><span class="op" id="7428404">.</span><span class="ident" id="7428405">mr</span><span class="op" id="7428407">,</span>&nbsp;<span class="ident" id="7428409">mr</span><span class="op" id="7428411">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428423">}</span><br>
<span class="lineno"></span><span class="op" id="7428425">}</span>
</div>
</body>
</html>
