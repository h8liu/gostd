<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2705103">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2705159">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2705213">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2705264">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2705342">package</span>&nbsp;<span class="ident" id="2705350">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2705355">import</span>&nbsp;<span class="op" id="2705362">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2705365">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2705376">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="2705383">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2705386">func</span>&nbsp;<span class="ident" id="2705391">sockaddrToUDP</span><span class="op" id="2705404">(</span><span class="ident" id="2705405">sa</span>&nbsp;<span class="ident" id="2705408"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705415">.</span><span class="ident" id="2705416">Sockaddr</span><span class="op" id="2705424">)</span>&nbsp;<span class="ident" id="2705426"><a href="/net/net.go.html#2652238">Addr</a></span>&nbsp;<span class="op" id="2705431">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705434">switch</span>&nbsp;<span class="ident" id="2705441">sa</span>&nbsp;<span class="op" id="2705444">:=</span>&nbsp;<span class="ident" id="2705447"><a href="/net/udpsock_posix.go.html#2705405">sa</a></span><span class="op" id="2705449">.</span><span class="op" id="2705450">(</span><span class="keyword" id="2705451">type</span><span class="op" id="2705455">)</span>&nbsp;<span class="op" id="2705457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705460">case</span>&nbsp;<span class="op" id="2705465">*</span><span class="ident" id="2705466"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705473">.</span><span class="ident" id="2705474">SockaddrInet4</span><span class="op" id="2705487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705491">return</span>&nbsp;<span class="op" id="2705498">&amp;</span><span class="ident" id="2705499"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705506">{</span><span class="ident" id="2705507">IP</span><span class="op" id="2705509">:</span>&nbsp;<span class="ident" id="2705511"><a href="/net/udpsock_posix.go.html#2705441">sa</a></span><span class="op" id="2705513">.</span><span class="ident" id="2705514">Addr</span><span class="op" id="2705518">[</span><span class="num" id="2705519">0</span><span class="op" id="2705520">:</span><span class="op" id="2705521">]</span><span class="op" id="2705522">,</span>&nbsp;<span class="ident" id="2705524">Port</span><span class="op" id="2705528">:</span>&nbsp;<span class="ident" id="2705530"><a href="/net/udpsock_posix.go.html#2705441">sa</a></span><span class="op" id="2705532">.</span><span class="ident" id="2705533">Port</span><span class="op" id="2705537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705540">case</span>&nbsp;<span class="op" id="2705545">*</span><span class="ident" id="2705546"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705553">.</span><span class="ident" id="2705554">SockaddrInet6</span><span class="op" id="2705567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705571">return</span>&nbsp;<span class="op" id="2705578">&amp;</span><span class="ident" id="2705579"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705586">{</span><span class="ident" id="2705587">IP</span><span class="op" id="2705589">:</span>&nbsp;<span class="ident" id="2705591"><a href="/net/udpsock_posix.go.html#2705441">sa</a></span><span class="op" id="2705593">.</span><span class="ident" id="2705594">Addr</span><span class="op" id="2705598">[</span><span class="num" id="2705599">0</span><span class="op" id="2705600">:</span><span class="op" id="2705601">]</span><span class="op" id="2705602">,</span>&nbsp;<span class="ident" id="2705604">Port</span><span class="op" id="2705608">:</span>&nbsp;<span class="ident" id="2705610"><a href="/net/udpsock_posix.go.html#2705441">sa</a></span><span class="op" id="2705612">.</span><span class="ident" id="2705613">Port</span><span class="op" id="2705617">,</span>&nbsp;<span class="ident" id="2705619">Zone</span><span class="op" id="2705623">:</span>&nbsp;<span class="ident" id="2705625"><a href="/net/ipsock.go.html#2635208">zoneToString</a></span><span class="op" id="2705637">(</span><span class="builtintype" id="2705638">int</span><span class="op" id="2705641">(</span><span class="ident" id="2705642"><a href="/net/udpsock_posix.go.html#2705441">sa</a></span><span class="op" id="2705644">.</span><span class="ident" id="2705645">ZoneId</span><span class="op" id="2705651">)</span><span class="op" id="2705652">)</span><span class="op" id="2705653">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2705656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705659">return</span>&nbsp;<span class="ident" id="2705666">nil</span><br>
<span class="lineno"></span><span class="op" id="2705670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2705673">func</span>&nbsp;<span class="op" id="2705678">(</span><span class="ident" id="2705679">a</span>&nbsp;<span class="op" id="2705681">*</span><span class="ident" id="2705682"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705689">)</span>&nbsp;<span class="ident" id="2705691">family</span><span class="op" id="2705697">(</span><span class="op" id="2705698">)</span>&nbsp;<span class="builtintype" id="2705700">int</span>&nbsp;<span class="op" id="2705704">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705707">if</span>&nbsp;<span class="ident" id="2705710"><a href="/net/udpsock_posix.go.html#2705679">a</a></span>&nbsp;<span class="op" id="2705712">==</span>&nbsp;<span class="ident" id="2705715">nil</span>&nbsp;<span class="op" id="2705719">||</span>&nbsp;<span class="builtinfunc" id="2705722">len</span><span class="op" id="2705725">(</span><span class="ident" id="2705726"><a href="/net/udpsock_posix.go.html#2705679">a</a></span><span class="op" id="2705727">.</span><span class="ident" id="2705728">IP</span><span class="op" id="2705730">)</span>&nbsp;<span class="op" id="2705732">&lt;=</span>&nbsp;<span class="ident" id="2705735"><a href="/net/ip.go.html#2603910">IPv4len</a></span>&nbsp;<span class="op" id="2705743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705747">return</span>&nbsp;<span class="ident" id="2705754"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705761">.</span><span class="ident" id="2705762">AF_INET</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2705771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705774">if</span>&nbsp;<span class="ident" id="2705777"><a href="/net/udpsock_posix.go.html#2705679">a</a></span><span class="op" id="2705778">.</span><span class="ident" id="2705779">IP</span><span class="op" id="2705781">.</span><span class="ident" id="2705782">To4</span><span class="op" id="2705785">(</span><span class="op" id="2705786">)</span>&nbsp;<span class="op" id="2705788">!=</span>&nbsp;<span class="ident" id="2705791">nil</span>&nbsp;<span class="op" id="2705795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705799">return</span>&nbsp;<span class="ident" id="2705806"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705813">.</span><span class="ident" id="2705814">AF_INET</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2705823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705826">return</span>&nbsp;<span class="ident" id="2705833"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2705840">.</span><span class="ident" id="2705841">AF_INET6</span><br>
<span class="lineno"></span><span class="op" id="2705850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2705853">func</span>&nbsp;<span class="op" id="2705858">(</span><span class="ident" id="2705859">a</span>&nbsp;<span class="op" id="2705861">*</span><span class="ident" id="2705862"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705869">)</span>&nbsp;<span class="ident" id="2705871">isWildcard</span><span class="op" id="2705881">(</span><span class="op" id="2705882">)</span>&nbsp;<span class="builtintype" id="2705884">bool</span>&nbsp;<span class="op" id="2705889">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705892">if</span>&nbsp;<span class="ident" id="2705895"><a href="/net/udpsock_posix.go.html#2705859">a</a></span>&nbsp;<span class="op" id="2705897">==</span>&nbsp;<span class="ident" id="2705900">nil</span>&nbsp;<span class="op" id="2705904">||</span>&nbsp;<span class="ident" id="2705907"><a href="/net/udpsock_posix.go.html#2705859">a</a></span><span class="op" id="2705908">.</span><span class="ident" id="2705909">IP</span>&nbsp;<span class="op" id="2705912">==</span>&nbsp;<span class="ident" id="2705915">nil</span>&nbsp;<span class="op" id="2705919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705923">return</span>&nbsp;<span class="ident" id="2705930">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2705936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705939">return</span>&nbsp;<span class="ident" id="2705946"><a href="/net/udpsock_posix.go.html#2705859">a</a></span><span class="op" id="2705947">.</span><span class="ident" id="2705948">IP</span><span class="op" id="2705950">.</span><span class="ident" id="2705951">IsUnspecified</span><span class="op" id="2705964">(</span><span class="op" id="2705965">)</span><br>
<span class="lineno"></span><span class="op" id="2705967">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="2705970">func</span>&nbsp;<span class="op" id="2705975">(</span><span class="ident" id="2705976">a</span>&nbsp;<span class="op" id="2705978">*</span><span class="ident" id="2705979"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705986">)</span>&nbsp;<span class="ident" id="2705988">sockaddr</span><span class="op" id="2705996">(</span><span class="ident" id="2705997">family</span>&nbsp;<span class="builtintype" id="2706004">int</span><span class="op" id="2706007">)</span>&nbsp;<span class="op" id="2706009">(</span><span class="ident" id="2706010"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2706017">.</span><span class="ident" id="2706018">Sockaddr</span><span class="op" id="2706026">,</span>&nbsp;<span class="builtintype" id="2706028">error</span><span class="op" id="2706033">)</span>&nbsp;<span class="op" id="2706035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706038">if</span>&nbsp;<span class="ident" id="2706041"><a href="/net/udpsock_posix.go.html#2705976">a</a></span>&nbsp;<span class="op" id="2706043">==</span>&nbsp;<span class="ident" id="2706046">nil</span>&nbsp;<span class="op" id="2706050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706054">return</span>&nbsp;<span class="ident" id="2706061">nil</span><span class="op" id="2706064">,</span>&nbsp;<span class="ident" id="2706066">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2706071">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706074">return</span>&nbsp;<span class="ident" id="2706081"><a href="/net/ipsock_posix.go.html#2640171">ipToSockaddr</a></span><span class="op" id="2706093">(</span><span class="ident" id="2706094"><a href="/net/udpsock_posix.go.html#2705997">family</a></span><span class="op" id="2706100">,</span>&nbsp;<span class="ident" id="2706102"><a href="/net/udpsock_posix.go.html#2705976">a</a></span><span class="op" id="2706103">.</span><span class="ident" id="2706104">IP</span><span class="op" id="2706106">,</span>&nbsp;<span class="ident" id="2706108"><a href="/net/udpsock_posix.go.html#2705976">a</a></span><span class="op" id="2706109">.</span><span class="ident" id="2706110">Port</span><span class="op" id="2706114">,</span>&nbsp;<span class="ident" id="2706116"><a href="/net/udpsock_posix.go.html#2705976">a</a></span><span class="op" id="2706117">.</span><span class="ident" id="2706118">Zone</span><span class="op" id="2706122">)</span><br>
<span class="lineno"></span><span class="op" id="2706124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2706127">//&nbsp;UDPConn&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Conn&nbsp;and&nbsp;PacketConn&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="comment" id="2706198">//&nbsp;for&nbsp;UDP&nbsp;network&nbsp;connections.</span><br>
<span class="lineno">50</span><span class="keyword" id="2706230">type</span>&nbsp;<span class="ident" id="2706235">UDPConn</span>&nbsp;<span class="keyword" id="2706243">struct</span>&nbsp;<span class="op" id="2706250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2706253"><a href="/net/net.go.html#2654243">conn</a></span><br>
<span class="lineno"></span><span class="op" id="2706258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2706261">func</span>&nbsp;<span class="ident" id="2706266">newUDPConn</span><span class="op" id="2706276">(</span><span class="ident" id="2706277">fd</span>&nbsp;<span class="op" id="2706280">*</span><span class="ident" id="2706281"><a href="/net/fd_unix.go.html#2575420">netFD</a></span><span class="op" id="2706286">)</span>&nbsp;<span class="op" id="2706288">*</span><span class="ident" id="2706289"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span>&nbsp;<span class="op" id="2706297">{</span>&nbsp;<span class="keyword" id="2706299">return</span>&nbsp;<span class="op" id="2706306">&amp;</span><span class="ident" id="2706307"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2706314">{</span><span class="ident" id="2706315"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2706319">{</span><span class="ident" id="2706320"><a href="/net/udpsock_posix.go.html#2706277">fd</a></span><span class="op" id="2706322">}</span><span class="op" id="2706323">}</span>&nbsp;<span class="op" id="2706325">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="2706328">//&nbsp;ReadFromUDP&nbsp;reads&nbsp;a&nbsp;UDP&nbsp;packet&nbsp;from&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="2706398">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b&nbsp;and&nbsp;the&nbsp;return&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="2706469">//&nbsp;that&nbsp;was&nbsp;on&nbsp;the&nbsp;packet.</span><br>
<span class="lineno"></span><span class="comment" id="2706496">//</span><br>
<span class="lineno">60</span><span class="comment" id="2706499">//&nbsp;ReadFromUDP&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;an&nbsp;error&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="2706563">//&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2706630">//&nbsp;SetReadDeadline.</span><br>
<span class="lineno"></span><span class="keyword" id="2706650">func</span>&nbsp;<span class="op" id="2706655">(</span><span class="ident" id="2706656">c</span>&nbsp;<span class="op" id="2706658">*</span><span class="ident" id="2706659"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2706666">)</span>&nbsp;<span class="ident" id="2706668">ReadFromUDP</span><span class="op" id="2706679">(</span><span class="ident" id="2706680">b</span>&nbsp;<span class="op" id="2706682">[</span><span class="op" id="2706683">]</span><span class="builtintype" id="2706684">byte</span><span class="op" id="2706688">)</span>&nbsp;<span class="op" id="2706690">(</span><span class="ident" id="2706691">n</span>&nbsp;<span class="builtintype" id="2706693">int</span><span class="op" id="2706696">,</span>&nbsp;<span class="ident" id="2706698">addr</span>&nbsp;<span class="op" id="2706703">*</span><span class="ident" id="2706704"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2706711">,</span>&nbsp;<span class="ident" id="2706713">err</span>&nbsp;<span class="builtintype" id="2706717">error</span><span class="op" id="2706722">)</span>&nbsp;<span class="op" id="2706724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706727">if</span>&nbsp;<span class="op" id="2706730">!</span><span class="ident" id="2706731"><a href="/net/udpsock_posix.go.html#2706656">c</a></span><span class="op" id="2706732">.</span><span class="ident" id="2706733">ok</span><span class="op" id="2706735">(</span><span class="op" id="2706736">)</span>&nbsp;<span class="op" id="2706738">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706742">return</span>&nbsp;<span class="num" id="2706749">0</span><span class="op" id="2706750">,</span>&nbsp;<span class="ident" id="2706752">nil</span><span class="op" id="2706755">,</span>&nbsp;<span class="ident" id="2706757"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2706764">.</span><span class="ident" id="2706765">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2706773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2706776"><a href="/net/udpsock_posix.go.html#2706691">n</a></span><span class="op" id="2706777">,</span>&nbsp;<span class="ident" id="2706779">sa</span><span class="op" id="2706781">,</span>&nbsp;<span class="ident" id="2706783"><a href="/net/udpsock_posix.go.html#2706713">err</a></span>&nbsp;<span class="op" id="2706787">:=</span>&nbsp;<span class="ident" id="2706790"><a href="/net/udpsock_posix.go.html#2706656">c</a></span><span class="op" id="2706791">.</span><span class="ident" id="2706792">fd</span><span class="op" id="2706794">.</span><span class="ident" id="2706795">readFrom</span><span class="op" id="2706803">(</span><span class="ident" id="2706804"><a href="/net/udpsock_posix.go.html#2706680">b</a></span><span class="op" id="2706805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706808">switch</span>&nbsp;<span class="ident" id="2706815">sa</span>&nbsp;<span class="op" id="2706818">:=</span>&nbsp;<span class="ident" id="2706821"><a href="/net/udpsock_posix.go.html#2706779">sa</a></span><span class="op" id="2706823">.</span><span class="op" id="2706824">(</span><span class="keyword" id="2706825">type</span><span class="op" id="2706829">)</span>&nbsp;<span class="op" id="2706831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706834">case</span>&nbsp;<span class="op" id="2706839">*</span><span class="ident" id="2706840"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2706847">.</span><span class="ident" id="2706848">SockaddrInet4</span><span class="op" id="2706861">:</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2706865"><a href="/net/udpsock_posix.go.html#2706698">addr</a></span>&nbsp;<span class="op" id="2706870">=</span>&nbsp;<span class="op" id="2706872">&amp;</span><span class="ident" id="2706873"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2706880">{</span><span class="ident" id="2706881">IP</span><span class="op" id="2706883">:</span>&nbsp;<span class="ident" id="2706885"><a href="/net/udpsock_posix.go.html#2706815">sa</a></span><span class="op" id="2706887">.</span><span class="ident" id="2706888">Addr</span><span class="op" id="2706892">[</span><span class="num" id="2706893">0</span><span class="op" id="2706894">:</span><span class="op" id="2706895">]</span><span class="op" id="2706896">,</span>&nbsp;<span class="ident" id="2706898">Port</span><span class="op" id="2706902">:</span>&nbsp;<span class="ident" id="2706904"><a href="/net/udpsock_posix.go.html#2706815">sa</a></span><span class="op" id="2706906">.</span><span class="ident" id="2706907">Port</span><span class="op" id="2706911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2706914">case</span>&nbsp;<span class="op" id="2706919">*</span><span class="ident" id="2706920"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2706927">.</span><span class="ident" id="2706928">SockaddrInet6</span><span class="op" id="2706941">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2706945"><a href="/net/udpsock_posix.go.html#2706698">addr</a></span>&nbsp;<span class="op" id="2706950">=</span>&nbsp;<span class="op" id="2706952">&amp;</span><span class="ident" id="2706953"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2706960">{</span><span class="ident" id="2706961">IP</span><span class="op" id="2706963">:</span>&nbsp;<span class="ident" id="2706965"><a href="/net/udpsock_posix.go.html#2706815">sa</a></span><span class="op" id="2706967">.</span><span class="ident" id="2706968">Addr</span><span class="op" id="2706972">[</span><span class="num" id="2706973">0</span><span class="op" id="2706974">:</span><span class="op" id="2706975">]</span><span class="op" id="2706976">,</span>&nbsp;<span class="ident" id="2706978">Port</span><span class="op" id="2706982">:</span>&nbsp;<span class="ident" id="2706984"><a href="/net/udpsock_posix.go.html#2706815">sa</a></span><span class="op" id="2706986">.</span><span class="ident" id="2706987">Port</span><span class="op" id="2706991">,</span>&nbsp;<span class="ident" id="2706993">Zone</span><span class="op" id="2706997">:</span>&nbsp;<span class="ident" id="2706999"><a href="/net/ipsock.go.html#2635208">zoneToString</a></span><span class="op" id="2707011">(</span><span class="builtintype" id="2707012">int</span><span class="op" id="2707015">(</span><span class="ident" id="2707016"><a href="/net/udpsock_posix.go.html#2706815">sa</a></span><span class="op" id="2707018">.</span><span class="ident" id="2707019">ZoneId</span><span class="op" id="2707025">)</span><span class="op" id="2707026">)</span><span class="op" id="2707027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2707030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707033">return</span><br>
<span class="lineno">75</span><span class="op" id="2707040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2707043">//&nbsp;ReadFrom&nbsp;implements&nbsp;the&nbsp;PacketConn&nbsp;ReadFrom&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2707098">func</span>&nbsp;<span class="op" id="2707103">(</span><span class="ident" id="2707104">c</span>&nbsp;<span class="op" id="2707106">*</span><span class="ident" id="2707107"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2707114">)</span>&nbsp;<span class="ident" id="2707116">ReadFrom</span><span class="op" id="2707124">(</span><span class="ident" id="2707125">b</span>&nbsp;<span class="op" id="2707127">[</span><span class="op" id="2707128">]</span><span class="builtintype" id="2707129">byte</span><span class="op" id="2707133">)</span>&nbsp;<span class="op" id="2707135">(</span><span class="builtintype" id="2707136">int</span><span class="op" id="2707139">,</span>&nbsp;<span class="ident" id="2707141"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="2707145">,</span>&nbsp;<span class="builtintype" id="2707147">error</span><span class="op" id="2707152">)</span>&nbsp;<span class="op" id="2707154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707157">if</span>&nbsp;<span class="op" id="2707160">!</span><span class="ident" id="2707161"><a href="/net/udpsock_posix.go.html#2707104">c</a></span><span class="op" id="2707162">.</span><span class="ident" id="2707163">ok</span><span class="op" id="2707165">(</span><span class="op" id="2707166">)</span>&nbsp;<span class="op" id="2707168">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707172">return</span>&nbsp;<span class="num" id="2707179">0</span><span class="op" id="2707180">,</span>&nbsp;<span class="ident" id="2707182">nil</span><span class="op" id="2707185">,</span>&nbsp;<span class="ident" id="2707187"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2707194">.</span><span class="ident" id="2707195">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2707203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2707206">n</span><span class="op" id="2707207">,</span>&nbsp;<span class="ident" id="2707209">addr</span><span class="op" id="2707213">,</span>&nbsp;<span class="ident" id="2707215">err</span>&nbsp;<span class="op" id="2707219">:=</span>&nbsp;<span class="ident" id="2707222"><a href="/net/udpsock_posix.go.html#2707104">c</a></span><span class="op" id="2707223">.</span><span class="ident" id="2707224">ReadFromUDP</span><span class="op" id="2707235">(</span><span class="ident" id="2707236"><a href="/net/udpsock_posix.go.html#2707125">b</a></span><span class="op" id="2707237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707240">return</span>&nbsp;<span class="ident" id="2707247"><a href="/net/udpsock_posix.go.html#2707206">n</a></span><span class="op" id="2707248">,</span>&nbsp;<span class="ident" id="2707250"><a href="/net/udpsock_posix.go.html#2707209">addr</a></span><span class="op" id="2707254">.</span><span class="ident" id="2707255">toAddr</span><span class="op" id="2707261">(</span><span class="op" id="2707262">)</span><span class="op" id="2707263">,</span>&nbsp;<span class="ident" id="2707265"><a href="/net/udpsock_posix.go.html#2707215">err</a></span><br>
<span class="lineno"></span><span class="op" id="2707269">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="2707272">//&nbsp;ReadMsgUDP&nbsp;reads&nbsp;a&nbsp;packet&nbsp;from&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2707340">//&nbsp;the&nbsp;associated&nbsp;out-of-band&nbsp;data&nbsp;into&nbsp;oob.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="2707408">//&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;oob,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2707476">//&nbsp;flags&nbsp;that&nbsp;were&nbsp;set&nbsp;on&nbsp;the&nbsp;packet&nbsp;and&nbsp;the&nbsp;source&nbsp;address&nbsp;of&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="2707543">//&nbsp;packet.</span><br>
<span class="lineno"></span><span class="keyword" id="2707554">func</span>&nbsp;<span class="op" id="2707559">(</span><span class="ident" id="2707560">c</span>&nbsp;<span class="op" id="2707562">*</span><span class="ident" id="2707563"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2707570">)</span>&nbsp;<span class="ident" id="2707572">ReadMsgUDP</span><span class="op" id="2707582">(</span><span class="ident" id="2707583">b</span><span class="op" id="2707584">,</span>&nbsp;<span class="ident" id="2707586">oob</span>&nbsp;<span class="op" id="2707590">[</span><span class="op" id="2707591">]</span><span class="builtintype" id="2707592">byte</span><span class="op" id="2707596">)</span>&nbsp;<span class="op" id="2707598">(</span><span class="ident" id="2707599">n</span><span class="op" id="2707600">,</span>&nbsp;<span class="ident" id="2707602">oobn</span><span class="op" id="2707606">,</span>&nbsp;<span class="ident" id="2707608">flags</span>&nbsp;<span class="builtintype" id="2707614">int</span><span class="op" id="2707617">,</span>&nbsp;<span class="ident" id="2707619">addr</span>&nbsp;<span class="op" id="2707624">*</span><span class="ident" id="2707625"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2707632">,</span>&nbsp;<span class="ident" id="2707634">err</span>&nbsp;<span class="builtintype" id="2707638">error</span><span class="op" id="2707643">)</span>&nbsp;<span class="op" id="2707645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707648">if</span>&nbsp;<span class="op" id="2707651">!</span><span class="ident" id="2707652"><a href="/net/udpsock_posix.go.html#2707560">c</a></span><span class="op" id="2707653">.</span><span class="ident" id="2707654">ok</span><span class="op" id="2707656">(</span><span class="op" id="2707657">)</span>&nbsp;<span class="op" id="2707659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707663">return</span>&nbsp;<span class="num" id="2707670">0</span><span class="op" id="2707671">,</span>&nbsp;<span class="num" id="2707673">0</span><span class="op" id="2707674">,</span>&nbsp;<span class="num" id="2707676">0</span><span class="op" id="2707677">,</span>&nbsp;<span class="ident" id="2707679">nil</span><span class="op" id="2707682">,</span>&nbsp;<span class="ident" id="2707684"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2707691">.</span><span class="ident" id="2707692">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2707700">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707703">var</span>&nbsp;<span class="ident" id="2707707">sa</span>&nbsp;<span class="ident" id="2707710"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2707717">.</span><span class="ident" id="2707718">Sockaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2707728"><a href="/net/udpsock_posix.go.html#2707599">n</a></span><span class="op" id="2707729">,</span>&nbsp;<span class="ident" id="2707731"><a href="/net/udpsock_posix.go.html#2707602">oobn</a></span><span class="op" id="2707735">,</span>&nbsp;<span class="ident" id="2707737"><a href="/net/udpsock_posix.go.html#2707608">flags</a></span><span class="op" id="2707742">,</span>&nbsp;<span class="ident" id="2707744"><a href="/net/udpsock_posix.go.html#2707707">sa</a></span><span class="op" id="2707746">,</span>&nbsp;<span class="ident" id="2707748"><a href="/net/udpsock_posix.go.html#2707634">err</a></span>&nbsp;<span class="op" id="2707752">=</span>&nbsp;<span class="ident" id="2707754"><a href="/net/udpsock_posix.go.html#2707560">c</a></span><span class="op" id="2707755">.</span><span class="ident" id="2707756">fd</span><span class="op" id="2707758">.</span><span class="ident" id="2707759">readMsg</span><span class="op" id="2707766">(</span><span class="ident" id="2707767"><a href="/net/udpsock_posix.go.html#2707583">b</a></span><span class="op" id="2707768">,</span>&nbsp;<span class="ident" id="2707770"><a href="/net/udpsock_posix.go.html#2707586">oob</a></span><span class="op" id="2707773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707776">switch</span>&nbsp;<span class="ident" id="2707783">sa</span>&nbsp;<span class="op" id="2707786">:=</span>&nbsp;<span class="ident" id="2707789"><a href="/net/udpsock_posix.go.html#2707707">sa</a></span><span class="op" id="2707791">.</span><span class="op" id="2707792">(</span><span class="keyword" id="2707793">type</span><span class="op" id="2707797">)</span>&nbsp;<span class="op" id="2707799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707802">case</span>&nbsp;<span class="op" id="2707807">*</span><span class="ident" id="2707808"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2707815">.</span><span class="ident" id="2707816">SockaddrInet4</span><span class="op" id="2707829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2707833"><a href="/net/udpsock_posix.go.html#2707619">addr</a></span>&nbsp;<span class="op" id="2707838">=</span>&nbsp;<span class="op" id="2707840">&amp;</span><span class="ident" id="2707841"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2707848">{</span><span class="ident" id="2707849">IP</span><span class="op" id="2707851">:</span>&nbsp;<span class="ident" id="2707853"><a href="/net/udpsock_posix.go.html#2707783">sa</a></span><span class="op" id="2707855">.</span><span class="ident" id="2707856">Addr</span><span class="op" id="2707860">[</span><span class="num" id="2707861">0</span><span class="op" id="2707862">:</span><span class="op" id="2707863">]</span><span class="op" id="2707864">,</span>&nbsp;<span class="ident" id="2707866">Port</span><span class="op" id="2707870">:</span>&nbsp;<span class="ident" id="2707872"><a href="/net/udpsock_posix.go.html#2707783">sa</a></span><span class="op" id="2707874">.</span><span class="ident" id="2707875">Port</span><span class="op" id="2707879">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2707882">case</span>&nbsp;<span class="op" id="2707887">*</span><span class="ident" id="2707888"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2707895">.</span><span class="ident" id="2707896">SockaddrInet6</span><span class="op" id="2707909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2707913"><a href="/net/udpsock_posix.go.html#2707619">addr</a></span>&nbsp;<span class="op" id="2707918">=</span>&nbsp;<span class="op" id="2707920">&amp;</span><span class="ident" id="2707921"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2707928">{</span><span class="ident" id="2707929">IP</span><span class="op" id="2707931">:</span>&nbsp;<span class="ident" id="2707933"><a href="/net/udpsock_posix.go.html#2707783">sa</a></span><span class="op" id="2707935">.</span><span class="ident" id="2707936">Addr</span><span class="op" id="2707940">[</span><span class="num" id="2707941">0</span><span class="op" id="2707942">:</span><span class="op" id="2707943">]</span><span class="op" id="2707944">,</span>&nbsp;<span class="ident" id="2707946">Port</span><span class="op" id="2707950">:</span>&nbsp;<span class="ident" id="2707952"><a href="/net/udpsock_posix.go.html#2707783">sa</a></span><span class="op" id="2707954">.</span><span class="ident" id="2707955">Port</span><span class="op" id="2707959">,</span>&nbsp;<span class="ident" id="2707961">Zone</span><span class="op" id="2707965">:</span>&nbsp;<span class="ident" id="2707967"><a href="/net/ipsock.go.html#2635208">zoneToString</a></span><span class="op" id="2707979">(</span><span class="builtintype" id="2707980">int</span><span class="op" id="2707983">(</span><span class="ident" id="2707984"><a href="/net/udpsock_posix.go.html#2707783">sa</a></span><span class="op" id="2707986">.</span><span class="ident" id="2707987">ZoneId</span><span class="op" id="2707993">)</span><span class="op" id="2707994">)</span><span class="op" id="2707995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2707998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708001">return</span><br>
<span class="lineno"></span><span class="op" id="2708008">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="2708011">//&nbsp;WriteToUDP&nbsp;writes&nbsp;a&nbsp;UDP&nbsp;packet&nbsp;to&nbsp;addr&nbsp;via&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload</span><br>
<span class="lineno"></span><span class="comment" id="2708080">//&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="2708091">//</span><br>
<span class="lineno"></span><span class="comment" id="2708094">//&nbsp;WriteToUDP&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;an&nbsp;error&nbsp;with</span><br>
<span class="lineno">110</span><span class="comment" id="2708157">//&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2708224">//&nbsp;SetWriteDeadline.&nbsp;&nbsp;On&nbsp;packet-oriented&nbsp;connections,&nbsp;write&nbsp;timeouts</span><br>
<span class="lineno"></span><span class="comment" id="2708293">//&nbsp;are&nbsp;rare.</span><br>
<span class="lineno"></span><span class="keyword" id="2708306">func</span>&nbsp;<span class="op" id="2708311">(</span><span class="ident" id="2708312">c</span>&nbsp;<span class="op" id="2708314">*</span><span class="ident" id="2708315"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2708322">)</span>&nbsp;<span class="ident" id="2708324">WriteToUDP</span><span class="op" id="2708334">(</span><span class="ident" id="2708335">b</span>&nbsp;<span class="op" id="2708337">[</span><span class="op" id="2708338">]</span><span class="builtintype" id="2708339">byte</span><span class="op" id="2708343">,</span>&nbsp;<span class="ident" id="2708345">addr</span>&nbsp;<span class="op" id="2708350">*</span><span class="ident" id="2708351"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2708358">)</span>&nbsp;<span class="op" id="2708360">(</span><span class="builtintype" id="2708361">int</span><span class="op" id="2708364">,</span>&nbsp;<span class="builtintype" id="2708366">error</span><span class="op" id="2708371">)</span>&nbsp;<span class="op" id="2708373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708376">if</span>&nbsp;<span class="op" id="2708379">!</span><span class="ident" id="2708380"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708381">.</span><span class="ident" id="2708382">ok</span><span class="op" id="2708384">(</span><span class="op" id="2708385">)</span>&nbsp;<span class="op" id="2708387">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708391">return</span>&nbsp;<span class="num" id="2708398">0</span><span class="op" id="2708399">,</span>&nbsp;<span class="ident" id="2708401"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2708408">.</span><span class="ident" id="2708409">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2708417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708420">if</span>&nbsp;<span class="ident" id="2708423"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708424">.</span><span class="ident" id="2708425">fd</span><span class="op" id="2708427">.</span><span class="ident" id="2708428">isConnected</span>&nbsp;<span class="op" id="2708440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708444">return</span>&nbsp;<span class="num" id="2708451">0</span><span class="op" id="2708452">,</span>&nbsp;<span class="op" id="2708454">&amp;</span><span class="ident" id="2708455"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2708462">{</span><span class="string" id="2708463">&#34;write&#34;</span><span class="op" id="2708470">,</span>&nbsp;<span class="ident" id="2708472"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708473">.</span><span class="ident" id="2708474">fd</span><span class="op" id="2708476">.</span><span class="ident" id="2708477">net</span><span class="op" id="2708480">,</span>&nbsp;<span class="ident" id="2708482"><a href="/net/udpsock_posix.go.html#2708345">addr</a></span><span class="op" id="2708486">,</span>&nbsp;<span class="ident" id="2708488"><a href="/net/net.go.html#2659374">ErrWriteToConnected</a></span><span class="op" id="2708507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2708510">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708513">if</span>&nbsp;<span class="ident" id="2708516"><a href="/net/udpsock_posix.go.html#2708345">addr</a></span>&nbsp;<span class="op" id="2708521">==</span>&nbsp;<span class="ident" id="2708524">nil</span>&nbsp;<span class="op" id="2708528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708532">return</span>&nbsp;<span class="num" id="2708539">0</span><span class="op" id="2708540">,</span>&nbsp;<span class="op" id="2708542">&amp;</span><span class="ident" id="2708543"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2708550">{</span><span class="ident" id="2708551">Op</span><span class="op" id="2708553">:</span>&nbsp;<span class="string" id="2708555">&#34;write&#34;</span><span class="op" id="2708562">,</span>&nbsp;<span class="ident" id="2708564">Net</span><span class="op" id="2708567">:</span>&nbsp;<span class="ident" id="2708569"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708570">.</span><span class="ident" id="2708571">fd</span><span class="op" id="2708573">.</span><span class="ident" id="2708574">net</span><span class="op" id="2708577">,</span>&nbsp;<span class="ident" id="2708579">Addr</span><span class="op" id="2708583">:</span>&nbsp;<span class="ident" id="2708585">nil</span><span class="op" id="2708588">,</span>&nbsp;<span class="ident" id="2708590">Err</span><span class="op" id="2708593">:</span>&nbsp;<span class="ident" id="2708595"><a href="/net/net.go.html#2659161">errMissingAddress</a></span><span class="op" id="2708612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2708615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2708618">sa</span><span class="op" id="2708620">,</span>&nbsp;<span class="ident" id="2708622">err</span>&nbsp;<span class="op" id="2708626">:=</span>&nbsp;<span class="ident" id="2708629"><a href="/net/udpsock_posix.go.html#2708345">addr</a></span><span class="op" id="2708633">.</span><span class="ident" id="2708634">sockaddr</span><span class="op" id="2708642">(</span><span class="ident" id="2708643"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708644">.</span><span class="ident" id="2708645">fd</span><span class="op" id="2708647">.</span><span class="ident" id="2708648">family</span><span class="op" id="2708654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708657">if</span>&nbsp;<span class="ident" id="2708660"><a href="/net/udpsock_posix.go.html#2708622">err</a></span>&nbsp;<span class="op" id="2708664">!=</span>&nbsp;<span class="ident" id="2708667">nil</span>&nbsp;<span class="op" id="2708671">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708675">return</span>&nbsp;<span class="num" id="2708682">0</span><span class="op" id="2708683">,</span>&nbsp;<span class="op" id="2708685">&amp;</span><span class="ident" id="2708686"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2708693">{</span><span class="string" id="2708694">&#34;write&#34;</span><span class="op" id="2708701">,</span>&nbsp;<span class="ident" id="2708703"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708704">.</span><span class="ident" id="2708705">fd</span><span class="op" id="2708707">.</span><span class="ident" id="2708708">net</span><span class="op" id="2708711">,</span>&nbsp;<span class="ident" id="2708713"><a href="/net/udpsock_posix.go.html#2708345">addr</a></span><span class="op" id="2708717">,</span>&nbsp;<span class="ident" id="2708719"><a href="/net/udpsock_posix.go.html#2708622">err</a></span><span class="op" id="2708722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2708725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708728">return</span>&nbsp;<span class="ident" id="2708735"><a href="/net/udpsock_posix.go.html#2708312">c</a></span><span class="op" id="2708736">.</span><span class="ident" id="2708737">fd</span><span class="op" id="2708739">.</span><span class="ident" id="2708740">writeTo</span><span class="op" id="2708747">(</span><span class="ident" id="2708748"><a href="/net/udpsock_posix.go.html#2708335">b</a></span><span class="op" id="2708749">,</span>&nbsp;<span class="ident" id="2708751"><a href="/net/udpsock_posix.go.html#2708618">sa</a></span><span class="op" id="2708753">)</span><br>
<span class="lineno"></span><span class="op" id="2708755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="2708758">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;PacketConn&nbsp;WriteTo&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2708811">func</span>&nbsp;<span class="op" id="2708816">(</span><span class="ident" id="2708817">c</span>&nbsp;<span class="op" id="2708819">*</span><span class="ident" id="2708820"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2708827">)</span>&nbsp;<span class="ident" id="2708829">WriteTo</span><span class="op" id="2708836">(</span><span class="ident" id="2708837">b</span>&nbsp;<span class="op" id="2708839">[</span><span class="op" id="2708840">]</span><span class="builtintype" id="2708841">byte</span><span class="op" id="2708845">,</span>&nbsp;<span class="ident" id="2708847">addr</span>&nbsp;<span class="ident" id="2708852"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="2708856">)</span>&nbsp;<span class="op" id="2708858">(</span><span class="builtintype" id="2708859">int</span><span class="op" id="2708862">,</span>&nbsp;<span class="builtintype" id="2708864">error</span><span class="op" id="2708869">)</span>&nbsp;<span class="op" id="2708871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708874">if</span>&nbsp;<span class="op" id="2708877">!</span><span class="ident" id="2708878"><a href="/net/udpsock_posix.go.html#2708817">c</a></span><span class="op" id="2708879">.</span><span class="ident" id="2708880">ok</span><span class="op" id="2708882">(</span><span class="op" id="2708883">)</span>&nbsp;<span class="op" id="2708885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708889">return</span>&nbsp;<span class="num" id="2708896">0</span><span class="op" id="2708897">,</span>&nbsp;<span class="ident" id="2708899"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2708906">.</span><span class="ident" id="2708907">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2708915">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2708918">a</span><span class="op" id="2708919">,</span>&nbsp;<span class="ident" id="2708921">ok</span>&nbsp;<span class="op" id="2708924">:=</span>&nbsp;<span class="ident" id="2708927"><a href="/net/udpsock_posix.go.html#2708847">addr</a></span><span class="op" id="2708931">.</span><span class="op" id="2708932">(</span><span class="op" id="2708933">*</span><span class="ident" id="2708934"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2708941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708944">if</span>&nbsp;<span class="op" id="2708947">!</span><span class="ident" id="2708948"><a href="/net/udpsock_posix.go.html#2708921">ok</a></span>&nbsp;<span class="op" id="2708951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2708955">return</span>&nbsp;<span class="num" id="2708962">0</span><span class="op" id="2708963">,</span>&nbsp;<span class="op" id="2708965">&amp;</span><span class="ident" id="2708966"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2708973">{</span><span class="string" id="2708974">&#34;write&#34;</span><span class="op" id="2708981">,</span>&nbsp;<span class="ident" id="2708983"><a href="/net/udpsock_posix.go.html#2708817">c</a></span><span class="op" id="2708984">.</span><span class="ident" id="2708985">fd</span><span class="op" id="2708987">.</span><span class="ident" id="2708988">net</span><span class="op" id="2708991">,</span>&nbsp;<span class="ident" id="2708993"><a href="/net/udpsock_posix.go.html#2708847">addr</a></span><span class="op" id="2708997">,</span>&nbsp;<span class="ident" id="2708999"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2709006">.</span><span class="ident" id="2709007">EINVAL</span><span class="op" id="2709013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2709016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709019">return</span>&nbsp;<span class="ident" id="2709026"><a href="/net/udpsock_posix.go.html#2708817">c</a></span><span class="op" id="2709027">.</span><span class="ident" id="2709028">WriteToUDP</span><span class="op" id="2709038">(</span><span class="ident" id="2709039"><a href="/net/udpsock_posix.go.html#2708837">b</a></span><span class="op" id="2709040">,</span>&nbsp;<span class="ident" id="2709042"><a href="/net/udpsock_posix.go.html#2708918">a</a></span><span class="op" id="2709043">)</span><br>
<span class="lineno">140</span><span class="op" id="2709045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2709048">//&nbsp;WriteMsgUDP&nbsp;writes&nbsp;a&nbsp;packet&nbsp;to&nbsp;addr&nbsp;via&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="2709119">//&nbsp;b&nbsp;and&nbsp;the&nbsp;associated&nbsp;out-of-band&nbsp;data&nbsp;from&nbsp;oob.&nbsp;&nbsp;It&nbsp;returns&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2709186">//&nbsp;number&nbsp;of&nbsp;payload&nbsp;and&nbsp;out-of-band&nbsp;bytes&nbsp;written.</span><br>
<span class="lineno">145</span><span class="keyword" id="2709238">func</span>&nbsp;<span class="op" id="2709243">(</span><span class="ident" id="2709244">c</span>&nbsp;<span class="op" id="2709246">*</span><span class="ident" id="2709247"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2709254">)</span>&nbsp;<span class="ident" id="2709256">WriteMsgUDP</span><span class="op" id="2709267">(</span><span class="ident" id="2709268">b</span><span class="op" id="2709269">,</span>&nbsp;<span class="ident" id="2709271">oob</span>&nbsp;<span class="op" id="2709275">[</span><span class="op" id="2709276">]</span><span class="builtintype" id="2709277">byte</span><span class="op" id="2709281">,</span>&nbsp;<span class="ident" id="2709283">addr</span>&nbsp;<span class="op" id="2709288">*</span><span class="ident" id="2709289"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2709296">)</span>&nbsp;<span class="op" id="2709298">(</span><span class="ident" id="2709299">n</span><span class="op" id="2709300">,</span>&nbsp;<span class="ident" id="2709302">oobn</span>&nbsp;<span class="builtintype" id="2709307">int</span><span class="op" id="2709310">,</span>&nbsp;<span class="ident" id="2709312">err</span>&nbsp;<span class="builtintype" id="2709316">error</span><span class="op" id="2709321">)</span>&nbsp;<span class="op" id="2709323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709326">if</span>&nbsp;<span class="op" id="2709329">!</span><span class="ident" id="2709330"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709331">.</span><span class="ident" id="2709332">ok</span><span class="op" id="2709334">(</span><span class="op" id="2709335">)</span>&nbsp;<span class="op" id="2709337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709341">return</span>&nbsp;<span class="num" id="2709348">0</span><span class="op" id="2709349">,</span>&nbsp;<span class="num" id="2709351">0</span><span class="op" id="2709352">,</span>&nbsp;<span class="ident" id="2709354"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2709361">.</span><span class="ident" id="2709362">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2709370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709373">if</span>&nbsp;<span class="ident" id="2709376"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709377">.</span><span class="ident" id="2709378">fd</span><span class="op" id="2709380">.</span><span class="ident" id="2709381">isConnected</span>&nbsp;<span class="op" id="2709393">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709397">return</span>&nbsp;<span class="num" id="2709404">0</span><span class="op" id="2709405">,</span>&nbsp;<span class="num" id="2709407">0</span><span class="op" id="2709408">,</span>&nbsp;<span class="op" id="2709410">&amp;</span><span class="ident" id="2709411"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2709418">{</span><span class="string" id="2709419">&#34;write&#34;</span><span class="op" id="2709426">,</span>&nbsp;<span class="ident" id="2709428"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709429">.</span><span class="ident" id="2709430">fd</span><span class="op" id="2709432">.</span><span class="ident" id="2709433">net</span><span class="op" id="2709436">,</span>&nbsp;<span class="ident" id="2709438"><a href="/net/udpsock_posix.go.html#2709283">addr</a></span><span class="op" id="2709442">,</span>&nbsp;<span class="ident" id="2709444"><a href="/net/net.go.html#2659374">ErrWriteToConnected</a></span><span class="op" id="2709463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2709466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709469">if</span>&nbsp;<span class="ident" id="2709472"><a href="/net/udpsock_posix.go.html#2709283">addr</a></span>&nbsp;<span class="op" id="2709477">==</span>&nbsp;<span class="ident" id="2709480">nil</span>&nbsp;<span class="op" id="2709484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709488">return</span>&nbsp;<span class="num" id="2709495">0</span><span class="op" id="2709496">,</span>&nbsp;<span class="num" id="2709498">0</span><span class="op" id="2709499">,</span>&nbsp;<span class="op" id="2709501">&amp;</span><span class="ident" id="2709502"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2709509">{</span><span class="ident" id="2709510">Op</span><span class="op" id="2709512">:</span>&nbsp;<span class="string" id="2709514">&#34;write&#34;</span><span class="op" id="2709521">,</span>&nbsp;<span class="ident" id="2709523">Net</span><span class="op" id="2709526">:</span>&nbsp;<span class="ident" id="2709528"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709529">.</span><span class="ident" id="2709530">fd</span><span class="op" id="2709532">.</span><span class="ident" id="2709533">net</span><span class="op" id="2709536">,</span>&nbsp;<span class="ident" id="2709538">Addr</span><span class="op" id="2709542">:</span>&nbsp;<span class="ident" id="2709544">nil</span><span class="op" id="2709547">,</span>&nbsp;<span class="ident" id="2709549">Err</span><span class="op" id="2709552">:</span>&nbsp;<span class="ident" id="2709554"><a href="/net/net.go.html#2659161">errMissingAddress</a></span><span class="op" id="2709571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2709574">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2709577">sa</span><span class="op" id="2709579">,</span>&nbsp;<span class="ident" id="2709581"><a href="/net/udpsock_posix.go.html#2709312">err</a></span>&nbsp;<span class="op" id="2709585">:=</span>&nbsp;<span class="ident" id="2709588"><a href="/net/udpsock_posix.go.html#2709283">addr</a></span><span class="op" id="2709592">.</span><span class="ident" id="2709593">sockaddr</span><span class="op" id="2709601">(</span><span class="ident" id="2709602"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709603">.</span><span class="ident" id="2709604">fd</span><span class="op" id="2709606">.</span><span class="ident" id="2709607">family</span><span class="op" id="2709613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709616">if</span>&nbsp;<span class="ident" id="2709619"><a href="/net/udpsock_posix.go.html#2709312">err</a></span>&nbsp;<span class="op" id="2709623">!=</span>&nbsp;<span class="ident" id="2709626">nil</span>&nbsp;<span class="op" id="2709630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709634">return</span>&nbsp;<span class="num" id="2709641">0</span><span class="op" id="2709642">,</span>&nbsp;<span class="num" id="2709644">0</span><span class="op" id="2709645">,</span>&nbsp;<span class="op" id="2709647">&amp;</span><span class="ident" id="2709648"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2709655">{</span><span class="string" id="2709656">&#34;write&#34;</span><span class="op" id="2709663">,</span>&nbsp;<span class="ident" id="2709665"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709666">.</span><span class="ident" id="2709667">fd</span><span class="op" id="2709669">.</span><span class="ident" id="2709670">net</span><span class="op" id="2709673">,</span>&nbsp;<span class="ident" id="2709675"><a href="/net/udpsock_posix.go.html#2709283">addr</a></span><span class="op" id="2709679">,</span>&nbsp;<span class="ident" id="2709681"><a href="/net/udpsock_posix.go.html#2709312">err</a></span><span class="op" id="2709684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2709687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709690">return</span>&nbsp;<span class="ident" id="2709697"><a href="/net/udpsock_posix.go.html#2709244">c</a></span><span class="op" id="2709698">.</span><span class="ident" id="2709699">fd</span><span class="op" id="2709701">.</span><span class="ident" id="2709702">writeMsg</span><span class="op" id="2709710">(</span><span class="ident" id="2709711"><a href="/net/udpsock_posix.go.html#2709268">b</a></span><span class="op" id="2709712">,</span>&nbsp;<span class="ident" id="2709714"><a href="/net/udpsock_posix.go.html#2709271">oob</a></span><span class="op" id="2709717">,</span>&nbsp;<span class="ident" id="2709719"><a href="/net/udpsock_posix.go.html#2709577">sa</a></span><span class="op" id="2709721">)</span><br>
<span class="lineno">160</span><span class="op" id="2709723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2709726">//&nbsp;DialUDP&nbsp;connects&nbsp;to&nbsp;the&nbsp;remote&nbsp;address&nbsp;raddr&nbsp;on&nbsp;the&nbsp;network&nbsp;net,</span><br>
<span class="lineno"></span><span class="comment" id="2709794">//&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;,&nbsp;or&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;If&nbsp;laddr&nbsp;is&nbsp;not&nbsp;nil,&nbsp;it&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2709865">//&nbsp;used&nbsp;as&nbsp;the&nbsp;local&nbsp;address&nbsp;for&nbsp;the&nbsp;connection.</span><br>
<span class="lineno">165</span><span class="keyword" id="2709914">func</span>&nbsp;<span class="ident" id="2709919">DialUDP</span><span class="op" id="2709926">(</span><span class="ident" id="2709927">net</span>&nbsp;<span class="builtintype" id="2709931">string</span><span class="op" id="2709937">,</span>&nbsp;<span class="ident" id="2709939">laddr</span><span class="op" id="2709944">,</span>&nbsp;<span class="ident" id="2709946">raddr</span>&nbsp;<span class="op" id="2709952">*</span><span class="ident" id="2709953"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2709960">)</span>&nbsp;<span class="op" id="2709962">(</span><span class="op" id="2709963">*</span><span class="ident" id="2709964"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2709971">,</span>&nbsp;<span class="builtintype" id="2709973">error</span><span class="op" id="2709978">)</span>&nbsp;<span class="op" id="2709980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709983">switch</span>&nbsp;<span class="ident" id="2709990"><a href="/net/udpsock_posix.go.html#2709927">net</a></span>&nbsp;<span class="op" id="2709994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2709997">case</span>&nbsp;<span class="string" id="2710002">&#34;udp&#34;</span><span class="op" id="2710007">,</span>&nbsp;<span class="string" id="2710009">&#34;udp4&#34;</span><span class="op" id="2710015">,</span>&nbsp;<span class="string" id="2710017">&#34;udp6&#34;</span><span class="op" id="2710023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710026">default</span><span class="op" id="2710033">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710037">return</span>&nbsp;<span class="ident" id="2710044">nil</span><span class="op" id="2710047">,</span>&nbsp;<span class="op" id="2710049">&amp;</span><span class="ident" id="2710050"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2710057">{</span><span class="ident" id="2710058">Op</span><span class="op" id="2710060">:</span>&nbsp;<span class="string" id="2710062">&#34;dial&#34;</span><span class="op" id="2710068">,</span>&nbsp;<span class="ident" id="2710070">Net</span><span class="op" id="2710073">:</span>&nbsp;<span class="ident" id="2710075"><a href="/net/udpsock_posix.go.html#2709927">net</a></span><span class="op" id="2710078">,</span>&nbsp;<span class="ident" id="2710080">Addr</span><span class="op" id="2710084">:</span>&nbsp;<span class="ident" id="2710086"><a href="/net/udpsock_posix.go.html#2709946">raddr</a></span><span class="op" id="2710091">,</span>&nbsp;<span class="ident" id="2710093">Err</span><span class="op" id="2710096">:</span>&nbsp;<span class="ident" id="2710098"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2710117">(</span><span class="ident" id="2710118"><a href="/net/udpsock_posix.go.html#2709927">net</a></span><span class="op" id="2710121">)</span><span class="op" id="2710122">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2710125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710128">if</span>&nbsp;<span class="ident" id="2710131"><a href="/net/udpsock_posix.go.html#2709946">raddr</a></span>&nbsp;<span class="op" id="2710137">==</span>&nbsp;<span class="ident" id="2710140">nil</span>&nbsp;<span class="op" id="2710144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710148">return</span>&nbsp;<span class="ident" id="2710155">nil</span><span class="op" id="2710158">,</span>&nbsp;<span class="op" id="2710160">&amp;</span><span class="ident" id="2710161"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2710168">{</span><span class="ident" id="2710169">Op</span><span class="op" id="2710171">:</span>&nbsp;<span class="string" id="2710173">&#34;dial&#34;</span><span class="op" id="2710179">,</span>&nbsp;<span class="ident" id="2710181">Net</span><span class="op" id="2710184">:</span>&nbsp;<span class="ident" id="2710186"><a href="/net/udpsock_posix.go.html#2709927">net</a></span><span class="op" id="2710189">,</span>&nbsp;<span class="ident" id="2710191">Addr</span><span class="op" id="2710195">:</span>&nbsp;<span class="ident" id="2710197">nil</span><span class="op" id="2710200">,</span>&nbsp;<span class="ident" id="2710202">Err</span><span class="op" id="2710205">:</span>&nbsp;<span class="ident" id="2710207"><a href="/net/net.go.html#2659161">errMissingAddress</a></span><span class="op" id="2710224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2710227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710230">return</span>&nbsp;<span class="ident" id="2710237"><a href="/net/udpsock_posix.go.html#2710284">dialUDP</a></span><span class="op" id="2710244">(</span><span class="ident" id="2710245"><a href="/net/udpsock_posix.go.html#2709927">net</a></span><span class="op" id="2710248">,</span>&nbsp;<span class="ident" id="2710250"><a href="/net/udpsock_posix.go.html#2709939">laddr</a></span><span class="op" id="2710255">,</span>&nbsp;<span class="ident" id="2710257"><a href="/net/udpsock_posix.go.html#2709946">raddr</a></span><span class="op" id="2710262">,</span>&nbsp;<span class="ident" id="2710264"><a href="/net/net.go.html#2660335">noDeadline</a></span><span class="op" id="2710274">)</span><br>
<span class="lineno">175</span><span class="op" id="2710276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2710279">func</span>&nbsp;<span class="ident" id="2710284">dialUDP</span><span class="op" id="2710291">(</span><span class="ident" id="2710292">net</span>&nbsp;<span class="builtintype" id="2710296">string</span><span class="op" id="2710302">,</span>&nbsp;<span class="ident" id="2710304">laddr</span><span class="op" id="2710309">,</span>&nbsp;<span class="ident" id="2710311">raddr</span>&nbsp;<span class="op" id="2710317">*</span><span class="ident" id="2710318"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2710325">,</span>&nbsp;<span class="ident" id="2710327">deadline</span>&nbsp;<span class="ident" id="2710336"><a href="/net/udpsock_posix.go.html#2705376">time</a></span><span class="op" id="2710340">.</span><span class="ident" id="2710341">Time</span><span class="op" id="2710345">)</span>&nbsp;<span class="op" id="2710347">(</span><span class="op" id="2710348">*</span><span class="ident" id="2710349"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2710356">,</span>&nbsp;<span class="builtintype" id="2710358">error</span><span class="op" id="2710363">)</span>&nbsp;<span class="op" id="2710365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2710368">fd</span><span class="op" id="2710370">,</span>&nbsp;<span class="ident" id="2710372">err</span>&nbsp;<span class="op" id="2710376">:=</span>&nbsp;<span class="ident" id="2710379"><a href="/net/ipsock_posix.go.html#2639894">internetSocket</a></span><span class="op" id="2710393">(</span><span class="ident" id="2710394"><a href="/net/udpsock_posix.go.html#2710292">net</a></span><span class="op" id="2710397">,</span>&nbsp;<span class="ident" id="2710399"><a href="/net/udpsock_posix.go.html#2710304">laddr</a></span><span class="op" id="2710404">,</span>&nbsp;<span class="ident" id="2710406"><a href="/net/udpsock_posix.go.html#2710311">raddr</a></span><span class="op" id="2710411">,</span>&nbsp;<span class="ident" id="2710413"><a href="/net/udpsock_posix.go.html#2710327">deadline</a></span><span class="op" id="2710421">,</span>&nbsp;<span class="ident" id="2710423"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2710430">.</span><span class="ident" id="2710431">SOCK_DGRAM</span><span class="op" id="2710441">,</span>&nbsp;<span class="num" id="2710443">0</span><span class="op" id="2710444">,</span>&nbsp;<span class="string" id="2710446">&#34;dial&#34;</span><span class="op" id="2710452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710455">if</span>&nbsp;<span class="ident" id="2710458"><a href="/net/udpsock_posix.go.html#2710372">err</a></span>&nbsp;<span class="op" id="2710462">!=</span>&nbsp;<span class="ident" id="2710465">nil</span>&nbsp;<span class="op" id="2710469">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710473">return</span>&nbsp;<span class="ident" id="2710480">nil</span><span class="op" id="2710483">,</span>&nbsp;<span class="op" id="2710485">&amp;</span><span class="ident" id="2710486"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2710493">{</span><span class="ident" id="2710494">Op</span><span class="op" id="2710496">:</span>&nbsp;<span class="string" id="2710498">&#34;dial&#34;</span><span class="op" id="2710504">,</span>&nbsp;<span class="ident" id="2710506">Net</span><span class="op" id="2710509">:</span>&nbsp;<span class="ident" id="2710511"><a href="/net/udpsock_posix.go.html#2710292">net</a></span><span class="op" id="2710514">,</span>&nbsp;<span class="ident" id="2710516">Addr</span><span class="op" id="2710520">:</span>&nbsp;<span class="ident" id="2710522"><a href="/net/udpsock_posix.go.html#2710311">raddr</a></span><span class="op" id="2710527">,</span>&nbsp;<span class="ident" id="2710529">Err</span><span class="op" id="2710532">:</span>&nbsp;<span class="ident" id="2710534"><a href="/net/udpsock_posix.go.html#2710372">err</a></span><span class="op" id="2710537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2710540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2710543">return</span>&nbsp;<span class="ident" id="2710550"><a href="/net/udpsock_posix.go.html#2706266">newUDPConn</a></span><span class="op" id="2710560">(</span><span class="ident" id="2710561"><a href="/net/udpsock_posix.go.html#2710368">fd</a></span><span class="op" id="2710563">)</span><span class="op" id="2710564">,</span>&nbsp;<span class="ident" id="2710566">nil</span><br>
<span class="lineno"></span><span class="op" id="2710570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="2710573">//&nbsp;ListenUDP&nbsp;listens&nbsp;for&nbsp;incoming&nbsp;UDP&nbsp;packets&nbsp;addressed&nbsp;to&nbsp;the&nbsp;local</span><br>
<span class="lineno"></span><span class="comment" id="2710642">//&nbsp;address&nbsp;laddr.&nbsp;&nbsp;Net&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;,&nbsp;or&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;If&nbsp;laddr&nbsp;has</span><br>
<span class="lineno"></span><span class="comment" id="2710713">//&nbsp;a&nbsp;port&nbsp;of&nbsp;0,&nbsp;ListenUDP&nbsp;will&nbsp;choose&nbsp;an&nbsp;available&nbsp;port.</span><br>
<span class="lineno"></span><span class="comment" id="2710770">//&nbsp;The&nbsp;LocalAddr&nbsp;method&nbsp;of&nbsp;the&nbsp;returned&nbsp;UDPConn&nbsp;can&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2710833">//&nbsp;discover&nbsp;the&nbsp;port.&nbsp;&nbsp;The&nbsp;returned&nbsp;connection&#39;s&nbsp;ReadFrom&nbsp;and&nbsp;WriteTo</span><br>
<span class="lineno">190</span><span class="comment" id="2710903">//&nbsp;methods&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;receive&nbsp;and&nbsp;send&nbsp;UDP&nbsp;packets&nbsp;with&nbsp;per-packet</span><br>
<span class="lineno"></span><span class="comment" id="2710974">//&nbsp;addressing.</span><br>
<span class="lineno"></span><span class="keyword" id="2710989">func</span>&nbsp;<span class="ident" id="2710994">ListenUDP</span><span class="op" id="2711003">(</span><span class="ident" id="2711004">net</span>&nbsp;<span class="builtintype" id="2711008">string</span><span class="op" id="2711014">,</span>&nbsp;<span class="ident" id="2711016">laddr</span>&nbsp;<span class="op" id="2711022">*</span><span class="ident" id="2711023"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2711030">)</span>&nbsp;<span class="op" id="2711032">(</span><span class="op" id="2711033">*</span><span class="ident" id="2711034"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2711041">,</span>&nbsp;<span class="builtintype" id="2711043">error</span><span class="op" id="2711048">)</span>&nbsp;<span class="op" id="2711050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711053">switch</span>&nbsp;<span class="ident" id="2711060"><a href="/net/udpsock_posix.go.html#2711004">net</a></span>&nbsp;<span class="op" id="2711064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711067">case</span>&nbsp;<span class="string" id="2711072">&#34;udp&#34;</span><span class="op" id="2711077">,</span>&nbsp;<span class="string" id="2711079">&#34;udp4&#34;</span><span class="op" id="2711085">,</span>&nbsp;<span class="string" id="2711087">&#34;udp6&#34;</span><span class="op" id="2711093">:</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711096">default</span><span class="op" id="2711103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711107">return</span>&nbsp;<span class="ident" id="2711114">nil</span><span class="op" id="2711117">,</span>&nbsp;<span class="op" id="2711119">&amp;</span><span class="ident" id="2711120"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2711127">{</span><span class="ident" id="2711128">Op</span><span class="op" id="2711130">:</span>&nbsp;<span class="string" id="2711132">&#34;listen&#34;</span><span class="op" id="2711140">,</span>&nbsp;<span class="ident" id="2711142">Net</span><span class="op" id="2711145">:</span>&nbsp;<span class="ident" id="2711147"><a href="/net/udpsock_posix.go.html#2711004">net</a></span><span class="op" id="2711150">,</span>&nbsp;<span class="ident" id="2711152">Addr</span><span class="op" id="2711156">:</span>&nbsp;<span class="ident" id="2711158"><a href="/net/udpsock_posix.go.html#2711016">laddr</a></span><span class="op" id="2711163">,</span>&nbsp;<span class="ident" id="2711165">Err</span><span class="op" id="2711168">:</span>&nbsp;<span class="ident" id="2711170"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2711189">(</span><span class="ident" id="2711190"><a href="/net/udpsock_posix.go.html#2711004">net</a></span><span class="op" id="2711193">)</span><span class="op" id="2711194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2711197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711200">if</span>&nbsp;<span class="ident" id="2711203"><a href="/net/udpsock_posix.go.html#2711016">laddr</a></span>&nbsp;<span class="op" id="2711209">==</span>&nbsp;<span class="ident" id="2711212">nil</span>&nbsp;<span class="op" id="2711216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2711220"><a href="/net/udpsock_posix.go.html#2711016">laddr</a></span>&nbsp;<span class="op" id="2711226">=</span>&nbsp;<span class="op" id="2711228">&amp;</span><span class="ident" id="2711229"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2711236">{</span><span class="op" id="2711237">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2711240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2711243">fd</span><span class="op" id="2711245">,</span>&nbsp;<span class="ident" id="2711247">err</span>&nbsp;<span class="op" id="2711251">:=</span>&nbsp;<span class="ident" id="2711254"><a href="/net/ipsock_posix.go.html#2639894">internetSocket</a></span><span class="op" id="2711268">(</span><span class="ident" id="2711269"><a href="/net/udpsock_posix.go.html#2711004">net</a></span><span class="op" id="2711272">,</span>&nbsp;<span class="ident" id="2711274"><a href="/net/udpsock_posix.go.html#2711016">laddr</a></span><span class="op" id="2711279">,</span>&nbsp;<span class="ident" id="2711281">nil</span><span class="op" id="2711284">,</span>&nbsp;<span class="ident" id="2711286"><a href="/net/net.go.html#2660335">noDeadline</a></span><span class="op" id="2711296">,</span>&nbsp;<span class="ident" id="2711298"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2711305">.</span><span class="ident" id="2711306">SOCK_DGRAM</span><span class="op" id="2711316">,</span>&nbsp;<span class="num" id="2711318">0</span><span class="op" id="2711319">,</span>&nbsp;<span class="string" id="2711321">&#34;listen&#34;</span><span class="op" id="2711329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711332">if</span>&nbsp;<span class="ident" id="2711335"><a href="/net/udpsock_posix.go.html#2711247">err</a></span>&nbsp;<span class="op" id="2711339">!=</span>&nbsp;<span class="ident" id="2711342">nil</span>&nbsp;<span class="op" id="2711346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711350">return</span>&nbsp;<span class="ident" id="2711357">nil</span><span class="op" id="2711360">,</span>&nbsp;<span class="op" id="2711362">&amp;</span><span class="ident" id="2711363"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2711370">{</span><span class="ident" id="2711371">Op</span><span class="op" id="2711373">:</span>&nbsp;<span class="string" id="2711375">&#34;listen&#34;</span><span class="op" id="2711383">,</span>&nbsp;<span class="ident" id="2711385">Net</span><span class="op" id="2711388">:</span>&nbsp;<span class="ident" id="2711390"><a href="/net/udpsock_posix.go.html#2711004">net</a></span><span class="op" id="2711393">,</span>&nbsp;<span class="ident" id="2711395">Addr</span><span class="op" id="2711399">:</span>&nbsp;<span class="ident" id="2711401"><a href="/net/udpsock_posix.go.html#2711016">laddr</a></span><span class="op" id="2711406">,</span>&nbsp;<span class="ident" id="2711408">Err</span><span class="op" id="2711411">:</span>&nbsp;<span class="ident" id="2711413"><a href="/net/udpsock_posix.go.html#2711247">err</a></span><span class="op" id="2711416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2711419">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711422">return</span>&nbsp;<span class="ident" id="2711429"><a href="/net/udpsock_posix.go.html#2706266">newUDPConn</a></span><span class="op" id="2711439">(</span><span class="ident" id="2711440"><a href="/net/udpsock_posix.go.html#2711243">fd</a></span><span class="op" id="2711442">)</span><span class="op" id="2711443">,</span>&nbsp;<span class="ident" id="2711445">nil</span><br>
<span class="lineno"></span><span class="op" id="2711449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2711452">//&nbsp;ListenMulticastUDP&nbsp;listens&nbsp;for&nbsp;incoming&nbsp;multicast&nbsp;UDP&nbsp;packets</span><br>
<span class="lineno"></span><span class="comment" id="2711517">//&nbsp;addressed&nbsp;to&nbsp;the&nbsp;group&nbsp;address&nbsp;gaddr&nbsp;on&nbsp;ifi,&nbsp;which&nbsp;specifies&nbsp;the</span><br>
<span class="lineno">210</span><span class="comment" id="2711585">//&nbsp;interface&nbsp;to&nbsp;join.&nbsp;&nbsp;ListenMulticastUDP&nbsp;uses&nbsp;default&nbsp;multicast</span><br>
<span class="lineno"></span><span class="comment" id="2711650">//&nbsp;interface&nbsp;if&nbsp;ifi&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2711678">func</span>&nbsp;<span class="ident" id="2711683">ListenMulticastUDP</span><span class="op" id="2711701">(</span><span class="ident" id="2711702">net</span>&nbsp;<span class="builtintype" id="2711706">string</span><span class="op" id="2711712">,</span>&nbsp;<span class="ident" id="2711714">ifi</span>&nbsp;<span class="op" id="2711718">*</span><span class="ident" id="2711719"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="2711728">,</span>&nbsp;<span class="ident" id="2711730">gaddr</span>&nbsp;<span class="op" id="2711736">*</span><span class="ident" id="2711737"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2711744">)</span>&nbsp;<span class="op" id="2711746">(</span><span class="op" id="2711747">*</span><span class="ident" id="2711748"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2711755">,</span>&nbsp;<span class="builtintype" id="2711757">error</span><span class="op" id="2711762">)</span>&nbsp;<span class="op" id="2711764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711767">switch</span>&nbsp;<span class="ident" id="2711774"><a href="/net/udpsock_posix.go.html#2711702">net</a></span>&nbsp;<span class="op" id="2711778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711781">case</span>&nbsp;<span class="string" id="2711786">&#34;udp&#34;</span><span class="op" id="2711791">,</span>&nbsp;<span class="string" id="2711793">&#34;udp4&#34;</span><span class="op" id="2711799">,</span>&nbsp;<span class="string" id="2711801">&#34;udp6&#34;</span><span class="op" id="2711807">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711810">default</span><span class="op" id="2711817">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711821">return</span>&nbsp;<span class="ident" id="2711828">nil</span><span class="op" id="2711831">,</span>&nbsp;<span class="op" id="2711833">&amp;</span><span class="ident" id="2711834"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2711841">{</span><span class="ident" id="2711842">Op</span><span class="op" id="2711844">:</span>&nbsp;<span class="string" id="2711846">&#34;listen&#34;</span><span class="op" id="2711854">,</span>&nbsp;<span class="ident" id="2711856">Net</span><span class="op" id="2711859">:</span>&nbsp;<span class="ident" id="2711861"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2711864">,</span>&nbsp;<span class="ident" id="2711866">Addr</span><span class="op" id="2711870">:</span>&nbsp;<span class="ident" id="2711872"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2711877">,</span>&nbsp;<span class="ident" id="2711879">Err</span><span class="op" id="2711882">:</span>&nbsp;<span class="ident" id="2711884"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2711903">(</span><span class="ident" id="2711904"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2711907">)</span><span class="op" id="2711908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2711911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711914">if</span>&nbsp;<span class="ident" id="2711917"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span>&nbsp;<span class="op" id="2711923">==</span>&nbsp;<span class="ident" id="2711926">nil</span>&nbsp;<span class="op" id="2711930">||</span>&nbsp;<span class="ident" id="2711933"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2711938">.</span><span class="ident" id="2711939">IP</span>&nbsp;<span class="op" id="2711942">==</span>&nbsp;<span class="ident" id="2711945">nil</span>&nbsp;<span class="op" id="2711949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2711953">return</span>&nbsp;<span class="ident" id="2711960">nil</span><span class="op" id="2711963">,</span>&nbsp;<span class="op" id="2711965">&amp;</span><span class="ident" id="2711966"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2711973">{</span><span class="ident" id="2711974">Op</span><span class="op" id="2711976">:</span>&nbsp;<span class="string" id="2711978">&#34;listen&#34;</span><span class="op" id="2711986">,</span>&nbsp;<span class="ident" id="2711988">Net</span><span class="op" id="2711991">:</span>&nbsp;<span class="ident" id="2711993"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2711996">,</span>&nbsp;<span class="ident" id="2711998">Addr</span><span class="op" id="2712002">:</span>&nbsp;<span class="ident" id="2712004">nil</span><span class="op" id="2712007">,</span>&nbsp;<span class="ident" id="2712009">Err</span><span class="op" id="2712012">:</span>&nbsp;<span class="ident" id="2712014"><a href="/net/net.go.html#2659161">errMissingAddress</a></span><span class="op" id="2712031">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2712037">fd</span><span class="op" id="2712039">,</span>&nbsp;<span class="ident" id="2712041">err</span>&nbsp;<span class="op" id="2712045">:=</span>&nbsp;<span class="ident" id="2712048"><a href="/net/ipsock_posix.go.html#2639894">internetSocket</a></span><span class="op" id="2712062">(</span><span class="ident" id="2712063"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2712066">,</span>&nbsp;<span class="ident" id="2712068"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2712073">,</span>&nbsp;<span class="ident" id="2712075">nil</span><span class="op" id="2712078">,</span>&nbsp;<span class="ident" id="2712080"><a href="/net/net.go.html#2660335">noDeadline</a></span><span class="op" id="2712090">,</span>&nbsp;<span class="ident" id="2712092"><a href="/net/udpsock_posix.go.html#2705365">syscall</a></span><span class="op" id="2712099">.</span><span class="ident" id="2712100">SOCK_DGRAM</span><span class="op" id="2712110">,</span>&nbsp;<span class="num" id="2712112">0</span><span class="op" id="2712113">,</span>&nbsp;<span class="string" id="2712115">&#34;listen&#34;</span><span class="op" id="2712123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712126">if</span>&nbsp;<span class="ident" id="2712129"><a href="/net/udpsock_posix.go.html#2712041">err</a></span>&nbsp;<span class="op" id="2712133">!=</span>&nbsp;<span class="ident" id="2712136">nil</span>&nbsp;<span class="op" id="2712140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712144">return</span>&nbsp;<span class="ident" id="2712151">nil</span><span class="op" id="2712154">,</span>&nbsp;<span class="op" id="2712156">&amp;</span><span class="ident" id="2712157"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2712164">{</span><span class="ident" id="2712165">Op</span><span class="op" id="2712167">:</span>&nbsp;<span class="string" id="2712169">&#34;listen&#34;</span><span class="op" id="2712177">,</span>&nbsp;<span class="ident" id="2712179">Net</span><span class="op" id="2712182">:</span>&nbsp;<span class="ident" id="2712184"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2712187">,</span>&nbsp;<span class="ident" id="2712189">Addr</span><span class="op" id="2712193">:</span>&nbsp;<span class="ident" id="2712195"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2712200">,</span>&nbsp;<span class="ident" id="2712202">Err</span><span class="op" id="2712205">:</span>&nbsp;<span class="ident" id="2712207"><a href="/net/udpsock_posix.go.html#2712041">err</a></span><span class="op" id="2712210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712213">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2712216">c</span>&nbsp;<span class="op" id="2712218">:=</span>&nbsp;<span class="ident" id="2712221"><a href="/net/udpsock_posix.go.html#2706266">newUDPConn</a></span><span class="op" id="2712231">(</span><span class="ident" id="2712232"><a href="/net/udpsock_posix.go.html#2712037">fd</a></span><span class="op" id="2712234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712237">if</span>&nbsp;<span class="ident" id="2712240">ip4</span>&nbsp;<span class="op" id="2712244">:=</span>&nbsp;<span class="ident" id="2712247"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2712252">.</span><span class="ident" id="2712253">IP</span><span class="op" id="2712255">.</span><span class="ident" id="2712256">To4</span><span class="op" id="2712259">(</span><span class="op" id="2712260">)</span><span class="op" id="2712261">;</span>&nbsp;<span class="ident" id="2712263"><a href="/net/udpsock_posix.go.html#2712240">ip4</a></span>&nbsp;<span class="op" id="2712267">!=</span>&nbsp;<span class="ident" id="2712270">nil</span>&nbsp;<span class="op" id="2712274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712278">if</span>&nbsp;<span class="ident" id="2712281">err</span>&nbsp;<span class="op" id="2712285">:=</span>&nbsp;<span class="ident" id="2712288"><a href="/net/udpsock_posix.go.html#2712644">listenIPv4MulticastUDP</a></span><span class="op" id="2712310">(</span><span class="ident" id="2712311"><a href="/net/udpsock_posix.go.html#2712216">c</a></span><span class="op" id="2712312">,</span>&nbsp;<span class="ident" id="2712314"><a href="/net/udpsock_posix.go.html#2711714">ifi</a></span><span class="op" id="2712317">,</span>&nbsp;<span class="ident" id="2712319"><a href="/net/udpsock_posix.go.html#2712240">ip4</a></span><span class="op" id="2712322">)</span><span class="op" id="2712323">;</span>&nbsp;<span class="ident" id="2712325"><a href="/net/udpsock_posix.go.html#2712281">err</a></span>&nbsp;<span class="op" id="2712329">!=</span>&nbsp;<span class="ident" id="2712332">nil</span>&nbsp;<span class="op" id="2712336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2712341"><a href="/net/udpsock_posix.go.html#2712216">c</a></span><span class="op" id="2712342">.</span><span class="ident" id="2712343">Close</span><span class="op" id="2712348">(</span><span class="op" id="2712349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712354">return</span>&nbsp;<span class="ident" id="2712361">nil</span><span class="op" id="2712364">,</span>&nbsp;<span class="op" id="2712366">&amp;</span><span class="ident" id="2712367"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2712374">{</span><span class="ident" id="2712375">Op</span><span class="op" id="2712377">:</span>&nbsp;<span class="string" id="2712379">&#34;listen&#34;</span><span class="op" id="2712387">,</span>&nbsp;<span class="ident" id="2712389">Net</span><span class="op" id="2712392">:</span>&nbsp;<span class="ident" id="2712394"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2712397">,</span>&nbsp;<span class="ident" id="2712399">Addr</span><span class="op" id="2712403">:</span>&nbsp;<span class="op" id="2712405">&amp;</span><span class="ident" id="2712406"><a href="/net/iprawsock.go.html#2619177">IPAddr</a></span><span class="op" id="2712412">{</span><span class="ident" id="2712413">IP</span><span class="op" id="2712415">:</span>&nbsp;<span class="ident" id="2712417"><a href="/net/udpsock_posix.go.html#2712240">ip4</a></span><span class="op" id="2712420">}</span><span class="op" id="2712421">,</span>&nbsp;<span class="ident" id="2712423">Err</span><span class="op" id="2712426">:</span>&nbsp;<span class="ident" id="2712428"><a href="/net/udpsock_posix.go.html#2712281">err</a></span><span class="op" id="2712431">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712438">}</span>&nbsp;<span class="keyword" id="2712440">else</span>&nbsp;<span class="op" id="2712445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712449">if</span>&nbsp;<span class="ident" id="2712452">err</span>&nbsp;<span class="op" id="2712456">:=</span>&nbsp;<span class="ident" id="2712459"><a href="/net/udpsock_posix.go.html#2712980">listenIPv6MulticastUDP</a></span><span class="op" id="2712481">(</span><span class="ident" id="2712482"><a href="/net/udpsock_posix.go.html#2712216">c</a></span><span class="op" id="2712483">,</span>&nbsp;<span class="ident" id="2712485"><a href="/net/udpsock_posix.go.html#2711714">ifi</a></span><span class="op" id="2712488">,</span>&nbsp;<span class="ident" id="2712490"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2712495">.</span><span class="ident" id="2712496">IP</span><span class="op" id="2712498">)</span><span class="op" id="2712499">;</span>&nbsp;<span class="ident" id="2712501"><a href="/net/udpsock_posix.go.html#2712452">err</a></span>&nbsp;<span class="op" id="2712505">!=</span>&nbsp;<span class="ident" id="2712508">nil</span>&nbsp;<span class="op" id="2712512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2712517"><a href="/net/udpsock_posix.go.html#2712216">c</a></span><span class="op" id="2712518">.</span><span class="ident" id="2712519">Close</span><span class="op" id="2712524">(</span><span class="op" id="2712525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712530">return</span>&nbsp;<span class="ident" id="2712537">nil</span><span class="op" id="2712540">,</span>&nbsp;<span class="op" id="2712542">&amp;</span><span class="ident" id="2712543"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2712550">{</span><span class="ident" id="2712551">Op</span><span class="op" id="2712553">:</span>&nbsp;<span class="string" id="2712555">&#34;listen&#34;</span><span class="op" id="2712563">,</span>&nbsp;<span class="ident" id="2712565">Net</span><span class="op" id="2712568">:</span>&nbsp;<span class="ident" id="2712570"><a href="/net/udpsock_posix.go.html#2711702">net</a></span><span class="op" id="2712573">,</span>&nbsp;<span class="ident" id="2712575">Addr</span><span class="op" id="2712579">:</span>&nbsp;<span class="op" id="2712581">&amp;</span><span class="ident" id="2712582"><a href="/net/iprawsock.go.html#2619177">IPAddr</a></span><span class="op" id="2712588">{</span><span class="ident" id="2712589">IP</span><span class="op" id="2712591">:</span>&nbsp;<span class="ident" id="2712593"><a href="/net/udpsock_posix.go.html#2711730">gaddr</a></span><span class="op" id="2712598">.</span><span class="ident" id="2712599">IP</span><span class="op" id="2712601">}</span><span class="op" id="2712602">,</span>&nbsp;<span class="ident" id="2712604">Err</span><span class="op" id="2712607">:</span>&nbsp;<span class="ident" id="2712609"><a href="/net/udpsock_posix.go.html#2712452">err</a></span><span class="op" id="2712612">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712622">return</span>&nbsp;<span class="ident" id="2712629"><a href="/net/udpsock_posix.go.html#2712216">c</a></span><span class="op" id="2712630">,</span>&nbsp;<span class="ident" id="2712632">nil</span><br>
<span class="lineno"></span><span class="op" id="2712636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="2712639">func</span>&nbsp;<span class="ident" id="2712644">listenIPv4MulticastUDP</span><span class="op" id="2712666">(</span><span class="ident" id="2712667">c</span>&nbsp;<span class="op" id="2712669">*</span><span class="ident" id="2712670"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2712677">,</span>&nbsp;<span class="ident" id="2712679">ifi</span>&nbsp;<span class="op" id="2712683">*</span><span class="ident" id="2712684"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="2712693">,</span>&nbsp;<span class="ident" id="2712695">ip</span>&nbsp;<span class="ident" id="2712698"><a href="/net/ip.go.html#2604330">IP</a></span><span class="op" id="2712700">)</span>&nbsp;<span class="builtintype" id="2712702">error</span>&nbsp;<span class="op" id="2712708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712711">if</span>&nbsp;<span class="ident" id="2712714"><a href="/net/udpsock_posix.go.html#2712679">ifi</a></span>&nbsp;<span class="op" id="2712718">!=</span>&nbsp;<span class="ident" id="2712721">nil</span>&nbsp;<span class="op" id="2712725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712729">if</span>&nbsp;<span class="ident" id="2712732">err</span>&nbsp;<span class="op" id="2712736">:=</span>&nbsp;<span class="ident" id="2712739"><a href="/net/sockoptip_linux.go.html#2689023">setIPv4MulticastInterface</a></span><span class="op" id="2712764">(</span><span class="ident" id="2712765"><a href="/net/udpsock_posix.go.html#2712667">c</a></span><span class="op" id="2712766">.</span><span class="ident" id="2712767">fd</span><span class="op" id="2712769">,</span>&nbsp;<span class="ident" id="2712771"><a href="/net/udpsock_posix.go.html#2712679">ifi</a></span><span class="op" id="2712774">)</span><span class="op" id="2712775">;</span>&nbsp;<span class="ident" id="2712777"><a href="/net/udpsock_posix.go.html#2712732">err</a></span>&nbsp;<span class="op" id="2712781">!=</span>&nbsp;<span class="ident" id="2712784">nil</span>&nbsp;<span class="op" id="2712788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712793">return</span>&nbsp;<span class="ident" id="2712800"><a href="/net/udpsock_posix.go.html#2712732">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712806">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712812">if</span>&nbsp;<span class="ident" id="2712815">err</span>&nbsp;<span class="op" id="2712819">:=</span>&nbsp;<span class="ident" id="2712822"><a href="/net/sockoptip_linux.go.html#2689387">setIPv4MulticastLoopback</a></span><span class="op" id="2712846">(</span><span class="ident" id="2712847"><a href="/net/udpsock_posix.go.html#2712667">c</a></span><span class="op" id="2712848">.</span><span class="ident" id="2712849">fd</span><span class="op" id="2712851">,</span>&nbsp;<span class="ident" id="2712853">false</span><span class="op" id="2712858">)</span><span class="op" id="2712859">;</span>&nbsp;<span class="ident" id="2712861"><a href="/net/udpsock_posix.go.html#2712815">err</a></span>&nbsp;<span class="op" id="2712865">!=</span>&nbsp;<span class="ident" id="2712868">nil</span>&nbsp;<span class="op" id="2712872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712876">return</span>&nbsp;<span class="ident" id="2712883"><a href="/net/udpsock_posix.go.html#2712815">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712891">if</span>&nbsp;<span class="ident" id="2712894">err</span>&nbsp;<span class="op" id="2712898">:=</span>&nbsp;<span class="ident" id="2712901"><a href="/net/sockoptip_posix.go.html#2689920">joinIPv4Group</a></span><span class="op" id="2712914">(</span><span class="ident" id="2712915"><a href="/net/udpsock_posix.go.html#2712667">c</a></span><span class="op" id="2712916">.</span><span class="ident" id="2712917">fd</span><span class="op" id="2712919">,</span>&nbsp;<span class="ident" id="2712921"><a href="/net/udpsock_posix.go.html#2712679">ifi</a></span><span class="op" id="2712924">,</span>&nbsp;<span class="ident" id="2712926"><a href="/net/udpsock_posix.go.html#2712695">ip</a></span><span class="op" id="2712928">)</span><span class="op" id="2712929">;</span>&nbsp;<span class="ident" id="2712931"><a href="/net/udpsock_posix.go.html#2712894">err</a></span>&nbsp;<span class="op" id="2712935">!=</span>&nbsp;<span class="ident" id="2712938">nil</span>&nbsp;<span class="op" id="2712942">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712946">return</span>&nbsp;<span class="ident" id="2712953"><a href="/net/udpsock_posix.go.html#2712894">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2712958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2712961">return</span>&nbsp;<span class="ident" id="2712968">nil</span><br>
<span class="lineno"></span><span class="op" id="2712972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="2712975">func</span>&nbsp;<span class="ident" id="2712980">listenIPv6MulticastUDP</span><span class="op" id="2713002">(</span><span class="ident" id="2713003">c</span>&nbsp;<span class="op" id="2713005">*</span><span class="ident" id="2713006"><a href="/net/udpsock_posix.go.html#2706235">UDPConn</a></span><span class="op" id="2713013">,</span>&nbsp;<span class="ident" id="2713015">ifi</span>&nbsp;<span class="op" id="2713019">*</span><span class="ident" id="2713020"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="2713029">,</span>&nbsp;<span class="ident" id="2713031">ip</span>&nbsp;<span class="ident" id="2713034"><a href="/net/ip.go.html#2604330">IP</a></span><span class="op" id="2713036">)</span>&nbsp;<span class="builtintype" id="2713038">error</span>&nbsp;<span class="op" id="2713044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713047">if</span>&nbsp;<span class="ident" id="2713050"><a href="/net/udpsock_posix.go.html#2713015">ifi</a></span>&nbsp;<span class="op" id="2713054">!=</span>&nbsp;<span class="ident" id="2713057">nil</span>&nbsp;<span class="op" id="2713061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713065">if</span>&nbsp;<span class="ident" id="2713068">err</span>&nbsp;<span class="op" id="2713072">:=</span>&nbsp;<span class="ident" id="2713075"><a href="/net/sockoptip_posix.go.html#2690334">setIPv6MulticastInterface</a></span><span class="op" id="2713100">(</span><span class="ident" id="2713101"><a href="/net/udpsock_posix.go.html#2713003">c</a></span><span class="op" id="2713102">.</span><span class="ident" id="2713103">fd</span><span class="op" id="2713105">,</span>&nbsp;<span class="ident" id="2713107"><a href="/net/udpsock_posix.go.html#2713015">ifi</a></span><span class="op" id="2713110">)</span><span class="op" id="2713111">;</span>&nbsp;<span class="ident" id="2713113"><a href="/net/udpsock_posix.go.html#2713068">err</a></span>&nbsp;<span class="op" id="2713117">!=</span>&nbsp;<span class="ident" id="2713120">nil</span>&nbsp;<span class="op" id="2713124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713129">return</span>&nbsp;<span class="ident" id="2713136"><a href="/net/udpsock_posix.go.html#2713068">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2713142">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2713145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713148">if</span>&nbsp;<span class="ident" id="2713151">err</span>&nbsp;<span class="op" id="2713155">:=</span>&nbsp;<span class="ident" id="2713158"><a href="/net/sockoptip_posix.go.html#2690648">setIPv6MulticastLoopback</a></span><span class="op" id="2713182">(</span><span class="ident" id="2713183"><a href="/net/udpsock_posix.go.html#2713003">c</a></span><span class="op" id="2713184">.</span><span class="ident" id="2713185">fd</span><span class="op" id="2713187">,</span>&nbsp;<span class="ident" id="2713189">false</span><span class="op" id="2713194">)</span><span class="op" id="2713195">;</span>&nbsp;<span class="ident" id="2713197"><a href="/net/udpsock_posix.go.html#2713151">err</a></span>&nbsp;<span class="op" id="2713201">!=</span>&nbsp;<span class="ident" id="2713204">nil</span>&nbsp;<span class="op" id="2713208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713212">return</span>&nbsp;<span class="ident" id="2713219"><a href="/net/udpsock_posix.go.html#2713151">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2713224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713227">if</span>&nbsp;<span class="ident" id="2713230">err</span>&nbsp;<span class="op" id="2713234">:=</span>&nbsp;<span class="ident" id="2713237"><a href="/net/sockoptip_posix.go.html#2690917">joinIPv6Group</a></span><span class="op" id="2713250">(</span><span class="ident" id="2713251"><a href="/net/udpsock_posix.go.html#2713003">c</a></span><span class="op" id="2713252">.</span><span class="ident" id="2713253">fd</span><span class="op" id="2713255">,</span>&nbsp;<span class="ident" id="2713257"><a href="/net/udpsock_posix.go.html#2713015">ifi</a></span><span class="op" id="2713260">,</span>&nbsp;<span class="ident" id="2713262"><a href="/net/udpsock_posix.go.html#2713031">ip</a></span><span class="op" id="2713264">)</span><span class="op" id="2713265">;</span>&nbsp;<span class="ident" id="2713267"><a href="/net/udpsock_posix.go.html#2713230">err</a></span>&nbsp;<span class="op" id="2713271">!=</span>&nbsp;<span class="ident" id="2713274">nil</span>&nbsp;<span class="op" id="2713278">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713282">return</span>&nbsp;<span class="ident" id="2713289"><a href="/net/udpsock_posix.go.html#2713230">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2713294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2713297">return</span>&nbsp;<span class="ident" id="2713304">nil</span><br>
<span class="lineno"></span><span class="op" id="2713308">}</span>
</div>
</body>
</html>
