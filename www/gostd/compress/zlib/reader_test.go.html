<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8222286">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8222341">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8222395">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8222446">package</span>&nbsp;<span class="ident" id="8222454">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222460">import</span>&nbsp;<span class="op" id="8222467">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222470">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222479">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222485">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8222495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222498">type</span>&nbsp;<span class="ident" id="8222503">zlibTest</span>&nbsp;<span class="keyword" id="8222512">struct</span>&nbsp;<span class="op" id="8222519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222522">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8222533">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222541">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8222552">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222560">compressed</span>&nbsp;<span class="op" id="8222571">[</span><span class="op" id="8222572">]</span><span class="builtintype" id="8222573">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222579">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222590">[</span><span class="op" id="8222591">]</span><span class="builtintype" id="8222592">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222598">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8222609">error</span><br>
<span class="lineno"></span><span class="op" id="8222615">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8222618">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8222694">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222726">var</span>&nbsp;<span class="ident" id="8222730">zlibTests</span>&nbsp;<span class="op" id="8222740">=</span>&nbsp;<span class="op" id="8222742">[</span><span class="op" id="8222743">]</span><span class="ident" id="8222744">zlibTest</span><span class="op" id="8222752">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222759">&#34;empty&#34;</span><span class="op" id="8222766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222770">&#34;&#34;</span><span class="op" id="8222772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222776">[</span><span class="op" id="8222777">]</span><span class="builtintype" id="8222778">byte</span><span class="op" id="8222782">{</span><span class="num" id="8222783">0x78</span><span class="op" id="8222787">,</span>&nbsp;<span class="num" id="8222789">0x9c</span><span class="op" id="8222793">,</span>&nbsp;<span class="num" id="8222795">0x03</span><span class="op" id="8222799">,</span>&nbsp;<span class="num" id="8222801">0x00</span><span class="op" id="8222805">,</span>&nbsp;<span class="num" id="8222807">0x00</span><span class="op" id="8222811">,</span>&nbsp;<span class="num" id="8222813">0x00</span><span class="op" id="8222817">,</span>&nbsp;<span class="num" id="8222819">0x00</span><span class="op" id="8222823">,</span>&nbsp;<span class="num" id="8222825">0x01</span><span class="op" id="8222829">}</span><span class="op" id="8222830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222834">nil</span><span class="op" id="8222837">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222841">nil</span><span class="op" id="8222844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222847">}</span><span class="op" id="8222848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222855">&#34;goodbye&#34;</span><span class="op" id="8222864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8222868">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8222884">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222888">[</span><span class="op" id="8222889">]</span><span class="builtintype" id="8222890">byte</span><span class="op" id="8222894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8222899">0x78</span><span class="op" id="8222903">,</span>&nbsp;<span class="num" id="8222905">0x9c</span><span class="op" id="8222909">,</span>&nbsp;<span class="num" id="8222911">0x4b</span><span class="op" id="8222915">,</span>&nbsp;<span class="num" id="8222917">0xcf</span><span class="op" id="8222921">,</span>&nbsp;<span class="num" id="8222923">0xcf</span><span class="op" id="8222927">,</span>&nbsp;<span class="num" id="8222929">0x4f</span><span class="op" id="8222933">,</span>&nbsp;<span class="num" id="8222935">0x49</span><span class="op" id="8222939">,</span>&nbsp;<span class="num" id="8222941">0xaa</span><span class="op" id="8222945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8222950">0x4c</span><span class="op" id="8222954">,</span>&nbsp;<span class="num" id="8222956">0xd5</span><span class="op" id="8222960">,</span>&nbsp;<span class="num" id="8222962">0x51</span><span class="op" id="8222966">,</span>&nbsp;<span class="num" id="8222968">0x28</span><span class="op" id="8222972">,</span>&nbsp;<span class="num" id="8222974">0xcf</span><span class="op" id="8222978">,</span>&nbsp;<span class="num" id="8222980">0x2f</span><span class="op" id="8222984">,</span>&nbsp;<span class="num" id="8222986">0xca</span><span class="op" id="8222990">,</span>&nbsp;<span class="num" id="8222992">0x49</span><span class="op" id="8222996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223001">0x01</span><span class="op" id="8223005">,</span>&nbsp;<span class="num" id="8223007">0x00</span><span class="op" id="8223011">,</span>&nbsp;<span class="num" id="8223013">0x28</span><span class="op" id="8223017">,</span>&nbsp;<span class="num" id="8223019">0xa5</span><span class="op" id="8223023">,</span>&nbsp;<span class="num" id="8223025">0x05</span><span class="op" id="8223029">,</span>&nbsp;<span class="num" id="8223031">0x5e</span><span class="op" id="8223035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223039">}</span><span class="op" id="8223040">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223044">nil</span><span class="op" id="8223047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223051">nil</span><span class="op" id="8223054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223057">}</span><span class="op" id="8223058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223065">&#34;bad&nbsp;header&#34;</span><span class="op" id="8223077">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223081">&#34;&#34;</span><span class="op" id="8223083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223087">[</span><span class="op" id="8223088">]</span><span class="builtintype" id="8223089">byte</span><span class="op" id="8223093">{</span><span class="num" id="8223094">0x78</span><span class="op" id="8223098">,</span>&nbsp;<span class="num" id="8223100">0x9f</span><span class="op" id="8223104">,</span>&nbsp;<span class="num" id="8223106">0x03</span><span class="op" id="8223110">,</span>&nbsp;<span class="num" id="8223112">0x00</span><span class="op" id="8223116">,</span>&nbsp;<span class="num" id="8223118">0x00</span><span class="op" id="8223122">,</span>&nbsp;<span class="num" id="8223124">0x00</span><span class="op" id="8223128">,</span>&nbsp;<span class="num" id="8223130">0x00</span><span class="op" id="8223134">,</span>&nbsp;<span class="num" id="8223136">0x01</span><span class="op" id="8223140">}</span><span class="op" id="8223141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223145">nil</span><span class="op" id="8223148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223152">ErrHeader</span><span class="op" id="8223161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223164">}</span><span class="op" id="8223165">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223172">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="8223186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223190">&#34;&#34;</span><span class="op" id="8223192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223196">[</span><span class="op" id="8223197">]</span><span class="builtintype" id="8223198">byte</span><span class="op" id="8223202">{</span><span class="num" id="8223203">0x78</span><span class="op" id="8223207">,</span>&nbsp;<span class="num" id="8223209">0x9c</span><span class="op" id="8223213">,</span>&nbsp;<span class="num" id="8223215">0x03</span><span class="op" id="8223219">,</span>&nbsp;<span class="num" id="8223221">0x00</span><span class="op" id="8223225">,</span>&nbsp;<span class="num" id="8223227">0x00</span><span class="op" id="8223231">,</span>&nbsp;<span class="num" id="8223233">0x00</span><span class="op" id="8223237">,</span>&nbsp;<span class="num" id="8223239">0x00</span><span class="op" id="8223243">,</span>&nbsp;<span class="num" id="8223245">0xff</span><span class="op" id="8223249">}</span><span class="op" id="8223250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223254">nil</span><span class="op" id="8223257">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223261">ErrChecksum</span><span class="op" id="8223272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223275">}</span><span class="op" id="8223276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223283">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="8223300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223304">&#34;&#34;</span><span class="op" id="8223306">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223310">[</span><span class="op" id="8223311">]</span><span class="builtintype" id="8223312">byte</span><span class="op" id="8223316">{</span><span class="num" id="8223317">0x78</span><span class="op" id="8223321">,</span>&nbsp;<span class="num" id="8223323">0x9c</span><span class="op" id="8223327">,</span>&nbsp;<span class="num" id="8223329">0x03</span><span class="op" id="8223333">,</span>&nbsp;<span class="num" id="8223335">0x00</span><span class="op" id="8223339">,</span>&nbsp;<span class="num" id="8223341">0x00</span><span class="op" id="8223345">,</span>&nbsp;<span class="num" id="8223347">0x00</span><span class="op" id="8223351">}</span><span class="op" id="8223352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223356">nil</span><span class="op" id="8223359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223363">io</span><span class="op" id="8223365">.</span><span class="ident" id="8223366">ErrUnexpectedEOF</span><span class="op" id="8223382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223385">}</span><span class="op" id="8223386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223389">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223393">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="8223426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223430">&#34;&#34;</span><span class="op" id="8223432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223436">[</span><span class="op" id="8223437">]</span><span class="builtintype" id="8223438">byte</span><span class="op" id="8223442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223447">0x78</span><span class="op" id="8223451">,</span>&nbsp;<span class="num" id="8223453">0x9c</span><span class="op" id="8223457">,</span>&nbsp;<span class="num" id="8223459">0x03</span><span class="op" id="8223463">,</span>&nbsp;<span class="num" id="8223465">0x00</span><span class="op" id="8223469">,</span>&nbsp;<span class="num" id="8223471">0x00</span><span class="op" id="8223475">,</span>&nbsp;<span class="num" id="8223477">0x00</span><span class="op" id="8223481">,</span>&nbsp;<span class="num" id="8223483">0x00</span><span class="op" id="8223487">,</span>&nbsp;<span class="num" id="8223489">0x01</span><span class="op" id="8223493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223498">0x78</span><span class="op" id="8223502">,</span>&nbsp;<span class="num" id="8223504">0x9c</span><span class="op" id="8223508">,</span>&nbsp;<span class="num" id="8223510">0xff</span><span class="op" id="8223514">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223518">}</span><span class="op" id="8223519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223523">nil</span><span class="op" id="8223526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223530">nil</span><span class="op" id="8223533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223536">}</span><span class="op" id="8223537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223540">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223544">&#34;dictionary&#34;</span><span class="op" id="8223556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223560">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="8223577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223581">[</span><span class="op" id="8223582">]</span><span class="builtintype" id="8223583">byte</span><span class="op" id="8223587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223592">0x78</span><span class="op" id="8223596">,</span>&nbsp;<span class="num" id="8223598">0xbb</span><span class="op" id="8223602">,</span>&nbsp;<span class="num" id="8223604">0x1c</span><span class="op" id="8223608">,</span>&nbsp;<span class="num" id="8223610">0x32</span><span class="op" id="8223614">,</span>&nbsp;<span class="num" id="8223616">0x04</span><span class="op" id="8223620">,</span>&nbsp;<span class="num" id="8223622">0x27</span><span class="op" id="8223626">,</span>&nbsp;<span class="num" id="8223628">0xf3</span><span class="op" id="8223632">,</span>&nbsp;<span class="num" id="8223634">0x00</span><span class="op" id="8223638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223643">0xb1</span><span class="op" id="8223647">,</span>&nbsp;<span class="num" id="8223649">0x75</span><span class="op" id="8223653">,</span>&nbsp;<span class="num" id="8223655">0x20</span><span class="op" id="8223659">,</span>&nbsp;<span class="num" id="8223661">0x1c</span><span class="op" id="8223665">,</span>&nbsp;<span class="num" id="8223667">0x45</span><span class="op" id="8223671">,</span>&nbsp;<span class="num" id="8223673">0x2e</span><span class="op" id="8223677">,</span>&nbsp;<span class="num" id="8223679">0x00</span><span class="op" id="8223683">,</span>&nbsp;<span class="num" id="8223685">0x24</span><span class="op" id="8223689">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223694">0x12</span><span class="op" id="8223698">,</span>&nbsp;<span class="num" id="8223700">0x04</span><span class="op" id="8223704">,</span>&nbsp;<span class="num" id="8223706">0x74</span><span class="op" id="8223710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223714">}</span><span class="op" id="8223715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223719">[</span><span class="op" id="8223720">]</span><span class="builtintype" id="8223721">byte</span><span class="op" id="8223725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223730">0x48</span><span class="op" id="8223734">,</span>&nbsp;<span class="num" id="8223736">0x65</span><span class="op" id="8223740">,</span>&nbsp;<span class="num" id="8223742">0x6c</span><span class="op" id="8223746">,</span>&nbsp;<span class="num" id="8223748">0x6c</span><span class="op" id="8223752">,</span>&nbsp;<span class="num" id="8223754">0x6f</span><span class="op" id="8223758">,</span>&nbsp;<span class="num" id="8223760">0x20</span><span class="op" id="8223764">,</span>&nbsp;<span class="num" id="8223766">0x57</span><span class="op" id="8223770">,</span>&nbsp;<span class="num" id="8223772">0x6f</span><span class="op" id="8223776">,</span>&nbsp;<span class="num" id="8223778">0x72</span><span class="op" id="8223782">,</span>&nbsp;<span class="num" id="8223784">0x6c</span><span class="op" id="8223788">,</span>&nbsp;<span class="num" id="8223790">0x64</span><span class="op" id="8223794">,</span>&nbsp;<span class="num" id="8223796">0x0a</span><span class="op" id="8223800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223804">}</span><span class="op" id="8223805">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223809">nil</span><span class="op" id="8223812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223815">}</span><span class="op" id="8223816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223823">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="8223841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8223845">&#34;&#34;</span><span class="op" id="8223847">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223851">[</span><span class="op" id="8223852">]</span><span class="builtintype" id="8223853">byte</span><span class="op" id="8223857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223862">0x78</span><span class="op" id="8223866">,</span>&nbsp;<span class="num" id="8223868">0xbb</span><span class="op" id="8223872">,</span>&nbsp;<span class="num" id="8223874">0x1c</span><span class="op" id="8223878">,</span>&nbsp;<span class="num" id="8223880">0x32</span><span class="op" id="8223884">,</span>&nbsp;<span class="num" id="8223886">0x04</span><span class="op" id="8223890">,</span>&nbsp;<span class="num" id="8223892">0x27</span><span class="op" id="8223896">,</span>&nbsp;<span class="num" id="8223898">0xf3</span><span class="op" id="8223902">,</span>&nbsp;<span class="num" id="8223904">0x00</span><span class="op" id="8223908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223913">0xb1</span><span class="op" id="8223917">,</span>&nbsp;<span class="num" id="8223919">0x75</span><span class="op" id="8223923">,</span>&nbsp;<span class="num" id="8223925">0x20</span><span class="op" id="8223929">,</span>&nbsp;<span class="num" id="8223931">0x1c</span><span class="op" id="8223935">,</span>&nbsp;<span class="num" id="8223937">0x45</span><span class="op" id="8223941">,</span>&nbsp;<span class="num" id="8223943">0x2e</span><span class="op" id="8223947">,</span>&nbsp;<span class="num" id="8223949">0x00</span><span class="op" id="8223953">,</span>&nbsp;<span class="num" id="8223955">0x24</span><span class="op" id="8223959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8223964">0x12</span><span class="op" id="8223968">,</span>&nbsp;<span class="num" id="8223970">0x04</span><span class="op" id="8223974">,</span>&nbsp;<span class="num" id="8223976">0x74</span><span class="op" id="8223980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223984">}</span><span class="op" id="8223985">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223989">[</span><span class="op" id="8223990">]</span><span class="builtintype" id="8223991">byte</span><span class="op" id="8223995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8224000">0x48</span><span class="op" id="8224004">,</span>&nbsp;<span class="num" id="8224006">0x65</span><span class="op" id="8224010">,</span>&nbsp;<span class="num" id="8224012">0x6c</span><span class="op" id="8224016">,</span>&nbsp;<span class="num" id="8224018">0x6c</span><span class="op" id="8224022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224026">}</span><span class="op" id="8224027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224031">ErrDictionary</span><span class="op" id="8224044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224047">}</span><span class="op" id="8224048">,</span><br>
<span class="lineno">100</span><span class="op" id="8224050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8224053">func</span>&nbsp;<span class="ident" id="8224058">TestDecompressor</span><span class="op" id="8224074">(</span><span class="ident" id="8224075">t</span>&nbsp;<span class="op" id="8224077">*</span><span class="ident" id="8224078">testing</span><span class="op" id="8224085">.</span><span class="ident" id="8224086">T</span><span class="op" id="8224087">)</span>&nbsp;<span class="op" id="8224089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224092">b</span>&nbsp;<span class="op" id="8224094">:=</span>&nbsp;<span class="builtinfunc" id="8224097">new</span><span class="op" id="8224100">(</span><span class="ident" id="8224101">bytes</span><span class="op" id="8224106">.</span><span class="ident" id="8224107">Buffer</span><span class="op" id="8224113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224116">for</span>&nbsp;<span class="ident" id="8224120">_</span><span class="op" id="8224121">,</span>&nbsp;<span class="ident" id="8224123">tt</span>&nbsp;<span class="op" id="8224126">:=</span>&nbsp;<span class="keyword" id="8224129">range</span>&nbsp;<span class="ident" id="8224135">zlibTests</span>&nbsp;<span class="op" id="8224145">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224149">in</span>&nbsp;<span class="op" id="8224152">:=</span>&nbsp;<span class="ident" id="8224155">bytes</span><span class="op" id="8224160">.</span><span class="ident" id="8224161">NewReader</span><span class="op" id="8224170">(</span><span class="ident" id="8224171">tt</span><span class="op" id="8224173">.</span><span class="ident" id="8224174">compressed</span><span class="op" id="8224184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224188">zlib</span><span class="op" id="8224192">,</span>&nbsp;<span class="ident" id="8224194">err</span>&nbsp;<span class="op" id="8224198">:=</span>&nbsp;<span class="ident" id="8224201">NewReaderDict</span><span class="op" id="8224214">(</span><span class="ident" id="8224215">in</span><span class="op" id="8224217">,</span>&nbsp;<span class="ident" id="8224219">tt</span><span class="op" id="8224221">.</span><span class="ident" id="8224222">dict</span><span class="op" id="8224226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224230">if</span>&nbsp;<span class="ident" id="8224233">err</span>&nbsp;<span class="op" id="8224237">!=</span>&nbsp;<span class="ident" id="8224240">nil</span>&nbsp;<span class="op" id="8224244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224249">if</span>&nbsp;<span class="ident" id="8224252">err</span>&nbsp;<span class="op" id="8224256">!=</span>&nbsp;<span class="ident" id="8224259">tt</span><span class="op" id="8224261">.</span><span class="ident" id="8224262">err</span>&nbsp;<span class="op" id="8224266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224272">t</span><span class="op" id="8224273">.</span><span class="ident" id="8224274">Errorf</span><span class="op" id="8224280">(</span><span class="string" id="8224281">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="8224300">,</span>&nbsp;<span class="ident" id="8224302">tt</span><span class="op" id="8224304">.</span><span class="ident" id="8224305">desc</span><span class="op" id="8224309">,</span>&nbsp;<span class="ident" id="8224311">err</span><span class="op" id="8224314">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224324">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224339">defer</span>&nbsp;<span class="ident" id="8224345">zlib</span><span class="op" id="8224349">.</span><span class="ident" id="8224350">Close</span><span class="op" id="8224355">(</span><span class="op" id="8224356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224360">b</span><span class="op" id="8224361">.</span><span class="ident" id="8224362">Reset</span><span class="op" id="8224367">(</span><span class="op" id="8224368">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224372">n</span><span class="op" id="8224373">,</span>&nbsp;<span class="ident" id="8224375">err</span>&nbsp;<span class="op" id="8224379">:=</span>&nbsp;<span class="ident" id="8224382">io</span><span class="op" id="8224384">.</span><span class="ident" id="8224385">Copy</span><span class="op" id="8224389">(</span><span class="ident" id="8224390">b</span><span class="op" id="8224391">,</span>&nbsp;<span class="ident" id="8224393">zlib</span><span class="op" id="8224397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224401">if</span>&nbsp;<span class="ident" id="8224404">err</span>&nbsp;<span class="op" id="8224408">!=</span>&nbsp;<span class="ident" id="8224411">nil</span>&nbsp;<span class="op" id="8224415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224420">if</span>&nbsp;<span class="ident" id="8224423">err</span>&nbsp;<span class="op" id="8224427">!=</span>&nbsp;<span class="ident" id="8224430">tt</span><span class="op" id="8224432">.</span><span class="ident" id="8224433">err</span>&nbsp;<span class="op" id="8224437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224443">t</span><span class="op" id="8224444">.</span><span class="ident" id="8224445">Errorf</span><span class="op" id="8224451">(</span><span class="string" id="8224452">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8224477">,</span>&nbsp;<span class="ident" id="8224479">tt</span><span class="op" id="8224481">.</span><span class="ident" id="8224482">desc</span><span class="op" id="8224486">,</span>&nbsp;<span class="ident" id="8224488">err</span><span class="op" id="8224491">,</span>&nbsp;<span class="ident" id="8224493">tt</span><span class="op" id="8224495">.</span><span class="ident" id="8224496">err</span><span class="op" id="8224499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224504">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224509">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224524">s</span>&nbsp;<span class="op" id="8224526">:=</span>&nbsp;<span class="ident" id="8224529">b</span><span class="op" id="8224530">.</span><span class="ident" id="8224531">String</span><span class="op" id="8224537">(</span><span class="op" id="8224538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224542">if</span>&nbsp;<span class="ident" id="8224545">s</span>&nbsp;<span class="op" id="8224547">!=</span>&nbsp;<span class="ident" id="8224550">tt</span><span class="op" id="8224552">.</span><span class="ident" id="8224553">raw</span>&nbsp;<span class="op" id="8224557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224562">t</span><span class="op" id="8224563">.</span><span class="ident" id="8224564">Errorf</span><span class="op" id="8224570">(</span><span class="string" id="8224571">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="8224607">,</span>&nbsp;<span class="ident" id="8224609">tt</span><span class="op" id="8224611">.</span><span class="ident" id="8224612">desc</span><span class="op" id="8224616">,</span>&nbsp;<span class="ident" id="8224618">n</span><span class="op" id="8224619">,</span>&nbsp;<span class="ident" id="8224621">s</span><span class="op" id="8224622">,</span>&nbsp;<span class="builtinfunc" id="8224624">len</span><span class="op" id="8224627">(</span><span class="ident" id="8224628">tt</span><span class="op" id="8224630">.</span><span class="ident" id="8224631">raw</span><span class="op" id="8224634">)</span><span class="op" id="8224635">,</span>&nbsp;<span class="ident" id="8224637">tt</span><span class="op" id="8224639">.</span><span class="ident" id="8224640">raw</span><span class="op" id="8224643">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224650">}</span><br>
<span class="lineno"></span><span class="op" id="8224652">}</span>
</div>
</body>
</html>
