<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7957773">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7957828">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7957882">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7957933">package</span>&nbsp;<span class="ident" id="7957941">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957946">import</span>&nbsp;<span class="op" id="7957953">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7957956">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7957965">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7957975">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957978">type</span>&nbsp;<span class="ident" id="7957983">encDecTest</span>&nbsp;<span class="keyword" id="7957994">struct</span>&nbsp;<span class="op" id="7958001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958004">enc</span>&nbsp;<span class="builtintype" id="7958008">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958016">dec</span>&nbsp;<span class="op" id="7958020">[</span><span class="op" id="7958021">]</span><span class="builtintype" id="7958022">byte</span><br>
<span class="lineno">15</span><span class="op" id="7958027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7958030">var</span>&nbsp;<span class="ident" id="7958034">encDecTests</span>&nbsp;<span class="op" id="7958046">=</span>&nbsp;<span class="op" id="7958048">[</span><span class="op" id="7958049">]</span><span class="ident" id="7958050">encDecTest</span><span class="op" id="7958060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958063">{</span><span class="string" id="7958064">&#34;&#34;</span><span class="op" id="7958066">,</span>&nbsp;<span class="op" id="7958068">[</span><span class="op" id="7958069">]</span><span class="builtintype" id="7958070">byte</span><span class="op" id="7958074">{</span><span class="op" id="7958075">}</span><span class="op" id="7958076">}</span><span class="op" id="7958077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958080">{</span><span class="string" id="7958081">&#34;0001020304050607&#34;</span><span class="op" id="7958099">,</span>&nbsp;<span class="op" id="7958101">[</span><span class="op" id="7958102">]</span><span class="builtintype" id="7958103">byte</span><span class="op" id="7958107">{</span><span class="num" id="7958108">0</span><span class="op" id="7958109">,</span>&nbsp;<span class="num" id="7958111">1</span><span class="op" id="7958112">,</span>&nbsp;<span class="num" id="7958114">2</span><span class="op" id="7958115">,</span>&nbsp;<span class="num" id="7958117">3</span><span class="op" id="7958118">,</span>&nbsp;<span class="num" id="7958120">4</span><span class="op" id="7958121">,</span>&nbsp;<span class="num" id="7958123">5</span><span class="op" id="7958124">,</span>&nbsp;<span class="num" id="7958126">6</span><span class="op" id="7958127">,</span>&nbsp;<span class="num" id="7958129">7</span><span class="op" id="7958130">}</span><span class="op" id="7958131">}</span><span class="op" id="7958132">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958135">{</span><span class="string" id="7958136">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7958154">,</span>&nbsp;<span class="op" id="7958156">[</span><span class="op" id="7958157">]</span><span class="builtintype" id="7958158">byte</span><span class="op" id="7958162">{</span><span class="num" id="7958163">8</span><span class="op" id="7958164">,</span>&nbsp;<span class="num" id="7958166">9</span><span class="op" id="7958167">,</span>&nbsp;<span class="num" id="7958169">10</span><span class="op" id="7958171">,</span>&nbsp;<span class="num" id="7958173">11</span><span class="op" id="7958175">,</span>&nbsp;<span class="num" id="7958177">12</span><span class="op" id="7958179">,</span>&nbsp;<span class="num" id="7958181">13</span><span class="op" id="7958183">,</span>&nbsp;<span class="num" id="7958185">14</span><span class="op" id="7958187">,</span>&nbsp;<span class="num" id="7958189">15</span><span class="op" id="7958191">}</span><span class="op" id="7958192">}</span><span class="op" id="7958193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958196">{</span><span class="string" id="7958197">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7958215">,</span>&nbsp;<span class="op" id="7958217">[</span><span class="op" id="7958218">]</span><span class="builtintype" id="7958219">byte</span><span class="op" id="7958223">{</span><span class="num" id="7958224">0xf0</span><span class="op" id="7958228">,</span>&nbsp;<span class="num" id="7958230">0xf1</span><span class="op" id="7958234">,</span>&nbsp;<span class="num" id="7958236">0xf2</span><span class="op" id="7958240">,</span>&nbsp;<span class="num" id="7958242">0xf3</span><span class="op" id="7958246">,</span>&nbsp;<span class="num" id="7958248">0xf4</span><span class="op" id="7958252">,</span>&nbsp;<span class="num" id="7958254">0xf5</span><span class="op" id="7958258">,</span>&nbsp;<span class="num" id="7958260">0xf6</span><span class="op" id="7958264">,</span>&nbsp;<span class="num" id="7958266">0xf7</span><span class="op" id="7958270">}</span><span class="op" id="7958271">}</span><span class="op" id="7958272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958275">{</span><span class="string" id="7958276">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7958294">,</span>&nbsp;<span class="op" id="7958296">[</span><span class="op" id="7958297">]</span><span class="builtintype" id="7958298">byte</span><span class="op" id="7958302">{</span><span class="num" id="7958303">0xf8</span><span class="op" id="7958307">,</span>&nbsp;<span class="num" id="7958309">0xf9</span><span class="op" id="7958313">,</span>&nbsp;<span class="num" id="7958315">0xfa</span><span class="op" id="7958319">,</span>&nbsp;<span class="num" id="7958321">0xfb</span><span class="op" id="7958325">,</span>&nbsp;<span class="num" id="7958327">0xfc</span><span class="op" id="7958331">,</span>&nbsp;<span class="num" id="7958333">0xfd</span><span class="op" id="7958337">,</span>&nbsp;<span class="num" id="7958339">0xfe</span><span class="op" id="7958343">,</span>&nbsp;<span class="num" id="7958345">0xff</span><span class="op" id="7958349">}</span><span class="op" id="7958350">}</span><span class="op" id="7958351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958354">{</span><span class="string" id="7958355">&#34;67&#34;</span><span class="op" id="7958359">,</span>&nbsp;<span class="op" id="7958361">[</span><span class="op" id="7958362">]</span><span class="builtintype" id="7958363">byte</span><span class="op" id="7958367">{</span><span class="string" id="7958368">&#39;g&#39;</span><span class="op" id="7958371">}</span><span class="op" id="7958372">}</span><span class="op" id="7958373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958376">{</span><span class="string" id="7958377">&#34;e3a1&#34;</span><span class="op" id="7958383">,</span>&nbsp;<span class="op" id="7958385">[</span><span class="op" id="7958386">]</span><span class="builtintype" id="7958387">byte</span><span class="op" id="7958391">{</span><span class="num" id="7958392">0xe3</span><span class="op" id="7958396">,</span>&nbsp;<span class="num" id="7958398">0xa1</span><span class="op" id="7958402">}</span><span class="op" id="7958403">}</span><span class="op" id="7958404">,</span><br>
<span class="lineno">25</span><span class="op" id="7958406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7958409">func</span>&nbsp;<span class="ident" id="7958414">TestEncode</span><span class="op" id="7958424">(</span><span class="ident" id="7958425">t</span>&nbsp;<span class="op" id="7958427">*</span><span class="ident" id="7958428">testing</span><span class="op" id="7958435">.</span><span class="ident" id="7958436">T</span><span class="op" id="7958437">)</span>&nbsp;<span class="op" id="7958439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7958442">for</span>&nbsp;<span class="ident" id="7958446">i</span><span class="op" id="7958447">,</span>&nbsp;<span class="ident" id="7958449">test</span>&nbsp;<span class="op" id="7958454">:=</span>&nbsp;<span class="keyword" id="7958457">range</span>&nbsp;<span class="ident" id="7958463">encDecTests</span>&nbsp;<span class="op" id="7958475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958479">dst</span>&nbsp;<span class="op" id="7958483">:=</span>&nbsp;<span class="builtinfunc" id="7958486">make</span><span class="op" id="7958490">(</span><span class="op" id="7958491">[</span><span class="op" id="7958492">]</span><span class="builtintype" id="7958493">byte</span><span class="op" id="7958497">,</span>&nbsp;<span class="ident" id="7958499">EncodedLen</span><span class="op" id="7958509">(</span><span class="builtinfunc" id="7958510">len</span><span class="op" id="7958513">(</span><span class="ident" id="7958514">test</span><span class="op" id="7958518">.</span><span class="ident" id="7958519">dec</span><span class="op" id="7958522">)</span><span class="op" id="7958523">)</span><span class="op" id="7958524">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958528">n</span>&nbsp;<span class="op" id="7958530">:=</span>&nbsp;<span class="ident" id="7958533">Encode</span><span class="op" id="7958539">(</span><span class="ident" id="7958540">dst</span><span class="op" id="7958543">,</span>&nbsp;<span class="ident" id="7958545">test</span><span class="op" id="7958549">.</span><span class="ident" id="7958550">dec</span><span class="op" id="7958553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7958557">if</span>&nbsp;<span class="ident" id="7958560">n</span>&nbsp;<span class="op" id="7958562">!=</span>&nbsp;<span class="builtinfunc" id="7958565">len</span><span class="op" id="7958568">(</span><span class="ident" id="7958569">dst</span><span class="op" id="7958572">)</span>&nbsp;<span class="op" id="7958574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958579">t</span><span class="op" id="7958580">.</span><span class="ident" id="7958581">Errorf</span><span class="op" id="7958587">(</span><span class="string" id="7958588">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7958629">,</span>&nbsp;<span class="ident" id="7958631">i</span><span class="op" id="7958632">,</span>&nbsp;<span class="ident" id="7958634">n</span><span class="op" id="7958635">,</span>&nbsp;<span class="builtinfunc" id="7958637">len</span><span class="op" id="7958640">(</span><span class="ident" id="7958641">dst</span><span class="op" id="7958644">)</span><span class="op" id="7958645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7958653">if</span>&nbsp;<span class="builtintype" id="7958656">string</span><span class="op" id="7958662">(</span><span class="ident" id="7958663">dst</span><span class="op" id="7958666">)</span>&nbsp;<span class="op" id="7958668">!=</span>&nbsp;<span class="ident" id="7958671">test</span><span class="op" id="7958675">.</span><span class="ident" id="7958676">enc</span>&nbsp;<span class="op" id="7958680">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958685">t</span><span class="op" id="7958686">.</span><span class="ident" id="7958687">Errorf</span><span class="op" id="7958693">(</span><span class="string" id="7958694">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7958719">,</span>&nbsp;<span class="ident" id="7958721">i</span><span class="op" id="7958722">,</span>&nbsp;<span class="ident" id="7958724">dst</span><span class="op" id="7958727">,</span>&nbsp;<span class="ident" id="7958729">test</span><span class="op" id="7958733">.</span><span class="ident" id="7958734">enc</span><span class="op" id="7958737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958744">}</span><br>
<span class="lineno"></span><span class="op" id="7958746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7958749">func</span>&nbsp;<span class="ident" id="7958754">TestDecode</span><span class="op" id="7958764">(</span><span class="ident" id="7958765">t</span>&nbsp;<span class="op" id="7958767">*</span><span class="ident" id="7958768">testing</span><span class="op" id="7958775">.</span><span class="ident" id="7958776">T</span><span class="op" id="7958777">)</span>&nbsp;<span class="op" id="7958779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7958782">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7958836">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7958870">decTests</span>&nbsp;<span class="op" id="7958879">:=</span>&nbsp;<span class="builtinfunc" id="7958882">append</span><span class="op" id="7958888">(</span><span class="ident" id="7958889">encDecTests</span><span class="op" id="7958900">,</span>&nbsp;<span class="ident" id="7958902">encDecTest</span><span class="op" id="7958912">{</span><span class="string" id="7958913">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7958931">,</span>&nbsp;<span class="op" id="7958933">[</span><span class="op" id="7958934">]</span><span class="builtintype" id="7958935">byte</span><span class="op" id="7958939">{</span><span class="num" id="7958940">0xf8</span><span class="op" id="7958944">,</span>&nbsp;<span class="num" id="7958946">0xf9</span><span class="op" id="7958950">,</span>&nbsp;<span class="num" id="7958952">0xfa</span><span class="op" id="7958956">,</span>&nbsp;<span class="num" id="7958958">0xfb</span><span class="op" id="7958962">,</span>&nbsp;<span class="num" id="7958964">0xfc</span><span class="op" id="7958968">,</span>&nbsp;<span class="num" id="7958970">0xfd</span><span class="op" id="7958974">,</span>&nbsp;<span class="num" id="7958976">0xfe</span><span class="op" id="7958980">,</span>&nbsp;<span class="num" id="7958982">0xff</span><span class="op" id="7958986">}</span><span class="op" id="7958987">}</span><span class="op" id="7958988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7958991">for</span>&nbsp;<span class="ident" id="7958995">i</span><span class="op" id="7958996">,</span>&nbsp;<span class="ident" id="7958998">test</span>&nbsp;<span class="op" id="7959003">:=</span>&nbsp;<span class="keyword" id="7959006">range</span>&nbsp;<span class="ident" id="7959012">decTests</span>&nbsp;<span class="op" id="7959021">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959025">dst</span>&nbsp;<span class="op" id="7959029">:=</span>&nbsp;<span class="builtinfunc" id="7959032">make</span><span class="op" id="7959036">(</span><span class="op" id="7959037">[</span><span class="op" id="7959038">]</span><span class="builtintype" id="7959039">byte</span><span class="op" id="7959043">,</span>&nbsp;<span class="ident" id="7959045">DecodedLen</span><span class="op" id="7959055">(</span><span class="builtinfunc" id="7959056">len</span><span class="op" id="7959059">(</span><span class="ident" id="7959060">test</span><span class="op" id="7959064">.</span><span class="ident" id="7959065">enc</span><span class="op" id="7959068">)</span><span class="op" id="7959069">)</span><span class="op" id="7959070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959074">n</span><span class="op" id="7959075">,</span>&nbsp;<span class="ident" id="7959077">err</span>&nbsp;<span class="op" id="7959081">:=</span>&nbsp;<span class="ident" id="7959084">Decode</span><span class="op" id="7959090">(</span><span class="ident" id="7959091">dst</span><span class="op" id="7959094">,</span>&nbsp;<span class="op" id="7959096">[</span><span class="op" id="7959097">]</span><span class="builtintype" id="7959098">byte</span><span class="op" id="7959102">(</span><span class="ident" id="7959103">test</span><span class="op" id="7959107">.</span><span class="ident" id="7959108">enc</span><span class="op" id="7959111">)</span><span class="op" id="7959112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959116">if</span>&nbsp;<span class="ident" id="7959119">err</span>&nbsp;<span class="op" id="7959123">!=</span>&nbsp;<span class="ident" id="7959126">nil</span>&nbsp;<span class="op" id="7959130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959135">t</span><span class="op" id="7959136">.</span><span class="ident" id="7959137">Errorf</span><span class="op" id="7959143">(</span><span class="string" id="7959144">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7959183">,</span>&nbsp;<span class="ident" id="7959185">i</span><span class="op" id="7959186">,</span>&nbsp;<span class="ident" id="7959188">n</span><span class="op" id="7959189">,</span>&nbsp;<span class="builtinfunc" id="7959191">len</span><span class="op" id="7959194">(</span><span class="ident" id="7959195">dst</span><span class="op" id="7959198">)</span><span class="op" id="7959199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959203">}</span>&nbsp;<span class="keyword" id="7959205">else</span>&nbsp;<span class="keyword" id="7959210">if</span>&nbsp;<span class="op" id="7959213">!</span><span class="ident" id="7959214">bytes</span><span class="op" id="7959219">.</span><span class="ident" id="7959220">Equal</span><span class="op" id="7959225">(</span><span class="ident" id="7959226">dst</span><span class="op" id="7959229">,</span>&nbsp;<span class="ident" id="7959231">test</span><span class="op" id="7959235">.</span><span class="ident" id="7959236">dec</span><span class="op" id="7959239">)</span>&nbsp;<span class="op" id="7959241">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959246">t</span><span class="op" id="7959247">.</span><span class="ident" id="7959248">Errorf</span><span class="op" id="7959254">(</span><span class="string" id="7959255">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7959280">,</span>&nbsp;<span class="ident" id="7959282">i</span><span class="op" id="7959283">,</span>&nbsp;<span class="ident" id="7959285">dst</span><span class="op" id="7959288">,</span>&nbsp;<span class="ident" id="7959290">test</span><span class="op" id="7959294">.</span><span class="ident" id="7959295">dec</span><span class="op" id="7959298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959305">}</span><br>
<span class="lineno"></span><span class="op" id="7959307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7959310">func</span>&nbsp;<span class="ident" id="7959315">TestEncodeToString</span><span class="op" id="7959333">(</span><span class="ident" id="7959334">t</span>&nbsp;<span class="op" id="7959336">*</span><span class="ident" id="7959337">testing</span><span class="op" id="7959344">.</span><span class="ident" id="7959345">T</span><span class="op" id="7959346">)</span>&nbsp;<span class="op" id="7959348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959351">for</span>&nbsp;<span class="ident" id="7959355">i</span><span class="op" id="7959356">,</span>&nbsp;<span class="ident" id="7959358">test</span>&nbsp;<span class="op" id="7959363">:=</span>&nbsp;<span class="keyword" id="7959366">range</span>&nbsp;<span class="ident" id="7959372">encDecTests</span>&nbsp;<span class="op" id="7959384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959388">s</span>&nbsp;<span class="op" id="7959390">:=</span>&nbsp;<span class="ident" id="7959393">EncodeToString</span><span class="op" id="7959407">(</span><span class="ident" id="7959408">test</span><span class="op" id="7959412">.</span><span class="ident" id="7959413">dec</span><span class="op" id="7959416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959420">if</span>&nbsp;<span class="ident" id="7959423">s</span>&nbsp;<span class="op" id="7959425">!=</span>&nbsp;<span class="ident" id="7959428">test</span><span class="op" id="7959432">.</span><span class="ident" id="7959433">enc</span>&nbsp;<span class="op" id="7959437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959442">t</span><span class="op" id="7959443">.</span><span class="ident" id="7959444">Errorf</span><span class="op" id="7959450">(</span><span class="string" id="7959451">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7959471">,</span>&nbsp;<span class="ident" id="7959473">i</span><span class="op" id="7959474">,</span>&nbsp;<span class="ident" id="7959476">s</span><span class="op" id="7959477">,</span>&nbsp;<span class="ident" id="7959479">test</span><span class="op" id="7959483">.</span><span class="ident" id="7959484">enc</span><span class="op" id="7959487">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959494">}</span><br>
<span class="lineno"></span><span class="op" id="7959496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959499">func</span>&nbsp;<span class="ident" id="7959504">TestDecodeString</span><span class="op" id="7959520">(</span><span class="ident" id="7959521">t</span>&nbsp;<span class="op" id="7959523">*</span><span class="ident" id="7959524">testing</span><span class="op" id="7959531">.</span><span class="ident" id="7959532">T</span><span class="op" id="7959533">)</span>&nbsp;<span class="op" id="7959535">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959538">for</span>&nbsp;<span class="ident" id="7959542">i</span><span class="op" id="7959543">,</span>&nbsp;<span class="ident" id="7959545">test</span>&nbsp;<span class="op" id="7959550">:=</span>&nbsp;<span class="keyword" id="7959553">range</span>&nbsp;<span class="ident" id="7959559">encDecTests</span>&nbsp;<span class="op" id="7959571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959575">dst</span><span class="op" id="7959578">,</span>&nbsp;<span class="ident" id="7959580">err</span>&nbsp;<span class="op" id="7959584">:=</span>&nbsp;<span class="ident" id="7959587">DecodeString</span><span class="op" id="7959599">(</span><span class="ident" id="7959600">test</span><span class="op" id="7959604">.</span><span class="ident" id="7959605">enc</span><span class="op" id="7959608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959612">if</span>&nbsp;<span class="ident" id="7959615">err</span>&nbsp;<span class="op" id="7959619">!=</span>&nbsp;<span class="ident" id="7959622">nil</span>&nbsp;<span class="op" id="7959626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959631">t</span><span class="op" id="7959632">.</span><span class="ident" id="7959633">Errorf</span><span class="op" id="7959639">(</span><span class="string" id="7959640">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7959671">,</span>&nbsp;<span class="ident" id="7959673">i</span><span class="op" id="7959674">,</span>&nbsp;<span class="ident" id="7959676">err</span><span class="op" id="7959679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959684">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7959699">if</span>&nbsp;<span class="op" id="7959702">!</span><span class="ident" id="7959703">bytes</span><span class="op" id="7959708">.</span><span class="ident" id="7959709">Equal</span><span class="op" id="7959714">(</span><span class="ident" id="7959715">dst</span><span class="op" id="7959718">,</span>&nbsp;<span class="ident" id="7959720">test</span><span class="op" id="7959724">.</span><span class="ident" id="7959725">dec</span><span class="op" id="7959728">)</span>&nbsp;<span class="op" id="7959730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959735">t</span><span class="op" id="7959736">.</span><span class="ident" id="7959737">Errorf</span><span class="op" id="7959743">(</span><span class="string" id="7959744">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7959769">,</span>&nbsp;<span class="ident" id="7959771">i</span><span class="op" id="7959772">,</span>&nbsp;<span class="ident" id="7959774">dst</span><span class="op" id="7959777">,</span>&nbsp;<span class="ident" id="7959779">test</span><span class="op" id="7959783">.</span><span class="ident" id="7959784">dec</span><span class="op" id="7959787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959794">}</span><br>
<span class="lineno">75</span><span class="op" id="7959796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959799">type</span>&nbsp;<span class="ident" id="7959804">errTest</span>&nbsp;<span class="keyword" id="7959812">struct</span>&nbsp;<span class="op" id="7959819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959822">in</span>&nbsp;&nbsp;<span class="builtintype" id="7959826">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959834">err</span>&nbsp;<span class="builtintype" id="7959838">string</span><br>
<span class="lineno">80</span><span class="op" id="7959845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959848">var</span>&nbsp;<span class="ident" id="7959852">errTests</span>&nbsp;<span class="op" id="7959861">=</span>&nbsp;<span class="op" id="7959863">[</span><span class="op" id="7959864">]</span><span class="ident" id="7959865">errTest</span><span class="op" id="7959872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959875">{</span><span class="string" id="7959876">&#34;0&#34;</span><span class="op" id="7959879">,</span>&nbsp;<span class="string" id="7959881">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7959918">}</span><span class="op" id="7959919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959922">{</span><span class="string" id="7959923">&#34;0g&#34;</span><span class="op" id="7959927">,</span>&nbsp;<span class="string" id="7959929">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7959969">}</span><span class="op" id="7959970">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959973">{</span><span class="string" id="7959974">&#34;00gg&#34;</span><span class="op" id="7959980">,</span>&nbsp;<span class="string" id="7959982">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7960022">}</span><span class="op" id="7960023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960026">{</span><span class="string" id="7960027">&#34;0\x01&#34;</span><span class="op" id="7960034">,</span>&nbsp;<span class="string" id="7960036">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7960072">}</span><span class="op" id="7960073">,</span><br>
<span class="lineno"></span><span class="op" id="7960075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7960078">func</span>&nbsp;<span class="ident" id="7960083">TestInvalidErr</span><span class="op" id="7960097">(</span><span class="ident" id="7960098">t</span>&nbsp;<span class="op" id="7960100">*</span><span class="ident" id="7960101">testing</span><span class="op" id="7960108">.</span><span class="ident" id="7960109">T</span><span class="op" id="7960110">)</span>&nbsp;<span class="op" id="7960112">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960115">for</span>&nbsp;<span class="ident" id="7960119">i</span><span class="op" id="7960120">,</span>&nbsp;<span class="ident" id="7960122">test</span>&nbsp;<span class="op" id="7960127">:=</span>&nbsp;<span class="keyword" id="7960130">range</span>&nbsp;<span class="ident" id="7960136">errTests</span>&nbsp;<span class="op" id="7960145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960149">dst</span>&nbsp;<span class="op" id="7960153">:=</span>&nbsp;<span class="builtinfunc" id="7960156">make</span><span class="op" id="7960160">(</span><span class="op" id="7960161">[</span><span class="op" id="7960162">]</span><span class="builtintype" id="7960163">byte</span><span class="op" id="7960167">,</span>&nbsp;<span class="ident" id="7960169">DecodedLen</span><span class="op" id="7960179">(</span><span class="builtinfunc" id="7960180">len</span><span class="op" id="7960183">(</span><span class="ident" id="7960184">test</span><span class="op" id="7960188">.</span><span class="ident" id="7960189">in</span><span class="op" id="7960191">)</span><span class="op" id="7960192">)</span><span class="op" id="7960193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960197">_</span><span class="op" id="7960198">,</span>&nbsp;<span class="ident" id="7960200">err</span>&nbsp;<span class="op" id="7960204">:=</span>&nbsp;<span class="ident" id="7960207">Decode</span><span class="op" id="7960213">(</span><span class="ident" id="7960214">dst</span><span class="op" id="7960217">,</span>&nbsp;<span class="op" id="7960219">[</span><span class="op" id="7960220">]</span><span class="builtintype" id="7960221">byte</span><span class="op" id="7960225">(</span><span class="ident" id="7960226">test</span><span class="op" id="7960230">.</span><span class="ident" id="7960231">in</span><span class="op" id="7960233">)</span><span class="op" id="7960234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960238">if</span>&nbsp;<span class="ident" id="7960241">err</span>&nbsp;<span class="op" id="7960245">==</span>&nbsp;<span class="ident" id="7960248">nil</span>&nbsp;<span class="op" id="7960252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960257">t</span><span class="op" id="7960258">.</span><span class="ident" id="7960259">Errorf</span><span class="op" id="7960265">(</span><span class="string" id="7960266">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7960297">,</span>&nbsp;<span class="ident" id="7960299">i</span><span class="op" id="7960300">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960304">}</span>&nbsp;<span class="keyword" id="7960306">else</span>&nbsp;<span class="keyword" id="7960311">if</span>&nbsp;<span class="ident" id="7960314">err</span><span class="op" id="7960317">.</span><span class="ident" id="7960318">Error</span><span class="op" id="7960323">(</span><span class="op" id="7960324">)</span>&nbsp;<span class="op" id="7960326">!=</span>&nbsp;<span class="ident" id="7960329">test</span><span class="op" id="7960333">.</span><span class="ident" id="7960334">err</span>&nbsp;<span class="op" id="7960338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960343">t</span><span class="op" id="7960344">.</span><span class="ident" id="7960345">Errorf</span><span class="op" id="7960351">(</span><span class="string" id="7960352">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7960375">,</span>&nbsp;<span class="ident" id="7960377">i</span><span class="op" id="7960378">,</span>&nbsp;<span class="ident" id="7960380">err</span><span class="op" id="7960383">,</span>&nbsp;<span class="ident" id="7960385">test</span><span class="op" id="7960389">.</span><span class="ident" id="7960390">err</span><span class="op" id="7960393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960400">}</span><br>
<span class="lineno"></span><span class="op" id="7960402">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7960405">func</span>&nbsp;<span class="ident" id="7960410">TestInvalidStringErr</span><span class="op" id="7960430">(</span><span class="ident" id="7960431">t</span>&nbsp;<span class="op" id="7960433">*</span><span class="ident" id="7960434">testing</span><span class="op" id="7960441">.</span><span class="ident" id="7960442">T</span><span class="op" id="7960443">)</span>&nbsp;<span class="op" id="7960445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960448">for</span>&nbsp;<span class="ident" id="7960452">i</span><span class="op" id="7960453">,</span>&nbsp;<span class="ident" id="7960455">test</span>&nbsp;<span class="op" id="7960460">:=</span>&nbsp;<span class="keyword" id="7960463">range</span>&nbsp;<span class="ident" id="7960469">errTests</span>&nbsp;<span class="op" id="7960478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960482">_</span><span class="op" id="7960483">,</span>&nbsp;<span class="ident" id="7960485">err</span>&nbsp;<span class="op" id="7960489">:=</span>&nbsp;<span class="ident" id="7960492">DecodeString</span><span class="op" id="7960504">(</span><span class="ident" id="7960505">test</span><span class="op" id="7960509">.</span><span class="ident" id="7960510">in</span><span class="op" id="7960512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960516">if</span>&nbsp;<span class="ident" id="7960519">err</span>&nbsp;<span class="op" id="7960523">==</span>&nbsp;<span class="ident" id="7960526">nil</span>&nbsp;<span class="op" id="7960530">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960535">t</span><span class="op" id="7960536">.</span><span class="ident" id="7960537">Errorf</span><span class="op" id="7960543">(</span><span class="string" id="7960544">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7960575">,</span>&nbsp;<span class="ident" id="7960577">i</span><span class="op" id="7960578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960582">}</span>&nbsp;<span class="keyword" id="7960584">else</span>&nbsp;<span class="keyword" id="7960589">if</span>&nbsp;<span class="ident" id="7960592">err</span><span class="op" id="7960595">.</span><span class="ident" id="7960596">Error</span><span class="op" id="7960601">(</span><span class="op" id="7960602">)</span>&nbsp;<span class="op" id="7960604">!=</span>&nbsp;<span class="ident" id="7960607">test</span><span class="op" id="7960611">.</span><span class="ident" id="7960612">err</span>&nbsp;<span class="op" id="7960616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960621">t</span><span class="op" id="7960622">.</span><span class="ident" id="7960623">Errorf</span><span class="op" id="7960629">(</span><span class="string" id="7960630">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7960653">,</span>&nbsp;<span class="ident" id="7960655">i</span><span class="op" id="7960656">,</span>&nbsp;<span class="ident" id="7960658">err</span><span class="op" id="7960661">,</span>&nbsp;<span class="ident" id="7960663">test</span><span class="op" id="7960667">.</span><span class="ident" id="7960668">err</span><span class="op" id="7960671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960678">}</span><br>
<span class="lineno">110</span><span class="op" id="7960680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7960683">func</span>&nbsp;<span class="ident" id="7960688">TestDumper</span><span class="op" id="7960698">(</span><span class="ident" id="7960699">t</span>&nbsp;<span class="op" id="7960701">*</span><span class="ident" id="7960702">testing</span><span class="op" id="7960709">.</span><span class="ident" id="7960710">T</span><span class="op" id="7960711">)</span>&nbsp;<span class="op" id="7960713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960716">var</span>&nbsp;<span class="ident" id="7960720">in</span>&nbsp;<span class="op" id="7960723">[</span><span class="num" id="7960724">40</span><span class="op" id="7960726">]</span><span class="builtintype" id="7960727">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960733">for</span>&nbsp;<span class="ident" id="7960737">i</span>&nbsp;<span class="op" id="7960739">:=</span>&nbsp;<span class="keyword" id="7960742">range</span>&nbsp;<span class="ident" id="7960748">in</span>&nbsp;<span class="op" id="7960751">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960755">in</span><span class="op" id="7960757">[</span><span class="ident" id="7960758">i</span><span class="op" id="7960759">]</span>&nbsp;<span class="op" id="7960761">=</span>&nbsp;<span class="builtintype" id="7960763">byte</span><span class="op" id="7960767">(</span><span class="ident" id="7960768">i</span>&nbsp;<span class="op" id="7960770">+</span>&nbsp;<span class="num" id="7960772">30</span><span class="op" id="7960774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960781">for</span>&nbsp;<span class="ident" id="7960785">stride</span>&nbsp;<span class="op" id="7960792">:=</span>&nbsp;<span class="num" id="7960795">1</span><span class="op" id="7960796">;</span>&nbsp;<span class="ident" id="7960798">stride</span>&nbsp;<span class="op" id="7960805">&lt;</span>&nbsp;<span class="builtinfunc" id="7960807">len</span><span class="op" id="7960810">(</span><span class="ident" id="7960811">in</span><span class="op" id="7960813">)</span><span class="op" id="7960814">;</span>&nbsp;<span class="ident" id="7960816">stride</span><span class="op" id="7960822">++</span>&nbsp;<span class="op" id="7960825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960829">var</span>&nbsp;<span class="ident" id="7960833">out</span>&nbsp;<span class="ident" id="7960837">bytes</span><span class="op" id="7960842">.</span><span class="ident" id="7960843">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960852">dumper</span>&nbsp;<span class="op" id="7960859">:=</span>&nbsp;<span class="ident" id="7960862">Dumper</span><span class="op" id="7960868">(</span><span class="op" id="7960869">&amp;</span><span class="ident" id="7960870">out</span><span class="op" id="7960873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960877">done</span>&nbsp;<span class="op" id="7960882">:=</span>&nbsp;<span class="num" id="7960885">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960889">for</span>&nbsp;<span class="ident" id="7960893">done</span>&nbsp;<span class="op" id="7960898">&lt;</span>&nbsp;<span class="builtinfunc" id="7960900">len</span><span class="op" id="7960903">(</span><span class="ident" id="7960904">in</span><span class="op" id="7960906">)</span>&nbsp;<span class="op" id="7960908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960913">todo</span>&nbsp;<span class="op" id="7960918">:=</span>&nbsp;<span class="ident" id="7960921">done</span>&nbsp;<span class="op" id="7960926">+</span>&nbsp;<span class="ident" id="7960928">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960938">if</span>&nbsp;<span class="ident" id="7960941">todo</span>&nbsp;<span class="op" id="7960946">&gt;</span>&nbsp;<span class="builtinfunc" id="7960948">len</span><span class="op" id="7960951">(</span><span class="ident" id="7960952">in</span><span class="op" id="7960954">)</span>&nbsp;<span class="op" id="7960956">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960962">todo</span>&nbsp;<span class="op" id="7960967">=</span>&nbsp;<span class="builtinfunc" id="7960969">len</span><span class="op" id="7960972">(</span><span class="ident" id="7960973">in</span><span class="op" id="7960975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960985">dumper</span><span class="op" id="7960991">.</span><span class="ident" id="7960992">Write</span><span class="op" id="7960997">(</span><span class="ident" id="7960998">in</span><span class="op" id="7961000">[</span><span class="ident" id="7961001">done</span><span class="op" id="7961005">:</span><span class="ident" id="7961006">todo</span><span class="op" id="7961010">]</span><span class="op" id="7961011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961016">done</span>&nbsp;<span class="op" id="7961021">=</span>&nbsp;<span class="ident" id="7961023">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961030">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961035">dumper</span><span class="op" id="7961041">.</span><span class="ident" id="7961042">Close</span><span class="op" id="7961047">(</span><span class="op" id="7961048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961052">if</span>&nbsp;<span class="op" id="7961055">!</span><span class="ident" id="7961056">bytes</span><span class="op" id="7961061">.</span><span class="ident" id="7961062">Equal</span><span class="op" id="7961067">(</span><span class="ident" id="7961068">out</span><span class="op" id="7961071">.</span><span class="ident" id="7961072">Bytes</span><span class="op" id="7961077">(</span><span class="op" id="7961078">)</span><span class="op" id="7961079">,</span>&nbsp;<span class="ident" id="7961081">expectedHexDump</span><span class="op" id="7961096">)</span>&nbsp;<span class="op" id="7961098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961103">t</span><span class="op" id="7961104">.</span><span class="ident" id="7961105">Errorf</span><span class="op" id="7961111">(</span><span class="string" id="7961112">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7961152">,</span>&nbsp;<span class="ident" id="7961154">stride</span><span class="op" id="7961160">,</span>&nbsp;<span class="ident" id="7961162">out</span><span class="op" id="7961165">.</span><span class="ident" id="7961166">Bytes</span><span class="op" id="7961171">(</span><span class="op" id="7961172">)</span><span class="op" id="7961173">,</span>&nbsp;<span class="ident" id="7961175">expectedHexDump</span><span class="op" id="7961190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961194">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961197">}</span><br>
<span class="lineno"></span><span class="op" id="7961199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7961202">func</span>&nbsp;<span class="ident" id="7961207">TestDump</span><span class="op" id="7961215">(</span><span class="ident" id="7961216">t</span>&nbsp;<span class="op" id="7961218">*</span><span class="ident" id="7961219">testing</span><span class="op" id="7961226">.</span><span class="ident" id="7961227">T</span><span class="op" id="7961228">)</span>&nbsp;<span class="op" id="7961230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961233">var</span>&nbsp;<span class="ident" id="7961237">in</span>&nbsp;<span class="op" id="7961240">[</span><span class="num" id="7961241">40</span><span class="op" id="7961243">]</span><span class="builtintype" id="7961244">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961250">for</span>&nbsp;<span class="ident" id="7961254">i</span>&nbsp;<span class="op" id="7961256">:=</span>&nbsp;<span class="keyword" id="7961259">range</span>&nbsp;<span class="ident" id="7961265">in</span>&nbsp;<span class="op" id="7961268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961272">in</span><span class="op" id="7961274">[</span><span class="ident" id="7961275">i</span><span class="op" id="7961276">]</span>&nbsp;<span class="op" id="7961278">=</span>&nbsp;<span class="builtintype" id="7961280">byte</span><span class="op" id="7961284">(</span><span class="ident" id="7961285">i</span>&nbsp;<span class="op" id="7961287">+</span>&nbsp;<span class="num" id="7961289">30</span><span class="op" id="7961291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961298">out</span>&nbsp;<span class="op" id="7961302">:=</span>&nbsp;<span class="op" id="7961305">[</span><span class="op" id="7961306">]</span><span class="builtintype" id="7961307">byte</span><span class="op" id="7961311">(</span><span class="ident" id="7961312">Dump</span><span class="op" id="7961316">(</span><span class="ident" id="7961317">in</span><span class="op" id="7961319">[</span><span class="op" id="7961320">:</span><span class="op" id="7961321">]</span><span class="op" id="7961322">)</span><span class="op" id="7961323">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961326">if</span>&nbsp;<span class="op" id="7961329">!</span><span class="ident" id="7961330">bytes</span><span class="op" id="7961335">.</span><span class="ident" id="7961336">Equal</span><span class="op" id="7961341">(</span><span class="ident" id="7961342">out</span><span class="op" id="7961345">,</span>&nbsp;<span class="ident" id="7961347">expectedHexDump</span><span class="op" id="7961362">)</span>&nbsp;<span class="op" id="7961364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961368">t</span><span class="op" id="7961369">.</span><span class="ident" id="7961370">Errorf</span><span class="op" id="7961376">(</span><span class="string" id="7961377">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7961398">,</span>&nbsp;<span class="ident" id="7961400">out</span><span class="op" id="7961403">,</span>&nbsp;<span class="ident" id="7961405">expectedHexDump</span><span class="op" id="7961420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961423">}</span><br>
<span class="lineno"></span><span class="op" id="7961425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7961428">var</span>&nbsp;<span class="ident" id="7961432">expectedHexDump</span>&nbsp;<span class="op" id="7961448">=</span>&nbsp;<span class="op" id="7961450">[</span><span class="op" id="7961451">]</span><span class="builtintype" id="7961452">byte</span><span class="op" id="7961456">(</span><span class="string" id="7961457">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7961688">)</span>
</div>
</body>
</html>
