<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6918304">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6918359">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6918413">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6918464">package</span>&nbsp;<span class="ident" id="6918472">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6918480">import</span>&nbsp;<span class="op" id="6918487">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918490">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918499">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918517">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918524">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918530">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918536">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918553">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918570">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918581">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918592">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6918603">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6918618">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6918621">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="6918683">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="6918751">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="6918817">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="6918881">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6918949">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="6919013">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="6919085">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="6919156">//</span><br>
<span class="lineno">30</span><span class="comment" id="6919159">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="6919214">//</span><br>
<span class="lineno"></span><span class="comment" id="6919217">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="6919228">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6919237">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="6919247">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="6919258">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6919270">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="6919281">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6919288">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="6919315">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6919322">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="6919343">//</span><br>
<span class="lineno"></span><span class="comment" id="6919346">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="6919404">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="6919461">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6919518">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="6919581">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="6919639">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6919682">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="6919748">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6919806">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="6919863">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="6919923">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6919980">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="6920047">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="6920112">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6920161">//</span><br>
<span class="lineno"></span><span class="comment" id="6920164">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6920226">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="6920293">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="6920341">//</span><br>
<span class="lineno"></span><span class="comment" id="6920344">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="6920410">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="6920484">//</span><br>
<span class="lineno">65</span><span class="keyword" id="6920487">func</span>&nbsp;<span class="ident" id="6920492">TestRE2Search</span><span class="op" id="6920505">(</span><span class="ident" id="6920506">t</span>&nbsp;<span class="op" id="6920508">*</span><span class="ident" id="6920509">testing</span><span class="op" id="6920516">.</span><span class="ident" id="6920517">T</span><span class="op" id="6920518">)</span>&nbsp;<span class="op" id="6920520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920523">testRE2</span><span class="op" id="6920530">(</span><span class="ident" id="6920531">t</span><span class="op" id="6920532">,</span>&nbsp;<span class="string" id="6920534">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="6920559">)</span><br>
<span class="lineno"></span><span class="op" id="6920561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6920564">func</span>&nbsp;<span class="ident" id="6920569">testRE2</span><span class="op" id="6920576">(</span><span class="ident" id="6920577">t</span>&nbsp;<span class="op" id="6920579">*</span><span class="ident" id="6920580">testing</span><span class="op" id="6920587">.</span><span class="ident" id="6920588">T</span><span class="op" id="6920589">,</span>&nbsp;<span class="ident" id="6920591">file</span>&nbsp;<span class="builtintype" id="6920596">string</span><span class="op" id="6920602">)</span>&nbsp;<span class="op" id="6920604">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920607">f</span><span class="op" id="6920608">,</span>&nbsp;<span class="ident" id="6920610">err</span>&nbsp;<span class="op" id="6920614">:=</span>&nbsp;<span class="ident" id="6920617">os</span><span class="op" id="6920619">.</span><span class="ident" id="6920620">Open</span><span class="op" id="6920624">(</span><span class="ident" id="6920625">file</span><span class="op" id="6920629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920632">if</span>&nbsp;<span class="ident" id="6920635">err</span>&nbsp;<span class="op" id="6920639">!=</span>&nbsp;<span class="ident" id="6920642">nil</span>&nbsp;<span class="op" id="6920646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920650">t</span><span class="op" id="6920651">.</span><span class="ident" id="6920652">Fatal</span><span class="op" id="6920657">(</span><span class="ident" id="6920658">err</span><span class="op" id="6920661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920667">defer</span>&nbsp;<span class="ident" id="6920673">f</span><span class="op" id="6920674">.</span><span class="ident" id="6920675">Close</span><span class="op" id="6920680">(</span><span class="op" id="6920681">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920684">var</span>&nbsp;<span class="ident" id="6920688">txt</span>&nbsp;<span class="ident" id="6920692">io</span><span class="op" id="6920694">.</span><span class="ident" id="6920695">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920703">if</span>&nbsp;<span class="ident" id="6920706">strings</span><span class="op" id="6920713">.</span><span class="ident" id="6920714">HasSuffix</span><span class="op" id="6920723">(</span><span class="ident" id="6920724">file</span><span class="op" id="6920728">,</span>&nbsp;<span class="string" id="6920730">&#34;.bz2&#34;</span><span class="op" id="6920736">)</span>&nbsp;<span class="op" id="6920738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920742">z</span>&nbsp;<span class="op" id="6920744">:=</span>&nbsp;<span class="ident" id="6920747">bzip2</span><span class="op" id="6920752">.</span><span class="ident" id="6920753">NewReader</span><span class="op" id="6920762">(</span><span class="ident" id="6920763">f</span><span class="op" id="6920764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920768">txt</span>&nbsp;<span class="op" id="6920772">=</span>&nbsp;<span class="ident" id="6920774">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920778">file</span>&nbsp;<span class="op" id="6920783">=</span>&nbsp;<span class="ident" id="6920785">file</span><span class="op" id="6920789">[</span><span class="op" id="6920790">:</span><span class="builtinfunc" id="6920791">len</span><span class="op" id="6920794">(</span><span class="ident" id="6920795">file</span><span class="op" id="6920799">)</span><span class="op" id="6920800">-</span><span class="builtinfunc" id="6920801">len</span><span class="op" id="6920804">(</span><span class="string" id="6920805">&#34;.bz2&#34;</span><span class="op" id="6920811">)</span><span class="op" id="6920812">]</span>&nbsp;<span class="comment" id="6920814">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920837">}</span>&nbsp;<span class="keyword" id="6920839">else</span>&nbsp;<span class="op" id="6920844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920848">txt</span>&nbsp;<span class="op" id="6920852">=</span>&nbsp;<span class="ident" id="6920854">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6920857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920860">lineno</span>&nbsp;<span class="op" id="6920867">:=</span>&nbsp;<span class="num" id="6920870">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920873">scanner</span>&nbsp;<span class="op" id="6920881">:=</span>&nbsp;<span class="ident" id="6920884">bufio</span><span class="op" id="6920889">.</span><span class="ident" id="6920890">NewScanner</span><span class="op" id="6920900">(</span><span class="ident" id="6920901">txt</span><span class="op" id="6920904">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6920907">var</span>&nbsp;<span class="op" id="6920911">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920915">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6920925">[</span><span class="op" id="6920926">]</span><span class="builtintype" id="6920927">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920936">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6920946">[</span><span class="op" id="6920947">]</span><span class="builtintype" id="6920948">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920957">inStrings</span>&nbsp;<span class="builtintype" id="6920967">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920974">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6920984">*</span><span class="ident" id="6920985">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6920994">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6921004">*</span><span class="ident" id="6921005">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921014">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6921024">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921030">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6921040">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921048">for</span>&nbsp;<span class="ident" id="6921052">lineno</span>&nbsp;<span class="op" id="6921059">:=</span>&nbsp;<span class="num" id="6921062">1</span><span class="op" id="6921063">;</span>&nbsp;<span class="ident" id="6921065">scanner</span><span class="op" id="6921072">.</span><span class="ident" id="6921073">Scan</span><span class="op" id="6921077">(</span><span class="op" id="6921078">)</span><span class="op" id="6921079">;</span>&nbsp;<span class="ident" id="6921081">lineno</span><span class="op" id="6921087">++</span>&nbsp;<span class="op" id="6921090">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921094">line</span>&nbsp;<span class="op" id="6921099">:=</span>&nbsp;<span class="ident" id="6921102">scanner</span><span class="op" id="6921109">.</span><span class="ident" id="6921110">Text</span><span class="op" id="6921114">(</span><span class="op" id="6921115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921119">switch</span>&nbsp;<span class="op" id="6921126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921130">case</span>&nbsp;<span class="ident" id="6921135">line</span>&nbsp;<span class="op" id="6921140">==</span>&nbsp;<span class="string" id="6921143">&#34;&#34;</span><span class="op" id="6921145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921150">t</span><span class="op" id="6921151">.</span><span class="ident" id="6921152">Fatalf</span><span class="op" id="6921158">(</span><span class="string" id="6921159">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="6921189">,</span>&nbsp;<span class="ident" id="6921191">file</span><span class="op" id="6921195">,</span>&nbsp;<span class="ident" id="6921197">lineno</span><span class="op" id="6921203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921207">case</span>&nbsp;<span class="ident" id="6921212">line</span><span class="op" id="6921216">[</span><span class="num" id="6921217">0</span><span class="op" id="6921218">]</span>&nbsp;<span class="op" id="6921220">==</span>&nbsp;<span class="string" id="6921223">&#39;#&#39;</span><span class="op" id="6921226">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921231">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921242">case</span>&nbsp;<span class="string" id="6921247">&#39;A&#39;</span>&nbsp;<span class="op" id="6921251">&lt;=</span>&nbsp;<span class="ident" id="6921254">line</span><span class="op" id="6921258">[</span><span class="num" id="6921259">0</span><span class="op" id="6921260">]</span>&nbsp;<span class="op" id="6921262">&amp;&amp;</span>&nbsp;<span class="ident" id="6921265">line</span><span class="op" id="6921269">[</span><span class="num" id="6921270">0</span><span class="op" id="6921271">]</span>&nbsp;<span class="op" id="6921273">&lt;=</span>&nbsp;<span class="string" id="6921276">&#39;Z&#39;</span><span class="op" id="6921279">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921284">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921301">t</span><span class="op" id="6921302">.</span><span class="ident" id="6921303">Logf</span><span class="op" id="6921307">(</span><span class="string" id="6921308">&#34;%s\n&#34;</span><span class="op" id="6921314">,</span>&nbsp;<span class="ident" id="6921316">line</span><span class="op" id="6921320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921325">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921336">case</span>&nbsp;<span class="ident" id="6921341">line</span>&nbsp;<span class="op" id="6921346">==</span>&nbsp;<span class="string" id="6921349">&#34;strings&#34;</span><span class="op" id="6921358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921363">str</span>&nbsp;<span class="op" id="6921367">=</span>&nbsp;<span class="ident" id="6921369">str</span><span class="op" id="6921372">[</span><span class="op" id="6921373">:</span><span class="num" id="6921374">0</span><span class="op" id="6921375">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921380">inStrings</span>&nbsp;<span class="op" id="6921390">=</span>&nbsp;<span class="builtintype" id="6921392">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921399">case</span>&nbsp;<span class="ident" id="6921404">line</span>&nbsp;<span class="op" id="6921409">==</span>&nbsp;<span class="string" id="6921412">&#34;regexps&#34;</span><span class="op" id="6921421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921426">inStrings</span>&nbsp;<span class="op" id="6921436">=</span>&nbsp;<span class="builtintype" id="6921438">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921446">case</span>&nbsp;<span class="ident" id="6921451">line</span><span class="op" id="6921455">[</span><span class="num" id="6921456">0</span><span class="op" id="6921457">]</span>&nbsp;<span class="op" id="6921459">==</span>&nbsp;<span class="string" id="6921462">&#39;&#34;&#39;</span><span class="op" id="6921465">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921470">q</span><span class="op" id="6921471">,</span>&nbsp;<span class="ident" id="6921473">err</span>&nbsp;<span class="op" id="6921477">:=</span>&nbsp;<span class="ident" id="6921480">strconv</span><span class="op" id="6921487">.</span><span class="ident" id="6921488">Unquote</span><span class="op" id="6921495">(</span><span class="ident" id="6921496">line</span><span class="op" id="6921500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921505">if</span>&nbsp;<span class="ident" id="6921508">err</span>&nbsp;<span class="op" id="6921512">!=</span>&nbsp;<span class="ident" id="6921515">nil</span>&nbsp;<span class="op" id="6921519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921525">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921569">t</span><span class="op" id="6921570">.</span><span class="ident" id="6921571">Fatalf</span><span class="op" id="6921577">(</span><span class="string" id="6921578">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6921601">,</span>&nbsp;<span class="ident" id="6921603">file</span><span class="op" id="6921607">,</span>&nbsp;<span class="ident" id="6921609">lineno</span><span class="op" id="6921615">,</span>&nbsp;<span class="ident" id="6921617">line</span><span class="op" id="6921621">,</span>&nbsp;<span class="ident" id="6921623">err</span><span class="op" id="6921626">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921636">if</span>&nbsp;<span class="ident" id="6921639">inStrings</span>&nbsp;<span class="op" id="6921649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921655">str</span>&nbsp;<span class="op" id="6921659">=</span>&nbsp;<span class="builtinfunc" id="6921661">append</span><span class="op" id="6921667">(</span><span class="ident" id="6921668">str</span><span class="op" id="6921671">,</span>&nbsp;<span class="ident" id="6921673">q</span><span class="op" id="6921674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921680">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921692">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921697">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921716">if</span>&nbsp;<span class="builtinfunc" id="6921719">len</span><span class="op" id="6921722">(</span><span class="ident" id="6921723">input</span><span class="op" id="6921728">)</span>&nbsp;<span class="op" id="6921730">!=</span>&nbsp;<span class="num" id="6921733">0</span>&nbsp;<span class="op" id="6921735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921741">t</span><span class="op" id="6921742">.</span><span class="ident" id="6921743">Fatalf</span><span class="op" id="6921749">(</span><span class="string" id="6921750">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="6921803">,</span>&nbsp;<span class="ident" id="6921805">file</span><span class="op" id="6921809">,</span>&nbsp;<span class="ident" id="6921811">lineno</span><span class="op" id="6921817">,</span>&nbsp;<span class="builtinfunc" id="6921819">len</span><span class="op" id="6921822">(</span><span class="ident" id="6921823">input</span><span class="op" id="6921828">)</span><span class="op" id="6921829">,</span>&nbsp;<span class="ident" id="6921831">q</span><span class="op" id="6921832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6921837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6921842">re</span><span class="op" id="6921844">,</span>&nbsp;<span class="ident" id="6921846">err</span>&nbsp;<span class="op" id="6921850">=</span>&nbsp;<span class="ident" id="6921852">tryCompile</span><span class="op" id="6921862">(</span><span class="ident" id="6921863">q</span><span class="op" id="6921864">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921869">if</span>&nbsp;<span class="ident" id="6921872">err</span>&nbsp;<span class="op" id="6921876">!=</span>&nbsp;<span class="ident" id="6921879">nil</span>&nbsp;<span class="op" id="6921883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6921889">if</span>&nbsp;<span class="ident" id="6921892">err</span><span class="op" id="6921895">.</span><span class="ident" id="6921896">Error</span><span class="op" id="6921901">(</span><span class="op" id="6921902">)</span>&nbsp;<span class="op" id="6921904">==</span>&nbsp;<span class="string" id="6921907">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="6921962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6921969">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922032">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922045">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922051">t</span><span class="op" id="6922052">.</span><span class="ident" id="6922053">Errorf</span><span class="op" id="6922059">(</span><span class="string" id="6922060">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6922084">,</span>&nbsp;<span class="ident" id="6922086">file</span><span class="op" id="6922090">,</span>&nbsp;<span class="ident" id="6922092">lineno</span><span class="op" id="6922098">,</span>&nbsp;<span class="ident" id="6922100">q</span><span class="op" id="6922101">,</span>&nbsp;<span class="ident" id="6922103">err</span><span class="op" id="6922106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922112">if</span>&nbsp;<span class="ident" id="6922115">nfail</span><span class="op" id="6922120">++</span><span class="op" id="6922122">;</span>&nbsp;<span class="ident" id="6922124">nfail</span>&nbsp;<span class="op" id="6922130">&gt;=</span>&nbsp;<span class="num" id="6922133">100</span>&nbsp;<span class="op" id="6922137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922144">t</span><span class="op" id="6922145">.</span><span class="ident" id="6922146">Fatalf</span><span class="op" id="6922152">(</span><span class="string" id="6922153">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6922179">,</span>&nbsp;<span class="ident" id="6922181">nfail</span><span class="op" id="6922186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922198">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922215">full</span>&nbsp;<span class="op" id="6922220">:=</span>&nbsp;<span class="string" id="6922223">`\A(?:`</span>&nbsp;<span class="op" id="6922231">+</span>&nbsp;<span class="ident" id="6922233">q</span>&nbsp;<span class="op" id="6922235">+</span>&nbsp;<span class="string" id="6922237">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922246">refull</span><span class="op" id="6922252">,</span>&nbsp;<span class="ident" id="6922254">err</span>&nbsp;<span class="op" id="6922258">=</span>&nbsp;<span class="ident" id="6922260">tryCompile</span><span class="op" id="6922270">(</span><span class="ident" id="6922271">full</span><span class="op" id="6922275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922280">if</span>&nbsp;<span class="ident" id="6922283">err</span>&nbsp;<span class="op" id="6922287">!=</span>&nbsp;<span class="ident" id="6922290">nil</span>&nbsp;<span class="op" id="6922294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922300">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922359">t</span><span class="op" id="6922360">.</span><span class="ident" id="6922361">Fatalf</span><span class="op" id="6922367">(</span><span class="string" id="6922368">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6922397">,</span>&nbsp;<span class="ident" id="6922399">file</span><span class="op" id="6922403">,</span>&nbsp;<span class="ident" id="6922405">lineno</span><span class="op" id="6922411">,</span>&nbsp;<span class="ident" id="6922413">full</span><span class="op" id="6922417">,</span>&nbsp;<span class="ident" id="6922419">err</span><span class="op" id="6922422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922432">input</span>&nbsp;<span class="op" id="6922438">=</span>&nbsp;<span class="ident" id="6922440">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922446">case</span>&nbsp;<span class="ident" id="6922451">line</span><span class="op" id="6922455">[</span><span class="num" id="6922456">0</span><span class="op" id="6922457">]</span>&nbsp;<span class="op" id="6922459">==</span>&nbsp;<span class="string" id="6922462">&#39;-&#39;</span>&nbsp;<span class="op" id="6922466">||</span>&nbsp;<span class="string" id="6922469">&#39;0&#39;</span>&nbsp;<span class="op" id="6922473">&lt;=</span>&nbsp;<span class="ident" id="6922476">line</span><span class="op" id="6922480">[</span><span class="num" id="6922481">0</span><span class="op" id="6922482">]</span>&nbsp;<span class="op" id="6922484">&amp;&amp;</span>&nbsp;<span class="ident" id="6922487">line</span><span class="op" id="6922491">[</span><span class="num" id="6922492">0</span><span class="op" id="6922493">]</span>&nbsp;<span class="op" id="6922495">&lt;=</span>&nbsp;<span class="string" id="6922498">&#39;9&#39;</span><span class="op" id="6922501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922506">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922541">ncase</span><span class="op" id="6922546">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922552">if</span>&nbsp;<span class="ident" id="6922555">re</span>&nbsp;<span class="op" id="6922558">==</span>&nbsp;<span class="ident" id="6922561">nil</span>&nbsp;<span class="op" id="6922565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922571">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922611">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922623">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922628">if</span>&nbsp;<span class="builtinfunc" id="6922631">len</span><span class="op" id="6922634">(</span><span class="ident" id="6922635">input</span><span class="op" id="6922640">)</span>&nbsp;<span class="op" id="6922642">==</span>&nbsp;<span class="num" id="6922645">0</span>&nbsp;<span class="op" id="6922647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922653">t</span><span class="op" id="6922654">.</span><span class="ident" id="6922655">Fatalf</span><span class="op" id="6922661">(</span><span class="string" id="6922662">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="6922702">,</span>&nbsp;<span class="ident" id="6922704">file</span><span class="op" id="6922708">,</span>&nbsp;<span class="ident" id="6922710">lineno</span><span class="op" id="6922716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6922721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922726">var</span>&nbsp;<span class="ident" id="6922730">text</span>&nbsp;<span class="builtintype" id="6922735">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6922745">text</span><span class="op" id="6922749">,</span>&nbsp;<span class="ident" id="6922751">input</span>&nbsp;<span class="op" id="6922757">=</span>&nbsp;<span class="ident" id="6922759">input</span><span class="op" id="6922764">[</span><span class="num" id="6922765">0</span><span class="op" id="6922766">]</span><span class="op" id="6922767">,</span>&nbsp;<span class="ident" id="6922769">input</span><span class="op" id="6922774">[</span><span class="num" id="6922775">1</span><span class="op" id="6922776">:</span><span class="op" id="6922777">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6922782">if</span>&nbsp;<span class="op" id="6922785">!</span><span class="ident" id="6922786">isSingleBytes</span><span class="op" id="6922799">(</span><span class="ident" id="6922800">text</span><span class="op" id="6922804">)</span>&nbsp;<span class="op" id="6922806">&amp;&amp;</span>&nbsp;<span class="ident" id="6922809">strings</span><span class="op" id="6922816">.</span><span class="ident" id="6922817">Contains</span><span class="op" id="6922825">(</span><span class="ident" id="6922826">re</span><span class="op" id="6922828">.</span><span class="ident" id="6922829">String</span><span class="op" id="6922835">(</span><span class="op" id="6922836">)</span><span class="op" id="6922837">,</span>&nbsp;<span class="string" id="6922839">`\B`</span><span class="op" id="6922843">)</span>&nbsp;<span class="op" id="6922845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922851">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922898">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922943">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6922991">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6923042">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923085">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923102">res</span>&nbsp;<span class="op" id="6923106">:=</span>&nbsp;<span class="ident" id="6923109">strings</span><span class="op" id="6923116">.</span><span class="ident" id="6923117">Split</span><span class="op" id="6923122">(</span><span class="ident" id="6923123">line</span><span class="op" id="6923127">,</span>&nbsp;<span class="string" id="6923129">&#34;;&#34;</span><span class="op" id="6923132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923137">if</span>&nbsp;<span class="builtinfunc" id="6923140">len</span><span class="op" id="6923143">(</span><span class="ident" id="6923144">res</span><span class="op" id="6923147">)</span>&nbsp;<span class="op" id="6923149">!=</span>&nbsp;<span class="builtinfunc" id="6923152">len</span><span class="op" id="6923155">(</span><span class="ident" id="6923156">run</span><span class="op" id="6923159">)</span>&nbsp;<span class="op" id="6923161">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923167">t</span><span class="op" id="6923168">.</span><span class="ident" id="6923169">Fatalf</span><span class="op" id="6923175">(</span><span class="string" id="6923176">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6923214">,</span>&nbsp;<span class="ident" id="6923216">file</span><span class="op" id="6923220">,</span>&nbsp;<span class="ident" id="6923222">lineno</span><span class="op" id="6923228">,</span>&nbsp;<span class="builtinfunc" id="6923230">len</span><span class="op" id="6923233">(</span><span class="ident" id="6923234">res</span><span class="op" id="6923237">)</span><span class="op" id="6923238">,</span>&nbsp;<span class="builtinfunc" id="6923240">len</span><span class="op" id="6923243">(</span><span class="ident" id="6923244">run</span><span class="op" id="6923247">)</span><span class="op" id="6923248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923258">for</span>&nbsp;<span class="ident" id="6923262">i</span>&nbsp;<span class="op" id="6923264">:=</span>&nbsp;<span class="keyword" id="6923267">range</span>&nbsp;<span class="ident" id="6923273">res</span>&nbsp;<span class="op" id="6923277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923283">have</span><span class="op" id="6923287">,</span>&nbsp;<span class="ident" id="6923289">suffix</span>&nbsp;<span class="op" id="6923296">:=</span>&nbsp;<span class="ident" id="6923299">run</span><span class="op" id="6923302">[</span><span class="ident" id="6923303">i</span><span class="op" id="6923304">]</span><span class="op" id="6923305">(</span><span class="ident" id="6923306">re</span><span class="op" id="6923308">,</span>&nbsp;<span class="ident" id="6923310">refull</span><span class="op" id="6923316">,</span>&nbsp;<span class="ident" id="6923318">text</span><span class="op" id="6923322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923328">want</span>&nbsp;<span class="op" id="6923333">:=</span>&nbsp;<span class="ident" id="6923336">parseResult</span><span class="op" id="6923347">(</span><span class="ident" id="6923348">t</span><span class="op" id="6923349">,</span>&nbsp;<span class="ident" id="6923351">file</span><span class="op" id="6923355">,</span>&nbsp;<span class="ident" id="6923357">lineno</span><span class="op" id="6923363">,</span>&nbsp;<span class="ident" id="6923365">res</span><span class="op" id="6923368">[</span><span class="ident" id="6923369">i</span><span class="op" id="6923370">]</span><span class="op" id="6923371">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923377">if</span>&nbsp;<span class="op" id="6923380">!</span><span class="ident" id="6923381">same</span><span class="op" id="6923385">(</span><span class="ident" id="6923386">have</span><span class="op" id="6923390">,</span>&nbsp;<span class="ident" id="6923392">want</span><span class="op" id="6923396">)</span>&nbsp;<span class="op" id="6923398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923405">t</span><span class="op" id="6923406">.</span><span class="ident" id="6923407">Errorf</span><span class="op" id="6923413">(</span><span class="string" id="6923414">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6923465">,</span>&nbsp;<span class="ident" id="6923467">file</span><span class="op" id="6923471">,</span>&nbsp;<span class="ident" id="6923473">lineno</span><span class="op" id="6923479">,</span>&nbsp;<span class="ident" id="6923481">re</span><span class="op" id="6923483">,</span>&nbsp;<span class="ident" id="6923485">suffix</span><span class="op" id="6923491">,</span>&nbsp;<span class="ident" id="6923493">text</span><span class="op" id="6923497">,</span>&nbsp;<span class="ident" id="6923499">have</span><span class="op" id="6923503">,</span>&nbsp;<span class="ident" id="6923505">want</span><span class="op" id="6923509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923516">if</span>&nbsp;<span class="ident" id="6923519">nfail</span><span class="op" id="6923524">++</span><span class="op" id="6923526">;</span>&nbsp;<span class="ident" id="6923528">nfail</span>&nbsp;<span class="op" id="6923534">&gt;=</span>&nbsp;<span class="num" id="6923537">100</span>&nbsp;<span class="op" id="6923541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923549">t</span><span class="op" id="6923550">.</span><span class="ident" id="6923551">Fatalf</span><span class="op" id="6923557">(</span><span class="string" id="6923558">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6923584">,</span>&nbsp;<span class="ident" id="6923586">nfail</span><span class="op" id="6923591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923598">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923605">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923624">b</span><span class="op" id="6923625">,</span>&nbsp;<span class="ident" id="6923627">suffix</span>&nbsp;<span class="op" id="6923634">:=</span>&nbsp;<span class="ident" id="6923637">match</span><span class="op" id="6923642">[</span><span class="ident" id="6923643">i</span><span class="op" id="6923644">]</span><span class="op" id="6923645">(</span><span class="ident" id="6923646">re</span><span class="op" id="6923648">,</span>&nbsp;<span class="ident" id="6923650">refull</span><span class="op" id="6923656">,</span>&nbsp;<span class="ident" id="6923658">text</span><span class="op" id="6923662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923668">if</span>&nbsp;<span class="ident" id="6923671">b</span>&nbsp;<span class="op" id="6923673">!=</span>&nbsp;<span class="op" id="6923676">(</span><span class="ident" id="6923677">want</span>&nbsp;<span class="op" id="6923682">!=</span>&nbsp;<span class="ident" id="6923685">nil</span><span class="op" id="6923688">)</span>&nbsp;<span class="op" id="6923690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923697">t</span><span class="op" id="6923698">.</span><span class="ident" id="6923699">Errorf</span><span class="op" id="6923705">(</span><span class="string" id="6923706">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6923751">,</span>&nbsp;<span class="ident" id="6923753">file</span><span class="op" id="6923757">,</span>&nbsp;<span class="ident" id="6923759">lineno</span><span class="op" id="6923765">,</span>&nbsp;<span class="ident" id="6923767">re</span><span class="op" id="6923769">,</span>&nbsp;<span class="ident" id="6923771">suffix</span><span class="op" id="6923777">,</span>&nbsp;<span class="ident" id="6923779">text</span><span class="op" id="6923783">,</span>&nbsp;<span class="ident" id="6923785">b</span><span class="op" id="6923786">,</span>&nbsp;<span class="op" id="6923788">!</span><span class="ident" id="6923789">b</span><span class="op" id="6923790">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923797">if</span>&nbsp;<span class="ident" id="6923800">nfail</span><span class="op" id="6923805">++</span><span class="op" id="6923807">;</span>&nbsp;<span class="ident" id="6923809">nfail</span>&nbsp;<span class="op" id="6923815">&gt;=</span>&nbsp;<span class="num" id="6923818">100</span>&nbsp;<span class="op" id="6923822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923830">t</span><span class="op" id="6923831">.</span><span class="ident" id="6923832">Fatalf</span><span class="op" id="6923838">(</span><span class="string" id="6923839">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6923865">,</span>&nbsp;<span class="ident" id="6923867">nfail</span><span class="op" id="6923872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923886">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923899">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923909">default</span><span class="op" id="6923916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6923921">t</span><span class="op" id="6923922">.</span><span class="ident" id="6923923">Fatalf</span><span class="op" id="6923929">(</span><span class="string" id="6923930">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="6923956">,</span>&nbsp;<span class="ident" id="6923958">file</span><span class="op" id="6923962">,</span>&nbsp;<span class="ident" id="6923964">lineno</span><span class="op" id="6923970">,</span>&nbsp;<span class="ident" id="6923972">line</span><span class="op" id="6923976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923980">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6923983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6923986">if</span>&nbsp;<span class="ident" id="6923989">err</span>&nbsp;<span class="op" id="6923993">:=</span>&nbsp;<span class="ident" id="6923996">scanner</span><span class="op" id="6924003">.</span><span class="ident" id="6924004">Err</span><span class="op" id="6924007">(</span><span class="op" id="6924008">)</span><span class="op" id="6924009">;</span>&nbsp;<span class="ident" id="6924011">err</span>&nbsp;<span class="op" id="6924015">!=</span>&nbsp;<span class="ident" id="6924018">nil</span>&nbsp;<span class="op" id="6924022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924026">t</span><span class="op" id="6924027">.</span><span class="ident" id="6924028">Fatalf</span><span class="op" id="6924034">(</span><span class="string" id="6924035">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6924046">,</span>&nbsp;<span class="ident" id="6924048">file</span><span class="op" id="6924052">,</span>&nbsp;<span class="ident" id="6924054">lineno</span><span class="op" id="6924060">,</span>&nbsp;<span class="ident" id="6924062">err</span><span class="op" id="6924065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924071">if</span>&nbsp;<span class="builtinfunc" id="6924074">len</span><span class="op" id="6924077">(</span><span class="ident" id="6924078">input</span><span class="op" id="6924083">)</span>&nbsp;<span class="op" id="6924085">!=</span>&nbsp;<span class="num" id="6924088">0</span>&nbsp;<span class="op" id="6924090">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924094">t</span><span class="op" id="6924095">.</span><span class="ident" id="6924096">Fatalf</span><span class="op" id="6924102">(</span><span class="string" id="6924103">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="6924152">,</span>&nbsp;<span class="ident" id="6924154">file</span><span class="op" id="6924158">,</span>&nbsp;<span class="ident" id="6924160">lineno</span><span class="op" id="6924166">,</span>&nbsp;<span class="builtinfunc" id="6924168">len</span><span class="op" id="6924171">(</span><span class="ident" id="6924172">input</span><span class="op" id="6924177">)</span><span class="op" id="6924178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6924181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924184">t</span><span class="op" id="6924185">.</span><span class="ident" id="6924186">Logf</span><span class="op" id="6924190">(</span><span class="string" id="6924191">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="6924208">,</span>&nbsp;<span class="ident" id="6924210">ncase</span><span class="op" id="6924215">)</span><br>
<span class="lineno"></span><span class="op" id="6924217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6924220">var</span>&nbsp;<span class="ident" id="6924224">run</span>&nbsp;<span class="op" id="6924228">=</span>&nbsp;<span class="op" id="6924230">[</span><span class="op" id="6924231">]</span><span class="keyword" id="6924232">func</span><span class="op" id="6924236">(</span><span class="op" id="6924237">*</span><span class="ident" id="6924238">Regexp</span><span class="op" id="6924244">,</span>&nbsp;<span class="op" id="6924246">*</span><span class="ident" id="6924247">Regexp</span><span class="op" id="6924253">,</span>&nbsp;<span class="builtintype" id="6924255">string</span><span class="op" id="6924261">)</span>&nbsp;<span class="op" id="6924263">(</span><span class="op" id="6924264">[</span><span class="op" id="6924265">]</span><span class="builtintype" id="6924266">int</span><span class="op" id="6924269">,</span>&nbsp;<span class="builtintype" id="6924271">string</span><span class="op" id="6924277">)</span><span class="op" id="6924278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924281">runFull</span><span class="op" id="6924288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924291">runPartial</span><span class="op" id="6924301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924304">runFullLongest</span><span class="op" id="6924318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924321">runPartialLongest</span><span class="op" id="6924338">,</span><br>
<span class="lineno">205</span><span class="op" id="6924340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6924343">func</span>&nbsp;<span class="ident" id="6924348">runFull</span><span class="op" id="6924355">(</span><span class="ident" id="6924356">re</span><span class="op" id="6924358">,</span>&nbsp;<span class="ident" id="6924360">refull</span>&nbsp;<span class="op" id="6924367">*</span><span class="ident" id="6924368">Regexp</span><span class="op" id="6924374">,</span>&nbsp;<span class="ident" id="6924376">text</span>&nbsp;<span class="builtintype" id="6924381">string</span><span class="op" id="6924387">)</span>&nbsp;<span class="op" id="6924389">(</span><span class="op" id="6924390">[</span><span class="op" id="6924391">]</span><span class="builtintype" id="6924392">int</span><span class="op" id="6924395">,</span>&nbsp;<span class="builtintype" id="6924397">string</span><span class="op" id="6924403">)</span>&nbsp;<span class="op" id="6924405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924408">refull</span><span class="op" id="6924414">.</span><span class="ident" id="6924415">longest</span>&nbsp;<span class="op" id="6924423">=</span>&nbsp;<span class="builtintype" id="6924425">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924432">return</span>&nbsp;<span class="ident" id="6924439">refull</span><span class="op" id="6924445">.</span><span class="ident" id="6924446">FindStringSubmatchIndex</span><span class="op" id="6924469">(</span><span class="ident" id="6924470">text</span><span class="op" id="6924474">)</span><span class="op" id="6924475">,</span>&nbsp;<span class="string" id="6924477">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="6924486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6924489">func</span>&nbsp;<span class="ident" id="6924494">runPartial</span><span class="op" id="6924504">(</span><span class="ident" id="6924505">re</span><span class="op" id="6924507">,</span>&nbsp;<span class="ident" id="6924509">refull</span>&nbsp;<span class="op" id="6924516">*</span><span class="ident" id="6924517">Regexp</span><span class="op" id="6924523">,</span>&nbsp;<span class="ident" id="6924525">text</span>&nbsp;<span class="builtintype" id="6924530">string</span><span class="op" id="6924536">)</span>&nbsp;<span class="op" id="6924538">(</span><span class="op" id="6924539">[</span><span class="op" id="6924540">]</span><span class="builtintype" id="6924541">int</span><span class="op" id="6924544">,</span>&nbsp;<span class="builtintype" id="6924546">string</span><span class="op" id="6924552">)</span>&nbsp;<span class="op" id="6924554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924557">re</span><span class="op" id="6924559">.</span><span class="ident" id="6924560">longest</span>&nbsp;<span class="op" id="6924568">=</span>&nbsp;<span class="builtintype" id="6924570">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924577">return</span>&nbsp;<span class="ident" id="6924584">re</span><span class="op" id="6924586">.</span><span class="ident" id="6924587">FindStringSubmatchIndex</span><span class="op" id="6924610">(</span><span class="ident" id="6924611">text</span><span class="op" id="6924615">)</span><span class="op" id="6924616">,</span>&nbsp;<span class="string" id="6924618">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="6924621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6924624">func</span>&nbsp;<span class="ident" id="6924629">runFullLongest</span><span class="op" id="6924643">(</span><span class="ident" id="6924644">re</span><span class="op" id="6924646">,</span>&nbsp;<span class="ident" id="6924648">refull</span>&nbsp;<span class="op" id="6924655">*</span><span class="ident" id="6924656">Regexp</span><span class="op" id="6924662">,</span>&nbsp;<span class="ident" id="6924664">text</span>&nbsp;<span class="builtintype" id="6924669">string</span><span class="op" id="6924675">)</span>&nbsp;<span class="op" id="6924677">(</span><span class="op" id="6924678">[</span><span class="op" id="6924679">]</span><span class="builtintype" id="6924680">int</span><span class="op" id="6924683">,</span>&nbsp;<span class="builtintype" id="6924685">string</span><span class="op" id="6924691">)</span>&nbsp;<span class="op" id="6924693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924696">refull</span><span class="op" id="6924702">.</span><span class="ident" id="6924703">longest</span>&nbsp;<span class="op" id="6924711">=</span>&nbsp;<span class="builtintype" id="6924713">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924719">return</span>&nbsp;<span class="ident" id="6924726">refull</span><span class="op" id="6924732">.</span><span class="ident" id="6924733">FindStringSubmatchIndex</span><span class="op" id="6924756">(</span><span class="ident" id="6924757">text</span><span class="op" id="6924761">)</span><span class="op" id="6924762">,</span>&nbsp;<span class="string" id="6924764">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="6924781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6924784">func</span>&nbsp;<span class="ident" id="6924789">runPartialLongest</span><span class="op" id="6924806">(</span><span class="ident" id="6924807">re</span><span class="op" id="6924809">,</span>&nbsp;<span class="ident" id="6924811">refull</span>&nbsp;<span class="op" id="6924818">*</span><span class="ident" id="6924819">Regexp</span><span class="op" id="6924825">,</span>&nbsp;<span class="ident" id="6924827">text</span>&nbsp;<span class="builtintype" id="6924832">string</span><span class="op" id="6924838">)</span>&nbsp;<span class="op" id="6924840">(</span><span class="op" id="6924841">[</span><span class="op" id="6924842">]</span><span class="builtintype" id="6924843">int</span><span class="op" id="6924846">,</span>&nbsp;<span class="builtintype" id="6924848">string</span><span class="op" id="6924854">)</span>&nbsp;<span class="op" id="6924856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924859">re</span><span class="op" id="6924861">.</span><span class="ident" id="6924862">longest</span>&nbsp;<span class="op" id="6924870">=</span>&nbsp;<span class="builtintype" id="6924872">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6924878">return</span>&nbsp;<span class="ident" id="6924885">re</span><span class="op" id="6924887">.</span><span class="ident" id="6924888">FindStringSubmatchIndex</span><span class="op" id="6924911">(</span><span class="ident" id="6924912">text</span><span class="op" id="6924916">)</span><span class="op" id="6924917">,</span>&nbsp;<span class="string" id="6924919">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="6924931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6924934">var</span>&nbsp;<span class="ident" id="6924938">match</span>&nbsp;<span class="op" id="6924944">=</span>&nbsp;<span class="op" id="6924946">[</span><span class="op" id="6924947">]</span><span class="keyword" id="6924948">func</span><span class="op" id="6924952">(</span><span class="op" id="6924953">*</span><span class="ident" id="6924954">Regexp</span><span class="op" id="6924960">,</span>&nbsp;<span class="op" id="6924962">*</span><span class="ident" id="6924963">Regexp</span><span class="op" id="6924969">,</span>&nbsp;<span class="builtintype" id="6924971">string</span><span class="op" id="6924977">)</span>&nbsp;<span class="op" id="6924979">(</span><span class="builtintype" id="6924980">bool</span><span class="op" id="6924984">,</span>&nbsp;<span class="builtintype" id="6924986">string</span><span class="op" id="6924992">)</span><span class="op" id="6924993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6924996">matchFull</span><span class="op" id="6925005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925008">matchPartial</span><span class="op" id="6925020">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925023">matchFullLongest</span><span class="op" id="6925039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925042">matchPartialLongest</span><span class="op" id="6925061">,</span><br>
<span class="lineno"></span><span class="op" id="6925063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925066">func</span>&nbsp;<span class="ident" id="6925071">matchFull</span><span class="op" id="6925080">(</span><span class="ident" id="6925081">re</span><span class="op" id="6925083">,</span>&nbsp;<span class="ident" id="6925085">refull</span>&nbsp;<span class="op" id="6925092">*</span><span class="ident" id="6925093">Regexp</span><span class="op" id="6925099">,</span>&nbsp;<span class="ident" id="6925101">text</span>&nbsp;<span class="builtintype" id="6925106">string</span><span class="op" id="6925112">)</span>&nbsp;<span class="op" id="6925114">(</span><span class="builtintype" id="6925115">bool</span><span class="op" id="6925119">,</span>&nbsp;<span class="builtintype" id="6925121">string</span><span class="op" id="6925127">)</span>&nbsp;<span class="op" id="6925129">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925132">refull</span><span class="op" id="6925138">.</span><span class="ident" id="6925139">longest</span>&nbsp;<span class="op" id="6925147">=</span>&nbsp;<span class="builtintype" id="6925149">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925156">return</span>&nbsp;<span class="ident" id="6925163">refull</span><span class="op" id="6925169">.</span><span class="ident" id="6925170">MatchString</span><span class="op" id="6925181">(</span><span class="ident" id="6925182">text</span><span class="op" id="6925186">)</span><span class="op" id="6925187">,</span>&nbsp;<span class="string" id="6925189">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6925198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925201">func</span>&nbsp;<span class="ident" id="6925206">matchPartial</span><span class="op" id="6925218">(</span><span class="ident" id="6925219">re</span><span class="op" id="6925221">,</span>&nbsp;<span class="ident" id="6925223">refull</span>&nbsp;<span class="op" id="6925230">*</span><span class="ident" id="6925231">Regexp</span><span class="op" id="6925237">,</span>&nbsp;<span class="ident" id="6925239">text</span>&nbsp;<span class="builtintype" id="6925244">string</span><span class="op" id="6925250">)</span>&nbsp;<span class="op" id="6925252">(</span><span class="builtintype" id="6925253">bool</span><span class="op" id="6925257">,</span>&nbsp;<span class="builtintype" id="6925259">string</span><span class="op" id="6925265">)</span>&nbsp;<span class="op" id="6925267">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925270">re</span><span class="op" id="6925272">.</span><span class="ident" id="6925273">longest</span>&nbsp;<span class="op" id="6925281">=</span>&nbsp;<span class="builtintype" id="6925283">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925290">return</span>&nbsp;<span class="ident" id="6925297">re</span><span class="op" id="6925299">.</span><span class="ident" id="6925300">MatchString</span><span class="op" id="6925311">(</span><span class="ident" id="6925312">text</span><span class="op" id="6925316">)</span><span class="op" id="6925317">,</span>&nbsp;<span class="string" id="6925319">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6925322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925325">func</span>&nbsp;<span class="ident" id="6925330">matchFullLongest</span><span class="op" id="6925346">(</span><span class="ident" id="6925347">re</span><span class="op" id="6925349">,</span>&nbsp;<span class="ident" id="6925351">refull</span>&nbsp;<span class="op" id="6925358">*</span><span class="ident" id="6925359">Regexp</span><span class="op" id="6925365">,</span>&nbsp;<span class="ident" id="6925367">text</span>&nbsp;<span class="builtintype" id="6925372">string</span><span class="op" id="6925378">)</span>&nbsp;<span class="op" id="6925380">(</span><span class="builtintype" id="6925381">bool</span><span class="op" id="6925385">,</span>&nbsp;<span class="builtintype" id="6925387">string</span><span class="op" id="6925393">)</span>&nbsp;<span class="op" id="6925395">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925398">refull</span><span class="op" id="6925404">.</span><span class="ident" id="6925405">longest</span>&nbsp;<span class="op" id="6925413">=</span>&nbsp;<span class="builtintype" id="6925415">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925421">return</span>&nbsp;<span class="ident" id="6925428">refull</span><span class="op" id="6925434">.</span><span class="ident" id="6925435">MatchString</span><span class="op" id="6925446">(</span><span class="ident" id="6925447">text</span><span class="op" id="6925451">)</span><span class="op" id="6925452">,</span>&nbsp;<span class="string" id="6925454">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6925471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925474">func</span>&nbsp;<span class="ident" id="6925479">matchPartialLongest</span><span class="op" id="6925498">(</span><span class="ident" id="6925499">re</span><span class="op" id="6925501">,</span>&nbsp;<span class="ident" id="6925503">refull</span>&nbsp;<span class="op" id="6925510">*</span><span class="ident" id="6925511">Regexp</span><span class="op" id="6925517">,</span>&nbsp;<span class="ident" id="6925519">text</span>&nbsp;<span class="builtintype" id="6925524">string</span><span class="op" id="6925530">)</span>&nbsp;<span class="op" id="6925532">(</span><span class="builtintype" id="6925533">bool</span><span class="op" id="6925537">,</span>&nbsp;<span class="builtintype" id="6925539">string</span><span class="op" id="6925545">)</span>&nbsp;<span class="op" id="6925547">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925550">re</span><span class="op" id="6925552">.</span><span class="ident" id="6925553">longest</span>&nbsp;<span class="op" id="6925561">=</span>&nbsp;<span class="builtintype" id="6925563">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925569">return</span>&nbsp;<span class="ident" id="6925576">re</span><span class="op" id="6925578">.</span><span class="ident" id="6925579">MatchString</span><span class="op" id="6925590">(</span><span class="ident" id="6925591">text</span><span class="op" id="6925595">)</span><span class="op" id="6925596">,</span>&nbsp;<span class="string" id="6925598">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6925610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925613">func</span>&nbsp;<span class="ident" id="6925618">isSingleBytes</span><span class="op" id="6925631">(</span><span class="ident" id="6925632">s</span>&nbsp;<span class="builtintype" id="6925634">string</span><span class="op" id="6925640">)</span>&nbsp;<span class="builtintype" id="6925642">bool</span>&nbsp;<span class="op" id="6925647">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925650">for</span>&nbsp;<span class="ident" id="6925654">_</span><span class="op" id="6925655">,</span>&nbsp;<span class="ident" id="6925657">c</span>&nbsp;<span class="op" id="6925659">:=</span>&nbsp;<span class="keyword" id="6925662">range</span>&nbsp;<span class="ident" id="6925668">s</span>&nbsp;<span class="op" id="6925670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925674">if</span>&nbsp;<span class="ident" id="6925677">c</span>&nbsp;<span class="op" id="6925679">&gt;=</span>&nbsp;<span class="ident" id="6925682">utf8</span><span class="op" id="6925686">.</span><span class="ident" id="6925687">RuneSelf</span>&nbsp;<span class="op" id="6925696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925701">return</span>&nbsp;<span class="builtintype" id="6925708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925719">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925722">return</span>&nbsp;<span class="builtintype" id="6925729">true</span><br>
<span class="lineno"></span><span class="op" id="6925734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925737">func</span>&nbsp;<span class="ident" id="6925742">tryCompile</span><span class="op" id="6925752">(</span><span class="ident" id="6925753">s</span>&nbsp;<span class="builtintype" id="6925755">string</span><span class="op" id="6925761">)</span>&nbsp;<span class="op" id="6925763">(</span><span class="ident" id="6925764">re</span>&nbsp;<span class="op" id="6925767">*</span><span class="ident" id="6925768">Regexp</span><span class="op" id="6925774">,</span>&nbsp;<span class="ident" id="6925776">err</span>&nbsp;<span class="builtintype" id="6925780">error</span><span class="op" id="6925785">)</span>&nbsp;<span class="op" id="6925787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6925790">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925832">defer</span>&nbsp;<span class="keyword" id="6925838">func</span><span class="op" id="6925842">(</span><span class="op" id="6925843">)</span>&nbsp;<span class="op" id="6925845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925849">if</span>&nbsp;<span class="ident" id="6925852">r</span>&nbsp;<span class="op" id="6925854">:=</span>&nbsp;<span class="builtinfunc" id="6925857">recover</span><span class="op" id="6925864">(</span><span class="op" id="6925865">)</span><span class="op" id="6925866">;</span>&nbsp;<span class="ident" id="6925868">r</span>&nbsp;<span class="op" id="6925870">!=</span>&nbsp;<span class="ident" id="6925873">nil</span>&nbsp;<span class="op" id="6925877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6925882">err</span>&nbsp;<span class="op" id="6925886">=</span>&nbsp;<span class="ident" id="6925888">fmt</span><span class="op" id="6925891">.</span><span class="ident" id="6925892">Errorf</span><span class="op" id="6925898">(</span><span class="string" id="6925899">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="6925910">,</span>&nbsp;<span class="ident" id="6925912">r</span><span class="op" id="6925913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6925920">}</span><span class="op" id="6925921">(</span><span class="op" id="6925922">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6925925">return</span>&nbsp;<span class="ident" id="6925932">Compile</span><span class="op" id="6925939">(</span><span class="ident" id="6925940">s</span><span class="op" id="6925941">)</span><br>
<span class="lineno"></span><span class="op" id="6925943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6925946">func</span>&nbsp;<span class="ident" id="6925951">parseResult</span><span class="op" id="6925962">(</span><span class="ident" id="6925963">t</span>&nbsp;<span class="op" id="6925965">*</span><span class="ident" id="6925966">testing</span><span class="op" id="6925973">.</span><span class="ident" id="6925974">T</span><span class="op" id="6925975">,</span>&nbsp;<span class="ident" id="6925977">file</span>&nbsp;<span class="builtintype" id="6925982">string</span><span class="op" id="6925988">,</span>&nbsp;<span class="ident" id="6925990">lineno</span>&nbsp;<span class="builtintype" id="6925997">int</span><span class="op" id="6926000">,</span>&nbsp;<span class="ident" id="6926002">res</span>&nbsp;<span class="builtintype" id="6926006">string</span><span class="op" id="6926012">)</span>&nbsp;<span class="op" id="6926014">[</span><span class="op" id="6926015">]</span><span class="builtintype" id="6926016">int</span>&nbsp;<span class="op" id="6926020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6926023">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926058">if</span>&nbsp;<span class="ident" id="6926061">res</span>&nbsp;<span class="op" id="6926065">==</span>&nbsp;<span class="string" id="6926068">&#34;-&#34;</span>&nbsp;<span class="op" id="6926072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926076">return</span>&nbsp;<span class="ident" id="6926083">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6926091">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926139">n</span>&nbsp;<span class="op" id="6926141">:=</span>&nbsp;<span class="num" id="6926144">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926147">for</span>&nbsp;<span class="ident" id="6926151">j</span>&nbsp;<span class="op" id="6926153">:=</span>&nbsp;<span class="num" id="6926156">0</span><span class="op" id="6926157">;</span>&nbsp;<span class="ident" id="6926159">j</span>&nbsp;<span class="op" id="6926161">&lt;</span>&nbsp;<span class="builtinfunc" id="6926163">len</span><span class="op" id="6926166">(</span><span class="ident" id="6926167">res</span><span class="op" id="6926170">)</span><span class="op" id="6926171">;</span>&nbsp;<span class="ident" id="6926173">j</span><span class="op" id="6926174">++</span>&nbsp;<span class="op" id="6926177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926181">if</span>&nbsp;<span class="ident" id="6926184">res</span><span class="op" id="6926187">[</span><span class="ident" id="6926188">j</span><span class="op" id="6926189">]</span>&nbsp;<span class="op" id="6926191">==</span>&nbsp;<span class="string" id="6926194">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6926198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926203">n</span><span class="op" id="6926204">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926212">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926215">out</span>&nbsp;<span class="op" id="6926219">:=</span>&nbsp;<span class="builtinfunc" id="6926222">make</span><span class="op" id="6926226">(</span><span class="op" id="6926227">[</span><span class="op" id="6926228">]</span><span class="builtintype" id="6926229">int</span><span class="op" id="6926232">,</span>&nbsp;<span class="num" id="6926234">2</span><span class="op" id="6926235">*</span><span class="ident" id="6926236">n</span><span class="op" id="6926237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926240">i</span>&nbsp;<span class="op" id="6926242">:=</span>&nbsp;<span class="num" id="6926245">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926248">n</span>&nbsp;<span class="op" id="6926250">=</span>&nbsp;<span class="num" id="6926252">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926255">for</span>&nbsp;<span class="ident" id="6926259">j</span>&nbsp;<span class="op" id="6926261">:=</span>&nbsp;<span class="num" id="6926264">0</span><span class="op" id="6926265">;</span>&nbsp;<span class="ident" id="6926267">j</span>&nbsp;<span class="op" id="6926269">&lt;=</span>&nbsp;<span class="builtinfunc" id="6926272">len</span><span class="op" id="6926275">(</span><span class="ident" id="6926276">res</span><span class="op" id="6926279">)</span><span class="op" id="6926280">;</span>&nbsp;<span class="ident" id="6926282">j</span><span class="op" id="6926283">++</span>&nbsp;<span class="op" id="6926286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926290">if</span>&nbsp;<span class="ident" id="6926293">j</span>&nbsp;<span class="op" id="6926295">==</span>&nbsp;<span class="builtinfunc" id="6926298">len</span><span class="op" id="6926301">(</span><span class="ident" id="6926302">res</span><span class="op" id="6926305">)</span>&nbsp;<span class="op" id="6926307">||</span>&nbsp;<span class="ident" id="6926310">res</span><span class="op" id="6926313">[</span><span class="ident" id="6926314">j</span><span class="op" id="6926315">]</span>&nbsp;<span class="op" id="6926317">==</span>&nbsp;<span class="string" id="6926320">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6926324">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6926329">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926380">pair</span>&nbsp;<span class="op" id="6926385">:=</span>&nbsp;<span class="ident" id="6926388">res</span><span class="op" id="6926391">[</span><span class="ident" id="6926392">i</span><span class="op" id="6926393">:</span><span class="ident" id="6926394">j</span><span class="op" id="6926395">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926400">if</span>&nbsp;<span class="ident" id="6926403">pair</span>&nbsp;<span class="op" id="6926408">==</span>&nbsp;<span class="string" id="6926411">&#34;-&#34;</span>&nbsp;<span class="op" id="6926415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926421">out</span><span class="op" id="6926424">[</span><span class="ident" id="6926425">n</span><span class="op" id="6926426">]</span>&nbsp;<span class="op" id="6926428">=</span>&nbsp;<span class="op" id="6926430">-</span><span class="num" id="6926431">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926437">out</span><span class="op" id="6926440">[</span><span class="ident" id="6926441">n</span><span class="op" id="6926442">+</span><span class="num" id="6926443">1</span><span class="op" id="6926444">]</span>&nbsp;<span class="op" id="6926446">=</span>&nbsp;<span class="op" id="6926448">-</span><span class="num" id="6926449">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926454">}</span>&nbsp;<span class="keyword" id="6926456">else</span>&nbsp;<span class="op" id="6926461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926467">k</span>&nbsp;<span class="op" id="6926469">:=</span>&nbsp;<span class="ident" id="6926472">strings</span><span class="op" id="6926479">.</span><span class="ident" id="6926480">Index</span><span class="op" id="6926485">(</span><span class="ident" id="6926486">pair</span><span class="op" id="6926490">,</span>&nbsp;<span class="string" id="6926492">&#34;-&#34;</span><span class="op" id="6926495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926501">if</span>&nbsp;<span class="ident" id="6926504">k</span>&nbsp;<span class="op" id="6926506">&lt;</span>&nbsp;<span class="num" id="6926508">0</span>&nbsp;<span class="op" id="6926510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926517">t</span><span class="op" id="6926518">.</span><span class="ident" id="6926519">Fatalf</span><span class="op" id="6926525">(</span><span class="string" id="6926526">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6926550">,</span>&nbsp;<span class="ident" id="6926552">file</span><span class="op" id="6926556">,</span>&nbsp;<span class="ident" id="6926558">lineno</span><span class="op" id="6926564">,</span>&nbsp;<span class="ident" id="6926566">pair</span><span class="op" id="6926570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926576">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926582">lo</span><span class="op" id="6926584">,</span>&nbsp;<span class="ident" id="6926586">err1</span>&nbsp;<span class="op" id="6926591">:=</span>&nbsp;<span class="ident" id="6926594">strconv</span><span class="op" id="6926601">.</span><span class="ident" id="6926602">Atoi</span><span class="op" id="6926606">(</span><span class="ident" id="6926607">pair</span><span class="op" id="6926611">[</span><span class="op" id="6926612">:</span><span class="ident" id="6926613">k</span><span class="op" id="6926614">]</span><span class="op" id="6926615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926621">hi</span><span class="op" id="6926623">,</span>&nbsp;<span class="ident" id="6926625">err2</span>&nbsp;<span class="op" id="6926630">:=</span>&nbsp;<span class="ident" id="6926633">strconv</span><span class="op" id="6926640">.</span><span class="ident" id="6926641">Atoi</span><span class="op" id="6926645">(</span><span class="ident" id="6926646">pair</span><span class="op" id="6926650">[</span><span class="ident" id="6926651">k</span><span class="op" id="6926652">+</span><span class="num" id="6926653">1</span><span class="op" id="6926654">:</span><span class="op" id="6926655">]</span><span class="op" id="6926656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926662">if</span>&nbsp;<span class="ident" id="6926665">err1</span>&nbsp;<span class="op" id="6926670">!=</span>&nbsp;<span class="ident" id="6926673">nil</span>&nbsp;<span class="op" id="6926677">||</span>&nbsp;<span class="ident" id="6926680">err2</span>&nbsp;<span class="op" id="6926685">!=</span>&nbsp;<span class="ident" id="6926688">nil</span>&nbsp;<span class="op" id="6926692">||</span>&nbsp;<span class="ident" id="6926695">lo</span>&nbsp;<span class="op" id="6926698">&gt;</span>&nbsp;<span class="ident" id="6926700">hi</span>&nbsp;<span class="op" id="6926703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926710">t</span><span class="op" id="6926711">.</span><span class="ident" id="6926712">Fatalf</span><span class="op" id="6926718">(</span><span class="string" id="6926719">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6926743">,</span>&nbsp;<span class="ident" id="6926745">file</span><span class="op" id="6926749">,</span>&nbsp;<span class="ident" id="6926751">lineno</span><span class="op" id="6926757">,</span>&nbsp;<span class="ident" id="6926759">pair</span><span class="op" id="6926763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926769">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926775">out</span><span class="op" id="6926778">[</span><span class="ident" id="6926779">n</span><span class="op" id="6926780">]</span>&nbsp;<span class="op" id="6926782">=</span>&nbsp;<span class="ident" id="6926784">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926791">out</span><span class="op" id="6926794">[</span><span class="ident" id="6926795">n</span><span class="op" id="6926796">+</span><span class="num" id="6926797">1</span><span class="op" id="6926798">]</span>&nbsp;<span class="op" id="6926800">=</span>&nbsp;<span class="ident" id="6926802">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926813">n</span>&nbsp;<span class="op" id="6926815">+=</span>&nbsp;<span class="num" id="6926818">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6926823">i</span>&nbsp;<span class="op" id="6926825">=</span>&nbsp;<span class="ident" id="6926827">j</span>&nbsp;<span class="op" id="6926829">+</span>&nbsp;<span class="num" id="6926831">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926841">return</span>&nbsp;<span class="ident" id="6926848">out</span><br>
<span class="lineno"></span><span class="op" id="6926852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6926855">func</span>&nbsp;<span class="ident" id="6926860">same</span><span class="op" id="6926864">(</span><span class="ident" id="6926865">x</span><span class="op" id="6926866">,</span>&nbsp;<span class="ident" id="6926868">y</span>&nbsp;<span class="op" id="6926870">[</span><span class="op" id="6926871">]</span><span class="builtintype" id="6926872">int</span><span class="op" id="6926875">)</span>&nbsp;<span class="builtintype" id="6926877">bool</span>&nbsp;<span class="op" id="6926882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926885">if</span>&nbsp;<span class="builtinfunc" id="6926888">len</span><span class="op" id="6926891">(</span><span class="ident" id="6926892">x</span><span class="op" id="6926893">)</span>&nbsp;<span class="op" id="6926895">!=</span>&nbsp;<span class="builtinfunc" id="6926898">len</span><span class="op" id="6926901">(</span><span class="ident" id="6926902">y</span><span class="op" id="6926903">)</span>&nbsp;<span class="op" id="6926905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926909">return</span>&nbsp;<span class="builtintype" id="6926916">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926926">for</span>&nbsp;<span class="ident" id="6926930">i</span><span class="op" id="6926931">,</span>&nbsp;<span class="ident" id="6926933">xi</span>&nbsp;<span class="op" id="6926936">:=</span>&nbsp;<span class="keyword" id="6926939">range</span>&nbsp;<span class="ident" id="6926945">x</span>&nbsp;<span class="op" id="6926947">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926951">if</span>&nbsp;<span class="ident" id="6926954">xi</span>&nbsp;<span class="op" id="6926957">!=</span>&nbsp;<span class="ident" id="6926960">y</span><span class="op" id="6926961">[</span><span class="ident" id="6926962">i</span><span class="op" id="6926963">]</span>&nbsp;<span class="op" id="6926965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926970">return</span>&nbsp;<span class="builtintype" id="6926977">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6926988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6926991">return</span>&nbsp;<span class="builtintype" id="6926998">true</span><br>
<span class="lineno">325</span><span class="op" id="6927003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6927006">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6927063">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="6927123">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="6927175">func</span>&nbsp;<span class="ident" id="6927180">TestFowler</span><span class="op" id="6927190">(</span><span class="ident" id="6927191">t</span>&nbsp;<span class="op" id="6927193">*</span><span class="ident" id="6927194">testing</span><span class="op" id="6927201">.</span><span class="ident" id="6927202">T</span><span class="op" id="6927203">)</span>&nbsp;<span class="op" id="6927205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927208">files</span><span class="op" id="6927213">,</span>&nbsp;<span class="ident" id="6927215">err</span>&nbsp;<span class="op" id="6927219">:=</span>&nbsp;<span class="ident" id="6927222">filepath</span><span class="op" id="6927230">.</span><span class="ident" id="6927231">Glob</span><span class="op" id="6927235">(</span><span class="string" id="6927236">&#34;testdata/*.dat&#34;</span><span class="op" id="6927252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927255">if</span>&nbsp;<span class="ident" id="6927258">err</span>&nbsp;<span class="op" id="6927262">!=</span>&nbsp;<span class="ident" id="6927265">nil</span>&nbsp;<span class="op" id="6927269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927273">t</span><span class="op" id="6927274">.</span><span class="ident" id="6927275">Fatal</span><span class="op" id="6927280">(</span><span class="ident" id="6927281">err</span><span class="op" id="6927284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927287">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927290">for</span>&nbsp;<span class="ident" id="6927294">_</span><span class="op" id="6927295">,</span>&nbsp;<span class="ident" id="6927297">file</span>&nbsp;<span class="op" id="6927302">:=</span>&nbsp;<span class="keyword" id="6927305">range</span>&nbsp;<span class="ident" id="6927311">files</span>&nbsp;<span class="op" id="6927317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927321">t</span><span class="op" id="6927322">.</span><span class="ident" id="6927323">Log</span><span class="op" id="6927326">(</span><span class="ident" id="6927327">file</span><span class="op" id="6927331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927335">testFowler</span><span class="op" id="6927345">(</span><span class="ident" id="6927346">t</span><span class="op" id="6927347">,</span>&nbsp;<span class="ident" id="6927349">file</span><span class="op" id="6927353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927356">}</span><br>
<span class="lineno"></span><span class="op" id="6927358">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6927361">var</span>&nbsp;<span class="ident" id="6927365">notab</span>&nbsp;<span class="op" id="6927371">=</span>&nbsp;<span class="ident" id="6927373">MustCompilePOSIX</span><span class="op" id="6927389">(</span><span class="string" id="6927390">`[^\t]+`</span><span class="op" id="6927398">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6927401">func</span>&nbsp;<span class="ident" id="6927406">testFowler</span><span class="op" id="6927416">(</span><span class="ident" id="6927417">t</span>&nbsp;<span class="op" id="6927419">*</span><span class="ident" id="6927420">testing</span><span class="op" id="6927427">.</span><span class="ident" id="6927428">T</span><span class="op" id="6927429">,</span>&nbsp;<span class="ident" id="6927431">file</span>&nbsp;<span class="builtintype" id="6927436">string</span><span class="op" id="6927442">)</span>&nbsp;<span class="op" id="6927444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927447">f</span><span class="op" id="6927448">,</span>&nbsp;<span class="ident" id="6927450">err</span>&nbsp;<span class="op" id="6927454">:=</span>&nbsp;<span class="ident" id="6927457">os</span><span class="op" id="6927459">.</span><span class="ident" id="6927460">Open</span><span class="op" id="6927464">(</span><span class="ident" id="6927465">file</span><span class="op" id="6927469">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927472">if</span>&nbsp;<span class="ident" id="6927475">err</span>&nbsp;<span class="op" id="6927479">!=</span>&nbsp;<span class="ident" id="6927482">nil</span>&nbsp;<span class="op" id="6927486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927490">t</span><span class="op" id="6927491">.</span><span class="ident" id="6927492">Error</span><span class="op" id="6927497">(</span><span class="ident" id="6927498">err</span><span class="op" id="6927501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927505">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927516">defer</span>&nbsp;<span class="ident" id="6927522">f</span><span class="op" id="6927523">.</span><span class="ident" id="6927524">Close</span><span class="op" id="6927529">(</span><span class="op" id="6927530">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927533">b</span>&nbsp;<span class="op" id="6927535">:=</span>&nbsp;<span class="ident" id="6927538">bufio</span><span class="op" id="6927543">.</span><span class="ident" id="6927544">NewReader</span><span class="op" id="6927553">(</span><span class="ident" id="6927554">f</span><span class="op" id="6927555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927558">lineno</span>&nbsp;<span class="op" id="6927565">:=</span>&nbsp;<span class="num" id="6927568">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927571">lastRegexp</span>&nbsp;<span class="op" id="6927582">:=</span>&nbsp;<span class="string" id="6927585">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="6927588">Reading</span><span class="op" id="6927595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927598">for</span>&nbsp;<span class="op" id="6927602">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927606">lineno</span><span class="op" id="6927612">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927617">line</span><span class="op" id="6927621">,</span>&nbsp;<span class="ident" id="6927623">err</span>&nbsp;<span class="op" id="6927627">:=</span>&nbsp;<span class="ident" id="6927630">b</span><span class="op" id="6927631">.</span><span class="ident" id="6927632">ReadString</span><span class="op" id="6927642">(</span><span class="string" id="6927643">&#39;\n&#39;</span><span class="op" id="6927647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927651">if</span>&nbsp;<span class="ident" id="6927654">err</span>&nbsp;<span class="op" id="6927658">!=</span>&nbsp;<span class="ident" id="6927661">nil</span>&nbsp;<span class="op" id="6927665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927670">if</span>&nbsp;<span class="ident" id="6927673">err</span>&nbsp;<span class="op" id="6927677">!=</span>&nbsp;<span class="ident" id="6927680">io</span><span class="op" id="6927682">.</span><span class="ident" id="6927683">EOF</span>&nbsp;<span class="op" id="6927687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6927693">t</span><span class="op" id="6927694">.</span><span class="ident" id="6927695">Errorf</span><span class="op" id="6927701">(</span><span class="string" id="6927702">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6927713">,</span>&nbsp;<span class="ident" id="6927715">file</span><span class="op" id="6927719">,</span>&nbsp;<span class="ident" id="6927721">lineno</span><span class="op" id="6927727">,</span>&nbsp;<span class="ident" id="6927729">err</span><span class="op" id="6927732">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6927742">break</span>&nbsp;<span class="ident" id="6927748">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6927758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927763">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927826">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927831">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927849">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927920">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6927990">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928061">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928079">if</span>&nbsp;<span class="ident" id="6928082">line</span><span class="op" id="6928086">[</span><span class="num" id="6928087">0</span><span class="op" id="6928088">]</span>&nbsp;<span class="op" id="6928090">==</span>&nbsp;<span class="string" id="6928093">&#39;#&#39;</span>&nbsp;<span class="op" id="6928097">||</span>&nbsp;<span class="ident" id="6928100">line</span><span class="op" id="6928104">[</span><span class="num" id="6928105">0</span><span class="op" id="6928106">]</span>&nbsp;<span class="op" id="6928108">==</span>&nbsp;<span class="string" id="6928111">&#39;\n&#39;</span>&nbsp;<span class="op" id="6928116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928121">continue</span>&nbsp;<span class="ident" id="6928130">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928144">line</span>&nbsp;<span class="op" id="6928149">=</span>&nbsp;<span class="ident" id="6928151">line</span><span class="op" id="6928155">[</span><span class="op" id="6928156">:</span><span class="builtinfunc" id="6928157">len</span><span class="op" id="6928160">(</span><span class="ident" id="6928161">line</span><span class="op" id="6928165">)</span><span class="op" id="6928166">-</span><span class="num" id="6928167">1</span><span class="op" id="6928168">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928172">field</span>&nbsp;<span class="op" id="6928178">:=</span>&nbsp;<span class="ident" id="6928181">notab</span><span class="op" id="6928186">.</span><span class="ident" id="6928187">FindAllString</span><span class="op" id="6928200">(</span><span class="ident" id="6928201">line</span><span class="op" id="6928205">,</span>&nbsp;<span class="op" id="6928207">-</span><span class="num" id="6928208">1</span><span class="op" id="6928209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928213">for</span>&nbsp;<span class="ident" id="6928217">i</span><span class="op" id="6928218">,</span>&nbsp;<span class="ident" id="6928220">f</span>&nbsp;<span class="op" id="6928222">:=</span>&nbsp;<span class="keyword" id="6928225">range</span>&nbsp;<span class="ident" id="6928231">field</span>&nbsp;<span class="op" id="6928237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928242">if</span>&nbsp;<span class="ident" id="6928245">f</span>&nbsp;<span class="op" id="6928247">==</span>&nbsp;<span class="string" id="6928250">&#34;NULL&#34;</span>&nbsp;<span class="op" id="6928257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928263">field</span><span class="op" id="6928268">[</span><span class="ident" id="6928269">i</span><span class="op" id="6928270">]</span>&nbsp;<span class="op" id="6928272">=</span>&nbsp;<span class="string" id="6928274">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928280">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928285">if</span>&nbsp;<span class="ident" id="6928288">f</span>&nbsp;<span class="op" id="6928290">==</span>&nbsp;<span class="string" id="6928293">&#34;NIL&#34;</span>&nbsp;<span class="op" id="6928299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6928305">t</span><span class="op" id="6928306">.</span><span class="ident" id="6928307">Logf</span><span class="op" id="6928311">(</span><span class="string" id="6928312">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="6928329">,</span>&nbsp;<span class="ident" id="6928331">file</span><span class="op" id="6928335">,</span>&nbsp;<span class="ident" id="6928337">lineno</span><span class="op" id="6928343">,</span>&nbsp;<span class="ident" id="6928345">line</span><span class="op" id="6928349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928355">continue</span>&nbsp;<span class="ident" id="6928364">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928379">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928383">if</span>&nbsp;<span class="builtinfunc" id="6928386">len</span><span class="op" id="6928389">(</span><span class="ident" id="6928390">field</span><span class="op" id="6928395">)</span>&nbsp;<span class="op" id="6928397">==</span>&nbsp;<span class="num" id="6928400">0</span>&nbsp;<span class="op" id="6928402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6928407">continue</span>&nbsp;<span class="ident" id="6928416">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6928426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928431">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928506">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928578">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928650">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928729">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928788">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928793">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928833">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928871">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928923">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6928959">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929045">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929050">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929095">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929139">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929187">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929238">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929282">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929338">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929400">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929448">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929482">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929516">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929566">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929601">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929639">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929681">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929735">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929779">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929823">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929859">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929902">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6929961">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930024">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930075">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930126">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930172">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930217">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930261">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930334">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930406">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930477">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930482">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930512">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930517">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930578">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930583">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930661">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930726">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930798">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930847">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930889">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930913">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930918">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6930968">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931063">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931095">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931100">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931155">flag</span>&nbsp;<span class="op" id="6931160">:=</span>&nbsp;<span class="ident" id="6931163">field</span><span class="op" id="6931168">[</span><span class="num" id="6931169">0</span><span class="op" id="6931170">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931174">switch</span>&nbsp;<span class="ident" id="6931181">flag</span><span class="op" id="6931185">[</span><span class="num" id="6931186">0</span><span class="op" id="6931187">]</span>&nbsp;<span class="op" id="6931189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931193">case</span>&nbsp;<span class="string" id="6931198">&#39;?&#39;</span><span class="op" id="6931201">,</span>&nbsp;<span class="string" id="6931203">&#39;&amp;&#39;</span><span class="op" id="6931206">,</span>&nbsp;<span class="string" id="6931208">&#39;|&#39;</span><span class="op" id="6931211">,</span>&nbsp;<span class="string" id="6931213">&#39;;&#39;</span><span class="op" id="6931216">,</span>&nbsp;<span class="string" id="6931218">&#39;{&#39;</span><span class="op" id="6931221">,</span>&nbsp;<span class="string" id="6931223">&#39;}&#39;</span><span class="op" id="6931226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931231">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931271">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931298">flag</span>&nbsp;<span class="op" id="6931303">=</span>&nbsp;<span class="ident" id="6931305">flag</span><span class="op" id="6931309">[</span><span class="num" id="6931310">1</span><span class="op" id="6931311">:</span><span class="op" id="6931312">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931317">if</span>&nbsp;<span class="ident" id="6931320">flag</span>&nbsp;<span class="op" id="6931325">==</span>&nbsp;<span class="string" id="6931328">&#34;&#34;</span>&nbsp;<span class="op" id="6931331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931337">continue</span>&nbsp;<span class="ident" id="6931346">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6931357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931361">case</span>&nbsp;<span class="string" id="6931366">&#39;:&#39;</span><span class="op" id="6931369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931374">i</span>&nbsp;<span class="op" id="6931376">:=</span>&nbsp;<span class="ident" id="6931379">strings</span><span class="op" id="6931386">.</span><span class="ident" id="6931387">Index</span><span class="op" id="6931392">(</span><span class="ident" id="6931393">flag</span><span class="op" id="6931397">[</span><span class="num" id="6931398">1</span><span class="op" id="6931399">:</span><span class="op" id="6931400">]</span><span class="op" id="6931401">,</span>&nbsp;<span class="string" id="6931403">&#34;:&#34;</span><span class="op" id="6931406">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931411">if</span>&nbsp;<span class="ident" id="6931414">i</span>&nbsp;<span class="op" id="6931416">&lt;</span>&nbsp;<span class="num" id="6931418">0</span>&nbsp;<span class="op" id="6931420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931426">t</span><span class="op" id="6931427">.</span><span class="ident" id="6931428">Logf</span><span class="op" id="6931432">(</span><span class="string" id="6931433">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6931443">,</span>&nbsp;<span class="ident" id="6931445">line</span><span class="op" id="6931449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931455">continue</span>&nbsp;<span class="ident" id="6931464">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6931475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931480">flag</span>&nbsp;<span class="op" id="6931485">=</span>&nbsp;<span class="ident" id="6931487">flag</span><span class="op" id="6931491">[</span><span class="num" id="6931492">1</span><span class="op" id="6931493">+</span><span class="ident" id="6931494">i</span><span class="op" id="6931495">+</span><span class="num" id="6931496">1</span><span class="op" id="6931497">:</span><span class="op" id="6931498">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931502">case</span>&nbsp;<span class="string" id="6931507">&#39;C&#39;</span><span class="op" id="6931510">,</span>&nbsp;<span class="string" id="6931512">&#39;N&#39;</span><span class="op" id="6931515">,</span>&nbsp;<span class="string" id="6931517">&#39;T&#39;</span><span class="op" id="6931520">,</span>&nbsp;<span class="string" id="6931522">&#39;0&#39;</span><span class="op" id="6931525">,</span>&nbsp;<span class="string" id="6931527">&#39;1&#39;</span><span class="op" id="6931530">,</span>&nbsp;<span class="string" id="6931532">&#39;2&#39;</span><span class="op" id="6931535">,</span>&nbsp;<span class="string" id="6931537">&#39;3&#39;</span><span class="op" id="6931540">,</span>&nbsp;<span class="string" id="6931542">&#39;4&#39;</span><span class="op" id="6931545">,</span>&nbsp;<span class="string" id="6931547">&#39;5&#39;</span><span class="op" id="6931550">,</span>&nbsp;<span class="string" id="6931552">&#39;6&#39;</span><span class="op" id="6931555">,</span>&nbsp;<span class="string" id="6931557">&#39;7&#39;</span><span class="op" id="6931560">,</span>&nbsp;<span class="string" id="6931562">&#39;8&#39;</span><span class="op" id="6931565">,</span>&nbsp;<span class="string" id="6931567">&#39;9&#39;</span><span class="op" id="6931570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931575">t</span><span class="op" id="6931576">.</span><span class="ident" id="6931577">Logf</span><span class="op" id="6931581">(</span><span class="string" id="6931582">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6931592">,</span>&nbsp;<span class="ident" id="6931594">line</span><span class="op" id="6931598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931603">continue</span>&nbsp;<span class="ident" id="6931612">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6931622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931627">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931705">if</span>&nbsp;<span class="builtinfunc" id="6931708">len</span><span class="op" id="6931711">(</span><span class="ident" id="6931712">field</span><span class="op" id="6931717">)</span>&nbsp;<span class="op" id="6931719">&lt;</span>&nbsp;<span class="num" id="6931721">4</span>&nbsp;<span class="op" id="6931723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931728">t</span><span class="op" id="6931729">.</span><span class="ident" id="6931730">Errorf</span><span class="op" id="6931736">(</span><span class="string" id="6931737">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="6931764">,</span>&nbsp;<span class="ident" id="6931766">file</span><span class="op" id="6931770">,</span>&nbsp;<span class="ident" id="6931772">lineno</span><span class="op" id="6931778">,</span>&nbsp;<span class="ident" id="6931780">line</span><span class="op" id="6931784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931789">continue</span>&nbsp;<span class="ident" id="6931798">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6931808">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6931813">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931856">if</span>&nbsp;<span class="ident" id="6931859">strings</span><span class="op" id="6931866">.</span><span class="ident" id="6931867">Contains</span><span class="op" id="6931875">(</span><span class="ident" id="6931876">flag</span><span class="op" id="6931880">,</span>&nbsp;<span class="string" id="6931882">&#34;$&#34;</span><span class="op" id="6931885">)</span>&nbsp;<span class="op" id="6931887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931892">f</span>&nbsp;<span class="op" id="6931894">:=</span>&nbsp;<span class="string" id="6931897">`&#34;`</span>&nbsp;<span class="op" id="6931901">+</span>&nbsp;<span class="ident" id="6931903">field</span><span class="op" id="6931908">[</span><span class="num" id="6931909">1</span><span class="op" id="6931910">]</span>&nbsp;<span class="op" id="6931912">+</span>&nbsp;<span class="string" id="6931914">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6931921">if</span>&nbsp;<span class="ident" id="6931924">field</span><span class="op" id="6931929">[</span><span class="num" id="6931930">1</span><span class="op" id="6931931">]</span><span class="op" id="6931932">,</span>&nbsp;<span class="ident" id="6931934">err</span>&nbsp;<span class="op" id="6931938">=</span>&nbsp;<span class="ident" id="6931940">strconv</span><span class="op" id="6931947">.</span><span class="ident" id="6931948">Unquote</span><span class="op" id="6931955">(</span><span class="ident" id="6931956">f</span><span class="op" id="6931957">)</span><span class="op" id="6931958">;</span>&nbsp;<span class="ident" id="6931960">err</span>&nbsp;<span class="op" id="6931964">!=</span>&nbsp;<span class="ident" id="6931967">nil</span>&nbsp;<span class="op" id="6931971">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6931977">t</span><span class="op" id="6931978">.</span><span class="ident" id="6931979">Errorf</span><span class="op" id="6931985">(</span><span class="string" id="6931986">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6932012">,</span>&nbsp;<span class="ident" id="6932014">file</span><span class="op" id="6932018">,</span>&nbsp;<span class="ident" id="6932020">lineno</span><span class="op" id="6932026">,</span>&nbsp;<span class="ident" id="6932028">f</span><span class="op" id="6932029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6932034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932039">f</span>&nbsp;<span class="op" id="6932041">=</span>&nbsp;<span class="string" id="6932043">`&#34;`</span>&nbsp;<span class="op" id="6932047">+</span>&nbsp;<span class="ident" id="6932049">field</span><span class="op" id="6932054">[</span><span class="num" id="6932055">2</span><span class="op" id="6932056">]</span>&nbsp;<span class="op" id="6932058">+</span>&nbsp;<span class="string" id="6932060">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932067">if</span>&nbsp;<span class="ident" id="6932070">field</span><span class="op" id="6932075">[</span><span class="num" id="6932076">2</span><span class="op" id="6932077">]</span><span class="op" id="6932078">,</span>&nbsp;<span class="ident" id="6932080">err</span>&nbsp;<span class="op" id="6932084">=</span>&nbsp;<span class="ident" id="6932086">strconv</span><span class="op" id="6932093">.</span><span class="ident" id="6932094">Unquote</span><span class="op" id="6932101">(</span><span class="ident" id="6932102">f</span><span class="op" id="6932103">)</span><span class="op" id="6932104">;</span>&nbsp;<span class="ident" id="6932106">err</span>&nbsp;<span class="op" id="6932110">!=</span>&nbsp;<span class="ident" id="6932113">nil</span>&nbsp;<span class="op" id="6932117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932123">t</span><span class="op" id="6932124">.</span><span class="ident" id="6932125">Errorf</span><span class="op" id="6932131">(</span><span class="string" id="6932132">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6932158">,</span>&nbsp;<span class="ident" id="6932160">file</span><span class="op" id="6932164">,</span>&nbsp;<span class="ident" id="6932166">lineno</span><span class="op" id="6932172">,</span>&nbsp;<span class="ident" id="6932174">f</span><span class="op" id="6932175">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6932180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6932184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932189">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932264">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932301">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932306">if</span>&nbsp;<span class="ident" id="6932309">field</span><span class="op" id="6932314">[</span><span class="num" id="6932315">1</span><span class="op" id="6932316">]</span>&nbsp;<span class="op" id="6932318">==</span>&nbsp;<span class="string" id="6932321">&#34;SAME&#34;</span>&nbsp;<span class="op" id="6932328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932333">field</span><span class="op" id="6932338">[</span><span class="num" id="6932339">1</span><span class="op" id="6932340">]</span>&nbsp;<span class="op" id="6932342">=</span>&nbsp;<span class="ident" id="6932344">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6932357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932361">lastRegexp</span>&nbsp;<span class="op" id="6932372">=</span>&nbsp;<span class="ident" id="6932374">field</span><span class="op" id="6932379">[</span><span class="num" id="6932380">1</span><span class="op" id="6932381">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932386">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932423">text</span>&nbsp;<span class="op" id="6932428">:=</span>&nbsp;<span class="ident" id="6932431">field</span><span class="op" id="6932436">[</span><span class="num" id="6932437">2</span><span class="op" id="6932438">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932443">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932479">ok</span><span class="op" id="6932481">,</span>&nbsp;<span class="ident" id="6932483">shouldCompile</span><span class="op" id="6932496">,</span>&nbsp;<span class="ident" id="6932498">shouldMatch</span><span class="op" id="6932509">,</span>&nbsp;<span class="ident" id="6932511">pos</span>&nbsp;<span class="op" id="6932515">:=</span>&nbsp;<span class="ident" id="6932518">parseFowlerResult</span><span class="op" id="6932535">(</span><span class="ident" id="6932536">field</span><span class="op" id="6932541">[</span><span class="num" id="6932542">3</span><span class="op" id="6932543">]</span><span class="op" id="6932544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932548">if</span>&nbsp;<span class="op" id="6932551">!</span><span class="ident" id="6932552">ok</span>&nbsp;<span class="op" id="6932555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932560">t</span><span class="op" id="6932561">.</span><span class="ident" id="6932562">Errorf</span><span class="op" id="6932568">(</span><span class="string" id="6932569">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="6932601">,</span>&nbsp;<span class="ident" id="6932603">file</span><span class="op" id="6932607">,</span>&nbsp;<span class="ident" id="6932609">lineno</span><span class="op" id="6932615">,</span>&nbsp;<span class="ident" id="6932617">field</span><span class="op" id="6932622">[</span><span class="num" id="6932623">3</span><span class="op" id="6932624">]</span><span class="op" id="6932625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932630">continue</span>&nbsp;<span class="ident" id="6932639">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6932649">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932654">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932711">Testing</span><span class="op" id="6932718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932722">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932797">for</span>&nbsp;<span class="ident" id="6932801">_</span><span class="op" id="6932802">,</span>&nbsp;<span class="ident" id="6932804">c</span>&nbsp;<span class="op" id="6932806">:=</span>&nbsp;<span class="keyword" id="6932809">range</span>&nbsp;<span class="ident" id="6932815">flag</span>&nbsp;<span class="op" id="6932820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932825">pattern</span>&nbsp;<span class="op" id="6932833">:=</span>&nbsp;<span class="ident" id="6932836">field</span><span class="op" id="6932841">[</span><span class="num" id="6932842">1</span><span class="op" id="6932843">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6932848">syn</span>&nbsp;<span class="op" id="6932852">:=</span>&nbsp;<span class="ident" id="6932855">syntax</span><span class="op" id="6932861">.</span><span class="ident" id="6932862">POSIX</span>&nbsp;<span class="op" id="6932868">|</span>&nbsp;<span class="ident" id="6932870">syntax</span><span class="op" id="6932876">.</span><span class="ident" id="6932877">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932888">switch</span>&nbsp;<span class="ident" id="6932895">c</span>&nbsp;<span class="op" id="6932897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932902">default</span><span class="op" id="6932909">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932915">continue</span>&nbsp;<span class="ident" id="6932924">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932935">case</span>&nbsp;<span class="string" id="6932940">&#39;E&#39;</span><span class="op" id="6932943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6932949">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6932989">case</span>&nbsp;<span class="string" id="6932994">&#39;L&#39;</span><span class="op" id="6932997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6933003">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933018">pattern</span>&nbsp;<span class="op" id="6933026">=</span>&nbsp;<span class="ident" id="6933028">QuoteMeta</span><span class="op" id="6933037">(</span><span class="ident" id="6933038">pattern</span><span class="op" id="6933045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933056">for</span>&nbsp;<span class="ident" id="6933060">_</span><span class="op" id="6933061">,</span>&nbsp;<span class="ident" id="6933063">c</span>&nbsp;<span class="op" id="6933065">:=</span>&nbsp;<span class="keyword" id="6933068">range</span>&nbsp;<span class="ident" id="6933074">flag</span>&nbsp;<span class="op" id="6933079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933085">switch</span>&nbsp;<span class="ident" id="6933092">c</span>&nbsp;<span class="op" id="6933094">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933100">case</span>&nbsp;<span class="string" id="6933105">&#39;i&#39;</span><span class="op" id="6933108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933115">syn</span>&nbsp;<span class="op" id="6933119">|=</span>&nbsp;<span class="ident" id="6933122">syntax</span><span class="op" id="6933128">.</span><span class="ident" id="6933129">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933153">re</span><span class="op" id="6933155">,</span>&nbsp;<span class="ident" id="6933157">err</span>&nbsp;<span class="op" id="6933161">:=</span>&nbsp;<span class="ident" id="6933164">compile</span><span class="op" id="6933171">(</span><span class="ident" id="6933172">pattern</span><span class="op" id="6933179">,</span>&nbsp;<span class="ident" id="6933181">syn</span><span class="op" id="6933184">,</span>&nbsp;<span class="builtintype" id="6933186">true</span><span class="op" id="6933190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933195">if</span>&nbsp;<span class="ident" id="6933198">err</span>&nbsp;<span class="op" id="6933202">!=</span>&nbsp;<span class="ident" id="6933205">nil</span>&nbsp;<span class="op" id="6933209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933215">if</span>&nbsp;<span class="ident" id="6933218">shouldCompile</span>&nbsp;<span class="op" id="6933232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933239">t</span><span class="op" id="6933240">.</span><span class="ident" id="6933241">Errorf</span><span class="op" id="6933247">(</span><span class="string" id="6933248">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6933276">,</span>&nbsp;<span class="ident" id="6933278">file</span><span class="op" id="6933282">,</span>&nbsp;<span class="ident" id="6933284">lineno</span><span class="op" id="6933290">,</span>&nbsp;<span class="ident" id="6933292">pattern</span><span class="op" id="6933299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933305">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933311">continue</span>&nbsp;<span class="ident" id="6933320">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933336">if</span>&nbsp;<span class="op" id="6933339">!</span><span class="ident" id="6933340">shouldCompile</span>&nbsp;<span class="op" id="6933354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933360">t</span><span class="op" id="6933361">.</span><span class="ident" id="6933362">Errorf</span><span class="op" id="6933368">(</span><span class="string" id="6933369">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6933400">,</span>&nbsp;<span class="ident" id="6933402">file</span><span class="op" id="6933406">,</span>&nbsp;<span class="ident" id="6933408">lineno</span><span class="op" id="6933414">,</span>&nbsp;<span class="ident" id="6933416">pattern</span><span class="op" id="6933423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933429">continue</span>&nbsp;<span class="ident" id="6933438">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933454">match</span>&nbsp;<span class="op" id="6933460">:=</span>&nbsp;<span class="ident" id="6933463">re</span><span class="op" id="6933465">.</span><span class="ident" id="6933466">MatchString</span><span class="op" id="6933477">(</span><span class="ident" id="6933478">text</span><span class="op" id="6933482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933487">if</span>&nbsp;<span class="ident" id="6933490">match</span>&nbsp;<span class="op" id="6933496">!=</span>&nbsp;<span class="ident" id="6933499">shouldMatch</span>&nbsp;<span class="op" id="6933511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933517">t</span><span class="op" id="6933518">.</span><span class="ident" id="6933519">Errorf</span><span class="op" id="6933525">(</span><span class="string" id="6933526">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6933563">,</span>&nbsp;<span class="ident" id="6933565">file</span><span class="op" id="6933569">,</span>&nbsp;<span class="ident" id="6933571">lineno</span><span class="op" id="6933577">,</span>&nbsp;<span class="ident" id="6933579">pattern</span><span class="op" id="6933586">,</span>&nbsp;<span class="ident" id="6933588">text</span><span class="op" id="6933592">,</span>&nbsp;<span class="ident" id="6933594">match</span><span class="op" id="6933599">,</span>&nbsp;<span class="ident" id="6933601">shouldMatch</span><span class="op" id="6933612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933618">continue</span>&nbsp;<span class="ident" id="6933627">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933643">have</span>&nbsp;<span class="op" id="6933648">:=</span>&nbsp;<span class="ident" id="6933651">re</span><span class="op" id="6933653">.</span><span class="ident" id="6933654">FindStringSubmatchIndex</span><span class="op" id="6933677">(</span><span class="ident" id="6933678">text</span><span class="op" id="6933682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933687">if</span>&nbsp;<span class="op" id="6933690">(</span><span class="builtinfunc" id="6933691">len</span><span class="op" id="6933694">(</span><span class="ident" id="6933695">have</span><span class="op" id="6933699">)</span>&nbsp;<span class="op" id="6933701">&gt;</span>&nbsp;<span class="num" id="6933703">0</span><span class="op" id="6933704">)</span>&nbsp;<span class="op" id="6933706">!=</span>&nbsp;<span class="ident" id="6933709">match</span>&nbsp;<span class="op" id="6933715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933721">t</span><span class="op" id="6933722">.</span><span class="ident" id="6933723">Errorf</span><span class="op" id="6933729">(</span><span class="string" id="6933730">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6933795">,</span>&nbsp;<span class="ident" id="6933797">file</span><span class="op" id="6933801">,</span>&nbsp;<span class="ident" id="6933803">lineno</span><span class="op" id="6933809">,</span>&nbsp;<span class="ident" id="6933811">pattern</span><span class="op" id="6933818">,</span>&nbsp;<span class="ident" id="6933820">text</span><span class="op" id="6933824">,</span>&nbsp;<span class="ident" id="6933826">match</span><span class="op" id="6933831">,</span>&nbsp;<span class="ident" id="6933833">pattern</span><span class="op" id="6933840">,</span>&nbsp;<span class="ident" id="6933842">text</span><span class="op" id="6933846">,</span>&nbsp;<span class="ident" id="6933848">have</span><span class="op" id="6933852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933858">continue</span>&nbsp;<span class="ident" id="6933867">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933883">if</span>&nbsp;<span class="builtinfunc" id="6933886">len</span><span class="op" id="6933889">(</span><span class="ident" id="6933890">have</span><span class="op" id="6933894">)</span>&nbsp;<span class="op" id="6933896">&gt;</span>&nbsp;<span class="builtinfunc" id="6933898">len</span><span class="op" id="6933901">(</span><span class="ident" id="6933902">pos</span><span class="op" id="6933905">)</span>&nbsp;<span class="op" id="6933907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933913">have</span>&nbsp;<span class="op" id="6933918">=</span>&nbsp;<span class="ident" id="6933920">have</span><span class="op" id="6933924">[</span><span class="op" id="6933925">:</span><span class="builtinfunc" id="6933926">len</span><span class="op" id="6933929">(</span><span class="ident" id="6933930">pos</span><span class="op" id="6933933">)</span><span class="op" id="6933934">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6933939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6933944">if</span>&nbsp;<span class="op" id="6933947">!</span><span class="ident" id="6933948">same</span><span class="op" id="6933952">(</span><span class="ident" id="6933953">have</span><span class="op" id="6933957">,</span>&nbsp;<span class="ident" id="6933959">pos</span><span class="op" id="6933962">)</span>&nbsp;<span class="op" id="6933964">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6933970">t</span><span class="op" id="6933971">.</span><span class="ident" id="6933972">Errorf</span><span class="op" id="6933978">(</span><span class="string" id="6933979">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6934028">,</span>&nbsp;<span class="ident" id="6934030">file</span><span class="op" id="6934034">,</span>&nbsp;<span class="ident" id="6934036">lineno</span><span class="op" id="6934042">,</span>&nbsp;<span class="ident" id="6934044">pattern</span><span class="op" id="6934051">,</span>&nbsp;<span class="ident" id="6934053">text</span><span class="op" id="6934057">,</span>&nbsp;<span class="ident" id="6934059">have</span><span class="op" id="6934063">,</span>&nbsp;<span class="ident" id="6934065">pos</span><span class="op" id="6934068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6934073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6934077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6934080">}</span><br>
<span class="lineno"></span><span class="op" id="6934082">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="6934085">func</span>&nbsp;<span class="ident" id="6934090">parseFowlerResult</span><span class="op" id="6934107">(</span><span class="ident" id="6934108">s</span>&nbsp;<span class="builtintype" id="6934110">string</span><span class="op" id="6934116">)</span>&nbsp;<span class="op" id="6934118">(</span><span class="ident" id="6934119">ok</span><span class="op" id="6934121">,</span>&nbsp;<span class="ident" id="6934123">compiled</span><span class="op" id="6934131">,</span>&nbsp;<span class="ident" id="6934133">matched</span>&nbsp;<span class="builtintype" id="6934141">bool</span><span class="op" id="6934145">,</span>&nbsp;<span class="ident" id="6934147">pos</span>&nbsp;<span class="op" id="6934151">[</span><span class="op" id="6934152">]</span><span class="builtintype" id="6934153">int</span><span class="op" id="6934156">)</span>&nbsp;<span class="op" id="6934158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934161">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934232">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934302">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934371">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934441">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934510">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934581">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934656">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934732">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934805">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934881">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6934957">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935029">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935104">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935122">switch</span>&nbsp;<span class="op" id="6935129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935132">case</span>&nbsp;<span class="ident" id="6935137">s</span>&nbsp;<span class="op" id="6935139">==</span>&nbsp;<span class="string" id="6935142">&#34;&#34;</span><span class="op" id="6935144">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935148">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935189">ok</span>&nbsp;<span class="op" id="6935192">=</span>&nbsp;<span class="builtintype" id="6935194">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935201">compiled</span>&nbsp;<span class="op" id="6935210">=</span>&nbsp;<span class="builtintype" id="6935212">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935219">matched</span>&nbsp;<span class="op" id="6935227">=</span>&nbsp;<span class="builtintype" id="6935229">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935236">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935244">case</span>&nbsp;<span class="ident" id="6935249">s</span>&nbsp;<span class="op" id="6935251">==</span>&nbsp;<span class="string" id="6935254">&#34;NOMATCH&#34;</span><span class="op" id="6935263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935267">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935287">ok</span>&nbsp;<span class="op" id="6935290">=</span>&nbsp;<span class="builtintype" id="6935292">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935299">compiled</span>&nbsp;<span class="op" id="6935308">=</span>&nbsp;<span class="builtintype" id="6935310">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935317">matched</span>&nbsp;<span class="op" id="6935325">=</span>&nbsp;<span class="builtintype" id="6935327">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935335">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935343">case</span>&nbsp;<span class="string" id="6935348">&#39;A&#39;</span>&nbsp;<span class="op" id="6935352">&lt;=</span>&nbsp;<span class="ident" id="6935355">s</span><span class="op" id="6935356">[</span><span class="num" id="6935357">0</span><span class="op" id="6935358">]</span>&nbsp;<span class="op" id="6935360">&amp;&amp;</span>&nbsp;<span class="ident" id="6935363">s</span><span class="op" id="6935364">[</span><span class="num" id="6935365">0</span><span class="op" id="6935366">]</span>&nbsp;<span class="op" id="6935368">&lt;=</span>&nbsp;<span class="string" id="6935371">&#39;Z&#39;</span><span class="op" id="6935374">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935378">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935429">ok</span>&nbsp;<span class="op" id="6935432">=</span>&nbsp;<span class="builtintype" id="6935434">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935441">compiled</span>&nbsp;<span class="op" id="6935450">=</span>&nbsp;<span class="builtintype" id="6935452">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935460">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935468">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935471">compiled</span>&nbsp;<span class="op" id="6935480">=</span>&nbsp;<span class="builtintype" id="6935482">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935489">var</span>&nbsp;<span class="ident" id="6935493">x</span>&nbsp;<span class="op" id="6935495">[</span><span class="op" id="6935496">]</span><span class="builtintype" id="6935497">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935502">for</span>&nbsp;<span class="ident" id="6935506">s</span>&nbsp;<span class="op" id="6935508">!=</span>&nbsp;<span class="string" id="6935511">&#34;&#34;</span>&nbsp;<span class="op" id="6935514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935518">var</span>&nbsp;<span class="ident" id="6935522">end</span>&nbsp;<span class="builtintype" id="6935526">byte</span>&nbsp;<span class="op" id="6935531">=</span>&nbsp;<span class="string" id="6935533">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935539">if</span>&nbsp;<span class="builtinfunc" id="6935542">len</span><span class="op" id="6935545">(</span><span class="ident" id="6935546">x</span><span class="op" id="6935547">)</span><span class="op" id="6935548">%</span><span class="num" id="6935549">2</span>&nbsp;<span class="op" id="6935551">==</span>&nbsp;<span class="num" id="6935554">0</span>&nbsp;<span class="op" id="6935556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935561">if</span>&nbsp;<span class="ident" id="6935564">s</span><span class="op" id="6935565">[</span><span class="num" id="6935566">0</span><span class="op" id="6935567">]</span>&nbsp;<span class="op" id="6935569">!=</span>&nbsp;<span class="string" id="6935572">&#39;(&#39;</span>&nbsp;<span class="op" id="6935576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935582">ok</span>&nbsp;<span class="op" id="6935585">=</span>&nbsp;<span class="builtintype" id="6935587">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935597">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935607">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935612">s</span>&nbsp;<span class="op" id="6935614">=</span>&nbsp;<span class="ident" id="6935616">s</span><span class="op" id="6935617">[</span><span class="num" id="6935618">1</span><span class="op" id="6935619">:</span><span class="op" id="6935620">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935625">end</span>&nbsp;<span class="op" id="6935629">=</span>&nbsp;<span class="string" id="6935631">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935641">i</span>&nbsp;<span class="op" id="6935643">:=</span>&nbsp;<span class="num" id="6935646">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935650">for</span>&nbsp;<span class="ident" id="6935654">i</span>&nbsp;<span class="op" id="6935656">&lt;</span>&nbsp;<span class="builtinfunc" id="6935658">len</span><span class="op" id="6935661">(</span><span class="ident" id="6935662">s</span><span class="op" id="6935663">)</span>&nbsp;<span class="op" id="6935665">&amp;&amp;</span>&nbsp;<span class="ident" id="6935668">s</span><span class="op" id="6935669">[</span><span class="ident" id="6935670">i</span><span class="op" id="6935671">]</span>&nbsp;<span class="op" id="6935673">!=</span>&nbsp;<span class="ident" id="6935676">end</span>&nbsp;<span class="op" id="6935680">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935685">i</span><span class="op" id="6935686">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935695">if</span>&nbsp;<span class="ident" id="6935698">i</span>&nbsp;<span class="op" id="6935700">==</span>&nbsp;<span class="num" id="6935703">0</span>&nbsp;<span class="op" id="6935705">||</span>&nbsp;<span class="ident" id="6935708">i</span>&nbsp;<span class="op" id="6935710">==</span>&nbsp;<span class="builtinfunc" id="6935713">len</span><span class="op" id="6935716">(</span><span class="ident" id="6935717">s</span><span class="op" id="6935718">)</span>&nbsp;<span class="op" id="6935720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935725">ok</span>&nbsp;<span class="op" id="6935728">=</span>&nbsp;<span class="builtintype" id="6935730">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935739">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935752">var</span>&nbsp;<span class="ident" id="6935756">v</span>&nbsp;<span class="op" id="6935758">=</span>&nbsp;<span class="op" id="6935760">-</span><span class="num" id="6935761">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935765">var</span>&nbsp;<span class="ident" id="6935769">err</span>&nbsp;<span class="builtintype" id="6935773">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935781">if</span>&nbsp;<span class="ident" id="6935784">s</span><span class="op" id="6935785">[</span><span class="op" id="6935786">:</span><span class="ident" id="6935787">i</span><span class="op" id="6935788">]</span>&nbsp;<span class="op" id="6935790">!=</span>&nbsp;<span class="string" id="6935793">&#34;?&#34;</span>&nbsp;<span class="op" id="6935797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935802">v</span><span class="op" id="6935803">,</span>&nbsp;<span class="ident" id="6935805">err</span>&nbsp;<span class="op" id="6935809">=</span>&nbsp;<span class="ident" id="6935811">strconv</span><span class="op" id="6935818">.</span><span class="ident" id="6935819">Atoi</span><span class="op" id="6935823">(</span><span class="ident" id="6935824">s</span><span class="op" id="6935825">[</span><span class="op" id="6935826">:</span><span class="ident" id="6935827">i</span><span class="op" id="6935828">]</span><span class="op" id="6935829">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935834">if</span>&nbsp;<span class="ident" id="6935837">err</span>&nbsp;<span class="op" id="6935841">!=</span>&nbsp;<span class="ident" id="6935844">nil</span>&nbsp;<span class="op" id="6935848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935854">ok</span>&nbsp;<span class="op" id="6935857">=</span>&nbsp;<span class="builtintype" id="6935859">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935869">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935883">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935887">x</span>&nbsp;<span class="op" id="6935889">=</span>&nbsp;<span class="builtinfunc" id="6935891">append</span><span class="op" id="6935897">(</span><span class="ident" id="6935898">x</span><span class="op" id="6935899">,</span>&nbsp;<span class="ident" id="6935901">v</span><span class="op" id="6935902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935906">s</span>&nbsp;<span class="op" id="6935908">=</span>&nbsp;<span class="ident" id="6935910">s</span><span class="op" id="6935911">[</span><span class="ident" id="6935912">i</span><span class="op" id="6935913">+</span><span class="num" id="6935914">1</span><span class="op" id="6935915">:</span><span class="op" id="6935916">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935922">if</span>&nbsp;<span class="builtinfunc" id="6935925">len</span><span class="op" id="6935928">(</span><span class="ident" id="6935929">x</span><span class="op" id="6935930">)</span><span class="op" id="6935931">%</span><span class="num" id="6935932">2</span>&nbsp;<span class="op" id="6935934">!=</span>&nbsp;<span class="num" id="6935937">0</span>&nbsp;<span class="op" id="6935939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935943">ok</span>&nbsp;<span class="op" id="6935946">=</span>&nbsp;<span class="builtintype" id="6935948">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6935956">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935967">ok</span>&nbsp;<span class="op" id="6935970">=</span>&nbsp;<span class="builtintype" id="6935972">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935978">matched</span>&nbsp;<span class="op" id="6935986">=</span>&nbsp;<span class="builtintype" id="6935988">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935994">pos</span>&nbsp;<span class="op" id="6935998">=</span>&nbsp;<span class="ident" id="6936000">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936003">return</span><br>
<span class="lineno"></span><span class="op" id="6936010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6936013">var</span>&nbsp;<span class="ident" id="6936017">text</span>&nbsp;<span class="op" id="6936022">[</span><span class="op" id="6936023">]</span><span class="builtintype" id="6936024">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="6936030">func</span>&nbsp;<span class="ident" id="6936035">makeText</span><span class="op" id="6936043">(</span><span class="ident" id="6936044">n</span>&nbsp;<span class="builtintype" id="6936046">int</span><span class="op" id="6936049">)</span>&nbsp;<span class="op" id="6936051">[</span><span class="op" id="6936052">]</span><span class="builtintype" id="6936053">byte</span>&nbsp;<span class="op" id="6936058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936061">if</span>&nbsp;<span class="builtinfunc" id="6936064">len</span><span class="op" id="6936067">(</span><span class="ident" id="6936068">text</span><span class="op" id="6936072">)</span>&nbsp;<span class="op" id="6936074">&gt;=</span>&nbsp;<span class="ident" id="6936077">n</span>&nbsp;<span class="op" id="6936079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936083">return</span>&nbsp;<span class="ident" id="6936090">text</span><span class="op" id="6936094">[</span><span class="op" id="6936095">:</span><span class="ident" id="6936096">n</span><span class="op" id="6936097">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936103">text</span>&nbsp;<span class="op" id="6936108">=</span>&nbsp;<span class="builtinfunc" id="6936110">make</span><span class="op" id="6936114">(</span><span class="op" id="6936115">[</span><span class="op" id="6936116">]</span><span class="builtintype" id="6936117">byte</span><span class="op" id="6936121">,</span>&nbsp;<span class="ident" id="6936123">n</span><span class="op" id="6936124">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936127">x</span>&nbsp;<span class="op" id="6936129">:=</span>&nbsp;<span class="op" id="6936132">^</span><span class="builtintype" id="6936133">uint32</span><span class="op" id="6936139">(</span><span class="num" id="6936140">0</span><span class="op" id="6936141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936144">for</span>&nbsp;<span class="ident" id="6936148">i</span>&nbsp;<span class="op" id="6936150">:=</span>&nbsp;<span class="keyword" id="6936153">range</span>&nbsp;<span class="ident" id="6936159">text</span>&nbsp;<span class="op" id="6936164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936168">x</span>&nbsp;<span class="op" id="6936170">+=</span>&nbsp;<span class="ident" id="6936173">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936177">x</span>&nbsp;<span class="op" id="6936179">^=</span>&nbsp;<span class="num" id="6936182">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936186">if</span>&nbsp;<span class="builtintype" id="6936189">int32</span><span class="op" id="6936194">(</span><span class="ident" id="6936195">x</span><span class="op" id="6936196">)</span>&nbsp;<span class="op" id="6936198">&lt;</span>&nbsp;<span class="num" id="6936200">0</span>&nbsp;<span class="op" id="6936202">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936207">x</span>&nbsp;<span class="op" id="6936209">^=</span>&nbsp;<span class="num" id="6936212">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936229">if</span>&nbsp;<span class="ident" id="6936232">x</span><span class="op" id="6936233">%</span><span class="num" id="6936234">31</span>&nbsp;<span class="op" id="6936237">==</span>&nbsp;<span class="num" id="6936240">0</span>&nbsp;<span class="op" id="6936242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936247">text</span><span class="op" id="6936251">[</span><span class="ident" id="6936252">i</span><span class="op" id="6936253">]</span>&nbsp;<span class="op" id="6936255">=</span>&nbsp;<span class="string" id="6936257">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936264">}</span>&nbsp;<span class="keyword" id="6936266">else</span>&nbsp;<span class="op" id="6936271">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936276">text</span><span class="op" id="6936280">[</span><span class="ident" id="6936281">i</span><span class="op" id="6936282">]</span>&nbsp;<span class="op" id="6936284">=</span>&nbsp;<span class="builtintype" id="6936286">byte</span><span class="op" id="6936290">(</span><span class="ident" id="6936291">x</span><span class="op" id="6936292">%</span><span class="op" id="6936293">(</span><span class="num" id="6936294">0x7E</span><span class="op" id="6936298">+</span><span class="num" id="6936299">1</span><span class="op" id="6936300">-</span><span class="num" id="6936301">0x20</span><span class="op" id="6936305">)</span>&nbsp;<span class="op" id="6936307">+</span>&nbsp;<span class="num" id="6936309">0x20</span><span class="op" id="6936313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936323">return</span>&nbsp;<span class="ident" id="6936330">text</span><br>
<span class="lineno"></span><span class="op" id="6936335">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6936338">func</span>&nbsp;<span class="ident" id="6936343">benchmark</span><span class="op" id="6936352">(</span><span class="ident" id="6936353">b</span>&nbsp;<span class="op" id="6936355">*</span><span class="ident" id="6936356">testing</span><span class="op" id="6936363">.</span><span class="ident" id="6936364">B</span><span class="op" id="6936365">,</span>&nbsp;<span class="ident" id="6936367">re</span>&nbsp;<span class="builtintype" id="6936370">string</span><span class="op" id="6936376">,</span>&nbsp;<span class="ident" id="6936378">n</span>&nbsp;<span class="builtintype" id="6936380">int</span><span class="op" id="6936383">)</span>&nbsp;<span class="op" id="6936385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936388">r</span>&nbsp;<span class="op" id="6936390">:=</span>&nbsp;<span class="ident" id="6936393">MustCompile</span><span class="op" id="6936404">(</span><span class="ident" id="6936405">re</span><span class="op" id="6936407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936410">t</span>&nbsp;<span class="op" id="6936412">:=</span>&nbsp;<span class="ident" id="6936415">makeText</span><span class="op" id="6936423">(</span><span class="ident" id="6936424">n</span><span class="op" id="6936425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936428">b</span><span class="op" id="6936429">.</span><span class="ident" id="6936430">ResetTimer</span><span class="op" id="6936440">(</span><span class="op" id="6936441">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936444">b</span><span class="op" id="6936445">.</span><span class="ident" id="6936446">SetBytes</span><span class="op" id="6936454">(</span><span class="ident" id="6936455">int64</span><span class="op" id="6936460">(</span><span class="ident" id="6936461">n</span><span class="op" id="6936462">)</span><span class="op" id="6936463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936466">for</span>&nbsp;<span class="ident" id="6936470">i</span>&nbsp;<span class="op" id="6936472">:=</span>&nbsp;<span class="num" id="6936475">0</span><span class="op" id="6936476">;</span>&nbsp;<span class="ident" id="6936478">i</span>&nbsp;<span class="op" id="6936480">&lt;</span>&nbsp;<span class="ident" id="6936482">b</span><span class="op" id="6936483">.</span><span class="ident" id="6936484">N</span><span class="op" id="6936485">;</span>&nbsp;<span class="ident" id="6936487">i</span><span class="op" id="6936488">++</span>&nbsp;<span class="op" id="6936491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936495">if</span>&nbsp;<span class="ident" id="6936498">r</span><span class="op" id="6936499">.</span><span class="ident" id="6936500">Match</span><span class="op" id="6936505">(</span><span class="ident" id="6936506">t</span><span class="op" id="6936507">)</span>&nbsp;<span class="op" id="6936509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936514">b</span><span class="op" id="6936515">.</span><span class="ident" id="6936516">Fatal</span><span class="op" id="6936521">(</span><span class="string" id="6936522">&#34;match!&#34;</span><span class="op" id="6936530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936534">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936537">}</span><br>
<span class="lineno"></span><span class="op" id="6936539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6936542">const</span>&nbsp;<span class="op" id="6936548">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936551">easy0</span>&nbsp;&nbsp;<span class="op" id="6936558">=</span>&nbsp;<span class="string" id="6936560">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936591">easy1</span>&nbsp;&nbsp;<span class="op" id="6936598">=</span>&nbsp;<span class="string" id="6936600">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936651">medium</span>&nbsp;<span class="op" id="6936658">=</span>&nbsp;<span class="string" id="6936660">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936696">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6936703">=</span>&nbsp;<span class="string" id="6936705">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936742">parens</span>&nbsp;<span class="op" id="6936749">=</span>&nbsp;<span class="string" id="6936751">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="6936801">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6936805">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="6936848">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6936851">func</span>&nbsp;<span class="ident" id="6936856">BenchmarkMatchEasy0_32</span><span class="op" id="6936878">(</span><span class="ident" id="6936879">b</span>&nbsp;<span class="op" id="6936881">*</span><span class="ident" id="6936882">testing</span><span class="op" id="6936889">.</span><span class="ident" id="6936890">B</span><span class="op" id="6936891">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6936895">{</span>&nbsp;<span class="ident" id="6936897">benchmark</span><span class="op" id="6936906">(</span><span class="ident" id="6936907">b</span><span class="op" id="6936908">,</span>&nbsp;<span class="ident" id="6936910">easy0</span><span class="op" id="6936915">,</span>&nbsp;<span class="num" id="6936917">32</span><span class="op" id="6936919">&lt;&lt;</span><span class="num" id="6936921">0</span><span class="op" id="6936922">)</span>&nbsp;<span class="op" id="6936924">}</span><br>
<span class="lineno"></span><span class="keyword" id="6936926">func</span>&nbsp;<span class="ident" id="6936931">BenchmarkMatchEasy0_1K</span><span class="op" id="6936953">(</span><span class="ident" id="6936954">b</span>&nbsp;<span class="op" id="6936956">*</span><span class="ident" id="6936957">testing</span><span class="op" id="6936964">.</span><span class="ident" id="6936965">B</span><span class="op" id="6936966">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6936970">{</span>&nbsp;<span class="ident" id="6936972">benchmark</span><span class="op" id="6936981">(</span><span class="ident" id="6936982">b</span><span class="op" id="6936983">,</span>&nbsp;<span class="ident" id="6936985">easy0</span><span class="op" id="6936990">,</span>&nbsp;<span class="num" id="6936992">1</span><span class="op" id="6936993">&lt;&lt;</span><span class="num" id="6936995">10</span><span class="op" id="6936997">)</span>&nbsp;<span class="op" id="6936999">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937001">func</span>&nbsp;<span class="ident" id="6937006">BenchmarkMatchEasy0_32K</span><span class="op" id="6937029">(</span><span class="ident" id="6937030">b</span>&nbsp;<span class="op" id="6937032">*</span><span class="ident" id="6937033">testing</span><span class="op" id="6937040">.</span><span class="ident" id="6937041">B</span><span class="op" id="6937042">)</span>&nbsp;&nbsp;<span class="op" id="6937045">{</span>&nbsp;<span class="ident" id="6937047">benchmark</span><span class="op" id="6937056">(</span><span class="ident" id="6937057">b</span><span class="op" id="6937058">,</span>&nbsp;<span class="ident" id="6937060">easy0</span><span class="op" id="6937065">,</span>&nbsp;<span class="num" id="6937067">32</span><span class="op" id="6937069">&lt;&lt;</span><span class="num" id="6937071">10</span><span class="op" id="6937073">)</span>&nbsp;<span class="op" id="6937075">}</span><br>
<span class="lineno">685</span><span class="keyword" id="6937077">func</span>&nbsp;<span class="ident" id="6937082">BenchmarkMatchEasy0_1M</span><span class="op" id="6937104">(</span><span class="ident" id="6937105">b</span>&nbsp;<span class="op" id="6937107">*</span><span class="ident" id="6937108">testing</span><span class="op" id="6937115">.</span><span class="ident" id="6937116">B</span><span class="op" id="6937117">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6937121">{</span>&nbsp;<span class="ident" id="6937123">benchmark</span><span class="op" id="6937132">(</span><span class="ident" id="6937133">b</span><span class="op" id="6937134">,</span>&nbsp;<span class="ident" id="6937136">easy0</span><span class="op" id="6937141">,</span>&nbsp;<span class="num" id="6937143">1</span><span class="op" id="6937144">&lt;&lt;</span><span class="num" id="6937146">20</span><span class="op" id="6937148">)</span>&nbsp;<span class="op" id="6937150">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937152">func</span>&nbsp;<span class="ident" id="6937157">BenchmarkMatchEasy0_32M</span><span class="op" id="6937180">(</span><span class="ident" id="6937181">b</span>&nbsp;<span class="op" id="6937183">*</span><span class="ident" id="6937184">testing</span><span class="op" id="6937191">.</span><span class="ident" id="6937192">B</span><span class="op" id="6937193">)</span>&nbsp;&nbsp;<span class="op" id="6937196">{</span>&nbsp;<span class="ident" id="6937198">benchmark</span><span class="op" id="6937207">(</span><span class="ident" id="6937208">b</span><span class="op" id="6937209">,</span>&nbsp;<span class="ident" id="6937211">easy0</span><span class="op" id="6937216">,</span>&nbsp;<span class="num" id="6937218">32</span><span class="op" id="6937220">&lt;&lt;</span><span class="num" id="6937222">20</span><span class="op" id="6937224">)</span>&nbsp;<span class="op" id="6937226">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937228">func</span>&nbsp;<span class="ident" id="6937233">BenchmarkMatchEasy1_32</span><span class="op" id="6937255">(</span><span class="ident" id="6937256">b</span>&nbsp;<span class="op" id="6937258">*</span><span class="ident" id="6937259">testing</span><span class="op" id="6937266">.</span><span class="ident" id="6937267">B</span><span class="op" id="6937268">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6937272">{</span>&nbsp;<span class="ident" id="6937274">benchmark</span><span class="op" id="6937283">(</span><span class="ident" id="6937284">b</span><span class="op" id="6937285">,</span>&nbsp;<span class="ident" id="6937287">easy1</span><span class="op" id="6937292">,</span>&nbsp;<span class="num" id="6937294">32</span><span class="op" id="6937296">&lt;&lt;</span><span class="num" id="6937298">0</span><span class="op" id="6937299">)</span>&nbsp;<span class="op" id="6937301">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937303">func</span>&nbsp;<span class="ident" id="6937308">BenchmarkMatchEasy1_1K</span><span class="op" id="6937330">(</span><span class="ident" id="6937331">b</span>&nbsp;<span class="op" id="6937333">*</span><span class="ident" id="6937334">testing</span><span class="op" id="6937341">.</span><span class="ident" id="6937342">B</span><span class="op" id="6937343">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6937347">{</span>&nbsp;<span class="ident" id="6937349">benchmark</span><span class="op" id="6937358">(</span><span class="ident" id="6937359">b</span><span class="op" id="6937360">,</span>&nbsp;<span class="ident" id="6937362">easy1</span><span class="op" id="6937367">,</span>&nbsp;<span class="num" id="6937369">1</span><span class="op" id="6937370">&lt;&lt;</span><span class="num" id="6937372">10</span><span class="op" id="6937374">)</span>&nbsp;<span class="op" id="6937376">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937378">func</span>&nbsp;<span class="ident" id="6937383">BenchmarkMatchEasy1_32K</span><span class="op" id="6937406">(</span><span class="ident" id="6937407">b</span>&nbsp;<span class="op" id="6937409">*</span><span class="ident" id="6937410">testing</span><span class="op" id="6937417">.</span><span class="ident" id="6937418">B</span><span class="op" id="6937419">)</span>&nbsp;&nbsp;<span class="op" id="6937422">{</span>&nbsp;<span class="ident" id="6937424">benchmark</span><span class="op" id="6937433">(</span><span class="ident" id="6937434">b</span><span class="op" id="6937435">,</span>&nbsp;<span class="ident" id="6937437">easy1</span><span class="op" id="6937442">,</span>&nbsp;<span class="num" id="6937444">32</span><span class="op" id="6937446">&lt;&lt;</span><span class="num" id="6937448">10</span><span class="op" id="6937450">)</span>&nbsp;<span class="op" id="6937452">}</span><br>
<span class="lineno">690</span><span class="keyword" id="6937454">func</span>&nbsp;<span class="ident" id="6937459">BenchmarkMatchEasy1_1M</span><span class="op" id="6937481">(</span><span class="ident" id="6937482">b</span>&nbsp;<span class="op" id="6937484">*</span><span class="ident" id="6937485">testing</span><span class="op" id="6937492">.</span><span class="ident" id="6937493">B</span><span class="op" id="6937494">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6937498">{</span>&nbsp;<span class="ident" id="6937500">benchmark</span><span class="op" id="6937509">(</span><span class="ident" id="6937510">b</span><span class="op" id="6937511">,</span>&nbsp;<span class="ident" id="6937513">easy1</span><span class="op" id="6937518">,</span>&nbsp;<span class="num" id="6937520">1</span><span class="op" id="6937521">&lt;&lt;</span><span class="num" id="6937523">20</span><span class="op" id="6937525">)</span>&nbsp;<span class="op" id="6937527">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937529">func</span>&nbsp;<span class="ident" id="6937534">BenchmarkMatchEasy1_32M</span><span class="op" id="6937557">(</span><span class="ident" id="6937558">b</span>&nbsp;<span class="op" id="6937560">*</span><span class="ident" id="6937561">testing</span><span class="op" id="6937568">.</span><span class="ident" id="6937569">B</span><span class="op" id="6937570">)</span>&nbsp;&nbsp;<span class="op" id="6937573">{</span>&nbsp;<span class="ident" id="6937575">benchmark</span><span class="op" id="6937584">(</span><span class="ident" id="6937585">b</span><span class="op" id="6937586">,</span>&nbsp;<span class="ident" id="6937588">easy1</span><span class="op" id="6937593">,</span>&nbsp;<span class="num" id="6937595">32</span><span class="op" id="6937597">&lt;&lt;</span><span class="num" id="6937599">20</span><span class="op" id="6937601">)</span>&nbsp;<span class="op" id="6937603">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937605">func</span>&nbsp;<span class="ident" id="6937610">BenchmarkMatchMedium_32</span><span class="op" id="6937633">(</span><span class="ident" id="6937634">b</span>&nbsp;<span class="op" id="6937636">*</span><span class="ident" id="6937637">testing</span><span class="op" id="6937644">.</span><span class="ident" id="6937645">B</span><span class="op" id="6937646">)</span>&nbsp;&nbsp;<span class="op" id="6937649">{</span>&nbsp;<span class="ident" id="6937651">benchmark</span><span class="op" id="6937660">(</span><span class="ident" id="6937661">b</span><span class="op" id="6937662">,</span>&nbsp;<span class="ident" id="6937664">medium</span><span class="op" id="6937670">,</span>&nbsp;<span class="num" id="6937672">32</span><span class="op" id="6937674">&lt;&lt;</span><span class="num" id="6937676">0</span><span class="op" id="6937677">)</span>&nbsp;<span class="op" id="6937679">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937681">func</span>&nbsp;<span class="ident" id="6937686">BenchmarkMatchMedium_1K</span><span class="op" id="6937709">(</span><span class="ident" id="6937710">b</span>&nbsp;<span class="op" id="6937712">*</span><span class="ident" id="6937713">testing</span><span class="op" id="6937720">.</span><span class="ident" id="6937721">B</span><span class="op" id="6937722">)</span>&nbsp;&nbsp;<span class="op" id="6937725">{</span>&nbsp;<span class="ident" id="6937727">benchmark</span><span class="op" id="6937736">(</span><span class="ident" id="6937737">b</span><span class="op" id="6937738">,</span>&nbsp;<span class="ident" id="6937740">medium</span><span class="op" id="6937746">,</span>&nbsp;<span class="num" id="6937748">1</span><span class="op" id="6937749">&lt;&lt;</span><span class="num" id="6937751">10</span><span class="op" id="6937753">)</span>&nbsp;<span class="op" id="6937755">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937757">func</span>&nbsp;<span class="ident" id="6937762">BenchmarkMatchMedium_32K</span><span class="op" id="6937786">(</span><span class="ident" id="6937787">b</span>&nbsp;<span class="op" id="6937789">*</span><span class="ident" id="6937790">testing</span><span class="op" id="6937797">.</span><span class="ident" id="6937798">B</span><span class="op" id="6937799">)</span>&nbsp;<span class="op" id="6937801">{</span>&nbsp;<span class="ident" id="6937803">benchmark</span><span class="op" id="6937812">(</span><span class="ident" id="6937813">b</span><span class="op" id="6937814">,</span>&nbsp;<span class="ident" id="6937816">medium</span><span class="op" id="6937822">,</span>&nbsp;<span class="num" id="6937824">32</span><span class="op" id="6937826">&lt;&lt;</span><span class="num" id="6937828">10</span><span class="op" id="6937830">)</span>&nbsp;<span class="op" id="6937832">}</span><br>
<span class="lineno">695</span><span class="keyword" id="6937834">func</span>&nbsp;<span class="ident" id="6937839">BenchmarkMatchMedium_1M</span><span class="op" id="6937862">(</span><span class="ident" id="6937863">b</span>&nbsp;<span class="op" id="6937865">*</span><span class="ident" id="6937866">testing</span><span class="op" id="6937873">.</span><span class="ident" id="6937874">B</span><span class="op" id="6937875">)</span>&nbsp;&nbsp;<span class="op" id="6937878">{</span>&nbsp;<span class="ident" id="6937880">benchmark</span><span class="op" id="6937889">(</span><span class="ident" id="6937890">b</span><span class="op" id="6937891">,</span>&nbsp;<span class="ident" id="6937893">medium</span><span class="op" id="6937899">,</span>&nbsp;<span class="num" id="6937901">1</span><span class="op" id="6937902">&lt;&lt;</span><span class="num" id="6937904">20</span><span class="op" id="6937906">)</span>&nbsp;<span class="op" id="6937908">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937910">func</span>&nbsp;<span class="ident" id="6937915">BenchmarkMatchMedium_32M</span><span class="op" id="6937939">(</span><span class="ident" id="6937940">b</span>&nbsp;<span class="op" id="6937942">*</span><span class="ident" id="6937943">testing</span><span class="op" id="6937950">.</span><span class="ident" id="6937951">B</span><span class="op" id="6937952">)</span>&nbsp;<span class="op" id="6937954">{</span>&nbsp;<span class="ident" id="6937956">benchmark</span><span class="op" id="6937965">(</span><span class="ident" id="6937966">b</span><span class="op" id="6937967">,</span>&nbsp;<span class="ident" id="6937969">medium</span><span class="op" id="6937975">,</span>&nbsp;<span class="num" id="6937977">32</span><span class="op" id="6937979">&lt;&lt;</span><span class="num" id="6937981">20</span><span class="op" id="6937983">)</span>&nbsp;<span class="op" id="6937985">}</span><br>
<span class="lineno"></span><span class="keyword" id="6937987">func</span>&nbsp;<span class="ident" id="6937992">BenchmarkMatchHard_32</span><span class="op" id="6938013">(</span><span class="ident" id="6938014">b</span>&nbsp;<span class="op" id="6938016">*</span><span class="ident" id="6938017">testing</span><span class="op" id="6938024">.</span><span class="ident" id="6938025">B</span><span class="op" id="6938026">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6938031">{</span>&nbsp;<span class="ident" id="6938033">benchmark</span><span class="op" id="6938042">(</span><span class="ident" id="6938043">b</span><span class="op" id="6938044">,</span>&nbsp;<span class="ident" id="6938046">hard</span><span class="op" id="6938050">,</span>&nbsp;<span class="num" id="6938052">32</span><span class="op" id="6938054">&lt;&lt;</span><span class="num" id="6938056">0</span><span class="op" id="6938057">)</span>&nbsp;<span class="op" id="6938059">}</span><br>
<span class="lineno"></span><span class="keyword" id="6938061">func</span>&nbsp;<span class="ident" id="6938066">BenchmarkMatchHard_1K</span><span class="op" id="6938087">(</span><span class="ident" id="6938088">b</span>&nbsp;<span class="op" id="6938090">*</span><span class="ident" id="6938091">testing</span><span class="op" id="6938098">.</span><span class="ident" id="6938099">B</span><span class="op" id="6938100">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6938105">{</span>&nbsp;<span class="ident" id="6938107">benchmark</span><span class="op" id="6938116">(</span><span class="ident" id="6938117">b</span><span class="op" id="6938118">,</span>&nbsp;<span class="ident" id="6938120">hard</span><span class="op" id="6938124">,</span>&nbsp;<span class="num" id="6938126">1</span><span class="op" id="6938127">&lt;&lt;</span><span class="num" id="6938129">10</span><span class="op" id="6938131">)</span>&nbsp;<span class="op" id="6938133">}</span><br>
<span class="lineno"></span><span class="keyword" id="6938135">func</span>&nbsp;<span class="ident" id="6938140">BenchmarkMatchHard_32K</span><span class="op" id="6938162">(</span><span class="ident" id="6938163">b</span>&nbsp;<span class="op" id="6938165">*</span><span class="ident" id="6938166">testing</span><span class="op" id="6938173">.</span><span class="ident" id="6938174">B</span><span class="op" id="6938175">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6938179">{</span>&nbsp;<span class="ident" id="6938181">benchmark</span><span class="op" id="6938190">(</span><span class="ident" id="6938191">b</span><span class="op" id="6938192">,</span>&nbsp;<span class="ident" id="6938194">hard</span><span class="op" id="6938198">,</span>&nbsp;<span class="num" id="6938200">32</span><span class="op" id="6938202">&lt;&lt;</span><span class="num" id="6938204">10</span><span class="op" id="6938206">)</span>&nbsp;<span class="op" id="6938208">}</span><br>
<span class="lineno">700</span><span class="keyword" id="6938210">func</span>&nbsp;<span class="ident" id="6938215">BenchmarkMatchHard_1M</span><span class="op" id="6938236">(</span><span class="ident" id="6938237">b</span>&nbsp;<span class="op" id="6938239">*</span><span class="ident" id="6938240">testing</span><span class="op" id="6938247">.</span><span class="ident" id="6938248">B</span><span class="op" id="6938249">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6938254">{</span>&nbsp;<span class="ident" id="6938256">benchmark</span><span class="op" id="6938265">(</span><span class="ident" id="6938266">b</span><span class="op" id="6938267">,</span>&nbsp;<span class="ident" id="6938269">hard</span><span class="op" id="6938273">,</span>&nbsp;<span class="num" id="6938275">1</span><span class="op" id="6938276">&lt;&lt;</span><span class="num" id="6938278">20</span><span class="op" id="6938280">)</span>&nbsp;<span class="op" id="6938282">}</span><br>
<span class="lineno"></span><span class="keyword" id="6938284">func</span>&nbsp;<span class="ident" id="6938289">BenchmarkMatchHard_32M</span><span class="op" id="6938311">(</span><span class="ident" id="6938312">b</span>&nbsp;<span class="op" id="6938314">*</span><span class="ident" id="6938315">testing</span><span class="op" id="6938322">.</span><span class="ident" id="6938323">B</span><span class="op" id="6938324">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6938328">{</span>&nbsp;<span class="ident" id="6938330">benchmark</span><span class="op" id="6938339">(</span><span class="ident" id="6938340">b</span><span class="op" id="6938341">,</span>&nbsp;<span class="ident" id="6938343">hard</span><span class="op" id="6938347">,</span>&nbsp;<span class="num" id="6938349">32</span><span class="op" id="6938351">&lt;&lt;</span><span class="num" id="6938353">20</span><span class="op" id="6938355">)</span>&nbsp;<span class="op" id="6938357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6938360">func</span>&nbsp;<span class="ident" id="6938365">TestLongest</span><span class="op" id="6938376">(</span><span class="ident" id="6938377">t</span>&nbsp;<span class="op" id="6938379">*</span><span class="ident" id="6938380">testing</span><span class="op" id="6938387">.</span><span class="ident" id="6938388">T</span><span class="op" id="6938389">)</span>&nbsp;<span class="op" id="6938391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938394">re</span><span class="op" id="6938396">,</span>&nbsp;<span class="ident" id="6938398">err</span>&nbsp;<span class="op" id="6938402">:=</span>&nbsp;<span class="ident" id="6938405">Compile</span><span class="op" id="6938412">(</span><span class="string" id="6938413">`a(|b)`</span><span class="op" id="6938420">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6938423">if</span>&nbsp;<span class="ident" id="6938426">err</span>&nbsp;<span class="op" id="6938430">!=</span>&nbsp;<span class="ident" id="6938433">nil</span>&nbsp;<span class="op" id="6938437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938441">t</span><span class="op" id="6938442">.</span><span class="ident" id="6938443">Fatal</span><span class="op" id="6938448">(</span><span class="ident" id="6938449">err</span><span class="op" id="6938452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6938458">if</span>&nbsp;<span class="ident" id="6938461">g</span><span class="op" id="6938462">,</span>&nbsp;<span class="ident" id="6938464">w</span>&nbsp;<span class="op" id="6938466">:=</span>&nbsp;<span class="ident" id="6938469">re</span><span class="op" id="6938471">.</span><span class="ident" id="6938472">FindString</span><span class="op" id="6938482">(</span><span class="string" id="6938483">&#34;ab&#34;</span><span class="op" id="6938487">)</span><span class="op" id="6938488">,</span>&nbsp;<span class="string" id="6938490">&#34;a&#34;</span><span class="op" id="6938493">;</span>&nbsp;<span class="ident" id="6938495">g</span>&nbsp;<span class="op" id="6938497">!=</span>&nbsp;<span class="ident" id="6938500">w</span>&nbsp;<span class="op" id="6938502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938506">t</span><span class="op" id="6938507">.</span><span class="ident" id="6938508">Errorf</span><span class="op" id="6938514">(</span><span class="string" id="6938515">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6938544">,</span>&nbsp;<span class="ident" id="6938546">g</span><span class="op" id="6938547">,</span>&nbsp;<span class="ident" id="6938549">w</span><span class="op" id="6938550">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938556">re</span><span class="op" id="6938558">.</span><span class="ident" id="6938559">Longest</span><span class="op" id="6938566">(</span><span class="op" id="6938567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6938570">if</span>&nbsp;<span class="ident" id="6938573">g</span><span class="op" id="6938574">,</span>&nbsp;<span class="ident" id="6938576">w</span>&nbsp;<span class="op" id="6938578">:=</span>&nbsp;<span class="ident" id="6938581">re</span><span class="op" id="6938583">.</span><span class="ident" id="6938584">FindString</span><span class="op" id="6938594">(</span><span class="string" id="6938595">&#34;ab&#34;</span><span class="op" id="6938599">)</span><span class="op" id="6938600">,</span>&nbsp;<span class="string" id="6938602">&#34;ab&#34;</span><span class="op" id="6938606">;</span>&nbsp;<span class="ident" id="6938608">g</span>&nbsp;<span class="op" id="6938610">!=</span>&nbsp;<span class="ident" id="6938613">w</span>&nbsp;<span class="op" id="6938615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938619">t</span><span class="op" id="6938620">.</span><span class="ident" id="6938621">Errorf</span><span class="op" id="6938627">(</span><span class="string" id="6938628">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6938659">,</span>&nbsp;<span class="ident" id="6938661">g</span><span class="op" id="6938662">,</span>&nbsp;<span class="ident" id="6938664">w</span><span class="op" id="6938665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938668">}</span><br>
<span class="lineno">715</span><span class="op" id="6938670">}</span>
</div>
</body>
</html>
