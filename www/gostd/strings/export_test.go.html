<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8421193">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8421248">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8421302">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8421353">package</span>&nbsp;<span class="ident" id="8421361">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8421370">func</span>&nbsp;<span class="op" id="8421375">(</span><span class="ident" id="8421376">r</span>&nbsp;<span class="op" id="8421378">*</span><span class="ident" id="8421379">Replacer</span><span class="op" id="8421387">)</span>&nbsp;<span class="ident" id="8421389">Replacer</span><span class="op" id="8421397">(</span><span class="op" id="8421398">)</span>&nbsp;<span class="keyword" id="8421400">interface</span><span class="op" id="8421409">{</span><span class="op" id="8421410">}</span>&nbsp;<span class="op" id="8421412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421415">return</span>&nbsp;<span class="ident" id="8421422">r</span><span class="op" id="8421423">.</span><span class="ident" id="8421424">r</span><br>
<span class="lineno"></span><span class="op" id="8421426">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8421429">func</span>&nbsp;<span class="op" id="8421434">(</span><span class="ident" id="8421435">r</span>&nbsp;<span class="op" id="8421437">*</span><span class="ident" id="8421438">Replacer</span><span class="op" id="8421446">)</span>&nbsp;<span class="ident" id="8421448">PrintTrie</span><span class="op" id="8421457">(</span><span class="op" id="8421458">)</span>&nbsp;<span class="builtintype" id="8421460">string</span>&nbsp;<span class="op" id="8421467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421470">gen</span>&nbsp;<span class="op" id="8421474">:=</span>&nbsp;<span class="ident" id="8421477">r</span><span class="op" id="8421478">.</span><span class="ident" id="8421479">r</span><span class="op" id="8421480">.</span><span class="op" id="8421481">(</span><span class="op" id="8421482">*</span><span class="ident" id="8421483">genericReplacer</span><span class="op" id="8421498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421501">return</span>&nbsp;<span class="ident" id="8421508">gen</span><span class="op" id="8421511">.</span><span class="ident" id="8421512">printNode</span><span class="op" id="8421521">(</span><span class="op" id="8421522">&amp;</span><span class="ident" id="8421523">gen</span><span class="op" id="8421526">.</span><span class="ident" id="8421527">root</span><span class="op" id="8421531">,</span>&nbsp;<span class="num" id="8421533">0</span><span class="op" id="8421534">)</span><br>
<span class="lineno"></span><span class="op" id="8421536">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8421539">func</span>&nbsp;<span class="op" id="8421544">(</span><span class="ident" id="8421545">r</span>&nbsp;<span class="op" id="8421547">*</span><span class="ident" id="8421548">genericReplacer</span><span class="op" id="8421563">)</span>&nbsp;<span class="ident" id="8421565">printNode</span><span class="op" id="8421574">(</span><span class="ident" id="8421575">t</span>&nbsp;<span class="op" id="8421577">*</span><span class="ident" id="8421578">trieNode</span><span class="op" id="8421586">,</span>&nbsp;<span class="ident" id="8421588">depth</span>&nbsp;<span class="builtintype" id="8421594">int</span><span class="op" id="8421597">)</span>&nbsp;<span class="op" id="8421599">(</span><span class="ident" id="8421600">s</span>&nbsp;<span class="builtintype" id="8421602">string</span><span class="op" id="8421608">)</span>&nbsp;<span class="op" id="8421610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421613">if</span>&nbsp;<span class="ident" id="8421616">t</span><span class="op" id="8421617">.</span><span class="ident" id="8421618">priority</span>&nbsp;<span class="op" id="8421627">&gt;</span>&nbsp;<span class="num" id="8421629">0</span>&nbsp;<span class="op" id="8421631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421635">s</span>&nbsp;<span class="op" id="8421637">+=</span>&nbsp;<span class="string" id="8421640">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8421645">}</span>&nbsp;<span class="keyword" id="8421647">else</span>&nbsp;<span class="op" id="8421652">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421656">s</span>&nbsp;<span class="op" id="8421658">+=</span>&nbsp;<span class="string" id="8421661">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8421666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421669">s</span>&nbsp;<span class="op" id="8421671">+=</span>&nbsp;<span class="string" id="8421674">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421681">if</span>&nbsp;<span class="ident" id="8421684">t</span><span class="op" id="8421685">.</span><span class="ident" id="8421686">prefix</span>&nbsp;<span class="op" id="8421693">!=</span>&nbsp;<span class="string" id="8421696">&#34;&#34;</span>&nbsp;<span class="op" id="8421699">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421703">s</span>&nbsp;<span class="op" id="8421705">+=</span>&nbsp;<span class="ident" id="8421708">Repeat</span><span class="op" id="8421714">(</span><span class="string" id="8421715">&#34;.&#34;</span><span class="op" id="8421718">,</span>&nbsp;<span class="ident" id="8421720">depth</span><span class="op" id="8421725">)</span>&nbsp;<span class="op" id="8421727">+</span>&nbsp;<span class="ident" id="8421729">t</span><span class="op" id="8421730">.</span><span class="ident" id="8421731">prefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421740">s</span>&nbsp;<span class="op" id="8421742">+=</span>&nbsp;<span class="ident" id="8421745">r</span><span class="op" id="8421746">.</span><span class="ident" id="8421747">printNode</span><span class="op" id="8421756">(</span><span class="ident" id="8421757">t</span><span class="op" id="8421758">.</span><span class="ident" id="8421759">next</span><span class="op" id="8421763">,</span>&nbsp;<span class="ident" id="8421765">depth</span><span class="op" id="8421770">+</span><span class="builtinfunc" id="8421771">len</span><span class="op" id="8421774">(</span><span class="ident" id="8421775">t</span><span class="op" id="8421776">.</span><span class="ident" id="8421777">prefix</span><span class="op" id="8421783">)</span><span class="op" id="8421784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8421787">}</span>&nbsp;<span class="keyword" id="8421789">else</span>&nbsp;<span class="keyword" id="8421794">if</span>&nbsp;<span class="ident" id="8421797">t</span><span class="op" id="8421798">.</span><span class="ident" id="8421799">table</span>&nbsp;<span class="op" id="8421805">!=</span>&nbsp;<span class="ident" id="8421808">nil</span>&nbsp;<span class="op" id="8421812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421816">for</span>&nbsp;<span class="ident" id="8421820">b</span><span class="op" id="8421821">,</span>&nbsp;<span class="ident" id="8421823">m</span>&nbsp;<span class="op" id="8421825">:=</span>&nbsp;<span class="keyword" id="8421828">range</span>&nbsp;<span class="ident" id="8421834">r</span><span class="op" id="8421835">.</span><span class="ident" id="8421836">mapping</span>&nbsp;<span class="op" id="8421844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8421849">if</span>&nbsp;<span class="builtintype" id="8421852">int</span><span class="op" id="8421855">(</span><span class="ident" id="8421856">m</span><span class="op" id="8421857">)</span>&nbsp;<span class="op" id="8421859">!=</span>&nbsp;<span class="ident" id="8421862">r</span><span class="op" id="8421863">.</span><span class="ident" id="8421864">tableSize</span>&nbsp;<span class="op" id="8421874">&amp;&amp;</span>&nbsp;<span class="ident" id="8421877">t</span><span class="op" id="8421878">.</span><span class="ident" id="8421879">table</span><span class="op" id="8421884">[</span><span class="ident" id="8421885">m</span><span class="op" id="8421886">]</span>&nbsp;<span class="op" id="8421888">!=</span>&nbsp;<span class="ident" id="8421891">nil</span>&nbsp;<span class="op" id="8421895">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421901">s</span>&nbsp;<span class="op" id="8421903">+=</span>&nbsp;<span class="ident" id="8421906">Repeat</span><span class="op" id="8421912">(</span><span class="string" id="8421913">&#34;.&#34;</span><span class="op" id="8421916">,</span>&nbsp;<span class="ident" id="8421918">depth</span><span class="op" id="8421923">)</span>&nbsp;<span class="op" id="8421925">+</span>&nbsp;<span class="builtintype" id="8421927">string</span><span class="op" id="8421933">(</span><span class="op" id="8421934">[</span><span class="op" id="8421935">]</span><span class="builtintype" id="8421936">byte</span><span class="op" id="8421940">{</span><span class="builtintype" id="8421941">byte</span><span class="op" id="8421945">(</span><span class="ident" id="8421946">b</span><span class="op" id="8421947">)</span><span class="op" id="8421948">}</span><span class="op" id="8421949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8421955">s</span>&nbsp;<span class="op" id="8421957">+=</span>&nbsp;<span class="ident" id="8421960">r</span><span class="op" id="8421961">.</span><span class="ident" id="8421962">printNode</span><span class="op" id="8421971">(</span><span class="ident" id="8421972">t</span><span class="op" id="8421973">.</span><span class="ident" id="8421974">table</span><span class="op" id="8421979">[</span><span class="ident" id="8421980">m</span><span class="op" id="8421981">]</span><span class="op" id="8421982">,</span>&nbsp;<span class="ident" id="8421984">depth</span><span class="op" id="8421989">+</span><span class="num" id="8421990">1</span><span class="op" id="8421991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8421996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8422000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8422003">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8422006">return</span><br>
<span class="lineno"></span><span class="op" id="8422013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8422016">func</span>&nbsp;<span class="ident" id="8422021">StringFind</span><span class="op" id="8422031">(</span><span class="ident" id="8422032">pattern</span><span class="op" id="8422039">,</span>&nbsp;<span class="ident" id="8422041">text</span>&nbsp;<span class="builtintype" id="8422046">string</span><span class="op" id="8422052">)</span>&nbsp;<span class="builtintype" id="8422054">int</span>&nbsp;<span class="op" id="8422058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8422061">return</span>&nbsp;<span class="ident" id="8422068">makeStringFinder</span><span class="op" id="8422084">(</span><span class="ident" id="8422085">pattern</span><span class="op" id="8422092">)</span><span class="op" id="8422093">.</span><span class="ident" id="8422094">next</span><span class="op" id="8422098">(</span><span class="ident" id="8422099">text</span><span class="op" id="8422103">)</span><br>
<span class="lineno">40</span><span class="op" id="8422105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8422108">func</span>&nbsp;<span class="ident" id="8422113">DumpTables</span><span class="op" id="8422123">(</span><span class="ident" id="8422124">pattern</span>&nbsp;<span class="builtintype" id="8422132">string</span><span class="op" id="8422138">)</span>&nbsp;<span class="op" id="8422140">(</span><span class="op" id="8422141">[</span><span class="op" id="8422142">]</span><span class="builtintype" id="8422143">int</span><span class="op" id="8422146">,</span>&nbsp;<span class="op" id="8422148">[</span><span class="op" id="8422149">]</span><span class="builtintype" id="8422150">int</span><span class="op" id="8422153">)</span>&nbsp;<span class="op" id="8422155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8422158">finder</span>&nbsp;<span class="op" id="8422165">:=</span>&nbsp;<span class="ident" id="8422168">makeStringFinder</span><span class="op" id="8422184">(</span><span class="ident" id="8422185">pattern</span><span class="op" id="8422192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8422195">return</span>&nbsp;<span class="ident" id="8422202">finder</span><span class="op" id="8422208">.</span><span class="ident" id="8422209">badCharSkip</span><span class="op" id="8422220">[</span><span class="op" id="8422221">:</span><span class="op" id="8422222">]</span><span class="op" id="8422223">,</span>&nbsp;<span class="ident" id="8422225">finder</span><span class="op" id="8422231">.</span><span class="ident" id="8422232">goodSuffixSkip</span><br>
<span class="lineno">45</span><span class="op" id="8422247">}</span>
</div>
</body>
</html>
