<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>crypto/cipher</h2>
<ul>
<li><a href="/gostd/crypto/cipher/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc.go.html">cbc.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc_aes_test.go.html">cbc_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb.go.html">cfb.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb_test.go.html">cfb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher.go.html">cipher.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher_test.go.html">cipher_test.go</a></li>
<li><a href="/gostd/crypto/cipher/common_test.go.html">common_test.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr.go.html">ctr.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr_aes_test.go.html">ctr_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm.go.html">gcm.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm_test.go.html">gcm_test.go</a></li>
<li><a href="/gostd/crypto/cipher/io.go.html">io.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb.go.html" class="current">ofb.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb_test.go.html">ofb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/xor.go.html">xor.go</a></li>
<li><a href="/gostd/crypto/cipher/xor_test.go.html">xor_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4424713">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4424768">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4424822">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4424873">//&nbsp;OFB&nbsp;(Output&nbsp;Feedback)&nbsp;Mode.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4424905">package</span>&nbsp;<span class="ident" id="4424913">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4424921">type</span>&nbsp;<span class="ident" id="4424926">ofb</span>&nbsp;<span class="keyword" id="4424930">struct</span>&nbsp;<span class="op" id="4424937">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4424940">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4424948"><a href="/gostd/crypto/cipher/cipher.go.html#4410698">Block</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4424955">cipher</span>&nbsp;&nbsp;<span class="op" id="4424963">[</span><span class="op" id="4424964">]</span><span class="builtintype" id="4424965">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4424971">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4424979">[</span><span class="op" id="4424980">]</span><span class="builtintype" id="4424981">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4424987">outUsed</span>&nbsp;<span class="builtintype" id="4424995">int</span><br>
<span class="lineno"></span><span class="op" id="4424999">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4425002">//&nbsp;NewOFB&nbsp;returns&nbsp;a&nbsp;Stream&nbsp;that&nbsp;encrypts&nbsp;or&nbsp;decrypts&nbsp;using&nbsp;the&nbsp;block&nbsp;cipher&nbsp;b</span><br>
<span class="lineno"></span><span class="comment" id="4425080">//&nbsp;in&nbsp;output&nbsp;feedback&nbsp;mode.&nbsp;The&nbsp;initialization&nbsp;vector&nbsp;iv&#39;s&nbsp;length&nbsp;must&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="4425160">//&nbsp;to&nbsp;b&#39;s&nbsp;block&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="4425182">func</span>&nbsp;<span class="ident" id="4425187">NewOFB</span><span class="op" id="4425193">(</span><span class="ident" id="4425194">b</span>&nbsp;<span class="ident" id="4425196"><a href="/gostd/crypto/cipher/cipher.go.html#4410698">Block</a></span><span class="op" id="4425201">,</span>&nbsp;<span class="ident" id="4425203">iv</span>&nbsp;<span class="op" id="4425206">[</span><span class="op" id="4425207">]</span><span class="builtintype" id="4425208">byte</span><span class="op" id="4425212">)</span>&nbsp;<span class="ident" id="4425214"><a href="/gostd/crypto/cipher/cipher.go.html#4411082">Stream</a></span>&nbsp;<span class="op" id="4425221">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425224">blockSize</span>&nbsp;<span class="op" id="4425234">:=</span>&nbsp;<span class="ident" id="4425237"><a href="/gostd/crypto/cipher/ofb.go.html#4425194">b</a></span><span class="op" id="4425238">.</span><span class="ident" id="4425239"><a href="/gostd/crypto/cipher/cipher.go.html#4410764">BlockSize</a></span><span class="op" id="4425248">(</span><span class="op" id="4425249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425252">if</span>&nbsp;<span class="builtinfunc" id="4425255">len</span><span class="op" id="4425258">(</span><span class="ident" id="4425259"><a href="/gostd/crypto/cipher/ofb.go.html#4425203">iv</a></span><span class="op" id="4425261">)</span>&nbsp;<span class="op" id="4425263">!=</span>&nbsp;<span class="ident" id="4425266"><a href="/gostd/crypto/cipher/ofb.go.html#4425224">blockSize</a></span>&nbsp;<span class="op" id="4425276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425280">return</span>&nbsp;<span class="builtintype" id="4425287">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425295">bufSize</span>&nbsp;<span class="op" id="4425303">:=</span>&nbsp;<span class="ident" id="4425306"><a href="/gostd/crypto/cipher/ctr.go.html#4412236">streamBufferSize</a></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425324">if</span>&nbsp;<span class="ident" id="4425327"><a href="/gostd/crypto/cipher/ofb.go.html#4425295">bufSize</a></span>&nbsp;<span class="op" id="4425335">&lt;</span>&nbsp;<span class="ident" id="4425337"><a href="/gostd/crypto/cipher/ofb.go.html#4425224">blockSize</a></span>&nbsp;<span class="op" id="4425347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425351"><a href="/gostd/crypto/cipher/ofb.go.html#4425295">bufSize</a></span>&nbsp;<span class="op" id="4425359">=</span>&nbsp;<span class="ident" id="4425361"><a href="/gostd/crypto/cipher/ofb.go.html#4425224">blockSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425375">x</span>&nbsp;<span class="op" id="4425377">:=</span>&nbsp;<span class="op" id="4425380">&amp;</span><span class="ident" id="4425381"><a href="/gostd/crypto/cipher/ofb.go.html#4424926">ofb</a></span><span class="op" id="4425384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425388"><a href="/gostd/crypto/cipher/ofb.go.html#4424940">b</a></span><span class="op" id="4425389">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425397"><a href="/gostd/crypto/cipher/ofb.go.html#4425194">b</a></span><span class="op" id="4425398">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425402"><a href="/gostd/crypto/cipher/ofb.go.html#4424955">cipher</a></span><span class="op" id="4425408">:</span>&nbsp;&nbsp;<span class="builtinfunc" id="4425411">make</span><span class="op" id="4425415">(</span><span class="op" id="4425416">[</span><span class="op" id="4425417">]</span><span class="builtintype" id="4425418">byte</span><span class="op" id="4425422">,</span>&nbsp;<span class="ident" id="4425424"><a href="/gostd/crypto/cipher/ofb.go.html#4425224">blockSize</a></span><span class="op" id="4425433">)</span><span class="op" id="4425434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425438"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425441">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4425447">make</span><span class="op" id="4425451">(</span><span class="op" id="4425452">[</span><span class="op" id="4425453">]</span><span class="builtintype" id="4425454">byte</span><span class="op" id="4425458">,</span>&nbsp;<span class="num" id="4425460">0</span><span class="op" id="4425461">,</span>&nbsp;<span class="ident" id="4425463"><a href="/gostd/crypto/cipher/ofb.go.html#4425295">bufSize</a></span><span class="op" id="4425470">)</span><span class="op" id="4425471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425475"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span><span class="op" id="4425482">:</span>&nbsp;<span class="num" id="4425484">0</span><span class="op" id="4425485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4425492">copy</span><span class="op" id="4425496">(</span><span class="ident" id="4425497"><a href="/gostd/crypto/cipher/ofb.go.html#4425375">x</a></span><span class="op" id="4425498">.</span><span class="ident" id="4425499"><a href="/gostd/crypto/cipher/ofb.go.html#4424955">cipher</a></span><span class="op" id="4425505">,</span>&nbsp;<span class="ident" id="4425507"><a href="/gostd/crypto/cipher/ofb.go.html#4425203">iv</a></span><span class="op" id="4425509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425512">return</span>&nbsp;<span class="ident" id="4425519"><a href="/gostd/crypto/cipher/ofb.go.html#4425375">x</a></span><br>
<span class="lineno"></span><span class="op" id="4425521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4425524">func</span>&nbsp;<span class="op" id="4425529">(</span><span class="ident" id="4425530">x</span>&nbsp;<span class="op" id="4425532">*</span><span class="ident" id="4425533"><a href="/gostd/crypto/cipher/ofb.go.html#4424926">ofb</a></span><span class="op" id="4425536">)</span>&nbsp;<span class="ident" id="4425538">refill</span><span class="op" id="4425544">(</span><span class="op" id="4425545">)</span>&nbsp;<span class="op" id="4425547">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425550">bs</span>&nbsp;<span class="op" id="4425553">:=</span>&nbsp;<span class="ident" id="4425556"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425557">.</span><span class="ident" id="4425558"><a href="/gostd/crypto/cipher/ofb.go.html#4424940">b</a></span><span class="op" id="4425559">.</span><span class="ident" id="4425560"><a href="/gostd/crypto/cipher/cipher.go.html#4410764">BlockSize</a></span><span class="op" id="4425569">(</span><span class="op" id="4425570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425573">remain</span>&nbsp;<span class="op" id="4425580">:=</span>&nbsp;<span class="builtinfunc" id="4425583">len</span><span class="op" id="4425586">(</span><span class="ident" id="4425587"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425588">.</span><span class="ident" id="4425589"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425592">)</span>&nbsp;<span class="op" id="4425594">-</span>&nbsp;<span class="ident" id="4425596"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425597">.</span><span class="ident" id="4425598"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425607">if</span>&nbsp;<span class="ident" id="4425610"><a href="/gostd/crypto/cipher/ofb.go.html#4425573">remain</a></span>&nbsp;<span class="op" id="4425617">&gt;</span>&nbsp;<span class="ident" id="4425619"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425620">.</span><span class="ident" id="4425621"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span>&nbsp;<span class="op" id="4425629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425633">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425641">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4425644">copy</span><span class="op" id="4425648">(</span><span class="ident" id="4425649"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425650">.</span><span class="ident" id="4425651"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425654">,</span>&nbsp;<span class="ident" id="4425656"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425657">.</span><span class="ident" id="4425658"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425661">[</span><span class="ident" id="4425662"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425663">.</span><span class="ident" id="4425664"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span><span class="op" id="4425671">:</span><span class="op" id="4425672">]</span><span class="op" id="4425673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425676"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425677">.</span><span class="ident" id="4425678"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span>&nbsp;<span class="op" id="4425682">=</span>&nbsp;<span class="ident" id="4425684"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425685">.</span><span class="ident" id="4425686"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425689">[</span><span class="op" id="4425690">:</span><span class="builtinfunc" id="4425691">cap</span><span class="op" id="4425694">(</span><span class="ident" id="4425695"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425696">.</span><span class="ident" id="4425697"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425700">)</span><span class="op" id="4425701">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425704">for</span>&nbsp;<span class="ident" id="4425708"><a href="/gostd/crypto/cipher/ofb.go.html#4425573">remain</a></span>&nbsp;<span class="op" id="4425715">&lt;</span>&nbsp;<span class="builtinfunc" id="4425717">len</span><span class="op" id="4425720">(</span><span class="ident" id="4425721"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425722">.</span><span class="ident" id="4425723"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425726">)</span><span class="op" id="4425727">-</span><span class="ident" id="4425728"><a href="/gostd/crypto/cipher/ofb.go.html#4425550">bs</a></span>&nbsp;<span class="op" id="4425731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425735"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425736">.</span><span class="ident" id="4425737"><a href="/gostd/crypto/cipher/ofb.go.html#4424940">b</a></span><span class="op" id="4425738">.</span><span class="ident" id="4425739"><a href="/gostd/crypto/cipher/cipher.go.html#4410882">Encrypt</a></span><span class="op" id="4425746">(</span><span class="ident" id="4425747"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425748">.</span><span class="ident" id="4425749"><a href="/gostd/crypto/cipher/ofb.go.html#4424955">cipher</a></span><span class="op" id="4425755">,</span>&nbsp;<span class="ident" id="4425757"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425758">.</span><span class="ident" id="4425759"><a href="/gostd/crypto/cipher/ofb.go.html#4424955">cipher</a></span><span class="op" id="4425765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4425769">copy</span><span class="op" id="4425773">(</span><span class="ident" id="4425774"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425775">.</span><span class="ident" id="4425776"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425779">[</span><span class="ident" id="4425780"><a href="/gostd/crypto/cipher/ofb.go.html#4425573">remain</a></span><span class="op" id="4425786">:</span><span class="op" id="4425787">]</span><span class="op" id="4425788">,</span>&nbsp;<span class="ident" id="4425790"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425791">.</span><span class="ident" id="4425792"><a href="/gostd/crypto/cipher/ofb.go.html#4424955">cipher</a></span><span class="op" id="4425798">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425802"><a href="/gostd/crypto/cipher/ofb.go.html#4425573">remain</a></span>&nbsp;<span class="op" id="4425809">+=</span>&nbsp;<span class="ident" id="4425812"><a href="/gostd/crypto/cipher/ofb.go.html#4425550">bs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425819"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425820">.</span><span class="ident" id="4425821"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span>&nbsp;<span class="op" id="4425825">=</span>&nbsp;<span class="ident" id="4425827"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425828">.</span><span class="ident" id="4425829"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425832">[</span><span class="op" id="4425833">:</span><span class="ident" id="4425834"><a href="/gostd/crypto/cipher/ofb.go.html#4425573">remain</a></span><span class="op" id="4425840">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425843"><a href="/gostd/crypto/cipher/ofb.go.html#4425530">x</a></span><span class="op" id="4425844">.</span><span class="ident" id="4425845"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span>&nbsp;<span class="op" id="4425853">=</span>&nbsp;<span class="num" id="4425855">0</span><br>
<span class="lineno"></span><span class="op" id="4425857">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="4425860">func</span>&nbsp;<span class="op" id="4425865">(</span><span class="ident" id="4425866">x</span>&nbsp;<span class="op" id="4425868">*</span><span class="ident" id="4425869"><a href="/gostd/crypto/cipher/ofb.go.html#4424926">ofb</a></span><span class="op" id="4425872">)</span>&nbsp;<span class="ident" id="4425874">XORKeyStream</span><span class="op" id="4425886">(</span><span class="ident" id="4425887">dst</span><span class="op" id="4425890">,</span>&nbsp;<span class="ident" id="4425892">src</span>&nbsp;<span class="op" id="4425896">[</span><span class="op" id="4425897">]</span><span class="builtintype" id="4425898">byte</span><span class="op" id="4425902">)</span>&nbsp;<span class="op" id="4425904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425907">for</span>&nbsp;<span class="builtinfunc" id="4425911">len</span><span class="op" id="4425914">(</span><span class="ident" id="4425915"><a href="/gostd/crypto/cipher/ofb.go.html#4425892">src</a></span><span class="op" id="4425918">)</span>&nbsp;<span class="op" id="4425920">&gt;</span>&nbsp;<span class="num" id="4425922">0</span>&nbsp;<span class="op" id="4425924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4425928">if</span>&nbsp;<span class="ident" id="4425931"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4425932">.</span><span class="ident" id="4425933"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span>&nbsp;<span class="op" id="4425941">&gt;=</span>&nbsp;<span class="builtinfunc" id="4425944">len</span><span class="op" id="4425947">(</span><span class="ident" id="4425948"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4425949">.</span><span class="ident" id="4425950"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4425953">)</span><span class="op" id="4425954">-</span><span class="ident" id="4425955"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4425956">.</span><span class="ident" id="4425957"><a href="/gostd/crypto/cipher/ofb.go.html#4424940">b</a></span><span class="op" id="4425958">.</span><span class="ident" id="4425959"><a href="/gostd/crypto/cipher/cipher.go.html#4410764">BlockSize</a></span><span class="op" id="4425968">(</span><span class="op" id="4425969">)</span>&nbsp;<span class="op" id="4425971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425976"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4425977">.</span><span class="ident" id="4425978"><a href="/gostd/crypto/cipher/ofb.go.html#4425538">refill</a></span><span class="op" id="4425984">(</span><span class="op" id="4425985">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4425989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4425993">n</span>&nbsp;<span class="op" id="4425995">:=</span>&nbsp;<span class="ident" id="4425998"><a href="/gostd/crypto/cipher/xor.go.html#4427201">xorBytes</a></span><span class="op" id="4426006">(</span><span class="ident" id="4426007"><a href="/gostd/crypto/cipher/ofb.go.html#4425887">dst</a></span><span class="op" id="4426010">,</span>&nbsp;<span class="ident" id="4426012"><a href="/gostd/crypto/cipher/ofb.go.html#4425892">src</a></span><span class="op" id="4426015">,</span>&nbsp;<span class="ident" id="4426017"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4426018">.</span><span class="ident" id="4426019"><a href="/gostd/crypto/cipher/ofb.go.html#4424971">out</a></span><span class="op" id="4426022">[</span><span class="ident" id="4426023"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4426024">.</span><span class="ident" id="4426025"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span><span class="op" id="4426032">:</span><span class="op" id="4426033">]</span><span class="op" id="4426034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4426038"><a href="/gostd/crypto/cipher/ofb.go.html#4425887">dst</a></span>&nbsp;<span class="op" id="4426042">=</span>&nbsp;<span class="ident" id="4426044"><a href="/gostd/crypto/cipher/ofb.go.html#4425887">dst</a></span><span class="op" id="4426047">[</span><span class="ident" id="4426048"><a href="/gostd/crypto/cipher/ofb.go.html#4425993">n</a></span><span class="op" id="4426049">:</span><span class="op" id="4426050">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4426054"><a href="/gostd/crypto/cipher/ofb.go.html#4425892">src</a></span>&nbsp;<span class="op" id="4426058">=</span>&nbsp;<span class="ident" id="4426060"><a href="/gostd/crypto/cipher/ofb.go.html#4425892">src</a></span><span class="op" id="4426063">[</span><span class="ident" id="4426064"><a href="/gostd/crypto/cipher/ofb.go.html#4425993">n</a></span><span class="op" id="4426065">:</span><span class="op" id="4426066">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4426070"><a href="/gostd/crypto/cipher/ofb.go.html#4425866">x</a></span><span class="op" id="4426071">.</span><span class="ident" id="4426072"><a href="/gostd/crypto/cipher/ofb.go.html#4424987">outUsed</a></span>&nbsp;<span class="op" id="4426080">+=</span>&nbsp;<span class="ident" id="4426083"><a href="/gostd/crypto/cipher/ofb.go.html#4425993">n</a></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4426086">}</span><br>
<span class="lineno"></span><span class="op" id="4426088">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
