<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6604502">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6604558">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6604612">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6604663">package</span>&nbsp;<span class="ident" id="6604671">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6604676">import</span>&nbsp;<span class="op" id="6604683">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6604686">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6604697">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6604707">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6604710">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6604778">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6604845">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6604855">func</span>&nbsp;<span class="ident" id="6604860">loopbackInterface</span><span class="op" id="6604877">(</span><span class="op" id="6604878">)</span>&nbsp;<span class="op" id="6604880">*</span><span class="ident" id="6604881">Interface</span>&nbsp;<span class="op" id="6604891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6604894">ift</span><span class="op" id="6604897">,</span>&nbsp;<span class="ident" id="6604899">err</span>&nbsp;<span class="op" id="6604903">:=</span>&nbsp;<span class="ident" id="6604906">Interfaces</span><span class="op" id="6604916">(</span><span class="op" id="6604917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6604920">if</span>&nbsp;<span class="ident" id="6604923">err</span>&nbsp;<span class="op" id="6604927">!=</span>&nbsp;<span class="ident" id="6604930">nil</span>&nbsp;<span class="op" id="6604934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6604938">return</span>&nbsp;<span class="ident" id="6604945">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6604950">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6604953">for</span>&nbsp;<span class="ident" id="6604957">_</span><span class="op" id="6604958">,</span>&nbsp;<span class="ident" id="6604960">ifi</span>&nbsp;<span class="op" id="6604964">:=</span>&nbsp;<span class="keyword" id="6604967">range</span>&nbsp;<span class="ident" id="6604973">ift</span>&nbsp;<span class="op" id="6604977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6604981">if</span>&nbsp;<span class="ident" id="6604984">ifi</span><span class="op" id="6604987">.</span><span class="ident" id="6604988">Flags</span><span class="op" id="6604993">&amp;</span><span class="ident" id="6604994">FlagLoopback</span>&nbsp;<span class="op" id="6605007">!=</span>&nbsp;<span class="num" id="6605010">0</span>&nbsp;<span class="op" id="6605012">&amp;&amp;</span>&nbsp;<span class="ident" id="6605015">ifi</span><span class="op" id="6605018">.</span><span class="ident" id="6605019">Flags</span><span class="op" id="6605024">&amp;</span><span class="ident" id="6605025">FlagUp</span>&nbsp;<span class="op" id="6605032">!=</span>&nbsp;<span class="num" id="6605035">0</span>&nbsp;<span class="op" id="6605037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605042">return</span>&nbsp;<span class="op" id="6605049">&amp;</span><span class="ident" id="6605050">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605059">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605062">return</span>&nbsp;<span class="ident" id="6605069">nil</span><br>
<span class="lineno"></span><span class="op" id="6605073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6605076">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6605147">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6605212">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6605242">func</span>&nbsp;<span class="ident" id="6605247">ipv6LinkLocalUnicastAddr</span><span class="op" id="6605271">(</span><span class="ident" id="6605272">ifi</span>&nbsp;<span class="op" id="6605276">*</span><span class="ident" id="6605277">Interface</span><span class="op" id="6605286">)</span>&nbsp;<span class="builtintype" id="6605288">string</span>&nbsp;<span class="op" id="6605295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605298">if</span>&nbsp;<span class="ident" id="6605301">ifi</span>&nbsp;<span class="op" id="6605305">==</span>&nbsp;<span class="ident" id="6605308">nil</span>&nbsp;<span class="op" id="6605312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605316">return</span>&nbsp;<span class="string" id="6605323">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605327">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605330">ifat</span><span class="op" id="6605334">,</span>&nbsp;<span class="ident" id="6605336">err</span>&nbsp;<span class="op" id="6605340">:=</span>&nbsp;<span class="ident" id="6605343">ifi</span><span class="op" id="6605346">.</span><span class="ident" id="6605347">Addrs</span><span class="op" id="6605352">(</span><span class="op" id="6605353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605356">if</span>&nbsp;<span class="ident" id="6605359">err</span>&nbsp;<span class="op" id="6605363">!=</span>&nbsp;<span class="ident" id="6605366">nil</span>&nbsp;<span class="op" id="6605370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605374">return</span>&nbsp;<span class="string" id="6605381">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605388">for</span>&nbsp;<span class="ident" id="6605392">_</span><span class="op" id="6605393">,</span>&nbsp;<span class="ident" id="6605395">ifa</span>&nbsp;<span class="op" id="6605399">:=</span>&nbsp;<span class="keyword" id="6605402">range</span>&nbsp;<span class="ident" id="6605408">ifat</span>&nbsp;<span class="op" id="6605413">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605417">switch</span>&nbsp;<span class="ident" id="6605424">ifa</span>&nbsp;<span class="op" id="6605428">:=</span>&nbsp;<span class="ident" id="6605431">ifa</span><span class="op" id="6605434">.</span><span class="op" id="6605435">(</span><span class="keyword" id="6605436">type</span><span class="op" id="6605440">)</span>&nbsp;<span class="op" id="6605442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605446">case</span>&nbsp;<span class="op" id="6605451">*</span><span class="ident" id="6605452">IPAddr</span><span class="op" id="6605458">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605463">if</span>&nbsp;<span class="ident" id="6605466">ifa</span><span class="op" id="6605469">.</span><span class="ident" id="6605470">IP</span><span class="op" id="6605472">.</span><span class="ident" id="6605473">To4</span><span class="op" id="6605476">(</span><span class="op" id="6605477">)</span>&nbsp;<span class="op" id="6605479">==</span>&nbsp;<span class="ident" id="6605482">nil</span>&nbsp;<span class="op" id="6605486">&amp;&amp;</span>&nbsp;<span class="ident" id="6605489">ifa</span><span class="op" id="6605492">.</span><span class="ident" id="6605493">IP</span><span class="op" id="6605495">.</span><span class="ident" id="6605496">IsLinkLocalUnicast</span><span class="op" id="6605514">(</span><span class="op" id="6605515">)</span>&nbsp;<span class="op" id="6605517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605523">return</span>&nbsp;<span class="ident" id="6605530">ifa</span><span class="op" id="6605533">.</span><span class="ident" id="6605534">IP</span><span class="op" id="6605536">.</span><span class="ident" id="6605537">String</span><span class="op" id="6605543">(</span><span class="op" id="6605544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605549">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605553">case</span>&nbsp;<span class="op" id="6605558">*</span><span class="ident" id="6605559">IPNet</span><span class="op" id="6605564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605569">if</span>&nbsp;<span class="ident" id="6605572">ifa</span><span class="op" id="6605575">.</span><span class="ident" id="6605576">IP</span><span class="op" id="6605578">.</span><span class="ident" id="6605579">To4</span><span class="op" id="6605582">(</span><span class="op" id="6605583">)</span>&nbsp;<span class="op" id="6605585">==</span>&nbsp;<span class="ident" id="6605588">nil</span>&nbsp;<span class="op" id="6605592">&amp;&amp;</span>&nbsp;<span class="ident" id="6605595">ifa</span><span class="op" id="6605598">.</span><span class="ident" id="6605599">IP</span><span class="op" id="6605601">.</span><span class="ident" id="6605602">IsLinkLocalUnicast</span><span class="op" id="6605620">(</span><span class="op" id="6605621">)</span>&nbsp;<span class="op" id="6605623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605629">return</span>&nbsp;<span class="ident" id="6605636">ifa</span><span class="op" id="6605639">.</span><span class="ident" id="6605640">IP</span><span class="op" id="6605642">.</span><span class="ident" id="6605643">String</span><span class="op" id="6605649">(</span><span class="op" id="6605650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605659">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605665">return</span>&nbsp;<span class="string" id="6605672">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6605675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6605678">func</span>&nbsp;<span class="ident" id="6605683">TestInterfaces</span><span class="op" id="6605697">(</span><span class="ident" id="6605698">t</span>&nbsp;<span class="op" id="6605700">*</span><span class="ident" id="6605701">testing</span><span class="op" id="6605708">.</span><span class="ident" id="6605709">T</span><span class="op" id="6605710">)</span>&nbsp;<span class="op" id="6605712">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605715">ift</span><span class="op" id="6605718">,</span>&nbsp;<span class="ident" id="6605720">err</span>&nbsp;<span class="op" id="6605724">:=</span>&nbsp;<span class="ident" id="6605727">Interfaces</span><span class="op" id="6605737">(</span><span class="op" id="6605738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605741">if</span>&nbsp;<span class="ident" id="6605744">err</span>&nbsp;<span class="op" id="6605748">!=</span>&nbsp;<span class="ident" id="6605751">nil</span>&nbsp;<span class="op" id="6605755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605759">t</span><span class="op" id="6605760">.</span><span class="ident" id="6605761">Fatalf</span><span class="op" id="6605767">(</span><span class="string" id="6605768">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6605791">,</span>&nbsp;<span class="ident" id="6605793">err</span><span class="op" id="6605796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6605799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605802">t</span><span class="op" id="6605803">.</span><span class="ident" id="6605804">Logf</span><span class="op" id="6605808">(</span><span class="string" id="6605809">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6605833">,</span>&nbsp;<span class="builtinfunc" id="6605835">len</span><span class="op" id="6605838">(</span><span class="ident" id="6605839">ift</span><span class="op" id="6605842">)</span><span class="op" id="6605843">,</span>&nbsp;<span class="builtinfunc" id="6605845">cap</span><span class="op" id="6605848">(</span><span class="ident" id="6605849">ift</span><span class="op" id="6605852">)</span><span class="op" id="6605853">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605857">for</span>&nbsp;<span class="ident" id="6605861">_</span><span class="op" id="6605862">,</span>&nbsp;<span class="ident" id="6605864">ifi</span>&nbsp;<span class="op" id="6605868">:=</span>&nbsp;<span class="keyword" id="6605871">range</span>&nbsp;<span class="ident" id="6605877">ift</span>&nbsp;<span class="op" id="6605881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605885">ifxi</span><span class="op" id="6605889">,</span>&nbsp;<span class="ident" id="6605891">err</span>&nbsp;<span class="op" id="6605895">:=</span>&nbsp;<span class="ident" id="6605898">InterfaceByIndex</span><span class="op" id="6605914">(</span><span class="ident" id="6605915">ifi</span><span class="op" id="6605918">.</span><span class="ident" id="6605919">Index</span><span class="op" id="6605924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6605928">if</span>&nbsp;<span class="ident" id="6605931">err</span>&nbsp;<span class="op" id="6605935">!=</span>&nbsp;<span class="ident" id="6605938">nil</span>&nbsp;<span class="op" id="6605942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6605947">t</span><span class="op" id="6605948">.</span><span class="ident" id="6605949">Fatalf</span><span class="op" id="6605955">(</span><span class="string" id="6605956">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6605989">,</span>&nbsp;<span class="ident" id="6605991">ifi</span><span class="op" id="6605994">.</span><span class="ident" id="6605995">Index</span><span class="op" id="6606000">,</span>&nbsp;<span class="ident" id="6606002">err</span><span class="op" id="6606005">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6606013">if</span>&nbsp;<span class="op" id="6606016">!</span><span class="ident" id="6606017">reflect</span><span class="op" id="6606024">.</span><span class="ident" id="6606025">DeepEqual</span><span class="op" id="6606034">(</span><span class="ident" id="6606035">ifxi</span><span class="op" id="6606039">,</span>&nbsp;<span class="op" id="6606041">&amp;</span><span class="ident" id="6606042">ifi</span><span class="op" id="6606045">)</span>&nbsp;<span class="op" id="6606047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606052">t</span><span class="op" id="6606053">.</span><span class="ident" id="6606054">Fatalf</span><span class="op" id="6606060">(</span><span class="string" id="6606061">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6606097">,</span>&nbsp;<span class="ident" id="6606099">ifi</span><span class="op" id="6606102">.</span><span class="ident" id="6606103">Index</span><span class="op" id="6606108">,</span>&nbsp;<span class="ident" id="6606110">ifxi</span><span class="op" id="6606114">,</span>&nbsp;<span class="ident" id="6606116">ifi</span><span class="op" id="6606119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606127">ifxn</span><span class="op" id="6606131">,</span>&nbsp;<span class="ident" id="6606133">err</span>&nbsp;<span class="op" id="6606137">:=</span>&nbsp;<span class="ident" id="6606140">InterfaceByName</span><span class="op" id="6606155">(</span><span class="ident" id="6606156">ifi</span><span class="op" id="6606159">.</span><span class="ident" id="6606160">Name</span><span class="op" id="6606164">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6606168">if</span>&nbsp;<span class="ident" id="6606171">err</span>&nbsp;<span class="op" id="6606175">!=</span>&nbsp;<span class="ident" id="6606178">nil</span>&nbsp;<span class="op" id="6606182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606187">t</span><span class="op" id="6606188">.</span><span class="ident" id="6606189">Fatalf</span><span class="op" id="6606195">(</span><span class="string" id="6606196">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6606228">,</span>&nbsp;<span class="ident" id="6606230">ifi</span><span class="op" id="6606233">.</span><span class="ident" id="6606234">Name</span><span class="op" id="6606238">,</span>&nbsp;<span class="ident" id="6606240">err</span><span class="op" id="6606243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6606251">if</span>&nbsp;<span class="op" id="6606254">!</span><span class="ident" id="6606255">reflect</span><span class="op" id="6606262">.</span><span class="ident" id="6606263">DeepEqual</span><span class="op" id="6606272">(</span><span class="ident" id="6606273">ifxn</span><span class="op" id="6606277">,</span>&nbsp;<span class="op" id="6606279">&amp;</span><span class="ident" id="6606280">ifi</span><span class="op" id="6606283">)</span>&nbsp;<span class="op" id="6606285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606290">t</span><span class="op" id="6606291">.</span><span class="ident" id="6606292">Fatalf</span><span class="op" id="6606298">(</span><span class="string" id="6606299">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6606334">,</span>&nbsp;<span class="ident" id="6606336">ifi</span><span class="op" id="6606339">.</span><span class="ident" id="6606340">Name</span><span class="op" id="6606344">,</span>&nbsp;<span class="ident" id="6606346">ifxn</span><span class="op" id="6606350">,</span>&nbsp;<span class="ident" id="6606352">ifi</span><span class="op" id="6606355">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606363">t</span><span class="op" id="6606364">.</span><span class="ident" id="6606365">Logf</span><span class="op" id="6606369">(</span><span class="string" id="6606370">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6606404">,</span>&nbsp;<span class="ident" id="6606406">ifi</span><span class="op" id="6606409">.</span><span class="ident" id="6606410">Name</span><span class="op" id="6606414">,</span>&nbsp;<span class="ident" id="6606416">ifi</span><span class="op" id="6606419">.</span><span class="ident" id="6606420">Flags</span><span class="op" id="6606425">.</span><span class="ident" id="6606426">String</span><span class="op" id="6606432">(</span><span class="op" id="6606433">)</span><span class="op" id="6606434">,</span>&nbsp;<span class="ident" id="6606436">ifi</span><span class="op" id="6606439">.</span><span class="ident" id="6606440">Index</span><span class="op" id="6606445">,</span>&nbsp;<span class="ident" id="6606447">ifi</span><span class="op" id="6606450">.</span><span class="ident" id="6606451">MTU</span><span class="op" id="6606454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606458">t</span><span class="op" id="6606459">.</span><span class="ident" id="6606460">Logf</span><span class="op" id="6606464">(</span><span class="string" id="6606465">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6606488">,</span>&nbsp;<span class="ident" id="6606490">ifi</span><span class="op" id="6606493">.</span><span class="ident" id="6606494">HardwareAddr</span><span class="op" id="6606506">.</span><span class="ident" id="6606507">String</span><span class="op" id="6606513">(</span><span class="op" id="6606514">)</span><span class="op" id="6606515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606519">testInterfaceAddrs</span><span class="op" id="6606537">(</span><span class="ident" id="6606538">t</span><span class="op" id="6606539">,</span>&nbsp;<span class="op" id="6606541">&amp;</span><span class="ident" id="6606542">ifi</span><span class="op" id="6606545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606549">testInterfaceMulticastAddrs</span><span class="op" id="6606576">(</span><span class="ident" id="6606577">t</span><span class="op" id="6606578">,</span>&nbsp;<span class="op" id="6606580">&amp;</span><span class="ident" id="6606581">ifi</span><span class="op" id="6606584">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606587">}</span><br>
<span class="lineno"></span><span class="op" id="6606589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6606592">func</span>&nbsp;<span class="ident" id="6606597">TestInterfaceAddrs</span><span class="op" id="6606615">(</span><span class="ident" id="6606616">t</span>&nbsp;<span class="op" id="6606618">*</span><span class="ident" id="6606619">testing</span><span class="op" id="6606626">.</span><span class="ident" id="6606627">T</span><span class="op" id="6606628">)</span>&nbsp;<span class="op" id="6606630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606633">ifat</span><span class="op" id="6606637">,</span>&nbsp;<span class="ident" id="6606639">err</span>&nbsp;<span class="op" id="6606643">:=</span>&nbsp;<span class="ident" id="6606646">InterfaceAddrs</span><span class="op" id="6606660">(</span><span class="op" id="6606661">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6606664">if</span>&nbsp;<span class="ident" id="6606667">err</span>&nbsp;<span class="op" id="6606671">!=</span>&nbsp;<span class="ident" id="6606674">nil</span>&nbsp;<span class="op" id="6606678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606682">t</span><span class="op" id="6606683">.</span><span class="ident" id="6606684">Fatalf</span><span class="op" id="6606690">(</span><span class="string" id="6606691">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6606718">,</span>&nbsp;<span class="ident" id="6606720">err</span><span class="op" id="6606723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606729">t</span><span class="op" id="6606730">.</span><span class="ident" id="6606731">Logf</span><span class="op" id="6606735">(</span><span class="string" id="6606736">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6606760">,</span>&nbsp;<span class="builtinfunc" id="6606762">len</span><span class="op" id="6606765">(</span><span class="ident" id="6606766">ifat</span><span class="op" id="6606770">)</span><span class="op" id="6606771">,</span>&nbsp;<span class="builtinfunc" id="6606773">cap</span><span class="op" id="6606776">(</span><span class="ident" id="6606777">ifat</span><span class="op" id="6606781">)</span><span class="op" id="6606782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606785">testAddrs</span><span class="op" id="6606794">(</span><span class="ident" id="6606795">t</span><span class="op" id="6606796">,</span>&nbsp;<span class="ident" id="6606798">ifat</span><span class="op" id="6606802">)</span><br>
<span class="lineno">90</span><span class="op" id="6606804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6606807">func</span>&nbsp;<span class="ident" id="6606812">testInterfaceAddrs</span><span class="op" id="6606830">(</span><span class="ident" id="6606831">t</span>&nbsp;<span class="op" id="6606833">*</span><span class="ident" id="6606834">testing</span><span class="op" id="6606841">.</span><span class="ident" id="6606842">T</span><span class="op" id="6606843">,</span>&nbsp;<span class="ident" id="6606845">ifi</span>&nbsp;<span class="op" id="6606849">*</span><span class="ident" id="6606850">Interface</span><span class="op" id="6606859">)</span>&nbsp;<span class="op" id="6606861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606864">ifat</span><span class="op" id="6606868">,</span>&nbsp;<span class="ident" id="6606870">err</span>&nbsp;<span class="op" id="6606874">:=</span>&nbsp;<span class="ident" id="6606877">ifi</span><span class="op" id="6606880">.</span><span class="ident" id="6606881">Addrs</span><span class="op" id="6606886">(</span><span class="op" id="6606887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6606890">if</span>&nbsp;<span class="ident" id="6606893">err</span>&nbsp;<span class="op" id="6606897">!=</span>&nbsp;<span class="ident" id="6606900">nil</span>&nbsp;<span class="op" id="6606904">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606908">t</span><span class="op" id="6606909">.</span><span class="ident" id="6606910">Fatalf</span><span class="op" id="6606916">(</span><span class="string" id="6606917">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6606945">,</span>&nbsp;<span class="ident" id="6606947">err</span><span class="op" id="6606950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6606953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6606956">testAddrs</span><span class="op" id="6606965">(</span><span class="ident" id="6606966">t</span><span class="op" id="6606967">,</span>&nbsp;<span class="ident" id="6606969">ifat</span><span class="op" id="6606973">)</span><br>
<span class="lineno"></span><span class="op" id="6606975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6606978">func</span>&nbsp;<span class="ident" id="6606983">testInterfaceMulticastAddrs</span><span class="op" id="6607010">(</span><span class="ident" id="6607011">t</span>&nbsp;<span class="op" id="6607013">*</span><span class="ident" id="6607014">testing</span><span class="op" id="6607021">.</span><span class="ident" id="6607022">T</span><span class="op" id="6607023">,</span>&nbsp;<span class="ident" id="6607025">ifi</span>&nbsp;<span class="op" id="6607029">*</span><span class="ident" id="6607030">Interface</span><span class="op" id="6607039">)</span>&nbsp;<span class="op" id="6607041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607044">ifmat</span><span class="op" id="6607049">,</span>&nbsp;<span class="ident" id="6607051">err</span>&nbsp;<span class="op" id="6607055">:=</span>&nbsp;<span class="ident" id="6607058">ifi</span><span class="op" id="6607061">.</span><span class="ident" id="6607062">MulticastAddrs</span><span class="op" id="6607076">(</span><span class="op" id="6607077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607080">if</span>&nbsp;<span class="ident" id="6607083">err</span>&nbsp;<span class="op" id="6607087">!=</span>&nbsp;<span class="ident" id="6607090">nil</span>&nbsp;<span class="op" id="6607094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607098">t</span><span class="op" id="6607099">.</span><span class="ident" id="6607100">Fatalf</span><span class="op" id="6607106">(</span><span class="string" id="6607107">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6607144">,</span>&nbsp;<span class="ident" id="6607146">err</span><span class="op" id="6607149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607152">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607155">testMulticastAddrs</span><span class="op" id="6607173">(</span><span class="ident" id="6607174">t</span><span class="op" id="6607175">,</span>&nbsp;<span class="ident" id="6607177">ifmat</span><span class="op" id="6607182">)</span><br>
<span class="lineno"></span><span class="op" id="6607184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6607187">func</span>&nbsp;<span class="ident" id="6607192">testAddrs</span><span class="op" id="6607201">(</span><span class="ident" id="6607202">t</span>&nbsp;<span class="op" id="6607204">*</span><span class="ident" id="6607205">testing</span><span class="op" id="6607212">.</span><span class="ident" id="6607213">T</span><span class="op" id="6607214">,</span>&nbsp;<span class="ident" id="6607216">ifat</span>&nbsp;<span class="op" id="6607221">[</span><span class="op" id="6607222">]</span><span class="ident" id="6607223">Addr</span><span class="op" id="6607227">)</span>&nbsp;<span class="op" id="6607229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607232">for</span>&nbsp;<span class="ident" id="6607236">_</span><span class="op" id="6607237">,</span>&nbsp;<span class="ident" id="6607239">ifa</span>&nbsp;<span class="op" id="6607243">:=</span>&nbsp;<span class="keyword" id="6607246">range</span>&nbsp;<span class="ident" id="6607252">ifat</span>&nbsp;<span class="op" id="6607257">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607261">switch</span>&nbsp;<span class="ident" id="6607268">ifa</span>&nbsp;<span class="op" id="6607272">:=</span>&nbsp;<span class="ident" id="6607275">ifa</span><span class="op" id="6607278">.</span><span class="op" id="6607279">(</span><span class="keyword" id="6607280">type</span><span class="op" id="6607284">)</span>&nbsp;<span class="op" id="6607286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607290">case</span>&nbsp;<span class="op" id="6607295">*</span><span class="ident" id="6607296">IPAddr</span><span class="op" id="6607302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607307">if</span>&nbsp;<span class="ident" id="6607310">ifa</span>&nbsp;<span class="op" id="6607314">==</span>&nbsp;<span class="ident" id="6607317">nil</span>&nbsp;<span class="op" id="6607321">||</span>&nbsp;<span class="ident" id="6607324">ifa</span><span class="op" id="6607327">.</span><span class="ident" id="6607328">IP</span>&nbsp;<span class="op" id="6607331">==</span>&nbsp;<span class="ident" id="6607334">nil</span>&nbsp;<span class="op" id="6607338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607344">t</span><span class="op" id="6607345">.</span><span class="ident" id="6607346">Errorf</span><span class="op" id="6607352">(</span><span class="string" id="6607353">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6607381">,</span>&nbsp;<span class="ident" id="6607383">ifa</span><span class="op" id="6607386">,</span>&nbsp;<span class="ident" id="6607388">ifa</span><span class="op" id="6607391">.</span><span class="ident" id="6607392">IP</span><span class="op" id="6607394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607399">}</span>&nbsp;<span class="keyword" id="6607401">else</span>&nbsp;<span class="op" id="6607406">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607412">t</span><span class="op" id="6607413">.</span><span class="ident" id="6607414">Logf</span><span class="op" id="6607418">(</span><span class="string" id="6607419">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6607443">,</span>&nbsp;<span class="ident" id="6607445">ifa</span><span class="op" id="6607448">.</span><span class="ident" id="6607449">String</span><span class="op" id="6607455">(</span><span class="op" id="6607456">)</span><span class="op" id="6607457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607466">case</span>&nbsp;<span class="op" id="6607471">*</span><span class="ident" id="6607472">IPNet</span><span class="op" id="6607477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607482">if</span>&nbsp;<span class="ident" id="6607485">ifa</span>&nbsp;<span class="op" id="6607489">==</span>&nbsp;<span class="ident" id="6607492">nil</span>&nbsp;<span class="op" id="6607496">||</span>&nbsp;<span class="ident" id="6607499">ifa</span><span class="op" id="6607502">.</span><span class="ident" id="6607503">IP</span>&nbsp;<span class="op" id="6607506">==</span>&nbsp;<span class="ident" id="6607509">nil</span>&nbsp;<span class="op" id="6607513">||</span>&nbsp;<span class="ident" id="6607516">ifa</span><span class="op" id="6607519">.</span><span class="ident" id="6607520">Mask</span>&nbsp;<span class="op" id="6607525">==</span>&nbsp;<span class="ident" id="6607528">nil</span>&nbsp;<span class="op" id="6607532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607538">t</span><span class="op" id="6607539">.</span><span class="ident" id="6607540">Errorf</span><span class="op" id="6607546">(</span><span class="string" id="6607547">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6607579">,</span>&nbsp;<span class="ident" id="6607581">ifa</span><span class="op" id="6607584">,</span>&nbsp;<span class="ident" id="6607586">ifa</span><span class="op" id="6607589">.</span><span class="ident" id="6607590">IP</span><span class="op" id="6607592">,</span>&nbsp;<span class="ident" id="6607594">ifa</span><span class="op" id="6607597">.</span><span class="ident" id="6607598">Mask</span><span class="op" id="6607602">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607607">}</span>&nbsp;<span class="keyword" id="6607609">else</span>&nbsp;<span class="op" id="6607614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607620">_</span><span class="op" id="6607621">,</span>&nbsp;<span class="ident" id="6607623">prefixLen</span>&nbsp;<span class="op" id="6607633">:=</span>&nbsp;<span class="ident" id="6607636">ifa</span><span class="op" id="6607639">.</span><span class="ident" id="6607640">Mask</span><span class="op" id="6607644">.</span><span class="ident" id="6607645">Size</span><span class="op" id="6607649">(</span><span class="op" id="6607650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607656">if</span>&nbsp;<span class="ident" id="6607659">ifa</span><span class="op" id="6607662">.</span><span class="ident" id="6607663">IP</span><span class="op" id="6607665">.</span><span class="ident" id="6607666">To4</span><span class="op" id="6607669">(</span><span class="op" id="6607670">)</span>&nbsp;<span class="op" id="6607672">!=</span>&nbsp;<span class="ident" id="6607675">nil</span>&nbsp;<span class="op" id="6607679">&amp;&amp;</span>&nbsp;<span class="ident" id="6607682">prefixLen</span>&nbsp;<span class="op" id="6607692">!=</span>&nbsp;<span class="num" id="6607695">8</span><span class="op" id="6607696">*</span><span class="ident" id="6607697">IPv4len</span>&nbsp;<span class="op" id="6607705">||</span>&nbsp;<span class="ident" id="6607708">ifa</span><span class="op" id="6607711">.</span><span class="ident" id="6607712">IP</span><span class="op" id="6607714">.</span><span class="ident" id="6607715">To16</span><span class="op" id="6607719">(</span><span class="op" id="6607720">)</span>&nbsp;<span class="op" id="6607722">!=</span>&nbsp;<span class="ident" id="6607725">nil</span>&nbsp;<span class="op" id="6607729">&amp;&amp;</span>&nbsp;<span class="ident" id="6607732">ifa</span><span class="op" id="6607735">.</span><span class="ident" id="6607736">IP</span><span class="op" id="6607738">.</span><span class="ident" id="6607739">To4</span><span class="op" id="6607742">(</span><span class="op" id="6607743">)</span>&nbsp;<span class="op" id="6607745">==</span>&nbsp;<span class="ident" id="6607748">nil</span>&nbsp;<span class="op" id="6607752">&amp;&amp;</span>&nbsp;<span class="ident" id="6607755">prefixLen</span>&nbsp;<span class="op" id="6607765">!=</span>&nbsp;<span class="num" id="6607768">8</span><span class="op" id="6607769">*</span><span class="ident" id="6607770">IPv6len</span>&nbsp;<span class="op" id="6607778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607785">t</span><span class="op" id="6607786">.</span><span class="ident" id="6607787">Errorf</span><span class="op" id="6607793">(</span><span class="string" id="6607794">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6607830">,</span>&nbsp;<span class="ident" id="6607832">ifa</span><span class="op" id="6607835">,</span>&nbsp;<span class="ident" id="6607837">ifa</span><span class="op" id="6607840">.</span><span class="ident" id="6607841">IP</span><span class="op" id="6607843">,</span>&nbsp;<span class="ident" id="6607845">ifa</span><span class="op" id="6607848">.</span><span class="ident" id="6607849">Mask</span><span class="op" id="6607853">,</span>&nbsp;<span class="ident" id="6607855">prefixLen</span><span class="op" id="6607864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607870">}</span>&nbsp;<span class="keyword" id="6607872">else</span>&nbsp;<span class="op" id="6607877">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607884">t</span><span class="op" id="6607885">.</span><span class="ident" id="6607886">Logf</span><span class="op" id="6607890">(</span><span class="string" id="6607891">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6607915">,</span>&nbsp;<span class="ident" id="6607917">ifa</span><span class="op" id="6607920">.</span><span class="ident" id="6607921">String</span><span class="op" id="6607927">(</span><span class="op" id="6607928">)</span><span class="op" id="6607929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6607944">default</span><span class="op" id="6607951">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607956">t</span><span class="op" id="6607957">.</span><span class="ident" id="6607958">Errorf</span><span class="op" id="6607964">(</span><span class="string" id="6607965">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6607988">,</span>&nbsp;<span class="ident" id="6607990">ifa</span><span class="op" id="6607993">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608000">}</span><br>
<span class="lineno"></span><span class="op" id="6608002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608005">func</span>&nbsp;<span class="ident" id="6608010">testMulticastAddrs</span><span class="op" id="6608028">(</span><span class="ident" id="6608029">t</span>&nbsp;<span class="op" id="6608031">*</span><span class="ident" id="6608032">testing</span><span class="op" id="6608039">.</span><span class="ident" id="6608040">T</span><span class="op" id="6608041">,</span>&nbsp;<span class="ident" id="6608043">ifmat</span>&nbsp;<span class="op" id="6608049">[</span><span class="op" id="6608050">]</span><span class="ident" id="6608051">Addr</span><span class="op" id="6608055">)</span>&nbsp;<span class="op" id="6608057">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608060">for</span>&nbsp;<span class="ident" id="6608064">_</span><span class="op" id="6608065">,</span>&nbsp;<span class="ident" id="6608067">ifma</span>&nbsp;<span class="op" id="6608072">:=</span>&nbsp;<span class="keyword" id="6608075">range</span>&nbsp;<span class="ident" id="6608081">ifmat</span>&nbsp;<span class="op" id="6608087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608091">switch</span>&nbsp;<span class="ident" id="6608098">ifma</span>&nbsp;<span class="op" id="6608103">:=</span>&nbsp;<span class="ident" id="6608106">ifma</span><span class="op" id="6608110">.</span><span class="op" id="6608111">(</span><span class="keyword" id="6608112">type</span><span class="op" id="6608116">)</span>&nbsp;<span class="op" id="6608118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608122">case</span>&nbsp;<span class="op" id="6608127">*</span><span class="ident" id="6608128">IPAddr</span><span class="op" id="6608134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608139">if</span>&nbsp;<span class="ident" id="6608142">ifma</span>&nbsp;<span class="op" id="6608147">==</span>&nbsp;<span class="ident" id="6608150">nil</span>&nbsp;<span class="op" id="6608154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608160">t</span><span class="op" id="6608161">.</span><span class="ident" id="6608162">Errorf</span><span class="op" id="6608168">(</span><span class="string" id="6608169">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6608193">,</span>&nbsp;<span class="ident" id="6608195">ifma</span><span class="op" id="6608199">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608204">}</span>&nbsp;<span class="keyword" id="6608206">else</span>&nbsp;<span class="op" id="6608211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608217">t</span><span class="op" id="6608218">.</span><span class="ident" id="6608219">Logf</span><span class="op" id="6608223">(</span><span class="string" id="6608224">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6608251">,</span>&nbsp;<span class="ident" id="6608253">ifma</span><span class="op" id="6608257">.</span><span class="ident" id="6608258">String</span><span class="op" id="6608264">(</span><span class="op" id="6608265">)</span><span class="op" id="6608266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608275">default</span><span class="op" id="6608282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608287">t</span><span class="op" id="6608288">.</span><span class="ident" id="6608289">Errorf</span><span class="op" id="6608295">(</span><span class="string" id="6608296">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6608319">,</span>&nbsp;<span class="ident" id="6608321">ifma</span><span class="op" id="6608325">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608332">}</span><br>
<span class="lineno"></span><span class="op" id="6608334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608337">func</span>&nbsp;<span class="ident" id="6608342">BenchmarkInterfaces</span><span class="op" id="6608361">(</span><span class="ident" id="6608362">b</span>&nbsp;<span class="op" id="6608364">*</span><span class="ident" id="6608365">testing</span><span class="op" id="6608372">.</span><span class="ident" id="6608373">B</span><span class="op" id="6608374">)</span>&nbsp;<span class="op" id="6608376">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608379">for</span>&nbsp;<span class="ident" id="6608383">i</span>&nbsp;<span class="op" id="6608385">:=</span>&nbsp;<span class="num" id="6608388">0</span><span class="op" id="6608389">;</span>&nbsp;<span class="ident" id="6608391">i</span>&nbsp;<span class="op" id="6608393">&lt;</span>&nbsp;<span class="ident" id="6608395">b</span><span class="op" id="6608396">.</span><span class="ident" id="6608397">N</span><span class="op" id="6608398">;</span>&nbsp;<span class="ident" id="6608400">i</span><span class="op" id="6608401">++</span>&nbsp;<span class="op" id="6608404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608408">if</span>&nbsp;<span class="ident" id="6608411">_</span><span class="op" id="6608412">,</span>&nbsp;<span class="ident" id="6608414">err</span>&nbsp;<span class="op" id="6608418">:=</span>&nbsp;<span class="ident" id="6608421">Interfaces</span><span class="op" id="6608431">(</span><span class="op" id="6608432">)</span><span class="op" id="6608433">;</span>&nbsp;<span class="ident" id="6608435">err</span>&nbsp;<span class="op" id="6608439">!=</span>&nbsp;<span class="ident" id="6608442">nil</span>&nbsp;<span class="op" id="6608446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608451">b</span><span class="op" id="6608452">.</span><span class="ident" id="6608453">Fatalf</span><span class="op" id="6608459">(</span><span class="string" id="6608460">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6608483">,</span>&nbsp;<span class="ident" id="6608485">err</span><span class="op" id="6608488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608495">}</span><br>
<span class="lineno">155</span><span class="op" id="6608497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608500">func</span>&nbsp;<span class="ident" id="6608505">BenchmarkInterfaceByIndex</span><span class="op" id="6608530">(</span><span class="ident" id="6608531">b</span>&nbsp;<span class="op" id="6608533">*</span><span class="ident" id="6608534">testing</span><span class="op" id="6608541">.</span><span class="ident" id="6608542">B</span><span class="op" id="6608543">)</span>&nbsp;<span class="op" id="6608545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608548">ifi</span>&nbsp;<span class="op" id="6608552">:=</span>&nbsp;<span class="ident" id="6608555">loopbackInterface</span><span class="op" id="6608572">(</span><span class="op" id="6608573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608576">if</span>&nbsp;<span class="ident" id="6608579">ifi</span>&nbsp;<span class="op" id="6608583">==</span>&nbsp;<span class="ident" id="6608586">nil</span>&nbsp;<span class="op" id="6608590">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608594">b</span><span class="op" id="6608595">.</span><span class="ident" id="6608596">Skip</span><span class="op" id="6608600">(</span><span class="string" id="6608601">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6608631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608637">for</span>&nbsp;<span class="ident" id="6608641">i</span>&nbsp;<span class="op" id="6608643">:=</span>&nbsp;<span class="num" id="6608646">0</span><span class="op" id="6608647">;</span>&nbsp;<span class="ident" id="6608649">i</span>&nbsp;<span class="op" id="6608651">&lt;</span>&nbsp;<span class="ident" id="6608653">b</span><span class="op" id="6608654">.</span><span class="ident" id="6608655">N</span><span class="op" id="6608656">;</span>&nbsp;<span class="ident" id="6608658">i</span><span class="op" id="6608659">++</span>&nbsp;<span class="op" id="6608662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608666">if</span>&nbsp;<span class="ident" id="6608669">_</span><span class="op" id="6608670">,</span>&nbsp;<span class="ident" id="6608672">err</span>&nbsp;<span class="op" id="6608676">:=</span>&nbsp;<span class="ident" id="6608679">InterfaceByIndex</span><span class="op" id="6608695">(</span><span class="ident" id="6608696">ifi</span><span class="op" id="6608699">.</span><span class="ident" id="6608700">Index</span><span class="op" id="6608705">)</span><span class="op" id="6608706">;</span>&nbsp;<span class="ident" id="6608708">err</span>&nbsp;<span class="op" id="6608712">!=</span>&nbsp;<span class="ident" id="6608715">nil</span>&nbsp;<span class="op" id="6608719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608724">b</span><span class="op" id="6608725">.</span><span class="ident" id="6608726">Fatalf</span><span class="op" id="6608732">(</span><span class="string" id="6608733">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6608762">,</span>&nbsp;<span class="ident" id="6608764">err</span><span class="op" id="6608767">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608774">}</span><br>
<span class="lineno"></span><span class="op" id="6608776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608779">func</span>&nbsp;<span class="ident" id="6608784">BenchmarkInterfaceByName</span><span class="op" id="6608808">(</span><span class="ident" id="6608809">b</span>&nbsp;<span class="op" id="6608811">*</span><span class="ident" id="6608812">testing</span><span class="op" id="6608819">.</span><span class="ident" id="6608820">B</span><span class="op" id="6608821">)</span>&nbsp;<span class="op" id="6608823">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608826">ifi</span>&nbsp;<span class="op" id="6608830">:=</span>&nbsp;<span class="ident" id="6608833">loopbackInterface</span><span class="op" id="6608850">(</span><span class="op" id="6608851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608854">if</span>&nbsp;<span class="ident" id="6608857">ifi</span>&nbsp;<span class="op" id="6608861">==</span>&nbsp;<span class="ident" id="6608864">nil</span>&nbsp;<span class="op" id="6608868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608872">b</span><span class="op" id="6608873">.</span><span class="ident" id="6608874">Skip</span><span class="op" id="6608878">(</span><span class="string" id="6608879">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6608909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608915">for</span>&nbsp;<span class="ident" id="6608919">i</span>&nbsp;<span class="op" id="6608921">:=</span>&nbsp;<span class="num" id="6608924">0</span><span class="op" id="6608925">;</span>&nbsp;<span class="ident" id="6608927">i</span>&nbsp;<span class="op" id="6608929">&lt;</span>&nbsp;<span class="ident" id="6608931">b</span><span class="op" id="6608932">.</span><span class="ident" id="6608933">N</span><span class="op" id="6608934">;</span>&nbsp;<span class="ident" id="6608936">i</span><span class="op" id="6608937">++</span>&nbsp;<span class="op" id="6608940">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608944">if</span>&nbsp;<span class="ident" id="6608947">_</span><span class="op" id="6608948">,</span>&nbsp;<span class="ident" id="6608950">err</span>&nbsp;<span class="op" id="6608954">:=</span>&nbsp;<span class="ident" id="6608957">InterfaceByName</span><span class="op" id="6608972">(</span><span class="ident" id="6608973">ifi</span><span class="op" id="6608976">.</span><span class="ident" id="6608977">Name</span><span class="op" id="6608981">)</span><span class="op" id="6608982">;</span>&nbsp;<span class="ident" id="6608984">err</span>&nbsp;<span class="op" id="6608988">!=</span>&nbsp;<span class="ident" id="6608991">nil</span>&nbsp;<span class="op" id="6608995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609000">b</span><span class="op" id="6609001">.</span><span class="ident" id="6609002">Fatalf</span><span class="op" id="6609008">(</span><span class="string" id="6609009">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6609037">,</span>&nbsp;<span class="ident" id="6609039">err</span><span class="op" id="6609042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609049">}</span><br>
<span class="lineno"></span><span class="op" id="6609051">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6609054">func</span>&nbsp;<span class="ident" id="6609059">BenchmarkInterfaceAddrs</span><span class="op" id="6609082">(</span><span class="ident" id="6609083">b</span>&nbsp;<span class="op" id="6609085">*</span><span class="ident" id="6609086">testing</span><span class="op" id="6609093">.</span><span class="ident" id="6609094">B</span><span class="op" id="6609095">)</span>&nbsp;<span class="op" id="6609097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609100">for</span>&nbsp;<span class="ident" id="6609104">i</span>&nbsp;<span class="op" id="6609106">:=</span>&nbsp;<span class="num" id="6609109">0</span><span class="op" id="6609110">;</span>&nbsp;<span class="ident" id="6609112">i</span>&nbsp;<span class="op" id="6609114">&lt;</span>&nbsp;<span class="ident" id="6609116">b</span><span class="op" id="6609117">.</span><span class="ident" id="6609118">N</span><span class="op" id="6609119">;</span>&nbsp;<span class="ident" id="6609121">i</span><span class="op" id="6609122">++</span>&nbsp;<span class="op" id="6609125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609129">if</span>&nbsp;<span class="ident" id="6609132">_</span><span class="op" id="6609133">,</span>&nbsp;<span class="ident" id="6609135">err</span>&nbsp;<span class="op" id="6609139">:=</span>&nbsp;<span class="ident" id="6609142">InterfaceAddrs</span><span class="op" id="6609156">(</span><span class="op" id="6609157">)</span><span class="op" id="6609158">;</span>&nbsp;<span class="ident" id="6609160">err</span>&nbsp;<span class="op" id="6609164">!=</span>&nbsp;<span class="ident" id="6609167">nil</span>&nbsp;<span class="op" id="6609171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609176">b</span><span class="op" id="6609177">.</span><span class="ident" id="6609178">Fatalf</span><span class="op" id="6609184">(</span><span class="string" id="6609185">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6609212">,</span>&nbsp;<span class="ident" id="6609214">err</span><span class="op" id="6609217">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609224">}</span><br>
<span class="lineno"></span><span class="op" id="6609226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6609229">func</span>&nbsp;<span class="ident" id="6609234">BenchmarkInterfacesAndAddrs</span><span class="op" id="6609261">(</span><span class="ident" id="6609262">b</span>&nbsp;<span class="op" id="6609264">*</span><span class="ident" id="6609265">testing</span><span class="op" id="6609272">.</span><span class="ident" id="6609273">B</span><span class="op" id="6609274">)</span>&nbsp;<span class="op" id="6609276">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609279">ifi</span>&nbsp;<span class="op" id="6609283">:=</span>&nbsp;<span class="ident" id="6609286">loopbackInterface</span><span class="op" id="6609303">(</span><span class="op" id="6609304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609307">if</span>&nbsp;<span class="ident" id="6609310">ifi</span>&nbsp;<span class="op" id="6609314">==</span>&nbsp;<span class="ident" id="6609317">nil</span>&nbsp;<span class="op" id="6609321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609325">b</span><span class="op" id="6609326">.</span><span class="ident" id="6609327">Skip</span><span class="op" id="6609331">(</span><span class="string" id="6609332">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6609362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609368">for</span>&nbsp;<span class="ident" id="6609372">i</span>&nbsp;<span class="op" id="6609374">:=</span>&nbsp;<span class="num" id="6609377">0</span><span class="op" id="6609378">;</span>&nbsp;<span class="ident" id="6609380">i</span>&nbsp;<span class="op" id="6609382">&lt;</span>&nbsp;<span class="ident" id="6609384">b</span><span class="op" id="6609385">.</span><span class="ident" id="6609386">N</span><span class="op" id="6609387">;</span>&nbsp;<span class="ident" id="6609389">i</span><span class="op" id="6609390">++</span>&nbsp;<span class="op" id="6609393">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609397">if</span>&nbsp;<span class="ident" id="6609400">_</span><span class="op" id="6609401">,</span>&nbsp;<span class="ident" id="6609403">err</span>&nbsp;<span class="op" id="6609407">:=</span>&nbsp;<span class="ident" id="6609410">ifi</span><span class="op" id="6609413">.</span><span class="ident" id="6609414">Addrs</span><span class="op" id="6609419">(</span><span class="op" id="6609420">)</span><span class="op" id="6609421">;</span>&nbsp;<span class="ident" id="6609423">err</span>&nbsp;<span class="op" id="6609427">!=</span>&nbsp;<span class="ident" id="6609430">nil</span>&nbsp;<span class="op" id="6609434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609439">b</span><span class="op" id="6609440">.</span><span class="ident" id="6609441">Fatalf</span><span class="op" id="6609447">(</span><span class="string" id="6609448">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6609476">,</span>&nbsp;<span class="ident" id="6609478">err</span><span class="op" id="6609481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609488">}</span><br>
<span class="lineno"></span><span class="op" id="6609490">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6609493">func</span>&nbsp;<span class="ident" id="6609498">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6609534">(</span><span class="ident" id="6609535">b</span>&nbsp;<span class="op" id="6609537">*</span><span class="ident" id="6609538">testing</span><span class="op" id="6609545">.</span><span class="ident" id="6609546">B</span><span class="op" id="6609547">)</span>&nbsp;<span class="op" id="6609549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609552">ifi</span>&nbsp;<span class="op" id="6609556">:=</span>&nbsp;<span class="ident" id="6609559">loopbackInterface</span><span class="op" id="6609576">(</span><span class="op" id="6609577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609580">if</span>&nbsp;<span class="ident" id="6609583">ifi</span>&nbsp;<span class="op" id="6609587">==</span>&nbsp;<span class="ident" id="6609590">nil</span>&nbsp;<span class="op" id="6609594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609598">b</span><span class="op" id="6609599">.</span><span class="ident" id="6609600">Skip</span><span class="op" id="6609604">(</span><span class="string" id="6609605">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6609635">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609641">for</span>&nbsp;<span class="ident" id="6609645">i</span>&nbsp;<span class="op" id="6609647">:=</span>&nbsp;<span class="num" id="6609650">0</span><span class="op" id="6609651">;</span>&nbsp;<span class="ident" id="6609653">i</span>&nbsp;<span class="op" id="6609655">&lt;</span>&nbsp;<span class="ident" id="6609657">b</span><span class="op" id="6609658">.</span><span class="ident" id="6609659">N</span><span class="op" id="6609660">;</span>&nbsp;<span class="ident" id="6609662">i</span><span class="op" id="6609663">++</span>&nbsp;<span class="op" id="6609666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609670">if</span>&nbsp;<span class="ident" id="6609673">_</span><span class="op" id="6609674">,</span>&nbsp;<span class="ident" id="6609676">err</span>&nbsp;<span class="op" id="6609680">:=</span>&nbsp;<span class="ident" id="6609683">ifi</span><span class="op" id="6609686">.</span><span class="ident" id="6609687">MulticastAddrs</span><span class="op" id="6609701">(</span><span class="op" id="6609702">)</span><span class="op" id="6609703">;</span>&nbsp;<span class="ident" id="6609705">err</span>&nbsp;<span class="op" id="6609709">!=</span>&nbsp;<span class="ident" id="6609712">nil</span>&nbsp;<span class="op" id="6609716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609721">b</span><span class="op" id="6609722">.</span><span class="ident" id="6609723">Fatalf</span><span class="op" id="6609729">(</span><span class="string" id="6609730">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6609767">,</span>&nbsp;<span class="ident" id="6609769">err</span><span class="op" id="6609772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609776">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609779">}</span><br>
<span class="lineno"></span><span class="op" id="6609781">}</span>
</div>
</body>
</html>
