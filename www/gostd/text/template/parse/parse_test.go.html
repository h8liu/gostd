<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8666292">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8666347">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8666401">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8666452">package</span>&nbsp;<span class="ident" id="8666460">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8666467">import</span>&nbsp;<span class="op" id="8666474">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666477">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666485">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666492">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666503">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8666513">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8666516">var</span>&nbsp;<span class="ident" id="8666520">debug</span>&nbsp;<span class="op" id="8666526">=</span>&nbsp;<span class="ident" id="8666528">flag</span><span class="op" id="8666532">.</span><span class="ident" id="8666533">Bool</span><span class="op" id="8666537">(</span><span class="string" id="8666538">&#34;debug&#34;</span><span class="op" id="8666545">,</span>&nbsp;<span class="builtintype" id="8666547">false</span><span class="op" id="8666552">,</span>&nbsp;<span class="string" id="8666554">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="8666598">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8666601">type</span>&nbsp;<span class="ident" id="8666606">numberTest</span>&nbsp;<span class="keyword" id="8666617">struct</span>&nbsp;<span class="op" id="8666624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666627">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8666637">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666645">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8666655">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666661">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8666671">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666677">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8666687">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666693">isComplex</span>&nbsp;<span class="builtintype" id="8666703">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666709">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666716">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8666724">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8666733">complex128</span><br>
<span class="lineno"></span><span class="op" id="8666744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8666747">var</span>&nbsp;<span class="ident" id="8666751">numberTests</span>&nbsp;<span class="op" id="8666763">=</span>&nbsp;<span class="op" id="8666765">[</span><span class="op" id="8666766">]</span><span class="ident" id="8666767">numberTest</span><span class="op" id="8666777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8666780">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666791">{</span><span class="string" id="8666792">&#34;0&#34;</span><span class="op" id="8666795">,</span>&nbsp;<span class="builtintype" id="8666797">true</span><span class="op" id="8666801">,</span>&nbsp;<span class="builtintype" id="8666803">true</span><span class="op" id="8666807">,</span>&nbsp;<span class="builtintype" id="8666809">true</span><span class="op" id="8666813">,</span>&nbsp;<span class="builtintype" id="8666815">false</span><span class="op" id="8666820">,</span>&nbsp;<span class="num" id="8666822">0</span><span class="op" id="8666823">,</span>&nbsp;<span class="num" id="8666825">0</span><span class="op" id="8666826">,</span>&nbsp;<span class="num" id="8666828">0</span><span class="op" id="8666829">,</span>&nbsp;<span class="num" id="8666831">0</span><span class="op" id="8666832">}</span><span class="op" id="8666833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666836">{</span><span class="string" id="8666837">&#34;-0&#34;</span><span class="op" id="8666841">,</span>&nbsp;<span class="builtintype" id="8666843">true</span><span class="op" id="8666847">,</span>&nbsp;<span class="builtintype" id="8666849">true</span><span class="op" id="8666853">,</span>&nbsp;<span class="builtintype" id="8666855">true</span><span class="op" id="8666859">,</span>&nbsp;<span class="builtintype" id="8666861">false</span><span class="op" id="8666866">,</span>&nbsp;<span class="num" id="8666868">0</span><span class="op" id="8666869">,</span>&nbsp;<span class="num" id="8666871">0</span><span class="op" id="8666872">,</span>&nbsp;<span class="num" id="8666874">0</span><span class="op" id="8666875">,</span>&nbsp;<span class="num" id="8666877">0</span><span class="op" id="8666878">}</span><span class="op" id="8666879">,</span>&nbsp;<span class="comment" id="8666881">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666910">{</span><span class="string" id="8666911">&#34;73&#34;</span><span class="op" id="8666915">,</span>&nbsp;<span class="builtintype" id="8666917">true</span><span class="op" id="8666921">,</span>&nbsp;<span class="builtintype" id="8666923">true</span><span class="op" id="8666927">,</span>&nbsp;<span class="builtintype" id="8666929">true</span><span class="op" id="8666933">,</span>&nbsp;<span class="builtintype" id="8666935">false</span><span class="op" id="8666940">,</span>&nbsp;<span class="num" id="8666942">73</span><span class="op" id="8666944">,</span>&nbsp;<span class="num" id="8666946">73</span><span class="op" id="8666948">,</span>&nbsp;<span class="num" id="8666950">73</span><span class="op" id="8666952">,</span>&nbsp;<span class="num" id="8666954">0</span><span class="op" id="8666955">}</span><span class="op" id="8666956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666959">{</span><span class="string" id="8666960">&#34;073&#34;</span><span class="op" id="8666965">,</span>&nbsp;<span class="builtintype" id="8666967">true</span><span class="op" id="8666971">,</span>&nbsp;<span class="builtintype" id="8666973">true</span><span class="op" id="8666977">,</span>&nbsp;<span class="builtintype" id="8666979">true</span><span class="op" id="8666983">,</span>&nbsp;<span class="builtintype" id="8666985">false</span><span class="op" id="8666990">,</span>&nbsp;<span class="num" id="8666992">073</span><span class="op" id="8666995">,</span>&nbsp;<span class="num" id="8666997">073</span><span class="op" id="8667000">,</span>&nbsp;<span class="num" id="8667002">073</span><span class="op" id="8667005">,</span>&nbsp;<span class="num" id="8667007">0</span><span class="op" id="8667008">}</span><span class="op" id="8667009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667012">{</span><span class="string" id="8667013">&#34;0x73&#34;</span><span class="op" id="8667019">,</span>&nbsp;<span class="builtintype" id="8667021">true</span><span class="op" id="8667025">,</span>&nbsp;<span class="builtintype" id="8667027">true</span><span class="op" id="8667031">,</span>&nbsp;<span class="builtintype" id="8667033">true</span><span class="op" id="8667037">,</span>&nbsp;<span class="builtintype" id="8667039">false</span><span class="op" id="8667044">,</span>&nbsp;<span class="num" id="8667046">0x73</span><span class="op" id="8667050">,</span>&nbsp;<span class="num" id="8667052">0x73</span><span class="op" id="8667056">,</span>&nbsp;<span class="num" id="8667058">0x73</span><span class="op" id="8667062">,</span>&nbsp;<span class="num" id="8667064">0</span><span class="op" id="8667065">}</span><span class="op" id="8667066">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667069">{</span><span class="string" id="8667070">&#34;-73&#34;</span><span class="op" id="8667075">,</span>&nbsp;<span class="builtintype" id="8667077">true</span><span class="op" id="8667081">,</span>&nbsp;<span class="builtintype" id="8667083">false</span><span class="op" id="8667088">,</span>&nbsp;<span class="builtintype" id="8667090">true</span><span class="op" id="8667094">,</span>&nbsp;<span class="builtintype" id="8667096">false</span><span class="op" id="8667101">,</span>&nbsp;<span class="op" id="8667103">-</span><span class="num" id="8667104">73</span><span class="op" id="8667106">,</span>&nbsp;<span class="num" id="8667108">0</span><span class="op" id="8667109">,</span>&nbsp;<span class="op" id="8667111">-</span><span class="num" id="8667112">73</span><span class="op" id="8667114">,</span>&nbsp;<span class="num" id="8667116">0</span><span class="op" id="8667117">}</span><span class="op" id="8667118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667121">{</span><span class="string" id="8667122">&#34;+73&#34;</span><span class="op" id="8667127">,</span>&nbsp;<span class="builtintype" id="8667129">true</span><span class="op" id="8667133">,</span>&nbsp;<span class="builtintype" id="8667135">false</span><span class="op" id="8667140">,</span>&nbsp;<span class="builtintype" id="8667142">true</span><span class="op" id="8667146">,</span>&nbsp;<span class="builtintype" id="8667148">false</span><span class="op" id="8667153">,</span>&nbsp;<span class="num" id="8667155">73</span><span class="op" id="8667157">,</span>&nbsp;<span class="num" id="8667159">0</span><span class="op" id="8667160">,</span>&nbsp;<span class="num" id="8667162">73</span><span class="op" id="8667164">,</span>&nbsp;<span class="num" id="8667166">0</span><span class="op" id="8667167">}</span><span class="op" id="8667168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667171">{</span><span class="string" id="8667172">&#34;100&#34;</span><span class="op" id="8667177">,</span>&nbsp;<span class="builtintype" id="8667179">true</span><span class="op" id="8667183">,</span>&nbsp;<span class="builtintype" id="8667185">true</span><span class="op" id="8667189">,</span>&nbsp;<span class="builtintype" id="8667191">true</span><span class="op" id="8667195">,</span>&nbsp;<span class="builtintype" id="8667197">false</span><span class="op" id="8667202">,</span>&nbsp;<span class="num" id="8667204">100</span><span class="op" id="8667207">,</span>&nbsp;<span class="num" id="8667209">100</span><span class="op" id="8667212">,</span>&nbsp;<span class="num" id="8667214">100</span><span class="op" id="8667217">,</span>&nbsp;<span class="num" id="8667219">0</span><span class="op" id="8667220">}</span><span class="op" id="8667221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667224">{</span><span class="string" id="8667225">&#34;1e9&#34;</span><span class="op" id="8667230">,</span>&nbsp;<span class="builtintype" id="8667232">true</span><span class="op" id="8667236">,</span>&nbsp;<span class="builtintype" id="8667238">true</span><span class="op" id="8667242">,</span>&nbsp;<span class="builtintype" id="8667244">true</span><span class="op" id="8667248">,</span>&nbsp;<span class="builtintype" id="8667250">false</span><span class="op" id="8667255">,</span>&nbsp;<span class="num" id="8667257">1e9</span><span class="op" id="8667260">,</span>&nbsp;<span class="num" id="8667262">1e9</span><span class="op" id="8667265">,</span>&nbsp;<span class="num" id="8667267">1e9</span><span class="op" id="8667270">,</span>&nbsp;<span class="num" id="8667272">0</span><span class="op" id="8667273">}</span><span class="op" id="8667274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667277">{</span><span class="string" id="8667278">&#34;-1e9&#34;</span><span class="op" id="8667284">,</span>&nbsp;<span class="builtintype" id="8667286">true</span><span class="op" id="8667290">,</span>&nbsp;<span class="builtintype" id="8667292">false</span><span class="op" id="8667297">,</span>&nbsp;<span class="builtintype" id="8667299">true</span><span class="op" id="8667303">,</span>&nbsp;<span class="builtintype" id="8667305">false</span><span class="op" id="8667310">,</span>&nbsp;<span class="op" id="8667312">-</span><span class="num" id="8667313">1e9</span><span class="op" id="8667316">,</span>&nbsp;<span class="num" id="8667318">0</span><span class="op" id="8667319">,</span>&nbsp;<span class="op" id="8667321">-</span><span class="num" id="8667322">1e9</span><span class="op" id="8667325">,</span>&nbsp;<span class="num" id="8667327">0</span><span class="op" id="8667328">}</span><span class="op" id="8667329">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667332">{</span><span class="string" id="8667333">&#34;-1.2&#34;</span><span class="op" id="8667339">,</span>&nbsp;<span class="builtintype" id="8667341">false</span><span class="op" id="8667346">,</span>&nbsp;<span class="builtintype" id="8667348">false</span><span class="op" id="8667353">,</span>&nbsp;<span class="builtintype" id="8667355">true</span><span class="op" id="8667359">,</span>&nbsp;<span class="builtintype" id="8667361">false</span><span class="op" id="8667366">,</span>&nbsp;<span class="num" id="8667368">0</span><span class="op" id="8667369">,</span>&nbsp;<span class="num" id="8667371">0</span><span class="op" id="8667372">,</span>&nbsp;<span class="op" id="8667374">-</span><span class="num" id="8667375">1.2</span><span class="op" id="8667378">,</span>&nbsp;<span class="num" id="8667380">0</span><span class="op" id="8667381">}</span><span class="op" id="8667382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667385">{</span><span class="string" id="8667386">&#34;1e19&#34;</span><span class="op" id="8667392">,</span>&nbsp;<span class="builtintype" id="8667394">false</span><span class="op" id="8667399">,</span>&nbsp;<span class="builtintype" id="8667401">true</span><span class="op" id="8667405">,</span>&nbsp;<span class="builtintype" id="8667407">true</span><span class="op" id="8667411">,</span>&nbsp;<span class="builtintype" id="8667413">false</span><span class="op" id="8667418">,</span>&nbsp;<span class="num" id="8667420">0</span><span class="op" id="8667421">,</span>&nbsp;<span class="num" id="8667423">1e19</span><span class="op" id="8667427">,</span>&nbsp;<span class="num" id="8667429">1e19</span><span class="op" id="8667433">,</span>&nbsp;<span class="num" id="8667435">0</span><span class="op" id="8667436">}</span><span class="op" id="8667437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667440">{</span><span class="string" id="8667441">&#34;-1e19&#34;</span><span class="op" id="8667448">,</span>&nbsp;<span class="builtintype" id="8667450">false</span><span class="op" id="8667455">,</span>&nbsp;<span class="builtintype" id="8667457">false</span><span class="op" id="8667462">,</span>&nbsp;<span class="builtintype" id="8667464">true</span><span class="op" id="8667468">,</span>&nbsp;<span class="builtintype" id="8667470">false</span><span class="op" id="8667475">,</span>&nbsp;<span class="num" id="8667477">0</span><span class="op" id="8667478">,</span>&nbsp;<span class="num" id="8667480">0</span><span class="op" id="8667481">,</span>&nbsp;<span class="op" id="8667483">-</span><span class="num" id="8667484">1e19</span><span class="op" id="8667488">,</span>&nbsp;<span class="num" id="8667490">0</span><span class="op" id="8667491">}</span><span class="op" id="8667492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667495">{</span><span class="string" id="8667496">&#34;4i&#34;</span><span class="op" id="8667500">,</span>&nbsp;<span class="builtintype" id="8667502">false</span><span class="op" id="8667507">,</span>&nbsp;<span class="builtintype" id="8667509">false</span><span class="op" id="8667514">,</span>&nbsp;<span class="builtintype" id="8667516">false</span><span class="op" id="8667521">,</span>&nbsp;<span class="builtintype" id="8667523">true</span><span class="op" id="8667527">,</span>&nbsp;<span class="num" id="8667529">0</span><span class="op" id="8667530">,</span>&nbsp;<span class="num" id="8667532">0</span><span class="op" id="8667533">,</span>&nbsp;<span class="num" id="8667535">0</span><span class="op" id="8667536">,</span>&nbsp;<span class="num" id="8667538">4i</span><span class="op" id="8667540">}</span><span class="op" id="8667541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667544">{</span><span class="string" id="8667545">&#34;-1.2+4.2i&#34;</span><span class="op" id="8667556">,</span>&nbsp;<span class="builtintype" id="8667558">false</span><span class="op" id="8667563">,</span>&nbsp;<span class="builtintype" id="8667565">false</span><span class="op" id="8667570">,</span>&nbsp;<span class="builtintype" id="8667572">false</span><span class="op" id="8667577">,</span>&nbsp;<span class="builtintype" id="8667579">true</span><span class="op" id="8667583">,</span>&nbsp;<span class="num" id="8667585">0</span><span class="op" id="8667586">,</span>&nbsp;<span class="num" id="8667588">0</span><span class="op" id="8667589">,</span>&nbsp;<span class="num" id="8667591">0</span><span class="op" id="8667592">,</span>&nbsp;<span class="op" id="8667594">-</span><span class="num" id="8667595">1.2</span>&nbsp;<span class="op" id="8667599">+</span>&nbsp;<span class="num" id="8667601">4.2i</span><span class="op" id="8667605">}</span><span class="op" id="8667606">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667609">{</span><span class="string" id="8667610">&#34;073i&#34;</span><span class="op" id="8667616">,</span>&nbsp;<span class="builtintype" id="8667618">false</span><span class="op" id="8667623">,</span>&nbsp;<span class="builtintype" id="8667625">false</span><span class="op" id="8667630">,</span>&nbsp;<span class="builtintype" id="8667632">false</span><span class="op" id="8667637">,</span>&nbsp;<span class="builtintype" id="8667639">true</span><span class="op" id="8667643">,</span>&nbsp;<span class="num" id="8667645">0</span><span class="op" id="8667646">,</span>&nbsp;<span class="num" id="8667648">0</span><span class="op" id="8667649">,</span>&nbsp;<span class="num" id="8667651">0</span><span class="op" id="8667652">,</span>&nbsp;<span class="num" id="8667654">73i</span><span class="op" id="8667657">}</span><span class="op" id="8667658">,</span>&nbsp;<span class="comment" id="8667660">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8667675">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667734">{</span><span class="string" id="8667735">&#34;0i&#34;</span><span class="op" id="8667739">,</span>&nbsp;<span class="builtintype" id="8667741">true</span><span class="op" id="8667745">,</span>&nbsp;<span class="builtintype" id="8667747">true</span><span class="op" id="8667751">,</span>&nbsp;<span class="builtintype" id="8667753">true</span><span class="op" id="8667757">,</span>&nbsp;<span class="builtintype" id="8667759">true</span><span class="op" id="8667763">,</span>&nbsp;<span class="num" id="8667765">0</span><span class="op" id="8667766">,</span>&nbsp;<span class="num" id="8667768">0</span><span class="op" id="8667769">,</span>&nbsp;<span class="num" id="8667771">0</span><span class="op" id="8667772">,</span>&nbsp;<span class="num" id="8667774">0</span><span class="op" id="8667775">}</span><span class="op" id="8667776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667779">{</span><span class="string" id="8667780">&#34;-1.2+0i&#34;</span><span class="op" id="8667789">,</span>&nbsp;<span class="builtintype" id="8667791">false</span><span class="op" id="8667796">,</span>&nbsp;<span class="builtintype" id="8667798">false</span><span class="op" id="8667803">,</span>&nbsp;<span class="builtintype" id="8667805">true</span><span class="op" id="8667809">,</span>&nbsp;<span class="builtintype" id="8667811">true</span><span class="op" id="8667815">,</span>&nbsp;<span class="num" id="8667817">0</span><span class="op" id="8667818">,</span>&nbsp;<span class="num" id="8667820">0</span><span class="op" id="8667821">,</span>&nbsp;<span class="op" id="8667823">-</span><span class="num" id="8667824">1.2</span><span class="op" id="8667827">,</span>&nbsp;<span class="op" id="8667829">-</span><span class="num" id="8667830">1.2</span><span class="op" id="8667833">}</span><span class="op" id="8667834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667837">{</span><span class="string" id="8667838">&#34;-12+0i&#34;</span><span class="op" id="8667846">,</span>&nbsp;<span class="builtintype" id="8667848">true</span><span class="op" id="8667852">,</span>&nbsp;<span class="builtintype" id="8667854">false</span><span class="op" id="8667859">,</span>&nbsp;<span class="builtintype" id="8667861">true</span><span class="op" id="8667865">,</span>&nbsp;<span class="builtintype" id="8667867">true</span><span class="op" id="8667871">,</span>&nbsp;<span class="op" id="8667873">-</span><span class="num" id="8667874">12</span><span class="op" id="8667876">,</span>&nbsp;<span class="num" id="8667878">0</span><span class="op" id="8667879">,</span>&nbsp;<span class="op" id="8667881">-</span><span class="num" id="8667882">12</span><span class="op" id="8667884">,</span>&nbsp;<span class="op" id="8667886">-</span><span class="num" id="8667887">12</span><span class="op" id="8667889">}</span><span class="op" id="8667890">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667893">{</span><span class="string" id="8667894">&#34;13+0i&#34;</span><span class="op" id="8667901">,</span>&nbsp;<span class="builtintype" id="8667903">true</span><span class="op" id="8667907">,</span>&nbsp;<span class="builtintype" id="8667909">true</span><span class="op" id="8667913">,</span>&nbsp;<span class="builtintype" id="8667915">true</span><span class="op" id="8667919">,</span>&nbsp;<span class="builtintype" id="8667921">true</span><span class="op" id="8667925">,</span>&nbsp;<span class="num" id="8667927">13</span><span class="op" id="8667929">,</span>&nbsp;<span class="num" id="8667931">13</span><span class="op" id="8667933">,</span>&nbsp;<span class="num" id="8667935">13</span><span class="op" id="8667937">,</span>&nbsp;<span class="num" id="8667939">13</span><span class="op" id="8667941">}</span><span class="op" id="8667942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8667945">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667961">{</span><span class="string" id="8667962">&#34;0123&#34;</span><span class="op" id="8667968">,</span>&nbsp;<span class="builtintype" id="8667970">true</span><span class="op" id="8667974">,</span>&nbsp;<span class="builtintype" id="8667976">true</span><span class="op" id="8667980">,</span>&nbsp;<span class="builtintype" id="8667982">true</span><span class="op" id="8667986">,</span>&nbsp;<span class="builtintype" id="8667988">false</span><span class="op" id="8667993">,</span>&nbsp;<span class="num" id="8667995">0123</span><span class="op" id="8667999">,</span>&nbsp;<span class="num" id="8668001">0123</span><span class="op" id="8668005">,</span>&nbsp;<span class="num" id="8668007">0123</span><span class="op" id="8668011">,</span>&nbsp;<span class="num" id="8668013">0</span><span class="op" id="8668014">}</span><span class="op" id="8668015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668018">{</span><span class="string" id="8668019">&#34;-0x0&#34;</span><span class="op" id="8668025">,</span>&nbsp;<span class="builtintype" id="8668027">true</span><span class="op" id="8668031">,</span>&nbsp;<span class="builtintype" id="8668033">true</span><span class="op" id="8668037">,</span>&nbsp;<span class="builtintype" id="8668039">true</span><span class="op" id="8668043">,</span>&nbsp;<span class="builtintype" id="8668045">false</span><span class="op" id="8668050">,</span>&nbsp;<span class="num" id="8668052">0</span><span class="op" id="8668053">,</span>&nbsp;<span class="num" id="8668055">0</span><span class="op" id="8668056">,</span>&nbsp;<span class="num" id="8668058">0</span><span class="op" id="8668059">,</span>&nbsp;<span class="num" id="8668061">0</span><span class="op" id="8668062">}</span><span class="op" id="8668063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668066">{</span><span class="string" id="8668067">&#34;0xdeadbeef&#34;</span><span class="op" id="8668079">,</span>&nbsp;<span class="builtintype" id="8668081">true</span><span class="op" id="8668085">,</span>&nbsp;<span class="builtintype" id="8668087">true</span><span class="op" id="8668091">,</span>&nbsp;<span class="builtintype" id="8668093">true</span><span class="op" id="8668097">,</span>&nbsp;<span class="builtintype" id="8668099">false</span><span class="op" id="8668104">,</span>&nbsp;<span class="num" id="8668106">0xdeadbeef</span><span class="op" id="8668116">,</span>&nbsp;<span class="num" id="8668118">0xdeadbeef</span><span class="op" id="8668128">,</span>&nbsp;<span class="num" id="8668130">0xdeadbeef</span><span class="op" id="8668140">,</span>&nbsp;<span class="num" id="8668142">0</span><span class="op" id="8668143">}</span><span class="op" id="8668144">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8668147">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668171">{</span><span class="string" id="8668172">`&#39;a&#39;`</span><span class="op" id="8668177">,</span>&nbsp;<span class="builtintype" id="8668179">true</span><span class="op" id="8668183">,</span>&nbsp;<span class="builtintype" id="8668185">true</span><span class="op" id="8668189">,</span>&nbsp;<span class="builtintype" id="8668191">true</span><span class="op" id="8668195">,</span>&nbsp;<span class="builtintype" id="8668197">false</span><span class="op" id="8668202">,</span>&nbsp;<span class="string" id="8668204">&#39;a&#39;</span><span class="op" id="8668207">,</span>&nbsp;<span class="string" id="8668209">&#39;a&#39;</span><span class="op" id="8668212">,</span>&nbsp;<span class="string" id="8668214">&#39;a&#39;</span><span class="op" id="8668217">,</span>&nbsp;<span class="num" id="8668219">0</span><span class="op" id="8668220">}</span><span class="op" id="8668221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668224">{</span><span class="string" id="8668225">`&#39;\n&#39;`</span><span class="op" id="8668231">,</span>&nbsp;<span class="builtintype" id="8668233">true</span><span class="op" id="8668237">,</span>&nbsp;<span class="builtintype" id="8668239">true</span><span class="op" id="8668243">,</span>&nbsp;<span class="builtintype" id="8668245">true</span><span class="op" id="8668249">,</span>&nbsp;<span class="builtintype" id="8668251">false</span><span class="op" id="8668256">,</span>&nbsp;<span class="string" id="8668258">&#39;\n&#39;</span><span class="op" id="8668262">,</span>&nbsp;<span class="string" id="8668264">&#39;\n&#39;</span><span class="op" id="8668268">,</span>&nbsp;<span class="string" id="8668270">&#39;\n&#39;</span><span class="op" id="8668274">,</span>&nbsp;<span class="num" id="8668276">0</span><span class="op" id="8668277">}</span><span class="op" id="8668278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668281">{</span><span class="string" id="8668282">`&#39;\\&#39;`</span><span class="op" id="8668288">,</span>&nbsp;<span class="builtintype" id="8668290">true</span><span class="op" id="8668294">,</span>&nbsp;<span class="builtintype" id="8668296">true</span><span class="op" id="8668300">,</span>&nbsp;<span class="builtintype" id="8668302">true</span><span class="op" id="8668306">,</span>&nbsp;<span class="builtintype" id="8668308">false</span><span class="op" id="8668313">,</span>&nbsp;<span class="string" id="8668315">&#39;\\&#39;</span><span class="op" id="8668319">,</span>&nbsp;<span class="string" id="8668321">&#39;\\&#39;</span><span class="op" id="8668325">,</span>&nbsp;<span class="string" id="8668327">&#39;\\&#39;</span><span class="op" id="8668331">,</span>&nbsp;<span class="num" id="8668333">0</span><span class="op" id="8668334">}</span><span class="op" id="8668335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668338">{</span><span class="string" id="8668339">`&#39;\&#39;&#39;`</span><span class="op" id="8668345">,</span>&nbsp;<span class="builtintype" id="8668347">true</span><span class="op" id="8668351">,</span>&nbsp;<span class="builtintype" id="8668353">true</span><span class="op" id="8668357">,</span>&nbsp;<span class="builtintype" id="8668359">true</span><span class="op" id="8668363">,</span>&nbsp;<span class="builtintype" id="8668365">false</span><span class="op" id="8668370">,</span>&nbsp;<span class="string" id="8668372">&#39;\&#39;&#39;</span><span class="op" id="8668376">,</span>&nbsp;<span class="string" id="8668378">&#39;\&#39;&#39;</span><span class="op" id="8668382">,</span>&nbsp;<span class="string" id="8668384">&#39;\&#39;&#39;</span><span class="op" id="8668388">,</span>&nbsp;<span class="num" id="8668390">0</span><span class="op" id="8668391">}</span><span class="op" id="8668392">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668395">{</span><span class="string" id="8668396">`&#39;\xFF&#39;`</span><span class="op" id="8668404">,</span>&nbsp;<span class="builtintype" id="8668406">true</span><span class="op" id="8668410">,</span>&nbsp;<span class="builtintype" id="8668412">true</span><span class="op" id="8668416">,</span>&nbsp;<span class="builtintype" id="8668418">true</span><span class="op" id="8668422">,</span>&nbsp;<span class="builtintype" id="8668424">false</span><span class="op" id="8668429">,</span>&nbsp;<span class="num" id="8668431">0xFF</span><span class="op" id="8668435">,</span>&nbsp;<span class="num" id="8668437">0xFF</span><span class="op" id="8668441">,</span>&nbsp;<span class="num" id="8668443">0xFF</span><span class="op" id="8668447">,</span>&nbsp;<span class="num" id="8668449">0</span><span class="op" id="8668450">}</span><span class="op" id="8668451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668454">{</span><span class="string" id="8668455">`&#39;ãƒ‘&#39;`</span><span class="op" id="8668462">,</span>&nbsp;<span class="builtintype" id="8668464">true</span><span class="op" id="8668468">,</span>&nbsp;<span class="builtintype" id="8668470">true</span><span class="op" id="8668474">,</span>&nbsp;<span class="builtintype" id="8668476">true</span><span class="op" id="8668480">,</span>&nbsp;<span class="builtintype" id="8668482">false</span><span class="op" id="8668487">,</span>&nbsp;<span class="num" id="8668489">0x30d1</span><span class="op" id="8668495">,</span>&nbsp;<span class="num" id="8668497">0x30d1</span><span class="op" id="8668503">,</span>&nbsp;<span class="num" id="8668505">0x30d1</span><span class="op" id="8668511">,</span>&nbsp;<span class="num" id="8668513">0</span><span class="op" id="8668514">}</span><span class="op" id="8668515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668518">{</span><span class="string" id="8668519">`&#39;\u30d1&#39;`</span><span class="op" id="8668529">,</span>&nbsp;<span class="builtintype" id="8668531">true</span><span class="op" id="8668535">,</span>&nbsp;<span class="builtintype" id="8668537">true</span><span class="op" id="8668541">,</span>&nbsp;<span class="builtintype" id="8668543">true</span><span class="op" id="8668547">,</span>&nbsp;<span class="builtintype" id="8668549">false</span><span class="op" id="8668554">,</span>&nbsp;<span class="num" id="8668556">0x30d1</span><span class="op" id="8668562">,</span>&nbsp;<span class="num" id="8668564">0x30d1</span><span class="op" id="8668570">,</span>&nbsp;<span class="num" id="8668572">0x30d1</span><span class="op" id="8668578">,</span>&nbsp;<span class="num" id="8668580">0</span><span class="op" id="8668581">}</span><span class="op" id="8668582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668585">{</span><span class="string" id="8668586">`&#39;\U000030d1&#39;`</span><span class="op" id="8668600">,</span>&nbsp;<span class="builtintype" id="8668602">true</span><span class="op" id="8668606">,</span>&nbsp;<span class="builtintype" id="8668608">true</span><span class="op" id="8668612">,</span>&nbsp;<span class="builtintype" id="8668614">true</span><span class="op" id="8668618">,</span>&nbsp;<span class="builtintype" id="8668620">false</span><span class="op" id="8668625">,</span>&nbsp;<span class="num" id="8668627">0x30d1</span><span class="op" id="8668633">,</span>&nbsp;<span class="num" id="8668635">0x30d1</span><span class="op" id="8668641">,</span>&nbsp;<span class="num" id="8668643">0x30d1</span><span class="op" id="8668649">,</span>&nbsp;<span class="num" id="8668651">0</span><span class="op" id="8668652">}</span><span class="op" id="8668653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8668656">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668679">{</span><span class="ident" id="8668680">text</span><span class="op" id="8668684">:</span>&nbsp;<span class="string" id="8668686">&#34;+-2&#34;</span><span class="op" id="8668691">}</span><span class="op" id="8668692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668695">{</span><span class="ident" id="8668696">text</span><span class="op" id="8668700">:</span>&nbsp;<span class="string" id="8668702">&#34;0x123.&#34;</span><span class="op" id="8668710">}</span><span class="op" id="8668711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668714">{</span><span class="ident" id="8668715">text</span><span class="op" id="8668719">:</span>&nbsp;<span class="string" id="8668721">&#34;1e.&#34;</span><span class="op" id="8668726">}</span><span class="op" id="8668727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668730">{</span><span class="ident" id="8668731">text</span><span class="op" id="8668735">:</span>&nbsp;<span class="string" id="8668737">&#34;0xi.&#34;</span><span class="op" id="8668743">}</span><span class="op" id="8668744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668747">{</span><span class="ident" id="8668748">text</span><span class="op" id="8668752">:</span>&nbsp;<span class="string" id="8668754">&#34;1+2.&#34;</span><span class="op" id="8668760">}</span><span class="op" id="8668761">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668764">{</span><span class="ident" id="8668765">text</span><span class="op" id="8668769">:</span>&nbsp;<span class="string" id="8668771">&#34;&#39;x&#34;</span><span class="op" id="8668775">}</span><span class="op" id="8668776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668779">{</span><span class="ident" id="8668780">text</span><span class="op" id="8668784">:</span>&nbsp;<span class="string" id="8668786">&#34;&#39;xx&#39;&#34;</span><span class="op" id="8668792">}</span><span class="op" id="8668793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8668796">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668862">{</span><span class="string" id="8668863">&#34;0xef&#34;</span><span class="op" id="8668869">,</span>&nbsp;<span class="builtintype" id="8668871">true</span><span class="op" id="8668875">,</span>&nbsp;<span class="builtintype" id="8668877">true</span><span class="op" id="8668881">,</span>&nbsp;<span class="builtintype" id="8668883">true</span><span class="op" id="8668887">,</span>&nbsp;<span class="builtintype" id="8668889">false</span><span class="op" id="8668894">,</span>&nbsp;<span class="num" id="8668896">0xef</span><span class="op" id="8668900">,</span>&nbsp;<span class="num" id="8668902">0xef</span><span class="op" id="8668906">,</span>&nbsp;<span class="num" id="8668908">0xef</span><span class="op" id="8668912">,</span>&nbsp;<span class="num" id="8668914">0</span><span class="op" id="8668915">}</span><span class="op" id="8668916">,</span><br>
<span class="lineno"></span><span class="op" id="8668918">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="8668921">func</span>&nbsp;<span class="ident" id="8668926">TestNumberParse</span><span class="op" id="8668941">(</span><span class="ident" id="8668942">t</span>&nbsp;<span class="op" id="8668944">*</span><span class="ident" id="8668945">testing</span><span class="op" id="8668952">.</span><span class="ident" id="8668953">T</span><span class="op" id="8668954">)</span>&nbsp;<span class="op" id="8668956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668959">for</span>&nbsp;<span class="ident" id="8668963">_</span><span class="op" id="8668964">,</span>&nbsp;<span class="ident" id="8668966">test</span>&nbsp;<span class="op" id="8668971">:=</span>&nbsp;<span class="keyword" id="8668974">range</span>&nbsp;<span class="ident" id="8668980">numberTests</span>&nbsp;<span class="op" id="8668992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8668996">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8669076">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669122">var</span>&nbsp;<span class="ident" id="8669126">c</span>&nbsp;<span class="builtintype" id="8669128">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669141">typ</span>&nbsp;<span class="op" id="8669145">:=</span>&nbsp;<span class="ident" id="8669148">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669161">var</span>&nbsp;<span class="ident" id="8669165">tree</span>&nbsp;<span class="op" id="8669170">*</span><span class="ident" id="8669171">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669178">if</span>&nbsp;<span class="ident" id="8669181">test</span><span class="op" id="8669185">.</span><span class="ident" id="8669186">text</span><span class="op" id="8669190">[</span><span class="num" id="8669191">0</span><span class="op" id="8669192">]</span>&nbsp;<span class="op" id="8669194">==</span>&nbsp;<span class="string" id="8669197">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="8669202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669207">typ</span>&nbsp;<span class="op" id="8669211">=</span>&nbsp;<span class="ident" id="8669213">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669232">}</span>&nbsp;<span class="keyword" id="8669234">else</span>&nbsp;<span class="op" id="8669239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669244">_</span><span class="op" id="8669245">,</span>&nbsp;<span class="ident" id="8669247">err</span>&nbsp;<span class="op" id="8669251">:=</span>&nbsp;<span class="ident" id="8669254">fmt</span><span class="op" id="8669257">.</span><span class="ident" id="8669258">Sscan</span><span class="op" id="8669263">(</span><span class="ident" id="8669264">test</span><span class="op" id="8669268">.</span><span class="ident" id="8669269">text</span><span class="op" id="8669273">,</span>&nbsp;<span class="op" id="8669275">&amp;</span><span class="ident" id="8669276">c</span><span class="op" id="8669277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669282">if</span>&nbsp;<span class="ident" id="8669285">err</span>&nbsp;<span class="op" id="8669289">==</span>&nbsp;<span class="ident" id="8669292">nil</span>&nbsp;<span class="op" id="8669296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669302">typ</span>&nbsp;<span class="op" id="8669306">=</span>&nbsp;<span class="ident" id="8669308">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669323">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669331">n</span><span class="op" id="8669332">,</span>&nbsp;<span class="ident" id="8669334">err</span>&nbsp;<span class="op" id="8669338">:=</span>&nbsp;<span class="ident" id="8669341">tree</span><span class="op" id="8669345">.</span><span class="ident" id="8669346">newNumber</span><span class="op" id="8669355">(</span><span class="num" id="8669356">0</span><span class="op" id="8669357">,</span>&nbsp;<span class="ident" id="8669359">test</span><span class="op" id="8669363">.</span><span class="ident" id="8669364">text</span><span class="op" id="8669368">,</span>&nbsp;<span class="ident" id="8669370">typ</span><span class="op" id="8669373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669377">ok</span>&nbsp;<span class="op" id="8669380">:=</span>&nbsp;<span class="ident" id="8669383">test</span><span class="op" id="8669387">.</span><span class="ident" id="8669388">isInt</span>&nbsp;<span class="op" id="8669394">||</span>&nbsp;<span class="ident" id="8669397">test</span><span class="op" id="8669401">.</span><span class="ident" id="8669402">isUint</span>&nbsp;<span class="op" id="8669409">||</span>&nbsp;<span class="ident" id="8669412">test</span><span class="op" id="8669416">.</span><span class="ident" id="8669417">isFloat</span>&nbsp;<span class="op" id="8669425">||</span>&nbsp;<span class="ident" id="8669428">test</span><span class="op" id="8669432">.</span><span class="ident" id="8669433">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669445">if</span>&nbsp;<span class="ident" id="8669448">ok</span>&nbsp;<span class="op" id="8669451">&amp;&amp;</span>&nbsp;<span class="ident" id="8669454">err</span>&nbsp;<span class="op" id="8669458">!=</span>&nbsp;<span class="ident" id="8669461">nil</span>&nbsp;<span class="op" id="8669465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669470">t</span><span class="op" id="8669471">.</span><span class="ident" id="8669472">Errorf</span><span class="op" id="8669478">(</span><span class="string" id="8669479">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8669508">,</span>&nbsp;<span class="ident" id="8669510">test</span><span class="op" id="8669514">.</span><span class="ident" id="8669515">text</span><span class="op" id="8669519">,</span>&nbsp;<span class="ident" id="8669521">err</span><span class="op" id="8669524">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669529">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669544">if</span>&nbsp;<span class="op" id="8669547">!</span><span class="ident" id="8669548">ok</span>&nbsp;<span class="op" id="8669551">&amp;&amp;</span>&nbsp;<span class="ident" id="8669554">err</span>&nbsp;<span class="op" id="8669558">==</span>&nbsp;<span class="ident" id="8669561">nil</span>&nbsp;<span class="op" id="8669565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669570">t</span><span class="op" id="8669571">.</span><span class="ident" id="8669572">Errorf</span><span class="op" id="8669578">(</span><span class="string" id="8669579">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8669602">,</span>&nbsp;<span class="ident" id="8669604">test</span><span class="op" id="8669608">.</span><span class="ident" id="8669609">text</span><span class="op" id="8669613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669618">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669633">if</span>&nbsp;<span class="op" id="8669636">!</span><span class="ident" id="8669637">ok</span>&nbsp;<span class="op" id="8669640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669645">if</span>&nbsp;<span class="op" id="8669648">*</span><span class="ident" id="8669649">debug</span>&nbsp;<span class="op" id="8669655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669661">fmt</span><span class="op" id="8669664">.</span><span class="ident" id="8669665">Printf</span><span class="op" id="8669671">(</span><span class="string" id="8669672">&#34;%s\n\t%s\n&#34;</span><span class="op" id="8669684">,</span>&nbsp;<span class="ident" id="8669686">test</span><span class="op" id="8669690">.</span><span class="ident" id="8669691">text</span><span class="op" id="8669695">,</span>&nbsp;<span class="ident" id="8669697">err</span><span class="op" id="8669700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669705">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669710">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669725">if</span>&nbsp;<span class="ident" id="8669728">n</span><span class="op" id="8669729">.</span><span class="ident" id="8669730">IsComplex</span>&nbsp;<span class="op" id="8669740">!=</span>&nbsp;<span class="ident" id="8669743">test</span><span class="op" id="8669747">.</span><span class="ident" id="8669748">isComplex</span>&nbsp;<span class="op" id="8669758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669763">t</span><span class="op" id="8669764">.</span><span class="ident" id="8669765">Errorf</span><span class="op" id="8669771">(</span><span class="string" id="8669772">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8669812">,</span>&nbsp;<span class="ident" id="8669814">test</span><span class="op" id="8669818">.</span><span class="ident" id="8669819">text</span><span class="op" id="8669823">,</span>&nbsp;<span class="ident" id="8669825">test</span><span class="op" id="8669829">.</span><span class="ident" id="8669830">isComplex</span><span class="op" id="8669839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669843">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669847">if</span>&nbsp;<span class="ident" id="8669850">test</span><span class="op" id="8669854">.</span><span class="ident" id="8669855">isInt</span>&nbsp;<span class="op" id="8669861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669866">if</span>&nbsp;<span class="op" id="8669869">!</span><span class="ident" id="8669870">n</span><span class="op" id="8669871">.</span><span class="ident" id="8669872">IsInt</span>&nbsp;<span class="op" id="8669878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669884">t</span><span class="op" id="8669885">.</span><span class="ident" id="8669886">Errorf</span><span class="op" id="8669892">(</span><span class="string" id="8669893">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8669918">,</span>&nbsp;<span class="ident" id="8669920">test</span><span class="op" id="8669924">.</span><span class="ident" id="8669925">text</span><span class="op" id="8669929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669939">if</span>&nbsp;<span class="ident" id="8669942">n</span><span class="op" id="8669943">.</span><span class="ident" id="8669944">Int64</span>&nbsp;<span class="op" id="8669950">!=</span>&nbsp;<span class="ident" id="8669953">test</span><span class="op" id="8669957">.</span><span class="ident" id="8669958">int64</span>&nbsp;<span class="op" id="8669964">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669970">t</span><span class="op" id="8669971">.</span><span class="ident" id="8669972">Errorf</span><span class="op" id="8669978">(</span><span class="string" id="8669979">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8670012">,</span>&nbsp;<span class="ident" id="8670014">test</span><span class="op" id="8670018">.</span><span class="ident" id="8670019">text</span><span class="op" id="8670023">,</span>&nbsp;<span class="ident" id="8670025">test</span><span class="op" id="8670029">.</span><span class="ident" id="8670030">int64</span><span class="op" id="8670035">,</span>&nbsp;<span class="ident" id="8670037">n</span><span class="op" id="8670038">.</span><span class="ident" id="8670039">Int64</span><span class="op" id="8670044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670053">}</span>&nbsp;<span class="keyword" id="8670055">else</span>&nbsp;<span class="keyword" id="8670060">if</span>&nbsp;<span class="ident" id="8670063">n</span><span class="op" id="8670064">.</span><span class="ident" id="8670065">IsInt</span>&nbsp;<span class="op" id="8670071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670076">t</span><span class="op" id="8670077">.</span><span class="ident" id="8670078">Errorf</span><span class="op" id="8670084">(</span><span class="string" id="8670085">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670116">,</span>&nbsp;<span class="ident" id="8670118">test</span><span class="op" id="8670122">.</span><span class="ident" id="8670123">text</span><span class="op" id="8670127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670131">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670135">if</span>&nbsp;<span class="ident" id="8670138">test</span><span class="op" id="8670142">.</span><span class="ident" id="8670143">isUint</span>&nbsp;<span class="op" id="8670150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670155">if</span>&nbsp;<span class="op" id="8670158">!</span><span class="ident" id="8670159">n</span><span class="op" id="8670160">.</span><span class="ident" id="8670161">IsUint</span>&nbsp;<span class="op" id="8670168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670174">t</span><span class="op" id="8670175">.</span><span class="ident" id="8670176">Errorf</span><span class="op" id="8670182">(</span><span class="string" id="8670183">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670217">,</span>&nbsp;<span class="ident" id="8670219">test</span><span class="op" id="8670223">.</span><span class="ident" id="8670224">text</span><span class="op" id="8670228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670238">if</span>&nbsp;<span class="ident" id="8670241">n</span><span class="op" id="8670242">.</span><span class="ident" id="8670243">Uint64</span>&nbsp;<span class="op" id="8670250">!=</span>&nbsp;<span class="ident" id="8670253">test</span><span class="op" id="8670257">.</span><span class="ident" id="8670258">uint64</span>&nbsp;<span class="op" id="8670265">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670271">t</span><span class="op" id="8670272">.</span><span class="ident" id="8670273">Errorf</span><span class="op" id="8670279">(</span><span class="string" id="8670280">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8670314">,</span>&nbsp;<span class="ident" id="8670316">test</span><span class="op" id="8670320">.</span><span class="ident" id="8670321">text</span><span class="op" id="8670325">,</span>&nbsp;<span class="ident" id="8670327">test</span><span class="op" id="8670331">.</span><span class="ident" id="8670332">uint64</span><span class="op" id="8670338">,</span>&nbsp;<span class="ident" id="8670340">n</span><span class="op" id="8670341">.</span><span class="ident" id="8670342">Uint64</span><span class="op" id="8670348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670357">}</span>&nbsp;<span class="keyword" id="8670359">else</span>&nbsp;<span class="keyword" id="8670364">if</span>&nbsp;<span class="ident" id="8670367">n</span><span class="op" id="8670368">.</span><span class="ident" id="8670369">IsUint</span>&nbsp;<span class="op" id="8670376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670381">t</span><span class="op" id="8670382">.</span><span class="ident" id="8670383">Errorf</span><span class="op" id="8670389">(</span><span class="string" id="8670390">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670430">,</span>&nbsp;<span class="ident" id="8670432">test</span><span class="op" id="8670436">.</span><span class="ident" id="8670437">text</span><span class="op" id="8670441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670445">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670449">if</span>&nbsp;<span class="ident" id="8670452">test</span><span class="op" id="8670456">.</span><span class="ident" id="8670457">isFloat</span>&nbsp;<span class="op" id="8670465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670470">if</span>&nbsp;<span class="op" id="8670473">!</span><span class="ident" id="8670474">n</span><span class="op" id="8670475">.</span><span class="ident" id="8670476">IsFloat</span>&nbsp;<span class="op" id="8670484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670490">t</span><span class="op" id="8670491">.</span><span class="ident" id="8670492">Errorf</span><span class="op" id="8670498">(</span><span class="string" id="8670499">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670522">,</span>&nbsp;<span class="ident" id="8670524">test</span><span class="op" id="8670528">.</span><span class="ident" id="8670529">text</span><span class="op" id="8670533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670543">if</span>&nbsp;<span class="ident" id="8670546">n</span><span class="op" id="8670547">.</span><span class="ident" id="8670548">Float64</span>&nbsp;<span class="op" id="8670556">!=</span>&nbsp;<span class="ident" id="8670559">test</span><span class="op" id="8670563">.</span><span class="builtintype" id="8670564">float64</span>&nbsp;<span class="op" id="8670572">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670578">t</span><span class="op" id="8670579">.</span><span class="ident" id="8670580">Errorf</span><span class="op" id="8670586">(</span><span class="string" id="8670587">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8670622">,</span>&nbsp;<span class="ident" id="8670624">test</span><span class="op" id="8670628">.</span><span class="ident" id="8670629">text</span><span class="op" id="8670633">,</span>&nbsp;<span class="ident" id="8670635">test</span><span class="op" id="8670639">.</span><span class="builtintype" id="8670640">float64</span><span class="op" id="8670647">,</span>&nbsp;<span class="ident" id="8670649">n</span><span class="op" id="8670650">.</span><span class="ident" id="8670651">Float64</span><span class="op" id="8670658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670667">}</span>&nbsp;<span class="keyword" id="8670669">else</span>&nbsp;<span class="keyword" id="8670674">if</span>&nbsp;<span class="ident" id="8670677">n</span><span class="op" id="8670678">.</span><span class="ident" id="8670679">IsFloat</span>&nbsp;<span class="op" id="8670687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670692">t</span><span class="op" id="8670693">.</span><span class="ident" id="8670694">Errorf</span><span class="op" id="8670700">(</span><span class="string" id="8670701">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670730">,</span>&nbsp;<span class="ident" id="8670732">test</span><span class="op" id="8670736">.</span><span class="ident" id="8670737">text</span><span class="op" id="8670741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670745">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670749">if</span>&nbsp;<span class="ident" id="8670752">test</span><span class="op" id="8670756">.</span><span class="ident" id="8670757">isComplex</span>&nbsp;<span class="op" id="8670767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670772">if</span>&nbsp;<span class="op" id="8670775">!</span><span class="ident" id="8670776">n</span><span class="op" id="8670777">.</span><span class="ident" id="8670778">IsComplex</span>&nbsp;<span class="op" id="8670788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670794">t</span><span class="op" id="8670795">.</span><span class="ident" id="8670796">Errorf</span><span class="op" id="8670802">(</span><span class="string" id="8670803">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8670828">,</span>&nbsp;<span class="ident" id="8670830">test</span><span class="op" id="8670834">.</span><span class="ident" id="8670835">text</span><span class="op" id="8670839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8670849">if</span>&nbsp;<span class="ident" id="8670852">n</span><span class="op" id="8670853">.</span><span class="ident" id="8670854">Complex128</span>&nbsp;<span class="op" id="8670865">!=</span>&nbsp;<span class="ident" id="8670868">test</span><span class="op" id="8670872">.</span><span class="builtintype" id="8670873">complex128</span>&nbsp;<span class="op" id="8670884">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8670890">t</span><span class="op" id="8670891">.</span><span class="ident" id="8670892">Errorf</span><span class="op" id="8670898">(</span><span class="string" id="8670899">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8670937">,</span>&nbsp;<span class="ident" id="8670939">test</span><span class="op" id="8670943">.</span><span class="ident" id="8670944">text</span><span class="op" id="8670948">,</span>&nbsp;<span class="ident" id="8670950">test</span><span class="op" id="8670954">.</span><span class="builtintype" id="8670955">complex128</span><span class="op" id="8670965">,</span>&nbsp;<span class="ident" id="8670967">n</span><span class="op" id="8670968">.</span><span class="ident" id="8670969">Complex128</span><span class="op" id="8670979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8670988">}</span>&nbsp;<span class="keyword" id="8670990">else</span>&nbsp;<span class="keyword" id="8670995">if</span>&nbsp;<span class="ident" id="8670998">n</span><span class="op" id="8670999">.</span><span class="ident" id="8671000">IsComplex</span>&nbsp;<span class="op" id="8671010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671015">t</span><span class="op" id="8671016">.</span><span class="ident" id="8671017">Errorf</span><span class="op" id="8671023">(</span><span class="string" id="8671024">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8671055">,</span>&nbsp;<span class="ident" id="8671057">test</span><span class="op" id="8671061">.</span><span class="ident" id="8671062">text</span><span class="op" id="8671066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671070">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671073">}</span><br>
<span class="lineno"></span><span class="op" id="8671075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8671078">type</span>&nbsp;<span class="ident" id="8671083">parseTest</span>&nbsp;<span class="keyword" id="8671093">struct</span>&nbsp;<span class="op" id="8671100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671103">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8671110">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671118">input</span>&nbsp;&nbsp;<span class="builtintype" id="8671125">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671133">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8671140">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671146">result</span>&nbsp;<span class="builtintype" id="8671153">string</span>&nbsp;<span class="comment" id="8671160">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="8671208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8671211">const</span>&nbsp;<span class="op" id="8671217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671220">noError</span>&nbsp;&nbsp;<span class="op" id="8671229">=</span>&nbsp;<span class="builtintype" id="8671231">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8671237">hasError</span>&nbsp;<span class="op" id="8671246">=</span>&nbsp;<span class="builtintype" id="8671248">false</span><br>
<span class="lineno"></span><span class="op" id="8671254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8671257">var</span>&nbsp;<span class="ident" id="8671261">parseTests</span>&nbsp;<span class="op" id="8671272">=</span>&nbsp;<span class="op" id="8671274">[</span><span class="op" id="8671275">]</span><span class="ident" id="8671276">parseTest</span><span class="op" id="8671285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671288">{</span><span class="string" id="8671289">&#34;empty&#34;</span><span class="op" id="8671296">,</span>&nbsp;<span class="string" id="8671298">&#34;&#34;</span><span class="op" id="8671300">,</span>&nbsp;<span class="ident" id="8671302">noError</span><span class="op" id="8671309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671313">``</span><span class="op" id="8671315">}</span><span class="op" id="8671316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671319">{</span><span class="string" id="8671320">&#34;comment&#34;</span><span class="op" id="8671329">,</span>&nbsp;<span class="string" id="8671331">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="8671347">,</span>&nbsp;<span class="ident" id="8671349">noError</span><span class="op" id="8671356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671360">``</span><span class="op" id="8671362">}</span><span class="op" id="8671363">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671366">{</span><span class="string" id="8671367">&#34;spaces&#34;</span><span class="op" id="8671375">,</span>&nbsp;<span class="string" id="8671377">&#34;&nbsp;\t\n&#34;</span><span class="op" id="8671384">,</span>&nbsp;<span class="ident" id="8671386">noError</span><span class="op" id="8671393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671397">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="8671406">}</span><span class="op" id="8671407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671410">{</span><span class="string" id="8671411">&#34;text&#34;</span><span class="op" id="8671417">,</span>&nbsp;<span class="string" id="8671419">&#34;some&nbsp;text&#34;</span><span class="op" id="8671430">,</span>&nbsp;<span class="ident" id="8671432">noError</span><span class="op" id="8671439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671443">`&#34;some&nbsp;text&#34;`</span><span class="op" id="8671456">}</span><span class="op" id="8671457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671460">{</span><span class="string" id="8671461">&#34;emptyAction&#34;</span><span class="op" id="8671474">,</span>&nbsp;<span class="string" id="8671476">&#34;{{}}&#34;</span><span class="op" id="8671482">,</span>&nbsp;<span class="ident" id="8671484">hasError</span><span class="op" id="8671492">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671496">`{{}}`</span><span class="op" id="8671502">}</span><span class="op" id="8671503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671506">{</span><span class="string" id="8671507">&#34;field&#34;</span><span class="op" id="8671514">,</span>&nbsp;<span class="string" id="8671516">&#34;{{.X}}&#34;</span><span class="op" id="8671524">,</span>&nbsp;<span class="ident" id="8671526">noError</span><span class="op" id="8671533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671537">`{{.X}}`</span><span class="op" id="8671545">}</span><span class="op" id="8671546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671549">{</span><span class="string" id="8671550">&#34;simple&nbsp;command&#34;</span><span class="op" id="8671566">,</span>&nbsp;<span class="string" id="8671568">&#34;{{printf}}&#34;</span><span class="op" id="8671580">,</span>&nbsp;<span class="ident" id="8671582">noError</span><span class="op" id="8671589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671593">`{{printf}}`</span><span class="op" id="8671605">}</span><span class="op" id="8671606">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671609">{</span><span class="string" id="8671610">&#34;$&nbsp;invocation&#34;</span><span class="op" id="8671624">,</span>&nbsp;<span class="string" id="8671626">&#34;{{$}}&#34;</span><span class="op" id="8671633">,</span>&nbsp;<span class="ident" id="8671635">noError</span><span class="op" id="8671642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671646">&#34;{{$}}&#34;</span><span class="op" id="8671653">}</span><span class="op" id="8671654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671657">{</span><span class="string" id="8671658">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="8671679">,</span>&nbsp;<span class="string" id="8671681">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8671715">,</span>&nbsp;<span class="ident" id="8671717">noError</span><span class="op" id="8671724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671728">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8671762">}</span><span class="op" id="8671763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671766">{</span><span class="string" id="8671767">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="8671789">,</span>&nbsp;<span class="string" id="8671791">&#34;{{$.I}}&#34;</span><span class="op" id="8671800">,</span>&nbsp;<span class="ident" id="8671802">noError</span><span class="op" id="8671809">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671813">&#34;{{$.I}}&#34;</span><span class="op" id="8671822">}</span><span class="op" id="8671823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671826">{</span><span class="string" id="8671827">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="8671847">,</span>&nbsp;<span class="string" id="8671849">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8671869">,</span>&nbsp;<span class="ident" id="8671871">noError</span><span class="op" id="8671878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671882">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8671902">}</span><span class="op" id="8671903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671906">{</span><span class="string" id="8671907">&#34;pipeline&#34;</span><span class="op" id="8671917">,</span>&nbsp;<span class="string" id="8671919">&#34;{{.X|.Y}}&#34;</span><span class="op" id="8671930">,</span>&nbsp;<span class="ident" id="8671932">noError</span><span class="op" id="8671939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8671943">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8671956">}</span><span class="op" id="8671957">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8671960">{</span><span class="string" id="8671961">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="8671981">,</span>&nbsp;<span class="string" id="8671983">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="8672000">,</span>&nbsp;<span class="ident" id="8672002">noError</span><span class="op" id="8672009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672013">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8672032">}</span><span class="op" id="8672033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672036">{</span><span class="string" id="8672037">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="8672054">,</span>&nbsp;<span class="string" id="8672056">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="8672090">,</span>&nbsp;<span class="ident" id="8672092">noError</span><span class="op" id="8672099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672103">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="8672137">}</span><span class="op" id="8672138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672141">{</span><span class="string" id="8672142">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8672172">,</span>&nbsp;<span class="string" id="8672174">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="8672193">,</span>&nbsp;<span class="ident" id="8672195">noError</span><span class="op" id="8672202">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672206">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="8672225">}</span><span class="op" id="8672226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672229">{</span><span class="string" id="8672230">&#34;simple&nbsp;if&#34;</span><span class="op" id="8672241">,</span>&nbsp;<span class="string" id="8672243">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8672266">,</span>&nbsp;<span class="ident" id="8672268">noError</span><span class="op" id="8672275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672279">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8672304">}</span><span class="op" id="8672305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672308">{</span><span class="string" id="8672309">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="8672323">,</span>&nbsp;<span class="string" id="8672325">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8672360">,</span>&nbsp;<span class="ident" id="8672362">noError</span><span class="op" id="8672369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672373">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8672412">}</span><span class="op" id="8672413">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672416">{</span><span class="string" id="8672417">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="8672434">,</span>&nbsp;<span class="string" id="8672436">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="8672477">,</span>&nbsp;<span class="ident" id="8672479">noError</span><span class="op" id="8672486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672490">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="8672545">}</span><span class="op" id="8672546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672549">{</span><span class="string" id="8672550">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="8672565">,</span>&nbsp;<span class="string" id="8672567">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="8672618">,</span>&nbsp;<span class="ident" id="8672620">noError</span><span class="op" id="8672627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672631">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="8672712">}</span><span class="op" id="8672713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672716">{</span><span class="string" id="8672717">&#34;simple&nbsp;range&#34;</span><span class="op" id="8672731">,</span>&nbsp;<span class="string" id="8672733">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8672759">,</span>&nbsp;<span class="ident" id="8672761">noError</span><span class="op" id="8672768">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672772">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8672800">}</span><span class="op" id="8672801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672804">{</span><span class="string" id="8672805">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="8672826">,</span>&nbsp;<span class="string" id="8672828">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="8672858">,</span>&nbsp;<span class="ident" id="8672860">noError</span><span class="op" id="8672867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672871">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="8672903">}</span><span class="op" id="8672904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8672907">{</span><span class="string" id="8672908">&#34;nested&nbsp;range&#34;</span><span class="op" id="8672922">,</span>&nbsp;<span class="string" id="8672924">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="8672976">,</span>&nbsp;<span class="ident" id="8672978">noError</span><span class="op" id="8672985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8672989">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="8673045">}</span><span class="op" id="8673046">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673049">{</span><span class="string" id="8673050">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="8673067">,</span>&nbsp;<span class="string" id="8673069">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8673107">,</span>&nbsp;<span class="ident" id="8673109">noError</span><span class="op" id="8673116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673120">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8673162">}</span><span class="op" id="8673163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673166">{</span><span class="string" id="8673167">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="8673188">,</span>&nbsp;<span class="string" id="8673190">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="8673231">,</span>&nbsp;<span class="ident" id="8673233">noError</span><span class="op" id="8673240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673244">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8673291">}</span><span class="op" id="8673292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673295">{</span><span class="string" id="8673296">&#34;range&nbsp;[]int&#34;</span><span class="op" id="8673309">,</span>&nbsp;<span class="string" id="8673311">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8673338">,</span>&nbsp;<span class="ident" id="8673340">noError</span><span class="op" id="8673347">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673351">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8673378">}</span><span class="op" id="8673379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673382">{</span><span class="string" id="8673383">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="8673396">,</span>&nbsp;<span class="string" id="8673398">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8673431">,</span>&nbsp;<span class="ident" id="8673433">noError</span><span class="op" id="8673440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673444">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8673477">}</span><span class="op" id="8673478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673481">{</span><span class="string" id="8673482">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="8673496">,</span>&nbsp;<span class="string" id="8673498">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8673535">,</span>&nbsp;<span class="ident" id="8673537">noError</span><span class="op" id="8673544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673548">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8673585">}</span><span class="op" id="8673586">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673589">{</span><span class="string" id="8673590">&#34;constants&#34;</span><span class="op" id="8673601">,</span>&nbsp;<span class="string" id="8673603">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="8673652">,</span>&nbsp;<span class="ident" id="8673654">noError</span><span class="op" id="8673661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673665">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="8673714">}</span><span class="op" id="8673715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673718">{</span><span class="string" id="8673719">&#34;template&#34;</span><span class="op" id="8673729">,</span>&nbsp;<span class="string" id="8673731">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="8673749">,</span>&nbsp;<span class="ident" id="8673751">noError</span><span class="op" id="8673758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673762">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8673780">}</span><span class="op" id="8673781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673784">{</span><span class="string" id="8673785">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="8673804">,</span>&nbsp;<span class="string" id="8673806">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="8673827">,</span>&nbsp;<span class="ident" id="8673829">noError</span><span class="op" id="8673836">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673840">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="8673861">}</span><span class="op" id="8673862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673865">{</span><span class="string" id="8673866">&#34;with&#34;</span><span class="op" id="8673872">,</span>&nbsp;<span class="string" id="8673874">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8673899">,</span>&nbsp;<span class="ident" id="8673901">noError</span><span class="op" id="8673908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8673912">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8673939">}</span><span class="op" id="8673940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8673943">{</span><span class="string" id="8673944">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="8673960">,</span>&nbsp;<span class="string" id="8673962">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="8674002">,</span>&nbsp;<span class="ident" id="8674004">noError</span><span class="op" id="8674011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8674015">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="8674059">}</span><span class="op" id="8674060">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8674063">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674075">{</span><span class="string" id="8674076">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="8674093">,</span>&nbsp;<span class="string" id="8674095">&#34;hello{{range&#34;</span><span class="op" id="8674109">,</span>&nbsp;<span class="ident" id="8674111">hasError</span><span class="op" id="8674119">,</span>&nbsp;<span class="string" id="8674121">&#34;&#34;</span><span class="op" id="8674123">}</span><span class="op" id="8674124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674127">{</span><span class="string" id="8674128">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="8674143">,</span>&nbsp;<span class="string" id="8674145">&#34;{{end}}&#34;</span><span class="op" id="8674154">,</span>&nbsp;<span class="ident" id="8674156">hasError</span><span class="op" id="8674164">,</span>&nbsp;<span class="string" id="8674166">&#34;&#34;</span><span class="op" id="8674168">}</span><span class="op" id="8674169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674172">{</span><span class="string" id="8674173">&#34;missing&nbsp;end&#34;</span><span class="op" id="8674186">,</span>&nbsp;<span class="string" id="8674188">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="8674207">,</span>&nbsp;<span class="ident" id="8674209">hasError</span><span class="op" id="8674217">,</span>&nbsp;<span class="string" id="8674219">&#34;&#34;</span><span class="op" id="8674221">}</span><span class="op" id="8674222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674225">{</span><span class="string" id="8674226">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="8674250">,</span>&nbsp;<span class="string" id="8674252">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="8674279">,</span>&nbsp;<span class="ident" id="8674281">hasError</span><span class="op" id="8674289">,</span>&nbsp;<span class="string" id="8674291">&#34;&#34;</span><span class="op" id="8674293">}</span><span class="op" id="8674294">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674297">{</span><span class="string" id="8674298">&#34;undefined&nbsp;function&#34;</span><span class="op" id="8674318">,</span>&nbsp;<span class="string" id="8674320">&#34;hello{{undefined}}&#34;</span><span class="op" id="8674340">,</span>&nbsp;<span class="ident" id="8674342">hasError</span><span class="op" id="8674350">,</span>&nbsp;<span class="string" id="8674352">&#34;&#34;</span><span class="op" id="8674354">}</span><span class="op" id="8674355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674358">{</span><span class="string" id="8674359">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="8674379">,</span>&nbsp;<span class="string" id="8674381">&#34;{{$x}}&#34;</span><span class="op" id="8674389">,</span>&nbsp;<span class="ident" id="8674391">hasError</span><span class="op" id="8674399">,</span>&nbsp;<span class="string" id="8674401">&#34;&#34;</span><span class="op" id="8674403">}</span><span class="op" id="8674404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674407">{</span><span class="string" id="8674408">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="8674438">,</span>&nbsp;<span class="string" id="8674440">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="8674471">,</span>&nbsp;<span class="ident" id="8674473">hasError</span><span class="op" id="8674481">,</span>&nbsp;<span class="string" id="8674483">&#34;&#34;</span><span class="op" id="8674485">}</span><span class="op" id="8674486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674489">{</span><span class="string" id="8674490">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="8674522">,</span>&nbsp;<span class="string" id="8674524">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8674541">,</span>&nbsp;<span class="ident" id="8674543">hasError</span><span class="op" id="8674551">,</span>&nbsp;<span class="string" id="8674553">&#34;&#34;</span><span class="op" id="8674555">}</span><span class="op" id="8674556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674559">{</span><span class="string" id="8674560">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="8674580">,</span>&nbsp;<span class="string" id="8674582">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="8674609">,</span>&nbsp;<span class="ident" id="8674611">hasError</span><span class="op" id="8674619">,</span>&nbsp;<span class="string" id="8674621">&#34;&#34;</span><span class="op" id="8674623">}</span><span class="op" id="8674624">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674627">{</span><span class="string" id="8674628">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="8674653">,</span>&nbsp;<span class="string" id="8674655">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="8674672">,</span>&nbsp;<span class="ident" id="8674674">hasError</span><span class="op" id="8674682">,</span>&nbsp;<span class="string" id="8674684">&#34;&#34;</span><span class="op" id="8674686">}</span><span class="op" id="8674687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674690">{</span><span class="string" id="8674691">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="8674710">,</span>&nbsp;<span class="string" id="8674712">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8674729">,</span>&nbsp;<span class="ident" id="8674731">hasError</span><span class="op" id="8674739">,</span>&nbsp;<span class="string" id="8674741">&#34;&#34;</span><span class="op" id="8674743">}</span><span class="op" id="8674744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674747">{</span><span class="string" id="8674748">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="8674769">,</span>&nbsp;<span class="string" id="8674771">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="8674788">,</span>&nbsp;<span class="ident" id="8674790">hasError</span><span class="op" id="8674798">,</span>&nbsp;<span class="string" id="8674800">&#34;&#34;</span><span class="op" id="8674802">}</span><span class="op" id="8674803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674806">{</span><span class="string" id="8674807">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="8674832">,</span>&nbsp;<span class="string" id="8674834">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8674863">,</span>&nbsp;<span class="ident" id="8674865">hasError</span><span class="op" id="8674873">,</span>&nbsp;<span class="string" id="8674875">&#34;&#34;</span><span class="op" id="8674877">}</span><span class="op" id="8674878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674881">{</span><span class="string" id="8674882">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="8674907">,</span>&nbsp;<span class="string" id="8674909">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8674943">,</span>&nbsp;<span class="ident" id="8674945">hasError</span><span class="op" id="8674953">,</span>&nbsp;<span class="string" id="8674955">&#34;&#34;</span><span class="op" id="8674957">}</span><span class="op" id="8674958">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8674961">{</span><span class="string" id="8674962">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8674990">,</span>&nbsp;<span class="string" id="8674992">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="8675016">,</span>&nbsp;<span class="ident" id="8675018">hasError</span><span class="op" id="8675026">,</span>&nbsp;<span class="string" id="8675028">&#34;&#34;</span><span class="op" id="8675030">}</span><span class="op" id="8675031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675034">{</span><span class="string" id="8675035">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="8675050">,</span>&nbsp;<span class="string" id="8675052">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="8675069">,</span>&nbsp;<span class="ident" id="8675071">hasError</span><span class="op" id="8675079">,</span>&nbsp;<span class="string" id="8675081">&#34;&#34;</span><span class="op" id="8675083">}</span><span class="op" id="8675084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675087">{</span><span class="string" id="8675088">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="8675110">,</span>&nbsp;<span class="string" id="8675112">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="8675129">,</span>&nbsp;<span class="ident" id="8675131">hasError</span><span class="op" id="8675139">,</span>&nbsp;<span class="string" id="8675141">&#34;&#34;</span><span class="op" id="8675143">}</span><span class="op" id="8675144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675147">{</span><span class="string" id="8675148">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="8675168">,</span>&nbsp;<span class="string" id="8675170">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="8675211">,</span>&nbsp;<span class="ident" id="8675213">hasError</span><span class="op" id="8675221">,</span>&nbsp;<span class="string" id="8675223">&#34;&#34;</span><span class="op" id="8675225">}</span><span class="op" id="8675226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8675229">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675289">{</span><span class="string" id="8675290">&#34;bug0a&#34;</span><span class="op" id="8675297">,</span>&nbsp;<span class="string" id="8675299">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8675318">,</span>&nbsp;<span class="ident" id="8675320">noError</span><span class="op" id="8675327">,</span>&nbsp;<span class="string" id="8675329">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8675348">}</span><span class="op" id="8675349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675352">{</span><span class="string" id="8675353">&#34;bug0b&#34;</span><span class="op" id="8675360">,</span>&nbsp;<span class="string" id="8675362">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="8675380">,</span>&nbsp;<span class="ident" id="8675382">hasError</span><span class="op" id="8675390">,</span>&nbsp;<span class="string" id="8675392">&#34;&#34;</span><span class="op" id="8675394">}</span><span class="op" id="8675395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675398">{</span><span class="string" id="8675399">&#34;bug0c&#34;</span><span class="op" id="8675406">,</span>&nbsp;<span class="string" id="8675408">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="8675426">,</span>&nbsp;<span class="ident" id="8675428">hasError</span><span class="op" id="8675436">,</span>&nbsp;<span class="string" id="8675438">&#34;&#34;</span><span class="op" id="8675440">}</span><span class="op" id="8675441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675444">{</span><span class="string" id="8675445">&#34;bug0d&#34;</span><span class="op" id="8675452">,</span>&nbsp;<span class="string" id="8675454">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="8675472">,</span>&nbsp;<span class="ident" id="8675474">hasError</span><span class="op" id="8675482">,</span>&nbsp;<span class="string" id="8675484">&#34;&#34;</span><span class="op" id="8675486">}</span><span class="op" id="8675487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8675490">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675542">{</span><span class="string" id="8675543">&#34;bug0e&#34;</span><span class="op" id="8675550">,</span>&nbsp;<span class="string" id="8675552">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8675584">,</span>&nbsp;<span class="ident" id="8675586">hasError</span><span class="op" id="8675594">,</span>&nbsp;<span class="string" id="8675596">&#34;&#34;</span><span class="op" id="8675598">}</span><span class="op" id="8675599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8675602">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675668">{</span><span class="string" id="8675669">&#34;bug1a&#34;</span><span class="op" id="8675676">,</span>&nbsp;<span class="string" id="8675678">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="8675697">,</span>&nbsp;<span class="ident" id="8675699">hasError</span><span class="op" id="8675707">,</span>&nbsp;<span class="string" id="8675709">&#34;&#34;</span><span class="op" id="8675711">}</span><span class="op" id="8675712">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8675734">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675762">{</span><span class="string" id="8675763">&#34;bug1b&#34;</span><span class="op" id="8675770">,</span>&nbsp;<span class="string" id="8675772">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="8675791">,</span>&nbsp;<span class="ident" id="8675793">hasError</span><span class="op" id="8675801">,</span>&nbsp;<span class="string" id="8675803">&#34;&#34;</span><span class="op" id="8675805">}</span><span class="op" id="8675806">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8675828">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8675868">{</span><span class="string" id="8675869">&#34;bug1c&#34;</span><span class="op" id="8675876">,</span>&nbsp;<span class="string" id="8675878">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8675898">,</span>&nbsp;<span class="ident" id="8675900">noError</span><span class="op" id="8675907">,</span>&nbsp;<span class="string" id="8675909">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8675931">}</span><span class="op" id="8675932">,</span>&nbsp;<span class="comment" id="8675934">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="8675959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8675962">var</span>&nbsp;<span class="ident" id="8675966">builtins</span>&nbsp;<span class="op" id="8675975">=</span>&nbsp;<span class="keyword" id="8675977">map</span><span class="op" id="8675980">[</span><span class="builtintype" id="8675981">string</span><span class="op" id="8675987">]</span><span class="keyword" id="8675988">interface</span><span class="op" id="8675997">{</span><span class="op" id="8675998">}</span><span class="op" id="8675999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8676002">&#34;printf&#34;</span><span class="op" id="8676010">:</span>&nbsp;<span class="ident" id="8676012">fmt</span><span class="op" id="8676015">.</span><span class="ident" id="8676016">Sprintf</span><span class="op" id="8676023">,</span><br>
<span class="lineno"></span><span class="op" id="8676025">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="8676028">func</span>&nbsp;<span class="ident" id="8676033">testParse</span><span class="op" id="8676042">(</span><span class="ident" id="8676043">doCopy</span>&nbsp;<span class="builtintype" id="8676050">bool</span><span class="op" id="8676054">,</span>&nbsp;<span class="ident" id="8676056">t</span>&nbsp;<span class="op" id="8676058">*</span><span class="ident" id="8676059">testing</span><span class="op" id="8676066">.</span><span class="ident" id="8676067">T</span><span class="op" id="8676068">)</span>&nbsp;<span class="op" id="8676070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676073">textFormat</span>&nbsp;<span class="op" id="8676084">=</span>&nbsp;<span class="string" id="8676086">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676092">defer</span>&nbsp;<span class="keyword" id="8676098">func</span><span class="op" id="8676102">(</span><span class="op" id="8676103">)</span>&nbsp;<span class="op" id="8676105">{</span>&nbsp;<span class="ident" id="8676107">textFormat</span>&nbsp;<span class="op" id="8676118">=</span>&nbsp;<span class="string" id="8676120">&#34;%s&#34;</span>&nbsp;<span class="op" id="8676125">}</span><span class="op" id="8676126">(</span><span class="op" id="8676127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676130">for</span>&nbsp;<span class="ident" id="8676134">_</span><span class="op" id="8676135">,</span>&nbsp;<span class="ident" id="8676137">test</span>&nbsp;<span class="op" id="8676142">:=</span>&nbsp;<span class="keyword" id="8676145">range</span>&nbsp;<span class="ident" id="8676151">parseTests</span>&nbsp;<span class="op" id="8676162">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676166">tmpl</span><span class="op" id="8676170">,</span>&nbsp;<span class="ident" id="8676172">err</span>&nbsp;<span class="op" id="8676176">:=</span>&nbsp;<span class="ident" id="8676179">New</span><span class="op" id="8676182">(</span><span class="ident" id="8676183">test</span><span class="op" id="8676187">.</span><span class="ident" id="8676188">name</span><span class="op" id="8676192">)</span><span class="op" id="8676193">.</span><span class="ident" id="8676194">Parse</span><span class="op" id="8676199">(</span><span class="ident" id="8676200">test</span><span class="op" id="8676204">.</span><span class="ident" id="8676205">input</span><span class="op" id="8676210">,</span>&nbsp;<span class="string" id="8676212">&#34;&#34;</span><span class="op" id="8676214">,</span>&nbsp;<span class="string" id="8676216">&#34;&#34;</span><span class="op" id="8676218">,</span>&nbsp;<span class="builtinfunc" id="8676220">make</span><span class="op" id="8676224">(</span><span class="keyword" id="8676225">map</span><span class="op" id="8676228">[</span><span class="builtintype" id="8676229">string</span><span class="op" id="8676235">]</span><span class="op" id="8676236">*</span><span class="ident" id="8676237">Tree</span><span class="op" id="8676241">)</span><span class="op" id="8676242">,</span>&nbsp;<span class="ident" id="8676244">builtins</span><span class="op" id="8676252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676256">switch</span>&nbsp;<span class="op" id="8676263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676267">case</span>&nbsp;<span class="ident" id="8676272">err</span>&nbsp;<span class="op" id="8676276">==</span>&nbsp;<span class="ident" id="8676279">nil</span>&nbsp;<span class="op" id="8676283">&amp;&amp;</span>&nbsp;<span class="op" id="8676286">!</span><span class="ident" id="8676287">test</span><span class="op" id="8676291">.</span><span class="ident" id="8676292">ok</span><span class="op" id="8676294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676299">t</span><span class="op" id="8676300">.</span><span class="ident" id="8676301">Errorf</span><span class="op" id="8676307">(</span><span class="string" id="8676308">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8676338">,</span>&nbsp;<span class="ident" id="8676340">test</span><span class="op" id="8676344">.</span><span class="ident" id="8676345">name</span><span class="op" id="8676349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676354">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676365">case</span>&nbsp;<span class="ident" id="8676370">err</span>&nbsp;<span class="op" id="8676374">!=</span>&nbsp;<span class="ident" id="8676377">nil</span>&nbsp;<span class="op" id="8676381">&amp;&amp;</span>&nbsp;<span class="ident" id="8676384">test</span><span class="op" id="8676388">.</span><span class="ident" id="8676389">ok</span><span class="op" id="8676391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676396">t</span><span class="op" id="8676397">.</span><span class="ident" id="8676398">Errorf</span><span class="op" id="8676404">(</span><span class="string" id="8676405">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8676431">,</span>&nbsp;<span class="ident" id="8676433">test</span><span class="op" id="8676437">.</span><span class="ident" id="8676438">name</span><span class="op" id="8676442">,</span>&nbsp;<span class="ident" id="8676444">err</span><span class="op" id="8676447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676452">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676463">case</span>&nbsp;<span class="ident" id="8676468">err</span>&nbsp;<span class="op" id="8676472">!=</span>&nbsp;<span class="ident" id="8676475">nil</span>&nbsp;<span class="op" id="8676479">&amp;&amp;</span>&nbsp;<span class="op" id="8676482">!</span><span class="ident" id="8676483">test</span><span class="op" id="8676487">.</span><span class="ident" id="8676488">ok</span><span class="op" id="8676490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8676495">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676525">if</span>&nbsp;<span class="op" id="8676528">*</span><span class="ident" id="8676529">debug</span>&nbsp;<span class="op" id="8676535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676541">fmt</span><span class="op" id="8676544">.</span><span class="ident" id="8676545">Printf</span><span class="op" id="8676551">(</span><span class="string" id="8676552">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8676568">,</span>&nbsp;<span class="ident" id="8676570">test</span><span class="op" id="8676574">.</span><span class="ident" id="8676575">name</span><span class="op" id="8676579">,</span>&nbsp;<span class="ident" id="8676581">test</span><span class="op" id="8676585">.</span><span class="ident" id="8676586">input</span><span class="op" id="8676591">,</span>&nbsp;<span class="ident" id="8676593">err</span><span class="op" id="8676596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676606">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676617">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676621">var</span>&nbsp;<span class="ident" id="8676625">result</span>&nbsp;<span class="builtintype" id="8676632">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676641">if</span>&nbsp;<span class="ident" id="8676644">doCopy</span>&nbsp;<span class="op" id="8676651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676656">result</span>&nbsp;<span class="op" id="8676663">=</span>&nbsp;<span class="ident" id="8676665">tmpl</span><span class="op" id="8676669">.</span><span class="ident" id="8676670">Root</span><span class="op" id="8676674">.</span><span class="ident" id="8676675">Copy</span><span class="op" id="8676679">(</span><span class="op" id="8676680">)</span><span class="op" id="8676681">.</span><span class="ident" id="8676682">String</span><span class="op" id="8676688">(</span><span class="op" id="8676689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676693">}</span>&nbsp;<span class="keyword" id="8676695">else</span>&nbsp;<span class="op" id="8676700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676705">result</span>&nbsp;<span class="op" id="8676712">=</span>&nbsp;<span class="ident" id="8676714">tmpl</span><span class="op" id="8676718">.</span><span class="ident" id="8676719">Root</span><span class="op" id="8676723">.</span><span class="ident" id="8676724">String</span><span class="op" id="8676730">(</span><span class="op" id="8676731">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8676739">if</span>&nbsp;<span class="ident" id="8676742">result</span>&nbsp;<span class="op" id="8676749">!=</span>&nbsp;<span class="ident" id="8676752">test</span><span class="op" id="8676756">.</span><span class="ident" id="8676757">result</span>&nbsp;<span class="op" id="8676764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676769">t</span><span class="op" id="8676770">.</span><span class="ident" id="8676771">Errorf</span><span class="op" id="8676777">(</span><span class="string" id="8676778">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8676814">,</span>&nbsp;<span class="ident" id="8676816">test</span><span class="op" id="8676820">.</span><span class="ident" id="8676821">name</span><span class="op" id="8676825">,</span>&nbsp;<span class="ident" id="8676827">test</span><span class="op" id="8676831">.</span><span class="ident" id="8676832">input</span><span class="op" id="8676837">,</span>&nbsp;<span class="ident" id="8676839">result</span><span class="op" id="8676845">,</span>&nbsp;<span class="ident" id="8676847">test</span><span class="op" id="8676851">.</span><span class="ident" id="8676852">result</span><span class="op" id="8676858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8676865">}</span><br>
<span class="lineno">295</span><span class="op" id="8676867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8676870">func</span>&nbsp;<span class="ident" id="8676875">TestParse</span><span class="op" id="8676884">(</span><span class="ident" id="8676885">t</span>&nbsp;<span class="op" id="8676887">*</span><span class="ident" id="8676888">testing</span><span class="op" id="8676895">.</span><span class="ident" id="8676896">T</span><span class="op" id="8676897">)</span>&nbsp;<span class="op" id="8676899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8676902">testParse</span><span class="op" id="8676911">(</span><span class="builtintype" id="8676912">false</span><span class="op" id="8676917">,</span>&nbsp;<span class="ident" id="8676919">t</span><span class="op" id="8676920">)</span><br>
<span class="lineno"></span><span class="op" id="8676922">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="8676925">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="8676974">func</span>&nbsp;<span class="ident" id="8676979">TestParseCopy</span><span class="op" id="8676992">(</span><span class="ident" id="8676993">t</span>&nbsp;<span class="op" id="8676995">*</span><span class="ident" id="8676996">testing</span><span class="op" id="8677003">.</span><span class="ident" id="8677004">T</span><span class="op" id="8677005">)</span>&nbsp;<span class="op" id="8677007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677010">testParse</span><span class="op" id="8677019">(</span><span class="builtintype" id="8677020">true</span><span class="op" id="8677024">,</span>&nbsp;<span class="ident" id="8677026">t</span><span class="op" id="8677027">)</span><br>
<span class="lineno"></span><span class="op" id="8677029">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8677032">type</span>&nbsp;<span class="ident" id="8677037">isEmptyTest</span>&nbsp;<span class="keyword" id="8677049">struct</span>&nbsp;<span class="op" id="8677056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677059">name</span>&nbsp;&nbsp;<span class="builtintype" id="8677065">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677073">input</span>&nbsp;<span class="builtintype" id="8677079">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677087">empty</span>&nbsp;<span class="builtintype" id="8677093">bool</span><br>
<span class="lineno">310</span><span class="op" id="8677098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8677101">var</span>&nbsp;<span class="ident" id="8677105">isEmptyTests</span>&nbsp;<span class="op" id="8677118">=</span>&nbsp;<span class="op" id="8677120">[</span><span class="op" id="8677121">]</span><span class="ident" id="8677122">isEmptyTest</span><span class="op" id="8677133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677136">{</span><span class="string" id="8677137">&#34;empty&#34;</span><span class="op" id="8677144">,</span>&nbsp;<span class="string" id="8677146">``</span><span class="op" id="8677148">,</span>&nbsp;<span class="builtintype" id="8677150">true</span><span class="op" id="8677154">}</span><span class="op" id="8677155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677158">{</span><span class="string" id="8677159">&#34;nonempty&#34;</span><span class="op" id="8677169">,</span>&nbsp;<span class="string" id="8677171">`hello`</span><span class="op" id="8677178">,</span>&nbsp;<span class="builtintype" id="8677180">false</span><span class="op" id="8677185">}</span><span class="op" id="8677186">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677189">{</span><span class="string" id="8677190">&#34;spaces&nbsp;only&#34;</span><span class="op" id="8677203">,</span>&nbsp;<span class="string" id="8677205">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="8677217">,</span>&nbsp;<span class="builtintype" id="8677219">true</span><span class="op" id="8677223">}</span><span class="op" id="8677224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677227">{</span><span class="string" id="8677228">&#34;definition&#34;</span><span class="op" id="8677240">,</span>&nbsp;<span class="string" id="8677242">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="8677274">,</span>&nbsp;<span class="builtintype" id="8677276">true</span><span class="op" id="8677280">}</span><span class="op" id="8677281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677284">{</span><span class="string" id="8677285">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="8677308">,</span>&nbsp;<span class="string" id="8677310">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="8677380">,</span>&nbsp;<span class="builtintype" id="8677382">true</span><span class="op" id="8677386">}</span><span class="op" id="8677387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677390">{</span><span class="string" id="8677391">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="8677413">,</span>&nbsp;<span class="string" id="8677415">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="8677487">,</span>&nbsp;<span class="builtintype" id="8677489">false</span><span class="op" id="8677494">}</span><span class="op" id="8677495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677498">{</span><span class="string" id="8677499">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="8677522">,</span>&nbsp;<span class="string" id="8677524">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="8677574">,</span>&nbsp;<span class="builtintype" id="8677576">false</span><span class="op" id="8677581">}</span><span class="op" id="8677582">,</span><br>
<span class="lineno">320</span><span class="op" id="8677584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8677587">func</span>&nbsp;<span class="ident" id="8677592">TestIsEmpty</span><span class="op" id="8677603">(</span><span class="ident" id="8677604">t</span>&nbsp;<span class="op" id="8677606">*</span><span class="ident" id="8677607">testing</span><span class="op" id="8677614">.</span><span class="ident" id="8677615">T</span><span class="op" id="8677616">)</span>&nbsp;<span class="op" id="8677618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677621">if</span>&nbsp;<span class="op" id="8677624">!</span><span class="ident" id="8677625">IsEmptyTree</span><span class="op" id="8677636">(</span><span class="ident" id="8677637">nil</span><span class="op" id="8677640">)</span>&nbsp;<span class="op" id="8677642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677646">t</span><span class="op" id="8677647">.</span><span class="ident" id="8677648">Errorf</span><span class="op" id="8677654">(</span><span class="string" id="8677655">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="8677678">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677684">for</span>&nbsp;<span class="ident" id="8677688">_</span><span class="op" id="8677689">,</span>&nbsp;<span class="ident" id="8677691">test</span>&nbsp;<span class="op" id="8677696">:=</span>&nbsp;<span class="keyword" id="8677699">range</span>&nbsp;<span class="ident" id="8677705">isEmptyTests</span>&nbsp;<span class="op" id="8677718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677722">tree</span><span class="op" id="8677726">,</span>&nbsp;<span class="ident" id="8677728">err</span>&nbsp;<span class="op" id="8677732">:=</span>&nbsp;<span class="ident" id="8677735">New</span><span class="op" id="8677738">(</span><span class="string" id="8677739">&#34;root&#34;</span><span class="op" id="8677745">)</span><span class="op" id="8677746">.</span><span class="ident" id="8677747">Parse</span><span class="op" id="8677752">(</span><span class="ident" id="8677753">test</span><span class="op" id="8677757">.</span><span class="ident" id="8677758">input</span><span class="op" id="8677763">,</span>&nbsp;<span class="string" id="8677765">&#34;&#34;</span><span class="op" id="8677767">,</span>&nbsp;<span class="string" id="8677769">&#34;&#34;</span><span class="op" id="8677771">,</span>&nbsp;<span class="builtinfunc" id="8677773">make</span><span class="op" id="8677777">(</span><span class="keyword" id="8677778">map</span><span class="op" id="8677781">[</span><span class="builtintype" id="8677782">string</span><span class="op" id="8677788">]</span><span class="op" id="8677789">*</span><span class="ident" id="8677790">Tree</span><span class="op" id="8677794">)</span><span class="op" id="8677795">,</span>&nbsp;<span class="ident" id="8677797">nil</span><span class="op" id="8677800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677804">if</span>&nbsp;<span class="ident" id="8677807">err</span>&nbsp;<span class="op" id="8677811">!=</span>&nbsp;<span class="ident" id="8677814">nil</span>&nbsp;<span class="op" id="8677818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677823">t</span><span class="op" id="8677824">.</span><span class="ident" id="8677825">Errorf</span><span class="op" id="8677831">(</span><span class="string" id="8677832">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8677858">,</span>&nbsp;<span class="ident" id="8677860">test</span><span class="op" id="8677864">.</span><span class="ident" id="8677865">name</span><span class="op" id="8677869">,</span>&nbsp;<span class="ident" id="8677871">err</span><span class="op" id="8677874">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677879">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8677890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8677894">if</span>&nbsp;<span class="ident" id="8677897">empty</span>&nbsp;<span class="op" id="8677903">:=</span>&nbsp;<span class="ident" id="8677906">IsEmptyTree</span><span class="op" id="8677917">(</span><span class="ident" id="8677918">tree</span><span class="op" id="8677922">.</span><span class="ident" id="8677923">Root</span><span class="op" id="8677927">)</span><span class="op" id="8677928">;</span>&nbsp;<span class="ident" id="8677930">empty</span>&nbsp;<span class="op" id="8677936">!=</span>&nbsp;<span class="ident" id="8677939">test</span><span class="op" id="8677943">.</span><span class="ident" id="8677944">empty</span>&nbsp;<span class="op" id="8677950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8677955">t</span><span class="op" id="8677956">.</span><span class="ident" id="8677957">Errorf</span><span class="op" id="8677963">(</span><span class="string" id="8677964">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="8677988">,</span>&nbsp;<span class="ident" id="8677990">test</span><span class="op" id="8677994">.</span><span class="ident" id="8677995">name</span><span class="op" id="8677999">,</span>&nbsp;<span class="ident" id="8678001">test</span><span class="op" id="8678005">.</span><span class="ident" id="8678006">empty</span><span class="op" id="8678011">,</span>&nbsp;<span class="ident" id="8678013">empty</span><span class="op" id="8678018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678022">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678025">}</span><br>
<span class="lineno"></span><span class="op" id="8678027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8678030">func</span>&nbsp;<span class="ident" id="8678035">TestErrorContextWithTreeCopy</span><span class="op" id="8678063">(</span><span class="ident" id="8678064">t</span>&nbsp;<span class="op" id="8678066">*</span><span class="ident" id="8678067">testing</span><span class="op" id="8678074">.</span><span class="ident" id="8678075">T</span><span class="op" id="8678076">)</span>&nbsp;<span class="op" id="8678078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678081">tree</span><span class="op" id="8678085">,</span>&nbsp;<span class="ident" id="8678087">err</span>&nbsp;<span class="op" id="8678091">:=</span>&nbsp;<span class="ident" id="8678094">New</span><span class="op" id="8678097">(</span><span class="string" id="8678098">&#34;root&#34;</span><span class="op" id="8678104">)</span><span class="op" id="8678105">.</span><span class="ident" id="8678106">Parse</span><span class="op" id="8678111">(</span><span class="string" id="8678112">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="8678132">,</span>&nbsp;<span class="string" id="8678134">&#34;&#34;</span><span class="op" id="8678136">,</span>&nbsp;<span class="string" id="8678138">&#34;&#34;</span><span class="op" id="8678140">,</span>&nbsp;<span class="builtinfunc" id="8678142">make</span><span class="op" id="8678146">(</span><span class="keyword" id="8678147">map</span><span class="op" id="8678150">[</span><span class="builtintype" id="8678151">string</span><span class="op" id="8678157">]</span><span class="op" id="8678158">*</span><span class="ident" id="8678159">Tree</span><span class="op" id="8678163">)</span><span class="op" id="8678164">,</span>&nbsp;<span class="ident" id="8678166">nil</span><span class="op" id="8678169">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678172">if</span>&nbsp;<span class="ident" id="8678175">err</span>&nbsp;<span class="op" id="8678179">!=</span>&nbsp;<span class="ident" id="8678182">nil</span>&nbsp;<span class="op" id="8678186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678190">t</span><span class="op" id="8678191">.</span><span class="ident" id="8678192">Fatalf</span><span class="op" id="8678198">(</span><span class="string" id="8678199">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="8678234">,</span>&nbsp;<span class="ident" id="8678236">err</span><span class="op" id="8678239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678245">treeCopy</span>&nbsp;<span class="op" id="8678254">:=</span>&nbsp;<span class="ident" id="8678257">tree</span><span class="op" id="8678261">.</span><span class="ident" id="8678262">Copy</span><span class="op" id="8678266">(</span><span class="op" id="8678267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678270">wantLocation</span><span class="op" id="8678282">,</span>&nbsp;<span class="ident" id="8678284">wantContext</span>&nbsp;<span class="op" id="8678296">:=</span>&nbsp;<span class="ident" id="8678299">tree</span><span class="op" id="8678303">.</span><span class="ident" id="8678304">ErrorContext</span><span class="op" id="8678316">(</span><span class="ident" id="8678317">tree</span><span class="op" id="8678321">.</span><span class="ident" id="8678322">Root</span><span class="op" id="8678326">.</span><span class="ident" id="8678327">Nodes</span><span class="op" id="8678332">[</span><span class="num" id="8678333">0</span><span class="op" id="8678334">]</span><span class="op" id="8678335">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678338">gotLocation</span><span class="op" id="8678349">,</span>&nbsp;<span class="ident" id="8678351">gotContext</span>&nbsp;<span class="op" id="8678362">:=</span>&nbsp;<span class="ident" id="8678365">treeCopy</span><span class="op" id="8678373">.</span><span class="ident" id="8678374">ErrorContext</span><span class="op" id="8678386">(</span><span class="ident" id="8678387">treeCopy</span><span class="op" id="8678395">.</span><span class="ident" id="8678396">Root</span><span class="op" id="8678400">.</span><span class="ident" id="8678401">Nodes</span><span class="op" id="8678406">[</span><span class="num" id="8678407">0</span><span class="op" id="8678408">]</span><span class="op" id="8678409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678412">if</span>&nbsp;<span class="ident" id="8678415">wantLocation</span>&nbsp;<span class="op" id="8678428">!=</span>&nbsp;<span class="ident" id="8678431">gotLocation</span>&nbsp;<span class="op" id="8678443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678447">t</span><span class="op" id="8678448">.</span><span class="ident" id="8678449">Errorf</span><span class="op" id="8678455">(</span><span class="string" id="8678456">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8678493">,</span>&nbsp;<span class="ident" id="8678495">wantLocation</span><span class="op" id="8678507">,</span>&nbsp;<span class="ident" id="8678509">gotLocation</span><span class="op" id="8678520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8678526">if</span>&nbsp;<span class="ident" id="8678529">wantContext</span>&nbsp;<span class="op" id="8678541">!=</span>&nbsp;<span class="ident" id="8678544">gotContext</span>&nbsp;<span class="op" id="8678555">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678559">t</span><span class="op" id="8678560">.</span><span class="ident" id="8678561">Errorf</span><span class="op" id="8678567">(</span><span class="string" id="8678568">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8678605">,</span>&nbsp;<span class="ident" id="8678607">wantContext</span><span class="op" id="8678618">,</span>&nbsp;<span class="ident" id="8678620">gotContext</span><span class="op" id="8678630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678633">}</span><br>
<span class="lineno"></span><span class="op" id="8678635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8678638">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="8678721">var</span>&nbsp;<span class="ident" id="8678725">errorTests</span>&nbsp;<span class="op" id="8678736">=</span>&nbsp;<span class="op" id="8678738">[</span><span class="op" id="8678739">]</span><span class="ident" id="8678740">parseTest</span><span class="op" id="8678749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8678752">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678789">{</span><span class="string" id="8678790">&#34;unclosed1&#34;</span><span class="op" id="8678801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8678805">&#34;line1\n{{&#34;</span><span class="op" id="8678816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678820">hasError</span><span class="op" id="8678828">,</span>&nbsp;<span class="string" id="8678830">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8678882">}</span><span class="op" id="8678883">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8678886">{</span><span class="string" id="8678887">&#34;unclosed2&#34;</span><span class="op" id="8678898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8678902">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="8678934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8678938">hasError</span><span class="op" id="8678946">,</span>&nbsp;<span class="string" id="8678948">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8679000">}</span><span class="op" id="8679001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8679004">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679025">{</span><span class="string" id="8679026">&#34;function&#34;</span><span class="op" id="8679036">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679040">&#34;{{foo}}&#34;</span><span class="op" id="8679049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679053">hasError</span><span class="op" id="8679061">,</span>&nbsp;<span class="string" id="8679063">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="8679091">}</span><span class="op" id="8679092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679095">{</span><span class="string" id="8679096">&#34;comment&#34;</span><span class="op" id="8679105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679109">&#34;{{/*}}&#34;</span><span class="op" id="8679117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679121">hasError</span><span class="op" id="8679129">,</span>&nbsp;<span class="string" id="8679131">`unclosed&nbsp;comment`</span><span class="op" id="8679149">}</span><span class="op" id="8679150">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679153">{</span><span class="string" id="8679154">&#34;lparen&#34;</span><span class="op" id="8679162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679166">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="8679181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679185">hasError</span><span class="op" id="8679193">,</span>&nbsp;<span class="string" id="8679195">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="8679216">}</span><span class="op" id="8679217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679220">{</span><span class="string" id="8679221">&#34;rparen&#34;</span><span class="op" id="8679229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679233">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="8679248">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679252">hasError</span><span class="op" id="8679260">,</span>&nbsp;<span class="string" id="8679262">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="8679278">}</span><span class="op" id="8679279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679282">{</span><span class="string" id="8679283">&#34;space&#34;</span><span class="op" id="8679290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679294">&#34;{{`x`3}}&#34;</span><span class="op" id="8679304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679308">hasError</span><span class="op" id="8679316">,</span>&nbsp;<span class="string" id="8679318">`missing&nbsp;space?`</span><span class="op" id="8679334">}</span><span class="op" id="8679335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679338">{</span><span class="string" id="8679339">&#34;idchar&#34;</span><span class="op" id="8679347">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679351">&#34;{{a#}}&#34;</span><span class="op" id="8679359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679363">hasError</span><span class="op" id="8679371">,</span>&nbsp;<span class="string" id="8679373">`&#39;#&#39;`</span><span class="op" id="8679378">}</span><span class="op" id="8679379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679382">{</span><span class="string" id="8679383">&#34;charconst&#34;</span><span class="op" id="8679394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679398">&#34;{{&#39;a}}&#34;</span><span class="op" id="8679406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679410">hasError</span><span class="op" id="8679418">,</span>&nbsp;<span class="string" id="8679420">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="8679453">}</span><span class="op" id="8679454">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679457">{</span><span class="string" id="8679458">&#34;stringconst&#34;</span><span class="op" id="8679471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679475">`{{&#34;a}}`</span><span class="op" id="8679483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679487">hasError</span><span class="op" id="8679495">,</span>&nbsp;<span class="string" id="8679497">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="8679525">}</span><span class="op" id="8679526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679529">{</span><span class="string" id="8679530">&#34;rawstringconst&#34;</span><span class="op" id="8679546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679550">&#34;{{`a}}&#34;</span><span class="op" id="8679558">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679562">hasError</span><span class="op" id="8679570">,</span>&nbsp;<span class="string" id="8679572">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="8679604">}</span><span class="op" id="8679605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679608">{</span><span class="string" id="8679609">&#34;number&#34;</span><span class="op" id="8679617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679621">&#34;{{0xi}}&#34;</span><span class="op" id="8679630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679634">hasError</span><span class="op" id="8679642">,</span>&nbsp;<span class="string" id="8679644">`number&nbsp;syntax`</span><span class="op" id="8679659">}</span><span class="op" id="8679660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679663">{</span><span class="string" id="8679664">&#34;multidefine&#34;</span><span class="op" id="8679677">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679681">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="8679727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679731">hasError</span><span class="op" id="8679739">,</span>&nbsp;<span class="string" id="8679741">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="8679774">}</span><span class="op" id="8679775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679778">{</span><span class="string" id="8679779">&#34;eof&#34;</span><span class="op" id="8679784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679788">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="8679802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8679806">hasError</span><span class="op" id="8679814">,</span>&nbsp;<span class="string" id="8679816">`unexpected&nbsp;EOF`</span><span class="op" id="8679832">}</span><span class="op" id="8679833">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8679836">{</span><span class="string" id="8679837">&#34;variable&#34;</span><span class="op" id="8679847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8679851">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8679950">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8679998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680002">hasError</span><span class="op" id="8680010">,</span>&nbsp;<span class="string" id="8680012">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="8680029">}</span><span class="op" id="8680030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680033">{</span><span class="string" id="8680034">&#34;multidecl&#34;</span><span class="op" id="8680045">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8680049">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="8680069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680073">hasError</span><span class="op" id="8680081">,</span>&nbsp;<span class="string" id="8680083">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="8680106">}</span><span class="op" id="8680107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680110">{</span><span class="string" id="8680111">&#34;undefvar&#34;</span><span class="op" id="8680121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8680125">&#34;{{$a}}&#34;</span><span class="op" id="8680133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680137">hasError</span><span class="op" id="8680145">,</span>&nbsp;<span class="string" id="8680147">`undefined&nbsp;variable`</span><span class="op" id="8680167">}</span><span class="op" id="8680168">,</span><br>
<span class="lineno">410</span><span class="op" id="8680170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8680173">func</span>&nbsp;<span class="ident" id="8680178">TestErrors</span><span class="op" id="8680188">(</span><span class="ident" id="8680189">t</span>&nbsp;<span class="op" id="8680191">*</span><span class="ident" id="8680192">testing</span><span class="op" id="8680199">.</span><span class="ident" id="8680200">T</span><span class="op" id="8680201">)</span>&nbsp;<span class="op" id="8680203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680206">for</span>&nbsp;<span class="ident" id="8680210">_</span><span class="op" id="8680211">,</span>&nbsp;<span class="ident" id="8680213">test</span>&nbsp;<span class="op" id="8680218">:=</span>&nbsp;<span class="keyword" id="8680221">range</span>&nbsp;<span class="ident" id="8680227">errorTests</span>&nbsp;<span class="op" id="8680238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680242">_</span><span class="op" id="8680243">,</span>&nbsp;<span class="ident" id="8680245">err</span>&nbsp;<span class="op" id="8680249">:=</span>&nbsp;<span class="ident" id="8680252">New</span><span class="op" id="8680255">(</span><span class="ident" id="8680256">test</span><span class="op" id="8680260">.</span><span class="ident" id="8680261">name</span><span class="op" id="8680265">)</span><span class="op" id="8680266">.</span><span class="ident" id="8680267">Parse</span><span class="op" id="8680272">(</span><span class="ident" id="8680273">test</span><span class="op" id="8680277">.</span><span class="ident" id="8680278">input</span><span class="op" id="8680283">,</span>&nbsp;<span class="string" id="8680285">&#34;&#34;</span><span class="op" id="8680287">,</span>&nbsp;<span class="string" id="8680289">&#34;&#34;</span><span class="op" id="8680291">,</span>&nbsp;<span class="builtinfunc" id="8680293">make</span><span class="op" id="8680297">(</span><span class="keyword" id="8680298">map</span><span class="op" id="8680301">[</span><span class="builtintype" id="8680302">string</span><span class="op" id="8680308">]</span><span class="op" id="8680309">*</span><span class="ident" id="8680310">Tree</span><span class="op" id="8680314">)</span><span class="op" id="8680315">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680319">if</span>&nbsp;<span class="ident" id="8680322">err</span>&nbsp;<span class="op" id="8680326">==</span>&nbsp;<span class="ident" id="8680329">nil</span>&nbsp;<span class="op" id="8680333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680338">t</span><span class="op" id="8680339">.</span><span class="ident" id="8680340">Errorf</span><span class="op" id="8680346">(</span><span class="string" id="8680347">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="8680367">,</span>&nbsp;<span class="ident" id="8680369">test</span><span class="op" id="8680373">.</span><span class="ident" id="8680374">name</span><span class="op" id="8680378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680383">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8680398">if</span>&nbsp;<span class="op" id="8680401">!</span><span class="ident" id="8680402">strings</span><span class="op" id="8680409">.</span><span class="ident" id="8680410">Contains</span><span class="op" id="8680418">(</span><span class="ident" id="8680419">err</span><span class="op" id="8680422">.</span><span class="ident" id="8680423">Error</span><span class="op" id="8680428">(</span><span class="op" id="8680429">)</span><span class="op" id="8680430">,</span>&nbsp;<span class="ident" id="8680432">test</span><span class="op" id="8680436">.</span><span class="ident" id="8680437">result</span><span class="op" id="8680443">)</span>&nbsp;<span class="op" id="8680445">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8680450">t</span><span class="op" id="8680451">.</span><span class="ident" id="8680452">Errorf</span><span class="op" id="8680458">(</span><span class="string" id="8680459">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="8680493">,</span>&nbsp;<span class="ident" id="8680495">test</span><span class="op" id="8680499">.</span><span class="ident" id="8680500">name</span><span class="op" id="8680504">,</span>&nbsp;<span class="ident" id="8680506">err</span><span class="op" id="8680509">,</span>&nbsp;<span class="ident" id="8680511">test</span><span class="op" id="8680515">.</span><span class="ident" id="8680516">result</span><span class="op" id="8680522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8680529">}</span><br>
<span class="lineno"></span><span class="op" id="8680531">}</span>
</div>
</body>
</html>
