<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6786900">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6786955">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6787009">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6787060">package</span>&nbsp;<span class="ident" id="6787068">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6787074">import</span>&nbsp;<span class="op" id="6787081">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787084">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787093">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787099">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6787109">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6787112">type</span>&nbsp;<span class="ident" id="6787117">zlibTest</span>&nbsp;<span class="keyword" id="6787126">struct</span>&nbsp;<span class="op" id="6787133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787136">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787147">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787155">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787166">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787174">compressed</span>&nbsp;<span class="op" id="6787185">[</span><span class="op" id="6787186">]</span><span class="builtintype" id="6787187">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787193">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787204">[</span><span class="op" id="6787205">]</span><span class="builtintype" id="6787206">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787212">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787223">error</span><br>
<span class="lineno"></span><span class="op" id="6787229">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6787232">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6787308">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6787340">var</span>&nbsp;<span class="ident" id="6787344">zlibTests</span>&nbsp;<span class="op" id="6787354">=</span>&nbsp;<span class="op" id="6787356">[</span><span class="op" id="6787357">]</span><span class="ident" id="6787358">zlibTest</span><span class="op" id="6787366">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787373">&#34;empty&#34;</span><span class="op" id="6787380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787384">&#34;&#34;</span><span class="op" id="6787386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787390">[</span><span class="op" id="6787391">]</span><span class="builtintype" id="6787392">byte</span><span class="op" id="6787396">{</span><span class="num" id="6787397">0x78</span><span class="op" id="6787401">,</span>&nbsp;<span class="num" id="6787403">0x9c</span><span class="op" id="6787407">,</span>&nbsp;<span class="num" id="6787409">0x03</span><span class="op" id="6787413">,</span>&nbsp;<span class="num" id="6787415">0x00</span><span class="op" id="6787419">,</span>&nbsp;<span class="num" id="6787421">0x00</span><span class="op" id="6787425">,</span>&nbsp;<span class="num" id="6787427">0x00</span><span class="op" id="6787431">,</span>&nbsp;<span class="num" id="6787433">0x00</span><span class="op" id="6787437">,</span>&nbsp;<span class="num" id="6787439">0x01</span><span class="op" id="6787443">}</span><span class="op" id="6787444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787448">nil</span><span class="op" id="6787451">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787455">nil</span><span class="op" id="6787458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787461">}</span><span class="op" id="6787462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787469">&#34;goodbye&#34;</span><span class="op" id="6787478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787482">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6787498">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787502">[</span><span class="op" id="6787503">]</span><span class="builtintype" id="6787504">byte</span><span class="op" id="6787508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6787513">0x78</span><span class="op" id="6787517">,</span>&nbsp;<span class="num" id="6787519">0x9c</span><span class="op" id="6787523">,</span>&nbsp;<span class="num" id="6787525">0x4b</span><span class="op" id="6787529">,</span>&nbsp;<span class="num" id="6787531">0xcf</span><span class="op" id="6787535">,</span>&nbsp;<span class="num" id="6787537">0xcf</span><span class="op" id="6787541">,</span>&nbsp;<span class="num" id="6787543">0x4f</span><span class="op" id="6787547">,</span>&nbsp;<span class="num" id="6787549">0x49</span><span class="op" id="6787553">,</span>&nbsp;<span class="num" id="6787555">0xaa</span><span class="op" id="6787559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6787564">0x4c</span><span class="op" id="6787568">,</span>&nbsp;<span class="num" id="6787570">0xd5</span><span class="op" id="6787574">,</span>&nbsp;<span class="num" id="6787576">0x51</span><span class="op" id="6787580">,</span>&nbsp;<span class="num" id="6787582">0x28</span><span class="op" id="6787586">,</span>&nbsp;<span class="num" id="6787588">0xcf</span><span class="op" id="6787592">,</span>&nbsp;<span class="num" id="6787594">0x2f</span><span class="op" id="6787598">,</span>&nbsp;<span class="num" id="6787600">0xca</span><span class="op" id="6787604">,</span>&nbsp;<span class="num" id="6787606">0x49</span><span class="op" id="6787610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6787615">0x01</span><span class="op" id="6787619">,</span>&nbsp;<span class="num" id="6787621">0x00</span><span class="op" id="6787625">,</span>&nbsp;<span class="num" id="6787627">0x28</span><span class="op" id="6787631">,</span>&nbsp;<span class="num" id="6787633">0xa5</span><span class="op" id="6787637">,</span>&nbsp;<span class="num" id="6787639">0x05</span><span class="op" id="6787643">,</span>&nbsp;<span class="num" id="6787645">0x5e</span><span class="op" id="6787649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787653">}</span><span class="op" id="6787654">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787658">nil</span><span class="op" id="6787661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787665">nil</span><span class="op" id="6787668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787671">}</span><span class="op" id="6787672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787679">&#34;bad&nbsp;header&#34;</span><span class="op" id="6787691">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787695">&#34;&#34;</span><span class="op" id="6787697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787701">[</span><span class="op" id="6787702">]</span><span class="builtintype" id="6787703">byte</span><span class="op" id="6787707">{</span><span class="num" id="6787708">0x78</span><span class="op" id="6787712">,</span>&nbsp;<span class="num" id="6787714">0x9f</span><span class="op" id="6787718">,</span>&nbsp;<span class="num" id="6787720">0x03</span><span class="op" id="6787724">,</span>&nbsp;<span class="num" id="6787726">0x00</span><span class="op" id="6787730">,</span>&nbsp;<span class="num" id="6787732">0x00</span><span class="op" id="6787736">,</span>&nbsp;<span class="num" id="6787738">0x00</span><span class="op" id="6787742">,</span>&nbsp;<span class="num" id="6787744">0x00</span><span class="op" id="6787748">,</span>&nbsp;<span class="num" id="6787750">0x01</span><span class="op" id="6787754">}</span><span class="op" id="6787755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787759">nil</span><span class="op" id="6787762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787766">ErrHeader</span><span class="op" id="6787775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787778">}</span><span class="op" id="6787779">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787786">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="6787800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787804">&#34;&#34;</span><span class="op" id="6787806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787810">[</span><span class="op" id="6787811">]</span><span class="builtintype" id="6787812">byte</span><span class="op" id="6787816">{</span><span class="num" id="6787817">0x78</span><span class="op" id="6787821">,</span>&nbsp;<span class="num" id="6787823">0x9c</span><span class="op" id="6787827">,</span>&nbsp;<span class="num" id="6787829">0x03</span><span class="op" id="6787833">,</span>&nbsp;<span class="num" id="6787835">0x00</span><span class="op" id="6787839">,</span>&nbsp;<span class="num" id="6787841">0x00</span><span class="op" id="6787845">,</span>&nbsp;<span class="num" id="6787847">0x00</span><span class="op" id="6787851">,</span>&nbsp;<span class="num" id="6787853">0x00</span><span class="op" id="6787857">,</span>&nbsp;<span class="num" id="6787859">0xff</span><span class="op" id="6787863">}</span><span class="op" id="6787864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787868">nil</span><span class="op" id="6787871">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787875">ErrChecksum</span><span class="op" id="6787886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787889">}</span><span class="op" id="6787890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787897">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="6787914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6787918">&#34;&#34;</span><span class="op" id="6787920">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787924">[</span><span class="op" id="6787925">]</span><span class="builtintype" id="6787926">byte</span><span class="op" id="6787930">{</span><span class="num" id="6787931">0x78</span><span class="op" id="6787935">,</span>&nbsp;<span class="num" id="6787937">0x9c</span><span class="op" id="6787941">,</span>&nbsp;<span class="num" id="6787943">0x03</span><span class="op" id="6787947">,</span>&nbsp;<span class="num" id="6787949">0x00</span><span class="op" id="6787953">,</span>&nbsp;<span class="num" id="6787955">0x00</span><span class="op" id="6787959">,</span>&nbsp;<span class="num" id="6787961">0x00</span><span class="op" id="6787965">}</span><span class="op" id="6787966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6787970">nil</span><span class="op" id="6787973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6787977">io</span><span class="op" id="6787979">.</span><span class="ident" id="6787980">ErrUnexpectedEOF</span><span class="op" id="6787996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6787999">}</span><span class="op" id="6788000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788003">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788007">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="6788040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788044">&#34;&#34;</span><span class="op" id="6788046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788050">[</span><span class="op" id="6788051">]</span><span class="builtintype" id="6788052">byte</span><span class="op" id="6788056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788061">0x78</span><span class="op" id="6788065">,</span>&nbsp;<span class="num" id="6788067">0x9c</span><span class="op" id="6788071">,</span>&nbsp;<span class="num" id="6788073">0x03</span><span class="op" id="6788077">,</span>&nbsp;<span class="num" id="6788079">0x00</span><span class="op" id="6788083">,</span>&nbsp;<span class="num" id="6788085">0x00</span><span class="op" id="6788089">,</span>&nbsp;<span class="num" id="6788091">0x00</span><span class="op" id="6788095">,</span>&nbsp;<span class="num" id="6788097">0x00</span><span class="op" id="6788101">,</span>&nbsp;<span class="num" id="6788103">0x01</span><span class="op" id="6788107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788112">0x78</span><span class="op" id="6788116">,</span>&nbsp;<span class="num" id="6788118">0x9c</span><span class="op" id="6788122">,</span>&nbsp;<span class="num" id="6788124">0xff</span><span class="op" id="6788128">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788132">}</span><span class="op" id="6788133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6788137">nil</span><span class="op" id="6788140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6788144">nil</span><span class="op" id="6788147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788150">}</span><span class="op" id="6788151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788154">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788158">&#34;dictionary&#34;</span><span class="op" id="6788170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788174">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="6788191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788195">[</span><span class="op" id="6788196">]</span><span class="builtintype" id="6788197">byte</span><span class="op" id="6788201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788206">0x78</span><span class="op" id="6788210">,</span>&nbsp;<span class="num" id="6788212">0xbb</span><span class="op" id="6788216">,</span>&nbsp;<span class="num" id="6788218">0x1c</span><span class="op" id="6788222">,</span>&nbsp;<span class="num" id="6788224">0x32</span><span class="op" id="6788228">,</span>&nbsp;<span class="num" id="6788230">0x04</span><span class="op" id="6788234">,</span>&nbsp;<span class="num" id="6788236">0x27</span><span class="op" id="6788240">,</span>&nbsp;<span class="num" id="6788242">0xf3</span><span class="op" id="6788246">,</span>&nbsp;<span class="num" id="6788248">0x00</span><span class="op" id="6788252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788257">0xb1</span><span class="op" id="6788261">,</span>&nbsp;<span class="num" id="6788263">0x75</span><span class="op" id="6788267">,</span>&nbsp;<span class="num" id="6788269">0x20</span><span class="op" id="6788273">,</span>&nbsp;<span class="num" id="6788275">0x1c</span><span class="op" id="6788279">,</span>&nbsp;<span class="num" id="6788281">0x45</span><span class="op" id="6788285">,</span>&nbsp;<span class="num" id="6788287">0x2e</span><span class="op" id="6788291">,</span>&nbsp;<span class="num" id="6788293">0x00</span><span class="op" id="6788297">,</span>&nbsp;<span class="num" id="6788299">0x24</span><span class="op" id="6788303">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788308">0x12</span><span class="op" id="6788312">,</span>&nbsp;<span class="num" id="6788314">0x04</span><span class="op" id="6788318">,</span>&nbsp;<span class="num" id="6788320">0x74</span><span class="op" id="6788324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788328">}</span><span class="op" id="6788329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788333">[</span><span class="op" id="6788334">]</span><span class="builtintype" id="6788335">byte</span><span class="op" id="6788339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788344">0x48</span><span class="op" id="6788348">,</span>&nbsp;<span class="num" id="6788350">0x65</span><span class="op" id="6788354">,</span>&nbsp;<span class="num" id="6788356">0x6c</span><span class="op" id="6788360">,</span>&nbsp;<span class="num" id="6788362">0x6c</span><span class="op" id="6788366">,</span>&nbsp;<span class="num" id="6788368">0x6f</span><span class="op" id="6788372">,</span>&nbsp;<span class="num" id="6788374">0x20</span><span class="op" id="6788378">,</span>&nbsp;<span class="num" id="6788380">0x57</span><span class="op" id="6788384">,</span>&nbsp;<span class="num" id="6788386">0x6f</span><span class="op" id="6788390">,</span>&nbsp;<span class="num" id="6788392">0x72</span><span class="op" id="6788396">,</span>&nbsp;<span class="num" id="6788398">0x6c</span><span class="op" id="6788402">,</span>&nbsp;<span class="num" id="6788404">0x64</span><span class="op" id="6788408">,</span>&nbsp;<span class="num" id="6788410">0x0a</span><span class="op" id="6788414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788418">}</span><span class="op" id="6788419">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6788423">nil</span><span class="op" id="6788426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788429">}</span><span class="op" id="6788430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788437">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="6788455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6788459">&#34;&#34;</span><span class="op" id="6788461">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788465">[</span><span class="op" id="6788466">]</span><span class="builtintype" id="6788467">byte</span><span class="op" id="6788471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788476">0x78</span><span class="op" id="6788480">,</span>&nbsp;<span class="num" id="6788482">0xbb</span><span class="op" id="6788486">,</span>&nbsp;<span class="num" id="6788488">0x1c</span><span class="op" id="6788492">,</span>&nbsp;<span class="num" id="6788494">0x32</span><span class="op" id="6788498">,</span>&nbsp;<span class="num" id="6788500">0x04</span><span class="op" id="6788504">,</span>&nbsp;<span class="num" id="6788506">0x27</span><span class="op" id="6788510">,</span>&nbsp;<span class="num" id="6788512">0xf3</span><span class="op" id="6788516">,</span>&nbsp;<span class="num" id="6788518">0x00</span><span class="op" id="6788522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788527">0xb1</span><span class="op" id="6788531">,</span>&nbsp;<span class="num" id="6788533">0x75</span><span class="op" id="6788537">,</span>&nbsp;<span class="num" id="6788539">0x20</span><span class="op" id="6788543">,</span>&nbsp;<span class="num" id="6788545">0x1c</span><span class="op" id="6788549">,</span>&nbsp;<span class="num" id="6788551">0x45</span><span class="op" id="6788555">,</span>&nbsp;<span class="num" id="6788557">0x2e</span><span class="op" id="6788561">,</span>&nbsp;<span class="num" id="6788563">0x00</span><span class="op" id="6788567">,</span>&nbsp;<span class="num" id="6788569">0x24</span><span class="op" id="6788573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788578">0x12</span><span class="op" id="6788582">,</span>&nbsp;<span class="num" id="6788584">0x04</span><span class="op" id="6788588">,</span>&nbsp;<span class="num" id="6788590">0x74</span><span class="op" id="6788594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788598">}</span><span class="op" id="6788599">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788603">[</span><span class="op" id="6788604">]</span><span class="builtintype" id="6788605">byte</span><span class="op" id="6788609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6788614">0x48</span><span class="op" id="6788618">,</span>&nbsp;<span class="num" id="6788620">0x65</span><span class="op" id="6788624">,</span>&nbsp;<span class="num" id="6788626">0x6c</span><span class="op" id="6788630">,</span>&nbsp;<span class="num" id="6788632">0x6c</span><span class="op" id="6788636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788640">}</span><span class="op" id="6788641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788645">ErrDictionary</span><span class="op" id="6788658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788661">}</span><span class="op" id="6788662">,</span><br>
<span class="lineno">100</span><span class="op" id="6788664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6788667">func</span>&nbsp;<span class="ident" id="6788672">TestDecompressor</span><span class="op" id="6788688">(</span><span class="ident" id="6788689">t</span>&nbsp;<span class="op" id="6788691">*</span><span class="ident" id="6788692">testing</span><span class="op" id="6788699">.</span><span class="ident" id="6788700">T</span><span class="op" id="6788701">)</span>&nbsp;<span class="op" id="6788703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788706">b</span>&nbsp;<span class="op" id="6788708">:=</span>&nbsp;<span class="builtinfunc" id="6788711">new</span><span class="op" id="6788714">(</span><span class="ident" id="6788715">bytes</span><span class="op" id="6788720">.</span><span class="ident" id="6788721">Buffer</span><span class="op" id="6788727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6788730">for</span>&nbsp;<span class="ident" id="6788734">_</span><span class="op" id="6788735">,</span>&nbsp;<span class="ident" id="6788737">tt</span>&nbsp;<span class="op" id="6788740">:=</span>&nbsp;<span class="keyword" id="6788743">range</span>&nbsp;<span class="ident" id="6788749">zlibTests</span>&nbsp;<span class="op" id="6788759">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788763">in</span>&nbsp;<span class="op" id="6788766">:=</span>&nbsp;<span class="ident" id="6788769">bytes</span><span class="op" id="6788774">.</span><span class="ident" id="6788775">NewReader</span><span class="op" id="6788784">(</span><span class="ident" id="6788785">tt</span><span class="op" id="6788787">.</span><span class="ident" id="6788788">compressed</span><span class="op" id="6788798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788802">zlib</span><span class="op" id="6788806">,</span>&nbsp;<span class="ident" id="6788808">err</span>&nbsp;<span class="op" id="6788812">:=</span>&nbsp;<span class="ident" id="6788815">NewReaderDict</span><span class="op" id="6788828">(</span><span class="ident" id="6788829">in</span><span class="op" id="6788831">,</span>&nbsp;<span class="ident" id="6788833">tt</span><span class="op" id="6788835">.</span><span class="ident" id="6788836">dict</span><span class="op" id="6788840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6788844">if</span>&nbsp;<span class="ident" id="6788847">err</span>&nbsp;<span class="op" id="6788851">!=</span>&nbsp;<span class="builtintype" id="6788854">nil</span>&nbsp;<span class="op" id="6788858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6788863">if</span>&nbsp;<span class="ident" id="6788866">err</span>&nbsp;<span class="op" id="6788870">!=</span>&nbsp;<span class="ident" id="6788873">tt</span><span class="op" id="6788875">.</span><span class="ident" id="6788876">err</span>&nbsp;<span class="op" id="6788880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788886">t</span><span class="op" id="6788887">.</span><span class="ident" id="6788888">Errorf</span><span class="op" id="6788894">(</span><span class="string" id="6788895">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="6788914">,</span>&nbsp;<span class="ident" id="6788916">tt</span><span class="op" id="6788918">.</span><span class="ident" id="6788919">desc</span><span class="op" id="6788923">,</span>&nbsp;<span class="ident" id="6788925">err</span><span class="op" id="6788928">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6788938">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6788949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6788953">defer</span>&nbsp;<span class="ident" id="6788959">zlib</span><span class="op" id="6788963">.</span><span class="ident" id="6788964">Close</span><span class="op" id="6788969">(</span><span class="op" id="6788970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788974">b</span><span class="op" id="6788975">.</span><span class="ident" id="6788976">Reset</span><span class="op" id="6788981">(</span><span class="op" id="6788982">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6788986">n</span><span class="op" id="6788987">,</span>&nbsp;<span class="ident" id="6788989">err</span>&nbsp;<span class="op" id="6788993">:=</span>&nbsp;<span class="ident" id="6788996">io</span><span class="op" id="6788998">.</span><span class="ident" id="6788999">Copy</span><span class="op" id="6789003">(</span><span class="ident" id="6789004">b</span><span class="op" id="6789005">,</span>&nbsp;<span class="ident" id="6789007">zlib</span><span class="op" id="6789011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6789015">if</span>&nbsp;<span class="ident" id="6789018">err</span>&nbsp;<span class="op" id="6789022">!=</span>&nbsp;<span class="builtintype" id="6789025">nil</span>&nbsp;<span class="op" id="6789029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6789034">if</span>&nbsp;<span class="ident" id="6789037">err</span>&nbsp;<span class="op" id="6789041">!=</span>&nbsp;<span class="ident" id="6789044">tt</span><span class="op" id="6789046">.</span><span class="ident" id="6789047">err</span>&nbsp;<span class="op" id="6789051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6789057">t</span><span class="op" id="6789058">.</span><span class="ident" id="6789059">Errorf</span><span class="op" id="6789065">(</span><span class="string" id="6789066">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6789091">,</span>&nbsp;<span class="ident" id="6789093">tt</span><span class="op" id="6789095">.</span><span class="ident" id="6789096">desc</span><span class="op" id="6789100">,</span>&nbsp;<span class="ident" id="6789102">err</span><span class="op" id="6789105">,</span>&nbsp;<span class="ident" id="6789107">tt</span><span class="op" id="6789109">.</span><span class="ident" id="6789110">err</span><span class="op" id="6789113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6789118">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6789123">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6789134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6789138">s</span>&nbsp;<span class="op" id="6789140">:=</span>&nbsp;<span class="ident" id="6789143">b</span><span class="op" id="6789144">.</span><span class="ident" id="6789145">String</span><span class="op" id="6789151">(</span><span class="op" id="6789152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6789156">if</span>&nbsp;<span class="ident" id="6789159">s</span>&nbsp;<span class="op" id="6789161">!=</span>&nbsp;<span class="ident" id="6789164">tt</span><span class="op" id="6789166">.</span><span class="ident" id="6789167">raw</span>&nbsp;<span class="op" id="6789171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6789176">t</span><span class="op" id="6789177">.</span><span class="ident" id="6789178">Errorf</span><span class="op" id="6789184">(</span><span class="string" id="6789185">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="6789221">,</span>&nbsp;<span class="ident" id="6789223">tt</span><span class="op" id="6789225">.</span><span class="ident" id="6789226">desc</span><span class="op" id="6789230">,</span>&nbsp;<span class="ident" id="6789232">n</span><span class="op" id="6789233">,</span>&nbsp;<span class="ident" id="6789235">s</span><span class="op" id="6789236">,</span>&nbsp;<span class="builtinfunc" id="6789238">len</span><span class="op" id="6789241">(</span><span class="ident" id="6789242">tt</span><span class="op" id="6789244">.</span><span class="ident" id="6789245">raw</span><span class="op" id="6789248">)</span><span class="op" id="6789249">,</span>&nbsp;<span class="ident" id="6789251">tt</span><span class="op" id="6789253">.</span><span class="ident" id="6789254">raw</span><span class="op" id="6789257">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6789261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6789264">}</span><br>
<span class="lineno"></span><span class="op" id="6789266">}</span>
</div>
</body>
</html>
