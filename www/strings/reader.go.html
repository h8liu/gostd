<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2485936">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2485991">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2486045">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2486096">package</span>&nbsp;<span class="ident" id="2486104">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2486113">import</span>&nbsp;<span class="op" id="2486120">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2486123">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2486133">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2486139">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2486154">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2486157">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.Seeker,&nbsp;io.WriterTo,</span><br>
<span class="lineno"></span><span class="comment" id="2486232">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading</span><br>
<span class="lineno">15</span><span class="comment" id="2486292">//&nbsp;from&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2486310">type</span>&nbsp;<span class="ident" id="2486315">Reader</span>&nbsp;<span class="keyword" id="2486322">struct</span>&nbsp;<span class="op" id="2486329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486332">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2486341">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486349">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2486358">int64</span>&nbsp;<span class="comment" id="2486364">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486390">prevRune</span>&nbsp;<span class="builtintype" id="2486399">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2486405">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno">20</span><span class="op" id="2486439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2486442">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2486506">//&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2486517">func</span>&nbsp;<span class="op" id="2486522">(</span><span class="ident" id="2486523">r</span>&nbsp;<span class="op" id="2486525">*</span><span class="ident" id="2486526"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2486532">)</span>&nbsp;<span class="ident" id="2486534">Len</span><span class="op" id="2486537">(</span><span class="op" id="2486538">)</span>&nbsp;<span class="builtintype" id="2486540">int</span>&nbsp;<span class="op" id="2486544">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486547">if</span>&nbsp;<span class="ident" id="2486550"><a href="/strings/reader.go.html#2486523">r</a></span><span class="op" id="2486551">.</span><span class="ident" id="2486552">i</span>&nbsp;<span class="op" id="2486554">&gt;=</span>&nbsp;<span class="ident" id="2486557">int64</span><span class="op" id="2486562">(</span><span class="builtinfunc" id="2486563">len</span><span class="op" id="2486566">(</span><span class="ident" id="2486567"><a href="/strings/reader.go.html#2486523">r</a></span><span class="op" id="2486568">.</span><span class="ident" id="2486569">s</span><span class="op" id="2486570">)</span><span class="op" id="2486571">)</span>&nbsp;<span class="op" id="2486573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486577">return</span>&nbsp;<span class="num" id="2486584">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486590">return</span>&nbsp;<span class="builtintype" id="2486597">int</span><span class="op" id="2486600">(</span><span class="ident" id="2486601">int64</span><span class="op" id="2486606">(</span><span class="builtinfunc" id="2486607">len</span><span class="op" id="2486610">(</span><span class="ident" id="2486611"><a href="/strings/reader.go.html#2486523">r</a></span><span class="op" id="2486612">.</span><span class="ident" id="2486613">s</span><span class="op" id="2486614">)</span><span class="op" id="2486615">)</span>&nbsp;<span class="op" id="2486617">-</span>&nbsp;<span class="ident" id="2486619"><a href="/strings/reader.go.html#2486523">r</a></span><span class="op" id="2486620">.</span><span class="ident" id="2486621">i</span><span class="op" id="2486622">)</span><br>
<span class="lineno"></span><span class="op" id="2486624">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="2486627">func</span>&nbsp;<span class="op" id="2486632">(</span><span class="ident" id="2486633">r</span>&nbsp;<span class="op" id="2486635">*</span><span class="ident" id="2486636"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2486642">)</span>&nbsp;<span class="ident" id="2486644">Read</span><span class="op" id="2486648">(</span><span class="ident" id="2486649">b</span>&nbsp;<span class="op" id="2486651">[</span><span class="op" id="2486652">]</span><span class="builtintype" id="2486653">byte</span><span class="op" id="2486657">)</span>&nbsp;<span class="op" id="2486659">(</span><span class="ident" id="2486660">n</span>&nbsp;<span class="builtintype" id="2486662">int</span><span class="op" id="2486665">,</span>&nbsp;<span class="ident" id="2486667">err</span>&nbsp;<span class="builtintype" id="2486671">error</span><span class="op" id="2486676">)</span>&nbsp;<span class="op" id="2486678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486681">if</span>&nbsp;<span class="builtinfunc" id="2486684">len</span><span class="op" id="2486687">(</span><span class="ident" id="2486688"><a href="/strings/reader.go.html#2486649">b</a></span><span class="op" id="2486689">)</span>&nbsp;<span class="op" id="2486691">==</span>&nbsp;<span class="num" id="2486694">0</span>&nbsp;<span class="op" id="2486696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486700">return</span>&nbsp;<span class="num" id="2486707">0</span><span class="op" id="2486708">,</span>&nbsp;<span class="ident" id="2486710">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486715">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486718">if</span>&nbsp;<span class="ident" id="2486721"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486722">.</span><span class="ident" id="2486723">i</span>&nbsp;<span class="op" id="2486725">&gt;=</span>&nbsp;<span class="ident" id="2486728">int64</span><span class="op" id="2486733">(</span><span class="builtinfunc" id="2486734">len</span><span class="op" id="2486737">(</span><span class="ident" id="2486738"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486739">.</span><span class="ident" id="2486740">s</span><span class="op" id="2486741">)</span><span class="op" id="2486742">)</span>&nbsp;<span class="op" id="2486744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486748">return</span>&nbsp;<span class="num" id="2486755">0</span><span class="op" id="2486756">,</span>&nbsp;<span class="ident" id="2486758"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2486760">.</span><span class="ident" id="2486761">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486769"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486770">.</span><span class="ident" id="2486771">prevRune</span>&nbsp;<span class="op" id="2486780">=</span>&nbsp;<span class="op" id="2486782">-</span><span class="num" id="2486783">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486786"><a href="/strings/reader.go.html#2486660">n</a></span>&nbsp;<span class="op" id="2486788">=</span>&nbsp;<span class="builtinfunc" id="2486790">copy</span><span class="op" id="2486794">(</span><span class="ident" id="2486795"><a href="/strings/reader.go.html#2486649">b</a></span><span class="op" id="2486796">,</span>&nbsp;<span class="ident" id="2486798"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486799">.</span><span class="ident" id="2486800">s</span><span class="op" id="2486801">[</span><span class="ident" id="2486802"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486803">.</span><span class="ident" id="2486804">i</span><span class="op" id="2486805">:</span><span class="op" id="2486806">]</span><span class="op" id="2486807">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486810"><a href="/strings/reader.go.html#2486633">r</a></span><span class="op" id="2486811">.</span><span class="ident" id="2486812">i</span>&nbsp;<span class="op" id="2486814">+=</span>&nbsp;<span class="ident" id="2486817">int64</span><span class="op" id="2486822">(</span><span class="ident" id="2486823"><a href="/strings/reader.go.html#2486660">n</a></span><span class="op" id="2486824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486827">return</span><br>
<span class="lineno"></span><span class="op" id="2486834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2486837">func</span>&nbsp;<span class="op" id="2486842">(</span><span class="ident" id="2486843">r</span>&nbsp;<span class="op" id="2486845">*</span><span class="ident" id="2486846"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2486852">)</span>&nbsp;<span class="ident" id="2486854">ReadAt</span><span class="op" id="2486860">(</span><span class="ident" id="2486861">b</span>&nbsp;<span class="op" id="2486863">[</span><span class="op" id="2486864">]</span><span class="builtintype" id="2486865">byte</span><span class="op" id="2486869">,</span>&nbsp;<span class="ident" id="2486871">off</span>&nbsp;<span class="ident" id="2486875">int64</span><span class="op" id="2486880">)</span>&nbsp;<span class="op" id="2486882">(</span><span class="ident" id="2486883">n</span>&nbsp;<span class="builtintype" id="2486885">int</span><span class="op" id="2486888">,</span>&nbsp;<span class="ident" id="2486890">err</span>&nbsp;<span class="builtintype" id="2486894">error</span><span class="op" id="2486899">)</span>&nbsp;<span class="op" id="2486901">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486904">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486946">if</span>&nbsp;<span class="ident" id="2486949"><a href="/strings/reader.go.html#2486871">off</a></span>&nbsp;<span class="op" id="2486953">&lt;</span>&nbsp;<span class="num" id="2486955">0</span>&nbsp;<span class="op" id="2486957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486961">return</span>&nbsp;<span class="num" id="2486968">0</span><span class="op" id="2486969">,</span>&nbsp;<span class="ident" id="2486971"><a href="/strings/reader.go.html#2486123">errors</a></span><span class="op" id="2486977">.</span><span class="ident" id="2486978">New</span><span class="op" id="2486981">(</span><span class="string" id="2486982">&#34;strings.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="2487022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487028">if</span>&nbsp;<span class="ident" id="2487031"><a href="/strings/reader.go.html#2486871">off</a></span>&nbsp;<span class="op" id="2487035">&gt;=</span>&nbsp;<span class="ident" id="2487038">int64</span><span class="op" id="2487043">(</span><span class="builtinfunc" id="2487044">len</span><span class="op" id="2487047">(</span><span class="ident" id="2487048"><a href="/strings/reader.go.html#2486843">r</a></span><span class="op" id="2487049">.</span><span class="ident" id="2487050">s</span><span class="op" id="2487051">)</span><span class="op" id="2487052">)</span>&nbsp;<span class="op" id="2487054">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487058">return</span>&nbsp;<span class="num" id="2487065">0</span><span class="op" id="2487066">,</span>&nbsp;<span class="ident" id="2487068"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2487070">.</span><span class="ident" id="2487071">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487079"><a href="/strings/reader.go.html#2486883">n</a></span>&nbsp;<span class="op" id="2487081">=</span>&nbsp;<span class="builtinfunc" id="2487083">copy</span><span class="op" id="2487087">(</span><span class="ident" id="2487088"><a href="/strings/reader.go.html#2486861">b</a></span><span class="op" id="2487089">,</span>&nbsp;<span class="ident" id="2487091"><a href="/strings/reader.go.html#2486843">r</a></span><span class="op" id="2487092">.</span><span class="ident" id="2487093">s</span><span class="op" id="2487094">[</span><span class="ident" id="2487095"><a href="/strings/reader.go.html#2486871">off</a></span><span class="op" id="2487098">:</span><span class="op" id="2487099">]</span><span class="op" id="2487100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487103">if</span>&nbsp;<span class="ident" id="2487106"><a href="/strings/reader.go.html#2486883">n</a></span>&nbsp;<span class="op" id="2487108">&lt;</span>&nbsp;<span class="builtinfunc" id="2487110">len</span><span class="op" id="2487113">(</span><span class="ident" id="2487114"><a href="/strings/reader.go.html#2486861">b</a></span><span class="op" id="2487115">)</span>&nbsp;<span class="op" id="2487117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487121"><a href="/strings/reader.go.html#2486890">err</a></span>&nbsp;<span class="op" id="2487125">=</span>&nbsp;<span class="ident" id="2487127"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2487129">.</span><span class="ident" id="2487130">EOF</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487138">return</span><br>
<span class="lineno"></span><span class="op" id="2487145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2487148">func</span>&nbsp;<span class="op" id="2487153">(</span><span class="ident" id="2487154">r</span>&nbsp;<span class="op" id="2487156">*</span><span class="ident" id="2487157"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2487163">)</span>&nbsp;<span class="ident" id="2487165">ReadByte</span><span class="op" id="2487173">(</span><span class="op" id="2487174">)</span>&nbsp;<span class="op" id="2487176">(</span><span class="ident" id="2487177">b</span>&nbsp;<span class="builtintype" id="2487179">byte</span><span class="op" id="2487183">,</span>&nbsp;<span class="ident" id="2487185">err</span>&nbsp;<span class="builtintype" id="2487189">error</span><span class="op" id="2487194">)</span>&nbsp;<span class="op" id="2487196">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487199"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487200">.</span><span class="ident" id="2487201">prevRune</span>&nbsp;<span class="op" id="2487210">=</span>&nbsp;<span class="op" id="2487212">-</span><span class="num" id="2487213">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487216">if</span>&nbsp;<span class="ident" id="2487219"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487220">.</span><span class="ident" id="2487221">i</span>&nbsp;<span class="op" id="2487223">&gt;=</span>&nbsp;<span class="ident" id="2487226">int64</span><span class="op" id="2487231">(</span><span class="builtinfunc" id="2487232">len</span><span class="op" id="2487235">(</span><span class="ident" id="2487236"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487237">.</span><span class="ident" id="2487238">s</span><span class="op" id="2487239">)</span><span class="op" id="2487240">)</span>&nbsp;<span class="op" id="2487242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487246">return</span>&nbsp;<span class="num" id="2487253">0</span><span class="op" id="2487254">,</span>&nbsp;<span class="ident" id="2487256"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2487258">.</span><span class="ident" id="2487259">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487267"><a href="/strings/reader.go.html#2487177">b</a></span>&nbsp;<span class="op" id="2487269">=</span>&nbsp;<span class="ident" id="2487271"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487272">.</span><span class="ident" id="2487273">s</span><span class="op" id="2487274">[</span><span class="ident" id="2487275"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487276">.</span><span class="ident" id="2487277">i</span><span class="op" id="2487278">]</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487281"><a href="/strings/reader.go.html#2487154">r</a></span><span class="op" id="2487282">.</span><span class="ident" id="2487283">i</span><span class="op" id="2487284">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487288">return</span><br>
<span class="lineno"></span><span class="op" id="2487295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2487298">func</span>&nbsp;<span class="op" id="2487303">(</span><span class="ident" id="2487304">r</span>&nbsp;<span class="op" id="2487306">*</span><span class="ident" id="2487307"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2487313">)</span>&nbsp;<span class="ident" id="2487315">UnreadByte</span><span class="op" id="2487325">(</span><span class="op" id="2487326">)</span>&nbsp;<span class="builtintype" id="2487328">error</span>&nbsp;<span class="op" id="2487334">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487337"><a href="/strings/reader.go.html#2487304">r</a></span><span class="op" id="2487338">.</span><span class="ident" id="2487339">prevRune</span>&nbsp;<span class="op" id="2487348">=</span>&nbsp;<span class="op" id="2487350">-</span><span class="num" id="2487351">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487354">if</span>&nbsp;<span class="ident" id="2487357"><a href="/strings/reader.go.html#2487304">r</a></span><span class="op" id="2487358">.</span><span class="ident" id="2487359">i</span>&nbsp;<span class="op" id="2487361">&lt;=</span>&nbsp;<span class="num" id="2487364">0</span>&nbsp;<span class="op" id="2487366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487370">return</span>&nbsp;<span class="ident" id="2487377"><a href="/strings/reader.go.html#2486123">errors</a></span><span class="op" id="2487383">.</span><span class="ident" id="2487384">New</span><span class="op" id="2487387">(</span><span class="string" id="2487388">&#34;strings.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;string&#34;</span><span class="op" id="2487439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487445"><a href="/strings/reader.go.html#2487304">r</a></span><span class="op" id="2487446">.</span><span class="ident" id="2487447">i</span><span class="op" id="2487448">--</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487452">return</span>&nbsp;<span class="ident" id="2487459">nil</span><br>
<span class="lineno"></span><span class="op" id="2487463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2487466">func</span>&nbsp;<span class="op" id="2487471">(</span><span class="ident" id="2487472">r</span>&nbsp;<span class="op" id="2487474">*</span><span class="ident" id="2487475"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2487481">)</span>&nbsp;<span class="ident" id="2487483">ReadRune</span><span class="op" id="2487491">(</span><span class="op" id="2487492">)</span>&nbsp;<span class="op" id="2487494">(</span><span class="ident" id="2487495">ch</span>&nbsp;<span class="builtintype" id="2487498">rune</span><span class="op" id="2487502">,</span>&nbsp;<span class="ident" id="2487504">size</span>&nbsp;<span class="builtintype" id="2487509">int</span><span class="op" id="2487512">,</span>&nbsp;<span class="ident" id="2487514">err</span>&nbsp;<span class="builtintype" id="2487518">error</span><span class="op" id="2487523">)</span>&nbsp;<span class="op" id="2487525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487528">if</span>&nbsp;<span class="ident" id="2487531"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487532">.</span><span class="ident" id="2487533">i</span>&nbsp;<span class="op" id="2487535">&gt;=</span>&nbsp;<span class="ident" id="2487538">int64</span><span class="op" id="2487543">(</span><span class="builtinfunc" id="2487544">len</span><span class="op" id="2487547">(</span><span class="ident" id="2487548"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487549">.</span><span class="ident" id="2487550">s</span><span class="op" id="2487551">)</span><span class="op" id="2487552">)</span>&nbsp;<span class="op" id="2487554">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487558"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487559">.</span><span class="ident" id="2487560">prevRune</span>&nbsp;<span class="op" id="2487569">=</span>&nbsp;<span class="op" id="2487571">-</span><span class="num" id="2487572">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487576">return</span>&nbsp;<span class="num" id="2487583">0</span><span class="op" id="2487584">,</span>&nbsp;<span class="num" id="2487586">0</span><span class="op" id="2487587">,</span>&nbsp;<span class="ident" id="2487589"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2487591">.</span><span class="ident" id="2487592">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487600"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487601">.</span><span class="ident" id="2487602">prevRune</span>&nbsp;<span class="op" id="2487611">=</span>&nbsp;<span class="builtintype" id="2487613">int</span><span class="op" id="2487616">(</span><span class="ident" id="2487617"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487618">.</span><span class="ident" id="2487619">i</span><span class="op" id="2487620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487623">if</span>&nbsp;<span class="ident" id="2487626">c</span>&nbsp;<span class="op" id="2487628">:=</span>&nbsp;<span class="ident" id="2487631"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487632">.</span><span class="ident" id="2487633">s</span><span class="op" id="2487634">[</span><span class="ident" id="2487635"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487636">.</span><span class="ident" id="2487637">i</span><span class="op" id="2487638">]</span><span class="op" id="2487639">;</span>&nbsp;<span class="ident" id="2487641"><a href="/strings/reader.go.html#2487626">c</a></span>&nbsp;<span class="op" id="2487643">&lt;</span>&nbsp;<span class="ident" id="2487645"><a href="/strings/reader.go.html#2486139">utf8</a></span><span class="op" id="2487649">.</span><span class="ident" id="2487650">RuneSelf</span>&nbsp;<span class="op" id="2487659">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487663"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487664">.</span><span class="ident" id="2487665">i</span><span class="op" id="2487666">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487671">return</span>&nbsp;<span class="builtintype" id="2487678">rune</span><span class="op" id="2487682">(</span><span class="ident" id="2487683"><a href="/strings/reader.go.html#2487626">c</a></span><span class="op" id="2487684">)</span><span class="op" id="2487685">,</span>&nbsp;<span class="num" id="2487687">1</span><span class="op" id="2487688">,</span>&nbsp;<span class="ident" id="2487690">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487698"><a href="/strings/reader.go.html#2487495">ch</a></span><span class="op" id="2487700">,</span>&nbsp;<span class="ident" id="2487702"><a href="/strings/reader.go.html#2487504">size</a></span>&nbsp;<span class="op" id="2487707">=</span>&nbsp;<span class="ident" id="2487709"><a href="/strings/reader.go.html#2486139">utf8</a></span><span class="op" id="2487713">.</span><span class="ident" id="2487714">DecodeRuneInString</span><span class="op" id="2487732">(</span><span class="ident" id="2487733"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487734">.</span><span class="ident" id="2487735">s</span><span class="op" id="2487736">[</span><span class="ident" id="2487737"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487738">.</span><span class="ident" id="2487739">i</span><span class="op" id="2487740">:</span><span class="op" id="2487741">]</span><span class="op" id="2487742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487745"><a href="/strings/reader.go.html#2487472">r</a></span><span class="op" id="2487746">.</span><span class="ident" id="2487747">i</span>&nbsp;<span class="op" id="2487749">+=</span>&nbsp;<span class="ident" id="2487752">int64</span><span class="op" id="2487757">(</span><span class="ident" id="2487758"><a href="/strings/reader.go.html#2487504">size</a></span><span class="op" id="2487762">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487765">return</span><br>
<span class="lineno"></span><span class="op" id="2487772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2487775">func</span>&nbsp;<span class="op" id="2487780">(</span><span class="ident" id="2487781">r</span>&nbsp;<span class="op" id="2487783">*</span><span class="ident" id="2487784"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2487790">)</span>&nbsp;<span class="ident" id="2487792">UnreadRune</span><span class="op" id="2487802">(</span><span class="op" id="2487803">)</span>&nbsp;<span class="builtintype" id="2487805">error</span>&nbsp;<span class="op" id="2487811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487814">if</span>&nbsp;<span class="ident" id="2487817"><a href="/strings/reader.go.html#2487781">r</a></span><span class="op" id="2487818">.</span><span class="ident" id="2487819">prevRune</span>&nbsp;<span class="op" id="2487828">&lt;</span>&nbsp;<span class="num" id="2487830">0</span>&nbsp;<span class="op" id="2487832">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487836">return</span>&nbsp;<span class="ident" id="2487843"><a href="/strings/reader.go.html#2486123">errors</a></span><span class="op" id="2487849">.</span><span class="ident" id="2487850">New</span><span class="op" id="2487853">(</span><span class="string" id="2487854">&#34;strings.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="2487918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487924"><a href="/strings/reader.go.html#2487781">r</a></span><span class="op" id="2487925">.</span><span class="ident" id="2487926">i</span>&nbsp;<span class="op" id="2487928">=</span>&nbsp;<span class="ident" id="2487930">int64</span><span class="op" id="2487935">(</span><span class="ident" id="2487936"><a href="/strings/reader.go.html#2487781">r</a></span><span class="op" id="2487937">.</span><span class="ident" id="2487938">prevRune</span><span class="op" id="2487946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487949"><a href="/strings/reader.go.html#2487781">r</a></span><span class="op" id="2487950">.</span><span class="ident" id="2487951">prevRune</span>&nbsp;<span class="op" id="2487960">=</span>&nbsp;<span class="op" id="2487962">-</span><span class="num" id="2487963">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487966">return</span>&nbsp;<span class="ident" id="2487973">nil</span><br>
<span class="lineno">100</span><span class="op" id="2487977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2487980">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2488024">func</span>&nbsp;<span class="op" id="2488029">(</span><span class="ident" id="2488030">r</span>&nbsp;<span class="op" id="2488032">*</span><span class="ident" id="2488033"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2488039">)</span>&nbsp;<span class="ident" id="2488041">Seek</span><span class="op" id="2488045">(</span><span class="ident" id="2488046">offset</span>&nbsp;<span class="ident" id="2488053">int64</span><span class="op" id="2488058">,</span>&nbsp;<span class="ident" id="2488060">whence</span>&nbsp;<span class="builtintype" id="2488067">int</span><span class="op" id="2488070">)</span>&nbsp;<span class="op" id="2488072">(</span><span class="ident" id="2488073">int64</span><span class="op" id="2488078">,</span>&nbsp;<span class="builtintype" id="2488080">error</span><span class="op" id="2488085">)</span>&nbsp;<span class="op" id="2488087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488090"><a href="/strings/reader.go.html#2488030">r</a></span><span class="op" id="2488091">.</span><span class="ident" id="2488092">prevRune</span>&nbsp;<span class="op" id="2488101">=</span>&nbsp;<span class="op" id="2488103">-</span><span class="num" id="2488104">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488107">var</span>&nbsp;<span class="ident" id="2488111">abs</span>&nbsp;<span class="ident" id="2488115">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488122">switch</span>&nbsp;<span class="ident" id="2488129"><a href="/strings/reader.go.html#2488060">whence</a></span>&nbsp;<span class="op" id="2488136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488139">case</span>&nbsp;<span class="num" id="2488144">0</span><span class="op" id="2488145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488149"><a href="/strings/reader.go.html#2488111">abs</a></span>&nbsp;<span class="op" id="2488153">=</span>&nbsp;<span class="ident" id="2488155"><a href="/strings/reader.go.html#2488046">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488163">case</span>&nbsp;<span class="num" id="2488168">1</span><span class="op" id="2488169">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488173"><a href="/strings/reader.go.html#2488111">abs</a></span>&nbsp;<span class="op" id="2488177">=</span>&nbsp;<span class="ident" id="2488179">int64</span><span class="op" id="2488184">(</span><span class="ident" id="2488185"><a href="/strings/reader.go.html#2488030">r</a></span><span class="op" id="2488186">.</span><span class="ident" id="2488187">i</span><span class="op" id="2488188">)</span>&nbsp;<span class="op" id="2488190">+</span>&nbsp;<span class="ident" id="2488192"><a href="/strings/reader.go.html#2488046">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488200">case</span>&nbsp;<span class="num" id="2488205">2</span><span class="op" id="2488206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488210"><a href="/strings/reader.go.html#2488111">abs</a></span>&nbsp;<span class="op" id="2488214">=</span>&nbsp;<span class="ident" id="2488216">int64</span><span class="op" id="2488221">(</span><span class="builtinfunc" id="2488222">len</span><span class="op" id="2488225">(</span><span class="ident" id="2488226"><a href="/strings/reader.go.html#2488030">r</a></span><span class="op" id="2488227">.</span><span class="ident" id="2488228">s</span><span class="op" id="2488229">)</span><span class="op" id="2488230">)</span>&nbsp;<span class="op" id="2488232">+</span>&nbsp;<span class="ident" id="2488234"><a href="/strings/reader.go.html#2488046">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488242">default</span><span class="op" id="2488249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488253">return</span>&nbsp;<span class="num" id="2488260">0</span><span class="op" id="2488261">,</span>&nbsp;<span class="ident" id="2488263"><a href="/strings/reader.go.html#2486123">errors</a></span><span class="op" id="2488269">.</span><span class="ident" id="2488270">New</span><span class="op" id="2488273">(</span><span class="string" id="2488274">&#34;strings.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="2488311">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488317">if</span>&nbsp;<span class="ident" id="2488320"><a href="/strings/reader.go.html#2488111">abs</a></span>&nbsp;<span class="op" id="2488324">&lt;</span>&nbsp;<span class="num" id="2488326">0</span>&nbsp;<span class="op" id="2488328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488332">return</span>&nbsp;<span class="num" id="2488339">0</span><span class="op" id="2488340">,</span>&nbsp;<span class="ident" id="2488342"><a href="/strings/reader.go.html#2486123">errors</a></span><span class="op" id="2488348">.</span><span class="ident" id="2488349">New</span><span class="op" id="2488352">(</span><span class="string" id="2488353">&#34;strings.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="2488393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488399"><a href="/strings/reader.go.html#2488030">r</a></span><span class="op" id="2488400">.</span><span class="ident" id="2488401">i</span>&nbsp;<span class="op" id="2488403">=</span>&nbsp;<span class="ident" id="2488405"><a href="/strings/reader.go.html#2488111">abs</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488410">return</span>&nbsp;<span class="ident" id="2488417"><a href="/strings/reader.go.html#2488111">abs</a></span><span class="op" id="2488420">,</span>&nbsp;<span class="ident" id="2488422">nil</span><br>
<span class="lineno"></span><span class="op" id="2488426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488429">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2488478">func</span>&nbsp;<span class="op" id="2488483">(</span><span class="ident" id="2488484">r</span>&nbsp;<span class="op" id="2488486">*</span><span class="ident" id="2488487"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2488493">)</span>&nbsp;<span class="ident" id="2488495">WriteTo</span><span class="op" id="2488502">(</span><span class="ident" id="2488503">w</span>&nbsp;<span class="ident" id="2488505"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2488507">.</span><span class="ident" id="2488508">Writer</span><span class="op" id="2488514">)</span>&nbsp;<span class="op" id="2488516">(</span><span class="ident" id="2488517">n</span>&nbsp;<span class="ident" id="2488519">int64</span><span class="op" id="2488524">,</span>&nbsp;<span class="ident" id="2488526">err</span>&nbsp;<span class="builtintype" id="2488530">error</span><span class="op" id="2488535">)</span>&nbsp;<span class="op" id="2488537">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488540"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488541">.</span><span class="ident" id="2488542">prevRune</span>&nbsp;<span class="op" id="2488551">=</span>&nbsp;<span class="op" id="2488553">-</span><span class="num" id="2488554">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488557">if</span>&nbsp;<span class="ident" id="2488560"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488561">.</span><span class="ident" id="2488562">i</span>&nbsp;<span class="op" id="2488564">&gt;=</span>&nbsp;<span class="ident" id="2488567">int64</span><span class="op" id="2488572">(</span><span class="builtinfunc" id="2488573">len</span><span class="op" id="2488576">(</span><span class="ident" id="2488577"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488578">.</span><span class="ident" id="2488579">s</span><span class="op" id="2488580">)</span><span class="op" id="2488581">)</span>&nbsp;<span class="op" id="2488583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488587">return</span>&nbsp;<span class="num" id="2488594">0</span><span class="op" id="2488595">,</span>&nbsp;<span class="ident" id="2488597">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488605">s</span>&nbsp;<span class="op" id="2488607">:=</span>&nbsp;<span class="ident" id="2488610"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488611">.</span><span class="ident" id="2488612">s</span><span class="op" id="2488613">[</span><span class="ident" id="2488614"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488615">.</span><span class="ident" id="2488616">i</span><span class="op" id="2488617">:</span><span class="op" id="2488618">]</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488621">m</span><span class="op" id="2488622">,</span>&nbsp;<span class="ident" id="2488624"><a href="/strings/reader.go.html#2488526">err</a></span>&nbsp;<span class="op" id="2488628">:=</span>&nbsp;<span class="ident" id="2488631"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2488633">.</span><span class="ident" id="2488634">WriteString</span><span class="op" id="2488645">(</span><span class="ident" id="2488646"><a href="/strings/reader.go.html#2488503">w</a></span><span class="op" id="2488647">,</span>&nbsp;<span class="ident" id="2488649"><a href="/strings/reader.go.html#2488605">s</a></span><span class="op" id="2488650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488653">if</span>&nbsp;<span class="ident" id="2488656"><a href="/strings/reader.go.html#2488621">m</a></span>&nbsp;<span class="op" id="2488658">&gt;</span>&nbsp;<span class="builtinfunc" id="2488660">len</span><span class="op" id="2488663">(</span><span class="ident" id="2488664"><a href="/strings/reader.go.html#2488605">s</a></span><span class="op" id="2488665">)</span>&nbsp;<span class="op" id="2488667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2488671">panic</span><span class="op" id="2488676">(</span><span class="string" id="2488677">&#34;strings.Reader.WriteTo:&nbsp;invalid&nbsp;WriteString&nbsp;count&#34;</span><span class="op" id="2488728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488734"><a href="/strings/reader.go.html#2488484">r</a></span><span class="op" id="2488735">.</span><span class="ident" id="2488736">i</span>&nbsp;<span class="op" id="2488738">+=</span>&nbsp;<span class="ident" id="2488741">int64</span><span class="op" id="2488746">(</span><span class="ident" id="2488747"><a href="/strings/reader.go.html#2488621">m</a></span><span class="op" id="2488748">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488751"><a href="/strings/reader.go.html#2488517">n</a></span>&nbsp;<span class="op" id="2488753">=</span>&nbsp;<span class="ident" id="2488755">int64</span><span class="op" id="2488760">(</span><span class="ident" id="2488761"><a href="/strings/reader.go.html#2488621">m</a></span><span class="op" id="2488762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488765">if</span>&nbsp;<span class="ident" id="2488768"><a href="/strings/reader.go.html#2488621">m</a></span>&nbsp;<span class="op" id="2488770">!=</span>&nbsp;<span class="builtinfunc" id="2488773">len</span><span class="op" id="2488776">(</span><span class="ident" id="2488777"><a href="/strings/reader.go.html#2488605">s</a></span><span class="op" id="2488778">)</span>&nbsp;<span class="op" id="2488780">&amp;&amp;</span>&nbsp;<span class="ident" id="2488783"><a href="/strings/reader.go.html#2488526">err</a></span>&nbsp;<span class="op" id="2488787">==</span>&nbsp;<span class="ident" id="2488790">nil</span>&nbsp;<span class="op" id="2488794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488798"><a href="/strings/reader.go.html#2488526">err</a></span>&nbsp;<span class="op" id="2488802">=</span>&nbsp;<span class="ident" id="2488804"><a href="/strings/reader.go.html#2486133">io</a></span><span class="op" id="2488806">.</span><span class="ident" id="2488807">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488825">return</span><br>
<span class="lineno">140</span><span class="op" id="2488832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488835">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="2488885">//&nbsp;It&nbsp;is&nbsp;similar&nbsp;to&nbsp;bytes.NewBufferString&nbsp;but&nbsp;more&nbsp;efficient&nbsp;and&nbsp;read-only.</span><br>
<span class="lineno"></span><span class="keyword" id="2488961">func</span>&nbsp;<span class="ident" id="2488966">NewReader</span><span class="op" id="2488975">(</span><span class="ident" id="2488976">s</span>&nbsp;<span class="builtintype" id="2488978">string</span><span class="op" id="2488984">)</span>&nbsp;<span class="op" id="2488986">*</span><span class="ident" id="2488987"><a href="/strings/reader.go.html#2486315">Reader</a></span>&nbsp;<span class="op" id="2488994">{</span>&nbsp;<span class="keyword" id="2488996">return</span>&nbsp;<span class="op" id="2489003">&amp;</span><span class="ident" id="2489004"><a href="/strings/reader.go.html#2486315">Reader</a></span><span class="op" id="2489010">{</span><span class="ident" id="2489011"><a href="/strings/reader.go.html#2488976">s</a></span><span class="op" id="2489012">,</span>&nbsp;<span class="num" id="2489014">0</span><span class="op" id="2489015">,</span>&nbsp;<span class="op" id="2489017">-</span><span class="num" id="2489018">1</span><span class="op" id="2489019">}</span>&nbsp;<span class="op" id="2489021">}</span>
</div>
</body>
</html>
