<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6997819">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6997875">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6997929">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6997980">package</span>&nbsp;<span class="ident" id="6997988">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6997998">import</span>&nbsp;<span class="op" id="6998005">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6998008">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6998019">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6998029">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6998032">type</span>&nbsp;<span class="ident" id="6998037">fileTest</span>&nbsp;<span class="keyword" id="6998046">struct</span>&nbsp;<span class="op" id="6998053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998056">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6998065">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998073">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6998082">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998094">sections</span>&nbsp;<span class="op" id="6998103">[</span><span class="op" id="6998104">]</span><span class="op" id="6998105">*</span><span class="ident" id="6998106">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="6998120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6998123">var</span>&nbsp;<span class="ident" id="6998127">fileTests</span>&nbsp;<span class="op" id="6998137">=</span>&nbsp;<span class="op" id="6998139">[</span><span class="op" id="6998140">]</span><span class="ident" id="6998141">fileTest</span><span class="op" id="6998149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998152">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6998156">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="6998181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998185">FileHeader</span><span class="op" id="6998195">{</span><span class="ident" id="6998196">Magic386</span><span class="op" id="6998204">,</span>&nbsp;<span class="num" id="6998206">0x324</span><span class="op" id="6998211">,</span>&nbsp;<span class="num" id="6998213">0x14</span><span class="op" id="6998217">,</span>&nbsp;<span class="num" id="6998219">4</span><span class="op" id="6998220">,</span>&nbsp;<span class="num" id="6998222">0x1000</span><span class="op" id="6998228">,</span>&nbsp;<span class="num" id="6998230">32</span><span class="op" id="6998232">}</span><span class="op" id="6998233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998237">[</span><span class="op" id="6998238">]</span><span class="op" id="6998239">*</span><span class="ident" id="6998240">SectionHeader</span><span class="op" id="6998253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998258">{</span><span class="string" id="6998259">&#34;text&#34;</span><span class="op" id="6998265">,</span>&nbsp;<span class="num" id="6998267">0x4c5f</span><span class="op" id="6998273">,</span>&nbsp;<span class="num" id="6998275">0x20</span><span class="op" id="6998279">}</span><span class="op" id="6998280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998285">{</span><span class="string" id="6998286">&#34;data&#34;</span><span class="op" id="6998292">,</span>&nbsp;<span class="num" id="6998294">0x94c</span><span class="op" id="6998299">,</span>&nbsp;<span class="num" id="6998301">0x4c7f</span><span class="op" id="6998307">}</span><span class="op" id="6998308">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998313">{</span><span class="string" id="6998314">&#34;syms&#34;</span><span class="op" id="6998320">,</span>&nbsp;<span class="num" id="6998322">0x2c2b</span><span class="op" id="6998328">,</span>&nbsp;<span class="num" id="6998330">0x55cb</span><span class="op" id="6998336">}</span><span class="op" id="6998337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998342">{</span><span class="string" id="6998343">&#34;spsz&#34;</span><span class="op" id="6998349">,</span>&nbsp;<span class="num" id="6998351">0x0</span><span class="op" id="6998354">,</span>&nbsp;<span class="num" id="6998356">0x81f6</span><span class="op" id="6998362">}</span><span class="op" id="6998363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998368">{</span><span class="string" id="6998369">&#34;pcsz&#34;</span><span class="op" id="6998375">,</span>&nbsp;<span class="num" id="6998377">0xf7a</span><span class="op" id="6998382">,</span>&nbsp;<span class="num" id="6998384">0x81f6</span><span class="op" id="6998390">}</span><span class="op" id="6998391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998395">}</span><span class="op" id="6998396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998399">}</span><span class="op" id="6998400">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6998407">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="6998434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998438">FileHeader</span><span class="op" id="6998448">{</span><span class="ident" id="6998449">MagicAMD64</span><span class="op" id="6998459">,</span>&nbsp;<span class="num" id="6998461">0x618</span><span class="op" id="6998466">,</span>&nbsp;<span class="num" id="6998468">0x13</span><span class="op" id="6998472">,</span>&nbsp;<span class="num" id="6998474">8</span><span class="op" id="6998475">,</span>&nbsp;<span class="num" id="6998477">0x200000</span><span class="op" id="6998485">,</span>&nbsp;<span class="num" id="6998487">40</span><span class="op" id="6998489">}</span><span class="op" id="6998490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998494">[</span><span class="op" id="6998495">]</span><span class="op" id="6998496">*</span><span class="ident" id="6998497">SectionHeader</span><span class="op" id="6998510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998515">{</span><span class="string" id="6998516">&#34;text&#34;</span><span class="op" id="6998522">,</span>&nbsp;<span class="num" id="6998524">0x4213</span><span class="op" id="6998530">,</span>&nbsp;<span class="num" id="6998532">0x28</span><span class="op" id="6998536">}</span><span class="op" id="6998537">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998542">{</span><span class="string" id="6998543">&#34;data&#34;</span><span class="op" id="6998549">,</span>&nbsp;<span class="num" id="6998551">0xa80</span><span class="op" id="6998556">,</span>&nbsp;<span class="num" id="6998558">0x423b</span><span class="op" id="6998564">}</span><span class="op" id="6998565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998570">{</span><span class="string" id="6998571">&#34;syms&#34;</span><span class="op" id="6998577">,</span>&nbsp;<span class="num" id="6998579">0x2c8c</span><span class="op" id="6998585">,</span>&nbsp;<span class="num" id="6998587">0x4cbb</span><span class="op" id="6998593">}</span><span class="op" id="6998594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998599">{</span><span class="string" id="6998600">&#34;spsz&#34;</span><span class="op" id="6998606">,</span>&nbsp;<span class="num" id="6998608">0x0</span><span class="op" id="6998611">,</span>&nbsp;<span class="num" id="6998613">0x7947</span><span class="op" id="6998619">}</span><span class="op" id="6998620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998625">{</span><span class="string" id="6998626">&#34;pcsz&#34;</span><span class="op" id="6998632">,</span>&nbsp;<span class="num" id="6998634">0xca0</span><span class="op" id="6998639">,</span>&nbsp;<span class="num" id="6998641">0x7947</span><span class="op" id="6998647">}</span><span class="op" id="6998648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998652">}</span><span class="op" id="6998653">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998656">}</span><span class="op" id="6998657">,</span><br>
<span class="lineno"></span><span class="op" id="6998659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6998662">func</span>&nbsp;<span class="ident" id="6998667">TestOpen</span><span class="op" id="6998675">(</span><span class="ident" id="6998676">t</span>&nbsp;<span class="op" id="6998678">*</span><span class="ident" id="6998679">testing</span><span class="op" id="6998686">.</span><span class="ident" id="6998687">T</span><span class="op" id="6998688">)</span>&nbsp;<span class="op" id="6998690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998693">for</span>&nbsp;<span class="ident" id="6998697">i</span>&nbsp;<span class="op" id="6998699">:=</span>&nbsp;<span class="keyword" id="6998702">range</span>&nbsp;<span class="ident" id="6998708">fileTests</span>&nbsp;<span class="op" id="6998718">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998722">tt</span>&nbsp;<span class="op" id="6998725">:=</span>&nbsp;<span class="op" id="6998728">&amp;</span><span class="ident" id="6998729">fileTests</span><span class="op" id="6998738">[</span><span class="ident" id="6998739">i</span><span class="op" id="6998740">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998745">f</span><span class="op" id="6998746">,</span>&nbsp;<span class="ident" id="6998748">err</span>&nbsp;<span class="op" id="6998752">:=</span>&nbsp;<span class="ident" id="6998755">Open</span><span class="op" id="6998759">(</span><span class="ident" id="6998760">tt</span><span class="op" id="6998762">.</span><span class="ident" id="6998763">file</span><span class="op" id="6998767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998771">if</span>&nbsp;<span class="ident" id="6998774">err</span>&nbsp;<span class="op" id="6998778">!=</span>&nbsp;<span class="ident" id="6998781">nil</span>&nbsp;<span class="op" id="6998785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998790">t</span><span class="op" id="6998791">.</span><span class="ident" id="6998792">Error</span><span class="op" id="6998797">(</span><span class="ident" id="6998798">err</span><span class="op" id="6998801">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998806">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998821">if</span>&nbsp;<span class="op" id="6998824">!</span><span class="ident" id="6998825">reflect</span><span class="op" id="6998832">.</span><span class="ident" id="6998833">DeepEqual</span><span class="op" id="6998842">(</span><span class="ident" id="6998843">f</span><span class="op" id="6998844">.</span><span class="ident" id="6998845">FileHeader</span><span class="op" id="6998855">,</span>&nbsp;<span class="ident" id="6998857">tt</span><span class="op" id="6998859">.</span><span class="ident" id="6998860">hdr</span><span class="op" id="6998863">)</span>&nbsp;<span class="op" id="6998865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6998870">t</span><span class="op" id="6998871">.</span><span class="ident" id="6998872">Errorf</span><span class="op" id="6998878">(</span><span class="string" id="6998879">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6998915">,</span>&nbsp;<span class="ident" id="6998917">tt</span><span class="op" id="6998919">.</span><span class="ident" id="6998920">file</span><span class="op" id="6998924">,</span>&nbsp;<span class="ident" id="6998926">f</span><span class="op" id="6998927">.</span><span class="ident" id="6998928">FileHeader</span><span class="op" id="6998938">,</span>&nbsp;<span class="ident" id="6998940">tt</span><span class="op" id="6998942">.</span><span class="ident" id="6998943">hdr</span><span class="op" id="6998946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998951">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6998962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6998967">for</span>&nbsp;<span class="ident" id="6998971">i</span><span class="op" id="6998972">,</span>&nbsp;<span class="ident" id="6998974">sh</span>&nbsp;<span class="op" id="6998977">:=</span>&nbsp;<span class="keyword" id="6998980">range</span>&nbsp;<span class="ident" id="6998986">f</span><span class="op" id="6998987">.</span><span class="ident" id="6998988">Sections</span>&nbsp;<span class="op" id="6998997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6999002">if</span>&nbsp;<span class="ident" id="6999005">i</span>&nbsp;<span class="op" id="6999007">&gt;=</span>&nbsp;<span class="builtinfunc" id="6999010">len</span><span class="op" id="6999013">(</span><span class="ident" id="6999014">tt</span><span class="op" id="6999016">.</span><span class="ident" id="6999017">sections</span><span class="op" id="6999025">)</span>&nbsp;<span class="op" id="6999027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6999033">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999047">have</span>&nbsp;<span class="op" id="6999052">:=</span>&nbsp;<span class="op" id="6999055">&amp;</span><span class="ident" id="6999056">sh</span><span class="op" id="6999058">.</span><span class="ident" id="6999059">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999076">want</span>&nbsp;<span class="op" id="6999081">:=</span>&nbsp;<span class="ident" id="6999084">tt</span><span class="op" id="6999086">.</span><span class="ident" id="6999087">sections</span><span class="op" id="6999095">[</span><span class="ident" id="6999096">i</span><span class="op" id="6999097">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6999102">if</span>&nbsp;<span class="op" id="6999105">!</span><span class="ident" id="6999106">reflect</span><span class="op" id="6999113">.</span><span class="ident" id="6999114">DeepEqual</span><span class="op" id="6999123">(</span><span class="ident" id="6999124">have</span><span class="op" id="6999128">,</span>&nbsp;<span class="ident" id="6999130">want</span><span class="op" id="6999134">)</span>&nbsp;<span class="op" id="6999136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999142">t</span><span class="op" id="6999143">.</span><span class="ident" id="6999144">Errorf</span><span class="op" id="6999150">(</span><span class="string" id="6999151">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6999199">,</span>&nbsp;<span class="ident" id="6999201">tt</span><span class="op" id="6999203">.</span><span class="ident" id="6999204">file</span><span class="op" id="6999208">,</span>&nbsp;<span class="ident" id="6999210">i</span><span class="op" id="6999211">,</span>&nbsp;<span class="ident" id="6999213">have</span><span class="op" id="6999217">,</span>&nbsp;<span class="ident" id="6999219">want</span><span class="op" id="6999223">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999236">tn</span>&nbsp;<span class="op" id="6999239">:=</span>&nbsp;<span class="builtinfunc" id="6999242">len</span><span class="op" id="6999245">(</span><span class="ident" id="6999246">tt</span><span class="op" id="6999248">.</span><span class="ident" id="6999249">sections</span><span class="op" id="6999257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999261">fn</span>&nbsp;<span class="op" id="6999264">:=</span>&nbsp;<span class="builtinfunc" id="6999267">len</span><span class="op" id="6999270">(</span><span class="ident" id="6999271">f</span><span class="op" id="6999272">.</span><span class="ident" id="6999273">Sections</span><span class="op" id="6999281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6999285">if</span>&nbsp;<span class="ident" id="6999288">tn</span>&nbsp;<span class="op" id="6999291">!=</span>&nbsp;<span class="ident" id="6999294">fn</span>&nbsp;<span class="op" id="6999297">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999302">t</span><span class="op" id="6999303">.</span><span class="ident" id="6999304">Errorf</span><span class="op" id="6999310">(</span><span class="string" id="6999311">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6999349">,</span>&nbsp;<span class="ident" id="6999351">tt</span><span class="op" id="6999353">.</span><span class="ident" id="6999354">file</span><span class="op" id="6999358">,</span>&nbsp;<span class="ident" id="6999360">fn</span><span class="op" id="6999362">,</span>&nbsp;<span class="ident" id="6999364">tn</span><span class="op" id="6999366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999373">}</span><br>
<span class="lineno"></span><span class="op" id="6999375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6999378">func</span>&nbsp;<span class="ident" id="6999383">TestOpenFailure</span><span class="op" id="6999398">(</span><span class="ident" id="6999399">t</span>&nbsp;<span class="op" id="6999401">*</span><span class="ident" id="6999402">testing</span><span class="op" id="6999409">.</span><span class="ident" id="6999410">T</span><span class="op" id="6999411">)</span>&nbsp;<span class="op" id="6999413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999416">filename</span>&nbsp;<span class="op" id="6999425">:=</span>&nbsp;<span class="string" id="6999428">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6999441">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999469">_</span><span class="op" id="6999470">,</span>&nbsp;<span class="ident" id="6999472">err</span>&nbsp;<span class="op" id="6999476">:=</span>&nbsp;<span class="ident" id="6999479">Open</span><span class="op" id="6999483">(</span><span class="ident" id="6999484">filename</span><span class="op" id="6999492">)</span>&nbsp;<span class="comment" id="6999494">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6999510">if</span>&nbsp;<span class="ident" id="6999513">err</span>&nbsp;<span class="op" id="6999517">==</span>&nbsp;<span class="ident" id="6999520">nil</span>&nbsp;<span class="op" id="6999524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999528">t</span><span class="op" id="6999529">.</span><span class="ident" id="6999530">Errorf</span><span class="op" id="6999536">(</span><span class="string" id="6999537">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="6999570">,</span>&nbsp;<span class="ident" id="6999572">filename</span><span class="op" id="6999580">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6999583">}</span><br>
<span class="lineno"></span><span class="op" id="6999585">}</span>
</div>
</body>
</html>
