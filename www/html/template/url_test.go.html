<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8666361">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8666416">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8666470">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8666521">package</span>&nbsp;<span class="ident" id="8666529">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8666539">import</span>&nbsp;<span class="op" id="8666546">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666549">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8666559">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8666562">func</span>&nbsp;<span class="ident" id="8666567">TestURLNormalizer</span><span class="op" id="8666584">(</span><span class="ident" id="8666585">t</span>&nbsp;<span class="op" id="8666587">*</span><span class="ident" id="8666588"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8666595">.</span><span class="ident" id="8666596">T</span><span class="op" id="8666597">)</span>&nbsp;<span class="op" id="8666599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666602">tests</span>&nbsp;<span class="op" id="8666608">:=</span>&nbsp;<span class="op" id="8666611">[</span><span class="op" id="8666612">]</span><span class="keyword" id="8666613">struct</span>&nbsp;<span class="op" id="8666620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666624">url</span><span class="op" id="8666627">,</span>&nbsp;<span class="ident" id="8666629">want</span>&nbsp;<span class="builtintype" id="8666634">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666642">}</span><span class="op" id="8666643">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666647">{</span><span class="string" id="8666648">&#34;&#34;</span><span class="op" id="8666650">,</span>&nbsp;<span class="string" id="8666652">&#34;&#34;</span><span class="op" id="8666654">}</span><span class="op" id="8666655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666664">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8666717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666722">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8666775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666779">}</span><span class="op" id="8666780">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666784">{</span><span class="string" id="8666785">&#34;&nbsp;&#34;</span><span class="op" id="8666788">,</span>&nbsp;<span class="string" id="8666790">&#34;%20&#34;</span><span class="op" id="8666795">}</span><span class="op" id="8666796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666800">{</span><span class="string" id="8666801">&#34;%7c&#34;</span><span class="op" id="8666806">,</span>&nbsp;<span class="string" id="8666808">&#34;%7c&#34;</span><span class="op" id="8666813">}</span><span class="op" id="8666814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666818">{</span><span class="string" id="8666819">&#34;%7C&#34;</span><span class="op" id="8666824">,</span>&nbsp;<span class="string" id="8666826">&#34;%7C&#34;</span><span class="op" id="8666831">}</span><span class="op" id="8666832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666836">{</span><span class="string" id="8666837">&#34;%2&#34;</span><span class="op" id="8666841">,</span>&nbsp;<span class="string" id="8666843">&#34;%252&#34;</span><span class="op" id="8666849">}</span><span class="op" id="8666850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666854">{</span><span class="string" id="8666855">&#34;%&#34;</span><span class="op" id="8666858">,</span>&nbsp;<span class="string" id="8666860">&#34;%25&#34;</span><span class="op" id="8666865">}</span><span class="op" id="8666866">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666870">{</span><span class="string" id="8666871">&#34;%z&#34;</span><span class="op" id="8666875">,</span>&nbsp;<span class="string" id="8666877">&#34;%25z&#34;</span><span class="op" id="8666883">}</span><span class="op" id="8666884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666888">{</span><span class="string" id="8666889">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="8666909">,</span>&nbsp;<span class="string" id="8666911">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="8666936">}</span><span class="op" id="8666937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666943">for</span>&nbsp;<span class="ident" id="8666947">_</span><span class="op" id="8666948">,</span>&nbsp;<span class="ident" id="8666950">test</span>&nbsp;<span class="op" id="8666955">:=</span>&nbsp;<span class="keyword" id="8666958">range</span>&nbsp;<span class="ident" id="8666964"><a href="/html/template/url_test.go.html#8666602">tests</a></span>&nbsp;<span class="op" id="8666970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666974">if</span>&nbsp;<span class="ident" id="8666977">got</span>&nbsp;<span class="op" id="8666981">:=</span>&nbsp;<span class="ident" id="8666984"><a href="/html/template/url.go.html#3358882">urlNormalizer</a></span><span class="op" id="8666997">(</span><span class="ident" id="8666998"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667002">.</span><span class="ident" id="8667003">url</span><span class="op" id="8667006">)</span><span class="op" id="8667007">;</span>&nbsp;<span class="ident" id="8667009"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667013">.</span><span class="ident" id="8667014">want</span>&nbsp;<span class="op" id="8667019">!=</span>&nbsp;<span class="ident" id="8667022"><a href="/html/template/url_test.go.html#8666977">got</a></span>&nbsp;<span class="op" id="8667026">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667031"><a href="/html/template/url_test.go.html#8666585">t</a></span><span class="op" id="8667032">.</span><span class="ident" id="8667033">Errorf</span><span class="op" id="8667039">(</span><span class="string" id="8667040">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="8667071">,</span>&nbsp;<span class="ident" id="8667073"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667077">.</span><span class="ident" id="8667078">url</span><span class="op" id="8667081">,</span>&nbsp;<span class="ident" id="8667083"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667087">.</span><span class="ident" id="8667088">want</span><span class="op" id="8667092">,</span>&nbsp;<span class="ident" id="8667094"><a href="/html/template/url_test.go.html#8666977">got</a></span><span class="op" id="8667097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8667105">if</span>&nbsp;<span class="ident" id="8667108"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667112">.</span><span class="ident" id="8667113">want</span>&nbsp;<span class="op" id="8667118">!=</span>&nbsp;<span class="ident" id="8667121"><a href="/html/template/url.go.html#3358882">urlNormalizer</a></span><span class="op" id="8667134">(</span><span class="ident" id="8667135"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667139">.</span><span class="ident" id="8667140">want</span><span class="op" id="8667144">)</span>&nbsp;<span class="op" id="8667146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667151"><a href="/html/template/url_test.go.html#8666585">t</a></span><span class="op" id="8667152">.</span><span class="ident" id="8667153">Errorf</span><span class="op" id="8667159">(</span><span class="string" id="8667160">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="8667180">,</span>&nbsp;<span class="ident" id="8667182"><a href="/html/template/url_test.go.html#8666950">test</a></span><span class="op" id="8667186">.</span><span class="ident" id="8667187">want</span><span class="op" id="8667191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667195">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667198">}</span><br>
<span class="lineno"></span><span class="op" id="8667200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8667203">func</span>&nbsp;<span class="ident" id="8667208">TestURLFilters</span><span class="op" id="8667222">(</span><span class="ident" id="8667223">t</span>&nbsp;<span class="op" id="8667225">*</span><span class="ident" id="8667226"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8667233">.</span><span class="ident" id="8667234">T</span><span class="op" id="8667235">)</span>&nbsp;<span class="op" id="8667237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667240">input</span>&nbsp;<span class="op" id="8667246">:=</span>&nbsp;<span class="op" id="8667249">(</span><span class="string" id="8667250">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="8667311">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667315">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="8667382">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667386">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="8667405">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667409">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="8667428">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667432">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="8667451">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667455">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="8667474">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667478">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8667497">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667501">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="8667523">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667527">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="8667569">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667573">tests</span>&nbsp;<span class="op" id="8667579">:=</span>&nbsp;<span class="op" id="8667582">[</span><span class="op" id="8667583">]</span><span class="keyword" id="8667584">struct</span>&nbsp;<span class="op" id="8667591">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667595">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8667603">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667612">escaper</span>&nbsp;<span class="keyword" id="8667620">func</span><span class="op" id="8667624">(</span><span class="op" id="8667625">...</span><span class="keyword" id="8667628">interface</span><span class="op" id="8667637">{</span><span class="op" id="8667638">}</span><span class="op" id="8667639">)</span>&nbsp;<span class="builtintype" id="8667641">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667650">escaped</span>&nbsp;<span class="builtintype" id="8667658">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667666">}</span><span class="op" id="8667667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8667671">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667676">&#34;urlEscaper&#34;</span><span class="op" id="8667688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8667693"><a href="/html/template/url.go.html#3358496">urlEscaper</a></span><span class="op" id="8667703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667708">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8667759">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667765">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8667816">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667822">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="8667869">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667875">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="8667906">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667912">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8667933">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667939">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="8667966">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667972">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8667993">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8667999">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8668026">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668032">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8668085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668089">}</span><span class="op" id="8668090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668099">&#34;urlNormalizer&#34;</span><span class="op" id="8668114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668119"><a href="/html/template/url.go.html#3358882">urlNormalizer</a></span><span class="op" id="8668132">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668137">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8668188">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668194">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8668245">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668251">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="8668282">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668288">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="8668311">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668317">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8668336">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668342">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="8668365">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668371">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8668392">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668398">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8668425">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8668431">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8668484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668488">}</span><span class="op" id="8668489">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668496">for</span>&nbsp;<span class="ident" id="8668500">_</span><span class="op" id="8668501">,</span>&nbsp;<span class="ident" id="8668503">test</span>&nbsp;<span class="op" id="8668508">:=</span>&nbsp;<span class="keyword" id="8668511">range</span>&nbsp;<span class="ident" id="8668517"><a href="/html/template/url_test.go.html#8667573">tests</a></span>&nbsp;<span class="op" id="8668523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668527">if</span>&nbsp;<span class="ident" id="8668530">s</span>&nbsp;<span class="op" id="8668532">:=</span>&nbsp;<span class="ident" id="8668535"><a href="/html/template/url_test.go.html#8668503">test</a></span><span class="op" id="8668539">.</span><span class="ident" id="8668540">escaper</span><span class="op" id="8668547">(</span><span class="ident" id="8668548"><a href="/html/template/url_test.go.html#8667240">input</a></span><span class="op" id="8668553">)</span><span class="op" id="8668554">;</span>&nbsp;<span class="ident" id="8668556"><a href="/html/template/url_test.go.html#8668530">s</a></span>&nbsp;<span class="op" id="8668558">!=</span>&nbsp;<span class="ident" id="8668561"><a href="/html/template/url_test.go.html#8668503">test</a></span><span class="op" id="8668565">.</span><span class="ident" id="8668566">escaped</span>&nbsp;<span class="op" id="8668574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668579"><a href="/html/template/url_test.go.html#8667223">t</a></span><span class="op" id="8668580">.</span><span class="ident" id="8668581">Errorf</span><span class="op" id="8668587">(</span><span class="string" id="8668588">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="8668615">,</span>&nbsp;<span class="ident" id="8668617"><a href="/html/template/url_test.go.html#8668503">test</a></span><span class="op" id="8668621">.</span><span class="ident" id="8668622">name</span><span class="op" id="8668626">,</span>&nbsp;<span class="ident" id="8668628"><a href="/html/template/url_test.go.html#8668503">test</a></span><span class="op" id="8668632">.</span><span class="ident" id="8668633">escaped</span><span class="op" id="8668640">,</span>&nbsp;<span class="ident" id="8668642"><a href="/html/template/url_test.go.html#8668530">s</a></span><span class="op" id="8668643">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668648">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668662">}</span><br>
<span class="lineno"></span><span class="op" id="8668664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8668667">func</span>&nbsp;<span class="ident" id="8668672">BenchmarkURLEscaper</span><span class="op" id="8668691">(</span><span class="ident" id="8668692">b</span>&nbsp;<span class="op" id="8668694">*</span><span class="ident" id="8668695"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8668702">.</span><span class="ident" id="8668703">B</span><span class="op" id="8668704">)</span>&nbsp;<span class="op" id="8668706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668709">for</span>&nbsp;<span class="ident" id="8668713">i</span>&nbsp;<span class="op" id="8668715">:=</span>&nbsp;<span class="num" id="8668718">0</span><span class="op" id="8668719">;</span>&nbsp;<span class="ident" id="8668721"><a href="/html/template/url_test.go.html#8668713">i</a></span>&nbsp;<span class="op" id="8668723">&lt;</span>&nbsp;<span class="ident" id="8668725"><a href="/html/template/url_test.go.html#8668692">b</a></span><span class="op" id="8668726">.</span><span class="ident" id="8668727">N</span><span class="op" id="8668728">;</span>&nbsp;<span class="ident" id="8668730"><a href="/html/template/url_test.go.html#8668713">i</a></span><span class="op" id="8668731">++</span>&nbsp;<span class="op" id="8668734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668738"><a href="/html/template/url.go.html#3358496">urlEscaper</a></span><span class="op" id="8668748">(</span><span class="string" id="8668749">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8668798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668801">}</span><br>
<span class="lineno"></span><span class="op" id="8668803">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8668806">func</span>&nbsp;<span class="ident" id="8668811">BenchmarkURLEscaperNoSpecials</span><span class="op" id="8668840">(</span><span class="ident" id="8668841">b</span>&nbsp;<span class="op" id="8668843">*</span><span class="ident" id="8668844"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8668851">.</span><span class="ident" id="8668852">B</span><span class="op" id="8668853">)</span>&nbsp;<span class="op" id="8668855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668858">for</span>&nbsp;<span class="ident" id="8668862">i</span>&nbsp;<span class="op" id="8668864">:=</span>&nbsp;<span class="num" id="8668867">0</span><span class="op" id="8668868">;</span>&nbsp;<span class="ident" id="8668870"><a href="/html/template/url_test.go.html#8668862">i</a></span>&nbsp;<span class="op" id="8668872">&lt;</span>&nbsp;<span class="ident" id="8668874"><a href="/html/template/url_test.go.html#8668841">b</a></span><span class="op" id="8668875">.</span><span class="ident" id="8668876">N</span><span class="op" id="8668877">;</span>&nbsp;<span class="ident" id="8668879"><a href="/html/template/url_test.go.html#8668862">i</a></span><span class="op" id="8668880">++</span>&nbsp;<span class="op" id="8668883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8668887"><a href="/html/template/url.go.html#3358496">urlEscaper</a></span><span class="op" id="8668897">(</span><span class="string" id="8668898">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="8668936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8668939">}</span><br>
<span class="lineno">100</span><span class="op" id="8668941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8668944">func</span>&nbsp;<span class="ident" id="8668949">BenchmarkURLNormalizer</span><span class="op" id="8668971">(</span><span class="ident" id="8668972">b</span>&nbsp;<span class="op" id="8668974">*</span><span class="ident" id="8668975"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8668982">.</span><span class="ident" id="8668983">B</span><span class="op" id="8668984">)</span>&nbsp;<span class="op" id="8668986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8668989">for</span>&nbsp;<span class="ident" id="8668993">i</span>&nbsp;<span class="op" id="8668995">:=</span>&nbsp;<span class="num" id="8668998">0</span><span class="op" id="8668999">;</span>&nbsp;<span class="ident" id="8669001"><a href="/html/template/url_test.go.html#8668993">i</a></span>&nbsp;<span class="op" id="8669003">&lt;</span>&nbsp;<span class="ident" id="8669005"><a href="/html/template/url_test.go.html#8668972">b</a></span><span class="op" id="8669006">.</span><span class="ident" id="8669007">N</span><span class="op" id="8669008">;</span>&nbsp;<span class="ident" id="8669010"><a href="/html/template/url_test.go.html#8668993">i</a></span><span class="op" id="8669011">++</span>&nbsp;<span class="op" id="8669014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669018"><a href="/html/template/url.go.html#3358882">urlNormalizer</a></span><span class="op" id="8669031">(</span><span class="string" id="8669032">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="8669080">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669083">}</span><br>
<span class="lineno"></span><span class="op" id="8669085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8669088">func</span>&nbsp;<span class="ident" id="8669093">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="8669125">(</span><span class="ident" id="8669126">b</span>&nbsp;<span class="op" id="8669128">*</span><span class="ident" id="8669129"><a href="/html/template/url_test.go.html#8666549">testing</a></span><span class="op" id="8669136">.</span><span class="ident" id="8669137">B</span><span class="op" id="8669138">)</span>&nbsp;<span class="op" id="8669140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8669143">for</span>&nbsp;<span class="ident" id="8669147">i</span>&nbsp;<span class="op" id="8669149">:=</span>&nbsp;<span class="num" id="8669152">0</span><span class="op" id="8669153">;</span>&nbsp;<span class="ident" id="8669155"><a href="/html/template/url_test.go.html#8669147">i</a></span>&nbsp;<span class="op" id="8669157">&lt;</span>&nbsp;<span class="ident" id="8669159"><a href="/html/template/url_test.go.html#8669126">b</a></span><span class="op" id="8669160">.</span><span class="ident" id="8669161">N</span><span class="op" id="8669162">;</span>&nbsp;<span class="ident" id="8669164"><a href="/html/template/url_test.go.html#8669147">i</a></span><span class="op" id="8669165">++</span>&nbsp;<span class="op" id="8669168">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8669172"><a href="/html/template/url.go.html#3358882">urlNormalizer</a></span><span class="op" id="8669185">(</span><span class="string" id="8669186">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8669235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8669238">}</span><br>
<span class="lineno"></span><span class="op" id="8669240">}</span>
</div>
</body>
</html>
