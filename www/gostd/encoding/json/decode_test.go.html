<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8587053">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8587108">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8587162">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8587213">package</span>&nbsp;<span class="ident" id="8587221">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8587227">import</span>&nbsp;<span class="op" id="8587234">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587237">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587246">&#34;encoding&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587258">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587265">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587274">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587285">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587296">&#34;testing&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587307">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8587314">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8587317">type</span>&nbsp;<span class="ident" id="8587322">T</span>&nbsp;<span class="keyword" id="8587324">struct</span>&nbsp;<span class="op" id="8587331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587334">X</span>&nbsp;<span class="builtintype" id="8587336">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587344">Y</span>&nbsp;<span class="builtintype" id="8587346">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587351">Z</span>&nbsp;<span class="builtintype" id="8587353">int</span>&nbsp;<span class="string" id="8587357">`json:&#34;-&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8587368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8587371">type</span>&nbsp;<span class="ident" id="8587376">U</span>&nbsp;<span class="keyword" id="8587378">struct</span>&nbsp;<span class="op" id="8587385">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587388">Alphabet</span>&nbsp;<span class="builtintype" id="8587397">string</span>&nbsp;<span class="string" id="8587404">`json:&#34;alpha&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8587419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8587422">type</span>&nbsp;<span class="ident" id="8587427">V</span>&nbsp;<span class="keyword" id="8587429">struct</span>&nbsp;<span class="op" id="8587436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587439">F1</span>&nbsp;<span class="keyword" id="8587442">interface</span><span class="op" id="8587451">{</span><span class="op" id="8587452">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587455">F2</span>&nbsp;<span class="builtintype" id="8587458">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8587465">F3</span>&nbsp;<span class="ident" id="8587468">Number</span><br>
<span class="lineno"></span><span class="op" id="8587475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8587478">//&nbsp;ifaceNumAsFloat64/ifaceNumAsNumber&nbsp;are&nbsp;used&nbsp;to&nbsp;test&nbsp;unmarshaling&nbsp;with&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="8587555">//&nbsp;without&nbsp;UseNumber</span><br>
<span class="lineno"></span><span class="keyword" id="8587576">var</span>&nbsp;<span class="ident" id="8587580">ifaceNumAsFloat64</span>&nbsp;<span class="op" id="8587598">=</span>&nbsp;<span class="keyword" id="8587600">map</span><span class="op" id="8587603">[</span><span class="builtintype" id="8587604">string</span><span class="op" id="8587610">]</span><span class="keyword" id="8587611">interface</span><span class="op" id="8587620">{</span><span class="op" id="8587621">}</span><span class="op" id="8587622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587625">&#34;k1&#34;</span><span class="op" id="8587629">:</span>&nbsp;<span class="builtintype" id="8587631">float64</span><span class="op" id="8587638">(</span><span class="num" id="8587639">1</span><span class="op" id="8587640">)</span><span class="op" id="8587641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587644">&#34;k2&#34;</span><span class="op" id="8587648">:</span>&nbsp;<span class="string" id="8587650">&#34;s&#34;</span><span class="op" id="8587653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587656">&#34;k3&#34;</span><span class="op" id="8587660">:</span>&nbsp;<span class="op" id="8587662">[</span><span class="op" id="8587663">]</span><span class="keyword" id="8587664">interface</span><span class="op" id="8587673">{</span><span class="op" id="8587674">}</span><span class="op" id="8587675">{</span><span class="builtintype" id="8587676">float64</span><span class="op" id="8587683">(</span><span class="num" id="8587684">1</span><span class="op" id="8587685">)</span><span class="op" id="8587686">,</span>&nbsp;<span class="builtintype" id="8587688">float64</span><span class="op" id="8587695">(</span><span class="num" id="8587696">2.0</span><span class="op" id="8587699">)</span><span class="op" id="8587700">,</span>&nbsp;<span class="builtintype" id="8587702">float64</span><span class="op" id="8587709">(</span><span class="num" id="8587710">3e-3</span><span class="op" id="8587714">)</span><span class="op" id="8587715">}</span><span class="op" id="8587716">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587719">&#34;k4&#34;</span><span class="op" id="8587723">:</span>&nbsp;<span class="keyword" id="8587725">map</span><span class="op" id="8587728">[</span><span class="builtintype" id="8587729">string</span><span class="op" id="8587735">]</span><span class="keyword" id="8587736">interface</span><span class="op" id="8587745">{</span><span class="op" id="8587746">}</span><span class="op" id="8587747">{</span><span class="string" id="8587748">&#34;kk1&#34;</span><span class="op" id="8587753">:</span>&nbsp;<span class="string" id="8587755">&#34;s&#34;</span><span class="op" id="8587758">,</span>&nbsp;<span class="string" id="8587760">&#34;kk2&#34;</span><span class="op" id="8587765">:</span>&nbsp;<span class="builtintype" id="8587767">float64</span><span class="op" id="8587774">(</span><span class="num" id="8587775">2</span><span class="op" id="8587776">)</span><span class="op" id="8587777">}</span><span class="op" id="8587778">,</span><br>
<span class="lineno"></span><span class="op" id="8587780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8587783">var</span>&nbsp;<span class="ident" id="8587787">ifaceNumAsNumber</span>&nbsp;<span class="op" id="8587804">=</span>&nbsp;<span class="keyword" id="8587806">map</span><span class="op" id="8587809">[</span><span class="builtintype" id="8587810">string</span><span class="op" id="8587816">]</span><span class="keyword" id="8587817">interface</span><span class="op" id="8587826">{</span><span class="op" id="8587827">}</span><span class="op" id="8587828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587831">&#34;k1&#34;</span><span class="op" id="8587835">:</span>&nbsp;<span class="ident" id="8587837">Number</span><span class="op" id="8587843">(</span><span class="string" id="8587844">&#34;1&#34;</span><span class="op" id="8587847">)</span><span class="op" id="8587848">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587851">&#34;k2&#34;</span><span class="op" id="8587855">:</span>&nbsp;<span class="string" id="8587857">&#34;s&#34;</span><span class="op" id="8587860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587863">&#34;k3&#34;</span><span class="op" id="8587867">:</span>&nbsp;<span class="op" id="8587869">[</span><span class="op" id="8587870">]</span><span class="keyword" id="8587871">interface</span><span class="op" id="8587880">{</span><span class="op" id="8587881">}</span><span class="op" id="8587882">{</span><span class="ident" id="8587883">Number</span><span class="op" id="8587889">(</span><span class="string" id="8587890">&#34;1&#34;</span><span class="op" id="8587893">)</span><span class="op" id="8587894">,</span>&nbsp;<span class="ident" id="8587896">Number</span><span class="op" id="8587902">(</span><span class="string" id="8587903">&#34;2.0&#34;</span><span class="op" id="8587908">)</span><span class="op" id="8587909">,</span>&nbsp;<span class="ident" id="8587911">Number</span><span class="op" id="8587917">(</span><span class="string" id="8587918">&#34;3e-3&#34;</span><span class="op" id="8587924">)</span><span class="op" id="8587925">}</span><span class="op" id="8587926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8587929">&#34;k4&#34;</span><span class="op" id="8587933">:</span>&nbsp;<span class="keyword" id="8587935">map</span><span class="op" id="8587938">[</span><span class="builtintype" id="8587939">string</span><span class="op" id="8587945">]</span><span class="keyword" id="8587946">interface</span><span class="op" id="8587955">{</span><span class="op" id="8587956">}</span><span class="op" id="8587957">{</span><span class="string" id="8587958">&#34;kk1&#34;</span><span class="op" id="8587963">:</span>&nbsp;<span class="string" id="8587965">&#34;s&#34;</span><span class="op" id="8587968">,</span>&nbsp;<span class="string" id="8587970">&#34;kk2&#34;</span><span class="op" id="8587975">:</span>&nbsp;<span class="ident" id="8587977">Number</span><span class="op" id="8587983">(</span><span class="string" id="8587984">&#34;2&#34;</span><span class="op" id="8587987">)</span><span class="op" id="8587988">}</span><span class="op" id="8587989">,</span><br>
<span class="lineno"></span><span class="op" id="8587991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="8587994">type</span>&nbsp;<span class="ident" id="8587999">tx</span>&nbsp;<span class="keyword" id="8588002">struct</span>&nbsp;<span class="op" id="8588009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588012">x</span>&nbsp;<span class="builtintype" id="8588014">int</span><br>
<span class="lineno"></span><span class="op" id="8588018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8588021">//&nbsp;A&nbsp;type&nbsp;that&nbsp;can&nbsp;unmarshal&nbsp;itself.</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="8588059">type</span>&nbsp;<span class="ident" id="8588064">unmarshaler</span>&nbsp;<span class="keyword" id="8588076">struct</span>&nbsp;<span class="op" id="8588083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588086">T</span>&nbsp;<span class="builtintype" id="8588088">bool</span><br>
<span class="lineno"></span><span class="op" id="8588093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8588096">func</span>&nbsp;<span class="op" id="8588101">(</span><span class="ident" id="8588102">u</span>&nbsp;<span class="op" id="8588104">*</span><span class="ident" id="8588105">unmarshaler</span><span class="op" id="8588116">)</span>&nbsp;<span class="ident" id="8588118">UnmarshalJSON</span><span class="op" id="8588131">(</span><span class="ident" id="8588132">b</span>&nbsp;<span class="op" id="8588134">[</span><span class="op" id="8588135">]</span><span class="builtintype" id="8588136">byte</span><span class="op" id="8588140">)</span>&nbsp;<span class="builtintype" id="8588142">error</span>&nbsp;<span class="op" id="8588148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8588151">*</span><span class="ident" id="8588152">u</span>&nbsp;<span class="op" id="8588154">=</span>&nbsp;<span class="ident" id="8588156">unmarshaler</span><span class="op" id="8588167">{</span><span class="builtintype" id="8588168">true</span><span class="op" id="8588172">}</span>&nbsp;<span class="comment" id="8588174">//&nbsp;All&nbsp;we&nbsp;need&nbsp;to&nbsp;see&nbsp;that&nbsp;UnmarshalJSON&nbsp;is&nbsp;called.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8588227">return</span>&nbsp;<span class="ident" id="8588234">nil</span><br>
<span class="lineno"></span><span class="op" id="8588238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8588241">type</span>&nbsp;<span class="ident" id="8588246">ustruct</span>&nbsp;<span class="keyword" id="8588254">struct</span>&nbsp;<span class="op" id="8588261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588264">M</span>&nbsp;<span class="ident" id="8588266">unmarshaler</span><br>
<span class="lineno"></span><span class="op" id="8588278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8588281">type</span>&nbsp;<span class="ident" id="8588286">unmarshalerText</span>&nbsp;<span class="keyword" id="8588302">struct</span>&nbsp;<span class="op" id="8588309">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588312">T</span>&nbsp;<span class="builtintype" id="8588314">bool</span><br>
<span class="lineno"></span><span class="op" id="8588319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8588322">//&nbsp;needed&nbsp;for&nbsp;re-marshaling&nbsp;tests</span><br>
<span class="lineno"></span><span class="keyword" id="8588356">func</span>&nbsp;<span class="op" id="8588361">(</span><span class="ident" id="8588362">u</span>&nbsp;<span class="op" id="8588364">*</span><span class="ident" id="8588365">unmarshalerText</span><span class="op" id="8588380">)</span>&nbsp;<span class="ident" id="8588382">MarshalText</span><span class="op" id="8588393">(</span><span class="op" id="8588394">)</span>&nbsp;<span class="op" id="8588396">(</span><span class="op" id="8588397">[</span><span class="op" id="8588398">]</span><span class="builtintype" id="8588399">byte</span><span class="op" id="8588403">,</span>&nbsp;<span class="builtintype" id="8588405">error</span><span class="op" id="8588410">)</span>&nbsp;<span class="op" id="8588412">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8588415">return</span>&nbsp;<span class="op" id="8588422">[</span><span class="op" id="8588423">]</span><span class="builtintype" id="8588424">byte</span><span class="op" id="8588428">(</span><span class="string" id="8588429">&#34;&#34;</span><span class="op" id="8588431">)</span><span class="op" id="8588432">,</span>&nbsp;<span class="ident" id="8588434">nil</span><br>
<span class="lineno"></span><span class="op" id="8588438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8588441">func</span>&nbsp;<span class="op" id="8588446">(</span><span class="ident" id="8588447">u</span>&nbsp;<span class="op" id="8588449">*</span><span class="ident" id="8588450">unmarshalerText</span><span class="op" id="8588465">)</span>&nbsp;<span class="ident" id="8588467">UnmarshalText</span><span class="op" id="8588480">(</span><span class="ident" id="8588481">b</span>&nbsp;<span class="op" id="8588483">[</span><span class="op" id="8588484">]</span><span class="builtintype" id="8588485">byte</span><span class="op" id="8588489">)</span>&nbsp;<span class="builtintype" id="8588491">error</span>&nbsp;<span class="op" id="8588497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8588500">*</span><span class="ident" id="8588501">u</span>&nbsp;<span class="op" id="8588503">=</span>&nbsp;<span class="ident" id="8588505">unmarshalerText</span><span class="op" id="8588520">{</span><span class="builtintype" id="8588521">true</span><span class="op" id="8588525">}</span>&nbsp;<span class="comment" id="8588527">//&nbsp;All&nbsp;we&nbsp;need&nbsp;to&nbsp;see&nbsp;that&nbsp;UnmarshalText&nbsp;is&nbsp;called.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8588580">return</span>&nbsp;<span class="ident" id="8588587">nil</span><br>
<span class="lineno"></span><span class="op" id="8588591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8588594">var</span>&nbsp;<span class="ident" id="8588598">_</span>&nbsp;<span class="ident" id="8588600">encoding</span><span class="op" id="8588608">.</span><span class="ident" id="8588609">TextUnmarshaler</span>&nbsp;<span class="op" id="8588625">=</span>&nbsp;<span class="op" id="8588627">(</span><span class="op" id="8588628">*</span><span class="ident" id="8588629">unmarshalerText</span><span class="op" id="8588644">)</span><span class="op" id="8588645">(</span><span class="ident" id="8588646">nil</span><span class="op" id="8588649">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8588652">type</span>&nbsp;<span class="ident" id="8588657">ustructText</span>&nbsp;<span class="keyword" id="8588669">struct</span>&nbsp;<span class="op" id="8588676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588679">M</span>&nbsp;<span class="ident" id="8588681">unmarshalerText</span><br>
<span class="lineno"></span><span class="op" id="8588697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8588700">var</span>&nbsp;<span class="op" id="8588704">(</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588707">um0</span><span class="op" id="8588710">,</span>&nbsp;<span class="ident" id="8588712">um1</span>&nbsp;<span class="ident" id="8588716">unmarshaler</span>&nbsp;<span class="comment" id="8588728">//&nbsp;target2&nbsp;of&nbsp;unmarshaling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588756">ump</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8588765">=</span>&nbsp;<span class="op" id="8588767">&amp;</span><span class="ident" id="8588768">um1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588773">umtrue</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8588782">=</span>&nbsp;<span class="ident" id="8588784">unmarshaler</span><span class="op" id="8588795">{</span><span class="builtintype" id="8588796">true</span><span class="op" id="8588800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588803">umslice</span>&nbsp;&nbsp;<span class="op" id="8588812">=</span>&nbsp;<span class="op" id="8588814">[</span><span class="op" id="8588815">]</span><span class="ident" id="8588816">unmarshaler</span><span class="op" id="8588827">{</span><span class="op" id="8588828">{</span><span class="builtintype" id="8588829">true</span><span class="op" id="8588833">}</span><span class="op" id="8588834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588837">umslicep</span>&nbsp;<span class="op" id="8588846">=</span>&nbsp;<span class="builtinfunc" id="8588848">new</span><span class="op" id="8588851">(</span><span class="op" id="8588852">[</span><span class="op" id="8588853">]</span><span class="ident" id="8588854">unmarshaler</span><span class="op" id="8588865">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588868">umstruct</span>&nbsp;<span class="op" id="8588877">=</span>&nbsp;<span class="ident" id="8588879">ustruct</span><span class="op" id="8588886">{</span><span class="ident" id="8588887">unmarshaler</span><span class="op" id="8588898">{</span><span class="builtintype" id="8588899">true</span><span class="op" id="8588903">}</span><span class="op" id="8588904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588908">um0T</span><span class="op" id="8588912">,</span>&nbsp;<span class="ident" id="8588914">um1T</span>&nbsp;<span class="ident" id="8588919">unmarshalerText</span>&nbsp;<span class="comment" id="8588935">//&nbsp;target2&nbsp;of&nbsp;unmarshaling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588963">umpT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8588974">=</span>&nbsp;<span class="op" id="8588976">&amp;</span><span class="ident" id="8588977">um1T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8588983">umtrueT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8588994">=</span>&nbsp;<span class="ident" id="8588996">unmarshalerText</span><span class="op" id="8589011">{</span><span class="builtintype" id="8589012">true</span><span class="op" id="8589016">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589019">umsliceT</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8589030">=</span>&nbsp;<span class="op" id="8589032">[</span><span class="op" id="8589033">]</span><span class="ident" id="8589034">unmarshalerText</span><span class="op" id="8589049">{</span><span class="op" id="8589050">{</span><span class="builtintype" id="8589051">true</span><span class="op" id="8589055">}</span><span class="op" id="8589056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589059">umslicepT</span>&nbsp;&nbsp;<span class="op" id="8589070">=</span>&nbsp;<span class="builtinfunc" id="8589072">new</span><span class="op" id="8589075">(</span><span class="op" id="8589076">[</span><span class="op" id="8589077">]</span><span class="ident" id="8589078">unmarshalerText</span><span class="op" id="8589093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589096">umstructT</span>&nbsp;&nbsp;<span class="op" id="8589107">=</span>&nbsp;<span class="ident" id="8589109">ustructText</span><span class="op" id="8589120">{</span><span class="ident" id="8589121">unmarshalerText</span><span class="op" id="8589136">{</span><span class="builtintype" id="8589137">true</span><span class="op" id="8589141">}</span><span class="op" id="8589142">}</span><br>
<span class="lineno"></span><span class="op" id="8589144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="8589147">//&nbsp;Test&nbsp;data&nbsp;structures&nbsp;for&nbsp;anonymous&nbsp;fields.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8589194">type</span>&nbsp;<span class="ident" id="8589199">Point</span>&nbsp;<span class="keyword" id="8589205">struct</span>&nbsp;<span class="op" id="8589212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589215">Z</span>&nbsp;<span class="builtintype" id="8589217">int</span><br>
<span class="lineno"></span><span class="op" id="8589221">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="8589224">type</span>&nbsp;<span class="ident" id="8589229">Top</span>&nbsp;<span class="keyword" id="8589233">struct</span>&nbsp;<span class="op" id="8589240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589243">Level0</span>&nbsp;<span class="builtintype" id="8589250">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589255">Embed0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8589263">*</span><span class="ident" id="8589264">Embed0a</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8589273">*</span><span class="ident" id="8589274">Embed0b</span>&nbsp;<span class="string" id="8589282">`json:&#34;e,omitempty&#34;`</span>&nbsp;<span class="comment" id="8589303">//&nbsp;treated&nbsp;as&nbsp;named</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589324">Embed0c</span>&nbsp;&nbsp;<span class="string" id="8589333">`json:&#34;-&#34;`</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8589354">//&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589366">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589372">Embed0p</span>&nbsp;<span class="comment" id="8589380">//&nbsp;has&nbsp;Point&nbsp;with&nbsp;X,&nbsp;Y,&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589410">Embed0q</span>&nbsp;<span class="comment" id="8589418">//&nbsp;has&nbsp;Point&nbsp;with&nbsp;Z,&nbsp;used</span><br>
<span class="lineno">120</span><span class="op" id="8589444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8589447">type</span>&nbsp;<span class="ident" id="8589452">Embed0</span>&nbsp;<span class="keyword" id="8589459">struct</span>&nbsp;<span class="op" id="8589466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589469">Level1a</span>&nbsp;<span class="builtintype" id="8589477">int</span>&nbsp;<span class="comment" id="8589481">//&nbsp;overridden&nbsp;by&nbsp;Embed0a&#39;s&nbsp;Level1a&nbsp;with&nbsp;json&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589531">Level1b</span>&nbsp;<span class="builtintype" id="8589539">int</span>&nbsp;<span class="comment" id="8589543">//&nbsp;used&nbsp;because&nbsp;Embed0a&#39;s&nbsp;Level1b&nbsp;is&nbsp;renamed</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589589">Level1c</span>&nbsp;<span class="builtintype" id="8589597">int</span>&nbsp;<span class="comment" id="8589601">//&nbsp;used&nbsp;because&nbsp;Embed0a&#39;s&nbsp;Level1c&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589647">Level1d</span>&nbsp;<span class="builtintype" id="8589655">int</span>&nbsp;<span class="comment" id="8589659">//&nbsp;annihilated&nbsp;by&nbsp;Embed0a&#39;s&nbsp;Level1d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589696">Level1e</span>&nbsp;<span class="builtintype" id="8589704">int</span>&nbsp;<span class="string" id="8589708">`json:&#34;x&#34;`</span>&nbsp;<span class="comment" id="8589719">//&nbsp;annihilated&nbsp;by&nbsp;Embed0a.Level1e</span><br>
<span class="lineno"></span><span class="op" id="8589753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="8589756">type</span>&nbsp;<span class="ident" id="8589761">Embed0a</span>&nbsp;<span class="keyword" id="8589769">struct</span>&nbsp;<span class="op" id="8589776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589779">Level1a</span>&nbsp;<span class="builtintype" id="8589787">int</span>&nbsp;<span class="string" id="8589791">`json:&#34;Level1a,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589819">Level1b</span>&nbsp;<span class="builtintype" id="8589827">int</span>&nbsp;<span class="string" id="8589831">`json:&#34;LEVEL1B,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589859">Level1c</span>&nbsp;<span class="builtintype" id="8589867">int</span>&nbsp;<span class="string" id="8589871">`json:&#34;-&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589883">Level1d</span>&nbsp;<span class="builtintype" id="8589891">int</span>&nbsp;<span class="comment" id="8589895">//&nbsp;annihilated&nbsp;by&nbsp;Embed0&#39;s&nbsp;Level1d</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8589931">Level1f</span>&nbsp;<span class="builtintype" id="8589939">int</span>&nbsp;<span class="string" id="8589943">`json:&#34;x&#34;`</span>&nbsp;<span class="comment" id="8589954">//&nbsp;annihilated&nbsp;by&nbsp;Embed0&#39;s&nbsp;Level1e</span><br>
<span class="lineno"></span><span class="op" id="8589989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8589992">type</span>&nbsp;<span class="ident" id="8589997">Embed0b</span>&nbsp;<span class="ident" id="8590005">Embed0</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8590013">type</span>&nbsp;<span class="ident" id="8590018">Embed0c</span>&nbsp;<span class="ident" id="8590026">Embed0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590034">type</span>&nbsp;<span class="ident" id="8590039">Embed0p</span>&nbsp;<span class="keyword" id="8590047">struct</span>&nbsp;<span class="op" id="8590054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590057">image</span><span class="op" id="8590062">.</span><span class="ident" id="8590063">Point</span><br>
<span class="lineno"></span><span class="op" id="8590069">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="keyword" id="8590072">type</span>&nbsp;<span class="ident" id="8590077">Embed0q</span>&nbsp;<span class="keyword" id="8590085">struct</span>&nbsp;<span class="op" id="8590092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590095">Point</span><br>
<span class="lineno"></span><span class="op" id="8590101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="8590104">type</span>&nbsp;<span class="ident" id="8590109">Loop</span>&nbsp;<span class="keyword" id="8590114">struct</span>&nbsp;<span class="op" id="8590121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590124">Loop1</span>&nbsp;<span class="builtintype" id="8590130">int</span>&nbsp;<span class="string" id="8590134">`json:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590155">Loop2</span>&nbsp;<span class="builtintype" id="8590161">int</span>&nbsp;<span class="string" id="8590165">`json:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8590186">*</span><span class="ident" id="8590187">Loop</span><br>
<span class="lineno"></span><span class="op" id="8590192">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="8590195">//&nbsp;From&nbsp;reflect&nbsp;test:</span><br>
<span class="lineno"></span><span class="comment" id="8590217">//&nbsp;The&nbsp;X&nbsp;in&nbsp;S6&nbsp;and&nbsp;S7&nbsp;annihilate,&nbsp;but&nbsp;they&nbsp;also&nbsp;block&nbsp;the&nbsp;X&nbsp;in&nbsp;S8.S9.</span><br>
<span class="lineno"></span><span class="keyword" id="8590287">type</span>&nbsp;<span class="ident" id="8590292">S5</span>&nbsp;<span class="keyword" id="8590295">struct</span>&nbsp;<span class="op" id="8590302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590305">S6</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590309">S7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590313">S8</span><br>
<span class="lineno"></span><span class="op" id="8590316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590319">type</span>&nbsp;<span class="ident" id="8590324">S6</span>&nbsp;<span class="keyword" id="8590327">struct</span>&nbsp;<span class="op" id="8590334">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590337">X</span>&nbsp;<span class="builtintype" id="8590339">int</span><br>
<span class="lineno"></span><span class="op" id="8590343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590346">type</span>&nbsp;<span class="ident" id="8590351">S7</span>&nbsp;<span class="ident" id="8590354">S6</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8590358">type</span>&nbsp;<span class="ident" id="8590363">S8</span>&nbsp;<span class="keyword" id="8590366">struct</span>&nbsp;<span class="op" id="8590373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590376">S9</span><br>
<span class="lineno"></span><span class="op" id="8590379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590382">type</span>&nbsp;<span class="ident" id="8590387">S9</span>&nbsp;<span class="keyword" id="8590390">struct</span>&nbsp;<span class="op" id="8590397">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590400">X</span>&nbsp;<span class="builtintype" id="8590402">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590407">Y</span>&nbsp;<span class="builtintype" id="8590409">int</span><br>
<span class="lineno"></span><span class="op" id="8590413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8590416">//&nbsp;From&nbsp;reflect&nbsp;test:</span><br>
<span class="lineno">180</span><span class="comment" id="8590438">//&nbsp;The&nbsp;X&nbsp;in&nbsp;S11.S6&nbsp;and&nbsp;S12.S6&nbsp;annihilate,&nbsp;but&nbsp;they&nbsp;also&nbsp;block&nbsp;the&nbsp;X&nbsp;in&nbsp;S13.S8.S9.</span><br>
<span class="lineno"></span><span class="keyword" id="8590520">type</span>&nbsp;<span class="ident" id="8590525">S10</span>&nbsp;<span class="keyword" id="8590529">struct</span>&nbsp;<span class="op" id="8590536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590539">S11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590544">S12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590549">S13</span><br>
<span class="lineno">185</span><span class="op" id="8590553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590556">type</span>&nbsp;<span class="ident" id="8590561">S11</span>&nbsp;<span class="keyword" id="8590565">struct</span>&nbsp;<span class="op" id="8590572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590575">S6</span><br>
<span class="lineno"></span><span class="op" id="8590578">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="keyword" id="8590581">type</span>&nbsp;<span class="ident" id="8590586">S12</span>&nbsp;<span class="keyword" id="8590590">struct</span>&nbsp;<span class="op" id="8590597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590600">S6</span><br>
<span class="lineno"></span><span class="op" id="8590603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="8590606">type</span>&nbsp;<span class="ident" id="8590611">S13</span>&nbsp;<span class="keyword" id="8590615">struct</span>&nbsp;<span class="op" id="8590622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590625">S8</span><br>
<span class="lineno"></span><span class="op" id="8590628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590631">type</span>&nbsp;<span class="ident" id="8590636">unmarshalTest</span>&nbsp;<span class="keyword" id="8590650">struct</span>&nbsp;<span class="op" id="8590657">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590660">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8590670">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590678">ptr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8590688">interface</span><span class="op" id="8590697">{</span><span class="op" id="8590698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590701">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8590711">interface</span><span class="op" id="8590720">{</span><span class="op" id="8590721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590724">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8590734">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590741">useNumber</span>&nbsp;<span class="builtintype" id="8590751">bool</span><br>
<span class="lineno">205</span><span class="op" id="8590756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590759">type</span>&nbsp;<span class="ident" id="8590764">Ambig</span>&nbsp;<span class="keyword" id="8590770">struct</span>&nbsp;<span class="op" id="8590777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8590780">//&nbsp;Given&nbsp;&#34;hello&#34;,&nbsp;the&nbsp;first&nbsp;match&nbsp;should&nbsp;win.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590827">First</span>&nbsp;&nbsp;<span class="builtintype" id="8590834">int</span>&nbsp;<span class="string" id="8590838">`json:&#34;HELLO&#34;`</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590854">Second</span>&nbsp;<span class="builtintype" id="8590861">int</span>&nbsp;<span class="string" id="8590865">`json:&#34;Hello&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8590880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590883">type</span>&nbsp;<span class="ident" id="8590888">XYZ</span>&nbsp;<span class="keyword" id="8590892">struct</span>&nbsp;<span class="op" id="8590899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590902">X</span>&nbsp;<span class="keyword" id="8590904">interface</span><span class="op" id="8590913">{</span><span class="op" id="8590914">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590917">Y</span>&nbsp;<span class="keyword" id="8590919">interface</span><span class="op" id="8590928">{</span><span class="op" id="8590929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8590932">Z</span>&nbsp;<span class="keyword" id="8590934">interface</span><span class="op" id="8590943">{</span><span class="op" id="8590944">}</span><br>
<span class="lineno"></span><span class="op" id="8590946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8590949">var</span>&nbsp;<span class="ident" id="8590953">unmarshalTests</span>&nbsp;<span class="op" id="8590968">=</span>&nbsp;<span class="op" id="8590970">[</span><span class="op" id="8590971">]</span><span class="ident" id="8590972">unmarshalTest</span><span class="op" id="8590985">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8590988">//&nbsp;basic&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591004">{</span><span class="ident" id="8591005">in</span><span class="op" id="8591007">:</span>&nbsp;<span class="string" id="8591009">`true`</span><span class="op" id="8591015">,</span>&nbsp;<span class="ident" id="8591017">ptr</span><span class="op" id="8591020">:</span>&nbsp;<span class="builtinfunc" id="8591022">new</span><span class="op" id="8591025">(</span><span class="builtintype" id="8591026">bool</span><span class="op" id="8591030">)</span><span class="op" id="8591031">,</span>&nbsp;<span class="ident" id="8591033">out</span><span class="op" id="8591036">:</span>&nbsp;<span class="builtintype" id="8591038">true</span><span class="op" id="8591042">}</span><span class="op" id="8591043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591046">{</span><span class="ident" id="8591047">in</span><span class="op" id="8591049">:</span>&nbsp;<span class="string" id="8591051">`1`</span><span class="op" id="8591054">,</span>&nbsp;<span class="ident" id="8591056">ptr</span><span class="op" id="8591059">:</span>&nbsp;<span class="builtinfunc" id="8591061">new</span><span class="op" id="8591064">(</span><span class="builtintype" id="8591065">int</span><span class="op" id="8591068">)</span><span class="op" id="8591069">,</span>&nbsp;<span class="ident" id="8591071">out</span><span class="op" id="8591074">:</span>&nbsp;<span class="num" id="8591076">1</span><span class="op" id="8591077">}</span><span class="op" id="8591078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591081">{</span><span class="ident" id="8591082">in</span><span class="op" id="8591084">:</span>&nbsp;<span class="string" id="8591086">`1.2`</span><span class="op" id="8591091">,</span>&nbsp;<span class="ident" id="8591093">ptr</span><span class="op" id="8591096">:</span>&nbsp;<span class="builtinfunc" id="8591098">new</span><span class="op" id="8591101">(</span><span class="builtintype" id="8591102">float64</span><span class="op" id="8591109">)</span><span class="op" id="8591110">,</span>&nbsp;<span class="ident" id="8591112">out</span><span class="op" id="8591115">:</span>&nbsp;<span class="num" id="8591117">1.2</span><span class="op" id="8591120">}</span><span class="op" id="8591121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591124">{</span><span class="ident" id="8591125">in</span><span class="op" id="8591127">:</span>&nbsp;<span class="string" id="8591129">`-5`</span><span class="op" id="8591133">,</span>&nbsp;<span class="ident" id="8591135">ptr</span><span class="op" id="8591138">:</span>&nbsp;<span class="builtinfunc" id="8591140">new</span><span class="op" id="8591143">(</span><span class="builtintype" id="8591144">int16</span><span class="op" id="8591149">)</span><span class="op" id="8591150">,</span>&nbsp;<span class="ident" id="8591152">out</span><span class="op" id="8591155">:</span>&nbsp;<span class="builtintype" id="8591157">int16</span><span class="op" id="8591162">(</span><span class="op" id="8591163">-</span><span class="num" id="8591164">5</span><span class="op" id="8591165">)</span><span class="op" id="8591166">}</span><span class="op" id="8591167">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591170">{</span><span class="ident" id="8591171">in</span><span class="op" id="8591173">:</span>&nbsp;<span class="string" id="8591175">`2`</span><span class="op" id="8591178">,</span>&nbsp;<span class="ident" id="8591180">ptr</span><span class="op" id="8591183">:</span>&nbsp;<span class="builtinfunc" id="8591185">new</span><span class="op" id="8591188">(</span><span class="ident" id="8591189">Number</span><span class="op" id="8591195">)</span><span class="op" id="8591196">,</span>&nbsp;<span class="ident" id="8591198">out</span><span class="op" id="8591201">:</span>&nbsp;<span class="ident" id="8591203">Number</span><span class="op" id="8591209">(</span><span class="string" id="8591210">&#34;2&#34;</span><span class="op" id="8591213">)</span><span class="op" id="8591214">,</span>&nbsp;<span class="ident" id="8591216">useNumber</span><span class="op" id="8591225">:</span>&nbsp;<span class="builtintype" id="8591227">true</span><span class="op" id="8591231">}</span><span class="op" id="8591232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591235">{</span><span class="ident" id="8591236">in</span><span class="op" id="8591238">:</span>&nbsp;<span class="string" id="8591240">`2`</span><span class="op" id="8591243">,</span>&nbsp;<span class="ident" id="8591245">ptr</span><span class="op" id="8591248">:</span>&nbsp;<span class="builtinfunc" id="8591250">new</span><span class="op" id="8591253">(</span><span class="ident" id="8591254">Number</span><span class="op" id="8591260">)</span><span class="op" id="8591261">,</span>&nbsp;<span class="ident" id="8591263">out</span><span class="op" id="8591266">:</span>&nbsp;<span class="ident" id="8591268">Number</span><span class="op" id="8591274">(</span><span class="string" id="8591275">&#34;2&#34;</span><span class="op" id="8591278">)</span><span class="op" id="8591279">}</span><span class="op" id="8591280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591283">{</span><span class="ident" id="8591284">in</span><span class="op" id="8591286">:</span>&nbsp;<span class="string" id="8591288">`2`</span><span class="op" id="8591291">,</span>&nbsp;<span class="ident" id="8591293">ptr</span><span class="op" id="8591296">:</span>&nbsp;<span class="builtinfunc" id="8591298">new</span><span class="op" id="8591301">(</span><span class="keyword" id="8591302">interface</span><span class="op" id="8591311">{</span><span class="op" id="8591312">}</span><span class="op" id="8591313">)</span><span class="op" id="8591314">,</span>&nbsp;<span class="ident" id="8591316">out</span><span class="op" id="8591319">:</span>&nbsp;<span class="builtintype" id="8591321">float64</span><span class="op" id="8591328">(</span><span class="num" id="8591329">2.0</span><span class="op" id="8591332">)</span><span class="op" id="8591333">}</span><span class="op" id="8591334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591337">{</span><span class="ident" id="8591338">in</span><span class="op" id="8591340">:</span>&nbsp;<span class="string" id="8591342">`2`</span><span class="op" id="8591345">,</span>&nbsp;<span class="ident" id="8591347">ptr</span><span class="op" id="8591350">:</span>&nbsp;<span class="builtinfunc" id="8591352">new</span><span class="op" id="8591355">(</span><span class="keyword" id="8591356">interface</span><span class="op" id="8591365">{</span><span class="op" id="8591366">}</span><span class="op" id="8591367">)</span><span class="op" id="8591368">,</span>&nbsp;<span class="ident" id="8591370">out</span><span class="op" id="8591373">:</span>&nbsp;<span class="ident" id="8591375">Number</span><span class="op" id="8591381">(</span><span class="string" id="8591382">&#34;2&#34;</span><span class="op" id="8591385">)</span><span class="op" id="8591386">,</span>&nbsp;<span class="ident" id="8591388">useNumber</span><span class="op" id="8591397">:</span>&nbsp;<span class="builtintype" id="8591399">true</span><span class="op" id="8591403">}</span><span class="op" id="8591404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591407">{</span><span class="ident" id="8591408">in</span><span class="op" id="8591410">:</span>&nbsp;<span class="string" id="8591412">`&#34;a\u1234&#34;`</span><span class="op" id="8591423">,</span>&nbsp;<span class="ident" id="8591425">ptr</span><span class="op" id="8591428">:</span>&nbsp;<span class="builtinfunc" id="8591430">new</span><span class="op" id="8591433">(</span><span class="builtintype" id="8591434">string</span><span class="op" id="8591440">)</span><span class="op" id="8591441">,</span>&nbsp;<span class="ident" id="8591443">out</span><span class="op" id="8591446">:</span>&nbsp;<span class="string" id="8591448">&#34;a\u1234&#34;</span><span class="op" id="8591457">}</span><span class="op" id="8591458">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591461">{</span><span class="ident" id="8591462">in</span><span class="op" id="8591464">:</span>&nbsp;<span class="string" id="8591466">`&#34;http:\/\/&#34;`</span><span class="op" id="8591479">,</span>&nbsp;<span class="ident" id="8591481">ptr</span><span class="op" id="8591484">:</span>&nbsp;<span class="builtinfunc" id="8591486">new</span><span class="op" id="8591489">(</span><span class="builtintype" id="8591490">string</span><span class="op" id="8591496">)</span><span class="op" id="8591497">,</span>&nbsp;<span class="ident" id="8591499">out</span><span class="op" id="8591502">:</span>&nbsp;<span class="string" id="8591504">&#34;http://&#34;</span><span class="op" id="8591513">}</span><span class="op" id="8591514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591517">{</span><span class="ident" id="8591518">in</span><span class="op" id="8591520">:</span>&nbsp;<span class="string" id="8591522">`&#34;g-clef:&nbsp;\uD834\uDD1E&#34;`</span><span class="op" id="8591546">,</span>&nbsp;<span class="ident" id="8591548">ptr</span><span class="op" id="8591551">:</span>&nbsp;<span class="builtinfunc" id="8591553">new</span><span class="op" id="8591556">(</span><span class="builtintype" id="8591557">string</span><span class="op" id="8591563">)</span><span class="op" id="8591564">,</span>&nbsp;<span class="ident" id="8591566">out</span><span class="op" id="8591569">:</span>&nbsp;<span class="string" id="8591571">&#34;g-clef:&nbsp;\U0001D11E&#34;</span><span class="op" id="8591591">}</span><span class="op" id="8591592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591595">{</span><span class="ident" id="8591596">in</span><span class="op" id="8591598">:</span>&nbsp;<span class="string" id="8591600">`&#34;invalid:&nbsp;\uD834x\uDD1E&#34;`</span><span class="op" id="8591626">,</span>&nbsp;<span class="ident" id="8591628">ptr</span><span class="op" id="8591631">:</span>&nbsp;<span class="builtinfunc" id="8591633">new</span><span class="op" id="8591636">(</span><span class="builtintype" id="8591637">string</span><span class="op" id="8591643">)</span><span class="op" id="8591644">,</span>&nbsp;<span class="ident" id="8591646">out</span><span class="op" id="8591649">:</span>&nbsp;<span class="string" id="8591651">&#34;invalid:&nbsp;\uFFFDx\uFFFD&#34;</span><span class="op" id="8591675">}</span><span class="op" id="8591676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591679">{</span><span class="ident" id="8591680">in</span><span class="op" id="8591682">:</span>&nbsp;<span class="string" id="8591684">&#34;null&#34;</span><span class="op" id="8591690">,</span>&nbsp;<span class="ident" id="8591692">ptr</span><span class="op" id="8591695">:</span>&nbsp;<span class="builtinfunc" id="8591697">new</span><span class="op" id="8591700">(</span><span class="keyword" id="8591701">interface</span><span class="op" id="8591710">{</span><span class="op" id="8591711">}</span><span class="op" id="8591712">)</span><span class="op" id="8591713">,</span>&nbsp;<span class="ident" id="8591715">out</span><span class="op" id="8591718">:</span>&nbsp;<span class="ident" id="8591720">nil</span><span class="op" id="8591723">}</span><span class="op" id="8591724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591727">{</span><span class="ident" id="8591728">in</span><span class="op" id="8591730">:</span>&nbsp;<span class="string" id="8591732">`{&#34;X&#34;:&nbsp;[1,2,3],&nbsp;&#34;Y&#34;:&nbsp;4}`</span><span class="op" id="8591756">,</span>&nbsp;<span class="ident" id="8591758">ptr</span><span class="op" id="8591761">:</span>&nbsp;<span class="builtinfunc" id="8591763">new</span><span class="op" id="8591766">(</span><span class="ident" id="8591767">T</span><span class="op" id="8591768">)</span><span class="op" id="8591769">,</span>&nbsp;<span class="ident" id="8591771">out</span><span class="op" id="8591774">:</span>&nbsp;<span class="ident" id="8591776">T</span><span class="op" id="8591777">{</span><span class="ident" id="8591778">Y</span><span class="op" id="8591779">:</span>&nbsp;<span class="num" id="8591781">4</span><span class="op" id="8591782">}</span><span class="op" id="8591783">,</span>&nbsp;<span class="ident" id="8591785">err</span><span class="op" id="8591788">:</span>&nbsp;<span class="op" id="8591790">&amp;</span><span class="ident" id="8591791">UnmarshalTypeError</span><span class="op" id="8591809">{</span><span class="string" id="8591810">&#34;array&#34;</span><span class="op" id="8591817">,</span>&nbsp;<span class="ident" id="8591819">reflect</span><span class="op" id="8591826">.</span><span class="ident" id="8591827">TypeOf</span><span class="op" id="8591833">(</span><span class="string" id="8591834">&#34;&#34;</span><span class="op" id="8591836">)</span><span class="op" id="8591837">}</span><span class="op" id="8591838">}</span><span class="op" id="8591839">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591842">{</span><span class="ident" id="8591843">in</span><span class="op" id="8591845">:</span>&nbsp;<span class="string" id="8591847">`{&#34;x&#34;:&nbsp;1}`</span><span class="op" id="8591857">,</span>&nbsp;<span class="ident" id="8591859">ptr</span><span class="op" id="8591862">:</span>&nbsp;<span class="builtinfunc" id="8591864">new</span><span class="op" id="8591867">(</span><span class="ident" id="8591868">tx</span><span class="op" id="8591870">)</span><span class="op" id="8591871">,</span>&nbsp;<span class="ident" id="8591873">out</span><span class="op" id="8591876">:</span>&nbsp;<span class="ident" id="8591878">tx</span><span class="op" id="8591880">{</span><span class="op" id="8591881">}</span><span class="op" id="8591882">}</span><span class="op" id="8591883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591886">{</span><span class="ident" id="8591887">in</span><span class="op" id="8591889">:</span>&nbsp;<span class="string" id="8591891">`{&#34;F1&#34;:1,&#34;F2&#34;:2,&#34;F3&#34;:3}`</span><span class="op" id="8591915">,</span>&nbsp;<span class="ident" id="8591917">ptr</span><span class="op" id="8591920">:</span>&nbsp;<span class="builtinfunc" id="8591922">new</span><span class="op" id="8591925">(</span><span class="ident" id="8591926">V</span><span class="op" id="8591927">)</span><span class="op" id="8591928">,</span>&nbsp;<span class="ident" id="8591930">out</span><span class="op" id="8591933">:</span>&nbsp;<span class="ident" id="8591935">V</span><span class="op" id="8591936">{</span><span class="ident" id="8591937">F1</span><span class="op" id="8591939">:</span>&nbsp;<span class="builtintype" id="8591941">float64</span><span class="op" id="8591948">(</span><span class="num" id="8591949">1</span><span class="op" id="8591950">)</span><span class="op" id="8591951">,</span>&nbsp;<span class="ident" id="8591953">F2</span><span class="op" id="8591955">:</span>&nbsp;<span class="builtintype" id="8591957">int32</span><span class="op" id="8591962">(</span><span class="num" id="8591963">2</span><span class="op" id="8591964">)</span><span class="op" id="8591965">,</span>&nbsp;<span class="ident" id="8591967">F3</span><span class="op" id="8591969">:</span>&nbsp;<span class="ident" id="8591971">Number</span><span class="op" id="8591977">(</span><span class="string" id="8591978">&#34;3&#34;</span><span class="op" id="8591981">)</span><span class="op" id="8591982">}</span><span class="op" id="8591983">}</span><span class="op" id="8591984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8591987">{</span><span class="ident" id="8591988">in</span><span class="op" id="8591990">:</span>&nbsp;<span class="string" id="8591992">`{&#34;F1&#34;:1,&#34;F2&#34;:2,&#34;F3&#34;:3}`</span><span class="op" id="8592016">,</span>&nbsp;<span class="ident" id="8592018">ptr</span><span class="op" id="8592021">:</span>&nbsp;<span class="builtinfunc" id="8592023">new</span><span class="op" id="8592026">(</span><span class="ident" id="8592027">V</span><span class="op" id="8592028">)</span><span class="op" id="8592029">,</span>&nbsp;<span class="ident" id="8592031">out</span><span class="op" id="8592034">:</span>&nbsp;<span class="ident" id="8592036">V</span><span class="op" id="8592037">{</span><span class="ident" id="8592038">F1</span><span class="op" id="8592040">:</span>&nbsp;<span class="ident" id="8592042">Number</span><span class="op" id="8592048">(</span><span class="string" id="8592049">&#34;1&#34;</span><span class="op" id="8592052">)</span><span class="op" id="8592053">,</span>&nbsp;<span class="ident" id="8592055">F2</span><span class="op" id="8592057">:</span>&nbsp;<span class="builtintype" id="8592059">int32</span><span class="op" id="8592064">(</span><span class="num" id="8592065">2</span><span class="op" id="8592066">)</span><span class="op" id="8592067">,</span>&nbsp;<span class="ident" id="8592069">F3</span><span class="op" id="8592071">:</span>&nbsp;<span class="ident" id="8592073">Number</span><span class="op" id="8592079">(</span><span class="string" id="8592080">&#34;3&#34;</span><span class="op" id="8592083">)</span><span class="op" id="8592084">}</span><span class="op" id="8592085">,</span>&nbsp;<span class="ident" id="8592087">useNumber</span><span class="op" id="8592096">:</span>&nbsp;<span class="builtintype" id="8592098">true</span><span class="op" id="8592102">}</span><span class="op" id="8592103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592106">{</span><span class="ident" id="8592107">in</span><span class="op" id="8592109">:</span>&nbsp;<span class="string" id="8592111">`{&#34;k1&#34;:1,&#34;k2&#34;:&#34;s&#34;,&#34;k3&#34;:[1,2.0,3e-3],&#34;k4&#34;:{&#34;kk1&#34;:&#34;s&#34;,&#34;kk2&#34;:2}}`</span><span class="op" id="8592173">,</span>&nbsp;<span class="ident" id="8592175">ptr</span><span class="op" id="8592178">:</span>&nbsp;<span class="builtinfunc" id="8592180">new</span><span class="op" id="8592183">(</span><span class="keyword" id="8592184">interface</span><span class="op" id="8592193">{</span><span class="op" id="8592194">}</span><span class="op" id="8592195">)</span><span class="op" id="8592196">,</span>&nbsp;<span class="ident" id="8592198">out</span><span class="op" id="8592201">:</span>&nbsp;<span class="ident" id="8592203">ifaceNumAsFloat64</span><span class="op" id="8592220">}</span><span class="op" id="8592221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592224">{</span><span class="ident" id="8592225">in</span><span class="op" id="8592227">:</span>&nbsp;<span class="string" id="8592229">`{&#34;k1&#34;:1,&#34;k2&#34;:&#34;s&#34;,&#34;k3&#34;:[1,2.0,3e-3],&#34;k4&#34;:{&#34;kk1&#34;:&#34;s&#34;,&#34;kk2&#34;:2}}`</span><span class="op" id="8592291">,</span>&nbsp;<span class="ident" id="8592293">ptr</span><span class="op" id="8592296">:</span>&nbsp;<span class="builtinfunc" id="8592298">new</span><span class="op" id="8592301">(</span><span class="keyword" id="8592302">interface</span><span class="op" id="8592311">{</span><span class="op" id="8592312">}</span><span class="op" id="8592313">)</span><span class="op" id="8592314">,</span>&nbsp;<span class="ident" id="8592316">out</span><span class="op" id="8592319">:</span>&nbsp;<span class="ident" id="8592321">ifaceNumAsNumber</span><span class="op" id="8592337">,</span>&nbsp;<span class="ident" id="8592339">useNumber</span><span class="op" id="8592348">:</span>&nbsp;<span class="builtintype" id="8592350">true</span><span class="op" id="8592354">}</span><span class="op" id="8592355">,</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8592359">//&nbsp;raw&nbsp;values&nbsp;with&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592390">{</span><span class="ident" id="8592391">in</span><span class="op" id="8592393">:</span>&nbsp;<span class="string" id="8592395">&#34;\n&nbsp;true&nbsp;&#34;</span><span class="op" id="8592405">,</span>&nbsp;<span class="ident" id="8592407">ptr</span><span class="op" id="8592410">:</span>&nbsp;<span class="builtinfunc" id="8592412">new</span><span class="op" id="8592415">(</span><span class="builtintype" id="8592416">bool</span><span class="op" id="8592420">)</span><span class="op" id="8592421">,</span>&nbsp;<span class="ident" id="8592423">out</span><span class="op" id="8592426">:</span>&nbsp;<span class="builtintype" id="8592428">true</span><span class="op" id="8592432">}</span><span class="op" id="8592433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592436">{</span><span class="ident" id="8592437">in</span><span class="op" id="8592439">:</span>&nbsp;<span class="string" id="8592441">&#34;\t&nbsp;1&nbsp;&#34;</span><span class="op" id="8592448">,</span>&nbsp;<span class="ident" id="8592450">ptr</span><span class="op" id="8592453">:</span>&nbsp;<span class="builtinfunc" id="8592455">new</span><span class="op" id="8592458">(</span><span class="builtintype" id="8592459">int</span><span class="op" id="8592462">)</span><span class="op" id="8592463">,</span>&nbsp;<span class="ident" id="8592465">out</span><span class="op" id="8592468">:</span>&nbsp;<span class="num" id="8592470">1</span><span class="op" id="8592471">}</span><span class="op" id="8592472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592475">{</span><span class="ident" id="8592476">in</span><span class="op" id="8592478">:</span>&nbsp;<span class="string" id="8592480">&#34;\r&nbsp;1.2&nbsp;&#34;</span><span class="op" id="8592489">,</span>&nbsp;<span class="ident" id="8592491">ptr</span><span class="op" id="8592494">:</span>&nbsp;<span class="builtinfunc" id="8592496">new</span><span class="op" id="8592499">(</span><span class="builtintype" id="8592500">float64</span><span class="op" id="8592507">)</span><span class="op" id="8592508">,</span>&nbsp;<span class="ident" id="8592510">out</span><span class="op" id="8592513">:</span>&nbsp;<span class="num" id="8592515">1.2</span><span class="op" id="8592518">}</span><span class="op" id="8592519">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592522">{</span><span class="ident" id="8592523">in</span><span class="op" id="8592525">:</span>&nbsp;<span class="string" id="8592527">&#34;\t&nbsp;-5&nbsp;\n&#34;</span><span class="op" id="8592537">,</span>&nbsp;<span class="ident" id="8592539">ptr</span><span class="op" id="8592542">:</span>&nbsp;<span class="builtinfunc" id="8592544">new</span><span class="op" id="8592547">(</span><span class="builtintype" id="8592548">int16</span><span class="op" id="8592553">)</span><span class="op" id="8592554">,</span>&nbsp;<span class="ident" id="8592556">out</span><span class="op" id="8592559">:</span>&nbsp;<span class="builtintype" id="8592561">int16</span><span class="op" id="8592566">(</span><span class="op" id="8592567">-</span><span class="num" id="8592568">5</span><span class="op" id="8592569">)</span><span class="op" id="8592570">}</span><span class="op" id="8592571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592574">{</span><span class="ident" id="8592575">in</span><span class="op" id="8592577">:</span>&nbsp;<span class="string" id="8592579">&#34;\t&nbsp;\&#34;a\\u1234\&#34;&nbsp;\n&#34;</span><span class="op" id="8592599">,</span>&nbsp;<span class="ident" id="8592601">ptr</span><span class="op" id="8592604">:</span>&nbsp;<span class="builtinfunc" id="8592606">new</span><span class="op" id="8592609">(</span><span class="builtintype" id="8592610">string</span><span class="op" id="8592616">)</span><span class="op" id="8592617">,</span>&nbsp;<span class="ident" id="8592619">out</span><span class="op" id="8592622">:</span>&nbsp;<span class="string" id="8592624">&#34;a\u1234&#34;</span><span class="op" id="8592633">}</span><span class="op" id="8592634">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8592638">//&nbsp;Z&nbsp;has&nbsp;a&nbsp;&#34;-&#34;&nbsp;tag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592659">{</span><span class="ident" id="8592660">in</span><span class="op" id="8592662">:</span>&nbsp;<span class="string" id="8592664">`{&#34;Y&#34;:&nbsp;1,&nbsp;&#34;Z&#34;:&nbsp;2}`</span><span class="op" id="8592682">,</span>&nbsp;<span class="ident" id="8592684">ptr</span><span class="op" id="8592687">:</span>&nbsp;<span class="builtinfunc" id="8592689">new</span><span class="op" id="8592692">(</span><span class="ident" id="8592693">T</span><span class="op" id="8592694">)</span><span class="op" id="8592695">,</span>&nbsp;<span class="ident" id="8592697">out</span><span class="op" id="8592700">:</span>&nbsp;<span class="ident" id="8592702">T</span><span class="op" id="8592703">{</span><span class="ident" id="8592704">Y</span><span class="op" id="8592705">:</span>&nbsp;<span class="num" id="8592707">1</span><span class="op" id="8592708">}</span><span class="op" id="8592709">}</span><span class="op" id="8592710">,</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592714">{</span><span class="ident" id="8592715">in</span><span class="op" id="8592717">:</span>&nbsp;<span class="string" id="8592719">`{&#34;alpha&#34;:&nbsp;&#34;abc&#34;,&nbsp;&#34;alphabet&#34;:&nbsp;&#34;xyz&#34;}`</span><span class="op" id="8592756">,</span>&nbsp;<span class="ident" id="8592758">ptr</span><span class="op" id="8592761">:</span>&nbsp;<span class="builtinfunc" id="8592763">new</span><span class="op" id="8592766">(</span><span class="ident" id="8592767">U</span><span class="op" id="8592768">)</span><span class="op" id="8592769">,</span>&nbsp;<span class="ident" id="8592771">out</span><span class="op" id="8592774">:</span>&nbsp;<span class="ident" id="8592776">U</span><span class="op" id="8592777">{</span><span class="ident" id="8592778">Alphabet</span><span class="op" id="8592786">:</span>&nbsp;<span class="string" id="8592788">&#34;abc&#34;</span><span class="op" id="8592793">}</span><span class="op" id="8592794">}</span><span class="op" id="8592795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592798">{</span><span class="ident" id="8592799">in</span><span class="op" id="8592801">:</span>&nbsp;<span class="string" id="8592803">`{&#34;alpha&#34;:&nbsp;&#34;abc&#34;}`</span><span class="op" id="8592821">,</span>&nbsp;<span class="ident" id="8592823">ptr</span><span class="op" id="8592826">:</span>&nbsp;<span class="builtinfunc" id="8592828">new</span><span class="op" id="8592831">(</span><span class="ident" id="8592832">U</span><span class="op" id="8592833">)</span><span class="op" id="8592834">,</span>&nbsp;<span class="ident" id="8592836">out</span><span class="op" id="8592839">:</span>&nbsp;<span class="ident" id="8592841">U</span><span class="op" id="8592842">{</span><span class="ident" id="8592843">Alphabet</span><span class="op" id="8592851">:</span>&nbsp;<span class="string" id="8592853">&#34;abc&#34;</span><span class="op" id="8592858">}</span><span class="op" id="8592859">}</span><span class="op" id="8592860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592863">{</span><span class="ident" id="8592864">in</span><span class="op" id="8592866">:</span>&nbsp;<span class="string" id="8592868">`{&#34;alphabet&#34;:&nbsp;&#34;xyz&#34;}`</span><span class="op" id="8592889">,</span>&nbsp;<span class="ident" id="8592891">ptr</span><span class="op" id="8592894">:</span>&nbsp;<span class="builtinfunc" id="8592896">new</span><span class="op" id="8592899">(</span><span class="ident" id="8592900">U</span><span class="op" id="8592901">)</span><span class="op" id="8592902">,</span>&nbsp;<span class="ident" id="8592904">out</span><span class="op" id="8592907">:</span>&nbsp;<span class="ident" id="8592909">U</span><span class="op" id="8592910">{</span><span class="op" id="8592911">}</span><span class="op" id="8592912">}</span><span class="op" id="8592913">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8592917">//&nbsp;syntax&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8592935">{</span><span class="ident" id="8592936">in</span><span class="op" id="8592938">:</span>&nbsp;<span class="string" id="8592940">`{&#34;X&#34;:&nbsp;&#34;foo&#34;,&nbsp;&#34;Y&#34;}`</span><span class="op" id="8592959">,</span>&nbsp;<span class="ident" id="8592961">err</span><span class="op" id="8592964">:</span>&nbsp;<span class="op" id="8592966">&amp;</span><span class="ident" id="8592967">SyntaxError</span><span class="op" id="8592978">{</span><span class="string" id="8592979">&#34;invalid&nbsp;character&nbsp;&#39;}&#39;&nbsp;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="8593019">,</span>&nbsp;<span class="num" id="8593021">17</span><span class="op" id="8593023">}</span><span class="op" id="8593024">}</span><span class="op" id="8593025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593028">{</span><span class="ident" id="8593029">in</span><span class="op" id="8593031">:</span>&nbsp;<span class="string" id="8593033">`[1,&nbsp;2,&nbsp;3+]`</span><span class="op" id="8593045">,</span>&nbsp;<span class="ident" id="8593047">err</span><span class="op" id="8593050">:</span>&nbsp;<span class="op" id="8593052">&amp;</span><span class="ident" id="8593053">SyntaxError</span><span class="op" id="8593064">{</span><span class="string" id="8593065">&#34;invalid&nbsp;character&nbsp;&#39;+&#39;&nbsp;after&nbsp;array&nbsp;element&#34;</span><span class="op" id="8593108">,</span>&nbsp;<span class="num" id="8593110">9</span><span class="op" id="8593111">}</span><span class="op" id="8593112">}</span><span class="op" id="8593113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593116">{</span><span class="ident" id="8593117">in</span><span class="op" id="8593119">:</span>&nbsp;<span class="string" id="8593121">`{&#34;X&#34;:12x}`</span><span class="op" id="8593132">,</span>&nbsp;<span class="ident" id="8593134">err</span><span class="op" id="8593137">:</span>&nbsp;<span class="op" id="8593139">&amp;</span><span class="ident" id="8593140">SyntaxError</span><span class="op" id="8593151">{</span><span class="string" id="8593152">&#34;invalid&nbsp;character&nbsp;&#39;x&#39;&nbsp;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="8593203">,</span>&nbsp;<span class="num" id="8593205">8</span><span class="op" id="8593206">}</span><span class="op" id="8593207">,</span>&nbsp;<span class="ident" id="8593209">useNumber</span><span class="op" id="8593218">:</span>&nbsp;<span class="builtintype" id="8593220">true</span><span class="op" id="8593224">}</span><span class="op" id="8593225">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8593229">//&nbsp;raw&nbsp;value&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593250">{</span><span class="ident" id="8593251">in</span><span class="op" id="8593253">:</span>&nbsp;<span class="string" id="8593255">&#34;\x01&nbsp;42&#34;</span><span class="op" id="8593264">,</span>&nbsp;<span class="ident" id="8593266">err</span><span class="op" id="8593269">:</span>&nbsp;<span class="op" id="8593271">&amp;</span><span class="ident" id="8593272">SyntaxError</span><span class="op" id="8593283">{</span><span class="string" id="8593284">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8593342">,</span>&nbsp;<span class="num" id="8593344">1</span><span class="op" id="8593345">}</span><span class="op" id="8593346">}</span><span class="op" id="8593347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593350">{</span><span class="ident" id="8593351">in</span><span class="op" id="8593353">:</span>&nbsp;<span class="string" id="8593355">&#34;&nbsp;42&nbsp;\x01&#34;</span><span class="op" id="8593365">,</span>&nbsp;<span class="ident" id="8593367">err</span><span class="op" id="8593370">:</span>&nbsp;<span class="op" id="8593372">&amp;</span><span class="ident" id="8593373">SyntaxError</span><span class="op" id="8593384">{</span><span class="string" id="8593385">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8593434">,</span>&nbsp;<span class="num" id="8593436">5</span><span class="op" id="8593437">}</span><span class="op" id="8593438">}</span><span class="op" id="8593439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593442">{</span><span class="ident" id="8593443">in</span><span class="op" id="8593445">:</span>&nbsp;<span class="string" id="8593447">&#34;\x01&nbsp;true&#34;</span><span class="op" id="8593458">,</span>&nbsp;<span class="ident" id="8593460">err</span><span class="op" id="8593463">:</span>&nbsp;<span class="op" id="8593465">&amp;</span><span class="ident" id="8593466">SyntaxError</span><span class="op" id="8593477">{</span><span class="string" id="8593478">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8593536">,</span>&nbsp;<span class="num" id="8593538">1</span><span class="op" id="8593539">}</span><span class="op" id="8593540">}</span><span class="op" id="8593541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593544">{</span><span class="ident" id="8593545">in</span><span class="op" id="8593547">:</span>&nbsp;<span class="string" id="8593549">&#34;&nbsp;false&nbsp;\x01&#34;</span><span class="op" id="8593562">,</span>&nbsp;<span class="ident" id="8593564">err</span><span class="op" id="8593567">:</span>&nbsp;<span class="op" id="8593569">&amp;</span><span class="ident" id="8593570">SyntaxError</span><span class="op" id="8593581">{</span><span class="string" id="8593582">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8593631">,</span>&nbsp;<span class="num" id="8593633">8</span><span class="op" id="8593634">}</span><span class="op" id="8593635">}</span><span class="op" id="8593636">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593639">{</span><span class="ident" id="8593640">in</span><span class="op" id="8593642">:</span>&nbsp;<span class="string" id="8593644">&#34;\x01&nbsp;1.2&#34;</span><span class="op" id="8593654">,</span>&nbsp;<span class="ident" id="8593656">err</span><span class="op" id="8593659">:</span>&nbsp;<span class="op" id="8593661">&amp;</span><span class="ident" id="8593662">SyntaxError</span><span class="op" id="8593673">{</span><span class="string" id="8593674">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8593732">,</span>&nbsp;<span class="num" id="8593734">1</span><span class="op" id="8593735">}</span><span class="op" id="8593736">}</span><span class="op" id="8593737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593740">{</span><span class="ident" id="8593741">in</span><span class="op" id="8593743">:</span>&nbsp;<span class="string" id="8593745">&#34;&nbsp;3.4&nbsp;\x01&#34;</span><span class="op" id="8593756">,</span>&nbsp;<span class="ident" id="8593758">err</span><span class="op" id="8593761">:</span>&nbsp;<span class="op" id="8593763">&amp;</span><span class="ident" id="8593764">SyntaxError</span><span class="op" id="8593775">{</span><span class="string" id="8593776">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8593825">,</span>&nbsp;<span class="num" id="8593827">6</span><span class="op" id="8593828">}</span><span class="op" id="8593829">}</span><span class="op" id="8593830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593833">{</span><span class="ident" id="8593834">in</span><span class="op" id="8593836">:</span>&nbsp;<span class="string" id="8593838">&#34;\x01&nbsp;\&#34;string\&#34;&#34;</span><span class="op" id="8593855">,</span>&nbsp;<span class="ident" id="8593857">err</span><span class="op" id="8593860">:</span>&nbsp;<span class="op" id="8593862">&amp;</span><span class="ident" id="8593863">SyntaxError</span><span class="op" id="8593874">{</span><span class="string" id="8593875">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8593933">,</span>&nbsp;<span class="num" id="8593935">1</span><span class="op" id="8593936">}</span><span class="op" id="8593937">}</span><span class="op" id="8593938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8593941">{</span><span class="ident" id="8593942">in</span><span class="op" id="8593944">:</span>&nbsp;<span class="string" id="8593946">&#34;&nbsp;\&#34;string\&#34;&nbsp;\x01&#34;</span><span class="op" id="8593964">,</span>&nbsp;<span class="ident" id="8593966">err</span><span class="op" id="8593969">:</span>&nbsp;<span class="op" id="8593971">&amp;</span><span class="ident" id="8593972">SyntaxError</span><span class="op" id="8593983">{</span><span class="string" id="8593984">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8594033">,</span>&nbsp;<span class="num" id="8594035">11</span><span class="op" id="8594037">}</span><span class="op" id="8594038">}</span><span class="op" id="8594039">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8594043">//&nbsp;array&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594059">{</span><span class="ident" id="8594060">in</span><span class="op" id="8594062">:</span>&nbsp;<span class="string" id="8594064">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8594075">,</span>&nbsp;<span class="ident" id="8594077">ptr</span><span class="op" id="8594080">:</span>&nbsp;<span class="builtinfunc" id="8594082">new</span><span class="op" id="8594085">(</span><span class="op" id="8594086">[</span><span class="num" id="8594087">3</span><span class="op" id="8594088">]</span><span class="builtintype" id="8594089">int</span><span class="op" id="8594092">)</span><span class="op" id="8594093">,</span>&nbsp;<span class="ident" id="8594095">out</span><span class="op" id="8594098">:</span>&nbsp;<span class="op" id="8594100">[</span><span class="num" id="8594101">3</span><span class="op" id="8594102">]</span><span class="builtintype" id="8594103">int</span><span class="op" id="8594106">{</span><span class="num" id="8594107">1</span><span class="op" id="8594108">,</span>&nbsp;<span class="num" id="8594110">2</span><span class="op" id="8594111">,</span>&nbsp;<span class="num" id="8594113">3</span><span class="op" id="8594114">}</span><span class="op" id="8594115">}</span><span class="op" id="8594116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594119">{</span><span class="ident" id="8594120">in</span><span class="op" id="8594122">:</span>&nbsp;<span class="string" id="8594124">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8594135">,</span>&nbsp;<span class="ident" id="8594137">ptr</span><span class="op" id="8594140">:</span>&nbsp;<span class="builtinfunc" id="8594142">new</span><span class="op" id="8594145">(</span><span class="op" id="8594146">[</span><span class="num" id="8594147">1</span><span class="op" id="8594148">]</span><span class="builtintype" id="8594149">int</span><span class="op" id="8594152">)</span><span class="op" id="8594153">,</span>&nbsp;<span class="ident" id="8594155">out</span><span class="op" id="8594158">:</span>&nbsp;<span class="op" id="8594160">[</span><span class="num" id="8594161">1</span><span class="op" id="8594162">]</span><span class="builtintype" id="8594163">int</span><span class="op" id="8594166">{</span><span class="num" id="8594167">1</span><span class="op" id="8594168">}</span><span class="op" id="8594169">}</span><span class="op" id="8594170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594173">{</span><span class="ident" id="8594174">in</span><span class="op" id="8594176">:</span>&nbsp;<span class="string" id="8594178">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8594189">,</span>&nbsp;<span class="ident" id="8594191">ptr</span><span class="op" id="8594194">:</span>&nbsp;<span class="builtinfunc" id="8594196">new</span><span class="op" id="8594199">(</span><span class="op" id="8594200">[</span><span class="num" id="8594201">5</span><span class="op" id="8594202">]</span><span class="builtintype" id="8594203">int</span><span class="op" id="8594206">)</span><span class="op" id="8594207">,</span>&nbsp;<span class="ident" id="8594209">out</span><span class="op" id="8594212">:</span>&nbsp;<span class="op" id="8594214">[</span><span class="num" id="8594215">5</span><span class="op" id="8594216">]</span><span class="builtintype" id="8594217">int</span><span class="op" id="8594220">{</span><span class="num" id="8594221">1</span><span class="op" id="8594222">,</span>&nbsp;<span class="num" id="8594224">2</span><span class="op" id="8594225">,</span>&nbsp;<span class="num" id="8594227">3</span><span class="op" id="8594228">,</span>&nbsp;<span class="num" id="8594230">0</span><span class="op" id="8594231">,</span>&nbsp;<span class="num" id="8594233">0</span><span class="op" id="8594234">}</span><span class="op" id="8594235">}</span><span class="op" id="8594236">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8594240">//&nbsp;empty&nbsp;array&nbsp;to&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594274">{</span><span class="ident" id="8594275">in</span><span class="op" id="8594277">:</span>&nbsp;<span class="string" id="8594279">`[]`</span><span class="op" id="8594283">,</span>&nbsp;<span class="ident" id="8594285">ptr</span><span class="op" id="8594288">:</span>&nbsp;<span class="builtinfunc" id="8594290">new</span><span class="op" id="8594293">(</span><span class="op" id="8594294">[</span><span class="op" id="8594295">]</span><span class="keyword" id="8594296">interface</span><span class="op" id="8594305">{</span><span class="op" id="8594306">}</span><span class="op" id="8594307">)</span><span class="op" id="8594308">,</span>&nbsp;<span class="ident" id="8594310">out</span><span class="op" id="8594313">:</span>&nbsp;<span class="op" id="8594315">[</span><span class="op" id="8594316">]</span><span class="keyword" id="8594317">interface</span><span class="op" id="8594326">{</span><span class="op" id="8594327">}</span><span class="op" id="8594328">{</span><span class="op" id="8594329">}</span><span class="op" id="8594330">}</span><span class="op" id="8594331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594334">{</span><span class="ident" id="8594335">in</span><span class="op" id="8594337">:</span>&nbsp;<span class="string" id="8594339">`null`</span><span class="op" id="8594345">,</span>&nbsp;<span class="ident" id="8594347">ptr</span><span class="op" id="8594350">:</span>&nbsp;<span class="builtinfunc" id="8594352">new</span><span class="op" id="8594355">(</span><span class="op" id="8594356">[</span><span class="op" id="8594357">]</span><span class="keyword" id="8594358">interface</span><span class="op" id="8594367">{</span><span class="op" id="8594368">}</span><span class="op" id="8594369">)</span><span class="op" id="8594370">,</span>&nbsp;<span class="ident" id="8594372">out</span><span class="op" id="8594375">:</span>&nbsp;<span class="op" id="8594377">[</span><span class="op" id="8594378">]</span><span class="keyword" id="8594379">interface</span><span class="op" id="8594388">{</span><span class="op" id="8594389">}</span><span class="op" id="8594390">(</span><span class="ident" id="8594391">nil</span><span class="op" id="8594394">)</span><span class="op" id="8594395">}</span><span class="op" id="8594396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594399">{</span><span class="ident" id="8594400">in</span><span class="op" id="8594402">:</span>&nbsp;<span class="string" id="8594404">`{&#34;T&#34;:[]}`</span><span class="op" id="8594414">,</span>&nbsp;<span class="ident" id="8594416">ptr</span><span class="op" id="8594419">:</span>&nbsp;<span class="builtinfunc" id="8594421">new</span><span class="op" id="8594424">(</span><span class="keyword" id="8594425">map</span><span class="op" id="8594428">[</span><span class="builtintype" id="8594429">string</span><span class="op" id="8594435">]</span><span class="keyword" id="8594436">interface</span><span class="op" id="8594445">{</span><span class="op" id="8594446">}</span><span class="op" id="8594447">)</span><span class="op" id="8594448">,</span>&nbsp;<span class="ident" id="8594450">out</span><span class="op" id="8594453">:</span>&nbsp;<span class="keyword" id="8594455">map</span><span class="op" id="8594458">[</span><span class="builtintype" id="8594459">string</span><span class="op" id="8594465">]</span><span class="keyword" id="8594466">interface</span><span class="op" id="8594475">{</span><span class="op" id="8594476">}</span><span class="op" id="8594477">{</span><span class="string" id="8594478">&#34;T&#34;</span><span class="op" id="8594481">:</span>&nbsp;<span class="op" id="8594483">[</span><span class="op" id="8594484">]</span><span class="keyword" id="8594485">interface</span><span class="op" id="8594494">{</span><span class="op" id="8594495">}</span><span class="op" id="8594496">{</span><span class="op" id="8594497">}</span><span class="op" id="8594498">}</span><span class="op" id="8594499">}</span><span class="op" id="8594500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594503">{</span><span class="ident" id="8594504">in</span><span class="op" id="8594506">:</span>&nbsp;<span class="string" id="8594508">`{&#34;T&#34;:null}`</span><span class="op" id="8594520">,</span>&nbsp;<span class="ident" id="8594522">ptr</span><span class="op" id="8594525">:</span>&nbsp;<span class="builtinfunc" id="8594527">new</span><span class="op" id="8594530">(</span><span class="keyword" id="8594531">map</span><span class="op" id="8594534">[</span><span class="builtintype" id="8594535">string</span><span class="op" id="8594541">]</span><span class="keyword" id="8594542">interface</span><span class="op" id="8594551">{</span><span class="op" id="8594552">}</span><span class="op" id="8594553">)</span><span class="op" id="8594554">,</span>&nbsp;<span class="ident" id="8594556">out</span><span class="op" id="8594559">:</span>&nbsp;<span class="keyword" id="8594561">map</span><span class="op" id="8594564">[</span><span class="builtintype" id="8594565">string</span><span class="op" id="8594571">]</span><span class="keyword" id="8594572">interface</span><span class="op" id="8594581">{</span><span class="op" id="8594582">}</span><span class="op" id="8594583">{</span><span class="string" id="8594584">&#34;T&#34;</span><span class="op" id="8594587">:</span>&nbsp;<span class="keyword" id="8594589">interface</span><span class="op" id="8594598">{</span><span class="op" id="8594599">}</span><span class="op" id="8594600">(</span><span class="ident" id="8594601">nil</span><span class="op" id="8594604">)</span><span class="op" id="8594605">}</span><span class="op" id="8594606">}</span><span class="op" id="8594607">,</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8594611">//&nbsp;composite&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594631">{</span><span class="ident" id="8594632">in</span><span class="op" id="8594634">:</span>&nbsp;<span class="ident" id="8594636">allValueIndent</span><span class="op" id="8594650">,</span>&nbsp;<span class="ident" id="8594652">ptr</span><span class="op" id="8594655">:</span>&nbsp;<span class="builtinfunc" id="8594657">new</span><span class="op" id="8594660">(</span><span class="ident" id="8594661">All</span><span class="op" id="8594664">)</span><span class="op" id="8594665">,</span>&nbsp;<span class="ident" id="8594667">out</span><span class="op" id="8594670">:</span>&nbsp;<span class="ident" id="8594672">allValue</span><span class="op" id="8594680">}</span><span class="op" id="8594681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594684">{</span><span class="ident" id="8594685">in</span><span class="op" id="8594687">:</span>&nbsp;<span class="ident" id="8594689">allValueCompact</span><span class="op" id="8594704">,</span>&nbsp;<span class="ident" id="8594706">ptr</span><span class="op" id="8594709">:</span>&nbsp;<span class="builtinfunc" id="8594711">new</span><span class="op" id="8594714">(</span><span class="ident" id="8594715">All</span><span class="op" id="8594718">)</span><span class="op" id="8594719">,</span>&nbsp;<span class="ident" id="8594721">out</span><span class="op" id="8594724">:</span>&nbsp;<span class="ident" id="8594726">allValue</span><span class="op" id="8594734">}</span><span class="op" id="8594735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594738">{</span><span class="ident" id="8594739">in</span><span class="op" id="8594741">:</span>&nbsp;<span class="ident" id="8594743">allValueIndent</span><span class="op" id="8594757">,</span>&nbsp;<span class="ident" id="8594759">ptr</span><span class="op" id="8594762">:</span>&nbsp;<span class="builtinfunc" id="8594764">new</span><span class="op" id="8594767">(</span><span class="op" id="8594768">*</span><span class="ident" id="8594769">All</span><span class="op" id="8594772">)</span><span class="op" id="8594773">,</span>&nbsp;<span class="ident" id="8594775">out</span><span class="op" id="8594778">:</span>&nbsp;<span class="op" id="8594780">&amp;</span><span class="ident" id="8594781">allValue</span><span class="op" id="8594789">}</span><span class="op" id="8594790">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594793">{</span><span class="ident" id="8594794">in</span><span class="op" id="8594796">:</span>&nbsp;<span class="ident" id="8594798">allValueCompact</span><span class="op" id="8594813">,</span>&nbsp;<span class="ident" id="8594815">ptr</span><span class="op" id="8594818">:</span>&nbsp;<span class="builtinfunc" id="8594820">new</span><span class="op" id="8594823">(</span><span class="op" id="8594824">*</span><span class="ident" id="8594825">All</span><span class="op" id="8594828">)</span><span class="op" id="8594829">,</span>&nbsp;<span class="ident" id="8594831">out</span><span class="op" id="8594834">:</span>&nbsp;<span class="op" id="8594836">&amp;</span><span class="ident" id="8594837">allValue</span><span class="op" id="8594845">}</span><span class="op" id="8594846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594849">{</span><span class="ident" id="8594850">in</span><span class="op" id="8594852">:</span>&nbsp;<span class="ident" id="8594854">pallValueIndent</span><span class="op" id="8594869">,</span>&nbsp;<span class="ident" id="8594871">ptr</span><span class="op" id="8594874">:</span>&nbsp;<span class="builtinfunc" id="8594876">new</span><span class="op" id="8594879">(</span><span class="ident" id="8594880">All</span><span class="op" id="8594883">)</span><span class="op" id="8594884">,</span>&nbsp;<span class="ident" id="8594886">out</span><span class="op" id="8594889">:</span>&nbsp;<span class="ident" id="8594891">pallValue</span><span class="op" id="8594900">}</span><span class="op" id="8594901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594904">{</span><span class="ident" id="8594905">in</span><span class="op" id="8594907">:</span>&nbsp;<span class="ident" id="8594909">pallValueCompact</span><span class="op" id="8594925">,</span>&nbsp;<span class="ident" id="8594927">ptr</span><span class="op" id="8594930">:</span>&nbsp;<span class="builtinfunc" id="8594932">new</span><span class="op" id="8594935">(</span><span class="ident" id="8594936">All</span><span class="op" id="8594939">)</span><span class="op" id="8594940">,</span>&nbsp;<span class="ident" id="8594942">out</span><span class="op" id="8594945">:</span>&nbsp;<span class="ident" id="8594947">pallValue</span><span class="op" id="8594956">}</span><span class="op" id="8594957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8594960">{</span><span class="ident" id="8594961">in</span><span class="op" id="8594963">:</span>&nbsp;<span class="ident" id="8594965">pallValueIndent</span><span class="op" id="8594980">,</span>&nbsp;<span class="ident" id="8594982">ptr</span><span class="op" id="8594985">:</span>&nbsp;<span class="builtinfunc" id="8594987">new</span><span class="op" id="8594990">(</span><span class="op" id="8594991">*</span><span class="ident" id="8594992">All</span><span class="op" id="8594995">)</span><span class="op" id="8594996">,</span>&nbsp;<span class="ident" id="8594998">out</span><span class="op" id="8595001">:</span>&nbsp;<span class="op" id="8595003">&amp;</span><span class="ident" id="8595004">pallValue</span><span class="op" id="8595013">}</span><span class="op" id="8595014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595017">{</span><span class="ident" id="8595018">in</span><span class="op" id="8595020">:</span>&nbsp;<span class="ident" id="8595022">pallValueCompact</span><span class="op" id="8595038">,</span>&nbsp;<span class="ident" id="8595040">ptr</span><span class="op" id="8595043">:</span>&nbsp;<span class="builtinfunc" id="8595045">new</span><span class="op" id="8595048">(</span><span class="op" id="8595049">*</span><span class="ident" id="8595050">All</span><span class="op" id="8595053">)</span><span class="op" id="8595054">,</span>&nbsp;<span class="ident" id="8595056">out</span><span class="op" id="8595059">:</span>&nbsp;<span class="op" id="8595061">&amp;</span><span class="ident" id="8595062">pallValue</span><span class="op" id="8595071">}</span><span class="op" id="8595072">,</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8595076">//&nbsp;unmarshal&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595105">{</span><span class="ident" id="8595106">in</span><span class="op" id="8595108">:</span>&nbsp;<span class="string" id="8595110">`{&#34;T&#34;:false}`</span><span class="op" id="8595123">,</span>&nbsp;<span class="ident" id="8595125">ptr</span><span class="op" id="8595128">:</span>&nbsp;<span class="op" id="8595130">&amp;</span><span class="ident" id="8595131">um0</span><span class="op" id="8595134">,</span>&nbsp;<span class="ident" id="8595136">out</span><span class="op" id="8595139">:</span>&nbsp;<span class="ident" id="8595141">umtrue</span><span class="op" id="8595147">}</span><span class="op" id="8595148">,</span>&nbsp;<span class="comment" id="8595150">//&nbsp;use&nbsp;&#34;false&#34;&nbsp;so&nbsp;test&nbsp;will&nbsp;fail&nbsp;if&nbsp;custom&nbsp;unmarshaler&nbsp;is&nbsp;not&nbsp;called</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595220">{</span><span class="ident" id="8595221">in</span><span class="op" id="8595223">:</span>&nbsp;<span class="string" id="8595225">`{&#34;T&#34;:false}`</span><span class="op" id="8595238">,</span>&nbsp;<span class="ident" id="8595240">ptr</span><span class="op" id="8595243">:</span>&nbsp;<span class="op" id="8595245">&amp;</span><span class="ident" id="8595246">ump</span><span class="op" id="8595249">,</span>&nbsp;<span class="ident" id="8595251">out</span><span class="op" id="8595254">:</span>&nbsp;<span class="op" id="8595256">&amp;</span><span class="ident" id="8595257">umtrue</span><span class="op" id="8595263">}</span><span class="op" id="8595264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595267">{</span><span class="ident" id="8595268">in</span><span class="op" id="8595270">:</span>&nbsp;<span class="string" id="8595272">`[{&#34;T&#34;:false}]`</span><span class="op" id="8595287">,</span>&nbsp;<span class="ident" id="8595289">ptr</span><span class="op" id="8595292">:</span>&nbsp;<span class="op" id="8595294">&amp;</span><span class="ident" id="8595295">umslice</span><span class="op" id="8595302">,</span>&nbsp;<span class="ident" id="8595304">out</span><span class="op" id="8595307">:</span>&nbsp;<span class="ident" id="8595309">umslice</span><span class="op" id="8595316">}</span><span class="op" id="8595317">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595320">{</span><span class="ident" id="8595321">in</span><span class="op" id="8595323">:</span>&nbsp;<span class="string" id="8595325">`[{&#34;T&#34;:false}]`</span><span class="op" id="8595340">,</span>&nbsp;<span class="ident" id="8595342">ptr</span><span class="op" id="8595345">:</span>&nbsp;<span class="op" id="8595347">&amp;</span><span class="ident" id="8595348">umslicep</span><span class="op" id="8595356">,</span>&nbsp;<span class="ident" id="8595358">out</span><span class="op" id="8595361">:</span>&nbsp;<span class="op" id="8595363">&amp;</span><span class="ident" id="8595364">umslice</span><span class="op" id="8595371">}</span><span class="op" id="8595372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595375">{</span><span class="ident" id="8595376">in</span><span class="op" id="8595378">:</span>&nbsp;<span class="string" id="8595380">`{&#34;M&#34;:{&#34;T&#34;:false}}`</span><span class="op" id="8595399">,</span>&nbsp;<span class="ident" id="8595401">ptr</span><span class="op" id="8595404">:</span>&nbsp;<span class="op" id="8595406">&amp;</span><span class="ident" id="8595407">umstruct</span><span class="op" id="8595415">,</span>&nbsp;<span class="ident" id="8595417">out</span><span class="op" id="8595420">:</span>&nbsp;<span class="ident" id="8595422">umstruct</span><span class="op" id="8595430">}</span><span class="op" id="8595431">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8595435">//&nbsp;UnmarshalText&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595468">{</span><span class="ident" id="8595469">in</span><span class="op" id="8595471">:</span>&nbsp;<span class="string" id="8595473">`&#34;X&#34;`</span><span class="op" id="8595478">,</span>&nbsp;<span class="ident" id="8595480">ptr</span><span class="op" id="8595483">:</span>&nbsp;<span class="op" id="8595485">&amp;</span><span class="ident" id="8595486">um0T</span><span class="op" id="8595490">,</span>&nbsp;<span class="ident" id="8595492">out</span><span class="op" id="8595495">:</span>&nbsp;<span class="ident" id="8595497">umtrueT</span><span class="op" id="8595504">}</span><span class="op" id="8595505">,</span>&nbsp;<span class="comment" id="8595507">//&nbsp;use&nbsp;&#34;false&#34;&nbsp;so&nbsp;test&nbsp;will&nbsp;fail&nbsp;if&nbsp;custom&nbsp;unmarshaler&nbsp;is&nbsp;not&nbsp;called</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595577">{</span><span class="ident" id="8595578">in</span><span class="op" id="8595580">:</span>&nbsp;<span class="string" id="8595582">`&#34;X&#34;`</span><span class="op" id="8595587">,</span>&nbsp;<span class="ident" id="8595589">ptr</span><span class="op" id="8595592">:</span>&nbsp;<span class="op" id="8595594">&amp;</span><span class="ident" id="8595595">umpT</span><span class="op" id="8595599">,</span>&nbsp;<span class="ident" id="8595601">out</span><span class="op" id="8595604">:</span>&nbsp;<span class="op" id="8595606">&amp;</span><span class="ident" id="8595607">umtrueT</span><span class="op" id="8595614">}</span><span class="op" id="8595615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595618">{</span><span class="ident" id="8595619">in</span><span class="op" id="8595621">:</span>&nbsp;<span class="string" id="8595623">`[&#34;X&#34;]`</span><span class="op" id="8595630">,</span>&nbsp;<span class="ident" id="8595632">ptr</span><span class="op" id="8595635">:</span>&nbsp;<span class="op" id="8595637">&amp;</span><span class="ident" id="8595638">umsliceT</span><span class="op" id="8595646">,</span>&nbsp;<span class="ident" id="8595648">out</span><span class="op" id="8595651">:</span>&nbsp;<span class="ident" id="8595653">umsliceT</span><span class="op" id="8595661">}</span><span class="op" id="8595662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595665">{</span><span class="ident" id="8595666">in</span><span class="op" id="8595668">:</span>&nbsp;<span class="string" id="8595670">`[&#34;X&#34;]`</span><span class="op" id="8595677">,</span>&nbsp;<span class="ident" id="8595679">ptr</span><span class="op" id="8595682">:</span>&nbsp;<span class="op" id="8595684">&amp;</span><span class="ident" id="8595685">umslicepT</span><span class="op" id="8595694">,</span>&nbsp;<span class="ident" id="8595696">out</span><span class="op" id="8595699">:</span>&nbsp;<span class="op" id="8595701">&amp;</span><span class="ident" id="8595702">umsliceT</span><span class="op" id="8595710">}</span><span class="op" id="8595711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595714">{</span><span class="ident" id="8595715">in</span><span class="op" id="8595717">:</span>&nbsp;<span class="string" id="8595719">`{&#34;M&#34;:&#34;X&#34;}`</span><span class="op" id="8595730">,</span>&nbsp;<span class="ident" id="8595732">ptr</span><span class="op" id="8595735">:</span>&nbsp;<span class="op" id="8595737">&amp;</span><span class="ident" id="8595738">umstructT</span><span class="op" id="8595747">,</span>&nbsp;<span class="ident" id="8595749">out</span><span class="op" id="8595752">:</span>&nbsp;<span class="ident" id="8595754">umstructT</span><span class="op" id="8595763">}</span><span class="op" id="8595764">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8595768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8595772">in</span><span class="op" id="8595774">:</span>&nbsp;<span class="string" id="8595776">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level0&#34;:&nbsp;1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1b&#34;:&nbsp;2,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1c&#34;:&nbsp;3,<br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1a&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;LEVEL1B&#34;:&nbsp;6,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;e&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1a&#34;:&nbsp;8,<br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1b&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1c&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1d&#34;:&nbsp;11,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;:&nbsp;12<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Loop1&#34;:&nbsp;13,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Loop2&#34;:&nbsp;14,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;X&#34;:&nbsp;15,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Y&#34;:&nbsp;16,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Z&#34;:&nbsp;17<br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}`</span><span class="op" id="8596047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596051">ptr</span><span class="op" id="8596054">:</span>&nbsp;<span class="builtinfunc" id="8596056">new</span><span class="op" id="8596059">(</span><span class="ident" id="8596060">Top</span><span class="op" id="8596063">)</span><span class="op" id="8596064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596068">out</span><span class="op" id="8596071">:</span>&nbsp;<span class="ident" id="8596073">Top</span><span class="op" id="8596076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596081">Level0</span><span class="op" id="8596087">:</span>&nbsp;<span class="num" id="8596089">1</span><span class="op" id="8596090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596095">Embed0</span><span class="op" id="8596101">:</span>&nbsp;<span class="ident" id="8596103">Embed0</span><span class="op" id="8596109">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596115">Level1b</span><span class="op" id="8596122">:</span>&nbsp;<span class="num" id="8596124">2</span><span class="op" id="8596125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596131">Level1c</span><span class="op" id="8596138">:</span>&nbsp;<span class="num" id="8596140">3</span><span class="op" id="8596141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596146">}</span><span class="op" id="8596147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596152">Embed0a</span><span class="op" id="8596159">:</span>&nbsp;<span class="op" id="8596161">&amp;</span><span class="ident" id="8596162">Embed0a</span><span class="op" id="8596169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596175">Level1a</span><span class="op" id="8596182">:</span>&nbsp;<span class="num" id="8596184">5</span><span class="op" id="8596185">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596191">Level1b</span><span class="op" id="8596198">:</span>&nbsp;<span class="num" id="8596200">6</span><span class="op" id="8596201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596206">}</span><span class="op" id="8596207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596212">Embed0b</span><span class="op" id="8596219">:</span>&nbsp;<span class="op" id="8596221">&amp;</span><span class="ident" id="8596222">Embed0b</span><span class="op" id="8596229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596235">Level1a</span><span class="op" id="8596242">:</span>&nbsp;<span class="num" id="8596244">8</span><span class="op" id="8596245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596251">Level1b</span><span class="op" id="8596258">:</span>&nbsp;<span class="num" id="8596260">9</span><span class="op" id="8596261">,</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596267">Level1c</span><span class="op" id="8596274">:</span>&nbsp;<span class="num" id="8596276">10</span><span class="op" id="8596278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596284">Level1d</span><span class="op" id="8596291">:</span>&nbsp;<span class="num" id="8596293">11</span><span class="op" id="8596295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596301">Level1e</span><span class="op" id="8596308">:</span>&nbsp;<span class="num" id="8596310">12</span><span class="op" id="8596312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596317">}</span><span class="op" id="8596318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596323">Loop</span><span class="op" id="8596327">:</span>&nbsp;<span class="ident" id="8596329">Loop</span><span class="op" id="8596333">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596339">Loop1</span><span class="op" id="8596344">:</span>&nbsp;<span class="num" id="8596346">13</span><span class="op" id="8596348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596354">Loop2</span><span class="op" id="8596359">:</span>&nbsp;<span class="num" id="8596361">14</span><span class="op" id="8596363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596368">}</span><span class="op" id="8596369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596374">Embed0p</span><span class="op" id="8596381">:</span>&nbsp;<span class="ident" id="8596383">Embed0p</span><span class="op" id="8596390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596396">Point</span><span class="op" id="8596401">:</span>&nbsp;<span class="ident" id="8596403">image</span><span class="op" id="8596408">.</span><span class="ident" id="8596409">Point</span><span class="op" id="8596414">{</span><span class="ident" id="8596415">X</span><span class="op" id="8596416">:</span>&nbsp;<span class="num" id="8596418">15</span><span class="op" id="8596420">,</span>&nbsp;<span class="ident" id="8596422">Y</span><span class="op" id="8596423">:</span>&nbsp;<span class="num" id="8596425">16</span><span class="op" id="8596427">}</span><span class="op" id="8596428">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596433">}</span><span class="op" id="8596434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596439">Embed0q</span><span class="op" id="8596446">:</span>&nbsp;<span class="ident" id="8596448">Embed0q</span><span class="op" id="8596455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596461">Point</span><span class="op" id="8596466">:</span>&nbsp;<span class="ident" id="8596468">Point</span><span class="op" id="8596473">{</span><span class="ident" id="8596474">Z</span><span class="op" id="8596475">:</span>&nbsp;<span class="num" id="8596477">17</span><span class="op" id="8596479">}</span><span class="op" id="8596480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596485">}</span><span class="op" id="8596486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596490">}</span><span class="op" id="8596491">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596494">}</span><span class="op" id="8596495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596502">in</span><span class="op" id="8596504">:</span>&nbsp;&nbsp;<span class="string" id="8596507">`{&#34;hello&#34;:&nbsp;1}`</span><span class="op" id="8596521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596525">ptr</span><span class="op" id="8596528">:</span>&nbsp;<span class="builtinfunc" id="8596530">new</span><span class="op" id="8596533">(</span><span class="ident" id="8596534">Ambig</span><span class="op" id="8596539">)</span><span class="op" id="8596540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596544">out</span><span class="op" id="8596547">:</span>&nbsp;<span class="ident" id="8596549">Ambig</span><span class="op" id="8596554">{</span><span class="ident" id="8596555">First</span><span class="op" id="8596560">:</span>&nbsp;<span class="num" id="8596562">1</span><span class="op" id="8596563">}</span><span class="op" id="8596564">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596567">}</span><span class="op" id="8596568">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596576">in</span><span class="op" id="8596578">:</span>&nbsp;&nbsp;<span class="string" id="8596581">`{&#34;X&#34;:&nbsp;1,&#34;Y&#34;:2}`</span><span class="op" id="8596597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596601">ptr</span><span class="op" id="8596604">:</span>&nbsp;<span class="builtinfunc" id="8596606">new</span><span class="op" id="8596609">(</span><span class="ident" id="8596610">S5</span><span class="op" id="8596612">)</span><span class="op" id="8596613">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596617">out</span><span class="op" id="8596620">:</span>&nbsp;<span class="ident" id="8596622">S5</span><span class="op" id="8596624">{</span><span class="ident" id="8596625">S8</span><span class="op" id="8596627">:</span>&nbsp;<span class="ident" id="8596629">S8</span><span class="op" id="8596631">{</span><span class="ident" id="8596632">S9</span><span class="op" id="8596634">:</span>&nbsp;<span class="ident" id="8596636">S9</span><span class="op" id="8596638">{</span><span class="ident" id="8596639">Y</span><span class="op" id="8596640">:</span>&nbsp;<span class="num" id="8596642">2</span><span class="op" id="8596643">}</span><span class="op" id="8596644">}</span><span class="op" id="8596645">}</span><span class="op" id="8596646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596649">}</span><span class="op" id="8596650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596657">in</span><span class="op" id="8596659">:</span>&nbsp;&nbsp;<span class="string" id="8596662">`{&#34;X&#34;:&nbsp;1,&#34;Y&#34;:2}`</span><span class="op" id="8596678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596682">ptr</span><span class="op" id="8596685">:</span>&nbsp;<span class="builtinfunc" id="8596687">new</span><span class="op" id="8596690">(</span><span class="ident" id="8596691">S10</span><span class="op" id="8596694">)</span><span class="op" id="8596695">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596699">out</span><span class="op" id="8596702">:</span>&nbsp;<span class="ident" id="8596704">S10</span><span class="op" id="8596707">{</span><span class="ident" id="8596708">S13</span><span class="op" id="8596711">:</span>&nbsp;<span class="ident" id="8596713">S13</span><span class="op" id="8596716">{</span><span class="ident" id="8596717">S8</span><span class="op" id="8596719">:</span>&nbsp;<span class="ident" id="8596721">S8</span><span class="op" id="8596723">{</span><span class="ident" id="8596724">S9</span><span class="op" id="8596726">:</span>&nbsp;<span class="ident" id="8596728">S9</span><span class="op" id="8596730">{</span><span class="ident" id="8596731">Y</span><span class="op" id="8596732">:</span>&nbsp;<span class="num" id="8596734">2</span><span class="op" id="8596735">}</span><span class="op" id="8596736">}</span><span class="op" id="8596737">}</span><span class="op" id="8596738">}</span><span class="op" id="8596739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596742">}</span><span class="op" id="8596743">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8596747">//&nbsp;invalid&nbsp;UTF-8&nbsp;is&nbsp;coerced&nbsp;to&nbsp;valid&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596792">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596796">in</span><span class="op" id="8596798">:</span>&nbsp;&nbsp;<span class="string" id="8596801">&#34;\&#34;hello\xffworld\&#34;&#34;</span><span class="op" id="8596821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596825">ptr</span><span class="op" id="8596828">:</span>&nbsp;<span class="builtinfunc" id="8596830">new</span><span class="op" id="8596833">(</span><span class="builtintype" id="8596834">string</span><span class="op" id="8596840">)</span><span class="op" id="8596841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596845">out</span><span class="op" id="8596848">:</span>&nbsp;<span class="string" id="8596850">&#34;hello\ufffdworld&#34;</span><span class="op" id="8596868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596871">}</span><span class="op" id="8596872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596875">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596879">in</span><span class="op" id="8596881">:</span>&nbsp;&nbsp;<span class="string" id="8596884">&#34;\&#34;hello\xc2\xc2world\&#34;&#34;</span><span class="op" id="8596908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596912">ptr</span><span class="op" id="8596915">:</span>&nbsp;<span class="builtinfunc" id="8596917">new</span><span class="op" id="8596920">(</span><span class="builtintype" id="8596921">string</span><span class="op" id="8596927">)</span><span class="op" id="8596928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596932">out</span><span class="op" id="8596935">:</span>&nbsp;<span class="string" id="8596937">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8596961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596964">}</span><span class="op" id="8596965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8596968">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8596972">in</span><span class="op" id="8596974">:</span>&nbsp;&nbsp;<span class="string" id="8596977">&#34;\&#34;hello\xc2\xffworld\&#34;&#34;</span><span class="op" id="8597001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597005">ptr</span><span class="op" id="8597008">:</span>&nbsp;<span class="builtinfunc" id="8597010">new</span><span class="op" id="8597013">(</span><span class="builtintype" id="8597014">string</span><span class="op" id="8597020">)</span><span class="op" id="8597021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597025">out</span><span class="op" id="8597028">:</span>&nbsp;<span class="string" id="8597030">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8597054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597057">}</span><span class="op" id="8597058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597061">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597065">in</span><span class="op" id="8597067">:</span>&nbsp;&nbsp;<span class="string" id="8597070">&#34;\&#34;hello\\ud800world\&#34;&#34;</span><span class="op" id="8597093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597097">ptr</span><span class="op" id="8597100">:</span>&nbsp;<span class="builtinfunc" id="8597102">new</span><span class="op" id="8597105">(</span><span class="builtintype" id="8597106">string</span><span class="op" id="8597112">)</span><span class="op" id="8597113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597117">out</span><span class="op" id="8597120">:</span>&nbsp;<span class="string" id="8597122">&#34;hello\ufffdworld&#34;</span><span class="op" id="8597140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597143">}</span><span class="op" id="8597144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597147">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597151">in</span><span class="op" id="8597153">:</span>&nbsp;&nbsp;<span class="string" id="8597156">&#34;\&#34;hello\\ud800\\ud800world\&#34;&#34;</span><span class="op" id="8597186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597190">ptr</span><span class="op" id="8597193">:</span>&nbsp;<span class="builtinfunc" id="8597195">new</span><span class="op" id="8597198">(</span><span class="builtintype" id="8597199">string</span><span class="op" id="8597205">)</span><span class="op" id="8597206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597210">out</span><span class="op" id="8597213">:</span>&nbsp;<span class="string" id="8597215">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8597239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597242">}</span><span class="op" id="8597243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597246">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597250">in</span><span class="op" id="8597252">:</span>&nbsp;&nbsp;<span class="string" id="8597255">&#34;\&#34;hello\\ud800\\ud800world\&#34;&#34;</span><span class="op" id="8597285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597289">ptr</span><span class="op" id="8597292">:</span>&nbsp;<span class="builtinfunc" id="8597294">new</span><span class="op" id="8597297">(</span><span class="builtintype" id="8597298">string</span><span class="op" id="8597304">)</span><span class="op" id="8597305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597309">out</span><span class="op" id="8597312">:</span>&nbsp;<span class="string" id="8597314">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8597338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597341">}</span><span class="op" id="8597342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597345">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597349">in</span><span class="op" id="8597351">:</span>&nbsp;&nbsp;<span class="string" id="8597354">&#34;\&#34;hello\xed\xa0\x80\xed\xb0\x80world\&#34;&#34;</span><span class="op" id="8597394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597398">ptr</span><span class="op" id="8597401">:</span>&nbsp;<span class="builtinfunc" id="8597403">new</span><span class="op" id="8597406">(</span><span class="builtintype" id="8597407">string</span><span class="op" id="8597413">)</span><span class="op" id="8597414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597418">out</span><span class="op" id="8597421">:</span>&nbsp;<span class="string" id="8597423">&#34;hello\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdworld&#34;</span><span class="op" id="8597471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597474">}</span><span class="op" id="8597475">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8597479">//&nbsp;issue&nbsp;8305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597498">in</span><span class="op" id="8597500">:</span>&nbsp;&nbsp;<span class="string" id="8597503">`{&#34;2009-11-10T23:00:00Z&#34;:&nbsp;&#34;hello&nbsp;world&#34;}`</span><span class="op" id="8597544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597548">ptr</span><span class="op" id="8597551">:</span>&nbsp;<span class="op" id="8597553">&amp;</span><span class="keyword" id="8597554">map</span><span class="op" id="8597557">[</span><span class="ident" id="8597558">time</span><span class="op" id="8597562">.</span><span class="ident" id="8597563">Time</span><span class="op" id="8597567">]</span><span class="builtintype" id="8597568">string</span><span class="op" id="8597574">{</span><span class="op" id="8597575">}</span><span class="op" id="8597576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597580">err</span><span class="op" id="8597583">:</span>&nbsp;<span class="op" id="8597585">&amp;</span><span class="ident" id="8597586">UnmarshalTypeError</span><span class="op" id="8597604">{</span><span class="string" id="8597605">&#34;object&#34;</span><span class="op" id="8597613">,</span>&nbsp;<span class="ident" id="8597615">reflect</span><span class="op" id="8597622">.</span><span class="ident" id="8597623">TypeOf</span><span class="op" id="8597629">(</span><span class="keyword" id="8597630">map</span><span class="op" id="8597633">[</span><span class="ident" id="8597634">time</span><span class="op" id="8597638">.</span><span class="ident" id="8597639">Time</span><span class="op" id="8597643">]</span><span class="builtintype" id="8597644">string</span><span class="op" id="8597650">{</span><span class="op" id="8597651">}</span><span class="op" id="8597652">)</span><span class="op" id="8597653">}</span><span class="op" id="8597654">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597657">}</span><span class="op" id="8597658">,</span><br>
<span class="lineno"></span><span class="op" id="8597660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597663">func</span>&nbsp;<span class="ident" id="8597668">TestMarshal</span><span class="op" id="8597679">(</span><span class="ident" id="8597680">t</span>&nbsp;<span class="op" id="8597682">*</span><span class="ident" id="8597683">testing</span><span class="op" id="8597690">.</span><span class="ident" id="8597691">T</span><span class="op" id="8597692">)</span>&nbsp;<span class="op" id="8597694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597697">b</span><span class="op" id="8597698">,</span>&nbsp;<span class="ident" id="8597700">err</span>&nbsp;<span class="op" id="8597704">:=</span>&nbsp;<span class="ident" id="8597707">Marshal</span><span class="op" id="8597714">(</span><span class="ident" id="8597715">allValue</span><span class="op" id="8597723">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8597726">if</span>&nbsp;<span class="ident" id="8597729">err</span>&nbsp;<span class="op" id="8597733">!=</span>&nbsp;<span class="ident" id="8597736">nil</span>&nbsp;<span class="op" id="8597740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597744">t</span><span class="op" id="8597745">.</span><span class="ident" id="8597746">Fatalf</span><span class="op" id="8597752">(</span><span class="string" id="8597753">&#34;Marshal&nbsp;allValue:&nbsp;%v&#34;</span><span class="op" id="8597775">,</span>&nbsp;<span class="ident" id="8597777">err</span><span class="op" id="8597780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8597786">if</span>&nbsp;<span class="builtintype" id="8597789">string</span><span class="op" id="8597795">(</span><span class="ident" id="8597796">b</span><span class="op" id="8597797">)</span>&nbsp;<span class="op" id="8597799">!=</span>&nbsp;<span class="ident" id="8597802">allValueCompact</span>&nbsp;<span class="op" id="8597818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597822">t</span><span class="op" id="8597823">.</span><span class="ident" id="8597824">Errorf</span><span class="op" id="8597830">(</span><span class="string" id="8597831">&#34;Marshal&nbsp;allValueCompact&#34;</span><span class="op" id="8597856">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597860">diff</span><span class="op" id="8597864">(</span><span class="ident" id="8597865">t</span><span class="op" id="8597866">,</span>&nbsp;<span class="ident" id="8597868">b</span><span class="op" id="8597869">,</span>&nbsp;<span class="op" id="8597871">[</span><span class="op" id="8597872">]</span><span class="builtintype" id="8597873">byte</span><span class="op" id="8597877">(</span><span class="ident" id="8597878">allValueCompact</span><span class="op" id="8597893">)</span><span class="op" id="8597894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8597898">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597910">b</span><span class="op" id="8597911">,</span>&nbsp;<span class="ident" id="8597913">err</span>&nbsp;<span class="op" id="8597917">=</span>&nbsp;<span class="ident" id="8597919">Marshal</span><span class="op" id="8597926">(</span><span class="ident" id="8597927">pallValue</span><span class="op" id="8597936">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8597939">if</span>&nbsp;<span class="ident" id="8597942">err</span>&nbsp;<span class="op" id="8597946">!=</span>&nbsp;<span class="ident" id="8597949">nil</span>&nbsp;<span class="op" id="8597953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597957">t</span><span class="op" id="8597958">.</span><span class="ident" id="8597959">Fatalf</span><span class="op" id="8597965">(</span><span class="string" id="8597966">&#34;Marshal&nbsp;pallValue:&nbsp;%v&#34;</span><span class="op" id="8597989">,</span>&nbsp;<span class="ident" id="8597991">err</span><span class="op" id="8597994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8597997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598000">if</span>&nbsp;<span class="builtintype" id="8598003">string</span><span class="op" id="8598009">(</span><span class="ident" id="8598010">b</span><span class="op" id="8598011">)</span>&nbsp;<span class="op" id="8598013">!=</span>&nbsp;<span class="ident" id="8598016">pallValueCompact</span>&nbsp;<span class="op" id="8598033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598037">t</span><span class="op" id="8598038">.</span><span class="ident" id="8598039">Errorf</span><span class="op" id="8598045">(</span><span class="string" id="8598046">&#34;Marshal&nbsp;pallValueCompact&#34;</span><span class="op" id="8598072">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598076">diff</span><span class="op" id="8598080">(</span><span class="ident" id="8598081">t</span><span class="op" id="8598082">,</span>&nbsp;<span class="ident" id="8598084">b</span><span class="op" id="8598085">,</span>&nbsp;<span class="op" id="8598087">[</span><span class="op" id="8598088">]</span><span class="builtintype" id="8598089">byte</span><span class="op" id="8598093">(</span><span class="ident" id="8598094">pallValueCompact</span><span class="op" id="8598110">)</span><span class="op" id="8598111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598115">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598123">}</span><br>
<span class="lineno"></span><span class="op" id="8598125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="keyword" id="8598128">var</span>&nbsp;<span class="ident" id="8598132">badUTF8</span>&nbsp;<span class="op" id="8598140">=</span>&nbsp;<span class="op" id="8598142">[</span><span class="op" id="8598143">]</span><span class="keyword" id="8598144">struct</span>&nbsp;<span class="op" id="8598151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598154">in</span><span class="op" id="8598156">,</span>&nbsp;<span class="ident" id="8598158">out</span>&nbsp;<span class="builtintype" id="8598162">string</span><br>
<span class="lineno"></span><span class="op" id="8598169">}</span><span class="op" id="8598170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598173">{</span><span class="string" id="8598174">&#34;hello\xffworld&#34;</span><span class="op" id="8598190">,</span>&nbsp;<span class="string" id="8598192">`&#34;hello\ufffdworld&#34;`</span><span class="op" id="8598212">}</span><span class="op" id="8598213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598216">{</span><span class="string" id="8598217">&#34;&#34;</span><span class="op" id="8598219">,</span>&nbsp;<span class="string" id="8598221">`&#34;&#34;`</span><span class="op" id="8598225">}</span><span class="op" id="8598226">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598229">{</span><span class="string" id="8598230">&#34;\xff&#34;</span><span class="op" id="8598236">,</span>&nbsp;<span class="string" id="8598238">`&#34;\ufffd&#34;`</span><span class="op" id="8598248">}</span><span class="op" id="8598249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598252">{</span><span class="string" id="8598253">&#34;\xff\xff&#34;</span><span class="op" id="8598263">,</span>&nbsp;<span class="string" id="8598265">`&#34;\ufffd\ufffd&#34;`</span><span class="op" id="8598281">}</span><span class="op" id="8598282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598285">{</span><span class="string" id="8598286">&#34;a\xffb&#34;</span><span class="op" id="8598294">,</span>&nbsp;<span class="string" id="8598296">`&#34;a\ufffdb&#34;`</span><span class="op" id="8598308">}</span><span class="op" id="8598309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598312">{</span><span class="string" id="8598313">&#34;\xe6\x97\xa5\xe6\x9c\xac\xff\xaa\x9e&#34;</span><span class="op" id="8598351">,</span>&nbsp;<span class="string" id="8598353">`&#34;\ufffd\ufffd\ufffd&#34;`</span><span class="op" id="8598381">}</span><span class="op" id="8598382">,</span><br>
<span class="lineno"></span><span class="op" id="8598384">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="8598387">func</span>&nbsp;<span class="ident" id="8598392">TestMarshalBadUTF8</span><span class="op" id="8598410">(</span><span class="ident" id="8598411">t</span>&nbsp;<span class="op" id="8598413">*</span><span class="ident" id="8598414">testing</span><span class="op" id="8598421">.</span><span class="ident" id="8598422">T</span><span class="op" id="8598423">)</span>&nbsp;<span class="op" id="8598425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598428">for</span>&nbsp;<span class="ident" id="8598432">_</span><span class="op" id="8598433">,</span>&nbsp;<span class="ident" id="8598435">tt</span>&nbsp;<span class="op" id="8598438">:=</span>&nbsp;<span class="keyword" id="8598441">range</span>&nbsp;<span class="ident" id="8598447">badUTF8</span>&nbsp;<span class="op" id="8598455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598459">b</span><span class="op" id="8598460">,</span>&nbsp;<span class="ident" id="8598462">err</span>&nbsp;<span class="op" id="8598466">:=</span>&nbsp;<span class="ident" id="8598469">Marshal</span><span class="op" id="8598476">(</span><span class="ident" id="8598477">tt</span><span class="op" id="8598479">.</span><span class="ident" id="8598480">in</span><span class="op" id="8598482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598486">if</span>&nbsp;<span class="builtintype" id="8598489">string</span><span class="op" id="8598495">(</span><span class="ident" id="8598496">b</span><span class="op" id="8598497">)</span>&nbsp;<span class="op" id="8598499">!=</span>&nbsp;<span class="ident" id="8598502">tt</span><span class="op" id="8598504">.</span><span class="ident" id="8598505">out</span>&nbsp;<span class="op" id="8598509">||</span>&nbsp;<span class="ident" id="8598512">err</span>&nbsp;<span class="op" id="8598516">!=</span>&nbsp;<span class="ident" id="8598519">nil</span>&nbsp;<span class="op" id="8598523">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598528">t</span><span class="op" id="8598529">.</span><span class="ident" id="8598530">Errorf</span><span class="op" id="8598536">(</span><span class="string" id="8598537">&#34;Marshal(%q)&nbsp;=&nbsp;%#q,&nbsp;%v,&nbsp;want&nbsp;%#q,&nbsp;nil&#34;</span><span class="op" id="8598575">,</span>&nbsp;<span class="ident" id="8598577">tt</span><span class="op" id="8598579">.</span><span class="ident" id="8598580">in</span><span class="op" id="8598582">,</span>&nbsp;<span class="ident" id="8598584">b</span><span class="op" id="8598585">,</span>&nbsp;<span class="ident" id="8598587">err</span><span class="op" id="8598590">,</span>&nbsp;<span class="ident" id="8598592">tt</span><span class="op" id="8598594">.</span><span class="ident" id="8598595">out</span><span class="op" id="8598598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598605">}</span><br>
<span class="lineno"></span><span class="op" id="8598607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span><span class="keyword" id="8598610">func</span>&nbsp;<span class="ident" id="8598615">TestMarshalNumberZeroVal</span><span class="op" id="8598639">(</span><span class="ident" id="8598640">t</span>&nbsp;<span class="op" id="8598642">*</span><span class="ident" id="8598643">testing</span><span class="op" id="8598650">.</span><span class="ident" id="8598651">T</span><span class="op" id="8598652">)</span>&nbsp;<span class="op" id="8598654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598657">var</span>&nbsp;<span class="ident" id="8598661">n</span>&nbsp;<span class="ident" id="8598663">Number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598671">out</span><span class="op" id="8598674">,</span>&nbsp;<span class="ident" id="8598676">err</span>&nbsp;<span class="op" id="8598680">:=</span>&nbsp;<span class="ident" id="8598683">Marshal</span><span class="op" id="8598690">(</span><span class="ident" id="8598691">n</span><span class="op" id="8598692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598695">if</span>&nbsp;<span class="ident" id="8598698">err</span>&nbsp;<span class="op" id="8598702">!=</span>&nbsp;<span class="ident" id="8598705">nil</span>&nbsp;<span class="op" id="8598709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598713">t</span><span class="op" id="8598714">.</span><span class="ident" id="8598715">Fatal</span><span class="op" id="8598720">(</span><span class="ident" id="8598721">err</span><span class="op" id="8598724">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598730">outStr</span>&nbsp;<span class="op" id="8598737">:=</span>&nbsp;<span class="builtintype" id="8598740">string</span><span class="op" id="8598746">(</span><span class="ident" id="8598747">out</span><span class="op" id="8598750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598753">if</span>&nbsp;<span class="ident" id="8598756">outStr</span>&nbsp;<span class="op" id="8598763">!=</span>&nbsp;<span class="string" id="8598766">&#34;0&#34;</span>&nbsp;<span class="op" id="8598770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598774">t</span><span class="op" id="8598775">.</span><span class="ident" id="8598776">Fatalf</span><span class="op" id="8598782">(</span><span class="string" id="8598783">&#34;Invalid&nbsp;zero&nbsp;val&nbsp;for&nbsp;Number:&nbsp;%q&#34;</span><span class="op" id="8598816">,</span>&nbsp;<span class="ident" id="8598818">outStr</span><span class="op" id="8598824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598827">}</span><br>
<span class="lineno">470</span><span class="op" id="8598829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8598832">func</span>&nbsp;<span class="ident" id="8598837">TestMarshalEmbeds</span><span class="op" id="8598854">(</span><span class="ident" id="8598855">t</span>&nbsp;<span class="op" id="8598857">*</span><span class="ident" id="8598858">testing</span><span class="op" id="8598865">.</span><span class="ident" id="8598866">T</span><span class="op" id="8598867">)</span>&nbsp;<span class="op" id="8598869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598872">top</span>&nbsp;<span class="op" id="8598876">:=</span>&nbsp;<span class="op" id="8598879">&amp;</span><span class="ident" id="8598880">Top</span><span class="op" id="8598883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598887">Level0</span><span class="op" id="8598893">:</span>&nbsp;<span class="num" id="8598895">1</span><span class="op" id="8598896">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598900">Embed0</span><span class="op" id="8598906">:</span>&nbsp;<span class="ident" id="8598908">Embed0</span><span class="op" id="8598914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598919">Level1b</span><span class="op" id="8598926">:</span>&nbsp;<span class="num" id="8598928">2</span><span class="op" id="8598929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598934">Level1c</span><span class="op" id="8598941">:</span>&nbsp;<span class="num" id="8598943">3</span><span class="op" id="8598944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598948">}</span><span class="op" id="8598949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598953">Embed0a</span><span class="op" id="8598960">:</span>&nbsp;<span class="op" id="8598962">&amp;</span><span class="ident" id="8598963">Embed0a</span><span class="op" id="8598970">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598975">Level1a</span><span class="op" id="8598982">:</span>&nbsp;<span class="num" id="8598984">5</span><span class="op" id="8598985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598990">Level1b</span><span class="op" id="8598997">:</span>&nbsp;<span class="num" id="8598999">6</span><span class="op" id="8599000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599004">}</span><span class="op" id="8599005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599009">Embed0b</span><span class="op" id="8599016">:</span>&nbsp;<span class="op" id="8599018">&amp;</span><span class="ident" id="8599019">Embed0b</span><span class="op" id="8599026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599031">Level1a</span><span class="op" id="8599038">:</span>&nbsp;<span class="num" id="8599040">8</span><span class="op" id="8599041">,</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599046">Level1b</span><span class="op" id="8599053">:</span>&nbsp;<span class="num" id="8599055">9</span><span class="op" id="8599056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599061">Level1c</span><span class="op" id="8599068">:</span>&nbsp;<span class="num" id="8599070">10</span><span class="op" id="8599072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599077">Level1d</span><span class="op" id="8599084">:</span>&nbsp;<span class="num" id="8599086">11</span><span class="op" id="8599088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599093">Level1e</span><span class="op" id="8599100">:</span>&nbsp;<span class="num" id="8599102">12</span><span class="op" id="8599104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599108">}</span><span class="op" id="8599109">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599113">Loop</span><span class="op" id="8599117">:</span>&nbsp;<span class="ident" id="8599119">Loop</span><span class="op" id="8599123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599128">Loop1</span><span class="op" id="8599133">:</span>&nbsp;<span class="num" id="8599135">13</span><span class="op" id="8599137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599142">Loop2</span><span class="op" id="8599147">:</span>&nbsp;<span class="num" id="8599149">14</span><span class="op" id="8599151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599155">}</span><span class="op" id="8599156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599160">Embed0p</span><span class="op" id="8599167">:</span>&nbsp;<span class="ident" id="8599169">Embed0p</span><span class="op" id="8599176">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599181">Point</span><span class="op" id="8599186">:</span>&nbsp;<span class="ident" id="8599188">image</span><span class="op" id="8599193">.</span><span class="ident" id="8599194">Point</span><span class="op" id="8599199">{</span><span class="ident" id="8599200">X</span><span class="op" id="8599201">:</span>&nbsp;<span class="num" id="8599203">15</span><span class="op" id="8599205">,</span>&nbsp;<span class="ident" id="8599207">Y</span><span class="op" id="8599208">:</span>&nbsp;<span class="num" id="8599210">16</span><span class="op" id="8599212">}</span><span class="op" id="8599213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599217">}</span><span class="op" id="8599218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599222">Embed0q</span><span class="op" id="8599229">:</span>&nbsp;<span class="ident" id="8599231">Embed0q</span><span class="op" id="8599238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599243">Point</span><span class="op" id="8599248">:</span>&nbsp;<span class="ident" id="8599250">Point</span><span class="op" id="8599255">{</span><span class="ident" id="8599256">Z</span><span class="op" id="8599257">:</span>&nbsp;<span class="num" id="8599259">17</span><span class="op" id="8599261">}</span><span class="op" id="8599262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599266">}</span><span class="op" id="8599267">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599273">b</span><span class="op" id="8599274">,</span>&nbsp;<span class="ident" id="8599276">err</span>&nbsp;<span class="op" id="8599280">:=</span>&nbsp;<span class="ident" id="8599283">Marshal</span><span class="op" id="8599290">(</span><span class="ident" id="8599291">top</span><span class="op" id="8599294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599297">if</span>&nbsp;<span class="ident" id="8599300">err</span>&nbsp;<span class="op" id="8599304">!=</span>&nbsp;<span class="ident" id="8599307">nil</span>&nbsp;<span class="op" id="8599311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599315">t</span><span class="op" id="8599316">.</span><span class="ident" id="8599317">Fatal</span><span class="op" id="8599322">(</span><span class="ident" id="8599323">err</span><span class="op" id="8599326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599329">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599332">want</span>&nbsp;<span class="op" id="8599337">:=</span>&nbsp;<span class="string" id="8599340">&#34;{\&#34;Level0\&#34;:1,\&#34;Level1b\&#34;:2,\&#34;Level1c\&#34;:3,\&#34;Level1a\&#34;:5,\&#34;LEVEL1B\&#34;:6,\&#34;e\&#34;:{\&#34;Level1a\&#34;:8,\&#34;Level1b\&#34;:9,\&#34;Level1c\&#34;:10,\&#34;Level1d\&#34;:11,\&#34;x\&#34;:12},\&#34;Loop1\&#34;:13,\&#34;Loop2\&#34;:14,\&#34;X\&#34;:15,\&#34;Y\&#34;:16,\&#34;Z\&#34;:17}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599542">if</span>&nbsp;<span class="builtintype" id="8599545">string</span><span class="op" id="8599551">(</span><span class="ident" id="8599552">b</span><span class="op" id="8599553">)</span>&nbsp;<span class="op" id="8599555">!=</span>&nbsp;<span class="ident" id="8599558">want</span>&nbsp;<span class="op" id="8599563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599567">t</span><span class="op" id="8599568">.</span><span class="ident" id="8599569">Errorf</span><span class="op" id="8599575">(</span><span class="string" id="8599576">&#34;Wrong&nbsp;marshal&nbsp;result.\n&nbsp;got:&nbsp;%q\nwant:&nbsp;%q&#34;</span><span class="op" id="8599619">,</span>&nbsp;<span class="ident" id="8599621">b</span><span class="op" id="8599622">,</span>&nbsp;<span class="ident" id="8599624">want</span><span class="op" id="8599628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599631">}</span><br>
<span class="lineno"></span><span class="op" id="8599633">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="keyword" id="8599636">func</span>&nbsp;<span class="ident" id="8599641">TestUnmarshal</span><span class="op" id="8599654">(</span><span class="ident" id="8599655">t</span>&nbsp;<span class="op" id="8599657">*</span><span class="ident" id="8599658">testing</span><span class="op" id="8599665">.</span><span class="ident" id="8599666">T</span><span class="op" id="8599667">)</span>&nbsp;<span class="op" id="8599669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599672">for</span>&nbsp;<span class="ident" id="8599676">i</span><span class="op" id="8599677">,</span>&nbsp;<span class="ident" id="8599679">tt</span>&nbsp;<span class="op" id="8599682">:=</span>&nbsp;<span class="keyword" id="8599685">range</span>&nbsp;<span class="ident" id="8599691">unmarshalTests</span>&nbsp;<span class="op" id="8599706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599710">var</span>&nbsp;<span class="ident" id="8599714">scan</span>&nbsp;<span class="ident" id="8599719">scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599729">in</span>&nbsp;<span class="op" id="8599732">:=</span>&nbsp;<span class="op" id="8599735">[</span><span class="op" id="8599736">]</span><span class="builtintype" id="8599737">byte</span><span class="op" id="8599741">(</span><span class="ident" id="8599742">tt</span><span class="op" id="8599744">.</span><span class="ident" id="8599745">in</span><span class="op" id="8599747">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599751">if</span>&nbsp;<span class="ident" id="8599754">err</span>&nbsp;<span class="op" id="8599758">:=</span>&nbsp;<span class="ident" id="8599761">checkValid</span><span class="op" id="8599771">(</span><span class="ident" id="8599772">in</span><span class="op" id="8599774">,</span>&nbsp;<span class="op" id="8599776">&amp;</span><span class="ident" id="8599777">scan</span><span class="op" id="8599781">)</span><span class="op" id="8599782">;</span>&nbsp;<span class="ident" id="8599784">err</span>&nbsp;<span class="op" id="8599788">!=</span>&nbsp;<span class="ident" id="8599791">nil</span>&nbsp;<span class="op" id="8599795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599800">if</span>&nbsp;<span class="op" id="8599803">!</span><span class="ident" id="8599804">reflect</span><span class="op" id="8599811">.</span><span class="ident" id="8599812">DeepEqual</span><span class="op" id="8599821">(</span><span class="ident" id="8599822">err</span><span class="op" id="8599825">,</span>&nbsp;<span class="ident" id="8599827">tt</span><span class="op" id="8599829">.</span><span class="ident" id="8599830">err</span><span class="op" id="8599833">)</span>&nbsp;<span class="op" id="8599835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599841">t</span><span class="op" id="8599842">.</span><span class="ident" id="8599843">Errorf</span><span class="op" id="8599849">(</span><span class="string" id="8599850">&#34;#%d:&nbsp;checkValid:&nbsp;%#v&#34;</span><span class="op" id="8599872">,</span>&nbsp;<span class="ident" id="8599874">i</span><span class="op" id="8599875">,</span>&nbsp;<span class="ident" id="8599877">err</span><span class="op" id="8599880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599886">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599898">}</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599906">if</span>&nbsp;<span class="ident" id="8599909">tt</span><span class="op" id="8599911">.</span><span class="ident" id="8599912">ptr</span>&nbsp;<span class="op" id="8599916">==</span>&nbsp;<span class="ident" id="8599919">nil</span>&nbsp;<span class="op" id="8599923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8599928">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8599944">//&nbsp;v&nbsp;=&nbsp;new(right-type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599969">v</span>&nbsp;<span class="op" id="8599971">:=</span>&nbsp;<span class="ident" id="8599974">reflect</span><span class="op" id="8599981">.</span><span class="ident" id="8599982">New</span><span class="op" id="8599985">(</span><span class="ident" id="8599986">reflect</span><span class="op" id="8599993">.</span><span class="ident" id="8599994">TypeOf</span><span class="op" id="8600000">(</span><span class="ident" id="8600001">tt</span><span class="op" id="8600003">.</span><span class="ident" id="8600004">ptr</span><span class="op" id="8600007">)</span><span class="op" id="8600008">.</span><span class="ident" id="8600009">Elem</span><span class="op" id="8600013">(</span><span class="op" id="8600014">)</span><span class="op" id="8600015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600019">dec</span>&nbsp;<span class="op" id="8600023">:=</span>&nbsp;<span class="ident" id="8600026">NewDecoder</span><span class="op" id="8600036">(</span><span class="ident" id="8600037">bytes</span><span class="op" id="8600042">.</span><span class="ident" id="8600043">NewReader</span><span class="op" id="8600052">(</span><span class="ident" id="8600053">in</span><span class="op" id="8600055">)</span><span class="op" id="8600056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600060">if</span>&nbsp;<span class="ident" id="8600063">tt</span><span class="op" id="8600065">.</span><span class="ident" id="8600066">useNumber</span>&nbsp;<span class="op" id="8600076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600081">dec</span><span class="op" id="8600084">.</span><span class="ident" id="8600085">UseNumber</span><span class="op" id="8600094">(</span><span class="op" id="8600095">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600103">if</span>&nbsp;<span class="ident" id="8600106">err</span>&nbsp;<span class="op" id="8600110">:=</span>&nbsp;<span class="ident" id="8600113">dec</span><span class="op" id="8600116">.</span><span class="ident" id="8600117">Decode</span><span class="op" id="8600123">(</span><span class="ident" id="8600124">v</span><span class="op" id="8600125">.</span><span class="ident" id="8600126">Interface</span><span class="op" id="8600135">(</span><span class="op" id="8600136">)</span><span class="op" id="8600137">)</span><span class="op" id="8600138">;</span>&nbsp;<span class="op" id="8600140">!</span><span class="ident" id="8600141">reflect</span><span class="op" id="8600148">.</span><span class="ident" id="8600149">DeepEqual</span><span class="op" id="8600158">(</span><span class="ident" id="8600159">err</span><span class="op" id="8600162">,</span>&nbsp;<span class="ident" id="8600164">tt</span><span class="op" id="8600166">.</span><span class="ident" id="8600167">err</span><span class="op" id="8600170">)</span>&nbsp;<span class="op" id="8600172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600177">t</span><span class="op" id="8600178">.</span><span class="ident" id="8600179">Errorf</span><span class="op" id="8600185">(</span><span class="string" id="8600186">&#34;#%d:&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8600204">,</span>&nbsp;<span class="ident" id="8600206">i</span><span class="op" id="8600207">,</span>&nbsp;<span class="ident" id="8600209">err</span><span class="op" id="8600212">,</span>&nbsp;<span class="ident" id="8600214">tt</span><span class="op" id="8600216">.</span><span class="ident" id="8600217">err</span><span class="op" id="8600220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600225">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600236">}</span>&nbsp;<span class="keyword" id="8600238">else</span>&nbsp;<span class="keyword" id="8600243">if</span>&nbsp;<span class="ident" id="8600246">err</span>&nbsp;<span class="op" id="8600250">!=</span>&nbsp;<span class="ident" id="8600253">nil</span>&nbsp;<span class="op" id="8600257">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600262">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600277">if</span>&nbsp;<span class="op" id="8600280">!</span><span class="ident" id="8600281">reflect</span><span class="op" id="8600288">.</span><span class="ident" id="8600289">DeepEqual</span><span class="op" id="8600298">(</span><span class="ident" id="8600299">v</span><span class="op" id="8600300">.</span><span class="ident" id="8600301">Elem</span><span class="op" id="8600305">(</span><span class="op" id="8600306">)</span><span class="op" id="8600307">.</span><span class="ident" id="8600308">Interface</span><span class="op" id="8600317">(</span><span class="op" id="8600318">)</span><span class="op" id="8600319">,</span>&nbsp;<span class="ident" id="8600321">tt</span><span class="op" id="8600323">.</span><span class="ident" id="8600324">out</span><span class="op" id="8600327">)</span>&nbsp;<span class="op" id="8600329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600334">t</span><span class="op" id="8600335">.</span><span class="ident" id="8600336">Errorf</span><span class="op" id="8600342">(</span><span class="string" id="8600343">&#34;#%d:&nbsp;mismatch\nhave:&nbsp;%#+v\nwant:&nbsp;%#+v&#34;</span><span class="op" id="8600382">,</span>&nbsp;<span class="ident" id="8600384">i</span><span class="op" id="8600385">,</span>&nbsp;<span class="ident" id="8600387">v</span><span class="op" id="8600388">.</span><span class="ident" id="8600389">Elem</span><span class="op" id="8600393">(</span><span class="op" id="8600394">)</span><span class="op" id="8600395">.</span><span class="ident" id="8600396">Interface</span><span class="op" id="8600405">(</span><span class="op" id="8600406">)</span><span class="op" id="8600407">,</span>&nbsp;<span class="ident" id="8600409">tt</span><span class="op" id="8600411">.</span><span class="ident" id="8600412">out</span><span class="op" id="8600415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600420">data</span><span class="op" id="8600424">,</span>&nbsp;<span class="ident" id="8600426">_</span>&nbsp;<span class="op" id="8600428">:=</span>&nbsp;<span class="ident" id="8600431">Marshal</span><span class="op" id="8600438">(</span><span class="ident" id="8600439">v</span><span class="op" id="8600440">.</span><span class="ident" id="8600441">Elem</span><span class="op" id="8600445">(</span><span class="op" id="8600446">)</span><span class="op" id="8600447">.</span><span class="ident" id="8600448">Interface</span><span class="op" id="8600457">(</span><span class="op" id="8600458">)</span><span class="op" id="8600459">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8600464">println</span><span class="op" id="8600471">(</span><span class="builtintype" id="8600472">string</span><span class="op" id="8600478">(</span><span class="ident" id="8600479">data</span><span class="op" id="8600483">)</span><span class="op" id="8600484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600489">data</span><span class="op" id="8600493">,</span>&nbsp;<span class="ident" id="8600495">_</span>&nbsp;<span class="op" id="8600497">=</span>&nbsp;<span class="ident" id="8600499">Marshal</span><span class="op" id="8600506">(</span><span class="ident" id="8600507">tt</span><span class="op" id="8600509">.</span><span class="ident" id="8600510">out</span><span class="op" id="8600513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8600518">println</span><span class="op" id="8600525">(</span><span class="builtintype" id="8600526">string</span><span class="op" id="8600532">(</span><span class="ident" id="8600533">data</span><span class="op" id="8600537">)</span><span class="op" id="8600538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600543">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600554">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8600559">//&nbsp;Check&nbsp;round&nbsp;trip.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600582">if</span>&nbsp;<span class="ident" id="8600585">tt</span><span class="op" id="8600587">.</span><span class="ident" id="8600588">err</span>&nbsp;<span class="op" id="8600592">==</span>&nbsp;<span class="ident" id="8600595">nil</span>&nbsp;<span class="op" id="8600599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600604">enc</span><span class="op" id="8600607">,</span>&nbsp;<span class="ident" id="8600609">err</span>&nbsp;<span class="op" id="8600613">:=</span>&nbsp;<span class="ident" id="8600616">Marshal</span><span class="op" id="8600623">(</span><span class="ident" id="8600624">v</span><span class="op" id="8600625">.</span><span class="ident" id="8600626">Interface</span><span class="op" id="8600635">(</span><span class="op" id="8600636">)</span><span class="op" id="8600637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600642">if</span>&nbsp;<span class="ident" id="8600645">err</span>&nbsp;<span class="op" id="8600649">!=</span>&nbsp;<span class="ident" id="8600652">nil</span>&nbsp;<span class="op" id="8600656">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600662">t</span><span class="op" id="8600663">.</span><span class="ident" id="8600664">Errorf</span><span class="op" id="8600670">(</span><span class="string" id="8600671">&#34;#%d:&nbsp;error&nbsp;re-marshaling:&nbsp;%v&#34;</span><span class="op" id="8600701">,</span>&nbsp;<span class="ident" id="8600703">i</span><span class="op" id="8600704">,</span>&nbsp;<span class="ident" id="8600706">err</span><span class="op" id="8600709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600715">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600732">vv</span>&nbsp;<span class="op" id="8600735">:=</span>&nbsp;<span class="ident" id="8600738">reflect</span><span class="op" id="8600745">.</span><span class="ident" id="8600746">New</span><span class="op" id="8600749">(</span><span class="ident" id="8600750">reflect</span><span class="op" id="8600757">.</span><span class="ident" id="8600758">TypeOf</span><span class="op" id="8600764">(</span><span class="ident" id="8600765">tt</span><span class="op" id="8600767">.</span><span class="ident" id="8600768">ptr</span><span class="op" id="8600771">)</span><span class="op" id="8600772">.</span><span class="ident" id="8600773">Elem</span><span class="op" id="8600777">(</span><span class="op" id="8600778">)</span><span class="op" id="8600779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600784">dec</span>&nbsp;<span class="op" id="8600788">=</span>&nbsp;<span class="ident" id="8600790">NewDecoder</span><span class="op" id="8600800">(</span><span class="ident" id="8600801">bytes</span><span class="op" id="8600806">.</span><span class="ident" id="8600807">NewReader</span><span class="op" id="8600816">(</span><span class="ident" id="8600817">enc</span><span class="op" id="8600820">)</span><span class="op" id="8600821">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600826">if</span>&nbsp;<span class="ident" id="8600829">tt</span><span class="op" id="8600831">.</span><span class="ident" id="8600832">useNumber</span>&nbsp;<span class="op" id="8600842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600848">dec</span><span class="op" id="8600851">.</span><span class="ident" id="8600852">UseNumber</span><span class="op" id="8600861">(</span><span class="op" id="8600862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600872">if</span>&nbsp;<span class="ident" id="8600875">err</span>&nbsp;<span class="op" id="8600879">:=</span>&nbsp;<span class="ident" id="8600882">dec</span><span class="op" id="8600885">.</span><span class="ident" id="8600886">Decode</span><span class="op" id="8600892">(</span><span class="ident" id="8600893">vv</span><span class="op" id="8600895">.</span><span class="ident" id="8600896">Interface</span><span class="op" id="8600905">(</span><span class="op" id="8600906">)</span><span class="op" id="8600907">)</span><span class="op" id="8600908">;</span>&nbsp;<span class="ident" id="8600910">err</span>&nbsp;<span class="op" id="8600914">!=</span>&nbsp;<span class="ident" id="8600917">nil</span>&nbsp;<span class="op" id="8600921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600927">t</span><span class="op" id="8600928">.</span><span class="ident" id="8600929">Errorf</span><span class="op" id="8600935">(</span><span class="string" id="8600936">&#34;#%d:&nbsp;error&nbsp;re-unmarshaling&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8600972">,</span>&nbsp;<span class="ident" id="8600974">i</span><span class="op" id="8600975">,</span>&nbsp;<span class="ident" id="8600977">enc</span><span class="op" id="8600980">,</span>&nbsp;<span class="ident" id="8600982">err</span><span class="op" id="8600985">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8600991">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601008">if</span>&nbsp;<span class="op" id="8601011">!</span><span class="ident" id="8601012">reflect</span><span class="op" id="8601019">.</span><span class="ident" id="8601020">DeepEqual</span><span class="op" id="8601029">(</span><span class="ident" id="8601030">v</span><span class="op" id="8601031">.</span><span class="ident" id="8601032">Elem</span><span class="op" id="8601036">(</span><span class="op" id="8601037">)</span><span class="op" id="8601038">.</span><span class="ident" id="8601039">Interface</span><span class="op" id="8601048">(</span><span class="op" id="8601049">)</span><span class="op" id="8601050">,</span>&nbsp;<span class="ident" id="8601052">vv</span><span class="op" id="8601054">.</span><span class="ident" id="8601055">Elem</span><span class="op" id="8601059">(</span><span class="op" id="8601060">)</span><span class="op" id="8601061">.</span><span class="ident" id="8601062">Interface</span><span class="op" id="8601071">(</span><span class="op" id="8601072">)</span><span class="op" id="8601073">)</span>&nbsp;<span class="op" id="8601075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601081">t</span><span class="op" id="8601082">.</span><span class="ident" id="8601083">Errorf</span><span class="op" id="8601089">(</span><span class="string" id="8601090">&#34;#%d:&nbsp;mismatch\nhave:&nbsp;%#+v\nwant:&nbsp;%#+v&#34;</span><span class="op" id="8601129">,</span>&nbsp;<span class="ident" id="8601131">i</span><span class="op" id="8601132">,</span>&nbsp;<span class="ident" id="8601134">v</span><span class="op" id="8601135">.</span><span class="ident" id="8601136">Elem</span><span class="op" id="8601140">(</span><span class="op" id="8601141">)</span><span class="op" id="8601142">.</span><span class="ident" id="8601143">Interface</span><span class="op" id="8601152">(</span><span class="op" id="8601153">)</span><span class="op" id="8601154">,</span>&nbsp;<span class="ident" id="8601156">vv</span><span class="op" id="8601158">.</span><span class="ident" id="8601159">Elem</span><span class="op" id="8601163">(</span><span class="op" id="8601164">)</span><span class="op" id="8601165">.</span><span class="ident" id="8601166">Interface</span><span class="op" id="8601175">(</span><span class="op" id="8601176">)</span><span class="op" id="8601177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601183">t</span><span class="op" id="8601184">.</span><span class="ident" id="8601185">Errorf</span><span class="op" id="8601191">(</span><span class="string" id="8601192">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In:&nbsp;%q&#34;</span><span class="op" id="8601205">,</span>&nbsp;<span class="ident" id="8601207">strings</span><span class="op" id="8601214">.</span><span class="ident" id="8601215">Map</span><span class="op" id="8601218">(</span><span class="ident" id="8601219">noSpace</span><span class="op" id="8601226">,</span>&nbsp;<span class="builtintype" id="8601228">string</span><span class="op" id="8601234">(</span><span class="ident" id="8601235">in</span><span class="op" id="8601237">)</span><span class="op" id="8601238">)</span><span class="op" id="8601239">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601245">t</span><span class="op" id="8601246">.</span><span class="ident" id="8601247">Errorf</span><span class="op" id="8601253">(</span><span class="string" id="8601254">&#34;Marshal:&nbsp;%q&#34;</span><span class="op" id="8601267">,</span>&nbsp;<span class="ident" id="8601269">strings</span><span class="op" id="8601276">.</span><span class="ident" id="8601277">Map</span><span class="op" id="8601280">(</span><span class="ident" id="8601281">noSpace</span><span class="op" id="8601288">,</span>&nbsp;<span class="builtintype" id="8601290">string</span><span class="op" id="8601296">(</span><span class="ident" id="8601297">enc</span><span class="op" id="8601300">)</span><span class="op" id="8601301">)</span><span class="op" id="8601302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601308">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601327">}</span><br>
<span class="lineno">570</span><span class="op" id="8601329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8601332">func</span>&nbsp;<span class="ident" id="8601337">TestUnmarshalMarshal</span><span class="op" id="8601357">(</span><span class="ident" id="8601358">t</span>&nbsp;<span class="op" id="8601360">*</span><span class="ident" id="8601361">testing</span><span class="op" id="8601368">.</span><span class="ident" id="8601369">T</span><span class="op" id="8601370">)</span>&nbsp;<span class="op" id="8601372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601375">initBig</span><span class="op" id="8601382">(</span><span class="op" id="8601383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601386">var</span>&nbsp;<span class="ident" id="8601390">v</span>&nbsp;<span class="keyword" id="8601392">interface</span><span class="op" id="8601401">{</span><span class="op" id="8601402">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601405">if</span>&nbsp;<span class="ident" id="8601408">err</span>&nbsp;<span class="op" id="8601412">:=</span>&nbsp;<span class="ident" id="8601415">Unmarshal</span><span class="op" id="8601424">(</span><span class="ident" id="8601425">jsonBig</span><span class="op" id="8601432">,</span>&nbsp;<span class="op" id="8601434">&amp;</span><span class="ident" id="8601435">v</span><span class="op" id="8601436">)</span><span class="op" id="8601437">;</span>&nbsp;<span class="ident" id="8601439">err</span>&nbsp;<span class="op" id="8601443">!=</span>&nbsp;<span class="ident" id="8601446">nil</span>&nbsp;<span class="op" id="8601450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601454">t</span><span class="op" id="8601455">.</span><span class="ident" id="8601456">Fatalf</span><span class="op" id="8601462">(</span><span class="string" id="8601463">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8601478">,</span>&nbsp;<span class="ident" id="8601480">err</span><span class="op" id="8601483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601489">b</span><span class="op" id="8601490">,</span>&nbsp;<span class="ident" id="8601492">err</span>&nbsp;<span class="op" id="8601496">:=</span>&nbsp;<span class="ident" id="8601499">Marshal</span><span class="op" id="8601506">(</span><span class="ident" id="8601507">v</span><span class="op" id="8601508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601511">if</span>&nbsp;<span class="ident" id="8601514">err</span>&nbsp;<span class="op" id="8601518">!=</span>&nbsp;<span class="ident" id="8601521">nil</span>&nbsp;<span class="op" id="8601525">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601529">t</span><span class="op" id="8601530">.</span><span class="ident" id="8601531">Fatalf</span><span class="op" id="8601537">(</span><span class="string" id="8601538">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8601551">,</span>&nbsp;<span class="ident" id="8601553">err</span><span class="op" id="8601556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601562">if</span>&nbsp;<span class="op" id="8601565">!</span><span class="ident" id="8601566">bytes</span><span class="op" id="8601571">.</span><span class="ident" id="8601572">Equal</span><span class="op" id="8601577">(</span><span class="ident" id="8601578">jsonBig</span><span class="op" id="8601585">,</span>&nbsp;<span class="ident" id="8601587">b</span><span class="op" id="8601588">)</span>&nbsp;<span class="op" id="8601590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601594">t</span><span class="op" id="8601595">.</span><span class="ident" id="8601596">Errorf</span><span class="op" id="8601602">(</span><span class="string" id="8601603">&#34;Marshal&nbsp;jsonBig&#34;</span><span class="op" id="8601620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601624">diff</span><span class="op" id="8601628">(</span><span class="ident" id="8601629">t</span><span class="op" id="8601630">,</span>&nbsp;<span class="ident" id="8601632">b</span><span class="op" id="8601633">,</span>&nbsp;<span class="ident" id="8601635">jsonBig</span><span class="op" id="8601642">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8601646">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601654">}</span><br>
<span class="lineno"></span><span class="op" id="8601656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8601659">var</span>&nbsp;<span class="ident" id="8601663">numberTests</span>&nbsp;<span class="op" id="8601675">=</span>&nbsp;<span class="op" id="8601677">[</span><span class="op" id="8601678">]</span><span class="keyword" id="8601679">struct</span>&nbsp;<span class="op" id="8601686">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601689">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8601698">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601706">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8601715">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601722">intErr</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8601731">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601739">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8601748">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601757">floatErr</span>&nbsp;<span class="builtintype" id="8601766">string</span><br>
<span class="lineno">595</span><span class="op" id="8601773">}</span><span class="op" id="8601774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601777">{</span><span class="ident" id="8601778">in</span><span class="op" id="8601780">:</span>&nbsp;<span class="string" id="8601782">&#34;-1.23e1&#34;</span><span class="op" id="8601791">,</span>&nbsp;<span class="ident" id="8601793">intErr</span><span class="op" id="8601799">:</span>&nbsp;<span class="string" id="8601801">&#34;strconv.ParseInt:&nbsp;parsing&nbsp;\&#34;-1.23e1\&#34;:&nbsp;invalid&nbsp;syntax&#34;</span><span class="op" id="8601856">,</span>&nbsp;<span class="ident" id="8601858">f</span><span class="op" id="8601859">:</span>&nbsp;<span class="op" id="8601861">-</span><span class="num" id="8601862">1.23e1</span><span class="op" id="8601868">}</span><span class="op" id="8601869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601872">{</span><span class="ident" id="8601873">in</span><span class="op" id="8601875">:</span>&nbsp;<span class="string" id="8601877">&#34;-12&#34;</span><span class="op" id="8601882">,</span>&nbsp;<span class="ident" id="8601884">i</span><span class="op" id="8601885">:</span>&nbsp;<span class="op" id="8601887">-</span><span class="num" id="8601888">12</span><span class="op" id="8601890">,</span>&nbsp;<span class="ident" id="8601892">f</span><span class="op" id="8601893">:</span>&nbsp;<span class="op" id="8601895">-</span><span class="num" id="8601896">12.0</span><span class="op" id="8601900">}</span><span class="op" id="8601901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601904">{</span><span class="ident" id="8601905">in</span><span class="op" id="8601907">:</span>&nbsp;<span class="string" id="8601909">&#34;1e1000&#34;</span><span class="op" id="8601917">,</span>&nbsp;<span class="ident" id="8601919">intErr</span><span class="op" id="8601925">:</span>&nbsp;<span class="string" id="8601927">&#34;strconv.ParseInt:&nbsp;parsing&nbsp;\&#34;1e1000\&#34;:&nbsp;invalid&nbsp;syntax&#34;</span><span class="op" id="8601981">,</span>&nbsp;<span class="ident" id="8601983">floatErr</span><span class="op" id="8601991">:</span>&nbsp;<span class="string" id="8601993">&#34;strconv.ParseFloat:&nbsp;parsing&nbsp;\&#34;1e1000\&#34;:&nbsp;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="8602053">}</span><span class="op" id="8602054">,</span><br>
<span class="lineno"></span><span class="op" id="8602056">}</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span><span class="comment" id="8602059">//&nbsp;Independent&nbsp;of&nbsp;Decode,&nbsp;basic&nbsp;coverage&nbsp;of&nbsp;the&nbsp;accessors&nbsp;in&nbsp;Number</span><br>
<span class="lineno"></span><span class="keyword" id="8602127">func</span>&nbsp;<span class="ident" id="8602132">TestNumberAccessors</span><span class="op" id="8602151">(</span><span class="ident" id="8602152">t</span>&nbsp;<span class="op" id="8602154">*</span><span class="ident" id="8602155">testing</span><span class="op" id="8602162">.</span><span class="ident" id="8602163">T</span><span class="op" id="8602164">)</span>&nbsp;<span class="op" id="8602166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8602169">for</span>&nbsp;<span class="ident" id="8602173">_</span><span class="op" id="8602174">,</span>&nbsp;<span class="ident" id="8602176">tt</span>&nbsp;<span class="op" id="8602179">:=</span>&nbsp;<span class="keyword" id="8602182">range</span>&nbsp;<span class="ident" id="8602188">numberTests</span>&nbsp;<span class="op" id="8602200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602204">n</span>&nbsp;<span class="op" id="8602206">:=</span>&nbsp;<span class="ident" id="8602209">Number</span><span class="op" id="8602215">(</span><span class="ident" id="8602216">tt</span><span class="op" id="8602218">.</span><span class="ident" id="8602219">in</span><span class="op" id="8602221">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8602225">if</span>&nbsp;<span class="ident" id="8602228">s</span>&nbsp;<span class="op" id="8602230">:=</span>&nbsp;<span class="ident" id="8602233">n</span><span class="op" id="8602234">.</span><span class="ident" id="8602235">String</span><span class="op" id="8602241">(</span><span class="op" id="8602242">)</span><span class="op" id="8602243">;</span>&nbsp;<span class="ident" id="8602245">s</span>&nbsp;<span class="op" id="8602247">!=</span>&nbsp;<span class="ident" id="8602250">tt</span><span class="op" id="8602252">.</span><span class="ident" id="8602253">in</span>&nbsp;<span class="op" id="8602256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602261">t</span><span class="op" id="8602262">.</span><span class="ident" id="8602263">Errorf</span><span class="op" id="8602269">(</span><span class="string" id="8602270">&#34;Number(%q).String()&nbsp;is&nbsp;%q&#34;</span><span class="op" id="8602297">,</span>&nbsp;<span class="ident" id="8602299">tt</span><span class="op" id="8602301">.</span><span class="ident" id="8602302">in</span><span class="op" id="8602304">,</span>&nbsp;<span class="ident" id="8602306">s</span><span class="op" id="8602307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8602315">if</span>&nbsp;<span class="ident" id="8602318">i</span><span class="op" id="8602319">,</span>&nbsp;<span class="ident" id="8602321">err</span>&nbsp;<span class="op" id="8602325">:=</span>&nbsp;<span class="ident" id="8602328">n</span><span class="op" id="8602329">.</span><span class="ident" id="8602330">Int64</span><span class="op" id="8602335">(</span><span class="op" id="8602336">)</span><span class="op" id="8602337">;</span>&nbsp;<span class="ident" id="8602339">err</span>&nbsp;<span class="op" id="8602343">==</span>&nbsp;<span class="ident" id="8602346">nil</span>&nbsp;<span class="op" id="8602350">&amp;&amp;</span>&nbsp;<span class="ident" id="8602353">tt</span><span class="op" id="8602355">.</span><span class="ident" id="8602356">intErr</span>&nbsp;<span class="op" id="8602363">==</span>&nbsp;<span class="string" id="8602366">&#34;&#34;</span>&nbsp;<span class="op" id="8602369">&amp;&amp;</span>&nbsp;<span class="ident" id="8602372">i</span>&nbsp;<span class="op" id="8602374">!=</span>&nbsp;<span class="ident" id="8602377">tt</span><span class="op" id="8602379">.</span><span class="ident" id="8602380">i</span>&nbsp;<span class="op" id="8602382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602387">t</span><span class="op" id="8602388">.</span><span class="ident" id="8602389">Errorf</span><span class="op" id="8602395">(</span><span class="string" id="8602396">&#34;Number(%q).Int64()&nbsp;is&nbsp;%d&#34;</span><span class="op" id="8602422">,</span>&nbsp;<span class="ident" id="8602424">tt</span><span class="op" id="8602426">.</span><span class="ident" id="8602427">in</span><span class="op" id="8602429">,</span>&nbsp;<span class="ident" id="8602431">i</span><span class="op" id="8602432">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602436">}</span>&nbsp;<span class="keyword" id="8602438">else</span>&nbsp;<span class="keyword" id="8602443">if</span>&nbsp;<span class="op" id="8602446">(</span><span class="ident" id="8602447">err</span>&nbsp;<span class="op" id="8602451">==</span>&nbsp;<span class="ident" id="8602454">nil</span>&nbsp;<span class="op" id="8602458">&amp;&amp;</span>&nbsp;<span class="ident" id="8602461">tt</span><span class="op" id="8602463">.</span><span class="ident" id="8602464">intErr</span>&nbsp;<span class="op" id="8602471">!=</span>&nbsp;<span class="string" id="8602474">&#34;&#34;</span><span class="op" id="8602476">)</span>&nbsp;<span class="op" id="8602478">||</span>&nbsp;<span class="op" id="8602481">(</span><span class="ident" id="8602482">err</span>&nbsp;<span class="op" id="8602486">!=</span>&nbsp;<span class="ident" id="8602489">nil</span>&nbsp;<span class="op" id="8602493">&amp;&amp;</span>&nbsp;<span class="ident" id="8602496">err</span><span class="op" id="8602499">.</span><span class="ident" id="8602500">Error</span><span class="op" id="8602505">(</span><span class="op" id="8602506">)</span>&nbsp;<span class="op" id="8602508">!=</span>&nbsp;<span class="ident" id="8602511">tt</span><span class="op" id="8602513">.</span><span class="ident" id="8602514">intErr</span><span class="op" id="8602520">)</span>&nbsp;<span class="op" id="8602522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602527">t</span><span class="op" id="8602528">.</span><span class="ident" id="8602529">Errorf</span><span class="op" id="8602535">(</span><span class="string" id="8602536">&#34;Number(%q).Int64()&nbsp;wanted&nbsp;error&nbsp;%q&nbsp;but&nbsp;got:&nbsp;%v&#34;</span><span class="op" id="8602584">,</span>&nbsp;<span class="ident" id="8602586">tt</span><span class="op" id="8602588">.</span><span class="ident" id="8602589">in</span><span class="op" id="8602591">,</span>&nbsp;<span class="ident" id="8602593">tt</span><span class="op" id="8602595">.</span><span class="ident" id="8602596">intErr</span><span class="op" id="8602602">,</span>&nbsp;<span class="ident" id="8602604">err</span><span class="op" id="8602607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8602615">if</span>&nbsp;<span class="ident" id="8602618">f</span><span class="op" id="8602619">,</span>&nbsp;<span class="ident" id="8602621">err</span>&nbsp;<span class="op" id="8602625">:=</span>&nbsp;<span class="ident" id="8602628">n</span><span class="op" id="8602629">.</span><span class="ident" id="8602630">Float64</span><span class="op" id="8602637">(</span><span class="op" id="8602638">)</span><span class="op" id="8602639">;</span>&nbsp;<span class="ident" id="8602641">err</span>&nbsp;<span class="op" id="8602645">==</span>&nbsp;<span class="ident" id="8602648">nil</span>&nbsp;<span class="op" id="8602652">&amp;&amp;</span>&nbsp;<span class="ident" id="8602655">tt</span><span class="op" id="8602657">.</span><span class="ident" id="8602658">floatErr</span>&nbsp;<span class="op" id="8602667">==</span>&nbsp;<span class="string" id="8602670">&#34;&#34;</span>&nbsp;<span class="op" id="8602673">&amp;&amp;</span>&nbsp;<span class="ident" id="8602676">f</span>&nbsp;<span class="op" id="8602678">!=</span>&nbsp;<span class="ident" id="8602681">tt</span><span class="op" id="8602683">.</span><span class="ident" id="8602684">f</span>&nbsp;<span class="op" id="8602686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602691">t</span><span class="op" id="8602692">.</span><span class="ident" id="8602693">Errorf</span><span class="op" id="8602699">(</span><span class="string" id="8602700">&#34;Number(%q).Float64()&nbsp;is&nbsp;%g&#34;</span><span class="op" id="8602728">,</span>&nbsp;<span class="ident" id="8602730">tt</span><span class="op" id="8602732">.</span><span class="ident" id="8602733">in</span><span class="op" id="8602735">,</span>&nbsp;<span class="ident" id="8602737">f</span><span class="op" id="8602738">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602742">}</span>&nbsp;<span class="keyword" id="8602744">else</span>&nbsp;<span class="keyword" id="8602749">if</span>&nbsp;<span class="op" id="8602752">(</span><span class="ident" id="8602753">err</span>&nbsp;<span class="op" id="8602757">==</span>&nbsp;<span class="ident" id="8602760">nil</span>&nbsp;<span class="op" id="8602764">&amp;&amp;</span>&nbsp;<span class="ident" id="8602767">tt</span><span class="op" id="8602769">.</span><span class="ident" id="8602770">floatErr</span>&nbsp;<span class="op" id="8602779">!=</span>&nbsp;<span class="string" id="8602782">&#34;&#34;</span><span class="op" id="8602784">)</span>&nbsp;<span class="op" id="8602786">||</span>&nbsp;<span class="op" id="8602789">(</span><span class="ident" id="8602790">err</span>&nbsp;<span class="op" id="8602794">!=</span>&nbsp;<span class="ident" id="8602797">nil</span>&nbsp;<span class="op" id="8602801">&amp;&amp;</span>&nbsp;<span class="ident" id="8602804">err</span><span class="op" id="8602807">.</span><span class="ident" id="8602808">Error</span><span class="op" id="8602813">(</span><span class="op" id="8602814">)</span>&nbsp;<span class="op" id="8602816">!=</span>&nbsp;<span class="ident" id="8602819">tt</span><span class="op" id="8602821">.</span><span class="ident" id="8602822">floatErr</span><span class="op" id="8602830">)</span>&nbsp;<span class="op" id="8602832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602837">t</span><span class="op" id="8602838">.</span><span class="ident" id="8602839">Errorf</span><span class="op" id="8602845">(</span><span class="string" id="8602846">&#34;Number(%q).Float64()&nbsp;wanted&nbsp;error&nbsp;%q&nbsp;but&nbsp;got:&nbsp;%v&#34;</span><span class="op" id="8602896">,</span>&nbsp;<span class="ident" id="8602898">tt</span><span class="op" id="8602900">.</span><span class="ident" id="8602901">in</span><span class="op" id="8602903">,</span>&nbsp;<span class="ident" id="8602905">tt</span><span class="op" id="8602907">.</span><span class="ident" id="8602908">floatErr</span><span class="op" id="8602916">,</span>&nbsp;<span class="ident" id="8602918">err</span><span class="op" id="8602921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602928">}</span><br>
<span class="lineno"></span><span class="op" id="8602930">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="8602933">func</span>&nbsp;<span class="ident" id="8602938">TestLargeByteSlice</span><span class="op" id="8602956">(</span><span class="ident" id="8602957">t</span>&nbsp;<span class="op" id="8602959">*</span><span class="ident" id="8602960">testing</span><span class="op" id="8602967">.</span><span class="ident" id="8602968">T</span><span class="op" id="8602969">)</span>&nbsp;<span class="op" id="8602971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8602974">s0</span>&nbsp;<span class="op" id="8602977">:=</span>&nbsp;<span class="builtinfunc" id="8602980">make</span><span class="op" id="8602984">(</span><span class="op" id="8602985">[</span><span class="op" id="8602986">]</span><span class="builtintype" id="8602987">byte</span><span class="op" id="8602991">,</span>&nbsp;<span class="num" id="8602993">2000</span><span class="op" id="8602997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603000">for</span>&nbsp;<span class="ident" id="8603004">i</span>&nbsp;<span class="op" id="8603006">:=</span>&nbsp;<span class="keyword" id="8603009">range</span>&nbsp;<span class="ident" id="8603015">s0</span>&nbsp;<span class="op" id="8603018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603022">s0</span><span class="op" id="8603024">[</span><span class="ident" id="8603025">i</span><span class="op" id="8603026">]</span>&nbsp;<span class="op" id="8603028">=</span>&nbsp;<span class="builtintype" id="8603030">byte</span><span class="op" id="8603034">(</span><span class="ident" id="8603035">i</span><span class="op" id="8603036">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603042">b</span><span class="op" id="8603043">,</span>&nbsp;<span class="ident" id="8603045">err</span>&nbsp;<span class="op" id="8603049">:=</span>&nbsp;<span class="ident" id="8603052">Marshal</span><span class="op" id="8603059">(</span><span class="ident" id="8603060">s0</span><span class="op" id="8603062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603065">if</span>&nbsp;<span class="ident" id="8603068">err</span>&nbsp;<span class="op" id="8603072">!=</span>&nbsp;<span class="ident" id="8603075">nil</span>&nbsp;<span class="op" id="8603079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603083">t</span><span class="op" id="8603084">.</span><span class="ident" id="8603085">Fatalf</span><span class="op" id="8603091">(</span><span class="string" id="8603092">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8603105">,</span>&nbsp;<span class="ident" id="8603107">err</span><span class="op" id="8603110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603113">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603116">var</span>&nbsp;<span class="ident" id="8603120">s1</span>&nbsp;<span class="op" id="8603123">[</span><span class="op" id="8603124">]</span><span class="builtintype" id="8603125">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603131">if</span>&nbsp;<span class="ident" id="8603134">err</span>&nbsp;<span class="op" id="8603138">:=</span>&nbsp;<span class="ident" id="8603141">Unmarshal</span><span class="op" id="8603150">(</span><span class="ident" id="8603151">b</span><span class="op" id="8603152">,</span>&nbsp;<span class="op" id="8603154">&amp;</span><span class="ident" id="8603155">s1</span><span class="op" id="8603157">)</span><span class="op" id="8603158">;</span>&nbsp;<span class="ident" id="8603160">err</span>&nbsp;<span class="op" id="8603164">!=</span>&nbsp;<span class="ident" id="8603167">nil</span>&nbsp;<span class="op" id="8603171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603175">t</span><span class="op" id="8603176">.</span><span class="ident" id="8603177">Fatalf</span><span class="op" id="8603183">(</span><span class="string" id="8603184">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8603199">,</span>&nbsp;<span class="ident" id="8603201">err</span><span class="op" id="8603204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603210">if</span>&nbsp;<span class="op" id="8603213">!</span><span class="ident" id="8603214">bytes</span><span class="op" id="8603219">.</span><span class="ident" id="8603220">Equal</span><span class="op" id="8603225">(</span><span class="ident" id="8603226">s0</span><span class="op" id="8603228">,</span>&nbsp;<span class="ident" id="8603230">s1</span><span class="op" id="8603232">)</span>&nbsp;<span class="op" id="8603234">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603238">t</span><span class="op" id="8603239">.</span><span class="ident" id="8603240">Errorf</span><span class="op" id="8603246">(</span><span class="string" id="8603247">&#34;Marshal&nbsp;large&nbsp;byte&nbsp;slice&#34;</span><span class="op" id="8603273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603277">diff</span><span class="op" id="8603281">(</span><span class="ident" id="8603282">t</span><span class="op" id="8603283">,</span>&nbsp;<span class="ident" id="8603285">s0</span><span class="op" id="8603287">,</span>&nbsp;<span class="ident" id="8603289">s1</span><span class="op" id="8603291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603294">}</span><br>
<span class="lineno"></span><span class="op" id="8603296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="8603299">type</span>&nbsp;<span class="ident" id="8603304">Xint</span>&nbsp;<span class="keyword" id="8603309">struct</span>&nbsp;<span class="op" id="8603316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603319">X</span>&nbsp;<span class="builtintype" id="8603321">int</span><br>
<span class="lineno"></span><span class="op" id="8603325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8603328">func</span>&nbsp;<span class="ident" id="8603333">TestUnmarshalInterface</span><span class="op" id="8603355">(</span><span class="ident" id="8603356">t</span>&nbsp;<span class="op" id="8603358">*</span><span class="ident" id="8603359">testing</span><span class="op" id="8603366">.</span><span class="ident" id="8603367">T</span><span class="op" id="8603368">)</span>&nbsp;<span class="op" id="8603370">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603373">var</span>&nbsp;<span class="ident" id="8603377">xint</span>&nbsp;<span class="ident" id="8603382">Xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603388">var</span>&nbsp;<span class="ident" id="8603392">i</span>&nbsp;<span class="keyword" id="8603394">interface</span><span class="op" id="8603403">{</span><span class="op" id="8603404">}</span>&nbsp;<span class="op" id="8603406">=</span>&nbsp;<span class="op" id="8603408">&amp;</span><span class="ident" id="8603409">xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603415">if</span>&nbsp;<span class="ident" id="8603418">err</span>&nbsp;<span class="op" id="8603422">:=</span>&nbsp;<span class="ident" id="8603425">Unmarshal</span><span class="op" id="8603434">(</span><span class="op" id="8603435">[</span><span class="op" id="8603436">]</span><span class="builtintype" id="8603437">byte</span><span class="op" id="8603441">(</span><span class="string" id="8603442">`{&#34;X&#34;:1}`</span><span class="op" id="8603451">)</span><span class="op" id="8603452">,</span>&nbsp;<span class="op" id="8603454">&amp;</span><span class="ident" id="8603455">i</span><span class="op" id="8603456">)</span><span class="op" id="8603457">;</span>&nbsp;<span class="ident" id="8603459">err</span>&nbsp;<span class="op" id="8603463">!=</span>&nbsp;<span class="ident" id="8603466">nil</span>&nbsp;<span class="op" id="8603470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603474">t</span><span class="op" id="8603475">.</span><span class="ident" id="8603476">Fatalf</span><span class="op" id="8603482">(</span><span class="string" id="8603483">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8603498">,</span>&nbsp;<span class="ident" id="8603500">err</span><span class="op" id="8603503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603506">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603509">if</span>&nbsp;<span class="ident" id="8603512">xint</span><span class="op" id="8603516">.</span><span class="ident" id="8603517">X</span>&nbsp;<span class="op" id="8603519">!=</span>&nbsp;<span class="num" id="8603522">1</span>&nbsp;<span class="op" id="8603524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603528">t</span><span class="op" id="8603529">.</span><span class="ident" id="8603530">Fatalf</span><span class="op" id="8603536">(</span><span class="string" id="8603537">&#34;Did&nbsp;not&nbsp;write&nbsp;to&nbsp;xint&#34;</span><span class="op" id="8603560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603563">}</span><br>
<span class="lineno"></span><span class="op" id="8603565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="8603568">func</span>&nbsp;<span class="ident" id="8603573">TestUnmarshalPtrPtr</span><span class="op" id="8603592">(</span><span class="ident" id="8603593">t</span>&nbsp;<span class="op" id="8603595">*</span><span class="ident" id="8603596">testing</span><span class="op" id="8603603">.</span><span class="ident" id="8603604">T</span><span class="op" id="8603605">)</span>&nbsp;<span class="op" id="8603607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603610">var</span>&nbsp;<span class="ident" id="8603614">xint</span>&nbsp;<span class="ident" id="8603619">Xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603625">pxint</span>&nbsp;<span class="op" id="8603631">:=</span>&nbsp;<span class="op" id="8603634">&amp;</span><span class="ident" id="8603635">xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603641">if</span>&nbsp;<span class="ident" id="8603644">err</span>&nbsp;<span class="op" id="8603648">:=</span>&nbsp;<span class="ident" id="8603651">Unmarshal</span><span class="op" id="8603660">(</span><span class="op" id="8603661">[</span><span class="op" id="8603662">]</span><span class="builtintype" id="8603663">byte</span><span class="op" id="8603667">(</span><span class="string" id="8603668">`{&#34;X&#34;:1}`</span><span class="op" id="8603677">)</span><span class="op" id="8603678">,</span>&nbsp;<span class="op" id="8603680">&amp;</span><span class="ident" id="8603681">pxint</span><span class="op" id="8603686">)</span><span class="op" id="8603687">;</span>&nbsp;<span class="ident" id="8603689">err</span>&nbsp;<span class="op" id="8603693">!=</span>&nbsp;<span class="ident" id="8603696">nil</span>&nbsp;<span class="op" id="8603700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603704">t</span><span class="op" id="8603705">.</span><span class="ident" id="8603706">Fatalf</span><span class="op" id="8603712">(</span><span class="string" id="8603713">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8603728">,</span>&nbsp;<span class="ident" id="8603730">err</span><span class="op" id="8603733">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603739">if</span>&nbsp;<span class="ident" id="8603742">xint</span><span class="op" id="8603746">.</span><span class="ident" id="8603747">X</span>&nbsp;<span class="op" id="8603749">!=</span>&nbsp;<span class="num" id="8603752">1</span>&nbsp;<span class="op" id="8603754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603758">t</span><span class="op" id="8603759">.</span><span class="ident" id="8603760">Fatalf</span><span class="op" id="8603766">(</span><span class="string" id="8603767">&#34;Did&nbsp;not&nbsp;write&nbsp;to&nbsp;xint&#34;</span><span class="op" id="8603790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603793">}</span><br>
<span class="lineno"></span><span class="op" id="8603795">}</span><br>
<span class="lineno">665</span><br>
<span class="lineno"></span><span class="keyword" id="8603798">func</span>&nbsp;<span class="ident" id="8603803">TestEscape</span><span class="op" id="8603813">(</span><span class="ident" id="8603814">t</span>&nbsp;<span class="op" id="8603816">*</span><span class="ident" id="8603817">testing</span><span class="op" id="8603824">.</span><span class="ident" id="8603825">T</span><span class="op" id="8603826">)</span>&nbsp;<span class="op" id="8603828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603831">const</span>&nbsp;<span class="ident" id="8603837">input</span>&nbsp;<span class="op" id="8603843">=</span>&nbsp;<span class="string" id="8603845">`&#34;foobar&#34;&lt;html&gt;`</span>&nbsp;<span class="op" id="8603862">+</span>&nbsp;<span class="string" id="8603864">&#34;&nbsp;[\u2028&nbsp;\u2029]&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603884">const</span>&nbsp;<span class="ident" id="8603890">expected</span>&nbsp;<span class="op" id="8603899">=</span>&nbsp;<span class="string" id="8603901">`&#34;\&#34;foobar\&#34;\u003chtml\u003e&nbsp;[\u2028&nbsp;\u2029]&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603949">b</span><span class="op" id="8603950">,</span>&nbsp;<span class="ident" id="8603952">err</span>&nbsp;<span class="op" id="8603956">:=</span>&nbsp;<span class="ident" id="8603959">Marshal</span><span class="op" id="8603966">(</span><span class="ident" id="8603967">input</span><span class="op" id="8603972">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8603975">if</span>&nbsp;<span class="ident" id="8603978">err</span>&nbsp;<span class="op" id="8603982">!=</span>&nbsp;<span class="ident" id="8603985">nil</span>&nbsp;<span class="op" id="8603989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8603993">t</span><span class="op" id="8603994">.</span><span class="ident" id="8603995">Fatalf</span><span class="op" id="8604001">(</span><span class="string" id="8604002">&#34;Marshal&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8604021">,</span>&nbsp;<span class="ident" id="8604023">err</span><span class="op" id="8604026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8604032">if</span>&nbsp;<span class="ident" id="8604035">s</span>&nbsp;<span class="op" id="8604037">:=</span>&nbsp;<span class="builtintype" id="8604040">string</span><span class="op" id="8604046">(</span><span class="ident" id="8604047">b</span><span class="op" id="8604048">)</span><span class="op" id="8604049">;</span>&nbsp;<span class="ident" id="8604051">s</span>&nbsp;<span class="op" id="8604053">!=</span>&nbsp;<span class="ident" id="8604056">expected</span>&nbsp;<span class="op" id="8604065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604069">t</span><span class="op" id="8604070">.</span><span class="ident" id="8604071">Errorf</span><span class="op" id="8604077">(</span><span class="string" id="8604078">&#34;Encoding&nbsp;of&nbsp;[%s]:\n&nbsp;got&nbsp;[%s]\nwant&nbsp;[%s]&#34;</span><span class="op" id="8604119">,</span>&nbsp;<span class="ident" id="8604121">input</span><span class="op" id="8604126">,</span>&nbsp;<span class="ident" id="8604128">s</span><span class="op" id="8604129">,</span>&nbsp;<span class="ident" id="8604131">expected</span><span class="op" id="8604139">)</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604142">}</span><br>
<span class="lineno"></span><span class="op" id="8604144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8604147">//&nbsp;WrongString&nbsp;is&nbsp;a&nbsp;struct&nbsp;that&#39;s&nbsp;misusing&nbsp;the&nbsp;,string&nbsp;modifier.</span><br>
<span class="lineno"></span><span class="keyword" id="8604212">type</span>&nbsp;<span class="ident" id="8604217">WrongString</span>&nbsp;<span class="keyword" id="8604229">struct</span>&nbsp;<span class="op" id="8604236">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604239">Message</span>&nbsp;<span class="builtintype" id="8604247">string</span>&nbsp;<span class="string" id="8604254">`json:&#34;result,string&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8604277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8604280">type</span>&nbsp;<span class="ident" id="8604285">wrongStringTest</span>&nbsp;<span class="keyword" id="8604301">struct</span>&nbsp;<span class="op" id="8604308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604311">in</span><span class="op" id="8604313">,</span>&nbsp;<span class="ident" id="8604315">err</span>&nbsp;<span class="builtintype" id="8604319">string</span><br>
<span class="lineno">685</span><span class="op" id="8604326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8604329">var</span>&nbsp;<span class="ident" id="8604333">wrongStringTests</span>&nbsp;<span class="op" id="8604350">=</span>&nbsp;<span class="op" id="8604352">[</span><span class="op" id="8604353">]</span><span class="ident" id="8604354">wrongStringTest</span><span class="op" id="8604369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604372">{</span><span class="string" id="8604373">`{&#34;result&#34;:&#34;x&#34;}`</span><span class="op" id="8604389">,</span>&nbsp;<span class="string" id="8604391">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;x&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8604469">}</span><span class="op" id="8604470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604473">{</span><span class="string" id="8604474">`{&#34;result&#34;:&#34;foo&#34;}`</span><span class="op" id="8604492">,</span>&nbsp;<span class="string" id="8604494">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;foo&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8604574">}</span><span class="op" id="8604575">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604578">{</span><span class="string" id="8604579">`{&#34;result&#34;:&#34;123&#34;}`</span><span class="op" id="8604597">,</span>&nbsp;<span class="string" id="8604599">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;123&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8604679">}</span><span class="op" id="8604680">,</span><br>
<span class="lineno"></span><span class="op" id="8604682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8604685">//&nbsp;If&nbsp;people&nbsp;misuse&nbsp;the&nbsp;,string&nbsp;modifier,&nbsp;the&nbsp;error&nbsp;message&nbsp;should&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="8604755">//&nbsp;helpful,&nbsp;telling&nbsp;the&nbsp;user&nbsp;that&nbsp;they&#39;re&nbsp;doing&nbsp;it&nbsp;wrong.</span><br>
<span class="lineno">695</span><span class="keyword" id="8604813">func</span>&nbsp;<span class="ident" id="8604818">TestErrorMessageFromMisusedString</span><span class="op" id="8604851">(</span><span class="ident" id="8604852">t</span>&nbsp;<span class="op" id="8604854">*</span><span class="ident" id="8604855">testing</span><span class="op" id="8604862">.</span><span class="ident" id="8604863">T</span><span class="op" id="8604864">)</span>&nbsp;<span class="op" id="8604866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8604869">for</span>&nbsp;<span class="ident" id="8604873">n</span><span class="op" id="8604874">,</span>&nbsp;<span class="ident" id="8604876">tt</span>&nbsp;<span class="op" id="8604879">:=</span>&nbsp;<span class="keyword" id="8604882">range</span>&nbsp;<span class="ident" id="8604888">wrongStringTests</span>&nbsp;<span class="op" id="8604905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604909">r</span>&nbsp;<span class="op" id="8604911">:=</span>&nbsp;<span class="ident" id="8604914">strings</span><span class="op" id="8604921">.</span><span class="ident" id="8604922">NewReader</span><span class="op" id="8604931">(</span><span class="ident" id="8604932">tt</span><span class="op" id="8604934">.</span><span class="ident" id="8604935">in</span><span class="op" id="8604937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8604941">var</span>&nbsp;<span class="ident" id="8604945">s</span>&nbsp;<span class="ident" id="8604947">WrongString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604961">err</span>&nbsp;<span class="op" id="8604965">:=</span>&nbsp;<span class="ident" id="8604968">NewDecoder</span><span class="op" id="8604978">(</span><span class="ident" id="8604979">r</span><span class="op" id="8604980">)</span><span class="op" id="8604981">.</span><span class="ident" id="8604982">Decode</span><span class="op" id="8604988">(</span><span class="op" id="8604989">&amp;</span><span class="ident" id="8604990">s</span><span class="op" id="8604991">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8604995">got</span>&nbsp;<span class="op" id="8604999">:=</span>&nbsp;<span class="ident" id="8605002">fmt</span><span class="op" id="8605005">.</span><span class="ident" id="8605006">Sprintf</span><span class="op" id="8605013">(</span><span class="string" id="8605014">&#34;%v&#34;</span><span class="op" id="8605018">,</span>&nbsp;<span class="ident" id="8605020">err</span><span class="op" id="8605023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8605027">if</span>&nbsp;<span class="ident" id="8605030">got</span>&nbsp;<span class="op" id="8605034">!=</span>&nbsp;<span class="ident" id="8605037">tt</span><span class="op" id="8605039">.</span><span class="ident" id="8605040">err</span>&nbsp;<span class="op" id="8605044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605049">t</span><span class="op" id="8605050">.</span><span class="ident" id="8605051">Errorf</span><span class="op" id="8605057">(</span><span class="string" id="8605058">&#34;%d.&nbsp;got&nbsp;err&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8605085">,</span>&nbsp;<span class="ident" id="8605087">n</span><span class="op" id="8605088">,</span>&nbsp;<span class="ident" id="8605090">got</span><span class="op" id="8605093">,</span>&nbsp;<span class="ident" id="8605095">tt</span><span class="op" id="8605097">.</span><span class="ident" id="8605098">err</span><span class="op" id="8605101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605108">}</span><br>
<span class="lineno">705</span><span class="op" id="8605110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8605113">func</span>&nbsp;<span class="ident" id="8605118">noSpace</span><span class="op" id="8605125">(</span><span class="ident" id="8605126">c</span>&nbsp;<span class="builtintype" id="8605128">rune</span><span class="op" id="8605132">)</span>&nbsp;<span class="builtintype" id="8605134">rune</span>&nbsp;<span class="op" id="8605139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8605142">if</span>&nbsp;<span class="ident" id="8605145">isSpace</span><span class="op" id="8605152">(</span><span class="ident" id="8605153">c</span><span class="op" id="8605154">)</span>&nbsp;<span class="op" id="8605156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8605160">return</span>&nbsp;<span class="op" id="8605167">-</span><span class="num" id="8605168">1</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8605174">return</span>&nbsp;<span class="ident" id="8605181">c</span><br>
<span class="lineno"></span><span class="op" id="8605183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8605186">type</span>&nbsp;<span class="ident" id="8605191">All</span>&nbsp;<span class="keyword" id="8605195">struct</span>&nbsp;<span class="op" id="8605202">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605205">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605213">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605219">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605227">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605232">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605240">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605246">Int16</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605254">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605261">Int32</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605269">int32</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605276">Int64</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8605284">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605291">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605299">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605305">Uint8</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8605313">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605320">Uint16</span>&nbsp;&nbsp;<span class="builtintype" id="8605328">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605336">Uint32</span>&nbsp;&nbsp;<span class="builtintype" id="8605344">uint32</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605352">Uint64</span>&nbsp;&nbsp;<span class="ident" id="8605360">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605368">Uintptr</span>&nbsp;<span class="builtintype" id="8605376">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605385">Float32</span>&nbsp;<span class="builtintype" id="8605393">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605402">Float64</span>&nbsp;<span class="builtintype" id="8605410">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605420">Foo</span>&nbsp;&nbsp;<span class="builtintype" id="8605425">string</span>&nbsp;<span class="string" id="8605432">`json:&#34;bar&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605446">Foo2</span>&nbsp;<span class="builtintype" id="8605451">string</span>&nbsp;<span class="string" id="8605458">`json:&#34;bar2,dummyopt&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605483">IntStr</span>&nbsp;<span class="ident" id="8605490">int64</span>&nbsp;<span class="string" id="8605496">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605515">PBool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8605524">*</span><span class="builtintype" id="8605525">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605531">PInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8605540">*</span><span class="builtintype" id="8605541">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605546">PInt8</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8605555">*</span><span class="builtintype" id="8605556">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605562">PInt16</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8605571">*</span><span class="builtintype" id="8605572">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605579">PInt32</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8605588">*</span><span class="builtintype" id="8605589">int32</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605596">PInt64</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8605605">*</span><span class="ident" id="8605606">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605613">PUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8605622">*</span><span class="builtintype" id="8605623">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605629">PUint8</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8605638">*</span><span class="builtintype" id="8605639">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605646">PUint16</span>&nbsp;&nbsp;<span class="op" id="8605655">*</span><span class="builtintype" id="8605656">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605664">PUint32</span>&nbsp;&nbsp;<span class="op" id="8605673">*</span><span class="builtintype" id="8605674">uint32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605682">PUint64</span>&nbsp;&nbsp;<span class="op" id="8605691">*</span><span class="ident" id="8605692">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605700">PUintptr</span>&nbsp;<span class="op" id="8605709">*</span><span class="builtintype" id="8605710">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605719">PFloat32</span>&nbsp;<span class="op" id="8605728">*</span><span class="builtintype" id="8605729">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605738">PFloat64</span>&nbsp;<span class="op" id="8605747">*</span><span class="builtintype" id="8605748">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605758">String</span>&nbsp;&nbsp;<span class="builtintype" id="8605766">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605774">PString</span>&nbsp;<span class="op" id="8605782">*</span><span class="builtintype" id="8605783">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605792">Map</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8605798">map</span><span class="op" id="8605801">[</span><span class="builtintype" id="8605802">string</span><span class="op" id="8605808">]</span><span class="ident" id="8605809">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605816">MapP</span>&nbsp;&nbsp;<span class="keyword" id="8605822">map</span><span class="op" id="8605825">[</span><span class="builtintype" id="8605826">string</span><span class="op" id="8605832">]</span><span class="op" id="8605833">*</span><span class="ident" id="8605834">Small</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605841">PMap</span>&nbsp;&nbsp;<span class="op" id="8605847">*</span><span class="keyword" id="8605848">map</span><span class="op" id="8605851">[</span><span class="builtintype" id="8605852">string</span><span class="op" id="8605858">]</span><span class="ident" id="8605859">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605866">PMapP</span>&nbsp;<span class="op" id="8605872">*</span><span class="keyword" id="8605873">map</span><span class="op" id="8605876">[</span><span class="builtintype" id="8605877">string</span><span class="op" id="8605883">]</span><span class="op" id="8605884">*</span><span class="ident" id="8605885">Small</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605893">EmptyMap</span>&nbsp;<span class="keyword" id="8605902">map</span><span class="op" id="8605905">[</span><span class="builtintype" id="8605906">string</span><span class="op" id="8605912">]</span><span class="ident" id="8605913">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605920">NilMap</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8605929">map</span><span class="op" id="8605932">[</span><span class="builtintype" id="8605933">string</span><span class="op" id="8605939">]</span><span class="ident" id="8605940">Small</span><br>
<span class="lineno">760</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605948">Slice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8605956">[</span><span class="op" id="8605957">]</span><span class="ident" id="8605958">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605965">SliceP</span>&nbsp;&nbsp;<span class="op" id="8605973">[</span><span class="op" id="8605974">]</span><span class="op" id="8605975">*</span><span class="ident" id="8605976">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605983">PSlice</span>&nbsp;&nbsp;<span class="op" id="8605991">*</span><span class="op" id="8605992">[</span><span class="op" id="8605993">]</span><span class="ident" id="8605994">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606001">PSliceP</span>&nbsp;<span class="op" id="8606009">*</span><span class="op" id="8606010">[</span><span class="op" id="8606011">]</span><span class="op" id="8606012">*</span><span class="ident" id="8606013">Small</span><br>
<span class="lineno">765</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606021">EmptySlice</span>&nbsp;<span class="op" id="8606032">[</span><span class="op" id="8606033">]</span><span class="ident" id="8606034">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606041">NilSlice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8606052">[</span><span class="op" id="8606053">]</span><span class="ident" id="8606054">Small</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606062">StringSlice</span>&nbsp;<span class="op" id="8606074">[</span><span class="op" id="8606075">]</span><span class="builtintype" id="8606076">string</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606084">ByteSlice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8606096">[</span><span class="op" id="8606097">]</span><span class="builtintype" id="8606098">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606105">Small</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8606113">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606120">PSmall</span>&nbsp;&nbsp;<span class="op" id="8606128">*</span><span class="ident" id="8606129">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606136">PPSmall</span>&nbsp;<span class="op" id="8606144">*</span><span class="op" id="8606145">*</span><span class="ident" id="8606146">Small</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606154">Interface</span>&nbsp;&nbsp;<span class="keyword" id="8606165">interface</span><span class="op" id="8606174">{</span><span class="op" id="8606175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606178">PInterface</span>&nbsp;<span class="op" id="8606189">*</span><span class="keyword" id="8606190">interface</span><span class="op" id="8606199">{</span><span class="op" id="8606200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606204">unexported</span>&nbsp;<span class="builtintype" id="8606215">int</span><br>
<span class="lineno">780</span><span class="op" id="8606219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8606222">type</span>&nbsp;<span class="ident" id="8606227">Small</span>&nbsp;<span class="keyword" id="8606233">struct</span>&nbsp;<span class="op" id="8606240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606243">Tag</span>&nbsp;<span class="builtintype" id="8606247">string</span><br>
<span class="lineno"></span><span class="op" id="8606254">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="8606257">var</span>&nbsp;<span class="ident" id="8606261">allValue</span>&nbsp;<span class="op" id="8606270">=</span>&nbsp;<span class="ident" id="8606272">All</span><span class="op" id="8606275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606278">Bool</span><span class="op" id="8606282">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8606287">true</span><span class="op" id="8606291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606294">Int</span><span class="op" id="8606297">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8606303">2</span><span class="op" id="8606304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606307">Int8</span><span class="op" id="8606311">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8606316">3</span><span class="op" id="8606317">,</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606320">Int16</span><span class="op" id="8606325">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8606329">4</span><span class="op" id="8606330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606333">Int32</span><span class="op" id="8606338">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8606342">5</span><span class="op" id="8606343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606346">Int64</span><span class="op" id="8606351">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8606355">6</span><span class="op" id="8606356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606359">Uint</span><span class="op" id="8606363">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8606368">7</span><span class="op" id="8606369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606372">Uint8</span><span class="op" id="8606377">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8606381">8</span><span class="op" id="8606382">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606385">Uint16</span><span class="op" id="8606391">:</span>&nbsp;&nbsp;<span class="num" id="8606394">9</span><span class="op" id="8606395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606398">Uint32</span><span class="op" id="8606404">:</span>&nbsp;&nbsp;<span class="num" id="8606407">10</span><span class="op" id="8606409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606412">Uint64</span><span class="op" id="8606418">:</span>&nbsp;&nbsp;<span class="num" id="8606421">11</span><span class="op" id="8606423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606426">Uintptr</span><span class="op" id="8606433">:</span>&nbsp;<span class="num" id="8606435">12</span><span class="op" id="8606437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606440">Float32</span><span class="op" id="8606447">:</span>&nbsp;<span class="num" id="8606449">14.1</span><span class="op" id="8606453">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606456">Float64</span><span class="op" id="8606463">:</span>&nbsp;<span class="num" id="8606465">15.1</span><span class="op" id="8606469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606472">Foo</span><span class="op" id="8606475">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8606481">&#34;foo&#34;</span><span class="op" id="8606486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606489">Foo2</span><span class="op" id="8606493">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8606498">&#34;foo2&#34;</span><span class="op" id="8606504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606507">IntStr</span><span class="op" id="8606513">:</span>&nbsp;&nbsp;<span class="num" id="8606516">42</span><span class="op" id="8606518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606521">String</span><span class="op" id="8606527">:</span>&nbsp;&nbsp;<span class="string" id="8606530">&#34;16&#34;</span><span class="op" id="8606534">,</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606537">Map</span><span class="op" id="8606540">:</span>&nbsp;<span class="keyword" id="8606542">map</span><span class="op" id="8606545">[</span><span class="builtintype" id="8606546">string</span><span class="op" id="8606552">]</span><span class="ident" id="8606553">Small</span><span class="op" id="8606558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8606562">&#34;17&#34;</span><span class="op" id="8606566">:</span>&nbsp;<span class="op" id="8606568">{</span><span class="ident" id="8606569">Tag</span><span class="op" id="8606572">:</span>&nbsp;<span class="string" id="8606574">&#34;tag17&#34;</span><span class="op" id="8606581">}</span><span class="op" id="8606582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8606586">&#34;18&#34;</span><span class="op" id="8606590">:</span>&nbsp;<span class="op" id="8606592">{</span><span class="ident" id="8606593">Tag</span><span class="op" id="8606596">:</span>&nbsp;<span class="string" id="8606598">&#34;tag18&#34;</span><span class="op" id="8606605">}</span><span class="op" id="8606606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606609">}</span><span class="op" id="8606610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606613">MapP</span><span class="op" id="8606617">:</span>&nbsp;<span class="keyword" id="8606619">map</span><span class="op" id="8606622">[</span><span class="builtintype" id="8606623">string</span><span class="op" id="8606629">]</span><span class="op" id="8606630">*</span><span class="ident" id="8606631">Small</span><span class="op" id="8606636">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8606640">&#34;19&#34;</span><span class="op" id="8606644">:</span>&nbsp;<span class="op" id="8606646">{</span><span class="ident" id="8606647">Tag</span><span class="op" id="8606650">:</span>&nbsp;<span class="string" id="8606652">&#34;tag19&#34;</span><span class="op" id="8606659">}</span><span class="op" id="8606660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8606664">&#34;20&#34;</span><span class="op" id="8606668">:</span>&nbsp;<span class="ident" id="8606670">nil</span><span class="op" id="8606673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606676">}</span><span class="op" id="8606677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606680">EmptyMap</span><span class="op" id="8606688">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8606693">map</span><span class="op" id="8606696">[</span><span class="builtintype" id="8606697">string</span><span class="op" id="8606703">]</span><span class="ident" id="8606704">Small</span><span class="op" id="8606709">{</span><span class="op" id="8606710">}</span><span class="op" id="8606711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606714">Slice</span><span class="op" id="8606719">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8606727">[</span><span class="op" id="8606728">]</span><span class="ident" id="8606729">Small</span><span class="op" id="8606734">{</span><span class="op" id="8606735">{</span><span class="ident" id="8606736">Tag</span><span class="op" id="8606739">:</span>&nbsp;<span class="string" id="8606741">&#34;tag20&#34;</span><span class="op" id="8606748">}</span><span class="op" id="8606749">,</span>&nbsp;<span class="op" id="8606751">{</span><span class="ident" id="8606752">Tag</span><span class="op" id="8606755">:</span>&nbsp;<span class="string" id="8606757">&#34;tag21&#34;</span><span class="op" id="8606764">}</span><span class="op" id="8606765">}</span><span class="op" id="8606766">,</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606769">SliceP</span><span class="op" id="8606775">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8606782">[</span><span class="op" id="8606783">]</span><span class="op" id="8606784">*</span><span class="ident" id="8606785">Small</span><span class="op" id="8606790">{</span><span class="op" id="8606791">{</span><span class="ident" id="8606792">Tag</span><span class="op" id="8606795">:</span>&nbsp;<span class="string" id="8606797">&#34;tag22&#34;</span><span class="op" id="8606804">}</span><span class="op" id="8606805">,</span>&nbsp;<span class="ident" id="8606807">nil</span><span class="op" id="8606810">,</span>&nbsp;<span class="op" id="8606812">{</span><span class="ident" id="8606813">Tag</span><span class="op" id="8606816">:</span>&nbsp;<span class="string" id="8606818">&#34;tag23&#34;</span><span class="op" id="8606825">}</span><span class="op" id="8606826">}</span><span class="op" id="8606827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606830">EmptySlice</span><span class="op" id="8606840">:</span>&nbsp;&nbsp;<span class="op" id="8606843">[</span><span class="op" id="8606844">]</span><span class="ident" id="8606845">Small</span><span class="op" id="8606850">{</span><span class="op" id="8606851">}</span><span class="op" id="8606852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606855">StringSlice</span><span class="op" id="8606866">:</span>&nbsp;<span class="op" id="8606868">[</span><span class="op" id="8606869">]</span><span class="builtintype" id="8606870">string</span><span class="op" id="8606876">{</span><span class="string" id="8606877">&#34;str24&#34;</span><span class="op" id="8606884">,</span>&nbsp;<span class="string" id="8606886">&#34;str25&#34;</span><span class="op" id="8606893">,</span>&nbsp;<span class="string" id="8606895">&#34;str26&#34;</span><span class="op" id="8606902">}</span><span class="op" id="8606903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606906">ByteSlice</span><span class="op" id="8606915">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8606919">[</span><span class="op" id="8606920">]</span><span class="builtintype" id="8606921">byte</span><span class="op" id="8606925">{</span><span class="num" id="8606926">27</span><span class="op" id="8606928">,</span>&nbsp;<span class="num" id="8606930">28</span><span class="op" id="8606932">,</span>&nbsp;<span class="num" id="8606934">29</span><span class="op" id="8606936">}</span><span class="op" id="8606937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606940">Small</span><span class="op" id="8606945">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8606953">Small</span><span class="op" id="8606958">{</span><span class="ident" id="8606959">Tag</span><span class="op" id="8606962">:</span>&nbsp;<span class="string" id="8606964">&#34;tag30&#34;</span><span class="op" id="8606971">}</span><span class="op" id="8606972">,</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606975">PSmall</span><span class="op" id="8606981">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8606988">&amp;</span><span class="ident" id="8606989">Small</span><span class="op" id="8606994">{</span><span class="ident" id="8606995">Tag</span><span class="op" id="8606998">:</span>&nbsp;<span class="string" id="8607000">&#34;tag31&#34;</span><span class="op" id="8607007">}</span><span class="op" id="8607008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607011">Interface</span><span class="op" id="8607020">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8607024">5.2</span><span class="op" id="8607027">,</span><br>
<span class="lineno"></span><span class="op" id="8607029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8607032">var</span>&nbsp;<span class="ident" id="8607036">pallValue</span>&nbsp;<span class="op" id="8607046">=</span>&nbsp;<span class="ident" id="8607048">All</span><span class="op" id="8607051">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607054">PBool</span><span class="op" id="8607059">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607066">&amp;</span><span class="ident" id="8607067">allValue</span><span class="op" id="8607075">.</span><span class="ident" id="8607076">Bool</span><span class="op" id="8607080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607083">PInt</span><span class="op" id="8607087">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607095">&amp;</span><span class="ident" id="8607096">allValue</span><span class="op" id="8607104">.</span><span class="ident" id="8607105">Int</span><span class="op" id="8607108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607111">PInt8</span><span class="op" id="8607116">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607123">&amp;</span><span class="ident" id="8607124">allValue</span><span class="op" id="8607132">.</span><span class="ident" id="8607133">Int8</span><span class="op" id="8607137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607140">PInt16</span><span class="op" id="8607146">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607152">&amp;</span><span class="ident" id="8607153">allValue</span><span class="op" id="8607161">.</span><span class="ident" id="8607162">Int16</span><span class="op" id="8607167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607170">PInt32</span><span class="op" id="8607176">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607182">&amp;</span><span class="ident" id="8607183">allValue</span><span class="op" id="8607191">.</span><span class="ident" id="8607192">Int32</span><span class="op" id="8607197">,</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607200">PInt64</span><span class="op" id="8607206">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607212">&amp;</span><span class="ident" id="8607213">allValue</span><span class="op" id="8607221">.</span><span class="ident" id="8607222">Int64</span><span class="op" id="8607227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607230">PUint</span><span class="op" id="8607235">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607242">&amp;</span><span class="ident" id="8607243">allValue</span><span class="op" id="8607251">.</span><span class="ident" id="8607252">Uint</span><span class="op" id="8607256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607259">PUint8</span><span class="op" id="8607265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607271">&amp;</span><span class="ident" id="8607272">allValue</span><span class="op" id="8607280">.</span><span class="ident" id="8607281">Uint8</span><span class="op" id="8607286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607289">PUint16</span><span class="op" id="8607296">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607301">&amp;</span><span class="ident" id="8607302">allValue</span><span class="op" id="8607310">.</span><span class="ident" id="8607311">Uint16</span><span class="op" id="8607317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607320">PUint32</span><span class="op" id="8607327">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607332">&amp;</span><span class="ident" id="8607333">allValue</span><span class="op" id="8607341">.</span><span class="ident" id="8607342">Uint32</span><span class="op" id="8607348">,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607351">PUint64</span><span class="op" id="8607358">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607363">&amp;</span><span class="ident" id="8607364">allValue</span><span class="op" id="8607372">.</span><span class="ident" id="8607373">Uint64</span><span class="op" id="8607379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607382">PUintptr</span><span class="op" id="8607390">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8607394">&amp;</span><span class="ident" id="8607395">allValue</span><span class="op" id="8607403">.</span><span class="ident" id="8607404">Uintptr</span><span class="op" id="8607411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607414">PFloat32</span><span class="op" id="8607422">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8607426">&amp;</span><span class="ident" id="8607427">allValue</span><span class="op" id="8607435">.</span><span class="ident" id="8607436">Float32</span><span class="op" id="8607443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607446">PFloat64</span><span class="op" id="8607454">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8607458">&amp;</span><span class="ident" id="8607459">allValue</span><span class="op" id="8607467">.</span><span class="ident" id="8607468">Float64</span><span class="op" id="8607475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607478">PString</span><span class="op" id="8607485">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607490">&amp;</span><span class="ident" id="8607491">allValue</span><span class="op" id="8607499">.</span><span class="ident" id="8607500">String</span><span class="op" id="8607506">,</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607509">PMap</span><span class="op" id="8607513">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607521">&amp;</span><span class="ident" id="8607522">allValue</span><span class="op" id="8607530">.</span><span class="ident" id="8607531">Map</span><span class="op" id="8607534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607537">PMapP</span><span class="op" id="8607542">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607549">&amp;</span><span class="ident" id="8607550">allValue</span><span class="op" id="8607558">.</span><span class="ident" id="8607559">MapP</span><span class="op" id="8607563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607566">PSlice</span><span class="op" id="8607572">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607578">&amp;</span><span class="ident" id="8607579">allValue</span><span class="op" id="8607587">.</span><span class="ident" id="8607588">Slice</span><span class="op" id="8607593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607596">PSliceP</span><span class="op" id="8607603">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607608">&amp;</span><span class="ident" id="8607609">allValue</span><span class="op" id="8607617">.</span><span class="ident" id="8607618">SliceP</span><span class="op" id="8607624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607627">PPSmall</span><span class="op" id="8607634">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8607639">&amp;</span><span class="ident" id="8607640">allValue</span><span class="op" id="8607648">.</span><span class="ident" id="8607649">PSmall</span><span class="op" id="8607655">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607658">PInterface</span><span class="op" id="8607668">:</span>&nbsp;<span class="op" id="8607670">&amp;</span><span class="ident" id="8607671">allValue</span><span class="op" id="8607679">.</span><span class="ident" id="8607680">Interface</span><span class="op" id="8607689">,</span><br>
<span class="lineno"></span><span class="op" id="8607691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8607694">var</span>&nbsp;<span class="ident" id="8607698">allValueIndent</span>&nbsp;<span class="op" id="8607713">=</span>&nbsp;<span class="string" id="8607715">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;:&nbsp;true,<br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;:&nbsp;2,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;:&nbsp;3,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;:&nbsp;6,<br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;:&nbsp;7,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;:&nbsp;8,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;:&nbsp;11,<br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uintptr&#34;:&nbsp;12,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;:&nbsp;14.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;:&nbsp;15.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar&#34;:&nbsp;&#34;foo&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar2&#34;:&nbsp;&#34;foo2&#34;,<br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;IntStr&#34;:&nbsp;&#34;42&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PBool&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt8&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt16&#34;:&nbsp;null,<br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt64&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint8&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint16&#34;:&nbsp;null,<br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint64&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUintptr&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat64&#34;:&nbsp;null,<br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;:&nbsp;&#34;16&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PString&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Map&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;17&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag17&#34;<br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;18&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag18&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;MapP&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;19&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag19&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;20&#34;:&nbsp;null<br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMapP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptyMap&#34;:&nbsp;{},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilMap&#34;:&nbsp;null,<br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Slice&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag20&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag21&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;SliceP&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag22&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag23&#34;<br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSliceP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptySlice&#34;:&nbsp;[],<br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;StringSlice&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str24&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str25&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str26&#34;<br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;ByteSlice&#34;:&nbsp;&#34;Gxwd&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Small&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag30&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSmall&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag31&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PPSmall&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Interface&#34;:&nbsp;5.2,<br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInterface&#34;:&nbsp;null<br>
<span class="lineno"></span>}`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8608871">var</span>&nbsp;<span class="ident" id="8608875">allValueCompact</span>&nbsp;<span class="op" id="8608891">=</span>&nbsp;<span class="ident" id="8608893">strings</span><span class="op" id="8608900">.</span><span class="ident" id="8608901">Map</span><span class="op" id="8608904">(</span><span class="ident" id="8608905">noSpace</span><span class="op" id="8608912">,</span>&nbsp;<span class="ident" id="8608914">allValueIndent</span><span class="op" id="8608928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">940</span><span class="keyword" id="8608931">var</span>&nbsp;<span class="ident" id="8608935">pallValueIndent</span>&nbsp;<span class="op" id="8608951">=</span>&nbsp;<span class="string" id="8608953">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;:&nbsp;false,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;:&nbsp;0,<br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;:&nbsp;0,<br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uintptr&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;:&nbsp;0,<br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar2&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;IntStr&#34;:&nbsp;&#34;0&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PBool&#34;:&nbsp;true,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt&#34;:&nbsp;2,<br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt8&#34;:&nbsp;3,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt16&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt32&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt64&#34;:&nbsp;6,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint&#34;:&nbsp;7,<br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint8&#34;:&nbsp;8,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint16&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint32&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint64&#34;:&nbsp;11,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUintptr&#34;:&nbsp;12,<br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat32&#34;:&nbsp;14.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat64&#34;:&nbsp;15.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PString&#34;:&nbsp;&#34;16&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Map&#34;:&nbsp;null,<br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;MapP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMap&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;17&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag17&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;18&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag18&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMapP&#34;:&nbsp;{<br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;19&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag19&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;20&#34;:&nbsp;null<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptyMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Slice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;SliceP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSlice&#34;:&nbsp;[<br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag20&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag21&#34;<br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSliceP&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag22&#34;<br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag23&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptySlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;StringSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;ByteSlice&#34;:&nbsp;null,<br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Small&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSmall&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PPSmall&#34;:&nbsp;{<br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag31&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Interface&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInterface&#34;:&nbsp;5.2<br>
<span class="lineno"></span>}`</span><br>
<span class="lineno">1025</span><br>
<span class="lineno"></span><span class="keyword" id="8610033">var</span>&nbsp;<span class="ident" id="8610037">pallValueCompact</span>&nbsp;<span class="op" id="8610054">=</span>&nbsp;<span class="ident" id="8610056">strings</span><span class="op" id="8610063">.</span><span class="ident" id="8610064">Map</span><span class="op" id="8610067">(</span><span class="ident" id="8610068">noSpace</span><span class="op" id="8610075">,</span>&nbsp;<span class="ident" id="8610077">pallValueIndent</span><span class="op" id="8610092">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8610095">func</span>&nbsp;<span class="ident" id="8610100">TestRefUnmarshal</span><span class="op" id="8610116">(</span><span class="ident" id="8610117">t</span>&nbsp;<span class="op" id="8610119">*</span><span class="ident" id="8610120">testing</span><span class="op" id="8610127">.</span><span class="ident" id="8610128">T</span><span class="op" id="8610129">)</span>&nbsp;<span class="op" id="8610131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610134">type</span>&nbsp;<span class="ident" id="8610139">S</span>&nbsp;<span class="keyword" id="8610141">struct</span>&nbsp;<span class="op" id="8610148">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8610152">//&nbsp;Ref&nbsp;is&nbsp;defined&nbsp;in&nbsp;encode_test.go.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610191">R0</span>&nbsp;<span class="ident" id="8610194">Ref</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610200">R1</span>&nbsp;<span class="op" id="8610203">*</span><span class="ident" id="8610204">Ref</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610210">R2</span>&nbsp;<span class="ident" id="8610213">RefText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610223">R3</span>&nbsp;<span class="op" id="8610226">*</span><span class="ident" id="8610227">RefText</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610239">want</span>&nbsp;<span class="op" id="8610244">:=</span>&nbsp;<span class="ident" id="8610247">S</span><span class="op" id="8610248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610252">R0</span><span class="op" id="8610254">:</span>&nbsp;<span class="num" id="8610256">12</span><span class="op" id="8610258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610262">R1</span><span class="op" id="8610264">:</span>&nbsp;<span class="builtinfunc" id="8610266">new</span><span class="op" id="8610269">(</span><span class="ident" id="8610270">Ref</span><span class="op" id="8610273">)</span><span class="op" id="8610274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610278">R2</span><span class="op" id="8610280">:</span>&nbsp;<span class="num" id="8610282">13</span><span class="op" id="8610284">,</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610288">R3</span><span class="op" id="8610290">:</span>&nbsp;<span class="builtinfunc" id="8610292">new</span><span class="op" id="8610295">(</span><span class="ident" id="8610296">RefText</span><span class="op" id="8610303">)</span><span class="op" id="8610304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610310">*</span><span class="ident" id="8610311">want</span><span class="op" id="8610315">.</span><span class="ident" id="8610316">R1</span>&nbsp;<span class="op" id="8610319">=</span>&nbsp;<span class="num" id="8610321">12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610325">*</span><span class="ident" id="8610326">want</span><span class="op" id="8610330">.</span><span class="ident" id="8610331">R3</span>&nbsp;<span class="op" id="8610334">=</span>&nbsp;<span class="num" id="8610336">13</span><br>
<span class="lineno"></span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610341">var</span>&nbsp;<span class="ident" id="8610345">got</span>&nbsp;<span class="ident" id="8610349">S</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610352">if</span>&nbsp;<span class="ident" id="8610355">err</span>&nbsp;<span class="op" id="8610359">:=</span>&nbsp;<span class="ident" id="8610362">Unmarshal</span><span class="op" id="8610371">(</span><span class="op" id="8610372">[</span><span class="op" id="8610373">]</span><span class="builtintype" id="8610374">byte</span><span class="op" id="8610378">(</span><span class="string" id="8610379">`{&#34;R0&#34;:&#34;ref&#34;,&#34;R1&#34;:&#34;ref&#34;,&#34;R2&#34;:&#34;ref&#34;,&#34;R3&#34;:&#34;ref&#34;}`</span><span class="op" id="8610426">)</span><span class="op" id="8610427">,</span>&nbsp;<span class="op" id="8610429">&amp;</span><span class="ident" id="8610430">got</span><span class="op" id="8610433">)</span><span class="op" id="8610434">;</span>&nbsp;<span class="ident" id="8610436">err</span>&nbsp;<span class="op" id="8610440">!=</span>&nbsp;<span class="ident" id="8610443">nil</span>&nbsp;<span class="op" id="8610447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610451">t</span><span class="op" id="8610452">.</span><span class="ident" id="8610453">Fatalf</span><span class="op" id="8610459">(</span><span class="string" id="8610460">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8610475">,</span>&nbsp;<span class="ident" id="8610477">err</span><span class="op" id="8610480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610486">if</span>&nbsp;<span class="op" id="8610489">!</span><span class="ident" id="8610490">reflect</span><span class="op" id="8610497">.</span><span class="ident" id="8610498">DeepEqual</span><span class="op" id="8610507">(</span><span class="ident" id="8610508">got</span><span class="op" id="8610511">,</span>&nbsp;<span class="ident" id="8610513">want</span><span class="op" id="8610517">)</span>&nbsp;<span class="op" id="8610519">{</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610523">t</span><span class="op" id="8610524">.</span><span class="ident" id="8610525">Errorf</span><span class="op" id="8610531">(</span><span class="string" id="8610532">&#34;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8610551">,</span>&nbsp;<span class="ident" id="8610553">got</span><span class="op" id="8610556">,</span>&nbsp;<span class="ident" id="8610558">want</span><span class="op" id="8610562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610565">}</span><br>
<span class="lineno"></span><span class="op" id="8610567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8610570">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;empty&nbsp;string&nbsp;doesn&#39;t&nbsp;panic&nbsp;decoding&nbsp;when&nbsp;,string&nbsp;is&nbsp;specified</span><br>
<span class="lineno">1055</span><span class="comment" id="8610649">//&nbsp;Issue&nbsp;3450</span><br>
<span class="lineno"></span><span class="keyword" id="8610663">func</span>&nbsp;<span class="ident" id="8610668">TestEmptyString</span><span class="op" id="8610683">(</span><span class="ident" id="8610684">t</span>&nbsp;<span class="op" id="8610686">*</span><span class="ident" id="8610687">testing</span><span class="op" id="8610694">.</span><span class="ident" id="8610695">T</span><span class="op" id="8610696">)</span>&nbsp;<span class="op" id="8610698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610701">type</span>&nbsp;<span class="ident" id="8610706">T2</span>&nbsp;<span class="keyword" id="8610709">struct</span>&nbsp;<span class="op" id="8610716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610720">Number1</span>&nbsp;<span class="builtintype" id="8610728">int</span>&nbsp;<span class="string" id="8610732">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610751">Number2</span>&nbsp;<span class="builtintype" id="8610759">int</span>&nbsp;<span class="string" id="8610763">`json:&#34;,string&#34;`</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610784">data</span>&nbsp;<span class="op" id="8610789">:=</span>&nbsp;<span class="string" id="8610792">`{&#34;Number1&#34;:&#34;1&#34;,&nbsp;&#34;Number2&#34;:&#34;&#34;}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610825">dec</span>&nbsp;<span class="op" id="8610829">:=</span>&nbsp;<span class="ident" id="8610832">NewDecoder</span><span class="op" id="8610842">(</span><span class="ident" id="8610843">strings</span><span class="op" id="8610850">.</span><span class="ident" id="8610851">NewReader</span><span class="op" id="8610860">(</span><span class="ident" id="8610861">data</span><span class="op" id="8610865">)</span><span class="op" id="8610866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610869">var</span>&nbsp;<span class="ident" id="8610873">t2</span>&nbsp;<span class="ident" id="8610876">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610880">err</span>&nbsp;<span class="op" id="8610884">:=</span>&nbsp;<span class="ident" id="8610887">dec</span><span class="op" id="8610890">.</span><span class="ident" id="8610891">Decode</span><span class="op" id="8610897">(</span><span class="op" id="8610898">&amp;</span><span class="ident" id="8610899">t2</span><span class="op" id="8610901">)</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610904">if</span>&nbsp;<span class="ident" id="8610907">err</span>&nbsp;<span class="op" id="8610911">==</span>&nbsp;<span class="ident" id="8610914">nil</span>&nbsp;<span class="op" id="8610918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610922">t</span><span class="op" id="8610923">.</span><span class="ident" id="8610924">Fatal</span><span class="op" id="8610929">(</span><span class="string" id="8610930">&#34;Decode:&nbsp;did&nbsp;not&nbsp;return&nbsp;error&#34;</span><span class="op" id="8610960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610966">if</span>&nbsp;<span class="ident" id="8610969">t2</span><span class="op" id="8610971">.</span><span class="ident" id="8610972">Number1</span>&nbsp;<span class="op" id="8610980">!=</span>&nbsp;<span class="num" id="8610983">1</span>&nbsp;<span class="op" id="8610985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610989">t</span><span class="op" id="8610990">.</span><span class="ident" id="8610991">Fatal</span><span class="op" id="8610996">(</span><span class="string" id="8610997">&#34;Decode:&nbsp;did&nbsp;not&nbsp;set&nbsp;Number1&#34;</span><span class="op" id="8611026">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611029">}</span><br>
<span class="lineno"></span><span class="op" id="8611031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8611034">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;null&nbsp;for&nbsp;,string&nbsp;is&nbsp;not&nbsp;replaced&nbsp;with&nbsp;the&nbsp;previous&nbsp;quoted&nbsp;string&nbsp;(issue&nbsp;7046).</span><br>
<span class="lineno"></span><span class="comment" id="8611128">//&nbsp;It&nbsp;should&nbsp;also&nbsp;not&nbsp;be&nbsp;an&nbsp;error&nbsp;(issue&nbsp;2540,&nbsp;issue&nbsp;8587).</span><br>
<span class="lineno">1075</span><span class="keyword" id="8611188">func</span>&nbsp;<span class="ident" id="8611193">TestNullString</span><span class="op" id="8611207">(</span><span class="ident" id="8611208">t</span>&nbsp;<span class="op" id="8611210">*</span><span class="ident" id="8611211">testing</span><span class="op" id="8611218">.</span><span class="ident" id="8611219">T</span><span class="op" id="8611220">)</span>&nbsp;<span class="op" id="8611222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611225">type</span>&nbsp;<span class="ident" id="8611230">T</span>&nbsp;<span class="keyword" id="8611232">struct</span>&nbsp;<span class="op" id="8611239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611243">A</span>&nbsp;<span class="builtintype" id="8611245">int</span>&nbsp;&nbsp;<span class="string" id="8611250">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611269">B</span>&nbsp;<span class="builtintype" id="8611271">int</span>&nbsp;&nbsp;<span class="string" id="8611276">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611295">C</span>&nbsp;<span class="op" id="8611297">*</span><span class="builtintype" id="8611298">int</span>&nbsp;<span class="string" id="8611302">`json:&#34;,string&#34;`</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611323">data</span>&nbsp;<span class="op" id="8611328">:=</span>&nbsp;<span class="op" id="8611331">[</span><span class="op" id="8611332">]</span><span class="builtintype" id="8611333">byte</span><span class="op" id="8611337">(</span><span class="string" id="8611338">`{&#34;A&#34;:&nbsp;&#34;1&#34;,&nbsp;&#34;B&#34;:&nbsp;null,&nbsp;&#34;C&#34;:&nbsp;null}`</span><span class="op" id="8611372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611375">var</span>&nbsp;<span class="ident" id="8611379">s</span>&nbsp;<span class="ident" id="8611381">T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611384">s</span><span class="op" id="8611385">.</span><span class="ident" id="8611386">B</span>&nbsp;<span class="op" id="8611388">=</span>&nbsp;<span class="num" id="8611390">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611393">s</span><span class="op" id="8611394">.</span><span class="ident" id="8611395">C</span>&nbsp;<span class="op" id="8611397">=</span>&nbsp;<span class="builtinfunc" id="8611399">new</span><span class="op" id="8611402">(</span><span class="builtintype" id="8611403">int</span><span class="op" id="8611406">)</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611409">*</span><span class="ident" id="8611410">s</span><span class="op" id="8611411">.</span><span class="ident" id="8611412">C</span>&nbsp;<span class="op" id="8611414">=</span>&nbsp;<span class="num" id="8611416">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611419">err</span>&nbsp;<span class="op" id="8611423">:=</span>&nbsp;<span class="ident" id="8611426">Unmarshal</span><span class="op" id="8611435">(</span><span class="ident" id="8611436">data</span><span class="op" id="8611440">,</span>&nbsp;<span class="op" id="8611442">&amp;</span><span class="ident" id="8611443">s</span><span class="op" id="8611444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611447">if</span>&nbsp;<span class="ident" id="8611450">err</span>&nbsp;<span class="op" id="8611454">!=</span>&nbsp;<span class="ident" id="8611457">nil</span>&nbsp;<span class="op" id="8611461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611465">t</span><span class="op" id="8611466">.</span><span class="ident" id="8611467">Fatalf</span><span class="op" id="8611473">(</span><span class="string" id="8611474">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8611489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611492">}</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611495">if</span>&nbsp;<span class="ident" id="8611498">s</span><span class="op" id="8611499">.</span><span class="ident" id="8611500">B</span>&nbsp;<span class="op" id="8611502">!=</span>&nbsp;<span class="num" id="8611505">1</span>&nbsp;<span class="op" id="8611507">||</span>&nbsp;<span class="ident" id="8611510">s</span><span class="op" id="8611511">.</span><span class="ident" id="8611512">C</span>&nbsp;<span class="op" id="8611514">!=</span>&nbsp;<span class="ident" id="8611517">nil</span>&nbsp;<span class="op" id="8611521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611525">t</span><span class="op" id="8611526">.</span><span class="ident" id="8611527">Fatalf</span><span class="op" id="8611533">(</span><span class="string" id="8611534">&#34;after&nbsp;Unmarshal,&nbsp;s.B=%d,&nbsp;s.C=%p,&nbsp;want&nbsp;1,&nbsp;nil&#34;</span><span class="op" id="8611580">,</span>&nbsp;<span class="ident" id="8611582">s</span><span class="op" id="8611583">.</span><span class="ident" id="8611584">B</span><span class="op" id="8611585">,</span>&nbsp;<span class="ident" id="8611587">s</span><span class="op" id="8611588">.</span><span class="ident" id="8611589">C</span><span class="op" id="8611590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611593">}</span><br>
<span class="lineno"></span><span class="op" id="8611595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="8611598">func</span>&nbsp;<span class="ident" id="8611603">intp</span><span class="op" id="8611607">(</span><span class="ident" id="8611608">x</span>&nbsp;<span class="builtintype" id="8611610">int</span><span class="op" id="8611613">)</span>&nbsp;<span class="op" id="8611615">*</span><span class="builtintype" id="8611616">int</span>&nbsp;<span class="op" id="8611620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611623">p</span>&nbsp;<span class="op" id="8611625">:=</span>&nbsp;<span class="builtinfunc" id="8611628">new</span><span class="op" id="8611631">(</span><span class="builtintype" id="8611632">int</span><span class="op" id="8611635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611638">*</span><span class="ident" id="8611639">p</span>&nbsp;<span class="op" id="8611641">=</span>&nbsp;<span class="ident" id="8611643">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611646">return</span>&nbsp;<span class="ident" id="8611653">p</span><br>
<span class="lineno"></span><span class="op" id="8611655">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span><span class="keyword" id="8611658">func</span>&nbsp;<span class="ident" id="8611663">intpp</span><span class="op" id="8611668">(</span><span class="ident" id="8611669">x</span>&nbsp;<span class="op" id="8611671">*</span><span class="builtintype" id="8611672">int</span><span class="op" id="8611675">)</span>&nbsp;<span class="op" id="8611677">*</span><span class="op" id="8611678">*</span><span class="builtintype" id="8611679">int</span>&nbsp;<span class="op" id="8611683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611686">pp</span>&nbsp;<span class="op" id="8611689">:=</span>&nbsp;<span class="builtinfunc" id="8611692">new</span><span class="op" id="8611695">(</span><span class="op" id="8611696">*</span><span class="builtintype" id="8611697">int</span><span class="op" id="8611700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611703">*</span><span class="ident" id="8611704">pp</span>&nbsp;<span class="op" id="8611707">=</span>&nbsp;<span class="ident" id="8611709">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611712">return</span>&nbsp;<span class="ident" id="8611719">pp</span><br>
<span class="lineno">1105</span><span class="op" id="8611722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8611725">var</span>&nbsp;<span class="ident" id="8611729">interfaceSetTests</span>&nbsp;<span class="op" id="8611747">=</span>&nbsp;<span class="op" id="8611749">[</span><span class="op" id="8611750">]</span><span class="keyword" id="8611751">struct</span>&nbsp;<span class="op" id="8611758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611761">pre</span>&nbsp;&nbsp;<span class="keyword" id="8611766">interface</span><span class="op" id="8611775">{</span><span class="op" id="8611776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611779">json</span>&nbsp;<span class="builtintype" id="8611784">string</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611792">post</span>&nbsp;<span class="keyword" id="8611797">interface</span><span class="op" id="8611806">{</span><span class="op" id="8611807">}</span><br>
<span class="lineno"></span><span class="op" id="8611809">}</span><span class="op" id="8611810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611813">{</span><span class="string" id="8611814">&#34;foo&#34;</span><span class="op" id="8611819">,</span>&nbsp;<span class="string" id="8611821">`&#34;bar&#34;`</span><span class="op" id="8611828">,</span>&nbsp;<span class="string" id="8611830">&#34;bar&#34;</span><span class="op" id="8611835">}</span><span class="op" id="8611836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611839">{</span><span class="string" id="8611840">&#34;foo&#34;</span><span class="op" id="8611845">,</span>&nbsp;<span class="string" id="8611847">`2`</span><span class="op" id="8611850">,</span>&nbsp;<span class="num" id="8611852">2.0</span><span class="op" id="8611855">}</span><span class="op" id="8611856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611859">{</span><span class="string" id="8611860">&#34;foo&#34;</span><span class="op" id="8611865">,</span>&nbsp;<span class="string" id="8611867">`true`</span><span class="op" id="8611873">,</span>&nbsp;<span class="builtintype" id="8611875">true</span><span class="op" id="8611879">}</span><span class="op" id="8611880">,</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611883">{</span><span class="string" id="8611884">&#34;foo&#34;</span><span class="op" id="8611889">,</span>&nbsp;<span class="string" id="8611891">`null`</span><span class="op" id="8611897">,</span>&nbsp;<span class="ident" id="8611899">nil</span><span class="op" id="8611902">}</span><span class="op" id="8611903">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611907">{</span><span class="ident" id="8611908">nil</span><span class="op" id="8611911">,</span>&nbsp;<span class="string" id="8611913">`null`</span><span class="op" id="8611919">,</span>&nbsp;<span class="ident" id="8611921">nil</span><span class="op" id="8611924">}</span><span class="op" id="8611925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611928">{</span><span class="builtinfunc" id="8611929">new</span><span class="op" id="8611932">(</span><span class="builtintype" id="8611933">int</span><span class="op" id="8611936">)</span><span class="op" id="8611937">,</span>&nbsp;<span class="string" id="8611939">`null`</span><span class="op" id="8611945">,</span>&nbsp;<span class="ident" id="8611947">nil</span><span class="op" id="8611950">}</span><span class="op" id="8611951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611954">{</span><span class="op" id="8611955">(</span><span class="op" id="8611956">*</span><span class="builtintype" id="8611957">int</span><span class="op" id="8611960">)</span><span class="op" id="8611961">(</span><span class="ident" id="8611962">nil</span><span class="op" id="8611965">)</span><span class="op" id="8611966">,</span>&nbsp;<span class="string" id="8611968">`null`</span><span class="op" id="8611974">,</span>&nbsp;<span class="ident" id="8611976">nil</span><span class="op" id="8611979">}</span><span class="op" id="8611980">,</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611983">{</span><span class="builtinfunc" id="8611984">new</span><span class="op" id="8611987">(</span><span class="op" id="8611988">*</span><span class="builtintype" id="8611989">int</span><span class="op" id="8611992">)</span><span class="op" id="8611993">,</span>&nbsp;<span class="string" id="8611995">`null`</span><span class="op" id="8612001">,</span>&nbsp;<span class="builtinfunc" id="8612003">new</span><span class="op" id="8612006">(</span><span class="op" id="8612007">*</span><span class="builtintype" id="8612008">int</span><span class="op" id="8612011">)</span><span class="op" id="8612012">}</span><span class="op" id="8612013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612016">{</span><span class="op" id="8612017">(</span><span class="op" id="8612018">*</span><span class="op" id="8612019">*</span><span class="builtintype" id="8612020">int</span><span class="op" id="8612023">)</span><span class="op" id="8612024">(</span><span class="ident" id="8612025">nil</span><span class="op" id="8612028">)</span><span class="op" id="8612029">,</span>&nbsp;<span class="string" id="8612031">`null`</span><span class="op" id="8612037">,</span>&nbsp;<span class="ident" id="8612039">nil</span><span class="op" id="8612042">}</span><span class="op" id="8612043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612046">{</span><span class="ident" id="8612047">intp</span><span class="op" id="8612051">(</span><span class="num" id="8612052">1</span><span class="op" id="8612053">)</span><span class="op" id="8612054">,</span>&nbsp;<span class="string" id="8612056">`null`</span><span class="op" id="8612062">,</span>&nbsp;<span class="ident" id="8612064">nil</span><span class="op" id="8612067">}</span><span class="op" id="8612068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612071">{</span><span class="ident" id="8612072">intpp</span><span class="op" id="8612077">(</span><span class="ident" id="8612078">nil</span><span class="op" id="8612081">)</span><span class="op" id="8612082">,</span>&nbsp;<span class="string" id="8612084">`null`</span><span class="op" id="8612090">,</span>&nbsp;<span class="ident" id="8612092">intpp</span><span class="op" id="8612097">(</span><span class="ident" id="8612098">nil</span><span class="op" id="8612101">)</span><span class="op" id="8612102">}</span><span class="op" id="8612103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612106">{</span><span class="ident" id="8612107">intpp</span><span class="op" id="8612112">(</span><span class="ident" id="8612113">intp</span><span class="op" id="8612117">(</span><span class="num" id="8612118">1</span><span class="op" id="8612119">)</span><span class="op" id="8612120">)</span><span class="op" id="8612121">,</span>&nbsp;<span class="string" id="8612123">`null`</span><span class="op" id="8612129">,</span>&nbsp;<span class="ident" id="8612131">intpp</span><span class="op" id="8612136">(</span><span class="ident" id="8612137">nil</span><span class="op" id="8612140">)</span><span class="op" id="8612141">}</span><span class="op" id="8612142">,</span><br>
<span class="lineno">1125</span><span class="op" id="8612144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8612147">func</span>&nbsp;<span class="ident" id="8612152">TestInterfaceSet</span><span class="op" id="8612168">(</span><span class="ident" id="8612169">t</span>&nbsp;<span class="op" id="8612171">*</span><span class="ident" id="8612172">testing</span><span class="op" id="8612179">.</span><span class="ident" id="8612180">T</span><span class="op" id="8612181">)</span>&nbsp;<span class="op" id="8612183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612186">for</span>&nbsp;<span class="ident" id="8612190">_</span><span class="op" id="8612191">,</span>&nbsp;<span class="ident" id="8612193">tt</span>&nbsp;<span class="op" id="8612196">:=</span>&nbsp;<span class="keyword" id="8612199">range</span>&nbsp;<span class="ident" id="8612205">interfaceSetTests</span>&nbsp;<span class="op" id="8612223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612227">b</span>&nbsp;<span class="op" id="8612229">:=</span>&nbsp;<span class="keyword" id="8612232">struct</span><span class="op" id="8612238">{</span>&nbsp;<span class="ident" id="8612240">X</span>&nbsp;<span class="keyword" id="8612242">interface</span><span class="op" id="8612251">{</span><span class="op" id="8612252">}</span>&nbsp;<span class="op" id="8612254">}</span><span class="op" id="8612255">{</span><span class="ident" id="8612256">tt</span><span class="op" id="8612258">.</span><span class="ident" id="8612259">pre</span><span class="op" id="8612262">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612266">blob</span>&nbsp;<span class="op" id="8612271">:=</span>&nbsp;<span class="string" id="8612274">`{&#34;X&#34;:`</span>&nbsp;<span class="op" id="8612282">+</span>&nbsp;<span class="ident" id="8612284">tt</span><span class="op" id="8612286">.</span><span class="ident" id="8612287">json</span>&nbsp;<span class="op" id="8612292">+</span>&nbsp;<span class="string" id="8612294">`}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612300">if</span>&nbsp;<span class="ident" id="8612303">err</span>&nbsp;<span class="op" id="8612307">:=</span>&nbsp;<span class="ident" id="8612310">Unmarshal</span><span class="op" id="8612319">(</span><span class="op" id="8612320">[</span><span class="op" id="8612321">]</span><span class="builtintype" id="8612322">byte</span><span class="op" id="8612326">(</span><span class="ident" id="8612327">blob</span><span class="op" id="8612331">)</span><span class="op" id="8612332">,</span>&nbsp;<span class="op" id="8612334">&amp;</span><span class="ident" id="8612335">b</span><span class="op" id="8612336">)</span><span class="op" id="8612337">;</span>&nbsp;<span class="ident" id="8612339">err</span>&nbsp;<span class="op" id="8612343">!=</span>&nbsp;<span class="ident" id="8612346">nil</span>&nbsp;<span class="op" id="8612350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612355">t</span><span class="op" id="8612356">.</span><span class="ident" id="8612357">Errorf</span><span class="op" id="8612363">(</span><span class="string" id="8612364">&#34;Unmarshal&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8612383">,</span>&nbsp;<span class="ident" id="8612385">blob</span><span class="op" id="8612389">,</span>&nbsp;<span class="ident" id="8612391">err</span><span class="op" id="8612394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612399">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612410">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612414">if</span>&nbsp;<span class="op" id="8612417">!</span><span class="ident" id="8612418">reflect</span><span class="op" id="8612425">.</span><span class="ident" id="8612426">DeepEqual</span><span class="op" id="8612435">(</span><span class="ident" id="8612436">b</span><span class="op" id="8612437">.</span><span class="ident" id="8612438">X</span><span class="op" id="8612439">,</span>&nbsp;<span class="ident" id="8612441">tt</span><span class="op" id="8612443">.</span><span class="ident" id="8612444">post</span><span class="op" id="8612448">)</span>&nbsp;<span class="op" id="8612450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612455">t</span><span class="op" id="8612456">.</span><span class="ident" id="8612457">Errorf</span><span class="op" id="8612463">(</span><span class="string" id="8612464">&#34;Unmarshal&nbsp;%#q&nbsp;into&nbsp;%#v:&nbsp;X=%#v,&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8612505">,</span>&nbsp;<span class="ident" id="8612507">blob</span><span class="op" id="8612511">,</span>&nbsp;<span class="ident" id="8612513">tt</span><span class="op" id="8612515">.</span><span class="ident" id="8612516">pre</span><span class="op" id="8612519">,</span>&nbsp;<span class="ident" id="8612521">b</span><span class="op" id="8612522">.</span><span class="ident" id="8612523">X</span><span class="op" id="8612524">,</span>&nbsp;<span class="ident" id="8612526">tt</span><span class="op" id="8612528">.</span><span class="ident" id="8612529">post</span><span class="op" id="8612533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612540">}</span><br>
<span class="lineno"></span><span class="op" id="8612542">}</span><br>
<span class="lineno">1140</span><br>
<span class="lineno"></span><span class="comment" id="8612545">//&nbsp;JSON&nbsp;null&nbsp;values&nbsp;should&nbsp;be&nbsp;ignored&nbsp;for&nbsp;primitives&nbsp;and&nbsp;string&nbsp;values&nbsp;instead&nbsp;of&nbsp;resulting&nbsp;in&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="8612650">//&nbsp;Issue&nbsp;2540</span><br>
<span class="lineno"></span><span class="keyword" id="8612664">func</span>&nbsp;<span class="ident" id="8612669">TestUnmarshalNulls</span><span class="op" id="8612687">(</span><span class="ident" id="8612688">t</span>&nbsp;<span class="op" id="8612690">*</span><span class="ident" id="8612691">testing</span><span class="op" id="8612698">.</span><span class="ident" id="8612699">T</span><span class="op" id="8612700">)</span>&nbsp;<span class="op" id="8612702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612705">jsonData</span>&nbsp;<span class="op" id="8612714">:=</span>&nbsp;<span class="op" id="8612717">[</span><span class="op" id="8612718">]</span><span class="builtintype" id="8612719">byte</span><span class="op" id="8612723">(</span><span class="string" id="8612724">`{<br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;&nbsp;&nbsp;:&nbsp;null}`</span><span class="op" id="8613007">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613011">nulls</span>&nbsp;<span class="op" id="8613017">:=</span>&nbsp;<span class="ident" id="8613020">All</span><span class="op" id="8613023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613027">Bool</span><span class="op" id="8613031">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8613036">true</span><span class="op" id="8613040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613044">Int</span><span class="op" id="8613047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8613053">2</span><span class="op" id="8613054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613058">Int8</span><span class="op" id="8613062">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8613067">3</span><span class="op" id="8613068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613072">Int16</span><span class="op" id="8613077">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8613081">4</span><span class="op" id="8613082">,</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613086">Int32</span><span class="op" id="8613091">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8613095">5</span><span class="op" id="8613096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613100">Int64</span><span class="op" id="8613105">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8613109">6</span><span class="op" id="8613110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613114">Uint</span><span class="op" id="8613118">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8613123">7</span><span class="op" id="8613124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613128">Uint8</span><span class="op" id="8613133">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8613137">8</span><span class="op" id="8613138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613142">Uint16</span><span class="op" id="8613148">:</span>&nbsp;&nbsp;<span class="num" id="8613151">9</span><span class="op" id="8613152">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613156">Uint32</span><span class="op" id="8613162">:</span>&nbsp;&nbsp;<span class="num" id="8613165">10</span><span class="op" id="8613167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613171">Uint64</span><span class="op" id="8613177">:</span>&nbsp;&nbsp;<span class="num" id="8613180">11</span><span class="op" id="8613182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613186">Float32</span><span class="op" id="8613193">:</span>&nbsp;<span class="num" id="8613195">12.1</span><span class="op" id="8613199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613203">Float64</span><span class="op" id="8613210">:</span>&nbsp;<span class="num" id="8613212">13.1</span><span class="op" id="8613216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613220">String</span><span class="op" id="8613226">:</span>&nbsp;&nbsp;<span class="string" id="8613229">&#34;14&#34;</span><span class="op" id="8613233">}</span><br>
<span class="lineno">1175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613237">err</span>&nbsp;<span class="op" id="8613241">:=</span>&nbsp;<span class="ident" id="8613244">Unmarshal</span><span class="op" id="8613253">(</span><span class="ident" id="8613254">jsonData</span><span class="op" id="8613262">,</span>&nbsp;<span class="op" id="8613264">&amp;</span><span class="ident" id="8613265">nulls</span><span class="op" id="8613270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613273">if</span>&nbsp;<span class="ident" id="8613276">err</span>&nbsp;<span class="op" id="8613280">!=</span>&nbsp;<span class="ident" id="8613283">nil</span>&nbsp;<span class="op" id="8613287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613291">t</span><span class="op" id="8613292">.</span><span class="ident" id="8613293">Errorf</span><span class="op" id="8613299">(</span><span class="string" id="8613300">&#34;Unmarshal&nbsp;of&nbsp;null&nbsp;values&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8613337">,</span>&nbsp;<span class="ident" id="8613339">err</span><span class="op" id="8613342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613345">}</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613348">if</span>&nbsp;<span class="op" id="8613351">!</span><span class="ident" id="8613352">nulls</span><span class="op" id="8613357">.</span><span class="ident" id="8613358">Bool</span>&nbsp;<span class="op" id="8613363">||</span>&nbsp;<span class="ident" id="8613366">nulls</span><span class="op" id="8613371">.</span><span class="ident" id="8613372">Int</span>&nbsp;<span class="op" id="8613376">!=</span>&nbsp;<span class="num" id="8613379">2</span>&nbsp;<span class="op" id="8613381">||</span>&nbsp;<span class="ident" id="8613384">nulls</span><span class="op" id="8613389">.</span><span class="ident" id="8613390">Int8</span>&nbsp;<span class="op" id="8613395">!=</span>&nbsp;<span class="num" id="8613398">3</span>&nbsp;<span class="op" id="8613400">||</span>&nbsp;<span class="ident" id="8613403">nulls</span><span class="op" id="8613408">.</span><span class="ident" id="8613409">Int16</span>&nbsp;<span class="op" id="8613415">!=</span>&nbsp;<span class="num" id="8613418">4</span>&nbsp;<span class="op" id="8613420">||</span>&nbsp;<span class="ident" id="8613423">nulls</span><span class="op" id="8613428">.</span><span class="ident" id="8613429">Int32</span>&nbsp;<span class="op" id="8613435">!=</span>&nbsp;<span class="num" id="8613438">5</span>&nbsp;<span class="op" id="8613440">||</span>&nbsp;<span class="ident" id="8613443">nulls</span><span class="op" id="8613448">.</span><span class="ident" id="8613449">Int64</span>&nbsp;<span class="op" id="8613455">!=</span>&nbsp;<span class="num" id="8613458">6</span>&nbsp;<span class="op" id="8613460">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613465">nulls</span><span class="op" id="8613470">.</span><span class="ident" id="8613471">Uint</span>&nbsp;<span class="op" id="8613476">!=</span>&nbsp;<span class="num" id="8613479">7</span>&nbsp;<span class="op" id="8613481">||</span>&nbsp;<span class="ident" id="8613484">nulls</span><span class="op" id="8613489">.</span><span class="ident" id="8613490">Uint8</span>&nbsp;<span class="op" id="8613496">!=</span>&nbsp;<span class="num" id="8613499">8</span>&nbsp;<span class="op" id="8613501">||</span>&nbsp;<span class="ident" id="8613504">nulls</span><span class="op" id="8613509">.</span><span class="ident" id="8613510">Uint16</span>&nbsp;<span class="op" id="8613517">!=</span>&nbsp;<span class="num" id="8613520">9</span>&nbsp;<span class="op" id="8613522">||</span>&nbsp;<span class="ident" id="8613525">nulls</span><span class="op" id="8613530">.</span><span class="ident" id="8613531">Uint32</span>&nbsp;<span class="op" id="8613538">!=</span>&nbsp;<span class="num" id="8613541">10</span>&nbsp;<span class="op" id="8613544">||</span>&nbsp;<span class="ident" id="8613547">nulls</span><span class="op" id="8613552">.</span><span class="ident" id="8613553">Uint64</span>&nbsp;<span class="op" id="8613560">!=</span>&nbsp;<span class="num" id="8613563">11</span>&nbsp;<span class="op" id="8613566">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613571">nulls</span><span class="op" id="8613576">.</span><span class="ident" id="8613577">Float32</span>&nbsp;<span class="op" id="8613585">!=</span>&nbsp;<span class="num" id="8613588">12.1</span>&nbsp;<span class="op" id="8613593">||</span>&nbsp;<span class="ident" id="8613596">nulls</span><span class="op" id="8613601">.</span><span class="ident" id="8613602">Float64</span>&nbsp;<span class="op" id="8613610">!=</span>&nbsp;<span class="num" id="8613613">13.1</span>&nbsp;<span class="op" id="8613618">||</span>&nbsp;<span class="ident" id="8613621">nulls</span><span class="op" id="8613626">.</span><span class="ident" id="8613627">String</span>&nbsp;<span class="op" id="8613634">!=</span>&nbsp;<span class="string" id="8613637">&#34;14&#34;</span>&nbsp;<span class="op" id="8613642">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613647">t</span><span class="op" id="8613648">.</span><span class="ident" id="8613649">Errorf</span><span class="op" id="8613655">(</span><span class="string" id="8613656">&#34;Unmarshal&nbsp;of&nbsp;null&nbsp;values&nbsp;affected&nbsp;primitives&#34;</span><span class="op" id="8613702">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613705">}</span><br>
<span class="lineno"></span><span class="op" id="8613707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8613710">func</span>&nbsp;<span class="ident" id="8613715">TestStringKind</span><span class="op" id="8613729">(</span><span class="ident" id="8613730">t</span>&nbsp;<span class="op" id="8613732">*</span><span class="ident" id="8613733">testing</span><span class="op" id="8613740">.</span><span class="ident" id="8613741">T</span><span class="op" id="8613742">)</span>&nbsp;<span class="op" id="8613744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613747">type</span>&nbsp;<span class="ident" id="8613752">stringKind</span>&nbsp;<span class="builtintype" id="8613763">string</span><br>
<span class="lineno">1190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613772">var</span>&nbsp;<span class="ident" id="8613776">m1</span><span class="op" id="8613778">,</span>&nbsp;<span class="ident" id="8613780">m2</span>&nbsp;<span class="keyword" id="8613783">map</span><span class="op" id="8613786">[</span><span class="ident" id="8613787">stringKind</span><span class="op" id="8613797">]</span><span class="builtintype" id="8613798">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613803">m1</span>&nbsp;<span class="op" id="8613806">=</span>&nbsp;<span class="keyword" id="8613808">map</span><span class="op" id="8613811">[</span><span class="ident" id="8613812">stringKind</span><span class="op" id="8613822">]</span><span class="builtintype" id="8613823">int</span><span class="op" id="8613826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8613830">&#34;foo&#34;</span><span class="op" id="8613835">:</span>&nbsp;<span class="num" id="8613837">42</span><span class="op" id="8613839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613842">}</span><br>
<span class="lineno">1195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613846">data</span><span class="op" id="8613850">,</span>&nbsp;<span class="ident" id="8613852">err</span>&nbsp;<span class="op" id="8613856">:=</span>&nbsp;<span class="ident" id="8613859">Marshal</span><span class="op" id="8613866">(</span><span class="ident" id="8613867">m1</span><span class="op" id="8613869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613872">if</span>&nbsp;<span class="ident" id="8613875">err</span>&nbsp;<span class="op" id="8613879">!=</span>&nbsp;<span class="ident" id="8613882">nil</span>&nbsp;<span class="op" id="8613886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613890">t</span><span class="op" id="8613891">.</span><span class="ident" id="8613892">Errorf</span><span class="op" id="8613898">(</span><span class="string" id="8613899">&#34;Unexpected&nbsp;error&nbsp;marshalling:&nbsp;%v&#34;</span><span class="op" id="8613933">,</span>&nbsp;<span class="ident" id="8613935">err</span><span class="op" id="8613938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613941">}</span><br>
<span class="lineno">1200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613945">err</span>&nbsp;<span class="op" id="8613949">=</span>&nbsp;<span class="ident" id="8613951">Unmarshal</span><span class="op" id="8613960">(</span><span class="ident" id="8613961">data</span><span class="op" id="8613965">,</span>&nbsp;<span class="op" id="8613967">&amp;</span><span class="ident" id="8613968">m2</span><span class="op" id="8613970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613973">if</span>&nbsp;<span class="ident" id="8613976">err</span>&nbsp;<span class="op" id="8613980">!=</span>&nbsp;<span class="ident" id="8613983">nil</span>&nbsp;<span class="op" id="8613987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613991">t</span><span class="op" id="8613992">.</span><span class="ident" id="8613993">Errorf</span><span class="op" id="8613999">(</span><span class="string" id="8614000">&#34;Unexpected&nbsp;error&nbsp;unmarshalling:&nbsp;%v&#34;</span><span class="op" id="8614036">,</span>&nbsp;<span class="ident" id="8614038">err</span><span class="op" id="8614041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614044">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614048">if</span>&nbsp;<span class="op" id="8614051">!</span><span class="ident" id="8614052">reflect</span><span class="op" id="8614059">.</span><span class="ident" id="8614060">DeepEqual</span><span class="op" id="8614069">(</span><span class="ident" id="8614070">m1</span><span class="op" id="8614072">,</span>&nbsp;<span class="ident" id="8614074">m2</span><span class="op" id="8614076">)</span>&nbsp;<span class="op" id="8614078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614082">t</span><span class="op" id="8614083">.</span><span class="ident" id="8614084">Error</span><span class="op" id="8614089">(</span><span class="string" id="8614090">&#34;Items&nbsp;should&nbsp;be&nbsp;equal&nbsp;after&nbsp;encoding&nbsp;and&nbsp;then&nbsp;decoding&#34;</span><span class="op" id="8614146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1210</span><span class="op" id="8614152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8614155">var</span>&nbsp;<span class="ident" id="8614159">decodeTypeErrorTests</span>&nbsp;<span class="op" id="8614180">=</span>&nbsp;<span class="op" id="8614182">[</span><span class="op" id="8614183">]</span><span class="keyword" id="8614184">struct</span>&nbsp;<span class="op" id="8614191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614194">dest</span>&nbsp;<span class="keyword" id="8614199">interface</span><span class="op" id="8614208">{</span><span class="op" id="8614209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614212">src</span>&nbsp;&nbsp;<span class="builtintype" id="8614217">string</span><br>
<span class="lineno">1215</span><span class="op" id="8614224">}</span><span class="op" id="8614225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614228">{</span><span class="builtinfunc" id="8614229">new</span><span class="op" id="8614232">(</span><span class="builtintype" id="8614233">string</span><span class="op" id="8614239">)</span><span class="op" id="8614240">,</span>&nbsp;<span class="string" id="8614242">`{&#34;user&#34;:&nbsp;&#34;name&#34;}`</span><span class="op" id="8614260">}</span><span class="op" id="8614261">,</span>&nbsp;<span class="comment" id="8614263">//&nbsp;issue&nbsp;4628.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614279">{</span><span class="builtinfunc" id="8614280">new</span><span class="op" id="8614283">(</span><span class="builtintype" id="8614284">error</span><span class="op" id="8614289">)</span><span class="op" id="8614290">,</span>&nbsp;<span class="string" id="8614292">`{}`</span><span class="op" id="8614296">}</span><span class="op" id="8614297">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8614314">//&nbsp;issue&nbsp;4222</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614329">{</span><span class="builtinfunc" id="8614330">new</span><span class="op" id="8614333">(</span><span class="builtintype" id="8614334">error</span><span class="op" id="8614339">)</span><span class="op" id="8614340">,</span>&nbsp;<span class="string" id="8614342">`[]`</span><span class="op" id="8614346">}</span><span class="op" id="8614347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614350">{</span><span class="builtinfunc" id="8614351">new</span><span class="op" id="8614354">(</span><span class="builtintype" id="8614355">error</span><span class="op" id="8614360">)</span><span class="op" id="8614361">,</span>&nbsp;<span class="string" id="8614363">`&#34;&#34;`</span><span class="op" id="8614367">}</span><span class="op" id="8614368">,</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614371">{</span><span class="builtinfunc" id="8614372">new</span><span class="op" id="8614375">(</span><span class="builtintype" id="8614376">error</span><span class="op" id="8614381">)</span><span class="op" id="8614382">,</span>&nbsp;<span class="string" id="8614384">`123`</span><span class="op" id="8614389">}</span><span class="op" id="8614390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614393">{</span><span class="builtinfunc" id="8614394">new</span><span class="op" id="8614397">(</span><span class="builtintype" id="8614398">error</span><span class="op" id="8614403">)</span><span class="op" id="8614404">,</span>&nbsp;<span class="string" id="8614406">`true`</span><span class="op" id="8614412">}</span><span class="op" id="8614413">,</span><br>
<span class="lineno"></span><span class="op" id="8614415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8614418">func</span>&nbsp;<span class="ident" id="8614423">TestUnmarshalTypeError</span><span class="op" id="8614445">(</span><span class="ident" id="8614446">t</span>&nbsp;<span class="op" id="8614448">*</span><span class="ident" id="8614449">testing</span><span class="op" id="8614456">.</span><span class="ident" id="8614457">T</span><span class="op" id="8614458">)</span>&nbsp;<span class="op" id="8614460">{</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614463">for</span>&nbsp;<span class="ident" id="8614467">_</span><span class="op" id="8614468">,</span>&nbsp;<span class="ident" id="8614470">item</span>&nbsp;<span class="op" id="8614475">:=</span>&nbsp;<span class="keyword" id="8614478">range</span>&nbsp;<span class="ident" id="8614484">decodeTypeErrorTests</span>&nbsp;<span class="op" id="8614505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614509">err</span>&nbsp;<span class="op" id="8614513">:=</span>&nbsp;<span class="ident" id="8614516">Unmarshal</span><span class="op" id="8614525">(</span><span class="op" id="8614526">[</span><span class="op" id="8614527">]</span><span class="builtintype" id="8614528">byte</span><span class="op" id="8614532">(</span><span class="ident" id="8614533">item</span><span class="op" id="8614537">.</span><span class="ident" id="8614538">src</span><span class="op" id="8614541">)</span><span class="op" id="8614542">,</span>&nbsp;<span class="ident" id="8614544">item</span><span class="op" id="8614548">.</span><span class="ident" id="8614549">dest</span><span class="op" id="8614553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614557">if</span>&nbsp;<span class="ident" id="8614560">_</span><span class="op" id="8614561">,</span>&nbsp;<span class="ident" id="8614563">ok</span>&nbsp;<span class="op" id="8614566">:=</span>&nbsp;<span class="ident" id="8614569">err</span><span class="op" id="8614572">.</span><span class="op" id="8614573">(</span><span class="op" id="8614574">*</span><span class="ident" id="8614575">UnmarshalTypeError</span><span class="op" id="8614593">)</span><span class="op" id="8614594">;</span>&nbsp;<span class="op" id="8614596">!</span><span class="ident" id="8614597">ok</span>&nbsp;<span class="op" id="8614600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614605">t</span><span class="op" id="8614606">.</span><span class="ident" id="8614607">Errorf</span><span class="op" id="8614613">(</span><span class="string" id="8614614">&#34;expected&nbsp;type&nbsp;error&nbsp;for&nbsp;Unmarshal(%q,&nbsp;type&nbsp;%T):&nbsp;got&nbsp;%T&#34;</span><span class="op" id="8614670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614676">item</span><span class="op" id="8614680">.</span><span class="ident" id="8614681">src</span><span class="op" id="8614684">,</span>&nbsp;<span class="ident" id="8614686">item</span><span class="op" id="8614690">.</span><span class="ident" id="8614691">dest</span><span class="op" id="8614695">,</span>&nbsp;<span class="ident" id="8614697">err</span><span class="op" id="8614700">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614707">}</span><br>
<span class="lineno"></span><span class="op" id="8614709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8614712">var</span>&nbsp;<span class="ident" id="8614716">unmarshalSyntaxTests</span>&nbsp;<span class="op" id="8614737">=</span>&nbsp;<span class="op" id="8614739">[</span><span class="op" id="8614740">]</span><span class="builtintype" id="8614741">string</span><span class="op" id="8614747">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614750">&#34;tru&#34;</span><span class="op" id="8614755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614758">&#34;fals&#34;</span><span class="op" id="8614764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614767">&#34;nul&#34;</span><span class="op" id="8614772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614775">&#34;123e&#34;</span><span class="op" id="8614781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614784">`&#34;hello`</span><span class="op" id="8614792">,</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614795">`[1,2,3`</span><span class="op" id="8614803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614806">`{&#34;key&#34;:1`</span><span class="op" id="8614816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8614819">`{&#34;key&#34;:1,`</span><span class="op" id="8614830">,</span><br>
<span class="lineno"></span><span class="op" id="8614832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1245</span><span class="keyword" id="8614835">func</span>&nbsp;<span class="ident" id="8614840">TestUnmarshalSyntax</span><span class="op" id="8614859">(</span><span class="ident" id="8614860">t</span>&nbsp;<span class="op" id="8614862">*</span><span class="ident" id="8614863">testing</span><span class="op" id="8614870">.</span><span class="ident" id="8614871">T</span><span class="op" id="8614872">)</span>&nbsp;<span class="op" id="8614874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614877">var</span>&nbsp;<span class="ident" id="8614881">x</span>&nbsp;<span class="keyword" id="8614883">interface</span><span class="op" id="8614892">{</span><span class="op" id="8614893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614896">for</span>&nbsp;<span class="ident" id="8614900">_</span><span class="op" id="8614901">,</span>&nbsp;<span class="ident" id="8614903">src</span>&nbsp;<span class="op" id="8614907">:=</span>&nbsp;<span class="keyword" id="8614910">range</span>&nbsp;<span class="ident" id="8614916">unmarshalSyntaxTests</span>&nbsp;<span class="op" id="8614937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614941">err</span>&nbsp;<span class="op" id="8614945">:=</span>&nbsp;<span class="ident" id="8614948">Unmarshal</span><span class="op" id="8614957">(</span><span class="op" id="8614958">[</span><span class="op" id="8614959">]</span><span class="builtintype" id="8614960">byte</span><span class="op" id="8614964">(</span><span class="ident" id="8614965">src</span><span class="op" id="8614968">)</span><span class="op" id="8614969">,</span>&nbsp;<span class="op" id="8614971">&amp;</span><span class="ident" id="8614972">x</span><span class="op" id="8614973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614977">if</span>&nbsp;<span class="ident" id="8614980">_</span><span class="op" id="8614981">,</span>&nbsp;<span class="ident" id="8614983">ok</span>&nbsp;<span class="op" id="8614986">:=</span>&nbsp;<span class="ident" id="8614989">err</span><span class="op" id="8614992">.</span><span class="op" id="8614993">(</span><span class="op" id="8614994">*</span><span class="ident" id="8614995">SyntaxError</span><span class="op" id="8615006">)</span><span class="op" id="8615007">;</span>&nbsp;<span class="op" id="8615009">!</span><span class="ident" id="8615010">ok</span>&nbsp;<span class="op" id="8615013">{</span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615018">t</span><span class="op" id="8615019">.</span><span class="ident" id="8615020">Errorf</span><span class="op" id="8615026">(</span><span class="string" id="8615027">&#34;expected&nbsp;syntax&nbsp;error&nbsp;for&nbsp;Unmarshal(%q):&nbsp;got&nbsp;%T&#34;</span><span class="op" id="8615076">,</span>&nbsp;<span class="ident" id="8615078">src</span><span class="op" id="8615081">,</span>&nbsp;<span class="ident" id="8615083">err</span><span class="op" id="8615086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615093">}</span><br>
<span class="lineno"></span><span class="op" id="8615095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1255</span><span class="comment" id="8615098">//&nbsp;Test&nbsp;handling&nbsp;of&nbsp;unexported&nbsp;fields&nbsp;that&nbsp;should&nbsp;be&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="8615160">//&nbsp;Issue&nbsp;4660</span><br>
<span class="lineno"></span><span class="keyword" id="8615174">type</span>&nbsp;<span class="ident" id="8615179">unexportedFields</span>&nbsp;<span class="keyword" id="8615196">struct</span>&nbsp;<span class="op" id="8615203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615206">Name</span>&nbsp;<span class="builtintype" id="8615211">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615219">m</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8615224">map</span><span class="op" id="8615227">[</span><span class="builtintype" id="8615228">string</span><span class="op" id="8615234">]</span><span class="keyword" id="8615235">interface</span><span class="op" id="8615244">{</span><span class="op" id="8615245">}</span>&nbsp;<span class="string" id="8615247">`json:&#34;-&#34;`</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615259">m2</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8615264">map</span><span class="op" id="8615267">[</span><span class="builtintype" id="8615268">string</span><span class="op" id="8615274">]</span><span class="keyword" id="8615275">interface</span><span class="op" id="8615284">{</span><span class="op" id="8615285">}</span>&nbsp;<span class="string" id="8615287">`json:&#34;abcd&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8615301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8615304">func</span>&nbsp;<span class="ident" id="8615309">TestUnmarshalUnexported</span><span class="op" id="8615332">(</span><span class="ident" id="8615333">t</span>&nbsp;<span class="op" id="8615335">*</span><span class="ident" id="8615336">testing</span><span class="op" id="8615343">.</span><span class="ident" id="8615344">T</span><span class="op" id="8615345">)</span>&nbsp;<span class="op" id="8615347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615350">input</span>&nbsp;<span class="op" id="8615356">:=</span>&nbsp;<span class="string" id="8615359">`{&#34;Name&#34;:&nbsp;&#34;Bob&#34;,&nbsp;&#34;m&#34;:&nbsp;{&#34;x&#34;:&nbsp;123},&nbsp;&#34;m2&#34;:&nbsp;{&#34;y&#34;:&nbsp;456},&nbsp;&#34;abcd&#34;:&nbsp;{&#34;z&#34;:&nbsp;789}}`</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615433">want</span>&nbsp;<span class="op" id="8615438">:=</span>&nbsp;<span class="op" id="8615441">&amp;</span><span class="ident" id="8615442">unexportedFields</span><span class="op" id="8615458">{</span><span class="ident" id="8615459">Name</span><span class="op" id="8615463">:</span>&nbsp;<span class="string" id="8615465">&#34;Bob&#34;</span><span class="op" id="8615470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615474">out</span>&nbsp;<span class="op" id="8615478">:=</span>&nbsp;<span class="op" id="8615481">&amp;</span><span class="ident" id="8615482">unexportedFields</span><span class="op" id="8615498">{</span><span class="op" id="8615499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615502">err</span>&nbsp;<span class="op" id="8615506">:=</span>&nbsp;<span class="ident" id="8615509">Unmarshal</span><span class="op" id="8615518">(</span><span class="op" id="8615519">[</span><span class="op" id="8615520">]</span><span class="builtintype" id="8615521">byte</span><span class="op" id="8615525">(</span><span class="ident" id="8615526">input</span><span class="op" id="8615531">)</span><span class="op" id="8615532">,</span>&nbsp;<span class="ident" id="8615534">out</span><span class="op" id="8615537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615540">if</span>&nbsp;<span class="ident" id="8615543">err</span>&nbsp;<span class="op" id="8615547">!=</span>&nbsp;<span class="ident" id="8615550">nil</span>&nbsp;<span class="op" id="8615554">{</span><br>
<span class="lineno">1270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615558">t</span><span class="op" id="8615559">.</span><span class="ident" id="8615560">Errorf</span><span class="op" id="8615566">(</span><span class="string" id="8615567">&#34;got&nbsp;error&nbsp;%v,&nbsp;expected&nbsp;nil&#34;</span><span class="op" id="8615595">,</span>&nbsp;<span class="ident" id="8615597">err</span><span class="op" id="8615600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615606">if</span>&nbsp;<span class="op" id="8615609">!</span><span class="ident" id="8615610">reflect</span><span class="op" id="8615617">.</span><span class="ident" id="8615618">DeepEqual</span><span class="op" id="8615627">(</span><span class="ident" id="8615628">out</span><span class="op" id="8615631">,</span>&nbsp;<span class="ident" id="8615633">want</span><span class="op" id="8615637">)</span>&nbsp;<span class="op" id="8615639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615643">t</span><span class="op" id="8615644">.</span><span class="ident" id="8615645">Errorf</span><span class="op" id="8615651">(</span><span class="string" id="8615652">&#34;got&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8615669">,</span>&nbsp;<span class="ident" id="8615671">out</span><span class="op" id="8615674">,</span>&nbsp;<span class="ident" id="8615676">want</span><span class="op" id="8615680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615683">}</span><br>
<span class="lineno">1275</span><span class="op" id="8615685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8615688">//&nbsp;Time3339&nbsp;is&nbsp;a&nbsp;time.Time&nbsp;which&nbsp;encodes&nbsp;to&nbsp;and&nbsp;from&nbsp;JSON</span><br>
<span class="lineno"></span><span class="comment" id="8615746">//&nbsp;as&nbsp;an&nbsp;RFC&nbsp;3339&nbsp;time&nbsp;in&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="keyword" id="8615777">type</span>&nbsp;<span class="ident" id="8615782">Time3339</span>&nbsp;<span class="ident" id="8615791">time</span><span class="op" id="8615795">.</span><span class="ident" id="8615796">Time</span><br>
<span class="lineno">1280</span><br>
<span class="lineno"></span><span class="keyword" id="8615802">func</span>&nbsp;<span class="op" id="8615807">(</span><span class="ident" id="8615808">t</span>&nbsp;<span class="op" id="8615810">*</span><span class="ident" id="8615811">Time3339</span><span class="op" id="8615819">)</span>&nbsp;<span class="ident" id="8615821">UnmarshalJSON</span><span class="op" id="8615834">(</span><span class="ident" id="8615835">b</span>&nbsp;<span class="op" id="8615837">[</span><span class="op" id="8615838">]</span><span class="builtintype" id="8615839">byte</span><span class="op" id="8615843">)</span>&nbsp;<span class="builtintype" id="8615845">error</span>&nbsp;<span class="op" id="8615851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615854">if</span>&nbsp;<span class="builtinfunc" id="8615857">len</span><span class="op" id="8615860">(</span><span class="ident" id="8615861">b</span><span class="op" id="8615862">)</span>&nbsp;<span class="op" id="8615864">&lt;</span>&nbsp;<span class="num" id="8615866">2</span>&nbsp;<span class="op" id="8615868">||</span>&nbsp;<span class="ident" id="8615871">b</span><span class="op" id="8615872">[</span><span class="num" id="8615873">0</span><span class="op" id="8615874">]</span>&nbsp;<span class="op" id="8615876">!=</span>&nbsp;<span class="string" id="8615879">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="8615883">||</span>&nbsp;<span class="ident" id="8615886">b</span><span class="op" id="8615887">[</span><span class="builtinfunc" id="8615888">len</span><span class="op" id="8615891">(</span><span class="ident" id="8615892">b</span><span class="op" id="8615893">)</span><span class="op" id="8615894">-</span><span class="num" id="8615895">1</span><span class="op" id="8615896">]</span>&nbsp;<span class="op" id="8615898">!=</span>&nbsp;<span class="string" id="8615901">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="8615905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615909">return</span>&nbsp;<span class="ident" id="8615916">fmt</span><span class="op" id="8615919">.</span><span class="ident" id="8615920">Errorf</span><span class="op" id="8615926">(</span><span class="string" id="8615927">&#34;types:&nbsp;failed&nbsp;to&nbsp;unmarshal&nbsp;non-string&nbsp;value&nbsp;%q&nbsp;as&nbsp;an&nbsp;RFC&nbsp;3339&nbsp;time&#34;</span><span class="op" id="8615995">,</span>&nbsp;<span class="ident" id="8615997">b</span><span class="op" id="8615998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616001">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616004">tm</span><span class="op" id="8616006">,</span>&nbsp;<span class="ident" id="8616008">err</span>&nbsp;<span class="op" id="8616012">:=</span>&nbsp;<span class="ident" id="8616015">time</span><span class="op" id="8616019">.</span><span class="ident" id="8616020">Parse</span><span class="op" id="8616025">(</span><span class="ident" id="8616026">time</span><span class="op" id="8616030">.</span><span class="ident" id="8616031">RFC3339</span><span class="op" id="8616038">,</span>&nbsp;<span class="builtintype" id="8616040">string</span><span class="op" id="8616046">(</span><span class="ident" id="8616047">b</span><span class="op" id="8616048">[</span><span class="num" id="8616049">1</span><span class="op" id="8616050">:</span><span class="builtinfunc" id="8616051">len</span><span class="op" id="8616054">(</span><span class="ident" id="8616055">b</span><span class="op" id="8616056">)</span><span class="op" id="8616057">-</span><span class="num" id="8616058">1</span><span class="op" id="8616059">]</span><span class="op" id="8616060">)</span><span class="op" id="8616061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616064">if</span>&nbsp;<span class="ident" id="8616067">err</span>&nbsp;<span class="op" id="8616071">!=</span>&nbsp;<span class="ident" id="8616074">nil</span>&nbsp;<span class="op" id="8616078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616082">return</span>&nbsp;<span class="ident" id="8616089">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616097">*</span><span class="ident" id="8616098">t</span>&nbsp;<span class="op" id="8616100">=</span>&nbsp;<span class="ident" id="8616102">Time3339</span><span class="op" id="8616110">(</span><span class="ident" id="8616111">tm</span><span class="op" id="8616113">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616116">return</span>&nbsp;<span class="ident" id="8616123">nil</span><br>
<span class="lineno"></span><span class="op" id="8616127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8616130">func</span>&nbsp;<span class="ident" id="8616135">TestUnmarshalJSONLiteralError</span><span class="op" id="8616164">(</span><span class="ident" id="8616165">t</span>&nbsp;<span class="op" id="8616167">*</span><span class="ident" id="8616168">testing</span><span class="op" id="8616175">.</span><span class="ident" id="8616176">T</span><span class="op" id="8616177">)</span>&nbsp;<span class="op" id="8616179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616182">var</span>&nbsp;<span class="ident" id="8616186">t3</span>&nbsp;<span class="ident" id="8616189">Time3339</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616199">err</span>&nbsp;<span class="op" id="8616203">:=</span>&nbsp;<span class="ident" id="8616206">Unmarshal</span><span class="op" id="8616215">(</span><span class="op" id="8616216">[</span><span class="op" id="8616217">]</span><span class="builtintype" id="8616218">byte</span><span class="op" id="8616222">(</span><span class="string" id="8616223">`&#34;0000-00-00T00:00:00Z&#34;`</span><span class="op" id="8616247">)</span><span class="op" id="8616248">,</span>&nbsp;<span class="op" id="8616250">&amp;</span><span class="ident" id="8616251">t3</span><span class="op" id="8616253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616256">if</span>&nbsp;<span class="ident" id="8616259">err</span>&nbsp;<span class="op" id="8616263">==</span>&nbsp;<span class="ident" id="8616266">nil</span>&nbsp;<span class="op" id="8616270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616274">t</span><span class="op" id="8616275">.</span><span class="ident" id="8616276">Fatalf</span><span class="op" id="8616282">(</span><span class="string" id="8616283">&#34;expected&nbsp;error;&nbsp;got&nbsp;time&nbsp;%v&#34;</span><span class="op" id="8616312">,</span>&nbsp;<span class="ident" id="8616314">time</span><span class="op" id="8616318">.</span><span class="ident" id="8616319">Time</span><span class="op" id="8616323">(</span><span class="ident" id="8616324">t3</span><span class="op" id="8616326">)</span><span class="op" id="8616327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616333">if</span>&nbsp;<span class="op" id="8616336">!</span><span class="ident" id="8616337">strings</span><span class="op" id="8616344">.</span><span class="ident" id="8616345">Contains</span><span class="op" id="8616353">(</span><span class="ident" id="8616354">err</span><span class="op" id="8616357">.</span><span class="ident" id="8616358">Error</span><span class="op" id="8616363">(</span><span class="op" id="8616364">)</span><span class="op" id="8616365">,</span>&nbsp;<span class="string" id="8616367">&#34;range&#34;</span><span class="op" id="8616374">)</span>&nbsp;<span class="op" id="8616376">{</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616380">t</span><span class="op" id="8616381">.</span><span class="ident" id="8616382">Errorf</span><span class="op" id="8616388">(</span><span class="string" id="8616389">&#34;got&nbsp;err&nbsp;=&nbsp;%v;&nbsp;want&nbsp;out&nbsp;of&nbsp;range&nbsp;error&#34;</span><span class="op" id="8616428">,</span>&nbsp;<span class="ident" id="8616430">err</span><span class="op" id="8616433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616436">}</span><br>
<span class="lineno"></span><span class="op" id="8616438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8616441">//&nbsp;Test&nbsp;that&nbsp;extra&nbsp;object&nbsp;elements&nbsp;in&nbsp;an&nbsp;array&nbsp;do&nbsp;not&nbsp;result&nbsp;in&nbsp;a</span><br>
<span class="lineno">1305</span><span class="comment" id="8616507">//&nbsp;&#34;data&nbsp;changing&nbsp;underfoot&#34;&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="8616543">//&nbsp;Issue&nbsp;3717</span><br>
<span class="lineno"></span><span class="keyword" id="8616557">func</span>&nbsp;<span class="ident" id="8616562">TestSkipArrayObjects</span><span class="op" id="8616582">(</span><span class="ident" id="8616583">t</span>&nbsp;<span class="op" id="8616585">*</span><span class="ident" id="8616586">testing</span><span class="op" id="8616593">.</span><span class="ident" id="8616594">T</span><span class="op" id="8616595">)</span>&nbsp;<span class="op" id="8616597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616600">json</span>&nbsp;<span class="op" id="8616605">:=</span>&nbsp;<span class="string" id="8616608">`[{}]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616616">var</span>&nbsp;<span class="ident" id="8616620">dest</span>&nbsp;<span class="op" id="8616625">[</span><span class="num" id="8616626">0</span><span class="op" id="8616627">]</span><span class="keyword" id="8616628">interface</span><span class="op" id="8616637">{</span><span class="op" id="8616638">}</span><br>
<span class="lineno">1310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616642">err</span>&nbsp;<span class="op" id="8616646">:=</span>&nbsp;<span class="ident" id="8616649">Unmarshal</span><span class="op" id="8616658">(</span><span class="op" id="8616659">[</span><span class="op" id="8616660">]</span><span class="builtintype" id="8616661">byte</span><span class="op" id="8616665">(</span><span class="ident" id="8616666">json</span><span class="op" id="8616670">)</span><span class="op" id="8616671">,</span>&nbsp;<span class="op" id="8616673">&amp;</span><span class="ident" id="8616674">dest</span><span class="op" id="8616678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8616681">if</span>&nbsp;<span class="ident" id="8616684">err</span>&nbsp;<span class="op" id="8616688">!=</span>&nbsp;<span class="ident" id="8616691">nil</span>&nbsp;<span class="op" id="8616695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616699">t</span><span class="op" id="8616700">.</span><span class="ident" id="8616701">Errorf</span><span class="op" id="8616707">(</span><span class="string" id="8616708">&#34;got&nbsp;error&nbsp;%q,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8616732">,</span>&nbsp;<span class="ident" id="8616734">err</span><span class="op" id="8616737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616740">}</span><br>
<span class="lineno">1315</span><span class="op" id="8616742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8616745">//&nbsp;Test&nbsp;semantics&nbsp;of&nbsp;pre-filled&nbsp;struct&nbsp;fields&nbsp;and&nbsp;pre-filled&nbsp;map&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="8616818">//&nbsp;Issue&nbsp;4900.</span><br>
<span class="lineno"></span><span class="keyword" id="8616833">func</span>&nbsp;<span class="ident" id="8616838">TestPrefilled</span><span class="op" id="8616851">(</span><span class="ident" id="8616852">t</span>&nbsp;<span class="op" id="8616854">*</span><span class="ident" id="8616855">testing</span><span class="op" id="8616862">.</span><span class="ident" id="8616863">T</span><span class="op" id="8616864">)</span>&nbsp;<span class="op" id="8616866">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616869">ptrToMap</span>&nbsp;<span class="op" id="8616878">:=</span>&nbsp;<span class="keyword" id="8616881">func</span><span class="op" id="8616885">(</span><span class="ident" id="8616886">m</span>&nbsp;<span class="keyword" id="8616888">map</span><span class="op" id="8616891">[</span><span class="builtintype" id="8616892">string</span><span class="op" id="8616898">]</span><span class="keyword" id="8616899">interface</span><span class="op" id="8616908">{</span><span class="op" id="8616909">}</span><span class="op" id="8616910">)</span>&nbsp;<span class="op" id="8616912">*</span><span class="keyword" id="8616913">map</span><span class="op" id="8616916">[</span><span class="builtintype" id="8616917">string</span><span class="op" id="8616923">]</span><span class="keyword" id="8616924">interface</span><span class="op" id="8616933">{</span><span class="op" id="8616934">}</span>&nbsp;<span class="op" id="8616936">{</span>&nbsp;<span class="keyword" id="8616938">return</span>&nbsp;<span class="op" id="8616945">&amp;</span><span class="ident" id="8616946">m</span>&nbsp;<span class="op" id="8616948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8616952">//&nbsp;Values&nbsp;here&nbsp;change,&nbsp;cannot&nbsp;reuse&nbsp;table&nbsp;across&nbsp;runs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8617008">var</span>&nbsp;<span class="ident" id="8617012">prefillTests</span>&nbsp;<span class="op" id="8617025">=</span>&nbsp;<span class="op" id="8617027">[</span><span class="op" id="8617028">]</span><span class="keyword" id="8617029">struct</span>&nbsp;<span class="op" id="8617036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617040">in</span>&nbsp;&nbsp;<span class="builtintype" id="8617044">string</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617053">ptr</span>&nbsp;<span class="keyword" id="8617057">interface</span><span class="op" id="8617066">{</span><span class="op" id="8617067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617071">out</span>&nbsp;<span class="keyword" id="8617075">interface</span><span class="op" id="8617084">{</span><span class="op" id="8617085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617088">}</span><span class="op" id="8617089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617098">in</span><span class="op" id="8617100">:</span>&nbsp;&nbsp;<span class="string" id="8617103">`{&#34;X&#34;:&nbsp;1,&nbsp;&#34;Y&#34;:&nbsp;2}`</span><span class="op" id="8617121">,</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617126">ptr</span><span class="op" id="8617129">:</span>&nbsp;<span class="op" id="8617131">&amp;</span><span class="ident" id="8617132">XYZ</span><span class="op" id="8617135">{</span><span class="ident" id="8617136">X</span><span class="op" id="8617137">:</span>&nbsp;<span class="builtintype" id="8617139">float32</span><span class="op" id="8617146">(</span><span class="num" id="8617147">3</span><span class="op" id="8617148">)</span><span class="op" id="8617149">,</span>&nbsp;<span class="ident" id="8617151">Y</span><span class="op" id="8617152">:</span>&nbsp;<span class="builtintype" id="8617154">int16</span><span class="op" id="8617159">(</span><span class="num" id="8617160">4</span><span class="op" id="8617161">)</span><span class="op" id="8617162">,</span>&nbsp;<span class="ident" id="8617164">Z</span><span class="op" id="8617165">:</span>&nbsp;<span class="num" id="8617167">1.5</span><span class="op" id="8617170">}</span><span class="op" id="8617171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617176">out</span><span class="op" id="8617179">:</span>&nbsp;<span class="op" id="8617181">&amp;</span><span class="ident" id="8617182">XYZ</span><span class="op" id="8617185">{</span><span class="ident" id="8617186">X</span><span class="op" id="8617187">:</span>&nbsp;<span class="builtintype" id="8617189">float64</span><span class="op" id="8617196">(</span><span class="num" id="8617197">1</span><span class="op" id="8617198">)</span><span class="op" id="8617199">,</span>&nbsp;<span class="ident" id="8617201">Y</span><span class="op" id="8617202">:</span>&nbsp;<span class="builtintype" id="8617204">float64</span><span class="op" id="8617211">(</span><span class="num" id="8617212">2</span><span class="op" id="8617213">)</span><span class="op" id="8617214">,</span>&nbsp;<span class="ident" id="8617216">Z</span><span class="op" id="8617217">:</span>&nbsp;<span class="num" id="8617219">1.5</span><span class="op" id="8617222">}</span><span class="op" id="8617223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617227">}</span><span class="op" id="8617228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617237">in</span><span class="op" id="8617239">:</span>&nbsp;&nbsp;<span class="string" id="8617242">`{&#34;X&#34;:&nbsp;1,&nbsp;&#34;Y&#34;:&nbsp;2}`</span><span class="op" id="8617260">,</span><br>
<span class="lineno">1335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617265">ptr</span><span class="op" id="8617268">:</span>&nbsp;<span class="ident" id="8617270">ptrToMap</span><span class="op" id="8617278">(</span><span class="keyword" id="8617279">map</span><span class="op" id="8617282">[</span><span class="builtintype" id="8617283">string</span><span class="op" id="8617289">]</span><span class="keyword" id="8617290">interface</span><span class="op" id="8617299">{</span><span class="op" id="8617300">}</span><span class="op" id="8617301">{</span><span class="string" id="8617302">&#34;X&#34;</span><span class="op" id="8617305">:</span>&nbsp;<span class="builtintype" id="8617307">float32</span><span class="op" id="8617314">(</span><span class="num" id="8617315">3</span><span class="op" id="8617316">)</span><span class="op" id="8617317">,</span>&nbsp;<span class="string" id="8617319">&#34;Y&#34;</span><span class="op" id="8617322">:</span>&nbsp;<span class="builtintype" id="8617324">int16</span><span class="op" id="8617329">(</span><span class="num" id="8617330">4</span><span class="op" id="8617331">)</span><span class="op" id="8617332">,</span>&nbsp;<span class="string" id="8617334">&#34;Z&#34;</span><span class="op" id="8617337">:</span>&nbsp;<span class="num" id="8617339">1.5</span><span class="op" id="8617342">}</span><span class="op" id="8617343">)</span><span class="op" id="8617344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617349">out</span><span class="op" id="8617352">:</span>&nbsp;<span class="ident" id="8617354">ptrToMap</span><span class="op" id="8617362">(</span><span class="keyword" id="8617363">map</span><span class="op" id="8617366">[</span><span class="builtintype" id="8617367">string</span><span class="op" id="8617373">]</span><span class="keyword" id="8617374">interface</span><span class="op" id="8617383">{</span><span class="op" id="8617384">}</span><span class="op" id="8617385">{</span><span class="string" id="8617386">&#34;X&#34;</span><span class="op" id="8617389">:</span>&nbsp;<span class="builtintype" id="8617391">float64</span><span class="op" id="8617398">(</span><span class="num" id="8617399">1</span><span class="op" id="8617400">)</span><span class="op" id="8617401">,</span>&nbsp;<span class="string" id="8617403">&#34;Y&#34;</span><span class="op" id="8617406">:</span>&nbsp;<span class="builtintype" id="8617408">float64</span><span class="op" id="8617415">(</span><span class="num" id="8617416">2</span><span class="op" id="8617417">)</span><span class="op" id="8617418">,</span>&nbsp;<span class="string" id="8617420">&#34;Z&#34;</span><span class="op" id="8617423">:</span>&nbsp;<span class="num" id="8617425">1.5</span><span class="op" id="8617428">}</span><span class="op" id="8617429">)</span><span class="op" id="8617430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617434">}</span><span class="op" id="8617435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8617442">for</span>&nbsp;<span class="ident" id="8617446">_</span><span class="op" id="8617447">,</span>&nbsp;<span class="ident" id="8617449">tt</span>&nbsp;<span class="op" id="8617452">:=</span>&nbsp;<span class="keyword" id="8617455">range</span>&nbsp;<span class="ident" id="8617461">prefillTests</span>&nbsp;<span class="op" id="8617474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617478">ptrstr</span>&nbsp;<span class="op" id="8617485">:=</span>&nbsp;<span class="ident" id="8617488">fmt</span><span class="op" id="8617491">.</span><span class="ident" id="8617492">Sprintf</span><span class="op" id="8617499">(</span><span class="string" id="8617500">&#34;%v&#34;</span><span class="op" id="8617504">,</span>&nbsp;<span class="ident" id="8617506">tt</span><span class="op" id="8617508">.</span><span class="ident" id="8617509">ptr</span><span class="op" id="8617512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617516">err</span>&nbsp;<span class="op" id="8617520">:=</span>&nbsp;<span class="ident" id="8617523">Unmarshal</span><span class="op" id="8617532">(</span><span class="op" id="8617533">[</span><span class="op" id="8617534">]</span><span class="builtintype" id="8617535">byte</span><span class="op" id="8617539">(</span><span class="ident" id="8617540">tt</span><span class="op" id="8617542">.</span><span class="ident" id="8617543">in</span><span class="op" id="8617545">)</span><span class="op" id="8617546">,</span>&nbsp;<span class="ident" id="8617548">tt</span><span class="op" id="8617550">.</span><span class="ident" id="8617551">ptr</span><span class="op" id="8617554">)</span>&nbsp;<span class="comment" id="8617556">//&nbsp;tt.ptr&nbsp;edited&nbsp;here</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8617580">if</span>&nbsp;<span class="ident" id="8617583">err</span>&nbsp;<span class="op" id="8617587">!=</span>&nbsp;<span class="ident" id="8617590">nil</span>&nbsp;<span class="op" id="8617594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617599">t</span><span class="op" id="8617600">.</span><span class="ident" id="8617601">Errorf</span><span class="op" id="8617607">(</span><span class="string" id="8617608">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8617623">,</span>&nbsp;<span class="ident" id="8617625">err</span><span class="op" id="8617628">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8617636">if</span>&nbsp;<span class="op" id="8617639">!</span><span class="ident" id="8617640">reflect</span><span class="op" id="8617647">.</span><span class="ident" id="8617648">DeepEqual</span><span class="op" id="8617657">(</span><span class="ident" id="8617658">tt</span><span class="op" id="8617660">.</span><span class="ident" id="8617661">ptr</span><span class="op" id="8617664">,</span>&nbsp;<span class="ident" id="8617666">tt</span><span class="op" id="8617668">.</span><span class="ident" id="8617669">out</span><span class="op" id="8617672">)</span>&nbsp;<span class="op" id="8617674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617679">t</span><span class="op" id="8617680">.</span><span class="ident" id="8617681">Errorf</span><span class="op" id="8617687">(</span><span class="string" id="8617688">&#34;Unmarshal(%#q,&nbsp;%s):&nbsp;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8617726">,</span>&nbsp;<span class="ident" id="8617728">tt</span><span class="op" id="8617730">.</span><span class="ident" id="8617731">in</span><span class="op" id="8617733">,</span>&nbsp;<span class="ident" id="8617735">ptrstr</span><span class="op" id="8617741">,</span>&nbsp;<span class="ident" id="8617743">tt</span><span class="op" id="8617745">.</span><span class="ident" id="8617746">ptr</span><span class="op" id="8617749">,</span>&nbsp;<span class="ident" id="8617751">tt</span><span class="op" id="8617753">.</span><span class="ident" id="8617754">out</span><span class="op" id="8617757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617764">}</span><br>
<span class="lineno">1350</span><span class="op" id="8617766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8617769">var</span>&nbsp;<span class="ident" id="8617773">invalidUnmarshalTests</span>&nbsp;<span class="op" id="8617795">=</span>&nbsp;<span class="op" id="8617797">[</span><span class="op" id="8617798">]</span><span class="keyword" id="8617799">struct</span>&nbsp;<span class="op" id="8617806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617809">v</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8617814">interface</span><span class="op" id="8617823">{</span><span class="op" id="8617824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617827">want</span>&nbsp;<span class="builtintype" id="8617832">string</span><br>
<span class="lineno">1355</span><span class="op" id="8617839">}</span><span class="op" id="8617840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617843">{</span><span class="ident" id="8617844">nil</span><span class="op" id="8617847">,</span>&nbsp;<span class="string" id="8617849">&#34;json:&nbsp;Unmarshal(nil)&#34;</span><span class="op" id="8617871">}</span><span class="op" id="8617872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617875">{</span><span class="keyword" id="8617876">struct</span><span class="op" id="8617882">{</span><span class="op" id="8617883">}</span><span class="op" id="8617884">{</span><span class="op" id="8617885">}</span><span class="op" id="8617886">,</span>&nbsp;<span class="string" id="8617888">&#34;json:&nbsp;Unmarshal(non-pointer&nbsp;struct&nbsp;{})&#34;</span><span class="op" id="8617928">}</span><span class="op" id="8617929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8617932">{</span><span class="op" id="8617933">(</span><span class="op" id="8617934">*</span><span class="builtintype" id="8617935">int</span><span class="op" id="8617938">)</span><span class="op" id="8617939">(</span><span class="ident" id="8617940">nil</span><span class="op" id="8617943">)</span><span class="op" id="8617944">,</span>&nbsp;<span class="string" id="8617946">&#34;json:&nbsp;Unmarshal(nil&nbsp;*int)&#34;</span><span class="op" id="8617973">}</span><span class="op" id="8617974">,</span><br>
<span class="lineno"></span><span class="op" id="8617976">}</span><br>
<span class="lineno">1360</span><br>
<span class="lineno"></span><span class="keyword" id="8617979">func</span>&nbsp;<span class="ident" id="8617984">TestInvalidUnmarshal</span><span class="op" id="8618004">(</span><span class="ident" id="8618005">t</span>&nbsp;<span class="op" id="8618007">*</span><span class="ident" id="8618008">testing</span><span class="op" id="8618015">.</span><span class="ident" id="8618016">T</span><span class="op" id="8618017">)</span>&nbsp;<span class="op" id="8618019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8618022">buf</span>&nbsp;<span class="op" id="8618026">:=</span>&nbsp;<span class="op" id="8618029">[</span><span class="op" id="8618030">]</span><span class="builtintype" id="8618031">byte</span><span class="op" id="8618035">(</span><span class="string" id="8618036">`{&#34;a&#34;:&#34;1&#34;}`</span><span class="op" id="8618047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8618050">for</span>&nbsp;<span class="ident" id="8618054">_</span><span class="op" id="8618055">,</span>&nbsp;<span class="ident" id="8618057">tt</span>&nbsp;<span class="op" id="8618060">:=</span>&nbsp;<span class="keyword" id="8618063">range</span>&nbsp;<span class="ident" id="8618069">invalidUnmarshalTests</span>&nbsp;<span class="op" id="8618091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8618095">err</span>&nbsp;<span class="op" id="8618099">:=</span>&nbsp;<span class="ident" id="8618102">Unmarshal</span><span class="op" id="8618111">(</span><span class="ident" id="8618112">buf</span><span class="op" id="8618115">,</span>&nbsp;<span class="ident" id="8618117">tt</span><span class="op" id="8618119">.</span><span class="ident" id="8618120">v</span><span class="op" id="8618121">)</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8618125">if</span>&nbsp;<span class="ident" id="8618128">err</span>&nbsp;<span class="op" id="8618132">==</span>&nbsp;<span class="ident" id="8618135">nil</span>&nbsp;<span class="op" id="8618139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8618144">t</span><span class="op" id="8618145">.</span><span class="ident" id="8618146">Errorf</span><span class="op" id="8618152">(</span><span class="string" id="8618153">&#34;Unmarshal&nbsp;expecting&nbsp;error,&nbsp;got&nbsp;nil&#34;</span><span class="op" id="8618189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8618194">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8618205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8618209">if</span>&nbsp;<span class="ident" id="8618212">got</span>&nbsp;<span class="op" id="8618216">:=</span>&nbsp;<span class="ident" id="8618219">err</span><span class="op" id="8618222">.</span><span class="ident" id="8618223">Error</span><span class="op" id="8618228">(</span><span class="op" id="8618229">)</span><span class="op" id="8618230">;</span>&nbsp;<span class="ident" id="8618232">got</span>&nbsp;<span class="op" id="8618236">!=</span>&nbsp;<span class="ident" id="8618239">tt</span><span class="op" id="8618241">.</span><span class="ident" id="8618242">want</span>&nbsp;<span class="op" id="8618247">{</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8618252">t</span><span class="op" id="8618253">.</span><span class="ident" id="8618254">Errorf</span><span class="op" id="8618260">(</span><span class="string" id="8618261">&#34;Unmarshal&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8618286">,</span>&nbsp;<span class="ident" id="8618288">got</span><span class="op" id="8618291">,</span>&nbsp;<span class="ident" id="8618293">tt</span><span class="op" id="8618295">.</span><span class="ident" id="8618296">want</span><span class="op" id="8618300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8618304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8618307">}</span><br>
<span class="lineno"></span><span class="op" id="8618309">}</span>
</div>
</body>
</html>
