<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7081164">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7081220">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7081274">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7081325">package</span>&nbsp;<span class="ident" id="7081333">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081341">import</span>&nbsp;<span class="op" id="7081348">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081351">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081360">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081366">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081374">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081385">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081396">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7081406">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7081409">type</span>&nbsp;<span class="ident" id="7081414">Struct</span>&nbsp;<span class="keyword" id="7081421">struct</span>&nbsp;<span class="op" id="7081428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081431">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081442">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081448">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081459">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081466">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081477">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081484">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7081495">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081502">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081513">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081520">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081531">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081539">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081550">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081558">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7081569">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081577">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081588">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081597">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081608">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081617">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="7081628">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081639">Complex128</span>&nbsp;<span class="builtintype" id="7081650">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081662">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7081673">[</span><span class="num" id="7081674">4</span><span class="op" id="7081675">]</span><span class="builtintype" id="7081676">uint8</span><br>
<span class="lineno">30</span><span class="op" id="7081682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081685">type</span>&nbsp;<span class="ident" id="7081690">T</span>&nbsp;<span class="keyword" id="7081692">struct</span>&nbsp;<span class="op" id="7081699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081702">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081710">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081715">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081723">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081729">Uintptr</span>&nbsp;<span class="builtintype" id="7081737">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081746">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7081754">[</span><span class="num" id="7081755">4</span><span class="op" id="7081756">]</span><span class="builtintype" id="7081757">int</span><br>
<span class="lineno"></span><span class="op" id="7081761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081764">var</span>&nbsp;<span class="ident" id="7081768">s</span>&nbsp;<span class="op" id="7081770">=</span>&nbsp;<span class="ident" id="7081772">Struct</span><span class="op" id="7081778">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081781">0x01</span><span class="op" id="7081785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081788">0x0203</span><span class="op" id="7081794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081797">0x04050607</span><span class="op" id="7081807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081810">0x08090a0b0c0d0e0f</span><span class="op" id="7081828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081831">0x10</span><span class="op" id="7081835">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081838">0x1112</span><span class="op" id="7081844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081847">0x13141516</span><span class="op" id="7081857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7081860">0x1718191a1b1c1d1e</span><span class="op" id="7081878">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081882">math</span><span class="op" id="7081886">.</span><span class="ident" id="7081887">Float32frombits</span><span class="op" id="7081902">(</span><span class="num" id="7081903">0x1f202122</span><span class="op" id="7081913">)</span><span class="op" id="7081914">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081917">math</span><span class="op" id="7081921">.</span><span class="ident" id="7081922">Float64frombits</span><span class="op" id="7081937">(</span><span class="num" id="7081938">0x232425262728292a</span><span class="op" id="7081956">)</span><span class="op" id="7081957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7081960">complex</span><span class="op" id="7081967">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081971">math</span><span class="op" id="7081975">.</span><span class="ident" id="7081976">Float32frombits</span><span class="op" id="7081991">(</span><span class="num" id="7081992">0x2b2c2d2e</span><span class="op" id="7082002">)</span><span class="op" id="7082003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7082007">math</span><span class="op" id="7082011">.</span><span class="ident" id="7082012">Float32frombits</span><span class="op" id="7082027">(</span><span class="num" id="7082028">0x2f303132</span><span class="op" id="7082038">)</span><span class="op" id="7082039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082042">)</span><span class="op" id="7082043">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7082046">complex</span><span class="op" id="7082053">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7082057">math</span><span class="op" id="7082061">.</span><span class="ident" id="7082062">Float64frombits</span><span class="op" id="7082077">(</span><span class="num" id="7082078">0x333435363738393a</span><span class="op" id="7082096">)</span><span class="op" id="7082097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7082101">math</span><span class="op" id="7082105">.</span><span class="ident" id="7082106">Float64frombits</span><span class="op" id="7082121">(</span><span class="num" id="7082122">0x3b3c3d3e3f404142</span><span class="op" id="7082140">)</span><span class="op" id="7082141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082144">)</span><span class="op" id="7082145">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082149">[</span><span class="num" id="7082150">4</span><span class="op" id="7082151">]</span><span class="builtintype" id="7082152">uint8</span><span class="op" id="7082157">{</span><span class="num" id="7082158">0x43</span><span class="op" id="7082162">,</span>&nbsp;<span class="num" id="7082164">0x44</span><span class="op" id="7082168">,</span>&nbsp;<span class="num" id="7082170">0x45</span><span class="op" id="7082174">,</span>&nbsp;<span class="num" id="7082176">0x46</span><span class="op" id="7082180">}</span><span class="op" id="7082181">,</span><br>
<span class="lineno"></span><span class="op" id="7082183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082186">var</span>&nbsp;<span class="ident" id="7082190">big</span>&nbsp;<span class="op" id="7082194">=</span>&nbsp;<span class="op" id="7082196">[</span><span class="op" id="7082197">]</span><span class="builtintype" id="7082198">byte</span><span class="op" id="7082202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082205">1</span><span class="op" id="7082206">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082209">2</span><span class="op" id="7082210">,</span>&nbsp;<span class="num" id="7082212">3</span><span class="op" id="7082213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082216">4</span><span class="op" id="7082217">,</span>&nbsp;<span class="num" id="7082219">5</span><span class="op" id="7082220">,</span>&nbsp;<span class="num" id="7082222">6</span><span class="op" id="7082223">,</span>&nbsp;<span class="num" id="7082225">7</span><span class="op" id="7082226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082229">8</span><span class="op" id="7082230">,</span>&nbsp;<span class="num" id="7082232">9</span><span class="op" id="7082233">,</span>&nbsp;<span class="num" id="7082235">10</span><span class="op" id="7082237">,</span>&nbsp;<span class="num" id="7082239">11</span><span class="op" id="7082241">,</span>&nbsp;<span class="num" id="7082243">12</span><span class="op" id="7082245">,</span>&nbsp;<span class="num" id="7082247">13</span><span class="op" id="7082249">,</span>&nbsp;<span class="num" id="7082251">14</span><span class="op" id="7082253">,</span>&nbsp;<span class="num" id="7082255">15</span><span class="op" id="7082257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082260">16</span><span class="op" id="7082262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082265">17</span><span class="op" id="7082267">,</span>&nbsp;<span class="num" id="7082269">18</span><span class="op" id="7082271">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082274">19</span><span class="op" id="7082276">,</span>&nbsp;<span class="num" id="7082278">20</span><span class="op" id="7082280">,</span>&nbsp;<span class="num" id="7082282">21</span><span class="op" id="7082284">,</span>&nbsp;<span class="num" id="7082286">22</span><span class="op" id="7082288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082291">23</span><span class="op" id="7082293">,</span>&nbsp;<span class="num" id="7082295">24</span><span class="op" id="7082297">,</span>&nbsp;<span class="num" id="7082299">25</span><span class="op" id="7082301">,</span>&nbsp;<span class="num" id="7082303">26</span><span class="op" id="7082305">,</span>&nbsp;<span class="num" id="7082307">27</span><span class="op" id="7082309">,</span>&nbsp;<span class="num" id="7082311">28</span><span class="op" id="7082313">,</span>&nbsp;<span class="num" id="7082315">29</span><span class="op" id="7082317">,</span>&nbsp;<span class="num" id="7082319">30</span><span class="op" id="7082321">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082325">31</span><span class="op" id="7082327">,</span>&nbsp;<span class="num" id="7082329">32</span><span class="op" id="7082331">,</span>&nbsp;<span class="num" id="7082333">33</span><span class="op" id="7082335">,</span>&nbsp;<span class="num" id="7082337">34</span><span class="op" id="7082339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082342">35</span><span class="op" id="7082344">,</span>&nbsp;<span class="num" id="7082346">36</span><span class="op" id="7082348">,</span>&nbsp;<span class="num" id="7082350">37</span><span class="op" id="7082352">,</span>&nbsp;<span class="num" id="7082354">38</span><span class="op" id="7082356">,</span>&nbsp;<span class="num" id="7082358">39</span><span class="op" id="7082360">,</span>&nbsp;<span class="num" id="7082362">40</span><span class="op" id="7082364">,</span>&nbsp;<span class="num" id="7082366">41</span><span class="op" id="7082368">,</span>&nbsp;<span class="num" id="7082370">42</span><span class="op" id="7082372">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082375">43</span><span class="op" id="7082377">,</span>&nbsp;<span class="num" id="7082379">44</span><span class="op" id="7082381">,</span>&nbsp;<span class="num" id="7082383">45</span><span class="op" id="7082385">,</span>&nbsp;<span class="num" id="7082387">46</span><span class="op" id="7082389">,</span>&nbsp;<span class="num" id="7082391">47</span><span class="op" id="7082393">,</span>&nbsp;<span class="num" id="7082395">48</span><span class="op" id="7082397">,</span>&nbsp;<span class="num" id="7082399">49</span><span class="op" id="7082401">,</span>&nbsp;<span class="num" id="7082403">50</span><span class="op" id="7082405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082408">51</span><span class="op" id="7082410">,</span>&nbsp;<span class="num" id="7082412">52</span><span class="op" id="7082414">,</span>&nbsp;<span class="num" id="7082416">53</span><span class="op" id="7082418">,</span>&nbsp;<span class="num" id="7082420">54</span><span class="op" id="7082422">,</span>&nbsp;<span class="num" id="7082424">55</span><span class="op" id="7082426">,</span>&nbsp;<span class="num" id="7082428">56</span><span class="op" id="7082430">,</span>&nbsp;<span class="num" id="7082432">57</span><span class="op" id="7082434">,</span>&nbsp;<span class="num" id="7082436">58</span><span class="op" id="7082438">,</span>&nbsp;<span class="num" id="7082440">59</span><span class="op" id="7082442">,</span>&nbsp;<span class="num" id="7082444">60</span><span class="op" id="7082446">,</span>&nbsp;<span class="num" id="7082448">61</span><span class="op" id="7082450">,</span>&nbsp;<span class="num" id="7082452">62</span><span class="op" id="7082454">,</span>&nbsp;<span class="num" id="7082456">63</span><span class="op" id="7082458">,</span>&nbsp;<span class="num" id="7082460">64</span><span class="op" id="7082462">,</span>&nbsp;<span class="num" id="7082464">65</span><span class="op" id="7082466">,</span>&nbsp;<span class="num" id="7082468">66</span><span class="op" id="7082470">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082474">67</span><span class="op" id="7082476">,</span>&nbsp;<span class="num" id="7082478">68</span><span class="op" id="7082480">,</span>&nbsp;<span class="num" id="7082482">69</span><span class="op" id="7082484">,</span>&nbsp;<span class="num" id="7082486">70</span><span class="op" id="7082488">,</span><br>
<span class="lineno"></span><span class="op" id="7082490">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="7082493">var</span>&nbsp;<span class="ident" id="7082497">little</span>&nbsp;<span class="op" id="7082504">=</span>&nbsp;<span class="op" id="7082506">[</span><span class="op" id="7082507">]</span><span class="builtintype" id="7082508">byte</span><span class="op" id="7082512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082515">1</span><span class="op" id="7082516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082519">3</span><span class="op" id="7082520">,</span>&nbsp;<span class="num" id="7082522">2</span><span class="op" id="7082523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082526">7</span><span class="op" id="7082527">,</span>&nbsp;<span class="num" id="7082529">6</span><span class="op" id="7082530">,</span>&nbsp;<span class="num" id="7082532">5</span><span class="op" id="7082533">,</span>&nbsp;<span class="num" id="7082535">4</span><span class="op" id="7082536">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082539">15</span><span class="op" id="7082541">,</span>&nbsp;<span class="num" id="7082543">14</span><span class="op" id="7082545">,</span>&nbsp;<span class="num" id="7082547">13</span><span class="op" id="7082549">,</span>&nbsp;<span class="num" id="7082551">12</span><span class="op" id="7082553">,</span>&nbsp;<span class="num" id="7082555">11</span><span class="op" id="7082557">,</span>&nbsp;<span class="num" id="7082559">10</span><span class="op" id="7082561">,</span>&nbsp;<span class="num" id="7082563">9</span><span class="op" id="7082564">,</span>&nbsp;<span class="num" id="7082566">8</span><span class="op" id="7082567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082570">16</span><span class="op" id="7082572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082575">18</span><span class="op" id="7082577">,</span>&nbsp;<span class="num" id="7082579">17</span><span class="op" id="7082581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082584">22</span><span class="op" id="7082586">,</span>&nbsp;<span class="num" id="7082588">21</span><span class="op" id="7082590">,</span>&nbsp;<span class="num" id="7082592">20</span><span class="op" id="7082594">,</span>&nbsp;<span class="num" id="7082596">19</span><span class="op" id="7082598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082601">30</span><span class="op" id="7082603">,</span>&nbsp;<span class="num" id="7082605">29</span><span class="op" id="7082607">,</span>&nbsp;<span class="num" id="7082609">28</span><span class="op" id="7082611">,</span>&nbsp;<span class="num" id="7082613">27</span><span class="op" id="7082615">,</span>&nbsp;<span class="num" id="7082617">26</span><span class="op" id="7082619">,</span>&nbsp;<span class="num" id="7082621">25</span><span class="op" id="7082623">,</span>&nbsp;<span class="num" id="7082625">24</span><span class="op" id="7082627">,</span>&nbsp;<span class="num" id="7082629">23</span><span class="op" id="7082631">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082635">34</span><span class="op" id="7082637">,</span>&nbsp;<span class="num" id="7082639">33</span><span class="op" id="7082641">,</span>&nbsp;<span class="num" id="7082643">32</span><span class="op" id="7082645">,</span>&nbsp;<span class="num" id="7082647">31</span><span class="op" id="7082649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082652">42</span><span class="op" id="7082654">,</span>&nbsp;<span class="num" id="7082656">41</span><span class="op" id="7082658">,</span>&nbsp;<span class="num" id="7082660">40</span><span class="op" id="7082662">,</span>&nbsp;<span class="num" id="7082664">39</span><span class="op" id="7082666">,</span>&nbsp;<span class="num" id="7082668">38</span><span class="op" id="7082670">,</span>&nbsp;<span class="num" id="7082672">37</span><span class="op" id="7082674">,</span>&nbsp;<span class="num" id="7082676">36</span><span class="op" id="7082678">,</span>&nbsp;<span class="num" id="7082680">35</span><span class="op" id="7082682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082685">46</span><span class="op" id="7082687">,</span>&nbsp;<span class="num" id="7082689">45</span><span class="op" id="7082691">,</span>&nbsp;<span class="num" id="7082693">44</span><span class="op" id="7082695">,</span>&nbsp;<span class="num" id="7082697">43</span><span class="op" id="7082699">,</span>&nbsp;<span class="num" id="7082701">50</span><span class="op" id="7082703">,</span>&nbsp;<span class="num" id="7082705">49</span><span class="op" id="7082707">,</span>&nbsp;<span class="num" id="7082709">48</span><span class="op" id="7082711">,</span>&nbsp;<span class="num" id="7082713">47</span><span class="op" id="7082715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082718">58</span><span class="op" id="7082720">,</span>&nbsp;<span class="num" id="7082722">57</span><span class="op" id="7082724">,</span>&nbsp;<span class="num" id="7082726">56</span><span class="op" id="7082728">,</span>&nbsp;<span class="num" id="7082730">55</span><span class="op" id="7082732">,</span>&nbsp;<span class="num" id="7082734">54</span><span class="op" id="7082736">,</span>&nbsp;<span class="num" id="7082738">53</span><span class="op" id="7082740">,</span>&nbsp;<span class="num" id="7082742">52</span><span class="op" id="7082744">,</span>&nbsp;<span class="num" id="7082746">51</span><span class="op" id="7082748">,</span>&nbsp;<span class="num" id="7082750">66</span><span class="op" id="7082752">,</span>&nbsp;<span class="num" id="7082754">65</span><span class="op" id="7082756">,</span>&nbsp;<span class="num" id="7082758">64</span><span class="op" id="7082760">,</span>&nbsp;<span class="num" id="7082762">63</span><span class="op" id="7082764">,</span>&nbsp;<span class="num" id="7082766">62</span><span class="op" id="7082768">,</span>&nbsp;<span class="num" id="7082770">61</span><span class="op" id="7082772">,</span>&nbsp;<span class="num" id="7082774">60</span><span class="op" id="7082776">,</span>&nbsp;<span class="num" id="7082778">59</span><span class="op" id="7082780">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7082784">67</span><span class="op" id="7082786">,</span>&nbsp;<span class="num" id="7082788">68</span><span class="op" id="7082790">,</span>&nbsp;<span class="num" id="7082792">69</span><span class="op" id="7082794">,</span>&nbsp;<span class="num" id="7082796">70</span><span class="op" id="7082798">,</span><br>
<span class="lineno"></span><span class="op" id="7082800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082803">var</span>&nbsp;<span class="ident" id="7082807">src</span>&nbsp;<span class="op" id="7082811">=</span>&nbsp;<span class="op" id="7082813">[</span><span class="op" id="7082814">]</span><span class="builtintype" id="7082815">byte</span><span class="op" id="7082819">{</span><span class="num" id="7082820">1</span><span class="op" id="7082821">,</span>&nbsp;<span class="num" id="7082823">2</span><span class="op" id="7082824">,</span>&nbsp;<span class="num" id="7082826">3</span><span class="op" id="7082827">,</span>&nbsp;<span class="num" id="7082829">4</span><span class="op" id="7082830">,</span>&nbsp;<span class="num" id="7082832">5</span><span class="op" id="7082833">,</span>&nbsp;<span class="num" id="7082835">6</span><span class="op" id="7082836">,</span>&nbsp;<span class="num" id="7082838">7</span><span class="op" id="7082839">,</span>&nbsp;<span class="num" id="7082841">8</span><span class="op" id="7082842">}</span><br>
<span class="lineno">100</span><span class="keyword" id="7082844">var</span>&nbsp;<span class="ident" id="7082848">res</span>&nbsp;<span class="op" id="7082852">=</span>&nbsp;<span class="op" id="7082854">[</span><span class="op" id="7082855">]</span><span class="builtintype" id="7082856">int32</span><span class="op" id="7082861">{</span><span class="num" id="7082862">0x01020304</span><span class="op" id="7082872">,</span>&nbsp;<span class="num" id="7082874">0x05060708</span><span class="op" id="7082884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7082887">func</span>&nbsp;<span class="ident" id="7082892">checkResult</span><span class="op" id="7082903">(</span><span class="ident" id="7082904">t</span>&nbsp;<span class="op" id="7082906">*</span><span class="ident" id="7082907">testing</span><span class="op" id="7082914">.</span><span class="ident" id="7082915">T</span><span class="op" id="7082916">,</span>&nbsp;<span class="ident" id="7082918">dir</span>&nbsp;<span class="builtintype" id="7082922">string</span><span class="op" id="7082928">,</span>&nbsp;<span class="ident" id="7082930">order</span>&nbsp;<span class="ident" id="7082936">ByteOrder</span><span class="op" id="7082945">,</span>&nbsp;<span class="ident" id="7082947">err</span>&nbsp;<span class="builtintype" id="7082951">error</span><span class="op" id="7082956">,</span>&nbsp;<span class="ident" id="7082958">have</span><span class="op" id="7082962">,</span>&nbsp;<span class="ident" id="7082964">want</span>&nbsp;<span class="keyword" id="7082969">interface</span><span class="op" id="7082978">{</span><span class="op" id="7082979">}</span><span class="op" id="7082980">)</span>&nbsp;<span class="op" id="7082982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7082985">if</span>&nbsp;<span class="ident" id="7082988">err</span>&nbsp;<span class="op" id="7082992">!=</span>&nbsp;<span class="ident" id="7082995">nil</span>&nbsp;<span class="op" id="7082999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083003">t</span><span class="op" id="7083004">.</span><span class="ident" id="7083005">Errorf</span><span class="op" id="7083011">(</span><span class="string" id="7083012">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="7083023">,</span>&nbsp;<span class="ident" id="7083025">dir</span><span class="op" id="7083028">,</span>&nbsp;<span class="ident" id="7083030">order</span><span class="op" id="7083035">,</span>&nbsp;<span class="ident" id="7083037">err</span><span class="op" id="7083040">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7083044">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7083055">if</span>&nbsp;<span class="op" id="7083058">!</span><span class="ident" id="7083059">reflect</span><span class="op" id="7083066">.</span><span class="ident" id="7083067">DeepEqual</span><span class="op" id="7083076">(</span><span class="ident" id="7083077">have</span><span class="op" id="7083081">,</span>&nbsp;<span class="ident" id="7083083">want</span><span class="op" id="7083087">)</span>&nbsp;<span class="op" id="7083089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083093">t</span><span class="op" id="7083094">.</span><span class="ident" id="7083095">Errorf</span><span class="op" id="7083101">(</span><span class="string" id="7083102">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="7083134">,</span>&nbsp;<span class="ident" id="7083136">dir</span><span class="op" id="7083139">,</span>&nbsp;<span class="ident" id="7083141">order</span><span class="op" id="7083146">,</span>&nbsp;<span class="ident" id="7083148">have</span><span class="op" id="7083152">,</span>&nbsp;<span class="ident" id="7083154">want</span><span class="op" id="7083158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083161">}</span><br>
<span class="lineno">110</span><span class="op" id="7083163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7083166">func</span>&nbsp;<span class="ident" id="7083171">testRead</span><span class="op" id="7083179">(</span><span class="ident" id="7083180">t</span>&nbsp;<span class="op" id="7083182">*</span><span class="ident" id="7083183">testing</span><span class="op" id="7083190">.</span><span class="ident" id="7083191">T</span><span class="op" id="7083192">,</span>&nbsp;<span class="ident" id="7083194">order</span>&nbsp;<span class="ident" id="7083200">ByteOrder</span><span class="op" id="7083209">,</span>&nbsp;<span class="ident" id="7083211">b</span>&nbsp;<span class="op" id="7083213">[</span><span class="op" id="7083214">]</span><span class="builtintype" id="7083215">byte</span><span class="op" id="7083219">,</span>&nbsp;<span class="ident" id="7083221">s1</span>&nbsp;<span class="keyword" id="7083224">interface</span><span class="op" id="7083233">{</span><span class="op" id="7083234">}</span><span class="op" id="7083235">)</span>&nbsp;<span class="op" id="7083237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7083240">var</span>&nbsp;<span class="ident" id="7083244">s2</span>&nbsp;<span class="ident" id="7083247">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083255">err</span>&nbsp;<span class="op" id="7083259">:=</span>&nbsp;<span class="ident" id="7083262">Read</span><span class="op" id="7083266">(</span><span class="ident" id="7083267">bytes</span><span class="op" id="7083272">.</span><span class="ident" id="7083273">NewReader</span><span class="op" id="7083282">(</span><span class="ident" id="7083283">b</span><span class="op" id="7083284">)</span><span class="op" id="7083285">,</span>&nbsp;<span class="ident" id="7083287">order</span><span class="op" id="7083292">,</span>&nbsp;<span class="op" id="7083294">&amp;</span><span class="ident" id="7083295">s2</span><span class="op" id="7083297">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083300">checkResult</span><span class="op" id="7083311">(</span><span class="ident" id="7083312">t</span><span class="op" id="7083313">,</span>&nbsp;<span class="string" id="7083315">&#34;Read&#34;</span><span class="op" id="7083321">,</span>&nbsp;<span class="ident" id="7083323">order</span><span class="op" id="7083328">,</span>&nbsp;<span class="ident" id="7083330">err</span><span class="op" id="7083333">,</span>&nbsp;<span class="ident" id="7083335">s2</span><span class="op" id="7083337">,</span>&nbsp;<span class="ident" id="7083339">s1</span><span class="op" id="7083341">)</span><br>
<span class="lineno"></span><span class="op" id="7083343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7083346">func</span>&nbsp;<span class="ident" id="7083351">testWrite</span><span class="op" id="7083360">(</span><span class="ident" id="7083361">t</span>&nbsp;<span class="op" id="7083363">*</span><span class="ident" id="7083364">testing</span><span class="op" id="7083371">.</span><span class="ident" id="7083372">T</span><span class="op" id="7083373">,</span>&nbsp;<span class="ident" id="7083375">order</span>&nbsp;<span class="ident" id="7083381">ByteOrder</span><span class="op" id="7083390">,</span>&nbsp;<span class="ident" id="7083392">b</span>&nbsp;<span class="op" id="7083394">[</span><span class="op" id="7083395">]</span><span class="builtintype" id="7083396">byte</span><span class="op" id="7083400">,</span>&nbsp;<span class="ident" id="7083402">s1</span>&nbsp;<span class="keyword" id="7083405">interface</span><span class="op" id="7083414">{</span><span class="op" id="7083415">}</span><span class="op" id="7083416">)</span>&nbsp;<span class="op" id="7083418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083421">buf</span>&nbsp;<span class="op" id="7083425">:=</span>&nbsp;<span class="builtinfunc" id="7083428">new</span><span class="op" id="7083431">(</span><span class="ident" id="7083432">bytes</span><span class="op" id="7083437">.</span><span class="ident" id="7083438">Buffer</span><span class="op" id="7083444">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083447">err</span>&nbsp;<span class="op" id="7083451">:=</span>&nbsp;<span class="ident" id="7083454">Write</span><span class="op" id="7083459">(</span><span class="ident" id="7083460">buf</span><span class="op" id="7083463">,</span>&nbsp;<span class="ident" id="7083465">order</span><span class="op" id="7083470">,</span>&nbsp;<span class="ident" id="7083472">s1</span><span class="op" id="7083474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7083477">checkResult</span><span class="op" id="7083488">(</span><span class="ident" id="7083489">t</span><span class="op" id="7083490">,</span>&nbsp;<span class="string" id="7083492">&#34;Write&#34;</span><span class="op" id="7083499">,</span>&nbsp;<span class="ident" id="7083501">order</span><span class="op" id="7083506">,</span>&nbsp;<span class="ident" id="7083508">err</span><span class="op" id="7083511">,</span>&nbsp;<span class="ident" id="7083513">buf</span><span class="op" id="7083516">.</span><span class="ident" id="7083517">Bytes</span><span class="op" id="7083522">(</span><span class="op" id="7083523">)</span><span class="op" id="7083524">,</span>&nbsp;<span class="ident" id="7083526">b</span><span class="op" id="7083527">)</span><br>
<span class="lineno"></span><span class="op" id="7083529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7083532">func</span>&nbsp;<span class="ident" id="7083537">TestLittleEndianRead</span><span class="op" id="7083557">(</span><span class="ident" id="7083558">t</span>&nbsp;<span class="op" id="7083560">*</span><span class="ident" id="7083561">testing</span><span class="op" id="7083568">.</span><span class="ident" id="7083569">T</span><span class="op" id="7083570">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083576">{</span>&nbsp;<span class="ident" id="7083578">testRead</span><span class="op" id="7083586">(</span><span class="ident" id="7083587">t</span><span class="op" id="7083588">,</span>&nbsp;<span class="ident" id="7083590">LittleEndian</span><span class="op" id="7083602">,</span>&nbsp;<span class="ident" id="7083604">little</span><span class="op" id="7083610">,</span>&nbsp;<span class="ident" id="7083612">s</span><span class="op" id="7083613">)</span>&nbsp;<span class="op" id="7083615">}</span><br>
<span class="lineno">125</span><span class="keyword" id="7083617">func</span>&nbsp;<span class="ident" id="7083622">TestLittleEndianWrite</span><span class="op" id="7083643">(</span><span class="ident" id="7083644">t</span>&nbsp;<span class="op" id="7083646">*</span><span class="ident" id="7083647">testing</span><span class="op" id="7083654">.</span><span class="ident" id="7083655">T</span><span class="op" id="7083656">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083661">{</span>&nbsp;<span class="ident" id="7083663">testWrite</span><span class="op" id="7083672">(</span><span class="ident" id="7083673">t</span><span class="op" id="7083674">,</span>&nbsp;<span class="ident" id="7083676">LittleEndian</span><span class="op" id="7083688">,</span>&nbsp;<span class="ident" id="7083690">little</span><span class="op" id="7083696">,</span>&nbsp;<span class="ident" id="7083698">s</span><span class="op" id="7083699">)</span>&nbsp;<span class="op" id="7083701">}</span><br>
<span class="lineno"></span><span class="keyword" id="7083703">func</span>&nbsp;<span class="ident" id="7083708">TestLittleEndianPtrWrite</span><span class="op" id="7083732">(</span><span class="ident" id="7083733">t</span>&nbsp;<span class="op" id="7083735">*</span><span class="ident" id="7083736">testing</span><span class="op" id="7083743">.</span><span class="ident" id="7083744">T</span><span class="op" id="7083745">)</span>&nbsp;<span class="op" id="7083747">{</span>&nbsp;<span class="ident" id="7083749">testWrite</span><span class="op" id="7083758">(</span><span class="ident" id="7083759">t</span><span class="op" id="7083760">,</span>&nbsp;<span class="ident" id="7083762">LittleEndian</span><span class="op" id="7083774">,</span>&nbsp;<span class="ident" id="7083776">little</span><span class="op" id="7083782">,</span>&nbsp;<span class="op" id="7083784">&amp;</span><span class="ident" id="7083785">s</span><span class="op" id="7083786">)</span>&nbsp;<span class="op" id="7083788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7083791">func</span>&nbsp;<span class="ident" id="7083796">TestBigEndianRead</span><span class="op" id="7083813">(</span><span class="ident" id="7083814">t</span>&nbsp;<span class="op" id="7083816">*</span><span class="ident" id="7083817">testing</span><span class="op" id="7083824">.</span><span class="ident" id="7083825">T</span><span class="op" id="7083826">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083832">{</span>&nbsp;<span class="ident" id="7083834">testRead</span><span class="op" id="7083842">(</span><span class="ident" id="7083843">t</span><span class="op" id="7083844">,</span>&nbsp;<span class="ident" id="7083846">BigEndian</span><span class="op" id="7083855">,</span>&nbsp;<span class="ident" id="7083857">big</span><span class="op" id="7083860">,</span>&nbsp;<span class="ident" id="7083862">s</span><span class="op" id="7083863">)</span>&nbsp;<span class="op" id="7083865">}</span><br>
<span class="lineno"></span><span class="keyword" id="7083867">func</span>&nbsp;<span class="ident" id="7083872">TestBigEndianWrite</span><span class="op" id="7083890">(</span><span class="ident" id="7083891">t</span>&nbsp;<span class="op" id="7083893">*</span><span class="ident" id="7083894">testing</span><span class="op" id="7083901">.</span><span class="ident" id="7083902">T</span><span class="op" id="7083903">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7083908">{</span>&nbsp;<span class="ident" id="7083910">testWrite</span><span class="op" id="7083919">(</span><span class="ident" id="7083920">t</span><span class="op" id="7083921">,</span>&nbsp;<span class="ident" id="7083923">BigEndian</span><span class="op" id="7083932">,</span>&nbsp;<span class="ident" id="7083934">big</span><span class="op" id="7083937">,</span>&nbsp;<span class="ident" id="7083939">s</span><span class="op" id="7083940">)</span>&nbsp;<span class="op" id="7083942">}</span><br>
<span class="lineno">130</span><span class="keyword" id="7083944">func</span>&nbsp;<span class="ident" id="7083949">TestBigEndianPtrWrite</span><span class="op" id="7083970">(</span><span class="ident" id="7083971">t</span>&nbsp;<span class="op" id="7083973">*</span><span class="ident" id="7083974">testing</span><span class="op" id="7083981">.</span><span class="ident" id="7083982">T</span><span class="op" id="7083983">)</span>&nbsp;<span class="op" id="7083985">{</span>&nbsp;<span class="ident" id="7083987">testWrite</span><span class="op" id="7083996">(</span><span class="ident" id="7083997">t</span><span class="op" id="7083998">,</span>&nbsp;<span class="ident" id="7084000">BigEndian</span><span class="op" id="7084009">,</span>&nbsp;<span class="ident" id="7084011">big</span><span class="op" id="7084014">,</span>&nbsp;<span class="op" id="7084016">&amp;</span><span class="ident" id="7084017">s</span><span class="op" id="7084018">)</span>&nbsp;<span class="op" id="7084020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7084023">func</span>&nbsp;<span class="ident" id="7084028">TestReadSlice</span><span class="op" id="7084041">(</span><span class="ident" id="7084042">t</span>&nbsp;<span class="op" id="7084044">*</span><span class="ident" id="7084045">testing</span><span class="op" id="7084052">.</span><span class="ident" id="7084053">T</span><span class="op" id="7084054">)</span>&nbsp;<span class="op" id="7084056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084059">slice</span>&nbsp;<span class="op" id="7084065">:=</span>&nbsp;<span class="builtinfunc" id="7084068">make</span><span class="op" id="7084072">(</span><span class="op" id="7084073">[</span><span class="op" id="7084074">]</span><span class="builtintype" id="7084075">int32</span><span class="op" id="7084080">,</span>&nbsp;<span class="num" id="7084082">2</span><span class="op" id="7084083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084086">err</span>&nbsp;<span class="op" id="7084090">:=</span>&nbsp;<span class="ident" id="7084093">Read</span><span class="op" id="7084097">(</span><span class="ident" id="7084098">bytes</span><span class="op" id="7084103">.</span><span class="ident" id="7084104">NewReader</span><span class="op" id="7084113">(</span><span class="ident" id="7084114">src</span><span class="op" id="7084117">)</span><span class="op" id="7084118">,</span>&nbsp;<span class="ident" id="7084120">BigEndian</span><span class="op" id="7084129">,</span>&nbsp;<span class="ident" id="7084131">slice</span><span class="op" id="7084136">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084139">checkResult</span><span class="op" id="7084150">(</span><span class="ident" id="7084151">t</span><span class="op" id="7084152">,</span>&nbsp;<span class="string" id="7084154">&#34;ReadSlice&#34;</span><span class="op" id="7084165">,</span>&nbsp;<span class="ident" id="7084167">BigEndian</span><span class="op" id="7084176">,</span>&nbsp;<span class="ident" id="7084178">err</span><span class="op" id="7084181">,</span>&nbsp;<span class="ident" id="7084183">slice</span><span class="op" id="7084188">,</span>&nbsp;<span class="ident" id="7084190">res</span><span class="op" id="7084193">)</span><br>
<span class="lineno"></span><span class="op" id="7084195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7084198">func</span>&nbsp;<span class="ident" id="7084203">TestWriteSlice</span><span class="op" id="7084217">(</span><span class="ident" id="7084218">t</span>&nbsp;<span class="op" id="7084220">*</span><span class="ident" id="7084221">testing</span><span class="op" id="7084228">.</span><span class="ident" id="7084229">T</span><span class="op" id="7084230">)</span>&nbsp;<span class="op" id="7084232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084235">buf</span>&nbsp;<span class="op" id="7084239">:=</span>&nbsp;<span class="builtinfunc" id="7084242">new</span><span class="op" id="7084245">(</span><span class="ident" id="7084246">bytes</span><span class="op" id="7084251">.</span><span class="ident" id="7084252">Buffer</span><span class="op" id="7084258">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084261">err</span>&nbsp;<span class="op" id="7084265">:=</span>&nbsp;<span class="ident" id="7084268">Write</span><span class="op" id="7084273">(</span><span class="ident" id="7084274">buf</span><span class="op" id="7084277">,</span>&nbsp;<span class="ident" id="7084279">BigEndian</span><span class="op" id="7084288">,</span>&nbsp;<span class="ident" id="7084290">res</span><span class="op" id="7084293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084296">checkResult</span><span class="op" id="7084307">(</span><span class="ident" id="7084308">t</span><span class="op" id="7084309">,</span>&nbsp;<span class="string" id="7084311">&#34;WriteSlice&#34;</span><span class="op" id="7084323">,</span>&nbsp;<span class="ident" id="7084325">BigEndian</span><span class="op" id="7084334">,</span>&nbsp;<span class="ident" id="7084336">err</span><span class="op" id="7084339">,</span>&nbsp;<span class="ident" id="7084341">buf</span><span class="op" id="7084344">.</span><span class="ident" id="7084345">Bytes</span><span class="op" id="7084350">(</span><span class="op" id="7084351">)</span><span class="op" id="7084352">,</span>&nbsp;<span class="ident" id="7084354">src</span><span class="op" id="7084357">)</span><br>
<span class="lineno"></span><span class="op" id="7084359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7084362">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="7084443">var</span>&nbsp;<span class="ident" id="7084447">intArrays</span>&nbsp;<span class="op" id="7084457">=</span>&nbsp;<span class="op" id="7084459">[</span><span class="op" id="7084460">]</span><span class="keyword" id="7084461">interface</span><span class="op" id="7084470">{</span><span class="op" id="7084471">}</span><span class="op" id="7084472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084475">&amp;</span><span class="op" id="7084476">[</span><span class="num" id="7084477">100</span><span class="op" id="7084480">]</span><span class="builtintype" id="7084481">int8</span><span class="op" id="7084485">{</span><span class="op" id="7084486">}</span><span class="op" id="7084487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084490">&amp;</span><span class="op" id="7084491">[</span><span class="num" id="7084492">100</span><span class="op" id="7084495">]</span><span class="builtintype" id="7084496">int16</span><span class="op" id="7084501">{</span><span class="op" id="7084502">}</span><span class="op" id="7084503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084506">&amp;</span><span class="op" id="7084507">[</span><span class="num" id="7084508">100</span><span class="op" id="7084511">]</span><span class="builtintype" id="7084512">int32</span><span class="op" id="7084517">{</span><span class="op" id="7084518">}</span><span class="op" id="7084519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084522">&amp;</span><span class="op" id="7084523">[</span><span class="num" id="7084524">100</span><span class="op" id="7084527">]</span><span class="ident" id="7084528">int64</span><span class="op" id="7084533">{</span><span class="op" id="7084534">}</span><span class="op" id="7084535">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084538">&amp;</span><span class="op" id="7084539">[</span><span class="num" id="7084540">100</span><span class="op" id="7084543">]</span><span class="builtintype" id="7084544">uint8</span><span class="op" id="7084549">{</span><span class="op" id="7084550">}</span><span class="op" id="7084551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084554">&amp;</span><span class="op" id="7084555">[</span><span class="num" id="7084556">100</span><span class="op" id="7084559">]</span><span class="builtintype" id="7084560">uint16</span><span class="op" id="7084566">{</span><span class="op" id="7084567">}</span><span class="op" id="7084568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084571">&amp;</span><span class="op" id="7084572">[</span><span class="num" id="7084573">100</span><span class="op" id="7084576">]</span><span class="builtintype" id="7084577">uint32</span><span class="op" id="7084583">{</span><span class="op" id="7084584">}</span><span class="op" id="7084585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084588">&amp;</span><span class="op" id="7084589">[</span><span class="num" id="7084590">100</span><span class="op" id="7084593">]</span><span class="ident" id="7084594">uint64</span><span class="op" id="7084600">{</span><span class="op" id="7084601">}</span><span class="op" id="7084602">,</span><br>
<span class="lineno"></span><span class="op" id="7084604">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7084607">func</span>&nbsp;<span class="ident" id="7084612">TestSliceRoundTrip</span><span class="op" id="7084630">(</span><span class="ident" id="7084631">t</span>&nbsp;<span class="op" id="7084633">*</span><span class="ident" id="7084634">testing</span><span class="op" id="7084641">.</span><span class="ident" id="7084642">T</span><span class="op" id="7084643">)</span>&nbsp;<span class="op" id="7084645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084648">buf</span>&nbsp;<span class="op" id="7084652">:=</span>&nbsp;<span class="builtinfunc" id="7084655">new</span><span class="op" id="7084658">(</span><span class="ident" id="7084659">bytes</span><span class="op" id="7084664">.</span><span class="ident" id="7084665">Buffer</span><span class="op" id="7084671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7084674">for</span>&nbsp;<span class="ident" id="7084678">_</span><span class="op" id="7084679">,</span>&nbsp;<span class="ident" id="7084681">array</span>&nbsp;<span class="op" id="7084687">:=</span>&nbsp;<span class="keyword" id="7084690">range</span>&nbsp;<span class="ident" id="7084696">intArrays</span>&nbsp;<span class="op" id="7084706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084710">src</span>&nbsp;<span class="op" id="7084714">:=</span>&nbsp;<span class="ident" id="7084717">reflect</span><span class="op" id="7084724">.</span><span class="ident" id="7084725">ValueOf</span><span class="op" id="7084732">(</span><span class="ident" id="7084733">array</span><span class="op" id="7084738">)</span><span class="op" id="7084739">.</span><span class="ident" id="7084740">Elem</span><span class="op" id="7084744">(</span><span class="op" id="7084745">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084749">unsigned</span>&nbsp;<span class="op" id="7084758">:=</span>&nbsp;<span class="builtintype" id="7084761">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7084769">switch</span>&nbsp;<span class="ident" id="7084776">src</span><span class="op" id="7084779">.</span><span class="ident" id="7084780">Index</span><span class="op" id="7084785">(</span><span class="num" id="7084786">0</span><span class="op" id="7084787">)</span><span class="op" id="7084788">.</span><span class="ident" id="7084789">Kind</span><span class="op" id="7084793">(</span><span class="op" id="7084794">)</span>&nbsp;<span class="op" id="7084796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7084800">case</span>&nbsp;<span class="ident" id="7084805">reflect</span><span class="op" id="7084812">.</span><span class="ident" id="7084813">Uint8</span><span class="op" id="7084818">,</span>&nbsp;<span class="ident" id="7084820">reflect</span><span class="op" id="7084827">.</span><span class="ident" id="7084828">Uint16</span><span class="op" id="7084834">,</span>&nbsp;<span class="ident" id="7084836">reflect</span><span class="op" id="7084843">.</span><span class="ident" id="7084844">Uint32</span><span class="op" id="7084850">,</span>&nbsp;<span class="ident" id="7084852">reflect</span><span class="op" id="7084859">.</span><span class="ident" id="7084860">Uint64</span><span class="op" id="7084866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084871">unsigned</span>&nbsp;<span class="op" id="7084880">=</span>&nbsp;<span class="builtintype" id="7084882">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084889">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7084893">for</span>&nbsp;<span class="ident" id="7084897">i</span>&nbsp;<span class="op" id="7084899">:=</span>&nbsp;<span class="num" id="7084902">0</span><span class="op" id="7084903">;</span>&nbsp;<span class="ident" id="7084905">i</span>&nbsp;<span class="op" id="7084907">&lt;</span>&nbsp;<span class="ident" id="7084909">src</span><span class="op" id="7084912">.</span><span class="ident" id="7084913">Len</span><span class="op" id="7084916">(</span><span class="op" id="7084917">)</span><span class="op" id="7084918">;</span>&nbsp;<span class="ident" id="7084920">i</span><span class="op" id="7084921">++</span>&nbsp;<span class="op" id="7084924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7084929">if</span>&nbsp;<span class="ident" id="7084932">unsigned</span>&nbsp;<span class="op" id="7084941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7084947">src</span><span class="op" id="7084950">.</span><span class="ident" id="7084951">Index</span><span class="op" id="7084956">(</span><span class="ident" id="7084957">i</span><span class="op" id="7084958">)</span><span class="op" id="7084959">.</span><span class="ident" id="7084960">SetUint</span><span class="op" id="7084967">(</span><span class="ident" id="7084968">uint64</span><span class="op" id="7084974">(</span><span class="ident" id="7084975">i</span>&nbsp;<span class="op" id="7084977">*</span>&nbsp;<span class="num" id="7084979">0x07654321</span><span class="op" id="7084989">)</span><span class="op" id="7084990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084995">}</span>&nbsp;<span class="keyword" id="7084997">else</span>&nbsp;<span class="op" id="7085002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085008">src</span><span class="op" id="7085011">.</span><span class="ident" id="7085012">Index</span><span class="op" id="7085017">(</span><span class="ident" id="7085018">i</span><span class="op" id="7085019">)</span><span class="op" id="7085020">.</span><span class="ident" id="7085021">SetInt</span><span class="op" id="7085027">(</span><span class="ident" id="7085028">int64</span><span class="op" id="7085033">(</span><span class="ident" id="7085034">i</span>&nbsp;<span class="op" id="7085036">*</span>&nbsp;<span class="num" id="7085038">0x07654321</span><span class="op" id="7085048">)</span><span class="op" id="7085049">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085062">buf</span><span class="op" id="7085065">.</span><span class="ident" id="7085066">Reset</span><span class="op" id="7085071">(</span><span class="op" id="7085072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085076">srcSlice</span>&nbsp;<span class="op" id="7085085">:=</span>&nbsp;<span class="ident" id="7085088">src</span><span class="op" id="7085091">.</span><span class="ident" id="7085092">Slice</span><span class="op" id="7085097">(</span><span class="num" id="7085098">0</span><span class="op" id="7085099">,</span>&nbsp;<span class="ident" id="7085101">src</span><span class="op" id="7085104">.</span><span class="ident" id="7085105">Len</span><span class="op" id="7085108">(</span><span class="op" id="7085109">)</span><span class="op" id="7085110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085114">err</span>&nbsp;<span class="op" id="7085118">:=</span>&nbsp;<span class="ident" id="7085121">Write</span><span class="op" id="7085126">(</span><span class="ident" id="7085127">buf</span><span class="op" id="7085130">,</span>&nbsp;<span class="ident" id="7085132">BigEndian</span><span class="op" id="7085141">,</span>&nbsp;<span class="ident" id="7085143">srcSlice</span><span class="op" id="7085151">.</span><span class="ident" id="7085152">Interface</span><span class="op" id="7085161">(</span><span class="op" id="7085162">)</span><span class="op" id="7085163">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085167">if</span>&nbsp;<span class="ident" id="7085170">err</span>&nbsp;<span class="op" id="7085174">!=</span>&nbsp;<span class="ident" id="7085177">nil</span>&nbsp;<span class="op" id="7085181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085186">t</span><span class="op" id="7085187">.</span><span class="ident" id="7085188">Fatal</span><span class="op" id="7085193">(</span><span class="ident" id="7085194">err</span><span class="op" id="7085197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085205">dst</span>&nbsp;<span class="op" id="7085209">:=</span>&nbsp;<span class="ident" id="7085212">reflect</span><span class="op" id="7085219">.</span><span class="ident" id="7085220">New</span><span class="op" id="7085223">(</span><span class="ident" id="7085224">src</span><span class="op" id="7085227">.</span><span class="ident" id="7085228">Type</span><span class="op" id="7085232">(</span><span class="op" id="7085233">)</span><span class="op" id="7085234">)</span><span class="op" id="7085235">.</span><span class="ident" id="7085236">Elem</span><span class="op" id="7085240">(</span><span class="op" id="7085241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085245">dstSlice</span>&nbsp;<span class="op" id="7085254">:=</span>&nbsp;<span class="ident" id="7085257">dst</span><span class="op" id="7085260">.</span><span class="ident" id="7085261">Slice</span><span class="op" id="7085266">(</span><span class="num" id="7085267">0</span><span class="op" id="7085268">,</span>&nbsp;<span class="ident" id="7085270">dst</span><span class="op" id="7085273">.</span><span class="ident" id="7085274">Len</span><span class="op" id="7085277">(</span><span class="op" id="7085278">)</span><span class="op" id="7085279">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085283">err</span>&nbsp;<span class="op" id="7085287">=</span>&nbsp;<span class="ident" id="7085289">Read</span><span class="op" id="7085293">(</span><span class="ident" id="7085294">buf</span><span class="op" id="7085297">,</span>&nbsp;<span class="ident" id="7085299">BigEndian</span><span class="op" id="7085308">,</span>&nbsp;<span class="ident" id="7085310">dstSlice</span><span class="op" id="7085318">.</span><span class="ident" id="7085319">Interface</span><span class="op" id="7085328">(</span><span class="op" id="7085329">)</span><span class="op" id="7085330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085334">if</span>&nbsp;<span class="ident" id="7085337">err</span>&nbsp;<span class="op" id="7085341">!=</span>&nbsp;<span class="ident" id="7085344">nil</span>&nbsp;<span class="op" id="7085348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085353">t</span><span class="op" id="7085354">.</span><span class="ident" id="7085355">Fatal</span><span class="op" id="7085360">(</span><span class="ident" id="7085361">err</span><span class="op" id="7085364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085372">if</span>&nbsp;<span class="op" id="7085375">!</span><span class="ident" id="7085376">reflect</span><span class="op" id="7085383">.</span><span class="ident" id="7085384">DeepEqual</span><span class="op" id="7085393">(</span><span class="ident" id="7085394">src</span><span class="op" id="7085397">.</span><span class="ident" id="7085398">Interface</span><span class="op" id="7085407">(</span><span class="op" id="7085408">)</span><span class="op" id="7085409">,</span>&nbsp;<span class="ident" id="7085411">dst</span><span class="op" id="7085414">.</span><span class="ident" id="7085415">Interface</span><span class="op" id="7085424">(</span><span class="op" id="7085425">)</span><span class="op" id="7085426">)</span>&nbsp;<span class="op" id="7085428">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085433">t</span><span class="op" id="7085434">.</span><span class="ident" id="7085435">Fatal</span><span class="op" id="7085440">(</span><span class="ident" id="7085441">src</span><span class="op" id="7085444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085451">}</span><br>
<span class="lineno"></span><span class="op" id="7085453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="7085456">func</span>&nbsp;<span class="ident" id="7085461">TestWriteT</span><span class="op" id="7085471">(</span><span class="ident" id="7085472">t</span>&nbsp;<span class="op" id="7085474">*</span><span class="ident" id="7085475">testing</span><span class="op" id="7085482">.</span><span class="ident" id="7085483">T</span><span class="op" id="7085484">)</span>&nbsp;<span class="op" id="7085486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085489">buf</span>&nbsp;<span class="op" id="7085493">:=</span>&nbsp;<span class="builtinfunc" id="7085496">new</span><span class="op" id="7085499">(</span><span class="ident" id="7085500">bytes</span><span class="op" id="7085505">.</span><span class="ident" id="7085506">Buffer</span><span class="op" id="7085512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085515">ts</span>&nbsp;<span class="op" id="7085518">:=</span>&nbsp;<span class="ident" id="7085521">T</span><span class="op" id="7085522">{</span><span class="op" id="7085523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085526">if</span>&nbsp;<span class="ident" id="7085529">err</span>&nbsp;<span class="op" id="7085533">:=</span>&nbsp;<span class="ident" id="7085536">Write</span><span class="op" id="7085541">(</span><span class="ident" id="7085542">buf</span><span class="op" id="7085545">,</span>&nbsp;<span class="ident" id="7085547">BigEndian</span><span class="op" id="7085556">,</span>&nbsp;<span class="ident" id="7085558">ts</span><span class="op" id="7085560">)</span><span class="op" id="7085561">;</span>&nbsp;<span class="ident" id="7085563">err</span>&nbsp;<span class="op" id="7085567">==</span>&nbsp;<span class="ident" id="7085570">nil</span>&nbsp;<span class="op" id="7085574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085578">t</span><span class="op" id="7085579">.</span><span class="ident" id="7085580">Errorf</span><span class="op" id="7085586">(</span><span class="string" id="7085587">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7085626">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085633">tv</span>&nbsp;<span class="op" id="7085636">:=</span>&nbsp;<span class="ident" id="7085639">reflect</span><span class="op" id="7085646">.</span><span class="ident" id="7085647">Indirect</span><span class="op" id="7085655">(</span><span class="ident" id="7085656">reflect</span><span class="op" id="7085663">.</span><span class="ident" id="7085664">ValueOf</span><span class="op" id="7085671">(</span><span class="ident" id="7085672">ts</span><span class="op" id="7085674">)</span><span class="op" id="7085675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085678">for</span>&nbsp;<span class="ident" id="7085682">i</span><span class="op" id="7085683">,</span>&nbsp;<span class="ident" id="7085685">n</span>&nbsp;<span class="op" id="7085687">:=</span>&nbsp;<span class="num" id="7085690">0</span><span class="op" id="7085691">,</span>&nbsp;<span class="ident" id="7085693">tv</span><span class="op" id="7085695">.</span><span class="ident" id="7085696">NumField</span><span class="op" id="7085704">(</span><span class="op" id="7085705">)</span><span class="op" id="7085706">;</span>&nbsp;<span class="ident" id="7085708">i</span>&nbsp;<span class="op" id="7085710">&lt;</span>&nbsp;<span class="ident" id="7085712">n</span><span class="op" id="7085713">;</span>&nbsp;<span class="ident" id="7085715">i</span><span class="op" id="7085716">++</span>&nbsp;<span class="op" id="7085719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085723">typ</span>&nbsp;<span class="op" id="7085727">:=</span>&nbsp;<span class="ident" id="7085730">tv</span><span class="op" id="7085732">.</span><span class="ident" id="7085733">Field</span><span class="op" id="7085738">(</span><span class="ident" id="7085739">i</span><span class="op" id="7085740">)</span><span class="op" id="7085741">.</span><span class="ident" id="7085742">Type</span><span class="op" id="7085746">(</span><span class="op" id="7085747">)</span><span class="op" id="7085748">.</span><span class="ident" id="7085749">String</span><span class="op" id="7085755">(</span><span class="op" id="7085756">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085760">if</span>&nbsp;<span class="ident" id="7085763">typ</span>&nbsp;<span class="op" id="7085767">==</span>&nbsp;<span class="string" id="7085770">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="7085779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085784">typ</span>&nbsp;<span class="op" id="7085788">=</span>&nbsp;<span class="string" id="7085790">&#34;int&#34;</span>&nbsp;<span class="comment" id="7085796">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085837">if</span>&nbsp;<span class="ident" id="7085840">err</span>&nbsp;<span class="op" id="7085844">:=</span>&nbsp;<span class="ident" id="7085847">Write</span><span class="op" id="7085852">(</span><span class="ident" id="7085853">buf</span><span class="op" id="7085856">,</span>&nbsp;<span class="ident" id="7085858">BigEndian</span><span class="op" id="7085867">,</span>&nbsp;<span class="ident" id="7085869">tv</span><span class="op" id="7085871">.</span><span class="ident" id="7085872">Field</span><span class="op" id="7085877">(</span><span class="ident" id="7085878">i</span><span class="op" id="7085879">)</span><span class="op" id="7085880">.</span><span class="ident" id="7085881">Interface</span><span class="op" id="7085890">(</span><span class="op" id="7085891">)</span><span class="op" id="7085892">)</span><span class="op" id="7085893">;</span>&nbsp;<span class="ident" id="7085895">err</span>&nbsp;<span class="op" id="7085899">==</span>&nbsp;<span class="ident" id="7085902">nil</span>&nbsp;<span class="op" id="7085906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085911">t</span><span class="op" id="7085912">.</span><span class="ident" id="7085913">Errorf</span><span class="op" id="7085919">(</span><span class="string" id="7085920">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7085962">,</span>&nbsp;<span class="ident" id="7085964">tv</span><span class="op" id="7085966">.</span><span class="ident" id="7085967">Field</span><span class="op" id="7085972">(</span><span class="ident" id="7085973">i</span><span class="op" id="7085974">)</span><span class="op" id="7085975">.</span><span class="ident" id="7085976">Type</span><span class="op" id="7085980">(</span><span class="op" id="7085981">)</span><span class="op" id="7085982">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085986">}</span>&nbsp;<span class="keyword" id="7085988">else</span>&nbsp;<span class="keyword" id="7085993">if</span>&nbsp;<span class="op" id="7085996">!</span><span class="ident" id="7085997">strings</span><span class="op" id="7086004">.</span><span class="ident" id="7086005">Contains</span><span class="op" id="7086013">(</span><span class="ident" id="7086014">err</span><span class="op" id="7086017">.</span><span class="ident" id="7086018">Error</span><span class="op" id="7086023">(</span><span class="op" id="7086024">)</span><span class="op" id="7086025">,</span>&nbsp;<span class="ident" id="7086027">typ</span><span class="op" id="7086030">)</span>&nbsp;<span class="op" id="7086032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086037">t</span><span class="op" id="7086038">.</span><span class="ident" id="7086039">Errorf</span><span class="op" id="7086045">(</span><span class="string" id="7086046">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="7086093">,</span>&nbsp;<span class="ident" id="7086095">err</span><span class="op" id="7086098">,</span>&nbsp;<span class="ident" id="7086100">typ</span><span class="op" id="7086103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086110">}</span><br>
<span class="lineno"></span><span class="op" id="7086112">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7086115">type</span>&nbsp;<span class="ident" id="7086120">BlankFields</span>&nbsp;<span class="keyword" id="7086132">struct</span>&nbsp;<span class="op" id="7086139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086142">A</span>&nbsp;<span class="builtintype" id="7086144">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086152">_</span>&nbsp;<span class="builtintype" id="7086154">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086161">B</span>&nbsp;<span class="builtintype" id="7086163">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086172">_</span>&nbsp;<span class="op" id="7086174">[</span><span class="num" id="7086175">4</span><span class="op" id="7086176">]</span><span class="builtintype" id="7086177">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086184">C</span>&nbsp;<span class="builtintype" id="7086186">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086192">_</span>&nbsp;<span class="op" id="7086194">[</span><span class="num" id="7086195">7</span><span class="op" id="7086196">]</span><span class="builtintype" id="7086197">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086203">_</span>&nbsp;<span class="keyword" id="7086205">struct</span>&nbsp;<span class="op" id="7086212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086216">f</span>&nbsp;<span class="op" id="7086218">[</span><span class="num" id="7086219">8</span><span class="op" id="7086220">]</span><span class="builtintype" id="7086221">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086230">}</span><br>
<span class="lineno"></span><span class="op" id="7086232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7086235">type</span>&nbsp;<span class="ident" id="7086240">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="7086257">struct</span>&nbsp;<span class="op" id="7086264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086267">A</span>&nbsp;&nbsp;<span class="builtintype" id="7086270">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086278">P0</span>&nbsp;<span class="builtintype" id="7086281">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086288">B</span>&nbsp;&nbsp;<span class="builtintype" id="7086291">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086300">P1</span>&nbsp;<span class="op" id="7086303">[</span><span class="num" id="7086304">4</span><span class="op" id="7086305">]</span><span class="builtintype" id="7086306">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086313">C</span>&nbsp;&nbsp;<span class="builtintype" id="7086316">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086322">P2</span>&nbsp;<span class="op" id="7086325">[</span><span class="num" id="7086326">7</span><span class="op" id="7086327">]</span><span class="builtintype" id="7086328">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086334">P3</span>&nbsp;<span class="keyword" id="7086337">struct</span>&nbsp;<span class="op" id="7086344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086348">F</span>&nbsp;<span class="op" id="7086350">[</span><span class="num" id="7086351">8</span><span class="op" id="7086352">]</span><span class="builtintype" id="7086353">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086362">}</span><br>
<span class="lineno"></span><span class="op" id="7086364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7086367">func</span>&nbsp;<span class="ident" id="7086372">TestBlankFields</span><span class="op" id="7086387">(</span><span class="ident" id="7086388">t</span>&nbsp;<span class="op" id="7086390">*</span><span class="ident" id="7086391">testing</span><span class="op" id="7086398">.</span><span class="ident" id="7086399">T</span><span class="op" id="7086400">)</span>&nbsp;<span class="op" id="7086402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086405">buf</span>&nbsp;<span class="op" id="7086409">:=</span>&nbsp;<span class="builtinfunc" id="7086412">new</span><span class="op" id="7086415">(</span><span class="ident" id="7086416">bytes</span><span class="op" id="7086421">.</span><span class="ident" id="7086422">Buffer</span><span class="op" id="7086428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086431">b1</span>&nbsp;<span class="op" id="7086434">:=</span>&nbsp;<span class="ident" id="7086437">BlankFields</span><span class="op" id="7086448">{</span><span class="ident" id="7086449">A</span><span class="op" id="7086450">:</span>&nbsp;<span class="num" id="7086452">1234567890</span><span class="op" id="7086462">,</span>&nbsp;<span class="ident" id="7086464">B</span><span class="op" id="7086465">:</span>&nbsp;<span class="num" id="7086467">2.718281828</span><span class="op" id="7086478">,</span>&nbsp;<span class="ident" id="7086480">C</span><span class="op" id="7086481">:</span>&nbsp;<span class="num" id="7086483">42</span><span class="op" id="7086485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086488">if</span>&nbsp;<span class="ident" id="7086491">err</span>&nbsp;<span class="op" id="7086495">:=</span>&nbsp;<span class="ident" id="7086498">Write</span><span class="op" id="7086503">(</span><span class="ident" id="7086504">buf</span><span class="op" id="7086507">,</span>&nbsp;<span class="ident" id="7086509">LittleEndian</span><span class="op" id="7086521">,</span>&nbsp;<span class="op" id="7086523">&amp;</span><span class="ident" id="7086524">b1</span><span class="op" id="7086526">)</span><span class="op" id="7086527">;</span>&nbsp;<span class="ident" id="7086529">err</span>&nbsp;<span class="op" id="7086533">!=</span>&nbsp;<span class="ident" id="7086536">nil</span>&nbsp;<span class="op" id="7086540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086544">t</span><span class="op" id="7086545">.</span><span class="ident" id="7086546">Error</span><span class="op" id="7086551">(</span><span class="ident" id="7086552">err</span><span class="op" id="7086555">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086562">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086618">var</span>&nbsp;<span class="ident" id="7086622">p</span>&nbsp;<span class="ident" id="7086624">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086642">if</span>&nbsp;<span class="ident" id="7086645">err</span>&nbsp;<span class="op" id="7086649">:=</span>&nbsp;<span class="ident" id="7086652">Read</span><span class="op" id="7086656">(</span><span class="ident" id="7086657">buf</span><span class="op" id="7086660">,</span>&nbsp;<span class="ident" id="7086662">LittleEndian</span><span class="op" id="7086674">,</span>&nbsp;<span class="op" id="7086676">&amp;</span><span class="ident" id="7086677">p</span><span class="op" id="7086678">)</span><span class="op" id="7086679">;</span>&nbsp;<span class="ident" id="7086681">err</span>&nbsp;<span class="op" id="7086685">!=</span>&nbsp;<span class="ident" id="7086688">nil</span>&nbsp;<span class="op" id="7086692">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086696">t</span><span class="op" id="7086697">.</span><span class="ident" id="7086698">Error</span><span class="op" id="7086703">(</span><span class="ident" id="7086704">err</span><span class="op" id="7086707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086714">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086763">if</span>&nbsp;<span class="ident" id="7086766">p</span><span class="op" id="7086767">.</span><span class="ident" id="7086768">P0</span>&nbsp;<span class="op" id="7086771">!=</span>&nbsp;<span class="num" id="7086774">0</span>&nbsp;<span class="op" id="7086776">||</span>&nbsp;<span class="ident" id="7086779">p</span><span class="op" id="7086780">.</span><span class="ident" id="7086781">P1</span><span class="op" id="7086783">[</span><span class="num" id="7086784">0</span><span class="op" id="7086785">]</span>&nbsp;<span class="op" id="7086787">!=</span>&nbsp;<span class="num" id="7086790">0</span>&nbsp;<span class="op" id="7086792">||</span>&nbsp;<span class="ident" id="7086795">p</span><span class="op" id="7086796">.</span><span class="ident" id="7086797">P2</span><span class="op" id="7086799">[</span><span class="num" id="7086800">0</span><span class="op" id="7086801">]</span>&nbsp;<span class="op" id="7086803">!=</span>&nbsp;<span class="num" id="7086806">0</span>&nbsp;<span class="op" id="7086808">||</span>&nbsp;<span class="ident" id="7086811">p</span><span class="op" id="7086812">.</span><span class="ident" id="7086813">P3</span><span class="op" id="7086815">.</span><span class="ident" id="7086816">F</span><span class="op" id="7086817">[</span><span class="num" id="7086818">0</span><span class="op" id="7086819">]</span>&nbsp;<span class="op" id="7086821">!=</span>&nbsp;<span class="num" id="7086824">0</span>&nbsp;<span class="op" id="7086826">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086830">t</span><span class="op" id="7086831">.</span><span class="ident" id="7086832">Errorf</span><span class="op" id="7086838">(</span><span class="string" id="7086839">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="7086889">,</span>&nbsp;<span class="ident" id="7086891">p</span><span class="op" id="7086892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086899">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086952">if</span>&nbsp;<span class="ident" id="7086955">err</span>&nbsp;<span class="op" id="7086959">:=</span>&nbsp;<span class="ident" id="7086962">Write</span><span class="op" id="7086967">(</span><span class="ident" id="7086968">buf</span><span class="op" id="7086971">,</span>&nbsp;<span class="ident" id="7086973">LittleEndian</span><span class="op" id="7086985">,</span>&nbsp;<span class="op" id="7086987">&amp;</span><span class="ident" id="7086988">p</span><span class="op" id="7086989">)</span><span class="op" id="7086990">;</span>&nbsp;<span class="ident" id="7086992">err</span>&nbsp;<span class="op" id="7086996">!=</span>&nbsp;<span class="ident" id="7086999">nil</span>&nbsp;<span class="op" id="7087003">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087007">t</span><span class="op" id="7087008">.</span><span class="ident" id="7087009">Error</span><span class="op" id="7087014">(</span><span class="ident" id="7087015">err</span><span class="op" id="7087018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7087025">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087067">var</span>&nbsp;<span class="ident" id="7087071">b2</span>&nbsp;<span class="ident" id="7087074">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087087">if</span>&nbsp;<span class="ident" id="7087090">err</span>&nbsp;<span class="op" id="7087094">:=</span>&nbsp;<span class="ident" id="7087097">Read</span><span class="op" id="7087101">(</span><span class="ident" id="7087102">buf</span><span class="op" id="7087105">,</span>&nbsp;<span class="ident" id="7087107">LittleEndian</span><span class="op" id="7087119">,</span>&nbsp;<span class="op" id="7087121">&amp;</span><span class="ident" id="7087122">b2</span><span class="op" id="7087124">)</span><span class="op" id="7087125">;</span>&nbsp;<span class="ident" id="7087127">err</span>&nbsp;<span class="op" id="7087131">!=</span>&nbsp;<span class="ident" id="7087134">nil</span>&nbsp;<span class="op" id="7087138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087142">t</span><span class="op" id="7087143">.</span><span class="ident" id="7087144">Error</span><span class="op" id="7087149">(</span><span class="ident" id="7087150">err</span><span class="op" id="7087153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087159">if</span>&nbsp;<span class="ident" id="7087162">b1</span><span class="op" id="7087164">.</span><span class="ident" id="7087165">A</span>&nbsp;<span class="op" id="7087167">!=</span>&nbsp;<span class="ident" id="7087170">b2</span><span class="op" id="7087172">.</span><span class="ident" id="7087173">A</span>&nbsp;<span class="op" id="7087175">||</span>&nbsp;<span class="ident" id="7087178">b1</span><span class="op" id="7087180">.</span><span class="ident" id="7087181">B</span>&nbsp;<span class="op" id="7087183">!=</span>&nbsp;<span class="ident" id="7087186">b2</span><span class="op" id="7087188">.</span><span class="ident" id="7087189">B</span>&nbsp;<span class="op" id="7087191">||</span>&nbsp;<span class="ident" id="7087194">b1</span><span class="op" id="7087196">.</span><span class="ident" id="7087197">C</span>&nbsp;<span class="op" id="7087199">!=</span>&nbsp;<span class="ident" id="7087202">b2</span><span class="op" id="7087204">.</span><span class="ident" id="7087205">C</span>&nbsp;<span class="op" id="7087207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087211">t</span><span class="op" id="7087212">.</span><span class="ident" id="7087213">Errorf</span><span class="op" id="7087219">(</span><span class="string" id="7087220">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="7087232">,</span>&nbsp;<span class="ident" id="7087234">b1</span><span class="op" id="7087236">,</span>&nbsp;<span class="ident" id="7087238">b2</span><span class="op" id="7087240">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087243">}</span><br>
<span class="lineno"></span><span class="op" id="7087245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7087248">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="7087314">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="7087381">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7087423">type</span>&nbsp;<span class="ident" id="7087428">Unexported</span>&nbsp;<span class="keyword" id="7087439">struct</span>&nbsp;<span class="op" id="7087446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087449">a</span>&nbsp;<span class="builtintype" id="7087451">int32</span><br>
<span class="lineno"></span><span class="op" id="7087457">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="7087460">func</span>&nbsp;<span class="ident" id="7087465">TestUnexportedRead</span><span class="op" id="7087483">(</span><span class="ident" id="7087484">t</span>&nbsp;<span class="op" id="7087486">*</span><span class="ident" id="7087487">testing</span><span class="op" id="7087494">.</span><span class="ident" id="7087495">T</span><span class="op" id="7087496">)</span>&nbsp;<span class="op" id="7087498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087501">var</span>&nbsp;<span class="ident" id="7087505">buf</span>&nbsp;<span class="ident" id="7087509">bytes</span><span class="op" id="7087514">.</span><span class="ident" id="7087515">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087523">u1</span>&nbsp;<span class="op" id="7087526">:=</span>&nbsp;<span class="ident" id="7087529">Unexported</span><span class="op" id="7087539">{</span><span class="ident" id="7087540">a</span><span class="op" id="7087541">:</span>&nbsp;<span class="num" id="7087543">1</span><span class="op" id="7087544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087547">if</span>&nbsp;<span class="ident" id="7087550">err</span>&nbsp;<span class="op" id="7087554">:=</span>&nbsp;<span class="ident" id="7087557">Write</span><span class="op" id="7087562">(</span><span class="op" id="7087563">&amp;</span><span class="ident" id="7087564">buf</span><span class="op" id="7087567">,</span>&nbsp;<span class="ident" id="7087569">LittleEndian</span><span class="op" id="7087581">,</span>&nbsp;<span class="op" id="7087583">&amp;</span><span class="ident" id="7087584">u1</span><span class="op" id="7087586">)</span><span class="op" id="7087587">;</span>&nbsp;<span class="ident" id="7087589">err</span>&nbsp;<span class="op" id="7087593">!=</span>&nbsp;<span class="ident" id="7087596">nil</span>&nbsp;<span class="op" id="7087600">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087604">t</span><span class="op" id="7087605">.</span><span class="ident" id="7087606">Fatal</span><span class="op" id="7087611">(</span><span class="ident" id="7087612">err</span><span class="op" id="7087615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087622">defer</span>&nbsp;<span class="keyword" id="7087628">func</span><span class="op" id="7087632">(</span><span class="op" id="7087633">)</span>&nbsp;<span class="op" id="7087635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087639">if</span>&nbsp;<span class="builtinfunc" id="7087642">recover</span><span class="op" id="7087649">(</span><span class="op" id="7087650">)</span>&nbsp;<span class="op" id="7087652">==</span>&nbsp;<span class="ident" id="7087655">nil</span>&nbsp;<span class="op" id="7087659">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087664">t</span><span class="op" id="7087665">.</span><span class="ident" id="7087666">Fatal</span><span class="op" id="7087671">(</span><span class="string" id="7087672">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="7087687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087694">}</span><span class="op" id="7087695">(</span><span class="op" id="7087696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087699">var</span>&nbsp;<span class="ident" id="7087703">u2</span>&nbsp;<span class="ident" id="7087706">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087718">Read</span><span class="op" id="7087722">(</span><span class="op" id="7087723">&amp;</span><span class="ident" id="7087724">buf</span><span class="op" id="7087727">,</span>&nbsp;<span class="ident" id="7087729">LittleEndian</span><span class="op" id="7087741">,</span>&nbsp;<span class="op" id="7087743">&amp;</span><span class="ident" id="7087744">u2</span><span class="op" id="7087746">)</span><br>
<span class="lineno">290</span><span class="op" id="7087748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7087751">func</span>&nbsp;<span class="ident" id="7087756">TestReadErrorMsg</span><span class="op" id="7087772">(</span><span class="ident" id="7087773">t</span>&nbsp;<span class="op" id="7087775">*</span><span class="ident" id="7087776">testing</span><span class="op" id="7087783">.</span><span class="ident" id="7087784">T</span><span class="op" id="7087785">)</span>&nbsp;<span class="op" id="7087787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087790">var</span>&nbsp;<span class="ident" id="7087794">buf</span>&nbsp;<span class="ident" id="7087798">bytes</span><span class="op" id="7087803">.</span><span class="ident" id="7087804">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087812">read</span>&nbsp;<span class="op" id="7087817">:=</span>&nbsp;<span class="keyword" id="7087820">func</span><span class="op" id="7087824">(</span><span class="ident" id="7087825">data</span>&nbsp;<span class="keyword" id="7087830">interface</span><span class="op" id="7087839">{</span><span class="op" id="7087840">}</span><span class="op" id="7087841">)</span>&nbsp;<span class="op" id="7087843">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087847">err</span>&nbsp;<span class="op" id="7087851">:=</span>&nbsp;<span class="ident" id="7087854">Read</span><span class="op" id="7087858">(</span><span class="op" id="7087859">&amp;</span><span class="ident" id="7087860">buf</span><span class="op" id="7087863">,</span>&nbsp;<span class="ident" id="7087865">LittleEndian</span><span class="op" id="7087877">,</span>&nbsp;<span class="ident" id="7087879">data</span><span class="op" id="7087883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087887">want</span>&nbsp;<span class="op" id="7087892">:=</span>&nbsp;<span class="string" id="7087895">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="7087924">+</span>&nbsp;<span class="ident" id="7087926">reflect</span><span class="op" id="7087933">.</span><span class="ident" id="7087934">TypeOf</span><span class="op" id="7087940">(</span><span class="ident" id="7087941">data</span><span class="op" id="7087945">)</span><span class="op" id="7087946">.</span><span class="ident" id="7087947">String</span><span class="op" id="7087953">(</span><span class="op" id="7087954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087958">if</span>&nbsp;<span class="ident" id="7087961">err</span>&nbsp;<span class="op" id="7087965">==</span>&nbsp;<span class="ident" id="7087968">nil</span>&nbsp;<span class="op" id="7087972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087977">t</span><span class="op" id="7087978">.</span><span class="ident" id="7087979">Errorf</span><span class="op" id="7087985">(</span><span class="string" id="7087986">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7088013">,</span>&nbsp;<span class="ident" id="7088015">data</span><span class="op" id="7088019">,</span>&nbsp;<span class="ident" id="7088021">want</span><span class="op" id="7088025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088030">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088043">if</span>&nbsp;<span class="ident" id="7088046">got</span>&nbsp;<span class="op" id="7088050">:=</span>&nbsp;<span class="ident" id="7088053">err</span><span class="op" id="7088056">.</span><span class="ident" id="7088057">Error</span><span class="op" id="7088062">(</span><span class="op" id="7088063">)</span><span class="op" id="7088064">;</span>&nbsp;<span class="ident" id="7088066">got</span>&nbsp;<span class="op" id="7088070">!=</span>&nbsp;<span class="ident" id="7088073">want</span>&nbsp;<span class="op" id="7088078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088083">t</span><span class="op" id="7088084">.</span><span class="ident" id="7088085">Errorf</span><span class="op" id="7088091">(</span><span class="string" id="7088092">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7088113">,</span>&nbsp;<span class="ident" id="7088115">data</span><span class="op" id="7088119">,</span>&nbsp;<span class="ident" id="7088121">got</span><span class="op" id="7088124">,</span>&nbsp;<span class="ident" id="7088126">want</span><span class="op" id="7088130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088137">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088140">read</span><span class="op" id="7088144">(</span><span class="num" id="7088145">0</span><span class="op" id="7088146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088149">s</span>&nbsp;<span class="op" id="7088151">:=</span>&nbsp;<span class="builtinfunc" id="7088154">new</span><span class="op" id="7088157">(</span><span class="keyword" id="7088158">struct</span><span class="op" id="7088164">{</span><span class="op" id="7088165">}</span><span class="op" id="7088166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088169">read</span><span class="op" id="7088173">(</span><span class="op" id="7088174">&amp;</span><span class="ident" id="7088175">s</span><span class="op" id="7088176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088179">p</span>&nbsp;<span class="op" id="7088181">:=</span>&nbsp;<span class="op" id="7088184">&amp;</span><span class="ident" id="7088185">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088188">read</span><span class="op" id="7088192">(</span><span class="op" id="7088193">&amp;</span><span class="ident" id="7088194">p</span><span class="op" id="7088195">)</span><br>
<span class="lineno">310</span><span class="op" id="7088197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7088200">type</span>&nbsp;<span class="ident" id="7088205">byteSliceReader</span>&nbsp;<span class="keyword" id="7088221">struct</span>&nbsp;<span class="op" id="7088228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088231">remain</span>&nbsp;<span class="op" id="7088238">[</span><span class="op" id="7088239">]</span><span class="builtintype" id="7088240">byte</span><br>
<span class="lineno"></span><span class="op" id="7088245">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="7088248">func</span>&nbsp;<span class="op" id="7088253">(</span><span class="ident" id="7088254">br</span>&nbsp;<span class="op" id="7088257">*</span><span class="ident" id="7088258">byteSliceReader</span><span class="op" id="7088273">)</span>&nbsp;<span class="ident" id="7088275">Read</span><span class="op" id="7088279">(</span><span class="ident" id="7088280">p</span>&nbsp;<span class="op" id="7088282">[</span><span class="op" id="7088283">]</span><span class="builtintype" id="7088284">byte</span><span class="op" id="7088288">)</span>&nbsp;<span class="op" id="7088290">(</span><span class="builtintype" id="7088291">int</span><span class="op" id="7088294">,</span>&nbsp;<span class="builtintype" id="7088296">error</span><span class="op" id="7088301">)</span>&nbsp;<span class="op" id="7088303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088306">n</span>&nbsp;<span class="op" id="7088308">:=</span>&nbsp;<span class="builtinfunc" id="7088311">copy</span><span class="op" id="7088315">(</span><span class="ident" id="7088316">p</span><span class="op" id="7088317">,</span>&nbsp;<span class="ident" id="7088319">br</span><span class="op" id="7088321">.</span><span class="ident" id="7088322">remain</span><span class="op" id="7088328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088331">br</span><span class="op" id="7088333">.</span><span class="ident" id="7088334">remain</span>&nbsp;<span class="op" id="7088341">=</span>&nbsp;<span class="ident" id="7088343">br</span><span class="op" id="7088345">.</span><span class="ident" id="7088346">remain</span><span class="op" id="7088352">[</span><span class="ident" id="7088353">n</span><span class="op" id="7088354">:</span><span class="op" id="7088355">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088358">return</span>&nbsp;<span class="ident" id="7088365">n</span><span class="op" id="7088366">,</span>&nbsp;<span class="ident" id="7088368">nil</span><br>
<span class="lineno">320</span><span class="op" id="7088372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7088375">func</span>&nbsp;<span class="ident" id="7088380">BenchmarkReadSlice1000Int32s</span><span class="op" id="7088408">(</span><span class="ident" id="7088409">b</span>&nbsp;<span class="op" id="7088411">*</span><span class="ident" id="7088412">testing</span><span class="op" id="7088419">.</span><span class="ident" id="7088420">B</span><span class="op" id="7088421">)</span>&nbsp;<span class="op" id="7088423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088426">bsr</span>&nbsp;<span class="op" id="7088430">:=</span>&nbsp;<span class="op" id="7088433">&amp;</span><span class="ident" id="7088434">byteSliceReader</span><span class="op" id="7088449">{</span><span class="op" id="7088450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088453">slice</span>&nbsp;<span class="op" id="7088459">:=</span>&nbsp;<span class="builtinfunc" id="7088462">make</span><span class="op" id="7088466">(</span><span class="op" id="7088467">[</span><span class="op" id="7088468">]</span><span class="builtintype" id="7088469">int32</span><span class="op" id="7088474">,</span>&nbsp;<span class="num" id="7088476">1000</span><span class="op" id="7088480">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088483">buf</span>&nbsp;<span class="op" id="7088487">:=</span>&nbsp;<span class="builtinfunc" id="7088490">make</span><span class="op" id="7088494">(</span><span class="op" id="7088495">[</span><span class="op" id="7088496">]</span><span class="builtintype" id="7088497">byte</span><span class="op" id="7088501">,</span>&nbsp;<span class="builtinfunc" id="7088503">len</span><span class="op" id="7088506">(</span><span class="ident" id="7088507">slice</span><span class="op" id="7088512">)</span><span class="op" id="7088513">*</span><span class="num" id="7088514">4</span><span class="op" id="7088515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088518">b</span><span class="op" id="7088519">.</span><span class="ident" id="7088520">SetBytes</span><span class="op" id="7088528">(</span><span class="ident" id="7088529">int64</span><span class="op" id="7088534">(</span><span class="builtinfunc" id="7088535">len</span><span class="op" id="7088538">(</span><span class="ident" id="7088539">buf</span><span class="op" id="7088542">)</span><span class="op" id="7088543">)</span><span class="op" id="7088544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088547">b</span><span class="op" id="7088548">.</span><span class="ident" id="7088549">ResetTimer</span><span class="op" id="7088559">(</span><span class="op" id="7088560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088563">for</span>&nbsp;<span class="ident" id="7088567">i</span>&nbsp;<span class="op" id="7088569">:=</span>&nbsp;<span class="num" id="7088572">0</span><span class="op" id="7088573">;</span>&nbsp;<span class="ident" id="7088575">i</span>&nbsp;<span class="op" id="7088577">&lt;</span>&nbsp;<span class="ident" id="7088579">b</span><span class="op" id="7088580">.</span><span class="ident" id="7088581">N</span><span class="op" id="7088582">;</span>&nbsp;<span class="ident" id="7088584">i</span><span class="op" id="7088585">++</span>&nbsp;<span class="op" id="7088588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088592">bsr</span><span class="op" id="7088595">.</span><span class="ident" id="7088596">remain</span>&nbsp;<span class="op" id="7088603">=</span>&nbsp;<span class="ident" id="7088605">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088611">Read</span><span class="op" id="7088615">(</span><span class="ident" id="7088616">bsr</span><span class="op" id="7088619">,</span>&nbsp;<span class="ident" id="7088621">BigEndian</span><span class="op" id="7088630">,</span>&nbsp;<span class="ident" id="7088632">slice</span><span class="op" id="7088637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088640">}</span><br>
<span class="lineno"></span><span class="op" id="7088642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7088645">func</span>&nbsp;<span class="ident" id="7088650">BenchmarkReadStruct</span><span class="op" id="7088669">(</span><span class="ident" id="7088670">b</span>&nbsp;<span class="op" id="7088672">*</span><span class="ident" id="7088673">testing</span><span class="op" id="7088680">.</span><span class="ident" id="7088681">B</span><span class="op" id="7088682">)</span>&nbsp;<span class="op" id="7088684">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088687">bsr</span>&nbsp;<span class="op" id="7088691">:=</span>&nbsp;<span class="op" id="7088694">&amp;</span><span class="ident" id="7088695">byteSliceReader</span><span class="op" id="7088710">{</span><span class="op" id="7088711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088714">var</span>&nbsp;<span class="ident" id="7088718">buf</span>&nbsp;<span class="ident" id="7088722">bytes</span><span class="op" id="7088727">.</span><span class="ident" id="7088728">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088736">Write</span><span class="op" id="7088741">(</span><span class="op" id="7088742">&amp;</span><span class="ident" id="7088743">buf</span><span class="op" id="7088746">,</span>&nbsp;<span class="ident" id="7088748">BigEndian</span><span class="op" id="7088757">,</span>&nbsp;<span class="op" id="7088759">&amp;</span><span class="ident" id="7088760">s</span><span class="op" id="7088761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088764">b</span><span class="op" id="7088765">.</span><span class="ident" id="7088766">SetBytes</span><span class="op" id="7088774">(</span><span class="ident" id="7088775">int64</span><span class="op" id="7088780">(</span><span class="ident" id="7088781">dataSize</span><span class="op" id="7088789">(</span><span class="ident" id="7088790">reflect</span><span class="op" id="7088797">.</span><span class="ident" id="7088798">ValueOf</span><span class="op" id="7088805">(</span><span class="ident" id="7088806">s</span><span class="op" id="7088807">)</span><span class="op" id="7088808">)</span><span class="op" id="7088809">)</span><span class="op" id="7088810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088813">t</span>&nbsp;<span class="op" id="7088815">:=</span>&nbsp;<span class="ident" id="7088818">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088821">b</span><span class="op" id="7088822">.</span><span class="ident" id="7088823">ResetTimer</span><span class="op" id="7088833">(</span><span class="op" id="7088834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088837">for</span>&nbsp;<span class="ident" id="7088841">i</span>&nbsp;<span class="op" id="7088843">:=</span>&nbsp;<span class="num" id="7088846">0</span><span class="op" id="7088847">;</span>&nbsp;<span class="ident" id="7088849">i</span>&nbsp;<span class="op" id="7088851">&lt;</span>&nbsp;<span class="ident" id="7088853">b</span><span class="op" id="7088854">.</span><span class="ident" id="7088855">N</span><span class="op" id="7088856">;</span>&nbsp;<span class="ident" id="7088858">i</span><span class="op" id="7088859">++</span>&nbsp;<span class="op" id="7088862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088866">bsr</span><span class="op" id="7088869">.</span><span class="ident" id="7088870">remain</span>&nbsp;<span class="op" id="7088877">=</span>&nbsp;<span class="ident" id="7088879">buf</span><span class="op" id="7088882">.</span><span class="ident" id="7088883">Bytes</span><span class="op" id="7088888">(</span><span class="op" id="7088889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088893">Read</span><span class="op" id="7088897">(</span><span class="ident" id="7088898">bsr</span><span class="op" id="7088901">,</span>&nbsp;<span class="ident" id="7088903">BigEndian</span><span class="op" id="7088912">,</span>&nbsp;<span class="op" id="7088914">&amp;</span><span class="ident" id="7088915">t</span><span class="op" id="7088916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088919">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088922">b</span><span class="op" id="7088923">.</span><span class="ident" id="7088924">StopTimer</span><span class="op" id="7088933">(</span><span class="op" id="7088934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088937">if</span>&nbsp;<span class="op" id="7088940">!</span><span class="ident" id="7088941">reflect</span><span class="op" id="7088948">.</span><span class="ident" id="7088949">DeepEqual</span><span class="op" id="7088958">(</span><span class="ident" id="7088959">s</span><span class="op" id="7088960">,</span>&nbsp;<span class="ident" id="7088962">t</span><span class="op" id="7088963">)</span>&nbsp;<span class="op" id="7088965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088969">b</span><span class="op" id="7088970">.</span><span class="ident" id="7088971">Fatal</span><span class="op" id="7088976">(</span><span class="string" id="7088977">&#34;no&nbsp;match&#34;</span><span class="op" id="7088987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088990">}</span><br>
<span class="lineno"></span><span class="op" id="7088992">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7088995">func</span>&nbsp;<span class="ident" id="7089000">BenchmarkReadInts</span><span class="op" id="7089017">(</span><span class="ident" id="7089018">b</span>&nbsp;<span class="op" id="7089020">*</span><span class="ident" id="7089021">testing</span><span class="op" id="7089028">.</span><span class="ident" id="7089029">B</span><span class="op" id="7089030">)</span>&nbsp;<span class="op" id="7089032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089035">var</span>&nbsp;<span class="ident" id="7089039">ls</span>&nbsp;<span class="ident" id="7089042">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089050">bsr</span>&nbsp;<span class="op" id="7089054">:=</span>&nbsp;<span class="op" id="7089057">&amp;</span><span class="ident" id="7089058">byteSliceReader</span><span class="op" id="7089073">{</span><span class="op" id="7089074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089077">var</span>&nbsp;<span class="ident" id="7089081">r</span>&nbsp;<span class="ident" id="7089083">io</span><span class="op" id="7089085">.</span><span class="ident" id="7089086">Reader</span>&nbsp;<span class="op" id="7089093">=</span>&nbsp;<span class="ident" id="7089095">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089100">b</span><span class="op" id="7089101">.</span><span class="ident" id="7089102">SetBytes</span><span class="op" id="7089110">(</span><span class="num" id="7089111">2</span>&nbsp;<span class="op" id="7089113">*</span>&nbsp;<span class="op" id="7089115">(</span><span class="num" id="7089116">1</span>&nbsp;<span class="op" id="7089118">+</span>&nbsp;<span class="num" id="7089120">2</span>&nbsp;<span class="op" id="7089122">+</span>&nbsp;<span class="num" id="7089124">4</span>&nbsp;<span class="op" id="7089126">+</span>&nbsp;<span class="num" id="7089128">8</span><span class="op" id="7089129">)</span><span class="op" id="7089130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089133">b</span><span class="op" id="7089134">.</span><span class="ident" id="7089135">ResetTimer</span><span class="op" id="7089145">(</span><span class="op" id="7089146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089149">for</span>&nbsp;<span class="ident" id="7089153">i</span>&nbsp;<span class="op" id="7089155">:=</span>&nbsp;<span class="num" id="7089158">0</span><span class="op" id="7089159">;</span>&nbsp;<span class="ident" id="7089161">i</span>&nbsp;<span class="op" id="7089163">&lt;</span>&nbsp;<span class="ident" id="7089165">b</span><span class="op" id="7089166">.</span><span class="ident" id="7089167">N</span><span class="op" id="7089168">;</span>&nbsp;<span class="ident" id="7089170">i</span><span class="op" id="7089171">++</span>&nbsp;<span class="op" id="7089174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089178">bsr</span><span class="op" id="7089181">.</span><span class="ident" id="7089182">remain</span>&nbsp;<span class="op" id="7089189">=</span>&nbsp;<span class="ident" id="7089191">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089197">Read</span><span class="op" id="7089201">(</span><span class="ident" id="7089202">r</span><span class="op" id="7089203">,</span>&nbsp;<span class="ident" id="7089205">BigEndian</span><span class="op" id="7089214">,</span>&nbsp;<span class="op" id="7089216">&amp;</span><span class="ident" id="7089217">ls</span><span class="op" id="7089219">.</span><span class="ident" id="7089220">Int8</span><span class="op" id="7089224">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089228">Read</span><span class="op" id="7089232">(</span><span class="ident" id="7089233">r</span><span class="op" id="7089234">,</span>&nbsp;<span class="ident" id="7089236">BigEndian</span><span class="op" id="7089245">,</span>&nbsp;<span class="op" id="7089247">&amp;</span><span class="ident" id="7089248">ls</span><span class="op" id="7089250">.</span><span class="ident" id="7089251">Int16</span><span class="op" id="7089256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089260">Read</span><span class="op" id="7089264">(</span><span class="ident" id="7089265">r</span><span class="op" id="7089266">,</span>&nbsp;<span class="ident" id="7089268">BigEndian</span><span class="op" id="7089277">,</span>&nbsp;<span class="op" id="7089279">&amp;</span><span class="ident" id="7089280">ls</span><span class="op" id="7089282">.</span><span class="ident" id="7089283">Int32</span><span class="op" id="7089288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089292">Read</span><span class="op" id="7089296">(</span><span class="ident" id="7089297">r</span><span class="op" id="7089298">,</span>&nbsp;<span class="ident" id="7089300">BigEndian</span><span class="op" id="7089309">,</span>&nbsp;<span class="op" id="7089311">&amp;</span><span class="ident" id="7089312">ls</span><span class="op" id="7089314">.</span><span class="ident" id="7089315">Int64</span><span class="op" id="7089320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089324">Read</span><span class="op" id="7089328">(</span><span class="ident" id="7089329">r</span><span class="op" id="7089330">,</span>&nbsp;<span class="ident" id="7089332">BigEndian</span><span class="op" id="7089341">,</span>&nbsp;<span class="op" id="7089343">&amp;</span><span class="ident" id="7089344">ls</span><span class="op" id="7089346">.</span><span class="ident" id="7089347">Uint8</span><span class="op" id="7089352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089356">Read</span><span class="op" id="7089360">(</span><span class="ident" id="7089361">r</span><span class="op" id="7089362">,</span>&nbsp;<span class="ident" id="7089364">BigEndian</span><span class="op" id="7089373">,</span>&nbsp;<span class="op" id="7089375">&amp;</span><span class="ident" id="7089376">ls</span><span class="op" id="7089378">.</span><span class="ident" id="7089379">Uint16</span><span class="op" id="7089385">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089389">Read</span><span class="op" id="7089393">(</span><span class="ident" id="7089394">r</span><span class="op" id="7089395">,</span>&nbsp;<span class="ident" id="7089397">BigEndian</span><span class="op" id="7089406">,</span>&nbsp;<span class="op" id="7089408">&amp;</span><span class="ident" id="7089409">ls</span><span class="op" id="7089411">.</span><span class="ident" id="7089412">Uint32</span><span class="op" id="7089418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089422">Read</span><span class="op" id="7089426">(</span><span class="ident" id="7089427">r</span><span class="op" id="7089428">,</span>&nbsp;<span class="ident" id="7089430">BigEndian</span><span class="op" id="7089439">,</span>&nbsp;<span class="op" id="7089441">&amp;</span><span class="ident" id="7089442">ls</span><span class="op" id="7089444">.</span><span class="ident" id="7089445">Uint64</span><span class="op" id="7089451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089458">want</span>&nbsp;<span class="op" id="7089463">:=</span>&nbsp;<span class="ident" id="7089466">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089469">want</span><span class="op" id="7089473">.</span><span class="ident" id="7089474">Float32</span>&nbsp;<span class="op" id="7089482">=</span>&nbsp;<span class="num" id="7089484">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089487">want</span><span class="op" id="7089491">.</span><span class="ident" id="7089492">Float64</span>&nbsp;<span class="op" id="7089500">=</span>&nbsp;<span class="num" id="7089502">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089505">want</span><span class="op" id="7089509">.</span><span class="ident" id="7089510">Complex64</span>&nbsp;<span class="op" id="7089520">=</span>&nbsp;<span class="num" id="7089522">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089525">want</span><span class="op" id="7089529">.</span><span class="ident" id="7089530">Complex128</span>&nbsp;<span class="op" id="7089541">=</span>&nbsp;<span class="num" id="7089543">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089546">for</span>&nbsp;<span class="ident" id="7089550">i</span>&nbsp;<span class="op" id="7089552">:=</span>&nbsp;<span class="keyword" id="7089555">range</span>&nbsp;<span class="ident" id="7089561">want</span><span class="op" id="7089565">.</span><span class="ident" id="7089566">Array</span>&nbsp;<span class="op" id="7089572">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089576">want</span><span class="op" id="7089580">.</span><span class="ident" id="7089581">Array</span><span class="op" id="7089586">[</span><span class="ident" id="7089587">i</span><span class="op" id="7089588">]</span>&nbsp;<span class="op" id="7089590">=</span>&nbsp;<span class="num" id="7089592">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089598">b</span><span class="op" id="7089599">.</span><span class="ident" id="7089600">StopTimer</span><span class="op" id="7089609">(</span><span class="op" id="7089610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089613">if</span>&nbsp;<span class="op" id="7089616">!</span><span class="ident" id="7089617">reflect</span><span class="op" id="7089624">.</span><span class="ident" id="7089625">DeepEqual</span><span class="op" id="7089634">(</span><span class="ident" id="7089635">ls</span><span class="op" id="7089637">,</span>&nbsp;<span class="ident" id="7089639">want</span><span class="op" id="7089643">)</span>&nbsp;<span class="op" id="7089645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7089649">panic</span><span class="op" id="7089654">(</span><span class="string" id="7089655">&#34;no&nbsp;match&#34;</span><span class="op" id="7089665">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089668">}</span><br>
<span class="lineno"></span><span class="op" id="7089670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7089673">func</span>&nbsp;<span class="ident" id="7089678">BenchmarkWriteInts</span><span class="op" id="7089696">(</span><span class="ident" id="7089697">b</span>&nbsp;<span class="op" id="7089699">*</span><span class="ident" id="7089700">testing</span><span class="op" id="7089707">.</span><span class="ident" id="7089708">B</span><span class="op" id="7089709">)</span>&nbsp;<span class="op" id="7089711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089714">buf</span>&nbsp;<span class="op" id="7089718">:=</span>&nbsp;<span class="builtinfunc" id="7089721">new</span><span class="op" id="7089724">(</span><span class="ident" id="7089725">bytes</span><span class="op" id="7089730">.</span><span class="ident" id="7089731">Buffer</span><span class="op" id="7089737">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089740">var</span>&nbsp;<span class="ident" id="7089744">w</span>&nbsp;<span class="ident" id="7089746">io</span><span class="op" id="7089748">.</span><span class="ident" id="7089749">Writer</span>&nbsp;<span class="op" id="7089756">=</span>&nbsp;<span class="ident" id="7089758">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089763">b</span><span class="op" id="7089764">.</span><span class="ident" id="7089765">SetBytes</span><span class="op" id="7089773">(</span><span class="num" id="7089774">2</span>&nbsp;<span class="op" id="7089776">*</span>&nbsp;<span class="op" id="7089778">(</span><span class="num" id="7089779">1</span>&nbsp;<span class="op" id="7089781">+</span>&nbsp;<span class="num" id="7089783">2</span>&nbsp;<span class="op" id="7089785">+</span>&nbsp;<span class="num" id="7089787">4</span>&nbsp;<span class="op" id="7089789">+</span>&nbsp;<span class="num" id="7089791">8</span><span class="op" id="7089792">)</span><span class="op" id="7089793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089796">b</span><span class="op" id="7089797">.</span><span class="ident" id="7089798">ResetTimer</span><span class="op" id="7089808">(</span><span class="op" id="7089809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089812">for</span>&nbsp;<span class="ident" id="7089816">i</span>&nbsp;<span class="op" id="7089818">:=</span>&nbsp;<span class="num" id="7089821">0</span><span class="op" id="7089822">;</span>&nbsp;<span class="ident" id="7089824">i</span>&nbsp;<span class="op" id="7089826">&lt;</span>&nbsp;<span class="ident" id="7089828">b</span><span class="op" id="7089829">.</span><span class="ident" id="7089830">N</span><span class="op" id="7089831">;</span>&nbsp;<span class="ident" id="7089833">i</span><span class="op" id="7089834">++</span>&nbsp;<span class="op" id="7089837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089841">buf</span><span class="op" id="7089844">.</span><span class="ident" id="7089845">Reset</span><span class="op" id="7089850">(</span><span class="op" id="7089851">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089855">Write</span><span class="op" id="7089860">(</span><span class="ident" id="7089861">w</span><span class="op" id="7089862">,</span>&nbsp;<span class="ident" id="7089864">BigEndian</span><span class="op" id="7089873">,</span>&nbsp;<span class="ident" id="7089875">s</span><span class="op" id="7089876">.</span><span class="ident" id="7089877">Int8</span><span class="op" id="7089881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089885">Write</span><span class="op" id="7089890">(</span><span class="ident" id="7089891">w</span><span class="op" id="7089892">,</span>&nbsp;<span class="ident" id="7089894">BigEndian</span><span class="op" id="7089903">,</span>&nbsp;<span class="ident" id="7089905">s</span><span class="op" id="7089906">.</span><span class="ident" id="7089907">Int16</span><span class="op" id="7089912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089916">Write</span><span class="op" id="7089921">(</span><span class="ident" id="7089922">w</span><span class="op" id="7089923">,</span>&nbsp;<span class="ident" id="7089925">BigEndian</span><span class="op" id="7089934">,</span>&nbsp;<span class="ident" id="7089936">s</span><span class="op" id="7089937">.</span><span class="ident" id="7089938">Int32</span><span class="op" id="7089943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089947">Write</span><span class="op" id="7089952">(</span><span class="ident" id="7089953">w</span><span class="op" id="7089954">,</span>&nbsp;<span class="ident" id="7089956">BigEndian</span><span class="op" id="7089965">,</span>&nbsp;<span class="ident" id="7089967">s</span><span class="op" id="7089968">.</span><span class="ident" id="7089969">Int64</span><span class="op" id="7089974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089978">Write</span><span class="op" id="7089983">(</span><span class="ident" id="7089984">w</span><span class="op" id="7089985">,</span>&nbsp;<span class="ident" id="7089987">BigEndian</span><span class="op" id="7089996">,</span>&nbsp;<span class="ident" id="7089998">s</span><span class="op" id="7089999">.</span><span class="ident" id="7090000">Uint8</span><span class="op" id="7090005">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090009">Write</span><span class="op" id="7090014">(</span><span class="ident" id="7090015">w</span><span class="op" id="7090016">,</span>&nbsp;<span class="ident" id="7090018">BigEndian</span><span class="op" id="7090027">,</span>&nbsp;<span class="ident" id="7090029">s</span><span class="op" id="7090030">.</span><span class="ident" id="7090031">Uint16</span><span class="op" id="7090037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090041">Write</span><span class="op" id="7090046">(</span><span class="ident" id="7090047">w</span><span class="op" id="7090048">,</span>&nbsp;<span class="ident" id="7090050">BigEndian</span><span class="op" id="7090059">,</span>&nbsp;<span class="ident" id="7090061">s</span><span class="op" id="7090062">.</span><span class="ident" id="7090063">Uint32</span><span class="op" id="7090069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090073">Write</span><span class="op" id="7090078">(</span><span class="ident" id="7090079">w</span><span class="op" id="7090080">,</span>&nbsp;<span class="ident" id="7090082">BigEndian</span><span class="op" id="7090091">,</span>&nbsp;<span class="ident" id="7090093">s</span><span class="op" id="7090094">.</span><span class="ident" id="7090095">Uint64</span><span class="op" id="7090101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090107">b</span><span class="op" id="7090108">.</span><span class="ident" id="7090109">StopTimer</span><span class="op" id="7090118">(</span><span class="op" id="7090119">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090122">if</span>&nbsp;<span class="op" id="7090125">!</span><span class="ident" id="7090126">bytes</span><span class="op" id="7090131">.</span><span class="ident" id="7090132">Equal</span><span class="op" id="7090137">(</span><span class="ident" id="7090138">buf</span><span class="op" id="7090141">.</span><span class="ident" id="7090142">Bytes</span><span class="op" id="7090147">(</span><span class="op" id="7090148">)</span><span class="op" id="7090149">,</span>&nbsp;<span class="ident" id="7090151">big</span><span class="op" id="7090154">[</span><span class="op" id="7090155">:</span><span class="num" id="7090156">30</span><span class="op" id="7090158">]</span><span class="op" id="7090159">)</span>&nbsp;<span class="op" id="7090161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090165">b</span><span class="op" id="7090166">.</span><span class="ident" id="7090167">Fatalf</span><span class="op" id="7090173">(</span><span class="string" id="7090174">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="7090207">,</span>&nbsp;<span class="ident" id="7090209">buf</span><span class="op" id="7090212">.</span><span class="ident" id="7090213">Bytes</span><span class="op" id="7090218">(</span><span class="op" id="7090219">)</span><span class="op" id="7090220">,</span>&nbsp;<span class="ident" id="7090222">big</span><span class="op" id="7090225">[</span><span class="op" id="7090226">:</span><span class="num" id="7090227">30</span><span class="op" id="7090229">]</span><span class="op" id="7090230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090233">}</span><br>
<span class="lineno"></span><span class="op" id="7090235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7090238">func</span>&nbsp;<span class="ident" id="7090243">BenchmarkWriteSlice1000Int32s</span><span class="op" id="7090272">(</span><span class="ident" id="7090273">b</span>&nbsp;<span class="op" id="7090275">*</span><span class="ident" id="7090276">testing</span><span class="op" id="7090283">.</span><span class="ident" id="7090284">B</span><span class="op" id="7090285">)</span>&nbsp;<span class="op" id="7090287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090290">slice</span>&nbsp;<span class="op" id="7090296">:=</span>&nbsp;<span class="builtinfunc" id="7090299">make</span><span class="op" id="7090303">(</span><span class="op" id="7090304">[</span><span class="op" id="7090305">]</span><span class="builtintype" id="7090306">int32</span><span class="op" id="7090311">,</span>&nbsp;<span class="num" id="7090313">1000</span><span class="op" id="7090317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090320">buf</span>&nbsp;<span class="op" id="7090324">:=</span>&nbsp;<span class="builtinfunc" id="7090327">new</span><span class="op" id="7090330">(</span><span class="ident" id="7090331">bytes</span><span class="op" id="7090336">.</span><span class="ident" id="7090337">Buffer</span><span class="op" id="7090343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090346">var</span>&nbsp;<span class="ident" id="7090350">w</span>&nbsp;<span class="ident" id="7090352">io</span><span class="op" id="7090354">.</span><span class="ident" id="7090355">Writer</span>&nbsp;<span class="op" id="7090362">=</span>&nbsp;<span class="ident" id="7090364">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090369">b</span><span class="op" id="7090370">.</span><span class="ident" id="7090371">SetBytes</span><span class="op" id="7090379">(</span><span class="num" id="7090380">4</span>&nbsp;<span class="op" id="7090382">*</span>&nbsp;<span class="num" id="7090384">1000</span><span class="op" id="7090388">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090391">b</span><span class="op" id="7090392">.</span><span class="ident" id="7090393">ResetTimer</span><span class="op" id="7090403">(</span><span class="op" id="7090404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090407">for</span>&nbsp;<span class="ident" id="7090411">i</span>&nbsp;<span class="op" id="7090413">:=</span>&nbsp;<span class="num" id="7090416">0</span><span class="op" id="7090417">;</span>&nbsp;<span class="ident" id="7090419">i</span>&nbsp;<span class="op" id="7090421">&lt;</span>&nbsp;<span class="ident" id="7090423">b</span><span class="op" id="7090424">.</span><span class="ident" id="7090425">N</span><span class="op" id="7090426">;</span>&nbsp;<span class="ident" id="7090428">i</span><span class="op" id="7090429">++</span>&nbsp;<span class="op" id="7090432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090436">buf</span><span class="op" id="7090439">.</span><span class="ident" id="7090440">Reset</span><span class="op" id="7090445">(</span><span class="op" id="7090446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090450">Write</span><span class="op" id="7090455">(</span><span class="ident" id="7090456">w</span><span class="op" id="7090457">,</span>&nbsp;<span class="ident" id="7090459">BigEndian</span><span class="op" id="7090468">,</span>&nbsp;<span class="ident" id="7090470">slice</span><span class="op" id="7090475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090478">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090481">b</span><span class="op" id="7090482">.</span><span class="ident" id="7090483">StopTimer</span><span class="op" id="7090492">(</span><span class="op" id="7090493">)</span><br>
<span class="lineno"></span><span class="op" id="7090495">}</span>
</div>
</body>
</html>
