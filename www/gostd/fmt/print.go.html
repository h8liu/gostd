<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2382236">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2382291">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2382345">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2382396">package</span>&nbsp;<span class="ident" id="2382404">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2382409">import</span>&nbsp;<span class="op" id="2382416">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382419">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382429">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382435">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382441">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382452">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2382460">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2382475">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2382478">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2382544">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2382581">var</span>&nbsp;<span class="op" id="2382585">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382588">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2382605">=</span>&nbsp;<span class="op" id="2382607">[</span><span class="op" id="2382608">]</span><span class="builtintype" id="2382609">byte</span><span class="op" id="2382613">(</span><span class="string" id="2382614">&#34;,&nbsp;&#34;</span><span class="op" id="2382618">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382621">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382638">=</span>&nbsp;<span class="op" id="2382640">[</span><span class="op" id="2382641">]</span><span class="builtintype" id="2382642">byte</span><span class="op" id="2382646">(</span><span class="string" id="2382647">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2382654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382657">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382674">=</span>&nbsp;<span class="op" id="2382676">[</span><span class="op" id="2382677">]</span><span class="builtintype" id="2382678">byte</span><span class="op" id="2382682">(</span><span class="string" id="2382683">&#34;(nil)&#34;</span><span class="op" id="2382690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382693">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382710">=</span>&nbsp;<span class="op" id="2382712">[</span><span class="op" id="2382713">]</span><span class="builtintype" id="2382714">byte</span><span class="op" id="2382718">(</span><span class="string" id="2382719">&#34;nil&#34;</span><span class="op" id="2382724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382727">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382744">=</span>&nbsp;<span class="op" id="2382746">[</span><span class="op" id="2382747">]</span><span class="builtintype" id="2382748">byte</span><span class="op" id="2382752">(</span><span class="string" id="2382753">&#34;map[&#34;</span><span class="op" id="2382759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382762">percentBangBytes</span>&nbsp;<span class="op" id="2382779">=</span>&nbsp;<span class="op" id="2382781">[</span><span class="op" id="2382782">]</span><span class="builtintype" id="2382783">byte</span><span class="op" id="2382787">(</span><span class="string" id="2382788">&#34;%!&#34;</span><span class="op" id="2382792">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382795">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382812">=</span>&nbsp;<span class="op" id="2382814">[</span><span class="op" id="2382815">]</span><span class="builtintype" id="2382816">byte</span><span class="op" id="2382820">(</span><span class="string" id="2382821">&#34;(MISSING)&#34;</span><span class="op" id="2382832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382835">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382852">=</span>&nbsp;<span class="op" id="2382854">[</span><span class="op" id="2382855">]</span><span class="builtintype" id="2382856">byte</span><span class="op" id="2382860">(</span><span class="string" id="2382861">&#34;(BADINDEX)&#34;</span><span class="op" id="2382873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382876">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382893">=</span>&nbsp;<span class="op" id="2382895">[</span><span class="op" id="2382896">]</span><span class="builtintype" id="2382897">byte</span><span class="op" id="2382901">(</span><span class="string" id="2382902">&#34;(PANIC=&#34;</span><span class="op" id="2382911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382914">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382931">=</span>&nbsp;<span class="op" id="2382933">[</span><span class="op" id="2382934">]</span><span class="builtintype" id="2382935">byte</span><span class="op" id="2382939">(</span><span class="string" id="2382940">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2382951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382954">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382971">=</span>&nbsp;<span class="op" id="2382973">[</span><span class="op" id="2382974">]</span><span class="builtintype" id="2382975">byte</span><span class="op" id="2382979">(</span><span class="string" id="2382980">&#34;i)&#34;</span><span class="op" id="2382984">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2382987">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383004">=</span>&nbsp;<span class="op" id="2383006">[</span><span class="op" id="2383007">]</span><span class="builtintype" id="2383008">byte</span><span class="op" id="2383012">(</span><span class="string" id="2383013">&#34;[]byte{&#34;</span><span class="op" id="2383022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383025">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383042">=</span>&nbsp;<span class="op" id="2383044">[</span><span class="op" id="2383045">]</span><span class="builtintype" id="2383046">byte</span><span class="op" id="2383050">(</span><span class="string" id="2383051">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2383065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383068">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383085">=</span>&nbsp;<span class="op" id="2383087">[</span><span class="op" id="2383088">]</span><span class="builtintype" id="2383089">byte</span><span class="op" id="2383093">(</span><span class="string" id="2383094">&#34;%!(BADPREC)&#34;</span><span class="op" id="2383107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383110">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383127">=</span>&nbsp;<span class="op" id="2383129">[</span><span class="op" id="2383130">]</span><span class="builtintype" id="2383131">byte</span><span class="op" id="2383135">(</span><span class="string" id="2383136">&#34;%!(NOVERB)&#34;</span><span class="op" id="2383148">)</span><br>
<span class="lineno"></span><span class="op" id="2383150">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2383153">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2383220">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2383292">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2383353">type</span>&nbsp;<span class="ident" id="2383358">State</span>&nbsp;<span class="keyword" id="2383364">interface</span>&nbsp;<span class="op" id="2383374">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2383377">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383451">Write</span><span class="op" id="2383456">(</span><span class="ident" id="2383457">b</span>&nbsp;<span class="op" id="2383459">[</span><span class="op" id="2383460">]</span><span class="builtintype" id="2383461">byte</span><span class="op" id="2383465">)</span>&nbsp;<span class="op" id="2383467">(</span><span class="ident" id="2383468">ret</span>&nbsp;<span class="builtintype" id="2383472">int</span><span class="op" id="2383475">,</span>&nbsp;<span class="ident" id="2383477">err</span>&nbsp;<span class="builtintype" id="2383481">error</span><span class="op" id="2383486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2383489">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383566">Width</span><span class="op" id="2383571">(</span><span class="op" id="2383572">)</span>&nbsp;<span class="op" id="2383574">(</span><span class="ident" id="2383575">wid</span>&nbsp;<span class="builtintype" id="2383579">int</span><span class="op" id="2383582">,</span>&nbsp;<span class="ident" id="2383584">ok</span>&nbsp;<span class="builtintype" id="2383587">bool</span><span class="op" id="2383591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2383594">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383679">Precision</span><span class="op" id="2383688">(</span><span class="op" id="2383689">)</span>&nbsp;<span class="op" id="2383691">(</span><span class="ident" id="2383692">prec</span>&nbsp;<span class="builtintype" id="2383697">int</span><span class="op" id="2383700">,</span>&nbsp;<span class="ident" id="2383702">ok</span>&nbsp;<span class="builtintype" id="2383705">bool</span><span class="op" id="2383709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2383713">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383777">Flag</span><span class="op" id="2383781">(</span><span class="ident" id="2383782">c</span>&nbsp;<span class="builtintype" id="2383784">int</span><span class="op" id="2383787">)</span>&nbsp;<span class="builtintype" id="2383789">bool</span><br>
<span class="lineno"></span><span class="op" id="2383794">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2383797">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2383874">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2383943">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2383970">type</span>&nbsp;<span class="ident" id="2383975">Formatter</span>&nbsp;<span class="keyword" id="2383985">interface</span>&nbsp;<span class="op" id="2383995">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2383998">Format</span><span class="op" id="2384004">(</span><span class="ident" id="2384005">f</span>&nbsp;<span class="ident" id="2384007">State</span><span class="op" id="2384012">,</span>&nbsp;<span class="ident" id="2384014">c</span>&nbsp;<span class="builtintype" id="2384016">rune</span><span class="op" id="2384020">)</span><br>
<span class="lineno"></span><span class="op" id="2384022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2384025">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2384091">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2384146">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2384212">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2384280">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2384298">type</span>&nbsp;<span class="ident" id="2384303">Stringer</span>&nbsp;<span class="keyword" id="2384312">interface</span>&nbsp;<span class="op" id="2384322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2384325">String</span><span class="op" id="2384331">(</span><span class="op" id="2384332">)</span>&nbsp;<span class="builtintype" id="2384334">string</span><br>
<span class="lineno">65</span><span class="op" id="2384341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2384344">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2384414">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2384461">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2384529">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2384549">type</span>&nbsp;<span class="ident" id="2384554">GoStringer</span>&nbsp;<span class="keyword" id="2384565">interface</span>&nbsp;<span class="op" id="2384575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2384578">GoString</span><span class="op" id="2384586">(</span><span class="op" id="2384587">)</span>&nbsp;<span class="builtintype" id="2384589">string</span><br>
<span class="lineno"></span><span class="op" id="2384596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2384599">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2384671">type</span>&nbsp;<span class="ident" id="2384676">buffer</span>&nbsp;<span class="op" id="2384683">[</span><span class="op" id="2384684">]</span><span class="builtintype" id="2384685">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2384691">func</span>&nbsp;<span class="op" id="2384696">(</span><span class="ident" id="2384697">b</span>&nbsp;<span class="op" id="2384699">*</span><span class="ident" id="2384700">buffer</span><span class="op" id="2384706">)</span>&nbsp;<span class="ident" id="2384708">Write</span><span class="op" id="2384713">(</span><span class="ident" id="2384714">p</span>&nbsp;<span class="op" id="2384716">[</span><span class="op" id="2384717">]</span><span class="builtintype" id="2384718">byte</span><span class="op" id="2384722">)</span>&nbsp;<span class="op" id="2384724">(</span><span class="ident" id="2384725">n</span>&nbsp;<span class="builtintype" id="2384727">int</span><span class="op" id="2384730">,</span>&nbsp;<span class="ident" id="2384732">err</span>&nbsp;<span class="builtintype" id="2384736">error</span><span class="op" id="2384741">)</span>&nbsp;<span class="op" id="2384743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2384746">*</span><span class="ident" id="2384747">b</span>&nbsp;<span class="op" id="2384749">=</span>&nbsp;<span class="builtinfunc" id="2384751">append</span><span class="op" id="2384757">(</span><span class="op" id="2384758">*</span><span class="ident" id="2384759">b</span><span class="op" id="2384760">,</span>&nbsp;<span class="ident" id="2384762">p</span><span class="op" id="2384763">...</span><span class="op" id="2384766">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2384769">return</span>&nbsp;<span class="builtinfunc" id="2384776">len</span><span class="op" id="2384779">(</span><span class="ident" id="2384780">p</span><span class="op" id="2384781">)</span><span class="op" id="2384782">,</span>&nbsp;<span class="ident" id="2384784">nil</span><br>
<span class="lineno"></span><span class="op" id="2384788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2384791">func</span>&nbsp;<span class="op" id="2384796">(</span><span class="ident" id="2384797">b</span>&nbsp;<span class="op" id="2384799">*</span><span class="ident" id="2384800">buffer</span><span class="op" id="2384806">)</span>&nbsp;<span class="ident" id="2384808">WriteString</span><span class="op" id="2384819">(</span><span class="ident" id="2384820">s</span>&nbsp;<span class="builtintype" id="2384822">string</span><span class="op" id="2384828">)</span>&nbsp;<span class="op" id="2384830">(</span><span class="ident" id="2384831">n</span>&nbsp;<span class="builtintype" id="2384833">int</span><span class="op" id="2384836">,</span>&nbsp;<span class="ident" id="2384838">err</span>&nbsp;<span class="builtintype" id="2384842">error</span><span class="op" id="2384847">)</span>&nbsp;<span class="op" id="2384849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2384852">*</span><span class="ident" id="2384853">b</span>&nbsp;<span class="op" id="2384855">=</span>&nbsp;<span class="builtinfunc" id="2384857">append</span><span class="op" id="2384863">(</span><span class="op" id="2384864">*</span><span class="ident" id="2384865">b</span><span class="op" id="2384866">,</span>&nbsp;<span class="ident" id="2384868">s</span><span class="op" id="2384869">...</span><span class="op" id="2384872">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2384875">return</span>&nbsp;<span class="builtinfunc" id="2384882">len</span><span class="op" id="2384885">(</span><span class="ident" id="2384886">s</span><span class="op" id="2384887">)</span><span class="op" id="2384888">,</span>&nbsp;<span class="ident" id="2384890">nil</span><br>
<span class="lineno"></span><span class="op" id="2384894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2384897">func</span>&nbsp;<span class="op" id="2384902">(</span><span class="ident" id="2384903">b</span>&nbsp;<span class="op" id="2384905">*</span><span class="ident" id="2384906">buffer</span><span class="op" id="2384912">)</span>&nbsp;<span class="ident" id="2384914">WriteByte</span><span class="op" id="2384923">(</span><span class="ident" id="2384924">c</span>&nbsp;<span class="builtintype" id="2384926">byte</span><span class="op" id="2384930">)</span>&nbsp;<span class="builtintype" id="2384932">error</span>&nbsp;<span class="op" id="2384938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2384941">*</span><span class="ident" id="2384942">b</span>&nbsp;<span class="op" id="2384944">=</span>&nbsp;<span class="builtinfunc" id="2384946">append</span><span class="op" id="2384952">(</span><span class="op" id="2384953">*</span><span class="ident" id="2384954">b</span><span class="op" id="2384955">,</span>&nbsp;<span class="ident" id="2384957">c</span><span class="op" id="2384958">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2384961">return</span>&nbsp;<span class="ident" id="2384968">nil</span><br>
<span class="lineno"></span><span class="op" id="2384972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2384975">func</span>&nbsp;<span class="op" id="2384980">(</span><span class="ident" id="2384981">bp</span>&nbsp;<span class="op" id="2384984">*</span><span class="ident" id="2384985">buffer</span><span class="op" id="2384991">)</span>&nbsp;<span class="ident" id="2384993">WriteRune</span><span class="op" id="2385002">(</span><span class="ident" id="2385003">r</span>&nbsp;<span class="builtintype" id="2385005">rune</span><span class="op" id="2385009">)</span>&nbsp;<span class="builtintype" id="2385011">error</span>&nbsp;<span class="op" id="2385017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2385020">if</span>&nbsp;<span class="ident" id="2385023">r</span>&nbsp;<span class="op" id="2385025">&lt;</span>&nbsp;<span class="ident" id="2385027">utf8</span><span class="op" id="2385031">.</span><span class="ident" id="2385032">RuneSelf</span>&nbsp;<span class="op" id="2385041">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2385045">*</span><span class="ident" id="2385046">bp</span>&nbsp;<span class="op" id="2385049">=</span>&nbsp;<span class="builtinfunc" id="2385051">append</span><span class="op" id="2385057">(</span><span class="op" id="2385058">*</span><span class="ident" id="2385059">bp</span><span class="op" id="2385061">,</span>&nbsp;<span class="builtintype" id="2385063">byte</span><span class="op" id="2385067">(</span><span class="ident" id="2385068">r</span><span class="op" id="2385069">)</span><span class="op" id="2385070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2385074">return</span>&nbsp;<span class="ident" id="2385081">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2385086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385090">b</span>&nbsp;<span class="op" id="2385092">:=</span>&nbsp;<span class="op" id="2385095">*</span><span class="ident" id="2385096">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385100">n</span>&nbsp;<span class="op" id="2385102">:=</span>&nbsp;<span class="builtinfunc" id="2385105">len</span><span class="op" id="2385108">(</span><span class="ident" id="2385109">b</span><span class="op" id="2385110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2385113">for</span>&nbsp;<span class="ident" id="2385117">n</span><span class="op" id="2385118">+</span><span class="ident" id="2385119">utf8</span><span class="op" id="2385123">.</span><span class="ident" id="2385124">UTFMax</span>&nbsp;<span class="op" id="2385131">&gt;</span>&nbsp;<span class="builtinfunc" id="2385133">cap</span><span class="op" id="2385136">(</span><span class="ident" id="2385137">b</span><span class="op" id="2385138">)</span>&nbsp;<span class="op" id="2385140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385144">b</span>&nbsp;<span class="op" id="2385146">=</span>&nbsp;<span class="builtinfunc" id="2385148">append</span><span class="op" id="2385154">(</span><span class="ident" id="2385155">b</span><span class="op" id="2385156">,</span>&nbsp;<span class="num" id="2385158">0</span><span class="op" id="2385159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2385162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385165">w</span>&nbsp;<span class="op" id="2385167">:=</span>&nbsp;<span class="ident" id="2385170">utf8</span><span class="op" id="2385174">.</span><span class="ident" id="2385175">EncodeRune</span><span class="op" id="2385185">(</span><span class="ident" id="2385186">b</span><span class="op" id="2385187">[</span><span class="ident" id="2385188">n</span><span class="op" id="2385189">:</span><span class="ident" id="2385190">n</span><span class="op" id="2385191">+</span><span class="ident" id="2385192">utf8</span><span class="op" id="2385196">.</span><span class="ident" id="2385197">UTFMax</span><span class="op" id="2385203">]</span><span class="op" id="2385204">,</span>&nbsp;<span class="ident" id="2385206">r</span><span class="op" id="2385207">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2385210">*</span><span class="ident" id="2385211">bp</span>&nbsp;<span class="op" id="2385214">=</span>&nbsp;<span class="ident" id="2385216">b</span><span class="op" id="2385217">[</span><span class="op" id="2385218">:</span><span class="ident" id="2385219">n</span><span class="op" id="2385220">+</span><span class="ident" id="2385221">w</span><span class="op" id="2385222">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2385225">return</span>&nbsp;<span class="ident" id="2385232">nil</span><br>
<span class="lineno"></span><span class="op" id="2385236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2385239">type</span>&nbsp;<span class="ident" id="2385244">pp</span>&nbsp;<span class="keyword" id="2385247">struct</span>&nbsp;<span class="op" id="2385254">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385257">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2385267">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385272">panicking</span>&nbsp;<span class="builtintype" id="2385282">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385288">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2385298">bool</span>&nbsp;<span class="comment" id="2385303">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385335">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385345">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2385353">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385404">arg</span>&nbsp;<span class="keyword" id="2385408">interface</span><span class="op" id="2385417">{</span><span class="op" id="2385418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2385421">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2385487">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385542">value</span>&nbsp;<span class="ident" id="2385548">reflect</span><span class="op" id="2385555">.</span><span class="ident" id="2385556">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2385563">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385637">reordered</span>&nbsp;<span class="builtintype" id="2385647">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2385653">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385732">goodArgNum</span>&nbsp;<span class="builtintype" id="2385743">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385749">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2385760">[</span><span class="ident" id="2385761">utf8</span><span class="op" id="2385765">.</span><span class="ident" id="2385766">UTFMax</span><span class="op" id="2385772">]</span><span class="builtintype" id="2385773">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385779">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385790">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2385794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2385797">var</span>&nbsp;<span class="ident" id="2385801">ppFree</span>&nbsp;<span class="op" id="2385808">=</span>&nbsp;<span class="ident" id="2385810">sync</span><span class="op" id="2385814">.</span><span class="ident" id="2385815">Pool</span><span class="op" id="2385819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385822">New</span><span class="op" id="2385825">:</span>&nbsp;<span class="keyword" id="2385827">func</span><span class="op" id="2385831">(</span><span class="op" id="2385832">)</span>&nbsp;<span class="keyword" id="2385834">interface</span><span class="op" id="2385843">{</span><span class="op" id="2385844">}</span>&nbsp;<span class="op" id="2385846">{</span>&nbsp;<span class="keyword" id="2385848">return</span>&nbsp;<span class="builtinfunc" id="2385855">new</span><span class="op" id="2385858">(</span><span class="ident" id="2385859">pp</span><span class="op" id="2385861">)</span>&nbsp;<span class="op" id="2385863">}</span><span class="op" id="2385864">,</span><br>
<span class="lineno"></span><span class="op" id="2385866">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2385869">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2385932">func</span>&nbsp;<span class="ident" id="2385937">newPrinter</span><span class="op" id="2385947">(</span><span class="op" id="2385948">)</span>&nbsp;<span class="op" id="2385950">*</span><span class="ident" id="2385951">pp</span>&nbsp;<span class="op" id="2385954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385957">p</span>&nbsp;<span class="op" id="2385959">:=</span>&nbsp;<span class="ident" id="2385962">ppFree</span><span class="op" id="2385968">.</span><span class="ident" id="2385969">Get</span><span class="op" id="2385972">(</span><span class="op" id="2385973">)</span><span class="op" id="2385974">.</span><span class="op" id="2385975">(</span><span class="op" id="2385976">*</span><span class="ident" id="2385977">pp</span><span class="op" id="2385979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385982">p</span><span class="op" id="2385983">.</span><span class="ident" id="2385984">panicking</span>&nbsp;<span class="op" id="2385994">=</span>&nbsp;<span class="builtintype" id="2385996">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386003">p</span><span class="op" id="2386004">.</span><span class="ident" id="2386005">erroring</span>&nbsp;<span class="op" id="2386014">=</span>&nbsp;<span class="builtintype" id="2386016">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386023">p</span><span class="op" id="2386024">.</span><span class="ident" id="2386025">fmt</span><span class="op" id="2386028">.</span><span class="ident" id="2386029">init</span><span class="op" id="2386033">(</span><span class="op" id="2386034">&amp;</span><span class="ident" id="2386035">p</span><span class="op" id="2386036">.</span><span class="ident" id="2386037">buf</span><span class="op" id="2386040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386043">return</span>&nbsp;<span class="ident" id="2386050">p</span><br>
<span class="lineno"></span><span class="op" id="2386052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2386055">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2386133">func</span>&nbsp;<span class="op" id="2386138">(</span><span class="ident" id="2386139">p</span>&nbsp;<span class="op" id="2386141">*</span><span class="ident" id="2386142">pp</span><span class="op" id="2386144">)</span>&nbsp;<span class="ident" id="2386146">free</span><span class="op" id="2386150">(</span><span class="op" id="2386151">)</span>&nbsp;<span class="op" id="2386153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386156">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386208">if</span>&nbsp;<span class="builtinfunc" id="2386211">cap</span><span class="op" id="2386214">(</span><span class="ident" id="2386215">p</span><span class="op" id="2386216">.</span><span class="ident" id="2386217">buf</span><span class="op" id="2386220">)</span>&nbsp;<span class="op" id="2386222">&gt;</span>&nbsp;<span class="num" id="2386224">1024</span>&nbsp;<span class="op" id="2386229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386233">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386244">p</span><span class="op" id="2386245">.</span><span class="ident" id="2386246">buf</span>&nbsp;<span class="op" id="2386250">=</span>&nbsp;<span class="ident" id="2386252">p</span><span class="op" id="2386253">.</span><span class="ident" id="2386254">buf</span><span class="op" id="2386257">[</span><span class="op" id="2386258">:</span><span class="num" id="2386259">0</span><span class="op" id="2386260">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386263">p</span><span class="op" id="2386264">.</span><span class="ident" id="2386265">arg</span>&nbsp;<span class="op" id="2386269">=</span>&nbsp;<span class="ident" id="2386271">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386276">p</span><span class="op" id="2386277">.</span><span class="ident" id="2386278">value</span>&nbsp;<span class="op" id="2386284">=</span>&nbsp;<span class="ident" id="2386286">reflect</span><span class="op" id="2386293">.</span><span class="ident" id="2386294">Value</span><span class="op" id="2386299">{</span><span class="op" id="2386300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386303">ppFree</span><span class="op" id="2386309">.</span><span class="ident" id="2386310">Put</span><span class="op" id="2386313">(</span><span class="ident" id="2386314">p</span><span class="op" id="2386315">)</span><br>
<span class="lineno">150</span><span class="op" id="2386317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2386320">func</span>&nbsp;<span class="op" id="2386325">(</span><span class="ident" id="2386326">p</span>&nbsp;<span class="op" id="2386328">*</span><span class="ident" id="2386329">pp</span><span class="op" id="2386331">)</span>&nbsp;<span class="ident" id="2386333">Width</span><span class="op" id="2386338">(</span><span class="op" id="2386339">)</span>&nbsp;<span class="op" id="2386341">(</span><span class="ident" id="2386342">wid</span>&nbsp;<span class="builtintype" id="2386346">int</span><span class="op" id="2386349">,</span>&nbsp;<span class="ident" id="2386351">ok</span>&nbsp;<span class="builtintype" id="2386354">bool</span><span class="op" id="2386358">)</span>&nbsp;<span class="op" id="2386360">{</span>&nbsp;<span class="keyword" id="2386362">return</span>&nbsp;<span class="ident" id="2386369">p</span><span class="op" id="2386370">.</span><span class="ident" id="2386371">fmt</span><span class="op" id="2386374">.</span><span class="ident" id="2386375">wid</span><span class="op" id="2386378">,</span>&nbsp;<span class="ident" id="2386380">p</span><span class="op" id="2386381">.</span><span class="ident" id="2386382">fmt</span><span class="op" id="2386385">.</span><span class="ident" id="2386386">widPresent</span>&nbsp;<span class="op" id="2386397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2386400">func</span>&nbsp;<span class="op" id="2386405">(</span><span class="ident" id="2386406">p</span>&nbsp;<span class="op" id="2386408">*</span><span class="ident" id="2386409">pp</span><span class="op" id="2386411">)</span>&nbsp;<span class="ident" id="2386413">Precision</span><span class="op" id="2386422">(</span><span class="op" id="2386423">)</span>&nbsp;<span class="op" id="2386425">(</span><span class="ident" id="2386426">prec</span>&nbsp;<span class="builtintype" id="2386431">int</span><span class="op" id="2386434">,</span>&nbsp;<span class="ident" id="2386436">ok</span>&nbsp;<span class="builtintype" id="2386439">bool</span><span class="op" id="2386443">)</span>&nbsp;<span class="op" id="2386445">{</span>&nbsp;<span class="keyword" id="2386447">return</span>&nbsp;<span class="ident" id="2386454">p</span><span class="op" id="2386455">.</span><span class="ident" id="2386456">fmt</span><span class="op" id="2386459">.</span><span class="ident" id="2386460">prec</span><span class="op" id="2386464">,</span>&nbsp;<span class="ident" id="2386466">p</span><span class="op" id="2386467">.</span><span class="ident" id="2386468">fmt</span><span class="op" id="2386471">.</span><span class="ident" id="2386472">precPresent</span>&nbsp;<span class="op" id="2386484">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2386487">func</span>&nbsp;<span class="op" id="2386492">(</span><span class="ident" id="2386493">p</span>&nbsp;<span class="op" id="2386495">*</span><span class="ident" id="2386496">pp</span><span class="op" id="2386498">)</span>&nbsp;<span class="ident" id="2386500">Flag</span><span class="op" id="2386504">(</span><span class="ident" id="2386505">b</span>&nbsp;<span class="builtintype" id="2386507">int</span><span class="op" id="2386510">)</span>&nbsp;<span class="builtintype" id="2386512">bool</span>&nbsp;<span class="op" id="2386517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386520">switch</span>&nbsp;<span class="ident" id="2386527">b</span>&nbsp;<span class="op" id="2386529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386532">case</span>&nbsp;<span class="string" id="2386537">&#39;-&#39;</span><span class="op" id="2386540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386544">return</span>&nbsp;<span class="ident" id="2386551">p</span><span class="op" id="2386552">.</span><span class="ident" id="2386553">fmt</span><span class="op" id="2386556">.</span><span class="ident" id="2386557">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386564">case</span>&nbsp;<span class="string" id="2386569">&#39;+&#39;</span><span class="op" id="2386572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386576">return</span>&nbsp;<span class="ident" id="2386583">p</span><span class="op" id="2386584">.</span><span class="ident" id="2386585">fmt</span><span class="op" id="2386588">.</span><span class="ident" id="2386589">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386595">case</span>&nbsp;<span class="string" id="2386600">&#39;#&#39;</span><span class="op" id="2386603">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386607">return</span>&nbsp;<span class="ident" id="2386614">p</span><span class="op" id="2386615">.</span><span class="ident" id="2386616">fmt</span><span class="op" id="2386619">.</span><span class="ident" id="2386620">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386627">case</span>&nbsp;<span class="string" id="2386632">&#39;&nbsp;&#39;</span><span class="op" id="2386635">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386639">return</span>&nbsp;<span class="ident" id="2386646">p</span><span class="op" id="2386647">.</span><span class="ident" id="2386648">fmt</span><span class="op" id="2386651">.</span><span class="ident" id="2386652">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386659">case</span>&nbsp;<span class="string" id="2386664">&#39;0&#39;</span><span class="op" id="2386667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386671">return</span>&nbsp;<span class="ident" id="2386678">p</span><span class="op" id="2386679">.</span><span class="ident" id="2386680">fmt</span><span class="op" id="2386683">.</span><span class="ident" id="2386684">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386693">return</span>&nbsp;<span class="builtintype" id="2386700">false</span><br>
<span class="lineno">170</span><span class="op" id="2386706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2386709">func</span>&nbsp;<span class="op" id="2386714">(</span><span class="ident" id="2386715">p</span>&nbsp;<span class="op" id="2386717">*</span><span class="ident" id="2386718">pp</span><span class="op" id="2386720">)</span>&nbsp;<span class="ident" id="2386722">add</span><span class="op" id="2386725">(</span><span class="ident" id="2386726">c</span>&nbsp;<span class="builtintype" id="2386728">rune</span><span class="op" id="2386732">)</span>&nbsp;<span class="op" id="2386734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386737">p</span><span class="op" id="2386738">.</span><span class="ident" id="2386739">buf</span><span class="op" id="2386742">.</span><span class="ident" id="2386743">WriteRune</span><span class="op" id="2386752">(</span><span class="ident" id="2386753">c</span><span class="op" id="2386754">)</span><br>
<span class="lineno"></span><span class="op" id="2386756">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2386759">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2386830">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2386864">func</span>&nbsp;<span class="op" id="2386869">(</span><span class="ident" id="2386870">p</span>&nbsp;<span class="op" id="2386872">*</span><span class="ident" id="2386873">pp</span><span class="op" id="2386875">)</span>&nbsp;<span class="ident" id="2386877">Write</span><span class="op" id="2386882">(</span><span class="ident" id="2386883">b</span>&nbsp;<span class="op" id="2386885">[</span><span class="op" id="2386886">]</span><span class="builtintype" id="2386887">byte</span><span class="op" id="2386891">)</span>&nbsp;<span class="op" id="2386893">(</span><span class="ident" id="2386894">ret</span>&nbsp;<span class="builtintype" id="2386898">int</span><span class="op" id="2386901">,</span>&nbsp;<span class="ident" id="2386903">err</span>&nbsp;<span class="builtintype" id="2386907">error</span><span class="op" id="2386912">)</span>&nbsp;<span class="op" id="2386914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386917">return</span>&nbsp;<span class="ident" id="2386924">p</span><span class="op" id="2386925">.</span><span class="ident" id="2386926">buf</span><span class="op" id="2386929">.</span><span class="ident" id="2386930">Write</span><span class="op" id="2386935">(</span><span class="ident" id="2386936">b</span><span class="op" id="2386937">)</span><br>
<span class="lineno">180</span><span class="op" id="2386939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2386942">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2386998">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2387066">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2387141">func</span>&nbsp;<span class="ident" id="2387146">Fprintf</span><span class="op" id="2387153">(</span><span class="ident" id="2387154">w</span>&nbsp;<span class="ident" id="2387156">io</span><span class="op" id="2387158">.</span><span class="ident" id="2387159">Writer</span><span class="op" id="2387165">,</span>&nbsp;<span class="ident" id="2387167">format</span>&nbsp;<span class="builtintype" id="2387174">string</span><span class="op" id="2387180">,</span>&nbsp;<span class="ident" id="2387182">a</span>&nbsp;<span class="op" id="2387184">...</span><span class="keyword" id="2387187">interface</span><span class="op" id="2387196">{</span><span class="op" id="2387197">}</span><span class="op" id="2387198">)</span>&nbsp;<span class="op" id="2387200">(</span><span class="ident" id="2387201">n</span>&nbsp;<span class="builtintype" id="2387203">int</span><span class="op" id="2387206">,</span>&nbsp;<span class="ident" id="2387208">err</span>&nbsp;<span class="builtintype" id="2387212">error</span><span class="op" id="2387217">)</span>&nbsp;<span class="op" id="2387219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387222">p</span>&nbsp;<span class="op" id="2387224">:=</span>&nbsp;<span class="ident" id="2387227">newPrinter</span><span class="op" id="2387237">(</span><span class="op" id="2387238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387241">p</span><span class="op" id="2387242">.</span><span class="ident" id="2387243">doPrintf</span><span class="op" id="2387251">(</span><span class="ident" id="2387252">format</span><span class="op" id="2387258">,</span>&nbsp;<span class="ident" id="2387260">a</span><span class="op" id="2387261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387264">n</span><span class="op" id="2387265">,</span>&nbsp;<span class="ident" id="2387267">err</span>&nbsp;<span class="op" id="2387271">=</span>&nbsp;<span class="ident" id="2387273">w</span><span class="op" id="2387274">.</span><span class="ident" id="2387275">Write</span><span class="op" id="2387280">(</span><span class="ident" id="2387281">p</span><span class="op" id="2387282">.</span><span class="ident" id="2387283">buf</span><span class="op" id="2387286">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387289">p</span><span class="op" id="2387290">.</span><span class="ident" id="2387291">free</span><span class="op" id="2387295">(</span><span class="op" id="2387296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387299">return</span><br>
<span class="lineno"></span><span class="op" id="2387306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2387309">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2387390">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2387465">func</span>&nbsp;<span class="ident" id="2387470">Printf</span><span class="op" id="2387476">(</span><span class="ident" id="2387477">format</span>&nbsp;<span class="builtintype" id="2387484">string</span><span class="op" id="2387490">,</span>&nbsp;<span class="ident" id="2387492">a</span>&nbsp;<span class="op" id="2387494">...</span><span class="keyword" id="2387497">interface</span><span class="op" id="2387506">{</span><span class="op" id="2387507">}</span><span class="op" id="2387508">)</span>&nbsp;<span class="op" id="2387510">(</span><span class="ident" id="2387511">n</span>&nbsp;<span class="builtintype" id="2387513">int</span><span class="op" id="2387516">,</span>&nbsp;<span class="ident" id="2387518">err</span>&nbsp;<span class="builtintype" id="2387522">error</span><span class="op" id="2387527">)</span>&nbsp;<span class="op" id="2387529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387532">return</span>&nbsp;<span class="ident" id="2387539">Fprintf</span><span class="op" id="2387546">(</span><span class="ident" id="2387547">os</span><span class="op" id="2387549">.</span><span class="ident" id="2387550">Stdout</span><span class="op" id="2387556">,</span>&nbsp;<span class="ident" id="2387558">format</span><span class="op" id="2387564">,</span>&nbsp;<span class="ident" id="2387566">a</span><span class="op" id="2387567">...</span><span class="op" id="2387570">)</span><br>
<span class="lineno"></span><span class="op" id="2387572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2387575">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2387660">func</span>&nbsp;<span class="ident" id="2387665">Sprintf</span><span class="op" id="2387672">(</span><span class="ident" id="2387673">format</span>&nbsp;<span class="builtintype" id="2387680">string</span><span class="op" id="2387686">,</span>&nbsp;<span class="ident" id="2387688">a</span>&nbsp;<span class="op" id="2387690">...</span><span class="keyword" id="2387693">interface</span><span class="op" id="2387702">{</span><span class="op" id="2387703">}</span><span class="op" id="2387704">)</span>&nbsp;<span class="builtintype" id="2387706">string</span>&nbsp;<span class="op" id="2387713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387716">p</span>&nbsp;<span class="op" id="2387718">:=</span>&nbsp;<span class="ident" id="2387721">newPrinter</span><span class="op" id="2387731">(</span><span class="op" id="2387732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387735">p</span><span class="op" id="2387736">.</span><span class="ident" id="2387737">doPrintf</span><span class="op" id="2387745">(</span><span class="ident" id="2387746">format</span><span class="op" id="2387752">,</span>&nbsp;<span class="ident" id="2387754">a</span><span class="op" id="2387755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387758">s</span>&nbsp;<span class="op" id="2387760">:=</span>&nbsp;<span class="builtintype" id="2387763">string</span><span class="op" id="2387769">(</span><span class="ident" id="2387770">p</span><span class="op" id="2387771">.</span><span class="ident" id="2387772">buf</span><span class="op" id="2387775">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2387778">p</span><span class="op" id="2387779">.</span><span class="ident" id="2387780">free</span><span class="op" id="2387784">(</span><span class="op" id="2387785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387788">return</span>&nbsp;<span class="ident" id="2387795">s</span><br>
<span class="lineno"></span><span class="op" id="2387797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2387800">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2387873">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2387909">func</span>&nbsp;<span class="ident" id="2387914">Errorf</span><span class="op" id="2387920">(</span><span class="ident" id="2387921">format</span>&nbsp;<span class="builtintype" id="2387928">string</span><span class="op" id="2387934">,</span>&nbsp;<span class="ident" id="2387936">a</span>&nbsp;<span class="op" id="2387938">...</span><span class="keyword" id="2387941">interface</span><span class="op" id="2387950">{</span><span class="op" id="2387951">}</span><span class="op" id="2387952">)</span>&nbsp;<span class="builtintype" id="2387954">error</span>&nbsp;<span class="op" id="2387960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387963">return</span>&nbsp;<span class="ident" id="2387970">errors</span><span class="op" id="2387976">.</span><span class="ident" id="2387977">New</span><span class="op" id="2387980">(</span><span class="ident" id="2387981">Sprintf</span><span class="op" id="2387988">(</span><span class="ident" id="2387989">format</span><span class="op" id="2387995">,</span>&nbsp;<span class="ident" id="2387997">a</span><span class="op" id="2387998">...</span><span class="op" id="2388001">)</span><span class="op" id="2388002">)</span><br>
<span class="lineno"></span><span class="op" id="2388004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2388007">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2388054">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2388132">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2388195">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2388270">func</span>&nbsp;<span class="ident" id="2388275">Fprint</span><span class="op" id="2388281">(</span><span class="ident" id="2388282">w</span>&nbsp;<span class="ident" id="2388284">io</span><span class="op" id="2388286">.</span><span class="ident" id="2388287">Writer</span><span class="op" id="2388293">,</span>&nbsp;<span class="ident" id="2388295">a</span>&nbsp;<span class="op" id="2388297">...</span><span class="keyword" id="2388300">interface</span><span class="op" id="2388309">{</span><span class="op" id="2388310">}</span><span class="op" id="2388311">)</span>&nbsp;<span class="op" id="2388313">(</span><span class="ident" id="2388314">n</span>&nbsp;<span class="builtintype" id="2388316">int</span><span class="op" id="2388319">,</span>&nbsp;<span class="ident" id="2388321">err</span>&nbsp;<span class="builtintype" id="2388325">error</span><span class="op" id="2388330">)</span>&nbsp;<span class="op" id="2388332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388335">p</span>&nbsp;<span class="op" id="2388337">:=</span>&nbsp;<span class="ident" id="2388340">newPrinter</span><span class="op" id="2388350">(</span><span class="op" id="2388351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388354">p</span><span class="op" id="2388355">.</span><span class="ident" id="2388356">doPrint</span><span class="op" id="2388363">(</span><span class="ident" id="2388364">a</span><span class="op" id="2388365">,</span>&nbsp;<span class="builtintype" id="2388367">false</span><span class="op" id="2388372">,</span>&nbsp;<span class="builtintype" id="2388374">false</span><span class="op" id="2388379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388382">n</span><span class="op" id="2388383">,</span>&nbsp;<span class="ident" id="2388385">err</span>&nbsp;<span class="op" id="2388389">=</span>&nbsp;<span class="ident" id="2388391">w</span><span class="op" id="2388392">.</span><span class="ident" id="2388393">Write</span><span class="op" id="2388398">(</span><span class="ident" id="2388399">p</span><span class="op" id="2388400">.</span><span class="ident" id="2388401">buf</span><span class="op" id="2388404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388407">p</span><span class="op" id="2388408">.</span><span class="ident" id="2388409">free</span><span class="op" id="2388413">(</span><span class="op" id="2388414">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388417">return</span><br>
<span class="lineno"></span><span class="op" id="2388424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2388427">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2388518">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2388581">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2388656">func</span>&nbsp;<span class="ident" id="2388661">Print</span><span class="op" id="2388666">(</span><span class="ident" id="2388667">a</span>&nbsp;<span class="op" id="2388669">...</span><span class="keyword" id="2388672">interface</span><span class="op" id="2388681">{</span><span class="op" id="2388682">}</span><span class="op" id="2388683">)</span>&nbsp;<span class="op" id="2388685">(</span><span class="ident" id="2388686">n</span>&nbsp;<span class="builtintype" id="2388688">int</span><span class="op" id="2388691">,</span>&nbsp;<span class="ident" id="2388693">err</span>&nbsp;<span class="builtintype" id="2388697">error</span><span class="op" id="2388702">)</span>&nbsp;<span class="op" id="2388704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388707">return</span>&nbsp;<span class="ident" id="2388714">Fprint</span><span class="op" id="2388720">(</span><span class="ident" id="2388721">os</span><span class="op" id="2388723">.</span><span class="ident" id="2388724">Stdout</span><span class="op" id="2388730">,</span>&nbsp;<span class="ident" id="2388732">a</span><span class="op" id="2388733">...</span><span class="op" id="2388736">)</span><br>
<span class="lineno"></span><span class="op" id="2388738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2388741">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2388836">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2388899">func</span>&nbsp;<span class="ident" id="2388904">Sprint</span><span class="op" id="2388910">(</span><span class="ident" id="2388911">a</span>&nbsp;<span class="op" id="2388913">...</span><span class="keyword" id="2388916">interface</span><span class="op" id="2388925">{</span><span class="op" id="2388926">}</span><span class="op" id="2388927">)</span>&nbsp;<span class="builtintype" id="2388929">string</span>&nbsp;<span class="op" id="2388936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388939">p</span>&nbsp;<span class="op" id="2388941">:=</span>&nbsp;<span class="ident" id="2388944">newPrinter</span><span class="op" id="2388954">(</span><span class="op" id="2388955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388958">p</span><span class="op" id="2388959">.</span><span class="ident" id="2388960">doPrint</span><span class="op" id="2388967">(</span><span class="ident" id="2388968">a</span><span class="op" id="2388969">,</span>&nbsp;<span class="builtintype" id="2388971">false</span><span class="op" id="2388976">,</span>&nbsp;<span class="builtintype" id="2388978">false</span><span class="op" id="2388983">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388986">s</span>&nbsp;<span class="op" id="2388988">:=</span>&nbsp;<span class="builtintype" id="2388991">string</span><span class="op" id="2388997">(</span><span class="ident" id="2388998">p</span><span class="op" id="2388999">.</span><span class="ident" id="2389000">buf</span><span class="op" id="2389003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2389006">p</span><span class="op" id="2389007">.</span><span class="ident" id="2389008">free</span><span class="op" id="2389012">(</span><span class="op" id="2389013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2389016">return</span>&nbsp;<span class="ident" id="2389023">s</span><br>
<span class="lineno"></span><span class="op" id="2389025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2389028">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2389088">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2389145">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2389173">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2389253">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2389324">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2389399">func</span>&nbsp;<span class="ident" id="2389404">Fprintln</span><span class="op" id="2389412">(</span><span class="ident" id="2389413">w</span>&nbsp;<span class="ident" id="2389415">io</span><span class="op" id="2389417">.</span><span class="ident" id="2389418">Writer</span><span class="op" id="2389424">,</span>&nbsp;<span class="ident" id="2389426">a</span>&nbsp;<span class="op" id="2389428">...</span><span class="keyword" id="2389431">interface</span><span class="op" id="2389440">{</span><span class="op" id="2389441">}</span><span class="op" id="2389442">)</span>&nbsp;<span class="op" id="2389444">(</span><span class="ident" id="2389445">n</span>&nbsp;<span class="builtintype" id="2389447">int</span><span class="op" id="2389450">,</span>&nbsp;<span class="ident" id="2389452">err</span>&nbsp;<span class="builtintype" id="2389456">error</span><span class="op" id="2389461">)</span>&nbsp;<span class="op" id="2389463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2389466">p</span>&nbsp;<span class="op" id="2389468">:=</span>&nbsp;<span class="ident" id="2389471">newPrinter</span><span class="op" id="2389481">(</span><span class="op" id="2389482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2389485">p</span><span class="op" id="2389486">.</span><span class="ident" id="2389487">doPrint</span><span class="op" id="2389494">(</span><span class="ident" id="2389495">a</span><span class="op" id="2389496">,</span>&nbsp;<span class="builtintype" id="2389498">true</span><span class="op" id="2389502">,</span>&nbsp;<span class="builtintype" id="2389504">true</span><span class="op" id="2389508">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2389511">n</span><span class="op" id="2389512">,</span>&nbsp;<span class="ident" id="2389514">err</span>&nbsp;<span class="op" id="2389518">=</span>&nbsp;<span class="ident" id="2389520">w</span><span class="op" id="2389521">.</span><span class="ident" id="2389522">Write</span><span class="op" id="2389527">(</span><span class="ident" id="2389528">p</span><span class="op" id="2389529">.</span><span class="ident" id="2389530">buf</span><span class="op" id="2389533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2389536">p</span><span class="op" id="2389537">.</span><span class="ident" id="2389538">free</span><span class="op" id="2389542">(</span><span class="op" id="2389543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2389546">return</span><br>
<span class="lineno"></span><span class="op" id="2389553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2389556">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2389649">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2389720">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2389795">func</span>&nbsp;<span class="ident" id="2389800">Println</span><span class="op" id="2389807">(</span><span class="ident" id="2389808">a</span>&nbsp;<span class="op" id="2389810">...</span><span class="keyword" id="2389813">interface</span><span class="op" id="2389822">{</span><span class="op" id="2389823">}</span><span class="op" id="2389824">)</span>&nbsp;<span class="op" id="2389826">(</span><span class="ident" id="2389827">n</span>&nbsp;<span class="builtintype" id="2389829">int</span><span class="op" id="2389832">,</span>&nbsp;<span class="ident" id="2389834">err</span>&nbsp;<span class="builtintype" id="2389838">error</span><span class="op" id="2389843">)</span>&nbsp;<span class="op" id="2389845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2389848">return</span>&nbsp;<span class="ident" id="2389855">Fprintln</span><span class="op" id="2389863">(</span><span class="ident" id="2389864">os</span><span class="op" id="2389866">.</span><span class="ident" id="2389867">Stdout</span><span class="op" id="2389873">,</span>&nbsp;<span class="ident" id="2389875">a</span><span class="op" id="2389876">...</span><span class="op" id="2389879">)</span><br>
<span class="lineno">265</span><span class="op" id="2389881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2389884">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2389981">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2390052">func</span>&nbsp;<span class="ident" id="2390057">Sprintln</span><span class="op" id="2390065">(</span><span class="ident" id="2390066">a</span>&nbsp;<span class="op" id="2390068">...</span><span class="keyword" id="2390071">interface</span><span class="op" id="2390080">{</span><span class="op" id="2390081">}</span><span class="op" id="2390082">)</span>&nbsp;<span class="builtintype" id="2390084">string</span>&nbsp;<span class="op" id="2390091">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390094">p</span>&nbsp;<span class="op" id="2390096">:=</span>&nbsp;<span class="ident" id="2390099">newPrinter</span><span class="op" id="2390109">(</span><span class="op" id="2390110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390113">p</span><span class="op" id="2390114">.</span><span class="ident" id="2390115">doPrint</span><span class="op" id="2390122">(</span><span class="ident" id="2390123">a</span><span class="op" id="2390124">,</span>&nbsp;<span class="builtintype" id="2390126">true</span><span class="op" id="2390130">,</span>&nbsp;<span class="builtintype" id="2390132">true</span><span class="op" id="2390136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390139">s</span>&nbsp;<span class="op" id="2390141">:=</span>&nbsp;<span class="builtintype" id="2390144">string</span><span class="op" id="2390150">(</span><span class="ident" id="2390151">p</span><span class="op" id="2390152">.</span><span class="ident" id="2390153">buf</span><span class="op" id="2390156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390159">p</span><span class="op" id="2390160">.</span><span class="ident" id="2390161">free</span><span class="op" id="2390165">(</span><span class="op" id="2390166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390169">return</span>&nbsp;<span class="ident" id="2390176">s</span><br>
<span class="lineno">275</span><span class="op" id="2390178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2390181">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2390234">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2390296">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2390357">func</span>&nbsp;<span class="ident" id="2390362">getField</span><span class="op" id="2390370">(</span><span class="ident" id="2390371">v</span>&nbsp;<span class="ident" id="2390373">reflect</span><span class="op" id="2390380">.</span><span class="ident" id="2390381">Value</span><span class="op" id="2390386">,</span>&nbsp;<span class="ident" id="2390388">i</span>&nbsp;<span class="builtintype" id="2390390">int</span><span class="op" id="2390393">)</span>&nbsp;<span class="ident" id="2390395">reflect</span><span class="op" id="2390402">.</span><span class="ident" id="2390403">Value</span>&nbsp;<span class="op" id="2390409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390412">val</span>&nbsp;<span class="op" id="2390416">:=</span>&nbsp;<span class="ident" id="2390419">v</span><span class="op" id="2390420">.</span><span class="ident" id="2390421">Field</span><span class="op" id="2390426">(</span><span class="ident" id="2390427">i</span><span class="op" id="2390428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390431">if</span>&nbsp;<span class="ident" id="2390434">val</span><span class="op" id="2390437">.</span><span class="ident" id="2390438">Kind</span><span class="op" id="2390442">(</span><span class="op" id="2390443">)</span>&nbsp;<span class="op" id="2390445">==</span>&nbsp;<span class="ident" id="2390448">reflect</span><span class="op" id="2390455">.</span><span class="ident" id="2390456">Interface</span>&nbsp;<span class="op" id="2390466">&amp;&amp;</span>&nbsp;<span class="op" id="2390469">!</span><span class="ident" id="2390470">val</span><span class="op" id="2390473">.</span><span class="ident" id="2390474">IsNil</span><span class="op" id="2390479">(</span><span class="op" id="2390480">)</span>&nbsp;<span class="op" id="2390482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390486">val</span>&nbsp;<span class="op" id="2390490">=</span>&nbsp;<span class="ident" id="2390492">val</span><span class="op" id="2390495">.</span><span class="ident" id="2390496">Elem</span><span class="op" id="2390500">(</span><span class="op" id="2390501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2390504">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390507">return</span>&nbsp;<span class="ident" id="2390514">val</span><br>
<span class="lineno"></span><span class="op" id="2390518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2390521">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2390613">func</span>&nbsp;<span class="ident" id="2390618">parsenum</span><span class="op" id="2390626">(</span><span class="ident" id="2390627">s</span>&nbsp;<span class="builtintype" id="2390629">string</span><span class="op" id="2390635">,</span>&nbsp;<span class="ident" id="2390637">start</span><span class="op" id="2390642">,</span>&nbsp;<span class="ident" id="2390644">end</span>&nbsp;<span class="builtintype" id="2390648">int</span><span class="op" id="2390651">)</span>&nbsp;<span class="op" id="2390653">(</span><span class="ident" id="2390654">num</span>&nbsp;<span class="builtintype" id="2390658">int</span><span class="op" id="2390661">,</span>&nbsp;<span class="ident" id="2390663">isnum</span>&nbsp;<span class="builtintype" id="2390669">bool</span><span class="op" id="2390673">,</span>&nbsp;<span class="ident" id="2390675">newi</span>&nbsp;<span class="builtintype" id="2390680">int</span><span class="op" id="2390683">)</span>&nbsp;<span class="op" id="2390685">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390688">if</span>&nbsp;<span class="ident" id="2390691">start</span>&nbsp;<span class="op" id="2390697">&gt;=</span>&nbsp;<span class="ident" id="2390700">end</span>&nbsp;<span class="op" id="2390704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390708">return</span>&nbsp;<span class="num" id="2390715">0</span><span class="op" id="2390716">,</span>&nbsp;<span class="builtintype" id="2390718">false</span><span class="op" id="2390723">,</span>&nbsp;<span class="ident" id="2390725">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2390730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390733">for</span>&nbsp;<span class="ident" id="2390737">newi</span>&nbsp;<span class="op" id="2390742">=</span>&nbsp;<span class="ident" id="2390744">start</span><span class="op" id="2390749">;</span>&nbsp;<span class="ident" id="2390751">newi</span>&nbsp;<span class="op" id="2390756">&lt;</span>&nbsp;<span class="ident" id="2390758">end</span>&nbsp;<span class="op" id="2390762">&amp;&amp;</span>&nbsp;<span class="string" id="2390765">&#39;0&#39;</span>&nbsp;<span class="op" id="2390769">&lt;=</span>&nbsp;<span class="ident" id="2390772">s</span><span class="op" id="2390773">[</span><span class="ident" id="2390774">newi</span><span class="op" id="2390778">]</span>&nbsp;<span class="op" id="2390780">&amp;&amp;</span>&nbsp;<span class="ident" id="2390783">s</span><span class="op" id="2390784">[</span><span class="ident" id="2390785">newi</span><span class="op" id="2390789">]</span>&nbsp;<span class="op" id="2390791">&lt;=</span>&nbsp;<span class="string" id="2390794">&#39;9&#39;</span><span class="op" id="2390797">;</span>&nbsp;<span class="ident" id="2390799">newi</span><span class="op" id="2390803">++</span>&nbsp;<span class="op" id="2390806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390810">num</span>&nbsp;<span class="op" id="2390814">=</span>&nbsp;<span class="ident" id="2390816">num</span><span class="op" id="2390819">*</span><span class="num" id="2390820">10</span>&nbsp;<span class="op" id="2390823">+</span>&nbsp;<span class="builtintype" id="2390825">int</span><span class="op" id="2390828">(</span><span class="ident" id="2390829">s</span><span class="op" id="2390830">[</span><span class="ident" id="2390831">newi</span><span class="op" id="2390835">]</span><span class="op" id="2390836">-</span><span class="string" id="2390837">&#39;0&#39;</span><span class="op" id="2390840">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390844">isnum</span>&nbsp;<span class="op" id="2390850">=</span>&nbsp;<span class="builtintype" id="2390852">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2390858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390861">return</span><br>
<span class="lineno"></span><span class="op" id="2390868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2390871">func</span>&nbsp;<span class="op" id="2390876">(</span><span class="ident" id="2390877">p</span>&nbsp;<span class="op" id="2390879">*</span><span class="ident" id="2390880">pp</span><span class="op" id="2390882">)</span>&nbsp;<span class="ident" id="2390884">unknownType</span><span class="op" id="2390895">(</span><span class="ident" id="2390896">v</span>&nbsp;<span class="ident" id="2390898">reflect</span><span class="op" id="2390905">.</span><span class="ident" id="2390906">Value</span><span class="op" id="2390911">)</span>&nbsp;<span class="op" id="2390913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390916">if</span>&nbsp;<span class="op" id="2390919">!</span><span class="ident" id="2390920">v</span><span class="op" id="2390921">.</span><span class="ident" id="2390922">IsValid</span><span class="op" id="2390929">(</span><span class="op" id="2390930">)</span>&nbsp;<span class="op" id="2390932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390936">p</span><span class="op" id="2390937">.</span><span class="ident" id="2390938">buf</span><span class="op" id="2390941">.</span><span class="ident" id="2390942">Write</span><span class="op" id="2390947">(</span><span class="ident" id="2390948">nilAngleBytes</span><span class="op" id="2390961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2390965">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2390973">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390976">p</span><span class="op" id="2390977">.</span><span class="ident" id="2390978">buf</span><span class="op" id="2390981">.</span><span class="ident" id="2390982">WriteByte</span><span class="op" id="2390991">(</span><span class="string" id="2390992">&#39;?&#39;</span><span class="op" id="2390995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2390998">p</span><span class="op" id="2390999">.</span><span class="ident" id="2391000">buf</span><span class="op" id="2391003">.</span><span class="ident" id="2391004">WriteString</span><span class="op" id="2391015">(</span><span class="ident" id="2391016">v</span><span class="op" id="2391017">.</span><span class="ident" id="2391018">Type</span><span class="op" id="2391022">(</span><span class="op" id="2391023">)</span><span class="op" id="2391024">.</span><span class="ident" id="2391025">String</span><span class="op" id="2391031">(</span><span class="op" id="2391032">)</span><span class="op" id="2391033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391036">p</span><span class="op" id="2391037">.</span><span class="ident" id="2391038">buf</span><span class="op" id="2391041">.</span><span class="ident" id="2391042">WriteByte</span><span class="op" id="2391051">(</span><span class="string" id="2391052">&#39;?&#39;</span><span class="op" id="2391055">)</span><br>
<span class="lineno"></span><span class="op" id="2391057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2391060">func</span>&nbsp;<span class="op" id="2391065">(</span><span class="ident" id="2391066">p</span>&nbsp;<span class="op" id="2391068">*</span><span class="ident" id="2391069">pp</span><span class="op" id="2391071">)</span>&nbsp;<span class="ident" id="2391073">badVerb</span><span class="op" id="2391080">(</span><span class="ident" id="2391081">verb</span>&nbsp;<span class="builtintype" id="2391086">rune</span><span class="op" id="2391090">)</span>&nbsp;<span class="op" id="2391092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391095">p</span><span class="op" id="2391096">.</span><span class="ident" id="2391097">erroring</span>&nbsp;<span class="op" id="2391106">=</span>&nbsp;<span class="builtintype" id="2391108">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391114">p</span><span class="op" id="2391115">.</span><span class="ident" id="2391116">add</span><span class="op" id="2391119">(</span><span class="string" id="2391120">&#39;%&#39;</span><span class="op" id="2391123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391126">p</span><span class="op" id="2391127">.</span><span class="ident" id="2391128">add</span><span class="op" id="2391131">(</span><span class="string" id="2391132">&#39;!&#39;</span><span class="op" id="2391135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391138">p</span><span class="op" id="2391139">.</span><span class="ident" id="2391140">add</span><span class="op" id="2391143">(</span><span class="ident" id="2391144">verb</span><span class="op" id="2391148">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391151">p</span><span class="op" id="2391152">.</span><span class="ident" id="2391153">add</span><span class="op" id="2391156">(</span><span class="string" id="2391157">&#39;(&#39;</span><span class="op" id="2391160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391163">switch</span>&nbsp;<span class="op" id="2391170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391173">case</span>&nbsp;<span class="ident" id="2391178">p</span><span class="op" id="2391179">.</span><span class="ident" id="2391180">arg</span>&nbsp;<span class="op" id="2391184">!=</span>&nbsp;<span class="ident" id="2391187">nil</span><span class="op" id="2391190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391194">p</span><span class="op" id="2391195">.</span><span class="ident" id="2391196">buf</span><span class="op" id="2391199">.</span><span class="ident" id="2391200">WriteString</span><span class="op" id="2391211">(</span><span class="ident" id="2391212">reflect</span><span class="op" id="2391219">.</span><span class="ident" id="2391220">TypeOf</span><span class="op" id="2391226">(</span><span class="ident" id="2391227">p</span><span class="op" id="2391228">.</span><span class="ident" id="2391229">arg</span><span class="op" id="2391232">)</span><span class="op" id="2391233">.</span><span class="ident" id="2391234">String</span><span class="op" id="2391240">(</span><span class="op" id="2391241">)</span><span class="op" id="2391242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391246">p</span><span class="op" id="2391247">.</span><span class="ident" id="2391248">add</span><span class="op" id="2391251">(</span><span class="string" id="2391252">&#39;=&#39;</span><span class="op" id="2391255">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391259">p</span><span class="op" id="2391260">.</span><span class="ident" id="2391261">printArg</span><span class="op" id="2391269">(</span><span class="ident" id="2391270">p</span><span class="op" id="2391271">.</span><span class="ident" id="2391272">arg</span><span class="op" id="2391275">,</span>&nbsp;<span class="string" id="2391277">&#39;v&#39;</span><span class="op" id="2391280">,</span>&nbsp;<span class="num" id="2391282">0</span><span class="op" id="2391283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391286">case</span>&nbsp;<span class="ident" id="2391291">p</span><span class="op" id="2391292">.</span><span class="ident" id="2391293">value</span><span class="op" id="2391298">.</span><span class="ident" id="2391299">IsValid</span><span class="op" id="2391306">(</span><span class="op" id="2391307">)</span><span class="op" id="2391308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391312">p</span><span class="op" id="2391313">.</span><span class="ident" id="2391314">buf</span><span class="op" id="2391317">.</span><span class="ident" id="2391318">WriteString</span><span class="op" id="2391329">(</span><span class="ident" id="2391330">p</span><span class="op" id="2391331">.</span><span class="ident" id="2391332">value</span><span class="op" id="2391337">.</span><span class="ident" id="2391338">Type</span><span class="op" id="2391342">(</span><span class="op" id="2391343">)</span><span class="op" id="2391344">.</span><span class="ident" id="2391345">String</span><span class="op" id="2391351">(</span><span class="op" id="2391352">)</span><span class="op" id="2391353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391357">p</span><span class="op" id="2391358">.</span><span class="ident" id="2391359">add</span><span class="op" id="2391362">(</span><span class="string" id="2391363">&#39;=&#39;</span><span class="op" id="2391366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391370">p</span><span class="op" id="2391371">.</span><span class="ident" id="2391372">printValue</span><span class="op" id="2391382">(</span><span class="ident" id="2391383">p</span><span class="op" id="2391384">.</span><span class="ident" id="2391385">value</span><span class="op" id="2391390">,</span>&nbsp;<span class="string" id="2391392">&#39;v&#39;</span><span class="op" id="2391395">,</span>&nbsp;<span class="num" id="2391397">0</span><span class="op" id="2391398">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391401">default</span><span class="op" id="2391408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391412">p</span><span class="op" id="2391413">.</span><span class="ident" id="2391414">buf</span><span class="op" id="2391417">.</span><span class="ident" id="2391418">Write</span><span class="op" id="2391423">(</span><span class="ident" id="2391424">nilAngleBytes</span><span class="op" id="2391437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2391440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391443">p</span><span class="op" id="2391444">.</span><span class="ident" id="2391445">add</span><span class="op" id="2391448">(</span><span class="string" id="2391449">&#39;)&#39;</span><span class="op" id="2391452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391455">p</span><span class="op" id="2391456">.</span><span class="ident" id="2391457">erroring</span>&nbsp;<span class="op" id="2391466">=</span>&nbsp;<span class="builtintype" id="2391468">false</span><br>
<span class="lineno">330</span><span class="op" id="2391474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2391477">func</span>&nbsp;<span class="op" id="2391482">(</span><span class="ident" id="2391483">p</span>&nbsp;<span class="op" id="2391485">*</span><span class="ident" id="2391486">pp</span><span class="op" id="2391488">)</span>&nbsp;<span class="ident" id="2391490">fmtBool</span><span class="op" id="2391497">(</span><span class="ident" id="2391498">v</span>&nbsp;<span class="builtintype" id="2391500">bool</span><span class="op" id="2391504">,</span>&nbsp;<span class="ident" id="2391506">verb</span>&nbsp;<span class="builtintype" id="2391511">rune</span><span class="op" id="2391515">)</span>&nbsp;<span class="op" id="2391517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391520">switch</span>&nbsp;<span class="ident" id="2391527">verb</span>&nbsp;<span class="op" id="2391532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391535">case</span>&nbsp;<span class="string" id="2391540">&#39;t&#39;</span><span class="op" id="2391543">,</span>&nbsp;<span class="string" id="2391545">&#39;v&#39;</span><span class="op" id="2391548">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391552">p</span><span class="op" id="2391553">.</span><span class="ident" id="2391554">fmt</span><span class="op" id="2391557">.</span><span class="ident" id="2391558">fmt_boolean</span><span class="op" id="2391569">(</span><span class="ident" id="2391570">v</span><span class="op" id="2391571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391574">default</span><span class="op" id="2391581">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391585">p</span><span class="op" id="2391586">.</span><span class="ident" id="2391587">badVerb</span><span class="op" id="2391594">(</span><span class="ident" id="2391595">verb</span><span class="op" id="2391599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2391602">}</span><br>
<span class="lineno"></span><span class="op" id="2391604">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2391607">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2391650">func</span>&nbsp;<span class="op" id="2391655">(</span><span class="ident" id="2391656">p</span>&nbsp;<span class="op" id="2391658">*</span><span class="ident" id="2391659">pp</span><span class="op" id="2391661">)</span>&nbsp;<span class="ident" id="2391663">fmtC</span><span class="op" id="2391667">(</span><span class="ident" id="2391668">c</span>&nbsp;<span class="ident" id="2391670">int64</span><span class="op" id="2391675">)</span>&nbsp;<span class="op" id="2391677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391680">r</span>&nbsp;<span class="op" id="2391682">:=</span>&nbsp;<span class="builtintype" id="2391685">rune</span><span class="op" id="2391689">(</span><span class="ident" id="2391690">c</span><span class="op" id="2391691">)</span>&nbsp;<span class="comment" id="2391693">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391717">if</span>&nbsp;<span class="ident" id="2391720">int64</span><span class="op" id="2391725">(</span><span class="ident" id="2391726">r</span><span class="op" id="2391727">)</span>&nbsp;<span class="op" id="2391729">!=</span>&nbsp;<span class="ident" id="2391732">c</span>&nbsp;<span class="op" id="2391734">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391738">r</span>&nbsp;<span class="op" id="2391740">=</span>&nbsp;<span class="ident" id="2391742">utf8</span><span class="op" id="2391746">.</span><span class="ident" id="2391747">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2391758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391761">w</span>&nbsp;<span class="op" id="2391763">:=</span>&nbsp;<span class="ident" id="2391766">utf8</span><span class="op" id="2391770">.</span><span class="ident" id="2391771">EncodeRune</span><span class="op" id="2391781">(</span><span class="ident" id="2391782">p</span><span class="op" id="2391783">.</span><span class="ident" id="2391784">runeBuf</span><span class="op" id="2391791">[</span><span class="num" id="2391792">0</span><span class="op" id="2391793">:</span><span class="ident" id="2391794">utf8</span><span class="op" id="2391798">.</span><span class="ident" id="2391799">UTFMax</span><span class="op" id="2391805">]</span><span class="op" id="2391806">,</span>&nbsp;<span class="ident" id="2391808">r</span><span class="op" id="2391809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391812">p</span><span class="op" id="2391813">.</span><span class="ident" id="2391814">fmt</span><span class="op" id="2391817">.</span><span class="ident" id="2391818">pad</span><span class="op" id="2391821">(</span><span class="ident" id="2391822">p</span><span class="op" id="2391823">.</span><span class="ident" id="2391824">runeBuf</span><span class="op" id="2391831">[</span><span class="num" id="2391832">0</span><span class="op" id="2391833">:</span><span class="ident" id="2391834">w</span><span class="op" id="2391835">]</span><span class="op" id="2391836">)</span><br>
<span class="lineno"></span><span class="op" id="2391838">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2391841">func</span>&nbsp;<span class="op" id="2391846">(</span><span class="ident" id="2391847">p</span>&nbsp;<span class="op" id="2391849">*</span><span class="ident" id="2391850">pp</span><span class="op" id="2391852">)</span>&nbsp;<span class="ident" id="2391854">fmtInt64</span><span class="op" id="2391862">(</span><span class="ident" id="2391863">v</span>&nbsp;<span class="ident" id="2391865">int64</span><span class="op" id="2391870">,</span>&nbsp;<span class="ident" id="2391872">verb</span>&nbsp;<span class="builtintype" id="2391877">rune</span><span class="op" id="2391881">)</span>&nbsp;<span class="op" id="2391883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391886">switch</span>&nbsp;<span class="ident" id="2391893">verb</span>&nbsp;<span class="op" id="2391898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391901">case</span>&nbsp;<span class="string" id="2391906">&#39;b&#39;</span><span class="op" id="2391909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391913">p</span><span class="op" id="2391914">.</span><span class="ident" id="2391915">fmt</span><span class="op" id="2391918">.</span><span class="ident" id="2391919">integer</span><span class="op" id="2391926">(</span><span class="ident" id="2391927">v</span><span class="op" id="2391928">,</span>&nbsp;<span class="num" id="2391930">2</span><span class="op" id="2391931">,</span>&nbsp;<span class="ident" id="2391933">signed</span><span class="op" id="2391939">,</span>&nbsp;<span class="ident" id="2391941">ldigits</span><span class="op" id="2391948">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391951">case</span>&nbsp;<span class="string" id="2391956">&#39;c&#39;</span><span class="op" id="2391959">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391963">p</span><span class="op" id="2391964">.</span><span class="ident" id="2391965">fmtC</span><span class="op" id="2391969">(</span><span class="ident" id="2391970">v</span><span class="op" id="2391971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2391974">case</span>&nbsp;<span class="string" id="2391979">&#39;d&#39;</span><span class="op" id="2391982">,</span>&nbsp;<span class="string" id="2391984">&#39;v&#39;</span><span class="op" id="2391987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2391991">p</span><span class="op" id="2391992">.</span><span class="ident" id="2391993">fmt</span><span class="op" id="2391996">.</span><span class="ident" id="2391997">integer</span><span class="op" id="2392004">(</span><span class="ident" id="2392005">v</span><span class="op" id="2392006">,</span>&nbsp;<span class="num" id="2392008">10</span><span class="op" id="2392010">,</span>&nbsp;<span class="ident" id="2392012">signed</span><span class="op" id="2392018">,</span>&nbsp;<span class="ident" id="2392020">ldigits</span><span class="op" id="2392027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392030">case</span>&nbsp;<span class="string" id="2392035">&#39;o&#39;</span><span class="op" id="2392038">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392042">p</span><span class="op" id="2392043">.</span><span class="ident" id="2392044">fmt</span><span class="op" id="2392047">.</span><span class="ident" id="2392048">integer</span><span class="op" id="2392055">(</span><span class="ident" id="2392056">v</span><span class="op" id="2392057">,</span>&nbsp;<span class="num" id="2392059">8</span><span class="op" id="2392060">,</span>&nbsp;<span class="ident" id="2392062">signed</span><span class="op" id="2392068">,</span>&nbsp;<span class="ident" id="2392070">ldigits</span><span class="op" id="2392077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392080">case</span>&nbsp;<span class="string" id="2392085">&#39;q&#39;</span><span class="op" id="2392088">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392092">if</span>&nbsp;<span class="num" id="2392095">0</span>&nbsp;<span class="op" id="2392097">&lt;=</span>&nbsp;<span class="ident" id="2392100">v</span>&nbsp;<span class="op" id="2392102">&amp;&amp;</span>&nbsp;<span class="ident" id="2392105">v</span>&nbsp;<span class="op" id="2392107">&lt;=</span>&nbsp;<span class="ident" id="2392110">utf8</span><span class="op" id="2392114">.</span><span class="ident" id="2392115">MaxRune</span>&nbsp;<span class="op" id="2392123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392128">p</span><span class="op" id="2392129">.</span><span class="ident" id="2392130">fmt</span><span class="op" id="2392133">.</span><span class="ident" id="2392134">fmt_qc</span><span class="op" id="2392140">(</span><span class="ident" id="2392141">v</span><span class="op" id="2392142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2392146">}</span>&nbsp;<span class="keyword" id="2392148">else</span>&nbsp;<span class="op" id="2392153">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392158">p</span><span class="op" id="2392159">.</span><span class="ident" id="2392160">badVerb</span><span class="op" id="2392167">(</span><span class="ident" id="2392168">verb</span><span class="op" id="2392172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2392176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392179">case</span>&nbsp;<span class="string" id="2392184">&#39;x&#39;</span><span class="op" id="2392187">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392191">p</span><span class="op" id="2392192">.</span><span class="ident" id="2392193">fmt</span><span class="op" id="2392196">.</span><span class="ident" id="2392197">integer</span><span class="op" id="2392204">(</span><span class="ident" id="2392205">v</span><span class="op" id="2392206">,</span>&nbsp;<span class="num" id="2392208">16</span><span class="op" id="2392210">,</span>&nbsp;<span class="ident" id="2392212">signed</span><span class="op" id="2392218">,</span>&nbsp;<span class="ident" id="2392220">ldigits</span><span class="op" id="2392227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392230">case</span>&nbsp;<span class="string" id="2392235">&#39;U&#39;</span><span class="op" id="2392238">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392242">p</span><span class="op" id="2392243">.</span><span class="ident" id="2392244">fmtUnicode</span><span class="op" id="2392254">(</span><span class="ident" id="2392255">v</span><span class="op" id="2392256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392259">case</span>&nbsp;<span class="string" id="2392264">&#39;X&#39;</span><span class="op" id="2392267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392271">p</span><span class="op" id="2392272">.</span><span class="ident" id="2392273">fmt</span><span class="op" id="2392276">.</span><span class="ident" id="2392277">integer</span><span class="op" id="2392284">(</span><span class="ident" id="2392285">v</span><span class="op" id="2392286">,</span>&nbsp;<span class="num" id="2392288">16</span><span class="op" id="2392290">,</span>&nbsp;<span class="ident" id="2392292">signed</span><span class="op" id="2392298">,</span>&nbsp;<span class="ident" id="2392300">udigits</span><span class="op" id="2392307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392310">default</span><span class="op" id="2392317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392321">p</span><span class="op" id="2392322">.</span><span class="ident" id="2392323">badVerb</span><span class="op" id="2392330">(</span><span class="ident" id="2392331">verb</span><span class="op" id="2392335">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2392338">}</span><br>
<span class="lineno"></span><span class="op" id="2392340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2392343">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2392413">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2392474">func</span>&nbsp;<span class="op" id="2392479">(</span><span class="ident" id="2392480">p</span>&nbsp;<span class="op" id="2392482">*</span><span class="ident" id="2392483">pp</span><span class="op" id="2392485">)</span>&nbsp;<span class="ident" id="2392487">fmt0x64</span><span class="op" id="2392494">(</span><span class="ident" id="2392495">v</span>&nbsp;<span class="ident" id="2392497">uint64</span><span class="op" id="2392503">,</span>&nbsp;<span class="ident" id="2392505">leading0x</span>&nbsp;<span class="builtintype" id="2392515">bool</span><span class="op" id="2392519">)</span>&nbsp;<span class="op" id="2392521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392524">sharp</span>&nbsp;<span class="op" id="2392530">:=</span>&nbsp;<span class="ident" id="2392533">p</span><span class="op" id="2392534">.</span><span class="ident" id="2392535">fmt</span><span class="op" id="2392538">.</span><span class="ident" id="2392539">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392546">p</span><span class="op" id="2392547">.</span><span class="ident" id="2392548">fmt</span><span class="op" id="2392551">.</span><span class="ident" id="2392552">sharp</span>&nbsp;<span class="op" id="2392558">=</span>&nbsp;<span class="ident" id="2392560">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392571">p</span><span class="op" id="2392572">.</span><span class="ident" id="2392573">fmt</span><span class="op" id="2392576">.</span><span class="ident" id="2392577">integer</span><span class="op" id="2392584">(</span><span class="ident" id="2392585">int64</span><span class="op" id="2392590">(</span><span class="ident" id="2392591">v</span><span class="op" id="2392592">)</span><span class="op" id="2392593">,</span>&nbsp;<span class="num" id="2392595">16</span><span class="op" id="2392597">,</span>&nbsp;<span class="ident" id="2392599">unsigned</span><span class="op" id="2392607">,</span>&nbsp;<span class="ident" id="2392609">ldigits</span><span class="op" id="2392616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392619">p</span><span class="op" id="2392620">.</span><span class="ident" id="2392621">fmt</span><span class="op" id="2392624">.</span><span class="ident" id="2392625">sharp</span>&nbsp;<span class="op" id="2392631">=</span>&nbsp;<span class="ident" id="2392633">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2392639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2392642">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2392691">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2392762">func</span>&nbsp;<span class="op" id="2392767">(</span><span class="ident" id="2392768">p</span>&nbsp;<span class="op" id="2392770">*</span><span class="ident" id="2392771">pp</span><span class="op" id="2392773">)</span>&nbsp;<span class="ident" id="2392775">fmtUnicode</span><span class="op" id="2392785">(</span><span class="ident" id="2392786">v</span>&nbsp;<span class="ident" id="2392788">int64</span><span class="op" id="2392793">)</span>&nbsp;<span class="op" id="2392795">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392798">precPresent</span>&nbsp;<span class="op" id="2392810">:=</span>&nbsp;<span class="ident" id="2392813">p</span><span class="op" id="2392814">.</span><span class="ident" id="2392815">fmt</span><span class="op" id="2392818">.</span><span class="ident" id="2392819">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392832">sharp</span>&nbsp;<span class="op" id="2392838">:=</span>&nbsp;<span class="ident" id="2392841">p</span><span class="op" id="2392842">.</span><span class="ident" id="2392843">fmt</span><span class="op" id="2392846">.</span><span class="ident" id="2392847">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392854">p</span><span class="op" id="2392855">.</span><span class="ident" id="2392856">fmt</span><span class="op" id="2392859">.</span><span class="ident" id="2392860">sharp</span>&nbsp;<span class="op" id="2392866">=</span>&nbsp;<span class="builtintype" id="2392868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392875">prec</span>&nbsp;<span class="op" id="2392880">:=</span>&nbsp;<span class="ident" id="2392883">p</span><span class="op" id="2392884">.</span><span class="ident" id="2392885">fmt</span><span class="op" id="2392888">.</span><span class="ident" id="2392889">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2392895">if</span>&nbsp;<span class="op" id="2392898">!</span><span class="ident" id="2392899">precPresent</span>&nbsp;<span class="op" id="2392911">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2392915">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392984">p</span><span class="op" id="2392985">.</span><span class="ident" id="2392986">fmt</span><span class="op" id="2392989">.</span><span class="ident" id="2392990">prec</span>&nbsp;<span class="op" id="2392995">=</span>&nbsp;<span class="num" id="2392997">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393001">p</span><span class="op" id="2393002">.</span><span class="ident" id="2393003">fmt</span><span class="op" id="2393006">.</span><span class="ident" id="2393007">precPresent</span>&nbsp;<span class="op" id="2393019">=</span>&nbsp;<span class="builtintype" id="2393021">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393030">p</span><span class="op" id="2393031">.</span><span class="ident" id="2393032">fmt</span><span class="op" id="2393035">.</span><span class="ident" id="2393036">unicode</span>&nbsp;<span class="op" id="2393044">=</span>&nbsp;<span class="builtintype" id="2393046">true</span>&nbsp;<span class="comment" id="2393051">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393066">p</span><span class="op" id="2393067">.</span><span class="ident" id="2393068">fmt</span><span class="op" id="2393071">.</span><span class="ident" id="2393072">uniQuote</span>&nbsp;<span class="op" id="2393081">=</span>&nbsp;<span class="ident" id="2393083">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393090">p</span><span class="op" id="2393091">.</span><span class="ident" id="2393092">fmt</span><span class="op" id="2393095">.</span><span class="ident" id="2393096">integer</span><span class="op" id="2393103">(</span><span class="ident" id="2393104">int64</span><span class="op" id="2393109">(</span><span class="ident" id="2393110">v</span><span class="op" id="2393111">)</span><span class="op" id="2393112">,</span>&nbsp;<span class="num" id="2393114">16</span><span class="op" id="2393116">,</span>&nbsp;<span class="ident" id="2393118">unsigned</span><span class="op" id="2393126">,</span>&nbsp;<span class="ident" id="2393128">udigits</span><span class="op" id="2393135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393138">p</span><span class="op" id="2393139">.</span><span class="ident" id="2393140">fmt</span><span class="op" id="2393143">.</span><span class="ident" id="2393144">unicode</span>&nbsp;<span class="op" id="2393152">=</span>&nbsp;<span class="builtintype" id="2393154">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393161">p</span><span class="op" id="2393162">.</span><span class="ident" id="2393163">fmt</span><span class="op" id="2393166">.</span><span class="ident" id="2393167">uniQuote</span>&nbsp;<span class="op" id="2393176">=</span>&nbsp;<span class="builtintype" id="2393178">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393185">p</span><span class="op" id="2393186">.</span><span class="ident" id="2393187">fmt</span><span class="op" id="2393190">.</span><span class="ident" id="2393191">prec</span>&nbsp;<span class="op" id="2393196">=</span>&nbsp;<span class="ident" id="2393198">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393204">p</span><span class="op" id="2393205">.</span><span class="ident" id="2393206">fmt</span><span class="op" id="2393209">.</span><span class="ident" id="2393210">precPresent</span>&nbsp;<span class="op" id="2393222">=</span>&nbsp;<span class="ident" id="2393224">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393237">p</span><span class="op" id="2393238">.</span><span class="ident" id="2393239">fmt</span><span class="op" id="2393242">.</span><span class="ident" id="2393243">sharp</span>&nbsp;<span class="op" id="2393249">=</span>&nbsp;<span class="ident" id="2393251">sharp</span><br>
<span class="lineno"></span><span class="op" id="2393257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2393260">func</span>&nbsp;<span class="op" id="2393265">(</span><span class="ident" id="2393266">p</span>&nbsp;<span class="op" id="2393268">*</span><span class="ident" id="2393269">pp</span><span class="op" id="2393271">)</span>&nbsp;<span class="ident" id="2393273">fmtUint64</span><span class="op" id="2393282">(</span><span class="ident" id="2393283">v</span>&nbsp;<span class="ident" id="2393285">uint64</span><span class="op" id="2393291">,</span>&nbsp;<span class="ident" id="2393293">verb</span>&nbsp;<span class="builtintype" id="2393298">rune</span><span class="op" id="2393302">)</span>&nbsp;<span class="op" id="2393304">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393307">switch</span>&nbsp;<span class="ident" id="2393314">verb</span>&nbsp;<span class="op" id="2393319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393322">case</span>&nbsp;<span class="string" id="2393327">&#39;b&#39;</span><span class="op" id="2393330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393334">p</span><span class="op" id="2393335">.</span><span class="ident" id="2393336">fmt</span><span class="op" id="2393339">.</span><span class="ident" id="2393340">integer</span><span class="op" id="2393347">(</span><span class="ident" id="2393348">int64</span><span class="op" id="2393353">(</span><span class="ident" id="2393354">v</span><span class="op" id="2393355">)</span><span class="op" id="2393356">,</span>&nbsp;<span class="num" id="2393358">2</span><span class="op" id="2393359">,</span>&nbsp;<span class="ident" id="2393361">unsigned</span><span class="op" id="2393369">,</span>&nbsp;<span class="ident" id="2393371">ldigits</span><span class="op" id="2393378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393381">case</span>&nbsp;<span class="string" id="2393386">&#39;c&#39;</span><span class="op" id="2393389">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393393">p</span><span class="op" id="2393394">.</span><span class="ident" id="2393395">fmtC</span><span class="op" id="2393399">(</span><span class="ident" id="2393400">int64</span><span class="op" id="2393405">(</span><span class="ident" id="2393406">v</span><span class="op" id="2393407">)</span><span class="op" id="2393408">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393411">case</span>&nbsp;<span class="string" id="2393416">&#39;d&#39;</span><span class="op" id="2393419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393423">p</span><span class="op" id="2393424">.</span><span class="ident" id="2393425">fmt</span><span class="op" id="2393428">.</span><span class="ident" id="2393429">integer</span><span class="op" id="2393436">(</span><span class="ident" id="2393437">int64</span><span class="op" id="2393442">(</span><span class="ident" id="2393443">v</span><span class="op" id="2393444">)</span><span class="op" id="2393445">,</span>&nbsp;<span class="num" id="2393447">10</span><span class="op" id="2393449">,</span>&nbsp;<span class="ident" id="2393451">unsigned</span><span class="op" id="2393459">,</span>&nbsp;<span class="ident" id="2393461">ldigits</span><span class="op" id="2393468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393471">case</span>&nbsp;<span class="string" id="2393476">&#39;v&#39;</span><span class="op" id="2393479">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393483">if</span>&nbsp;<span class="ident" id="2393486">p</span><span class="op" id="2393487">.</span><span class="ident" id="2393488">fmt</span><span class="op" id="2393491">.</span><span class="ident" id="2393492">sharpV</span>&nbsp;<span class="op" id="2393499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393504">p</span><span class="op" id="2393505">.</span><span class="ident" id="2393506">fmt0x64</span><span class="op" id="2393513">(</span><span class="ident" id="2393514">v</span><span class="op" id="2393515">,</span>&nbsp;<span class="builtintype" id="2393517">true</span><span class="op" id="2393521">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393525">}</span>&nbsp;<span class="keyword" id="2393527">else</span>&nbsp;<span class="op" id="2393532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393537">p</span><span class="op" id="2393538">.</span><span class="ident" id="2393539">fmt</span><span class="op" id="2393542">.</span><span class="ident" id="2393543">integer</span><span class="op" id="2393550">(</span><span class="ident" id="2393551">int64</span><span class="op" id="2393556">(</span><span class="ident" id="2393557">v</span><span class="op" id="2393558">)</span><span class="op" id="2393559">,</span>&nbsp;<span class="num" id="2393561">10</span><span class="op" id="2393563">,</span>&nbsp;<span class="ident" id="2393565">unsigned</span><span class="op" id="2393573">,</span>&nbsp;<span class="ident" id="2393575">ldigits</span><span class="op" id="2393582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393589">case</span>&nbsp;<span class="string" id="2393594">&#39;o&#39;</span><span class="op" id="2393597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393601">p</span><span class="op" id="2393602">.</span><span class="ident" id="2393603">fmt</span><span class="op" id="2393606">.</span><span class="ident" id="2393607">integer</span><span class="op" id="2393614">(</span><span class="ident" id="2393615">int64</span><span class="op" id="2393620">(</span><span class="ident" id="2393621">v</span><span class="op" id="2393622">)</span><span class="op" id="2393623">,</span>&nbsp;<span class="num" id="2393625">8</span><span class="op" id="2393626">,</span>&nbsp;<span class="ident" id="2393628">unsigned</span><span class="op" id="2393636">,</span>&nbsp;<span class="ident" id="2393638">ldigits</span><span class="op" id="2393645">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393648">case</span>&nbsp;<span class="string" id="2393653">&#39;q&#39;</span><span class="op" id="2393656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393660">if</span>&nbsp;<span class="num" id="2393663">0</span>&nbsp;<span class="op" id="2393665">&lt;=</span>&nbsp;<span class="ident" id="2393668">v</span>&nbsp;<span class="op" id="2393670">&amp;&amp;</span>&nbsp;<span class="ident" id="2393673">v</span>&nbsp;<span class="op" id="2393675">&lt;=</span>&nbsp;<span class="ident" id="2393678">utf8</span><span class="op" id="2393682">.</span><span class="ident" id="2393683">MaxRune</span>&nbsp;<span class="op" id="2393691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393696">p</span><span class="op" id="2393697">.</span><span class="ident" id="2393698">fmt</span><span class="op" id="2393701">.</span><span class="ident" id="2393702">fmt_qc</span><span class="op" id="2393708">(</span><span class="ident" id="2393709">int64</span><span class="op" id="2393714">(</span><span class="ident" id="2393715">v</span><span class="op" id="2393716">)</span><span class="op" id="2393717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393721">}</span>&nbsp;<span class="keyword" id="2393723">else</span>&nbsp;<span class="op" id="2393728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393733">p</span><span class="op" id="2393734">.</span><span class="ident" id="2393735">badVerb</span><span class="op" id="2393742">(</span><span class="ident" id="2393743">verb</span><span class="op" id="2393747">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393754">case</span>&nbsp;<span class="string" id="2393759">&#39;x&#39;</span><span class="op" id="2393762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393766">p</span><span class="op" id="2393767">.</span><span class="ident" id="2393768">fmt</span><span class="op" id="2393771">.</span><span class="ident" id="2393772">integer</span><span class="op" id="2393779">(</span><span class="ident" id="2393780">int64</span><span class="op" id="2393785">(</span><span class="ident" id="2393786">v</span><span class="op" id="2393787">)</span><span class="op" id="2393788">,</span>&nbsp;<span class="num" id="2393790">16</span><span class="op" id="2393792">,</span>&nbsp;<span class="ident" id="2393794">unsigned</span><span class="op" id="2393802">,</span>&nbsp;<span class="ident" id="2393804">ldigits</span><span class="op" id="2393811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393814">case</span>&nbsp;<span class="string" id="2393819">&#39;X&#39;</span><span class="op" id="2393822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393826">p</span><span class="op" id="2393827">.</span><span class="ident" id="2393828">fmt</span><span class="op" id="2393831">.</span><span class="ident" id="2393832">integer</span><span class="op" id="2393839">(</span><span class="ident" id="2393840">int64</span><span class="op" id="2393845">(</span><span class="ident" id="2393846">v</span><span class="op" id="2393847">)</span><span class="op" id="2393848">,</span>&nbsp;<span class="num" id="2393850">16</span><span class="op" id="2393852">,</span>&nbsp;<span class="ident" id="2393854">unsigned</span><span class="op" id="2393862">,</span>&nbsp;<span class="ident" id="2393864">udigits</span><span class="op" id="2393871">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393874">case</span>&nbsp;<span class="string" id="2393879">&#39;U&#39;</span><span class="op" id="2393882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393886">p</span><span class="op" id="2393887">.</span><span class="ident" id="2393888">fmtUnicode</span><span class="op" id="2393898">(</span><span class="ident" id="2393899">int64</span><span class="op" id="2393904">(</span><span class="ident" id="2393905">v</span><span class="op" id="2393906">)</span><span class="op" id="2393907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393910">default</span><span class="op" id="2393917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393921">p</span><span class="op" id="2393922">.</span><span class="ident" id="2393923">badVerb</span><span class="op" id="2393930">(</span><span class="ident" id="2393931">verb</span><span class="op" id="2393935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2393938">}</span><br>
<span class="lineno">440</span><span class="op" id="2393940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2393943">func</span>&nbsp;<span class="op" id="2393948">(</span><span class="ident" id="2393949">p</span>&nbsp;<span class="op" id="2393951">*</span><span class="ident" id="2393952">pp</span><span class="op" id="2393954">)</span>&nbsp;<span class="ident" id="2393956">fmtFloat32</span><span class="op" id="2393966">(</span><span class="ident" id="2393967">v</span>&nbsp;<span class="builtintype" id="2393969">float32</span><span class="op" id="2393976">,</span>&nbsp;<span class="ident" id="2393978">verb</span>&nbsp;<span class="builtintype" id="2393983">rune</span><span class="op" id="2393987">)</span>&nbsp;<span class="op" id="2393989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2393992">switch</span>&nbsp;<span class="ident" id="2393999">verb</span>&nbsp;<span class="op" id="2394004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394007">case</span>&nbsp;<span class="string" id="2394012">&#39;b&#39;</span><span class="op" id="2394015">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394019">p</span><span class="op" id="2394020">.</span><span class="ident" id="2394021">fmt</span><span class="op" id="2394024">.</span><span class="ident" id="2394025">fmt_fb32</span><span class="op" id="2394033">(</span><span class="ident" id="2394034">v</span><span class="op" id="2394035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394038">case</span>&nbsp;<span class="string" id="2394043">&#39;e&#39;</span><span class="op" id="2394046">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394050">p</span><span class="op" id="2394051">.</span><span class="ident" id="2394052">fmt</span><span class="op" id="2394055">.</span><span class="ident" id="2394056">fmt_e32</span><span class="op" id="2394063">(</span><span class="ident" id="2394064">v</span><span class="op" id="2394065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394068">case</span>&nbsp;<span class="string" id="2394073">&#39;E&#39;</span><span class="op" id="2394076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394080">p</span><span class="op" id="2394081">.</span><span class="ident" id="2394082">fmt</span><span class="op" id="2394085">.</span><span class="ident" id="2394086">fmt_E32</span><span class="op" id="2394093">(</span><span class="ident" id="2394094">v</span><span class="op" id="2394095">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394098">case</span>&nbsp;<span class="string" id="2394103">&#39;f&#39;</span><span class="op" id="2394106">,</span>&nbsp;<span class="string" id="2394108">&#39;F&#39;</span><span class="op" id="2394111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394115">p</span><span class="op" id="2394116">.</span><span class="ident" id="2394117">fmt</span><span class="op" id="2394120">.</span><span class="ident" id="2394121">fmt_f32</span><span class="op" id="2394128">(</span><span class="ident" id="2394129">v</span><span class="op" id="2394130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394133">case</span>&nbsp;<span class="string" id="2394138">&#39;g&#39;</span><span class="op" id="2394141">,</span>&nbsp;<span class="string" id="2394143">&#39;v&#39;</span><span class="op" id="2394146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394150">p</span><span class="op" id="2394151">.</span><span class="ident" id="2394152">fmt</span><span class="op" id="2394155">.</span><span class="ident" id="2394156">fmt_g32</span><span class="op" id="2394163">(</span><span class="ident" id="2394164">v</span><span class="op" id="2394165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394168">case</span>&nbsp;<span class="string" id="2394173">&#39;G&#39;</span><span class="op" id="2394176">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394180">p</span><span class="op" id="2394181">.</span><span class="ident" id="2394182">fmt</span><span class="op" id="2394185">.</span><span class="ident" id="2394186">fmt_G32</span><span class="op" id="2394193">(</span><span class="ident" id="2394194">v</span><span class="op" id="2394195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394198">default</span><span class="op" id="2394205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394209">p</span><span class="op" id="2394210">.</span><span class="ident" id="2394211">badVerb</span><span class="op" id="2394218">(</span><span class="ident" id="2394219">verb</span><span class="op" id="2394223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394226">}</span><br>
<span class="lineno"></span><span class="op" id="2394228">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2394231">func</span>&nbsp;<span class="op" id="2394236">(</span><span class="ident" id="2394237">p</span>&nbsp;<span class="op" id="2394239">*</span><span class="ident" id="2394240">pp</span><span class="op" id="2394242">)</span>&nbsp;<span class="ident" id="2394244">fmtFloat64</span><span class="op" id="2394254">(</span><span class="ident" id="2394255">v</span>&nbsp;<span class="builtintype" id="2394257">float64</span><span class="op" id="2394264">,</span>&nbsp;<span class="ident" id="2394266">verb</span>&nbsp;<span class="builtintype" id="2394271">rune</span><span class="op" id="2394275">)</span>&nbsp;<span class="op" id="2394277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394280">switch</span>&nbsp;<span class="ident" id="2394287">verb</span>&nbsp;<span class="op" id="2394292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394295">case</span>&nbsp;<span class="string" id="2394300">&#39;b&#39;</span><span class="op" id="2394303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394307">p</span><span class="op" id="2394308">.</span><span class="ident" id="2394309">fmt</span><span class="op" id="2394312">.</span><span class="ident" id="2394313">fmt_fb64</span><span class="op" id="2394321">(</span><span class="ident" id="2394322">v</span><span class="op" id="2394323">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394326">case</span>&nbsp;<span class="string" id="2394331">&#39;e&#39;</span><span class="op" id="2394334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394338">p</span><span class="op" id="2394339">.</span><span class="ident" id="2394340">fmt</span><span class="op" id="2394343">.</span><span class="ident" id="2394344">fmt_e64</span><span class="op" id="2394351">(</span><span class="ident" id="2394352">v</span><span class="op" id="2394353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394356">case</span>&nbsp;<span class="string" id="2394361">&#39;E&#39;</span><span class="op" id="2394364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394368">p</span><span class="op" id="2394369">.</span><span class="ident" id="2394370">fmt</span><span class="op" id="2394373">.</span><span class="ident" id="2394374">fmt_E64</span><span class="op" id="2394381">(</span><span class="ident" id="2394382">v</span><span class="op" id="2394383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394386">case</span>&nbsp;<span class="string" id="2394391">&#39;f&#39;</span><span class="op" id="2394394">,</span>&nbsp;<span class="string" id="2394396">&#39;F&#39;</span><span class="op" id="2394399">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394403">p</span><span class="op" id="2394404">.</span><span class="ident" id="2394405">fmt</span><span class="op" id="2394408">.</span><span class="ident" id="2394409">fmt_f64</span><span class="op" id="2394416">(</span><span class="ident" id="2394417">v</span><span class="op" id="2394418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394421">case</span>&nbsp;<span class="string" id="2394426">&#39;g&#39;</span><span class="op" id="2394429">,</span>&nbsp;<span class="string" id="2394431">&#39;v&#39;</span><span class="op" id="2394434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394438">p</span><span class="op" id="2394439">.</span><span class="ident" id="2394440">fmt</span><span class="op" id="2394443">.</span><span class="ident" id="2394444">fmt_g64</span><span class="op" id="2394451">(</span><span class="ident" id="2394452">v</span><span class="op" id="2394453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394456">case</span>&nbsp;<span class="string" id="2394461">&#39;G&#39;</span><span class="op" id="2394464">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394468">p</span><span class="op" id="2394469">.</span><span class="ident" id="2394470">fmt</span><span class="op" id="2394473">.</span><span class="ident" id="2394474">fmt_G64</span><span class="op" id="2394481">(</span><span class="ident" id="2394482">v</span><span class="op" id="2394483">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394486">default</span><span class="op" id="2394493">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394497">p</span><span class="op" id="2394498">.</span><span class="ident" id="2394499">badVerb</span><span class="op" id="2394506">(</span><span class="ident" id="2394507">verb</span><span class="op" id="2394511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394514">}</span><br>
<span class="lineno"></span><span class="op" id="2394516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2394519">func</span>&nbsp;<span class="op" id="2394524">(</span><span class="ident" id="2394525">p</span>&nbsp;<span class="op" id="2394527">*</span><span class="ident" id="2394528">pp</span><span class="op" id="2394530">)</span>&nbsp;<span class="ident" id="2394532">fmtComplex64</span><span class="op" id="2394544">(</span><span class="ident" id="2394545">v</span>&nbsp;<span class="builtintype" id="2394547">complex64</span><span class="op" id="2394556">,</span>&nbsp;<span class="ident" id="2394558">verb</span>&nbsp;<span class="builtintype" id="2394563">rune</span><span class="op" id="2394567">)</span>&nbsp;<span class="op" id="2394569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394572">switch</span>&nbsp;<span class="ident" id="2394579">verb</span>&nbsp;<span class="op" id="2394584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394587">case</span>&nbsp;<span class="string" id="2394592">&#39;b&#39;</span><span class="op" id="2394595">,</span>&nbsp;<span class="string" id="2394597">&#39;e&#39;</span><span class="op" id="2394600">,</span>&nbsp;<span class="string" id="2394602">&#39;E&#39;</span><span class="op" id="2394605">,</span>&nbsp;<span class="string" id="2394607">&#39;f&#39;</span><span class="op" id="2394610">,</span>&nbsp;<span class="string" id="2394612">&#39;F&#39;</span><span class="op" id="2394615">,</span>&nbsp;<span class="string" id="2394617">&#39;g&#39;</span><span class="op" id="2394620">,</span>&nbsp;<span class="string" id="2394622">&#39;G&#39;</span><span class="op" id="2394625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394629">p</span><span class="op" id="2394630">.</span><span class="ident" id="2394631">fmt</span><span class="op" id="2394634">.</span><span class="ident" id="2394635">fmt_c64</span><span class="op" id="2394642">(</span><span class="ident" id="2394643">v</span><span class="op" id="2394644">,</span>&nbsp;<span class="ident" id="2394646">verb</span><span class="op" id="2394650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394653">case</span>&nbsp;<span class="string" id="2394658">&#39;v&#39;</span><span class="op" id="2394661">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394665">p</span><span class="op" id="2394666">.</span><span class="ident" id="2394667">fmt</span><span class="op" id="2394670">.</span><span class="ident" id="2394671">fmt_c64</span><span class="op" id="2394678">(</span><span class="ident" id="2394679">v</span><span class="op" id="2394680">,</span>&nbsp;<span class="string" id="2394682">&#39;g&#39;</span><span class="op" id="2394685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394688">default</span><span class="op" id="2394695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394699">p</span><span class="op" id="2394700">.</span><span class="ident" id="2394701">badVerb</span><span class="op" id="2394708">(</span><span class="ident" id="2394709">verb</span><span class="op" id="2394713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394716">}</span><br>
<span class="lineno"></span><span class="op" id="2394718">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2394721">func</span>&nbsp;<span class="op" id="2394726">(</span><span class="ident" id="2394727">p</span>&nbsp;<span class="op" id="2394729">*</span><span class="ident" id="2394730">pp</span><span class="op" id="2394732">)</span>&nbsp;<span class="ident" id="2394734">fmtComplex128</span><span class="op" id="2394747">(</span><span class="ident" id="2394748">v</span>&nbsp;<span class="builtintype" id="2394750">complex128</span><span class="op" id="2394760">,</span>&nbsp;<span class="ident" id="2394762">verb</span>&nbsp;<span class="builtintype" id="2394767">rune</span><span class="op" id="2394771">)</span>&nbsp;<span class="op" id="2394773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394776">switch</span>&nbsp;<span class="ident" id="2394783">verb</span>&nbsp;<span class="op" id="2394788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394791">case</span>&nbsp;<span class="string" id="2394796">&#39;b&#39;</span><span class="op" id="2394799">,</span>&nbsp;<span class="string" id="2394801">&#39;e&#39;</span><span class="op" id="2394804">,</span>&nbsp;<span class="string" id="2394806">&#39;E&#39;</span><span class="op" id="2394809">,</span>&nbsp;<span class="string" id="2394811">&#39;f&#39;</span><span class="op" id="2394814">,</span>&nbsp;<span class="string" id="2394816">&#39;F&#39;</span><span class="op" id="2394819">,</span>&nbsp;<span class="string" id="2394821">&#39;g&#39;</span><span class="op" id="2394824">,</span>&nbsp;<span class="string" id="2394826">&#39;G&#39;</span><span class="op" id="2394829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394833">p</span><span class="op" id="2394834">.</span><span class="ident" id="2394835">fmt</span><span class="op" id="2394838">.</span><span class="ident" id="2394839">fmt_c128</span><span class="op" id="2394847">(</span><span class="ident" id="2394848">v</span><span class="op" id="2394849">,</span>&nbsp;<span class="ident" id="2394851">verb</span><span class="op" id="2394855">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394858">case</span>&nbsp;<span class="string" id="2394863">&#39;v&#39;</span><span class="op" id="2394866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394870">p</span><span class="op" id="2394871">.</span><span class="ident" id="2394872">fmt</span><span class="op" id="2394875">.</span><span class="ident" id="2394876">fmt_c128</span><span class="op" id="2394884">(</span><span class="ident" id="2394885">v</span><span class="op" id="2394886">,</span>&nbsp;<span class="string" id="2394888">&#39;g&#39;</span><span class="op" id="2394891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394894">default</span><span class="op" id="2394901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394905">p</span><span class="op" id="2394906">.</span><span class="ident" id="2394907">badVerb</span><span class="op" id="2394914">(</span><span class="ident" id="2394915">verb</span><span class="op" id="2394919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394922">}</span><br>
<span class="lineno">500</span><span class="op" id="2394924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394927">func</span>&nbsp;<span class="op" id="2394932">(</span><span class="ident" id="2394933">p</span>&nbsp;<span class="op" id="2394935">*</span><span class="ident" id="2394936">pp</span><span class="op" id="2394938">)</span>&nbsp;<span class="ident" id="2394940">fmtString</span><span class="op" id="2394949">(</span><span class="ident" id="2394950">v</span>&nbsp;<span class="builtintype" id="2394952">string</span><span class="op" id="2394958">,</span>&nbsp;<span class="ident" id="2394960">verb</span>&nbsp;<span class="builtintype" id="2394965">rune</span><span class="op" id="2394969">)</span>&nbsp;<span class="op" id="2394971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394974">switch</span>&nbsp;<span class="ident" id="2394981">verb</span>&nbsp;<span class="op" id="2394986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394989">case</span>&nbsp;<span class="string" id="2394994">&#39;v&#39;</span><span class="op" id="2394997">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395001">if</span>&nbsp;<span class="ident" id="2395004">p</span><span class="op" id="2395005">.</span><span class="ident" id="2395006">fmt</span><span class="op" id="2395009">.</span><span class="ident" id="2395010">sharpV</span>&nbsp;<span class="op" id="2395017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395022">p</span><span class="op" id="2395023">.</span><span class="ident" id="2395024">fmt</span><span class="op" id="2395027">.</span><span class="ident" id="2395028">fmt_q</span><span class="op" id="2395033">(</span><span class="ident" id="2395034">v</span><span class="op" id="2395035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395039">}</span>&nbsp;<span class="keyword" id="2395041">else</span>&nbsp;<span class="op" id="2395046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395051">p</span><span class="op" id="2395052">.</span><span class="ident" id="2395053">fmt</span><span class="op" id="2395056">.</span><span class="ident" id="2395057">fmt_s</span><span class="op" id="2395062">(</span><span class="ident" id="2395063">v</span><span class="op" id="2395064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395068">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395071">case</span>&nbsp;<span class="string" id="2395076">&#39;s&#39;</span><span class="op" id="2395079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395083">p</span><span class="op" id="2395084">.</span><span class="ident" id="2395085">fmt</span><span class="op" id="2395088">.</span><span class="ident" id="2395089">fmt_s</span><span class="op" id="2395094">(</span><span class="ident" id="2395095">v</span><span class="op" id="2395096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395099">case</span>&nbsp;<span class="string" id="2395104">&#39;x&#39;</span><span class="op" id="2395107">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395111">p</span><span class="op" id="2395112">.</span><span class="ident" id="2395113">fmt</span><span class="op" id="2395116">.</span><span class="ident" id="2395117">fmt_sx</span><span class="op" id="2395123">(</span><span class="ident" id="2395124">v</span><span class="op" id="2395125">,</span>&nbsp;<span class="ident" id="2395127">ldigits</span><span class="op" id="2395134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395137">case</span>&nbsp;<span class="string" id="2395142">&#39;X&#39;</span><span class="op" id="2395145">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395149">p</span><span class="op" id="2395150">.</span><span class="ident" id="2395151">fmt</span><span class="op" id="2395154">.</span><span class="ident" id="2395155">fmt_sx</span><span class="op" id="2395161">(</span><span class="ident" id="2395162">v</span><span class="op" id="2395163">,</span>&nbsp;<span class="ident" id="2395165">udigits</span><span class="op" id="2395172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395175">case</span>&nbsp;<span class="string" id="2395180">&#39;q&#39;</span><span class="op" id="2395183">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395187">p</span><span class="op" id="2395188">.</span><span class="ident" id="2395189">fmt</span><span class="op" id="2395192">.</span><span class="ident" id="2395193">fmt_q</span><span class="op" id="2395198">(</span><span class="ident" id="2395199">v</span><span class="op" id="2395200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395203">default</span><span class="op" id="2395210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395214">p</span><span class="op" id="2395215">.</span><span class="ident" id="2395216">badVerb</span><span class="op" id="2395223">(</span><span class="ident" id="2395224">verb</span><span class="op" id="2395228">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395231">}</span><br>
<span class="lineno"></span><span class="op" id="2395233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2395236">func</span>&nbsp;<span class="op" id="2395241">(</span><span class="ident" id="2395242">p</span>&nbsp;<span class="op" id="2395244">*</span><span class="ident" id="2395245">pp</span><span class="op" id="2395247">)</span>&nbsp;<span class="ident" id="2395249">fmtBytes</span><span class="op" id="2395257">(</span><span class="ident" id="2395258">v</span>&nbsp;<span class="op" id="2395260">[</span><span class="op" id="2395261">]</span><span class="builtintype" id="2395262">byte</span><span class="op" id="2395266">,</span>&nbsp;<span class="ident" id="2395268">verb</span>&nbsp;<span class="builtintype" id="2395273">rune</span><span class="op" id="2395277">,</span>&nbsp;<span class="ident" id="2395279">typ</span>&nbsp;<span class="ident" id="2395283">reflect</span><span class="op" id="2395290">.</span><span class="ident" id="2395291">Type</span><span class="op" id="2395295">,</span>&nbsp;<span class="ident" id="2395297">depth</span>&nbsp;<span class="builtintype" id="2395303">int</span><span class="op" id="2395306">)</span>&nbsp;<span class="op" id="2395308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395311">if</span>&nbsp;<span class="ident" id="2395314">verb</span>&nbsp;<span class="op" id="2395319">==</span>&nbsp;<span class="string" id="2395322">&#39;v&#39;</span>&nbsp;<span class="op" id="2395326">||</span>&nbsp;<span class="ident" id="2395329">verb</span>&nbsp;<span class="op" id="2395334">==</span>&nbsp;<span class="string" id="2395337">&#39;d&#39;</span>&nbsp;<span class="op" id="2395341">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395345">if</span>&nbsp;<span class="ident" id="2395348">p</span><span class="op" id="2395349">.</span><span class="ident" id="2395350">fmt</span><span class="op" id="2395353">.</span><span class="ident" id="2395354">sharpV</span>&nbsp;<span class="op" id="2395361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395366">if</span>&nbsp;<span class="ident" id="2395369">v</span>&nbsp;<span class="op" id="2395371">==</span>&nbsp;<span class="ident" id="2395374">nil</span>&nbsp;<span class="op" id="2395378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395384">if</span>&nbsp;<span class="ident" id="2395387">typ</span>&nbsp;<span class="op" id="2395391">==</span>&nbsp;<span class="ident" id="2395394">nil</span>&nbsp;<span class="op" id="2395398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395405">p</span><span class="op" id="2395406">.</span><span class="ident" id="2395407">buf</span><span class="op" id="2395410">.</span><span class="ident" id="2395411">WriteString</span><span class="op" id="2395422">(</span><span class="string" id="2395423">&#34;[]byte(nil)&#34;</span><span class="op" id="2395436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395442">}</span>&nbsp;<span class="keyword" id="2395444">else</span>&nbsp;<span class="op" id="2395449">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395456">p</span><span class="op" id="2395457">.</span><span class="ident" id="2395458">buf</span><span class="op" id="2395461">.</span><span class="ident" id="2395462">WriteString</span><span class="op" id="2395473">(</span><span class="ident" id="2395474">typ</span><span class="op" id="2395477">.</span><span class="ident" id="2395478">String</span><span class="op" id="2395484">(</span><span class="op" id="2395485">)</span><span class="op" id="2395486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395493">p</span><span class="op" id="2395494">.</span><span class="ident" id="2395495">buf</span><span class="op" id="2395498">.</span><span class="ident" id="2395499">Write</span><span class="op" id="2395504">(</span><span class="ident" id="2395505">nilParenBytes</span><span class="op" id="2395518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395530">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395540">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395545">if</span>&nbsp;<span class="ident" id="2395548">typ</span>&nbsp;<span class="op" id="2395552">==</span>&nbsp;<span class="ident" id="2395555">nil</span>&nbsp;<span class="op" id="2395559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395565">p</span><span class="op" id="2395566">.</span><span class="ident" id="2395567">buf</span><span class="op" id="2395570">.</span><span class="ident" id="2395571">Write</span><span class="op" id="2395576">(</span><span class="ident" id="2395577">bytesBytes</span><span class="op" id="2395587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395592">}</span>&nbsp;<span class="keyword" id="2395594">else</span>&nbsp;<span class="op" id="2395599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395605">p</span><span class="op" id="2395606">.</span><span class="ident" id="2395607">buf</span><span class="op" id="2395610">.</span><span class="ident" id="2395611">WriteString</span><span class="op" id="2395622">(</span><span class="ident" id="2395623">typ</span><span class="op" id="2395626">.</span><span class="ident" id="2395627">String</span><span class="op" id="2395633">(</span><span class="op" id="2395634">)</span><span class="op" id="2395635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395641">p</span><span class="op" id="2395642">.</span><span class="ident" id="2395643">buf</span><span class="op" id="2395646">.</span><span class="ident" id="2395647">WriteByte</span><span class="op" id="2395656">(</span><span class="string" id="2395657">&#39;{&#39;</span><span class="op" id="2395660">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395669">}</span>&nbsp;<span class="keyword" id="2395671">else</span>&nbsp;<span class="op" id="2395676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395681">p</span><span class="op" id="2395682">.</span><span class="ident" id="2395683">buf</span><span class="op" id="2395686">.</span><span class="ident" id="2395687">WriteByte</span><span class="op" id="2395696">(</span><span class="string" id="2395697">&#39;[&#39;</span><span class="op" id="2395700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395708">for</span>&nbsp;<span class="ident" id="2395712">i</span><span class="op" id="2395713">,</span>&nbsp;<span class="ident" id="2395715">c</span>&nbsp;<span class="op" id="2395717">:=</span>&nbsp;<span class="keyword" id="2395720">range</span>&nbsp;<span class="ident" id="2395726">v</span>&nbsp;<span class="op" id="2395728">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395733">if</span>&nbsp;<span class="ident" id="2395736">i</span>&nbsp;<span class="op" id="2395738">&gt;</span>&nbsp;<span class="num" id="2395740">0</span>&nbsp;<span class="op" id="2395742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395748">if</span>&nbsp;<span class="ident" id="2395751">p</span><span class="op" id="2395752">.</span><span class="ident" id="2395753">fmt</span><span class="op" id="2395756">.</span><span class="ident" id="2395757">sharpV</span>&nbsp;<span class="op" id="2395764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395771">p</span><span class="op" id="2395772">.</span><span class="ident" id="2395773">buf</span><span class="op" id="2395776">.</span><span class="ident" id="2395777">Write</span><span class="op" id="2395782">(</span><span class="ident" id="2395783">commaSpaceBytes</span><span class="op" id="2395798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395804">}</span>&nbsp;<span class="keyword" id="2395806">else</span>&nbsp;<span class="op" id="2395811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395818">p</span><span class="op" id="2395819">.</span><span class="ident" id="2395820">buf</span><span class="op" id="2395823">.</span><span class="ident" id="2395824">WriteByte</span><span class="op" id="2395833">(</span><span class="string" id="2395834">&#39;&nbsp;&#39;</span><span class="op" id="2395837">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395853">p</span><span class="op" id="2395854">.</span><span class="ident" id="2395855">printArg</span><span class="op" id="2395863">(</span><span class="ident" id="2395864">c</span><span class="op" id="2395865">,</span>&nbsp;<span class="string" id="2395867">&#39;v&#39;</span><span class="op" id="2395870">,</span>&nbsp;<span class="ident" id="2395872">depth</span><span class="op" id="2395877">+</span><span class="num" id="2395878">1</span><span class="op" id="2395879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395887">if</span>&nbsp;<span class="ident" id="2395890">p</span><span class="op" id="2395891">.</span><span class="ident" id="2395892">fmt</span><span class="op" id="2395895">.</span><span class="ident" id="2395896">sharpV</span>&nbsp;<span class="op" id="2395903">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395908">p</span><span class="op" id="2395909">.</span><span class="ident" id="2395910">buf</span><span class="op" id="2395913">.</span><span class="ident" id="2395914">WriteByte</span><span class="op" id="2395923">(</span><span class="string" id="2395924">&#39;}&#39;</span><span class="op" id="2395927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395931">}</span>&nbsp;<span class="keyword" id="2395933">else</span>&nbsp;<span class="op" id="2395938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395943">p</span><span class="op" id="2395944">.</span><span class="ident" id="2395945">buf</span><span class="op" id="2395948">.</span><span class="ident" id="2395949">WriteByte</span><span class="op" id="2395958">(</span><span class="string" id="2395959">&#39;]&#39;</span><span class="op" id="2395962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395970">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395981">switch</span>&nbsp;<span class="ident" id="2395988">verb</span>&nbsp;<span class="op" id="2395993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395996">case</span>&nbsp;<span class="string" id="2396001">&#39;s&#39;</span><span class="op" id="2396004">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396008">p</span><span class="op" id="2396009">.</span><span class="ident" id="2396010">fmt</span><span class="op" id="2396013">.</span><span class="ident" id="2396014">fmt_s</span><span class="op" id="2396019">(</span><span class="builtintype" id="2396020">string</span><span class="op" id="2396026">(</span><span class="ident" id="2396027">v</span><span class="op" id="2396028">)</span><span class="op" id="2396029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396032">case</span>&nbsp;<span class="string" id="2396037">&#39;x&#39;</span><span class="op" id="2396040">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396044">p</span><span class="op" id="2396045">.</span><span class="ident" id="2396046">fmt</span><span class="op" id="2396049">.</span><span class="ident" id="2396050">fmt_bx</span><span class="op" id="2396056">(</span><span class="ident" id="2396057">v</span><span class="op" id="2396058">,</span>&nbsp;<span class="ident" id="2396060">ldigits</span><span class="op" id="2396067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396070">case</span>&nbsp;<span class="string" id="2396075">&#39;X&#39;</span><span class="op" id="2396078">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396082">p</span><span class="op" id="2396083">.</span><span class="ident" id="2396084">fmt</span><span class="op" id="2396087">.</span><span class="ident" id="2396088">fmt_bx</span><span class="op" id="2396094">(</span><span class="ident" id="2396095">v</span><span class="op" id="2396096">,</span>&nbsp;<span class="ident" id="2396098">udigits</span><span class="op" id="2396105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396108">case</span>&nbsp;<span class="string" id="2396113">&#39;q&#39;</span><span class="op" id="2396116">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396120">p</span><span class="op" id="2396121">.</span><span class="ident" id="2396122">fmt</span><span class="op" id="2396125">.</span><span class="ident" id="2396126">fmt_q</span><span class="op" id="2396131">(</span><span class="builtintype" id="2396132">string</span><span class="op" id="2396138">(</span><span class="ident" id="2396139">v</span><span class="op" id="2396140">)</span><span class="op" id="2396141">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396144">default</span><span class="op" id="2396151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396155">p</span><span class="op" id="2396156">.</span><span class="ident" id="2396157">badVerb</span><span class="op" id="2396164">(</span><span class="ident" id="2396165">verb</span><span class="op" id="2396169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396172">}</span><br>
<span class="lineno"></span><span class="op" id="2396174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2396177">func</span>&nbsp;<span class="op" id="2396182">(</span><span class="ident" id="2396183">p</span>&nbsp;<span class="op" id="2396185">*</span><span class="ident" id="2396186">pp</span><span class="op" id="2396188">)</span>&nbsp;<span class="ident" id="2396190">fmtPointer</span><span class="op" id="2396200">(</span><span class="ident" id="2396201">value</span>&nbsp;<span class="ident" id="2396207">reflect</span><span class="op" id="2396214">.</span><span class="ident" id="2396215">Value</span><span class="op" id="2396220">,</span>&nbsp;<span class="ident" id="2396222">verb</span>&nbsp;<span class="builtintype" id="2396227">rune</span><span class="op" id="2396231">)</span>&nbsp;<span class="op" id="2396233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396236">use0x64</span>&nbsp;<span class="op" id="2396244">:=</span>&nbsp;<span class="builtintype" id="2396247">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396253">switch</span>&nbsp;<span class="ident" id="2396260">verb</span>&nbsp;<span class="op" id="2396265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396268">case</span>&nbsp;<span class="string" id="2396273">&#39;p&#39;</span><span class="op" id="2396276">,</span>&nbsp;<span class="string" id="2396278">&#39;v&#39;</span><span class="op" id="2396281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396285">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396292">case</span>&nbsp;<span class="string" id="2396297">&#39;b&#39;</span><span class="op" id="2396300">,</span>&nbsp;<span class="string" id="2396302">&#39;d&#39;</span><span class="op" id="2396305">,</span>&nbsp;<span class="string" id="2396307">&#39;o&#39;</span><span class="op" id="2396310">,</span>&nbsp;<span class="string" id="2396312">&#39;x&#39;</span><span class="op" id="2396315">,</span>&nbsp;<span class="string" id="2396317">&#39;X&#39;</span><span class="op" id="2396320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396324">use0x64</span>&nbsp;<span class="op" id="2396332">=</span>&nbsp;<span class="builtintype" id="2396334">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396342">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396349">default</span><span class="op" id="2396356">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396360">p</span><span class="op" id="2396361">.</span><span class="ident" id="2396362">badVerb</span><span class="op" id="2396369">(</span><span class="ident" id="2396370">verb</span><span class="op" id="2396374">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396378">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396390">var</span>&nbsp;<span class="ident" id="2396394">u</span>&nbsp;<span class="builtintype" id="2396396">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396405">switch</span>&nbsp;<span class="ident" id="2396412">value</span><span class="op" id="2396417">.</span><span class="ident" id="2396418">Kind</span><span class="op" id="2396422">(</span><span class="op" id="2396423">)</span>&nbsp;<span class="op" id="2396425">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396428">case</span>&nbsp;<span class="ident" id="2396433">reflect</span><span class="op" id="2396440">.</span><span class="ident" id="2396441">Chan</span><span class="op" id="2396445">,</span>&nbsp;<span class="ident" id="2396447">reflect</span><span class="op" id="2396454">.</span><span class="ident" id="2396455">Func</span><span class="op" id="2396459">,</span>&nbsp;<span class="ident" id="2396461">reflect</span><span class="op" id="2396468">.</span><span class="ident" id="2396469">Map</span><span class="op" id="2396472">,</span>&nbsp;<span class="ident" id="2396474">reflect</span><span class="op" id="2396481">.</span><span class="ident" id="2396482">Ptr</span><span class="op" id="2396485">,</span>&nbsp;<span class="ident" id="2396487">reflect</span><span class="op" id="2396494">.</span><span class="ident" id="2396495">Slice</span><span class="op" id="2396500">,</span>&nbsp;<span class="ident" id="2396502">reflect</span><span class="op" id="2396509">.</span><span class="ident" id="2396510">UnsafePointer</span><span class="op" id="2396523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396527">u</span>&nbsp;<span class="op" id="2396529">=</span>&nbsp;<span class="ident" id="2396531">value</span><span class="op" id="2396536">.</span><span class="ident" id="2396537">Pointer</span><span class="op" id="2396544">(</span><span class="op" id="2396545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396548">default</span><span class="op" id="2396555">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396559">p</span><span class="op" id="2396560">.</span><span class="ident" id="2396561">badVerb</span><span class="op" id="2396568">(</span><span class="ident" id="2396569">verb</span><span class="op" id="2396573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396577">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396589">if</span>&nbsp;<span class="ident" id="2396592">p</span><span class="op" id="2396593">.</span><span class="ident" id="2396594">fmt</span><span class="op" id="2396597">.</span><span class="ident" id="2396598">sharpV</span>&nbsp;<span class="op" id="2396605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396609">p</span><span class="op" id="2396610">.</span><span class="ident" id="2396611">add</span><span class="op" id="2396614">(</span><span class="string" id="2396615">&#39;(&#39;</span><span class="op" id="2396618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396622">p</span><span class="op" id="2396623">.</span><span class="ident" id="2396624">buf</span><span class="op" id="2396627">.</span><span class="ident" id="2396628">WriteString</span><span class="op" id="2396639">(</span><span class="ident" id="2396640">value</span><span class="op" id="2396645">.</span><span class="ident" id="2396646">Type</span><span class="op" id="2396650">(</span><span class="op" id="2396651">)</span><span class="op" id="2396652">.</span><span class="ident" id="2396653">String</span><span class="op" id="2396659">(</span><span class="op" id="2396660">)</span><span class="op" id="2396661">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396665">p</span><span class="op" id="2396666">.</span><span class="ident" id="2396667">add</span><span class="op" id="2396670">(</span><span class="string" id="2396671">&#39;)&#39;</span><span class="op" id="2396674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396678">p</span><span class="op" id="2396679">.</span><span class="ident" id="2396680">add</span><span class="op" id="2396683">(</span><span class="string" id="2396684">&#39;(&#39;</span><span class="op" id="2396687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396691">if</span>&nbsp;<span class="ident" id="2396694">u</span>&nbsp;<span class="op" id="2396696">==</span>&nbsp;<span class="num" id="2396699">0</span>&nbsp;<span class="op" id="2396701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396706">p</span><span class="op" id="2396707">.</span><span class="ident" id="2396708">buf</span><span class="op" id="2396711">.</span><span class="ident" id="2396712">Write</span><span class="op" id="2396717">(</span><span class="ident" id="2396718">nilBytes</span><span class="op" id="2396726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396730">}</span>&nbsp;<span class="keyword" id="2396732">else</span>&nbsp;<span class="op" id="2396737">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396742">p</span><span class="op" id="2396743">.</span><span class="ident" id="2396744">fmt0x64</span><span class="op" id="2396751">(</span><span class="ident" id="2396752">uint64</span><span class="op" id="2396758">(</span><span class="ident" id="2396759">u</span><span class="op" id="2396760">)</span><span class="op" id="2396761">,</span>&nbsp;<span class="builtintype" id="2396763">true</span><span class="op" id="2396767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396775">p</span><span class="op" id="2396776">.</span><span class="ident" id="2396777">add</span><span class="op" id="2396780">(</span><span class="string" id="2396781">&#39;)&#39;</span><span class="op" id="2396784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396787">}</span>&nbsp;<span class="keyword" id="2396789">else</span>&nbsp;<span class="keyword" id="2396794">if</span>&nbsp;<span class="ident" id="2396797">verb</span>&nbsp;<span class="op" id="2396802">==</span>&nbsp;<span class="string" id="2396805">&#39;v&#39;</span>&nbsp;<span class="op" id="2396809">&amp;&amp;</span>&nbsp;<span class="ident" id="2396812">u</span>&nbsp;<span class="op" id="2396814">==</span>&nbsp;<span class="num" id="2396817">0</span>&nbsp;<span class="op" id="2396819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396823">p</span><span class="op" id="2396824">.</span><span class="ident" id="2396825">buf</span><span class="op" id="2396828">.</span><span class="ident" id="2396829">Write</span><span class="op" id="2396834">(</span><span class="ident" id="2396835">nilAngleBytes</span><span class="op" id="2396848">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396851">}</span>&nbsp;<span class="keyword" id="2396853">else</span>&nbsp;<span class="op" id="2396858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396862">if</span>&nbsp;<span class="ident" id="2396865">use0x64</span>&nbsp;<span class="op" id="2396873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396878">p</span><span class="op" id="2396879">.</span><span class="ident" id="2396880">fmt0x64</span><span class="op" id="2396887">(</span><span class="ident" id="2396888">uint64</span><span class="op" id="2396894">(</span><span class="ident" id="2396895">u</span><span class="op" id="2396896">)</span><span class="op" id="2396897">,</span>&nbsp;<span class="op" id="2396899">!</span><span class="ident" id="2396900">p</span><span class="op" id="2396901">.</span><span class="ident" id="2396902">fmt</span><span class="op" id="2396905">.</span><span class="ident" id="2396906">sharp</span><span class="op" id="2396911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396915">}</span>&nbsp;<span class="keyword" id="2396917">else</span>&nbsp;<span class="op" id="2396922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396927">p</span><span class="op" id="2396928">.</span><span class="ident" id="2396929">fmtUint64</span><span class="op" id="2396938">(</span><span class="ident" id="2396939">uint64</span><span class="op" id="2396945">(</span><span class="ident" id="2396946">u</span><span class="op" id="2396947">)</span><span class="op" id="2396948">,</span>&nbsp;<span class="ident" id="2396950">verb</span><span class="op" id="2396954">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396961">}</span><br>
<span class="lineno"></span><span class="op" id="2396963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2396966">var</span>&nbsp;<span class="op" id="2396970">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396973">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396985">=</span>&nbsp;<span class="ident" id="2396987">reflect</span><span class="op" id="2396994">.</span><span class="ident" id="2396995">TypeOf</span><span class="op" id="2397001">(</span><span class="num" id="2397002">0</span><span class="op" id="2397003">)</span><span class="op" id="2397004">.</span><span class="ident" id="2397005">Bits</span><span class="op" id="2397009">(</span><span class="op" id="2397010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397013">uintptrBits</span>&nbsp;<span class="op" id="2397025">=</span>&nbsp;<span class="ident" id="2397027">reflect</span><span class="op" id="2397034">.</span><span class="ident" id="2397035">TypeOf</span><span class="op" id="2397041">(</span><span class="builtintype" id="2397042">uintptr</span><span class="op" id="2397049">(</span><span class="num" id="2397050">0</span><span class="op" id="2397051">)</span><span class="op" id="2397052">)</span><span class="op" id="2397053">.</span><span class="ident" id="2397054">Bits</span><span class="op" id="2397058">(</span><span class="op" id="2397059">)</span><br>
<span class="lineno"></span><span class="op" id="2397061">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2397064">func</span>&nbsp;<span class="op" id="2397069">(</span><span class="ident" id="2397070">p</span>&nbsp;<span class="op" id="2397072">*</span><span class="ident" id="2397073">pp</span><span class="op" id="2397075">)</span>&nbsp;<span class="ident" id="2397077">catchPanic</span><span class="op" id="2397087">(</span><span class="ident" id="2397088">arg</span>&nbsp;<span class="keyword" id="2397092">interface</span><span class="op" id="2397101">{</span><span class="op" id="2397102">}</span><span class="op" id="2397103">,</span>&nbsp;<span class="ident" id="2397105">verb</span>&nbsp;<span class="builtintype" id="2397110">rune</span><span class="op" id="2397114">)</span>&nbsp;<span class="op" id="2397116">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397119">if</span>&nbsp;<span class="ident" id="2397122">err</span>&nbsp;<span class="op" id="2397126">:=</span>&nbsp;<span class="builtinfunc" id="2397129">recover</span><span class="op" id="2397136">(</span><span class="op" id="2397137">)</span><span class="op" id="2397138">;</span>&nbsp;<span class="ident" id="2397140">err</span>&nbsp;<span class="op" id="2397144">!=</span>&nbsp;<span class="ident" id="2397147">nil</span>&nbsp;<span class="op" id="2397151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397155">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397228">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397297">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397364">if</span>&nbsp;<span class="ident" id="2397367">v</span>&nbsp;<span class="op" id="2397369">:=</span>&nbsp;<span class="ident" id="2397372">reflect</span><span class="op" id="2397379">.</span><span class="ident" id="2397380">ValueOf</span><span class="op" id="2397387">(</span><span class="ident" id="2397388">arg</span><span class="op" id="2397391">)</span><span class="op" id="2397392">;</span>&nbsp;<span class="ident" id="2397394">v</span><span class="op" id="2397395">.</span><span class="ident" id="2397396">Kind</span><span class="op" id="2397400">(</span><span class="op" id="2397401">)</span>&nbsp;<span class="op" id="2397403">==</span>&nbsp;<span class="ident" id="2397406">reflect</span><span class="op" id="2397413">.</span><span class="ident" id="2397414">Ptr</span>&nbsp;<span class="op" id="2397418">&amp;&amp;</span>&nbsp;<span class="ident" id="2397421">v</span><span class="op" id="2397422">.</span><span class="ident" id="2397423">IsNil</span><span class="op" id="2397428">(</span><span class="op" id="2397429">)</span>&nbsp;<span class="op" id="2397431">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397436">p</span><span class="op" id="2397437">.</span><span class="ident" id="2397438">buf</span><span class="op" id="2397441">.</span><span class="ident" id="2397442">Write</span><span class="op" id="2397447">(</span><span class="ident" id="2397448">nilAngleBytes</span><span class="op" id="2397461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397466">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2397475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397479">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397552">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397589">if</span>&nbsp;<span class="ident" id="2397592">p</span><span class="op" id="2397593">.</span><span class="ident" id="2397594">panicking</span>&nbsp;<span class="op" id="2397604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397609">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2397672">panic</span><span class="op" id="2397677">(</span><span class="ident" id="2397678">err</span><span class="op" id="2397681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2397685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397689">p</span><span class="op" id="2397690">.</span><span class="ident" id="2397691">fmt</span><span class="op" id="2397694">.</span><span class="ident" id="2397695">clearflags</span><span class="op" id="2397705">(</span><span class="op" id="2397706">)</span>&nbsp;<span class="comment" id="2397708">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397772">p</span><span class="op" id="2397773">.</span><span class="ident" id="2397774">buf</span><span class="op" id="2397777">.</span><span class="ident" id="2397778">Write</span><span class="op" id="2397783">(</span><span class="ident" id="2397784">percentBangBytes</span><span class="op" id="2397800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397804">p</span><span class="op" id="2397805">.</span><span class="ident" id="2397806">add</span><span class="op" id="2397809">(</span><span class="ident" id="2397810">verb</span><span class="op" id="2397814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397818">p</span><span class="op" id="2397819">.</span><span class="ident" id="2397820">buf</span><span class="op" id="2397823">.</span><span class="ident" id="2397824">Write</span><span class="op" id="2397829">(</span><span class="ident" id="2397830">panicBytes</span><span class="op" id="2397840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397844">p</span><span class="op" id="2397845">.</span><span class="ident" id="2397846">panicking</span>&nbsp;<span class="op" id="2397856">=</span>&nbsp;<span class="builtintype" id="2397858">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397865">p</span><span class="op" id="2397866">.</span><span class="ident" id="2397867">printArg</span><span class="op" id="2397875">(</span><span class="ident" id="2397876">err</span><span class="op" id="2397879">,</span>&nbsp;<span class="string" id="2397881">&#39;v&#39;</span><span class="op" id="2397884">,</span>&nbsp;<span class="num" id="2397886">0</span><span class="op" id="2397887">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397891">p</span><span class="op" id="2397892">.</span><span class="ident" id="2397893">panicking</span>&nbsp;<span class="op" id="2397903">=</span>&nbsp;<span class="builtintype" id="2397905">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397913">p</span><span class="op" id="2397914">.</span><span class="ident" id="2397915">buf</span><span class="op" id="2397918">.</span><span class="ident" id="2397919">WriteByte</span><span class="op" id="2397928">(</span><span class="string" id="2397929">&#39;)&#39;</span><span class="op" id="2397932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2397935">}</span><br>
<span class="lineno"></span><span class="op" id="2397937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2397940">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2398029">func</span>&nbsp;<span class="op" id="2398034">(</span><span class="ident" id="2398035">p</span>&nbsp;<span class="op" id="2398037">*</span><span class="ident" id="2398038">pp</span><span class="op" id="2398040">)</span>&nbsp;<span class="ident" id="2398042">clearSpecialFlags</span><span class="op" id="2398059">(</span><span class="op" id="2398060">)</span>&nbsp;<span class="op" id="2398062">(</span><span class="ident" id="2398063">plusV</span><span class="op" id="2398068">,</span>&nbsp;<span class="ident" id="2398070">sharpV</span>&nbsp;<span class="builtintype" id="2398077">bool</span><span class="op" id="2398081">)</span>&nbsp;<span class="op" id="2398083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398086">plusV</span>&nbsp;<span class="op" id="2398092">=</span>&nbsp;<span class="ident" id="2398094">p</span><span class="op" id="2398095">.</span><span class="ident" id="2398096">fmt</span><span class="op" id="2398099">.</span><span class="ident" id="2398100">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398107">if</span>&nbsp;<span class="ident" id="2398110">plusV</span>&nbsp;<span class="op" id="2398116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398120">p</span><span class="op" id="2398121">.</span><span class="ident" id="2398122">fmt</span><span class="op" id="2398125">.</span><span class="ident" id="2398126">plus</span>&nbsp;<span class="op" id="2398131">=</span>&nbsp;<span class="builtintype" id="2398133">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398140">p</span><span class="op" id="2398141">.</span><span class="ident" id="2398142">fmt</span><span class="op" id="2398145">.</span><span class="ident" id="2398146">plusV</span>&nbsp;<span class="op" id="2398152">=</span>&nbsp;<span class="builtintype" id="2398154">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398164">sharpV</span>&nbsp;<span class="op" id="2398171">=</span>&nbsp;<span class="ident" id="2398173">p</span><span class="op" id="2398174">.</span><span class="ident" id="2398175">fmt</span><span class="op" id="2398178">.</span><span class="ident" id="2398179">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398187">if</span>&nbsp;<span class="ident" id="2398190">sharpV</span>&nbsp;<span class="op" id="2398197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398201">p</span><span class="op" id="2398202">.</span><span class="ident" id="2398203">fmt</span><span class="op" id="2398206">.</span><span class="ident" id="2398207">sharp</span>&nbsp;<span class="op" id="2398213">=</span>&nbsp;<span class="builtintype" id="2398215">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398222">p</span><span class="op" id="2398223">.</span><span class="ident" id="2398224">fmt</span><span class="op" id="2398227">.</span><span class="ident" id="2398228">sharpV</span>&nbsp;<span class="op" id="2398235">=</span>&nbsp;<span class="builtintype" id="2398237">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398247">return</span><br>
<span class="lineno"></span><span class="op" id="2398254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2398257">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2398335">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2398390">func</span>&nbsp;<span class="op" id="2398395">(</span><span class="ident" id="2398396">p</span>&nbsp;<span class="op" id="2398398">*</span><span class="ident" id="2398399">pp</span><span class="op" id="2398401">)</span>&nbsp;<span class="ident" id="2398403">restoreSpecialFlags</span><span class="op" id="2398422">(</span><span class="ident" id="2398423">plusV</span><span class="op" id="2398428">,</span>&nbsp;<span class="ident" id="2398430">sharpV</span>&nbsp;<span class="builtintype" id="2398437">bool</span><span class="op" id="2398441">)</span>&nbsp;<span class="op" id="2398443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398446">if</span>&nbsp;<span class="ident" id="2398449">plusV</span>&nbsp;<span class="op" id="2398455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398459">p</span><span class="op" id="2398460">.</span><span class="ident" id="2398461">fmt</span><span class="op" id="2398464">.</span><span class="ident" id="2398465">plus</span>&nbsp;<span class="op" id="2398470">=</span>&nbsp;<span class="builtintype" id="2398472">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398480">p</span><span class="op" id="2398481">.</span><span class="ident" id="2398482">fmt</span><span class="op" id="2398485">.</span><span class="ident" id="2398486">plusV</span>&nbsp;<span class="op" id="2398492">=</span>&nbsp;<span class="builtintype" id="2398494">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398503">if</span>&nbsp;<span class="ident" id="2398506">sharpV</span>&nbsp;<span class="op" id="2398513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398517">p</span><span class="op" id="2398518">.</span><span class="ident" id="2398519">fmt</span><span class="op" id="2398522">.</span><span class="ident" id="2398523">sharp</span>&nbsp;<span class="op" id="2398529">=</span>&nbsp;<span class="builtintype" id="2398531">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398539">p</span><span class="op" id="2398540">.</span><span class="ident" id="2398541">fmt</span><span class="op" id="2398544">.</span><span class="ident" id="2398545">sharpV</span>&nbsp;<span class="op" id="2398552">=</span>&nbsp;<span class="builtintype" id="2398554">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398560">}</span><br>
<span class="lineno"></span><span class="op" id="2398562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398565">func</span>&nbsp;<span class="op" id="2398570">(</span><span class="ident" id="2398571">p</span>&nbsp;<span class="op" id="2398573">*</span><span class="ident" id="2398574">pp</span><span class="op" id="2398576">)</span>&nbsp;<span class="ident" id="2398578">handleMethods</span><span class="op" id="2398591">(</span><span class="ident" id="2398592">verb</span>&nbsp;<span class="builtintype" id="2398597">rune</span><span class="op" id="2398601">,</span>&nbsp;<span class="ident" id="2398603">depth</span>&nbsp;<span class="builtintype" id="2398609">int</span><span class="op" id="2398612">)</span>&nbsp;<span class="op" id="2398614">(</span><span class="ident" id="2398615">handled</span>&nbsp;<span class="builtintype" id="2398623">bool</span><span class="op" id="2398627">)</span>&nbsp;<span class="op" id="2398629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398632">if</span>&nbsp;<span class="ident" id="2398635">p</span><span class="op" id="2398636">.</span><span class="ident" id="2398637">erroring</span>&nbsp;<span class="op" id="2398646">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398650">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398661">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398684">if</span>&nbsp;<span class="ident" id="2398687">formatter</span><span class="op" id="2398696">,</span>&nbsp;<span class="ident" id="2398698">ok</span>&nbsp;<span class="op" id="2398701">:=</span>&nbsp;<span class="ident" id="2398704">p</span><span class="op" id="2398705">.</span><span class="ident" id="2398706">arg</span><span class="op" id="2398709">.</span><span class="op" id="2398710">(</span><span class="ident" id="2398711">Formatter</span><span class="op" id="2398720">)</span><span class="op" id="2398721">;</span>&nbsp;<span class="ident" id="2398723">ok</span>&nbsp;<span class="op" id="2398726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398730">handled</span>&nbsp;<span class="op" id="2398738">=</span>&nbsp;<span class="builtintype" id="2398740">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398747">defer</span>&nbsp;<span class="ident" id="2398753">p</span><span class="op" id="2398754">.</span><span class="ident" id="2398755">restoreSpecialFlags</span><span class="op" id="2398774">(</span><span class="ident" id="2398775">p</span><span class="op" id="2398776">.</span><span class="ident" id="2398777">clearSpecialFlags</span><span class="op" id="2398794">(</span><span class="op" id="2398795">)</span><span class="op" id="2398796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398800">defer</span>&nbsp;<span class="ident" id="2398806">p</span><span class="op" id="2398807">.</span><span class="ident" id="2398808">catchPanic</span><span class="op" id="2398818">(</span><span class="ident" id="2398819">p</span><span class="op" id="2398820">.</span><span class="ident" id="2398821">arg</span><span class="op" id="2398824">,</span>&nbsp;<span class="ident" id="2398826">verb</span><span class="op" id="2398830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398834">formatter</span><span class="op" id="2398843">.</span><span class="ident" id="2398844">Format</span><span class="op" id="2398850">(</span><span class="ident" id="2398851">p</span><span class="op" id="2398852">,</span>&nbsp;<span class="ident" id="2398854">verb</span><span class="op" id="2398858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398862">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2398870">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398874">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398965">if</span>&nbsp;<span class="ident" id="2398968">p</span><span class="op" id="2398969">.</span><span class="ident" id="2398970">fmt</span><span class="op" id="2398973">.</span><span class="ident" id="2398974">sharpV</span>&nbsp;<span class="op" id="2398981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398985">if</span>&nbsp;<span class="ident" id="2398988">stringer</span><span class="op" id="2398996">,</span>&nbsp;<span class="ident" id="2398998">ok</span>&nbsp;<span class="op" id="2399001">:=</span>&nbsp;<span class="ident" id="2399004">p</span><span class="op" id="2399005">.</span><span class="ident" id="2399006">arg</span><span class="op" id="2399009">.</span><span class="op" id="2399010">(</span><span class="ident" id="2399011">GoStringer</span><span class="op" id="2399021">)</span><span class="op" id="2399022">;</span>&nbsp;<span class="ident" id="2399024">ok</span>&nbsp;<span class="op" id="2399027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399032">handled</span>&nbsp;<span class="op" id="2399040">=</span>&nbsp;<span class="builtintype" id="2399042">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399050">defer</span>&nbsp;<span class="ident" id="2399056">p</span><span class="op" id="2399057">.</span><span class="ident" id="2399058">catchPanic</span><span class="op" id="2399068">(</span><span class="ident" id="2399069">p</span><span class="op" id="2399070">.</span><span class="ident" id="2399071">arg</span><span class="op" id="2399074">,</span>&nbsp;<span class="ident" id="2399076">verb</span><span class="op" id="2399080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399085">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399131">p</span><span class="op" id="2399132">.</span><span class="ident" id="2399133">fmt</span><span class="op" id="2399136">.</span><span class="ident" id="2399137">fmt_s</span><span class="op" id="2399142">(</span><span class="ident" id="2399143">stringer</span><span class="op" id="2399151">.</span><span class="ident" id="2399152">GoString</span><span class="op" id="2399160">(</span><span class="op" id="2399161">)</span><span class="op" id="2399162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399167">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2399176">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2399179">}</span>&nbsp;<span class="keyword" id="2399181">else</span>&nbsp;<span class="op" id="2399186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399190">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399253">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399315">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399372">switch</span>&nbsp;<span class="ident" id="2399379">verb</span>&nbsp;<span class="op" id="2399384">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399388">case</span>&nbsp;<span class="string" id="2399393">&#39;v&#39;</span><span class="op" id="2399396">,</span>&nbsp;<span class="string" id="2399398">&#39;s&#39;</span><span class="op" id="2399401">,</span>&nbsp;<span class="string" id="2399403">&#39;x&#39;</span><span class="op" id="2399406">,</span>&nbsp;<span class="string" id="2399408">&#39;X&#39;</span><span class="op" id="2399411">,</span>&nbsp;<span class="string" id="2399413">&#39;q&#39;</span><span class="op" id="2399416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399421">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399455">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399505">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399552">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399597">switch</span>&nbsp;<span class="ident" id="2399604">v</span>&nbsp;<span class="op" id="2399606">:=</span>&nbsp;<span class="ident" id="2399609">p</span><span class="op" id="2399610">.</span><span class="ident" id="2399611">arg</span><span class="op" id="2399614">.</span><span class="op" id="2399615">(</span><span class="keyword" id="2399616">type</span><span class="op" id="2399620">)</span>&nbsp;<span class="op" id="2399622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399627">case</span>&nbsp;<span class="builtintype" id="2399632">error</span><span class="op" id="2399637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399643">handled</span>&nbsp;<span class="op" id="2399651">=</span>&nbsp;<span class="builtintype" id="2399653">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399662">defer</span>&nbsp;<span class="ident" id="2399668">p</span><span class="op" id="2399669">.</span><span class="ident" id="2399670">catchPanic</span><span class="op" id="2399680">(</span><span class="ident" id="2399681">p</span><span class="op" id="2399682">.</span><span class="ident" id="2399683">arg</span><span class="op" id="2399686">,</span>&nbsp;<span class="ident" id="2399688">verb</span><span class="op" id="2399692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399698">p</span><span class="op" id="2399699">.</span><span class="ident" id="2399700">printArg</span><span class="op" id="2399708">(</span><span class="ident" id="2399709">v</span><span class="op" id="2399710">.</span><span class="ident" id="2399711">Error</span><span class="op" id="2399716">(</span><span class="op" id="2399717">)</span><span class="op" id="2399718">,</span>&nbsp;<span class="ident" id="2399720">verb</span><span class="op" id="2399724">,</span>&nbsp;<span class="ident" id="2399726">depth</span><span class="op" id="2399731">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399737">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399748">case</span>&nbsp;<span class="ident" id="2399753">Stringer</span><span class="op" id="2399761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399767">handled</span>&nbsp;<span class="op" id="2399775">=</span>&nbsp;<span class="builtintype" id="2399777">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399786">defer</span>&nbsp;<span class="ident" id="2399792">p</span><span class="op" id="2399793">.</span><span class="ident" id="2399794">catchPanic</span><span class="op" id="2399804">(</span><span class="ident" id="2399805">p</span><span class="op" id="2399806">.</span><span class="ident" id="2399807">arg</span><span class="op" id="2399810">,</span>&nbsp;<span class="ident" id="2399812">verb</span><span class="op" id="2399816">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399822">p</span><span class="op" id="2399823">.</span><span class="ident" id="2399824">printArg</span><span class="op" id="2399832">(</span><span class="ident" id="2399833">v</span><span class="op" id="2399834">.</span><span class="ident" id="2399835">String</span><span class="op" id="2399841">(</span><span class="op" id="2399842">)</span><span class="op" id="2399843">,</span>&nbsp;<span class="ident" id="2399845">verb</span><span class="op" id="2399849">,</span>&nbsp;<span class="ident" id="2399851">depth</span><span class="op" id="2399856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399862">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2399872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2399876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2399879">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399882">return</span>&nbsp;<span class="builtintype" id="2399889">false</span><br>
<span class="lineno"></span><span class="op" id="2399895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2399898">func</span>&nbsp;<span class="op" id="2399903">(</span><span class="ident" id="2399904">p</span>&nbsp;<span class="op" id="2399906">*</span><span class="ident" id="2399907">pp</span><span class="op" id="2399909">)</span>&nbsp;<span class="ident" id="2399911">printArg</span><span class="op" id="2399919">(</span><span class="ident" id="2399920">arg</span>&nbsp;<span class="keyword" id="2399924">interface</span><span class="op" id="2399933">{</span><span class="op" id="2399934">}</span><span class="op" id="2399935">,</span>&nbsp;<span class="ident" id="2399937">verb</span>&nbsp;<span class="builtintype" id="2399942">rune</span><span class="op" id="2399946">,</span>&nbsp;<span class="ident" id="2399948">depth</span>&nbsp;<span class="builtintype" id="2399954">int</span><span class="op" id="2399957">)</span>&nbsp;<span class="op" id="2399959">(</span><span class="ident" id="2399960">wasString</span>&nbsp;<span class="builtintype" id="2399970">bool</span><span class="op" id="2399974">)</span>&nbsp;<span class="op" id="2399976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399979">p</span><span class="op" id="2399980">.</span><span class="ident" id="2399981">arg</span>&nbsp;<span class="op" id="2399985">=</span>&nbsp;<span class="ident" id="2399987">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399992">p</span><span class="op" id="2399993">.</span><span class="ident" id="2399994">value</span>&nbsp;<span class="op" id="2400000">=</span>&nbsp;<span class="ident" id="2400002">reflect</span><span class="op" id="2400009">.</span><span class="ident" id="2400010">Value</span><span class="op" id="2400015">{</span><span class="op" id="2400016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400020">if</span>&nbsp;<span class="ident" id="2400023">arg</span>&nbsp;<span class="op" id="2400027">==</span>&nbsp;<span class="ident" id="2400030">nil</span>&nbsp;<span class="op" id="2400034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400038">if</span>&nbsp;<span class="ident" id="2400041">verb</span>&nbsp;<span class="op" id="2400046">==</span>&nbsp;<span class="string" id="2400049">&#39;T&#39;</span>&nbsp;<span class="op" id="2400053">||</span>&nbsp;<span class="ident" id="2400056">verb</span>&nbsp;<span class="op" id="2400061">==</span>&nbsp;<span class="string" id="2400064">&#39;v&#39;</span>&nbsp;<span class="op" id="2400068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400073">p</span><span class="op" id="2400074">.</span><span class="ident" id="2400075">fmt</span><span class="op" id="2400078">.</span><span class="ident" id="2400079">pad</span><span class="op" id="2400082">(</span><span class="ident" id="2400083">nilAngleBytes</span><span class="op" id="2400096">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400100">}</span>&nbsp;<span class="keyword" id="2400102">else</span>&nbsp;<span class="op" id="2400107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400112">p</span><span class="op" id="2400113">.</span><span class="ident" id="2400114">badVerb</span><span class="op" id="2400121">(</span><span class="ident" id="2400122">verb</span><span class="op" id="2400126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400134">return</span>&nbsp;<span class="builtintype" id="2400141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400148">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400152">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400191">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400276">switch</span>&nbsp;<span class="ident" id="2400283">verb</span>&nbsp;<span class="op" id="2400288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400291">case</span>&nbsp;<span class="string" id="2400296">&#39;T&#39;</span><span class="op" id="2400299">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400303">p</span><span class="op" id="2400304">.</span><span class="ident" id="2400305">printArg</span><span class="op" id="2400313">(</span><span class="ident" id="2400314">reflect</span><span class="op" id="2400321">.</span><span class="ident" id="2400322">TypeOf</span><span class="op" id="2400328">(</span><span class="ident" id="2400329">arg</span><span class="op" id="2400332">)</span><span class="op" id="2400333">.</span><span class="ident" id="2400334">String</span><span class="op" id="2400340">(</span><span class="op" id="2400341">)</span><span class="op" id="2400342">,</span>&nbsp;<span class="string" id="2400344">&#39;s&#39;</span><span class="op" id="2400347">,</span>&nbsp;<span class="num" id="2400349">0</span><span class="op" id="2400350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400354">return</span>&nbsp;<span class="builtintype" id="2400361">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400368">case</span>&nbsp;<span class="string" id="2400373">&#39;p&#39;</span><span class="op" id="2400376">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400380">p</span><span class="op" id="2400381">.</span><span class="ident" id="2400382">fmtPointer</span><span class="op" id="2400392">(</span><span class="ident" id="2400393">reflect</span><span class="op" id="2400400">.</span><span class="ident" id="2400401">ValueOf</span><span class="op" id="2400408">(</span><span class="ident" id="2400409">arg</span><span class="op" id="2400412">)</span><span class="op" id="2400413">,</span>&nbsp;<span class="ident" id="2400415">verb</span><span class="op" id="2400419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400423">return</span>&nbsp;<span class="builtintype" id="2400430">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400441">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400488">switch</span>&nbsp;<span class="ident" id="2400495">f</span>&nbsp;<span class="op" id="2400497">:=</span>&nbsp;<span class="ident" id="2400500">arg</span><span class="op" id="2400503">.</span><span class="op" id="2400504">(</span><span class="keyword" id="2400505">type</span><span class="op" id="2400509">)</span>&nbsp;<span class="op" id="2400511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400514">case</span>&nbsp;<span class="builtintype" id="2400519">bool</span><span class="op" id="2400523">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400527">p</span><span class="op" id="2400528">.</span><span class="ident" id="2400529">fmtBool</span><span class="op" id="2400536">(</span><span class="ident" id="2400537">f</span><span class="op" id="2400538">,</span>&nbsp;<span class="ident" id="2400540">verb</span><span class="op" id="2400544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400547">case</span>&nbsp;<span class="builtintype" id="2400552">float32</span><span class="op" id="2400559">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400563">p</span><span class="op" id="2400564">.</span><span class="ident" id="2400565">fmtFloat32</span><span class="op" id="2400575">(</span><span class="ident" id="2400576">f</span><span class="op" id="2400577">,</span>&nbsp;<span class="ident" id="2400579">verb</span><span class="op" id="2400583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400586">case</span>&nbsp;<span class="builtintype" id="2400591">float64</span><span class="op" id="2400598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400602">p</span><span class="op" id="2400603">.</span><span class="ident" id="2400604">fmtFloat64</span><span class="op" id="2400614">(</span><span class="ident" id="2400615">f</span><span class="op" id="2400616">,</span>&nbsp;<span class="ident" id="2400618">verb</span><span class="op" id="2400622">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400625">case</span>&nbsp;<span class="builtintype" id="2400630">complex64</span><span class="op" id="2400639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400643">p</span><span class="op" id="2400644">.</span><span class="ident" id="2400645">fmtComplex64</span><span class="op" id="2400657">(</span><span class="ident" id="2400658">f</span><span class="op" id="2400659">,</span>&nbsp;<span class="ident" id="2400661">verb</span><span class="op" id="2400665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400668">case</span>&nbsp;<span class="builtintype" id="2400673">complex128</span><span class="op" id="2400683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400687">p</span><span class="op" id="2400688">.</span><span class="ident" id="2400689">fmtComplex128</span><span class="op" id="2400702">(</span><span class="ident" id="2400703">f</span><span class="op" id="2400704">,</span>&nbsp;<span class="ident" id="2400706">verb</span><span class="op" id="2400710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400713">case</span>&nbsp;<span class="builtintype" id="2400718">int</span><span class="op" id="2400721">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400725">p</span><span class="op" id="2400726">.</span><span class="ident" id="2400727">fmtInt64</span><span class="op" id="2400735">(</span><span class="ident" id="2400736">int64</span><span class="op" id="2400741">(</span><span class="ident" id="2400742">f</span><span class="op" id="2400743">)</span><span class="op" id="2400744">,</span>&nbsp;<span class="ident" id="2400746">verb</span><span class="op" id="2400750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400753">case</span>&nbsp;<span class="builtintype" id="2400758">int8</span><span class="op" id="2400762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400766">p</span><span class="op" id="2400767">.</span><span class="ident" id="2400768">fmtInt64</span><span class="op" id="2400776">(</span><span class="ident" id="2400777">int64</span><span class="op" id="2400782">(</span><span class="ident" id="2400783">f</span><span class="op" id="2400784">)</span><span class="op" id="2400785">,</span>&nbsp;<span class="ident" id="2400787">verb</span><span class="op" id="2400791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400794">case</span>&nbsp;<span class="builtintype" id="2400799">int16</span><span class="op" id="2400804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400808">p</span><span class="op" id="2400809">.</span><span class="ident" id="2400810">fmtInt64</span><span class="op" id="2400818">(</span><span class="ident" id="2400819">int64</span><span class="op" id="2400824">(</span><span class="ident" id="2400825">f</span><span class="op" id="2400826">)</span><span class="op" id="2400827">,</span>&nbsp;<span class="ident" id="2400829">verb</span><span class="op" id="2400833">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400836">case</span>&nbsp;<span class="builtintype" id="2400841">int32</span><span class="op" id="2400846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400850">p</span><span class="op" id="2400851">.</span><span class="ident" id="2400852">fmtInt64</span><span class="op" id="2400860">(</span><span class="ident" id="2400861">int64</span><span class="op" id="2400866">(</span><span class="ident" id="2400867">f</span><span class="op" id="2400868">)</span><span class="op" id="2400869">,</span>&nbsp;<span class="ident" id="2400871">verb</span><span class="op" id="2400875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400878">case</span>&nbsp;<span class="ident" id="2400883">int64</span><span class="op" id="2400888">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400892">p</span><span class="op" id="2400893">.</span><span class="ident" id="2400894">fmtInt64</span><span class="op" id="2400902">(</span><span class="ident" id="2400903">f</span><span class="op" id="2400904">,</span>&nbsp;<span class="ident" id="2400906">verb</span><span class="op" id="2400910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400913">case</span>&nbsp;<span class="builtintype" id="2400918">uint</span><span class="op" id="2400922">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400926">p</span><span class="op" id="2400927">.</span><span class="ident" id="2400928">fmtUint64</span><span class="op" id="2400937">(</span><span class="ident" id="2400938">uint64</span><span class="op" id="2400944">(</span><span class="ident" id="2400945">f</span><span class="op" id="2400946">)</span><span class="op" id="2400947">,</span>&nbsp;<span class="ident" id="2400949">verb</span><span class="op" id="2400953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400956">case</span>&nbsp;<span class="builtintype" id="2400961">uint8</span><span class="op" id="2400966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400970">p</span><span class="op" id="2400971">.</span><span class="ident" id="2400972">fmtUint64</span><span class="op" id="2400981">(</span><span class="ident" id="2400982">uint64</span><span class="op" id="2400988">(</span><span class="ident" id="2400989">f</span><span class="op" id="2400990">)</span><span class="op" id="2400991">,</span>&nbsp;<span class="ident" id="2400993">verb</span><span class="op" id="2400997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401000">case</span>&nbsp;<span class="builtintype" id="2401005">uint16</span><span class="op" id="2401011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401015">p</span><span class="op" id="2401016">.</span><span class="ident" id="2401017">fmtUint64</span><span class="op" id="2401026">(</span><span class="ident" id="2401027">uint64</span><span class="op" id="2401033">(</span><span class="ident" id="2401034">f</span><span class="op" id="2401035">)</span><span class="op" id="2401036">,</span>&nbsp;<span class="ident" id="2401038">verb</span><span class="op" id="2401042">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401045">case</span>&nbsp;<span class="builtintype" id="2401050">uint32</span><span class="op" id="2401056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401060">p</span><span class="op" id="2401061">.</span><span class="ident" id="2401062">fmtUint64</span><span class="op" id="2401071">(</span><span class="ident" id="2401072">uint64</span><span class="op" id="2401078">(</span><span class="ident" id="2401079">f</span><span class="op" id="2401080">)</span><span class="op" id="2401081">,</span>&nbsp;<span class="ident" id="2401083">verb</span><span class="op" id="2401087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401090">case</span>&nbsp;<span class="ident" id="2401095">uint64</span><span class="op" id="2401101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401105">p</span><span class="op" id="2401106">.</span><span class="ident" id="2401107">fmtUint64</span><span class="op" id="2401116">(</span><span class="ident" id="2401117">f</span><span class="op" id="2401118">,</span>&nbsp;<span class="ident" id="2401120">verb</span><span class="op" id="2401124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401127">case</span>&nbsp;<span class="builtintype" id="2401132">uintptr</span><span class="op" id="2401139">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401143">p</span><span class="op" id="2401144">.</span><span class="ident" id="2401145">fmtUint64</span><span class="op" id="2401154">(</span><span class="ident" id="2401155">uint64</span><span class="op" id="2401161">(</span><span class="ident" id="2401162">f</span><span class="op" id="2401163">)</span><span class="op" id="2401164">,</span>&nbsp;<span class="ident" id="2401166">verb</span><span class="op" id="2401170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401173">case</span>&nbsp;<span class="builtintype" id="2401178">string</span><span class="op" id="2401184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401188">p</span><span class="op" id="2401189">.</span><span class="ident" id="2401190">fmtString</span><span class="op" id="2401199">(</span><span class="ident" id="2401200">f</span><span class="op" id="2401201">,</span>&nbsp;<span class="ident" id="2401203">verb</span><span class="op" id="2401207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401211">wasString</span>&nbsp;<span class="op" id="2401221">=</span>&nbsp;<span class="ident" id="2401223">verb</span>&nbsp;<span class="op" id="2401228">==</span>&nbsp;<span class="string" id="2401231">&#39;s&#39;</span>&nbsp;<span class="op" id="2401235">||</span>&nbsp;<span class="ident" id="2401238">verb</span>&nbsp;<span class="op" id="2401243">==</span>&nbsp;<span class="string" id="2401246">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401251">case</span>&nbsp;<span class="op" id="2401256">[</span><span class="op" id="2401257">]</span><span class="builtintype" id="2401258">byte</span><span class="op" id="2401262">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401266">p</span><span class="op" id="2401267">.</span><span class="ident" id="2401268">fmtBytes</span><span class="op" id="2401276">(</span><span class="ident" id="2401277">f</span><span class="op" id="2401278">,</span>&nbsp;<span class="ident" id="2401280">verb</span><span class="op" id="2401284">,</span>&nbsp;<span class="ident" id="2401286">nil</span><span class="op" id="2401289">,</span>&nbsp;<span class="ident" id="2401291">depth</span><span class="op" id="2401296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401300">wasString</span>&nbsp;<span class="op" id="2401310">=</span>&nbsp;<span class="ident" id="2401312">verb</span>&nbsp;<span class="op" id="2401317">==</span>&nbsp;<span class="string" id="2401320">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401325">default</span><span class="op" id="2401332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2401336">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401391">if</span>&nbsp;<span class="ident" id="2401394">handled</span>&nbsp;<span class="op" id="2401402">:=</span>&nbsp;<span class="ident" id="2401405">p</span><span class="op" id="2401406">.</span><span class="ident" id="2401407">handleMethods</span><span class="op" id="2401420">(</span><span class="ident" id="2401421">verb</span><span class="op" id="2401425">,</span>&nbsp;<span class="ident" id="2401427">depth</span><span class="op" id="2401432">)</span><span class="op" id="2401433">;</span>&nbsp;<span class="ident" id="2401435">handled</span>&nbsp;<span class="op" id="2401443">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401448">return</span>&nbsp;<span class="builtintype" id="2401455">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2401467">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401495">return</span>&nbsp;<span class="ident" id="2401502">p</span><span class="op" id="2401503">.</span><span class="ident" id="2401504">printReflectValue</span><span class="op" id="2401521">(</span><span class="ident" id="2401522">reflect</span><span class="op" id="2401529">.</span><span class="ident" id="2401530">ValueOf</span><span class="op" id="2401537">(</span><span class="ident" id="2401538">arg</span><span class="op" id="2401541">)</span><span class="op" id="2401542">,</span>&nbsp;<span class="ident" id="2401544">verb</span><span class="op" id="2401548">,</span>&nbsp;<span class="ident" id="2401550">depth</span><span class="op" id="2401555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401558">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401561">p</span><span class="op" id="2401562">.</span><span class="ident" id="2401563">arg</span>&nbsp;<span class="op" id="2401567">=</span>&nbsp;<span class="ident" id="2401569">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401574">return</span><br>
<span class="lineno"></span><span class="op" id="2401581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401584">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2401674">func</span>&nbsp;<span class="op" id="2401679">(</span><span class="ident" id="2401680">p</span>&nbsp;<span class="op" id="2401682">*</span><span class="ident" id="2401683">pp</span><span class="op" id="2401685">)</span>&nbsp;<span class="ident" id="2401687">printValue</span><span class="op" id="2401697">(</span><span class="ident" id="2401698">value</span>&nbsp;<span class="ident" id="2401704">reflect</span><span class="op" id="2401711">.</span><span class="ident" id="2401712">Value</span><span class="op" id="2401717">,</span>&nbsp;<span class="ident" id="2401719">verb</span>&nbsp;<span class="builtintype" id="2401724">rune</span><span class="op" id="2401728">,</span>&nbsp;<span class="ident" id="2401730">depth</span>&nbsp;<span class="builtintype" id="2401736">int</span><span class="op" id="2401739">)</span>&nbsp;<span class="op" id="2401741">(</span><span class="ident" id="2401742">wasString</span>&nbsp;<span class="builtintype" id="2401752">bool</span><span class="op" id="2401756">)</span>&nbsp;<span class="op" id="2401758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401761">if</span>&nbsp;<span class="op" id="2401764">!</span><span class="ident" id="2401765">value</span><span class="op" id="2401770">.</span><span class="ident" id="2401771">IsValid</span><span class="op" id="2401778">(</span><span class="op" id="2401779">)</span>&nbsp;<span class="op" id="2401781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401785">if</span>&nbsp;<span class="ident" id="2401788">verb</span>&nbsp;<span class="op" id="2401793">==</span>&nbsp;<span class="string" id="2401796">&#39;T&#39;</span>&nbsp;<span class="op" id="2401800">||</span>&nbsp;<span class="ident" id="2401803">verb</span>&nbsp;<span class="op" id="2401808">==</span>&nbsp;<span class="string" id="2401811">&#39;v&#39;</span>&nbsp;<span class="op" id="2401815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401820">p</span><span class="op" id="2401821">.</span><span class="ident" id="2401822">buf</span><span class="op" id="2401825">.</span><span class="ident" id="2401826">Write</span><span class="op" id="2401831">(</span><span class="ident" id="2401832">nilAngleBytes</span><span class="op" id="2401845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401849">}</span>&nbsp;<span class="keyword" id="2401851">else</span>&nbsp;<span class="op" id="2401856">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401861">p</span><span class="op" id="2401862">.</span><span class="ident" id="2401863">badVerb</span><span class="op" id="2401870">(</span><span class="ident" id="2401871">verb</span><span class="op" id="2401875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401883">return</span>&nbsp;<span class="builtintype" id="2401890">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2401901">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2401940">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402025">switch</span>&nbsp;<span class="ident" id="2402032">verb</span>&nbsp;<span class="op" id="2402037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402040">case</span>&nbsp;<span class="string" id="2402045">&#39;T&#39;</span><span class="op" id="2402048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402052">p</span><span class="op" id="2402053">.</span><span class="ident" id="2402054">printArg</span><span class="op" id="2402062">(</span><span class="ident" id="2402063">value</span><span class="op" id="2402068">.</span><span class="ident" id="2402069">Type</span><span class="op" id="2402073">(</span><span class="op" id="2402074">)</span><span class="op" id="2402075">.</span><span class="ident" id="2402076">String</span><span class="op" id="2402082">(</span><span class="op" id="2402083">)</span><span class="op" id="2402084">,</span>&nbsp;<span class="string" id="2402086">&#39;s&#39;</span><span class="op" id="2402089">,</span>&nbsp;<span class="num" id="2402091">0</span><span class="op" id="2402092">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402096">return</span>&nbsp;<span class="builtintype" id="2402103">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402110">case</span>&nbsp;<span class="string" id="2402115">&#39;p&#39;</span><span class="op" id="2402118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402122">p</span><span class="op" id="2402123">.</span><span class="ident" id="2402124">fmtPointer</span><span class="op" id="2402134">(</span><span class="ident" id="2402135">value</span><span class="op" id="2402140">,</span>&nbsp;<span class="ident" id="2402142">verb</span><span class="op" id="2402146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402150">return</span>&nbsp;<span class="builtintype" id="2402157">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2402164">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402168">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402208">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402295">p</span><span class="op" id="2402296">.</span><span class="ident" id="2402297">arg</span>&nbsp;<span class="op" id="2402301">=</span>&nbsp;<span class="ident" id="2402303">nil</span>&nbsp;<span class="comment" id="2402307">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402347">if</span>&nbsp;<span class="ident" id="2402350">value</span><span class="op" id="2402355">.</span><span class="ident" id="2402356">CanInterface</span><span class="op" id="2402368">(</span><span class="op" id="2402369">)</span>&nbsp;<span class="op" id="2402371">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402375">p</span><span class="op" id="2402376">.</span><span class="ident" id="2402377">arg</span>&nbsp;<span class="op" id="2402381">=</span>&nbsp;<span class="ident" id="2402383">value</span><span class="op" id="2402388">.</span><span class="ident" id="2402389">Interface</span><span class="op" id="2402398">(</span><span class="op" id="2402399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2402402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402405">if</span>&nbsp;<span class="ident" id="2402408">handled</span>&nbsp;<span class="op" id="2402416">:=</span>&nbsp;<span class="ident" id="2402419">p</span><span class="op" id="2402420">.</span><span class="ident" id="2402421">handleMethods</span><span class="op" id="2402434">(</span><span class="ident" id="2402435">verb</span><span class="op" id="2402439">,</span>&nbsp;<span class="ident" id="2402441">depth</span><span class="op" id="2402446">)</span><span class="op" id="2402447">;</span>&nbsp;<span class="ident" id="2402449">handled</span>&nbsp;<span class="op" id="2402457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402461">return</span>&nbsp;<span class="builtintype" id="2402468">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2402475">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402479">return</span>&nbsp;<span class="ident" id="2402486">p</span><span class="op" id="2402487">.</span><span class="ident" id="2402488">printReflectValue</span><span class="op" id="2402505">(</span><span class="ident" id="2402506">value</span><span class="op" id="2402511">,</span>&nbsp;<span class="ident" id="2402513">verb</span><span class="op" id="2402517">,</span>&nbsp;<span class="ident" id="2402519">depth</span><span class="op" id="2402524">)</span><br>
<span class="lineno"></span><span class="op" id="2402526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2402529">var</span>&nbsp;<span class="ident" id="2402533">byteType</span>&nbsp;<span class="op" id="2402542">=</span>&nbsp;<span class="ident" id="2402544">reflect</span><span class="op" id="2402551">.</span><span class="ident" id="2402552">TypeOf</span><span class="op" id="2402558">(</span><span class="builtintype" id="2402559">byte</span><span class="op" id="2402563">(</span><span class="num" id="2402564">0</span><span class="op" id="2402565">)</span><span class="op" id="2402566">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2402569">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2402640">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2402679">func</span>&nbsp;<span class="op" id="2402684">(</span><span class="ident" id="2402685">p</span>&nbsp;<span class="op" id="2402687">*</span><span class="ident" id="2402688">pp</span><span class="op" id="2402690">)</span>&nbsp;<span class="ident" id="2402692">printReflectValue</span><span class="op" id="2402709">(</span><span class="ident" id="2402710">value</span>&nbsp;<span class="ident" id="2402716">reflect</span><span class="op" id="2402723">.</span><span class="ident" id="2402724">Value</span><span class="op" id="2402729">,</span>&nbsp;<span class="ident" id="2402731">verb</span>&nbsp;<span class="builtintype" id="2402736">rune</span><span class="op" id="2402740">,</span>&nbsp;<span class="ident" id="2402742">depth</span>&nbsp;<span class="builtintype" id="2402748">int</span><span class="op" id="2402751">)</span>&nbsp;<span class="op" id="2402753">(</span><span class="ident" id="2402754">wasString</span>&nbsp;<span class="builtintype" id="2402764">bool</span><span class="op" id="2402768">)</span>&nbsp;<span class="op" id="2402770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402773">oldValue</span>&nbsp;<span class="op" id="2402782">:=</span>&nbsp;<span class="ident" id="2402785">p</span><span class="op" id="2402786">.</span><span class="ident" id="2402787">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402794">p</span><span class="op" id="2402795">.</span><span class="ident" id="2402796">value</span>&nbsp;<span class="op" id="2402802">=</span>&nbsp;<span class="ident" id="2402804">value</span><br>
<span class="lineno"></span><span class="ident" id="2402810">BigSwitch</span><span class="op" id="2402819">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402822">switch</span>&nbsp;<span class="ident" id="2402829">f</span>&nbsp;<span class="op" id="2402831">:=</span>&nbsp;<span class="ident" id="2402834">value</span><span class="op" id="2402839">;</span>&nbsp;<span class="ident" id="2402841">f</span><span class="op" id="2402842">.</span><span class="ident" id="2402843">Kind</span><span class="op" id="2402847">(</span><span class="op" id="2402848">)</span>&nbsp;<span class="op" id="2402850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402853">case</span>&nbsp;<span class="ident" id="2402858">reflect</span><span class="op" id="2402865">.</span><span class="ident" id="2402866">Bool</span><span class="op" id="2402870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402874">p</span><span class="op" id="2402875">.</span><span class="ident" id="2402876">fmtBool</span><span class="op" id="2402883">(</span><span class="ident" id="2402884">f</span><span class="op" id="2402885">.</span><span class="ident" id="2402886">Bool</span><span class="op" id="2402890">(</span><span class="op" id="2402891">)</span><span class="op" id="2402892">,</span>&nbsp;<span class="ident" id="2402894">verb</span><span class="op" id="2402898">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402901">case</span>&nbsp;<span class="ident" id="2402906">reflect</span><span class="op" id="2402913">.</span><span class="ident" id="2402914">Int</span><span class="op" id="2402917">,</span>&nbsp;<span class="ident" id="2402919">reflect</span><span class="op" id="2402926">.</span><span class="ident" id="2402927">Int8</span><span class="op" id="2402931">,</span>&nbsp;<span class="ident" id="2402933">reflect</span><span class="op" id="2402940">.</span><span class="ident" id="2402941">Int16</span><span class="op" id="2402946">,</span>&nbsp;<span class="ident" id="2402948">reflect</span><span class="op" id="2402955">.</span><span class="ident" id="2402956">Int32</span><span class="op" id="2402961">,</span>&nbsp;<span class="ident" id="2402963">reflect</span><span class="op" id="2402970">.</span><span class="ident" id="2402971">Int64</span><span class="op" id="2402976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402980">p</span><span class="op" id="2402981">.</span><span class="ident" id="2402982">fmtInt64</span><span class="op" id="2402990">(</span><span class="ident" id="2402991">f</span><span class="op" id="2402992">.</span><span class="ident" id="2402993">Int</span><span class="op" id="2402996">(</span><span class="op" id="2402997">)</span><span class="op" id="2402998">,</span>&nbsp;<span class="ident" id="2403000">verb</span><span class="op" id="2403004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403007">case</span>&nbsp;<span class="ident" id="2403012">reflect</span><span class="op" id="2403019">.</span><span class="ident" id="2403020">Uint</span><span class="op" id="2403024">,</span>&nbsp;<span class="ident" id="2403026">reflect</span><span class="op" id="2403033">.</span><span class="ident" id="2403034">Uint8</span><span class="op" id="2403039">,</span>&nbsp;<span class="ident" id="2403041">reflect</span><span class="op" id="2403048">.</span><span class="ident" id="2403049">Uint16</span><span class="op" id="2403055">,</span>&nbsp;<span class="ident" id="2403057">reflect</span><span class="op" id="2403064">.</span><span class="ident" id="2403065">Uint32</span><span class="op" id="2403071">,</span>&nbsp;<span class="ident" id="2403073">reflect</span><span class="op" id="2403080">.</span><span class="ident" id="2403081">Uint64</span><span class="op" id="2403087">,</span>&nbsp;<span class="ident" id="2403089">reflect</span><span class="op" id="2403096">.</span><span class="ident" id="2403097">Uintptr</span><span class="op" id="2403104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403108">p</span><span class="op" id="2403109">.</span><span class="ident" id="2403110">fmtUint64</span><span class="op" id="2403119">(</span><span class="ident" id="2403120">f</span><span class="op" id="2403121">.</span><span class="ident" id="2403122">Uint</span><span class="op" id="2403126">(</span><span class="op" id="2403127">)</span><span class="op" id="2403128">,</span>&nbsp;<span class="ident" id="2403130">verb</span><span class="op" id="2403134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403137">case</span>&nbsp;<span class="ident" id="2403142">reflect</span><span class="op" id="2403149">.</span><span class="ident" id="2403150">Float32</span><span class="op" id="2403157">,</span>&nbsp;<span class="ident" id="2403159">reflect</span><span class="op" id="2403166">.</span><span class="ident" id="2403167">Float64</span><span class="op" id="2403174">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403178">if</span>&nbsp;<span class="ident" id="2403181">f</span><span class="op" id="2403182">.</span><span class="ident" id="2403183">Type</span><span class="op" id="2403187">(</span><span class="op" id="2403188">)</span><span class="op" id="2403189">.</span><span class="ident" id="2403190">Size</span><span class="op" id="2403194">(</span><span class="op" id="2403195">)</span>&nbsp;<span class="op" id="2403197">==</span>&nbsp;<span class="num" id="2403200">4</span>&nbsp;<span class="op" id="2403202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403207">p</span><span class="op" id="2403208">.</span><span class="ident" id="2403209">fmtFloat32</span><span class="op" id="2403219">(</span><span class="builtintype" id="2403220">float32</span><span class="op" id="2403227">(</span><span class="ident" id="2403228">f</span><span class="op" id="2403229">.</span><span class="ident" id="2403230">Float</span><span class="op" id="2403235">(</span><span class="op" id="2403236">)</span><span class="op" id="2403237">)</span><span class="op" id="2403238">,</span>&nbsp;<span class="ident" id="2403240">verb</span><span class="op" id="2403244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403248">}</span>&nbsp;<span class="keyword" id="2403250">else</span>&nbsp;<span class="op" id="2403255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403260">p</span><span class="op" id="2403261">.</span><span class="ident" id="2403262">fmtFloat64</span><span class="op" id="2403272">(</span><span class="ident" id="2403273">f</span><span class="op" id="2403274">.</span><span class="ident" id="2403275">Float</span><span class="op" id="2403280">(</span><span class="op" id="2403281">)</span><span class="op" id="2403282">,</span>&nbsp;<span class="ident" id="2403284">verb</span><span class="op" id="2403288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403292">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403295">case</span>&nbsp;<span class="ident" id="2403300">reflect</span><span class="op" id="2403307">.</span><span class="ident" id="2403308">Complex64</span><span class="op" id="2403317">,</span>&nbsp;<span class="ident" id="2403319">reflect</span><span class="op" id="2403326">.</span><span class="ident" id="2403327">Complex128</span><span class="op" id="2403337">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403341">if</span>&nbsp;<span class="ident" id="2403344">f</span><span class="op" id="2403345">.</span><span class="ident" id="2403346">Type</span><span class="op" id="2403350">(</span><span class="op" id="2403351">)</span><span class="op" id="2403352">.</span><span class="ident" id="2403353">Size</span><span class="op" id="2403357">(</span><span class="op" id="2403358">)</span>&nbsp;<span class="op" id="2403360">==</span>&nbsp;<span class="num" id="2403363">8</span>&nbsp;<span class="op" id="2403365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403370">p</span><span class="op" id="2403371">.</span><span class="ident" id="2403372">fmtComplex64</span><span class="op" id="2403384">(</span><span class="builtintype" id="2403385">complex64</span><span class="op" id="2403394">(</span><span class="ident" id="2403395">f</span><span class="op" id="2403396">.</span><span class="ident" id="2403397">Complex</span><span class="op" id="2403404">(</span><span class="op" id="2403405">)</span><span class="op" id="2403406">)</span><span class="op" id="2403407">,</span>&nbsp;<span class="ident" id="2403409">verb</span><span class="op" id="2403413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403417">}</span>&nbsp;<span class="keyword" id="2403419">else</span>&nbsp;<span class="op" id="2403424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403429">p</span><span class="op" id="2403430">.</span><span class="ident" id="2403431">fmtComplex128</span><span class="op" id="2403444">(</span><span class="ident" id="2403445">f</span><span class="op" id="2403446">.</span><span class="ident" id="2403447">Complex</span><span class="op" id="2403454">(</span><span class="op" id="2403455">)</span><span class="op" id="2403456">,</span>&nbsp;<span class="ident" id="2403458">verb</span><span class="op" id="2403462">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403469">case</span>&nbsp;<span class="ident" id="2403474">reflect</span><span class="op" id="2403481">.</span><span class="ident" id="2403482">String</span><span class="op" id="2403488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403492">p</span><span class="op" id="2403493">.</span><span class="ident" id="2403494">fmtString</span><span class="op" id="2403503">(</span><span class="ident" id="2403504">f</span><span class="op" id="2403505">.</span><span class="ident" id="2403506">String</span><span class="op" id="2403512">(</span><span class="op" id="2403513">)</span><span class="op" id="2403514">,</span>&nbsp;<span class="ident" id="2403516">verb</span><span class="op" id="2403520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403523">case</span>&nbsp;<span class="ident" id="2403528">reflect</span><span class="op" id="2403535">.</span><span class="ident" id="2403536">Map</span><span class="op" id="2403539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403543">if</span>&nbsp;<span class="ident" id="2403546">p</span><span class="op" id="2403547">.</span><span class="ident" id="2403548">fmt</span><span class="op" id="2403551">.</span><span class="ident" id="2403552">sharpV</span>&nbsp;<span class="op" id="2403559">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403564">p</span><span class="op" id="2403565">.</span><span class="ident" id="2403566">buf</span><span class="op" id="2403569">.</span><span class="ident" id="2403570">WriteString</span><span class="op" id="2403581">(</span><span class="ident" id="2403582">f</span><span class="op" id="2403583">.</span><span class="ident" id="2403584">Type</span><span class="op" id="2403588">(</span><span class="op" id="2403589">)</span><span class="op" id="2403590">.</span><span class="ident" id="2403591">String</span><span class="op" id="2403597">(</span><span class="op" id="2403598">)</span><span class="op" id="2403599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403604">if</span>&nbsp;<span class="ident" id="2403607">f</span><span class="op" id="2403608">.</span><span class="ident" id="2403609">IsNil</span><span class="op" id="2403614">(</span><span class="op" id="2403615">)</span>&nbsp;<span class="op" id="2403617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403623">p</span><span class="op" id="2403624">.</span><span class="ident" id="2403625">buf</span><span class="op" id="2403628">.</span><span class="ident" id="2403629">WriteString</span><span class="op" id="2403640">(</span><span class="string" id="2403641">&#34;(nil)&#34;</span><span class="op" id="2403648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403654">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403663">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403668">p</span><span class="op" id="2403669">.</span><span class="ident" id="2403670">buf</span><span class="op" id="2403673">.</span><span class="ident" id="2403674">WriteByte</span><span class="op" id="2403683">(</span><span class="string" id="2403684">&#39;{&#39;</span><span class="op" id="2403687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403691">}</span>&nbsp;<span class="keyword" id="2403693">else</span>&nbsp;<span class="op" id="2403698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403703">p</span><span class="op" id="2403704">.</span><span class="ident" id="2403705">buf</span><span class="op" id="2403708">.</span><span class="ident" id="2403709">Write</span><span class="op" id="2403714">(</span><span class="ident" id="2403715">mapBytes</span><span class="op" id="2403723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403731">keys</span>&nbsp;<span class="op" id="2403736">:=</span>&nbsp;<span class="ident" id="2403739">f</span><span class="op" id="2403740">.</span><span class="ident" id="2403741">MapKeys</span><span class="op" id="2403748">(</span><span class="op" id="2403749">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403753">for</span>&nbsp;<span class="ident" id="2403757">i</span><span class="op" id="2403758">,</span>&nbsp;<span class="ident" id="2403760">key</span>&nbsp;<span class="op" id="2403764">:=</span>&nbsp;<span class="keyword" id="2403767">range</span>&nbsp;<span class="ident" id="2403773">keys</span>&nbsp;<span class="op" id="2403778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403783">if</span>&nbsp;<span class="ident" id="2403786">i</span>&nbsp;<span class="op" id="2403788">&gt;</span>&nbsp;<span class="num" id="2403790">0</span>&nbsp;<span class="op" id="2403792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403798">if</span>&nbsp;<span class="ident" id="2403801">p</span><span class="op" id="2403802">.</span><span class="ident" id="2403803">fmt</span><span class="op" id="2403806">.</span><span class="ident" id="2403807">sharpV</span>&nbsp;<span class="op" id="2403814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403821">p</span><span class="op" id="2403822">.</span><span class="ident" id="2403823">buf</span><span class="op" id="2403826">.</span><span class="ident" id="2403827">Write</span><span class="op" id="2403832">(</span><span class="ident" id="2403833">commaSpaceBytes</span><span class="op" id="2403848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403854">}</span>&nbsp;<span class="keyword" id="2403856">else</span>&nbsp;<span class="op" id="2403861">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403868">p</span><span class="op" id="2403869">.</span><span class="ident" id="2403870">buf</span><span class="op" id="2403873">.</span><span class="ident" id="2403874">WriteByte</span><span class="op" id="2403883">(</span><span class="string" id="2403884">&#39;&nbsp;&#39;</span><span class="op" id="2403887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403903">p</span><span class="op" id="2403904">.</span><span class="ident" id="2403905">printValue</span><span class="op" id="2403915">(</span><span class="ident" id="2403916">key</span><span class="op" id="2403919">,</span>&nbsp;<span class="ident" id="2403921">verb</span><span class="op" id="2403925">,</span>&nbsp;<span class="ident" id="2403927">depth</span><span class="op" id="2403932">+</span><span class="num" id="2403933">1</span><span class="op" id="2403934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403939">p</span><span class="op" id="2403940">.</span><span class="ident" id="2403941">buf</span><span class="op" id="2403944">.</span><span class="ident" id="2403945">WriteByte</span><span class="op" id="2403954">(</span><span class="string" id="2403955">&#39;:&#39;</span><span class="op" id="2403958">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403963">p</span><span class="op" id="2403964">.</span><span class="ident" id="2403965">printValue</span><span class="op" id="2403975">(</span><span class="ident" id="2403976">f</span><span class="op" id="2403977">.</span><span class="ident" id="2403978">MapIndex</span><span class="op" id="2403986">(</span><span class="ident" id="2403987">key</span><span class="op" id="2403990">)</span><span class="op" id="2403991">,</span>&nbsp;<span class="ident" id="2403993">verb</span><span class="op" id="2403997">,</span>&nbsp;<span class="ident" id="2403999">depth</span><span class="op" id="2404004">+</span><span class="num" id="2404005">1</span><span class="op" id="2404006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404014">if</span>&nbsp;<span class="ident" id="2404017">p</span><span class="op" id="2404018">.</span><span class="ident" id="2404019">fmt</span><span class="op" id="2404022">.</span><span class="ident" id="2404023">sharpV</span>&nbsp;<span class="op" id="2404030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404035">p</span><span class="op" id="2404036">.</span><span class="ident" id="2404037">buf</span><span class="op" id="2404040">.</span><span class="ident" id="2404041">WriteByte</span><span class="op" id="2404050">(</span><span class="string" id="2404051">&#39;}&#39;</span><span class="op" id="2404054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404058">}</span>&nbsp;<span class="keyword" id="2404060">else</span>&nbsp;<span class="op" id="2404065">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404070">p</span><span class="op" id="2404071">.</span><span class="ident" id="2404072">buf</span><span class="op" id="2404075">.</span><span class="ident" id="2404076">WriteByte</span><span class="op" id="2404085">(</span><span class="string" id="2404086">&#39;]&#39;</span><span class="op" id="2404089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404096">case</span>&nbsp;<span class="ident" id="2404101">reflect</span><span class="op" id="2404108">.</span><span class="ident" id="2404109">Struct</span><span class="op" id="2404115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404119">if</span>&nbsp;<span class="ident" id="2404122">p</span><span class="op" id="2404123">.</span><span class="ident" id="2404124">fmt</span><span class="op" id="2404127">.</span><span class="ident" id="2404128">sharpV</span>&nbsp;<span class="op" id="2404135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404140">p</span><span class="op" id="2404141">.</span><span class="ident" id="2404142">buf</span><span class="op" id="2404145">.</span><span class="ident" id="2404146">WriteString</span><span class="op" id="2404157">(</span><span class="ident" id="2404158">value</span><span class="op" id="2404163">.</span><span class="ident" id="2404164">Type</span><span class="op" id="2404168">(</span><span class="op" id="2404169">)</span><span class="op" id="2404170">.</span><span class="ident" id="2404171">String</span><span class="op" id="2404177">(</span><span class="op" id="2404178">)</span><span class="op" id="2404179">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404187">p</span><span class="op" id="2404188">.</span><span class="ident" id="2404189">add</span><span class="op" id="2404192">(</span><span class="string" id="2404193">&#39;{&#39;</span><span class="op" id="2404196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404200">v</span>&nbsp;<span class="op" id="2404202">:=</span>&nbsp;<span class="ident" id="2404205">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404209">t</span>&nbsp;<span class="op" id="2404211">:=</span>&nbsp;<span class="ident" id="2404214">v</span><span class="op" id="2404215">.</span><span class="ident" id="2404216">Type</span><span class="op" id="2404220">(</span><span class="op" id="2404221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404225">for</span>&nbsp;<span class="ident" id="2404229">i</span>&nbsp;<span class="op" id="2404231">:=</span>&nbsp;<span class="num" id="2404234">0</span><span class="op" id="2404235">;</span>&nbsp;<span class="ident" id="2404237">i</span>&nbsp;<span class="op" id="2404239">&lt;</span>&nbsp;<span class="ident" id="2404241">v</span><span class="op" id="2404242">.</span><span class="ident" id="2404243">NumField</span><span class="op" id="2404251">(</span><span class="op" id="2404252">)</span><span class="op" id="2404253">;</span>&nbsp;<span class="ident" id="2404255">i</span><span class="op" id="2404256">++</span>&nbsp;<span class="op" id="2404259">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404264">if</span>&nbsp;<span class="ident" id="2404267">i</span>&nbsp;<span class="op" id="2404269">&gt;</span>&nbsp;<span class="num" id="2404271">0</span>&nbsp;<span class="op" id="2404273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404279">if</span>&nbsp;<span class="ident" id="2404282">p</span><span class="op" id="2404283">.</span><span class="ident" id="2404284">fmt</span><span class="op" id="2404287">.</span><span class="ident" id="2404288">sharpV</span>&nbsp;<span class="op" id="2404295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404302">p</span><span class="op" id="2404303">.</span><span class="ident" id="2404304">buf</span><span class="op" id="2404307">.</span><span class="ident" id="2404308">Write</span><span class="op" id="2404313">(</span><span class="ident" id="2404314">commaSpaceBytes</span><span class="op" id="2404329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404335">}</span>&nbsp;<span class="keyword" id="2404337">else</span>&nbsp;<span class="op" id="2404342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404349">p</span><span class="op" id="2404350">.</span><span class="ident" id="2404351">buf</span><span class="op" id="2404354">.</span><span class="ident" id="2404355">WriteByte</span><span class="op" id="2404364">(</span><span class="string" id="2404365">&#39;&nbsp;&#39;</span><span class="op" id="2404368">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404384">if</span>&nbsp;<span class="ident" id="2404387">p</span><span class="op" id="2404388">.</span><span class="ident" id="2404389">fmt</span><span class="op" id="2404392">.</span><span class="ident" id="2404393">plusV</span>&nbsp;<span class="op" id="2404399">||</span>&nbsp;<span class="ident" id="2404402">p</span><span class="op" id="2404403">.</span><span class="ident" id="2404404">fmt</span><span class="op" id="2404407">.</span><span class="ident" id="2404408">sharpV</span>&nbsp;<span class="op" id="2404415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404421">if</span>&nbsp;<span class="ident" id="2404424">f</span>&nbsp;<span class="op" id="2404426">:=</span>&nbsp;<span class="ident" id="2404429">t</span><span class="op" id="2404430">.</span><span class="ident" id="2404431">Field</span><span class="op" id="2404436">(</span><span class="ident" id="2404437">i</span><span class="op" id="2404438">)</span><span class="op" id="2404439">;</span>&nbsp;<span class="ident" id="2404441">f</span><span class="op" id="2404442">.</span><span class="ident" id="2404443">Name</span>&nbsp;<span class="op" id="2404448">!=</span>&nbsp;<span class="string" id="2404451">&#34;&#34;</span>&nbsp;<span class="op" id="2404454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404461">p</span><span class="op" id="2404462">.</span><span class="ident" id="2404463">buf</span><span class="op" id="2404466">.</span><span class="ident" id="2404467">WriteString</span><span class="op" id="2404478">(</span><span class="ident" id="2404479">f</span><span class="op" id="2404480">.</span><span class="ident" id="2404481">Name</span><span class="op" id="2404485">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404492">p</span><span class="op" id="2404493">.</span><span class="ident" id="2404494">buf</span><span class="op" id="2404497">.</span><span class="ident" id="2404498">WriteByte</span><span class="op" id="2404507">(</span><span class="string" id="2404508">&#39;:&#39;</span><span class="op" id="2404511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404527">p</span><span class="op" id="2404528">.</span><span class="ident" id="2404529">printValue</span><span class="op" id="2404539">(</span><span class="ident" id="2404540">getField</span><span class="op" id="2404548">(</span><span class="ident" id="2404549">v</span><span class="op" id="2404550">,</span>&nbsp;<span class="ident" id="2404552">i</span><span class="op" id="2404553">)</span><span class="op" id="2404554">,</span>&nbsp;<span class="ident" id="2404556">verb</span><span class="op" id="2404560">,</span>&nbsp;<span class="ident" id="2404562">depth</span><span class="op" id="2404567">+</span><span class="num" id="2404568">1</span><span class="op" id="2404569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404573">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404577">p</span><span class="op" id="2404578">.</span><span class="ident" id="2404579">buf</span><span class="op" id="2404582">.</span><span class="ident" id="2404583">WriteByte</span><span class="op" id="2404592">(</span><span class="string" id="2404593">&#39;}&#39;</span><span class="op" id="2404596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404599">case</span>&nbsp;<span class="ident" id="2404604">reflect</span><span class="op" id="2404611">.</span><span class="ident" id="2404612">Interface</span><span class="op" id="2404621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404625">value</span>&nbsp;<span class="op" id="2404631">:=</span>&nbsp;<span class="ident" id="2404634">f</span><span class="op" id="2404635">.</span><span class="ident" id="2404636">Elem</span><span class="op" id="2404640">(</span><span class="op" id="2404641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404645">if</span>&nbsp;<span class="op" id="2404648">!</span><span class="ident" id="2404649">value</span><span class="op" id="2404654">.</span><span class="ident" id="2404655">IsValid</span><span class="op" id="2404662">(</span><span class="op" id="2404663">)</span>&nbsp;<span class="op" id="2404665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404670">if</span>&nbsp;<span class="ident" id="2404673">p</span><span class="op" id="2404674">.</span><span class="ident" id="2404675">fmt</span><span class="op" id="2404678">.</span><span class="ident" id="2404679">sharpV</span>&nbsp;<span class="op" id="2404686">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404692">p</span><span class="op" id="2404693">.</span><span class="ident" id="2404694">buf</span><span class="op" id="2404697">.</span><span class="ident" id="2404698">WriteString</span><span class="op" id="2404709">(</span><span class="ident" id="2404710">f</span><span class="op" id="2404711">.</span><span class="ident" id="2404712">Type</span><span class="op" id="2404716">(</span><span class="op" id="2404717">)</span><span class="op" id="2404718">.</span><span class="ident" id="2404719">String</span><span class="op" id="2404725">(</span><span class="op" id="2404726">)</span><span class="op" id="2404727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404733">p</span><span class="op" id="2404734">.</span><span class="ident" id="2404735">buf</span><span class="op" id="2404738">.</span><span class="ident" id="2404739">Write</span><span class="op" id="2404744">(</span><span class="ident" id="2404745">nilParenBytes</span><span class="op" id="2404758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404763">}</span>&nbsp;<span class="keyword" id="2404765">else</span>&nbsp;<span class="op" id="2404770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404776">p</span><span class="op" id="2404777">.</span><span class="ident" id="2404778">buf</span><span class="op" id="2404781">.</span><span class="ident" id="2404782">Write</span><span class="op" id="2404787">(</span><span class="ident" id="2404788">nilAngleBytes</span><span class="op" id="2404801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404806">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404810">}</span>&nbsp;<span class="keyword" id="2404812">else</span>&nbsp;<span class="op" id="2404817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404822">wasString</span>&nbsp;<span class="op" id="2404832">=</span>&nbsp;<span class="ident" id="2404834">p</span><span class="op" id="2404835">.</span><span class="ident" id="2404836">printValue</span><span class="op" id="2404846">(</span><span class="ident" id="2404847">value</span><span class="op" id="2404852">,</span>&nbsp;<span class="ident" id="2404854">verb</span><span class="op" id="2404858">,</span>&nbsp;<span class="ident" id="2404860">depth</span><span class="op" id="2404865">+</span><span class="num" id="2404866">1</span><span class="op" id="2404867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404874">case</span>&nbsp;<span class="ident" id="2404879">reflect</span><span class="op" id="2404886">.</span><span class="ident" id="2404887">Array</span><span class="op" id="2404892">,</span>&nbsp;<span class="ident" id="2404894">reflect</span><span class="op" id="2404901">.</span><span class="ident" id="2404902">Slice</span><span class="op" id="2404907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2404911">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2404941">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2404990">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405058">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405121">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405182">if</span>&nbsp;<span class="ident" id="2405185">typ</span>&nbsp;<span class="op" id="2405189">:=</span>&nbsp;<span class="ident" id="2405192">f</span><span class="op" id="2405193">.</span><span class="ident" id="2405194">Type</span><span class="op" id="2405198">(</span><span class="op" id="2405199">)</span><span class="op" id="2405200">;</span>&nbsp;<span class="ident" id="2405202">typ</span><span class="op" id="2405205">.</span><span class="ident" id="2405206">Elem</span><span class="op" id="2405210">(</span><span class="op" id="2405211">)</span><span class="op" id="2405212">.</span><span class="ident" id="2405213">Kind</span><span class="op" id="2405217">(</span><span class="op" id="2405218">)</span>&nbsp;<span class="op" id="2405220">==</span>&nbsp;<span class="ident" id="2405223">reflect</span><span class="op" id="2405230">.</span><span class="ident" id="2405231">Uint8</span>&nbsp;<span class="op" id="2405237">&amp;&amp;</span>&nbsp;<span class="op" id="2405240">(</span><span class="ident" id="2405241">typ</span><span class="op" id="2405244">.</span><span class="ident" id="2405245">Elem</span><span class="op" id="2405249">(</span><span class="op" id="2405250">)</span>&nbsp;<span class="op" id="2405252">==</span>&nbsp;<span class="ident" id="2405255">byteType</span>&nbsp;<span class="op" id="2405264">||</span>&nbsp;<span class="ident" id="2405267">verb</span>&nbsp;<span class="op" id="2405272">==</span>&nbsp;<span class="string" id="2405275">&#39;s&#39;</span>&nbsp;<span class="op" id="2405279">||</span>&nbsp;<span class="ident" id="2405282">verb</span>&nbsp;<span class="op" id="2405287">==</span>&nbsp;<span class="string" id="2405290">&#39;q&#39;</span>&nbsp;<span class="op" id="2405294">||</span>&nbsp;<span class="ident" id="2405297">verb</span>&nbsp;<span class="op" id="2405302">==</span>&nbsp;<span class="string" id="2405305">&#39;x&#39;</span><span class="op" id="2405308">)</span>&nbsp;<span class="op" id="2405310">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405315">var</span>&nbsp;<span class="ident" id="2405319">bytes</span>&nbsp;<span class="op" id="2405325">[</span><span class="op" id="2405326">]</span><span class="builtintype" id="2405327">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405335">if</span>&nbsp;<span class="ident" id="2405338">f</span><span class="op" id="2405339">.</span><span class="ident" id="2405340">Kind</span><span class="op" id="2405344">(</span><span class="op" id="2405345">)</span>&nbsp;<span class="op" id="2405347">==</span>&nbsp;<span class="ident" id="2405350">reflect</span><span class="op" id="2405357">.</span><span class="ident" id="2405358">Slice</span>&nbsp;<span class="op" id="2405364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405370">bytes</span>&nbsp;<span class="op" id="2405376">=</span>&nbsp;<span class="ident" id="2405378">f</span><span class="op" id="2405379">.</span><span class="ident" id="2405380">Bytes</span><span class="op" id="2405385">(</span><span class="op" id="2405386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405391">}</span>&nbsp;<span class="keyword" id="2405393">else</span>&nbsp;<span class="keyword" id="2405398">if</span>&nbsp;<span class="ident" id="2405401">f</span><span class="op" id="2405402">.</span><span class="ident" id="2405403">CanAddr</span><span class="op" id="2405410">(</span><span class="op" id="2405411">)</span>&nbsp;<span class="op" id="2405413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405419">bytes</span>&nbsp;<span class="op" id="2405425">=</span>&nbsp;<span class="ident" id="2405427">f</span><span class="op" id="2405428">.</span><span class="ident" id="2405429">Slice</span><span class="op" id="2405434">(</span><span class="num" id="2405435">0</span><span class="op" id="2405436">,</span>&nbsp;<span class="ident" id="2405438">f</span><span class="op" id="2405439">.</span><span class="ident" id="2405440">Len</span><span class="op" id="2405443">(</span><span class="op" id="2405444">)</span><span class="op" id="2405445">)</span><span class="op" id="2405446">.</span><span class="ident" id="2405447">Bytes</span><span class="op" id="2405452">(</span><span class="op" id="2405453">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405458">}</span>&nbsp;<span class="keyword" id="2405460">else</span>&nbsp;<span class="op" id="2405465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405471">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405543">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405620">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405667">bytes</span>&nbsp;<span class="op" id="2405673">=</span>&nbsp;<span class="builtinfunc" id="2405675">make</span><span class="op" id="2405679">(</span><span class="op" id="2405680">[</span><span class="op" id="2405681">]</span><span class="builtintype" id="2405682">byte</span><span class="op" id="2405686">,</span>&nbsp;<span class="ident" id="2405688">f</span><span class="op" id="2405689">.</span><span class="ident" id="2405690">Len</span><span class="op" id="2405693">(</span><span class="op" id="2405694">)</span><span class="op" id="2405695">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405701">for</span>&nbsp;<span class="ident" id="2405705">i</span>&nbsp;<span class="op" id="2405707">:=</span>&nbsp;<span class="keyword" id="2405710">range</span>&nbsp;<span class="ident" id="2405716">bytes</span>&nbsp;<span class="op" id="2405722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405729">bytes</span><span class="op" id="2405734">[</span><span class="ident" id="2405735">i</span><span class="op" id="2405736">]</span>&nbsp;<span class="op" id="2405738">=</span>&nbsp;<span class="builtintype" id="2405740">byte</span><span class="op" id="2405744">(</span><span class="ident" id="2405745">f</span><span class="op" id="2405746">.</span><span class="ident" id="2405747">Index</span><span class="op" id="2405752">(</span><span class="ident" id="2405753">i</span><span class="op" id="2405754">)</span><span class="op" id="2405755">.</span><span class="ident" id="2405756">Uint</span><span class="op" id="2405760">(</span><span class="op" id="2405761">)</span><span class="op" id="2405762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405778">p</span><span class="op" id="2405779">.</span><span class="ident" id="2405780">fmtBytes</span><span class="op" id="2405788">(</span><span class="ident" id="2405789">bytes</span><span class="op" id="2405794">,</span>&nbsp;<span class="ident" id="2405796">verb</span><span class="op" id="2405800">,</span>&nbsp;<span class="ident" id="2405802">typ</span><span class="op" id="2405805">,</span>&nbsp;<span class="ident" id="2405807">depth</span><span class="op" id="2405812">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405817">wasString</span>&nbsp;<span class="op" id="2405827">=</span>&nbsp;<span class="ident" id="2405829">verb</span>&nbsp;<span class="op" id="2405834">==</span>&nbsp;<span class="string" id="2405837">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405844">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405856">if</span>&nbsp;<span class="ident" id="2405859">p</span><span class="op" id="2405860">.</span><span class="ident" id="2405861">fmt</span><span class="op" id="2405864">.</span><span class="ident" id="2405865">sharpV</span>&nbsp;<span class="op" id="2405872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405877">p</span><span class="op" id="2405878">.</span><span class="ident" id="2405879">buf</span><span class="op" id="2405882">.</span><span class="ident" id="2405883">WriteString</span><span class="op" id="2405894">(</span><span class="ident" id="2405895">value</span><span class="op" id="2405900">.</span><span class="ident" id="2405901">Type</span><span class="op" id="2405905">(</span><span class="op" id="2405906">)</span><span class="op" id="2405907">.</span><span class="ident" id="2405908">String</span><span class="op" id="2405914">(</span><span class="op" id="2405915">)</span><span class="op" id="2405916">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405921">if</span>&nbsp;<span class="ident" id="2405924">f</span><span class="op" id="2405925">.</span><span class="ident" id="2405926">Kind</span><span class="op" id="2405930">(</span><span class="op" id="2405931">)</span>&nbsp;<span class="op" id="2405933">==</span>&nbsp;<span class="ident" id="2405936">reflect</span><span class="op" id="2405943">.</span><span class="ident" id="2405944">Slice</span>&nbsp;<span class="op" id="2405950">&amp;&amp;</span>&nbsp;<span class="ident" id="2405953">f</span><span class="op" id="2405954">.</span><span class="ident" id="2405955">IsNil</span><span class="op" id="2405960">(</span><span class="op" id="2405961">)</span>&nbsp;<span class="op" id="2405963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405969">p</span><span class="op" id="2405970">.</span><span class="ident" id="2405971">buf</span><span class="op" id="2405974">.</span><span class="ident" id="2405975">WriteString</span><span class="op" id="2405986">(</span><span class="string" id="2405987">&#34;(nil)&#34;</span><span class="op" id="2405994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406000">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406014">p</span><span class="op" id="2406015">.</span><span class="ident" id="2406016">buf</span><span class="op" id="2406019">.</span><span class="ident" id="2406020">WriteByte</span><span class="op" id="2406029">(</span><span class="string" id="2406030">&#39;{&#39;</span><span class="op" id="2406033">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406037">}</span>&nbsp;<span class="keyword" id="2406039">else</span>&nbsp;<span class="op" id="2406044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406049">p</span><span class="op" id="2406050">.</span><span class="ident" id="2406051">buf</span><span class="op" id="2406054">.</span><span class="ident" id="2406055">WriteByte</span><span class="op" id="2406064">(</span><span class="string" id="2406065">&#39;[&#39;</span><span class="op" id="2406068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406076">for</span>&nbsp;<span class="ident" id="2406080">i</span>&nbsp;<span class="op" id="2406082">:=</span>&nbsp;<span class="num" id="2406085">0</span><span class="op" id="2406086">;</span>&nbsp;<span class="ident" id="2406088">i</span>&nbsp;<span class="op" id="2406090">&lt;</span>&nbsp;<span class="ident" id="2406092">f</span><span class="op" id="2406093">.</span><span class="ident" id="2406094">Len</span><span class="op" id="2406097">(</span><span class="op" id="2406098">)</span><span class="op" id="2406099">;</span>&nbsp;<span class="ident" id="2406101">i</span><span class="op" id="2406102">++</span>&nbsp;<span class="op" id="2406105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406110">if</span>&nbsp;<span class="ident" id="2406113">i</span>&nbsp;<span class="op" id="2406115">&gt;</span>&nbsp;<span class="num" id="2406117">0</span>&nbsp;<span class="op" id="2406119">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406125">if</span>&nbsp;<span class="ident" id="2406128">p</span><span class="op" id="2406129">.</span><span class="ident" id="2406130">fmt</span><span class="op" id="2406133">.</span><span class="ident" id="2406134">sharpV</span>&nbsp;<span class="op" id="2406141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406148">p</span><span class="op" id="2406149">.</span><span class="ident" id="2406150">buf</span><span class="op" id="2406153">.</span><span class="ident" id="2406154">Write</span><span class="op" id="2406159">(</span><span class="ident" id="2406160">commaSpaceBytes</span><span class="op" id="2406175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406181">}</span>&nbsp;<span class="keyword" id="2406183">else</span>&nbsp;<span class="op" id="2406188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406195">p</span><span class="op" id="2406196">.</span><span class="ident" id="2406197">buf</span><span class="op" id="2406200">.</span><span class="ident" id="2406201">WriteByte</span><span class="op" id="2406210">(</span><span class="string" id="2406211">&#39;&nbsp;&#39;</span><span class="op" id="2406214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406220">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406230">p</span><span class="op" id="2406231">.</span><span class="ident" id="2406232">printValue</span><span class="op" id="2406242">(</span><span class="ident" id="2406243">f</span><span class="op" id="2406244">.</span><span class="ident" id="2406245">Index</span><span class="op" id="2406250">(</span><span class="ident" id="2406251">i</span><span class="op" id="2406252">)</span><span class="op" id="2406253">,</span>&nbsp;<span class="ident" id="2406255">verb</span><span class="op" id="2406259">,</span>&nbsp;<span class="ident" id="2406261">depth</span><span class="op" id="2406266">+</span><span class="num" id="2406267">1</span><span class="op" id="2406268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406276">if</span>&nbsp;<span class="ident" id="2406279">p</span><span class="op" id="2406280">.</span><span class="ident" id="2406281">fmt</span><span class="op" id="2406284">.</span><span class="ident" id="2406285">sharpV</span>&nbsp;<span class="op" id="2406292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406297">p</span><span class="op" id="2406298">.</span><span class="ident" id="2406299">buf</span><span class="op" id="2406302">.</span><span class="ident" id="2406303">WriteByte</span><span class="op" id="2406312">(</span><span class="string" id="2406313">&#39;}&#39;</span><span class="op" id="2406316">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406320">}</span>&nbsp;<span class="keyword" id="2406322">else</span>&nbsp;<span class="op" id="2406327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406332">p</span><span class="op" id="2406333">.</span><span class="ident" id="2406334">buf</span><span class="op" id="2406337">.</span><span class="ident" id="2406338">WriteByte</span><span class="op" id="2406347">(</span><span class="string" id="2406348">&#39;]&#39;</span><span class="op" id="2406351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406358">case</span>&nbsp;<span class="ident" id="2406363">reflect</span><span class="op" id="2406370">.</span><span class="ident" id="2406371">Ptr</span><span class="op" id="2406374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406378">v</span>&nbsp;<span class="op" id="2406380">:=</span>&nbsp;<span class="ident" id="2406383">f</span><span class="op" id="2406384">.</span><span class="ident" id="2406385">Pointer</span><span class="op" id="2406392">(</span><span class="op" id="2406393">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406397">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406456">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406492">if</span>&nbsp;<span class="ident" id="2406495">v</span>&nbsp;<span class="op" id="2406497">!=</span>&nbsp;<span class="num" id="2406500">0</span>&nbsp;<span class="op" id="2406502">&amp;&amp;</span>&nbsp;<span class="ident" id="2406505">depth</span>&nbsp;<span class="op" id="2406511">==</span>&nbsp;<span class="num" id="2406514">0</span>&nbsp;<span class="op" id="2406516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406521">switch</span>&nbsp;<span class="ident" id="2406528">a</span>&nbsp;<span class="op" id="2406530">:=</span>&nbsp;<span class="ident" id="2406533">f</span><span class="op" id="2406534">.</span><span class="ident" id="2406535">Elem</span><span class="op" id="2406539">(</span><span class="op" id="2406540">)</span><span class="op" id="2406541">;</span>&nbsp;<span class="ident" id="2406543">a</span><span class="op" id="2406544">.</span><span class="ident" id="2406545">Kind</span><span class="op" id="2406549">(</span><span class="op" id="2406550">)</span>&nbsp;<span class="op" id="2406552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406557">case</span>&nbsp;<span class="ident" id="2406562">reflect</span><span class="op" id="2406569">.</span><span class="ident" id="2406570">Array</span><span class="op" id="2406575">,</span>&nbsp;<span class="ident" id="2406577">reflect</span><span class="op" id="2406584">.</span><span class="ident" id="2406585">Slice</span><span class="op" id="2406590">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406596">p</span><span class="op" id="2406597">.</span><span class="ident" id="2406598">buf</span><span class="op" id="2406601">.</span><span class="ident" id="2406602">WriteByte</span><span class="op" id="2406611">(</span><span class="string" id="2406612">&#39;&amp;&#39;</span><span class="op" id="2406615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406621">p</span><span class="op" id="2406622">.</span><span class="ident" id="2406623">printValue</span><span class="op" id="2406633">(</span><span class="ident" id="2406634">a</span><span class="op" id="2406635">,</span>&nbsp;<span class="ident" id="2406637">verb</span><span class="op" id="2406641">,</span>&nbsp;<span class="ident" id="2406643">depth</span><span class="op" id="2406648">+</span><span class="num" id="2406649">1</span><span class="op" id="2406650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406656">break</span>&nbsp;<span class="ident" id="2406662">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406675">case</span>&nbsp;<span class="ident" id="2406680">reflect</span><span class="op" id="2406687">.</span><span class="ident" id="2406688">Struct</span><span class="op" id="2406694">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406700">p</span><span class="op" id="2406701">.</span><span class="ident" id="2406702">buf</span><span class="op" id="2406705">.</span><span class="ident" id="2406706">WriteByte</span><span class="op" id="2406715">(</span><span class="string" id="2406716">&#39;&amp;&#39;</span><span class="op" id="2406719">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406725">p</span><span class="op" id="2406726">.</span><span class="ident" id="2406727">printValue</span><span class="op" id="2406737">(</span><span class="ident" id="2406738">a</span><span class="op" id="2406739">,</span>&nbsp;<span class="ident" id="2406741">verb</span><span class="op" id="2406745">,</span>&nbsp;<span class="ident" id="2406747">depth</span><span class="op" id="2406752">+</span><span class="num" id="2406753">1</span><span class="op" id="2406754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406760">break</span>&nbsp;<span class="ident" id="2406766">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406779">case</span>&nbsp;<span class="ident" id="2406784">reflect</span><span class="op" id="2406791">.</span><span class="ident" id="2406792">Map</span><span class="op" id="2406795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406801">p</span><span class="op" id="2406802">.</span><span class="ident" id="2406803">buf</span><span class="op" id="2406806">.</span><span class="ident" id="2406807">WriteByte</span><span class="op" id="2406816">(</span><span class="string" id="2406817">&#39;&amp;&#39;</span><span class="op" id="2406820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406826">p</span><span class="op" id="2406827">.</span><span class="ident" id="2406828">printValue</span><span class="op" id="2406838">(</span><span class="ident" id="2406839">a</span><span class="op" id="2406840">,</span>&nbsp;<span class="ident" id="2406842">verb</span><span class="op" id="2406846">,</span>&nbsp;<span class="ident" id="2406848">depth</span><span class="op" id="2406853">+</span><span class="num" id="2406854">1</span><span class="op" id="2406855">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406861">break</span>&nbsp;<span class="ident" id="2406867">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406888">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406901">case</span>&nbsp;<span class="ident" id="2406906">reflect</span><span class="op" id="2406913">.</span><span class="ident" id="2406914">Chan</span><span class="op" id="2406918">,</span>&nbsp;<span class="ident" id="2406920">reflect</span><span class="op" id="2406927">.</span><span class="ident" id="2406928">Func</span><span class="op" id="2406932">,</span>&nbsp;<span class="ident" id="2406934">reflect</span><span class="op" id="2406941">.</span><span class="ident" id="2406942">UnsafePointer</span><span class="op" id="2406955">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406959">p</span><span class="op" id="2406960">.</span><span class="ident" id="2406961">fmtPointer</span><span class="op" id="2406971">(</span><span class="ident" id="2406972">value</span><span class="op" id="2406977">,</span>&nbsp;<span class="ident" id="2406979">verb</span><span class="op" id="2406983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406986">default</span><span class="op" id="2406993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406997">p</span><span class="op" id="2406998">.</span><span class="ident" id="2406999">unknownType</span><span class="op" id="2407010">(</span><span class="ident" id="2407011">f</span><span class="op" id="2407012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407018">p</span><span class="op" id="2407019">.</span><span class="ident" id="2407020">value</span>&nbsp;<span class="op" id="2407026">=</span>&nbsp;<span class="ident" id="2407028">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407038">return</span>&nbsp;<span class="ident" id="2407045">wasString</span><br>
<span class="lineno"></span><span class="op" id="2407055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2407058">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2407164">func</span>&nbsp;<span class="ident" id="2407169">intFromArg</span><span class="op" id="2407179">(</span><span class="ident" id="2407180">a</span>&nbsp;<span class="op" id="2407182">[</span><span class="op" id="2407183">]</span><span class="keyword" id="2407184">interface</span><span class="op" id="2407193">{</span><span class="op" id="2407194">}</span><span class="op" id="2407195">,</span>&nbsp;<span class="ident" id="2407197">argNum</span>&nbsp;<span class="builtintype" id="2407204">int</span><span class="op" id="2407207">)</span>&nbsp;<span class="op" id="2407209">(</span><span class="ident" id="2407210">num</span>&nbsp;<span class="builtintype" id="2407214">int</span><span class="op" id="2407217">,</span>&nbsp;<span class="ident" id="2407219">isInt</span>&nbsp;<span class="builtintype" id="2407225">bool</span><span class="op" id="2407229">,</span>&nbsp;<span class="ident" id="2407231">newArgNum</span>&nbsp;<span class="builtintype" id="2407241">int</span><span class="op" id="2407244">)</span>&nbsp;<span class="op" id="2407246">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407249">newArgNum</span>&nbsp;<span class="op" id="2407259">=</span>&nbsp;<span class="ident" id="2407261">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407269">if</span>&nbsp;<span class="ident" id="2407272">argNum</span>&nbsp;<span class="op" id="2407279">&lt;</span>&nbsp;<span class="builtinfunc" id="2407281">len</span><span class="op" id="2407284">(</span><span class="ident" id="2407285">a</span><span class="op" id="2407286">)</span>&nbsp;<span class="op" id="2407288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407292">num</span><span class="op" id="2407295">,</span>&nbsp;<span class="ident" id="2407297">isInt</span>&nbsp;<span class="op" id="2407303">=</span>&nbsp;<span class="ident" id="2407305">a</span><span class="op" id="2407306">[</span><span class="ident" id="2407307">argNum</span><span class="op" id="2407313">]</span><span class="op" id="2407314">.</span><span class="op" id="2407315">(</span><span class="builtintype" id="2407316">int</span><span class="op" id="2407319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407323">newArgNum</span>&nbsp;<span class="op" id="2407333">=</span>&nbsp;<span class="ident" id="2407335">argNum</span>&nbsp;<span class="op" id="2407342">+</span>&nbsp;<span class="num" id="2407344">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407347">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407350">return</span><br>
<span class="lineno"></span><span class="op" id="2407357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2407360">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2407429">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2407502">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2407562">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2407631">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2407701">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2407771">func</span>&nbsp;<span class="ident" id="2407776">parseArgNumber</span><span class="op" id="2407790">(</span><span class="ident" id="2407791">format</span>&nbsp;<span class="builtintype" id="2407798">string</span><span class="op" id="2407804">)</span>&nbsp;<span class="op" id="2407806">(</span><span class="ident" id="2407807">index</span>&nbsp;<span class="builtintype" id="2407813">int</span><span class="op" id="2407816">,</span>&nbsp;<span class="ident" id="2407818">wid</span>&nbsp;<span class="builtintype" id="2407822">int</span><span class="op" id="2407825">,</span>&nbsp;<span class="ident" id="2407827">ok</span>&nbsp;<span class="builtintype" id="2407830">bool</span><span class="op" id="2407834">)</span>&nbsp;<span class="op" id="2407836">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2407839">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407865">for</span>&nbsp;<span class="ident" id="2407869">i</span>&nbsp;<span class="op" id="2407871">:=</span>&nbsp;<span class="num" id="2407874">1</span><span class="op" id="2407875">;</span>&nbsp;<span class="ident" id="2407877">i</span>&nbsp;<span class="op" id="2407879">&lt;</span>&nbsp;<span class="builtinfunc" id="2407881">len</span><span class="op" id="2407884">(</span><span class="ident" id="2407885">format</span><span class="op" id="2407891">)</span><span class="op" id="2407892">;</span>&nbsp;<span class="ident" id="2407894">i</span><span class="op" id="2407895">++</span>&nbsp;<span class="op" id="2407898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407902">if</span>&nbsp;<span class="ident" id="2407905">format</span><span class="op" id="2407911">[</span><span class="ident" id="2407912">i</span><span class="op" id="2407913">]</span>&nbsp;<span class="op" id="2407915">==</span>&nbsp;<span class="string" id="2407918">&#39;]&#39;</span>&nbsp;<span class="op" id="2407922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407927">width</span><span class="op" id="2407932">,</span>&nbsp;<span class="ident" id="2407934">ok</span><span class="op" id="2407936">,</span>&nbsp;<span class="ident" id="2407938">newi</span>&nbsp;<span class="op" id="2407943">:=</span>&nbsp;<span class="ident" id="2407946">parsenum</span><span class="op" id="2407954">(</span><span class="ident" id="2407955">format</span><span class="op" id="2407961">,</span>&nbsp;<span class="num" id="2407963">1</span><span class="op" id="2407964">,</span>&nbsp;<span class="ident" id="2407966">i</span><span class="op" id="2407967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407972">if</span>&nbsp;<span class="op" id="2407975">!</span><span class="ident" id="2407976">ok</span>&nbsp;<span class="op" id="2407979">||</span>&nbsp;<span class="ident" id="2407982">newi</span>&nbsp;<span class="op" id="2407987">!=</span>&nbsp;<span class="ident" id="2407990">i</span>&nbsp;<span class="op" id="2407992">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407998">return</span>&nbsp;<span class="num" id="2408005">0</span><span class="op" id="2408006">,</span>&nbsp;<span class="ident" id="2408008">i</span>&nbsp;<span class="op" id="2408010">+</span>&nbsp;<span class="num" id="2408012">1</span><span class="op" id="2408013">,</span>&nbsp;<span class="builtintype" id="2408015">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408029">return</span>&nbsp;<span class="ident" id="2408036">width</span>&nbsp;<span class="op" id="2408042">-</span>&nbsp;<span class="num" id="2408044">1</span><span class="op" id="2408045">,</span>&nbsp;<span class="ident" id="2408047">i</span>&nbsp;<span class="op" id="2408049">+</span>&nbsp;<span class="num" id="2408051">1</span><span class="op" id="2408052">,</span>&nbsp;<span class="builtintype" id="2408054">true</span>&nbsp;<span class="comment" id="2408059">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408111">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408114">return</span>&nbsp;<span class="num" id="2408121">0</span><span class="op" id="2408122">,</span>&nbsp;<span class="num" id="2408124">1</span><span class="op" id="2408125">,</span>&nbsp;<span class="builtintype" id="2408127">false</span><br>
<span class="lineno"></span><span class="op" id="2408133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2408136">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2408231">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2408319">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2408404">func</span>&nbsp;<span class="op" id="2408409">(</span><span class="ident" id="2408410">p</span>&nbsp;<span class="op" id="2408412">*</span><span class="ident" id="2408413">pp</span><span class="op" id="2408415">)</span>&nbsp;<span class="ident" id="2408417">argNumber</span><span class="op" id="2408426">(</span><span class="ident" id="2408427">argNum</span>&nbsp;<span class="builtintype" id="2408434">int</span><span class="op" id="2408437">,</span>&nbsp;<span class="ident" id="2408439">format</span>&nbsp;<span class="builtintype" id="2408446">string</span><span class="op" id="2408452">,</span>&nbsp;<span class="ident" id="2408454">i</span>&nbsp;<span class="builtintype" id="2408456">int</span><span class="op" id="2408459">,</span>&nbsp;<span class="ident" id="2408461">numArgs</span>&nbsp;<span class="builtintype" id="2408469">int</span><span class="op" id="2408472">)</span>&nbsp;<span class="op" id="2408474">(</span><span class="ident" id="2408475">newArgNum</span><span class="op" id="2408484">,</span>&nbsp;<span class="ident" id="2408486">newi</span>&nbsp;<span class="builtintype" id="2408491">int</span><span class="op" id="2408494">,</span>&nbsp;<span class="ident" id="2408496">found</span>&nbsp;<span class="builtintype" id="2408502">bool</span><span class="op" id="2408506">)</span>&nbsp;<span class="op" id="2408508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408511">if</span>&nbsp;<span class="builtinfunc" id="2408514">len</span><span class="op" id="2408517">(</span><span class="ident" id="2408518">format</span><span class="op" id="2408524">)</span>&nbsp;<span class="op" id="2408526">&lt;=</span>&nbsp;<span class="ident" id="2408529">i</span>&nbsp;<span class="op" id="2408531">||</span>&nbsp;<span class="ident" id="2408534">format</span><span class="op" id="2408540">[</span><span class="ident" id="2408541">i</span><span class="op" id="2408542">]</span>&nbsp;<span class="op" id="2408544">!=</span>&nbsp;<span class="string" id="2408547">&#39;[&#39;</span>&nbsp;<span class="op" id="2408551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408555">return</span>&nbsp;<span class="ident" id="2408562">argNum</span><span class="op" id="2408568">,</span>&nbsp;<span class="ident" id="2408570">i</span><span class="op" id="2408571">,</span>&nbsp;<span class="builtintype" id="2408573">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408580">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408583">p</span><span class="op" id="2408584">.</span><span class="ident" id="2408585">reordered</span>&nbsp;<span class="op" id="2408595">=</span>&nbsp;<span class="builtintype" id="2408597">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408603">index</span><span class="op" id="2408608">,</span>&nbsp;<span class="ident" id="2408610">wid</span><span class="op" id="2408613">,</span>&nbsp;<span class="ident" id="2408615">ok</span>&nbsp;<span class="op" id="2408618">:=</span>&nbsp;<span class="ident" id="2408621">parseArgNumber</span><span class="op" id="2408635">(</span><span class="ident" id="2408636">format</span><span class="op" id="2408642">[</span><span class="ident" id="2408643">i</span><span class="op" id="2408644">:</span><span class="op" id="2408645">]</span><span class="op" id="2408646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408649">if</span>&nbsp;<span class="ident" id="2408652">ok</span>&nbsp;<span class="op" id="2408655">&amp;&amp;</span>&nbsp;<span class="num" id="2408658">0</span>&nbsp;<span class="op" id="2408660">&lt;=</span>&nbsp;<span class="ident" id="2408663">index</span>&nbsp;<span class="op" id="2408669">&amp;&amp;</span>&nbsp;<span class="ident" id="2408672">index</span>&nbsp;<span class="op" id="2408678">&lt;</span>&nbsp;<span class="ident" id="2408680">numArgs</span>&nbsp;<span class="op" id="2408688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408692">return</span>&nbsp;<span class="ident" id="2408699">index</span><span class="op" id="2408704">,</span>&nbsp;<span class="ident" id="2408706">i</span>&nbsp;<span class="op" id="2408708">+</span>&nbsp;<span class="ident" id="2408710">wid</span><span class="op" id="2408713">,</span>&nbsp;<span class="builtintype" id="2408715">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408721">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408724">p</span><span class="op" id="2408725">.</span><span class="ident" id="2408726">goodArgNum</span>&nbsp;<span class="op" id="2408737">=</span>&nbsp;<span class="builtintype" id="2408739">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408746">return</span>&nbsp;<span class="ident" id="2408753">argNum</span><span class="op" id="2408759">,</span>&nbsp;<span class="ident" id="2408761">i</span>&nbsp;<span class="op" id="2408763">+</span>&nbsp;<span class="ident" id="2408765">wid</span><span class="op" id="2408768">,</span>&nbsp;<span class="builtintype" id="2408770">true</span><br>
<span class="lineno"></span><span class="op" id="2408775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408778">func</span>&nbsp;<span class="op" id="2408783">(</span><span class="ident" id="2408784">p</span>&nbsp;<span class="op" id="2408786">*</span><span class="ident" id="2408787">pp</span><span class="op" id="2408789">)</span>&nbsp;<span class="ident" id="2408791">doPrintf</span><span class="op" id="2408799">(</span><span class="ident" id="2408800">format</span>&nbsp;<span class="builtintype" id="2408807">string</span><span class="op" id="2408813">,</span>&nbsp;<span class="ident" id="2408815">a</span>&nbsp;<span class="op" id="2408817">[</span><span class="op" id="2408818">]</span><span class="keyword" id="2408819">interface</span><span class="op" id="2408828">{</span><span class="op" id="2408829">}</span><span class="op" id="2408830">)</span>&nbsp;<span class="op" id="2408832">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408835">end</span>&nbsp;<span class="op" id="2408839">:=</span>&nbsp;<span class="builtinfunc" id="2408842">len</span><span class="op" id="2408845">(</span><span class="ident" id="2408846">format</span><span class="op" id="2408852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408855">argNum</span>&nbsp;<span class="op" id="2408862">:=</span>&nbsp;<span class="num" id="2408865">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2408875">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408926">afterIndex</span>&nbsp;<span class="op" id="2408937">:=</span>&nbsp;<span class="builtintype" id="2408940">false</span>&nbsp;<span class="comment" id="2408946">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408997">p</span><span class="op" id="2408998">.</span><span class="ident" id="2408999">reordered</span>&nbsp;<span class="op" id="2409009">=</span>&nbsp;<span class="builtintype" id="2409011">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409018">for</span>&nbsp;<span class="ident" id="2409022">i</span>&nbsp;<span class="op" id="2409024">:=</span>&nbsp;<span class="num" id="2409027">0</span><span class="op" id="2409028">;</span>&nbsp;<span class="ident" id="2409030">i</span>&nbsp;<span class="op" id="2409032">&lt;</span>&nbsp;<span class="ident" id="2409034">end</span><span class="op" id="2409037">;</span>&nbsp;<span class="op" id="2409039">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409043">p</span><span class="op" id="2409044">.</span><span class="ident" id="2409045">goodArgNum</span>&nbsp;<span class="op" id="2409056">=</span>&nbsp;<span class="builtintype" id="2409058">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409065">lasti</span>&nbsp;<span class="op" id="2409071">:=</span>&nbsp;<span class="ident" id="2409074">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409078">for</span>&nbsp;<span class="ident" id="2409082">i</span>&nbsp;<span class="op" id="2409084">&lt;</span>&nbsp;<span class="ident" id="2409086">end</span>&nbsp;<span class="op" id="2409090">&amp;&amp;</span>&nbsp;<span class="ident" id="2409093">format</span><span class="op" id="2409099">[</span><span class="ident" id="2409100">i</span><span class="op" id="2409101">]</span>&nbsp;<span class="op" id="2409103">!=</span>&nbsp;<span class="string" id="2409106">&#39;%&#39;</span>&nbsp;<span class="op" id="2409110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409115">i</span><span class="op" id="2409116">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409121">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409125">if</span>&nbsp;<span class="ident" id="2409128">i</span>&nbsp;<span class="op" id="2409130">&gt;</span>&nbsp;<span class="ident" id="2409132">lasti</span>&nbsp;<span class="op" id="2409138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409143">p</span><span class="op" id="2409144">.</span><span class="ident" id="2409145">buf</span><span class="op" id="2409148">.</span><span class="ident" id="2409149">WriteString</span><span class="op" id="2409160">(</span><span class="ident" id="2409161">format</span><span class="op" id="2409167">[</span><span class="ident" id="2409168">lasti</span><span class="op" id="2409173">:</span><span class="ident" id="2409174">i</span><span class="op" id="2409175">]</span><span class="op" id="2409176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409184">if</span>&nbsp;<span class="ident" id="2409187">i</span>&nbsp;<span class="op" id="2409189">&gt;=</span>&nbsp;<span class="ident" id="2409192">end</span>&nbsp;<span class="op" id="2409196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409201">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409237">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409250">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409272">i</span><span class="op" id="2409273">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409279">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409302">p</span><span class="op" id="2409303">.</span><span class="ident" id="2409304">fmt</span><span class="op" id="2409307">.</span><span class="ident" id="2409308">clearflags</span><span class="op" id="2409318">(</span><span class="op" id="2409319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409322">F</span><span class="op" id="2409323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409327">for</span>&nbsp;<span class="op" id="2409331">;</span>&nbsp;<span class="ident" id="2409333">i</span>&nbsp;<span class="op" id="2409335">&lt;</span>&nbsp;<span class="ident" id="2409337">end</span><span class="op" id="2409340">;</span>&nbsp;<span class="ident" id="2409342">i</span><span class="op" id="2409343">++</span>&nbsp;<span class="op" id="2409346">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409351">switch</span>&nbsp;<span class="ident" id="2409358">format</span><span class="op" id="2409364">[</span><span class="ident" id="2409365">i</span><span class="op" id="2409366">]</span>&nbsp;<span class="op" id="2409368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409373">case</span>&nbsp;<span class="string" id="2409378">&#39;#&#39;</span><span class="op" id="2409381">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409387">p</span><span class="op" id="2409388">.</span><span class="ident" id="2409389">fmt</span><span class="op" id="2409392">.</span><span class="ident" id="2409393">sharp</span>&nbsp;<span class="op" id="2409399">=</span>&nbsp;<span class="builtintype" id="2409401">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409409">case</span>&nbsp;<span class="string" id="2409414">&#39;0&#39;</span><span class="op" id="2409417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409423">p</span><span class="op" id="2409424">.</span><span class="ident" id="2409425">fmt</span><span class="op" id="2409428">.</span><span class="ident" id="2409429">zero</span>&nbsp;<span class="op" id="2409434">=</span>&nbsp;<span class="builtintype" id="2409436">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409444">case</span>&nbsp;<span class="string" id="2409449">&#39;+&#39;</span><span class="op" id="2409452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409458">p</span><span class="op" id="2409459">.</span><span class="ident" id="2409460">fmt</span><span class="op" id="2409463">.</span><span class="ident" id="2409464">plus</span>&nbsp;<span class="op" id="2409469">=</span>&nbsp;<span class="builtintype" id="2409471">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409479">case</span>&nbsp;<span class="string" id="2409484">&#39;-&#39;</span><span class="op" id="2409487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409493">p</span><span class="op" id="2409494">.</span><span class="ident" id="2409495">fmt</span><span class="op" id="2409498">.</span><span class="ident" id="2409499">minus</span>&nbsp;<span class="op" id="2409505">=</span>&nbsp;<span class="builtintype" id="2409507">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409515">case</span>&nbsp;<span class="string" id="2409520">&#39;&nbsp;&#39;</span><span class="op" id="2409523">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409529">p</span><span class="op" id="2409530">.</span><span class="ident" id="2409531">fmt</span><span class="op" id="2409534">.</span><span class="ident" id="2409535">space</span>&nbsp;<span class="op" id="2409541">=</span>&nbsp;<span class="builtintype" id="2409543">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409551">default</span><span class="op" id="2409558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409564">break</span>&nbsp;<span class="ident" id="2409570">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409579">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409584">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409628">argNum</span><span class="op" id="2409634">,</span>&nbsp;<span class="ident" id="2409636">i</span><span class="op" id="2409637">,</span>&nbsp;<span class="ident" id="2409639">afterIndex</span>&nbsp;<span class="op" id="2409650">=</span>&nbsp;<span class="ident" id="2409652">p</span><span class="op" id="2409653">.</span><span class="ident" id="2409654">argNumber</span><span class="op" id="2409663">(</span><span class="ident" id="2409664">argNum</span><span class="op" id="2409670">,</span>&nbsp;<span class="ident" id="2409672">format</span><span class="op" id="2409678">,</span>&nbsp;<span class="ident" id="2409680">i</span><span class="op" id="2409681">,</span>&nbsp;<span class="builtinfunc" id="2409683">len</span><span class="op" id="2409686">(</span><span class="ident" id="2409687">a</span><span class="op" id="2409688">)</span><span class="op" id="2409689">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409694">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409717">if</span>&nbsp;<span class="ident" id="2409720">i</span>&nbsp;<span class="op" id="2409722">&lt;</span>&nbsp;<span class="ident" id="2409724">end</span>&nbsp;<span class="op" id="2409728">&amp;&amp;</span>&nbsp;<span class="ident" id="2409731">format</span><span class="op" id="2409737">[</span><span class="ident" id="2409738">i</span><span class="op" id="2409739">]</span>&nbsp;<span class="op" id="2409741">==</span>&nbsp;<span class="string" id="2409744">&#39;*&#39;</span>&nbsp;<span class="op" id="2409748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409753">i</span><span class="op" id="2409754">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409760">p</span><span class="op" id="2409761">.</span><span class="ident" id="2409762">fmt</span><span class="op" id="2409765">.</span><span class="ident" id="2409766">wid</span><span class="op" id="2409769">,</span>&nbsp;<span class="ident" id="2409771">p</span><span class="op" id="2409772">.</span><span class="ident" id="2409773">fmt</span><span class="op" id="2409776">.</span><span class="ident" id="2409777">widPresent</span><span class="op" id="2409787">,</span>&nbsp;<span class="ident" id="2409789">argNum</span>&nbsp;<span class="op" id="2409796">=</span>&nbsp;<span class="ident" id="2409798">intFromArg</span><span class="op" id="2409808">(</span><span class="ident" id="2409809">a</span><span class="op" id="2409810">,</span>&nbsp;<span class="ident" id="2409812">argNum</span><span class="op" id="2409818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409823">if</span>&nbsp;<span class="op" id="2409826">!</span><span class="ident" id="2409827">p</span><span class="op" id="2409828">.</span><span class="ident" id="2409829">fmt</span><span class="op" id="2409832">.</span><span class="ident" id="2409833">widPresent</span>&nbsp;<span class="op" id="2409844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409850">p</span><span class="op" id="2409851">.</span><span class="ident" id="2409852">buf</span><span class="op" id="2409855">.</span><span class="ident" id="2409856">Write</span><span class="op" id="2409861">(</span><span class="ident" id="2409862">badWidthBytes</span><span class="op" id="2409875">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409885">afterIndex</span>&nbsp;<span class="op" id="2409896">=</span>&nbsp;<span class="builtintype" id="2409898">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409906">}</span>&nbsp;<span class="keyword" id="2409908">else</span>&nbsp;<span class="op" id="2409913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409918">p</span><span class="op" id="2409919">.</span><span class="ident" id="2409920">fmt</span><span class="op" id="2409923">.</span><span class="ident" id="2409924">wid</span><span class="op" id="2409927">,</span>&nbsp;<span class="ident" id="2409929">p</span><span class="op" id="2409930">.</span><span class="ident" id="2409931">fmt</span><span class="op" id="2409934">.</span><span class="ident" id="2409935">widPresent</span><span class="op" id="2409945">,</span>&nbsp;<span class="ident" id="2409947">i</span>&nbsp;<span class="op" id="2409949">=</span>&nbsp;<span class="ident" id="2409951">parsenum</span><span class="op" id="2409959">(</span><span class="ident" id="2409960">format</span><span class="op" id="2409966">,</span>&nbsp;<span class="ident" id="2409968">i</span><span class="op" id="2409969">,</span>&nbsp;<span class="ident" id="2409971">end</span><span class="op" id="2409974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409979">if</span>&nbsp;<span class="ident" id="2409982">afterIndex</span>&nbsp;<span class="op" id="2409993">&amp;&amp;</span>&nbsp;<span class="ident" id="2409996">p</span><span class="op" id="2409997">.</span><span class="ident" id="2409998">fmt</span><span class="op" id="2410001">.</span><span class="ident" id="2410002">widPresent</span>&nbsp;<span class="op" id="2410013">{</span>&nbsp;<span class="comment" id="2410015">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410031">p</span><span class="op" id="2410032">.</span><span class="ident" id="2410033">goodArgNum</span>&nbsp;<span class="op" id="2410044">=</span>&nbsp;<span class="builtintype" id="2410046">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410064">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410091">if</span>&nbsp;<span class="ident" id="2410094">i</span><span class="op" id="2410095">+</span><span class="num" id="2410096">1</span>&nbsp;<span class="op" id="2410098">&lt;</span>&nbsp;<span class="ident" id="2410100">end</span>&nbsp;<span class="op" id="2410104">&amp;&amp;</span>&nbsp;<span class="ident" id="2410107">format</span><span class="op" id="2410113">[</span><span class="ident" id="2410114">i</span><span class="op" id="2410115">]</span>&nbsp;<span class="op" id="2410117">==</span>&nbsp;<span class="string" id="2410120">&#39;.&#39;</span>&nbsp;<span class="op" id="2410124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410129">i</span><span class="op" id="2410130">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410136">if</span>&nbsp;<span class="ident" id="2410139">afterIndex</span>&nbsp;<span class="op" id="2410150">{</span>&nbsp;<span class="comment" id="2410152">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410169">p</span><span class="op" id="2410170">.</span><span class="ident" id="2410171">goodArgNum</span>&nbsp;<span class="op" id="2410182">=</span>&nbsp;<span class="builtintype" id="2410184">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410193">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410198">argNum</span><span class="op" id="2410204">,</span>&nbsp;<span class="ident" id="2410206">i</span><span class="op" id="2410207">,</span>&nbsp;<span class="ident" id="2410209">afterIndex</span>&nbsp;<span class="op" id="2410220">=</span>&nbsp;<span class="ident" id="2410222">p</span><span class="op" id="2410223">.</span><span class="ident" id="2410224">argNumber</span><span class="op" id="2410233">(</span><span class="ident" id="2410234">argNum</span><span class="op" id="2410240">,</span>&nbsp;<span class="ident" id="2410242">format</span><span class="op" id="2410248">,</span>&nbsp;<span class="ident" id="2410250">i</span><span class="op" id="2410251">,</span>&nbsp;<span class="builtinfunc" id="2410253">len</span><span class="op" id="2410256">(</span><span class="ident" id="2410257">a</span><span class="op" id="2410258">)</span><span class="op" id="2410259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410264">if</span>&nbsp;<span class="ident" id="2410267">format</span><span class="op" id="2410273">[</span><span class="ident" id="2410274">i</span><span class="op" id="2410275">]</span>&nbsp;<span class="op" id="2410277">==</span>&nbsp;<span class="string" id="2410280">&#39;*&#39;</span>&nbsp;<span class="op" id="2410284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410290">i</span><span class="op" id="2410291">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410298">p</span><span class="op" id="2410299">.</span><span class="ident" id="2410300">fmt</span><span class="op" id="2410303">.</span><span class="ident" id="2410304">prec</span><span class="op" id="2410308">,</span>&nbsp;<span class="ident" id="2410310">p</span><span class="op" id="2410311">.</span><span class="ident" id="2410312">fmt</span><span class="op" id="2410315">.</span><span class="ident" id="2410316">precPresent</span><span class="op" id="2410327">,</span>&nbsp;<span class="ident" id="2410329">argNum</span>&nbsp;<span class="op" id="2410336">=</span>&nbsp;<span class="ident" id="2410338">intFromArg</span><span class="op" id="2410348">(</span><span class="ident" id="2410349">a</span><span class="op" id="2410350">,</span>&nbsp;<span class="ident" id="2410352">argNum</span><span class="op" id="2410358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410364">if</span>&nbsp;<span class="op" id="2410367">!</span><span class="ident" id="2410368">p</span><span class="op" id="2410369">.</span><span class="ident" id="2410370">fmt</span><span class="op" id="2410373">.</span><span class="ident" id="2410374">precPresent</span>&nbsp;<span class="op" id="2410386">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410393">p</span><span class="op" id="2410394">.</span><span class="ident" id="2410395">buf</span><span class="op" id="2410398">.</span><span class="ident" id="2410399">Write</span><span class="op" id="2410404">(</span><span class="ident" id="2410405">badPrecBytes</span><span class="op" id="2410417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410429">afterIndex</span>&nbsp;<span class="op" id="2410440">=</span>&nbsp;<span class="builtintype" id="2410442">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410451">}</span>&nbsp;<span class="keyword" id="2410453">else</span>&nbsp;<span class="op" id="2410458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410464">p</span><span class="op" id="2410465">.</span><span class="ident" id="2410466">fmt</span><span class="op" id="2410469">.</span><span class="ident" id="2410470">prec</span><span class="op" id="2410474">,</span>&nbsp;<span class="ident" id="2410476">p</span><span class="op" id="2410477">.</span><span class="ident" id="2410478">fmt</span><span class="op" id="2410481">.</span><span class="ident" id="2410482">precPresent</span><span class="op" id="2410493">,</span>&nbsp;<span class="ident" id="2410495">i</span>&nbsp;<span class="op" id="2410497">=</span>&nbsp;<span class="ident" id="2410499">parsenum</span><span class="op" id="2410507">(</span><span class="ident" id="2410508">format</span><span class="op" id="2410514">,</span>&nbsp;<span class="ident" id="2410516">i</span><span class="op" id="2410517">,</span>&nbsp;<span class="ident" id="2410519">end</span><span class="op" id="2410522">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410528">if</span>&nbsp;<span class="op" id="2410531">!</span><span class="ident" id="2410532">p</span><span class="op" id="2410533">.</span><span class="ident" id="2410534">fmt</span><span class="op" id="2410537">.</span><span class="ident" id="2410538">precPresent</span>&nbsp;<span class="op" id="2410550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410557">p</span><span class="op" id="2410558">.</span><span class="ident" id="2410559">fmt</span><span class="op" id="2410562">.</span><span class="ident" id="2410563">prec</span>&nbsp;<span class="op" id="2410568">=</span>&nbsp;<span class="num" id="2410570">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410577">p</span><span class="op" id="2410578">.</span><span class="ident" id="2410579">fmt</span><span class="op" id="2410582">.</span><span class="ident" id="2410583">precPresent</span>&nbsp;<span class="op" id="2410595">=</span>&nbsp;<span class="builtintype" id="2410597">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410611">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410620">if</span>&nbsp;<span class="op" id="2410623">!</span><span class="ident" id="2410624">afterIndex</span>&nbsp;<span class="op" id="2410635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410640">argNum</span><span class="op" id="2410646">,</span>&nbsp;<span class="ident" id="2410648">i</span><span class="op" id="2410649">,</span>&nbsp;<span class="ident" id="2410651">afterIndex</span>&nbsp;<span class="op" id="2410662">=</span>&nbsp;<span class="ident" id="2410664">p</span><span class="op" id="2410665">.</span><span class="ident" id="2410666">argNumber</span><span class="op" id="2410675">(</span><span class="ident" id="2410676">argNum</span><span class="op" id="2410682">,</span>&nbsp;<span class="ident" id="2410684">format</span><span class="op" id="2410690">,</span>&nbsp;<span class="ident" id="2410692">i</span><span class="op" id="2410693">,</span>&nbsp;<span class="builtinfunc" id="2410695">len</span><span class="op" id="2410698">(</span><span class="ident" id="2410699">a</span><span class="op" id="2410700">)</span><span class="op" id="2410701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410705">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410710">if</span>&nbsp;<span class="ident" id="2410713">i</span>&nbsp;<span class="op" id="2410715">&gt;=</span>&nbsp;<span class="ident" id="2410718">end</span>&nbsp;<span class="op" id="2410722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410727">p</span><span class="op" id="2410728">.</span><span class="ident" id="2410729">buf</span><span class="op" id="2410732">.</span><span class="ident" id="2410733">Write</span><span class="op" id="2410738">(</span><span class="ident" id="2410739">noVerbBytes</span><span class="op" id="2410750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410755">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410766">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410770">c</span><span class="op" id="2410771">,</span>&nbsp;<span class="ident" id="2410773">w</span>&nbsp;<span class="op" id="2410775">:=</span>&nbsp;<span class="ident" id="2410778">utf8</span><span class="op" id="2410782">.</span><span class="ident" id="2410783">DecodeRuneInString</span><span class="op" id="2410801">(</span><span class="ident" id="2410802">format</span><span class="op" id="2410808">[</span><span class="ident" id="2410809">i</span><span class="op" id="2410810">:</span><span class="op" id="2410811">]</span><span class="op" id="2410812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410816">i</span>&nbsp;<span class="op" id="2410818">+=</span>&nbsp;<span class="ident" id="2410821">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410825">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410870">if</span>&nbsp;<span class="ident" id="2410873">c</span>&nbsp;<span class="op" id="2410875">==</span>&nbsp;<span class="string" id="2410878">&#39;%&#39;</span>&nbsp;<span class="op" id="2410882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410887">p</span><span class="op" id="2410888">.</span><span class="ident" id="2410889">buf</span><span class="op" id="2410892">.</span><span class="ident" id="2410893">WriteByte</span><span class="op" id="2410902">(</span><span class="string" id="2410903">&#39;%&#39;</span><span class="op" id="2410906">)</span>&nbsp;<span class="comment" id="2410908">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410940">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410955">if</span>&nbsp;<span class="op" id="2410958">!</span><span class="ident" id="2410959">p</span><span class="op" id="2410960">.</span><span class="ident" id="2410961">goodArgNum</span>&nbsp;<span class="op" id="2410972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410977">p</span><span class="op" id="2410978">.</span><span class="ident" id="2410979">buf</span><span class="op" id="2410982">.</span><span class="ident" id="2410983">Write</span><span class="op" id="2410988">(</span><span class="ident" id="2410989">percentBangBytes</span><span class="op" id="2411005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411010">p</span><span class="op" id="2411011">.</span><span class="ident" id="2411012">add</span><span class="op" id="2411015">(</span><span class="ident" id="2411016">c</span><span class="op" id="2411017">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411022">p</span><span class="op" id="2411023">.</span><span class="ident" id="2411024">buf</span><span class="op" id="2411027">.</span><span class="ident" id="2411028">Write</span><span class="op" id="2411033">(</span><span class="ident" id="2411034">badIndexBytes</span><span class="op" id="2411047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411052">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411063">}</span>&nbsp;<span class="keyword" id="2411065">else</span>&nbsp;<span class="keyword" id="2411070">if</span>&nbsp;<span class="ident" id="2411073">argNum</span>&nbsp;<span class="op" id="2411080">&gt;=</span>&nbsp;<span class="builtinfunc" id="2411083">len</span><span class="op" id="2411086">(</span><span class="ident" id="2411087">a</span><span class="op" id="2411088">)</span>&nbsp;<span class="op" id="2411090">{</span>&nbsp;<span class="comment" id="2411092">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411114">p</span><span class="op" id="2411115">.</span><span class="ident" id="2411116">buf</span><span class="op" id="2411119">.</span><span class="ident" id="2411120">Write</span><span class="op" id="2411125">(</span><span class="ident" id="2411126">percentBangBytes</span><span class="op" id="2411142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411147">p</span><span class="op" id="2411148">.</span><span class="ident" id="2411149">add</span><span class="op" id="2411152">(</span><span class="ident" id="2411153">c</span><span class="op" id="2411154">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411159">p</span><span class="op" id="2411160">.</span><span class="ident" id="2411161">buf</span><span class="op" id="2411164">.</span><span class="ident" id="2411165">Write</span><span class="op" id="2411170">(</span><span class="ident" id="2411171">missingBytes</span><span class="op" id="2411183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411188">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411203">arg</span>&nbsp;<span class="op" id="2411207">:=</span>&nbsp;<span class="ident" id="2411210">a</span><span class="op" id="2411211">[</span><span class="ident" id="2411212">argNum</span><span class="op" id="2411218">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411222">argNum</span><span class="op" id="2411228">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411234">if</span>&nbsp;<span class="ident" id="2411237">c</span>&nbsp;<span class="op" id="2411239">==</span>&nbsp;<span class="string" id="2411242">&#39;v&#39;</span>&nbsp;<span class="op" id="2411246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411251">if</span>&nbsp;<span class="ident" id="2411254">p</span><span class="op" id="2411255">.</span><span class="ident" id="2411256">fmt</span><span class="op" id="2411259">.</span><span class="ident" id="2411260">sharp</span>&nbsp;<span class="op" id="2411266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411272">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411340">p</span><span class="op" id="2411341">.</span><span class="ident" id="2411342">fmt</span><span class="op" id="2411345">.</span><span class="ident" id="2411346">sharp</span>&nbsp;<span class="op" id="2411352">=</span>&nbsp;<span class="builtintype" id="2411354">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411364">p</span><span class="op" id="2411365">.</span><span class="ident" id="2411366">fmt</span><span class="op" id="2411369">.</span><span class="ident" id="2411370">sharpV</span>&nbsp;<span class="op" id="2411377">=</span>&nbsp;<span class="builtintype" id="2411379">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411392">if</span>&nbsp;<span class="ident" id="2411395">p</span><span class="op" id="2411396">.</span><span class="ident" id="2411397">fmt</span><span class="op" id="2411400">.</span><span class="ident" id="2411401">plus</span>&nbsp;<span class="op" id="2411406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411412">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411489">p</span><span class="op" id="2411490">.</span><span class="ident" id="2411491">fmt</span><span class="op" id="2411494">.</span><span class="ident" id="2411495">plus</span>&nbsp;<span class="op" id="2411500">=</span>&nbsp;<span class="builtintype" id="2411502">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411512">p</span><span class="op" id="2411513">.</span><span class="ident" id="2411514">fmt</span><span class="op" id="2411517">.</span><span class="ident" id="2411518">plusV</span>&nbsp;<span class="op" id="2411524">=</span>&nbsp;<span class="builtintype" id="2411526">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411542">p</span><span class="op" id="2411543">.</span><span class="ident" id="2411544">printArg</span><span class="op" id="2411552">(</span><span class="ident" id="2411553">arg</span><span class="op" id="2411556">,</span>&nbsp;<span class="ident" id="2411558">c</span><span class="op" id="2411559">,</span>&nbsp;<span class="num" id="2411561">0</span><span class="op" id="2411562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411565">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411569">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411638">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411714">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411760">if</span>&nbsp;<span class="op" id="2411763">!</span><span class="ident" id="2411764">p</span><span class="op" id="2411765">.</span><span class="ident" id="2411766">reordered</span>&nbsp;<span class="op" id="2411776">&amp;&amp;</span>&nbsp;<span class="ident" id="2411779">argNum</span>&nbsp;<span class="op" id="2411786">&lt;</span>&nbsp;<span class="builtinfunc" id="2411788">len</span><span class="op" id="2411791">(</span><span class="ident" id="2411792">a</span><span class="op" id="2411793">)</span>&nbsp;<span class="op" id="2411795">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411799">p</span><span class="op" id="2411800">.</span><span class="ident" id="2411801">buf</span><span class="op" id="2411804">.</span><span class="ident" id="2411805">Write</span><span class="op" id="2411810">(</span><span class="ident" id="2411811">extraBytes</span><span class="op" id="2411821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411825">for</span>&nbsp;<span class="op" id="2411829">;</span>&nbsp;<span class="ident" id="2411831">argNum</span>&nbsp;<span class="op" id="2411838">&lt;</span>&nbsp;<span class="builtinfunc" id="2411840">len</span><span class="op" id="2411843">(</span><span class="ident" id="2411844">a</span><span class="op" id="2411845">)</span><span class="op" id="2411846">;</span>&nbsp;<span class="ident" id="2411848">argNum</span><span class="op" id="2411854">++</span>&nbsp;<span class="op" id="2411857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411862">arg</span>&nbsp;<span class="op" id="2411866">:=</span>&nbsp;<span class="ident" id="2411869">a</span><span class="op" id="2411870">[</span><span class="ident" id="2411871">argNum</span><span class="op" id="2411877">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411882">if</span>&nbsp;<span class="ident" id="2411885">arg</span>&nbsp;<span class="op" id="2411889">!=</span>&nbsp;<span class="ident" id="2411892">nil</span>&nbsp;<span class="op" id="2411896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411902">p</span><span class="op" id="2411903">.</span><span class="ident" id="2411904">buf</span><span class="op" id="2411907">.</span><span class="ident" id="2411908">WriteString</span><span class="op" id="2411919">(</span><span class="ident" id="2411920">reflect</span><span class="op" id="2411927">.</span><span class="ident" id="2411928">TypeOf</span><span class="op" id="2411934">(</span><span class="ident" id="2411935">arg</span><span class="op" id="2411938">)</span><span class="op" id="2411939">.</span><span class="ident" id="2411940">String</span><span class="op" id="2411946">(</span><span class="op" id="2411947">)</span><span class="op" id="2411948">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411954">p</span><span class="op" id="2411955">.</span><span class="ident" id="2411956">buf</span><span class="op" id="2411959">.</span><span class="ident" id="2411960">WriteByte</span><span class="op" id="2411969">(</span><span class="string" id="2411970">&#39;=&#39;</span><span class="op" id="2411973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411983">p</span><span class="op" id="2411984">.</span><span class="ident" id="2411985">printArg</span><span class="op" id="2411993">(</span><span class="ident" id="2411994">arg</span><span class="op" id="2411997">,</span>&nbsp;<span class="string" id="2411999">&#39;v&#39;</span><span class="op" id="2412002">,</span>&nbsp;<span class="num" id="2412004">0</span><span class="op" id="2412005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412010">if</span>&nbsp;<span class="ident" id="2412013">argNum</span><span class="op" id="2412019">+</span><span class="num" id="2412020">1</span>&nbsp;<span class="op" id="2412022">&lt;</span>&nbsp;<span class="builtinfunc" id="2412024">len</span><span class="op" id="2412027">(</span><span class="ident" id="2412028">a</span><span class="op" id="2412029">)</span>&nbsp;<span class="op" id="2412031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412037">p</span><span class="op" id="2412038">.</span><span class="ident" id="2412039">buf</span><span class="op" id="2412042">.</span><span class="ident" id="2412043">Write</span><span class="op" id="2412048">(</span><span class="ident" id="2412049">commaSpaceBytes</span><span class="op" id="2412064">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412077">p</span><span class="op" id="2412078">.</span><span class="ident" id="2412079">buf</span><span class="op" id="2412082">.</span><span class="ident" id="2412083">WriteByte</span><span class="op" id="2412092">(</span><span class="string" id="2412093">&#39;)&#39;</span><span class="op" id="2412096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412099">}</span><br>
<span class="lineno"></span><span class="op" id="2412101">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2412104">func</span>&nbsp;<span class="op" id="2412109">(</span><span class="ident" id="2412110">p</span>&nbsp;<span class="op" id="2412112">*</span><span class="ident" id="2412113">pp</span><span class="op" id="2412115">)</span>&nbsp;<span class="ident" id="2412117">doPrint</span><span class="op" id="2412124">(</span><span class="ident" id="2412125">a</span>&nbsp;<span class="op" id="2412127">[</span><span class="op" id="2412128">]</span><span class="keyword" id="2412129">interface</span><span class="op" id="2412138">{</span><span class="op" id="2412139">}</span><span class="op" id="2412140">,</span>&nbsp;<span class="ident" id="2412142">addspace</span><span class="op" id="2412150">,</span>&nbsp;<span class="ident" id="2412152">addnewline</span>&nbsp;<span class="builtintype" id="2412163">bool</span><span class="op" id="2412167">)</span>&nbsp;<span class="op" id="2412169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412172">prevString</span>&nbsp;<span class="op" id="2412183">:=</span>&nbsp;<span class="builtintype" id="2412186">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412193">for</span>&nbsp;<span class="ident" id="2412197">argNum</span>&nbsp;<span class="op" id="2412204">:=</span>&nbsp;<span class="num" id="2412207">0</span><span class="op" id="2412208">;</span>&nbsp;<span class="ident" id="2412210">argNum</span>&nbsp;<span class="op" id="2412217">&lt;</span>&nbsp;<span class="builtinfunc" id="2412219">len</span><span class="op" id="2412222">(</span><span class="ident" id="2412223">a</span><span class="op" id="2412224">)</span><span class="op" id="2412225">;</span>&nbsp;<span class="ident" id="2412227">argNum</span><span class="op" id="2412233">++</span>&nbsp;<span class="op" id="2412236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412240">p</span><span class="op" id="2412241">.</span><span class="ident" id="2412242">fmt</span><span class="op" id="2412245">.</span><span class="ident" id="2412246">clearflags</span><span class="op" id="2412256">(</span><span class="op" id="2412257">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2412261">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412307">arg</span>&nbsp;<span class="op" id="2412311">:=</span>&nbsp;<span class="ident" id="2412314">a</span><span class="op" id="2412315">[</span><span class="ident" id="2412316">argNum</span><span class="op" id="2412322">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412326">if</span>&nbsp;<span class="ident" id="2412329">argNum</span>&nbsp;<span class="op" id="2412336">&gt;</span>&nbsp;<span class="num" id="2412338">0</span>&nbsp;<span class="op" id="2412340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412345">isString</span>&nbsp;<span class="op" id="2412354">:=</span>&nbsp;<span class="ident" id="2412357">arg</span>&nbsp;<span class="op" id="2412361">!=</span>&nbsp;<span class="ident" id="2412364">nil</span>&nbsp;<span class="op" id="2412368">&amp;&amp;</span>&nbsp;<span class="ident" id="2412371">reflect</span><span class="op" id="2412378">.</span><span class="ident" id="2412379">TypeOf</span><span class="op" id="2412385">(</span><span class="ident" id="2412386">arg</span><span class="op" id="2412389">)</span><span class="op" id="2412390">.</span><span class="ident" id="2412391">Kind</span><span class="op" id="2412395">(</span><span class="op" id="2412396">)</span>&nbsp;<span class="op" id="2412398">==</span>&nbsp;<span class="ident" id="2412401">reflect</span><span class="op" id="2412408">.</span><span class="ident" id="2412409">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412419">if</span>&nbsp;<span class="ident" id="2412422">addspace</span>&nbsp;<span class="op" id="2412431">||</span>&nbsp;<span class="op" id="2412434">!</span><span class="ident" id="2412435">isString</span>&nbsp;<span class="op" id="2412444">&amp;&amp;</span>&nbsp;<span class="op" id="2412447">!</span><span class="ident" id="2412448">prevString</span>&nbsp;<span class="op" id="2412459">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412465">p</span><span class="op" id="2412466">.</span><span class="ident" id="2412467">buf</span><span class="op" id="2412470">.</span><span class="ident" id="2412471">WriteByte</span><span class="op" id="2412480">(</span><span class="string" id="2412481">&#39;&nbsp;&#39;</span><span class="op" id="2412484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412497">prevString</span>&nbsp;<span class="op" id="2412508">=</span>&nbsp;<span class="ident" id="2412510">p</span><span class="op" id="2412511">.</span><span class="ident" id="2412512">printArg</span><span class="op" id="2412520">(</span><span class="ident" id="2412521">arg</span><span class="op" id="2412524">,</span>&nbsp;<span class="string" id="2412526">&#39;v&#39;</span><span class="op" id="2412529">,</span>&nbsp;<span class="num" id="2412531">0</span><span class="op" id="2412532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412535">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412538">if</span>&nbsp;<span class="ident" id="2412541">addnewline</span>&nbsp;<span class="op" id="2412552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412556">p</span><span class="op" id="2412557">.</span><span class="ident" id="2412558">buf</span><span class="op" id="2412561">.</span><span class="ident" id="2412562">WriteByte</span><span class="op" id="2412571">(</span><span class="string" id="2412572">&#39;\n&#39;</span><span class="op" id="2412576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412579">}</span><br>
<span class="lineno"></span><span class="op" id="2412581">}</span>
</div>
</body>
</html>
