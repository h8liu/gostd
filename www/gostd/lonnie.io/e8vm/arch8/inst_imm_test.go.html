<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="8492690">package</span>&nbsp;<span class="ident" id="8492698">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8492705">import</span>&nbsp;<span class="op" id="8492712">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8492715">&#34;testing&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8492727">&#34;math/rand&#34;</span><br>
<span class="lineno"></span><span class="op" id="8492739">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8492742">func</span>&nbsp;<span class="ident" id="8492747">TestInstImm</span><span class="op" id="8492758">(</span><span class="ident" id="8492759">t</span>&nbsp;<span class="op" id="8492761">*</span><span class="ident" id="8492762">testing</span><span class="op" id="8492769">.</span><span class="ident" id="8492770">T</span><span class="op" id="8492771">)</span>&nbsp;<span class="op" id="8492773">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492776">m</span>&nbsp;<span class="op" id="8492778">:=</span>&nbsp;<span class="ident" id="8492781">newPhyMemory</span><span class="op" id="8492793">(</span><span class="ident" id="8492794">PageSize</span>&nbsp;<span class="op" id="8492803">*</span>&nbsp;<span class="num" id="8492805">32</span><span class="op" id="8492807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492810">cpu</span>&nbsp;<span class="op" id="8492814">:=</span>&nbsp;<span class="ident" id="8492817">newCPU</span><span class="op" id="8492823">(</span><span class="ident" id="8492824">m</span><span class="op" id="8492825">,</span>&nbsp;<span class="builtinfunc" id="8492827">new</span><span class="op" id="8492830">(</span><span class="ident" id="8492831">instImm</span><span class="op" id="8492838">)</span><span class="op" id="8492839">,</span>&nbsp;<span class="num" id="8492841">0</span><span class="op" id="8492842">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492846">tst</span>&nbsp;<span class="op" id="8492850">:=</span>&nbsp;<span class="keyword" id="8492853">func</span><span class="op" id="8492857">(</span><span class="ident" id="8492858">op</span><span class="op" id="8492860">,</span>&nbsp;<span class="ident" id="8492862">s</span><span class="op" id="8492863">,</span>&nbsp;<span class="ident" id="8492865">v</span><span class="op" id="8492866">,</span>&nbsp;<span class="ident" id="8492868">im</span><span class="op" id="8492870">,</span>&nbsp;<span class="ident" id="8492872">d</span><span class="op" id="8492873">,</span>&nbsp;<span class="ident" id="8492875">res</span>&nbsp;<span class="builtintype" id="8492879">uint32</span><span class="op" id="8492885">)</span>&nbsp;<span class="op" id="8492887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492891">cpu</span><span class="op" id="8492894">.</span><span class="ident" id="8492895">Reset</span><span class="op" id="8492900">(</span><span class="op" id="8492901">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492906">in</span>&nbsp;<span class="op" id="8492909">:=</span>&nbsp;<span class="op" id="8492912">(</span><span class="ident" id="8492913">op</span>&nbsp;<span class="op" id="8492916">&amp;</span>&nbsp;<span class="num" id="8492918">0xff</span><span class="op" id="8492922">)</span>&nbsp;<span class="op" id="8492924">&lt;&lt;</span>&nbsp;<span class="num" id="8492927">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492932">in</span>&nbsp;<span class="op" id="8492935">|=</span>&nbsp;<span class="op" id="8492938">(</span><span class="ident" id="8492939">s</span>&nbsp;<span class="op" id="8492941">&amp;</span>&nbsp;<span class="num" id="8492943">0x7</span><span class="op" id="8492946">)</span>&nbsp;<span class="op" id="8492948">&lt;&lt;</span>&nbsp;<span class="num" id="8492951">18</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492956">in</span>&nbsp;<span class="op" id="8492959">|=</span>&nbsp;<span class="op" id="8492962">(</span><span class="ident" id="8492963">d</span>&nbsp;<span class="op" id="8492965">&amp;</span>&nbsp;<span class="num" id="8492967">0x7</span><span class="op" id="8492970">)</span>&nbsp;<span class="op" id="8492972">&lt;&lt;</span>&nbsp;<span class="num" id="8492975">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8492980">in</span>&nbsp;<span class="op" id="8492983">|=</span>&nbsp;<span class="ident" id="8492986">im</span>&nbsp;<span class="op" id="8492989">&amp;</span>&nbsp;<span class="num" id="8492991">0xffff</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493001">m</span><span class="op" id="8493002">.</span><span class="ident" id="8493003">WriteWord</span><span class="op" id="8493012">(</span><span class="ident" id="8493013">InitPC</span><span class="op" id="8493019">,</span>&nbsp;<span class="ident" id="8493021">in</span><span class="op" id="8493023">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493028">cpu</span><span class="op" id="8493031">.</span><span class="ident" id="8493032">regs</span><span class="op" id="8493036">[</span><span class="ident" id="8493037">s</span><span class="op" id="8493038">]</span>&nbsp;<span class="op" id="8493040">=</span>&nbsp;<span class="ident" id="8493042">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493046">e</span>&nbsp;<span class="op" id="8493048">:=</span>&nbsp;<span class="ident" id="8493051">cpu</span><span class="op" id="8493054">.</span><span class="ident" id="8493055">Tick</span><span class="op" id="8493059">(</span><span class="op" id="8493060">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493064">if</span>&nbsp;<span class="ident" id="8493067">e</span>&nbsp;<span class="op" id="8493069">!=</span>&nbsp;<span class="ident" id="8493072">nil</span>&nbsp;<span class="op" id="8493076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493081">t</span><span class="op" id="8493082">.</span><span class="ident" id="8493083">Fatal</span><span class="op" id="8493088">(</span><span class="string" id="8493089">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="8493111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493120">got</span>&nbsp;<span class="op" id="8493124">:=</span>&nbsp;<span class="ident" id="8493127">cpu</span><span class="op" id="8493130">.</span><span class="ident" id="8493131">regs</span><span class="op" id="8493135">[</span><span class="ident" id="8493136">d</span><span class="op" id="8493137">]</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493141">if</span>&nbsp;<span class="ident" id="8493144">got</span>&nbsp;<span class="op" id="8493148">!=</span>&nbsp;<span class="ident" id="8493151">res</span>&nbsp;<span class="op" id="8493155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493160">t</span><span class="op" id="8493161">.</span><span class="ident" id="8493162">Fatalf</span><span class="op" id="8493168">(</span><span class="string" id="8493169">&#34;got&nbsp;0x%08x,&nbsp;expect&nbsp;0x%08x&#34;</span><span class="op" id="8493196">,</span>&nbsp;<span class="ident" id="8493198">got</span><span class="op" id="8493201">,</span>&nbsp;<span class="ident" id="8493203">res</span><span class="op" id="8493206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493217">twr</span>&nbsp;<span class="op" id="8493221">:=</span>&nbsp;<span class="keyword" id="8493224">func</span><span class="op" id="8493228">(</span><span class="ident" id="8493229">op</span><span class="op" id="8493231">,</span>&nbsp;<span class="ident" id="8493233">s</span><span class="op" id="8493234">,</span>&nbsp;<span class="ident" id="8493236">v</span><span class="op" id="8493237">,</span>&nbsp;<span class="ident" id="8493239">im</span><span class="op" id="8493241">,</span>&nbsp;<span class="ident" id="8493243">d</span><span class="op" id="8493244">,</span>&nbsp;<span class="ident" id="8493246">w</span>&nbsp;<span class="builtintype" id="8493248">uint32</span><span class="op" id="8493254">)</span>&nbsp;<span class="op" id="8493256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493260">cpu</span><span class="op" id="8493263">.</span><span class="ident" id="8493264">Reset</span><span class="op" id="8493269">(</span><span class="op" id="8493270">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493275">in</span>&nbsp;<span class="op" id="8493278">:=</span>&nbsp;<span class="op" id="8493281">(</span><span class="ident" id="8493282">op</span>&nbsp;<span class="op" id="8493285">&amp;</span>&nbsp;<span class="num" id="8493287">0xff</span><span class="op" id="8493291">)</span>&nbsp;<span class="op" id="8493293">&lt;&lt;</span>&nbsp;<span class="num" id="8493296">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493301">in</span>&nbsp;<span class="op" id="8493304">|=</span>&nbsp;<span class="op" id="8493307">(</span><span class="ident" id="8493308">s</span>&nbsp;<span class="op" id="8493310">&amp;</span>&nbsp;<span class="num" id="8493312">0x7</span><span class="op" id="8493315">)</span>&nbsp;<span class="op" id="8493317">&lt;&lt;</span>&nbsp;<span class="num" id="8493320">18</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493325">in</span>&nbsp;<span class="op" id="8493328">|=</span>&nbsp;<span class="op" id="8493331">(</span><span class="ident" id="8493332">d</span>&nbsp;<span class="op" id="8493334">&amp;</span>&nbsp;<span class="num" id="8493336">0x7</span><span class="op" id="8493339">)</span>&nbsp;<span class="op" id="8493341">&lt;&lt;</span>&nbsp;<span class="num" id="8493344">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493349">in</span>&nbsp;<span class="op" id="8493352">|=</span>&nbsp;<span class="ident" id="8493355">im</span>&nbsp;<span class="op" id="8493358">&amp;</span>&nbsp;<span class="num" id="8493360">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493370">m</span><span class="op" id="8493371">.</span><span class="ident" id="8493372">WriteWord</span><span class="op" id="8493381">(</span><span class="ident" id="8493382">InitPC</span><span class="op" id="8493388">,</span>&nbsp;<span class="ident" id="8493390">in</span><span class="op" id="8493392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493396">cpu</span><span class="op" id="8493399">.</span><span class="ident" id="8493400">regs</span><span class="op" id="8493404">[</span><span class="ident" id="8493405">s</span><span class="op" id="8493406">]</span>&nbsp;<span class="op" id="8493408">=</span>&nbsp;<span class="ident" id="8493410">v</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493414">cpu</span><span class="op" id="8493417">.</span><span class="ident" id="8493418">regs</span><span class="op" id="8493422">[</span><span class="ident" id="8493423">d</span><span class="op" id="8493424">]</span>&nbsp;<span class="op" id="8493426">=</span>&nbsp;<span class="ident" id="8493428">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493432">e</span>&nbsp;<span class="op" id="8493434">:=</span>&nbsp;<span class="ident" id="8493437">cpu</span><span class="op" id="8493440">.</span><span class="ident" id="8493441">Tick</span><span class="op" id="8493445">(</span><span class="op" id="8493446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493450">if</span>&nbsp;<span class="ident" id="8493453">e</span>&nbsp;<span class="op" id="8493455">!=</span>&nbsp;<span class="ident" id="8493458">nil</span>&nbsp;<span class="op" id="8493462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493467">t</span><span class="op" id="8493468">.</span><span class="ident" id="8493469">Fatal</span><span class="op" id="8493474">(</span><span class="string" id="8493475">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="8493497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493501">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493508">tf</span>&nbsp;<span class="op" id="8493511">:=</span>&nbsp;<span class="keyword" id="8493514">func</span><span class="op" id="8493518">(</span><span class="ident" id="8493519">op</span>&nbsp;<span class="builtintype" id="8493522">uint32</span><span class="op" id="8493528">,</span>&nbsp;<span class="ident" id="8493530">f</span>&nbsp;<span class="keyword" id="8493532">func</span><span class="op" id="8493536">(</span><span class="ident" id="8493537">v</span><span class="op" id="8493538">,</span>&nbsp;<span class="ident" id="8493540">im</span>&nbsp;<span class="builtintype" id="8493543">uint32</span><span class="op" id="8493549">)</span>&nbsp;<span class="builtintype" id="8493551">uint32</span><span class="op" id="8493557">)</span>&nbsp;<span class="op" id="8493559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493563">for</span>&nbsp;<span class="ident" id="8493567">i</span>&nbsp;<span class="op" id="8493569">:=</span>&nbsp;<span class="num" id="8493572">0</span><span class="op" id="8493573">;</span>&nbsp;<span class="ident" id="8493575">i</span>&nbsp;<span class="op" id="8493577">&lt;</span>&nbsp;<span class="num" id="8493579">100</span><span class="op" id="8493582">;</span>&nbsp;<span class="ident" id="8493584">i</span><span class="op" id="8493585">++</span>&nbsp;<span class="op" id="8493588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493593">s</span>&nbsp;<span class="op" id="8493595">:=</span>&nbsp;<span class="builtintype" id="8493598">uint32</span><span class="op" id="8493604">(</span><span class="ident" id="8493605">rand</span><span class="op" id="8493609">.</span><span class="ident" id="8493610">Intn</span><span class="op" id="8493614">(</span><span class="num" id="8493615">5</span><span class="op" id="8493616">)</span><span class="op" id="8493617">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493622">d</span>&nbsp;<span class="op" id="8493624">:=</span>&nbsp;<span class="builtintype" id="8493627">uint32</span><span class="op" id="8493633">(</span><span class="ident" id="8493634">rand</span><span class="op" id="8493638">.</span><span class="ident" id="8493639">Intn</span><span class="op" id="8493643">(</span><span class="num" id="8493644">5</span><span class="op" id="8493645">)</span><span class="op" id="8493646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493651">v</span>&nbsp;<span class="op" id="8493653">:=</span>&nbsp;<span class="builtintype" id="8493656">uint32</span><span class="op" id="8493662">(</span><span class="ident" id="8493663">rand</span><span class="op" id="8493667">.</span><span class="ident" id="8493668">Int63</span><span class="op" id="8493673">(</span><span class="op" id="8493674">)</span><span class="op" id="8493675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493680">im</span>&nbsp;<span class="op" id="8493683">:=</span>&nbsp;<span class="builtintype" id="8493686">uint32</span><span class="op" id="8493692">(</span><span class="ident" id="8493693">rand</span><span class="op" id="8493697">.</span><span class="ident" id="8493698">Int63</span><span class="op" id="8493703">(</span><span class="op" id="8493704">)</span><span class="op" id="8493705">)</span>&nbsp;<span class="op" id="8493707">&amp;</span>&nbsp;<span class="num" id="8493709">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493720">exp</span>&nbsp;<span class="op" id="8493724">:=</span>&nbsp;<span class="ident" id="8493727">f</span><span class="op" id="8493728">(</span><span class="ident" id="8493729">v</span><span class="op" id="8493730">,</span>&nbsp;<span class="ident" id="8493732">im</span><span class="op" id="8493734">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493740">tst</span><span class="op" id="8493743">(</span><span class="ident" id="8493744">op</span><span class="op" id="8493746">,</span>&nbsp;<span class="ident" id="8493748">s</span><span class="op" id="8493749">,</span>&nbsp;<span class="ident" id="8493751">v</span><span class="op" id="8493752">,</span>&nbsp;<span class="ident" id="8493754">im</span><span class="op" id="8493756">,</span>&nbsp;<span class="ident" id="8493758">d</span><span class="op" id="8493759">,</span>&nbsp;<span class="ident" id="8493761">exp</span><span class="op" id="8493764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493775">sext</span>&nbsp;<span class="op" id="8493780">:=</span>&nbsp;<span class="keyword" id="8493783">func</span><span class="op" id="8493787">(</span><span class="ident" id="8493788">i</span>&nbsp;<span class="builtintype" id="8493790">uint32</span><span class="op" id="8493796">)</span>&nbsp;<span class="builtintype" id="8493798">uint32</span>&nbsp;<span class="op" id="8493805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493809">return</span>&nbsp;<span class="builtintype" id="8493816">uint32</span><span class="op" id="8493822">(</span><span class="op" id="8493823">(</span><span class="builtintype" id="8493824">int32</span><span class="op" id="8493829">(</span><span class="ident" id="8493830">i</span>&nbsp;<span class="op" id="8493832">&lt;&lt;</span>&nbsp;<span class="num" id="8493835">16</span><span class="op" id="8493837">)</span><span class="op" id="8493838">)</span>&nbsp;<span class="op" id="8493840">&gt;&gt;</span>&nbsp;<span class="num" id="8493843">16</span><span class="op" id="8493845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8493848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493852">tf</span><span class="op" id="8493854">(</span><span class="num" id="8493855">1</span><span class="op" id="8493856">,</span>&nbsp;<span class="keyword" id="8493858">func</span><span class="op" id="8493862">(</span><span class="ident" id="8493863">v</span><span class="op" id="8493864">,</span>&nbsp;<span class="ident" id="8493866">im</span>&nbsp;<span class="builtintype" id="8493869">uint32</span><span class="op" id="8493875">)</span>&nbsp;<span class="builtintype" id="8493877">uint32</span>&nbsp;<span class="op" id="8493884">{</span>&nbsp;<span class="keyword" id="8493886">return</span>&nbsp;<span class="ident" id="8493893">v</span>&nbsp;<span class="op" id="8493895">+</span>&nbsp;<span class="ident" id="8493897">sext</span><span class="op" id="8493901">(</span><span class="ident" id="8493902">im</span><span class="op" id="8493904">)</span>&nbsp;<span class="op" id="8493906">}</span><span class="op" id="8493907">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493910">tf</span><span class="op" id="8493912">(</span><span class="num" id="8493913">2</span><span class="op" id="8493914">,</span>&nbsp;<span class="keyword" id="8493916">func</span><span class="op" id="8493920">(</span><span class="ident" id="8493921">v</span><span class="op" id="8493922">,</span>&nbsp;<span class="ident" id="8493924">im</span>&nbsp;<span class="builtintype" id="8493927">uint32</span><span class="op" id="8493933">)</span>&nbsp;<span class="builtintype" id="8493935">uint32</span>&nbsp;<span class="op" id="8493942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8493946">se</span>&nbsp;<span class="op" id="8493949">:=</span>&nbsp;<span class="ident" id="8493952">sext</span><span class="op" id="8493956">(</span><span class="ident" id="8493957">im</span><span class="op" id="8493959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493963">if</span>&nbsp;<span class="builtintype" id="8493966">int32</span><span class="op" id="8493971">(</span><span class="ident" id="8493972">v</span><span class="op" id="8493973">)</span>&nbsp;<span class="op" id="8493975">&lt;</span>&nbsp;<span class="builtintype" id="8493977">int32</span><span class="op" id="8493982">(</span><span class="ident" id="8493983">se</span><span class="op" id="8493985">)</span>&nbsp;<span class="op" id="8493987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8493992">return</span>&nbsp;<span class="num" id="8493999">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494003">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8494007">return</span>&nbsp;<span class="num" id="8494014">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494017">}</span><span class="op" id="8494018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494021">tf</span><span class="op" id="8494023">(</span><span class="num" id="8494024">3</span><span class="op" id="8494025">,</span>&nbsp;<span class="keyword" id="8494027">func</span><span class="op" id="8494031">(</span><span class="ident" id="8494032">v</span><span class="op" id="8494033">,</span>&nbsp;<span class="ident" id="8494035">im</span>&nbsp;<span class="builtintype" id="8494038">uint32</span><span class="op" id="8494044">)</span>&nbsp;<span class="builtintype" id="8494046">uint32</span>&nbsp;<span class="op" id="8494053">{</span>&nbsp;<span class="keyword" id="8494055">return</span>&nbsp;<span class="ident" id="8494062">v</span>&nbsp;<span class="op" id="8494064">&amp;</span>&nbsp;<span class="ident" id="8494066">im</span>&nbsp;<span class="op" id="8494069">}</span><span class="op" id="8494070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494073">tf</span><span class="op" id="8494075">(</span><span class="num" id="8494076">4</span><span class="op" id="8494077">,</span>&nbsp;<span class="keyword" id="8494079">func</span><span class="op" id="8494083">(</span><span class="ident" id="8494084">v</span><span class="op" id="8494085">,</span>&nbsp;<span class="ident" id="8494087">im</span>&nbsp;<span class="builtintype" id="8494090">uint32</span><span class="op" id="8494096">)</span>&nbsp;<span class="builtintype" id="8494098">uint32</span>&nbsp;<span class="op" id="8494105">{</span>&nbsp;<span class="keyword" id="8494107">return</span>&nbsp;<span class="ident" id="8494114">v</span>&nbsp;<span class="op" id="8494116">|</span>&nbsp;<span class="ident" id="8494118">im</span>&nbsp;<span class="op" id="8494121">}</span><span class="op" id="8494122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494125">tf</span><span class="op" id="8494127">(</span><span class="num" id="8494128">5</span><span class="op" id="8494129">,</span>&nbsp;<span class="keyword" id="8494131">func</span><span class="op" id="8494135">(</span><span class="ident" id="8494136">_</span><span class="op" id="8494137">,</span>&nbsp;<span class="ident" id="8494139">im</span>&nbsp;<span class="builtintype" id="8494142">uint32</span><span class="op" id="8494148">)</span>&nbsp;<span class="builtintype" id="8494150">uint32</span>&nbsp;<span class="op" id="8494157">{</span>&nbsp;<span class="keyword" id="8494159">return</span>&nbsp;<span class="ident" id="8494166">im</span>&nbsp;<span class="op" id="8494169">&lt;&lt;</span>&nbsp;<span class="num" id="8494172">16</span>&nbsp;<span class="op" id="8494175">}</span><span class="op" id="8494176">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8494180">for</span>&nbsp;<span class="ident" id="8494184">i</span>&nbsp;<span class="op" id="8494186">:=</span>&nbsp;<span class="num" id="8494189">0</span><span class="op" id="8494190">;</span>&nbsp;<span class="ident" id="8494192">i</span>&nbsp;<span class="op" id="8494194">&lt;</span>&nbsp;<span class="num" id="8494196">100</span><span class="op" id="8494199">;</span>&nbsp;<span class="ident" id="8494201">i</span><span class="op" id="8494202">++</span>&nbsp;<span class="op" id="8494205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494209">addr</span>&nbsp;<span class="op" id="8494214">:=</span>&nbsp;<span class="builtintype" id="8494217">uint32</span><span class="op" id="8494223">(</span><span class="ident" id="8494224">PageSize</span>&nbsp;<span class="op" id="8494233">*</span>&nbsp;<span class="num" id="8494235">10</span><span class="op" id="8494237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494241">addr</span>&nbsp;<span class="op" id="8494246">+=</span>&nbsp;<span class="builtintype" id="8494249">uint32</span><span class="op" id="8494255">(</span><span class="ident" id="8494256">rand</span><span class="op" id="8494260">.</span><span class="ident" id="8494261">Int63</span><span class="op" id="8494266">(</span><span class="op" id="8494267">)</span><span class="op" id="8494268">)</span>&nbsp;<span class="op" id="8494270">%</span>&nbsp;<span class="ident" id="8494272">PageSize</span>&nbsp;<span class="op" id="8494281">*</span>&nbsp;<span class="num" id="8494283">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494287">offset</span>&nbsp;<span class="op" id="8494294">:=</span>&nbsp;<span class="builtintype" id="8494297">uint32</span><span class="op" id="8494303">(</span><span class="ident" id="8494304">rand</span><span class="op" id="8494308">.</span><span class="ident" id="8494309">Int63</span><span class="op" id="8494314">(</span><span class="op" id="8494315">)</span><span class="op" id="8494316">)</span>&nbsp;<span class="op" id="8494318">%</span>&nbsp;<span class="ident" id="8494320">PageSize</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494331">offset</span>&nbsp;<span class="op" id="8494338">-=</span>&nbsp;<span class="ident" id="8494341">offset</span>&nbsp;<span class="op" id="8494348">%</span>&nbsp;<span class="num" id="8494350">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494354">offset</span>&nbsp;<span class="op" id="8494361">-=</span>&nbsp;<span class="ident" id="8494364">PageSize</span>&nbsp;<span class="op" id="8494373">/</span>&nbsp;<span class="num" id="8494375">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494379">w</span>&nbsp;<span class="op" id="8494381">:=</span>&nbsp;<span class="builtintype" id="8494384">uint32</span><span class="op" id="8494390">(</span><span class="ident" id="8494391">rand</span><span class="op" id="8494395">.</span><span class="ident" id="8494396">Int63</span><span class="op" id="8494401">(</span><span class="op" id="8494402">)</span><span class="op" id="8494403">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494408">e</span>&nbsp;<span class="op" id="8494410">:=</span>&nbsp;<span class="ident" id="8494413">m</span><span class="op" id="8494414">.</span><span class="ident" id="8494415">WriteWord</span><span class="op" id="8494424">(</span><span class="ident" id="8494425">addr</span><span class="op" id="8494429">+</span><span class="ident" id="8494430">offset</span><span class="op" id="8494436">,</span>&nbsp;<span class="ident" id="8494438">w</span><span class="op" id="8494439">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8494443">if</span>&nbsp;<span class="ident" id="8494446">e</span>&nbsp;<span class="op" id="8494448">!=</span>&nbsp;<span class="ident" id="8494451">nil</span>&nbsp;<span class="op" id="8494455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494460">t</span><span class="op" id="8494461">.</span><span class="ident" id="8494462">Fatal</span><span class="op" id="8494467">(</span><span class="string" id="8494468">&#34;write&nbsp;fail&#34;</span><span class="op" id="8494480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494488">s</span>&nbsp;<span class="op" id="8494490">:=</span>&nbsp;<span class="builtintype" id="8494493">uint32</span><span class="op" id="8494499">(</span><span class="ident" id="8494500">rand</span><span class="op" id="8494504">.</span><span class="ident" id="8494505">Intn</span><span class="op" id="8494509">(</span><span class="num" id="8494510">5</span><span class="op" id="8494511">)</span><span class="op" id="8494512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494516">d</span>&nbsp;<span class="op" id="8494518">:=</span>&nbsp;<span class="builtintype" id="8494521">uint32</span><span class="op" id="8494527">(</span><span class="ident" id="8494528">rand</span><span class="op" id="8494532">.</span><span class="ident" id="8494533">Intn</span><span class="op" id="8494537">(</span><span class="num" id="8494538">5</span><span class="op" id="8494539">)</span><span class="op" id="8494540">)</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494545">tst</span><span class="op" id="8494548">(</span><span class="num" id="8494549">6</span><span class="op" id="8494550">,</span>&nbsp;<span class="ident" id="8494552">s</span><span class="op" id="8494553">,</span>&nbsp;<span class="ident" id="8494555">addr</span><span class="op" id="8494559">,</span>&nbsp;<span class="ident" id="8494561">offset</span><span class="op" id="8494567">,</span>&nbsp;<span class="ident" id="8494569">d</span><span class="op" id="8494570">,</span>&nbsp;<span class="ident" id="8494572">w</span><span class="op" id="8494573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8494580">for</span>&nbsp;<span class="ident" id="8494584">i</span>&nbsp;<span class="op" id="8494586">:=</span>&nbsp;<span class="num" id="8494589">0</span><span class="op" id="8494590">;</span>&nbsp;<span class="ident" id="8494592">i</span>&nbsp;<span class="op" id="8494594">&lt;</span>&nbsp;<span class="num" id="8494596">100</span><span class="op" id="8494599">;</span>&nbsp;<span class="ident" id="8494601">i</span><span class="op" id="8494602">++</span>&nbsp;<span class="op" id="8494605">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494609">addr</span>&nbsp;<span class="op" id="8494614">:=</span>&nbsp;<span class="builtintype" id="8494617">uint32</span><span class="op" id="8494623">(</span><span class="ident" id="8494624">PageSize</span>&nbsp;<span class="op" id="8494633">*</span>&nbsp;<span class="num" id="8494635">10</span><span class="op" id="8494637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494641">addr</span>&nbsp;<span class="op" id="8494646">+=</span>&nbsp;<span class="builtintype" id="8494649">uint32</span><span class="op" id="8494655">(</span><span class="ident" id="8494656">rand</span><span class="op" id="8494660">.</span><span class="ident" id="8494661">Int63</span><span class="op" id="8494666">(</span><span class="op" id="8494667">)</span><span class="op" id="8494668">)</span>&nbsp;<span class="op" id="8494670">%</span>&nbsp;<span class="ident" id="8494672">PageSize</span>&nbsp;<span class="op" id="8494681">*</span>&nbsp;<span class="num" id="8494683">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494687">offset</span>&nbsp;<span class="op" id="8494694">:=</span>&nbsp;<span class="builtintype" id="8494697">uint32</span><span class="op" id="8494703">(</span><span class="ident" id="8494704">rand</span><span class="op" id="8494708">.</span><span class="ident" id="8494709">Int63</span><span class="op" id="8494714">(</span><span class="op" id="8494715">)</span><span class="op" id="8494716">)</span>&nbsp;<span class="op" id="8494718">%</span>&nbsp;<span class="ident" id="8494720">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494731">offset</span>&nbsp;<span class="op" id="8494738">-=</span>&nbsp;<span class="ident" id="8494741">PageSize</span>&nbsp;<span class="op" id="8494750">/</span>&nbsp;<span class="num" id="8494752">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494756">b</span>&nbsp;<span class="op" id="8494758">:=</span>&nbsp;<span class="builtintype" id="8494761">byte</span><span class="op" id="8494765">(</span><span class="ident" id="8494766">rand</span><span class="op" id="8494770">.</span><span class="ident" id="8494771">Int63</span><span class="op" id="8494776">(</span><span class="op" id="8494777">)</span><span class="op" id="8494778">)</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494783">e</span>&nbsp;<span class="op" id="8494785">:=</span>&nbsp;<span class="ident" id="8494788">m</span><span class="op" id="8494789">.</span><span class="ident" id="8494790">WriteByte</span><span class="op" id="8494799">(</span><span class="ident" id="8494800">addr</span><span class="op" id="8494804">+</span><span class="ident" id="8494805">offset</span><span class="op" id="8494811">,</span>&nbsp;<span class="ident" id="8494813">b</span><span class="op" id="8494814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8494818">if</span>&nbsp;<span class="ident" id="8494821">e</span>&nbsp;<span class="op" id="8494823">!=</span>&nbsp;<span class="ident" id="8494826">nil</span>&nbsp;<span class="op" id="8494830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494835">t</span><span class="op" id="8494836">.</span><span class="ident" id="8494837">Fatal</span><span class="op" id="8494842">(</span><span class="string" id="8494843">&#34;write&nbsp;fail&#34;</span><span class="op" id="8494855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494859">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494863">s</span>&nbsp;<span class="op" id="8494865">:=</span>&nbsp;<span class="builtintype" id="8494868">uint32</span><span class="op" id="8494874">(</span><span class="ident" id="8494875">rand</span><span class="op" id="8494879">.</span><span class="ident" id="8494880">Intn</span><span class="op" id="8494884">(</span><span class="num" id="8494885">5</span><span class="op" id="8494886">)</span><span class="op" id="8494887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494891">d</span>&nbsp;<span class="op" id="8494893">:=</span>&nbsp;<span class="builtintype" id="8494896">uint32</span><span class="op" id="8494902">(</span><span class="ident" id="8494903">rand</span><span class="op" id="8494907">.</span><span class="ident" id="8494908">Intn</span><span class="op" id="8494912">(</span><span class="num" id="8494913">5</span><span class="op" id="8494914">)</span><span class="op" id="8494915">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494920">w</span>&nbsp;<span class="op" id="8494922">:=</span>&nbsp;<span class="builtintype" id="8494925">uint32</span><span class="op" id="8494931">(</span><span class="builtintype" id="8494932">int32</span><span class="op" id="8494937">(</span><span class="builtintype" id="8494938">uint32</span><span class="op" id="8494944">(</span><span class="ident" id="8494945">b</span><span class="op" id="8494946">)</span><span class="op" id="8494947">&lt;&lt;</span><span class="num" id="8494949">24</span><span class="op" id="8494951">)</span>&nbsp;<span class="op" id="8494953">&gt;&gt;</span>&nbsp;<span class="num" id="8494956">24</span><span class="op" id="8494958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494962">tst</span><span class="op" id="8494965">(</span><span class="num" id="8494966">7</span><span class="op" id="8494967">,</span>&nbsp;<span class="ident" id="8494969">s</span><span class="op" id="8494970">,</span>&nbsp;<span class="ident" id="8494972">addr</span><span class="op" id="8494976">,</span>&nbsp;<span class="ident" id="8494978">offset</span><span class="op" id="8494984">,</span>&nbsp;<span class="ident" id="8494986">d</span><span class="op" id="8494987">,</span>&nbsp;<span class="ident" id="8494989">w</span><span class="op" id="8494990">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494994">tst</span><span class="op" id="8494997">(</span><span class="num" id="8494998">8</span><span class="op" id="8494999">,</span>&nbsp;<span class="ident" id="8495001">s</span><span class="op" id="8495002">,</span>&nbsp;<span class="ident" id="8495004">addr</span><span class="op" id="8495008">,</span>&nbsp;<span class="ident" id="8495010">offset</span><span class="op" id="8495016">,</span>&nbsp;<span class="ident" id="8495018">d</span><span class="op" id="8495019">,</span>&nbsp;<span class="builtintype" id="8495021">uint32</span><span class="op" id="8495027">(</span><span class="ident" id="8495028">b</span><span class="op" id="8495029">)</span><span class="op" id="8495030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495037">for</span>&nbsp;<span class="ident" id="8495041">i</span>&nbsp;<span class="op" id="8495043">:=</span>&nbsp;<span class="num" id="8495046">0</span><span class="op" id="8495047">;</span>&nbsp;<span class="ident" id="8495049">i</span>&nbsp;<span class="op" id="8495051">&lt;</span>&nbsp;<span class="num" id="8495053">100</span><span class="op" id="8495056">;</span>&nbsp;<span class="ident" id="8495058">i</span><span class="op" id="8495059">++</span>&nbsp;<span class="op" id="8495062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495066">addr</span>&nbsp;<span class="op" id="8495071">:=</span>&nbsp;<span class="builtintype" id="8495074">uint32</span><span class="op" id="8495080">(</span><span class="ident" id="8495081">PageSize</span>&nbsp;<span class="op" id="8495090">*</span>&nbsp;<span class="num" id="8495092">10</span><span class="op" id="8495094">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495098">addr</span>&nbsp;<span class="op" id="8495103">+=</span>&nbsp;<span class="builtintype" id="8495106">uint32</span><span class="op" id="8495112">(</span><span class="ident" id="8495113">rand</span><span class="op" id="8495117">.</span><span class="ident" id="8495118">Int63</span><span class="op" id="8495123">(</span><span class="op" id="8495124">)</span><span class="op" id="8495125">)</span>&nbsp;<span class="op" id="8495127">%</span>&nbsp;<span class="ident" id="8495129">PageSize</span>&nbsp;<span class="op" id="8495138">*</span>&nbsp;<span class="num" id="8495140">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495144">offset</span>&nbsp;<span class="op" id="8495151">:=</span>&nbsp;<span class="builtintype" id="8495154">uint32</span><span class="op" id="8495160">(</span><span class="ident" id="8495161">rand</span><span class="op" id="8495165">.</span><span class="ident" id="8495166">Int63</span><span class="op" id="8495171">(</span><span class="op" id="8495172">)</span><span class="op" id="8495173">)</span>&nbsp;<span class="op" id="8495175">%</span>&nbsp;<span class="ident" id="8495177">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495188">offset</span>&nbsp;<span class="op" id="8495195">-=</span>&nbsp;<span class="ident" id="8495198">offset</span>&nbsp;<span class="op" id="8495205">%</span>&nbsp;<span class="num" id="8495207">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495211">offset</span>&nbsp;<span class="op" id="8495218">-=</span>&nbsp;<span class="ident" id="8495221">PageSize</span>&nbsp;<span class="op" id="8495230">/</span>&nbsp;<span class="num" id="8495232">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495236">w</span>&nbsp;<span class="op" id="8495238">:=</span>&nbsp;<span class="builtintype" id="8495241">uint32</span><span class="op" id="8495247">(</span><span class="ident" id="8495248">rand</span><span class="op" id="8495252">.</span><span class="ident" id="8495253">Int63</span><span class="op" id="8495258">(</span><span class="op" id="8495259">)</span><span class="op" id="8495260">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495265">s</span>&nbsp;<span class="op" id="8495267">:=</span>&nbsp;<span class="builtintype" id="8495270">uint32</span><span class="op" id="8495276">(</span><span class="ident" id="8495277">rand</span><span class="op" id="8495281">.</span><span class="ident" id="8495282">Intn</span><span class="op" id="8495286">(</span><span class="num" id="8495287">5</span><span class="op" id="8495288">)</span><span class="op" id="8495289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495293">d</span>&nbsp;<span class="op" id="8495295">:=</span>&nbsp;<span class="builtintype" id="8495298">uint32</span><span class="op" id="8495304">(</span><span class="ident" id="8495305">rand</span><span class="op" id="8495309">.</span><span class="ident" id="8495310">Intn</span><span class="op" id="8495314">(</span><span class="num" id="8495315">5</span><span class="op" id="8495316">)</span><span class="op" id="8495317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495321">for</span>&nbsp;<span class="ident" id="8495325">d</span>&nbsp;<span class="op" id="8495327">==</span>&nbsp;<span class="ident" id="8495330">s</span>&nbsp;<span class="op" id="8495332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495337">d</span>&nbsp;<span class="op" id="8495339">=</span>&nbsp;<span class="builtintype" id="8495341">uint32</span><span class="op" id="8495347">(</span><span class="ident" id="8495348">rand</span><span class="op" id="8495352">.</span><span class="ident" id="8495353">Intn</span><span class="op" id="8495357">(</span><span class="num" id="8495358">5</span><span class="op" id="8495359">)</span><span class="op" id="8495360">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495369">twr</span><span class="op" id="8495372">(</span><span class="num" id="8495373">9</span><span class="op" id="8495374">,</span>&nbsp;<span class="ident" id="8495376">s</span><span class="op" id="8495377">,</span>&nbsp;<span class="ident" id="8495379">addr</span><span class="op" id="8495383">,</span>&nbsp;<span class="ident" id="8495385">offset</span><span class="op" id="8495391">,</span>&nbsp;<span class="ident" id="8495393">d</span><span class="op" id="8495394">,</span>&nbsp;<span class="ident" id="8495396">w</span><span class="op" id="8495397">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495402">got</span><span class="op" id="8495405">,</span>&nbsp;<span class="ident" id="8495407">e</span>&nbsp;<span class="op" id="8495409">:=</span>&nbsp;<span class="ident" id="8495412">m</span><span class="op" id="8495413">.</span><span class="ident" id="8495414">ReadWord</span><span class="op" id="8495422">(</span><span class="ident" id="8495423">addr</span>&nbsp;<span class="op" id="8495428">+</span>&nbsp;<span class="ident" id="8495430">offset</span><span class="op" id="8495436">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495440">if</span>&nbsp;<span class="ident" id="8495443">e</span>&nbsp;<span class="op" id="8495445">!=</span>&nbsp;<span class="ident" id="8495448">nil</span>&nbsp;<span class="op" id="8495452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495457">t</span><span class="op" id="8495458">.</span><span class="ident" id="8495459">Fatal</span><span class="op" id="8495464">(</span><span class="string" id="8495465">&#34;read&nbsp;fail&#34;</span><span class="op" id="8495476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495485">if</span>&nbsp;<span class="ident" id="8495488">got</span>&nbsp;<span class="op" id="8495492">!=</span>&nbsp;<span class="ident" id="8495495">w</span>&nbsp;<span class="op" id="8495497">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495502">t</span><span class="op" id="8495503">.</span><span class="ident" id="8495504">Fatalf</span><span class="op" id="8495510">(</span><span class="string" id="8495511">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8495538">,</span>&nbsp;<span class="ident" id="8495540">w</span><span class="op" id="8495541">,</span>&nbsp;<span class="ident" id="8495543">got</span><span class="op" id="8495546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495557">for</span>&nbsp;<span class="ident" id="8495561">i</span>&nbsp;<span class="op" id="8495563">:=</span>&nbsp;<span class="num" id="8495566">0</span><span class="op" id="8495567">;</span>&nbsp;<span class="ident" id="8495569">i</span>&nbsp;<span class="op" id="8495571">&lt;</span>&nbsp;<span class="num" id="8495573">100</span><span class="op" id="8495576">;</span>&nbsp;<span class="ident" id="8495578">i</span><span class="op" id="8495579">++</span>&nbsp;<span class="op" id="8495582">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495586">addr</span>&nbsp;<span class="op" id="8495591">:=</span>&nbsp;<span class="builtintype" id="8495594">uint32</span><span class="op" id="8495600">(</span><span class="ident" id="8495601">PageSize</span>&nbsp;<span class="op" id="8495610">*</span>&nbsp;<span class="num" id="8495612">10</span><span class="op" id="8495614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495618">addr</span>&nbsp;<span class="op" id="8495623">+=</span>&nbsp;<span class="builtintype" id="8495626">uint32</span><span class="op" id="8495632">(</span><span class="ident" id="8495633">rand</span><span class="op" id="8495637">.</span><span class="ident" id="8495638">Int63</span><span class="op" id="8495643">(</span><span class="op" id="8495644">)</span><span class="op" id="8495645">)</span>&nbsp;<span class="op" id="8495647">%</span>&nbsp;<span class="ident" id="8495649">PageSize</span>&nbsp;<span class="op" id="8495658">*</span>&nbsp;<span class="num" id="8495660">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495664">offset</span>&nbsp;<span class="op" id="8495671">:=</span>&nbsp;<span class="builtintype" id="8495674">uint32</span><span class="op" id="8495680">(</span><span class="ident" id="8495681">rand</span><span class="op" id="8495685">.</span><span class="ident" id="8495686">Int63</span><span class="op" id="8495691">(</span><span class="op" id="8495692">)</span><span class="op" id="8495693">)</span>&nbsp;<span class="op" id="8495695">%</span>&nbsp;<span class="ident" id="8495697">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495708">offset</span>&nbsp;<span class="op" id="8495715">-=</span>&nbsp;<span class="ident" id="8495718">PageSize</span>&nbsp;<span class="op" id="8495727">/</span>&nbsp;<span class="num" id="8495729">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495733">b</span>&nbsp;<span class="op" id="8495735">:=</span>&nbsp;<span class="builtintype" id="8495738">byte</span><span class="op" id="8495742">(</span><span class="ident" id="8495743">rand</span><span class="op" id="8495747">.</span><span class="ident" id="8495748">Int63</span><span class="op" id="8495753">(</span><span class="op" id="8495754">)</span><span class="op" id="8495755">)</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495760">s</span>&nbsp;<span class="op" id="8495762">:=</span>&nbsp;<span class="builtintype" id="8495765">uint32</span><span class="op" id="8495771">(</span><span class="ident" id="8495772">rand</span><span class="op" id="8495776">.</span><span class="ident" id="8495777">Intn</span><span class="op" id="8495781">(</span><span class="num" id="8495782">5</span><span class="op" id="8495783">)</span><span class="op" id="8495784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495788">d</span>&nbsp;<span class="op" id="8495790">:=</span>&nbsp;<span class="builtintype" id="8495793">uint32</span><span class="op" id="8495799">(</span><span class="ident" id="8495800">rand</span><span class="op" id="8495804">.</span><span class="ident" id="8495805">Intn</span><span class="op" id="8495809">(</span><span class="num" id="8495810">5</span><span class="op" id="8495811">)</span><span class="op" id="8495812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495816">for</span>&nbsp;<span class="ident" id="8495820">d</span>&nbsp;<span class="op" id="8495822">==</span>&nbsp;<span class="ident" id="8495825">s</span>&nbsp;<span class="op" id="8495827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495832">d</span>&nbsp;<span class="op" id="8495834">=</span>&nbsp;<span class="builtintype" id="8495836">uint32</span><span class="op" id="8495842">(</span><span class="ident" id="8495843">rand</span><span class="op" id="8495847">.</span><span class="ident" id="8495848">Intn</span><span class="op" id="8495852">(</span><span class="num" id="8495853">5</span><span class="op" id="8495854">)</span><span class="op" id="8495855">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495864">twr</span><span class="op" id="8495867">(</span><span class="num" id="8495868">10</span><span class="op" id="8495870">,</span>&nbsp;<span class="ident" id="8495872">s</span><span class="op" id="8495873">,</span>&nbsp;<span class="ident" id="8495875">addr</span><span class="op" id="8495879">,</span>&nbsp;<span class="ident" id="8495881">offset</span><span class="op" id="8495887">,</span>&nbsp;<span class="ident" id="8495889">d</span><span class="op" id="8495890">,</span>&nbsp;<span class="builtintype" id="8495892">uint32</span><span class="op" id="8495898">(</span><span class="ident" id="8495899">b</span><span class="op" id="8495900">)</span><span class="op" id="8495901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495906">got</span><span class="op" id="8495909">,</span>&nbsp;<span class="ident" id="8495911">e</span>&nbsp;<span class="op" id="8495913">:=</span>&nbsp;<span class="ident" id="8495916">m</span><span class="op" id="8495917">.</span><span class="ident" id="8495918">ReadByte</span><span class="op" id="8495926">(</span><span class="ident" id="8495927">addr</span>&nbsp;<span class="op" id="8495932">+</span>&nbsp;<span class="ident" id="8495934">offset</span><span class="op" id="8495940">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495944">if</span>&nbsp;<span class="ident" id="8495947">e</span>&nbsp;<span class="op" id="8495949">!=</span>&nbsp;<span class="ident" id="8495952">nil</span>&nbsp;<span class="op" id="8495956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495961">t</span><span class="op" id="8495962">.</span><span class="ident" id="8495963">Fatal</span><span class="op" id="8495968">(</span><span class="string" id="8495969">&#34;read&nbsp;fail&#34;</span><span class="op" id="8495980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495989">if</span>&nbsp;<span class="ident" id="8495992">got</span>&nbsp;<span class="op" id="8495996">!=</span>&nbsp;<span class="ident" id="8495999">b</span>&nbsp;<span class="op" id="8496001">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8496006">t</span><span class="op" id="8496007">.</span><span class="ident" id="8496008">Fatalf</span><span class="op" id="8496014">(</span><span class="string" id="8496015">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8496042">,</span>&nbsp;<span class="ident" id="8496044">b</span><span class="op" id="8496045">,</span>&nbsp;<span class="ident" id="8496047">got</span><span class="op" id="8496050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496057">}</span><br>
<span class="lineno"></span><span class="op" id="8496059">}</span>
</div>
</body>
</html>
