<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7872662">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7872718">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7872772">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7872823">package</span>&nbsp;<span class="ident" id="7872831">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7872836">import</span>&nbsp;<span class="op" id="7872843">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7872846">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7872857">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7872867">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7872870">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="7872938">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7873005">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="7873015">func</span>&nbsp;<span class="ident" id="7873020">loopbackInterface</span><span class="op" id="7873037">(</span><span class="op" id="7873038">)</span>&nbsp;<span class="op" id="7873040">*</span><span class="ident" id="7873041">Interface</span>&nbsp;<span class="op" id="7873051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873054">ift</span><span class="op" id="7873057">,</span>&nbsp;<span class="ident" id="7873059">err</span>&nbsp;<span class="op" id="7873063">:=</span>&nbsp;<span class="ident" id="7873066">Interfaces</span><span class="op" id="7873076">(</span><span class="op" id="7873077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873080">if</span>&nbsp;<span class="ident" id="7873083">err</span>&nbsp;<span class="op" id="7873087">!=</span>&nbsp;<span class="ident" id="7873090">nil</span>&nbsp;<span class="op" id="7873094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873098">return</span>&nbsp;<span class="ident" id="7873105">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873110">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873113">for</span>&nbsp;<span class="ident" id="7873117">_</span><span class="op" id="7873118">,</span>&nbsp;<span class="ident" id="7873120">ifi</span>&nbsp;<span class="op" id="7873124">:=</span>&nbsp;<span class="keyword" id="7873127">range</span>&nbsp;<span class="ident" id="7873133">ift</span>&nbsp;<span class="op" id="7873137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873141">if</span>&nbsp;<span class="ident" id="7873144">ifi</span><span class="op" id="7873147">.</span><span class="ident" id="7873148">Flags</span><span class="op" id="7873153">&amp;</span><span class="ident" id="7873154">FlagLoopback</span>&nbsp;<span class="op" id="7873167">!=</span>&nbsp;<span class="num" id="7873170">0</span>&nbsp;<span class="op" id="7873172">&amp;&amp;</span>&nbsp;<span class="ident" id="7873175">ifi</span><span class="op" id="7873178">.</span><span class="ident" id="7873179">Flags</span><span class="op" id="7873184">&amp;</span><span class="ident" id="7873185">FlagUp</span>&nbsp;<span class="op" id="7873192">!=</span>&nbsp;<span class="num" id="7873195">0</span>&nbsp;<span class="op" id="7873197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873202">return</span>&nbsp;<span class="op" id="7873209">&amp;</span><span class="ident" id="7873210">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873219">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873222">return</span>&nbsp;<span class="ident" id="7873229">nil</span><br>
<span class="lineno"></span><span class="op" id="7873233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7873236">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="7873307">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="7873372">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="7873402">func</span>&nbsp;<span class="ident" id="7873407">ipv6LinkLocalUnicastAddr</span><span class="op" id="7873431">(</span><span class="ident" id="7873432">ifi</span>&nbsp;<span class="op" id="7873436">*</span><span class="ident" id="7873437">Interface</span><span class="op" id="7873446">)</span>&nbsp;<span class="builtintype" id="7873448">string</span>&nbsp;<span class="op" id="7873455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873458">if</span>&nbsp;<span class="ident" id="7873461">ifi</span>&nbsp;<span class="op" id="7873465">==</span>&nbsp;<span class="ident" id="7873468">nil</span>&nbsp;<span class="op" id="7873472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873476">return</span>&nbsp;<span class="string" id="7873483">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873487">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873490">ifat</span><span class="op" id="7873494">,</span>&nbsp;<span class="ident" id="7873496">err</span>&nbsp;<span class="op" id="7873500">:=</span>&nbsp;<span class="ident" id="7873503">ifi</span><span class="op" id="7873506">.</span><span class="ident" id="7873507">Addrs</span><span class="op" id="7873512">(</span><span class="op" id="7873513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873516">if</span>&nbsp;<span class="ident" id="7873519">err</span>&nbsp;<span class="op" id="7873523">!=</span>&nbsp;<span class="ident" id="7873526">nil</span>&nbsp;<span class="op" id="7873530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873534">return</span>&nbsp;<span class="string" id="7873541">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873548">for</span>&nbsp;<span class="ident" id="7873552">_</span><span class="op" id="7873553">,</span>&nbsp;<span class="ident" id="7873555">ifa</span>&nbsp;<span class="op" id="7873559">:=</span>&nbsp;<span class="keyword" id="7873562">range</span>&nbsp;<span class="ident" id="7873568">ifat</span>&nbsp;<span class="op" id="7873573">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873577">switch</span>&nbsp;<span class="ident" id="7873584">ifa</span>&nbsp;<span class="op" id="7873588">:=</span>&nbsp;<span class="ident" id="7873591">ifa</span><span class="op" id="7873594">.</span><span class="op" id="7873595">(</span><span class="keyword" id="7873596">type</span><span class="op" id="7873600">)</span>&nbsp;<span class="op" id="7873602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873606">case</span>&nbsp;<span class="op" id="7873611">*</span><span class="ident" id="7873612">IPAddr</span><span class="op" id="7873618">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873623">if</span>&nbsp;<span class="ident" id="7873626">ifa</span><span class="op" id="7873629">.</span><span class="ident" id="7873630">IP</span><span class="op" id="7873632">.</span><span class="ident" id="7873633">To4</span><span class="op" id="7873636">(</span><span class="op" id="7873637">)</span>&nbsp;<span class="op" id="7873639">==</span>&nbsp;<span class="ident" id="7873642">nil</span>&nbsp;<span class="op" id="7873646">&amp;&amp;</span>&nbsp;<span class="ident" id="7873649">ifa</span><span class="op" id="7873652">.</span><span class="ident" id="7873653">IP</span><span class="op" id="7873655">.</span><span class="ident" id="7873656">IsLinkLocalUnicast</span><span class="op" id="7873674">(</span><span class="op" id="7873675">)</span>&nbsp;<span class="op" id="7873677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873683">return</span>&nbsp;<span class="ident" id="7873690">ifa</span><span class="op" id="7873693">.</span><span class="ident" id="7873694">IP</span><span class="op" id="7873696">.</span><span class="ident" id="7873697">String</span><span class="op" id="7873703">(</span><span class="op" id="7873704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873709">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873713">case</span>&nbsp;<span class="op" id="7873718">*</span><span class="ident" id="7873719">IPNet</span><span class="op" id="7873724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873729">if</span>&nbsp;<span class="ident" id="7873732">ifa</span><span class="op" id="7873735">.</span><span class="ident" id="7873736">IP</span><span class="op" id="7873738">.</span><span class="ident" id="7873739">To4</span><span class="op" id="7873742">(</span><span class="op" id="7873743">)</span>&nbsp;<span class="op" id="7873745">==</span>&nbsp;<span class="ident" id="7873748">nil</span>&nbsp;<span class="op" id="7873752">&amp;&amp;</span>&nbsp;<span class="ident" id="7873755">ifa</span><span class="op" id="7873758">.</span><span class="ident" id="7873759">IP</span><span class="op" id="7873761">.</span><span class="ident" id="7873762">IsLinkLocalUnicast</span><span class="op" id="7873780">(</span><span class="op" id="7873781">)</span>&nbsp;<span class="op" id="7873783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873789">return</span>&nbsp;<span class="ident" id="7873796">ifa</span><span class="op" id="7873799">.</span><span class="ident" id="7873800">IP</span><span class="op" id="7873802">.</span><span class="ident" id="7873803">String</span><span class="op" id="7873809">(</span><span class="op" id="7873810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873819">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873825">return</span>&nbsp;<span class="string" id="7873832">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7873835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873838">func</span>&nbsp;<span class="ident" id="7873843">TestInterfaces</span><span class="op" id="7873857">(</span><span class="ident" id="7873858">t</span>&nbsp;<span class="op" id="7873860">*</span><span class="ident" id="7873861">testing</span><span class="op" id="7873868">.</span><span class="ident" id="7873869">T</span><span class="op" id="7873870">)</span>&nbsp;<span class="op" id="7873872">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873875">ift</span><span class="op" id="7873878">,</span>&nbsp;<span class="ident" id="7873880">err</span>&nbsp;<span class="op" id="7873884">:=</span>&nbsp;<span class="ident" id="7873887">Interfaces</span><span class="op" id="7873897">(</span><span class="op" id="7873898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873901">if</span>&nbsp;<span class="ident" id="7873904">err</span>&nbsp;<span class="op" id="7873908">!=</span>&nbsp;<span class="ident" id="7873911">nil</span>&nbsp;<span class="op" id="7873915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873919">t</span><span class="op" id="7873920">.</span><span class="ident" id="7873921">Fatalf</span><span class="op" id="7873927">(</span><span class="string" id="7873928">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7873951">,</span>&nbsp;<span class="ident" id="7873953">err</span><span class="op" id="7873956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873962">t</span><span class="op" id="7873963">.</span><span class="ident" id="7873964">Logf</span><span class="op" id="7873968">(</span><span class="string" id="7873969">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7873993">,</span>&nbsp;<span class="builtinfunc" id="7873995">len</span><span class="op" id="7873998">(</span><span class="ident" id="7873999">ift</span><span class="op" id="7874002">)</span><span class="op" id="7874003">,</span>&nbsp;<span class="builtinfunc" id="7874005">cap</span><span class="op" id="7874008">(</span><span class="ident" id="7874009">ift</span><span class="op" id="7874012">)</span><span class="op" id="7874013">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874017">for</span>&nbsp;<span class="ident" id="7874021">_</span><span class="op" id="7874022">,</span>&nbsp;<span class="ident" id="7874024">ifi</span>&nbsp;<span class="op" id="7874028">:=</span>&nbsp;<span class="keyword" id="7874031">range</span>&nbsp;<span class="ident" id="7874037">ift</span>&nbsp;<span class="op" id="7874041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874045">ifxi</span><span class="op" id="7874049">,</span>&nbsp;<span class="ident" id="7874051">err</span>&nbsp;<span class="op" id="7874055">:=</span>&nbsp;<span class="ident" id="7874058">InterfaceByIndex</span><span class="op" id="7874074">(</span><span class="ident" id="7874075">ifi</span><span class="op" id="7874078">.</span><span class="ident" id="7874079">Index</span><span class="op" id="7874084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874088">if</span>&nbsp;<span class="ident" id="7874091">err</span>&nbsp;<span class="op" id="7874095">!=</span>&nbsp;<span class="ident" id="7874098">nil</span>&nbsp;<span class="op" id="7874102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874107">t</span><span class="op" id="7874108">.</span><span class="ident" id="7874109">Fatalf</span><span class="op" id="7874115">(</span><span class="string" id="7874116">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7874149">,</span>&nbsp;<span class="ident" id="7874151">ifi</span><span class="op" id="7874154">.</span><span class="ident" id="7874155">Index</span><span class="op" id="7874160">,</span>&nbsp;<span class="ident" id="7874162">err</span><span class="op" id="7874165">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874173">if</span>&nbsp;<span class="op" id="7874176">!</span><span class="ident" id="7874177">reflect</span><span class="op" id="7874184">.</span><span class="ident" id="7874185">DeepEqual</span><span class="op" id="7874194">(</span><span class="ident" id="7874195">ifxi</span><span class="op" id="7874199">,</span>&nbsp;<span class="op" id="7874201">&amp;</span><span class="ident" id="7874202">ifi</span><span class="op" id="7874205">)</span>&nbsp;<span class="op" id="7874207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874212">t</span><span class="op" id="7874213">.</span><span class="ident" id="7874214">Fatalf</span><span class="op" id="7874220">(</span><span class="string" id="7874221">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7874257">,</span>&nbsp;<span class="ident" id="7874259">ifi</span><span class="op" id="7874262">.</span><span class="ident" id="7874263">Index</span><span class="op" id="7874268">,</span>&nbsp;<span class="ident" id="7874270">ifxi</span><span class="op" id="7874274">,</span>&nbsp;<span class="ident" id="7874276">ifi</span><span class="op" id="7874279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874287">ifxn</span><span class="op" id="7874291">,</span>&nbsp;<span class="ident" id="7874293">err</span>&nbsp;<span class="op" id="7874297">:=</span>&nbsp;<span class="ident" id="7874300">InterfaceByName</span><span class="op" id="7874315">(</span><span class="ident" id="7874316">ifi</span><span class="op" id="7874319">.</span><span class="ident" id="7874320">Name</span><span class="op" id="7874324">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874328">if</span>&nbsp;<span class="ident" id="7874331">err</span>&nbsp;<span class="op" id="7874335">!=</span>&nbsp;<span class="ident" id="7874338">nil</span>&nbsp;<span class="op" id="7874342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874347">t</span><span class="op" id="7874348">.</span><span class="ident" id="7874349">Fatalf</span><span class="op" id="7874355">(</span><span class="string" id="7874356">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7874388">,</span>&nbsp;<span class="ident" id="7874390">ifi</span><span class="op" id="7874393">.</span><span class="ident" id="7874394">Name</span><span class="op" id="7874398">,</span>&nbsp;<span class="ident" id="7874400">err</span><span class="op" id="7874403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874411">if</span>&nbsp;<span class="op" id="7874414">!</span><span class="ident" id="7874415">reflect</span><span class="op" id="7874422">.</span><span class="ident" id="7874423">DeepEqual</span><span class="op" id="7874432">(</span><span class="ident" id="7874433">ifxn</span><span class="op" id="7874437">,</span>&nbsp;<span class="op" id="7874439">&amp;</span><span class="ident" id="7874440">ifi</span><span class="op" id="7874443">)</span>&nbsp;<span class="op" id="7874445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874450">t</span><span class="op" id="7874451">.</span><span class="ident" id="7874452">Fatalf</span><span class="op" id="7874458">(</span><span class="string" id="7874459">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7874494">,</span>&nbsp;<span class="ident" id="7874496">ifi</span><span class="op" id="7874499">.</span><span class="ident" id="7874500">Name</span><span class="op" id="7874504">,</span>&nbsp;<span class="ident" id="7874506">ifxn</span><span class="op" id="7874510">,</span>&nbsp;<span class="ident" id="7874512">ifi</span><span class="op" id="7874515">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874523">t</span><span class="op" id="7874524">.</span><span class="ident" id="7874525">Logf</span><span class="op" id="7874529">(</span><span class="string" id="7874530">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="7874564">,</span>&nbsp;<span class="ident" id="7874566">ifi</span><span class="op" id="7874569">.</span><span class="ident" id="7874570">Name</span><span class="op" id="7874574">,</span>&nbsp;<span class="ident" id="7874576">ifi</span><span class="op" id="7874579">.</span><span class="ident" id="7874580">Flags</span><span class="op" id="7874585">.</span><span class="ident" id="7874586">String</span><span class="op" id="7874592">(</span><span class="op" id="7874593">)</span><span class="op" id="7874594">,</span>&nbsp;<span class="ident" id="7874596">ifi</span><span class="op" id="7874599">.</span><span class="ident" id="7874600">Index</span><span class="op" id="7874605">,</span>&nbsp;<span class="ident" id="7874607">ifi</span><span class="op" id="7874610">.</span><span class="ident" id="7874611">MTU</span><span class="op" id="7874614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874618">t</span><span class="op" id="7874619">.</span><span class="ident" id="7874620">Logf</span><span class="op" id="7874624">(</span><span class="string" id="7874625">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7874648">,</span>&nbsp;<span class="ident" id="7874650">ifi</span><span class="op" id="7874653">.</span><span class="ident" id="7874654">HardwareAddr</span><span class="op" id="7874666">.</span><span class="ident" id="7874667">String</span><span class="op" id="7874673">(</span><span class="op" id="7874674">)</span><span class="op" id="7874675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874679">testInterfaceAddrs</span><span class="op" id="7874697">(</span><span class="ident" id="7874698">t</span><span class="op" id="7874699">,</span>&nbsp;<span class="op" id="7874701">&amp;</span><span class="ident" id="7874702">ifi</span><span class="op" id="7874705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874709">testInterfaceMulticastAddrs</span><span class="op" id="7874736">(</span><span class="ident" id="7874737">t</span><span class="op" id="7874738">,</span>&nbsp;<span class="op" id="7874740">&amp;</span><span class="ident" id="7874741">ifi</span><span class="op" id="7874744">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874747">}</span><br>
<span class="lineno"></span><span class="op" id="7874749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874752">func</span>&nbsp;<span class="ident" id="7874757">TestInterfaceAddrs</span><span class="op" id="7874775">(</span><span class="ident" id="7874776">t</span>&nbsp;<span class="op" id="7874778">*</span><span class="ident" id="7874779">testing</span><span class="op" id="7874786">.</span><span class="ident" id="7874787">T</span><span class="op" id="7874788">)</span>&nbsp;<span class="op" id="7874790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874793">ifat</span><span class="op" id="7874797">,</span>&nbsp;<span class="ident" id="7874799">err</span>&nbsp;<span class="op" id="7874803">:=</span>&nbsp;<span class="ident" id="7874806">InterfaceAddrs</span><span class="op" id="7874820">(</span><span class="op" id="7874821">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874824">if</span>&nbsp;<span class="ident" id="7874827">err</span>&nbsp;<span class="op" id="7874831">!=</span>&nbsp;<span class="ident" id="7874834">nil</span>&nbsp;<span class="op" id="7874838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874842">t</span><span class="op" id="7874843">.</span><span class="ident" id="7874844">Fatalf</span><span class="op" id="7874850">(</span><span class="string" id="7874851">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7874878">,</span>&nbsp;<span class="ident" id="7874880">err</span><span class="op" id="7874883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874889">t</span><span class="op" id="7874890">.</span><span class="ident" id="7874891">Logf</span><span class="op" id="7874895">(</span><span class="string" id="7874896">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7874920">,</span>&nbsp;<span class="builtinfunc" id="7874922">len</span><span class="op" id="7874925">(</span><span class="ident" id="7874926">ifat</span><span class="op" id="7874930">)</span><span class="op" id="7874931">,</span>&nbsp;<span class="builtinfunc" id="7874933">cap</span><span class="op" id="7874936">(</span><span class="ident" id="7874937">ifat</span><span class="op" id="7874941">)</span><span class="op" id="7874942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874945">testAddrs</span><span class="op" id="7874954">(</span><span class="ident" id="7874955">t</span><span class="op" id="7874956">,</span>&nbsp;<span class="ident" id="7874958">ifat</span><span class="op" id="7874962">)</span><br>
<span class="lineno">90</span><span class="op" id="7874964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874967">func</span>&nbsp;<span class="ident" id="7874972">testInterfaceAddrs</span><span class="op" id="7874990">(</span><span class="ident" id="7874991">t</span>&nbsp;<span class="op" id="7874993">*</span><span class="ident" id="7874994">testing</span><span class="op" id="7875001">.</span><span class="ident" id="7875002">T</span><span class="op" id="7875003">,</span>&nbsp;<span class="ident" id="7875005">ifi</span>&nbsp;<span class="op" id="7875009">*</span><span class="ident" id="7875010">Interface</span><span class="op" id="7875019">)</span>&nbsp;<span class="op" id="7875021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875024">ifat</span><span class="op" id="7875028">,</span>&nbsp;<span class="ident" id="7875030">err</span>&nbsp;<span class="op" id="7875034">:=</span>&nbsp;<span class="ident" id="7875037">ifi</span><span class="op" id="7875040">.</span><span class="ident" id="7875041">Addrs</span><span class="op" id="7875046">(</span><span class="op" id="7875047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875050">if</span>&nbsp;<span class="ident" id="7875053">err</span>&nbsp;<span class="op" id="7875057">!=</span>&nbsp;<span class="ident" id="7875060">nil</span>&nbsp;<span class="op" id="7875064">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875068">t</span><span class="op" id="7875069">.</span><span class="ident" id="7875070">Fatalf</span><span class="op" id="7875076">(</span><span class="string" id="7875077">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7875105">,</span>&nbsp;<span class="ident" id="7875107">err</span><span class="op" id="7875110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875116">testAddrs</span><span class="op" id="7875125">(</span><span class="ident" id="7875126">t</span><span class="op" id="7875127">,</span>&nbsp;<span class="ident" id="7875129">ifat</span><span class="op" id="7875133">)</span><br>
<span class="lineno"></span><span class="op" id="7875135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7875138">func</span>&nbsp;<span class="ident" id="7875143">testInterfaceMulticastAddrs</span><span class="op" id="7875170">(</span><span class="ident" id="7875171">t</span>&nbsp;<span class="op" id="7875173">*</span><span class="ident" id="7875174">testing</span><span class="op" id="7875181">.</span><span class="ident" id="7875182">T</span><span class="op" id="7875183">,</span>&nbsp;<span class="ident" id="7875185">ifi</span>&nbsp;<span class="op" id="7875189">*</span><span class="ident" id="7875190">Interface</span><span class="op" id="7875199">)</span>&nbsp;<span class="op" id="7875201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875204">ifmat</span><span class="op" id="7875209">,</span>&nbsp;<span class="ident" id="7875211">err</span>&nbsp;<span class="op" id="7875215">:=</span>&nbsp;<span class="ident" id="7875218">ifi</span><span class="op" id="7875221">.</span><span class="ident" id="7875222">MulticastAddrs</span><span class="op" id="7875236">(</span><span class="op" id="7875237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875240">if</span>&nbsp;<span class="ident" id="7875243">err</span>&nbsp;<span class="op" id="7875247">!=</span>&nbsp;<span class="ident" id="7875250">nil</span>&nbsp;<span class="op" id="7875254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875258">t</span><span class="op" id="7875259">.</span><span class="ident" id="7875260">Fatalf</span><span class="op" id="7875266">(</span><span class="string" id="7875267">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7875304">,</span>&nbsp;<span class="ident" id="7875306">err</span><span class="op" id="7875309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875312">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875315">testMulticastAddrs</span><span class="op" id="7875333">(</span><span class="ident" id="7875334">t</span><span class="op" id="7875335">,</span>&nbsp;<span class="ident" id="7875337">ifmat</span><span class="op" id="7875342">)</span><br>
<span class="lineno"></span><span class="op" id="7875344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7875347">func</span>&nbsp;<span class="ident" id="7875352">testAddrs</span><span class="op" id="7875361">(</span><span class="ident" id="7875362">t</span>&nbsp;<span class="op" id="7875364">*</span><span class="ident" id="7875365">testing</span><span class="op" id="7875372">.</span><span class="ident" id="7875373">T</span><span class="op" id="7875374">,</span>&nbsp;<span class="ident" id="7875376">ifat</span>&nbsp;<span class="op" id="7875381">[</span><span class="op" id="7875382">]</span><span class="ident" id="7875383">Addr</span><span class="op" id="7875387">)</span>&nbsp;<span class="op" id="7875389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875392">for</span>&nbsp;<span class="ident" id="7875396">_</span><span class="op" id="7875397">,</span>&nbsp;<span class="ident" id="7875399">ifa</span>&nbsp;<span class="op" id="7875403">:=</span>&nbsp;<span class="keyword" id="7875406">range</span>&nbsp;<span class="ident" id="7875412">ifat</span>&nbsp;<span class="op" id="7875417">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875421">switch</span>&nbsp;<span class="ident" id="7875428">ifa</span>&nbsp;<span class="op" id="7875432">:=</span>&nbsp;<span class="ident" id="7875435">ifa</span><span class="op" id="7875438">.</span><span class="op" id="7875439">(</span><span class="keyword" id="7875440">type</span><span class="op" id="7875444">)</span>&nbsp;<span class="op" id="7875446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875450">case</span>&nbsp;<span class="op" id="7875455">*</span><span class="ident" id="7875456">IPAddr</span><span class="op" id="7875462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875467">if</span>&nbsp;<span class="ident" id="7875470">ifa</span>&nbsp;<span class="op" id="7875474">==</span>&nbsp;<span class="ident" id="7875477">nil</span>&nbsp;<span class="op" id="7875481">||</span>&nbsp;<span class="ident" id="7875484">ifa</span><span class="op" id="7875487">.</span><span class="ident" id="7875488">IP</span>&nbsp;<span class="op" id="7875491">==</span>&nbsp;<span class="ident" id="7875494">nil</span>&nbsp;<span class="op" id="7875498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875504">t</span><span class="op" id="7875505">.</span><span class="ident" id="7875506">Errorf</span><span class="op" id="7875512">(</span><span class="string" id="7875513">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7875541">,</span>&nbsp;<span class="ident" id="7875543">ifa</span><span class="op" id="7875546">,</span>&nbsp;<span class="ident" id="7875548">ifa</span><span class="op" id="7875551">.</span><span class="ident" id="7875552">IP</span><span class="op" id="7875554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875559">}</span>&nbsp;<span class="keyword" id="7875561">else</span>&nbsp;<span class="op" id="7875566">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875572">t</span><span class="op" id="7875573">.</span><span class="ident" id="7875574">Logf</span><span class="op" id="7875578">(</span><span class="string" id="7875579">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7875603">,</span>&nbsp;<span class="ident" id="7875605">ifa</span><span class="op" id="7875608">.</span><span class="ident" id="7875609">String</span><span class="op" id="7875615">(</span><span class="op" id="7875616">)</span><span class="op" id="7875617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875626">case</span>&nbsp;<span class="op" id="7875631">*</span><span class="ident" id="7875632">IPNet</span><span class="op" id="7875637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875642">if</span>&nbsp;<span class="ident" id="7875645">ifa</span>&nbsp;<span class="op" id="7875649">==</span>&nbsp;<span class="ident" id="7875652">nil</span>&nbsp;<span class="op" id="7875656">||</span>&nbsp;<span class="ident" id="7875659">ifa</span><span class="op" id="7875662">.</span><span class="ident" id="7875663">IP</span>&nbsp;<span class="op" id="7875666">==</span>&nbsp;<span class="ident" id="7875669">nil</span>&nbsp;<span class="op" id="7875673">||</span>&nbsp;<span class="ident" id="7875676">ifa</span><span class="op" id="7875679">.</span><span class="ident" id="7875680">Mask</span>&nbsp;<span class="op" id="7875685">==</span>&nbsp;<span class="ident" id="7875688">nil</span>&nbsp;<span class="op" id="7875692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875698">t</span><span class="op" id="7875699">.</span><span class="ident" id="7875700">Errorf</span><span class="op" id="7875706">(</span><span class="string" id="7875707">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7875739">,</span>&nbsp;<span class="ident" id="7875741">ifa</span><span class="op" id="7875744">,</span>&nbsp;<span class="ident" id="7875746">ifa</span><span class="op" id="7875749">.</span><span class="ident" id="7875750">IP</span><span class="op" id="7875752">,</span>&nbsp;<span class="ident" id="7875754">ifa</span><span class="op" id="7875757">.</span><span class="ident" id="7875758">Mask</span><span class="op" id="7875762">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875767">}</span>&nbsp;<span class="keyword" id="7875769">else</span>&nbsp;<span class="op" id="7875774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875780">_</span><span class="op" id="7875781">,</span>&nbsp;<span class="ident" id="7875783">prefixLen</span>&nbsp;<span class="op" id="7875793">:=</span>&nbsp;<span class="ident" id="7875796">ifa</span><span class="op" id="7875799">.</span><span class="ident" id="7875800">Mask</span><span class="op" id="7875804">.</span><span class="ident" id="7875805">Size</span><span class="op" id="7875809">(</span><span class="op" id="7875810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875816">if</span>&nbsp;<span class="ident" id="7875819">ifa</span><span class="op" id="7875822">.</span><span class="ident" id="7875823">IP</span><span class="op" id="7875825">.</span><span class="ident" id="7875826">To4</span><span class="op" id="7875829">(</span><span class="op" id="7875830">)</span>&nbsp;<span class="op" id="7875832">!=</span>&nbsp;<span class="ident" id="7875835">nil</span>&nbsp;<span class="op" id="7875839">&amp;&amp;</span>&nbsp;<span class="ident" id="7875842">prefixLen</span>&nbsp;<span class="op" id="7875852">!=</span>&nbsp;<span class="num" id="7875855">8</span><span class="op" id="7875856">*</span><span class="ident" id="7875857">IPv4len</span>&nbsp;<span class="op" id="7875865">||</span>&nbsp;<span class="ident" id="7875868">ifa</span><span class="op" id="7875871">.</span><span class="ident" id="7875872">IP</span><span class="op" id="7875874">.</span><span class="ident" id="7875875">To16</span><span class="op" id="7875879">(</span><span class="op" id="7875880">)</span>&nbsp;<span class="op" id="7875882">!=</span>&nbsp;<span class="ident" id="7875885">nil</span>&nbsp;<span class="op" id="7875889">&amp;&amp;</span>&nbsp;<span class="ident" id="7875892">ifa</span><span class="op" id="7875895">.</span><span class="ident" id="7875896">IP</span><span class="op" id="7875898">.</span><span class="ident" id="7875899">To4</span><span class="op" id="7875902">(</span><span class="op" id="7875903">)</span>&nbsp;<span class="op" id="7875905">==</span>&nbsp;<span class="ident" id="7875908">nil</span>&nbsp;<span class="op" id="7875912">&amp;&amp;</span>&nbsp;<span class="ident" id="7875915">prefixLen</span>&nbsp;<span class="op" id="7875925">!=</span>&nbsp;<span class="num" id="7875928">8</span><span class="op" id="7875929">*</span><span class="ident" id="7875930">IPv6len</span>&nbsp;<span class="op" id="7875938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875945">t</span><span class="op" id="7875946">.</span><span class="ident" id="7875947">Errorf</span><span class="op" id="7875953">(</span><span class="string" id="7875954">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7875990">,</span>&nbsp;<span class="ident" id="7875992">ifa</span><span class="op" id="7875995">,</span>&nbsp;<span class="ident" id="7875997">ifa</span><span class="op" id="7876000">.</span><span class="ident" id="7876001">IP</span><span class="op" id="7876003">,</span>&nbsp;<span class="ident" id="7876005">ifa</span><span class="op" id="7876008">.</span><span class="ident" id="7876009">Mask</span><span class="op" id="7876013">,</span>&nbsp;<span class="ident" id="7876015">prefixLen</span><span class="op" id="7876024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876030">}</span>&nbsp;<span class="keyword" id="7876032">else</span>&nbsp;<span class="op" id="7876037">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876044">t</span><span class="op" id="7876045">.</span><span class="ident" id="7876046">Logf</span><span class="op" id="7876050">(</span><span class="string" id="7876051">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7876075">,</span>&nbsp;<span class="ident" id="7876077">ifa</span><span class="op" id="7876080">.</span><span class="ident" id="7876081">String</span><span class="op" id="7876087">(</span><span class="op" id="7876088">)</span><span class="op" id="7876089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876104">default</span><span class="op" id="7876111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876116">t</span><span class="op" id="7876117">.</span><span class="ident" id="7876118">Errorf</span><span class="op" id="7876124">(</span><span class="string" id="7876125">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7876148">,</span>&nbsp;<span class="ident" id="7876150">ifa</span><span class="op" id="7876153">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876160">}</span><br>
<span class="lineno"></span><span class="op" id="7876162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876165">func</span>&nbsp;<span class="ident" id="7876170">testMulticastAddrs</span><span class="op" id="7876188">(</span><span class="ident" id="7876189">t</span>&nbsp;<span class="op" id="7876191">*</span><span class="ident" id="7876192">testing</span><span class="op" id="7876199">.</span><span class="ident" id="7876200">T</span><span class="op" id="7876201">,</span>&nbsp;<span class="ident" id="7876203">ifmat</span>&nbsp;<span class="op" id="7876209">[</span><span class="op" id="7876210">]</span><span class="ident" id="7876211">Addr</span><span class="op" id="7876215">)</span>&nbsp;<span class="op" id="7876217">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876220">for</span>&nbsp;<span class="ident" id="7876224">_</span><span class="op" id="7876225">,</span>&nbsp;<span class="ident" id="7876227">ifma</span>&nbsp;<span class="op" id="7876232">:=</span>&nbsp;<span class="keyword" id="7876235">range</span>&nbsp;<span class="ident" id="7876241">ifmat</span>&nbsp;<span class="op" id="7876247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876251">switch</span>&nbsp;<span class="ident" id="7876258">ifma</span>&nbsp;<span class="op" id="7876263">:=</span>&nbsp;<span class="ident" id="7876266">ifma</span><span class="op" id="7876270">.</span><span class="op" id="7876271">(</span><span class="keyword" id="7876272">type</span><span class="op" id="7876276">)</span>&nbsp;<span class="op" id="7876278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876282">case</span>&nbsp;<span class="op" id="7876287">*</span><span class="ident" id="7876288">IPAddr</span><span class="op" id="7876294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876299">if</span>&nbsp;<span class="ident" id="7876302">ifma</span>&nbsp;<span class="op" id="7876307">==</span>&nbsp;<span class="ident" id="7876310">nil</span>&nbsp;<span class="op" id="7876314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876320">t</span><span class="op" id="7876321">.</span><span class="ident" id="7876322">Errorf</span><span class="op" id="7876328">(</span><span class="string" id="7876329">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7876353">,</span>&nbsp;<span class="ident" id="7876355">ifma</span><span class="op" id="7876359">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876364">}</span>&nbsp;<span class="keyword" id="7876366">else</span>&nbsp;<span class="op" id="7876371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876377">t</span><span class="op" id="7876378">.</span><span class="ident" id="7876379">Logf</span><span class="op" id="7876383">(</span><span class="string" id="7876384">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7876411">,</span>&nbsp;<span class="ident" id="7876413">ifma</span><span class="op" id="7876417">.</span><span class="ident" id="7876418">String</span><span class="op" id="7876424">(</span><span class="op" id="7876425">)</span><span class="op" id="7876426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876435">default</span><span class="op" id="7876442">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876447">t</span><span class="op" id="7876448">.</span><span class="ident" id="7876449">Errorf</span><span class="op" id="7876455">(</span><span class="string" id="7876456">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7876479">,</span>&nbsp;<span class="ident" id="7876481">ifma</span><span class="op" id="7876485">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876492">}</span><br>
<span class="lineno"></span><span class="op" id="7876494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876497">func</span>&nbsp;<span class="ident" id="7876502">BenchmarkInterfaces</span><span class="op" id="7876521">(</span><span class="ident" id="7876522">b</span>&nbsp;<span class="op" id="7876524">*</span><span class="ident" id="7876525">testing</span><span class="op" id="7876532">.</span><span class="ident" id="7876533">B</span><span class="op" id="7876534">)</span>&nbsp;<span class="op" id="7876536">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876539">for</span>&nbsp;<span class="ident" id="7876543">i</span>&nbsp;<span class="op" id="7876545">:=</span>&nbsp;<span class="num" id="7876548">0</span><span class="op" id="7876549">;</span>&nbsp;<span class="ident" id="7876551">i</span>&nbsp;<span class="op" id="7876553">&lt;</span>&nbsp;<span class="ident" id="7876555">b</span><span class="op" id="7876556">.</span><span class="ident" id="7876557">N</span><span class="op" id="7876558">;</span>&nbsp;<span class="ident" id="7876560">i</span><span class="op" id="7876561">++</span>&nbsp;<span class="op" id="7876564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876568">if</span>&nbsp;<span class="ident" id="7876571">_</span><span class="op" id="7876572">,</span>&nbsp;<span class="ident" id="7876574">err</span>&nbsp;<span class="op" id="7876578">:=</span>&nbsp;<span class="ident" id="7876581">Interfaces</span><span class="op" id="7876591">(</span><span class="op" id="7876592">)</span><span class="op" id="7876593">;</span>&nbsp;<span class="ident" id="7876595">err</span>&nbsp;<span class="op" id="7876599">!=</span>&nbsp;<span class="ident" id="7876602">nil</span>&nbsp;<span class="op" id="7876606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876611">b</span><span class="op" id="7876612">.</span><span class="ident" id="7876613">Fatalf</span><span class="op" id="7876619">(</span><span class="string" id="7876620">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7876643">,</span>&nbsp;<span class="ident" id="7876645">err</span><span class="op" id="7876648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876655">}</span><br>
<span class="lineno">155</span><span class="op" id="7876657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876660">func</span>&nbsp;<span class="ident" id="7876665">BenchmarkInterfaceByIndex</span><span class="op" id="7876690">(</span><span class="ident" id="7876691">b</span>&nbsp;<span class="op" id="7876693">*</span><span class="ident" id="7876694">testing</span><span class="op" id="7876701">.</span><span class="ident" id="7876702">B</span><span class="op" id="7876703">)</span>&nbsp;<span class="op" id="7876705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876708">ifi</span>&nbsp;<span class="op" id="7876712">:=</span>&nbsp;<span class="ident" id="7876715">loopbackInterface</span><span class="op" id="7876732">(</span><span class="op" id="7876733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876736">if</span>&nbsp;<span class="ident" id="7876739">ifi</span>&nbsp;<span class="op" id="7876743">==</span>&nbsp;<span class="ident" id="7876746">nil</span>&nbsp;<span class="op" id="7876750">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876754">b</span><span class="op" id="7876755">.</span><span class="ident" id="7876756">Skip</span><span class="op" id="7876760">(</span><span class="string" id="7876761">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7876791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876797">for</span>&nbsp;<span class="ident" id="7876801">i</span>&nbsp;<span class="op" id="7876803">:=</span>&nbsp;<span class="num" id="7876806">0</span><span class="op" id="7876807">;</span>&nbsp;<span class="ident" id="7876809">i</span>&nbsp;<span class="op" id="7876811">&lt;</span>&nbsp;<span class="ident" id="7876813">b</span><span class="op" id="7876814">.</span><span class="ident" id="7876815">N</span><span class="op" id="7876816">;</span>&nbsp;<span class="ident" id="7876818">i</span><span class="op" id="7876819">++</span>&nbsp;<span class="op" id="7876822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876826">if</span>&nbsp;<span class="ident" id="7876829">_</span><span class="op" id="7876830">,</span>&nbsp;<span class="ident" id="7876832">err</span>&nbsp;<span class="op" id="7876836">:=</span>&nbsp;<span class="ident" id="7876839">InterfaceByIndex</span><span class="op" id="7876855">(</span><span class="ident" id="7876856">ifi</span><span class="op" id="7876859">.</span><span class="ident" id="7876860">Index</span><span class="op" id="7876865">)</span><span class="op" id="7876866">;</span>&nbsp;<span class="ident" id="7876868">err</span>&nbsp;<span class="op" id="7876872">!=</span>&nbsp;<span class="ident" id="7876875">nil</span>&nbsp;<span class="op" id="7876879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876884">b</span><span class="op" id="7876885">.</span><span class="ident" id="7876886">Fatalf</span><span class="op" id="7876892">(</span><span class="string" id="7876893">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7876922">,</span>&nbsp;<span class="ident" id="7876924">err</span><span class="op" id="7876927">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876934">}</span><br>
<span class="lineno"></span><span class="op" id="7876936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876939">func</span>&nbsp;<span class="ident" id="7876944">BenchmarkInterfaceByName</span><span class="op" id="7876968">(</span><span class="ident" id="7876969">b</span>&nbsp;<span class="op" id="7876971">*</span><span class="ident" id="7876972">testing</span><span class="op" id="7876979">.</span><span class="ident" id="7876980">B</span><span class="op" id="7876981">)</span>&nbsp;<span class="op" id="7876983">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876986">ifi</span>&nbsp;<span class="op" id="7876990">:=</span>&nbsp;<span class="ident" id="7876993">loopbackInterface</span><span class="op" id="7877010">(</span><span class="op" id="7877011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877014">if</span>&nbsp;<span class="ident" id="7877017">ifi</span>&nbsp;<span class="op" id="7877021">==</span>&nbsp;<span class="ident" id="7877024">nil</span>&nbsp;<span class="op" id="7877028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877032">b</span><span class="op" id="7877033">.</span><span class="ident" id="7877034">Skip</span><span class="op" id="7877038">(</span><span class="string" id="7877039">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7877069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877075">for</span>&nbsp;<span class="ident" id="7877079">i</span>&nbsp;<span class="op" id="7877081">:=</span>&nbsp;<span class="num" id="7877084">0</span><span class="op" id="7877085">;</span>&nbsp;<span class="ident" id="7877087">i</span>&nbsp;<span class="op" id="7877089">&lt;</span>&nbsp;<span class="ident" id="7877091">b</span><span class="op" id="7877092">.</span><span class="ident" id="7877093">N</span><span class="op" id="7877094">;</span>&nbsp;<span class="ident" id="7877096">i</span><span class="op" id="7877097">++</span>&nbsp;<span class="op" id="7877100">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877104">if</span>&nbsp;<span class="ident" id="7877107">_</span><span class="op" id="7877108">,</span>&nbsp;<span class="ident" id="7877110">err</span>&nbsp;<span class="op" id="7877114">:=</span>&nbsp;<span class="ident" id="7877117">InterfaceByName</span><span class="op" id="7877132">(</span><span class="ident" id="7877133">ifi</span><span class="op" id="7877136">.</span><span class="ident" id="7877137">Name</span><span class="op" id="7877141">)</span><span class="op" id="7877142">;</span>&nbsp;<span class="ident" id="7877144">err</span>&nbsp;<span class="op" id="7877148">!=</span>&nbsp;<span class="ident" id="7877151">nil</span>&nbsp;<span class="op" id="7877155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877160">b</span><span class="op" id="7877161">.</span><span class="ident" id="7877162">Fatalf</span><span class="op" id="7877168">(</span><span class="string" id="7877169">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877197">,</span>&nbsp;<span class="ident" id="7877199">err</span><span class="op" id="7877202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877209">}</span><br>
<span class="lineno"></span><span class="op" id="7877211">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7877214">func</span>&nbsp;<span class="ident" id="7877219">BenchmarkInterfaceAddrs</span><span class="op" id="7877242">(</span><span class="ident" id="7877243">b</span>&nbsp;<span class="op" id="7877245">*</span><span class="ident" id="7877246">testing</span><span class="op" id="7877253">.</span><span class="ident" id="7877254">B</span><span class="op" id="7877255">)</span>&nbsp;<span class="op" id="7877257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877260">for</span>&nbsp;<span class="ident" id="7877264">i</span>&nbsp;<span class="op" id="7877266">:=</span>&nbsp;<span class="num" id="7877269">0</span><span class="op" id="7877270">;</span>&nbsp;<span class="ident" id="7877272">i</span>&nbsp;<span class="op" id="7877274">&lt;</span>&nbsp;<span class="ident" id="7877276">b</span><span class="op" id="7877277">.</span><span class="ident" id="7877278">N</span><span class="op" id="7877279">;</span>&nbsp;<span class="ident" id="7877281">i</span><span class="op" id="7877282">++</span>&nbsp;<span class="op" id="7877285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877289">if</span>&nbsp;<span class="ident" id="7877292">_</span><span class="op" id="7877293">,</span>&nbsp;<span class="ident" id="7877295">err</span>&nbsp;<span class="op" id="7877299">:=</span>&nbsp;<span class="ident" id="7877302">InterfaceAddrs</span><span class="op" id="7877316">(</span><span class="op" id="7877317">)</span><span class="op" id="7877318">;</span>&nbsp;<span class="ident" id="7877320">err</span>&nbsp;<span class="op" id="7877324">!=</span>&nbsp;<span class="ident" id="7877327">nil</span>&nbsp;<span class="op" id="7877331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877336">b</span><span class="op" id="7877337">.</span><span class="ident" id="7877338">Fatalf</span><span class="op" id="7877344">(</span><span class="string" id="7877345">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877372">,</span>&nbsp;<span class="ident" id="7877374">err</span><span class="op" id="7877377">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877384">}</span><br>
<span class="lineno"></span><span class="op" id="7877386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877389">func</span>&nbsp;<span class="ident" id="7877394">BenchmarkInterfacesAndAddrs</span><span class="op" id="7877421">(</span><span class="ident" id="7877422">b</span>&nbsp;<span class="op" id="7877424">*</span><span class="ident" id="7877425">testing</span><span class="op" id="7877432">.</span><span class="ident" id="7877433">B</span><span class="op" id="7877434">)</span>&nbsp;<span class="op" id="7877436">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877439">ifi</span>&nbsp;<span class="op" id="7877443">:=</span>&nbsp;<span class="ident" id="7877446">loopbackInterface</span><span class="op" id="7877463">(</span><span class="op" id="7877464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877467">if</span>&nbsp;<span class="ident" id="7877470">ifi</span>&nbsp;<span class="op" id="7877474">==</span>&nbsp;<span class="ident" id="7877477">nil</span>&nbsp;<span class="op" id="7877481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877485">b</span><span class="op" id="7877486">.</span><span class="ident" id="7877487">Skip</span><span class="op" id="7877491">(</span><span class="string" id="7877492">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7877522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877528">for</span>&nbsp;<span class="ident" id="7877532">i</span>&nbsp;<span class="op" id="7877534">:=</span>&nbsp;<span class="num" id="7877537">0</span><span class="op" id="7877538">;</span>&nbsp;<span class="ident" id="7877540">i</span>&nbsp;<span class="op" id="7877542">&lt;</span>&nbsp;<span class="ident" id="7877544">b</span><span class="op" id="7877545">.</span><span class="ident" id="7877546">N</span><span class="op" id="7877547">;</span>&nbsp;<span class="ident" id="7877549">i</span><span class="op" id="7877550">++</span>&nbsp;<span class="op" id="7877553">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877557">if</span>&nbsp;<span class="ident" id="7877560">_</span><span class="op" id="7877561">,</span>&nbsp;<span class="ident" id="7877563">err</span>&nbsp;<span class="op" id="7877567">:=</span>&nbsp;<span class="ident" id="7877570">ifi</span><span class="op" id="7877573">.</span><span class="ident" id="7877574">Addrs</span><span class="op" id="7877579">(</span><span class="op" id="7877580">)</span><span class="op" id="7877581">;</span>&nbsp;<span class="ident" id="7877583">err</span>&nbsp;<span class="op" id="7877587">!=</span>&nbsp;<span class="ident" id="7877590">nil</span>&nbsp;<span class="op" id="7877594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877599">b</span><span class="op" id="7877600">.</span><span class="ident" id="7877601">Fatalf</span><span class="op" id="7877607">(</span><span class="string" id="7877608">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877636">,</span>&nbsp;<span class="ident" id="7877638">err</span><span class="op" id="7877641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877648">}</span><br>
<span class="lineno"></span><span class="op" id="7877650">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7877653">func</span>&nbsp;<span class="ident" id="7877658">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="7877694">(</span><span class="ident" id="7877695">b</span>&nbsp;<span class="op" id="7877697">*</span><span class="ident" id="7877698">testing</span><span class="op" id="7877705">.</span><span class="ident" id="7877706">B</span><span class="op" id="7877707">)</span>&nbsp;<span class="op" id="7877709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877712">ifi</span>&nbsp;<span class="op" id="7877716">:=</span>&nbsp;<span class="ident" id="7877719">loopbackInterface</span><span class="op" id="7877736">(</span><span class="op" id="7877737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877740">if</span>&nbsp;<span class="ident" id="7877743">ifi</span>&nbsp;<span class="op" id="7877747">==</span>&nbsp;<span class="ident" id="7877750">nil</span>&nbsp;<span class="op" id="7877754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877758">b</span><span class="op" id="7877759">.</span><span class="ident" id="7877760">Skip</span><span class="op" id="7877764">(</span><span class="string" id="7877765">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7877795">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877801">for</span>&nbsp;<span class="ident" id="7877805">i</span>&nbsp;<span class="op" id="7877807">:=</span>&nbsp;<span class="num" id="7877810">0</span><span class="op" id="7877811">;</span>&nbsp;<span class="ident" id="7877813">i</span>&nbsp;<span class="op" id="7877815">&lt;</span>&nbsp;<span class="ident" id="7877817">b</span><span class="op" id="7877818">.</span><span class="ident" id="7877819">N</span><span class="op" id="7877820">;</span>&nbsp;<span class="ident" id="7877822">i</span><span class="op" id="7877823">++</span>&nbsp;<span class="op" id="7877826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877830">if</span>&nbsp;<span class="ident" id="7877833">_</span><span class="op" id="7877834">,</span>&nbsp;<span class="ident" id="7877836">err</span>&nbsp;<span class="op" id="7877840">:=</span>&nbsp;<span class="ident" id="7877843">ifi</span><span class="op" id="7877846">.</span><span class="ident" id="7877847">MulticastAddrs</span><span class="op" id="7877861">(</span><span class="op" id="7877862">)</span><span class="op" id="7877863">;</span>&nbsp;<span class="ident" id="7877865">err</span>&nbsp;<span class="op" id="7877869">!=</span>&nbsp;<span class="ident" id="7877872">nil</span>&nbsp;<span class="op" id="7877876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877881">b</span><span class="op" id="7877882">.</span><span class="ident" id="7877883">Fatalf</span><span class="op" id="7877889">(</span><span class="string" id="7877890">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877927">,</span>&nbsp;<span class="ident" id="7877929">err</span><span class="op" id="7877932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877936">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877939">}</span><br>
<span class="lineno"></span><span class="op" id="7877941">}</span>
</div>
</body>
</html>
