<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7341994">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7342049">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7342103">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7342154">package</span>&nbsp;<span class="ident" id="7342162">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7342170">import</span>&nbsp;<span class="op" id="7342177">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342180">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7342186">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7342196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7342199">func</span>&nbsp;<span class="ident" id="7342204">checkSize</span><span class="op" id="7342213">(</span><span class="ident" id="7342214">t</span>&nbsp;<span class="op" id="7342216">*</span><span class="ident" id="7342217">testing</span><span class="op" id="7342224">.</span><span class="ident" id="7342225">T</span><span class="op" id="7342226">,</span>&nbsp;<span class="ident" id="7342228">path</span>&nbsp;<span class="builtintype" id="7342233">string</span><span class="op" id="7342239">,</span>&nbsp;<span class="ident" id="7342241">size</span>&nbsp;<span class="ident" id="7342246">int64</span><span class="op" id="7342251">)</span>&nbsp;<span class="op" id="7342253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342256">dir</span><span class="op" id="7342259">,</span>&nbsp;<span class="ident" id="7342261">err</span>&nbsp;<span class="op" id="7342265">:=</span>&nbsp;<span class="ident" id="7342268">os</span><span class="op" id="7342270">.</span><span class="ident" id="7342271">Stat</span><span class="op" id="7342275">(</span><span class="ident" id="7342276">path</span><span class="op" id="7342280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7342283">if</span>&nbsp;<span class="ident" id="7342286">err</span>&nbsp;<span class="op" id="7342290">!=</span>&nbsp;<span class="ident" id="7342293">nil</span>&nbsp;<span class="op" id="7342297">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342301">t</span><span class="op" id="7342302">.</span><span class="ident" id="7342303">Fatalf</span><span class="op" id="7342309">(</span><span class="string" id="7342310">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="7342345">,</span>&nbsp;<span class="ident" id="7342347">path</span><span class="op" id="7342351">,</span>&nbsp;<span class="ident" id="7342353">size</span><span class="op" id="7342357">,</span>&nbsp;<span class="ident" id="7342359">err</span><span class="op" id="7342362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7342368">if</span>&nbsp;<span class="ident" id="7342371">dir</span><span class="op" id="7342374">.</span><span class="ident" id="7342375">Size</span><span class="op" id="7342379">(</span><span class="op" id="7342380">)</span>&nbsp;<span class="op" id="7342382">!=</span>&nbsp;<span class="ident" id="7342385">size</span>&nbsp;<span class="op" id="7342390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342394">t</span><span class="op" id="7342395">.</span><span class="ident" id="7342396">Errorf</span><span class="op" id="7342402">(</span><span class="string" id="7342403">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7342429">,</span>&nbsp;<span class="ident" id="7342431">path</span><span class="op" id="7342435">,</span>&nbsp;<span class="ident" id="7342437">dir</span><span class="op" id="7342440">.</span><span class="ident" id="7342441">Size</span><span class="op" id="7342445">(</span><span class="op" id="7342446">)</span><span class="op" id="7342447">,</span>&nbsp;<span class="ident" id="7342449">size</span><span class="op" id="7342453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342456">}</span><br>
<span class="lineno">20</span><span class="op" id="7342458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7342461">func</span>&nbsp;<span class="ident" id="7342466">TestReadFile</span><span class="op" id="7342478">(</span><span class="ident" id="7342479">t</span>&nbsp;<span class="op" id="7342481">*</span><span class="ident" id="7342482">testing</span><span class="op" id="7342489">.</span><span class="ident" id="7342490">T</span><span class="op" id="7342491">)</span>&nbsp;<span class="op" id="7342493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342496">filename</span>&nbsp;<span class="op" id="7342505">:=</span>&nbsp;<span class="string" id="7342508">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342527">contents</span><span class="op" id="7342535">,</span>&nbsp;<span class="ident" id="7342537">err</span>&nbsp;<span class="op" id="7342541">:=</span>&nbsp;<span class="ident" id="7342544">ReadFile</span><span class="op" id="7342552">(</span><span class="ident" id="7342553">filename</span><span class="op" id="7342561">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7342564">if</span>&nbsp;<span class="ident" id="7342567">err</span>&nbsp;<span class="op" id="7342571">==</span>&nbsp;<span class="ident" id="7342574">nil</span>&nbsp;<span class="op" id="7342578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342582">t</span><span class="op" id="7342583">.</span><span class="ident" id="7342584">Fatalf</span><span class="op" id="7342590">(</span><span class="string" id="7342591">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7342632">,</span>&nbsp;<span class="ident" id="7342634">filename</span><span class="op" id="7342642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342649">filename</span>&nbsp;<span class="op" id="7342658">=</span>&nbsp;<span class="string" id="7342660">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342678">contents</span><span class="op" id="7342686">,</span>&nbsp;<span class="ident" id="7342688">err</span>&nbsp;<span class="op" id="7342692">=</span>&nbsp;<span class="ident" id="7342694">ReadFile</span><span class="op" id="7342702">(</span><span class="ident" id="7342703">filename</span><span class="op" id="7342711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7342714">if</span>&nbsp;<span class="ident" id="7342717">err</span>&nbsp;<span class="op" id="7342721">!=</span>&nbsp;<span class="ident" id="7342724">nil</span>&nbsp;<span class="op" id="7342728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342732">t</span><span class="op" id="7342733">.</span><span class="ident" id="7342734">Fatalf</span><span class="op" id="7342740">(</span><span class="string" id="7342741">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7342758">,</span>&nbsp;<span class="ident" id="7342760">filename</span><span class="op" id="7342768">,</span>&nbsp;<span class="ident" id="7342770">err</span><span class="op" id="7342773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342780">checkSize</span><span class="op" id="7342789">(</span><span class="ident" id="7342790">t</span><span class="op" id="7342791">,</span>&nbsp;<span class="ident" id="7342793">filename</span><span class="op" id="7342801">,</span>&nbsp;<span class="ident" id="7342803">int64</span><span class="op" id="7342808">(</span><span class="builtinfunc" id="7342809">len</span><span class="op" id="7342812">(</span><span class="ident" id="7342813">contents</span><span class="op" id="7342821">)</span><span class="op" id="7342822">)</span><span class="op" id="7342823">)</span><br>
<span class="lineno"></span><span class="op" id="7342825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7342828">func</span>&nbsp;<span class="ident" id="7342833">TestWriteFile</span><span class="op" id="7342846">(</span><span class="ident" id="7342847">t</span>&nbsp;<span class="op" id="7342849">*</span><span class="ident" id="7342850">testing</span><span class="op" id="7342857">.</span><span class="ident" id="7342858">T</span><span class="op" id="7342859">)</span>&nbsp;<span class="op" id="7342861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342864">f</span><span class="op" id="7342865">,</span>&nbsp;<span class="ident" id="7342867">err</span>&nbsp;<span class="op" id="7342871">:=</span>&nbsp;<span class="ident" id="7342874">TempFile</span><span class="op" id="7342882">(</span><span class="string" id="7342883">&#34;&#34;</span><span class="op" id="7342885">,</span>&nbsp;<span class="string" id="7342887">&#34;ioutil-test&#34;</span><span class="op" id="7342900">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7342903">if</span>&nbsp;<span class="ident" id="7342906">err</span>&nbsp;<span class="op" id="7342910">!=</span>&nbsp;<span class="ident" id="7342913">nil</span>&nbsp;<span class="op" id="7342917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342921">t</span><span class="op" id="7342922">.</span><span class="ident" id="7342923">Fatal</span><span class="op" id="7342928">(</span><span class="ident" id="7342929">err</span><span class="op" id="7342932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342938">filename</span>&nbsp;<span class="op" id="7342947">:=</span>&nbsp;<span class="ident" id="7342950">f</span><span class="op" id="7342951">.</span><span class="ident" id="7342952">Name</span><span class="op" id="7342956">(</span><span class="op" id="7342957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342960">data</span>&nbsp;<span class="op" id="7342965">:=</span>&nbsp;<span class="string" id="7342968">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="7343038">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343042">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="7343115">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7343119">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343193">if</span>&nbsp;<span class="ident" id="7343196">err</span>&nbsp;<span class="op" id="7343200">:=</span>&nbsp;<span class="ident" id="7343203">WriteFile</span><span class="op" id="7343212">(</span><span class="ident" id="7343213">filename</span><span class="op" id="7343221">,</span>&nbsp;<span class="op" id="7343223">[</span><span class="op" id="7343224">]</span><span class="builtintype" id="7343225">byte</span><span class="op" id="7343229">(</span><span class="ident" id="7343230">data</span><span class="op" id="7343234">)</span><span class="op" id="7343235">,</span>&nbsp;<span class="num" id="7343237">0644</span><span class="op" id="7343241">)</span><span class="op" id="7343242">;</span>&nbsp;<span class="ident" id="7343244">err</span>&nbsp;<span class="op" id="7343248">!=</span>&nbsp;<span class="ident" id="7343251">nil</span>&nbsp;<span class="op" id="7343255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343259">t</span><span class="op" id="7343260">.</span><span class="ident" id="7343261">Fatalf</span><span class="op" id="7343267">(</span><span class="string" id="7343268">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7343286">,</span>&nbsp;<span class="ident" id="7343288">filename</span><span class="op" id="7343296">,</span>&nbsp;<span class="ident" id="7343298">err</span><span class="op" id="7343301">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343308">contents</span><span class="op" id="7343316">,</span>&nbsp;<span class="ident" id="7343318">err</span>&nbsp;<span class="op" id="7343322">:=</span>&nbsp;<span class="ident" id="7343325">ReadFile</span><span class="op" id="7343333">(</span><span class="ident" id="7343334">filename</span><span class="op" id="7343342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343345">if</span>&nbsp;<span class="ident" id="7343348">err</span>&nbsp;<span class="op" id="7343352">!=</span>&nbsp;<span class="ident" id="7343355">nil</span>&nbsp;<span class="op" id="7343359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343363">t</span><span class="op" id="7343364">.</span><span class="ident" id="7343365">Fatalf</span><span class="op" id="7343371">(</span><span class="string" id="7343372">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7343389">,</span>&nbsp;<span class="ident" id="7343391">filename</span><span class="op" id="7343399">,</span>&nbsp;<span class="ident" id="7343401">err</span><span class="op" id="7343404">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343411">if</span>&nbsp;<span class="builtintype" id="7343414">string</span><span class="op" id="7343420">(</span><span class="ident" id="7343421">contents</span><span class="op" id="7343429">)</span>&nbsp;<span class="op" id="7343431">!=</span>&nbsp;<span class="ident" id="7343434">data</span>&nbsp;<span class="op" id="7343439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343443">t</span><span class="op" id="7343444">.</span><span class="ident" id="7343445">Fatalf</span><span class="op" id="7343451">(</span><span class="string" id="7343452">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7343482">,</span>&nbsp;<span class="builtintype" id="7343484">string</span><span class="op" id="7343490">(</span><span class="ident" id="7343491">contents</span><span class="op" id="7343499">)</span><span class="op" id="7343500">,</span>&nbsp;<span class="ident" id="7343502">data</span><span class="op" id="7343506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343509">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7343513">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343525">f</span><span class="op" id="7343526">.</span><span class="ident" id="7343527">Close</span><span class="op" id="7343532">(</span><span class="op" id="7343533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343536">os</span><span class="op" id="7343538">.</span><span class="ident" id="7343539">Remove</span><span class="op" id="7343545">(</span><span class="ident" id="7343546">filename</span><span class="op" id="7343554">)</span>&nbsp;<span class="comment" id="7343556">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="7343572">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7343575">func</span>&nbsp;<span class="ident" id="7343580">TestReadDir</span><span class="op" id="7343591">(</span><span class="ident" id="7343592">t</span>&nbsp;<span class="op" id="7343594">*</span><span class="ident" id="7343595">testing</span><span class="op" id="7343602">.</span><span class="ident" id="7343603">T</span><span class="op" id="7343604">)</span>&nbsp;<span class="op" id="7343606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343609">dirname</span>&nbsp;<span class="op" id="7343617">:=</span>&nbsp;<span class="string" id="7343620">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343639">_</span><span class="op" id="7343640">,</span>&nbsp;<span class="ident" id="7343642">err</span>&nbsp;<span class="op" id="7343646">:=</span>&nbsp;<span class="ident" id="7343649">ReadDir</span><span class="op" id="7343656">(</span><span class="ident" id="7343657">dirname</span><span class="op" id="7343664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343667">if</span>&nbsp;<span class="ident" id="7343670">err</span>&nbsp;<span class="op" id="7343674">==</span>&nbsp;<span class="ident" id="7343677">nil</span>&nbsp;<span class="op" id="7343681">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343685">t</span><span class="op" id="7343686">.</span><span class="ident" id="7343687">Fatalf</span><span class="op" id="7343693">(</span><span class="string" id="7343694">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7343734">,</span>&nbsp;<span class="ident" id="7343736">dirname</span><span class="op" id="7343743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343750">dirname</span>&nbsp;<span class="op" id="7343758">=</span>&nbsp;<span class="string" id="7343760">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343766">list</span><span class="op" id="7343770">,</span>&nbsp;<span class="ident" id="7343772">err</span>&nbsp;<span class="op" id="7343776">:=</span>&nbsp;<span class="ident" id="7343779">ReadDir</span><span class="op" id="7343786">(</span><span class="ident" id="7343787">dirname</span><span class="op" id="7343794">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343797">if</span>&nbsp;<span class="ident" id="7343800">err</span>&nbsp;<span class="op" id="7343804">!=</span>&nbsp;<span class="ident" id="7343807">nil</span>&nbsp;<span class="op" id="7343811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343815">t</span><span class="op" id="7343816">.</span><span class="ident" id="7343817">Fatalf</span><span class="op" id="7343823">(</span><span class="string" id="7343824">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7343840">,</span>&nbsp;<span class="ident" id="7343842">dirname</span><span class="op" id="7343849">,</span>&nbsp;<span class="ident" id="7343851">err</span><span class="op" id="7343854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7343857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343861">foundFile</span>&nbsp;<span class="op" id="7343871">:=</span>&nbsp;<span class="builtintype" id="7343874">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343881">foundSubDir</span>&nbsp;<span class="op" id="7343893">:=</span>&nbsp;<span class="builtintype" id="7343896">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343903">for</span>&nbsp;<span class="ident" id="7343907">_</span><span class="op" id="7343908">,</span>&nbsp;<span class="ident" id="7343910">dir</span>&nbsp;<span class="op" id="7343914">:=</span>&nbsp;<span class="keyword" id="7343917">range</span>&nbsp;<span class="ident" id="7343923">list</span>&nbsp;<span class="op" id="7343928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343932">switch</span>&nbsp;<span class="op" id="7343939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7343943">case</span>&nbsp;<span class="op" id="7343948">!</span><span class="ident" id="7343949">dir</span><span class="op" id="7343952">.</span><span class="ident" id="7343953">IsDir</span><span class="op" id="7343958">(</span><span class="op" id="7343959">)</span>&nbsp;<span class="op" id="7343961">&amp;&amp;</span>&nbsp;<span class="ident" id="7343964">dir</span><span class="op" id="7343967">.</span><span class="ident" id="7343968">Name</span><span class="op" id="7343972">(</span><span class="op" id="7343973">)</span>&nbsp;<span class="op" id="7343975">==</span>&nbsp;<span class="string" id="7343978">&#34;io_test.go&#34;</span><span class="op" id="7343990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7343995">foundFile</span>&nbsp;<span class="op" id="7344005">=</span>&nbsp;<span class="builtintype" id="7344007">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344014">case</span>&nbsp;<span class="ident" id="7344019">dir</span><span class="op" id="7344022">.</span><span class="ident" id="7344023">IsDir</span><span class="op" id="7344028">(</span><span class="op" id="7344029">)</span>&nbsp;<span class="op" id="7344031">&amp;&amp;</span>&nbsp;<span class="ident" id="7344034">dir</span><span class="op" id="7344037">.</span><span class="ident" id="7344038">Name</span><span class="op" id="7344042">(</span><span class="op" id="7344043">)</span>&nbsp;<span class="op" id="7344045">==</span>&nbsp;<span class="string" id="7344048">&#34;ioutil&#34;</span><span class="op" id="7344056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344061">foundSubDir</span>&nbsp;<span class="op" id="7344073">=</span>&nbsp;<span class="builtintype" id="7344075">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344088">if</span>&nbsp;<span class="op" id="7344091">!</span><span class="ident" id="7344092">foundFile</span>&nbsp;<span class="op" id="7344102">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344106">t</span><span class="op" id="7344107">.</span><span class="ident" id="7344108">Fatalf</span><span class="op" id="7344114">(</span><span class="string" id="7344115">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="7344154">,</span>&nbsp;<span class="ident" id="7344156">dirname</span><span class="op" id="7344163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7344169">if</span>&nbsp;<span class="op" id="7344172">!</span><span class="ident" id="7344173">foundSubDir</span>&nbsp;<span class="op" id="7344185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7344189">t</span><span class="op" id="7344190">.</span><span class="ident" id="7344191">Fatalf</span><span class="op" id="7344197">(</span><span class="string" id="7344198">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="7344238">,</span>&nbsp;<span class="ident" id="7344240">dirname</span><span class="op" id="7344247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7344250">}</span><br>
<span class="lineno">95</span><span class="op" id="7344252">}</span>
</div>
</body>
</html>
