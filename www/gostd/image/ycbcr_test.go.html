<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7155701">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7155756">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7155810">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7155861">package</span>&nbsp;<span class="ident" id="7155869">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7155876">import</span>&nbsp;<span class="op" id="7155883">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7155886">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7155901">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7155911">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7155914">func</span>&nbsp;<span class="ident" id="7155919">TestYCbCr</span><span class="op" id="7155928">(</span><span class="ident" id="7155929">t</span>&nbsp;<span class="op" id="7155931">*</span><span class="ident" id="7155932">testing</span><span class="op" id="7155939">.</span><span class="ident" id="7155940">T</span><span class="op" id="7155941">)</span>&nbsp;<span class="op" id="7155943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155946">rects</span>&nbsp;<span class="op" id="7155952">:=</span>&nbsp;<span class="op" id="7155955">[</span><span class="op" id="7155956">]</span><span class="ident" id="7155957">Rectangle</span><span class="op" id="7155966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155970">Rect</span><span class="op" id="7155974">(</span><span class="num" id="7155975">0</span><span class="op" id="7155976">,</span>&nbsp;<span class="num" id="7155978">0</span><span class="op" id="7155979">,</span>&nbsp;<span class="num" id="7155981">16</span><span class="op" id="7155983">,</span>&nbsp;<span class="num" id="7155985">16</span><span class="op" id="7155987">)</span><span class="op" id="7155988">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7155992">Rect</span><span class="op" id="7155996">(</span><span class="num" id="7155997">1</span><span class="op" id="7155998">,</span>&nbsp;<span class="num" id="7156000">0</span><span class="op" id="7156001">,</span>&nbsp;<span class="num" id="7156003">16</span><span class="op" id="7156005">,</span>&nbsp;<span class="num" id="7156007">16</span><span class="op" id="7156009">)</span><span class="op" id="7156010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156014">Rect</span><span class="op" id="7156018">(</span><span class="num" id="7156019">0</span><span class="op" id="7156020">,</span>&nbsp;<span class="num" id="7156022">1</span><span class="op" id="7156023">,</span>&nbsp;<span class="num" id="7156025">16</span><span class="op" id="7156027">,</span>&nbsp;<span class="num" id="7156029">16</span><span class="op" id="7156031">)</span><span class="op" id="7156032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156036">Rect</span><span class="op" id="7156040">(</span><span class="num" id="7156041">1</span><span class="op" id="7156042">,</span>&nbsp;<span class="num" id="7156044">1</span><span class="op" id="7156045">,</span>&nbsp;<span class="num" id="7156047">16</span><span class="op" id="7156049">,</span>&nbsp;<span class="num" id="7156051">16</span><span class="op" id="7156053">)</span><span class="op" id="7156054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156058">Rect</span><span class="op" id="7156062">(</span><span class="num" id="7156063">1</span><span class="op" id="7156064">,</span>&nbsp;<span class="num" id="7156066">1</span><span class="op" id="7156067">,</span>&nbsp;<span class="num" id="7156069">15</span><span class="op" id="7156071">,</span>&nbsp;<span class="num" id="7156073">16</span><span class="op" id="7156075">)</span><span class="op" id="7156076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156080">Rect</span><span class="op" id="7156084">(</span><span class="num" id="7156085">1</span><span class="op" id="7156086">,</span>&nbsp;<span class="num" id="7156088">1</span><span class="op" id="7156089">,</span>&nbsp;<span class="num" id="7156091">16</span><span class="op" id="7156093">,</span>&nbsp;<span class="num" id="7156095">15</span><span class="op" id="7156097">)</span><span class="op" id="7156098">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156102">Rect</span><span class="op" id="7156106">(</span><span class="num" id="7156107">1</span><span class="op" id="7156108">,</span>&nbsp;<span class="num" id="7156110">1</span><span class="op" id="7156111">,</span>&nbsp;<span class="num" id="7156113">15</span><span class="op" id="7156115">,</span>&nbsp;<span class="num" id="7156117">15</span><span class="op" id="7156119">)</span><span class="op" id="7156120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156124">Rect</span><span class="op" id="7156128">(</span><span class="num" id="7156129">2</span><span class="op" id="7156130">,</span>&nbsp;<span class="num" id="7156132">3</span><span class="op" id="7156133">,</span>&nbsp;<span class="num" id="7156135">14</span><span class="op" id="7156137">,</span>&nbsp;<span class="num" id="7156139">15</span><span class="op" id="7156141">)</span><span class="op" id="7156142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156146">Rect</span><span class="op" id="7156150">(</span><span class="num" id="7156151">7</span><span class="op" id="7156152">,</span>&nbsp;<span class="num" id="7156154">0</span><span class="op" id="7156155">,</span>&nbsp;<span class="num" id="7156157">7</span><span class="op" id="7156158">,</span>&nbsp;<span class="num" id="7156160">16</span><span class="op" id="7156162">)</span><span class="op" id="7156163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156167">Rect</span><span class="op" id="7156171">(</span><span class="num" id="7156172">0</span><span class="op" id="7156173">,</span>&nbsp;<span class="num" id="7156175">8</span><span class="op" id="7156176">,</span>&nbsp;<span class="num" id="7156178">16</span><span class="op" id="7156180">,</span>&nbsp;<span class="num" id="7156182">8</span><span class="op" id="7156183">)</span><span class="op" id="7156184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156188">Rect</span><span class="op" id="7156192">(</span><span class="num" id="7156193">0</span><span class="op" id="7156194">,</span>&nbsp;<span class="num" id="7156196">0</span><span class="op" id="7156197">,</span>&nbsp;<span class="num" id="7156199">10</span><span class="op" id="7156201">,</span>&nbsp;<span class="num" id="7156203">11</span><span class="op" id="7156205">)</span><span class="op" id="7156206">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156210">Rect</span><span class="op" id="7156214">(</span><span class="num" id="7156215">5</span><span class="op" id="7156216">,</span>&nbsp;<span class="num" id="7156218">6</span><span class="op" id="7156219">,</span>&nbsp;<span class="num" id="7156221">16</span><span class="op" id="7156223">,</span>&nbsp;<span class="num" id="7156225">16</span><span class="op" id="7156227">)</span><span class="op" id="7156228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156232">Rect</span><span class="op" id="7156236">(</span><span class="num" id="7156237">7</span><span class="op" id="7156238">,</span>&nbsp;<span class="num" id="7156240">7</span><span class="op" id="7156241">,</span>&nbsp;<span class="num" id="7156243">8</span><span class="op" id="7156244">,</span>&nbsp;<span class="num" id="7156246">8</span><span class="op" id="7156247">)</span><span class="op" id="7156248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156252">Rect</span><span class="op" id="7156256">(</span><span class="num" id="7156257">7</span><span class="op" id="7156258">,</span>&nbsp;<span class="num" id="7156260">8</span><span class="op" id="7156261">,</span>&nbsp;<span class="num" id="7156263">8</span><span class="op" id="7156264">,</span>&nbsp;<span class="num" id="7156266">9</span><span class="op" id="7156267">)</span><span class="op" id="7156268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156272">Rect</span><span class="op" id="7156276">(</span><span class="num" id="7156277">8</span><span class="op" id="7156278">,</span>&nbsp;<span class="num" id="7156280">7</span><span class="op" id="7156281">,</span>&nbsp;<span class="num" id="7156283">9</span><span class="op" id="7156284">,</span>&nbsp;<span class="num" id="7156286">8</span><span class="op" id="7156287">)</span><span class="op" id="7156288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156292">Rect</span><span class="op" id="7156296">(</span><span class="num" id="7156297">8</span><span class="op" id="7156298">,</span>&nbsp;<span class="num" id="7156300">8</span><span class="op" id="7156301">,</span>&nbsp;<span class="num" id="7156303">9</span><span class="op" id="7156304">,</span>&nbsp;<span class="num" id="7156306">9</span><span class="op" id="7156307">)</span><span class="op" id="7156308">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156312">Rect</span><span class="op" id="7156316">(</span><span class="num" id="7156317">7</span><span class="op" id="7156318">,</span>&nbsp;<span class="num" id="7156320">7</span><span class="op" id="7156321">,</span>&nbsp;<span class="num" id="7156323">17</span><span class="op" id="7156325">,</span>&nbsp;<span class="num" id="7156327">17</span><span class="op" id="7156329">)</span><span class="op" id="7156330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156334">Rect</span><span class="op" id="7156338">(</span><span class="num" id="7156339">8</span><span class="op" id="7156340">,</span>&nbsp;<span class="num" id="7156342">8</span><span class="op" id="7156343">,</span>&nbsp;<span class="num" id="7156345">17</span><span class="op" id="7156347">,</span>&nbsp;<span class="num" id="7156349">17</span><span class="op" id="7156351">)</span><span class="op" id="7156352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156356">Rect</span><span class="op" id="7156360">(</span><span class="num" id="7156361">9</span><span class="op" id="7156362">,</span>&nbsp;<span class="num" id="7156364">9</span><span class="op" id="7156365">,</span>&nbsp;<span class="num" id="7156367">17</span><span class="op" id="7156369">,</span>&nbsp;<span class="num" id="7156371">17</span><span class="op" id="7156373">)</span><span class="op" id="7156374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156378">Rect</span><span class="op" id="7156382">(</span><span class="num" id="7156383">10</span><span class="op" id="7156385">,</span>&nbsp;<span class="num" id="7156387">10</span><span class="op" id="7156389">,</span>&nbsp;<span class="num" id="7156391">17</span><span class="op" id="7156393">,</span>&nbsp;<span class="num" id="7156395">17</span><span class="op" id="7156397">)</span><span class="op" id="7156398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156401">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156404">subsampleRatios</span>&nbsp;<span class="op" id="7156420">:=</span>&nbsp;<span class="op" id="7156423">[</span><span class="op" id="7156424">]</span><span class="ident" id="7156425">YCbCrSubsampleRatio</span><span class="op" id="7156444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156448">YCbCrSubsampleRatio444</span><span class="op" id="7156470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156474">YCbCrSubsampleRatio422</span><span class="op" id="7156496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156500">YCbCrSubsampleRatio420</span><span class="op" id="7156522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156526">YCbCrSubsampleRatio440</span><span class="op" id="7156548">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156554">deltas</span>&nbsp;<span class="op" id="7156561">:=</span>&nbsp;<span class="op" id="7156564">[</span><span class="op" id="7156565">]</span><span class="ident" id="7156566">Point</span><span class="op" id="7156571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156575">Pt</span><span class="op" id="7156577">(</span><span class="num" id="7156578">0</span><span class="op" id="7156579">,</span>&nbsp;<span class="num" id="7156581">0</span><span class="op" id="7156582">)</span><span class="op" id="7156583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156587">Pt</span><span class="op" id="7156589">(</span><span class="num" id="7156590">1000</span><span class="op" id="7156594">,</span>&nbsp;<span class="num" id="7156596">1001</span><span class="op" id="7156600">)</span><span class="op" id="7156601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156605">Pt</span><span class="op" id="7156607">(</span><span class="num" id="7156608">5001</span><span class="op" id="7156612">,</span>&nbsp;<span class="op" id="7156614">-</span><span class="num" id="7156615">400</span><span class="op" id="7156618">)</span><span class="op" id="7156619">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156623">Pt</span><span class="op" id="7156625">(</span><span class="op" id="7156626">-</span><span class="num" id="7156627">701</span><span class="op" id="7156630">,</span>&nbsp;<span class="op" id="7156632">-</span><span class="num" id="7156633">801</span><span class="op" id="7156636">)</span><span class="op" id="7156637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7156643">for</span>&nbsp;<span class="ident" id="7156647">_</span><span class="op" id="7156648">,</span>&nbsp;<span class="ident" id="7156650">r</span>&nbsp;<span class="op" id="7156652">:=</span>&nbsp;<span class="keyword" id="7156655">range</span>&nbsp;<span class="ident" id="7156661">rects</span>&nbsp;<span class="op" id="7156667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7156671">for</span>&nbsp;<span class="ident" id="7156675">_</span><span class="op" id="7156676">,</span>&nbsp;<span class="ident" id="7156678">subsampleRatio</span>&nbsp;<span class="op" id="7156693">:=</span>&nbsp;<span class="keyword" id="7156696">range</span>&nbsp;<span class="ident" id="7156702">subsampleRatios</span>&nbsp;<span class="op" id="7156718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7156723">for</span>&nbsp;<span class="ident" id="7156727">_</span><span class="op" id="7156728">,</span>&nbsp;<span class="ident" id="7156730">delta</span>&nbsp;<span class="op" id="7156736">:=</span>&nbsp;<span class="keyword" id="7156739">range</span>&nbsp;<span class="ident" id="7156745">deltas</span>&nbsp;<span class="op" id="7156752">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7156758">testYCbCr</span><span class="op" id="7156767">(</span><span class="ident" id="7156768">t</span><span class="op" id="7156769">,</span>&nbsp;<span class="ident" id="7156771">r</span><span class="op" id="7156772">,</span>&nbsp;<span class="ident" id="7156774">subsampleRatio</span><span class="op" id="7156788">,</span>&nbsp;<span class="ident" id="7156790">delta</span><span class="op" id="7156795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7156808">if</span>&nbsp;<span class="ident" id="7156811">testing</span><span class="op" id="7156818">.</span><span class="ident" id="7156819">Short</span><span class="op" id="7156824">(</span><span class="op" id="7156825">)</span>&nbsp;<span class="op" id="7156827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7156832">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7156843">}</span><br>
<span class="lineno"></span><span class="op" id="7156845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7156848">func</span>&nbsp;<span class="ident" id="7156853">testYCbCr</span><span class="op" id="7156862">(</span><span class="ident" id="7156863">t</span>&nbsp;<span class="op" id="7156865">*</span><span class="ident" id="7156866">testing</span><span class="op" id="7156873">.</span><span class="ident" id="7156874">T</span><span class="op" id="7156875">,</span>&nbsp;<span class="ident" id="7156877">r</span>&nbsp;<span class="ident" id="7156879">Rectangle</span><span class="op" id="7156888">,</span>&nbsp;<span class="ident" id="7156890">subsampleRatio</span>&nbsp;<span class="ident" id="7156905">YCbCrSubsampleRatio</span><span class="op" id="7156924">,</span>&nbsp;<span class="ident" id="7156926">delta</span>&nbsp;<span class="ident" id="7156932">Point</span><span class="op" id="7156937">)</span>&nbsp;<span class="op" id="7156939">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7156942">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157023">r1</span>&nbsp;<span class="op" id="7157026">:=</span>&nbsp;<span class="ident" id="7157029">r</span><span class="op" id="7157030">.</span><span class="ident" id="7157031">Add</span><span class="op" id="7157034">(</span><span class="ident" id="7157035">delta</span><span class="op" id="7157040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157043">m</span>&nbsp;<span class="op" id="7157045">:=</span>&nbsp;<span class="ident" id="7157048">NewYCbCr</span><span class="op" id="7157056">(</span><span class="ident" id="7157057">r1</span><span class="op" id="7157059">,</span>&nbsp;<span class="ident" id="7157061">subsampleRatio</span><span class="op" id="7157075">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7157079">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157181">if</span>&nbsp;<span class="builtinfunc" id="7157184">len</span><span class="op" id="7157187">(</span><span class="ident" id="7157188">m</span><span class="op" id="7157189">.</span><span class="ident" id="7157190">Y</span><span class="op" id="7157191">)</span>&nbsp;<span class="op" id="7157193">&gt;</span>&nbsp;<span class="num" id="7157195">100</span><span class="op" id="7157198">*</span><span class="num" id="7157199">100</span>&nbsp;<span class="op" id="7157203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157207">t</span><span class="op" id="7157208">.</span><span class="ident" id="7157209">Errorf</span><span class="op" id="7157215">(</span><span class="string" id="7157216">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7157278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157283">r</span><span class="op" id="7157284">,</span>&nbsp;<span class="ident" id="7157286">subsampleRatio</span><span class="op" id="7157300">,</span>&nbsp;<span class="ident" id="7157302">delta</span><span class="op" id="7157307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157311">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7157319">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7157323">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7157410">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157492">for</span>&nbsp;<span class="ident" id="7157496">y</span>&nbsp;<span class="op" id="7157498">:=</span>&nbsp;<span class="ident" id="7157501">r1</span><span class="op" id="7157503">.</span><span class="ident" id="7157504">Min</span><span class="op" id="7157507">.</span><span class="ident" id="7157508">Y</span><span class="op" id="7157509">;</span>&nbsp;<span class="ident" id="7157511">y</span>&nbsp;<span class="op" id="7157513">&lt;</span>&nbsp;<span class="ident" id="7157515">r1</span><span class="op" id="7157517">.</span><span class="ident" id="7157518">Max</span><span class="op" id="7157521">.</span><span class="ident" id="7157522">Y</span><span class="op" id="7157523">;</span>&nbsp;<span class="ident" id="7157525">y</span><span class="op" id="7157526">++</span>&nbsp;<span class="op" id="7157529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157533">for</span>&nbsp;<span class="ident" id="7157537">x</span>&nbsp;<span class="op" id="7157539">:=</span>&nbsp;<span class="ident" id="7157542">r1</span><span class="op" id="7157544">.</span><span class="ident" id="7157545">Min</span><span class="op" id="7157548">.</span><span class="ident" id="7157549">X</span><span class="op" id="7157550">;</span>&nbsp;<span class="ident" id="7157552">x</span>&nbsp;<span class="op" id="7157554">&lt;</span>&nbsp;<span class="ident" id="7157556">r1</span><span class="op" id="7157558">.</span><span class="ident" id="7157559">Max</span><span class="op" id="7157562">.</span><span class="ident" id="7157563">X</span><span class="op" id="7157564">;</span>&nbsp;<span class="ident" id="7157566">x</span><span class="op" id="7157567">++</span>&nbsp;<span class="op" id="7157570">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157575">yi</span>&nbsp;<span class="op" id="7157578">:=</span>&nbsp;<span class="ident" id="7157581">m</span><span class="op" id="7157582">.</span><span class="ident" id="7157583">YOffset</span><span class="op" id="7157590">(</span><span class="ident" id="7157591">x</span><span class="op" id="7157592">,</span>&nbsp;<span class="ident" id="7157594">y</span><span class="op" id="7157595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157600">ci</span>&nbsp;<span class="op" id="7157603">:=</span>&nbsp;<span class="ident" id="7157606">m</span><span class="op" id="7157607">.</span><span class="ident" id="7157608">COffset</span><span class="op" id="7157615">(</span><span class="ident" id="7157616">x</span><span class="op" id="7157617">,</span>&nbsp;<span class="ident" id="7157619">y</span><span class="op" id="7157620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157625">m</span><span class="op" id="7157626">.</span><span class="ident" id="7157627">Y</span><span class="op" id="7157628">[</span><span class="ident" id="7157629">yi</span><span class="op" id="7157631">]</span>&nbsp;<span class="op" id="7157633">=</span>&nbsp;<span class="builtintype" id="7157635">uint8</span><span class="op" id="7157640">(</span><span class="num" id="7157641">16</span><span class="op" id="7157643">*</span><span class="ident" id="7157644">y</span>&nbsp;<span class="op" id="7157646">+</span>&nbsp;<span class="ident" id="7157648">x</span><span class="op" id="7157649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157654">m</span><span class="op" id="7157655">.</span><span class="ident" id="7157656">Cb</span><span class="op" id="7157658">[</span><span class="ident" id="7157659">ci</span><span class="op" id="7157661">]</span>&nbsp;<span class="op" id="7157663">=</span>&nbsp;<span class="builtintype" id="7157665">uint8</span><span class="op" id="7157670">(</span><span class="ident" id="7157671">y</span>&nbsp;<span class="op" id="7157673">+</span>&nbsp;<span class="num" id="7157675">16</span><span class="op" id="7157677">*</span><span class="ident" id="7157678">x</span><span class="op" id="7157679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157684">m</span><span class="op" id="7157685">.</span><span class="ident" id="7157686">Cr</span><span class="op" id="7157688">[</span><span class="ident" id="7157689">ci</span><span class="op" id="7157691">]</span>&nbsp;<span class="op" id="7157693">=</span>&nbsp;<span class="builtintype" id="7157695">uint8</span><span class="op" id="7157700">(</span><span class="ident" id="7157701">y</span>&nbsp;<span class="op" id="7157703">+</span>&nbsp;<span class="num" id="7157705">16</span><span class="op" id="7157707">*</span><span class="ident" id="7157708">x</span><span class="op" id="7157709">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7157713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7157716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7157720">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157754">for</span>&nbsp;<span class="ident" id="7157758">y0</span>&nbsp;<span class="op" id="7157761">:=</span>&nbsp;<span class="ident" id="7157764">delta</span><span class="op" id="7157769">.</span><span class="ident" id="7157770">Y</span>&nbsp;<span class="op" id="7157772">+</span>&nbsp;<span class="num" id="7157774">3</span><span class="op" id="7157775">;</span>&nbsp;<span class="ident" id="7157777">y0</span>&nbsp;<span class="op" id="7157780">&lt;</span>&nbsp;<span class="ident" id="7157782">delta</span><span class="op" id="7157787">.</span><span class="ident" id="7157788">Y</span><span class="op" id="7157789">+</span><span class="num" id="7157790">7</span><span class="op" id="7157791">;</span>&nbsp;<span class="ident" id="7157793">y0</span><span class="op" id="7157795">++</span>&nbsp;<span class="op" id="7157798">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157802">for</span>&nbsp;<span class="ident" id="7157806">y1</span>&nbsp;<span class="op" id="7157809">:=</span>&nbsp;<span class="ident" id="7157812">delta</span><span class="op" id="7157817">.</span><span class="ident" id="7157818">Y</span>&nbsp;<span class="op" id="7157820">+</span>&nbsp;<span class="num" id="7157822">8</span><span class="op" id="7157823">;</span>&nbsp;<span class="ident" id="7157825">y1</span>&nbsp;<span class="op" id="7157828">&lt;</span>&nbsp;<span class="ident" id="7157830">delta</span><span class="op" id="7157835">.</span><span class="ident" id="7157836">Y</span><span class="op" id="7157837">+</span><span class="num" id="7157838">13</span><span class="op" id="7157840">;</span>&nbsp;<span class="ident" id="7157842">y1</span><span class="op" id="7157844">++</span>&nbsp;<span class="op" id="7157847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157852">for</span>&nbsp;<span class="ident" id="7157856">x0</span>&nbsp;<span class="op" id="7157859">:=</span>&nbsp;<span class="ident" id="7157862">delta</span><span class="op" id="7157867">.</span><span class="ident" id="7157868">X</span>&nbsp;<span class="op" id="7157870">+</span>&nbsp;<span class="num" id="7157872">3</span><span class="op" id="7157873">;</span>&nbsp;<span class="ident" id="7157875">x0</span>&nbsp;<span class="op" id="7157878">&lt;</span>&nbsp;<span class="ident" id="7157880">delta</span><span class="op" id="7157885">.</span><span class="ident" id="7157886">X</span><span class="op" id="7157887">+</span><span class="num" id="7157888">7</span><span class="op" id="7157889">;</span>&nbsp;<span class="ident" id="7157891">x0</span><span class="op" id="7157893">++</span>&nbsp;<span class="op" id="7157896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7157902">for</span>&nbsp;<span class="ident" id="7157906">x1</span>&nbsp;<span class="op" id="7157909">:=</span>&nbsp;<span class="ident" id="7157912">delta</span><span class="op" id="7157917">.</span><span class="ident" id="7157918">X</span>&nbsp;<span class="op" id="7157920">+</span>&nbsp;<span class="num" id="7157922">8</span><span class="op" id="7157923">;</span>&nbsp;<span class="ident" id="7157925">x1</span>&nbsp;<span class="op" id="7157928">&lt;</span>&nbsp;<span class="ident" id="7157930">delta</span><span class="op" id="7157935">.</span><span class="ident" id="7157936">X</span><span class="op" id="7157937">+</span><span class="num" id="7157938">13</span><span class="op" id="7157940">;</span>&nbsp;<span class="ident" id="7157942">x1</span><span class="op" id="7157944">++</span>&nbsp;<span class="op" id="7157947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157954">subRect</span>&nbsp;<span class="op" id="7157962">:=</span>&nbsp;<span class="ident" id="7157965">Rect</span><span class="op" id="7157969">(</span><span class="ident" id="7157970">x0</span><span class="op" id="7157972">,</span>&nbsp;<span class="ident" id="7157974">y0</span><span class="op" id="7157976">,</span>&nbsp;<span class="ident" id="7157978">x1</span><span class="op" id="7157980">,</span>&nbsp;<span class="ident" id="7157982">y1</span><span class="op" id="7157984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7157991">sub</span>&nbsp;<span class="op" id="7157995">:=</span>&nbsp;<span class="ident" id="7157998">m</span><span class="op" id="7157999">.</span><span class="ident" id="7158000">SubImage</span><span class="op" id="7158008">(</span><span class="ident" id="7158009">subRect</span><span class="op" id="7158016">)</span><span class="op" id="7158017">.</span><span class="op" id="7158018">(</span><span class="op" id="7158019">*</span><span class="ident" id="7158020">YCbCr</span><span class="op" id="7158025">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7158033">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158126">for</span>&nbsp;<span class="ident" id="7158130">y</span>&nbsp;<span class="op" id="7158132">:=</span>&nbsp;<span class="ident" id="7158135">sub</span><span class="op" id="7158138">.</span><span class="ident" id="7158139">Rect</span><span class="op" id="7158143">.</span><span class="ident" id="7158144">Min</span><span class="op" id="7158147">.</span><span class="ident" id="7158148">Y</span><span class="op" id="7158149">;</span>&nbsp;<span class="ident" id="7158151">y</span>&nbsp;<span class="op" id="7158153">&lt;</span>&nbsp;<span class="ident" id="7158155">sub</span><span class="op" id="7158158">.</span><span class="ident" id="7158159">Rect</span><span class="op" id="7158163">.</span><span class="ident" id="7158164">Max</span><span class="op" id="7158167">.</span><span class="ident" id="7158168">Y</span><span class="op" id="7158169">;</span>&nbsp;<span class="ident" id="7158171">y</span><span class="op" id="7158172">++</span>&nbsp;<span class="op" id="7158175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158183">for</span>&nbsp;<span class="ident" id="7158187">x</span>&nbsp;<span class="op" id="7158189">:=</span>&nbsp;<span class="ident" id="7158192">sub</span><span class="op" id="7158195">.</span><span class="ident" id="7158196">Rect</span><span class="op" id="7158200">.</span><span class="ident" id="7158201">Min</span><span class="op" id="7158204">.</span><span class="ident" id="7158205">X</span><span class="op" id="7158206">;</span>&nbsp;<span class="ident" id="7158208">x</span>&nbsp;<span class="op" id="7158210">&lt;</span>&nbsp;<span class="ident" id="7158212">sub</span><span class="op" id="7158215">.</span><span class="ident" id="7158216">Rect</span><span class="op" id="7158220">.</span><span class="ident" id="7158221">Max</span><span class="op" id="7158224">.</span><span class="ident" id="7158225">X</span><span class="op" id="7158226">;</span>&nbsp;<span class="ident" id="7158228">x</span><span class="op" id="7158229">++</span>&nbsp;<span class="op" id="7158232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158241">color0</span>&nbsp;<span class="op" id="7158248">:=</span>&nbsp;<span class="ident" id="7158251">m</span><span class="op" id="7158252">.</span><span class="ident" id="7158253">At</span><span class="op" id="7158255">(</span><span class="ident" id="7158256">x</span><span class="op" id="7158257">,</span>&nbsp;<span class="ident" id="7158259">y</span><span class="op" id="7158260">)</span><span class="op" id="7158261">.</span><span class="op" id="7158262">(</span><span class="ident" id="7158263">color</span><span class="op" id="7158268">.</span><span class="ident" id="7158269">YCbCr</span><span class="op" id="7158274">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158283">color1</span>&nbsp;<span class="op" id="7158290">:=</span>&nbsp;<span class="ident" id="7158293">sub</span><span class="op" id="7158296">.</span><span class="ident" id="7158297">At</span><span class="op" id="7158299">(</span><span class="ident" id="7158300">x</span><span class="op" id="7158301">,</span>&nbsp;<span class="ident" id="7158303">y</span><span class="op" id="7158304">)</span><span class="op" id="7158305">.</span><span class="op" id="7158306">(</span><span class="ident" id="7158307">color</span><span class="op" id="7158312">.</span><span class="ident" id="7158313">YCbCr</span><span class="op" id="7158318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158327">if</span>&nbsp;<span class="ident" id="7158330">color0</span>&nbsp;<span class="op" id="7158337">!=</span>&nbsp;<span class="ident" id="7158340">color1</span>&nbsp;<span class="op" id="7158347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158357">t</span><span class="op" id="7158358">.</span><span class="ident" id="7158359">Errorf</span><span class="op" id="7158365">(</span><span class="string" id="7158366">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7158435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158446">r</span><span class="op" id="7158447">,</span>&nbsp;<span class="ident" id="7158449">subsampleRatio</span><span class="op" id="7158463">,</span>&nbsp;<span class="ident" id="7158465">delta</span><span class="op" id="7158470">,</span>&nbsp;<span class="ident" id="7158472">x</span><span class="op" id="7158473">,</span>&nbsp;<span class="ident" id="7158475">y</span><span class="op" id="7158476">,</span>&nbsp;<span class="ident" id="7158478">color0</span><span class="op" id="7158484">,</span>&nbsp;<span class="ident" id="7158486">color1</span><span class="op" id="7158492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158502">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158542">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158549">}</span><br>
<span class="lineno"></span><span class="op" id="7158551">}</span>
</div>
</body>
</html>
