<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7414152">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7414207">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7414261">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7414312">package</span>&nbsp;<span class="ident" id="7414320">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414326">import</span>&nbsp;<span class="op" id="7414333">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414336">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414343">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7414353">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7414356">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7414388">func</span>&nbsp;<span class="ident" id="7414393">dump</span><span class="op" id="7414397">(</span><span class="ident" id="7414398">r</span>&nbsp;<span class="op" id="7414400">*</span><span class="ident" id="7414401"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><span class="op" id="7414405">)</span>&nbsp;<span class="op" id="7414407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414410">if</span>&nbsp;<span class="ident" id="7414413"><a href="/container/ring/ring_test.go.html#7414398">r</a></span>&nbsp;<span class="op" id="7414415">==</span>&nbsp;<span class="ident" id="7414418">nil</span>&nbsp;<span class="op" id="7414422">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414426"><a href="/container/ring/ring_test.go.html#7414336">fmt</a></span><span class="op" id="7414429">.</span><span class="ident" id="7414430">Println</span><span class="op" id="7414437">(</span><span class="string" id="7414438">&#34;empty&#34;</span><span class="op" id="7414445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414449">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414460">i</span><span class="op" id="7414461">,</span>&nbsp;<span class="ident" id="7414463">n</span>&nbsp;<span class="op" id="7414465">:=</span>&nbsp;<span class="num" id="7414468">0</span><span class="op" id="7414469">,</span>&nbsp;<span class="ident" id="7414471"><a href="/container/ring/ring_test.go.html#7414398">r</a></span><span class="op" id="7414472">.</span><span class="ident" id="7414473">Len</span><span class="op" id="7414476">(</span><span class="op" id="7414477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414480">for</span>&nbsp;<span class="ident" id="7414484">p</span>&nbsp;<span class="op" id="7414486">:=</span>&nbsp;<span class="ident" id="7414489"><a href="/container/ring/ring_test.go.html#7414398">r</a></span><span class="op" id="7414490">;</span>&nbsp;<span class="ident" id="7414492"><a href="/container/ring/ring_test.go.html#7414460">i</a></span>&nbsp;<span class="op" id="7414494">&lt;</span>&nbsp;<span class="ident" id="7414496"><a href="/container/ring/ring_test.go.html#7414463">n</a></span><span class="op" id="7414497">;</span>&nbsp;<span class="ident" id="7414499"><a href="/container/ring/ring_test.go.html#7414484">p</a></span>&nbsp;<span class="op" id="7414501">=</span>&nbsp;<span class="ident" id="7414503"><a href="/container/ring/ring_test.go.html#7414484">p</a></span><span class="op" id="7414504">.</span><span class="ident" id="7414505">next</span>&nbsp;<span class="op" id="7414510">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414514"><a href="/container/ring/ring_test.go.html#7414336">fmt</a></span><span class="op" id="7414517">.</span><span class="ident" id="7414518">Printf</span><span class="op" id="7414524">(</span><span class="string" id="7414525">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7414554">,</span>&nbsp;<span class="ident" id="7414556"><a href="/container/ring/ring_test.go.html#7414460">i</a></span><span class="op" id="7414557">,</span>&nbsp;<span class="ident" id="7414559"><a href="/container/ring/ring_test.go.html#7414484">p</a></span><span class="op" id="7414560">,</span>&nbsp;<span class="ident" id="7414562"><a href="/container/ring/ring_test.go.html#7414484">p</a></span><span class="op" id="7414563">.</span><span class="ident" id="7414564">prev</span><span class="op" id="7414568">,</span>&nbsp;<span class="ident" id="7414570"><a href="/container/ring/ring_test.go.html#7414484">p</a></span><span class="op" id="7414571">.</span><span class="ident" id="7414572">next</span><span class="op" id="7414576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414580"><a href="/container/ring/ring_test.go.html#7414460">i</a></span><span class="op" id="7414581">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414588"><a href="/container/ring/ring_test.go.html#7414336">fmt</a></span><span class="op" id="7414591">.</span><span class="ident" id="7414592">Println</span><span class="op" id="7414599">(</span><span class="op" id="7414600">)</span><br>
<span class="lineno"></span><span class="op" id="7414602">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7414605">func</span>&nbsp;<span class="ident" id="7414610">verify</span><span class="op" id="7414616">(</span><span class="ident" id="7414617">t</span>&nbsp;<span class="op" id="7414619">*</span><span class="ident" id="7414620"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7414627">.</span><span class="ident" id="7414628">T</span><span class="op" id="7414629">,</span>&nbsp;<span class="ident" id="7414631">r</span>&nbsp;<span class="op" id="7414633">*</span><span class="ident" id="7414634"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><span class="op" id="7414638">,</span>&nbsp;<span class="ident" id="7414640">N</span>&nbsp;<span class="builtintype" id="7414642">int</span><span class="op" id="7414645">,</span>&nbsp;<span class="ident" id="7414647">sum</span>&nbsp;<span class="builtintype" id="7414651">int</span><span class="op" id="7414654">)</span>&nbsp;<span class="op" id="7414656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7414659">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414667">n</span>&nbsp;<span class="op" id="7414669">:=</span>&nbsp;<span class="ident" id="7414672"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7414673">.</span><span class="ident" id="7414674">Len</span><span class="op" id="7414677">(</span><span class="op" id="7414678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414681">if</span>&nbsp;<span class="ident" id="7414684"><a href="/container/ring/ring_test.go.html#7414667">n</a></span>&nbsp;<span class="op" id="7414686">!=</span>&nbsp;<span class="ident" id="7414689"><a href="/container/ring/ring_test.go.html#7414640">N</a></span>&nbsp;<span class="op" id="7414691">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414695"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7414696">.</span><span class="ident" id="7414697">Errorf</span><span class="op" id="7414703">(</span><span class="string" id="7414704">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7414732">,</span>&nbsp;<span class="ident" id="7414734"><a href="/container/ring/ring_test.go.html#7414667">n</a></span><span class="op" id="7414735">,</span>&nbsp;<span class="ident" id="7414737"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7414738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7414745">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414759"><a href="/container/ring/ring_test.go.html#7414667">n</a></span>&nbsp;<span class="op" id="7414761">=</span>&nbsp;<span class="num" id="7414763">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414766">s</span>&nbsp;<span class="op" id="7414768">:=</span>&nbsp;<span class="num" id="7414771">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414774"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7414775">.</span><span class="ident" id="7414776">Do</span><span class="op" id="7414778">(</span><span class="keyword" id="7414779">func</span><span class="op" id="7414783">(</span><span class="ident" id="7414784">p</span>&nbsp;<span class="keyword" id="7414786">interface</span><span class="op" id="7414795">{</span><span class="op" id="7414796">}</span><span class="op" id="7414797">)</span>&nbsp;<span class="op" id="7414799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414803"><a href="/container/ring/ring_test.go.html#7414667">n</a></span><span class="op" id="7414804">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414809">if</span>&nbsp;<span class="ident" id="7414812"><a href="/container/ring/ring_test.go.html#7414784">p</a></span>&nbsp;<span class="op" id="7414814">!=</span>&nbsp;<span class="ident" id="7414817">nil</span>&nbsp;<span class="op" id="7414821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414826"><a href="/container/ring/ring_test.go.html#7414766">s</a></span>&nbsp;<span class="op" id="7414828">+=</span>&nbsp;<span class="ident" id="7414831"><a href="/container/ring/ring_test.go.html#7414784">p</a></span><span class="op" id="7414832">.</span><span class="op" id="7414833">(</span><span class="builtintype" id="7414834">int</span><span class="op" id="7414837">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414844">}</span><span class="op" id="7414845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414848">if</span>&nbsp;<span class="ident" id="7414851"><a href="/container/ring/ring_test.go.html#7414667">n</a></span>&nbsp;<span class="op" id="7414853">!=</span>&nbsp;<span class="ident" id="7414856"><a href="/container/ring/ring_test.go.html#7414640">N</a></span>&nbsp;<span class="op" id="7414858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414862"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7414863">.</span><span class="ident" id="7414864">Errorf</span><span class="op" id="7414870">(</span><span class="string" id="7414871">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7414920">,</span>&nbsp;<span class="ident" id="7414922"><a href="/container/ring/ring_test.go.html#7414667">n</a></span><span class="op" id="7414923">,</span>&nbsp;<span class="ident" id="7414925"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7414926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414929">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414932">if</span>&nbsp;<span class="ident" id="7414935"><a href="/container/ring/ring_test.go.html#7414647">sum</a></span>&nbsp;<span class="op" id="7414939">&gt;=</span>&nbsp;<span class="num" id="7414942">0</span>&nbsp;<span class="op" id="7414944">&amp;&amp;</span>&nbsp;<span class="ident" id="7414947"><a href="/container/ring/ring_test.go.html#7414766">s</a></span>&nbsp;<span class="op" id="7414949">!=</span>&nbsp;<span class="ident" id="7414952"><a href="/container/ring/ring_test.go.html#7414647">sum</a></span>&nbsp;<span class="op" id="7414956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414960"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7414961">.</span><span class="ident" id="7414962">Errorf</span><span class="op" id="7414968">(</span><span class="string" id="7414969">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7415005">,</span>&nbsp;<span class="ident" id="7415007"><a href="/container/ring/ring_test.go.html#7414766">s</a></span><span class="op" id="7415008">,</span>&nbsp;<span class="ident" id="7415010"><a href="/container/ring/ring_test.go.html#7414647">sum</a></span><span class="op" id="7415013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415020">if</span>&nbsp;<span class="ident" id="7415023"><a href="/container/ring/ring_test.go.html#7414631">r</a></span>&nbsp;<span class="op" id="7415025">==</span>&nbsp;<span class="ident" id="7415028">nil</span>&nbsp;<span class="op" id="7415032">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415036">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7415048">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415064">if</span>&nbsp;<span class="ident" id="7415067"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415068">.</span><span class="ident" id="7415069">next</span>&nbsp;<span class="op" id="7415074">!=</span>&nbsp;<span class="ident" id="7415077">nil</span>&nbsp;<span class="op" id="7415081">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415085">var</span>&nbsp;<span class="ident" id="7415089">p</span>&nbsp;<span class="op" id="7415091">*</span><span class="ident" id="7415092"><a href="/container/ring/ring.go.html#6395031">Ring</a></span>&nbsp;<span class="comment" id="7415097">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415119">for</span>&nbsp;<span class="ident" id="7415123">q</span>&nbsp;<span class="op" id="7415125">:=</span>&nbsp;<span class="ident" id="7415128"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415129">;</span>&nbsp;<span class="ident" id="7415131"><a href="/container/ring/ring_test.go.html#7415089">p</a></span>&nbsp;<span class="op" id="7415133">==</span>&nbsp;<span class="ident" id="7415136">nil</span>&nbsp;<span class="op" id="7415140">||</span>&nbsp;<span class="ident" id="7415143"><a href="/container/ring/ring_test.go.html#7415123">q</a></span>&nbsp;<span class="op" id="7415145">!=</span>&nbsp;<span class="ident" id="7415148"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415149">;</span>&nbsp;<span class="ident" id="7415151"><a href="/container/ring/ring_test.go.html#7415123">q</a></span>&nbsp;<span class="op" id="7415153">=</span>&nbsp;<span class="ident" id="7415155"><a href="/container/ring/ring_test.go.html#7415123">q</a></span><span class="op" id="7415156">.</span><span class="ident" id="7415157">next</span>&nbsp;<span class="op" id="7415162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415167">if</span>&nbsp;<span class="ident" id="7415170"><a href="/container/ring/ring_test.go.html#7415089">p</a></span>&nbsp;<span class="op" id="7415172">!=</span>&nbsp;<span class="ident" id="7415175">nil</span>&nbsp;<span class="op" id="7415179">&amp;&amp;</span>&nbsp;<span class="ident" id="7415182"><a href="/container/ring/ring_test.go.html#7415089">p</a></span>&nbsp;<span class="op" id="7415184">!=</span>&nbsp;<span class="ident" id="7415187"><a href="/container/ring/ring_test.go.html#7415123">q</a></span><span class="op" id="7415188">.</span><span class="ident" id="7415189">prev</span>&nbsp;<span class="op" id="7415194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415200"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415201">.</span><span class="ident" id="7415202">Errorf</span><span class="op" id="7415208">(</span><span class="string" id="7415209">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7415244">,</span>&nbsp;<span class="ident" id="7415246"><a href="/container/ring/ring_test.go.html#7415089">p</a></span><span class="op" id="7415247">,</span>&nbsp;<span class="ident" id="7415249"><a href="/container/ring/ring_test.go.html#7415123">q</a></span><span class="op" id="7415250">.</span><span class="ident" id="7415251">prev</span><span class="op" id="7415255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415260">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415265"><a href="/container/ring/ring_test.go.html#7415089">p</a></span>&nbsp;<span class="op" id="7415267">=</span>&nbsp;<span class="ident" id="7415269"><a href="/container/ring/ring_test.go.html#7415123">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415277">if</span>&nbsp;<span class="ident" id="7415280"><a href="/container/ring/ring_test.go.html#7415089">p</a></span>&nbsp;<span class="op" id="7415282">!=</span>&nbsp;<span class="ident" id="7415285"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415286">.</span><span class="ident" id="7415287">prev</span>&nbsp;<span class="op" id="7415292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415297"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415298">.</span><span class="ident" id="7415299">Errorf</span><span class="op" id="7415305">(</span><span class="string" id="7415306">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7415341">,</span>&nbsp;<span class="ident" id="7415343"><a href="/container/ring/ring_test.go.html#7415089">p</a></span><span class="op" id="7415344">,</span>&nbsp;<span class="ident" id="7415346"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415347">.</span><span class="ident" id="7415348">prev</span><span class="op" id="7415352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415356">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7415363">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415378">if</span>&nbsp;<span class="ident" id="7415381"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415382">.</span><span class="ident" id="7415383">Next</span><span class="op" id="7415387">(</span><span class="op" id="7415388">)</span>&nbsp;<span class="op" id="7415390">!=</span>&nbsp;<span class="ident" id="7415393"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415394">.</span><span class="ident" id="7415395">next</span>&nbsp;<span class="op" id="7415400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415404"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415405">.</span><span class="ident" id="7415406">Errorf</span><span class="op" id="7415412">(</span><span class="string" id="7415413">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7415433">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415439">if</span>&nbsp;<span class="ident" id="7415442"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415443">.</span><span class="ident" id="7415444">Prev</span><span class="op" id="7415448">(</span><span class="op" id="7415449">)</span>&nbsp;<span class="op" id="7415451">!=</span>&nbsp;<span class="ident" id="7415454"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415455">.</span><span class="ident" id="7415456">prev</span>&nbsp;<span class="op" id="7415461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415465"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415466">.</span><span class="ident" id="7415467">Errorf</span><span class="op" id="7415473">(</span><span class="string" id="7415474">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7415494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7415501">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415510">if</span>&nbsp;<span class="ident" id="7415513"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415514">.</span><span class="ident" id="7415515">Move</span><span class="op" id="7415519">(</span><span class="num" id="7415520">0</span><span class="op" id="7415521">)</span>&nbsp;<span class="op" id="7415523">!=</span>&nbsp;<span class="ident" id="7415526"><a href="/container/ring/ring_test.go.html#7414631">r</a></span>&nbsp;<span class="op" id="7415528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415532"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415533">.</span><span class="ident" id="7415534">Errorf</span><span class="op" id="7415540">(</span><span class="string" id="7415541">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7415557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415563">if</span>&nbsp;<span class="ident" id="7415566"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415567">.</span><span class="ident" id="7415568">Move</span><span class="op" id="7415572">(</span><span class="ident" id="7415573"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7415574">)</span>&nbsp;<span class="op" id="7415576">!=</span>&nbsp;<span class="ident" id="7415579"><a href="/container/ring/ring_test.go.html#7414631">r</a></span>&nbsp;<span class="op" id="7415581">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415585"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415586">.</span><span class="ident" id="7415587">Errorf</span><span class="op" id="7415593">(</span><span class="string" id="7415594">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7415611">,</span>&nbsp;<span class="ident" id="7415613"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7415614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415620">if</span>&nbsp;<span class="ident" id="7415623"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415624">.</span><span class="ident" id="7415625">Move</span><span class="op" id="7415629">(</span><span class="op" id="7415630">-</span><span class="ident" id="7415631"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7415632">)</span>&nbsp;<span class="op" id="7415634">!=</span>&nbsp;<span class="ident" id="7415637"><a href="/container/ring/ring_test.go.html#7414631">r</a></span>&nbsp;<span class="op" id="7415639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415643"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415644">.</span><span class="ident" id="7415645">Errorf</span><span class="op" id="7415651">(</span><span class="string" id="7415652">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7415669">,</span>&nbsp;<span class="op" id="7415671">-</span><span class="ident" id="7415672"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><span class="op" id="7415673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415676">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415679">for</span>&nbsp;<span class="ident" id="7415683">i</span>&nbsp;<span class="op" id="7415685">:=</span>&nbsp;<span class="num" id="7415688">0</span><span class="op" id="7415689">;</span>&nbsp;<span class="ident" id="7415691"><a href="/container/ring/ring_test.go.html#7415683">i</a></span>&nbsp;<span class="op" id="7415693">&lt;</span>&nbsp;<span class="num" id="7415695">10</span><span class="op" id="7415697">;</span>&nbsp;<span class="ident" id="7415699"><a href="/container/ring/ring_test.go.html#7415683">i</a></span><span class="op" id="7415700">++</span>&nbsp;<span class="op" id="7415703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415707">ni</span>&nbsp;<span class="op" id="7415710">:=</span>&nbsp;<span class="ident" id="7415713"><a href="/container/ring/ring_test.go.html#7414640">N</a></span>&nbsp;<span class="op" id="7415715">+</span>&nbsp;<span class="ident" id="7415717"><a href="/container/ring/ring_test.go.html#7415683">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415721">mi</span>&nbsp;<span class="op" id="7415724">:=</span>&nbsp;<span class="ident" id="7415727"><a href="/container/ring/ring_test.go.html#7415707">ni</a></span>&nbsp;<span class="op" id="7415730">%</span>&nbsp;<span class="ident" id="7415732"><a href="/container/ring/ring_test.go.html#7414640">N</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415736">if</span>&nbsp;<span class="ident" id="7415739"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415740">.</span><span class="ident" id="7415741">Move</span><span class="op" id="7415745">(</span><span class="ident" id="7415746"><a href="/container/ring/ring_test.go.html#7415707">ni</a></span><span class="op" id="7415748">)</span>&nbsp;<span class="op" id="7415750">!=</span>&nbsp;<span class="ident" id="7415753"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415754">.</span><span class="ident" id="7415755">Move</span><span class="op" id="7415759">(</span><span class="ident" id="7415760"><a href="/container/ring/ring_test.go.html#7415721">mi</a></span><span class="op" id="7415762">)</span>&nbsp;<span class="op" id="7415764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415769"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415770">.</span><span class="ident" id="7415771">Errorf</span><span class="op" id="7415777">(</span><span class="string" id="7415778">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7415804">,</span>&nbsp;<span class="ident" id="7415806"><a href="/container/ring/ring_test.go.html#7415707">ni</a></span><span class="op" id="7415808">,</span>&nbsp;<span class="ident" id="7415810"><a href="/container/ring/ring_test.go.html#7415721">mi</a></span><span class="op" id="7415812">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415820">if</span>&nbsp;<span class="ident" id="7415823"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415824">.</span><span class="ident" id="7415825">Move</span><span class="op" id="7415829">(</span><span class="op" id="7415830">-</span><span class="ident" id="7415831"><a href="/container/ring/ring_test.go.html#7415707">ni</a></span><span class="op" id="7415833">)</span>&nbsp;<span class="op" id="7415835">!=</span>&nbsp;<span class="ident" id="7415838"><a href="/container/ring/ring_test.go.html#7414631">r</a></span><span class="op" id="7415839">.</span><span class="ident" id="7415840">Move</span><span class="op" id="7415844">(</span><span class="op" id="7415845">-</span><span class="ident" id="7415846"><a href="/container/ring/ring_test.go.html#7415721">mi</a></span><span class="op" id="7415848">)</span>&nbsp;<span class="op" id="7415850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415855"><a href="/container/ring/ring_test.go.html#7414617">t</a></span><span class="op" id="7415856">.</span><span class="ident" id="7415857">Errorf</span><span class="op" id="7415863">(</span><span class="string" id="7415864">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7415890">,</span>&nbsp;<span class="op" id="7415892">-</span><span class="ident" id="7415893"><a href="/container/ring/ring_test.go.html#7415707">ni</a></span><span class="op" id="7415895">,</span>&nbsp;<span class="op" id="7415897">-</span><span class="ident" id="7415898"><a href="/container/ring/ring_test.go.html#7415721">mi</a></span><span class="op" id="7415900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415907">}</span><br>
<span class="lineno">95</span><span class="op" id="7415909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7415912">func</span>&nbsp;<span class="ident" id="7415917">TestCornerCases</span><span class="op" id="7415932">(</span><span class="ident" id="7415933">t</span>&nbsp;<span class="op" id="7415935">*</span><span class="ident" id="7415936"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7415943">.</span><span class="ident" id="7415944">T</span><span class="op" id="7415945">)</span>&nbsp;<span class="op" id="7415947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7415950">var</span>&nbsp;<span class="op" id="7415954">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415958">r0</span>&nbsp;<span class="op" id="7415961">*</span><span class="ident" id="7415962"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415969">r1</span>&nbsp;<span class="ident" id="7415972"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7415981">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415992"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7415998">(</span><span class="ident" id="7415999"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416000">,</span>&nbsp;<span class="ident" id="7416002"><a href="/container/ring/ring_test.go.html#7415958">r0</a></span><span class="op" id="7416004">,</span>&nbsp;<span class="num" id="7416006">0</span><span class="op" id="7416007">,</span>&nbsp;<span class="num" id="7416009">0</span><span class="op" id="7416010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416013"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416019">(</span><span class="ident" id="7416020"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416021">,</span>&nbsp;<span class="op" id="7416023">&amp;</span><span class="ident" id="7416024"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416026">,</span>&nbsp;<span class="num" id="7416028">1</span><span class="op" id="7416029">,</span>&nbsp;<span class="num" id="7416031">0</span><span class="op" id="7416032">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7416035">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416046"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416048">.</span><span class="ident" id="7416049">Link</span><span class="op" id="7416053">(</span><span class="ident" id="7416054"><a href="/container/ring/ring_test.go.html#7415958">r0</a></span><span class="op" id="7416056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416059"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416065">(</span><span class="ident" id="7416066"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416067">,</span>&nbsp;<span class="ident" id="7416069"><a href="/container/ring/ring_test.go.html#7415958">r0</a></span><span class="op" id="7416071">,</span>&nbsp;<span class="num" id="7416073">0</span><span class="op" id="7416074">,</span>&nbsp;<span class="num" id="7416076">0</span><span class="op" id="7416077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416080"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416086">(</span><span class="ident" id="7416087"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416088">,</span>&nbsp;<span class="op" id="7416090">&amp;</span><span class="ident" id="7416091"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416093">,</span>&nbsp;<span class="num" id="7416095">1</span><span class="op" id="7416096">,</span>&nbsp;<span class="num" id="7416098">0</span><span class="op" id="7416099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7416102">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416113"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416115">.</span><span class="ident" id="7416116">Link</span><span class="op" id="7416120">(</span><span class="ident" id="7416121"><a href="/container/ring/ring_test.go.html#7415958">r0</a></span><span class="op" id="7416123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416126"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416132">(</span><span class="ident" id="7416133"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416134">,</span>&nbsp;<span class="ident" id="7416136"><a href="/container/ring/ring_test.go.html#7415958">r0</a></span><span class="op" id="7416138">,</span>&nbsp;<span class="num" id="7416140">0</span><span class="op" id="7416141">,</span>&nbsp;<span class="num" id="7416143">0</span><span class="op" id="7416144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416147"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416153">(</span><span class="ident" id="7416154"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416155">,</span>&nbsp;<span class="op" id="7416157">&amp;</span><span class="ident" id="7416158"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416160">,</span>&nbsp;<span class="num" id="7416162">1</span><span class="op" id="7416163">,</span>&nbsp;<span class="num" id="7416165">0</span><span class="op" id="7416166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7416169">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416180"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416182">.</span><span class="ident" id="7416183">Unlink</span><span class="op" id="7416189">(</span><span class="num" id="7416190">0</span><span class="op" id="7416191">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416194"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416200">(</span><span class="ident" id="7416201"><a href="/container/ring/ring_test.go.html#7415933">t</a></span><span class="op" id="7416202">,</span>&nbsp;<span class="op" id="7416204">&amp;</span><span class="ident" id="7416205"><a href="/container/ring/ring_test.go.html#7415969">r1</a></span><span class="op" id="7416207">,</span>&nbsp;<span class="num" id="7416209">1</span><span class="op" id="7416210">,</span>&nbsp;<span class="num" id="7416212">0</span><span class="op" id="7416213">)</span><br>
<span class="lineno"></span><span class="op" id="7416215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416218">func</span>&nbsp;<span class="ident" id="7416223">makeN</span><span class="op" id="7416228">(</span><span class="ident" id="7416229">n</span>&nbsp;<span class="builtintype" id="7416231">int</span><span class="op" id="7416234">)</span>&nbsp;<span class="op" id="7416236">*</span><span class="ident" id="7416237"><a href="/container/ring/ring.go.html#6395031">Ring</a></span>&nbsp;<span class="op" id="7416242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416245">r</span>&nbsp;<span class="op" id="7416247">:=</span>&nbsp;<span class="ident" id="7416250"><a href="/container/ring/ring.go.html#6395897">New</a></span><span class="op" id="7416253">(</span><span class="ident" id="7416254"><a href="/container/ring/ring_test.go.html#7416229">n</a></span><span class="op" id="7416255">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416258">for</span>&nbsp;<span class="ident" id="7416262">i</span>&nbsp;<span class="op" id="7416264">:=</span>&nbsp;<span class="num" id="7416267">1</span><span class="op" id="7416268">;</span>&nbsp;<span class="ident" id="7416270"><a href="/container/ring/ring_test.go.html#7416262">i</a></span>&nbsp;<span class="op" id="7416272">&lt;=</span>&nbsp;<span class="ident" id="7416275"><a href="/container/ring/ring_test.go.html#7416229">n</a></span><span class="op" id="7416276">;</span>&nbsp;<span class="ident" id="7416278"><a href="/container/ring/ring_test.go.html#7416262">i</a></span><span class="op" id="7416279">++</span>&nbsp;<span class="op" id="7416282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416286"><a href="/container/ring/ring_test.go.html#7416245">r</a></span><span class="op" id="7416287">.</span><span class="ident" id="7416288">Value</span>&nbsp;<span class="op" id="7416294">=</span>&nbsp;<span class="ident" id="7416296"><a href="/container/ring/ring_test.go.html#7416262">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416300"><a href="/container/ring/ring_test.go.html#7416245">r</a></span>&nbsp;<span class="op" id="7416302">=</span>&nbsp;<span class="ident" id="7416304"><a href="/container/ring/ring_test.go.html#7416245">r</a></span><span class="op" id="7416305">.</span><span class="ident" id="7416306">Next</span><span class="op" id="7416310">(</span><span class="op" id="7416311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416317">return</span>&nbsp;<span class="ident" id="7416324"><a href="/container/ring/ring_test.go.html#7416245">r</a></span><br>
<span class="lineno">125</span><span class="op" id="7416326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416329">func</span>&nbsp;<span class="ident" id="7416334">sumN</span><span class="op" id="7416338">(</span><span class="ident" id="7416339">n</span>&nbsp;<span class="builtintype" id="7416341">int</span><span class="op" id="7416344">)</span>&nbsp;<span class="builtintype" id="7416346">int</span>&nbsp;<span class="op" id="7416350">{</span>&nbsp;<span class="keyword" id="7416352">return</span>&nbsp;<span class="op" id="7416359">(</span><span class="ident" id="7416360"><a href="/container/ring/ring_test.go.html#7416339">n</a></span><span class="op" id="7416361">*</span><span class="ident" id="7416362"><a href="/container/ring/ring_test.go.html#7416339">n</a></span>&nbsp;<span class="op" id="7416364">+</span>&nbsp;<span class="ident" id="7416366"><a href="/container/ring/ring_test.go.html#7416339">n</a></span><span class="op" id="7416367">)</span>&nbsp;<span class="op" id="7416369">/</span>&nbsp;<span class="num" id="7416371">2</span>&nbsp;<span class="op" id="7416373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416376">func</span>&nbsp;<span class="ident" id="7416381">TestNew</span><span class="op" id="7416388">(</span><span class="ident" id="7416389">t</span>&nbsp;<span class="op" id="7416391">*</span><span class="ident" id="7416392"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7416399">.</span><span class="ident" id="7416400">T</span><span class="op" id="7416401">)</span>&nbsp;<span class="op" id="7416403">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416406">for</span>&nbsp;<span class="ident" id="7416410">i</span>&nbsp;<span class="op" id="7416412">:=</span>&nbsp;<span class="num" id="7416415">0</span><span class="op" id="7416416">;</span>&nbsp;<span class="ident" id="7416418"><a href="/container/ring/ring_test.go.html#7416410">i</a></span>&nbsp;<span class="op" id="7416420">&lt;</span>&nbsp;<span class="num" id="7416422">10</span><span class="op" id="7416424">;</span>&nbsp;<span class="ident" id="7416426"><a href="/container/ring/ring_test.go.html#7416410">i</a></span><span class="op" id="7416427">++</span>&nbsp;<span class="op" id="7416430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416434">r</span>&nbsp;<span class="op" id="7416436">:=</span>&nbsp;<span class="ident" id="7416439"><a href="/container/ring/ring.go.html#6395897">New</a></span><span class="op" id="7416442">(</span><span class="ident" id="7416443"><a href="/container/ring/ring_test.go.html#7416410">i</a></span><span class="op" id="7416444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416448"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416454">(</span><span class="ident" id="7416455"><a href="/container/ring/ring_test.go.html#7416389">t</a></span><span class="op" id="7416456">,</span>&nbsp;<span class="ident" id="7416458"><a href="/container/ring/ring_test.go.html#7416434">r</a></span><span class="op" id="7416459">,</span>&nbsp;<span class="ident" id="7416461"><a href="/container/ring/ring_test.go.html#7416410">i</a></span><span class="op" id="7416462">,</span>&nbsp;<span class="op" id="7416464">-</span><span class="num" id="7416465">1</span><span class="op" id="7416466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416472">for</span>&nbsp;<span class="ident" id="7416476">i</span>&nbsp;<span class="op" id="7416478">:=</span>&nbsp;<span class="num" id="7416481">0</span><span class="op" id="7416482">;</span>&nbsp;<span class="ident" id="7416484"><a href="/container/ring/ring_test.go.html#7416476">i</a></span>&nbsp;<span class="op" id="7416486">&lt;</span>&nbsp;<span class="num" id="7416488">10</span><span class="op" id="7416490">;</span>&nbsp;<span class="ident" id="7416492"><a href="/container/ring/ring_test.go.html#7416476">i</a></span><span class="op" id="7416493">++</span>&nbsp;<span class="op" id="7416496">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416500">r</span>&nbsp;<span class="op" id="7416502">:=</span>&nbsp;<span class="ident" id="7416505"><a href="/container/ring/ring_test.go.html#7416223">makeN</a></span><span class="op" id="7416510">(</span><span class="ident" id="7416511"><a href="/container/ring/ring_test.go.html#7416476">i</a></span><span class="op" id="7416512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416516"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416522">(</span><span class="ident" id="7416523"><a href="/container/ring/ring_test.go.html#7416389">t</a></span><span class="op" id="7416524">,</span>&nbsp;<span class="ident" id="7416526"><a href="/container/ring/ring_test.go.html#7416500">r</a></span><span class="op" id="7416527">,</span>&nbsp;<span class="ident" id="7416529"><a href="/container/ring/ring_test.go.html#7416476">i</a></span><span class="op" id="7416530">,</span>&nbsp;<span class="ident" id="7416532"><a href="/container/ring/ring_test.go.html#7416334">sumN</a></span><span class="op" id="7416536">(</span><span class="ident" id="7416537"><a href="/container/ring/ring_test.go.html#7416476">i</a></span><span class="op" id="7416538">)</span><span class="op" id="7416539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416542">}</span><br>
<span class="lineno"></span><span class="op" id="7416544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7416547">func</span>&nbsp;<span class="ident" id="7416552">TestLink1</span><span class="op" id="7416561">(</span><span class="ident" id="7416562">t</span>&nbsp;<span class="op" id="7416564">*</span><span class="ident" id="7416565"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7416572">.</span><span class="ident" id="7416573">T</span><span class="op" id="7416574">)</span>&nbsp;<span class="op" id="7416576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416579">r1a</span>&nbsp;<span class="op" id="7416583">:=</span>&nbsp;<span class="ident" id="7416586"><a href="/container/ring/ring_test.go.html#7416223">makeN</a></span><span class="op" id="7416591">(</span><span class="num" id="7416592">1</span><span class="op" id="7416593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416596">var</span>&nbsp;<span class="ident" id="7416600">r1b</span>&nbsp;<span class="ident" id="7416604"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416610">r2a</span>&nbsp;<span class="op" id="7416614">:=</span>&nbsp;<span class="ident" id="7416617"><a href="/container/ring/ring_test.go.html#7416579">r1a</a></span><span class="op" id="7416620">.</span><span class="ident" id="7416621">Link</span><span class="op" id="7416625">(</span><span class="op" id="7416626">&amp;</span><span class="ident" id="7416627"><a href="/container/ring/ring_test.go.html#7416600">r1b</a></span><span class="op" id="7416630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416633"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416639">(</span><span class="ident" id="7416640"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416641">,</span>&nbsp;<span class="ident" id="7416643"><a href="/container/ring/ring_test.go.html#7416610">r2a</a></span><span class="op" id="7416646">,</span>&nbsp;<span class="num" id="7416648">2</span><span class="op" id="7416649">,</span>&nbsp;<span class="num" id="7416651">1</span><span class="op" id="7416652">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416655">if</span>&nbsp;<span class="ident" id="7416658"><a href="/container/ring/ring_test.go.html#7416610">r2a</a></span>&nbsp;<span class="op" id="7416662">!=</span>&nbsp;<span class="ident" id="7416665"><a href="/container/ring/ring_test.go.html#7416579">r1a</a></span>&nbsp;<span class="op" id="7416669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416673"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416674">.</span><span class="ident" id="7416675">Errorf</span><span class="op" id="7416681">(</span><span class="string" id="7416682">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7416708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416715">r2b</span>&nbsp;<span class="op" id="7416719">:=</span>&nbsp;<span class="ident" id="7416722"><a href="/container/ring/ring_test.go.html#7416610">r2a</a></span><span class="op" id="7416725">.</span><span class="ident" id="7416726">Link</span><span class="op" id="7416730">(</span><span class="ident" id="7416731"><a href="/container/ring/ring_test.go.html#7416610">r2a</a></span><span class="op" id="7416734">.</span><span class="ident" id="7416735">Next</span><span class="op" id="7416739">(</span><span class="op" id="7416740">)</span><span class="op" id="7416741">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416744"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416750">(</span><span class="ident" id="7416751"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416752">,</span>&nbsp;<span class="ident" id="7416754"><a href="/container/ring/ring_test.go.html#7416715">r2b</a></span><span class="op" id="7416757">,</span>&nbsp;<span class="num" id="7416759">2</span><span class="op" id="7416760">,</span>&nbsp;<span class="num" id="7416762">1</span><span class="op" id="7416763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416766">if</span>&nbsp;<span class="ident" id="7416769"><a href="/container/ring/ring_test.go.html#7416715">r2b</a></span>&nbsp;<span class="op" id="7416773">!=</span>&nbsp;<span class="ident" id="7416776"><a href="/container/ring/ring_test.go.html#7416610">r2a</a></span><span class="op" id="7416779">.</span><span class="ident" id="7416780">Next</span><span class="op" id="7416784">(</span><span class="op" id="7416785">)</span>&nbsp;<span class="op" id="7416787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416791"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416792">.</span><span class="ident" id="7416793">Errorf</span><span class="op" id="7416799">(</span><span class="string" id="7416800">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7416826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416833">r1c</span>&nbsp;<span class="op" id="7416837">:=</span>&nbsp;<span class="ident" id="7416840"><a href="/container/ring/ring_test.go.html#7416715">r2b</a></span><span class="op" id="7416843">.</span><span class="ident" id="7416844">Link</span><span class="op" id="7416848">(</span><span class="ident" id="7416849"><a href="/container/ring/ring_test.go.html#7416715">r2b</a></span><span class="op" id="7416852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416855"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416861">(</span><span class="ident" id="7416862"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416863">,</span>&nbsp;<span class="ident" id="7416865"><a href="/container/ring/ring_test.go.html#7416833">r1c</a></span><span class="op" id="7416868">,</span>&nbsp;<span class="num" id="7416870">1</span><span class="op" id="7416871">,</span>&nbsp;<span class="num" id="7416873">1</span><span class="op" id="7416874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416877"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7416883">(</span><span class="ident" id="7416884"><a href="/container/ring/ring_test.go.html#7416562">t</a></span><span class="op" id="7416885">,</span>&nbsp;<span class="ident" id="7416887"><a href="/container/ring/ring_test.go.html#7416715">r2b</a></span><span class="op" id="7416890">,</span>&nbsp;<span class="num" id="7416892">1</span><span class="op" id="7416893">,</span>&nbsp;<span class="num" id="7416895">0</span><span class="op" id="7416896">)</span><br>
<span class="lineno"></span><span class="op" id="7416898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7416901">func</span>&nbsp;<span class="ident" id="7416906">TestLink2</span><span class="op" id="7416915">(</span><span class="ident" id="7416916">t</span>&nbsp;<span class="op" id="7416918">*</span><span class="ident" id="7416919"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7416926">.</span><span class="ident" id="7416927">T</span><span class="op" id="7416928">)</span>&nbsp;<span class="op" id="7416930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416933">var</span>&nbsp;<span class="ident" id="7416937">r0</span>&nbsp;<span class="op" id="7416940">*</span><span class="ident" id="7416941"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416947">r1a</span>&nbsp;<span class="op" id="7416951">:=</span>&nbsp;<span class="op" id="7416954">&amp;</span><span class="ident" id="7416955"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><span class="op" id="7416959">{</span><span class="ident" id="7416960">Value</span><span class="op" id="7416965">:</span>&nbsp;<span class="num" id="7416967">42</span><span class="op" id="7416969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416972">r1b</span>&nbsp;<span class="op" id="7416976">:=</span>&nbsp;<span class="op" id="7416979">&amp;</span><span class="ident" id="7416980"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><span class="op" id="7416984">{</span><span class="ident" id="7416985">Value</span><span class="op" id="7416990">:</span>&nbsp;<span class="num" id="7416992">77</span><span class="op" id="7416994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416997">r10</span>&nbsp;<span class="op" id="7417001">:=</span>&nbsp;<span class="ident" id="7417004"><a href="/container/ring/ring_test.go.html#7416223">makeN</a></span><span class="op" id="7417009">(</span><span class="num" id="7417010">10</span><span class="op" id="7417012">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417016"><a href="/container/ring/ring_test.go.html#7416947">r1a</a></span><span class="op" id="7417019">.</span><span class="ident" id="7417020">Link</span><span class="op" id="7417024">(</span><span class="ident" id="7417025"><a href="/container/ring/ring_test.go.html#7416937">r0</a></span><span class="op" id="7417027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417030"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417036">(</span><span class="ident" id="7417037"><a href="/container/ring/ring_test.go.html#7416916">t</a></span><span class="op" id="7417038">,</span>&nbsp;<span class="ident" id="7417040"><a href="/container/ring/ring_test.go.html#7416947">r1a</a></span><span class="op" id="7417043">,</span>&nbsp;<span class="num" id="7417045">1</span><span class="op" id="7417046">,</span>&nbsp;<span class="num" id="7417048">42</span><span class="op" id="7417050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417054"><a href="/container/ring/ring_test.go.html#7416947">r1a</a></span><span class="op" id="7417057">.</span><span class="ident" id="7417058">Link</span><span class="op" id="7417062">(</span><span class="ident" id="7417063"><a href="/container/ring/ring_test.go.html#7416972">r1b</a></span><span class="op" id="7417066">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417069"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417075">(</span><span class="ident" id="7417076"><a href="/container/ring/ring_test.go.html#7416916">t</a></span><span class="op" id="7417077">,</span>&nbsp;<span class="ident" id="7417079"><a href="/container/ring/ring_test.go.html#7416947">r1a</a></span><span class="op" id="7417082">,</span>&nbsp;<span class="num" id="7417084">2</span><span class="op" id="7417085">,</span>&nbsp;<span class="num" id="7417087">42</span><span class="op" id="7417089">+</span><span class="num" id="7417090">77</span><span class="op" id="7417092">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417096"><a href="/container/ring/ring_test.go.html#7416997">r10</a></span><span class="op" id="7417099">.</span><span class="ident" id="7417100">Link</span><span class="op" id="7417104">(</span><span class="ident" id="7417105"><a href="/container/ring/ring_test.go.html#7416937">r0</a></span><span class="op" id="7417107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417110"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417116">(</span><span class="ident" id="7417117"><a href="/container/ring/ring_test.go.html#7416916">t</a></span><span class="op" id="7417118">,</span>&nbsp;<span class="ident" id="7417120"><a href="/container/ring/ring_test.go.html#7416997">r10</a></span><span class="op" id="7417123">,</span>&nbsp;<span class="num" id="7417125">10</span><span class="op" id="7417127">,</span>&nbsp;<span class="ident" id="7417129"><a href="/container/ring/ring_test.go.html#7416334">sumN</a></span><span class="op" id="7417133">(</span><span class="num" id="7417134">10</span><span class="op" id="7417136">)</span><span class="op" id="7417137">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417141"><a href="/container/ring/ring_test.go.html#7416997">r10</a></span><span class="op" id="7417144">.</span><span class="ident" id="7417145">Link</span><span class="op" id="7417149">(</span><span class="ident" id="7417150"><a href="/container/ring/ring_test.go.html#7416947">r1a</a></span><span class="op" id="7417153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417156"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417162">(</span><span class="ident" id="7417163"><a href="/container/ring/ring_test.go.html#7416916">t</a></span><span class="op" id="7417164">,</span>&nbsp;<span class="ident" id="7417166"><a href="/container/ring/ring_test.go.html#7416997">r10</a></span><span class="op" id="7417169">,</span>&nbsp;<span class="num" id="7417171">12</span><span class="op" id="7417173">,</span>&nbsp;<span class="ident" id="7417175"><a href="/container/ring/ring_test.go.html#7416334">sumN</a></span><span class="op" id="7417179">(</span><span class="num" id="7417180">10</span><span class="op" id="7417182">)</span><span class="op" id="7417183">+</span><span class="num" id="7417184">42</span><span class="op" id="7417186">+</span><span class="num" id="7417187">77</span><span class="op" id="7417189">)</span><br>
<span class="lineno"></span><span class="op" id="7417191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417194">func</span>&nbsp;<span class="ident" id="7417199">TestLink3</span><span class="op" id="7417208">(</span><span class="ident" id="7417209">t</span>&nbsp;<span class="op" id="7417211">*</span><span class="ident" id="7417212"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7417219">.</span><span class="ident" id="7417220">T</span><span class="op" id="7417221">)</span>&nbsp;<span class="op" id="7417223">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417226">var</span>&nbsp;<span class="ident" id="7417230">r</span>&nbsp;<span class="ident" id="7417232"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417238">n</span>&nbsp;<span class="op" id="7417240">:=</span>&nbsp;<span class="num" id="7417243">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417246">for</span>&nbsp;<span class="ident" id="7417250">i</span>&nbsp;<span class="op" id="7417252">:=</span>&nbsp;<span class="num" id="7417255">1</span><span class="op" id="7417256">;</span>&nbsp;<span class="ident" id="7417258"><a href="/container/ring/ring_test.go.html#7417250">i</a></span>&nbsp;<span class="op" id="7417260">&lt;</span>&nbsp;<span class="num" id="7417262">100</span><span class="op" id="7417265">;</span>&nbsp;<span class="ident" id="7417267"><a href="/container/ring/ring_test.go.html#7417250">i</a></span><span class="op" id="7417268">++</span>&nbsp;<span class="op" id="7417271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417275"><a href="/container/ring/ring_test.go.html#7417238">n</a></span>&nbsp;<span class="op" id="7417277">+=</span>&nbsp;<span class="ident" id="7417280"><a href="/container/ring/ring_test.go.html#7417250">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417284"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417290">(</span><span class="ident" id="7417291"><a href="/container/ring/ring_test.go.html#7417209">t</a></span><span class="op" id="7417292">,</span>&nbsp;<span class="ident" id="7417294"><a href="/container/ring/ring_test.go.html#7417230">r</a></span><span class="op" id="7417295">.</span><span class="ident" id="7417296">Link</span><span class="op" id="7417300">(</span><span class="ident" id="7417301"><a href="/container/ring/ring.go.html#6395897">New</a></span><span class="op" id="7417304">(</span><span class="ident" id="7417305"><a href="/container/ring/ring_test.go.html#7417250">i</a></span><span class="op" id="7417306">)</span><span class="op" id="7417307">)</span><span class="op" id="7417308">,</span>&nbsp;<span class="ident" id="7417310"><a href="/container/ring/ring_test.go.html#7417238">n</a></span><span class="op" id="7417311">,</span>&nbsp;<span class="op" id="7417313">-</span><span class="num" id="7417314">1</span><span class="op" id="7417315">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417318">}</span><br>
<span class="lineno"></span><span class="op" id="7417320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417323">func</span>&nbsp;<span class="ident" id="7417328">TestUnlink</span><span class="op" id="7417338">(</span><span class="ident" id="7417339">t</span>&nbsp;<span class="op" id="7417341">*</span><span class="ident" id="7417342"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7417349">.</span><span class="ident" id="7417350">T</span><span class="op" id="7417351">)</span>&nbsp;<span class="op" id="7417353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417356">r10</span>&nbsp;<span class="op" id="7417360">:=</span>&nbsp;<span class="ident" id="7417363"><a href="/container/ring/ring_test.go.html#7416223">makeN</a></span><span class="op" id="7417368">(</span><span class="num" id="7417369">10</span><span class="op" id="7417371">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417374">s10</span>&nbsp;<span class="op" id="7417378">:=</span>&nbsp;<span class="ident" id="7417381"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417384">.</span><span class="ident" id="7417385">Move</span><span class="op" id="7417389">(</span><span class="num" id="7417390">6</span><span class="op" id="7417391">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417395">sum10</span>&nbsp;<span class="op" id="7417401">:=</span>&nbsp;<span class="ident" id="7417404"><a href="/container/ring/ring_test.go.html#7416334">sumN</a></span><span class="op" id="7417408">(</span><span class="num" id="7417409">10</span><span class="op" id="7417411">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417415"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417421">(</span><span class="ident" id="7417422"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417423">,</span>&nbsp;<span class="ident" id="7417425"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417428">,</span>&nbsp;<span class="num" id="7417430">10</span><span class="op" id="7417432">,</span>&nbsp;<span class="ident" id="7417434"><a href="/container/ring/ring_test.go.html#7417395">sum10</a></span><span class="op" id="7417439">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417442"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417448">(</span><span class="ident" id="7417449"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417450">,</span>&nbsp;<span class="ident" id="7417452"><a href="/container/ring/ring_test.go.html#7417374">s10</a></span><span class="op" id="7417455">,</span>&nbsp;<span class="num" id="7417457">10</span><span class="op" id="7417459">,</span>&nbsp;<span class="ident" id="7417461"><a href="/container/ring/ring_test.go.html#7417395">sum10</a></span><span class="op" id="7417466">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417470">r0</span>&nbsp;<span class="op" id="7417473">:=</span>&nbsp;<span class="ident" id="7417476"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417479">.</span><span class="ident" id="7417480">Unlink</span><span class="op" id="7417486">(</span><span class="num" id="7417487">0</span><span class="op" id="7417488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417491"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417497">(</span><span class="ident" id="7417498"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417499">,</span>&nbsp;<span class="ident" id="7417501"><a href="/container/ring/ring_test.go.html#7417470">r0</a></span><span class="op" id="7417503">,</span>&nbsp;<span class="num" id="7417505">0</span><span class="op" id="7417506">,</span>&nbsp;<span class="num" id="7417508">0</span><span class="op" id="7417509">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417513">r1</span>&nbsp;<span class="op" id="7417516">:=</span>&nbsp;<span class="ident" id="7417519"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417522">.</span><span class="ident" id="7417523">Unlink</span><span class="op" id="7417529">(</span><span class="num" id="7417530">1</span><span class="op" id="7417531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417534"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417540">(</span><span class="ident" id="7417541"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417542">,</span>&nbsp;<span class="ident" id="7417544"><a href="/container/ring/ring_test.go.html#7417513">r1</a></span><span class="op" id="7417546">,</span>&nbsp;<span class="num" id="7417548">1</span><span class="op" id="7417549">,</span>&nbsp;<span class="num" id="7417551">2</span><span class="op" id="7417552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417555"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417561">(</span><span class="ident" id="7417562"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417563">,</span>&nbsp;<span class="ident" id="7417565"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417568">,</span>&nbsp;<span class="num" id="7417570">9</span><span class="op" id="7417571">,</span>&nbsp;<span class="ident" id="7417573"><a href="/container/ring/ring_test.go.html#7417395">sum10</a></span><span class="op" id="7417578">-</span><span class="num" id="7417579">2</span><span class="op" id="7417580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417584">r9</span>&nbsp;<span class="op" id="7417587">:=</span>&nbsp;<span class="ident" id="7417590"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417593">.</span><span class="ident" id="7417594">Unlink</span><span class="op" id="7417600">(</span><span class="num" id="7417601">9</span><span class="op" id="7417602">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417605"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417611">(</span><span class="ident" id="7417612"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417613">,</span>&nbsp;<span class="ident" id="7417615"><a href="/container/ring/ring_test.go.html#7417584">r9</a></span><span class="op" id="7417617">,</span>&nbsp;<span class="num" id="7417619">9</span><span class="op" id="7417620">,</span>&nbsp;<span class="ident" id="7417622"><a href="/container/ring/ring_test.go.html#7417395">sum10</a></span><span class="op" id="7417627">-</span><span class="num" id="7417628">2</span><span class="op" id="7417629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417632"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417638">(</span><span class="ident" id="7417639"><a href="/container/ring/ring_test.go.html#7417339">t</a></span><span class="op" id="7417640">,</span>&nbsp;<span class="ident" id="7417642"><a href="/container/ring/ring_test.go.html#7417356">r10</a></span><span class="op" id="7417645">,</span>&nbsp;<span class="num" id="7417647">9</span><span class="op" id="7417648">,</span>&nbsp;<span class="ident" id="7417650"><a href="/container/ring/ring_test.go.html#7417395">sum10</a></span><span class="op" id="7417655">-</span><span class="num" id="7417656">2</span><span class="op" id="7417657">)</span><br>
<span class="lineno"></span><span class="op" id="7417659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417662">func</span>&nbsp;<span class="ident" id="7417667">TestLinkUnlink</span><span class="op" id="7417681">(</span><span class="ident" id="7417682">t</span>&nbsp;<span class="op" id="7417684">*</span><span class="ident" id="7417685"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7417692">.</span><span class="ident" id="7417693">T</span><span class="op" id="7417694">)</span>&nbsp;<span class="op" id="7417696">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417699">for</span>&nbsp;<span class="ident" id="7417703">i</span>&nbsp;<span class="op" id="7417705">:=</span>&nbsp;<span class="num" id="7417708">1</span><span class="op" id="7417709">;</span>&nbsp;<span class="ident" id="7417711"><a href="/container/ring/ring_test.go.html#7417703">i</a></span>&nbsp;<span class="op" id="7417713">&lt;</span>&nbsp;<span class="num" id="7417715">4</span><span class="op" id="7417716">;</span>&nbsp;<span class="ident" id="7417718"><a href="/container/ring/ring_test.go.html#7417703">i</a></span><span class="op" id="7417719">++</span>&nbsp;<span class="op" id="7417722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417726">ri</span>&nbsp;<span class="op" id="7417729">:=</span>&nbsp;<span class="ident" id="7417732"><a href="/container/ring/ring.go.html#6395897">New</a></span><span class="op" id="7417735">(</span><span class="ident" id="7417736"><a href="/container/ring/ring_test.go.html#7417703">i</a></span><span class="op" id="7417737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417741">for</span>&nbsp;<span class="ident" id="7417745">j</span>&nbsp;<span class="op" id="7417747">:=</span>&nbsp;<span class="num" id="7417750">0</span><span class="op" id="7417751">;</span>&nbsp;<span class="ident" id="7417753"><a href="/container/ring/ring_test.go.html#7417745">j</a></span>&nbsp;<span class="op" id="7417755">&lt;</span>&nbsp;<span class="ident" id="7417757"><a href="/container/ring/ring_test.go.html#7417703">i</a></span><span class="op" id="7417758">;</span>&nbsp;<span class="ident" id="7417760"><a href="/container/ring/ring_test.go.html#7417745">j</a></span><span class="op" id="7417761">++</span>&nbsp;<span class="op" id="7417764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417769">rj</span>&nbsp;<span class="op" id="7417772">:=</span>&nbsp;<span class="ident" id="7417775"><a href="/container/ring/ring_test.go.html#7417726">ri</a></span><span class="op" id="7417777">.</span><span class="ident" id="7417778">Unlink</span><span class="op" id="7417784">(</span><span class="ident" id="7417785"><a href="/container/ring/ring_test.go.html#7417745">j</a></span><span class="op" id="7417786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417791"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417797">(</span><span class="ident" id="7417798"><a href="/container/ring/ring_test.go.html#7417682">t</a></span><span class="op" id="7417799">,</span>&nbsp;<span class="ident" id="7417801"><a href="/container/ring/ring_test.go.html#7417769">rj</a></span><span class="op" id="7417803">,</span>&nbsp;<span class="ident" id="7417805"><a href="/container/ring/ring_test.go.html#7417745">j</a></span><span class="op" id="7417806">,</span>&nbsp;<span class="op" id="7417808">-</span><span class="num" id="7417809">1</span><span class="op" id="7417810">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417815"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417821">(</span><span class="ident" id="7417822"><a href="/container/ring/ring_test.go.html#7417682">t</a></span><span class="op" id="7417823">,</span>&nbsp;<span class="ident" id="7417825"><a href="/container/ring/ring_test.go.html#7417726">ri</a></span><span class="op" id="7417827">,</span>&nbsp;<span class="ident" id="7417829"><a href="/container/ring/ring_test.go.html#7417703">i</a></span><span class="op" id="7417830">-</span><span class="ident" id="7417831"><a href="/container/ring/ring_test.go.html#7417745">j</a></span><span class="op" id="7417832">,</span>&nbsp;<span class="op" id="7417834">-</span><span class="num" id="7417835">1</span><span class="op" id="7417836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417841"><a href="/container/ring/ring_test.go.html#7417726">ri</a></span><span class="op" id="7417843">.</span><span class="ident" id="7417844">Link</span><span class="op" id="7417848">(</span><span class="ident" id="7417849"><a href="/container/ring/ring_test.go.html#7417769">rj</a></span><span class="op" id="7417851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417856"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7417862">(</span><span class="ident" id="7417863"><a href="/container/ring/ring_test.go.html#7417682">t</a></span><span class="op" id="7417864">,</span>&nbsp;<span class="ident" id="7417866"><a href="/container/ring/ring_test.go.html#7417726">ri</a></span><span class="op" id="7417868">,</span>&nbsp;<span class="ident" id="7417870"><a href="/container/ring/ring_test.go.html#7417703">i</a></span><span class="op" id="7417871">,</span>&nbsp;<span class="op" id="7417873">-</span><span class="num" id="7417874">1</span><span class="op" id="7417875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417882">}</span><br>
<span class="lineno">220</span><span class="op" id="7417884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7417887">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7417948">func</span>&nbsp;<span class="ident" id="7417953">TestMoveEmptyRing</span><span class="op" id="7417970">(</span><span class="ident" id="7417971">t</span>&nbsp;<span class="op" id="7417973">*</span><span class="ident" id="7417974"><a href="/container/ring/ring_test.go.html#7414343">testing</a></span><span class="op" id="7417981">.</span><span class="ident" id="7417982">T</span><span class="op" id="7417983">)</span>&nbsp;<span class="op" id="7417985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417988">var</span>&nbsp;<span class="ident" id="7417992">r</span>&nbsp;<span class="ident" id="7417994"><a href="/container/ring/ring.go.html#6395031">Ring</a></span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418001"><a href="/container/ring/ring_test.go.html#7417992">r</a></span><span class="op" id="7418002">.</span><span class="ident" id="7418003">Move</span><span class="op" id="7418007">(</span><span class="num" id="7418008">1</span><span class="op" id="7418009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418012"><a href="/container/ring/ring_test.go.html#7414610">verify</a></span><span class="op" id="7418018">(</span><span class="ident" id="7418019"><a href="/container/ring/ring_test.go.html#7417971">t</a></span><span class="op" id="7418020">,</span>&nbsp;<span class="op" id="7418022">&amp;</span><span class="ident" id="7418023"><a href="/container/ring/ring_test.go.html#7417992">r</a></span><span class="op" id="7418024">,</span>&nbsp;<span class="num" id="7418026">1</span><span class="op" id="7418027">,</span>&nbsp;<span class="num" id="7418029">0</span><span class="op" id="7418030">)</span><br>
<span class="lineno"></span><span class="op" id="7418032">}</span>
</div>
</body>
</html>
