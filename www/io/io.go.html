<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2398603">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2398658">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2398712">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2398763">//&nbsp;Package&nbsp;io&nbsp;provides&nbsp;basic&nbsp;interfaces&nbsp;to&nbsp;I/O&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="2398822">//&nbsp;Its&nbsp;primary&nbsp;job&nbsp;is&nbsp;to&nbsp;wrap&nbsp;existing&nbsp;implementations&nbsp;of&nbsp;such&nbsp;primitives,</span><br>
<span class="lineno"></span><span class="comment" id="2398897">//&nbsp;such&nbsp;as&nbsp;those&nbsp;in&nbsp;package&nbsp;os,&nbsp;into&nbsp;shared&nbsp;public&nbsp;interfaces&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2398964">//&nbsp;abstract&nbsp;the&nbsp;functionality,&nbsp;plus&nbsp;some&nbsp;other&nbsp;related&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="2399031">//</span><br>
<span class="lineno">10</span><span class="comment" id="2399034">//&nbsp;Because&nbsp;these&nbsp;interfaces&nbsp;and&nbsp;primitives&nbsp;wrap&nbsp;lower-level&nbsp;operations&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="2399110">//&nbsp;various&nbsp;implementations,&nbsp;unless&nbsp;otherwise&nbsp;informed&nbsp;clients&nbsp;should&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="2399183">//&nbsp;assume&nbsp;they&nbsp;are&nbsp;safe&nbsp;for&nbsp;parallel&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="2399231">package</span>&nbsp;<span class="ident" id="2399239">io</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="2399243">import</span>&nbsp;<span class="op" id="2399250">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2399253">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="2399262">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2399265">//&nbsp;ErrShortWrite&nbsp;means&nbsp;that&nbsp;a&nbsp;write&nbsp;accepted&nbsp;fewer&nbsp;bytes&nbsp;than&nbsp;requested</span><br>
<span class="lineno">20</span><span class="comment" id="2399337">//&nbsp;but&nbsp;failed&nbsp;to&nbsp;return&nbsp;an&nbsp;explicit&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2399380">var</span>&nbsp;<span class="ident" id="2399384">ErrShortWrite</span>&nbsp;<span class="op" id="2399398">=</span>&nbsp;<span class="ident" id="2399400"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2399406">.</span><span class="ident" id="2399407">New</span><span class="op" id="2399410">(</span><span class="string" id="2399411">&#34;short&nbsp;write&#34;</span><span class="op" id="2399424">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2399427">//&nbsp;ErrShortBuffer&nbsp;means&nbsp;that&nbsp;a&nbsp;read&nbsp;required&nbsp;a&nbsp;longer&nbsp;buffer&nbsp;than&nbsp;was&nbsp;provided.</span><br>
<span class="lineno"></span><span class="keyword" id="2399507">var</span>&nbsp;<span class="ident" id="2399511">ErrShortBuffer</span>&nbsp;<span class="op" id="2399526">=</span>&nbsp;<span class="ident" id="2399528"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2399534">.</span><span class="ident" id="2399535">New</span><span class="op" id="2399538">(</span><span class="string" id="2399539">&#34;short&nbsp;buffer&#34;</span><span class="op" id="2399553">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="2399556">//&nbsp;EOF&nbsp;is&nbsp;the&nbsp;error&nbsp;returned&nbsp;by&nbsp;Read&nbsp;when&nbsp;no&nbsp;more&nbsp;input&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="comment" id="2399626">//&nbsp;Functions&nbsp;should&nbsp;return&nbsp;EOF&nbsp;only&nbsp;to&nbsp;signal&nbsp;a&nbsp;graceful&nbsp;end&nbsp;of&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="2399697">//&nbsp;If&nbsp;the&nbsp;EOF&nbsp;occurs&nbsp;unexpectedly&nbsp;in&nbsp;a&nbsp;structured&nbsp;data&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="2399760">//&nbsp;the&nbsp;appropriate&nbsp;error&nbsp;is&nbsp;either&nbsp;ErrUnexpectedEOF&nbsp;or&nbsp;some&nbsp;other&nbsp;error</span><br>
<span class="lineno">30</span><span class="comment" id="2399832">//&nbsp;giving&nbsp;more&nbsp;detail.</span><br>
<span class="lineno"></span><span class="keyword" id="2399855">var</span>&nbsp;<span class="ident" id="2399859">EOF</span>&nbsp;<span class="op" id="2399863">=</span>&nbsp;<span class="ident" id="2399865"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2399871">.</span><span class="ident" id="2399872">New</span><span class="op" id="2399875">(</span><span class="string" id="2399876">&#34;EOF&#34;</span><span class="op" id="2399881">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2399884">//&nbsp;ErrUnexpectedEOF&nbsp;means&nbsp;that&nbsp;EOF&nbsp;was&nbsp;encountered&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2399942">//&nbsp;middle&nbsp;of&nbsp;reading&nbsp;a&nbsp;fixed-size&nbsp;block&nbsp;or&nbsp;data&nbsp;structure.</span><br>
<span class="lineno">35</span><span class="keyword" id="2400001">var</span>&nbsp;<span class="ident" id="2400005">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="2400022">=</span>&nbsp;<span class="ident" id="2400024"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2400030">.</span><span class="ident" id="2400031">New</span><span class="op" id="2400034">(</span><span class="string" id="2400035">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="2400051">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400054">//&nbsp;ErrNoProgress&nbsp;is&nbsp;returned&nbsp;by&nbsp;some&nbsp;clients&nbsp;of&nbsp;an&nbsp;io.Reader&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="2400120">//&nbsp;many&nbsp;calls&nbsp;to&nbsp;Read&nbsp;have&nbsp;failed&nbsp;to&nbsp;return&nbsp;any&nbsp;data&nbsp;or&nbsp;error,</span><br>
<span class="lineno"></span><span class="comment" id="2400183">//&nbsp;usually&nbsp;the&nbsp;sign&nbsp;of&nbsp;a&nbsp;broken&nbsp;io.Reader&nbsp;implementation.</span><br>
<span class="lineno">40</span><span class="keyword" id="2400241">var</span>&nbsp;<span class="ident" id="2400245">ErrNoProgress</span>&nbsp;<span class="op" id="2400259">=</span>&nbsp;<span class="ident" id="2400261"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2400267">.</span><span class="ident" id="2400268">New</span><span class="op" id="2400271">(</span><span class="string" id="2400272">&#34;multiple&nbsp;Read&nbsp;calls&nbsp;return&nbsp;no&nbsp;data&nbsp;or&nbsp;error&#34;</span><span class="op" id="2400317">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400320">//&nbsp;Reader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2400381">//</span><br>
<span class="lineno"></span><span class="comment" id="2400384">//&nbsp;Read&nbsp;reads&nbsp;up&nbsp;to&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">45</span><span class="comment" id="2400457">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.&nbsp;&nbsp;Even&nbsp;if&nbsp;Read</span><br>
<span class="lineno"></span><span class="comment" id="2400525">//&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch&nbsp;space&nbsp;during&nbsp;the&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="2400602">//&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,&nbsp;Read&nbsp;conventionally</span><br>
<span class="lineno"></span><span class="comment" id="2400673">//&nbsp;returns&nbsp;what&nbsp;is&nbsp;available&nbsp;instead&nbsp;of&nbsp;waiting&nbsp;for&nbsp;more.</span><br>
<span class="lineno"></span><span class="comment" id="2400731">//</span><br>
<span class="lineno">50</span><span class="comment" id="2400734">//&nbsp;When&nbsp;Read&nbsp;encounters&nbsp;an&nbsp;error&nbsp;or&nbsp;end-of-file&nbsp;condition&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="2400798">//&nbsp;successfully&nbsp;reading&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2400860">//&nbsp;bytes&nbsp;read.&nbsp;&nbsp;It&nbsp;may&nbsp;return&nbsp;the&nbsp;(non-nil)&nbsp;error&nbsp;from&nbsp;the&nbsp;same&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="2400929">//&nbsp;or&nbsp;return&nbsp;the&nbsp;error&nbsp;(and&nbsp;n&nbsp;==&nbsp;0)&nbsp;from&nbsp;a&nbsp;subsequent&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="2400989">//&nbsp;An&nbsp;instance&nbsp;of&nbsp;this&nbsp;general&nbsp;case&nbsp;is&nbsp;that&nbsp;a&nbsp;Reader&nbsp;returning</span><br>
<span class="lineno">55</span><span class="comment" id="2401052">//&nbsp;a&nbsp;non-zero&nbsp;number&nbsp;of&nbsp;bytes&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="2401117">//&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.&nbsp;&nbsp;The&nbsp;next&nbsp;Read&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="2401182">//&nbsp;return&nbsp;0,&nbsp;EOF&nbsp;regardless.</span><br>
<span class="lineno"></span><span class="comment" id="2401211">//</span><br>
<span class="lineno"></span><span class="comment" id="2401214">//&nbsp;Callers&nbsp;should&nbsp;always&nbsp;process&nbsp;the&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes&nbsp;returned&nbsp;before</span><br>
<span class="lineno">60</span><span class="comment" id="2401279">//&nbsp;considering&nbsp;the&nbsp;error&nbsp;err.&nbsp;&nbsp;Doing&nbsp;so&nbsp;correctly&nbsp;handles&nbsp;I/O&nbsp;errors</span><br>
<span class="lineno"></span><span class="comment" id="2401348">//&nbsp;that&nbsp;happen&nbsp;after&nbsp;reading&nbsp;some&nbsp;bytes&nbsp;and&nbsp;also&nbsp;both&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2401409">//&nbsp;allowed&nbsp;EOF&nbsp;behaviors.</span><br>
<span class="lineno"></span><span class="comment" id="2401435">//</span><br>
<span class="lineno"></span><span class="comment" id="2401438">//&nbsp;Implementations&nbsp;of&nbsp;Read&nbsp;are&nbsp;discouraged&nbsp;from&nbsp;returning&nbsp;a</span><br>
<span class="lineno">65</span><span class="comment" id="2401498">//&nbsp;zero&nbsp;byte&nbsp;count&nbsp;with&nbsp;a&nbsp;nil&nbsp;error,&nbsp;except&nbsp;when&nbsp;len(p)&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="2401560">//&nbsp;Callers&nbsp;should&nbsp;treat&nbsp;a&nbsp;return&nbsp;of&nbsp;0&nbsp;and&nbsp;nil&nbsp;as&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2401625">//&nbsp;nothing&nbsp;happened;&nbsp;in&nbsp;particular&nbsp;it&nbsp;does&nbsp;not&nbsp;indicate&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2401686">//</span><br>
<span class="lineno"></span><span class="comment" id="2401689">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno">70</span><span class="keyword" id="2401727">type</span>&nbsp;<span class="ident" id="2401732">Reader</span>&nbsp;<span class="keyword" id="2401739">interface</span>&nbsp;<span class="op" id="2401749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401752">Read</span><span class="op" id="2401756">(</span><span class="ident" id="2401757">p</span>&nbsp;<span class="op" id="2401759">[</span><span class="op" id="2401760">]</span><span class="builtintype" id="2401761">byte</span><span class="op" id="2401765">)</span>&nbsp;<span class="op" id="2401767">(</span><span class="ident" id="2401768">n</span>&nbsp;<span class="builtintype" id="2401770">int</span><span class="op" id="2401773">,</span>&nbsp;<span class="ident" id="2401775">err</span>&nbsp;<span class="builtintype" id="2401779">error</span><span class="op" id="2401784">)</span><br>
<span class="lineno"></span><span class="op" id="2401786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401789">//&nbsp;Writer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">75</span><span class="comment" id="2401851">//</span><br>
<span class="lineno"></span><span class="comment" id="2401854">//&nbsp;Write&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="2401921">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno"></span><span class="comment" id="2401989">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="2402055">//&nbsp;Write&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno">80</span><span class="comment" id="2402118">//&nbsp;Write&nbsp;must&nbsp;not&nbsp;modify&nbsp;the&nbsp;slice&nbsp;data,&nbsp;even&nbsp;temporarily.</span><br>
<span class="lineno"></span><span class="comment" id="2402177">//</span><br>
<span class="lineno"></span><span class="comment" id="2402180">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="2402218">type</span>&nbsp;<span class="ident" id="2402223">Writer</span>&nbsp;<span class="keyword" id="2402230">interface</span>&nbsp;<span class="op" id="2402240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402243">Write</span><span class="op" id="2402248">(</span><span class="ident" id="2402249">p</span>&nbsp;<span class="op" id="2402251">[</span><span class="op" id="2402252">]</span><span class="builtintype" id="2402253">byte</span><span class="op" id="2402257">)</span>&nbsp;<span class="op" id="2402259">(</span><span class="ident" id="2402260">n</span>&nbsp;<span class="builtintype" id="2402262">int</span><span class="op" id="2402265">,</span>&nbsp;<span class="ident" id="2402267">err</span>&nbsp;<span class="builtintype" id="2402271">error</span><span class="op" id="2402276">)</span><br>
<span class="lineno">85</span><span class="op" id="2402278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2402281">//&nbsp;Closer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Close&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2402343">//</span><br>
<span class="lineno"></span><span class="comment" id="2402346">//&nbsp;The&nbsp;behavior&nbsp;of&nbsp;Close&nbsp;after&nbsp;the&nbsp;first&nbsp;call&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">90</span><span class="comment" id="2402406">//&nbsp;Specific&nbsp;implementations&nbsp;may&nbsp;document&nbsp;their&nbsp;own&nbsp;behavior.</span><br>
<span class="lineno"></span><span class="keyword" id="2402467">type</span>&nbsp;<span class="ident" id="2402472">Closer</span>&nbsp;<span class="keyword" id="2402479">interface</span>&nbsp;<span class="op" id="2402489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402492">Close</span><span class="op" id="2402497">(</span><span class="op" id="2402498">)</span>&nbsp;<span class="builtintype" id="2402500">error</span><br>
<span class="lineno"></span><span class="op" id="2402506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="2402509">//&nbsp;Seeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Seek&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2402570">//</span><br>
<span class="lineno"></span><span class="comment" id="2402573">//&nbsp;Seek&nbsp;sets&nbsp;the&nbsp;offset&nbsp;for&nbsp;the&nbsp;next&nbsp;Read&nbsp;or&nbsp;Write&nbsp;to&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="2402635">//&nbsp;interpreted&nbsp;according&nbsp;to&nbsp;whence:&nbsp;0&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2402705">//&nbsp;the&nbsp;file,&nbsp;1&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset,&nbsp;and&nbsp;2&nbsp;means</span><br>
<span class="lineno">100</span><span class="comment" id="2402770">//&nbsp;relative&nbsp;to&nbsp;the&nbsp;end.&nbsp;&nbsp;Seek&nbsp;returns&nbsp;the&nbsp;new&nbsp;offset&nbsp;and&nbsp;an&nbsp;error,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2402840">//&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2402848">//</span><br>
<span class="lineno"></span><span class="comment" id="2402851">//&nbsp;Seeking&nbsp;to&nbsp;a&nbsp;negative&nbsp;offset&nbsp;is&nbsp;an&nbsp;error.&nbsp;Seeking&nbsp;to&nbsp;any&nbsp;positive</span><br>
<span class="lineno"></span><span class="comment" id="2402920">//&nbsp;offset&nbsp;is&nbsp;legal,&nbsp;but&nbsp;the&nbsp;behavior&nbsp;of&nbsp;subsequent&nbsp;I/O&nbsp;operations&nbsp;on</span><br>
<span class="lineno">105</span><span class="comment" id="2402989">//&nbsp;the&nbsp;underlying&nbsp;object&nbsp;is&nbsp;implementation-dependent.</span><br>
<span class="lineno"></span><span class="keyword" id="2403043">type</span>&nbsp;<span class="ident" id="2403048">Seeker</span>&nbsp;<span class="keyword" id="2403055">interface</span>&nbsp;<span class="op" id="2403065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403068">Seek</span><span class="op" id="2403072">(</span><span class="ident" id="2403073">offset</span>&nbsp;<span class="ident" id="2403080">int64</span><span class="op" id="2403085">,</span>&nbsp;<span class="ident" id="2403087">whence</span>&nbsp;<span class="builtintype" id="2403094">int</span><span class="op" id="2403097">)</span>&nbsp;<span class="op" id="2403099">(</span><span class="ident" id="2403100">int64</span><span class="op" id="2403105">,</span>&nbsp;<span class="builtintype" id="2403107">error</span><span class="op" id="2403112">)</span><br>
<span class="lineno"></span><span class="op" id="2403114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="2403117">//&nbsp;ReadWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Write&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403194">type</span>&nbsp;<span class="ident" id="2403199">ReadWriter</span>&nbsp;<span class="keyword" id="2403210">interface</span>&nbsp;<span class="op" id="2403220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403223"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403231"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="2403238">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="2403241">//&nbsp;ReadCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403318">type</span>&nbsp;<span class="ident" id="2403323">ReadCloser</span>&nbsp;<span class="keyword" id="2403334">interface</span>&nbsp;<span class="op" id="2403344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403347"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403355"><a href="/io/io.go.html#2402472">Closer</a></span><br>
<span class="lineno">120</span><span class="op" id="2403362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2403365">//&nbsp;WriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403444">type</span>&nbsp;<span class="ident" id="2403449">WriteCloser</span>&nbsp;<span class="keyword" id="2403461">interface</span>&nbsp;<span class="op" id="2403471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403474"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403482"><a href="/io/io.go.html#2402472">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="2403489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2403492">//&nbsp;ReadWriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403581">type</span>&nbsp;<span class="ident" id="2403586">ReadWriteCloser</span>&nbsp;<span class="keyword" id="2403602">interface</span>&nbsp;<span class="op" id="2403612">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403615"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403623"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403631"><a href="/io/io.go.html#2402472">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="2403638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="2403641">//&nbsp;ReadSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403717">type</span>&nbsp;<span class="ident" id="2403722">ReadSeeker</span>&nbsp;<span class="keyword" id="2403733">interface</span>&nbsp;<span class="op" id="2403743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403746"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403754"><a href="/io/io.go.html#2403048">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="2403761">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="2403764">//&nbsp;WriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403842">type</span>&nbsp;<span class="ident" id="2403847">WriteSeeker</span>&nbsp;<span class="keyword" id="2403859">interface</span>&nbsp;<span class="op" id="2403869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403872"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403880"><a href="/io/io.go.html#2403048">Seeker</a></span><br>
<span class="lineno">145</span><span class="op" id="2403887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2403890">//&nbsp;ReadWriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2403978">type</span>&nbsp;<span class="ident" id="2403983">ReadWriteSeeker</span>&nbsp;<span class="keyword" id="2403999">interface</span>&nbsp;<span class="op" id="2404009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404012"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404020"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404028"><a href="/io/io.go.html#2403048">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="2404035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2404038">//&nbsp;ReaderFrom&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadFrom&nbsp;method.</span><br>
<span class="lineno">155</span><span class="comment" id="2404101">//</span><br>
<span class="lineno"></span><span class="comment" id="2404104">//&nbsp;ReadFrom&nbsp;reads&nbsp;data&nbsp;from&nbsp;r&nbsp;until&nbsp;EOF&nbsp;or&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="2404154">//&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="2404205">//&nbsp;Any&nbsp;error&nbsp;except&nbsp;io.EOF&nbsp;encountered&nbsp;during&nbsp;the&nbsp;read&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno"></span><span class="comment" id="2404278">//</span><br>
<span class="lineno">160</span><span class="comment" id="2404281">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;ReaderFrom&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="2404332">type</span>&nbsp;<span class="ident" id="2404337">ReaderFrom</span>&nbsp;<span class="keyword" id="2404348">interface</span>&nbsp;<span class="op" id="2404358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404361">ReadFrom</span><span class="op" id="2404369">(</span><span class="ident" id="2404370">r</span>&nbsp;<span class="ident" id="2404372"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2404378">)</span>&nbsp;<span class="op" id="2404380">(</span><span class="ident" id="2404381">n</span>&nbsp;<span class="ident" id="2404383">int64</span><span class="op" id="2404388">,</span>&nbsp;<span class="ident" id="2404390">err</span>&nbsp;<span class="builtintype" id="2404394">error</span><span class="op" id="2404399">)</span><br>
<span class="lineno"></span><span class="op" id="2404401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="2404404">//&nbsp;WriterTo&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteTo&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2404464">//</span><br>
<span class="lineno"></span><span class="comment" id="2404467">//&nbsp;WriteTo&nbsp;writes&nbsp;data&nbsp;to&nbsp;w&nbsp;until&nbsp;there&#39;s&nbsp;no&nbsp;more&nbsp;data&nbsp;to&nbsp;write&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2404534">//&nbsp;when&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="2404601">//&nbsp;written.&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;during&nbsp;the&nbsp;write&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno">170</span><span class="comment" id="2404670">//</span><br>
<span class="lineno"></span><span class="comment" id="2404673">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;WriterTo&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="2404722">type</span>&nbsp;<span class="ident" id="2404727">WriterTo</span>&nbsp;<span class="keyword" id="2404736">interface</span>&nbsp;<span class="op" id="2404746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404749">WriteTo</span><span class="op" id="2404756">(</span><span class="ident" id="2404757">w</span>&nbsp;<span class="ident" id="2404759"><a href="/io/io.go.html#2402223">Writer</a></span><span class="op" id="2404765">)</span>&nbsp;<span class="op" id="2404767">(</span><span class="ident" id="2404768">n</span>&nbsp;<span class="ident" id="2404770">int64</span><span class="op" id="2404775">,</span>&nbsp;<span class="ident" id="2404777">err</span>&nbsp;<span class="builtintype" id="2404781">error</span><span class="op" id="2404786">)</span><br>
<span class="lineno"></span><span class="op" id="2404788">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2404791">//&nbsp;ReaderAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;ReadAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2404856">//</span><br>
<span class="lineno"></span><span class="comment" id="2404859">//&nbsp;ReadAt&nbsp;reads&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2404925">//&nbsp;underlying&nbsp;input&nbsp;source.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">180</span><span class="comment" id="2404985">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="comment" id="2405039">//</span><br>
<span class="lineno"></span><span class="comment" id="2405042">//&nbsp;When&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2405104">//&nbsp;explaining&nbsp;why&nbsp;more&nbsp;bytes&nbsp;were&nbsp;not&nbsp;returned.&nbsp;&nbsp;In&nbsp;this&nbsp;respect,</span><br>
<span class="lineno"></span><span class="comment" id="2405170">//&nbsp;ReadAt&nbsp;is&nbsp;stricter&nbsp;than&nbsp;Read.</span><br>
<span class="lineno">185</span><span class="comment" id="2405203">//</span><br>
<span class="lineno"></span><span class="comment" id="2405206">//&nbsp;Even&nbsp;if&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch</span><br>
<span class="lineno"></span><span class="comment" id="2405275">//&nbsp;space&nbsp;during&nbsp;the&nbsp;call.&nbsp;&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="2405350">//&nbsp;ReadAt&nbsp;blocks&nbsp;until&nbsp;either&nbsp;all&nbsp;the&nbsp;data&nbsp;is&nbsp;available&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2405426">//&nbsp;In&nbsp;this&nbsp;respect&nbsp;ReadAt&nbsp;is&nbsp;different&nbsp;from&nbsp;Read.</span><br>
<span class="lineno">190</span><span class="comment" id="2405476">//</span><br>
<span class="lineno"></span><span class="comment" id="2405479">//&nbsp;If&nbsp;the&nbsp;n&nbsp;=&nbsp;len(p)&nbsp;bytes&nbsp;returned&nbsp;by&nbsp;ReadAt&nbsp;are&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2405547">//&nbsp;input&nbsp;source,&nbsp;ReadAt&nbsp;may&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2405615">//</span><br>
<span class="lineno"></span><span class="comment" id="2405618">//&nbsp;If&nbsp;ReadAt&nbsp;is&nbsp;reading&nbsp;from&nbsp;an&nbsp;input&nbsp;source&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno">195</span><span class="comment" id="2405683">//&nbsp;ReadAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2405745">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="2405761">//</span><br>
<span class="lineno"></span><span class="comment" id="2405764">//&nbsp;Clients&nbsp;of&nbsp;ReadAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;ReadAt&nbsp;calls&nbsp;on&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2405826">//&nbsp;same&nbsp;input&nbsp;source.</span><br>
<span class="lineno">200</span><span class="comment" id="2405848">//</span><br>
<span class="lineno"></span><span class="comment" id="2405851">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="2405889">type</span>&nbsp;<span class="ident" id="2405894">ReaderAt</span>&nbsp;<span class="keyword" id="2405903">interface</span>&nbsp;<span class="op" id="2405913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405916">ReadAt</span><span class="op" id="2405922">(</span><span class="ident" id="2405923">p</span>&nbsp;<span class="op" id="2405925">[</span><span class="op" id="2405926">]</span><span class="builtintype" id="2405927">byte</span><span class="op" id="2405931">,</span>&nbsp;<span class="ident" id="2405933">off</span>&nbsp;<span class="ident" id="2405937">int64</span><span class="op" id="2405942">)</span>&nbsp;<span class="op" id="2405944">(</span><span class="ident" id="2405945">n</span>&nbsp;<span class="builtintype" id="2405947">int</span><span class="op" id="2405950">,</span>&nbsp;<span class="ident" id="2405952">err</span>&nbsp;<span class="builtintype" id="2405956">error</span><span class="op" id="2405961">)</span><br>
<span class="lineno"></span><span class="op" id="2405963">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="2405966">//&nbsp;WriterAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;WriteAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2406032">//</span><br>
<span class="lineno"></span><span class="comment" id="2406035">//&nbsp;WriteAt&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream</span><br>
<span class="lineno"></span><span class="comment" id="2406103">//&nbsp;at&nbsp;offset&nbsp;off.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno">210</span><span class="comment" id="2406187">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="2406253">//&nbsp;WriteAt&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno"></span><span class="comment" id="2406318">//</span><br>
<span class="lineno"></span><span class="comment" id="2406321">//&nbsp;If&nbsp;WriteAt&nbsp;is&nbsp;writing&nbsp;to&nbsp;a&nbsp;destination&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="2406383">//&nbsp;WriteAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno">215</span><span class="comment" id="2406446">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="2406462">//</span><br>
<span class="lineno"></span><span class="comment" id="2406465">//&nbsp;Clients&nbsp;of&nbsp;WriteAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;WriteAt&nbsp;calls&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="2406534">//&nbsp;destination&nbsp;if&nbsp;the&nbsp;ranges&nbsp;do&nbsp;not&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="2406579">//</span><br>
<span class="lineno">220</span><span class="comment" id="2406582">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="2406620">type</span>&nbsp;<span class="ident" id="2406625">WriterAt</span>&nbsp;<span class="keyword" id="2406634">interface</span>&nbsp;<span class="op" id="2406644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406647">WriteAt</span><span class="op" id="2406654">(</span><span class="ident" id="2406655">p</span>&nbsp;<span class="op" id="2406657">[</span><span class="op" id="2406658">]</span><span class="builtintype" id="2406659">byte</span><span class="op" id="2406663">,</span>&nbsp;<span class="ident" id="2406665">off</span>&nbsp;<span class="ident" id="2406669">int64</span><span class="op" id="2406674">)</span>&nbsp;<span class="op" id="2406676">(</span><span class="ident" id="2406677">n</span>&nbsp;<span class="builtintype" id="2406679">int</span><span class="op" id="2406682">,</span>&nbsp;<span class="ident" id="2406684">err</span>&nbsp;<span class="builtintype" id="2406688">error</span><span class="op" id="2406693">)</span><br>
<span class="lineno"></span><span class="op" id="2406695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="2406698">//&nbsp;ByteReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2406761">//</span><br>
<span class="lineno"></span><span class="comment" id="2406764">//&nbsp;ReadByte&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;byte&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="2406824">//&nbsp;If&nbsp;no&nbsp;byte&nbsp;is&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2406869">type</span>&nbsp;<span class="ident" id="2406874">ByteReader</span>&nbsp;<span class="keyword" id="2406885">interface</span>&nbsp;<span class="op" id="2406895">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406898">ReadByte</span><span class="op" id="2406906">(</span><span class="op" id="2406907">)</span>&nbsp;<span class="op" id="2406909">(</span><span class="ident" id="2406910">c</span>&nbsp;<span class="builtintype" id="2406912">byte</span><span class="op" id="2406916">,</span>&nbsp;<span class="ident" id="2406918">err</span>&nbsp;<span class="builtintype" id="2406922">error</span><span class="op" id="2406927">)</span><br>
<span class="lineno"></span><span class="op" id="2406929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2406932">//&nbsp;ByteScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadByte&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2407003">//&nbsp;basic&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno">235</span><span class="comment" id="2407029">//</span><br>
<span class="lineno"></span><span class="comment" id="2407032">//&nbsp;UnreadByte&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadByte&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;byte</span><br>
<span class="lineno"></span><span class="comment" id="2407103">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno"></span><span class="comment" id="2407140">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadByte&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno"></span><span class="comment" id="2407210">//&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno">240</span><span class="keyword" id="2407231">type</span>&nbsp;<span class="ident" id="2407236">ByteScanner</span>&nbsp;<span class="keyword" id="2407248">interface</span>&nbsp;<span class="op" id="2407258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407261"><a href="/io/io.go.html#2406874">ByteReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407273">UnreadByte</span><span class="op" id="2407283">(</span><span class="op" id="2407284">)</span>&nbsp;<span class="builtintype" id="2407286">error</span><br>
<span class="lineno"></span><span class="op" id="2407292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2407295">//&nbsp;ByteWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2407359">type</span>&nbsp;<span class="ident" id="2407364">ByteWriter</span>&nbsp;<span class="keyword" id="2407375">interface</span>&nbsp;<span class="op" id="2407385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407388">WriteByte</span><span class="op" id="2407397">(</span><span class="ident" id="2407398">c</span>&nbsp;<span class="builtintype" id="2407400">byte</span><span class="op" id="2407404">)</span>&nbsp;<span class="builtintype" id="2407406">error</span><br>
<span class="lineno"></span><span class="op" id="2407412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="comment" id="2407415">//&nbsp;RuneReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2407478">//</span><br>
<span class="lineno"></span><span class="comment" id="2407481">//&nbsp;ReadRune&nbsp;reads&nbsp;a&nbsp;single&nbsp;UTF-8&nbsp;encoded&nbsp;Unicode&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="2407540">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;rune&nbsp;and&nbsp;its&nbsp;size&nbsp;in&nbsp;bytes.&nbsp;If&nbsp;no&nbsp;character&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2407606">//&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno">255</span><span class="keyword" id="2407637">type</span>&nbsp;<span class="ident" id="2407642">RuneReader</span>&nbsp;<span class="keyword" id="2407653">interface</span>&nbsp;<span class="op" id="2407663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407666">ReadRune</span><span class="op" id="2407674">(</span><span class="op" id="2407675">)</span>&nbsp;<span class="op" id="2407677">(</span><span class="ident" id="2407678">r</span>&nbsp;<span class="builtintype" id="2407680">rune</span><span class="op" id="2407684">,</span>&nbsp;<span class="ident" id="2407686">size</span>&nbsp;<span class="builtintype" id="2407691">int</span><span class="op" id="2407694">,</span>&nbsp;<span class="ident" id="2407696">err</span>&nbsp;<span class="builtintype" id="2407700">error</span><span class="op" id="2407705">)</span><br>
<span class="lineno"></span><span class="op" id="2407707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2407710">//&nbsp;RuneScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadRune&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno">260</span><span class="comment" id="2407781">//&nbsp;basic&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2407807">//</span><br>
<span class="lineno"></span><span class="comment" id="2407810">//&nbsp;UnreadRune&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadRune&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;rune</span><br>
<span class="lineno"></span><span class="comment" id="2407881">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="comment" id="2407918">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadRune&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno">265</span><span class="comment" id="2407988">//&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="keyword" id="2408009">type</span>&nbsp;<span class="ident" id="2408014">RuneScanner</span>&nbsp;<span class="keyword" id="2408026">interface</span>&nbsp;<span class="op" id="2408036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408039"><a href="/io/io.go.html#2407642">RuneReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408051">UnreadRune</span><span class="op" id="2408061">(</span><span class="op" id="2408062">)</span>&nbsp;<span class="builtintype" id="2408064">error</span><br>
<span class="lineno"></span><span class="op" id="2408070">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="2408073">//&nbsp;stringWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteString&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2408141">type</span>&nbsp;<span class="ident" id="2408146">stringWriter</span>&nbsp;<span class="keyword" id="2408159">interface</span>&nbsp;<span class="op" id="2408169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408172">WriteString</span><span class="op" id="2408183">(</span><span class="ident" id="2408184">s</span>&nbsp;<span class="builtintype" id="2408186">string</span><span class="op" id="2408192">)</span>&nbsp;<span class="op" id="2408194">(</span><span class="ident" id="2408195">n</span>&nbsp;<span class="builtintype" id="2408197">int</span><span class="op" id="2408200">,</span>&nbsp;<span class="ident" id="2408202">err</span>&nbsp;<span class="builtintype" id="2408206">error</span><span class="op" id="2408211">)</span><br>
<span class="lineno"></span><span class="op" id="2408213">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="2408216">//&nbsp;WriteString&nbsp;writes&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;to&nbsp;w,&nbsp;which&nbsp;accepts&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="2408306">//&nbsp;If&nbsp;w&nbsp;already&nbsp;implements&nbsp;a&nbsp;WriteString&nbsp;method,&nbsp;it&nbsp;is&nbsp;invoked&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="2408379">func</span>&nbsp;<span class="ident" id="2408384">WriteString</span><span class="op" id="2408395">(</span><span class="ident" id="2408396">w</span>&nbsp;<span class="ident" id="2408398"><a href="/io/io.go.html#2402223">Writer</a></span><span class="op" id="2408404">,</span>&nbsp;<span class="ident" id="2408406">s</span>&nbsp;<span class="builtintype" id="2408408">string</span><span class="op" id="2408414">)</span>&nbsp;<span class="op" id="2408416">(</span><span class="ident" id="2408417">n</span>&nbsp;<span class="builtintype" id="2408419">int</span><span class="op" id="2408422">,</span>&nbsp;<span class="ident" id="2408424">err</span>&nbsp;<span class="builtintype" id="2408428">error</span><span class="op" id="2408433">)</span>&nbsp;<span class="op" id="2408435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408438">if</span>&nbsp;<span class="ident" id="2408441">sw</span><span class="op" id="2408443">,</span>&nbsp;<span class="ident" id="2408445">ok</span>&nbsp;<span class="op" id="2408448">:=</span>&nbsp;<span class="ident" id="2408451"><a href="/io/io.go.html#2408396">w</a></span><span class="op" id="2408452">.</span><span class="op" id="2408453">(</span><span class="ident" id="2408454"><a href="/io/io.go.html#2408146">stringWriter</a></span><span class="op" id="2408466">)</span><span class="op" id="2408467">;</span>&nbsp;<span class="ident" id="2408469"><a href="/io/io.go.html#2408445">ok</a></span>&nbsp;<span class="op" id="2408472">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408476">return</span>&nbsp;<span class="ident" id="2408483"><a href="/io/io.go.html#2408441">sw</a></span><span class="op" id="2408485">.</span><span class="ident" id="2408486">WriteString</span><span class="op" id="2408497">(</span><span class="ident" id="2408498"><a href="/io/io.go.html#2408406">s</a></span><span class="op" id="2408499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408505">return</span>&nbsp;<span class="ident" id="2408512"><a href="/io/io.go.html#2408396">w</a></span><span class="op" id="2408513">.</span><span class="ident" id="2408514">Write</span><span class="op" id="2408519">(</span><span class="op" id="2408520">[</span><span class="op" id="2408521">]</span><span class="builtintype" id="2408522">byte</span><span class="op" id="2408526">(</span><span class="ident" id="2408527"><a href="/io/io.go.html#2408406">s</a></span><span class="op" id="2408528">)</span><span class="op" id="2408529">)</span><br>
<span class="lineno"></span><span class="op" id="2408531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="2408534">//&nbsp;ReadAtLeast&nbsp;reads&nbsp;from&nbsp;r&nbsp;into&nbsp;buf&nbsp;until&nbsp;it&nbsp;has&nbsp;read&nbsp;at&nbsp;least&nbsp;min&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="2408609">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="2408689">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="2408737">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;fewer&nbsp;than&nbsp;min&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="2408794">//&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno">290</span><span class="comment" id="2408835">//&nbsp;If&nbsp;min&nbsp;is&nbsp;greater&nbsp;than&nbsp;the&nbsp;length&nbsp;of&nbsp;buf,&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrShortBuffer.</span><br>
<span class="lineno"></span><span class="comment" id="2408916">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;&gt;=&nbsp;min&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2408966">func</span>&nbsp;<span class="ident" id="2408971">ReadAtLeast</span><span class="op" id="2408982">(</span><span class="ident" id="2408983">r</span>&nbsp;<span class="ident" id="2408985"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2408991">,</span>&nbsp;<span class="ident" id="2408993">buf</span>&nbsp;<span class="op" id="2408997">[</span><span class="op" id="2408998">]</span><span class="builtintype" id="2408999">byte</span><span class="op" id="2409003">,</span>&nbsp;<span class="ident" id="2409005">min</span>&nbsp;<span class="builtintype" id="2409009">int</span><span class="op" id="2409012">)</span>&nbsp;<span class="op" id="2409014">(</span><span class="ident" id="2409015">n</span>&nbsp;<span class="builtintype" id="2409017">int</span><span class="op" id="2409020">,</span>&nbsp;<span class="ident" id="2409022">err</span>&nbsp;<span class="builtintype" id="2409026">error</span><span class="op" id="2409031">)</span>&nbsp;<span class="op" id="2409033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409036">if</span>&nbsp;<span class="builtinfunc" id="2409039">len</span><span class="op" id="2409042">(</span><span class="ident" id="2409043"><a href="/io/io.go.html#2408993">buf</a></span><span class="op" id="2409046">)</span>&nbsp;<span class="op" id="2409048">&lt;</span>&nbsp;<span class="ident" id="2409050"><a href="/io/io.go.html#2409005">min</a></span>&nbsp;<span class="op" id="2409054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409058">return</span>&nbsp;<span class="num" id="2409065">0</span><span class="op" id="2409066">,</span>&nbsp;<span class="ident" id="2409068"><a href="/io/io.go.html#2399511">ErrShortBuffer</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409087">for</span>&nbsp;<span class="ident" id="2409091"><a href="/io/io.go.html#2409015">n</a></span>&nbsp;<span class="op" id="2409093">&lt;</span>&nbsp;<span class="ident" id="2409095"><a href="/io/io.go.html#2409005">min</a></span>&nbsp;<span class="op" id="2409099">&amp;&amp;</span>&nbsp;<span class="ident" id="2409102"><a href="/io/io.go.html#2409022">err</a></span>&nbsp;<span class="op" id="2409106">==</span>&nbsp;<span class="ident" id="2409109">nil</span>&nbsp;<span class="op" id="2409113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409117">var</span>&nbsp;<span class="ident" id="2409121">nn</span>&nbsp;<span class="builtintype" id="2409124">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409130"><a href="/io/io.go.html#2409121">nn</a></span><span class="op" id="2409132">,</span>&nbsp;<span class="ident" id="2409134"><a href="/io/io.go.html#2409022">err</a></span>&nbsp;<span class="op" id="2409138">=</span>&nbsp;<span class="ident" id="2409140"><a href="/io/io.go.html#2408983">r</a></span><span class="op" id="2409141">.</span><span class="ident" id="2409142">Read</span><span class="op" id="2409146">(</span><span class="ident" id="2409147"><a href="/io/io.go.html#2408993">buf</a></span><span class="op" id="2409150">[</span><span class="ident" id="2409151"><a href="/io/io.go.html#2409015">n</a></span><span class="op" id="2409152">:</span><span class="op" id="2409153">]</span><span class="op" id="2409154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409158"><a href="/io/io.go.html#2409015">n</a></span>&nbsp;<span class="op" id="2409160">+=</span>&nbsp;<span class="ident" id="2409163"><a href="/io/io.go.html#2409121">nn</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409170">if</span>&nbsp;<span class="ident" id="2409173"><a href="/io/io.go.html#2409015">n</a></span>&nbsp;<span class="op" id="2409175">&gt;=</span>&nbsp;<span class="ident" id="2409178"><a href="/io/io.go.html#2409005">min</a></span>&nbsp;<span class="op" id="2409182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409186"><a href="/io/io.go.html#2409022">err</a></span>&nbsp;<span class="op" id="2409190">=</span>&nbsp;<span class="ident" id="2409192">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409197">}</span>&nbsp;<span class="keyword" id="2409199">else</span>&nbsp;<span class="keyword" id="2409204">if</span>&nbsp;<span class="ident" id="2409207"><a href="/io/io.go.html#2409015">n</a></span>&nbsp;<span class="op" id="2409209">&gt;</span>&nbsp;<span class="num" id="2409211">0</span>&nbsp;<span class="op" id="2409213">&amp;&amp;</span>&nbsp;<span class="ident" id="2409216"><a href="/io/io.go.html#2409022">err</a></span>&nbsp;<span class="op" id="2409220">==</span>&nbsp;<span class="ident" id="2409223"><a href="/io/io.go.html#2399859">EOF</a></span>&nbsp;<span class="op" id="2409227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409231"><a href="/io/io.go.html#2409022">err</a></span>&nbsp;<span class="op" id="2409235">=</span>&nbsp;<span class="ident" id="2409237"><a href="/io/io.go.html#2400005">ErrUnexpectedEOF</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409258">return</span><br>
<span class="lineno"></span><span class="op" id="2409265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2409268">//&nbsp;ReadFull&nbsp;reads&nbsp;exactly&nbsp;len(buf)&nbsp;bytes&nbsp;from&nbsp;r&nbsp;into&nbsp;buf.</span><br>
<span class="lineno">310</span><span class="comment" id="2409326">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="2409406">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="2409454">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;some&nbsp;but&nbsp;not&nbsp;all&nbsp;the&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="2409517">//&nbsp;ReadFull&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno"></span><span class="comment" id="2409555">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;==&nbsp;len(buf)&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno">315</span><span class="keyword" id="2409610">func</span>&nbsp;<span class="ident" id="2409615">ReadFull</span><span class="op" id="2409623">(</span><span class="ident" id="2409624">r</span>&nbsp;<span class="ident" id="2409626"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2409632">,</span>&nbsp;<span class="ident" id="2409634">buf</span>&nbsp;<span class="op" id="2409638">[</span><span class="op" id="2409639">]</span><span class="builtintype" id="2409640">byte</span><span class="op" id="2409644">)</span>&nbsp;<span class="op" id="2409646">(</span><span class="ident" id="2409647">n</span>&nbsp;<span class="builtintype" id="2409649">int</span><span class="op" id="2409652">,</span>&nbsp;<span class="ident" id="2409654">err</span>&nbsp;<span class="builtintype" id="2409658">error</span><span class="op" id="2409663">)</span>&nbsp;<span class="op" id="2409665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409668">return</span>&nbsp;<span class="ident" id="2409675"><a href="/io/io.go.html#2408971">ReadAtLeast</a></span><span class="op" id="2409686">(</span><span class="ident" id="2409687"><a href="/io/io.go.html#2409624">r</a></span><span class="op" id="2409688">,</span>&nbsp;<span class="ident" id="2409690"><a href="/io/io.go.html#2409634">buf</a></span><span class="op" id="2409693">,</span>&nbsp;<span class="builtinfunc" id="2409695">len</span><span class="op" id="2409698">(</span><span class="ident" id="2409699"><a href="/io/io.go.html#2409634">buf</a></span><span class="op" id="2409702">)</span><span class="op" id="2409703">)</span><br>
<span class="lineno"></span><span class="op" id="2409705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2409708">//&nbsp;CopyN&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;(or&nbsp;until&nbsp;an&nbsp;error)&nbsp;from&nbsp;src&nbsp;to&nbsp;dst.</span><br>
<span class="lineno">320</span><span class="comment" id="2409769">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;the&nbsp;earliest</span><br>
<span class="lineno"></span><span class="comment" id="2409827">//&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying.</span><br>
<span class="lineno"></span><span class="comment" id="2409863">//&nbsp;On&nbsp;return,&nbsp;written&nbsp;==&nbsp;n&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2409917">//</span><br>
<span class="lineno"></span><span class="comment" id="2409920">//&nbsp;If&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno">325</span><span class="comment" id="2409967">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;using&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="2410004">func</span>&nbsp;<span class="ident" id="2410009">CopyN</span><span class="op" id="2410014">(</span><span class="ident" id="2410015">dst</span>&nbsp;<span class="ident" id="2410019"><a href="/io/io.go.html#2402223">Writer</a></span><span class="op" id="2410025">,</span>&nbsp;<span class="ident" id="2410027">src</span>&nbsp;<span class="ident" id="2410031"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2410037">,</span>&nbsp;<span class="ident" id="2410039">n</span>&nbsp;<span class="ident" id="2410041">int64</span><span class="op" id="2410046">)</span>&nbsp;<span class="op" id="2410048">(</span><span class="ident" id="2410049">written</span>&nbsp;<span class="ident" id="2410057">int64</span><span class="op" id="2410062">,</span>&nbsp;<span class="ident" id="2410064">err</span>&nbsp;<span class="builtintype" id="2410068">error</span><span class="op" id="2410073">)</span>&nbsp;<span class="op" id="2410075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410078"><a href="/io/io.go.html#2410049">written</a></span><span class="op" id="2410085">,</span>&nbsp;<span class="ident" id="2410087"><a href="/io/io.go.html#2410064">err</a></span>&nbsp;<span class="op" id="2410091">=</span>&nbsp;<span class="ident" id="2410093"><a href="/io/io.go.html#2410855">Copy</a></span><span class="op" id="2410097">(</span><span class="ident" id="2410098"><a href="/io/io.go.html#2410015">dst</a></span><span class="op" id="2410101">,</span>&nbsp;<span class="ident" id="2410103"><a href="/io/io.go.html#2411724">LimitReader</a></span><span class="op" id="2410114">(</span><span class="ident" id="2410115"><a href="/io/io.go.html#2410027">src</a></span><span class="op" id="2410118">,</span>&nbsp;<span class="ident" id="2410120"><a href="/io/io.go.html#2410039">n</a></span><span class="op" id="2410121">)</span><span class="op" id="2410122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410125">if</span>&nbsp;<span class="ident" id="2410128"><a href="/io/io.go.html#2410049">written</a></span>&nbsp;<span class="op" id="2410136">==</span>&nbsp;<span class="ident" id="2410139"><a href="/io/io.go.html#2410039">n</a></span>&nbsp;<span class="op" id="2410141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410145">return</span>&nbsp;<span class="ident" id="2410152"><a href="/io/io.go.html#2410039">n</a></span><span class="op" id="2410153">,</span>&nbsp;<span class="ident" id="2410155">nil</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410163">if</span>&nbsp;<span class="ident" id="2410166"><a href="/io/io.go.html#2410049">written</a></span>&nbsp;<span class="op" id="2410174">&lt;</span>&nbsp;<span class="ident" id="2410176"><a href="/io/io.go.html#2410039">n</a></span>&nbsp;<span class="op" id="2410178">&amp;&amp;</span>&nbsp;<span class="ident" id="2410181"><a href="/io/io.go.html#2410064">err</a></span>&nbsp;<span class="op" id="2410185">==</span>&nbsp;<span class="ident" id="2410188">nil</span>&nbsp;<span class="op" id="2410192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410196">//&nbsp;src&nbsp;stopped&nbsp;early;&nbsp;must&nbsp;have&nbsp;been&nbsp;EOF.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410240"><a href="/io/io.go.html#2410064">err</a></span>&nbsp;<span class="op" id="2410244">=</span>&nbsp;<span class="ident" id="2410246"><a href="/io/io.go.html#2399859">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410251">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410254">return</span><br>
<span class="lineno"></span><span class="op" id="2410261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2410264">//&nbsp;Copy&nbsp;copies&nbsp;from&nbsp;src&nbsp;to&nbsp;dst&nbsp;until&nbsp;either&nbsp;EOF&nbsp;is&nbsp;reached</span><br>
<span class="lineno"></span><span class="comment" id="2410323">//&nbsp;on&nbsp;src&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">340</span><span class="comment" id="2410385">//&nbsp;copied&nbsp;and&nbsp;the&nbsp;first&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2410450">//</span><br>
<span class="lineno"></span><span class="comment" id="2410453">//&nbsp;A&nbsp;successful&nbsp;Copy&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2410510">//&nbsp;Because&nbsp;Copy&nbsp;is&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="2410573">//&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno">345</span><span class="comment" id="2410631">//</span><br>
<span class="lineno"></span><span class="comment" id="2410634">//&nbsp;If&nbsp;src&nbsp;implements&nbsp;the&nbsp;WriterTo&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="2410679">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;src.WriteTo(dst).</span><br>
<span class="lineno"></span><span class="comment" id="2410735">//&nbsp;Otherwise,&nbsp;if&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="2410793">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;dst.ReadFrom(src).</span><br>
<span class="lineno">350</span><span class="keyword" id="2410850">func</span>&nbsp;<span class="ident" id="2410855">Copy</span><span class="op" id="2410859">(</span><span class="ident" id="2410860">dst</span>&nbsp;<span class="ident" id="2410864"><a href="/io/io.go.html#2402223">Writer</a></span><span class="op" id="2410870">,</span>&nbsp;<span class="ident" id="2410872">src</span>&nbsp;<span class="ident" id="2410876"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2410882">)</span>&nbsp;<span class="op" id="2410884">(</span><span class="ident" id="2410885">written</span>&nbsp;<span class="ident" id="2410893">int64</span><span class="op" id="2410898">,</span>&nbsp;<span class="ident" id="2410900">err</span>&nbsp;<span class="builtintype" id="2410904">error</span><span class="op" id="2410909">)</span>&nbsp;<span class="op" id="2410911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410914">//&nbsp;If&nbsp;the&nbsp;reader&nbsp;has&nbsp;a&nbsp;WriteTo&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410977">//&nbsp;Avoids&nbsp;an&nbsp;allocation&nbsp;and&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411014">if</span>&nbsp;<span class="ident" id="2411017">wt</span><span class="op" id="2411019">,</span>&nbsp;<span class="ident" id="2411021">ok</span>&nbsp;<span class="op" id="2411024">:=</span>&nbsp;<span class="ident" id="2411027"><a href="/io/io.go.html#2410872">src</a></span><span class="op" id="2411030">.</span><span class="op" id="2411031">(</span><span class="ident" id="2411032"><a href="/io/io.go.html#2404727">WriterTo</a></span><span class="op" id="2411040">)</span><span class="op" id="2411041">;</span>&nbsp;<span class="ident" id="2411043"><a href="/io/io.go.html#2411021">ok</a></span>&nbsp;<span class="op" id="2411046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411050">return</span>&nbsp;<span class="ident" id="2411057"><a href="/io/io.go.html#2411017">wt</a></span><span class="op" id="2411059">.</span><span class="ident" id="2411060">WriteTo</span><span class="op" id="2411067">(</span><span class="ident" id="2411068"><a href="/io/io.go.html#2410860">dst</a></span><span class="op" id="2411071">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411077">//&nbsp;Similarly,&nbsp;if&nbsp;the&nbsp;writer&nbsp;has&nbsp;a&nbsp;ReadFrom&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411152">if</span>&nbsp;<span class="ident" id="2411155">rt</span><span class="op" id="2411157">,</span>&nbsp;<span class="ident" id="2411159">ok</span>&nbsp;<span class="op" id="2411162">:=</span>&nbsp;<span class="ident" id="2411165"><a href="/io/io.go.html#2410860">dst</a></span><span class="op" id="2411168">.</span><span class="op" id="2411169">(</span><span class="ident" id="2411170"><a href="/io/io.go.html#2404337">ReaderFrom</a></span><span class="op" id="2411180">)</span><span class="op" id="2411181">;</span>&nbsp;<span class="ident" id="2411183"><a href="/io/io.go.html#2411159">ok</a></span>&nbsp;<span class="op" id="2411186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411190">return</span>&nbsp;<span class="ident" id="2411197"><a href="/io/io.go.html#2411155">rt</a></span><span class="op" id="2411199">.</span><span class="ident" id="2411200">ReadFrom</span><span class="op" id="2411208">(</span><span class="ident" id="2411209"><a href="/io/io.go.html#2410872">src</a></span><span class="op" id="2411212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411215">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411218">buf</span>&nbsp;<span class="op" id="2411222">:=</span>&nbsp;<span class="builtinfunc" id="2411225">make</span><span class="op" id="2411229">(</span><span class="op" id="2411230">[</span><span class="op" id="2411231">]</span><span class="builtintype" id="2411232">byte</span><span class="op" id="2411236">,</span>&nbsp;<span class="num" id="2411238">32</span><span class="op" id="2411240">*</span><span class="num" id="2411241">1024</span><span class="op" id="2411245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411248">for</span>&nbsp;<span class="op" id="2411252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411256">nr</span><span class="op" id="2411258">,</span>&nbsp;<span class="ident" id="2411260">er</span>&nbsp;<span class="op" id="2411263">:=</span>&nbsp;<span class="ident" id="2411266"><a href="/io/io.go.html#2410872">src</a></span><span class="op" id="2411269">.</span><span class="ident" id="2411270">Read</span><span class="op" id="2411274">(</span><span class="ident" id="2411275"><a href="/io/io.go.html#2411218">buf</a></span><span class="op" id="2411278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411282">if</span>&nbsp;<span class="ident" id="2411285"><a href="/io/io.go.html#2411256">nr</a></span>&nbsp;<span class="op" id="2411288">&gt;</span>&nbsp;<span class="num" id="2411290">0</span>&nbsp;<span class="op" id="2411292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411297">nw</span><span class="op" id="2411299">,</span>&nbsp;<span class="ident" id="2411301">ew</span>&nbsp;<span class="op" id="2411304">:=</span>&nbsp;<span class="ident" id="2411307"><a href="/io/io.go.html#2410860">dst</a></span><span class="op" id="2411310">.</span><span class="ident" id="2411311">Write</span><span class="op" id="2411316">(</span><span class="ident" id="2411317"><a href="/io/io.go.html#2411218">buf</a></span><span class="op" id="2411320">[</span><span class="num" id="2411321">0</span><span class="op" id="2411322">:</span><span class="ident" id="2411323"><a href="/io/io.go.html#2411256">nr</a></span><span class="op" id="2411325">]</span><span class="op" id="2411326">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411331">if</span>&nbsp;<span class="ident" id="2411334"><a href="/io/io.go.html#2411297">nw</a></span>&nbsp;<span class="op" id="2411337">&gt;</span>&nbsp;<span class="num" id="2411339">0</span>&nbsp;<span class="op" id="2411341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411347"><a href="/io/io.go.html#2410885">written</a></span>&nbsp;<span class="op" id="2411355">+=</span>&nbsp;<span class="ident" id="2411358">int64</span><span class="op" id="2411363">(</span><span class="ident" id="2411364"><a href="/io/io.go.html#2411297">nw</a></span><span class="op" id="2411366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411376">if</span>&nbsp;<span class="ident" id="2411379"><a href="/io/io.go.html#2411301">ew</a></span>&nbsp;<span class="op" id="2411382">!=</span>&nbsp;<span class="ident" id="2411385">nil</span>&nbsp;<span class="op" id="2411389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411395"><a href="/io/io.go.html#2410900">err</a></span>&nbsp;<span class="op" id="2411399">=</span>&nbsp;<span class="ident" id="2411401"><a href="/io/io.go.html#2411301">ew</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411408">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411422">if</span>&nbsp;<span class="ident" id="2411425"><a href="/io/io.go.html#2411256">nr</a></span>&nbsp;<span class="op" id="2411428">!=</span>&nbsp;<span class="ident" id="2411431"><a href="/io/io.go.html#2411297">nw</a></span>&nbsp;<span class="op" id="2411434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411440"><a href="/io/io.go.html#2410900">err</a></span>&nbsp;<span class="op" id="2411444">=</span>&nbsp;<span class="ident" id="2411446"><a href="/io/io.go.html#2399384">ErrShortWrite</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411464">break</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411481">if</span>&nbsp;<span class="ident" id="2411484"><a href="/io/io.go.html#2411260">er</a></span>&nbsp;<span class="op" id="2411487">==</span>&nbsp;<span class="ident" id="2411490"><a href="/io/io.go.html#2399859">EOF</a></span>&nbsp;<span class="op" id="2411494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411499">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411507">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411511">if</span>&nbsp;<span class="ident" id="2411514"><a href="/io/io.go.html#2411260">er</a></span>&nbsp;<span class="op" id="2411517">!=</span>&nbsp;<span class="ident" id="2411520">nil</span>&nbsp;<span class="op" id="2411524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411529"><a href="/io/io.go.html#2410900">err</a></span>&nbsp;<span class="op" id="2411533">=</span>&nbsp;<span class="ident" id="2411535"><a href="/io/io.go.html#2411260">er</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411541">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411552">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411555">return</span>&nbsp;<span class="ident" id="2411562"><a href="/io/io.go.html#2410885">written</a></span><span class="op" id="2411569">,</span>&nbsp;<span class="ident" id="2411571"><a href="/io/io.go.html#2410900">err</a></span><br>
<span class="lineno"></span><span class="op" id="2411575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2411578">//&nbsp;LimitReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="2411628">//&nbsp;but&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">390</span><span class="comment" id="2411665">//&nbsp;The&nbsp;underlying&nbsp;implementation&nbsp;is&nbsp;a&nbsp;*LimitedReader.</span><br>
<span class="lineno"></span><span class="keyword" id="2411719">func</span>&nbsp;<span class="ident" id="2411724">LimitReader</span><span class="op" id="2411735">(</span><span class="ident" id="2411736">r</span>&nbsp;<span class="ident" id="2411738"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2411744">,</span>&nbsp;<span class="ident" id="2411746">n</span>&nbsp;<span class="ident" id="2411748">int64</span><span class="op" id="2411753">)</span>&nbsp;<span class="ident" id="2411755"><a href="/io/io.go.html#2401732">Reader</a></span>&nbsp;<span class="op" id="2411762">{</span>&nbsp;<span class="keyword" id="2411764">return</span>&nbsp;<span class="op" id="2411771">&amp;</span><span class="ident" id="2411772"><a href="/io/io.go.html#2411959">LimitedReader</a></span><span class="op" id="2411785">{</span><span class="ident" id="2411786"><a href="/io/io.go.html#2411736">r</a></span><span class="op" id="2411787">,</span>&nbsp;<span class="ident" id="2411789"><a href="/io/io.go.html#2411746">n</a></span><span class="op" id="2411790">}</span>&nbsp;<span class="op" id="2411792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2411795">//&nbsp;A&nbsp;LimitedReader&nbsp;reads&nbsp;from&nbsp;R&nbsp;but&nbsp;limits&nbsp;the&nbsp;amount&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2411852">//&nbsp;data&nbsp;returned&nbsp;to&nbsp;just&nbsp;N&nbsp;bytes.&nbsp;Each&nbsp;call&nbsp;to&nbsp;Read</span><br>
<span class="lineno">395</span><span class="comment" id="2411904">//&nbsp;updates&nbsp;N&nbsp;to&nbsp;reflect&nbsp;the&nbsp;new&nbsp;amount&nbsp;remaining.</span><br>
<span class="lineno"></span><span class="keyword" id="2411954">type</span>&nbsp;<span class="ident" id="2411959">LimitedReader</span>&nbsp;<span class="keyword" id="2411973">struct</span>&nbsp;<span class="op" id="2411980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411983">R</span>&nbsp;<span class="ident" id="2411985"><a href="/io/io.go.html#2401732">Reader</a></span>&nbsp;<span class="comment" id="2411992">//&nbsp;underlying&nbsp;reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412014">N</span>&nbsp;<span class="ident" id="2412016">int64</span>&nbsp;&nbsp;<span class="comment" id="2412023">//&nbsp;max&nbsp;bytes&nbsp;remaining</span><br>
<span class="lineno"></span><span class="op" id="2412046">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="2412049">func</span>&nbsp;<span class="op" id="2412054">(</span><span class="ident" id="2412055">l</span>&nbsp;<span class="op" id="2412057">*</span><span class="ident" id="2412058"><a href="/io/io.go.html#2411959">LimitedReader</a></span><span class="op" id="2412071">)</span>&nbsp;<span class="ident" id="2412073">Read</span><span class="op" id="2412077">(</span><span class="ident" id="2412078">p</span>&nbsp;<span class="op" id="2412080">[</span><span class="op" id="2412081">]</span><span class="builtintype" id="2412082">byte</span><span class="op" id="2412086">)</span>&nbsp;<span class="op" id="2412088">(</span><span class="ident" id="2412089">n</span>&nbsp;<span class="builtintype" id="2412091">int</span><span class="op" id="2412094">,</span>&nbsp;<span class="ident" id="2412096">err</span>&nbsp;<span class="builtintype" id="2412100">error</span><span class="op" id="2412105">)</span>&nbsp;<span class="op" id="2412107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412110">if</span>&nbsp;<span class="ident" id="2412113"><a href="/io/io.go.html#2412055">l</a></span><span class="op" id="2412114">.</span><span class="ident" id="2412115">N</span>&nbsp;<span class="op" id="2412117">&lt;=</span>&nbsp;<span class="num" id="2412120">0</span>&nbsp;<span class="op" id="2412122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412126">return</span>&nbsp;<span class="num" id="2412133">0</span><span class="op" id="2412134">,</span>&nbsp;<span class="ident" id="2412136"><a href="/io/io.go.html#2399859">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412141">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412144">if</span>&nbsp;<span class="ident" id="2412147">int64</span><span class="op" id="2412152">(</span><span class="builtinfunc" id="2412153">len</span><span class="op" id="2412156">(</span><span class="ident" id="2412157"><a href="/io/io.go.html#2412078">p</a></span><span class="op" id="2412158">)</span><span class="op" id="2412159">)</span>&nbsp;<span class="op" id="2412161">&gt;</span>&nbsp;<span class="ident" id="2412163"><a href="/io/io.go.html#2412055">l</a></span><span class="op" id="2412164">.</span><span class="ident" id="2412165">N</span>&nbsp;<span class="op" id="2412167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412171"><a href="/io/io.go.html#2412078">p</a></span>&nbsp;<span class="op" id="2412173">=</span>&nbsp;<span class="ident" id="2412175"><a href="/io/io.go.html#2412078">p</a></span><span class="op" id="2412176">[</span><span class="num" id="2412177">0</span><span class="op" id="2412178">:</span><span class="ident" id="2412179"><a href="/io/io.go.html#2412055">l</a></span><span class="op" id="2412180">.</span><span class="ident" id="2412181">N</span><span class="op" id="2412182">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412188"><a href="/io/io.go.html#2412089">n</a></span><span class="op" id="2412189">,</span>&nbsp;<span class="ident" id="2412191"><a href="/io/io.go.html#2412096">err</a></span>&nbsp;<span class="op" id="2412195">=</span>&nbsp;<span class="ident" id="2412197"><a href="/io/io.go.html#2412055">l</a></span><span class="op" id="2412198">.</span><span class="ident" id="2412199">R</span><span class="op" id="2412200">.</span><span class="ident" id="2412201">Read</span><span class="op" id="2412205">(</span><span class="ident" id="2412206"><a href="/io/io.go.html#2412078">p</a></span><span class="op" id="2412207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412210"><a href="/io/io.go.html#2412055">l</a></span><span class="op" id="2412211">.</span><span class="ident" id="2412212">N</span>&nbsp;<span class="op" id="2412214">-=</span>&nbsp;<span class="ident" id="2412217">int64</span><span class="op" id="2412222">(</span><span class="ident" id="2412223"><a href="/io/io.go.html#2412089">n</a></span><span class="op" id="2412224">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412227">return</span><br>
<span class="lineno"></span><span class="op" id="2412234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2412237">//&nbsp;NewSectionReader&nbsp;returns&nbsp;a&nbsp;SectionReader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="2412299">//&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;and&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">415</span><span class="keyword" id="2412359">func</span>&nbsp;<span class="ident" id="2412364">NewSectionReader</span><span class="op" id="2412380">(</span><span class="ident" id="2412381">r</span>&nbsp;<span class="ident" id="2412383"><a href="/io/io.go.html#2405894">ReaderAt</a></span><span class="op" id="2412391">,</span>&nbsp;<span class="ident" id="2412393">off</span>&nbsp;<span class="ident" id="2412397">int64</span><span class="op" id="2412402">,</span>&nbsp;<span class="ident" id="2412404">n</span>&nbsp;<span class="ident" id="2412406">int64</span><span class="op" id="2412411">)</span>&nbsp;<span class="op" id="2412413">*</span><span class="ident" id="2412414"><a href="/io/io.go.html#2412577">SectionReader</a></span>&nbsp;<span class="op" id="2412428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412431">return</span>&nbsp;<span class="op" id="2412438">&amp;</span><span class="ident" id="2412439"><a href="/io/io.go.html#2412577">SectionReader</a></span><span class="op" id="2412452">{</span><span class="ident" id="2412453"><a href="/io/io.go.html#2412381">r</a></span><span class="op" id="2412454">,</span>&nbsp;<span class="ident" id="2412456"><a href="/io/io.go.html#2412393">off</a></span><span class="op" id="2412459">,</span>&nbsp;<span class="ident" id="2412461"><a href="/io/io.go.html#2412393">off</a></span><span class="op" id="2412464">,</span>&nbsp;<span class="ident" id="2412466"><a href="/io/io.go.html#2412393">off</a></span>&nbsp;<span class="op" id="2412470">+</span>&nbsp;<span class="ident" id="2412472"><a href="/io/io.go.html#2412404">n</a></span><span class="op" id="2412473">}</span><br>
<span class="lineno"></span><span class="op" id="2412475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2412478">//&nbsp;SectionReader&nbsp;implements&nbsp;Read,&nbsp;Seek,&nbsp;and&nbsp;ReadAt&nbsp;on&nbsp;a&nbsp;section</span><br>
<span class="lineno">420</span><span class="comment" id="2412542">//&nbsp;of&nbsp;an&nbsp;underlying&nbsp;ReaderAt.</span><br>
<span class="lineno"></span><span class="keyword" id="2412572">type</span>&nbsp;<span class="ident" id="2412577">SectionReader</span>&nbsp;<span class="keyword" id="2412591">struct</span>&nbsp;<span class="op" id="2412598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412601">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412607"><a href="/io/io.go.html#2405894">ReaderAt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412617">base</span>&nbsp;&nbsp;<span class="ident" id="2412623">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412630">off</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2412636">int64</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412643">limit</span>&nbsp;<span class="ident" id="2412649">int64</span><br>
<span class="lineno"></span><span class="op" id="2412655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412658">func</span>&nbsp;<span class="op" id="2412663">(</span><span class="ident" id="2412664">s</span>&nbsp;<span class="op" id="2412666">*</span><span class="ident" id="2412667"><a href="/io/io.go.html#2412577">SectionReader</a></span><span class="op" id="2412680">)</span>&nbsp;<span class="ident" id="2412682">Read</span><span class="op" id="2412686">(</span><span class="ident" id="2412687">p</span>&nbsp;<span class="op" id="2412689">[</span><span class="op" id="2412690">]</span><span class="builtintype" id="2412691">byte</span><span class="op" id="2412695">)</span>&nbsp;<span class="op" id="2412697">(</span><span class="ident" id="2412698">n</span>&nbsp;<span class="builtintype" id="2412700">int</span><span class="op" id="2412703">,</span>&nbsp;<span class="ident" id="2412705">err</span>&nbsp;<span class="builtintype" id="2412709">error</span><span class="op" id="2412714">)</span>&nbsp;<span class="op" id="2412716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412719">if</span>&nbsp;<span class="ident" id="2412722"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412723">.</span><span class="ident" id="2412724">off</span>&nbsp;<span class="op" id="2412728">&gt;=</span>&nbsp;<span class="ident" id="2412731"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412732">.</span><span class="ident" id="2412733">limit</span>&nbsp;<span class="op" id="2412739">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412743">return</span>&nbsp;<span class="num" id="2412750">0</span><span class="op" id="2412751">,</span>&nbsp;<span class="ident" id="2412753"><a href="/io/io.go.html#2399859">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412761">if</span>&nbsp;<span class="ident" id="2412764">max</span>&nbsp;<span class="op" id="2412768">:=</span>&nbsp;<span class="ident" id="2412771"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412772">.</span><span class="ident" id="2412773">limit</span>&nbsp;<span class="op" id="2412779">-</span>&nbsp;<span class="ident" id="2412781"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412782">.</span><span class="ident" id="2412783">off</span><span class="op" id="2412786">;</span>&nbsp;<span class="ident" id="2412788">int64</span><span class="op" id="2412793">(</span><span class="builtinfunc" id="2412794">len</span><span class="op" id="2412797">(</span><span class="ident" id="2412798"><a href="/io/io.go.html#2412687">p</a></span><span class="op" id="2412799">)</span><span class="op" id="2412800">)</span>&nbsp;<span class="op" id="2412802">&gt;</span>&nbsp;<span class="ident" id="2412804"><a href="/io/io.go.html#2412764">max</a></span>&nbsp;<span class="op" id="2412808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412812"><a href="/io/io.go.html#2412687">p</a></span>&nbsp;<span class="op" id="2412814">=</span>&nbsp;<span class="ident" id="2412816"><a href="/io/io.go.html#2412687">p</a></span><span class="op" id="2412817">[</span><span class="num" id="2412818">0</span><span class="op" id="2412819">:</span><span class="ident" id="2412820"><a href="/io/io.go.html#2412764">max</a></span><span class="op" id="2412823">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412826">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412829"><a href="/io/io.go.html#2412698">n</a></span><span class="op" id="2412830">,</span>&nbsp;<span class="ident" id="2412832"><a href="/io/io.go.html#2412705">err</a></span>&nbsp;<span class="op" id="2412836">=</span>&nbsp;<span class="ident" id="2412838"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412839">.</span><span class="ident" id="2412840">r</span><span class="op" id="2412841">.</span><span class="ident" id="2412842">ReadAt</span><span class="op" id="2412848">(</span><span class="ident" id="2412849"><a href="/io/io.go.html#2412687">p</a></span><span class="op" id="2412850">,</span>&nbsp;<span class="ident" id="2412852"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412853">.</span><span class="ident" id="2412854">off</span><span class="op" id="2412857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412860"><a href="/io/io.go.html#2412664">s</a></span><span class="op" id="2412861">.</span><span class="ident" id="2412862">off</span>&nbsp;<span class="op" id="2412866">+=</span>&nbsp;<span class="ident" id="2412869">int64</span><span class="op" id="2412874">(</span><span class="ident" id="2412875"><a href="/io/io.go.html#2412698">n</a></span><span class="op" id="2412876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412879">return</span><br>
<span class="lineno"></span><span class="op" id="2412886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="keyword" id="2412889">var</span>&nbsp;<span class="ident" id="2412893">errWhence</span>&nbsp;<span class="op" id="2412903">=</span>&nbsp;<span class="ident" id="2412905"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2412911">.</span><span class="ident" id="2412912">New</span><span class="op" id="2412915">(</span><span class="string" id="2412916">&#34;Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="2412938">)</span><br>
<span class="lineno"></span><span class="keyword" id="2412940">var</span>&nbsp;<span class="ident" id="2412944">errOffset</span>&nbsp;<span class="op" id="2412954">=</span>&nbsp;<span class="ident" id="2412956"><a href="/io/io.go.html#2399253">errors</a></span><span class="op" id="2412962">.</span><span class="ident" id="2412963">New</span><span class="op" id="2412966">(</span><span class="string" id="2412967">&#34;Seek:&nbsp;invalid&nbsp;offset&#34;</span><span class="op" id="2412989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412992">func</span>&nbsp;<span class="op" id="2412997">(</span><span class="ident" id="2412998">s</span>&nbsp;<span class="op" id="2413000">*</span><span class="ident" id="2413001"><a href="/io/io.go.html#2412577">SectionReader</a></span><span class="op" id="2413014">)</span>&nbsp;<span class="ident" id="2413016">Seek</span><span class="op" id="2413020">(</span><span class="ident" id="2413021">offset</span>&nbsp;<span class="ident" id="2413028">int64</span><span class="op" id="2413033">,</span>&nbsp;<span class="ident" id="2413035">whence</span>&nbsp;<span class="builtintype" id="2413042">int</span><span class="op" id="2413045">)</span>&nbsp;<span class="op" id="2413047">(</span><span class="ident" id="2413048">int64</span><span class="op" id="2413053">,</span>&nbsp;<span class="builtintype" id="2413055">error</span><span class="op" id="2413060">)</span>&nbsp;<span class="op" id="2413062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413065">switch</span>&nbsp;<span class="ident" id="2413072"><a href="/io/io.go.html#2413035">whence</a></span>&nbsp;<span class="op" id="2413079">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413082">default</span><span class="op" id="2413089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413093">return</span>&nbsp;<span class="num" id="2413100">0</span><span class="op" id="2413101">,</span>&nbsp;<span class="ident" id="2413103"><a href="/io/io.go.html#2412893">errWhence</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413114">case</span>&nbsp;<span class="num" id="2413119">0</span><span class="op" id="2413120">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413124"><a href="/io/io.go.html#2413021">offset</a></span>&nbsp;<span class="op" id="2413131">+=</span>&nbsp;<span class="ident" id="2413134"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413135">.</span><span class="ident" id="2413136">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413142">case</span>&nbsp;<span class="num" id="2413147">1</span><span class="op" id="2413148">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413152"><a href="/io/io.go.html#2413021">offset</a></span>&nbsp;<span class="op" id="2413159">+=</span>&nbsp;<span class="ident" id="2413162"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413163">.</span><span class="ident" id="2413164">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413169">case</span>&nbsp;<span class="num" id="2413174">2</span><span class="op" id="2413175">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413179"><a href="/io/io.go.html#2413021">offset</a></span>&nbsp;<span class="op" id="2413186">+=</span>&nbsp;<span class="ident" id="2413189"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413190">.</span><span class="ident" id="2413191">limit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413201">if</span>&nbsp;<span class="ident" id="2413204"><a href="/io/io.go.html#2413021">offset</a></span>&nbsp;<span class="op" id="2413211">&lt;</span>&nbsp;<span class="ident" id="2413213"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413214">.</span><span class="ident" id="2413215">base</span>&nbsp;<span class="op" id="2413220">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413224">return</span>&nbsp;<span class="num" id="2413231">0</span><span class="op" id="2413232">,</span>&nbsp;<span class="ident" id="2413234"><a href="/io/io.go.html#2412944">errOffset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413248"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413249">.</span><span class="ident" id="2413250">off</span>&nbsp;<span class="op" id="2413254">=</span>&nbsp;<span class="ident" id="2413256"><a href="/io/io.go.html#2413021">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413264">return</span>&nbsp;<span class="ident" id="2413271"><a href="/io/io.go.html#2413021">offset</a></span>&nbsp;<span class="op" id="2413278">-</span>&nbsp;<span class="ident" id="2413280"><a href="/io/io.go.html#2412998">s</a></span><span class="op" id="2413281">.</span><span class="ident" id="2413282">base</span><span class="op" id="2413286">,</span>&nbsp;<span class="ident" id="2413288">nil</span><br>
<span class="lineno"></span><span class="op" id="2413292">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2413295">func</span>&nbsp;<span class="op" id="2413300">(</span><span class="ident" id="2413301">s</span>&nbsp;<span class="op" id="2413303">*</span><span class="ident" id="2413304"><a href="/io/io.go.html#2412577">SectionReader</a></span><span class="op" id="2413317">)</span>&nbsp;<span class="ident" id="2413319">ReadAt</span><span class="op" id="2413325">(</span><span class="ident" id="2413326">p</span>&nbsp;<span class="op" id="2413328">[</span><span class="op" id="2413329">]</span><span class="builtintype" id="2413330">byte</span><span class="op" id="2413334">,</span>&nbsp;<span class="ident" id="2413336">off</span>&nbsp;<span class="ident" id="2413340">int64</span><span class="op" id="2413345">)</span>&nbsp;<span class="op" id="2413347">(</span><span class="ident" id="2413348">n</span>&nbsp;<span class="builtintype" id="2413350">int</span><span class="op" id="2413353">,</span>&nbsp;<span class="ident" id="2413355">err</span>&nbsp;<span class="builtintype" id="2413359">error</span><span class="op" id="2413364">)</span>&nbsp;<span class="op" id="2413366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413369">if</span>&nbsp;<span class="ident" id="2413372"><a href="/io/io.go.html#2413336">off</a></span>&nbsp;<span class="op" id="2413376">&lt;</span>&nbsp;<span class="num" id="2413378">0</span>&nbsp;<span class="op" id="2413380">||</span>&nbsp;<span class="ident" id="2413383"><a href="/io/io.go.html#2413336">off</a></span>&nbsp;<span class="op" id="2413387">&gt;=</span>&nbsp;<span class="ident" id="2413390"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413391">.</span><span class="ident" id="2413392">limit</span><span class="op" id="2413397">-</span><span class="ident" id="2413398"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413399">.</span><span class="ident" id="2413400">base</span>&nbsp;<span class="op" id="2413405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413409">return</span>&nbsp;<span class="num" id="2413416">0</span><span class="op" id="2413417">,</span>&nbsp;<span class="ident" id="2413419"><a href="/io/io.go.html#2399859">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413424">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413427"><a href="/io/io.go.html#2413336">off</a></span>&nbsp;<span class="op" id="2413431">+=</span>&nbsp;<span class="ident" id="2413434"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413435">.</span><span class="ident" id="2413436">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413442">if</span>&nbsp;<span class="ident" id="2413445">max</span>&nbsp;<span class="op" id="2413449">:=</span>&nbsp;<span class="ident" id="2413452"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413453">.</span><span class="ident" id="2413454">limit</span>&nbsp;<span class="op" id="2413460">-</span>&nbsp;<span class="ident" id="2413462"><a href="/io/io.go.html#2413336">off</a></span><span class="op" id="2413465">;</span>&nbsp;<span class="ident" id="2413467">int64</span><span class="op" id="2413472">(</span><span class="builtinfunc" id="2413473">len</span><span class="op" id="2413476">(</span><span class="ident" id="2413477"><a href="/io/io.go.html#2413326">p</a></span><span class="op" id="2413478">)</span><span class="op" id="2413479">)</span>&nbsp;<span class="op" id="2413481">&gt;</span>&nbsp;<span class="ident" id="2413483"><a href="/io/io.go.html#2413445">max</a></span>&nbsp;<span class="op" id="2413487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413491"><a href="/io/io.go.html#2413326">p</a></span>&nbsp;<span class="op" id="2413493">=</span>&nbsp;<span class="ident" id="2413495"><a href="/io/io.go.html#2413326">p</a></span><span class="op" id="2413496">[</span><span class="num" id="2413497">0</span><span class="op" id="2413498">:</span><span class="ident" id="2413499"><a href="/io/io.go.html#2413445">max</a></span><span class="op" id="2413502">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413506"><a href="/io/io.go.html#2413348">n</a></span><span class="op" id="2413507">,</span>&nbsp;<span class="ident" id="2413509"><a href="/io/io.go.html#2413355">err</a></span>&nbsp;<span class="op" id="2413513">=</span>&nbsp;<span class="ident" id="2413515"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413516">.</span><span class="ident" id="2413517">r</span><span class="op" id="2413518">.</span><span class="ident" id="2413519">ReadAt</span><span class="op" id="2413525">(</span><span class="ident" id="2413526"><a href="/io/io.go.html#2413326">p</a></span><span class="op" id="2413527">,</span>&nbsp;<span class="ident" id="2413529"><a href="/io/io.go.html#2413336">off</a></span><span class="op" id="2413532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413536">if</span>&nbsp;<span class="ident" id="2413539"><a href="/io/io.go.html#2413355">err</a></span>&nbsp;<span class="op" id="2413543">==</span>&nbsp;<span class="ident" id="2413546">nil</span>&nbsp;<span class="op" id="2413550">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413555"><a href="/io/io.go.html#2413355">err</a></span>&nbsp;<span class="op" id="2413559">=</span>&nbsp;<span class="ident" id="2413561"><a href="/io/io.go.html#2399859">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413571">return</span>&nbsp;<span class="ident" id="2413578"><a href="/io/io.go.html#2413348">n</a></span><span class="op" id="2413579">,</span>&nbsp;<span class="ident" id="2413581"><a href="/io/io.go.html#2413355">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413589">return</span>&nbsp;<span class="ident" id="2413596"><a href="/io/io.go.html#2413301">s</a></span><span class="op" id="2413597">.</span><span class="ident" id="2413598">r</span><span class="op" id="2413599">.</span><span class="ident" id="2413600">ReadAt</span><span class="op" id="2413606">(</span><span class="ident" id="2413607"><a href="/io/io.go.html#2413326">p</a></span><span class="op" id="2413608">,</span>&nbsp;<span class="ident" id="2413610"><a href="/io/io.go.html#2413336">off</a></span><span class="op" id="2413613">)</span><br>
<span class="lineno">475</span><span class="op" id="2413615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2413618">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;section&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="2413668">func</span>&nbsp;<span class="op" id="2413673">(</span><span class="ident" id="2413674">s</span>&nbsp;<span class="op" id="2413676">*</span><span class="ident" id="2413677"><a href="/io/io.go.html#2412577">SectionReader</a></span><span class="op" id="2413690">)</span>&nbsp;<span class="ident" id="2413692">Size</span><span class="op" id="2413696">(</span><span class="op" id="2413697">)</span>&nbsp;<span class="ident" id="2413699">int64</span>&nbsp;<span class="op" id="2413705">{</span>&nbsp;<span class="keyword" id="2413707">return</span>&nbsp;<span class="ident" id="2413714"><a href="/io/io.go.html#2413674">s</a></span><span class="op" id="2413715">.</span><span class="ident" id="2413716">limit</span>&nbsp;<span class="op" id="2413722">-</span>&nbsp;<span class="ident" id="2413724"><a href="/io/io.go.html#2413674">s</a></span><span class="op" id="2413725">.</span><span class="ident" id="2413726">base</span>&nbsp;<span class="op" id="2413731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="comment" id="2413734">//&nbsp;TeeReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;writes&nbsp;to&nbsp;w&nbsp;what&nbsp;it&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="2413803">//&nbsp;All&nbsp;reads&nbsp;from&nbsp;r&nbsp;performed&nbsp;through&nbsp;it&nbsp;are&nbsp;matched&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="2413861">//&nbsp;corresponding&nbsp;writes&nbsp;to&nbsp;w.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;internal&nbsp;buffering&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="2413925">//&nbsp;the&nbsp;write&nbsp;must&nbsp;complete&nbsp;before&nbsp;the&nbsp;read&nbsp;completes.</span><br>
<span class="lineno"></span><span class="comment" id="2413979">//&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;while&nbsp;writing&nbsp;is&nbsp;reported&nbsp;as&nbsp;a&nbsp;read&nbsp;error.</span><br>
<span class="lineno">485</span><span class="keyword" id="2414047">func</span>&nbsp;<span class="ident" id="2414052">TeeReader</span><span class="op" id="2414061">(</span><span class="ident" id="2414062">r</span>&nbsp;<span class="ident" id="2414064"><a href="/io/io.go.html#2401732">Reader</a></span><span class="op" id="2414070">,</span>&nbsp;<span class="ident" id="2414072">w</span>&nbsp;<span class="ident" id="2414074"><a href="/io/io.go.html#2402223">Writer</a></span><span class="op" id="2414080">)</span>&nbsp;<span class="ident" id="2414082"><a href="/io/io.go.html#2401732">Reader</a></span>&nbsp;<span class="op" id="2414089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414092">return</span>&nbsp;<span class="op" id="2414099">&amp;</span><span class="ident" id="2414100"><a href="/io/io.go.html#2414124">teeReader</a></span><span class="op" id="2414109">{</span><span class="ident" id="2414110"><a href="/io/io.go.html#2414062">r</a></span><span class="op" id="2414111">,</span>&nbsp;<span class="ident" id="2414113"><a href="/io/io.go.html#2414072">w</a></span><span class="op" id="2414114">}</span><br>
<span class="lineno"></span><span class="op" id="2414116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2414119">type</span>&nbsp;<span class="ident" id="2414124">teeReader</span>&nbsp;<span class="keyword" id="2414134">struct</span>&nbsp;<span class="op" id="2414141">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414144">r</span>&nbsp;<span class="ident" id="2414146"><a href="/io/io.go.html#2401732">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414154">w</span>&nbsp;<span class="ident" id="2414156"><a href="/io/io.go.html#2402223">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="2414163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2414166">func</span>&nbsp;<span class="op" id="2414171">(</span><span class="ident" id="2414172">t</span>&nbsp;<span class="op" id="2414174">*</span><span class="ident" id="2414175"><a href="/io/io.go.html#2414124">teeReader</a></span><span class="op" id="2414184">)</span>&nbsp;<span class="ident" id="2414186">Read</span><span class="op" id="2414190">(</span><span class="ident" id="2414191">p</span>&nbsp;<span class="op" id="2414193">[</span><span class="op" id="2414194">]</span><span class="builtintype" id="2414195">byte</span><span class="op" id="2414199">)</span>&nbsp;<span class="op" id="2414201">(</span><span class="ident" id="2414202">n</span>&nbsp;<span class="builtintype" id="2414204">int</span><span class="op" id="2414207">,</span>&nbsp;<span class="ident" id="2414209">err</span>&nbsp;<span class="builtintype" id="2414213">error</span><span class="op" id="2414218">)</span>&nbsp;<span class="op" id="2414220">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414223"><a href="/io/io.go.html#2414202">n</a></span><span class="op" id="2414224">,</span>&nbsp;<span class="ident" id="2414226"><a href="/io/io.go.html#2414209">err</a></span>&nbsp;<span class="op" id="2414230">=</span>&nbsp;<span class="ident" id="2414232"><a href="/io/io.go.html#2414172">t</a></span><span class="op" id="2414233">.</span><span class="ident" id="2414234">r</span><span class="op" id="2414235">.</span><span class="ident" id="2414236">Read</span><span class="op" id="2414240">(</span><span class="ident" id="2414241"><a href="/io/io.go.html#2414191">p</a></span><span class="op" id="2414242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414245">if</span>&nbsp;<span class="ident" id="2414248"><a href="/io/io.go.html#2414202">n</a></span>&nbsp;<span class="op" id="2414250">&gt;</span>&nbsp;<span class="num" id="2414252">0</span>&nbsp;<span class="op" id="2414254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414258">if</span>&nbsp;<span class="ident" id="2414261">n</span><span class="op" id="2414262">,</span>&nbsp;<span class="ident" id="2414264">err</span>&nbsp;<span class="op" id="2414268">:=</span>&nbsp;<span class="ident" id="2414271"><a href="/io/io.go.html#2414172">t</a></span><span class="op" id="2414272">.</span><span class="ident" id="2414273">w</span><span class="op" id="2414274">.</span><span class="ident" id="2414275">Write</span><span class="op" id="2414280">(</span><span class="ident" id="2414281"><a href="/io/io.go.html#2414191">p</a></span><span class="op" id="2414282">[</span><span class="op" id="2414283">:</span><span class="ident" id="2414284"><a href="/io/io.go.html#2414202">n</a></span><span class="op" id="2414285">]</span><span class="op" id="2414286">)</span><span class="op" id="2414287">;</span>&nbsp;<span class="ident" id="2414289"><a href="/io/io.go.html#2414264">err</a></span>&nbsp;<span class="op" id="2414293">!=</span>&nbsp;<span class="ident" id="2414296">nil</span>&nbsp;<span class="op" id="2414300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414305">return</span>&nbsp;<span class="ident" id="2414312"><a href="/io/io.go.html#2414261">n</a></span><span class="op" id="2414313">,</span>&nbsp;<span class="ident" id="2414315"><a href="/io/io.go.html#2414264">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414321">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414327">return</span><br>
<span class="lineno"></span><span class="op" id="2414334">}</span>
</div>
</body>
</html>
