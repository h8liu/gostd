<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3208266">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3208321">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3208375">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3208426">package</span>&nbsp;<span class="ident" id="3208434">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3208441">import</span>&nbsp;<span class="op" id="3208448">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3208451">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3208461">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3208467">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3208482">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3208485">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.WriterTo,&nbsp;io.Seeker,</span><br>
<span class="lineno"></span><span class="comment" id="3208560">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading&nbsp;from</span><br>
<span class="lineno">15</span><span class="comment" id="3208625">//&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="3208642">//&nbsp;Unlike&nbsp;a&nbsp;Buffer,&nbsp;a&nbsp;Reader&nbsp;is&nbsp;read-only&nbsp;and&nbsp;supports&nbsp;seeking.</span><br>
<span class="lineno"></span><span class="keyword" id="3208706">type</span>&nbsp;<span class="ident" id="3208711">Reader</span>&nbsp;<span class="keyword" id="3208718">struct</span>&nbsp;<span class="op" id="3208725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208728">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3208737">[</span><span class="op" id="3208738">]</span><span class="builtintype" id="3208739">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208745">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3208754">int64</span>&nbsp;<span class="comment" id="3208760">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3208786">prevRune</span>&nbsp;<span class="builtintype" id="3208795">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3208801">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="op" id="3208835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3208838">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3208902">//&nbsp;slice.</span><br>
<span class="lineno">25</span><span class="keyword" id="3208912">func</span>&nbsp;<span class="op" id="3208917">(</span><span class="ident" id="3208918">r</span>&nbsp;<span class="op" id="3208920">*</span><span class="ident" id="3208921"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3208927">)</span>&nbsp;<span class="ident" id="3208929">Len</span><span class="op" id="3208932">(</span><span class="op" id="3208933">)</span>&nbsp;<span class="builtintype" id="3208935">int</span>&nbsp;<span class="op" id="3208939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208942">if</span>&nbsp;<span class="ident" id="3208945"><a href="/bytes/reader.go.html#3208918">r</a></span><span class="op" id="3208946">.</span><span class="ident" id="3208947">i</span>&nbsp;<span class="op" id="3208949">&gt;=</span>&nbsp;<span class="ident" id="3208952">int64</span><span class="op" id="3208957">(</span><span class="builtinfunc" id="3208958">len</span><span class="op" id="3208961">(</span><span class="ident" id="3208962"><a href="/bytes/reader.go.html#3208918">r</a></span><span class="op" id="3208963">.</span><span class="ident" id="3208964">s</span><span class="op" id="3208965">)</span><span class="op" id="3208966">)</span>&nbsp;<span class="op" id="3208968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208972">return</span>&nbsp;<span class="num" id="3208979">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3208982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3208985">return</span>&nbsp;<span class="builtintype" id="3208992">int</span><span class="op" id="3208995">(</span><span class="ident" id="3208996">int64</span><span class="op" id="3209001">(</span><span class="builtinfunc" id="3209002">len</span><span class="op" id="3209005">(</span><span class="ident" id="3209006"><a href="/bytes/reader.go.html#3208918">r</a></span><span class="op" id="3209007">.</span><span class="ident" id="3209008">s</span><span class="op" id="3209009">)</span><span class="op" id="3209010">)</span>&nbsp;<span class="op" id="3209012">-</span>&nbsp;<span class="ident" id="3209014"><a href="/bytes/reader.go.html#3208918">r</a></span><span class="op" id="3209015">.</span><span class="ident" id="3209016">i</span><span class="op" id="3209017">)</span><br>
<span class="lineno">30</span><span class="op" id="3209019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3209022">func</span>&nbsp;<span class="op" id="3209027">(</span><span class="ident" id="3209028">r</span>&nbsp;<span class="op" id="3209030">*</span><span class="ident" id="3209031"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3209037">)</span>&nbsp;<span class="ident" id="3209039">Read</span><span class="op" id="3209043">(</span><span class="ident" id="3209044">b</span>&nbsp;<span class="op" id="3209046">[</span><span class="op" id="3209047">]</span><span class="builtintype" id="3209048">byte</span><span class="op" id="3209052">)</span>&nbsp;<span class="op" id="3209054">(</span><span class="ident" id="3209055">n</span>&nbsp;<span class="builtintype" id="3209057">int</span><span class="op" id="3209060">,</span>&nbsp;<span class="ident" id="3209062">err</span>&nbsp;<span class="builtintype" id="3209066">error</span><span class="op" id="3209071">)</span>&nbsp;<span class="op" id="3209073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209076">if</span>&nbsp;<span class="builtinfunc" id="3209079">len</span><span class="op" id="3209082">(</span><span class="ident" id="3209083"><a href="/bytes/reader.go.html#3209044">b</a></span><span class="op" id="3209084">)</span>&nbsp;<span class="op" id="3209086">==</span>&nbsp;<span class="num" id="3209089">0</span>&nbsp;<span class="op" id="3209091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209095">return</span>&nbsp;<span class="num" id="3209102">0</span><span class="op" id="3209103">,</span>&nbsp;<span class="ident" id="3209105">nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209113">if</span>&nbsp;<span class="ident" id="3209116"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209117">.</span><span class="ident" id="3209118">i</span>&nbsp;<span class="op" id="3209120">&gt;=</span>&nbsp;<span class="ident" id="3209123">int64</span><span class="op" id="3209128">(</span><span class="builtinfunc" id="3209129">len</span><span class="op" id="3209132">(</span><span class="ident" id="3209133"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209134">.</span><span class="ident" id="3209135">s</span><span class="op" id="3209136">)</span><span class="op" id="3209137">)</span>&nbsp;<span class="op" id="3209139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209143">return</span>&nbsp;<span class="num" id="3209150">0</span><span class="op" id="3209151">,</span>&nbsp;<span class="ident" id="3209153"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3209155">.</span><span class="ident" id="3209156">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209164"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209165">.</span><span class="ident" id="3209166">prevRune</span>&nbsp;<span class="op" id="3209175">=</span>&nbsp;<span class="op" id="3209177">-</span><span class="num" id="3209178">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209181"><a href="/bytes/reader.go.html#3209055">n</a></span>&nbsp;<span class="op" id="3209183">=</span>&nbsp;<span class="builtinfunc" id="3209185">copy</span><span class="op" id="3209189">(</span><span class="ident" id="3209190"><a href="/bytes/reader.go.html#3209044">b</a></span><span class="op" id="3209191">,</span>&nbsp;<span class="ident" id="3209193"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209194">.</span><span class="ident" id="3209195">s</span><span class="op" id="3209196">[</span><span class="ident" id="3209197"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209198">.</span><span class="ident" id="3209199">i</span><span class="op" id="3209200">:</span><span class="op" id="3209201">]</span><span class="op" id="3209202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209205"><a href="/bytes/reader.go.html#3209028">r</a></span><span class="op" id="3209206">.</span><span class="ident" id="3209207">i</span>&nbsp;<span class="op" id="3209209">+=</span>&nbsp;<span class="ident" id="3209212">int64</span><span class="op" id="3209217">(</span><span class="ident" id="3209218"><a href="/bytes/reader.go.html#3209055">n</a></span><span class="op" id="3209219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209222">return</span><br>
<span class="lineno"></span><span class="op" id="3209229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="3209232">func</span>&nbsp;<span class="op" id="3209237">(</span><span class="ident" id="3209238">r</span>&nbsp;<span class="op" id="3209240">*</span><span class="ident" id="3209241"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3209247">)</span>&nbsp;<span class="ident" id="3209249">ReadAt</span><span class="op" id="3209255">(</span><span class="ident" id="3209256">b</span>&nbsp;<span class="op" id="3209258">[</span><span class="op" id="3209259">]</span><span class="builtintype" id="3209260">byte</span><span class="op" id="3209264">,</span>&nbsp;<span class="ident" id="3209266">off</span>&nbsp;<span class="ident" id="3209270">int64</span><span class="op" id="3209275">)</span>&nbsp;<span class="op" id="3209277">(</span><span class="ident" id="3209278">n</span>&nbsp;<span class="builtintype" id="3209280">int</span><span class="op" id="3209283">,</span>&nbsp;<span class="ident" id="3209285">err</span>&nbsp;<span class="builtintype" id="3209289">error</span><span class="op" id="3209294">)</span>&nbsp;<span class="op" id="3209296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3209299">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209341">if</span>&nbsp;<span class="ident" id="3209344"><a href="/bytes/reader.go.html#3209266">off</a></span>&nbsp;<span class="op" id="3209348">&lt;</span>&nbsp;<span class="num" id="3209350">0</span>&nbsp;<span class="op" id="3209352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209356">return</span>&nbsp;<span class="num" id="3209363">0</span><span class="op" id="3209364">,</span>&nbsp;<span class="ident" id="3209366"><a href="/bytes/reader.go.html#3208451">errors</a></span><span class="op" id="3209372">.</span><span class="ident" id="3209373">New</span><span class="op" id="3209376">(</span><span class="string" id="3209377">&#34;bytes.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="3209415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209418">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209421">if</span>&nbsp;<span class="ident" id="3209424"><a href="/bytes/reader.go.html#3209266">off</a></span>&nbsp;<span class="op" id="3209428">&gt;=</span>&nbsp;<span class="ident" id="3209431">int64</span><span class="op" id="3209436">(</span><span class="builtinfunc" id="3209437">len</span><span class="op" id="3209440">(</span><span class="ident" id="3209441"><a href="/bytes/reader.go.html#3209238">r</a></span><span class="op" id="3209442">.</span><span class="ident" id="3209443">s</span><span class="op" id="3209444">)</span><span class="op" id="3209445">)</span>&nbsp;<span class="op" id="3209447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209451">return</span>&nbsp;<span class="num" id="3209458">0</span><span class="op" id="3209459">,</span>&nbsp;<span class="ident" id="3209461"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3209463">.</span><span class="ident" id="3209464">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209472"><a href="/bytes/reader.go.html#3209278">n</a></span>&nbsp;<span class="op" id="3209474">=</span>&nbsp;<span class="builtinfunc" id="3209476">copy</span><span class="op" id="3209480">(</span><span class="ident" id="3209481"><a href="/bytes/reader.go.html#3209256">b</a></span><span class="op" id="3209482">,</span>&nbsp;<span class="ident" id="3209484"><a href="/bytes/reader.go.html#3209238">r</a></span><span class="op" id="3209485">.</span><span class="ident" id="3209486">s</span><span class="op" id="3209487">[</span><span class="ident" id="3209488"><a href="/bytes/reader.go.html#3209266">off</a></span><span class="op" id="3209491">:</span><span class="op" id="3209492">]</span><span class="op" id="3209493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209496">if</span>&nbsp;<span class="ident" id="3209499"><a href="/bytes/reader.go.html#3209278">n</a></span>&nbsp;<span class="op" id="3209501">&lt;</span>&nbsp;<span class="builtinfunc" id="3209503">len</span><span class="op" id="3209506">(</span><span class="ident" id="3209507"><a href="/bytes/reader.go.html#3209256">b</a></span><span class="op" id="3209508">)</span>&nbsp;<span class="op" id="3209510">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209514"><a href="/bytes/reader.go.html#3209285">err</a></span>&nbsp;<span class="op" id="3209518">=</span>&nbsp;<span class="ident" id="3209520"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3209522">.</span><span class="ident" id="3209523">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209531">return</span><br>
<span class="lineno"></span><span class="op" id="3209538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3209541">func</span>&nbsp;<span class="op" id="3209546">(</span><span class="ident" id="3209547">r</span>&nbsp;<span class="op" id="3209549">*</span><span class="ident" id="3209550"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3209556">)</span>&nbsp;<span class="ident" id="3209558">ReadByte</span><span class="op" id="3209566">(</span><span class="op" id="3209567">)</span>&nbsp;<span class="op" id="3209569">(</span><span class="ident" id="3209570">b</span>&nbsp;<span class="builtintype" id="3209572">byte</span><span class="op" id="3209576">,</span>&nbsp;<span class="ident" id="3209578">err</span>&nbsp;<span class="builtintype" id="3209582">error</span><span class="op" id="3209587">)</span>&nbsp;<span class="op" id="3209589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209592"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209593">.</span><span class="ident" id="3209594">prevRune</span>&nbsp;<span class="op" id="3209603">=</span>&nbsp;<span class="op" id="3209605">-</span><span class="num" id="3209606">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209609">if</span>&nbsp;<span class="ident" id="3209612"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209613">.</span><span class="ident" id="3209614">i</span>&nbsp;<span class="op" id="3209616">&gt;=</span>&nbsp;<span class="ident" id="3209619">int64</span><span class="op" id="3209624">(</span><span class="builtinfunc" id="3209625">len</span><span class="op" id="3209628">(</span><span class="ident" id="3209629"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209630">.</span><span class="ident" id="3209631">s</span><span class="op" id="3209632">)</span><span class="op" id="3209633">)</span>&nbsp;<span class="op" id="3209635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209639">return</span>&nbsp;<span class="num" id="3209646">0</span><span class="op" id="3209647">,</span>&nbsp;<span class="ident" id="3209649"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3209651">.</span><span class="ident" id="3209652">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209657">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209660"><a href="/bytes/reader.go.html#3209570">b</a></span>&nbsp;<span class="op" id="3209662">=</span>&nbsp;<span class="ident" id="3209664"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209665">.</span><span class="ident" id="3209666">s</span><span class="op" id="3209667">[</span><span class="ident" id="3209668"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209669">.</span><span class="ident" id="3209670">i</span><span class="op" id="3209671">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209674"><a href="/bytes/reader.go.html#3209547">r</a></span><span class="op" id="3209675">.</span><span class="ident" id="3209676">i</span><span class="op" id="3209677">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209681">return</span><br>
<span class="lineno"></span><span class="op" id="3209688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="3209691">func</span>&nbsp;<span class="op" id="3209696">(</span><span class="ident" id="3209697">r</span>&nbsp;<span class="op" id="3209699">*</span><span class="ident" id="3209700"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3209706">)</span>&nbsp;<span class="ident" id="3209708">UnreadByte</span><span class="op" id="3209718">(</span><span class="op" id="3209719">)</span>&nbsp;<span class="builtintype" id="3209721">error</span>&nbsp;<span class="op" id="3209727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209730"><a href="/bytes/reader.go.html#3209697">r</a></span><span class="op" id="3209731">.</span><span class="ident" id="3209732">prevRune</span>&nbsp;<span class="op" id="3209741">=</span>&nbsp;<span class="op" id="3209743">-</span><span class="num" id="3209744">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209747">if</span>&nbsp;<span class="ident" id="3209750"><a href="/bytes/reader.go.html#3209697">r</a></span><span class="op" id="3209751">.</span><span class="ident" id="3209752">i</span>&nbsp;<span class="op" id="3209754">&lt;=</span>&nbsp;<span class="num" id="3209757">0</span>&nbsp;<span class="op" id="3209759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209763">return</span>&nbsp;<span class="ident" id="3209770"><a href="/bytes/reader.go.html#3208451">errors</a></span><span class="op" id="3209776">.</span><span class="ident" id="3209777">New</span><span class="op" id="3209780">(</span><span class="string" id="3209781">&#34;bytes.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;slice&#34;</span><span class="op" id="3209829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209832">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209835"><a href="/bytes/reader.go.html#3209697">r</a></span><span class="op" id="3209836">.</span><span class="ident" id="3209837">i</span><span class="op" id="3209838">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209842">return</span>&nbsp;<span class="ident" id="3209849">nil</span><br>
<span class="lineno"></span><span class="op" id="3209853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3209856">func</span>&nbsp;<span class="op" id="3209861">(</span><span class="ident" id="3209862">r</span>&nbsp;<span class="op" id="3209864">*</span><span class="ident" id="3209865"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3209871">)</span>&nbsp;<span class="ident" id="3209873">ReadRune</span><span class="op" id="3209881">(</span><span class="op" id="3209882">)</span>&nbsp;<span class="op" id="3209884">(</span><span class="ident" id="3209885">ch</span>&nbsp;<span class="builtintype" id="3209888">rune</span><span class="op" id="3209892">,</span>&nbsp;<span class="ident" id="3209894">size</span>&nbsp;<span class="builtintype" id="3209899">int</span><span class="op" id="3209902">,</span>&nbsp;<span class="ident" id="3209904">err</span>&nbsp;<span class="builtintype" id="3209908">error</span><span class="op" id="3209913">)</span>&nbsp;<span class="op" id="3209915">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209918">if</span>&nbsp;<span class="ident" id="3209921"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3209922">.</span><span class="ident" id="3209923">i</span>&nbsp;<span class="op" id="3209925">&gt;=</span>&nbsp;<span class="ident" id="3209928">int64</span><span class="op" id="3209933">(</span><span class="builtinfunc" id="3209934">len</span><span class="op" id="3209937">(</span><span class="ident" id="3209938"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3209939">.</span><span class="ident" id="3209940">s</span><span class="op" id="3209941">)</span><span class="op" id="3209942">)</span>&nbsp;<span class="op" id="3209944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209948"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3209949">.</span><span class="ident" id="3209950">prevRune</span>&nbsp;<span class="op" id="3209959">=</span>&nbsp;<span class="op" id="3209961">-</span><span class="num" id="3209962">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3209966">return</span>&nbsp;<span class="num" id="3209973">0</span><span class="op" id="3209974">,</span>&nbsp;<span class="num" id="3209976">0</span><span class="op" id="3209977">,</span>&nbsp;<span class="ident" id="3209979"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3209981">.</span><span class="ident" id="3209982">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3209987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3209990"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3209991">.</span><span class="ident" id="3209992">prevRune</span>&nbsp;<span class="op" id="3210001">=</span>&nbsp;<span class="builtintype" id="3210003">int</span><span class="op" id="3210006">(</span><span class="ident" id="3210007"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210008">.</span><span class="ident" id="3210009">i</span><span class="op" id="3210010">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210013">if</span>&nbsp;<span class="ident" id="3210016">c</span>&nbsp;<span class="op" id="3210018">:=</span>&nbsp;<span class="ident" id="3210021"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210022">.</span><span class="ident" id="3210023">s</span><span class="op" id="3210024">[</span><span class="ident" id="3210025"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210026">.</span><span class="ident" id="3210027">i</span><span class="op" id="3210028">]</span><span class="op" id="3210029">;</span>&nbsp;<span class="ident" id="3210031"><a href="/bytes/reader.go.html#3210016">c</a></span>&nbsp;<span class="op" id="3210033">&lt;</span>&nbsp;<span class="ident" id="3210035"><a href="/bytes/reader.go.html#3208467">utf8</a></span><span class="op" id="3210039">.</span><span class="ident" id="3210040">RuneSelf</span>&nbsp;<span class="op" id="3210049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210053"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210054">.</span><span class="ident" id="3210055">i</span><span class="op" id="3210056">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210061">return</span>&nbsp;<span class="builtintype" id="3210068">rune</span><span class="op" id="3210072">(</span><span class="ident" id="3210073"><a href="/bytes/reader.go.html#3210016">c</a></span><span class="op" id="3210074">)</span><span class="op" id="3210075">,</span>&nbsp;<span class="num" id="3210077">1</span><span class="op" id="3210078">,</span>&nbsp;<span class="ident" id="3210080">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210088"><a href="/bytes/reader.go.html#3209885">ch</a></span><span class="op" id="3210090">,</span>&nbsp;<span class="ident" id="3210092"><a href="/bytes/reader.go.html#3209894">size</a></span>&nbsp;<span class="op" id="3210097">=</span>&nbsp;<span class="ident" id="3210099"><a href="/bytes/reader.go.html#3208467">utf8</a></span><span class="op" id="3210103">.</span><span class="ident" id="3210104">DecodeRune</span><span class="op" id="3210114">(</span><span class="ident" id="3210115"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210116">.</span><span class="ident" id="3210117">s</span><span class="op" id="3210118">[</span><span class="ident" id="3210119"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210120">.</span><span class="ident" id="3210121">i</span><span class="op" id="3210122">:</span><span class="op" id="3210123">]</span><span class="op" id="3210124">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210127"><a href="/bytes/reader.go.html#3209862">r</a></span><span class="op" id="3210128">.</span><span class="ident" id="3210129">i</span>&nbsp;<span class="op" id="3210131">+=</span>&nbsp;<span class="ident" id="3210134">int64</span><span class="op" id="3210139">(</span><span class="ident" id="3210140"><a href="/bytes/reader.go.html#3209894">size</a></span><span class="op" id="3210144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210147">return</span><br>
<span class="lineno"></span><span class="op" id="3210154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3210157">func</span>&nbsp;<span class="op" id="3210162">(</span><span class="ident" id="3210163">r</span>&nbsp;<span class="op" id="3210165">*</span><span class="ident" id="3210166"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3210172">)</span>&nbsp;<span class="ident" id="3210174">UnreadRune</span><span class="op" id="3210184">(</span><span class="op" id="3210185">)</span>&nbsp;<span class="builtintype" id="3210187">error</span>&nbsp;<span class="op" id="3210193">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210196">if</span>&nbsp;<span class="ident" id="3210199"><a href="/bytes/reader.go.html#3210163">r</a></span><span class="op" id="3210200">.</span><span class="ident" id="3210201">prevRune</span>&nbsp;<span class="op" id="3210210">&lt;</span>&nbsp;<span class="num" id="3210212">0</span>&nbsp;<span class="op" id="3210214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210218">return</span>&nbsp;<span class="ident" id="3210225"><a href="/bytes/reader.go.html#3208451">errors</a></span><span class="op" id="3210231">.</span><span class="ident" id="3210232">New</span><span class="op" id="3210235">(</span><span class="string" id="3210236">&#34;bytes.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="3210298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210304"><a href="/bytes/reader.go.html#3210163">r</a></span><span class="op" id="3210305">.</span><span class="ident" id="3210306">i</span>&nbsp;<span class="op" id="3210308">=</span>&nbsp;<span class="ident" id="3210310">int64</span><span class="op" id="3210315">(</span><span class="ident" id="3210316"><a href="/bytes/reader.go.html#3210163">r</a></span><span class="op" id="3210317">.</span><span class="ident" id="3210318">prevRune</span><span class="op" id="3210326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210329"><a href="/bytes/reader.go.html#3210163">r</a></span><span class="op" id="3210330">.</span><span class="ident" id="3210331">prevRune</span>&nbsp;<span class="op" id="3210340">=</span>&nbsp;<span class="op" id="3210342">-</span><span class="num" id="3210343">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210346">return</span>&nbsp;<span class="ident" id="3210353">nil</span><br>
<span class="lineno"></span><span class="op" id="3210357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3210360">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3210404">func</span>&nbsp;<span class="op" id="3210409">(</span><span class="ident" id="3210410">r</span>&nbsp;<span class="op" id="3210412">*</span><span class="ident" id="3210413"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3210419">)</span>&nbsp;<span class="ident" id="3210421">Seek</span><span class="op" id="3210425">(</span><span class="ident" id="3210426">offset</span>&nbsp;<span class="ident" id="3210433">int64</span><span class="op" id="3210438">,</span>&nbsp;<span class="ident" id="3210440">whence</span>&nbsp;<span class="builtintype" id="3210447">int</span><span class="op" id="3210450">)</span>&nbsp;<span class="op" id="3210452">(</span><span class="ident" id="3210453">int64</span><span class="op" id="3210458">,</span>&nbsp;<span class="builtintype" id="3210460">error</span><span class="op" id="3210465">)</span>&nbsp;<span class="op" id="3210467">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210470"><a href="/bytes/reader.go.html#3210410">r</a></span><span class="op" id="3210471">.</span><span class="ident" id="3210472">prevRune</span>&nbsp;<span class="op" id="3210481">=</span>&nbsp;<span class="op" id="3210483">-</span><span class="num" id="3210484">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210487">var</span>&nbsp;<span class="ident" id="3210491">abs</span>&nbsp;<span class="ident" id="3210495">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210502">switch</span>&nbsp;<span class="ident" id="3210509"><a href="/bytes/reader.go.html#3210440">whence</a></span>&nbsp;<span class="op" id="3210516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210519">case</span>&nbsp;<span class="num" id="3210524">0</span><span class="op" id="3210525">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210529"><a href="/bytes/reader.go.html#3210491">abs</a></span>&nbsp;<span class="op" id="3210533">=</span>&nbsp;<span class="ident" id="3210535"><a href="/bytes/reader.go.html#3210426">offset</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210543">case</span>&nbsp;<span class="num" id="3210548">1</span><span class="op" id="3210549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210553"><a href="/bytes/reader.go.html#3210491">abs</a></span>&nbsp;<span class="op" id="3210557">=</span>&nbsp;<span class="ident" id="3210559">int64</span><span class="op" id="3210564">(</span><span class="ident" id="3210565"><a href="/bytes/reader.go.html#3210410">r</a></span><span class="op" id="3210566">.</span><span class="ident" id="3210567">i</span><span class="op" id="3210568">)</span>&nbsp;<span class="op" id="3210570">+</span>&nbsp;<span class="ident" id="3210572"><a href="/bytes/reader.go.html#3210426">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210580">case</span>&nbsp;<span class="num" id="3210585">2</span><span class="op" id="3210586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210590"><a href="/bytes/reader.go.html#3210491">abs</a></span>&nbsp;<span class="op" id="3210594">=</span>&nbsp;<span class="ident" id="3210596">int64</span><span class="op" id="3210601">(</span><span class="builtinfunc" id="3210602">len</span><span class="op" id="3210605">(</span><span class="ident" id="3210606"><a href="/bytes/reader.go.html#3210410">r</a></span><span class="op" id="3210607">.</span><span class="ident" id="3210608">s</span><span class="op" id="3210609">)</span><span class="op" id="3210610">)</span>&nbsp;<span class="op" id="3210612">+</span>&nbsp;<span class="ident" id="3210614"><a href="/bytes/reader.go.html#3210426">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210622">default</span><span class="op" id="3210629">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210633">return</span>&nbsp;<span class="num" id="3210640">0</span><span class="op" id="3210641">,</span>&nbsp;<span class="ident" id="3210643"><a href="/bytes/reader.go.html#3208451">errors</a></span><span class="op" id="3210649">.</span><span class="ident" id="3210650">New</span><span class="op" id="3210653">(</span><span class="string" id="3210654">&#34;bytes.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="3210689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210695">if</span>&nbsp;<span class="ident" id="3210698"><a href="/bytes/reader.go.html#3210491">abs</a></span>&nbsp;<span class="op" id="3210702">&lt;</span>&nbsp;<span class="num" id="3210704">0</span>&nbsp;<span class="op" id="3210706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210710">return</span>&nbsp;<span class="num" id="3210717">0</span><span class="op" id="3210718">,</span>&nbsp;<span class="ident" id="3210720"><a href="/bytes/reader.go.html#3208451">errors</a></span><span class="op" id="3210726">.</span><span class="ident" id="3210727">New</span><span class="op" id="3210730">(</span><span class="string" id="3210731">&#34;bytes.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="3210769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210772">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210775"><a href="/bytes/reader.go.html#3210410">r</a></span><span class="op" id="3210776">.</span><span class="ident" id="3210777">i</span>&nbsp;<span class="op" id="3210779">=</span>&nbsp;<span class="ident" id="3210781"><a href="/bytes/reader.go.html#3210491">abs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210786">return</span>&nbsp;<span class="ident" id="3210793"><a href="/bytes/reader.go.html#3210491">abs</a></span><span class="op" id="3210796">,</span>&nbsp;<span class="ident" id="3210798">nil</span><br>
<span class="lineno"></span><span class="op" id="3210802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3210805">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno">125</span><span class="keyword" id="3210854">func</span>&nbsp;<span class="op" id="3210859">(</span><span class="ident" id="3210860">r</span>&nbsp;<span class="op" id="3210862">*</span><span class="ident" id="3210863"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3210869">)</span>&nbsp;<span class="ident" id="3210871">WriteTo</span><span class="op" id="3210878">(</span><span class="ident" id="3210879">w</span>&nbsp;<span class="ident" id="3210881"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3210883">.</span><span class="ident" id="3210884">Writer</span><span class="op" id="3210890">)</span>&nbsp;<span class="op" id="3210892">(</span><span class="ident" id="3210893">n</span>&nbsp;<span class="ident" id="3210895">int64</span><span class="op" id="3210900">,</span>&nbsp;<span class="ident" id="3210902">err</span>&nbsp;<span class="builtintype" id="3210906">error</span><span class="op" id="3210911">)</span>&nbsp;<span class="op" id="3210913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210916"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3210917">.</span><span class="ident" id="3210918">prevRune</span>&nbsp;<span class="op" id="3210927">=</span>&nbsp;<span class="op" id="3210929">-</span><span class="num" id="3210930">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210933">if</span>&nbsp;<span class="ident" id="3210936"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3210937">.</span><span class="ident" id="3210938">i</span>&nbsp;<span class="op" id="3210940">&gt;=</span>&nbsp;<span class="ident" id="3210943">int64</span><span class="op" id="3210948">(</span><span class="builtinfunc" id="3210949">len</span><span class="op" id="3210952">(</span><span class="ident" id="3210953"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3210954">.</span><span class="ident" id="3210955">s</span><span class="op" id="3210956">)</span><span class="op" id="3210957">)</span>&nbsp;<span class="op" id="3210959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3210963">return</span>&nbsp;<span class="num" id="3210970">0</span><span class="op" id="3210971">,</span>&nbsp;<span class="ident" id="3210973">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3210978">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210981">b</span>&nbsp;<span class="op" id="3210983">:=</span>&nbsp;<span class="ident" id="3210986"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3210987">.</span><span class="ident" id="3210988">s</span><span class="op" id="3210989">[</span><span class="ident" id="3210990"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3210991">.</span><span class="ident" id="3210992">i</span><span class="op" id="3210993">:</span><span class="op" id="3210994">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3210997">m</span><span class="op" id="3210998">,</span>&nbsp;<span class="ident" id="3211000"><a href="/bytes/reader.go.html#3210902">err</a></span>&nbsp;<span class="op" id="3211004">:=</span>&nbsp;<span class="ident" id="3211007"><a href="/bytes/reader.go.html#3210879">w</a></span><span class="op" id="3211008">.</span><span class="ident" id="3211009">Write</span><span class="op" id="3211014">(</span><span class="ident" id="3211015"><a href="/bytes/reader.go.html#3210981">b</a></span><span class="op" id="3211016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211019">if</span>&nbsp;<span class="ident" id="3211022"><a href="/bytes/reader.go.html#3210997">m</a></span>&nbsp;<span class="op" id="3211024">&gt;</span>&nbsp;<span class="builtinfunc" id="3211026">len</span><span class="op" id="3211029">(</span><span class="ident" id="3211030"><a href="/bytes/reader.go.html#3210981">b</a></span><span class="op" id="3211031">)</span>&nbsp;<span class="op" id="3211033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3211037">panic</span><span class="op" id="3211042">(</span><span class="string" id="3211043">&#34;bytes.Reader.WriteTo:&nbsp;invalid&nbsp;Write&nbsp;count&#34;</span><span class="op" id="3211086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211089">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211092"><a href="/bytes/reader.go.html#3210860">r</a></span><span class="op" id="3211093">.</span><span class="ident" id="3211094">i</span>&nbsp;<span class="op" id="3211096">+=</span>&nbsp;<span class="ident" id="3211099">int64</span><span class="op" id="3211104">(</span><span class="ident" id="3211105"><a href="/bytes/reader.go.html#3210997">m</a></span><span class="op" id="3211106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211109"><a href="/bytes/reader.go.html#3210893">n</a></span>&nbsp;<span class="op" id="3211111">=</span>&nbsp;<span class="ident" id="3211113">int64</span><span class="op" id="3211118">(</span><span class="ident" id="3211119"><a href="/bytes/reader.go.html#3210997">m</a></span><span class="op" id="3211120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211123">if</span>&nbsp;<span class="ident" id="3211126"><a href="/bytes/reader.go.html#3210997">m</a></span>&nbsp;<span class="op" id="3211128">!=</span>&nbsp;<span class="builtinfunc" id="3211131">len</span><span class="op" id="3211134">(</span><span class="ident" id="3211135"><a href="/bytes/reader.go.html#3210981">b</a></span><span class="op" id="3211136">)</span>&nbsp;<span class="op" id="3211138">&amp;&amp;</span>&nbsp;<span class="ident" id="3211141"><a href="/bytes/reader.go.html#3210902">err</a></span>&nbsp;<span class="op" id="3211145">==</span>&nbsp;<span class="ident" id="3211148">nil</span>&nbsp;<span class="op" id="3211152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3211156"><a href="/bytes/reader.go.html#3210902">err</a></span>&nbsp;<span class="op" id="3211160">=</span>&nbsp;<span class="ident" id="3211162"><a href="/bytes/reader.go.html#3208461">io</a></span><span class="op" id="3211164">.</span><span class="ident" id="3211165">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3211180">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3211183">return</span><br>
<span class="lineno"></span><span class="op" id="3211190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3211193">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3211243">func</span>&nbsp;<span class="ident" id="3211248">NewReader</span><span class="op" id="3211257">(</span><span class="ident" id="3211258">b</span>&nbsp;<span class="op" id="3211260">[</span><span class="op" id="3211261">]</span><span class="builtintype" id="3211262">byte</span><span class="op" id="3211266">)</span>&nbsp;<span class="op" id="3211268">*</span><span class="ident" id="3211269"><a href="/bytes/reader.go.html#3208711">Reader</a></span>&nbsp;<span class="op" id="3211276">{</span>&nbsp;<span class="keyword" id="3211278">return</span>&nbsp;<span class="op" id="3211285">&amp;</span><span class="ident" id="3211286"><a href="/bytes/reader.go.html#3208711">Reader</a></span><span class="op" id="3211292">{</span><span class="ident" id="3211293"><a href="/bytes/reader.go.html#3211258">b</a></span><span class="op" id="3211294">,</span>&nbsp;<span class="num" id="3211296">0</span><span class="op" id="3211297">,</span>&nbsp;<span class="op" id="3211299">-</span><span class="num" id="3211300">1</span><span class="op" id="3211301">}</span>&nbsp;<span class="op" id="3211303">}</span>
</div>
</body>
</html>
