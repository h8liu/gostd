<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html" class="current">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3349269">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3349324">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3349378">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3349429">package</span>&nbsp;<span class="ident" id="3349437">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3349447">import</span>&nbsp;<span class="op" id="3349454">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3349457">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3349466">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3349476">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3349481">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3349484">const</span>&nbsp;<span class="ident" id="3349490">utf8RuneSelf</span>&nbsp;<span class="op" id="3349503">=</span>&nbsp;<span class="num" id="3349505">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3349511">func</span>&nbsp;<span class="ident" id="3349516">walkSymlinks</span><span class="op" id="3349528">(</span><span class="ident" id="3349529">path</span>&nbsp;<span class="builtintype" id="3349534">string</span><span class="op" id="3349540">)</span>&nbsp;<span class="op" id="3349542">(</span><span class="builtintype" id="3349543">string</span><span class="op" id="3349549">,</span>&nbsp;<span class="builtintype" id="3349551">error</span><span class="op" id="3349556">)</span>&nbsp;<span class="op" id="3349558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349561">const</span>&nbsp;<span class="ident" id="3349567">maxIter</span>&nbsp;<span class="op" id="3349575">=</span>&nbsp;<span class="num" id="3349577">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3349582">originalPath</span>&nbsp;<span class="op" id="3349595">:=</span>&nbsp;<span class="ident" id="3349598">path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3349604">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3349660">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349718">var</span>&nbsp;<span class="ident" id="3349722">b</span>&nbsp;<span class="ident" id="3349724">bytes</span><span class="op" id="3349729">.</span><span class="ident" id="3349730">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349738">for</span>&nbsp;<span class="ident" id="3349742">n</span>&nbsp;<span class="op" id="3349744">:=</span>&nbsp;<span class="num" id="3349747">0</span><span class="op" id="3349748">;</span>&nbsp;<span class="ident" id="3349750">path</span>&nbsp;<span class="op" id="3349755">!=</span>&nbsp;<span class="string" id="3349758">&#34;&#34;</span><span class="op" id="3349760">;</span>&nbsp;<span class="ident" id="3349762">n</span><span class="op" id="3349763">++</span>&nbsp;<span class="op" id="3349766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349770">if</span>&nbsp;<span class="ident" id="3349773">n</span>&nbsp;<span class="op" id="3349775">&gt;</span>&nbsp;<span class="ident" id="3349777">maxIter</span>&nbsp;<span class="op" id="3349785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349790">return</span>&nbsp;<span class="string" id="3349797">&#34;&#34;</span><span class="op" id="3349799">,</span>&nbsp;<span class="ident" id="3349801">errors</span><span class="op" id="3349807">.</span><span class="ident" id="3349808">New</span><span class="op" id="3349811">(</span><span class="string" id="3349812">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="3349847">+</span>&nbsp;<span class="ident" id="3349849">originalPath</span><span class="op" id="3349861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3349865">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3349870">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349903">var</span>&nbsp;<span class="ident" id="3349907">i</span>&nbsp;<span class="op" id="3349909">=</span>&nbsp;<span class="op" id="3349911">-</span><span class="num" id="3349912">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349916">for</span>&nbsp;<span class="ident" id="3349920">j</span><span class="op" id="3349921">,</span>&nbsp;<span class="ident" id="3349923">c</span>&nbsp;<span class="op" id="3349925">:=</span>&nbsp;<span class="keyword" id="3349928">range</span>&nbsp;<span class="ident" id="3349934">path</span>&nbsp;<span class="op" id="3349939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3349944">if</span>&nbsp;<span class="ident" id="3349947">c</span>&nbsp;<span class="op" id="3349949">&lt;</span>&nbsp;<span class="ident" id="3349951">utf8RuneSelf</span>&nbsp;<span class="op" id="3349964">&amp;&amp;</span>&nbsp;<span class="ident" id="3349967">os</span><span class="op" id="3349969">.</span><span class="ident" id="3349970">IsPathSeparator</span><span class="op" id="3349985">(</span><span class="builtintype" id="3349986">uint8</span><span class="op" id="3349991">(</span><span class="ident" id="3349992">c</span><span class="op" id="3349993">)</span><span class="op" id="3349994">)</span>&nbsp;<span class="op" id="3349996">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350002">i</span>&nbsp;<span class="op" id="3350004">=</span>&nbsp;<span class="ident" id="3350006">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350012">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350029">var</span>&nbsp;<span class="ident" id="3350033">p</span>&nbsp;<span class="builtintype" id="3350035">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350044">if</span>&nbsp;<span class="ident" id="3350047">i</span>&nbsp;<span class="op" id="3350049">==</span>&nbsp;<span class="op" id="3350052">-</span><span class="num" id="3350053">1</span>&nbsp;<span class="op" id="3350055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350060">p</span><span class="op" id="3350061">,</span>&nbsp;<span class="ident" id="3350063">path</span>&nbsp;<span class="op" id="3350068">=</span>&nbsp;<span class="ident" id="3350070">path</span><span class="op" id="3350074">,</span>&nbsp;<span class="string" id="3350076">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350081">}</span>&nbsp;<span class="keyword" id="3350083">else</span>&nbsp;<span class="op" id="3350088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350093">p</span><span class="op" id="3350094">,</span>&nbsp;<span class="ident" id="3350096">path</span>&nbsp;<span class="op" id="3350101">=</span>&nbsp;<span class="ident" id="3350103">path</span><span class="op" id="3350107">[</span><span class="op" id="3350108">:</span><span class="ident" id="3350109">i</span><span class="op" id="3350110">]</span><span class="op" id="3350111">,</span>&nbsp;<span class="ident" id="3350113">path</span><span class="op" id="3350117">[</span><span class="ident" id="3350118">i</span><span class="op" id="3350119">+</span><span class="num" id="3350120">1</span><span class="op" id="3350121">:</span><span class="op" id="3350122">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350126">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350131">if</span>&nbsp;<span class="ident" id="3350134">p</span>&nbsp;<span class="op" id="3350136">==</span>&nbsp;<span class="string" id="3350139">&#34;&#34;</span>&nbsp;<span class="op" id="3350142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350147">if</span>&nbsp;<span class="ident" id="3350150">b</span><span class="op" id="3350151">.</span><span class="ident" id="3350152">Len</span><span class="op" id="3350155">(</span><span class="op" id="3350156">)</span>&nbsp;<span class="op" id="3350158">==</span>&nbsp;<span class="num" id="3350161">0</span>&nbsp;<span class="op" id="3350163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3350169">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350198">b</span><span class="op" id="3350199">.</span><span class="ident" id="3350200">WriteRune</span><span class="op" id="3350209">(</span><span class="ident" id="3350210">Separator</span><span class="op" id="3350219">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350229">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350245">fi</span><span class="op" id="3350247">,</span>&nbsp;<span class="ident" id="3350249">err</span>&nbsp;<span class="op" id="3350253">:=</span>&nbsp;<span class="ident" id="3350256">os</span><span class="op" id="3350258">.</span><span class="ident" id="3350259">Lstat</span><span class="op" id="3350264">(</span><span class="ident" id="3350265">b</span><span class="op" id="3350266">.</span><span class="ident" id="3350267">String</span><span class="op" id="3350273">(</span><span class="op" id="3350274">)</span>&nbsp;<span class="op" id="3350276">+</span>&nbsp;<span class="ident" id="3350278">p</span><span class="op" id="3350279">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350283">if</span>&nbsp;<span class="ident" id="3350286">err</span>&nbsp;<span class="op" id="3350290">!=</span>&nbsp;<span class="builtintype" id="3350293">nil</span>&nbsp;<span class="op" id="3350297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350302">return</span>&nbsp;<span class="string" id="3350309">&#34;&#34;</span><span class="op" id="3350311">,</span>&nbsp;<span class="ident" id="3350313">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350323">if</span>&nbsp;<span class="ident" id="3350326">fi</span><span class="op" id="3350328">.</span><span class="ident" id="3350329">Mode</span><span class="op" id="3350333">(</span><span class="op" id="3350334">)</span><span class="op" id="3350335">&amp;</span><span class="ident" id="3350336">os</span><span class="op" id="3350338">.</span><span class="ident" id="3350339">ModeSymlink</span>&nbsp;<span class="op" id="3350351">==</span>&nbsp;<span class="num" id="3350354">0</span>&nbsp;<span class="op" id="3350356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350361">b</span><span class="op" id="3350362">.</span><span class="ident" id="3350363">WriteString</span><span class="op" id="3350374">(</span><span class="ident" id="3350375">p</span><span class="op" id="3350376">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350381">if</span>&nbsp;<span class="ident" id="3350384">path</span>&nbsp;<span class="op" id="3350389">!=</span>&nbsp;<span class="string" id="3350392">&#34;&#34;</span>&nbsp;<span class="op" id="3350395">||</span>&nbsp;<span class="op" id="3350398">(</span><span class="ident" id="3350399">b</span><span class="op" id="3350400">.</span><span class="ident" id="3350401">Len</span><span class="op" id="3350404">(</span><span class="op" id="3350405">)</span>&nbsp;<span class="op" id="3350407">==</span>&nbsp;<span class="num" id="3350410">2</span>&nbsp;<span class="op" id="3350412">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3350415">len</span><span class="op" id="3350418">(</span><span class="ident" id="3350419">p</span><span class="op" id="3350420">)</span>&nbsp;<span class="op" id="3350422">==</span>&nbsp;<span class="num" id="3350425">2</span>&nbsp;<span class="op" id="3350427">&amp;&amp;</span>&nbsp;<span class="ident" id="3350430">p</span><span class="op" id="3350431">[</span><span class="num" id="3350432">1</span><span class="op" id="3350433">]</span>&nbsp;<span class="op" id="3350435">==</span>&nbsp;<span class="string" id="3350438">&#39;:&#39;</span><span class="op" id="3350441">)</span>&nbsp;<span class="op" id="3350443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350449">b</span><span class="op" id="3350450">.</span><span class="ident" id="3350451">WriteRune</span><span class="op" id="3350460">(</span><span class="ident" id="3350461">Separator</span><span class="op" id="3350470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350480">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350491">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3350496">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350545">dest</span><span class="op" id="3350549">,</span>&nbsp;<span class="ident" id="3350551">err</span>&nbsp;<span class="op" id="3350555">:=</span>&nbsp;<span class="ident" id="3350558">os</span><span class="op" id="3350560">.</span><span class="ident" id="3350561">Readlink</span><span class="op" id="3350569">(</span><span class="ident" id="3350570">b</span><span class="op" id="3350571">.</span><span class="ident" id="3350572">String</span><span class="op" id="3350578">(</span><span class="op" id="3350579">)</span>&nbsp;<span class="op" id="3350581">+</span>&nbsp;<span class="ident" id="3350583">p</span><span class="op" id="3350584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350588">if</span>&nbsp;<span class="ident" id="3350591">err</span>&nbsp;<span class="op" id="3350595">!=</span>&nbsp;<span class="builtintype" id="3350598">nil</span>&nbsp;<span class="op" id="3350602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350607">return</span>&nbsp;<span class="string" id="3350614">&#34;&#34;</span><span class="op" id="3350616">,</span>&nbsp;<span class="ident" id="3350618">err</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350628">if</span>&nbsp;<span class="ident" id="3350631">IsAbs</span><span class="op" id="3350636">(</span><span class="ident" id="3350637">dest</span><span class="op" id="3350641">)</span>&nbsp;<span class="op" id="3350643">||</span>&nbsp;<span class="ident" id="3350646">os</span><span class="op" id="3350648">.</span><span class="ident" id="3350649">IsPathSeparator</span><span class="op" id="3350664">(</span><span class="ident" id="3350665">dest</span><span class="op" id="3350669">[</span><span class="num" id="3350670">0</span><span class="op" id="3350671">]</span><span class="op" id="3350672">)</span>&nbsp;<span class="op" id="3350674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350679">b</span><span class="op" id="3350680">.</span><span class="ident" id="3350681">Reset</span><span class="op" id="3350686">(</span><span class="op" id="3350687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3350695">path</span>&nbsp;<span class="op" id="3350700">=</span>&nbsp;<span class="ident" id="3350702">dest</span>&nbsp;<span class="op" id="3350707">+</span>&nbsp;<span class="builtintype" id="3350709">string</span><span class="op" id="3350715">(</span><span class="ident" id="3350716">Separator</span><span class="op" id="3350725">)</span>&nbsp;<span class="op" id="3350727">+</span>&nbsp;<span class="ident" id="3350729">path</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3350735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3350738">return</span>&nbsp;<span class="ident" id="3350745">Clean</span><span class="op" id="3350750">(</span><span class="ident" id="3350751">b</span><span class="op" id="3350752">.</span><span class="ident" id="3350753">String</span><span class="op" id="3350759">(</span><span class="op" id="3350760">)</span><span class="op" id="3350761">)</span><span class="op" id="3350762">,</span>&nbsp;<span class="builtintype" id="3350764">nil</span><br>
<span class="lineno"></span><span class="op" id="3350768">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
