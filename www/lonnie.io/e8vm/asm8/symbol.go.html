<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5358811">package</span>&nbsp;<span class="ident" id="5358819">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5358825">import</span>&nbsp;<span class="op" id="5358832">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5358835">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5358857">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5358860">//&nbsp;Symbol&nbsp;is&nbsp;a&nbsp;data&nbsp;structure&nbsp;for&nbsp;saving&nbsp;a&nbsp;symbol.</span><br>
<span class="lineno"></span><span class="keyword" id="5358911">type</span>&nbsp;<span class="ident" id="5358916">symbol</span>&nbsp;<span class="keyword" id="5358923">struct</span>&nbsp;<span class="op" id="5358930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358933">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5358941">string</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358949">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5358957">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358962">Item</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5358970">interface</span><span class="op" id="5358979">{</span><span class="op" id="5358980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358983">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5358991">*</span><span class="ident" id="5358992"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358835">lex8</a></span><span class="op" id="5358996">.</span><span class="ident" id="5358997">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359002">Package</span>&nbsp;<span class="builtintype" id="5359010">string</span>&nbsp;<span class="comment" id="5359017">//&nbsp;Package&nbsp;path</span><br>
<span class="lineno"></span><span class="op" id="5359033">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5359036">func</span>&nbsp;<span class="op" id="5359041">(</span><span class="ident" id="5359042">s</span>&nbsp;<span class="op" id="5359044">*</span><span class="ident" id="5359045"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5359051">)</span>&nbsp;<span class="ident" id="5359053">clone</span><span class="op" id="5359058">(</span><span class="op" id="5359059">)</span>&nbsp;<span class="op" id="5359061">*</span><span class="ident" id="5359062"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span>&nbsp;<span class="op" id="5359069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359072">return</span>&nbsp;<span class="op" id="5359079">&amp;</span><span class="ident" id="5359080"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5359086">{</span><span class="ident" id="5359087"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359042">s</a></span><span class="op" id="5359088">.</span><span class="ident" id="5359089">Name</span><span class="op" id="5359093">,</span>&nbsp;<span class="ident" id="5359095"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359042">s</a></span><span class="op" id="5359096">.</span><span class="ident" id="5359097">Type</span><span class="op" id="5359101">,</span>&nbsp;<span class="ident" id="5359103"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359042">s</a></span><span class="op" id="5359104">.</span><span class="ident" id="5359105">Item</span><span class="op" id="5359109">,</span>&nbsp;<span class="ident" id="5359111"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359042">s</a></span><span class="op" id="5359112">.</span><span class="ident" id="5359113">Pos</span><span class="op" id="5359116">,</span>&nbsp;<span class="ident" id="5359118"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359042">s</a></span><span class="op" id="5359119">.</span><span class="ident" id="5359120">Package</span><span class="op" id="5359127">}</span><br>
<span class="lineno"></span><span class="op" id="5359129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="5359132">//&nbsp;asm8&nbsp;symbol&nbsp;types</span><br>
<span class="lineno"></span><span class="keyword" id="5359153">const</span>&nbsp;<span class="op" id="5359159">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359162">SymImport</span>&nbsp;<span class="op" id="5359172">=</span>&nbsp;<span class="ident" id="5359174">iota</span>&nbsp;<span class="comment" id="5359179">//&nbsp;Item.type&nbsp;==&nbsp;*PkgObj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359204">SymFunc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5359221">//&nbsp;Item.type&nbsp;==&nbsp;*Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359244">SymConst</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5359261">//&nbsp;Item.type&nbsp;==&nbsp;*Const</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359285">SymVar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5359302">//&nbsp;Item.type&nbsp;==&nbsp;*Var</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359324">SymLabel</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5359341">//&nbsp;Item.type&nbsp;==&nbsp;*stmt</span><br>
<span class="lineno"></span><span class="op" id="5359363">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5359366">func</span>&nbsp;<span class="ident" id="5359371">symStr</span><span class="op" id="5359377">(</span><span class="ident" id="5359378">s</span>&nbsp;<span class="builtintype" id="5359380">int</span><span class="op" id="5359383">)</span>&nbsp;<span class="builtintype" id="5359385">string</span>&nbsp;<span class="op" id="5359392">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359395">switch</span>&nbsp;<span class="ident" id="5359402"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359378">s</a></span>&nbsp;<span class="op" id="5359404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359407">case</span>&nbsp;<span class="ident" id="5359412"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359162">SymImport</a></span><span class="op" id="5359421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359425">return</span>&nbsp;<span class="string" id="5359432">&#34;import&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359442">case</span>&nbsp;<span class="ident" id="5359447"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359204">SymFunc</a></span><span class="op" id="5359454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359458">return</span>&nbsp;<span class="string" id="5359465">&#34;function&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359477">case</span>&nbsp;<span class="ident" id="5359482"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359244">SymConst</a></span><span class="op" id="5359490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359494">return</span>&nbsp;<span class="string" id="5359501">&#34;constant&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359513">case</span>&nbsp;<span class="ident" id="5359518"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359285">SymVar</a></span><span class="op" id="5359524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359528">return</span>&nbsp;<span class="string" id="5359535">&#34;variable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359547">case</span>&nbsp;<span class="ident" id="5359552"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359324">SymLabel</a></span><span class="op" id="5359560">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359564">return</span>&nbsp;<span class="string" id="5359571">&#34;label&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359583">return</span>&nbsp;<span class="string" id="5359590">&#34;unknown&#34;</span><br>
<span class="lineno"></span><span class="op" id="5359600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="5359603">//&nbsp;IsPublic&nbsp;checks&nbsp;if&nbsp;a&nbsp;symbol&nbsp;name&nbsp;is&nbsp;public.</span><br>
<span class="lineno"></span><span class="keyword" id="5359650">func</span>&nbsp;<span class="ident" id="5359655">isPublic</span><span class="op" id="5359663">(</span><span class="ident" id="5359664">name</span>&nbsp;<span class="builtintype" id="5359669">string</span><span class="op" id="5359675">)</span>&nbsp;<span class="builtintype" id="5359677">bool</span>&nbsp;<span class="op" id="5359682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359685">if</span>&nbsp;<span class="ident" id="5359688"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359664">name</a></span>&nbsp;<span class="op" id="5359693">==</span>&nbsp;<span class="string" id="5359696">&#34;&#34;</span>&nbsp;<span class="op" id="5359699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359703">return</span>&nbsp;<span class="ident" id="5359710">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359717">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359720">r</span>&nbsp;<span class="op" id="5359722">:=</span>&nbsp;<span class="ident" id="5359725"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359664">name</a></span><span class="op" id="5359729">[</span><span class="num" id="5359730">0</span><span class="op" id="5359731">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359734">return</span>&nbsp;<span class="ident" id="5359741"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359720">r</a></span>&nbsp;<span class="op" id="5359743">&gt;=</span>&nbsp;<span class="string" id="5359746">&#39;A&#39;</span>&nbsp;<span class="op" id="5359750">&amp;&amp;</span>&nbsp;<span class="ident" id="5359753"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359720">r</a></span>&nbsp;<span class="op" id="5359755">&lt;=</span>&nbsp;<span class="string" id="5359758">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="5359762">}</span>
</div>
</body>
</html>
