<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html" class="current">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6237398">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6237454">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6237508">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6237559">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="6237611">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="6237671">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="6237695">package</span>&nbsp;<span class="ident" id="6237703">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="6237710">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="6237780">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="6237856">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="6237924">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6238006">import</span>&nbsp;<span class="op" id="6238013">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6238016">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6238025">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6238044">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6238051">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6238062">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="6238072">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6238075">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6238094">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6238143">type</span>&nbsp;<span class="ident" id="6238148">Sym</span>&nbsp;<span class="keyword" id="6238152">struct</span>&nbsp;<span class="op" id="6238159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238162">Value</span>&nbsp;&nbsp;<span class="ident" id="6238169">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238177">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6238184">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238190">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6238197">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238205">GoType</span>&nbsp;<span class="ident" id="6238212">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6238220">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238284">Func</span>&nbsp;<span class="op" id="6238289">*</span><span class="ident" id="6238290">Func</span><br>
<span class="lineno">35</span><span class="op" id="6238295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6238298">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="6238378">func</span>&nbsp;<span class="op" id="6238383">(</span><span class="ident" id="6238384">s</span>&nbsp;<span class="op" id="6238386">*</span><span class="ident" id="6238387">Sym</span><span class="op" id="6238390">)</span>&nbsp;<span class="ident" id="6238392">Static</span><span class="op" id="6238398">(</span><span class="op" id="6238399">)</span>&nbsp;<span class="builtintype" id="6238401">bool</span>&nbsp;<span class="op" id="6238406">{</span>&nbsp;<span class="keyword" id="6238408">return</span>&nbsp;<span class="ident" id="6238415">s</span><span class="op" id="6238416">.</span><span class="ident" id="6238417">Type</span>&nbsp;<span class="op" id="6238422">&gt;=</span>&nbsp;<span class="string" id="6238425">&#39;a&#39;</span>&nbsp;<span class="op" id="6238429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6238432">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6238492">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6238533">func</span>&nbsp;<span class="op" id="6238538">(</span><span class="ident" id="6238539">s</span>&nbsp;<span class="op" id="6238541">*</span><span class="ident" id="6238542">Sym</span><span class="op" id="6238545">)</span>&nbsp;<span class="ident" id="6238547">PackageName</span><span class="op" id="6238558">(</span><span class="op" id="6238559">)</span>&nbsp;<span class="builtintype" id="6238561">string</span>&nbsp;<span class="op" id="6238568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238571">if</span>&nbsp;<span class="ident" id="6238574">i</span>&nbsp;<span class="op" id="6238576">:=</span>&nbsp;<span class="ident" id="6238579">strings</span><span class="op" id="6238586">.</span><span class="ident" id="6238587">Index</span><span class="op" id="6238592">(</span><span class="ident" id="6238593">s</span><span class="op" id="6238594">.</span><span class="ident" id="6238595">Name</span><span class="op" id="6238599">,</span>&nbsp;<span class="string" id="6238601">&#34;.&#34;</span><span class="op" id="6238604">)</span><span class="op" id="6238605">;</span>&nbsp;<span class="ident" id="6238607">i</span>&nbsp;<span class="op" id="6238609">!=</span>&nbsp;<span class="op" id="6238612">-</span><span class="num" id="6238613">1</span>&nbsp;<span class="op" id="6238615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238619">return</span>&nbsp;<span class="ident" id="6238626">s</span><span class="op" id="6238627">.</span><span class="ident" id="6238628">Name</span><span class="op" id="6238632">[</span><span class="num" id="6238633">0</span><span class="op" id="6238634">:</span><span class="ident" id="6238635">i</span><span class="op" id="6238636">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6238639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238642">return</span>&nbsp;<span class="string" id="6238649">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6238652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6238655">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="6238718">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6238759">func</span>&nbsp;<span class="op" id="6238764">(</span><span class="ident" id="6238765">s</span>&nbsp;<span class="op" id="6238767">*</span><span class="ident" id="6238768">Sym</span><span class="op" id="6238771">)</span>&nbsp;<span class="ident" id="6238773">ReceiverName</span><span class="op" id="6238785">(</span><span class="op" id="6238786">)</span>&nbsp;<span class="builtintype" id="6238788">string</span>&nbsp;<span class="op" id="6238795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238798">l</span>&nbsp;<span class="op" id="6238800">:=</span>&nbsp;<span class="ident" id="6238803">strings</span><span class="op" id="6238810">.</span><span class="ident" id="6238811">Index</span><span class="op" id="6238816">(</span><span class="ident" id="6238817">s</span><span class="op" id="6238818">.</span><span class="ident" id="6238819">Name</span><span class="op" id="6238823">,</span>&nbsp;<span class="string" id="6238825">&#34;.&#34;</span><span class="op" id="6238828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6238831">r</span>&nbsp;<span class="op" id="6238833">:=</span>&nbsp;<span class="ident" id="6238836">strings</span><span class="op" id="6238843">.</span><span class="ident" id="6238844">LastIndex</span><span class="op" id="6238853">(</span><span class="ident" id="6238854">s</span><span class="op" id="6238855">.</span><span class="ident" id="6238856">Name</span><span class="op" id="6238860">,</span>&nbsp;<span class="string" id="6238862">&#34;.&#34;</span><span class="op" id="6238865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238868">if</span>&nbsp;<span class="ident" id="6238871">l</span>&nbsp;<span class="op" id="6238873">==</span>&nbsp;<span class="op" id="6238876">-</span><span class="num" id="6238877">1</span>&nbsp;<span class="op" id="6238879">||</span>&nbsp;<span class="ident" id="6238882">r</span>&nbsp;<span class="op" id="6238884">==</span>&nbsp;<span class="op" id="6238887">-</span><span class="num" id="6238888">1</span>&nbsp;<span class="op" id="6238890">||</span>&nbsp;<span class="ident" id="6238893">l</span>&nbsp;<span class="op" id="6238895">==</span>&nbsp;<span class="ident" id="6238898">r</span>&nbsp;<span class="op" id="6238900">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238904">return</span>&nbsp;<span class="string" id="6238911">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6238915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6238918">return</span>&nbsp;<span class="ident" id="6238925">s</span><span class="op" id="6238926">.</span><span class="ident" id="6238927">Name</span><span class="op" id="6238931">[</span><span class="ident" id="6238932">l</span><span class="op" id="6238933">+</span><span class="num" id="6238934">1</span>&nbsp;<span class="op" id="6238936">:</span>&nbsp;<span class="ident" id="6238938">r</span><span class="op" id="6238939">]</span><br>
<span class="lineno"></span><span class="op" id="6238941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="6238944">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="6239018">func</span>&nbsp;<span class="op" id="6239023">(</span><span class="ident" id="6239024">s</span>&nbsp;<span class="op" id="6239026">*</span><span class="ident" id="6239027">Sym</span><span class="op" id="6239030">)</span>&nbsp;<span class="ident" id="6239032">BaseName</span><span class="op" id="6239040">(</span><span class="op" id="6239041">)</span>&nbsp;<span class="builtintype" id="6239043">string</span>&nbsp;<span class="op" id="6239050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6239053">if</span>&nbsp;<span class="ident" id="6239056">i</span>&nbsp;<span class="op" id="6239058">:=</span>&nbsp;<span class="ident" id="6239061">strings</span><span class="op" id="6239068">.</span><span class="ident" id="6239069">LastIndex</span><span class="op" id="6239078">(</span><span class="ident" id="6239079">s</span><span class="op" id="6239080">.</span><span class="ident" id="6239081">Name</span><span class="op" id="6239085">,</span>&nbsp;<span class="string" id="6239087">&#34;.&#34;</span><span class="op" id="6239090">)</span><span class="op" id="6239091">;</span>&nbsp;<span class="ident" id="6239093">i</span>&nbsp;<span class="op" id="6239095">!=</span>&nbsp;<span class="op" id="6239098">-</span><span class="num" id="6239099">1</span>&nbsp;<span class="op" id="6239101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6239105">return</span>&nbsp;<span class="ident" id="6239112">s</span><span class="op" id="6239113">.</span><span class="ident" id="6239114">Name</span><span class="op" id="6239118">[</span><span class="ident" id="6239119">i</span><span class="op" id="6239120">+</span><span class="num" id="6239121">1</span><span class="op" id="6239122">:</span><span class="op" id="6239123">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6239126">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6239129">return</span>&nbsp;<span class="ident" id="6239136">s</span><span class="op" id="6239137">.</span><span class="ident" id="6239138">Name</span><br>
<span class="lineno"></span><span class="op" id="6239143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6239146">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6239202">type</span>&nbsp;<span class="ident" id="6239207">Func</span>&nbsp;<span class="keyword" id="6239212">struct</span>&nbsp;<span class="op" id="6239219">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239222">Entry</span>&nbsp;<span class="ident" id="6239228">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6239236">*</span><span class="ident" id="6239237">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239242">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6239252">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239260">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6239270">[</span><span class="op" id="6239271">]</span><span class="op" id="6239272">*</span><span class="ident" id="6239273">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239278">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6239288">[</span><span class="op" id="6239289">]</span><span class="op" id="6239290">*</span><span class="ident" id="6239291">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239296">FrameSize</span>&nbsp;<span class="builtintype" id="6239306">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239311">LineTable</span>&nbsp;<span class="op" id="6239321">*</span><span class="ident" id="6239322">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239333">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6239343">*</span><span class="ident" id="6239344">Obj</span><br>
<span class="lineno"></span><span class="op" id="6239348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="6239351">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="6239417">//</span><br>
<span class="lineno"></span><span class="comment" id="6239420">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="6239505">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6239536">//</span><br>
<span class="lineno">85</span><span class="comment" id="6239539">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="6239607">//</span><br>
<span class="lineno"></span><span class="comment" id="6239610">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="6239682">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="6239716">//</span><br>
<span class="lineno">90</span><span class="comment" id="6239719">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="6239779">type</span>&nbsp;<span class="ident" id="6239784">Obj</span>&nbsp;<span class="keyword" id="6239788">struct</span>&nbsp;<span class="op" id="6239795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6239798">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6239843">Funcs</span>&nbsp;<span class="op" id="6239849">[</span><span class="op" id="6239850">]</span><span class="ident" id="6239851">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6239858">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6239926">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6239978">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6240007">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240073">Paths</span>&nbsp;<span class="op" id="6240079">[</span><span class="op" id="6240080">]</span><span class="ident" id="6240081">Sym</span>&nbsp;<span class="comment" id="6240085">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="6240093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6240096">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="6240121">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6240182">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="6240252">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="6240294">type</span>&nbsp;<span class="ident" id="6240299">Table</span>&nbsp;<span class="keyword" id="6240305">struct</span>&nbsp;<span class="op" id="6240312">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240315">Syms</span>&nbsp;&nbsp;<span class="op" id="6240321">[</span><span class="op" id="6240322">]</span><span class="ident" id="6240323">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240328">Funcs</span>&nbsp;<span class="op" id="6240334">[</span><span class="op" id="6240335">]</span><span class="ident" id="6240336">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240342">Files</span>&nbsp;<span class="keyword" id="6240348">map</span><span class="op" id="6240351">[</span><span class="builtintype" id="6240352">string</span><span class="op" id="6240358">]</span><span class="op" id="6240359">*</span><span class="ident" id="6240360">Obj</span>&nbsp;<span class="comment" id="6240364">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240402">Objs</span>&nbsp;&nbsp;<span class="op" id="6240408">[</span><span class="op" id="6240409">]</span><span class="ident" id="6240410">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6240424">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240463">go12line</span>&nbsp;<span class="op" id="6240472">*</span><span class="ident" id="6240473">LineTable</span>&nbsp;<span class="comment" id="6240483">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="6240511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6240514">type</span>&nbsp;<span class="ident" id="6240519">sym</span>&nbsp;<span class="keyword" id="6240523">struct</span>&nbsp;<span class="op" id="6240530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240533">value</span>&nbsp;&nbsp;<span class="ident" id="6240540">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240548">gotype</span>&nbsp;<span class="ident" id="6240555">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240563">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6240570">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240576">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6240583">[</span><span class="op" id="6240584">]</span><span class="builtintype" id="6240585">byte</span><br>
<span class="lineno"></span><span class="op" id="6240590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6240593">var</span>&nbsp;<span class="op" id="6240597">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240600">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6240622">=</span>&nbsp;<span class="op" id="6240624">[</span><span class="op" id="6240625">]</span><span class="builtintype" id="6240626">byte</span><span class="op" id="6240630">{</span><span class="num" id="6240631">0xFD</span><span class="op" id="6240635">,</span>&nbsp;<span class="num" id="6240637">0xFF</span><span class="op" id="6240641">,</span>&nbsp;<span class="num" id="6240643">0xFF</span><span class="op" id="6240647">,</span>&nbsp;<span class="num" id="6240649">0xFF</span><span class="op" id="6240653">,</span>&nbsp;<span class="num" id="6240655">0x00</span><span class="op" id="6240659">,</span>&nbsp;<span class="num" id="6240661">0x00</span><span class="op" id="6240665">,</span>&nbsp;<span class="num" id="6240667">0x00</span><span class="op" id="6240671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240674">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6240696">=</span>&nbsp;<span class="op" id="6240698">[</span><span class="op" id="6240699">]</span><span class="builtintype" id="6240700">byte</span><span class="op" id="6240704">{</span><span class="num" id="6240705">0xFF</span><span class="op" id="6240709">,</span>&nbsp;<span class="num" id="6240711">0xFF</span><span class="op" id="6240715">,</span>&nbsp;<span class="num" id="6240717">0xFF</span><span class="op" id="6240721">,</span>&nbsp;<span class="num" id="6240723">0xFD</span><span class="op" id="6240727">,</span>&nbsp;<span class="num" id="6240729">0x00</span><span class="op" id="6240733">,</span>&nbsp;<span class="num" id="6240735">0x00</span><span class="op" id="6240739">,</span>&nbsp;<span class="num" id="6240741">0x00</span><span class="op" id="6240745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240748">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="6240770">=</span>&nbsp;<span class="op" id="6240772">[</span><span class="op" id="6240773">]</span><span class="builtintype" id="6240774">byte</span><span class="op" id="6240778">{</span><span class="num" id="6240779">0xFE</span><span class="op" id="6240783">,</span>&nbsp;<span class="num" id="6240785">0xFF</span><span class="op" id="6240789">,</span>&nbsp;<span class="num" id="6240791">0xFF</span><span class="op" id="6240795">,</span>&nbsp;<span class="num" id="6240797">0xFF</span><span class="op" id="6240801">,</span>&nbsp;<span class="num" id="6240803">0x00</span><span class="op" id="6240807">,</span>&nbsp;<span class="num" id="6240809">0x00</span><span class="op" id="6240813">}</span><br>
<span class="lineno"></span><span class="op" id="6240815">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="6240818">func</span>&nbsp;<span class="ident" id="6240823">walksymtab</span><span class="op" id="6240833">(</span><span class="ident" id="6240834">data</span>&nbsp;<span class="op" id="6240839">[</span><span class="op" id="6240840">]</span><span class="builtintype" id="6240841">byte</span><span class="op" id="6240845">,</span>&nbsp;<span class="ident" id="6240847">fn</span>&nbsp;<span class="keyword" id="6240850">func</span><span class="op" id="6240854">(</span><span class="ident" id="6240855">sym</span><span class="op" id="6240858">)</span>&nbsp;<span class="builtintype" id="6240860">error</span><span class="op" id="6240865">)</span>&nbsp;<span class="builtintype" id="6240867">error</span>&nbsp;<span class="op" id="6240873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6240876">if</span>&nbsp;<span class="builtinfunc" id="6240879">len</span><span class="op" id="6240882">(</span><span class="ident" id="6240883">data</span><span class="op" id="6240887">)</span>&nbsp;<span class="op" id="6240889">==</span>&nbsp;<span class="num" id="6240892">0</span>&nbsp;<span class="op" id="6240894">{</span>&nbsp;<span class="comment" id="6240896">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6240924">return</span>&nbsp;<span class="ident" id="6240931">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6240936">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6240939">var</span>&nbsp;<span class="ident" id="6240943">order</span>&nbsp;<span class="ident" id="6240949">binary</span><span class="op" id="6240955">.</span><span class="ident" id="6240956">ByteOrder</span>&nbsp;<span class="op" id="6240966">=</span>&nbsp;<span class="ident" id="6240968">binary</span><span class="op" id="6240974">.</span><span class="ident" id="6240975">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6240986">newTable</span>&nbsp;<span class="op" id="6240995">:=</span>&nbsp;<span class="builtintype" id="6240998">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241005">switch</span>&nbsp;<span class="op" id="6241012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241015">case</span>&nbsp;<span class="ident" id="6241020">bytes</span><span class="op" id="6241025">.</span><span class="ident" id="6241026">HasPrefix</span><span class="op" id="6241035">(</span><span class="ident" id="6241036">data</span><span class="op" id="6241040">,</span>&nbsp;<span class="ident" id="6241042">oldLittleEndianSymtab</span><span class="op" id="6241063">)</span><span class="op" id="6241064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6241068">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6241108">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6241183">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241235">data</span>&nbsp;<span class="op" id="6241240">=</span>&nbsp;<span class="ident" id="6241242">data</span><span class="op" id="6241246">[</span><span class="num" id="6241247">6</span><span class="op" id="6241248">:</span><span class="op" id="6241249">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241253">order</span>&nbsp;<span class="op" id="6241259">=</span>&nbsp;<span class="ident" id="6241261">binary</span><span class="op" id="6241267">.</span><span class="ident" id="6241268">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241282">case</span>&nbsp;<span class="ident" id="6241287">bytes</span><span class="op" id="6241292">.</span><span class="ident" id="6241293">HasPrefix</span><span class="op" id="6241302">(</span><span class="ident" id="6241303">data</span><span class="op" id="6241307">,</span>&nbsp;<span class="ident" id="6241309">bigEndianSymtab</span><span class="op" id="6241324">)</span><span class="op" id="6241325">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241329">newTable</span>&nbsp;<span class="op" id="6241338">=</span>&nbsp;<span class="builtintype" id="6241340">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241346">case</span>&nbsp;<span class="ident" id="6241351">bytes</span><span class="op" id="6241356">.</span><span class="ident" id="6241357">HasPrefix</span><span class="op" id="6241366">(</span><span class="ident" id="6241367">data</span><span class="op" id="6241371">,</span>&nbsp;<span class="ident" id="6241373">littleEndianSymtab</span><span class="op" id="6241391">)</span><span class="op" id="6241392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241396">newTable</span>&nbsp;<span class="op" id="6241405">=</span>&nbsp;<span class="builtintype" id="6241407">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241414">order</span>&nbsp;<span class="op" id="6241420">=</span>&nbsp;<span class="ident" id="6241422">binary</span><span class="op" id="6241428">.</span><span class="ident" id="6241429">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241443">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241446">var</span>&nbsp;<span class="ident" id="6241450">ptrsz</span>&nbsp;<span class="builtintype" id="6241456">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241461">if</span>&nbsp;<span class="ident" id="6241464">newTable</span>&nbsp;<span class="op" id="6241473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241477">if</span>&nbsp;<span class="builtinfunc" id="6241480">len</span><span class="op" id="6241483">(</span><span class="ident" id="6241484">data</span><span class="op" id="6241488">)</span>&nbsp;<span class="op" id="6241490">&lt;</span>&nbsp;<span class="num" id="6241492">8</span>&nbsp;<span class="op" id="6241494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241499">return</span>&nbsp;<span class="op" id="6241506">&amp;</span><span class="ident" id="6241507">DecodingError</span><span class="op" id="6241520">{</span><span class="builtinfunc" id="6241521">len</span><span class="op" id="6241524">(</span><span class="ident" id="6241525">data</span><span class="op" id="6241529">)</span><span class="op" id="6241530">,</span>&nbsp;<span class="string" id="6241532">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6241548">,</span>&nbsp;<span class="ident" id="6241550">nil</span><span class="op" id="6241553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241557">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241561">ptrsz</span>&nbsp;<span class="op" id="6241567">=</span>&nbsp;<span class="builtintype" id="6241569">int</span><span class="op" id="6241572">(</span><span class="ident" id="6241573">data</span><span class="op" id="6241577">[</span><span class="num" id="6241578">7</span><span class="op" id="6241579">]</span><span class="op" id="6241580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241584">if</span>&nbsp;<span class="ident" id="6241587">ptrsz</span>&nbsp;<span class="op" id="6241593">!=</span>&nbsp;<span class="num" id="6241596">4</span>&nbsp;<span class="op" id="6241598">&amp;&amp;</span>&nbsp;<span class="ident" id="6241601">ptrsz</span>&nbsp;<span class="op" id="6241607">!=</span>&nbsp;<span class="num" id="6241610">8</span>&nbsp;<span class="op" id="6241612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241617">return</span>&nbsp;<span class="op" id="6241624">&amp;</span><span class="ident" id="6241625">DecodingError</span><span class="op" id="6241638">{</span><span class="num" id="6241639">7</span><span class="op" id="6241640">,</span>&nbsp;<span class="string" id="6241642">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="6241664">,</span>&nbsp;<span class="ident" id="6241666">ptrsz</span><span class="op" id="6241671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241679">data</span>&nbsp;<span class="op" id="6241684">=</span>&nbsp;<span class="ident" id="6241686">data</span><span class="op" id="6241690">[</span><span class="num" id="6241691">8</span><span class="op" id="6241692">:</span><span class="op" id="6241693">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241699">var</span>&nbsp;<span class="ident" id="6241703">s</span>&nbsp;<span class="ident" id="6241705">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241710">p</span>&nbsp;<span class="op" id="6241712">:=</span>&nbsp;<span class="ident" id="6241715">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241721">for</span>&nbsp;<span class="builtinfunc" id="6241725">len</span><span class="op" id="6241728">(</span><span class="ident" id="6241729">p</span><span class="op" id="6241730">)</span>&nbsp;<span class="op" id="6241732">&gt;=</span>&nbsp;<span class="num" id="6241735">4</span>&nbsp;<span class="op" id="6241737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241741">var</span>&nbsp;<span class="ident" id="6241745">typ</span>&nbsp;<span class="builtintype" id="6241749">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241756">if</span>&nbsp;<span class="ident" id="6241759">newTable</span>&nbsp;<span class="op" id="6241768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6241773">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241808">typ</span>&nbsp;<span class="op" id="6241812">=</span>&nbsp;<span class="ident" id="6241814">p</span><span class="op" id="6241815">[</span><span class="num" id="6241816">0</span><span class="op" id="6241817">]</span>&nbsp;<span class="op" id="6241819">&amp;</span>&nbsp;<span class="num" id="6241821">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241829">wideValue</span>&nbsp;<span class="op" id="6241839">:=</span>&nbsp;<span class="ident" id="6241842">p</span><span class="op" id="6241843">[</span><span class="num" id="6241844">0</span><span class="op" id="6241845">]</span><span class="op" id="6241846">&amp;</span><span class="num" id="6241847">0x40</span>&nbsp;<span class="op" id="6241852">!=</span>&nbsp;<span class="num" id="6241855">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241860">goType</span>&nbsp;<span class="op" id="6241867">:=</span>&nbsp;<span class="ident" id="6241870">p</span><span class="op" id="6241871">[</span><span class="num" id="6241872">0</span><span class="op" id="6241873">]</span><span class="op" id="6241874">&amp;</span><span class="num" id="6241875">0x80</span>&nbsp;<span class="op" id="6241880">!=</span>&nbsp;<span class="num" id="6241883">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241888">if</span>&nbsp;<span class="ident" id="6241891">typ</span>&nbsp;<span class="op" id="6241895">&lt;</span>&nbsp;<span class="num" id="6241897">26</span>&nbsp;<span class="op" id="6241900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241906">typ</span>&nbsp;<span class="op" id="6241910">+=</span>&nbsp;<span class="string" id="6241913">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241920">}</span>&nbsp;<span class="keyword" id="6241922">else</span>&nbsp;<span class="op" id="6241927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241933">typ</span>&nbsp;<span class="op" id="6241937">+=</span>&nbsp;<span class="string" id="6241940">&#39;a&#39;</span>&nbsp;<span class="op" id="6241944">-</span>&nbsp;<span class="num" id="6241946">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6241952">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241957">s</span><span class="op" id="6241958">.</span><span class="ident" id="6241959">typ</span>&nbsp;<span class="op" id="6241963">=</span>&nbsp;<span class="ident" id="6241965">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6241972">p</span>&nbsp;<span class="op" id="6241974">=</span>&nbsp;<span class="ident" id="6241976">p</span><span class="op" id="6241977">[</span><span class="num" id="6241978">1</span><span class="op" id="6241979">:</span><span class="op" id="6241980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6241985">if</span>&nbsp;<span class="ident" id="6241988">wideValue</span>&nbsp;<span class="op" id="6241998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242004">if</span>&nbsp;<span class="builtinfunc" id="6242007">len</span><span class="op" id="6242010">(</span><span class="ident" id="6242011">p</span><span class="op" id="6242012">)</span>&nbsp;<span class="op" id="6242014">&lt;</span>&nbsp;<span class="ident" id="6242016">ptrsz</span>&nbsp;<span class="op" id="6242022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242029">return</span>&nbsp;<span class="op" id="6242036">&amp;</span><span class="ident" id="6242037">DecodingError</span><span class="op" id="6242050">{</span><span class="builtinfunc" id="6242051">len</span><span class="op" id="6242054">(</span><span class="ident" id="6242055">data</span><span class="op" id="6242059">)</span><span class="op" id="6242060">,</span>&nbsp;<span class="string" id="6242062">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6242078">,</span>&nbsp;<span class="ident" id="6242080">nil</span><span class="op" id="6242083">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6242095">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242120">if</span>&nbsp;<span class="ident" id="6242123">ptrsz</span>&nbsp;<span class="op" id="6242129">==</span>&nbsp;<span class="num" id="6242132">8</span>&nbsp;<span class="op" id="6242134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242141">s</span><span class="op" id="6242142">.</span><span class="ident" id="6242143">value</span>&nbsp;<span class="op" id="6242149">=</span>&nbsp;<span class="ident" id="6242151">order</span><span class="op" id="6242156">.</span><span class="ident" id="6242157">Uint64</span><span class="op" id="6242163">(</span><span class="ident" id="6242164">p</span><span class="op" id="6242165">[</span><span class="num" id="6242166">0</span><span class="op" id="6242167">:</span><span class="num" id="6242168">8</span><span class="op" id="6242169">]</span><span class="op" id="6242170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242177">p</span>&nbsp;<span class="op" id="6242179">=</span>&nbsp;<span class="ident" id="6242181">p</span><span class="op" id="6242182">[</span><span class="num" id="6242183">8</span><span class="op" id="6242184">:</span><span class="op" id="6242185">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242191">}</span>&nbsp;<span class="keyword" id="6242193">else</span>&nbsp;<span class="op" id="6242198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242205">s</span><span class="op" id="6242206">.</span><span class="ident" id="6242207">value</span>&nbsp;<span class="op" id="6242213">=</span>&nbsp;<span class="ident" id="6242215">uint64</span><span class="op" id="6242221">(</span><span class="ident" id="6242222">order</span><span class="op" id="6242227">.</span><span class="ident" id="6242228">Uint32</span><span class="op" id="6242234">(</span><span class="ident" id="6242235">p</span><span class="op" id="6242236">[</span><span class="num" id="6242237">0</span><span class="op" id="6242238">:</span><span class="num" id="6242239">4</span><span class="op" id="6242240">]</span><span class="op" id="6242241">)</span><span class="op" id="6242242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242249">p</span>&nbsp;<span class="op" id="6242251">=</span>&nbsp;<span class="ident" id="6242253">p</span><span class="op" id="6242254">[</span><span class="num" id="6242255">4</span><span class="op" id="6242256">:</span><span class="op" id="6242257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242268">}</span>&nbsp;<span class="keyword" id="6242270">else</span>&nbsp;<span class="op" id="6242275">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6242281">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242301">s</span><span class="op" id="6242302">.</span><span class="ident" id="6242303">value</span>&nbsp;<span class="op" id="6242309">=</span>&nbsp;<span class="num" id="6242311">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242317">shift</span>&nbsp;<span class="op" id="6242323">:=</span>&nbsp;<span class="builtintype" id="6242326">uint</span><span class="op" id="6242330">(</span><span class="num" id="6242331">0</span><span class="op" id="6242332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242338">for</span>&nbsp;<span class="builtinfunc" id="6242342">len</span><span class="op" id="6242345">(</span><span class="ident" id="6242346">p</span><span class="op" id="6242347">)</span>&nbsp;<span class="op" id="6242349">&gt;</span>&nbsp;<span class="num" id="6242351">0</span>&nbsp;<span class="op" id="6242353">&amp;&amp;</span>&nbsp;<span class="ident" id="6242356">p</span><span class="op" id="6242357">[</span><span class="num" id="6242358">0</span><span class="op" id="6242359">]</span><span class="op" id="6242360">&amp;</span><span class="num" id="6242361">0x80</span>&nbsp;<span class="op" id="6242366">!=</span>&nbsp;<span class="num" id="6242369">0</span>&nbsp;<span class="op" id="6242371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242378">s</span><span class="op" id="6242379">.</span><span class="ident" id="6242380">value</span>&nbsp;<span class="op" id="6242386">|=</span>&nbsp;<span class="ident" id="6242389">uint64</span><span class="op" id="6242395">(</span><span class="ident" id="6242396">p</span><span class="op" id="6242397">[</span><span class="num" id="6242398">0</span><span class="op" id="6242399">]</span><span class="op" id="6242400">&amp;</span><span class="num" id="6242401">0x7F</span><span class="op" id="6242405">)</span>&nbsp;<span class="op" id="6242407">&lt;&lt;</span>&nbsp;<span class="ident" id="6242410">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242421">shift</span>&nbsp;<span class="op" id="6242427">+=</span>&nbsp;<span class="num" id="6242430">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242437">p</span>&nbsp;<span class="op" id="6242439">=</span>&nbsp;<span class="ident" id="6242441">p</span><span class="op" id="6242442">[</span><span class="num" id="6242443">1</span><span class="op" id="6242444">:</span><span class="op" id="6242445">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242457">if</span>&nbsp;<span class="builtinfunc" id="6242460">len</span><span class="op" id="6242463">(</span><span class="ident" id="6242464">p</span><span class="op" id="6242465">)</span>&nbsp;<span class="op" id="6242467">==</span>&nbsp;<span class="num" id="6242470">0</span>&nbsp;<span class="op" id="6242472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242479">return</span>&nbsp;<span class="op" id="6242486">&amp;</span><span class="ident" id="6242487">DecodingError</span><span class="op" id="6242500">{</span><span class="builtinfunc" id="6242501">len</span><span class="op" id="6242504">(</span><span class="ident" id="6242505">data</span><span class="op" id="6242509">)</span><span class="op" id="6242510">,</span>&nbsp;<span class="string" id="6242512">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6242528">,</span>&nbsp;<span class="ident" id="6242530">nil</span><span class="op" id="6242533">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242545">s</span><span class="op" id="6242546">.</span><span class="ident" id="6242547">value</span>&nbsp;<span class="op" id="6242553">|=</span>&nbsp;<span class="ident" id="6242556">uint64</span><span class="op" id="6242562">(</span><span class="ident" id="6242563">p</span><span class="op" id="6242564">[</span><span class="num" id="6242565">0</span><span class="op" id="6242566">]</span><span class="op" id="6242567">)</span>&nbsp;<span class="op" id="6242569">&lt;&lt;</span>&nbsp;<span class="ident" id="6242572">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242582">p</span>&nbsp;<span class="op" id="6242584">=</span>&nbsp;<span class="ident" id="6242586">p</span><span class="op" id="6242587">[</span><span class="num" id="6242588">1</span><span class="op" id="6242589">:</span><span class="op" id="6242590">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242600">if</span>&nbsp;<span class="ident" id="6242603">goType</span>&nbsp;<span class="op" id="6242610">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242616">if</span>&nbsp;<span class="builtinfunc" id="6242619">len</span><span class="op" id="6242622">(</span><span class="ident" id="6242623">p</span><span class="op" id="6242624">)</span>&nbsp;<span class="op" id="6242626">&lt;</span>&nbsp;<span class="ident" id="6242628">ptrsz</span>&nbsp;<span class="op" id="6242634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242641">return</span>&nbsp;<span class="op" id="6242648">&amp;</span><span class="ident" id="6242649">DecodingError</span><span class="op" id="6242662">{</span><span class="builtinfunc" id="6242663">len</span><span class="op" id="6242666">(</span><span class="ident" id="6242667">data</span><span class="op" id="6242671">)</span><span class="op" id="6242672">,</span>&nbsp;<span class="string" id="6242674">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6242690">,</span>&nbsp;<span class="ident" id="6242692">nil</span><span class="op" id="6242695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6242707">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242734">if</span>&nbsp;<span class="ident" id="6242737">ptrsz</span>&nbsp;<span class="op" id="6242743">==</span>&nbsp;<span class="num" id="6242746">8</span>&nbsp;<span class="op" id="6242748">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242755">s</span><span class="op" id="6242756">.</span><span class="ident" id="6242757">gotype</span>&nbsp;<span class="op" id="6242764">=</span>&nbsp;<span class="ident" id="6242766">order</span><span class="op" id="6242771">.</span><span class="ident" id="6242772">Uint64</span><span class="op" id="6242778">(</span><span class="ident" id="6242779">p</span><span class="op" id="6242780">[</span><span class="num" id="6242781">0</span><span class="op" id="6242782">:</span><span class="num" id="6242783">8</span><span class="op" id="6242784">]</span><span class="op" id="6242785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242792">p</span>&nbsp;<span class="op" id="6242794">=</span>&nbsp;<span class="ident" id="6242796">p</span><span class="op" id="6242797">[</span><span class="num" id="6242798">8</span><span class="op" id="6242799">:</span><span class="op" id="6242800">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242806">}</span>&nbsp;<span class="keyword" id="6242808">else</span>&nbsp;<span class="op" id="6242813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242820">s</span><span class="op" id="6242821">.</span><span class="ident" id="6242822">gotype</span>&nbsp;<span class="op" id="6242829">=</span>&nbsp;<span class="ident" id="6242831">uint64</span><span class="op" id="6242837">(</span><span class="ident" id="6242838">order</span><span class="op" id="6242843">.</span><span class="ident" id="6242844">Uint32</span><span class="op" id="6242850">(</span><span class="ident" id="6242851">p</span><span class="op" id="6242852">[</span><span class="num" id="6242853">0</span><span class="op" id="6242854">:</span><span class="num" id="6242855">4</span><span class="op" id="6242856">]</span><span class="op" id="6242857">)</span><span class="op" id="6242858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242865">p</span>&nbsp;<span class="op" id="6242867">=</span>&nbsp;<span class="ident" id="6242869">p</span><span class="op" id="6242870">[</span><span class="num" id="6242871">4</span><span class="op" id="6242872">:</span><span class="op" id="6242873">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6242888">}</span>&nbsp;<span class="keyword" id="6242890">else</span>&nbsp;<span class="op" id="6242895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6242900">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6242926">s</span><span class="op" id="6242927">.</span><span class="ident" id="6242928">value</span>&nbsp;<span class="op" id="6242934">=</span>&nbsp;<span class="ident" id="6242936">uint64</span><span class="op" id="6242942">(</span><span class="ident" id="6242943">order</span><span class="op" id="6242948">.</span><span class="ident" id="6242949">Uint32</span><span class="op" id="6242955">(</span><span class="ident" id="6242956">p</span><span class="op" id="6242957">[</span><span class="num" id="6242958">0</span><span class="op" id="6242959">:</span><span class="num" id="6242960">4</span><span class="op" id="6242961">]</span><span class="op" id="6242962">)</span><span class="op" id="6242963">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242968">if</span>&nbsp;<span class="builtinfunc" id="6242971">len</span><span class="op" id="6242974">(</span><span class="ident" id="6242975">p</span><span class="op" id="6242976">)</span>&nbsp;<span class="op" id="6242978">&lt;</span>&nbsp;<span class="num" id="6242980">5</span>&nbsp;<span class="op" id="6242982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6242988">return</span>&nbsp;<span class="op" id="6242995">&amp;</span><span class="ident" id="6242996">DecodingError</span><span class="op" id="6243009">{</span><span class="builtinfunc" id="6243010">len</span><span class="op" id="6243013">(</span><span class="ident" id="6243014">data</span><span class="op" id="6243018">)</span><span class="op" id="6243019">,</span>&nbsp;<span class="string" id="6243021">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6243037">,</span>&nbsp;<span class="ident" id="6243039">nil</span><span class="op" id="6243042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243052">typ</span>&nbsp;<span class="op" id="6243056">=</span>&nbsp;<span class="ident" id="6243058">p</span><span class="op" id="6243059">[</span><span class="num" id="6243060">4</span><span class="op" id="6243061">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243066">if</span>&nbsp;<span class="ident" id="6243069">typ</span><span class="op" id="6243072">&amp;</span><span class="num" id="6243073">0x80</span>&nbsp;<span class="op" id="6243078">==</span>&nbsp;<span class="num" id="6243081">0</span>&nbsp;<span class="op" id="6243083">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243089">return</span>&nbsp;<span class="op" id="6243096">&amp;</span><span class="ident" id="6243097">DecodingError</span><span class="op" id="6243110">{</span><span class="builtinfunc" id="6243111">len</span><span class="op" id="6243114">(</span><span class="ident" id="6243115">data</span><span class="op" id="6243119">)</span>&nbsp;<span class="op" id="6243121">-</span>&nbsp;<span class="builtinfunc" id="6243123">len</span><span class="op" id="6243126">(</span><span class="ident" id="6243127">p</span><span class="op" id="6243128">)</span>&nbsp;<span class="op" id="6243130">+</span>&nbsp;<span class="num" id="6243132">4</span><span class="op" id="6243133">,</span>&nbsp;<span class="string" id="6243135">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="6243152">,</span>&nbsp;<span class="ident" id="6243154">typ</span><span class="op" id="6243157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243167">typ</span>&nbsp;<span class="op" id="6243171">&amp;^=</span>&nbsp;<span class="num" id="6243175">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243183">s</span><span class="op" id="6243184">.</span><span class="ident" id="6243185">typ</span>&nbsp;<span class="op" id="6243189">=</span>&nbsp;<span class="ident" id="6243191">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243198">p</span>&nbsp;<span class="op" id="6243200">=</span>&nbsp;<span class="ident" id="6243202">p</span><span class="op" id="6243203">[</span><span class="num" id="6243204">5</span><span class="op" id="6243205">:</span><span class="op" id="6243206">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6243215">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243226">var</span>&nbsp;<span class="ident" id="6243230">i</span>&nbsp;<span class="builtintype" id="6243232">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243238">var</span>&nbsp;<span class="ident" id="6243242">nnul</span>&nbsp;<span class="builtintype" id="6243247">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243253">for</span>&nbsp;<span class="ident" id="6243257">i</span>&nbsp;<span class="op" id="6243259">=</span>&nbsp;<span class="num" id="6243261">0</span><span class="op" id="6243262">;</span>&nbsp;<span class="ident" id="6243264">i</span>&nbsp;<span class="op" id="6243266">&lt;</span>&nbsp;<span class="builtinfunc" id="6243268">len</span><span class="op" id="6243271">(</span><span class="ident" id="6243272">p</span><span class="op" id="6243273">)</span><span class="op" id="6243274">;</span>&nbsp;<span class="ident" id="6243276">i</span><span class="op" id="6243277">++</span>&nbsp;<span class="op" id="6243280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243285">if</span>&nbsp;<span class="ident" id="6243288">p</span><span class="op" id="6243289">[</span><span class="ident" id="6243290">i</span><span class="op" id="6243291">]</span>&nbsp;<span class="op" id="6243293">==</span>&nbsp;<span class="num" id="6243296">0</span>&nbsp;<span class="op" id="6243298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243304">nnul</span>&nbsp;<span class="op" id="6243309">=</span>&nbsp;<span class="num" id="6243311">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243317">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243326">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243334">switch</span>&nbsp;<span class="ident" id="6243341">typ</span>&nbsp;<span class="op" id="6243345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243349">case</span>&nbsp;<span class="string" id="6243354">&#39;z&#39;</span><span class="op" id="6243357">,</span>&nbsp;<span class="string" id="6243359">&#39;Z&#39;</span><span class="op" id="6243362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243367">p</span>&nbsp;<span class="op" id="6243369">=</span>&nbsp;<span class="ident" id="6243371">p</span><span class="op" id="6243372">[</span><span class="ident" id="6243373">i</span><span class="op" id="6243374">+</span><span class="ident" id="6243375">nnul</span><span class="op" id="6243379">:</span><span class="op" id="6243380">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243385">for</span>&nbsp;<span class="ident" id="6243389">i</span>&nbsp;<span class="op" id="6243391">=</span>&nbsp;<span class="num" id="6243393">0</span><span class="op" id="6243394">;</span>&nbsp;<span class="ident" id="6243396">i</span><span class="op" id="6243397">+</span><span class="num" id="6243398">2</span>&nbsp;<span class="op" id="6243400">&lt;=</span>&nbsp;<span class="builtinfunc" id="6243403">len</span><span class="op" id="6243406">(</span><span class="ident" id="6243407">p</span><span class="op" id="6243408">)</span><span class="op" id="6243409">;</span>&nbsp;<span class="ident" id="6243411">i</span>&nbsp;<span class="op" id="6243413">+=</span>&nbsp;<span class="num" id="6243416">2</span>&nbsp;<span class="op" id="6243418">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243424">if</span>&nbsp;<span class="ident" id="6243427">p</span><span class="op" id="6243428">[</span><span class="ident" id="6243429">i</span><span class="op" id="6243430">]</span>&nbsp;<span class="op" id="6243432">==</span>&nbsp;<span class="num" id="6243435">0</span>&nbsp;<span class="op" id="6243437">&amp;&amp;</span>&nbsp;<span class="ident" id="6243440">p</span><span class="op" id="6243441">[</span><span class="ident" id="6243442">i</span><span class="op" id="6243443">+</span><span class="num" id="6243444">1</span><span class="op" id="6243445">]</span>&nbsp;<span class="op" id="6243447">==</span>&nbsp;<span class="num" id="6243450">0</span>&nbsp;<span class="op" id="6243452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243459">nnul</span>&nbsp;<span class="op" id="6243464">=</span>&nbsp;<span class="num" id="6243466">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243473">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243488">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243496">if</span>&nbsp;<span class="builtinfunc" id="6243499">len</span><span class="op" id="6243502">(</span><span class="ident" id="6243503">p</span><span class="op" id="6243504">)</span>&nbsp;<span class="op" id="6243506">&lt;</span>&nbsp;<span class="ident" id="6243508">i</span><span class="op" id="6243509">+</span><span class="ident" id="6243510">nnul</span>&nbsp;<span class="op" id="6243515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243520">return</span>&nbsp;<span class="op" id="6243527">&amp;</span><span class="ident" id="6243528">DecodingError</span><span class="op" id="6243541">{</span><span class="builtinfunc" id="6243542">len</span><span class="op" id="6243545">(</span><span class="ident" id="6243546">data</span><span class="op" id="6243550">)</span><span class="op" id="6243551">,</span>&nbsp;<span class="string" id="6243553">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6243569">,</span>&nbsp;<span class="ident" id="6243571">nil</span><span class="op" id="6243574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243582">s</span><span class="op" id="6243583">.</span><span class="ident" id="6243584">name</span>&nbsp;<span class="op" id="6243589">=</span>&nbsp;<span class="ident" id="6243591">p</span><span class="op" id="6243592">[</span><span class="num" id="6243593">0</span><span class="op" id="6243594">:</span><span class="ident" id="6243595">i</span><span class="op" id="6243596">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243600">i</span>&nbsp;<span class="op" id="6243602">+=</span>&nbsp;<span class="ident" id="6243605">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243612">p</span>&nbsp;<span class="op" id="6243614">=</span>&nbsp;<span class="ident" id="6243616">p</span><span class="op" id="6243617">[</span><span class="ident" id="6243618">i</span><span class="op" id="6243619">:</span><span class="op" id="6243620">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243625">if</span>&nbsp;<span class="op" id="6243628">!</span><span class="ident" id="6243629">newTable</span>&nbsp;<span class="op" id="6243638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243643">if</span>&nbsp;<span class="builtinfunc" id="6243646">len</span><span class="op" id="6243649">(</span><span class="ident" id="6243650">p</span><span class="op" id="6243651">)</span>&nbsp;<span class="op" id="6243653">&lt;</span>&nbsp;<span class="num" id="6243655">4</span>&nbsp;<span class="op" id="6243657">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243663">return</span>&nbsp;<span class="op" id="6243670">&amp;</span><span class="ident" id="6243671">DecodingError</span><span class="op" id="6243684">{</span><span class="builtinfunc" id="6243685">len</span><span class="op" id="6243688">(</span><span class="ident" id="6243689">data</span><span class="op" id="6243693">)</span><span class="op" id="6243694">,</span>&nbsp;<span class="string" id="6243696">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6243712">,</span>&nbsp;<span class="ident" id="6243714">nil</span><span class="op" id="6243717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6243727">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243742">s</span><span class="op" id="6243743">.</span><span class="ident" id="6243744">gotype</span>&nbsp;<span class="op" id="6243751">=</span>&nbsp;<span class="ident" id="6243753">uint64</span><span class="op" id="6243759">(</span><span class="ident" id="6243760">order</span><span class="op" id="6243765">.</span><span class="ident" id="6243766">Uint32</span><span class="op" id="6243772">(</span><span class="ident" id="6243773">p</span><span class="op" id="6243774">[</span><span class="op" id="6243775">:</span><span class="num" id="6243776">4</span><span class="op" id="6243777">]</span><span class="op" id="6243778">)</span><span class="op" id="6243779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243784">p</span>&nbsp;<span class="op" id="6243786">=</span>&nbsp;<span class="ident" id="6243788">p</span><span class="op" id="6243789">[</span><span class="num" id="6243790">4</span><span class="op" id="6243791">:</span><span class="op" id="6243792">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243800">fn</span><span class="op" id="6243802">(</span><span class="ident" id="6243803">s</span><span class="op" id="6243804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6243807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243810">return</span>&nbsp;<span class="ident" id="6243817">nil</span><br>
<span class="lineno"></span><span class="op" id="6243821">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="6243824">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="6243873">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="6243915">func</span>&nbsp;<span class="ident" id="6243920">NewTable</span><span class="op" id="6243928">(</span><span class="ident" id="6243929">symtab</span>&nbsp;<span class="op" id="6243936">[</span><span class="op" id="6243937">]</span><span class="builtintype" id="6243938">byte</span><span class="op" id="6243942">,</span>&nbsp;<span class="ident" id="6243944">pcln</span>&nbsp;<span class="op" id="6243949">*</span><span class="ident" id="6243950">LineTable</span><span class="op" id="6243959">)</span>&nbsp;<span class="op" id="6243961">(</span><span class="op" id="6243962">*</span><span class="ident" id="6243963">Table</span><span class="op" id="6243968">,</span>&nbsp;<span class="builtintype" id="6243970">error</span><span class="op" id="6243975">)</span>&nbsp;<span class="op" id="6243977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6243980">var</span>&nbsp;<span class="ident" id="6243984">n</span>&nbsp;<span class="builtintype" id="6243986">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6243991">err</span>&nbsp;<span class="op" id="6243995">:=</span>&nbsp;<span class="ident" id="6243998">walksymtab</span><span class="op" id="6244008">(</span><span class="ident" id="6244009">symtab</span><span class="op" id="6244015">,</span>&nbsp;<span class="keyword" id="6244017">func</span><span class="op" id="6244021">(</span><span class="ident" id="6244022">s</span>&nbsp;<span class="ident" id="6244024">sym</span><span class="op" id="6244027">)</span>&nbsp;<span class="builtintype" id="6244029">error</span>&nbsp;<span class="op" id="6244035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244039">n</span><span class="op" id="6244040">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244045">return</span>&nbsp;<span class="ident" id="6244052">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244057">}</span><span class="op" id="6244058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244061">if</span>&nbsp;<span class="ident" id="6244064">err</span>&nbsp;<span class="op" id="6244068">!=</span>&nbsp;<span class="ident" id="6244071">nil</span>&nbsp;<span class="op" id="6244075">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244079">return</span>&nbsp;<span class="ident" id="6244086">nil</span><span class="op" id="6244089">,</span>&nbsp;<span class="ident" id="6244091">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244100">var</span>&nbsp;<span class="ident" id="6244104">t</span>&nbsp;<span class="ident" id="6244106">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244113">if</span>&nbsp;<span class="ident" id="6244116">pcln</span><span class="op" id="6244120">.</span><span class="ident" id="6244121">isGo12</span><span class="op" id="6244127">(</span><span class="op" id="6244128">)</span>&nbsp;<span class="op" id="6244130">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244134">t</span><span class="op" id="6244135">.</span><span class="ident" id="6244136">go12line</span>&nbsp;<span class="op" id="6244145">=</span>&nbsp;<span class="ident" id="6244147">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244156">fname</span>&nbsp;<span class="op" id="6244162">:=</span>&nbsp;<span class="builtinfunc" id="6244165">make</span><span class="op" id="6244169">(</span><span class="keyword" id="6244170">map</span><span class="op" id="6244173">[</span><span class="builtintype" id="6244174">uint16</span><span class="op" id="6244180">]</span><span class="builtintype" id="6244181">string</span><span class="op" id="6244187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244190">t</span><span class="op" id="6244191">.</span><span class="ident" id="6244192">Syms</span>&nbsp;<span class="op" id="6244197">=</span>&nbsp;<span class="builtinfunc" id="6244199">make</span><span class="op" id="6244203">(</span><span class="op" id="6244204">[</span><span class="op" id="6244205">]</span><span class="ident" id="6244206">Sym</span><span class="op" id="6244209">,</span>&nbsp;<span class="num" id="6244211">0</span><span class="op" id="6244212">,</span>&nbsp;<span class="ident" id="6244214">n</span><span class="op" id="6244215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244218">nf</span>&nbsp;<span class="op" id="6244221">:=</span>&nbsp;<span class="num" id="6244224">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244227">nz</span>&nbsp;<span class="op" id="6244230">:=</span>&nbsp;<span class="num" id="6244233">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244236">lasttyp</span>&nbsp;<span class="op" id="6244244">:=</span>&nbsp;<span class="builtintype" id="6244247">uint8</span><span class="op" id="6244252">(</span><span class="num" id="6244253">0</span><span class="op" id="6244254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244257">err</span>&nbsp;<span class="op" id="6244261">=</span>&nbsp;<span class="ident" id="6244263">walksymtab</span><span class="op" id="6244273">(</span><span class="ident" id="6244274">symtab</span><span class="op" id="6244280">,</span>&nbsp;<span class="keyword" id="6244282">func</span><span class="op" id="6244286">(</span><span class="ident" id="6244287">s</span>&nbsp;<span class="ident" id="6244289">sym</span><span class="op" id="6244292">)</span>&nbsp;<span class="builtintype" id="6244294">error</span>&nbsp;<span class="op" id="6244300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244304">n</span>&nbsp;<span class="op" id="6244306">:=</span>&nbsp;<span class="builtinfunc" id="6244309">len</span><span class="op" id="6244312">(</span><span class="ident" id="6244313">t</span><span class="op" id="6244314">.</span><span class="ident" id="6244315">Syms</span><span class="op" id="6244319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244323">t</span><span class="op" id="6244324">.</span><span class="ident" id="6244325">Syms</span>&nbsp;<span class="op" id="6244330">=</span>&nbsp;<span class="ident" id="6244332">t</span><span class="op" id="6244333">.</span><span class="ident" id="6244334">Syms</span><span class="op" id="6244338">[</span><span class="num" id="6244339">0</span>&nbsp;<span class="op" id="6244341">:</span>&nbsp;<span class="ident" id="6244343">n</span><span class="op" id="6244344">+</span><span class="num" id="6244345">1</span><span class="op" id="6244346">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244350">ts</span>&nbsp;<span class="op" id="6244353">:=</span>&nbsp;<span class="op" id="6244356">&amp;</span><span class="ident" id="6244357">t</span><span class="op" id="6244358">.</span><span class="ident" id="6244359">Syms</span><span class="op" id="6244363">[</span><span class="ident" id="6244364">n</span><span class="op" id="6244365">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244369">ts</span><span class="op" id="6244371">.</span><span class="ident" id="6244372">Type</span>&nbsp;<span class="op" id="6244377">=</span>&nbsp;<span class="ident" id="6244379">s</span><span class="op" id="6244380">.</span><span class="ident" id="6244381">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244387">ts</span><span class="op" id="6244389">.</span><span class="ident" id="6244390">Value</span>&nbsp;<span class="op" id="6244396">=</span>&nbsp;<span class="ident" id="6244398">uint64</span><span class="op" id="6244404">(</span><span class="ident" id="6244405">s</span><span class="op" id="6244406">.</span><span class="ident" id="6244407">value</span><span class="op" id="6244412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244416">ts</span><span class="op" id="6244418">.</span><span class="ident" id="6244419">GoType</span>&nbsp;<span class="op" id="6244426">=</span>&nbsp;<span class="ident" id="6244428">uint64</span><span class="op" id="6244434">(</span><span class="ident" id="6244435">s</span><span class="op" id="6244436">.</span><span class="ident" id="6244437">gotype</span><span class="op" id="6244443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244447">switch</span>&nbsp;<span class="ident" id="6244454">s</span><span class="op" id="6244455">.</span><span class="ident" id="6244456">typ</span>&nbsp;<span class="op" id="6244460">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244464">default</span><span class="op" id="6244471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6244476">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244526">w</span>&nbsp;<span class="op" id="6244528">:=</span>&nbsp;<span class="num" id="6244531">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244536">b</span>&nbsp;<span class="op" id="6244538">:=</span>&nbsp;<span class="ident" id="6244541">s</span><span class="op" id="6244542">.</span><span class="ident" id="6244543">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244551">for</span>&nbsp;<span class="ident" id="6244555">i</span>&nbsp;<span class="op" id="6244557">:=</span>&nbsp;<span class="num" id="6244560">0</span><span class="op" id="6244561">;</span>&nbsp;<span class="ident" id="6244563">i</span>&nbsp;<span class="op" id="6244565">&lt;</span>&nbsp;<span class="builtinfunc" id="6244567">len</span><span class="op" id="6244570">(</span><span class="ident" id="6244571">b</span><span class="op" id="6244572">)</span><span class="op" id="6244573">;</span>&nbsp;<span class="ident" id="6244575">i</span><span class="op" id="6244576">++</span>&nbsp;<span class="op" id="6244579">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244585">if</span>&nbsp;<span class="ident" id="6244588">b</span><span class="op" id="6244589">[</span><span class="ident" id="6244590">i</span><span class="op" id="6244591">]</span>&nbsp;<span class="op" id="6244593">==</span>&nbsp;<span class="num" id="6244596">0xc2</span>&nbsp;<span class="op" id="6244601">&amp;&amp;</span>&nbsp;<span class="ident" id="6244604">i</span><span class="op" id="6244605">+</span><span class="num" id="6244606">1</span>&nbsp;<span class="op" id="6244608">&lt;</span>&nbsp;<span class="builtinfunc" id="6244610">len</span><span class="op" id="6244613">(</span><span class="ident" id="6244614">b</span><span class="op" id="6244615">)</span>&nbsp;<span class="op" id="6244617">&amp;&amp;</span>&nbsp;<span class="ident" id="6244620">b</span><span class="op" id="6244621">[</span><span class="ident" id="6244622">i</span><span class="op" id="6244623">+</span><span class="num" id="6244624">1</span><span class="op" id="6244625">]</span>&nbsp;<span class="op" id="6244627">==</span>&nbsp;<span class="num" id="6244630">0xb7</span>&nbsp;<span class="op" id="6244635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244642">i</span><span class="op" id="6244643">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244651">b</span><span class="op" id="6244652">[</span><span class="ident" id="6244653">i</span><span class="op" id="6244654">]</span>&nbsp;<span class="op" id="6244656">=</span>&nbsp;<span class="string" id="6244658">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244672">b</span><span class="op" id="6244673">[</span><span class="ident" id="6244674">w</span><span class="op" id="6244675">]</span>&nbsp;<span class="op" id="6244677">=</span>&nbsp;<span class="ident" id="6244679">b</span><span class="op" id="6244680">[</span><span class="ident" id="6244681">i</span><span class="op" id="6244682">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244688">w</span><span class="op" id="6244689">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244700">ts</span><span class="op" id="6244702">.</span><span class="ident" id="6244703">Name</span>&nbsp;<span class="op" id="6244708">=</span>&nbsp;<span class="builtintype" id="6244710">string</span><span class="op" id="6244716">(</span><span class="ident" id="6244717">s</span><span class="op" id="6244718">.</span><span class="ident" id="6244719">name</span><span class="op" id="6244723">[</span><span class="num" id="6244724">0</span><span class="op" id="6244725">:</span><span class="ident" id="6244726">w</span><span class="op" id="6244727">]</span><span class="op" id="6244728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244732">case</span>&nbsp;<span class="string" id="6244737">&#39;z&#39;</span><span class="op" id="6244740">,</span>&nbsp;<span class="string" id="6244742">&#39;Z&#39;</span><span class="op" id="6244745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244750">if</span>&nbsp;<span class="ident" id="6244753">lasttyp</span>&nbsp;<span class="op" id="6244761">!=</span>&nbsp;<span class="string" id="6244764">&#39;z&#39;</span>&nbsp;<span class="op" id="6244768">&amp;&amp;</span>&nbsp;<span class="ident" id="6244771">lasttyp</span>&nbsp;<span class="op" id="6244779">!=</span>&nbsp;<span class="string" id="6244782">&#39;Z&#39;</span>&nbsp;<span class="op" id="6244786">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244792">nz</span><span class="op" id="6244794">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6244800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244805">for</span>&nbsp;<span class="ident" id="6244809">i</span>&nbsp;<span class="op" id="6244811">:=</span>&nbsp;<span class="num" id="6244814">0</span><span class="op" id="6244815">;</span>&nbsp;<span class="ident" id="6244817">i</span>&nbsp;<span class="op" id="6244819">&lt;</span>&nbsp;<span class="builtinfunc" id="6244821">len</span><span class="op" id="6244824">(</span><span class="ident" id="6244825">s</span><span class="op" id="6244826">.</span><span class="ident" id="6244827">name</span><span class="op" id="6244831">)</span><span class="op" id="6244832">;</span>&nbsp;<span class="ident" id="6244834">i</span>&nbsp;<span class="op" id="6244836">+=</span>&nbsp;<span class="num" id="6244839">2</span>&nbsp;<span class="op" id="6244841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244847">eltIdx</span>&nbsp;<span class="op" id="6244854">:=</span>&nbsp;<span class="ident" id="6244857">binary</span><span class="op" id="6244863">.</span><span class="ident" id="6244864">BigEndian</span><span class="op" id="6244873">.</span><span class="ident" id="6244874">Uint16</span><span class="op" id="6244880">(</span><span class="ident" id="6244881">s</span><span class="op" id="6244882">.</span><span class="ident" id="6244883">name</span><span class="op" id="6244887">[</span><span class="ident" id="6244888">i</span>&nbsp;<span class="op" id="6244890">:</span>&nbsp;<span class="ident" id="6244892">i</span><span class="op" id="6244893">+</span><span class="num" id="6244894">2</span><span class="op" id="6244895">]</span><span class="op" id="6244896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6244902">elt</span><span class="op" id="6244905">,</span>&nbsp;<span class="ident" id="6244907">ok</span>&nbsp;<span class="op" id="6244910">:=</span>&nbsp;<span class="ident" id="6244913">fname</span><span class="op" id="6244918">[</span><span class="ident" id="6244919">eltIdx</span><span class="op" id="6244925">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244931">if</span>&nbsp;<span class="op" id="6244934">!</span><span class="ident" id="6244935">ok</span>&nbsp;<span class="op" id="6244938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6244945">return</span>&nbsp;<span class="op" id="6244952">&amp;</span><span class="ident" id="6244953">DecodingError</span><span class="op" id="6244966">{</span><span class="op" id="6244967">-</span><span class="num" id="6244968">1</span><span class="op" id="6244969">,</span>&nbsp;<span class="string" id="6244971">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="6244990">,</span>&nbsp;<span class="ident" id="6244992">eltIdx</span><span class="op" id="6244998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245010">if</span>&nbsp;<span class="ident" id="6245013">n</span>&nbsp;<span class="op" id="6245015">:=</span>&nbsp;<span class="builtinfunc" id="6245018">len</span><span class="op" id="6245021">(</span><span class="ident" id="6245022">ts</span><span class="op" id="6245024">.</span><span class="ident" id="6245025">Name</span><span class="op" id="6245029">)</span><span class="op" id="6245030">;</span>&nbsp;<span class="ident" id="6245032">n</span>&nbsp;<span class="op" id="6245034">&gt;</span>&nbsp;<span class="num" id="6245036">0</span>&nbsp;<span class="op" id="6245038">&amp;&amp;</span>&nbsp;<span class="ident" id="6245041">ts</span><span class="op" id="6245043">.</span><span class="ident" id="6245044">Name</span><span class="op" id="6245048">[</span><span class="ident" id="6245049">n</span><span class="op" id="6245050">-</span><span class="num" id="6245051">1</span><span class="op" id="6245052">]</span>&nbsp;<span class="op" id="6245054">!=</span>&nbsp;<span class="string" id="6245057">&#39;/&#39;</span>&nbsp;<span class="op" id="6245061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245068">ts</span><span class="op" id="6245070">.</span><span class="ident" id="6245071">Name</span>&nbsp;<span class="op" id="6245076">+=</span>&nbsp;<span class="string" id="6245079">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245093">ts</span><span class="op" id="6245095">.</span><span class="ident" id="6245096">Name</span>&nbsp;<span class="op" id="6245101">+=</span>&nbsp;<span class="ident" id="6245104">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245119">switch</span>&nbsp;<span class="ident" id="6245126">s</span><span class="op" id="6245127">.</span><span class="ident" id="6245128">typ</span>&nbsp;<span class="op" id="6245132">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245136">case</span>&nbsp;<span class="string" id="6245141">&#39;T&#39;</span><span class="op" id="6245144">,</span>&nbsp;<span class="string" id="6245146">&#39;t&#39;</span><span class="op" id="6245149">,</span>&nbsp;<span class="string" id="6245151">&#39;L&#39;</span><span class="op" id="6245154">,</span>&nbsp;<span class="string" id="6245156">&#39;l&#39;</span><span class="op" id="6245159">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245164">nf</span><span class="op" id="6245166">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245171">case</span>&nbsp;<span class="string" id="6245176">&#39;f&#39;</span><span class="op" id="6245179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245184">fname</span><span class="op" id="6245189">[</span><span class="builtintype" id="6245190">uint16</span><span class="op" id="6245196">(</span><span class="ident" id="6245197">s</span><span class="op" id="6245198">.</span><span class="ident" id="6245199">value</span><span class="op" id="6245204">)</span><span class="op" id="6245205">]</span>&nbsp;<span class="op" id="6245207">=</span>&nbsp;<span class="ident" id="6245209">ts</span><span class="op" id="6245211">.</span><span class="ident" id="6245212">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245219">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245223">lasttyp</span>&nbsp;<span class="op" id="6245231">=</span>&nbsp;<span class="ident" id="6245233">s</span><span class="op" id="6245234">.</span><span class="ident" id="6245235">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245241">return</span>&nbsp;<span class="ident" id="6245248">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245253">}</span><span class="op" id="6245254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245257">if</span>&nbsp;<span class="ident" id="6245260">err</span>&nbsp;<span class="op" id="6245264">!=</span>&nbsp;<span class="ident" id="6245267">nil</span>&nbsp;<span class="op" id="6245271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245275">return</span>&nbsp;<span class="ident" id="6245282">nil</span><span class="op" id="6245285">,</span>&nbsp;<span class="ident" id="6245287">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245296">t</span><span class="op" id="6245297">.</span><span class="ident" id="6245298">Funcs</span>&nbsp;<span class="op" id="6245304">=</span>&nbsp;<span class="builtinfunc" id="6245306">make</span><span class="op" id="6245310">(</span><span class="op" id="6245311">[</span><span class="op" id="6245312">]</span><span class="ident" id="6245313">Func</span><span class="op" id="6245317">,</span>&nbsp;<span class="num" id="6245319">0</span><span class="op" id="6245320">,</span>&nbsp;<span class="ident" id="6245322">nf</span><span class="op" id="6245324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245327">t</span><span class="op" id="6245328">.</span><span class="ident" id="6245329">Files</span>&nbsp;<span class="op" id="6245335">=</span>&nbsp;<span class="builtinfunc" id="6245337">make</span><span class="op" id="6245341">(</span><span class="keyword" id="6245342">map</span><span class="op" id="6245345">[</span><span class="builtintype" id="6245346">string</span><span class="op" id="6245352">]</span><span class="op" id="6245353">*</span><span class="ident" id="6245354">Obj</span><span class="op" id="6245357">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245361">var</span>&nbsp;<span class="ident" id="6245365">obj</span>&nbsp;<span class="op" id="6245369">*</span><span class="ident" id="6245370">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245375">if</span>&nbsp;<span class="ident" id="6245378">t</span><span class="op" id="6245379">.</span><span class="ident" id="6245380">go12line</span>&nbsp;<span class="op" id="6245389">!=</span>&nbsp;<span class="ident" id="6245392">nil</span>&nbsp;<span class="op" id="6245396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6245400">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245437">t</span><span class="op" id="6245438">.</span><span class="ident" id="6245439">Objs</span>&nbsp;<span class="op" id="6245444">=</span>&nbsp;<span class="builtinfunc" id="6245446">make</span><span class="op" id="6245450">(</span><span class="op" id="6245451">[</span><span class="op" id="6245452">]</span><span class="ident" id="6245453">Obj</span><span class="op" id="6245456">,</span>&nbsp;<span class="num" id="6245458">1</span><span class="op" id="6245459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245463">obj</span>&nbsp;<span class="op" id="6245467">=</span>&nbsp;<span class="op" id="6245469">&amp;</span><span class="ident" id="6245470">t</span><span class="op" id="6245471">.</span><span class="ident" id="6245472">Objs</span><span class="op" id="6245476">[</span><span class="num" id="6245477">0</span><span class="op" id="6245478">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245482">t</span><span class="op" id="6245483">.</span><span class="ident" id="6245484">go12line</span><span class="op" id="6245492">.</span><span class="ident" id="6245493">go12MapFiles</span><span class="op" id="6245505">(</span><span class="ident" id="6245506">t</span><span class="op" id="6245507">.</span><span class="ident" id="6245508">Files</span><span class="op" id="6245513">,</span>&nbsp;<span class="ident" id="6245515">obj</span><span class="op" id="6245518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245521">}</span>&nbsp;<span class="keyword" id="6245523">else</span>&nbsp;<span class="op" id="6245528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245532">t</span><span class="op" id="6245533">.</span><span class="ident" id="6245534">Objs</span>&nbsp;<span class="op" id="6245539">=</span>&nbsp;<span class="builtinfunc" id="6245541">make</span><span class="op" id="6245545">(</span><span class="op" id="6245546">[</span><span class="op" id="6245547">]</span><span class="ident" id="6245548">Obj</span><span class="op" id="6245551">,</span>&nbsp;<span class="num" id="6245553">0</span><span class="op" id="6245554">,</span>&nbsp;<span class="ident" id="6245556">nz</span><span class="op" id="6245558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6245565">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6245628">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245684">lastf</span>&nbsp;<span class="op" id="6245690">:=</span>&nbsp;<span class="num" id="6245693">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245696">for</span>&nbsp;<span class="ident" id="6245700">i</span>&nbsp;<span class="op" id="6245702">:=</span>&nbsp;<span class="num" id="6245705">0</span><span class="op" id="6245706">;</span>&nbsp;<span class="ident" id="6245708">i</span>&nbsp;<span class="op" id="6245710">&lt;</span>&nbsp;<span class="builtinfunc" id="6245712">len</span><span class="op" id="6245715">(</span><span class="ident" id="6245716">t</span><span class="op" id="6245717">.</span><span class="ident" id="6245718">Syms</span><span class="op" id="6245722">)</span><span class="op" id="6245723">;</span>&nbsp;<span class="ident" id="6245725">i</span><span class="op" id="6245726">++</span>&nbsp;<span class="op" id="6245729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245733">sym</span>&nbsp;<span class="op" id="6245737">:=</span>&nbsp;<span class="op" id="6245740">&amp;</span><span class="ident" id="6245741">t</span><span class="op" id="6245742">.</span><span class="ident" id="6245743">Syms</span><span class="op" id="6245747">[</span><span class="ident" id="6245748">i</span><span class="op" id="6245749">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245753">switch</span>&nbsp;<span class="ident" id="6245760">sym</span><span class="op" id="6245763">.</span><span class="ident" id="6245764">Type</span>&nbsp;<span class="op" id="6245769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245773">case</span>&nbsp;<span class="string" id="6245778">&#39;Z&#39;</span><span class="op" id="6245781">,</span>&nbsp;<span class="string" id="6245783">&#39;z&#39;</span><span class="op" id="6245786">:</span>&nbsp;<span class="comment" id="6245788">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245806">if</span>&nbsp;<span class="ident" id="6245809">t</span><span class="op" id="6245810">.</span><span class="ident" id="6245811">go12line</span>&nbsp;<span class="op" id="6245820">!=</span>&nbsp;<span class="ident" id="6245823">nil</span>&nbsp;<span class="op" id="6245827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6245833">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245901">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6245915">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6245947">if</span>&nbsp;<span class="ident" id="6245950">obj</span>&nbsp;<span class="op" id="6245954">!=</span>&nbsp;<span class="ident" id="6245957">nil</span>&nbsp;<span class="op" id="6245961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6245967">obj</span><span class="op" id="6245970">.</span><span class="ident" id="6245971">Funcs</span>&nbsp;<span class="op" id="6245977">=</span>&nbsp;<span class="ident" id="6245979">t</span><span class="op" id="6245980">.</span><span class="ident" id="6245981">Funcs</span><span class="op" id="6245986">[</span><span class="ident" id="6245987">lastf</span><span class="op" id="6245992">:</span><span class="op" id="6245993">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6245998">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246003">lastf</span>&nbsp;<span class="op" id="6246009">=</span>&nbsp;<span class="builtinfunc" id="6246011">len</span><span class="op" id="6246014">(</span><span class="ident" id="6246015">t</span><span class="op" id="6246016">.</span><span class="ident" id="6246017">Funcs</span><span class="op" id="6246022">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6246028">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246051">n</span>&nbsp;<span class="op" id="6246053">:=</span>&nbsp;<span class="builtinfunc" id="6246056">len</span><span class="op" id="6246059">(</span><span class="ident" id="6246060">t</span><span class="op" id="6246061">.</span><span class="ident" id="6246062">Objs</span><span class="op" id="6246066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246071">t</span><span class="op" id="6246072">.</span><span class="ident" id="6246073">Objs</span>&nbsp;<span class="op" id="6246078">=</span>&nbsp;<span class="ident" id="6246080">t</span><span class="op" id="6246081">.</span><span class="ident" id="6246082">Objs</span><span class="op" id="6246086">[</span><span class="num" id="6246087">0</span>&nbsp;<span class="op" id="6246089">:</span>&nbsp;<span class="ident" id="6246091">n</span><span class="op" id="6246092">+</span><span class="num" id="6246093">1</span><span class="op" id="6246094">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246099">obj</span>&nbsp;<span class="op" id="6246103">=</span>&nbsp;<span class="op" id="6246105">&amp;</span><span class="ident" id="6246106">t</span><span class="op" id="6246107">.</span><span class="ident" id="6246108">Objs</span><span class="op" id="6246112">[</span><span class="ident" id="6246113">n</span><span class="op" id="6246114">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6246120">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246152">var</span>&nbsp;<span class="ident" id="6246156">end</span>&nbsp;<span class="builtintype" id="6246160">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246167">for</span>&nbsp;<span class="ident" id="6246171">end</span>&nbsp;<span class="op" id="6246175">=</span>&nbsp;<span class="ident" id="6246177">i</span>&nbsp;<span class="op" id="6246179">+</span>&nbsp;<span class="num" id="6246181">1</span><span class="op" id="6246182">;</span>&nbsp;<span class="ident" id="6246184">end</span>&nbsp;<span class="op" id="6246188">&lt;</span>&nbsp;<span class="builtinfunc" id="6246190">len</span><span class="op" id="6246193">(</span><span class="ident" id="6246194">t</span><span class="op" id="6246195">.</span><span class="ident" id="6246196">Syms</span><span class="op" id="6246200">)</span><span class="op" id="6246201">;</span>&nbsp;<span class="ident" id="6246203">end</span><span class="op" id="6246206">++</span>&nbsp;<span class="op" id="6246209">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246215">if</span>&nbsp;<span class="ident" id="6246218">c</span>&nbsp;<span class="op" id="6246220">:=</span>&nbsp;<span class="ident" id="6246223">t</span><span class="op" id="6246224">.</span><span class="ident" id="6246225">Syms</span><span class="op" id="6246229">[</span><span class="ident" id="6246230">end</span><span class="op" id="6246233">]</span><span class="op" id="6246234">.</span><span class="ident" id="6246235">Type</span><span class="op" id="6246239">;</span>&nbsp;<span class="ident" id="6246241">c</span>&nbsp;<span class="op" id="6246243">!=</span>&nbsp;<span class="string" id="6246246">&#39;Z&#39;</span>&nbsp;<span class="op" id="6246250">&amp;&amp;</span>&nbsp;<span class="ident" id="6246253">c</span>&nbsp;<span class="op" id="6246255">!=</span>&nbsp;<span class="string" id="6246258">&#39;z&#39;</span>&nbsp;<span class="op" id="6246262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246269">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246289">obj</span><span class="op" id="6246292">.</span><span class="ident" id="6246293">Paths</span>&nbsp;<span class="op" id="6246299">=</span>&nbsp;<span class="ident" id="6246301">t</span><span class="op" id="6246302">.</span><span class="ident" id="6246303">Syms</span><span class="op" id="6246307">[</span><span class="ident" id="6246308">i</span><span class="op" id="6246309">:</span><span class="ident" id="6246310">end</span><span class="op" id="6246313">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246318">i</span>&nbsp;<span class="op" id="6246320">=</span>&nbsp;<span class="ident" id="6246322">end</span>&nbsp;<span class="op" id="6246326">-</span>&nbsp;<span class="num" id="6246328">1</span>&nbsp;<span class="comment" id="6246330">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6246351">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246375">depth</span>&nbsp;<span class="op" id="6246381">:=</span>&nbsp;<span class="num" id="6246384">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246389">for</span>&nbsp;<span class="ident" id="6246393">j</span>&nbsp;<span class="op" id="6246395">:=</span>&nbsp;<span class="keyword" id="6246398">range</span>&nbsp;<span class="ident" id="6246404">obj</span><span class="op" id="6246407">.</span><span class="ident" id="6246408">Paths</span>&nbsp;<span class="op" id="6246414">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246420">s</span>&nbsp;<span class="op" id="6246422">:=</span>&nbsp;<span class="op" id="6246425">&amp;</span><span class="ident" id="6246426">obj</span><span class="op" id="6246429">.</span><span class="ident" id="6246430">Paths</span><span class="op" id="6246435">[</span><span class="ident" id="6246436">j</span><span class="op" id="6246437">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246443">if</span>&nbsp;<span class="ident" id="6246446">s</span><span class="op" id="6246447">.</span><span class="ident" id="6246448">Name</span>&nbsp;<span class="op" id="6246453">==</span>&nbsp;<span class="string" id="6246456">&#34;&#34;</span>&nbsp;<span class="op" id="6246459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246466">depth</span><span class="op" id="6246471">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246478">}</span>&nbsp;<span class="keyword" id="6246480">else</span>&nbsp;<span class="op" id="6246485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246492">if</span>&nbsp;<span class="ident" id="6246495">depth</span>&nbsp;<span class="op" id="6246501">==</span>&nbsp;<span class="num" id="6246504">0</span>&nbsp;<span class="op" id="6246506">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246514">t</span><span class="op" id="6246515">.</span><span class="ident" id="6246516">Files</span><span class="op" id="6246521">[</span><span class="ident" id="6246522">s</span><span class="op" id="6246523">.</span><span class="ident" id="6246524">Name</span><span class="op" id="6246528">]</span>&nbsp;<span class="op" id="6246530">=</span>&nbsp;<span class="ident" id="6246532">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246548">depth</span><span class="op" id="6246553">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246565">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246570">case</span>&nbsp;<span class="string" id="6246575">&#39;T&#39;</span><span class="op" id="6246578">,</span>&nbsp;<span class="string" id="6246580">&#39;t&#39;</span><span class="op" id="6246583">,</span>&nbsp;<span class="string" id="6246585">&#39;L&#39;</span><span class="op" id="6246588">,</span>&nbsp;<span class="string" id="6246590">&#39;l&#39;</span><span class="op" id="6246593">:</span>&nbsp;<span class="comment" id="6246595">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246613">if</span>&nbsp;<span class="ident" id="6246616">n</span>&nbsp;<span class="op" id="6246618">:=</span>&nbsp;<span class="builtinfunc" id="6246621">len</span><span class="op" id="6246624">(</span><span class="ident" id="6246625">t</span><span class="op" id="6246626">.</span><span class="ident" id="6246627">Funcs</span><span class="op" id="6246632">)</span><span class="op" id="6246633">;</span>&nbsp;<span class="ident" id="6246635">n</span>&nbsp;<span class="op" id="6246637">&gt;</span>&nbsp;<span class="num" id="6246639">0</span>&nbsp;<span class="op" id="6246641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246647">t</span><span class="op" id="6246648">.</span><span class="ident" id="6246649">Funcs</span><span class="op" id="6246654">[</span><span class="ident" id="6246655">n</span><span class="op" id="6246656">-</span><span class="num" id="6246657">1</span><span class="op" id="6246658">]</span><span class="op" id="6246659">.</span><span class="ident" id="6246660">End</span>&nbsp;<span class="op" id="6246664">=</span>&nbsp;<span class="ident" id="6246666">sym</span><span class="op" id="6246669">.</span><span class="ident" id="6246670">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246679">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246684">if</span>&nbsp;<span class="ident" id="6246687">sym</span><span class="op" id="6246690">.</span><span class="ident" id="6246691">Name</span>&nbsp;<span class="op" id="6246696">==</span>&nbsp;<span class="string" id="6246699">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="6246715">||</span>&nbsp;<span class="ident" id="6246718">sym</span><span class="op" id="6246721">.</span><span class="ident" id="6246722">Name</span>&nbsp;<span class="op" id="6246727">==</span>&nbsp;<span class="string" id="6246730">&#34;etext&#34;</span>&nbsp;<span class="op" id="6246738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246744">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6246756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6246762">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246806">var</span>&nbsp;<span class="ident" id="6246810">np</span><span class="op" id="6246812">,</span>&nbsp;<span class="ident" id="6246814">na</span>&nbsp;<span class="builtintype" id="6246817">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246824">var</span>&nbsp;<span class="ident" id="6246828">end</span>&nbsp;<span class="builtintype" id="6246832">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6246838">countloop</span><span class="op" id="6246847">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246852">for</span>&nbsp;<span class="ident" id="6246856">end</span>&nbsp;<span class="op" id="6246860">=</span>&nbsp;<span class="ident" id="6246862">i</span>&nbsp;<span class="op" id="6246864">+</span>&nbsp;<span class="num" id="6246866">1</span><span class="op" id="6246867">;</span>&nbsp;<span class="ident" id="6246869">end</span>&nbsp;<span class="op" id="6246873">&lt;</span>&nbsp;<span class="builtinfunc" id="6246875">len</span><span class="op" id="6246878">(</span><span class="ident" id="6246879">t</span><span class="op" id="6246880">.</span><span class="ident" id="6246881">Syms</span><span class="op" id="6246885">)</span><span class="op" id="6246886">;</span>&nbsp;<span class="ident" id="6246888">end</span><span class="op" id="6246891">++</span>&nbsp;<span class="op" id="6246894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246900">switch</span>&nbsp;<span class="ident" id="6246907">t</span><span class="op" id="6246908">.</span><span class="ident" id="6246909">Syms</span><span class="op" id="6246913">[</span><span class="ident" id="6246914">end</span><span class="op" id="6246917">]</span><span class="op" id="6246918">.</span><span class="ident" id="6246919">Type</span>&nbsp;<span class="op" id="6246924">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246930">case</span>&nbsp;<span class="string" id="6246935">&#39;T&#39;</span><span class="op" id="6246938">,</span>&nbsp;<span class="string" id="6246940">&#39;t&#39;</span><span class="op" id="6246943">,</span>&nbsp;<span class="string" id="6246945">&#39;L&#39;</span><span class="op" id="6246948">,</span>&nbsp;<span class="string" id="6246950">&#39;l&#39;</span><span class="op" id="6246953">,</span>&nbsp;<span class="string" id="6246955">&#39;Z&#39;</span><span class="op" id="6246958">,</span>&nbsp;<span class="string" id="6246960">&#39;z&#39;</span><span class="op" id="6246963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246970">break</span>&nbsp;<span class="ident" id="6246976">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6246990">case</span>&nbsp;<span class="string" id="6246995">&#39;p&#39;</span><span class="op" id="6246998">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247005">np</span><span class="op" id="6247007">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247014">case</span>&nbsp;<span class="string" id="6247019">&#39;a&#39;</span><span class="op" id="6247022">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247029">na</span><span class="op" id="6247031">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6247049">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247083">n</span>&nbsp;<span class="op" id="6247085">:=</span>&nbsp;<span class="builtinfunc" id="6247088">len</span><span class="op" id="6247091">(</span><span class="ident" id="6247092">t</span><span class="op" id="6247093">.</span><span class="ident" id="6247094">Funcs</span><span class="op" id="6247099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247104">t</span><span class="op" id="6247105">.</span><span class="ident" id="6247106">Funcs</span>&nbsp;<span class="op" id="6247112">=</span>&nbsp;<span class="ident" id="6247114">t</span><span class="op" id="6247115">.</span><span class="ident" id="6247116">Funcs</span><span class="op" id="6247121">[</span><span class="num" id="6247122">0</span>&nbsp;<span class="op" id="6247124">:</span>&nbsp;<span class="ident" id="6247126">n</span><span class="op" id="6247127">+</span><span class="num" id="6247128">1</span><span class="op" id="6247129">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247134">fn</span>&nbsp;<span class="op" id="6247137">:=</span>&nbsp;<span class="op" id="6247140">&amp;</span><span class="ident" id="6247141">t</span><span class="op" id="6247142">.</span><span class="ident" id="6247143">Funcs</span><span class="op" id="6247148">[</span><span class="ident" id="6247149">n</span><span class="op" id="6247150">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247155">sym</span><span class="op" id="6247158">.</span><span class="ident" id="6247159">Func</span>&nbsp;<span class="op" id="6247164">=</span>&nbsp;<span class="ident" id="6247166">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247172">fn</span><span class="op" id="6247174">.</span><span class="ident" id="6247175">Params</span>&nbsp;<span class="op" id="6247182">=</span>&nbsp;<span class="builtinfunc" id="6247184">make</span><span class="op" id="6247188">(</span><span class="op" id="6247189">[</span><span class="op" id="6247190">]</span><span class="op" id="6247191">*</span><span class="ident" id="6247192">Sym</span><span class="op" id="6247195">,</span>&nbsp;<span class="num" id="6247197">0</span><span class="op" id="6247198">,</span>&nbsp;<span class="ident" id="6247200">np</span><span class="op" id="6247202">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247207">fn</span><span class="op" id="6247209">.</span><span class="ident" id="6247210">Locals</span>&nbsp;<span class="op" id="6247217">=</span>&nbsp;<span class="builtinfunc" id="6247219">make</span><span class="op" id="6247223">(</span><span class="op" id="6247224">[</span><span class="op" id="6247225">]</span><span class="op" id="6247226">*</span><span class="ident" id="6247227">Sym</span><span class="op" id="6247230">,</span>&nbsp;<span class="num" id="6247232">0</span><span class="op" id="6247233">,</span>&nbsp;<span class="ident" id="6247235">na</span><span class="op" id="6247237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247242">fn</span><span class="op" id="6247244">.</span><span class="ident" id="6247245">Sym</span>&nbsp;<span class="op" id="6247249">=</span>&nbsp;<span class="ident" id="6247251">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247258">fn</span><span class="op" id="6247260">.</span><span class="ident" id="6247261">Entry</span>&nbsp;<span class="op" id="6247267">=</span>&nbsp;<span class="ident" id="6247269">sym</span><span class="op" id="6247272">.</span><span class="ident" id="6247273">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247282">fn</span><span class="op" id="6247284">.</span><span class="ident" id="6247285">Obj</span>&nbsp;<span class="op" id="6247289">=</span>&nbsp;<span class="ident" id="6247291">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247298">if</span>&nbsp;<span class="ident" id="6247301">t</span><span class="op" id="6247302">.</span><span class="ident" id="6247303">go12line</span>&nbsp;<span class="op" id="6247312">!=</span>&nbsp;<span class="ident" id="6247315">nil</span>&nbsp;<span class="op" id="6247319">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6247325">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6247373">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6247422">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247447">fn</span><span class="op" id="6247449">.</span><span class="ident" id="6247450">LineTable</span>&nbsp;<span class="op" id="6247460">=</span>&nbsp;<span class="ident" id="6247462">t</span><span class="op" id="6247463">.</span><span class="ident" id="6247464">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247476">}</span>&nbsp;<span class="keyword" id="6247478">else</span>&nbsp;<span class="keyword" id="6247483">if</span>&nbsp;<span class="ident" id="6247486">pcln</span>&nbsp;<span class="op" id="6247491">!=</span>&nbsp;<span class="ident" id="6247494">nil</span>&nbsp;<span class="op" id="6247498">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247504">fn</span><span class="op" id="6247506">.</span><span class="ident" id="6247507">LineTable</span>&nbsp;<span class="op" id="6247517">=</span>&nbsp;<span class="ident" id="6247519">pcln</span><span class="op" id="6247523">.</span><span class="ident" id="6247524">slice</span><span class="op" id="6247529">(</span><span class="ident" id="6247530">fn</span><span class="op" id="6247532">.</span><span class="ident" id="6247533">Entry</span><span class="op" id="6247538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247544">pcln</span>&nbsp;<span class="op" id="6247549">=</span>&nbsp;<span class="ident" id="6247551">fn</span><span class="op" id="6247553">.</span><span class="ident" id="6247554">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247572">for</span>&nbsp;<span class="ident" id="6247576">j</span>&nbsp;<span class="op" id="6247578">:=</span>&nbsp;<span class="ident" id="6247581">i</span><span class="op" id="6247582">;</span>&nbsp;<span class="ident" id="6247584">j</span>&nbsp;<span class="op" id="6247586">&lt;</span>&nbsp;<span class="ident" id="6247588">end</span><span class="op" id="6247591">;</span>&nbsp;<span class="ident" id="6247593">j</span><span class="op" id="6247594">++</span>&nbsp;<span class="op" id="6247597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247603">s</span>&nbsp;<span class="op" id="6247605">:=</span>&nbsp;<span class="op" id="6247608">&amp;</span><span class="ident" id="6247609">t</span><span class="op" id="6247610">.</span><span class="ident" id="6247611">Syms</span><span class="op" id="6247615">[</span><span class="ident" id="6247616">j</span><span class="op" id="6247617">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247623">switch</span>&nbsp;<span class="ident" id="6247630">s</span><span class="op" id="6247631">.</span><span class="ident" id="6247632">Type</span>&nbsp;<span class="op" id="6247637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247643">case</span>&nbsp;<span class="string" id="6247648">&#39;m&#39;</span><span class="op" id="6247651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247658">fn</span><span class="op" id="6247660">.</span><span class="ident" id="6247661">FrameSize</span>&nbsp;<span class="op" id="6247671">=</span>&nbsp;<span class="builtintype" id="6247673">int</span><span class="op" id="6247676">(</span><span class="ident" id="6247677">s</span><span class="op" id="6247678">.</span><span class="ident" id="6247679">Value</span><span class="op" id="6247684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247690">case</span>&nbsp;<span class="string" id="6247695">&#39;p&#39;</span><span class="op" id="6247698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247705">n</span>&nbsp;<span class="op" id="6247707">:=</span>&nbsp;<span class="builtinfunc" id="6247710">len</span><span class="op" id="6247713">(</span><span class="ident" id="6247714">fn</span><span class="op" id="6247716">.</span><span class="ident" id="6247717">Params</span><span class="op" id="6247723">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247730">fn</span><span class="op" id="6247732">.</span><span class="ident" id="6247733">Params</span>&nbsp;<span class="op" id="6247740">=</span>&nbsp;<span class="ident" id="6247742">fn</span><span class="op" id="6247744">.</span><span class="ident" id="6247745">Params</span><span class="op" id="6247751">[</span><span class="num" id="6247752">0</span>&nbsp;<span class="op" id="6247754">:</span>&nbsp;<span class="ident" id="6247756">n</span><span class="op" id="6247757">+</span><span class="num" id="6247758">1</span><span class="op" id="6247759">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247766">fn</span><span class="op" id="6247768">.</span><span class="ident" id="6247769">Params</span><span class="op" id="6247775">[</span><span class="ident" id="6247776">n</span><span class="op" id="6247777">]</span>&nbsp;<span class="op" id="6247779">=</span>&nbsp;<span class="ident" id="6247781">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247787">case</span>&nbsp;<span class="string" id="6247792">&#39;a&#39;</span><span class="op" id="6247795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247802">n</span>&nbsp;<span class="op" id="6247804">:=</span>&nbsp;<span class="builtinfunc" id="6247807">len</span><span class="op" id="6247810">(</span><span class="ident" id="6247811">fn</span><span class="op" id="6247813">.</span><span class="ident" id="6247814">Locals</span><span class="op" id="6247820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247827">fn</span><span class="op" id="6247829">.</span><span class="ident" id="6247830">Locals</span>&nbsp;<span class="op" id="6247837">=</span>&nbsp;<span class="ident" id="6247839">fn</span><span class="op" id="6247841">.</span><span class="ident" id="6247842">Locals</span><span class="op" id="6247848">[</span><span class="num" id="6247849">0</span>&nbsp;<span class="op" id="6247851">:</span>&nbsp;<span class="ident" id="6247853">n</span><span class="op" id="6247854">+</span><span class="num" id="6247855">1</span><span class="op" id="6247856">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247863">fn</span><span class="op" id="6247865">.</span><span class="ident" id="6247866">Locals</span><span class="op" id="6247872">[</span><span class="ident" id="6247873">n</span><span class="op" id="6247874">]</span>&nbsp;<span class="op" id="6247876">=</span>&nbsp;<span class="ident" id="6247878">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247894">i</span>&nbsp;<span class="op" id="6247896">=</span>&nbsp;<span class="ident" id="6247898">end</span>&nbsp;<span class="op" id="6247902">-</span>&nbsp;<span class="num" id="6247904">1</span>&nbsp;<span class="comment" id="6247906">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247925">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6247928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6247932">if</span>&nbsp;<span class="ident" id="6247935">t</span><span class="op" id="6247936">.</span><span class="ident" id="6247937">go12line</span>&nbsp;<span class="op" id="6247946">!=</span>&nbsp;<span class="ident" id="6247949">nil</span>&nbsp;<span class="op" id="6247953">&amp;&amp;</span>&nbsp;<span class="ident" id="6247956">nf</span>&nbsp;<span class="op" id="6247959">==</span>&nbsp;<span class="num" id="6247962">0</span>&nbsp;<span class="op" id="6247964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6247968">t</span><span class="op" id="6247969">.</span><span class="ident" id="6247970">Funcs</span>&nbsp;<span class="op" id="6247976">=</span>&nbsp;<span class="ident" id="6247978">t</span><span class="op" id="6247979">.</span><span class="ident" id="6247980">go12line</span><span class="op" id="6247988">.</span><span class="ident" id="6247989">go12Funcs</span><span class="op" id="6247998">(</span><span class="op" id="6247999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248002">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248005">if</span>&nbsp;<span class="ident" id="6248008">obj</span>&nbsp;<span class="op" id="6248012">!=</span>&nbsp;<span class="ident" id="6248015">nil</span>&nbsp;<span class="op" id="6248019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248023">obj</span><span class="op" id="6248026">.</span><span class="ident" id="6248027">Funcs</span>&nbsp;<span class="op" id="6248033">=</span>&nbsp;<span class="ident" id="6248035">t</span><span class="op" id="6248036">.</span><span class="ident" id="6248037">Funcs</span><span class="op" id="6248042">[</span><span class="ident" id="6248043">lastf</span><span class="op" id="6248048">:</span><span class="op" id="6248049">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248055">return</span>&nbsp;<span class="op" id="6248062">&amp;</span><span class="ident" id="6248063">t</span><span class="op" id="6248064">,</span>&nbsp;<span class="ident" id="6248066">nil</span><br>
<span class="lineno"></span><span class="op" id="6248070">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="6248073">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="6248141">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6248181">func</span>&nbsp;<span class="op" id="6248186">(</span><span class="ident" id="6248187">t</span>&nbsp;<span class="op" id="6248189">*</span><span class="ident" id="6248190">Table</span><span class="op" id="6248195">)</span>&nbsp;<span class="ident" id="6248197">PCToFunc</span><span class="op" id="6248205">(</span><span class="ident" id="6248206">pc</span>&nbsp;<span class="ident" id="6248209">uint64</span><span class="op" id="6248215">)</span>&nbsp;<span class="op" id="6248217">*</span><span class="ident" id="6248218">Func</span>&nbsp;<span class="op" id="6248223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248226">funcs</span>&nbsp;<span class="op" id="6248232">:=</span>&nbsp;<span class="ident" id="6248235">t</span><span class="op" id="6248236">.</span><span class="ident" id="6248237">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248244">for</span>&nbsp;<span class="builtinfunc" id="6248248">len</span><span class="op" id="6248251">(</span><span class="ident" id="6248252">funcs</span><span class="op" id="6248257">)</span>&nbsp;<span class="op" id="6248259">&gt;</span>&nbsp;<span class="num" id="6248261">0</span>&nbsp;<span class="op" id="6248263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248267">m</span>&nbsp;<span class="op" id="6248269">:=</span>&nbsp;<span class="builtinfunc" id="6248272">len</span><span class="op" id="6248275">(</span><span class="ident" id="6248276">funcs</span><span class="op" id="6248281">)</span>&nbsp;<span class="op" id="6248283">/</span>&nbsp;<span class="num" id="6248285">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248289">fn</span>&nbsp;<span class="op" id="6248292">:=</span>&nbsp;<span class="op" id="6248295">&amp;</span><span class="ident" id="6248296">funcs</span><span class="op" id="6248301">[</span><span class="ident" id="6248302">m</span><span class="op" id="6248303">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248307">switch</span>&nbsp;<span class="op" id="6248314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248318">case</span>&nbsp;<span class="ident" id="6248323">pc</span>&nbsp;<span class="op" id="6248326">&lt;</span>&nbsp;<span class="ident" id="6248328">fn</span><span class="op" id="6248330">.</span><span class="ident" id="6248331">Entry</span><span class="op" id="6248336">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248341">funcs</span>&nbsp;<span class="op" id="6248347">=</span>&nbsp;<span class="ident" id="6248349">funcs</span><span class="op" id="6248354">[</span><span class="num" id="6248355">0</span><span class="op" id="6248356">:</span><span class="ident" id="6248357">m</span><span class="op" id="6248358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248362">case</span>&nbsp;<span class="ident" id="6248367">fn</span><span class="op" id="6248369">.</span><span class="ident" id="6248370">Entry</span>&nbsp;<span class="op" id="6248376">&lt;=</span>&nbsp;<span class="ident" id="6248379">pc</span>&nbsp;<span class="op" id="6248382">&amp;&amp;</span>&nbsp;<span class="ident" id="6248385">pc</span>&nbsp;<span class="op" id="6248388">&lt;</span>&nbsp;<span class="ident" id="6248390">fn</span><span class="op" id="6248392">.</span><span class="ident" id="6248393">End</span><span class="op" id="6248396">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248401">return</span>&nbsp;<span class="ident" id="6248408">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248413">default</span><span class="op" id="6248420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248425">funcs</span>&nbsp;<span class="op" id="6248431">=</span>&nbsp;<span class="ident" id="6248433">funcs</span><span class="op" id="6248438">[</span><span class="ident" id="6248439">m</span><span class="op" id="6248440">+</span><span class="num" id="6248441">1</span><span class="op" id="6248442">:</span><span class="op" id="6248443">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248453">return</span>&nbsp;<span class="ident" id="6248460">nil</span><br>
<span class="lineno"></span><span class="op" id="6248464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="6248467">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="6248535">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="6248588">func</span>&nbsp;<span class="op" id="6248593">(</span><span class="ident" id="6248594">t</span>&nbsp;<span class="op" id="6248596">*</span><span class="ident" id="6248597">Table</span><span class="op" id="6248602">)</span>&nbsp;<span class="ident" id="6248604">PCToLine</span><span class="op" id="6248612">(</span><span class="ident" id="6248613">pc</span>&nbsp;<span class="ident" id="6248616">uint64</span><span class="op" id="6248622">)</span>&nbsp;<span class="op" id="6248624">(</span><span class="ident" id="6248625">file</span>&nbsp;<span class="builtintype" id="6248630">string</span><span class="op" id="6248636">,</span>&nbsp;<span class="ident" id="6248638">line</span>&nbsp;<span class="builtintype" id="6248643">int</span><span class="op" id="6248646">,</span>&nbsp;<span class="ident" id="6248648">fn</span>&nbsp;<span class="op" id="6248651">*</span><span class="ident" id="6248652">Func</span><span class="op" id="6248656">)</span>&nbsp;<span class="op" id="6248658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248661">if</span>&nbsp;<span class="ident" id="6248664">fn</span>&nbsp;<span class="op" id="6248667">=</span>&nbsp;<span class="ident" id="6248669">t</span><span class="op" id="6248670">.</span><span class="ident" id="6248671">PCToFunc</span><span class="op" id="6248679">(</span><span class="ident" id="6248680">pc</span><span class="op" id="6248682">)</span><span class="op" id="6248683">;</span>&nbsp;<span class="ident" id="6248685">fn</span>&nbsp;<span class="op" id="6248688">==</span>&nbsp;<span class="ident" id="6248691">nil</span>&nbsp;<span class="op" id="6248695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248699">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248710">if</span>&nbsp;<span class="ident" id="6248713">t</span><span class="op" id="6248714">.</span><span class="ident" id="6248715">go12line</span>&nbsp;<span class="op" id="6248724">!=</span>&nbsp;<span class="ident" id="6248727">nil</span>&nbsp;<span class="op" id="6248731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248735">file</span>&nbsp;<span class="op" id="6248740">=</span>&nbsp;<span class="ident" id="6248742">t</span><span class="op" id="6248743">.</span><span class="ident" id="6248744">go12line</span><span class="op" id="6248752">.</span><span class="ident" id="6248753">go12PCToFile</span><span class="op" id="6248765">(</span><span class="ident" id="6248766">pc</span><span class="op" id="6248768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248772">line</span>&nbsp;<span class="op" id="6248777">=</span>&nbsp;<span class="ident" id="6248779">t</span><span class="op" id="6248780">.</span><span class="ident" id="6248781">go12line</span><span class="op" id="6248789">.</span><span class="ident" id="6248790">go12PCToLine</span><span class="op" id="6248802">(</span><span class="ident" id="6248803">pc</span><span class="op" id="6248805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248808">}</span>&nbsp;<span class="keyword" id="6248810">else</span>&nbsp;<span class="op" id="6248815">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6248819">file</span><span class="op" id="6248823">,</span>&nbsp;<span class="ident" id="6248825">line</span>&nbsp;<span class="op" id="6248830">=</span>&nbsp;<span class="ident" id="6248832">fn</span><span class="op" id="6248834">.</span><span class="ident" id="6248835">Obj</span><span class="op" id="6248838">.</span><span class="ident" id="6248839">lineFromAline</span><span class="op" id="6248852">(</span><span class="ident" id="6248853">fn</span><span class="op" id="6248855">.</span><span class="ident" id="6248856">LineTable</span><span class="op" id="6248865">.</span><span class="ident" id="6248866">PCToLine</span><span class="op" id="6248874">(</span><span class="ident" id="6248875">pc</span><span class="op" id="6248877">)</span><span class="op" id="6248878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6248881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6248884">return</span><br>
<span class="lineno"></span><span class="op" id="6248891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="6248894">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6248962">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6249033">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6249076">func</span>&nbsp;<span class="op" id="6249081">(</span><span class="ident" id="6249082">t</span>&nbsp;<span class="op" id="6249084">*</span><span class="ident" id="6249085">Table</span><span class="op" id="6249090">)</span>&nbsp;<span class="ident" id="6249092">LineToPC</span><span class="op" id="6249100">(</span><span class="ident" id="6249101">file</span>&nbsp;<span class="builtintype" id="6249106">string</span><span class="op" id="6249112">,</span>&nbsp;<span class="ident" id="6249114">line</span>&nbsp;<span class="builtintype" id="6249119">int</span><span class="op" id="6249122">)</span>&nbsp;<span class="op" id="6249124">(</span><span class="ident" id="6249125">pc</span>&nbsp;<span class="ident" id="6249128">uint64</span><span class="op" id="6249134">,</span>&nbsp;<span class="ident" id="6249136">fn</span>&nbsp;<span class="op" id="6249139">*</span><span class="ident" id="6249140">Func</span><span class="op" id="6249144">,</span>&nbsp;<span class="ident" id="6249146">err</span>&nbsp;<span class="builtintype" id="6249150">error</span><span class="op" id="6249155">)</span>&nbsp;<span class="op" id="6249157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249160">obj</span><span class="op" id="6249163">,</span>&nbsp;<span class="ident" id="6249165">ok</span>&nbsp;<span class="op" id="6249168">:=</span>&nbsp;<span class="ident" id="6249171">t</span><span class="op" id="6249172">.</span><span class="ident" id="6249173">Files</span><span class="op" id="6249178">[</span><span class="ident" id="6249179">file</span><span class="op" id="6249183">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249186">if</span>&nbsp;<span class="op" id="6249189">!</span><span class="ident" id="6249190">ok</span>&nbsp;<span class="op" id="6249193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249197">return</span>&nbsp;<span class="num" id="6249204">0</span><span class="op" id="6249205">,</span>&nbsp;<span class="ident" id="6249207">nil</span><span class="op" id="6249210">,</span>&nbsp;<span class="ident" id="6249212">UnknownFileError</span><span class="op" id="6249228">(</span><span class="ident" id="6249229">file</span><span class="op" id="6249233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249240">if</span>&nbsp;<span class="ident" id="6249243">t</span><span class="op" id="6249244">.</span><span class="ident" id="6249245">go12line</span>&nbsp;<span class="op" id="6249254">!=</span>&nbsp;<span class="ident" id="6249257">nil</span>&nbsp;<span class="op" id="6249261">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249265">pc</span>&nbsp;<span class="op" id="6249268">:=</span>&nbsp;<span class="ident" id="6249271">t</span><span class="op" id="6249272">.</span><span class="ident" id="6249273">go12line</span><span class="op" id="6249281">.</span><span class="ident" id="6249282">go12LineToPC</span><span class="op" id="6249294">(</span><span class="ident" id="6249295">file</span><span class="op" id="6249299">,</span>&nbsp;<span class="ident" id="6249301">line</span><span class="op" id="6249305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249309">if</span>&nbsp;<span class="ident" id="6249312">pc</span>&nbsp;<span class="op" id="6249315">==</span>&nbsp;<span class="num" id="6249318">0</span>&nbsp;<span class="op" id="6249320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249325">return</span>&nbsp;<span class="num" id="6249332">0</span><span class="op" id="6249333">,</span>&nbsp;<span class="ident" id="6249335">nil</span><span class="op" id="6249338">,</span>&nbsp;<span class="op" id="6249340">&amp;</span><span class="ident" id="6249341">UnknownLineError</span><span class="op" id="6249357">{</span><span class="ident" id="6249358">file</span><span class="op" id="6249362">,</span>&nbsp;<span class="ident" id="6249364">line</span><span class="op" id="6249368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249376">return</span>&nbsp;<span class="ident" id="6249383">pc</span><span class="op" id="6249385">,</span>&nbsp;<span class="ident" id="6249387">t</span><span class="op" id="6249388">.</span><span class="ident" id="6249389">PCToFunc</span><span class="op" id="6249397">(</span><span class="ident" id="6249398">pc</span><span class="op" id="6249400">)</span><span class="op" id="6249401">,</span>&nbsp;<span class="ident" id="6249403">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249412">abs</span><span class="op" id="6249415">,</span>&nbsp;<span class="ident" id="6249417">err</span>&nbsp;<span class="op" id="6249421">:=</span>&nbsp;<span class="ident" id="6249424">obj</span><span class="op" id="6249427">.</span><span class="ident" id="6249428">alineFromLine</span><span class="op" id="6249441">(</span><span class="ident" id="6249442">file</span><span class="op" id="6249446">,</span>&nbsp;<span class="ident" id="6249448">line</span><span class="op" id="6249452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249455">if</span>&nbsp;<span class="ident" id="6249458">err</span>&nbsp;<span class="op" id="6249462">!=</span>&nbsp;<span class="ident" id="6249465">nil</span>&nbsp;<span class="op" id="6249469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249473">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249484">for</span>&nbsp;<span class="ident" id="6249488">i</span>&nbsp;<span class="op" id="6249490">:=</span>&nbsp;<span class="keyword" id="6249493">range</span>&nbsp;<span class="ident" id="6249499">obj</span><span class="op" id="6249502">.</span><span class="ident" id="6249503">Funcs</span>&nbsp;<span class="op" id="6249509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249513">f</span>&nbsp;<span class="op" id="6249515">:=</span>&nbsp;<span class="op" id="6249518">&amp;</span><span class="ident" id="6249519">obj</span><span class="op" id="6249522">.</span><span class="ident" id="6249523">Funcs</span><span class="op" id="6249528">[</span><span class="ident" id="6249529">i</span><span class="op" id="6249530">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249534">pc</span>&nbsp;<span class="op" id="6249537">:=</span>&nbsp;<span class="ident" id="6249540">f</span><span class="op" id="6249541">.</span><span class="ident" id="6249542">LineTable</span><span class="op" id="6249551">.</span><span class="ident" id="6249552">LineToPC</span><span class="op" id="6249560">(</span><span class="ident" id="6249561">abs</span><span class="op" id="6249564">,</span>&nbsp;<span class="ident" id="6249566">f</span><span class="op" id="6249567">.</span><span class="ident" id="6249568">End</span><span class="op" id="6249571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249575">if</span>&nbsp;<span class="ident" id="6249578">pc</span>&nbsp;<span class="op" id="6249581">!=</span>&nbsp;<span class="num" id="6249584">0</span>&nbsp;<span class="op" id="6249586">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249591">return</span>&nbsp;<span class="ident" id="6249598">pc</span><span class="op" id="6249600">,</span>&nbsp;<span class="ident" id="6249602">f</span><span class="op" id="6249603">,</span>&nbsp;<span class="ident" id="6249605">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6249614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249617">return</span>&nbsp;<span class="num" id="6249624">0</span><span class="op" id="6249625">,</span>&nbsp;<span class="ident" id="6249627">nil</span><span class="op" id="6249630">,</span>&nbsp;<span class="op" id="6249632">&amp;</span><span class="ident" id="6249633">UnknownLineError</span><span class="op" id="6249649">{</span><span class="ident" id="6249650">file</span><span class="op" id="6249654">,</span>&nbsp;<span class="ident" id="6249656">line</span><span class="op" id="6249660">}</span><br>
<span class="lineno"></span><span class="op" id="6249662">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="6249665">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6249737">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6249775">func</span>&nbsp;<span class="op" id="6249780">(</span><span class="ident" id="6249781">t</span>&nbsp;<span class="op" id="6249783">*</span><span class="ident" id="6249784">Table</span><span class="op" id="6249789">)</span>&nbsp;<span class="ident" id="6249791">LookupSym</span><span class="op" id="6249800">(</span><span class="ident" id="6249801">name</span>&nbsp;<span class="builtintype" id="6249806">string</span><span class="op" id="6249812">)</span>&nbsp;<span class="op" id="6249814">*</span><span class="ident" id="6249815">Sym</span>&nbsp;<span class="op" id="6249819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6249822">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249856">for</span>&nbsp;<span class="ident" id="6249860">i</span>&nbsp;<span class="op" id="6249862">:=</span>&nbsp;<span class="keyword" id="6249865">range</span>&nbsp;<span class="ident" id="6249871">t</span><span class="op" id="6249872">.</span><span class="ident" id="6249873">Syms</span>&nbsp;<span class="op" id="6249878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6249882">s</span>&nbsp;<span class="op" id="6249884">:=</span>&nbsp;<span class="op" id="6249887">&amp;</span><span class="ident" id="6249888">t</span><span class="op" id="6249889">.</span><span class="ident" id="6249890">Syms</span><span class="op" id="6249894">[</span><span class="ident" id="6249895">i</span><span class="op" id="6249896">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249900">switch</span>&nbsp;<span class="ident" id="6249907">s</span><span class="op" id="6249908">.</span><span class="ident" id="6249909">Type</span>&nbsp;<span class="op" id="6249914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249918">case</span>&nbsp;<span class="string" id="6249923">&#39;T&#39;</span><span class="op" id="6249926">,</span>&nbsp;<span class="string" id="6249928">&#39;t&#39;</span><span class="op" id="6249931">,</span>&nbsp;<span class="string" id="6249933">&#39;L&#39;</span><span class="op" id="6249936">,</span>&nbsp;<span class="string" id="6249938">&#39;l&#39;</span><span class="op" id="6249941">,</span>&nbsp;<span class="string" id="6249943">&#39;D&#39;</span><span class="op" id="6249946">,</span>&nbsp;<span class="string" id="6249948">&#39;d&#39;</span><span class="op" id="6249951">,</span>&nbsp;<span class="string" id="6249953">&#39;B&#39;</span><span class="op" id="6249956">,</span>&nbsp;<span class="string" id="6249958">&#39;b&#39;</span><span class="op" id="6249961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249966">if</span>&nbsp;<span class="ident" id="6249969">s</span><span class="op" id="6249970">.</span><span class="ident" id="6249971">Name</span>&nbsp;<span class="op" id="6249976">==</span>&nbsp;<span class="ident" id="6249979">name</span>&nbsp;<span class="op" id="6249984">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6249990">return</span>&nbsp;<span class="ident" id="6249997">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250012">return</span>&nbsp;<span class="ident" id="6250019">nil</span><br>
<span class="lineno">550</span><span class="op" id="6250023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6250026">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6250099">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6250137">func</span>&nbsp;<span class="op" id="6250142">(</span><span class="ident" id="6250143">t</span>&nbsp;<span class="op" id="6250145">*</span><span class="ident" id="6250146">Table</span><span class="op" id="6250151">)</span>&nbsp;<span class="ident" id="6250153">LookupFunc</span><span class="op" id="6250163">(</span><span class="ident" id="6250164">name</span>&nbsp;<span class="builtintype" id="6250169">string</span><span class="op" id="6250175">)</span>&nbsp;<span class="op" id="6250177">*</span><span class="ident" id="6250178">Func</span>&nbsp;<span class="op" id="6250183">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250186">for</span>&nbsp;<span class="ident" id="6250190">i</span>&nbsp;<span class="op" id="6250192">:=</span>&nbsp;<span class="keyword" id="6250195">range</span>&nbsp;<span class="ident" id="6250201">t</span><span class="op" id="6250202">.</span><span class="ident" id="6250203">Funcs</span>&nbsp;<span class="op" id="6250209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6250213">f</span>&nbsp;<span class="op" id="6250215">:=</span>&nbsp;<span class="op" id="6250218">&amp;</span><span class="ident" id="6250219">t</span><span class="op" id="6250220">.</span><span class="ident" id="6250221">Funcs</span><span class="op" id="6250226">[</span><span class="ident" id="6250227">i</span><span class="op" id="6250228">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250232">if</span>&nbsp;<span class="ident" id="6250235">f</span><span class="op" id="6250236">.</span><span class="ident" id="6250237">Sym</span><span class="op" id="6250240">.</span><span class="ident" id="6250241">Name</span>&nbsp;<span class="op" id="6250246">==</span>&nbsp;<span class="ident" id="6250249">name</span>&nbsp;<span class="op" id="6250254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250259">return</span>&nbsp;<span class="ident" id="6250266">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250270">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250276">return</span>&nbsp;<span class="ident" id="6250283">nil</span><br>
<span class="lineno"></span><span class="op" id="6250287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6250290">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="6250372">func</span>&nbsp;<span class="op" id="6250377">(</span><span class="ident" id="6250378">t</span>&nbsp;<span class="op" id="6250380">*</span><span class="ident" id="6250381">Table</span><span class="op" id="6250386">)</span>&nbsp;<span class="ident" id="6250388">SymByAddr</span><span class="op" id="6250397">(</span><span class="ident" id="6250398">addr</span>&nbsp;<span class="ident" id="6250403">uint64</span><span class="op" id="6250409">)</span>&nbsp;<span class="op" id="6250411">*</span><span class="ident" id="6250412">Sym</span>&nbsp;<span class="op" id="6250416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250419">for</span>&nbsp;<span class="ident" id="6250423">i</span>&nbsp;<span class="op" id="6250425">:=</span>&nbsp;<span class="keyword" id="6250428">range</span>&nbsp;<span class="ident" id="6250434">t</span><span class="op" id="6250435">.</span><span class="ident" id="6250436">Syms</span>&nbsp;<span class="op" id="6250441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6250445">s</span>&nbsp;<span class="op" id="6250447">:=</span>&nbsp;<span class="op" id="6250450">&amp;</span><span class="ident" id="6250451">t</span><span class="op" id="6250452">.</span><span class="ident" id="6250453">Syms</span><span class="op" id="6250457">[</span><span class="ident" id="6250458">i</span><span class="op" id="6250459">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250463">switch</span>&nbsp;<span class="ident" id="6250470">s</span><span class="op" id="6250471">.</span><span class="ident" id="6250472">Type</span>&nbsp;<span class="op" id="6250477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250481">case</span>&nbsp;<span class="string" id="6250486">&#39;T&#39;</span><span class="op" id="6250489">,</span>&nbsp;<span class="string" id="6250491">&#39;t&#39;</span><span class="op" id="6250494">,</span>&nbsp;<span class="string" id="6250496">&#39;L&#39;</span><span class="op" id="6250499">,</span>&nbsp;<span class="string" id="6250501">&#39;l&#39;</span><span class="op" id="6250504">,</span>&nbsp;<span class="string" id="6250506">&#39;D&#39;</span><span class="op" id="6250509">,</span>&nbsp;<span class="string" id="6250511">&#39;d&#39;</span><span class="op" id="6250514">,</span>&nbsp;<span class="string" id="6250516">&#39;B&#39;</span><span class="op" id="6250519">,</span>&nbsp;<span class="string" id="6250521">&#39;b&#39;</span><span class="op" id="6250524">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250529">if</span>&nbsp;<span class="ident" id="6250532">s</span><span class="op" id="6250533">.</span><span class="ident" id="6250534">Value</span>&nbsp;<span class="op" id="6250540">==</span>&nbsp;<span class="ident" id="6250543">addr</span>&nbsp;<span class="op" id="6250548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250554">return</span>&nbsp;<span class="ident" id="6250561">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6250573">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250576">return</span>&nbsp;<span class="ident" id="6250583">nil</span><br>
<span class="lineno"></span><span class="op" id="6250587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6250590">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6250614">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6250676">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="6250739">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="6250807">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="6250853">//</span><br>
<span class="lineno"></span><span class="comment" id="6250856">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6250938">func</span>&nbsp;<span class="op" id="6250943">(</span><span class="ident" id="6250944">o</span>&nbsp;<span class="op" id="6250946">*</span><span class="ident" id="6250947">Obj</span><span class="op" id="6250950">)</span>&nbsp;<span class="ident" id="6250952">lineFromAline</span><span class="op" id="6250965">(</span><span class="ident" id="6250966">aline</span>&nbsp;<span class="builtintype" id="6250972">int</span><span class="op" id="6250975">)</span>&nbsp;<span class="op" id="6250977">(</span><span class="builtintype" id="6250978">string</span><span class="op" id="6250984">,</span>&nbsp;<span class="builtintype" id="6250986">int</span><span class="op" id="6250989">)</span>&nbsp;<span class="op" id="6250991">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6250994">type</span>&nbsp;<span class="ident" id="6250999">stackEnt</span>&nbsp;<span class="keyword" id="6251008">struct</span>&nbsp;<span class="op" id="6251015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251019">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6251026">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251035">start</span>&nbsp;&nbsp;<span class="builtintype" id="6251042">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251048">offset</span>&nbsp;<span class="builtintype" id="6251055">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251061">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6251068">*</span><span class="ident" id="6251069">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251083">noPath</span>&nbsp;<span class="op" id="6251090">:=</span>&nbsp;<span class="op" id="6251093">&amp;</span><span class="ident" id="6251094">stackEnt</span><span class="op" id="6251102">{</span><span class="string" id="6251103">&#34;&#34;</span><span class="op" id="6251105">,</span>&nbsp;<span class="num" id="6251107">0</span><span class="op" id="6251108">,</span>&nbsp;<span class="num" id="6251110">0</span><span class="op" id="6251111">,</span>&nbsp;<span class="ident" id="6251113">nil</span><span class="op" id="6251116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251119">tos</span>&nbsp;<span class="op" id="6251123">:=</span>&nbsp;<span class="ident" id="6251126">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="6251134">pathloop</span><span class="op" id="6251142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251145">for</span>&nbsp;<span class="ident" id="6251149">_</span><span class="op" id="6251150">,</span>&nbsp;<span class="ident" id="6251152">s</span>&nbsp;<span class="op" id="6251154">:=</span>&nbsp;<span class="keyword" id="6251157">range</span>&nbsp;<span class="ident" id="6251163">o</span><span class="op" id="6251164">.</span><span class="ident" id="6251165">Paths</span>&nbsp;<span class="op" id="6251171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251175">val</span>&nbsp;<span class="op" id="6251179">:=</span>&nbsp;<span class="builtintype" id="6251182">int</span><span class="op" id="6251185">(</span><span class="ident" id="6251186">s</span><span class="op" id="6251187">.</span><span class="ident" id="6251188">Value</span><span class="op" id="6251193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251197">switch</span>&nbsp;<span class="op" id="6251204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251208">case</span>&nbsp;<span class="ident" id="6251213">val</span>&nbsp;<span class="op" id="6251217">&gt;</span>&nbsp;<span class="ident" id="6251219">aline</span><span class="op" id="6251224">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251229">break</span>&nbsp;<span class="ident" id="6251235">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251247">case</span>&nbsp;<span class="ident" id="6251252">val</span>&nbsp;<span class="op" id="6251256">==</span>&nbsp;<span class="num" id="6251259">1</span><span class="op" id="6251260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6251265">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251289">tos</span>&nbsp;<span class="op" id="6251293">=</span>&nbsp;<span class="op" id="6251295">&amp;</span><span class="ident" id="6251296">stackEnt</span><span class="op" id="6251304">{</span><span class="ident" id="6251305">s</span><span class="op" id="6251306">.</span><span class="ident" id="6251307">Name</span><span class="op" id="6251311">,</span>&nbsp;<span class="ident" id="6251313">val</span><span class="op" id="6251316">,</span>&nbsp;<span class="num" id="6251318">0</span><span class="op" id="6251319">,</span>&nbsp;<span class="ident" id="6251321">noPath</span><span class="op" id="6251327">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251332">case</span>&nbsp;<span class="ident" id="6251337">s</span><span class="op" id="6251338">.</span><span class="ident" id="6251339">Name</span>&nbsp;<span class="op" id="6251344">==</span>&nbsp;<span class="string" id="6251347">&#34;&#34;</span><span class="op" id="6251349">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6251354">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251364">if</span>&nbsp;<span class="ident" id="6251367">tos</span>&nbsp;<span class="op" id="6251371">==</span>&nbsp;<span class="ident" id="6251374">noPath</span>&nbsp;<span class="op" id="6251381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251387">return</span>&nbsp;<span class="string" id="6251394">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="6251420">,</span>&nbsp;<span class="num" id="6251422">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251432">tos</span><span class="op" id="6251435">.</span><span class="ident" id="6251436">prev</span><span class="op" id="6251440">.</span><span class="ident" id="6251441">offset</span>&nbsp;<span class="op" id="6251448">+=</span>&nbsp;<span class="ident" id="6251451">val</span>&nbsp;<span class="op" id="6251455">-</span>&nbsp;<span class="ident" id="6251457">tos</span><span class="op" id="6251460">.</span><span class="ident" id="6251461">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251470">tos</span>&nbsp;<span class="op" id="6251474">=</span>&nbsp;<span class="ident" id="6251476">tos</span><span class="op" id="6251479">.</span><span class="ident" id="6251480">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251488">default</span><span class="op" id="6251495">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6251500">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251511">tos</span>&nbsp;<span class="op" id="6251515">=</span>&nbsp;<span class="op" id="6251517">&amp;</span><span class="ident" id="6251518">stackEnt</span><span class="op" id="6251526">{</span><span class="ident" id="6251527">s</span><span class="op" id="6251528">.</span><span class="ident" id="6251529">Name</span><span class="op" id="6251533">,</span>&nbsp;<span class="ident" id="6251535">val</span><span class="op" id="6251538">,</span>&nbsp;<span class="num" id="6251540">0</span><span class="op" id="6251541">,</span>&nbsp;<span class="ident" id="6251543">tos</span><span class="op" id="6251546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251557">if</span>&nbsp;<span class="ident" id="6251560">tos</span>&nbsp;<span class="op" id="6251564">==</span>&nbsp;<span class="ident" id="6251567">noPath</span>&nbsp;<span class="op" id="6251574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251578">return</span>&nbsp;<span class="string" id="6251585">&#34;&#34;</span><span class="op" id="6251587">,</span>&nbsp;<span class="num" id="6251589">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251595">return</span>&nbsp;<span class="ident" id="6251602">tos</span><span class="op" id="6251605">.</span><span class="ident" id="6251606">path</span><span class="op" id="6251610">,</span>&nbsp;<span class="ident" id="6251612">aline</span>&nbsp;<span class="op" id="6251618">-</span>&nbsp;<span class="ident" id="6251620">tos</span><span class="op" id="6251623">.</span><span class="ident" id="6251624">start</span>&nbsp;<span class="op" id="6251630">-</span>&nbsp;<span class="ident" id="6251632">tos</span><span class="op" id="6251635">.</span><span class="ident" id="6251636">offset</span>&nbsp;<span class="op" id="6251643">+</span>&nbsp;<span class="num" id="6251645">1</span><br>
<span class="lineno"></span><span class="op" id="6251647">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="6251650">func</span>&nbsp;<span class="op" id="6251655">(</span><span class="ident" id="6251656">o</span>&nbsp;<span class="op" id="6251658">*</span><span class="ident" id="6251659">Obj</span><span class="op" id="6251662">)</span>&nbsp;<span class="ident" id="6251664">alineFromLine</span><span class="op" id="6251677">(</span><span class="ident" id="6251678">path</span>&nbsp;<span class="builtintype" id="6251683">string</span><span class="op" id="6251689">,</span>&nbsp;<span class="ident" id="6251691">line</span>&nbsp;<span class="builtintype" id="6251696">int</span><span class="op" id="6251699">)</span>&nbsp;<span class="op" id="6251701">(</span><span class="builtintype" id="6251702">int</span><span class="op" id="6251705">,</span>&nbsp;<span class="builtintype" id="6251707">error</span><span class="op" id="6251712">)</span>&nbsp;<span class="op" id="6251714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251717">if</span>&nbsp;<span class="ident" id="6251720">line</span>&nbsp;<span class="op" id="6251725">&lt;</span>&nbsp;<span class="num" id="6251727">1</span>&nbsp;<span class="op" id="6251729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251733">return</span>&nbsp;<span class="num" id="6251740">0</span><span class="op" id="6251741">,</span>&nbsp;<span class="op" id="6251743">&amp;</span><span class="ident" id="6251744">UnknownLineError</span><span class="op" id="6251760">{</span><span class="ident" id="6251761">path</span><span class="op" id="6251765">,</span>&nbsp;<span class="ident" id="6251767">line</span><span class="op" id="6251771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251774">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251778">for</span>&nbsp;<span class="ident" id="6251782">i</span><span class="op" id="6251783">,</span>&nbsp;<span class="ident" id="6251785">s</span>&nbsp;<span class="op" id="6251787">:=</span>&nbsp;<span class="keyword" id="6251790">range</span>&nbsp;<span class="ident" id="6251796">o</span><span class="op" id="6251797">.</span><span class="ident" id="6251798">Paths</span>&nbsp;<span class="op" id="6251804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6251808">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251828">if</span>&nbsp;<span class="ident" id="6251831">s</span><span class="op" id="6251832">.</span><span class="ident" id="6251833">Name</span>&nbsp;<span class="op" id="6251838">!=</span>&nbsp;<span class="ident" id="6251841">path</span>&nbsp;<span class="op" id="6251846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251851">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6251862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6251867">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251907">depth</span>&nbsp;<span class="op" id="6251913">:=</span>&nbsp;<span class="num" id="6251916">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251920">var</span>&nbsp;<span class="ident" id="6251924">incstart</span>&nbsp;<span class="builtintype" id="6251933">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251939">line</span>&nbsp;<span class="op" id="6251944">+=</span>&nbsp;<span class="builtintype" id="6251947">int</span><span class="op" id="6251950">(</span><span class="ident" id="6251951">s</span><span class="op" id="6251952">.</span><span class="ident" id="6251953">Value</span><span class="op" id="6251958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6251961">pathloop</span><span class="op" id="6251969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6251973">for</span>&nbsp;<span class="ident" id="6251977">_</span><span class="op" id="6251978">,</span>&nbsp;<span class="ident" id="6251980">s</span>&nbsp;<span class="op" id="6251982">:=</span>&nbsp;<span class="keyword" id="6251985">range</span>&nbsp;<span class="ident" id="6251991">o</span><span class="op" id="6251992">.</span><span class="ident" id="6251993">Paths</span><span class="op" id="6251998">[</span><span class="ident" id="6251999">i</span><span class="op" id="6252000">:</span><span class="op" id="6252001">]</span>&nbsp;<span class="op" id="6252003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252008">val</span>&nbsp;<span class="op" id="6252012">:=</span>&nbsp;<span class="builtintype" id="6252015">int</span><span class="op" id="6252018">(</span><span class="ident" id="6252019">s</span><span class="op" id="6252020">.</span><span class="ident" id="6252021">Value</span><span class="op" id="6252026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252031">switch</span>&nbsp;<span class="op" id="6252038">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252043">case</span>&nbsp;<span class="ident" id="6252048">depth</span>&nbsp;<span class="op" id="6252054">==</span>&nbsp;<span class="num" id="6252057">1</span>&nbsp;<span class="op" id="6252059">&amp;&amp;</span>&nbsp;<span class="ident" id="6252062">val</span>&nbsp;<span class="op" id="6252066">&gt;=</span>&nbsp;<span class="ident" id="6252069">line</span><span class="op" id="6252073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252079">return</span>&nbsp;<span class="ident" id="6252086">line</span>&nbsp;<span class="op" id="6252091">-</span>&nbsp;<span class="num" id="6252093">1</span><span class="op" id="6252094">,</span>&nbsp;<span class="ident" id="6252096">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252104">case</span>&nbsp;<span class="ident" id="6252109">s</span><span class="op" id="6252110">.</span><span class="ident" id="6252111">Name</span>&nbsp;<span class="op" id="6252116">==</span>&nbsp;<span class="string" id="6252119">&#34;&#34;</span><span class="op" id="6252121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252127">depth</span><span class="op" id="6252132">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252139">if</span>&nbsp;<span class="ident" id="6252142">depth</span>&nbsp;<span class="op" id="6252148">==</span>&nbsp;<span class="num" id="6252151">0</span>&nbsp;<span class="op" id="6252153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252160">break</span>&nbsp;<span class="ident" id="6252166">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252179">}</span>&nbsp;<span class="keyword" id="6252181">else</span>&nbsp;<span class="keyword" id="6252186">if</span>&nbsp;<span class="ident" id="6252189">depth</span>&nbsp;<span class="op" id="6252195">==</span>&nbsp;<span class="num" id="6252198">1</span>&nbsp;<span class="op" id="6252200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252207">line</span>&nbsp;<span class="op" id="6252212">+=</span>&nbsp;<span class="ident" id="6252215">val</span>&nbsp;<span class="op" id="6252219">-</span>&nbsp;<span class="ident" id="6252221">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252234">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252240">default</span><span class="op" id="6252247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252253">if</span>&nbsp;<span class="ident" id="6252256">depth</span>&nbsp;<span class="op" id="6252262">==</span>&nbsp;<span class="num" id="6252265">1</span>&nbsp;<span class="op" id="6252267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252274">incstart</span>&nbsp;<span class="op" id="6252283">=</span>&nbsp;<span class="ident" id="6252285">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252293">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252299">depth</span><span class="op" id="6252304">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252318">return</span>&nbsp;<span class="num" id="6252325">0</span><span class="op" id="6252326">,</span>&nbsp;<span class="op" id="6252328">&amp;</span><span class="ident" id="6252329">UnknownLineError</span><span class="op" id="6252345">{</span><span class="ident" id="6252346">path</span><span class="op" id="6252350">,</span>&nbsp;<span class="ident" id="6252352">line</span><span class="op" id="6252356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6252359">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252362">return</span>&nbsp;<span class="num" id="6252369">0</span><span class="op" id="6252370">,</span>&nbsp;<span class="ident" id="6252372">UnknownFileError</span><span class="op" id="6252388">(</span><span class="ident" id="6252389">path</span><span class="op" id="6252393">)</span><br>
<span class="lineno"></span><span class="op" id="6252395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6252398">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6252416">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6252486">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6252507">type</span>&nbsp;<span class="ident" id="6252512">UnknownFileError</span>&nbsp;<span class="builtintype" id="6252529">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="6252537">func</span>&nbsp;<span class="op" id="6252542">(</span><span class="ident" id="6252543">e</span>&nbsp;<span class="ident" id="6252545">UnknownFileError</span><span class="op" id="6252561">)</span>&nbsp;<span class="ident" id="6252563">Error</span><span class="op" id="6252568">(</span><span class="op" id="6252569">)</span>&nbsp;<span class="builtintype" id="6252571">string</span>&nbsp;<span class="op" id="6252578">{</span>&nbsp;<span class="keyword" id="6252580">return</span>&nbsp;<span class="string" id="6252587">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="6252604">+</span>&nbsp;<span class="builtintype" id="6252606">string</span><span class="op" id="6252612">(</span><span class="ident" id="6252613">e</span><span class="op" id="6252614">)</span>&nbsp;<span class="op" id="6252616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6252619">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="6252687">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="6252756">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6252806">type</span>&nbsp;<span class="ident" id="6252811">UnknownLineError</span>&nbsp;<span class="keyword" id="6252828">struct</span>&nbsp;<span class="op" id="6252835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252838">File</span>&nbsp;<span class="builtintype" id="6252843">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6252851">Line</span>&nbsp;<span class="builtintype" id="6252856">int</span><br>
<span class="lineno"></span><span class="op" id="6252860">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="6252863">func</span>&nbsp;<span class="op" id="6252868">(</span><span class="ident" id="6252869">e</span>&nbsp;<span class="op" id="6252871">*</span><span class="ident" id="6252872">UnknownLineError</span><span class="op" id="6252888">)</span>&nbsp;<span class="ident" id="6252890">Error</span><span class="op" id="6252895">(</span><span class="op" id="6252896">)</span>&nbsp;<span class="builtintype" id="6252898">string</span>&nbsp;<span class="op" id="6252905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6252908">return</span>&nbsp;<span class="string" id="6252915">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="6252929">+</span>&nbsp;<span class="ident" id="6252931">e</span><span class="op" id="6252932">.</span><span class="ident" id="6252933">File</span>&nbsp;<span class="op" id="6252938">+</span>&nbsp;<span class="string" id="6252940">&#34;:&#34;</span>&nbsp;<span class="op" id="6252944">+</span>&nbsp;<span class="ident" id="6252946">strconv</span><span class="op" id="6252953">.</span><span class="ident" id="6252954">Itoa</span><span class="op" id="6252958">(</span><span class="ident" id="6252959">e</span><span class="op" id="6252960">.</span><span class="ident" id="6252961">Line</span><span class="op" id="6252965">)</span><br>
<span class="lineno"></span><span class="op" id="6252967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="6252970">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6253030">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6253051">type</span>&nbsp;<span class="ident" id="6253056">DecodingError</span>&nbsp;<span class="keyword" id="6253070">struct</span>&nbsp;<span class="op" id="6253077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253080">off</span>&nbsp;<span class="builtintype" id="6253084">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253089">msg</span>&nbsp;<span class="builtintype" id="6253093">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253101">val</span>&nbsp;<span class="keyword" id="6253105">interface</span><span class="op" id="6253114">{</span><span class="op" id="6253115">}</span><br>
<span class="lineno"></span><span class="op" id="6253117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6253120">func</span>&nbsp;<span class="op" id="6253125">(</span><span class="ident" id="6253126">e</span>&nbsp;<span class="op" id="6253128">*</span><span class="ident" id="6253129">DecodingError</span><span class="op" id="6253142">)</span>&nbsp;<span class="ident" id="6253144">Error</span><span class="op" id="6253149">(</span><span class="op" id="6253150">)</span>&nbsp;<span class="builtintype" id="6253152">string</span>&nbsp;<span class="op" id="6253159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253162">msg</span>&nbsp;<span class="op" id="6253166">:=</span>&nbsp;<span class="ident" id="6253169">e</span><span class="op" id="6253170">.</span><span class="ident" id="6253171">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6253176">if</span>&nbsp;<span class="ident" id="6253179">e</span><span class="op" id="6253180">.</span><span class="ident" id="6253181">val</span>&nbsp;<span class="op" id="6253185">!=</span>&nbsp;<span class="ident" id="6253188">nil</span>&nbsp;<span class="op" id="6253192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253196">msg</span>&nbsp;<span class="op" id="6253200">+=</span>&nbsp;<span class="ident" id="6253203">fmt</span><span class="op" id="6253206">.</span><span class="ident" id="6253207">Sprintf</span><span class="op" id="6253214">(</span><span class="string" id="6253215">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="6253222">,</span>&nbsp;<span class="ident" id="6253224">e</span><span class="op" id="6253225">.</span><span class="ident" id="6253226">val</span><span class="op" id="6253229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6253232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6253235">msg</span>&nbsp;<span class="op" id="6253239">+=</span>&nbsp;<span class="ident" id="6253242">fmt</span><span class="op" id="6253245">.</span><span class="ident" id="6253246">Sprintf</span><span class="op" id="6253253">(</span><span class="string" id="6253254">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="6253268">,</span>&nbsp;<span class="ident" id="6253270">e</span><span class="op" id="6253271">.</span><span class="ident" id="6253272">off</span><span class="op" id="6253275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6253278">return</span>&nbsp;<span class="ident" id="6253285">msg</span><br>
<span class="lineno">710</span><span class="op" id="6253289">}</span>
</div>
</body>
</html>
