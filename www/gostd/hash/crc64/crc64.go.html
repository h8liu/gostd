<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6504302">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6504357">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6504411">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6504462">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="6504537">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="6504611">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="6504627">package</span>&nbsp;<span class="ident" id="6504635">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="6504642">import</span>&nbsp;<span class="string" id="6504649">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6504657">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6504700">const</span>&nbsp;<span class="ident" id="6504706">Size</span>&nbsp;<span class="op" id="6504711">=</span>&nbsp;<span class="num" id="6504713">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6504716">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="6504743">const</span>&nbsp;<span class="op" id="6504749">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504752">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504814">ISO</span>&nbsp;<span class="op" id="6504818">=</span>&nbsp;<span class="num" id="6504820">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504841">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504887">ECMA</span>&nbsp;<span class="op" id="6504892">=</span>&nbsp;<span class="num" id="6504894">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="6504913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6504916">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="6504999">type</span>&nbsp;<span class="ident" id="6505004">Table</span>&nbsp;<span class="op" id="6505010">[</span><span class="num" id="6505011">256</span><span class="op" id="6505014">]</span><span class="ident" id="6505015">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6505023">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="6505097">func</span>&nbsp;<span class="ident" id="6505102">MakeTable</span><span class="op" id="6505111">(</span><span class="ident" id="6505112">poly</span>&nbsp;<span class="ident" id="6505117">uint64</span><span class="op" id="6505123">)</span>&nbsp;<span class="op" id="6505125">*</span><span class="ident" id="6505126">Table</span>&nbsp;<span class="op" id="6505132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505135">t</span>&nbsp;<span class="op" id="6505137">:=</span>&nbsp;<span class="builtinfunc" id="6505140">new</span><span class="op" id="6505143">(</span><span class="ident" id="6505144">Table</span><span class="op" id="6505149">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505152">for</span>&nbsp;<span class="ident" id="6505156">i</span>&nbsp;<span class="op" id="6505158">:=</span>&nbsp;<span class="num" id="6505161">0</span><span class="op" id="6505162">;</span>&nbsp;<span class="ident" id="6505164">i</span>&nbsp;<span class="op" id="6505166">&lt;</span>&nbsp;<span class="num" id="6505168">256</span><span class="op" id="6505171">;</span>&nbsp;<span class="ident" id="6505173">i</span><span class="op" id="6505174">++</span>&nbsp;<span class="op" id="6505177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505181">crc</span>&nbsp;<span class="op" id="6505185">:=</span>&nbsp;<span class="ident" id="6505188">uint64</span><span class="op" id="6505194">(</span><span class="ident" id="6505195">i</span><span class="op" id="6505196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505200">for</span>&nbsp;<span class="ident" id="6505204">j</span>&nbsp;<span class="op" id="6505206">:=</span>&nbsp;<span class="num" id="6505209">0</span><span class="op" id="6505210">;</span>&nbsp;<span class="ident" id="6505212">j</span>&nbsp;<span class="op" id="6505214">&lt;</span>&nbsp;<span class="num" id="6505216">8</span><span class="op" id="6505217">;</span>&nbsp;<span class="ident" id="6505219">j</span><span class="op" id="6505220">++</span>&nbsp;<span class="op" id="6505223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505228">if</span>&nbsp;<span class="ident" id="6505231">crc</span><span class="op" id="6505234">&amp;</span><span class="num" id="6505235">1</span>&nbsp;<span class="op" id="6505237">==</span>&nbsp;<span class="num" id="6505240">1</span>&nbsp;<span class="op" id="6505242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505248">crc</span>&nbsp;<span class="op" id="6505252">=</span>&nbsp;<span class="op" id="6505254">(</span><span class="ident" id="6505255">crc</span>&nbsp;<span class="op" id="6505259">&gt;&gt;</span>&nbsp;<span class="num" id="6505262">1</span><span class="op" id="6505263">)</span>&nbsp;<span class="op" id="6505265">^</span>&nbsp;<span class="ident" id="6505267">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505275">}</span>&nbsp;<span class="keyword" id="6505277">else</span>&nbsp;<span class="op" id="6505282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505288">crc</span>&nbsp;<span class="op" id="6505292">&gt;&gt;=</span>&nbsp;<span class="num" id="6505296">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505309">t</span><span class="op" id="6505310">[</span><span class="ident" id="6505311">i</span><span class="op" id="6505312">]</span>&nbsp;<span class="op" id="6505314">=</span>&nbsp;<span class="ident" id="6505316">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505324">return</span>&nbsp;<span class="ident" id="6505331">t</span><br>
<span class="lineno"></span><span class="op" id="6505333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6505336">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="6505395">type</span>&nbsp;<span class="ident" id="6505400">digest</span>&nbsp;<span class="keyword" id="6505407">struct</span>&nbsp;<span class="op" id="6505414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505417">crc</span>&nbsp;<span class="ident" id="6505421">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505429">tab</span>&nbsp;<span class="op" id="6505433">*</span><span class="ident" id="6505434">Table</span><br>
<span class="lineno"></span><span class="op" id="6505440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="6505443">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="6505506">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="6505556">func</span>&nbsp;<span class="ident" id="6505561">New</span><span class="op" id="6505564">(</span><span class="ident" id="6505565">tab</span>&nbsp;<span class="op" id="6505569">*</span><span class="ident" id="6505570">Table</span><span class="op" id="6505575">)</span>&nbsp;<span class="ident" id="6505577">hash</span><span class="op" id="6505581">.</span><span class="ident" id="6505582">Hash64</span>&nbsp;<span class="op" id="6505589">{</span>&nbsp;<span class="keyword" id="6505591">return</span>&nbsp;<span class="op" id="6505598">&amp;</span><span class="ident" id="6505599">digest</span><span class="op" id="6505605">{</span><span class="num" id="6505606">0</span><span class="op" id="6505607">,</span>&nbsp;<span class="ident" id="6505609">tab</span><span class="op" id="6505612">}</span>&nbsp;<span class="op" id="6505614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6505617">func</span>&nbsp;<span class="op" id="6505622">(</span><span class="ident" id="6505623">d</span>&nbsp;<span class="op" id="6505625">*</span><span class="ident" id="6505626">digest</span><span class="op" id="6505632">)</span>&nbsp;<span class="ident" id="6505634">Size</span><span class="op" id="6505638">(</span><span class="op" id="6505639">)</span>&nbsp;<span class="builtintype" id="6505641">int</span>&nbsp;<span class="op" id="6505645">{</span>&nbsp;<span class="keyword" id="6505647">return</span>&nbsp;<span class="ident" id="6505654">Size</span>&nbsp;<span class="op" id="6505659">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6505662">func</span>&nbsp;<span class="op" id="6505667">(</span><span class="ident" id="6505668">d</span>&nbsp;<span class="op" id="6505670">*</span><span class="ident" id="6505671">digest</span><span class="op" id="6505677">)</span>&nbsp;<span class="ident" id="6505679">BlockSize</span><span class="op" id="6505688">(</span><span class="op" id="6505689">)</span>&nbsp;<span class="builtintype" id="6505691">int</span>&nbsp;<span class="op" id="6505695">{</span>&nbsp;<span class="keyword" id="6505697">return</span>&nbsp;<span class="num" id="6505704">1</span>&nbsp;<span class="op" id="6505706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6505709">func</span>&nbsp;<span class="op" id="6505714">(</span><span class="ident" id="6505715">d</span>&nbsp;<span class="op" id="6505717">*</span><span class="ident" id="6505718">digest</span><span class="op" id="6505724">)</span>&nbsp;<span class="ident" id="6505726">Reset</span><span class="op" id="6505731">(</span><span class="op" id="6505732">)</span>&nbsp;<span class="op" id="6505734">{</span>&nbsp;<span class="ident" id="6505736">d</span><span class="op" id="6505737">.</span><span class="ident" id="6505738">crc</span>&nbsp;<span class="op" id="6505742">=</span>&nbsp;<span class="num" id="6505744">0</span>&nbsp;<span class="op" id="6505746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6505749">func</span>&nbsp;<span class="ident" id="6505754">update</span><span class="op" id="6505760">(</span><span class="ident" id="6505761">crc</span>&nbsp;<span class="ident" id="6505765">uint64</span><span class="op" id="6505771">,</span>&nbsp;<span class="ident" id="6505773">tab</span>&nbsp;<span class="op" id="6505777">*</span><span class="ident" id="6505778">Table</span><span class="op" id="6505783">,</span>&nbsp;<span class="ident" id="6505785">p</span>&nbsp;<span class="op" id="6505787">[</span><span class="op" id="6505788">]</span><span class="builtintype" id="6505789">byte</span><span class="op" id="6505793">)</span>&nbsp;<span class="ident" id="6505795">uint64</span>&nbsp;<span class="op" id="6505802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505805">crc</span>&nbsp;<span class="op" id="6505809">=</span>&nbsp;<span class="op" id="6505811">^</span><span class="ident" id="6505812">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505817">for</span>&nbsp;<span class="ident" id="6505821">_</span><span class="op" id="6505822">,</span>&nbsp;<span class="ident" id="6505824">v</span>&nbsp;<span class="op" id="6505826">:=</span>&nbsp;<span class="keyword" id="6505829">range</span>&nbsp;<span class="ident" id="6505835">p</span>&nbsp;<span class="op" id="6505837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505841">crc</span>&nbsp;<span class="op" id="6505845">=</span>&nbsp;<span class="ident" id="6505847">tab</span><span class="op" id="6505850">[</span><span class="builtintype" id="6505851">byte</span><span class="op" id="6505855">(</span><span class="ident" id="6505856">crc</span><span class="op" id="6505859">)</span><span class="op" id="6505860">^</span><span class="ident" id="6505861">v</span><span class="op" id="6505862">]</span>&nbsp;<span class="op" id="6505864">^</span>&nbsp;<span class="op" id="6505866">(</span><span class="ident" id="6505867">crc</span>&nbsp;<span class="op" id="6505871">&gt;&gt;</span>&nbsp;<span class="num" id="6505874">8</span><span class="op" id="6505875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505878">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505881">return</span>&nbsp;<span class="op" id="6505888">^</span><span class="ident" id="6505889">crc</span><br>
<span class="lineno"></span><span class="op" id="6505893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6505896">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="6505962">func</span>&nbsp;<span class="ident" id="6505967">Update</span><span class="op" id="6505973">(</span><span class="ident" id="6505974">crc</span>&nbsp;<span class="ident" id="6505978">uint64</span><span class="op" id="6505984">,</span>&nbsp;<span class="ident" id="6505986">tab</span>&nbsp;<span class="op" id="6505990">*</span><span class="ident" id="6505991">Table</span><span class="op" id="6505996">,</span>&nbsp;<span class="ident" id="6505998">p</span>&nbsp;<span class="op" id="6506000">[</span><span class="op" id="6506001">]</span><span class="builtintype" id="6506002">byte</span><span class="op" id="6506006">)</span>&nbsp;<span class="ident" id="6506008">uint64</span>&nbsp;<span class="op" id="6506015">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506018">return</span>&nbsp;<span class="ident" id="6506025">update</span><span class="op" id="6506031">(</span><span class="ident" id="6506032">crc</span><span class="op" id="6506035">,</span>&nbsp;<span class="ident" id="6506037">tab</span><span class="op" id="6506040">,</span>&nbsp;<span class="ident" id="6506042">p</span><span class="op" id="6506043">)</span><br>
<span class="lineno"></span><span class="op" id="6506045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6506048">func</span>&nbsp;<span class="op" id="6506053">(</span><span class="ident" id="6506054">d</span>&nbsp;<span class="op" id="6506056">*</span><span class="ident" id="6506057">digest</span><span class="op" id="6506063">)</span>&nbsp;<span class="ident" id="6506065">Write</span><span class="op" id="6506070">(</span><span class="ident" id="6506071">p</span>&nbsp;<span class="op" id="6506073">[</span><span class="op" id="6506074">]</span><span class="builtintype" id="6506075">byte</span><span class="op" id="6506079">)</span>&nbsp;<span class="op" id="6506081">(</span><span class="ident" id="6506082">n</span>&nbsp;<span class="builtintype" id="6506084">int</span><span class="op" id="6506087">,</span>&nbsp;<span class="ident" id="6506089">err</span>&nbsp;<span class="builtintype" id="6506093">error</span><span class="op" id="6506098">)</span>&nbsp;<span class="op" id="6506100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506103">d</span><span class="op" id="6506104">.</span><span class="ident" id="6506105">crc</span>&nbsp;<span class="op" id="6506109">=</span>&nbsp;<span class="ident" id="6506111">update</span><span class="op" id="6506117">(</span><span class="ident" id="6506118">d</span><span class="op" id="6506119">.</span><span class="ident" id="6506120">crc</span><span class="op" id="6506123">,</span>&nbsp;<span class="ident" id="6506125">d</span><span class="op" id="6506126">.</span><span class="ident" id="6506127">tab</span><span class="op" id="6506130">,</span>&nbsp;<span class="ident" id="6506132">p</span><span class="op" id="6506133">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506136">return</span>&nbsp;<span class="builtinfunc" id="6506143">len</span><span class="op" id="6506146">(</span><span class="ident" id="6506147">p</span><span class="op" id="6506148">)</span><span class="op" id="6506149">,</span>&nbsp;<span class="ident" id="6506151">nil</span><br>
<span class="lineno"></span><span class="op" id="6506155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6506158">func</span>&nbsp;<span class="op" id="6506163">(</span><span class="ident" id="6506164">d</span>&nbsp;<span class="op" id="6506166">*</span><span class="ident" id="6506167">digest</span><span class="op" id="6506173">)</span>&nbsp;<span class="ident" id="6506175">Sum64</span><span class="op" id="6506180">(</span><span class="op" id="6506181">)</span>&nbsp;<span class="ident" id="6506183">uint64</span>&nbsp;<span class="op" id="6506190">{</span>&nbsp;<span class="keyword" id="6506192">return</span>&nbsp;<span class="ident" id="6506199">d</span><span class="op" id="6506200">.</span><span class="ident" id="6506201">crc</span>&nbsp;<span class="op" id="6506205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6506208">func</span>&nbsp;<span class="op" id="6506213">(</span><span class="ident" id="6506214">d</span>&nbsp;<span class="op" id="6506216">*</span><span class="ident" id="6506217">digest</span><span class="op" id="6506223">)</span>&nbsp;<span class="ident" id="6506225">Sum</span><span class="op" id="6506228">(</span><span class="ident" id="6506229">in</span>&nbsp;<span class="op" id="6506232">[</span><span class="op" id="6506233">]</span><span class="builtintype" id="6506234">byte</span><span class="op" id="6506238">)</span>&nbsp;<span class="op" id="6506240">[</span><span class="op" id="6506241">]</span><span class="builtintype" id="6506242">byte</span>&nbsp;<span class="op" id="6506247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506250">s</span>&nbsp;<span class="op" id="6506252">:=</span>&nbsp;<span class="ident" id="6506255">d</span><span class="op" id="6506256">.</span><span class="ident" id="6506257">Sum64</span><span class="op" id="6506262">(</span><span class="op" id="6506263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506266">return</span>&nbsp;<span class="builtinfunc" id="6506273">append</span><span class="op" id="6506279">(</span><span class="ident" id="6506280">in</span><span class="op" id="6506282">,</span>&nbsp;<span class="builtintype" id="6506284">byte</span><span class="op" id="6506288">(</span><span class="ident" id="6506289">s</span><span class="op" id="6506290">&gt;&gt;</span><span class="num" id="6506292">56</span><span class="op" id="6506294">)</span><span class="op" id="6506295">,</span>&nbsp;<span class="builtintype" id="6506297">byte</span><span class="op" id="6506301">(</span><span class="ident" id="6506302">s</span><span class="op" id="6506303">&gt;&gt;</span><span class="num" id="6506305">48</span><span class="op" id="6506307">)</span><span class="op" id="6506308">,</span>&nbsp;<span class="builtintype" id="6506310">byte</span><span class="op" id="6506314">(</span><span class="ident" id="6506315">s</span><span class="op" id="6506316">&gt;&gt;</span><span class="num" id="6506318">40</span><span class="op" id="6506320">)</span><span class="op" id="6506321">,</span>&nbsp;<span class="builtintype" id="6506323">byte</span><span class="op" id="6506327">(</span><span class="ident" id="6506328">s</span><span class="op" id="6506329">&gt;&gt;</span><span class="num" id="6506331">32</span><span class="op" id="6506333">)</span><span class="op" id="6506334">,</span>&nbsp;<span class="builtintype" id="6506336">byte</span><span class="op" id="6506340">(</span><span class="ident" id="6506341">s</span><span class="op" id="6506342">&gt;&gt;</span><span class="num" id="6506344">24</span><span class="op" id="6506346">)</span><span class="op" id="6506347">,</span>&nbsp;<span class="builtintype" id="6506349">byte</span><span class="op" id="6506353">(</span><span class="ident" id="6506354">s</span><span class="op" id="6506355">&gt;&gt;</span><span class="num" id="6506357">16</span><span class="op" id="6506359">)</span><span class="op" id="6506360">,</span>&nbsp;<span class="builtintype" id="6506362">byte</span><span class="op" id="6506366">(</span><span class="ident" id="6506367">s</span><span class="op" id="6506368">&gt;&gt;</span><span class="num" id="6506370">8</span><span class="op" id="6506371">)</span><span class="op" id="6506372">,</span>&nbsp;<span class="builtintype" id="6506374">byte</span><span class="op" id="6506378">(</span><span class="ident" id="6506379">s</span><span class="op" id="6506380">)</span><span class="op" id="6506381">)</span><br>
<span class="lineno"></span><span class="op" id="6506383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6506386">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="6506434">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="6506484">func</span>&nbsp;<span class="ident" id="6506489">Checksum</span><span class="op" id="6506497">(</span><span class="ident" id="6506498">data</span>&nbsp;<span class="op" id="6506503">[</span><span class="op" id="6506504">]</span><span class="builtintype" id="6506505">byte</span><span class="op" id="6506509">,</span>&nbsp;<span class="ident" id="6506511">tab</span>&nbsp;<span class="op" id="6506515">*</span><span class="ident" id="6506516">Table</span><span class="op" id="6506521">)</span>&nbsp;<span class="ident" id="6506523">uint64</span>&nbsp;<span class="op" id="6506530">{</span>&nbsp;<span class="keyword" id="6506532">return</span>&nbsp;<span class="ident" id="6506539">update</span><span class="op" id="6506545">(</span><span class="num" id="6506546">0</span><span class="op" id="6506547">,</span>&nbsp;<span class="ident" id="6506549">tab</span><span class="op" id="6506552">,</span>&nbsp;<span class="ident" id="6506554">data</span><span class="op" id="6506558">)</span>&nbsp;<span class="op" id="6506560">}</span>
</div>
</body>
</html>
