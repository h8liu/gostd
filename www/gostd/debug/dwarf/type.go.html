<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5631132">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5631188">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5631242">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5631293">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="5631331">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="5631392">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5631439">package</span>&nbsp;<span class="ident" id="5631447">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5631454">import</span>&nbsp;<span class="string" id="5631461">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5631472">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5631532">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="5631590">type</span>&nbsp;<span class="ident" id="5631595">Type</span>&nbsp;<span class="keyword" id="5631600">interface</span>&nbsp;<span class="op" id="5631610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5631613">Common</span><span class="op" id="5631619">(</span><span class="op" id="5631620">)</span>&nbsp;<span class="op" id="5631622">*</span><span class="ident" id="5631623">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5631635">String</span><span class="op" id="5631641">(</span><span class="op" id="5631642">)</span>&nbsp;<span class="builtintype" id="5631644">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5631652">Size</span><span class="op" id="5631656">(</span><span class="op" id="5631657">)</span>&nbsp;<span class="ident" id="5631659">int64</span><br>
<span class="lineno"></span><span class="op" id="5631665">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5631668">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5631723">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="5631786">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="5631813">type</span>&nbsp;<span class="ident" id="5631818">CommonType</span>&nbsp;<span class="keyword" id="5631829">struct</span>&nbsp;<span class="op" id="5631836">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5631839">ByteSize</span>&nbsp;<span class="ident" id="5631848">int64</span>&nbsp;&nbsp;<span class="comment" id="5631855">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5631896">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5631905">string</span>&nbsp;<span class="comment" id="5631912">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="5631954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5631957">func</span>&nbsp;<span class="op" id="5631962">(</span><span class="ident" id="5631963">c</span>&nbsp;<span class="op" id="5631965">*</span><span class="ident" id="5631966">CommonType</span><span class="op" id="5631976">)</span>&nbsp;<span class="ident" id="5631978">Common</span><span class="op" id="5631984">(</span><span class="op" id="5631985">)</span>&nbsp;<span class="op" id="5631987">*</span><span class="ident" id="5631988">CommonType</span>&nbsp;<span class="op" id="5631999">{</span>&nbsp;<span class="keyword" id="5632001">return</span>&nbsp;<span class="ident" id="5632008">c</span>&nbsp;<span class="op" id="5632010">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="5632013">func</span>&nbsp;<span class="op" id="5632018">(</span><span class="ident" id="5632019">c</span>&nbsp;<span class="op" id="5632021">*</span><span class="ident" id="5632022">CommonType</span><span class="op" id="5632032">)</span>&nbsp;<span class="ident" id="5632034">Size</span><span class="op" id="5632038">(</span><span class="op" id="5632039">)</span>&nbsp;<span class="ident" id="5632041">int64</span>&nbsp;<span class="op" id="5632047">{</span>&nbsp;<span class="keyword" id="5632049">return</span>&nbsp;<span class="ident" id="5632056">c</span><span class="op" id="5632057">.</span><span class="ident" id="5632058">ByteSize</span>&nbsp;<span class="op" id="5632067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5632070">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5632086">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5632141">type</span>&nbsp;<span class="ident" id="5632146">BasicType</span>&nbsp;<span class="keyword" id="5632156">struct</span>&nbsp;<span class="op" id="5632163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632166">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632178">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5632188">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632195">BitOffset</span>&nbsp;<span class="ident" id="5632205">int64</span><br>
<span class="lineno">40</span><span class="op" id="5632211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5632214">func</span>&nbsp;<span class="op" id="5632219">(</span><span class="ident" id="5632220">b</span>&nbsp;<span class="op" id="5632222">*</span><span class="ident" id="5632223">BasicType</span><span class="op" id="5632232">)</span>&nbsp;<span class="ident" id="5632234">Basic</span><span class="op" id="5632239">(</span><span class="op" id="5632240">)</span>&nbsp;<span class="op" id="5632242">*</span><span class="ident" id="5632243">BasicType</span>&nbsp;<span class="op" id="5632253">{</span>&nbsp;<span class="keyword" id="5632255">return</span>&nbsp;<span class="ident" id="5632262">b</span>&nbsp;<span class="op" id="5632264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5632267">func</span>&nbsp;<span class="op" id="5632272">(</span><span class="ident" id="5632273">t</span>&nbsp;<span class="op" id="5632275">*</span><span class="ident" id="5632276">BasicType</span><span class="op" id="5632285">)</span>&nbsp;<span class="ident" id="5632287">String</span><span class="op" id="5632293">(</span><span class="op" id="5632294">)</span>&nbsp;<span class="builtintype" id="5632296">string</span>&nbsp;<span class="op" id="5632303">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5632306">if</span>&nbsp;<span class="ident" id="5632309">t</span><span class="op" id="5632310">.</span><span class="ident" id="5632311">Name</span>&nbsp;<span class="op" id="5632316">!=</span>&nbsp;<span class="string" id="5632319">&#34;&#34;</span>&nbsp;<span class="op" id="5632322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5632326">return</span>&nbsp;<span class="ident" id="5632333">t</span><span class="op" id="5632334">.</span><span class="ident" id="5632335">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5632341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5632344">return</span>&nbsp;<span class="string" id="5632351">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="5632355">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="5632358">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632408">type</span>&nbsp;<span class="ident" id="5632413">CharType</span>&nbsp;<span class="keyword" id="5632422">struct</span>&nbsp;<span class="op" id="5632429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632432">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632442">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5632445">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632499">type</span>&nbsp;<span class="ident" id="5632504">UcharType</span>&nbsp;<span class="keyword" id="5632514">struct</span>&nbsp;<span class="op" id="5632521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632524">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632534">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5632537">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632585">type</span>&nbsp;<span class="ident" id="5632590">IntType</span>&nbsp;<span class="keyword" id="5632598">struct</span>&nbsp;<span class="op" id="5632605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632608">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632618">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5632621">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632672">type</span>&nbsp;<span class="ident" id="5632677">UintType</span>&nbsp;<span class="keyword" id="5632686">struct</span>&nbsp;<span class="op" id="5632693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632696">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632706">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5632709">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632758">type</span>&nbsp;<span class="ident" id="5632763">FloatType</span>&nbsp;<span class="keyword" id="5632773">struct</span>&nbsp;<span class="op" id="5632780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632783">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632793">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5632796">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632855">type</span>&nbsp;<span class="ident" id="5632860">ComplexType</span>&nbsp;<span class="keyword" id="5632872">struct</span>&nbsp;<span class="op" id="5632879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632882">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632892">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5632895">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5632936">type</span>&nbsp;<span class="ident" id="5632941">BoolType</span>&nbsp;<span class="keyword" id="5632950">struct</span>&nbsp;<span class="op" id="5632957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5632960">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5632970">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5632973">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5633023">type</span>&nbsp;<span class="ident" id="5633028">AddrType</span>&nbsp;<span class="keyword" id="5633037">struct</span>&nbsp;<span class="op" id="5633044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633047">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5633057">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="5633060">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5633146">type</span>&nbsp;<span class="ident" id="5633151">UnspecifiedType</span>&nbsp;<span class="keyword" id="5633167">struct</span>&nbsp;<span class="op" id="5633174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633177">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5633187">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5633190">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5633205">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="5633302">type</span>&nbsp;<span class="ident" id="5633307">QualType</span>&nbsp;<span class="keyword" id="5633316">struct</span>&nbsp;<span class="op" id="5633323">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633326">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633338">Qual</span>&nbsp;<span class="builtintype" id="5633343">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633351">Type</span>&nbsp;<span class="ident" id="5633356">Type</span><br>
<span class="lineno"></span><span class="op" id="5633361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5633364">func</span>&nbsp;<span class="op" id="5633369">(</span><span class="ident" id="5633370">t</span>&nbsp;<span class="op" id="5633372">*</span><span class="ident" id="5633373">QualType</span><span class="op" id="5633381">)</span>&nbsp;<span class="ident" id="5633383">String</span><span class="op" id="5633389">(</span><span class="op" id="5633390">)</span>&nbsp;<span class="builtintype" id="5633392">string</span>&nbsp;<span class="op" id="5633399">{</span>&nbsp;<span class="keyword" id="5633401">return</span>&nbsp;<span class="ident" id="5633408">t</span><span class="op" id="5633409">.</span><span class="ident" id="5633410">Qual</span>&nbsp;<span class="op" id="5633415">+</span>&nbsp;<span class="string" id="5633417">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5633421">+</span>&nbsp;<span class="ident" id="5633423">t</span><span class="op" id="5633424">.</span><span class="ident" id="5633425">Type</span><span class="op" id="5633429">.</span><span class="ident" id="5633430">String</span><span class="op" id="5633436">(</span><span class="op" id="5633437">)</span>&nbsp;<span class="op" id="5633439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5633442">func</span>&nbsp;<span class="op" id="5633447">(</span><span class="ident" id="5633448">t</span>&nbsp;<span class="op" id="5633450">*</span><span class="ident" id="5633451">QualType</span><span class="op" id="5633459">)</span>&nbsp;<span class="ident" id="5633461">Size</span><span class="op" id="5633465">(</span><span class="op" id="5633466">)</span>&nbsp;<span class="ident" id="5633468">int64</span>&nbsp;<span class="op" id="5633474">{</span>&nbsp;<span class="keyword" id="5633476">return</span>&nbsp;<span class="ident" id="5633483">t</span><span class="op" id="5633484">.</span><span class="ident" id="5633485">Type</span><span class="op" id="5633489">.</span><span class="ident" id="5633490">Size</span><span class="op" id="5633494">(</span><span class="op" id="5633495">)</span>&nbsp;<span class="op" id="5633497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5633500">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="5633552">type</span>&nbsp;<span class="ident" id="5633557">ArrayType</span>&nbsp;<span class="keyword" id="5633567">struct</span>&nbsp;<span class="op" id="5633574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633577">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633589">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633603">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633609">StrideBitSize</span>&nbsp;<span class="ident" id="5633623">int64</span>&nbsp;<span class="comment" id="5633629">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5633677">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633691">int64</span>&nbsp;<span class="comment" id="5633697">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="5633746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5633749">func</span>&nbsp;<span class="op" id="5633754">(</span><span class="ident" id="5633755">t</span>&nbsp;<span class="op" id="5633757">*</span><span class="ident" id="5633758">ArrayType</span><span class="op" id="5633767">)</span>&nbsp;<span class="ident" id="5633769">String</span><span class="op" id="5633775">(</span><span class="op" id="5633776">)</span>&nbsp;<span class="builtintype" id="5633778">string</span>&nbsp;<span class="op" id="5633785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5633788">return</span>&nbsp;<span class="string" id="5633795">&#34;[&#34;</span>&nbsp;<span class="op" id="5633799">+</span>&nbsp;<span class="ident" id="5633801">strconv</span><span class="op" id="5633808">.</span><span class="ident" id="5633809">FormatInt</span><span class="op" id="5633818">(</span><span class="ident" id="5633819">t</span><span class="op" id="5633820">.</span><span class="ident" id="5633821">Count</span><span class="op" id="5633826">,</span>&nbsp;<span class="num" id="5633828">10</span><span class="op" id="5633830">)</span>&nbsp;<span class="op" id="5633832">+</span>&nbsp;<span class="string" id="5633834">&#34;]&#34;</span>&nbsp;<span class="op" id="5633838">+</span>&nbsp;<span class="ident" id="5633840">t</span><span class="op" id="5633841">.</span><span class="ident" id="5633842">Type</span><span class="op" id="5633846">.</span><span class="ident" id="5633847">String</span><span class="op" id="5633853">(</span><span class="op" id="5633854">)</span><br>
<span class="lineno"></span><span class="op" id="5633856">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="5633859">func</span>&nbsp;<span class="op" id="5633864">(</span><span class="ident" id="5633865">t</span>&nbsp;<span class="op" id="5633867">*</span><span class="ident" id="5633868">ArrayType</span><span class="op" id="5633877">)</span>&nbsp;<span class="ident" id="5633879">Size</span><span class="op" id="5633883">(</span><span class="op" id="5633884">)</span>&nbsp;<span class="ident" id="5633886">int64</span>&nbsp;<span class="op" id="5633892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5633895">if</span>&nbsp;<span class="ident" id="5633898">t</span><span class="op" id="5633899">.</span><span class="ident" id="5633900">Count</span>&nbsp;<span class="op" id="5633906">==</span>&nbsp;<span class="op" id="5633909">-</span><span class="num" id="5633910">1</span>&nbsp;<span class="op" id="5633912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5633916">return</span>&nbsp;<span class="num" id="5633923">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5633926">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5633929">return</span>&nbsp;<span class="ident" id="5633936">t</span><span class="op" id="5633937">.</span><span class="ident" id="5633938">Count</span>&nbsp;<span class="op" id="5633944">*</span>&nbsp;<span class="ident" id="5633946">t</span><span class="op" id="5633947">.</span><span class="ident" id="5633948">Type</span><span class="op" id="5633952">.</span><span class="ident" id="5633953">Size</span><span class="op" id="5633957">(</span><span class="op" id="5633958">)</span><br>
<span class="lineno"></span><span class="op" id="5633960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5633963">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5634005">type</span>&nbsp;<span class="ident" id="5634010">VoidType</span>&nbsp;<span class="keyword" id="5634019">struct</span>&nbsp;<span class="op" id="5634026">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634029">CommonType</span><br>
<span class="lineno"></span><span class="op" id="5634040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5634043">func</span>&nbsp;<span class="op" id="5634048">(</span><span class="ident" id="5634049">t</span>&nbsp;<span class="op" id="5634051">*</span><span class="ident" id="5634052">VoidType</span><span class="op" id="5634060">)</span>&nbsp;<span class="ident" id="5634062">String</span><span class="op" id="5634068">(</span><span class="op" id="5634069">)</span>&nbsp;<span class="builtintype" id="5634071">string</span>&nbsp;<span class="op" id="5634078">{</span>&nbsp;<span class="keyword" id="5634080">return</span>&nbsp;<span class="string" id="5634087">&#34;void&#34;</span>&nbsp;<span class="op" id="5634094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="5634097">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5634137">type</span>&nbsp;<span class="ident" id="5634142">PtrType</span>&nbsp;<span class="keyword" id="5634150">struct</span>&nbsp;<span class="op" id="5634157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634160">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634172">Type</span>&nbsp;<span class="ident" id="5634177">Type</span><br>
<span class="lineno"></span><span class="op" id="5634182">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="5634185">func</span>&nbsp;<span class="op" id="5634190">(</span><span class="ident" id="5634191">t</span>&nbsp;<span class="op" id="5634193">*</span><span class="ident" id="5634194">PtrType</span><span class="op" id="5634201">)</span>&nbsp;<span class="ident" id="5634203">String</span><span class="op" id="5634209">(</span><span class="op" id="5634210">)</span>&nbsp;<span class="builtintype" id="5634212">string</span>&nbsp;<span class="op" id="5634219">{</span>&nbsp;<span class="keyword" id="5634221">return</span>&nbsp;<span class="string" id="5634228">&#34;*&#34;</span>&nbsp;<span class="op" id="5634232">+</span>&nbsp;<span class="ident" id="5634234">t</span><span class="op" id="5634235">.</span><span class="ident" id="5634236">Type</span><span class="op" id="5634240">.</span><span class="ident" id="5634241">String</span><span class="op" id="5634247">(</span><span class="op" id="5634248">)</span>&nbsp;<span class="op" id="5634250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5634253">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5634316">type</span>&nbsp;<span class="ident" id="5634321">StructType</span>&nbsp;<span class="keyword" id="5634332">struct</span>&nbsp;<span class="op" id="5634339">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634342">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634354">StructName</span>&nbsp;<span class="builtintype" id="5634365">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634373">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5634384">string</span>&nbsp;<span class="comment" id="5634391">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634426">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634437">[</span><span class="op" id="5634438">]</span><span class="op" id="5634439">*</span><span class="ident" id="5634440">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634453">Incomplete</span>&nbsp;<span class="builtintype" id="5634464">bool</span>&nbsp;<span class="comment" id="5634469">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="5634530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5634533">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5634608">type</span>&nbsp;<span class="ident" id="5634613">StructField</span>&nbsp;<span class="keyword" id="5634625">struct</span>&nbsp;<span class="op" id="5634632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634635">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5634646">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634654">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634665">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634671">ByteOffset</span>&nbsp;<span class="ident" id="5634682">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634689">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5634700">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634707">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="5634718">int64</span>&nbsp;<span class="comment" id="5634724">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634768">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634779">int64</span>&nbsp;<span class="comment" id="5634785">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="5634812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5634815">func</span>&nbsp;<span class="op" id="5634820">(</span><span class="ident" id="5634821">t</span>&nbsp;<span class="op" id="5634823">*</span><span class="ident" id="5634824">StructType</span><span class="op" id="5634834">)</span>&nbsp;<span class="ident" id="5634836">String</span><span class="op" id="5634842">(</span><span class="op" id="5634843">)</span>&nbsp;<span class="builtintype" id="5634845">string</span>&nbsp;<span class="op" id="5634852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5634855">if</span>&nbsp;<span class="ident" id="5634858">t</span><span class="op" id="5634859">.</span><span class="ident" id="5634860">StructName</span>&nbsp;<span class="op" id="5634871">!=</span>&nbsp;<span class="string" id="5634874">&#34;&#34;</span>&nbsp;<span class="op" id="5634877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5634881">return</span>&nbsp;<span class="ident" id="5634888">t</span><span class="op" id="5634889">.</span><span class="ident" id="5634890">Kind</span>&nbsp;<span class="op" id="5634895">+</span>&nbsp;<span class="string" id="5634897">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5634901">+</span>&nbsp;<span class="ident" id="5634903">t</span><span class="op" id="5634904">.</span><span class="ident" id="5634905">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5634917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5634920">return</span>&nbsp;<span class="ident" id="5634927">t</span><span class="op" id="5634928">.</span><span class="ident" id="5634929">Defn</span><span class="op" id="5634933">(</span><span class="op" id="5634934">)</span><br>
<span class="lineno"></span><span class="op" id="5634936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5634939">func</span>&nbsp;<span class="op" id="5634944">(</span><span class="ident" id="5634945">t</span>&nbsp;<span class="op" id="5634947">*</span><span class="ident" id="5634948">StructType</span><span class="op" id="5634958">)</span>&nbsp;<span class="ident" id="5634960">Defn</span><span class="op" id="5634964">(</span><span class="op" id="5634965">)</span>&nbsp;<span class="builtintype" id="5634967">string</span>&nbsp;<span class="op" id="5634974">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5634977">s</span>&nbsp;<span class="op" id="5634979">:=</span>&nbsp;<span class="ident" id="5634982">t</span><span class="op" id="5634983">.</span><span class="ident" id="5634984">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5634990">if</span>&nbsp;<span class="ident" id="5634993">t</span><span class="op" id="5634994">.</span><span class="ident" id="5634995">StructName</span>&nbsp;<span class="op" id="5635006">!=</span>&nbsp;<span class="string" id="5635009">&#34;&#34;</span>&nbsp;<span class="op" id="5635012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635016">s</span>&nbsp;<span class="op" id="5635018">+=</span>&nbsp;<span class="string" id="5635021">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5635025">+</span>&nbsp;<span class="ident" id="5635027">t</span><span class="op" id="5635028">.</span><span class="ident" id="5635029">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635044">if</span>&nbsp;<span class="ident" id="5635047">t</span><span class="op" id="5635048">.</span><span class="ident" id="5635049">Incomplete</span>&nbsp;<span class="op" id="5635060">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635064">s</span>&nbsp;<span class="op" id="5635066">+=</span>&nbsp;<span class="string" id="5635069">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635089">return</span>&nbsp;<span class="ident" id="5635096">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635102">s</span>&nbsp;<span class="op" id="5635104">+=</span>&nbsp;<span class="string" id="5635107">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635113">for</span>&nbsp;<span class="ident" id="5635117">i</span><span class="op" id="5635118">,</span>&nbsp;<span class="ident" id="5635120">f</span>&nbsp;<span class="op" id="5635122">:=</span>&nbsp;<span class="keyword" id="5635125">range</span>&nbsp;<span class="ident" id="5635131">t</span><span class="op" id="5635132">.</span><span class="ident" id="5635133">Field</span>&nbsp;<span class="op" id="5635139">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635143">if</span>&nbsp;<span class="ident" id="5635146">i</span>&nbsp;<span class="op" id="5635148">&gt;</span>&nbsp;<span class="num" id="5635150">0</span>&nbsp;<span class="op" id="5635152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635157">s</span>&nbsp;<span class="op" id="5635159">+=</span>&nbsp;<span class="string" id="5635162">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635173">s</span>&nbsp;<span class="op" id="5635175">+=</span>&nbsp;<span class="ident" id="5635178">f</span><span class="op" id="5635179">.</span><span class="ident" id="5635180">Name</span>&nbsp;<span class="op" id="5635185">+</span>&nbsp;<span class="string" id="5635187">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5635191">+</span>&nbsp;<span class="ident" id="5635193">f</span><span class="op" id="5635194">.</span><span class="ident" id="5635195">Type</span><span class="op" id="5635199">.</span><span class="ident" id="5635200">String</span><span class="op" id="5635206">(</span><span class="op" id="5635207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635211">s</span>&nbsp;<span class="op" id="5635213">+=</span>&nbsp;<span class="string" id="5635216">&#34;@&#34;</span>&nbsp;<span class="op" id="5635220">+</span>&nbsp;<span class="ident" id="5635222">strconv</span><span class="op" id="5635229">.</span><span class="ident" id="5635230">FormatInt</span><span class="op" id="5635239">(</span><span class="ident" id="5635240">f</span><span class="op" id="5635241">.</span><span class="ident" id="5635242">ByteOffset</span><span class="op" id="5635252">,</span>&nbsp;<span class="num" id="5635254">10</span><span class="op" id="5635256">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635260">if</span>&nbsp;<span class="ident" id="5635263">f</span><span class="op" id="5635264">.</span><span class="ident" id="5635265">BitSize</span>&nbsp;<span class="op" id="5635273">&gt;</span>&nbsp;<span class="num" id="5635275">0</span>&nbsp;<span class="op" id="5635277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635282">s</span>&nbsp;<span class="op" id="5635284">+=</span>&nbsp;<span class="string" id="5635287">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5635293">+</span>&nbsp;<span class="ident" id="5635295">strconv</span><span class="op" id="5635302">.</span><span class="ident" id="5635303">FormatInt</span><span class="op" id="5635312">(</span><span class="ident" id="5635313">f</span><span class="op" id="5635314">.</span><span class="ident" id="5635315">BitSize</span><span class="op" id="5635322">,</span>&nbsp;<span class="num" id="5635324">10</span><span class="op" id="5635326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635331">s</span>&nbsp;<span class="op" id="5635333">+=</span>&nbsp;<span class="string" id="5635336">&#34;@&#34;</span>&nbsp;<span class="op" id="5635340">+</span>&nbsp;<span class="ident" id="5635342">strconv</span><span class="op" id="5635349">.</span><span class="ident" id="5635350">FormatInt</span><span class="op" id="5635359">(</span><span class="ident" id="5635360">f</span><span class="op" id="5635361">.</span><span class="ident" id="5635362">BitOffset</span><span class="op" id="5635371">,</span>&nbsp;<span class="num" id="5635373">10</span><span class="op" id="5635375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635382">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635385">s</span>&nbsp;<span class="op" id="5635387">+=</span>&nbsp;<span class="string" id="5635390">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635395">return</span>&nbsp;<span class="ident" id="5635402">s</span><br>
<span class="lineno"></span><span class="op" id="5635404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5635407">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="5635453">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="5635519">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="5635543">type</span>&nbsp;<span class="ident" id="5635548">EnumType</span>&nbsp;<span class="keyword" id="5635557">struct</span>&nbsp;<span class="op" id="5635564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635567">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635579">EnumName</span>&nbsp;<span class="builtintype" id="5635588">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635596">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635605">[</span><span class="op" id="5635606">]</span><span class="op" id="5635607">*</span><span class="ident" id="5635608">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="5635618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5635621">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5635676">type</span>&nbsp;<span class="ident" id="5635681">EnumValue</span>&nbsp;<span class="keyword" id="5635691">struct</span>&nbsp;<span class="op" id="5635698">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635701">Name</span>&nbsp;<span class="builtintype" id="5635706">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635714">Val</span>&nbsp;&nbsp;<span class="ident" id="5635719">int64</span><br>
<span class="lineno"></span><span class="op" id="5635725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5635728">func</span>&nbsp;<span class="op" id="5635733">(</span><span class="ident" id="5635734">t</span>&nbsp;<span class="op" id="5635736">*</span><span class="ident" id="5635737">EnumType</span><span class="op" id="5635745">)</span>&nbsp;<span class="ident" id="5635747">String</span><span class="op" id="5635753">(</span><span class="op" id="5635754">)</span>&nbsp;<span class="builtintype" id="5635756">string</span>&nbsp;<span class="op" id="5635763">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635766">s</span>&nbsp;<span class="op" id="5635768">:=</span>&nbsp;<span class="string" id="5635771">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635779">if</span>&nbsp;<span class="ident" id="5635782">t</span><span class="op" id="5635783">.</span><span class="ident" id="5635784">EnumName</span>&nbsp;<span class="op" id="5635793">!=</span>&nbsp;<span class="string" id="5635796">&#34;&#34;</span>&nbsp;<span class="op" id="5635799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635803">s</span>&nbsp;<span class="op" id="5635805">+=</span>&nbsp;<span class="string" id="5635808">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5635812">+</span>&nbsp;<span class="ident" id="5635814">t</span><span class="op" id="5635815">.</span><span class="ident" id="5635816">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635829">s</span>&nbsp;<span class="op" id="5635831">+=</span>&nbsp;<span class="string" id="5635834">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635840">for</span>&nbsp;<span class="ident" id="5635844">i</span><span class="op" id="5635845">,</span>&nbsp;<span class="ident" id="5635847">v</span>&nbsp;<span class="op" id="5635849">:=</span>&nbsp;<span class="keyword" id="5635852">range</span>&nbsp;<span class="ident" id="5635858">t</span><span class="op" id="5635859">.</span><span class="ident" id="5635860">Val</span>&nbsp;<span class="op" id="5635864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635868">if</span>&nbsp;<span class="ident" id="5635871">i</span>&nbsp;<span class="op" id="5635873">&gt;</span>&nbsp;<span class="num" id="5635875">0</span>&nbsp;<span class="op" id="5635877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635882">s</span>&nbsp;<span class="op" id="5635884">+=</span>&nbsp;<span class="string" id="5635887">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635898">s</span>&nbsp;<span class="op" id="5635900">+=</span>&nbsp;<span class="ident" id="5635903">v</span><span class="op" id="5635904">.</span><span class="ident" id="5635905">Name</span>&nbsp;<span class="op" id="5635910">+</span>&nbsp;<span class="string" id="5635912">&#34;=&#34;</span>&nbsp;<span class="op" id="5635916">+</span>&nbsp;<span class="ident" id="5635918">strconv</span><span class="op" id="5635925">.</span><span class="ident" id="5635926">FormatInt</span><span class="op" id="5635935">(</span><span class="ident" id="5635936">v</span><span class="op" id="5635937">.</span><span class="ident" id="5635938">Val</span><span class="op" id="5635941">,</span>&nbsp;<span class="num" id="5635943">10</span><span class="op" id="5635945">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5635948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5635951">s</span>&nbsp;<span class="op" id="5635953">+=</span>&nbsp;<span class="string" id="5635956">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5635961">return</span>&nbsp;<span class="ident" id="5635968">s</span><br>
<span class="lineno"></span><span class="op" id="5635970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="5635973">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5636015">type</span>&nbsp;<span class="ident" id="5636020">FuncType</span>&nbsp;<span class="keyword" id="5636029">struct</span>&nbsp;<span class="op" id="5636036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636039">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636051">ReturnType</span>&nbsp;<span class="ident" id="5636062">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636068">ParamType</span>&nbsp;&nbsp;<span class="op" id="5636079">[</span><span class="op" id="5636080">]</span><span class="ident" id="5636081">Type</span><br>
<span class="lineno">230</span><span class="op" id="5636086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5636089">func</span>&nbsp;<span class="op" id="5636094">(</span><span class="ident" id="5636095">t</span>&nbsp;<span class="op" id="5636097">*</span><span class="ident" id="5636098">FuncType</span><span class="op" id="5636106">)</span>&nbsp;<span class="ident" id="5636108">String</span><span class="op" id="5636114">(</span><span class="op" id="5636115">)</span>&nbsp;<span class="builtintype" id="5636117">string</span>&nbsp;<span class="op" id="5636124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636127">s</span>&nbsp;<span class="op" id="5636129">:=</span>&nbsp;<span class="string" id="5636132">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5636141">for</span>&nbsp;<span class="ident" id="5636145">i</span><span class="op" id="5636146">,</span>&nbsp;<span class="ident" id="5636148">t</span>&nbsp;<span class="op" id="5636150">:=</span>&nbsp;<span class="keyword" id="5636153">range</span>&nbsp;<span class="ident" id="5636159">t</span><span class="op" id="5636160">.</span><span class="ident" id="5636161">ParamType</span>&nbsp;<span class="op" id="5636171">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5636175">if</span>&nbsp;<span class="ident" id="5636178">i</span>&nbsp;<span class="op" id="5636180">&gt;</span>&nbsp;<span class="num" id="5636182">0</span>&nbsp;<span class="op" id="5636184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636189">s</span>&nbsp;<span class="op" id="5636191">+=</span>&nbsp;<span class="string" id="5636194">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5636201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636205">s</span>&nbsp;<span class="op" id="5636207">+=</span>&nbsp;<span class="ident" id="5636210">t</span><span class="op" id="5636211">.</span><span class="ident" id="5636212">String</span><span class="op" id="5636218">(</span><span class="op" id="5636219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5636222">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636225">s</span>&nbsp;<span class="op" id="5636227">+=</span>&nbsp;<span class="string" id="5636230">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5636235">if</span>&nbsp;<span class="ident" id="5636238">t</span><span class="op" id="5636239">.</span><span class="ident" id="5636240">ReturnType</span>&nbsp;<span class="op" id="5636251">!=</span>&nbsp;<span class="ident" id="5636254">nil</span>&nbsp;<span class="op" id="5636258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636262">s</span>&nbsp;<span class="op" id="5636264">+=</span>&nbsp;<span class="string" id="5636267">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5636271">+</span>&nbsp;<span class="ident" id="5636273">t</span><span class="op" id="5636274">.</span><span class="ident" id="5636275">ReturnType</span><span class="op" id="5636285">.</span><span class="ident" id="5636286">String</span><span class="op" id="5636292">(</span><span class="op" id="5636293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5636296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5636299">return</span>&nbsp;<span class="ident" id="5636306">s</span><br>
<span class="lineno">245</span><span class="op" id="5636308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5636311">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="5636378">type</span>&nbsp;<span class="ident" id="5636383">DotDotDotType</span>&nbsp;<span class="keyword" id="5636397">struct</span>&nbsp;<span class="op" id="5636404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636407">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="5636418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5636421">func</span>&nbsp;<span class="op" id="5636426">(</span><span class="ident" id="5636427">t</span>&nbsp;<span class="op" id="5636429">*</span><span class="ident" id="5636430">DotDotDotType</span><span class="op" id="5636443">)</span>&nbsp;<span class="ident" id="5636445">String</span><span class="op" id="5636451">(</span><span class="op" id="5636452">)</span>&nbsp;<span class="builtintype" id="5636454">string</span>&nbsp;<span class="op" id="5636461">{</span>&nbsp;<span class="keyword" id="5636463">return</span>&nbsp;<span class="string" id="5636470">&#34;...&#34;</span>&nbsp;<span class="op" id="5636476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5636479">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="5636521">type</span>&nbsp;<span class="ident" id="5636526">TypedefType</span>&nbsp;<span class="keyword" id="5636538">struct</span>&nbsp;<span class="op" id="5636545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636548">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636560">Type</span>&nbsp;<span class="ident" id="5636565">Type</span><br>
<span class="lineno"></span><span class="op" id="5636570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="5636573">func</span>&nbsp;<span class="op" id="5636578">(</span><span class="ident" id="5636579">t</span>&nbsp;<span class="op" id="5636581">*</span><span class="ident" id="5636582">TypedefType</span><span class="op" id="5636593">)</span>&nbsp;<span class="ident" id="5636595">String</span><span class="op" id="5636601">(</span><span class="op" id="5636602">)</span>&nbsp;<span class="builtintype" id="5636604">string</span>&nbsp;<span class="op" id="5636611">{</span>&nbsp;<span class="keyword" id="5636613">return</span>&nbsp;<span class="ident" id="5636620">t</span><span class="op" id="5636621">.</span><span class="ident" id="5636622">Name</span>&nbsp;<span class="op" id="5636627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5636630">func</span>&nbsp;<span class="op" id="5636635">(</span><span class="ident" id="5636636">t</span>&nbsp;<span class="op" id="5636638">*</span><span class="ident" id="5636639">TypedefType</span><span class="op" id="5636650">)</span>&nbsp;<span class="ident" id="5636652">Size</span><span class="op" id="5636656">(</span><span class="op" id="5636657">)</span>&nbsp;<span class="ident" id="5636659">int64</span>&nbsp;<span class="op" id="5636665">{</span>&nbsp;<span class="keyword" id="5636667">return</span>&nbsp;<span class="ident" id="5636674">t</span><span class="op" id="5636675">.</span><span class="ident" id="5636676">Type</span><span class="op" id="5636680">.</span><span class="ident" id="5636681">Size</span><span class="op" id="5636685">(</span><span class="op" id="5636686">)</span>&nbsp;<span class="op" id="5636688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5636691">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="5636757">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5636775">type</span>&nbsp;<span class="ident" id="5636780">typeReader</span>&nbsp;<span class="keyword" id="5636791">interface</span>&nbsp;<span class="op" id="5636801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636804">Seek</span><span class="op" id="5636808">(</span><span class="ident" id="5636809">Offset</span><span class="op" id="5636815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636818">Next</span><span class="op" id="5636822">(</span><span class="op" id="5636823">)</span>&nbsp;<span class="op" id="5636825">(</span><span class="op" id="5636826">*</span><span class="ident" id="5636827">Entry</span><span class="op" id="5636832">,</span>&nbsp;<span class="builtintype" id="5636834">error</span><span class="op" id="5636839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636842">clone</span><span class="op" id="5636847">(</span><span class="op" id="5636848">)</span>&nbsp;<span class="ident" id="5636850">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5636862">offset</span><span class="op" id="5636868">(</span><span class="op" id="5636869">)</span>&nbsp;<span class="ident" id="5636871">Offset</span><br>
<span class="lineno"></span><span class="op" id="5636878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5636881">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5636942">func</span>&nbsp;<span class="op" id="5636947">(</span><span class="ident" id="5636948">d</span>&nbsp;<span class="op" id="5636950">*</span><span class="ident" id="5636951">Data</span><span class="op" id="5636955">)</span>&nbsp;<span class="ident" id="5636957">Type</span><span class="op" id="5636961">(</span><span class="ident" id="5636962">off</span>&nbsp;<span class="ident" id="5636966">Offset</span><span class="op" id="5636972">)</span>&nbsp;<span class="op" id="5636974">(</span><span class="ident" id="5636975">Type</span><span class="op" id="5636979">,</span>&nbsp;<span class="builtintype" id="5636981">error</span><span class="op" id="5636986">)</span>&nbsp;<span class="op" id="5636988">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5636991">return</span>&nbsp;<span class="ident" id="5636998">d</span><span class="op" id="5636999">.</span><span class="ident" id="5637000">readType</span><span class="op" id="5637008">(</span><span class="string" id="5637009">&#34;info&#34;</span><span class="op" id="5637015">,</span>&nbsp;<span class="ident" id="5637017">d</span><span class="op" id="5637018">.</span><span class="ident" id="5637019">Reader</span><span class="op" id="5637025">(</span><span class="op" id="5637026">)</span><span class="op" id="5637027">,</span>&nbsp;<span class="ident" id="5637029">off</span><span class="op" id="5637032">,</span>&nbsp;<span class="ident" id="5637034">d</span><span class="op" id="5637035">.</span><span class="ident" id="5637036">typeCache</span><span class="op" id="5637045">)</span><br>
<span class="lineno"></span><span class="op" id="5637047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5637050">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5637118">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="5637133">func</span>&nbsp;<span class="op" id="5637138">(</span><span class="ident" id="5637139">d</span>&nbsp;<span class="op" id="5637141">*</span><span class="ident" id="5637142">Data</span><span class="op" id="5637146">)</span>&nbsp;<span class="ident" id="5637148">readType</span><span class="op" id="5637156">(</span><span class="ident" id="5637157">name</span>&nbsp;<span class="builtintype" id="5637162">string</span><span class="op" id="5637168">,</span>&nbsp;<span class="ident" id="5637170">r</span>&nbsp;<span class="ident" id="5637172">typeReader</span><span class="op" id="5637182">,</span>&nbsp;<span class="ident" id="5637184">off</span>&nbsp;<span class="ident" id="5637188">Offset</span><span class="op" id="5637194">,</span>&nbsp;<span class="ident" id="5637196">typeCache</span>&nbsp;<span class="keyword" id="5637206">map</span><span class="op" id="5637209">[</span><span class="ident" id="5637210">Offset</span><span class="op" id="5637216">]</span><span class="ident" id="5637217">Type</span><span class="op" id="5637221">)</span>&nbsp;<span class="op" id="5637223">(</span><span class="ident" id="5637224">Type</span><span class="op" id="5637228">,</span>&nbsp;<span class="builtintype" id="5637230">error</span><span class="op" id="5637235">)</span>&nbsp;<span class="op" id="5637237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637240">if</span>&nbsp;<span class="ident" id="5637243">t</span><span class="op" id="5637244">,</span>&nbsp;<span class="ident" id="5637246">ok</span>&nbsp;<span class="op" id="5637249">:=</span>&nbsp;<span class="ident" id="5637252">typeCache</span><span class="op" id="5637261">[</span><span class="ident" id="5637262">off</span><span class="op" id="5637265">]</span><span class="op" id="5637266">;</span>&nbsp;<span class="ident" id="5637268">ok</span>&nbsp;<span class="op" id="5637271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637275">return</span>&nbsp;<span class="ident" id="5637282">t</span><span class="op" id="5637283">,</span>&nbsp;<span class="ident" id="5637285">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5637290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5637293">r</span><span class="op" id="5637294">.</span><span class="ident" id="5637295">Seek</span><span class="op" id="5637299">(</span><span class="ident" id="5637300">off</span><span class="op" id="5637303">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5637306">e</span><span class="op" id="5637307">,</span>&nbsp;<span class="ident" id="5637309">err</span>&nbsp;<span class="op" id="5637313">:=</span>&nbsp;<span class="ident" id="5637316">r</span><span class="op" id="5637317">.</span><span class="ident" id="5637318">Next</span><span class="op" id="5637322">(</span><span class="op" id="5637323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637326">if</span>&nbsp;<span class="ident" id="5637329">err</span>&nbsp;<span class="op" id="5637333">!=</span>&nbsp;<span class="ident" id="5637336">nil</span>&nbsp;<span class="op" id="5637340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637344">return</span>&nbsp;<span class="ident" id="5637351">nil</span><span class="op" id="5637354">,</span>&nbsp;<span class="ident" id="5637356">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5637361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637364">if</span>&nbsp;<span class="ident" id="5637367">e</span>&nbsp;<span class="op" id="5637369">==</span>&nbsp;<span class="ident" id="5637372">nil</span>&nbsp;<span class="op" id="5637376">||</span>&nbsp;<span class="ident" id="5637379">e</span><span class="op" id="5637380">.</span><span class="ident" id="5637381">Offset</span>&nbsp;<span class="op" id="5637388">!=</span>&nbsp;<span class="ident" id="5637391">off</span>&nbsp;<span class="op" id="5637395">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637399">return</span>&nbsp;<span class="ident" id="5637406">nil</span><span class="op" id="5637409">,</span>&nbsp;<span class="ident" id="5637411">DecodeError</span><span class="op" id="5637422">{</span><span class="ident" id="5637423">name</span><span class="op" id="5637427">,</span>&nbsp;<span class="ident" id="5637429">off</span><span class="op" id="5637432">,</span>&nbsp;<span class="string" id="5637434">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="5637453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5637456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637460">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637487">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637537">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637597">var</span>&nbsp;<span class="ident" id="5637601">typ</span>&nbsp;<span class="ident" id="5637605">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5637612">nextDepth</span>&nbsp;<span class="op" id="5637622">:=</span>&nbsp;<span class="num" id="5637625">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637629">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5637675">next</span>&nbsp;<span class="op" id="5637680">:=</span>&nbsp;<span class="keyword" id="5637683">func</span><span class="op" id="5637687">(</span><span class="op" id="5637688">)</span>&nbsp;<span class="op" id="5637690">*</span><span class="ident" id="5637691">Entry</span>&nbsp;<span class="op" id="5637697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637701">if</span>&nbsp;<span class="op" id="5637704">!</span><span class="ident" id="5637705">e</span><span class="op" id="5637706">.</span><span class="ident" id="5637707">Children</span>&nbsp;<span class="op" id="5637716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637721">return</span>&nbsp;<span class="ident" id="5637728">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5637734">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637738">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637772">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637830">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637892">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5637927">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637959">for</span>&nbsp;<span class="op" id="5637963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5637968">kid</span><span class="op" id="5637971">,</span>&nbsp;<span class="ident" id="5637973">err1</span>&nbsp;<span class="op" id="5637978">:=</span>&nbsp;<span class="ident" id="5637981">r</span><span class="op" id="5637982">.</span><span class="ident" id="5637983">Next</span><span class="op" id="5637987">(</span><span class="op" id="5637988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5637993">if</span>&nbsp;<span class="ident" id="5637996">err1</span>&nbsp;<span class="op" id="5638001">!=</span>&nbsp;<span class="ident" id="5638004">nil</span>&nbsp;<span class="op" id="5638008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638014">err</span>&nbsp;<span class="op" id="5638018">=</span>&nbsp;<span class="ident" id="5638020">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638029">return</span>&nbsp;<span class="ident" id="5638036">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638048">if</span>&nbsp;<span class="ident" id="5638051">kid</span>&nbsp;<span class="op" id="5638055">==</span>&nbsp;<span class="ident" id="5638058">nil</span>&nbsp;<span class="op" id="5638062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638068">err</span>&nbsp;<span class="op" id="5638072">=</span>&nbsp;<span class="ident" id="5638074">DecodeError</span><span class="op" id="5638085">{</span><span class="ident" id="5638086">name</span><span class="op" id="5638090">,</span>&nbsp;<span class="ident" id="5638092">r</span><span class="op" id="5638093">.</span><span class="ident" id="5638094">offset</span><span class="op" id="5638100">(</span><span class="op" id="5638101">)</span><span class="op" id="5638102">,</span>&nbsp;<span class="string" id="5638104">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="5638137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638143">return</span>&nbsp;<span class="ident" id="5638150">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638157">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638162">if</span>&nbsp;<span class="ident" id="5638165">kid</span><span class="op" id="5638168">.</span><span class="ident" id="5638169">Tag</span>&nbsp;<span class="op" id="5638173">==</span>&nbsp;<span class="num" id="5638176">0</span>&nbsp;<span class="op" id="5638178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638184">if</span>&nbsp;<span class="ident" id="5638187">nextDepth</span>&nbsp;<span class="op" id="5638197">&gt;</span>&nbsp;<span class="num" id="5638199">0</span>&nbsp;<span class="op" id="5638201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638208">nextDepth</span><span class="op" id="5638217">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638225">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638238">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638244">return</span>&nbsp;<span class="ident" id="5638251">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638263">if</span>&nbsp;<span class="ident" id="5638266">kid</span><span class="op" id="5638269">.</span><span class="ident" id="5638270">Children</span>&nbsp;<span class="op" id="5638279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638285">nextDepth</span><span class="op" id="5638294">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638300">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638305">if</span>&nbsp;<span class="ident" id="5638308">nextDepth</span>&nbsp;<span class="op" id="5638318">&gt;</span>&nbsp;<span class="num" id="5638320">0</span>&nbsp;<span class="op" id="5638322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638328">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638345">return</span>&nbsp;<span class="ident" id="5638352">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638358">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638365">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638417">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638479">typeOf</span>&nbsp;<span class="op" id="5638486">:=</span>&nbsp;<span class="keyword" id="5638489">func</span><span class="op" id="5638493">(</span><span class="ident" id="5638494">e</span>&nbsp;<span class="op" id="5638496">*</span><span class="ident" id="5638497">Entry</span><span class="op" id="5638502">)</span>&nbsp;<span class="ident" id="5638504">Type</span>&nbsp;<span class="op" id="5638509">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5638513">tval</span>&nbsp;<span class="op" id="5638518">:=</span>&nbsp;<span class="ident" id="5638521">e</span><span class="op" id="5638522">.</span><span class="ident" id="5638523">Val</span><span class="op" id="5638526">(</span><span class="ident" id="5638527">AttrType</span><span class="op" id="5638535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638539">var</span>&nbsp;<span class="ident" id="5638543">t</span>&nbsp;<span class="ident" id="5638545">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638552">switch</span>&nbsp;<span class="ident" id="5638559">toff</span>&nbsp;<span class="op" id="5638564">:=</span>&nbsp;<span class="ident" id="5638567">tval</span><span class="op" id="5638571">.</span><span class="op" id="5638572">(</span><span class="keyword" id="5638573">type</span><span class="op" id="5638577">)</span>&nbsp;<span class="op" id="5638579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638583">case</span>&nbsp;<span class="ident" id="5638588">Offset</span><span class="op" id="5638594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638599">if</span>&nbsp;<span class="ident" id="5638602">t</span><span class="op" id="5638603">,</span>&nbsp;<span class="ident" id="5638605">err</span>&nbsp;<span class="op" id="5638609">=</span>&nbsp;<span class="ident" id="5638611">d</span><span class="op" id="5638612">.</span><span class="ident" id="5638613">readType</span><span class="op" id="5638621">(</span><span class="ident" id="5638622">name</span><span class="op" id="5638626">,</span>&nbsp;<span class="ident" id="5638628">r</span><span class="op" id="5638629">.</span><span class="ident" id="5638630">clone</span><span class="op" id="5638635">(</span><span class="op" id="5638636">)</span><span class="op" id="5638637">,</span>&nbsp;<span class="ident" id="5638639">toff</span><span class="op" id="5638643">,</span>&nbsp;<span class="ident" id="5638645">typeCache</span><span class="op" id="5638654">)</span><span class="op" id="5638655">;</span>&nbsp;<span class="ident" id="5638657">err</span>&nbsp;<span class="op" id="5638661">!=</span>&nbsp;<span class="ident" id="5638664">nil</span>&nbsp;<span class="op" id="5638668">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638674">return</span>&nbsp;<span class="ident" id="5638681">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638692">case</span>&nbsp;<span class="ident" id="5638697">uint64</span><span class="op" id="5638703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638708">if</span>&nbsp;<span class="ident" id="5638711">t</span><span class="op" id="5638712">,</span>&nbsp;<span class="ident" id="5638714">err</span>&nbsp;<span class="op" id="5638718">=</span>&nbsp;<span class="ident" id="5638720">d</span><span class="op" id="5638721">.</span><span class="ident" id="5638722">sigToType</span><span class="op" id="5638731">(</span><span class="ident" id="5638732">toff</span><span class="op" id="5638736">)</span><span class="op" id="5638737">;</span>&nbsp;<span class="ident" id="5638739">err</span>&nbsp;<span class="op" id="5638743">!=</span>&nbsp;<span class="ident" id="5638746">nil</span>&nbsp;<span class="op" id="5638750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638756">return</span>&nbsp;<span class="ident" id="5638763">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638774">default</span><span class="op" id="5638781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638786">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638830">return</span>&nbsp;<span class="builtinfunc" id="5638837">new</span><span class="op" id="5638840">(</span><span class="ident" id="5638841">VoidType</span><span class="op" id="5638849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638853">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638857">return</span>&nbsp;<span class="ident" id="5638864">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5638867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638871">switch</span>&nbsp;<span class="ident" id="5638878">e</span><span class="op" id="5638879">.</span><span class="ident" id="5638880">Tag</span>&nbsp;<span class="op" id="5638884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5638887">case</span>&nbsp;<span class="ident" id="5638892">TagArrayType</span><span class="op" id="5638904">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638908">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638956">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5638973">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639006">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639069">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639109">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639124">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639189">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639233">t</span>&nbsp;<span class="op" id="5639235">:=</span>&nbsp;<span class="builtinfunc" id="5639238">new</span><span class="op" id="5639241">(</span><span class="ident" id="5639242">ArrayType</span><span class="op" id="5639251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639255">typ</span>&nbsp;<span class="op" id="5639259">=</span>&nbsp;<span class="ident" id="5639261">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639265">typeCache</span><span class="op" id="5639274">[</span><span class="ident" id="5639275">off</span><span class="op" id="5639278">]</span>&nbsp;<span class="op" id="5639280">=</span>&nbsp;<span class="ident" id="5639282">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639286">if</span>&nbsp;<span class="ident" id="5639289">t</span><span class="op" id="5639290">.</span><span class="ident" id="5639291">Type</span>&nbsp;<span class="op" id="5639296">=</span>&nbsp;<span class="ident" id="5639298">typeOf</span><span class="op" id="5639304">(</span><span class="ident" id="5639305">e</span><span class="op" id="5639306">)</span><span class="op" id="5639307">;</span>&nbsp;<span class="ident" id="5639309">err</span>&nbsp;<span class="op" id="5639313">!=</span>&nbsp;<span class="ident" id="5639316">nil</span>&nbsp;<span class="op" id="5639320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639325">goto</span>&nbsp;<span class="ident" id="5639330">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5639338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639342">t</span><span class="op" id="5639343">.</span><span class="ident" id="5639344">StrideBitSize</span><span class="op" id="5639357">,</span>&nbsp;<span class="ident" id="5639359">_</span>&nbsp;<span class="op" id="5639361">=</span>&nbsp;<span class="ident" id="5639363">e</span><span class="op" id="5639364">.</span><span class="ident" id="5639365">Val</span><span class="op" id="5639368">(</span><span class="ident" id="5639369">AttrStrideSize</span><span class="op" id="5639383">)</span><span class="op" id="5639384">.</span><span class="op" id="5639385">(</span><span class="ident" id="5639386">int64</span><span class="op" id="5639391">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639396">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639424">var</span>&nbsp;<span class="ident" id="5639428">dims</span>&nbsp;<span class="op" id="5639433">[</span><span class="op" id="5639434">]</span><span class="ident" id="5639435">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639443">for</span>&nbsp;<span class="ident" id="5639447">kid</span>&nbsp;<span class="op" id="5639451">:=</span>&nbsp;<span class="ident" id="5639454">next</span><span class="op" id="5639458">(</span><span class="op" id="5639459">)</span><span class="op" id="5639460">;</span>&nbsp;<span class="ident" id="5639462">kid</span>&nbsp;<span class="op" id="5639466">!=</span>&nbsp;<span class="ident" id="5639469">nil</span><span class="op" id="5639472">;</span>&nbsp;<span class="ident" id="5639474">kid</span>&nbsp;<span class="op" id="5639478">=</span>&nbsp;<span class="ident" id="5639480">next</span><span class="op" id="5639484">(</span><span class="op" id="5639485">)</span>&nbsp;<span class="op" id="5639487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639492">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639540">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639585">switch</span>&nbsp;<span class="ident" id="5639592">kid</span><span class="op" id="5639595">.</span><span class="ident" id="5639596">Tag</span>&nbsp;<span class="op" id="5639600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639605">case</span>&nbsp;<span class="ident" id="5639610">TagSubrangeType</span><span class="op" id="5639625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639631">count</span><span class="op" id="5639636">,</span>&nbsp;<span class="ident" id="5639638">ok</span>&nbsp;<span class="op" id="5639641">:=</span>&nbsp;<span class="ident" id="5639644">kid</span><span class="op" id="5639647">.</span><span class="ident" id="5639648">Val</span><span class="op" id="5639651">(</span><span class="ident" id="5639652">AttrCount</span><span class="op" id="5639661">)</span><span class="op" id="5639662">.</span><span class="op" id="5639663">(</span><span class="ident" id="5639664">int64</span><span class="op" id="5639669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639675">if</span>&nbsp;<span class="op" id="5639678">!</span><span class="ident" id="5639679">ok</span>&nbsp;<span class="op" id="5639682">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5639689">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639743">count</span><span class="op" id="5639748">,</span>&nbsp;<span class="ident" id="5639750">ok</span>&nbsp;<span class="op" id="5639753">=</span>&nbsp;<span class="ident" id="5639755">kid</span><span class="op" id="5639758">.</span><span class="ident" id="5639759">Val</span><span class="op" id="5639762">(</span><span class="ident" id="5639763">AttrUpperBound</span><span class="op" id="5639777">)</span><span class="op" id="5639778">.</span><span class="op" id="5639779">(</span><span class="ident" id="5639780">int64</span><span class="op" id="5639785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639792">if</span>&nbsp;<span class="ident" id="5639795">ok</span>&nbsp;<span class="op" id="5639798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639806">count</span><span class="op" id="5639811">++</span>&nbsp;<span class="comment" id="5639814">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5639859">}</span>&nbsp;<span class="keyword" id="5639861">else</span>&nbsp;<span class="keyword" id="5639866">if</span>&nbsp;<span class="builtinfunc" id="5639869">len</span><span class="op" id="5639872">(</span><span class="ident" id="5639873">dims</span><span class="op" id="5639877">)</span>&nbsp;<span class="op" id="5639879">==</span>&nbsp;<span class="num" id="5639882">0</span>&nbsp;<span class="op" id="5639884">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639892">count</span>&nbsp;<span class="op" id="5639898">=</span>&nbsp;<span class="op" id="5639900">-</span><span class="num" id="5639901">1</span>&nbsp;<span class="comment" id="5639903">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5639922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5639928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639934">dims</span>&nbsp;<span class="op" id="5639939">=</span>&nbsp;<span class="builtinfunc" id="5639941">append</span><span class="op" id="5639947">(</span><span class="ident" id="5639948">dims</span><span class="op" id="5639952">,</span>&nbsp;<span class="ident" id="5639954">count</span><span class="op" id="5639959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5639964">case</span>&nbsp;<span class="ident" id="5639969">TagEnumerationType</span><span class="op" id="5639987">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5639993">err</span>&nbsp;<span class="op" id="5639997">=</span>&nbsp;<span class="ident" id="5639999">DecodeError</span><span class="op" id="5640010">{</span><span class="ident" id="5640011">name</span><span class="op" id="5640015">,</span>&nbsp;<span class="ident" id="5640017">kid</span><span class="op" id="5640020">.</span><span class="ident" id="5640021">Offset</span><span class="op" id="5640027">,</span>&nbsp;<span class="string" id="5640029">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="5640076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640082">goto</span>&nbsp;<span class="ident" id="5640087">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5640096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5640100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640104">if</span>&nbsp;<span class="builtinfunc" id="5640107">len</span><span class="op" id="5640110">(</span><span class="ident" id="5640111">dims</span><span class="op" id="5640115">)</span>&nbsp;<span class="op" id="5640117">==</span>&nbsp;<span class="num" id="5640120">0</span>&nbsp;<span class="op" id="5640122">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640127">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640162">dims</span>&nbsp;<span class="op" id="5640167">=</span>&nbsp;<span class="op" id="5640169">[</span><span class="op" id="5640170">]</span><span class="ident" id="5640171">int64</span><span class="op" id="5640176">{</span><span class="op" id="5640177">-</span><span class="num" id="5640178">1</span><span class="op" id="5640179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5640183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640188">t</span><span class="op" id="5640189">.</span><span class="ident" id="5640190">Count</span>&nbsp;<span class="op" id="5640196">=</span>&nbsp;<span class="ident" id="5640198">dims</span><span class="op" id="5640202">[</span><span class="num" id="5640203">0</span><span class="op" id="5640204">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640208">for</span>&nbsp;<span class="ident" id="5640212">i</span>&nbsp;<span class="op" id="5640214">:=</span>&nbsp;<span class="builtinfunc" id="5640217">len</span><span class="op" id="5640220">(</span><span class="ident" id="5640221">dims</span><span class="op" id="5640225">)</span>&nbsp;<span class="op" id="5640227">-</span>&nbsp;<span class="num" id="5640229">1</span><span class="op" id="5640230">;</span>&nbsp;<span class="ident" id="5640232">i</span>&nbsp;<span class="op" id="5640234">&gt;=</span>&nbsp;<span class="num" id="5640237">1</span><span class="op" id="5640238">;</span>&nbsp;<span class="ident" id="5640240">i</span><span class="op" id="5640241">--</span>&nbsp;<span class="op" id="5640244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640249">t</span><span class="op" id="5640250">.</span><span class="ident" id="5640251">Type</span>&nbsp;<span class="op" id="5640256">=</span>&nbsp;<span class="op" id="5640258">&amp;</span><span class="ident" id="5640259">ArrayType</span><span class="op" id="5640268">{</span><span class="ident" id="5640269">Type</span><span class="op" id="5640273">:</span>&nbsp;<span class="ident" id="5640275">t</span><span class="op" id="5640276">.</span><span class="ident" id="5640277">Type</span><span class="op" id="5640281">,</span>&nbsp;<span class="ident" id="5640283">Count</span><span class="op" id="5640288">:</span>&nbsp;<span class="ident" id="5640290">dims</span><span class="op" id="5640294">[</span><span class="ident" id="5640295">i</span><span class="op" id="5640296">]</span><span class="op" id="5640297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5640301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640305">case</span>&nbsp;<span class="ident" id="5640310">TagBaseType</span><span class="op" id="5640321">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640325">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640360">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640377">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640469">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640538">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640590">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5640643">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640736">name</span><span class="op" id="5640740">,</span>&nbsp;<span class="ident" id="5640742">_</span>&nbsp;<span class="op" id="5640744">:=</span>&nbsp;<span class="ident" id="5640747">e</span><span class="op" id="5640748">.</span><span class="ident" id="5640749">Val</span><span class="op" id="5640752">(</span><span class="ident" id="5640753">AttrName</span><span class="op" id="5640761">)</span><span class="op" id="5640762">.</span><span class="op" id="5640763">(</span><span class="builtintype" id="5640764">string</span><span class="op" id="5640770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640774">enc</span><span class="op" id="5640777">,</span>&nbsp;<span class="ident" id="5640779">ok</span>&nbsp;<span class="op" id="5640782">:=</span>&nbsp;<span class="ident" id="5640785">e</span><span class="op" id="5640786">.</span><span class="ident" id="5640787">Val</span><span class="op" id="5640790">(</span><span class="ident" id="5640791">AttrEncoding</span><span class="op" id="5640803">)</span><span class="op" id="5640804">.</span><span class="op" id="5640805">(</span><span class="ident" id="5640806">int64</span><span class="op" id="5640811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640815">if</span>&nbsp;<span class="op" id="5640818">!</span><span class="ident" id="5640819">ok</span>&nbsp;<span class="op" id="5640822">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640827">err</span>&nbsp;<span class="op" id="5640831">=</span>&nbsp;<span class="ident" id="5640833">DecodeError</span><span class="op" id="5640844">{</span><span class="ident" id="5640845">name</span><span class="op" id="5640849">,</span>&nbsp;<span class="ident" id="5640851">e</span><span class="op" id="5640852">.</span><span class="ident" id="5640853">Offset</span><span class="op" id="5640859">,</span>&nbsp;<span class="string" id="5640861">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="5640895">+</span>&nbsp;<span class="ident" id="5640897">name</span><span class="op" id="5640901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640906">goto</span>&nbsp;<span class="ident" id="5640911">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5640919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640923">switch</span>&nbsp;<span class="ident" id="5640930">enc</span>&nbsp;<span class="op" id="5640934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5640938">default</span><span class="op" id="5640945">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5640950">err</span>&nbsp;<span class="op" id="5640954">=</span>&nbsp;<span class="ident" id="5640956">DecodeError</span><span class="op" id="5640967">{</span><span class="ident" id="5640968">name</span><span class="op" id="5640972">,</span>&nbsp;<span class="ident" id="5640974">e</span><span class="op" id="5640975">.</span><span class="ident" id="5640976">Offset</span><span class="op" id="5640982">,</span>&nbsp;<span class="string" id="5640984">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="5641023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641028">goto</span>&nbsp;<span class="ident" id="5641033">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641042">case</span>&nbsp;<span class="ident" id="5641047">encAddress</span><span class="op" id="5641057">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641062">typ</span>&nbsp;<span class="op" id="5641066">=</span>&nbsp;<span class="builtinfunc" id="5641068">new</span><span class="op" id="5641071">(</span><span class="ident" id="5641072">AddrType</span><span class="op" id="5641080">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641084">case</span>&nbsp;<span class="ident" id="5641089">encBoolean</span><span class="op" id="5641099">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641104">typ</span>&nbsp;<span class="op" id="5641108">=</span>&nbsp;<span class="builtinfunc" id="5641110">new</span><span class="op" id="5641113">(</span><span class="ident" id="5641114">BoolType</span><span class="op" id="5641122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641126">case</span>&nbsp;<span class="ident" id="5641131">encComplexFloat</span><span class="op" id="5641146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641151">typ</span>&nbsp;<span class="op" id="5641155">=</span>&nbsp;<span class="builtinfunc" id="5641157">new</span><span class="op" id="5641160">(</span><span class="ident" id="5641161">ComplexType</span><span class="op" id="5641172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641177">if</span>&nbsp;<span class="ident" id="5641180">name</span>&nbsp;<span class="op" id="5641185">==</span>&nbsp;<span class="string" id="5641188">&#34;complex&#34;</span>&nbsp;<span class="op" id="5641198">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5641204">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5641286">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5641359">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641382">switch</span>&nbsp;<span class="ident" id="5641389">byteSize</span><span class="op" id="5641397">,</span>&nbsp;<span class="ident" id="5641399">_</span>&nbsp;<span class="op" id="5641401">:=</span>&nbsp;<span class="ident" id="5641404">e</span><span class="op" id="5641405">.</span><span class="ident" id="5641406">Val</span><span class="op" id="5641409">(</span><span class="ident" id="5641410">AttrByteSize</span><span class="op" id="5641422">)</span><span class="op" id="5641423">.</span><span class="op" id="5641424">(</span><span class="ident" id="5641425">int64</span><span class="op" id="5641430">)</span><span class="op" id="5641431">;</span>&nbsp;<span class="ident" id="5641433">byteSize</span>&nbsp;<span class="op" id="5641442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641448">case</span>&nbsp;<span class="num" id="5641453">8</span><span class="op" id="5641454">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641461">name</span>&nbsp;<span class="op" id="5641466">=</span>&nbsp;<span class="string" id="5641468">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641488">case</span>&nbsp;<span class="num" id="5641493">16</span><span class="op" id="5641495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641502">name</span>&nbsp;<span class="op" id="5641507">=</span>&nbsp;<span class="string" id="5641509">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5641530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5641535">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641539">case</span>&nbsp;<span class="ident" id="5641544">encFloat</span><span class="op" id="5641552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641557">typ</span>&nbsp;<span class="op" id="5641561">=</span>&nbsp;<span class="builtinfunc" id="5641563">new</span><span class="op" id="5641566">(</span><span class="ident" id="5641567">FloatType</span><span class="op" id="5641576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641580">case</span>&nbsp;<span class="ident" id="5641585">encSigned</span><span class="op" id="5641594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641599">typ</span>&nbsp;<span class="op" id="5641603">=</span>&nbsp;<span class="builtinfunc" id="5641605">new</span><span class="op" id="5641608">(</span><span class="ident" id="5641609">IntType</span><span class="op" id="5641616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641620">case</span>&nbsp;<span class="ident" id="5641625">encUnsigned</span><span class="op" id="5641636">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641641">typ</span>&nbsp;<span class="op" id="5641645">=</span>&nbsp;<span class="builtinfunc" id="5641647">new</span><span class="op" id="5641650">(</span><span class="ident" id="5641651">UintType</span><span class="op" id="5641659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641663">case</span>&nbsp;<span class="ident" id="5641668">encSignedChar</span><span class="op" id="5641681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641686">typ</span>&nbsp;<span class="op" id="5641690">=</span>&nbsp;<span class="builtinfunc" id="5641692">new</span><span class="op" id="5641695">(</span><span class="ident" id="5641696">CharType</span><span class="op" id="5641704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641708">case</span>&nbsp;<span class="ident" id="5641713">encUnsignedChar</span><span class="op" id="5641728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641733">typ</span>&nbsp;<span class="op" id="5641737">=</span>&nbsp;<span class="builtinfunc" id="5641739">new</span><span class="op" id="5641742">(</span><span class="ident" id="5641743">UcharType</span><span class="op" id="5641752">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5641756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641760">typeCache</span><span class="op" id="5641769">[</span><span class="ident" id="5641770">off</span><span class="op" id="5641773">]</span>&nbsp;<span class="op" id="5641775">=</span>&nbsp;<span class="ident" id="5641777">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641783">t</span>&nbsp;<span class="op" id="5641785">:=</span>&nbsp;<span class="ident" id="5641788">typ</span><span class="op" id="5641791">.</span><span class="op" id="5641792">(</span><span class="keyword" id="5641793">interface</span>&nbsp;<span class="op" id="5641803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641808">Basic</span><span class="op" id="5641813">(</span><span class="op" id="5641814">)</span>&nbsp;<span class="op" id="5641816">*</span><span class="ident" id="5641817">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5641829">}</span><span class="op" id="5641830">)</span><span class="op" id="5641831">.</span><span class="ident" id="5641832">Basic</span><span class="op" id="5641837">(</span><span class="op" id="5641838">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641842">t</span><span class="op" id="5641843">.</span><span class="ident" id="5641844">Name</span>&nbsp;<span class="op" id="5641849">=</span>&nbsp;<span class="ident" id="5641851">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641858">t</span><span class="op" id="5641859">.</span><span class="ident" id="5641860">BitSize</span><span class="op" id="5641867">,</span>&nbsp;<span class="ident" id="5641869">_</span>&nbsp;<span class="op" id="5641871">=</span>&nbsp;<span class="ident" id="5641873">e</span><span class="op" id="5641874">.</span><span class="ident" id="5641875">Val</span><span class="op" id="5641878">(</span><span class="ident" id="5641879">AttrBitSize</span><span class="op" id="5641890">)</span><span class="op" id="5641891">.</span><span class="op" id="5641892">(</span><span class="ident" id="5641893">int64</span><span class="op" id="5641898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5641902">t</span><span class="op" id="5641903">.</span><span class="ident" id="5641904">BitOffset</span><span class="op" id="5641913">,</span>&nbsp;<span class="ident" id="5641915">_</span>&nbsp;<span class="op" id="5641917">=</span>&nbsp;<span class="ident" id="5641919">e</span><span class="op" id="5641920">.</span><span class="ident" id="5641921">Val</span><span class="op" id="5641924">(</span><span class="ident" id="5641925">AttrBitOffset</span><span class="op" id="5641938">)</span><span class="op" id="5641939">.</span><span class="op" id="5641940">(</span><span class="ident" id="5641941">int64</span><span class="op" id="5641946">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5641950">case</span>&nbsp;<span class="ident" id="5641955">TagClassType</span><span class="op" id="5641967">,</span>&nbsp;<span class="ident" id="5641969">TagStructType</span><span class="op" id="5641982">,</span>&nbsp;<span class="ident" id="5641984">TagUnionType</span><span class="op" id="5641996">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642000">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642056">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642073">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642120">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642160">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642224">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642239">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642278">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642320">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642362">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642396">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642456">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642499">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5642576">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642636">t</span>&nbsp;<span class="op" id="5642638">:=</span>&nbsp;<span class="builtinfunc" id="5642641">new</span><span class="op" id="5642644">(</span><span class="ident" id="5642645">StructType</span><span class="op" id="5642655">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642659">typ</span>&nbsp;<span class="op" id="5642663">=</span>&nbsp;<span class="ident" id="5642665">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642669">typeCache</span><span class="op" id="5642678">[</span><span class="ident" id="5642679">off</span><span class="op" id="5642682">]</span>&nbsp;<span class="op" id="5642684">=</span>&nbsp;<span class="ident" id="5642686">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642690">switch</span>&nbsp;<span class="ident" id="5642697">e</span><span class="op" id="5642698">.</span><span class="ident" id="5642699">Tag</span>&nbsp;<span class="op" id="5642703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642707">case</span>&nbsp;<span class="ident" id="5642712">TagClassType</span><span class="op" id="5642724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642729">t</span><span class="op" id="5642730">.</span><span class="ident" id="5642731">Kind</span>&nbsp;<span class="op" id="5642736">=</span>&nbsp;<span class="string" id="5642738">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642748">case</span>&nbsp;<span class="ident" id="5642753">TagStructType</span><span class="op" id="5642766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642771">t</span><span class="op" id="5642772">.</span><span class="ident" id="5642773">Kind</span>&nbsp;<span class="op" id="5642778">=</span>&nbsp;<span class="string" id="5642780">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642791">case</span>&nbsp;<span class="ident" id="5642796">TagUnionType</span><span class="op" id="5642808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642813">t</span><span class="op" id="5642814">.</span><span class="ident" id="5642815">Kind</span>&nbsp;<span class="op" id="5642820">=</span>&nbsp;<span class="string" id="5642822">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5642832">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642836">t</span><span class="op" id="5642837">.</span><span class="ident" id="5642838">StructName</span><span class="op" id="5642848">,</span>&nbsp;<span class="ident" id="5642850">_</span>&nbsp;<span class="op" id="5642852">=</span>&nbsp;<span class="ident" id="5642854">e</span><span class="op" id="5642855">.</span><span class="ident" id="5642856">Val</span><span class="op" id="5642859">(</span><span class="ident" id="5642860">AttrName</span><span class="op" id="5642868">)</span><span class="op" id="5642869">.</span><span class="op" id="5642870">(</span><span class="builtintype" id="5642871">string</span><span class="op" id="5642877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642881">t</span><span class="op" id="5642882">.</span><span class="ident" id="5642883">Incomplete</span>&nbsp;<span class="op" id="5642894">=</span>&nbsp;<span class="ident" id="5642896">e</span><span class="op" id="5642897">.</span><span class="ident" id="5642898">Val</span><span class="op" id="5642901">(</span><span class="ident" id="5642902">AttrDeclaration</span><span class="op" id="5642917">)</span>&nbsp;<span class="op" id="5642919">!=</span>&nbsp;<span class="ident" id="5642922">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5642928">t</span><span class="op" id="5642929">.</span><span class="ident" id="5642930">Field</span>&nbsp;<span class="op" id="5642936">=</span>&nbsp;<span class="builtinfunc" id="5642938">make</span><span class="op" id="5642942">(</span><span class="op" id="5642943">[</span><span class="op" id="5642944">]</span><span class="op" id="5642945">*</span><span class="ident" id="5642946">StructField</span><span class="op" id="5642957">,</span>&nbsp;<span class="num" id="5642959">0</span><span class="op" id="5642960">,</span>&nbsp;<span class="num" id="5642962">8</span><span class="op" id="5642963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642967">var</span>&nbsp;<span class="ident" id="5642971">lastFieldType</span>&nbsp;<span class="op" id="5642985">*</span><span class="ident" id="5642986">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5642993">var</span>&nbsp;<span class="ident" id="5642997">lastFieldBitOffset</span>&nbsp;<span class="ident" id="5643016">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643024">for</span>&nbsp;<span class="ident" id="5643028">kid</span>&nbsp;<span class="op" id="5643032">:=</span>&nbsp;<span class="ident" id="5643035">next</span><span class="op" id="5643039">(</span><span class="op" id="5643040">)</span><span class="op" id="5643041">;</span>&nbsp;<span class="ident" id="5643043">kid</span>&nbsp;<span class="op" id="5643047">!=</span>&nbsp;<span class="ident" id="5643050">nil</span><span class="op" id="5643053">;</span>&nbsp;<span class="ident" id="5643055">kid</span>&nbsp;<span class="op" id="5643059">=</span>&nbsp;<span class="ident" id="5643061">next</span><span class="op" id="5643065">(</span><span class="op" id="5643066">)</span>&nbsp;<span class="op" id="5643068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643073">if</span>&nbsp;<span class="ident" id="5643076">kid</span><span class="op" id="5643079">.</span><span class="ident" id="5643080">Tag</span>&nbsp;<span class="op" id="5643084">==</span>&nbsp;<span class="ident" id="5643087">TagMember</span>&nbsp;<span class="op" id="5643097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643103">f</span>&nbsp;<span class="op" id="5643105">:=</span>&nbsp;<span class="builtinfunc" id="5643108">new</span><span class="op" id="5643111">(</span><span class="ident" id="5643112">StructField</span><span class="op" id="5643123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643129">if</span>&nbsp;<span class="ident" id="5643132">f</span><span class="op" id="5643133">.</span><span class="ident" id="5643134">Type</span>&nbsp;<span class="op" id="5643139">=</span>&nbsp;<span class="ident" id="5643141">typeOf</span><span class="op" id="5643147">(</span><span class="ident" id="5643148">kid</span><span class="op" id="5643151">)</span><span class="op" id="5643152">;</span>&nbsp;<span class="ident" id="5643154">err</span>&nbsp;<span class="op" id="5643158">!=</span>&nbsp;<span class="ident" id="5643161">nil</span>&nbsp;<span class="op" id="5643165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643172">goto</span>&nbsp;<span class="ident" id="5643177">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5643187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643193">switch</span>&nbsp;<span class="ident" id="5643200">loc</span>&nbsp;<span class="op" id="5643204">:=</span>&nbsp;<span class="ident" id="5643207">kid</span><span class="op" id="5643210">.</span><span class="ident" id="5643211">Val</span><span class="op" id="5643214">(</span><span class="ident" id="5643215">AttrDataMemberLoc</span><span class="op" id="5643232">)</span><span class="op" id="5643233">.</span><span class="op" id="5643234">(</span><span class="keyword" id="5643235">type</span><span class="op" id="5643239">)</span>&nbsp;<span class="op" id="5643241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643247">case</span>&nbsp;<span class="op" id="5643252">[</span><span class="op" id="5643253">]</span><span class="builtintype" id="5643254">byte</span><span class="op" id="5643258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5643265">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5643312">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643350">b</span>&nbsp;<span class="op" id="5643352">:=</span>&nbsp;<span class="ident" id="5643355">makeBuf</span><span class="op" id="5643362">(</span><span class="ident" id="5643363">d</span><span class="op" id="5643364">,</span>&nbsp;<span class="ident" id="5643366">unknownFormat</span><span class="op" id="5643379">{</span><span class="op" id="5643380">}</span><span class="op" id="5643381">,</span>&nbsp;<span class="string" id="5643383">&#34;location&#34;</span><span class="op" id="5643393">,</span>&nbsp;<span class="num" id="5643395">0</span><span class="op" id="5643396">,</span>&nbsp;<span class="ident" id="5643398">loc</span><span class="op" id="5643401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643408">if</span>&nbsp;<span class="ident" id="5643411">b</span><span class="op" id="5643412">.</span><span class="builtintype" id="5643413">uint8</span><span class="op" id="5643418">(</span><span class="op" id="5643419">)</span>&nbsp;<span class="op" id="5643421">!=</span>&nbsp;<span class="ident" id="5643424">opPlusUconst</span>&nbsp;<span class="op" id="5643437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643445">err</span>&nbsp;<span class="op" id="5643449">=</span>&nbsp;<span class="ident" id="5643451">DecodeError</span><span class="op" id="5643462">{</span><span class="ident" id="5643463">name</span><span class="op" id="5643467">,</span>&nbsp;<span class="ident" id="5643469">kid</span><span class="op" id="5643472">.</span><span class="ident" id="5643473">Offset</span><span class="op" id="5643479">,</span>&nbsp;<span class="string" id="5643481">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="5643500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643508">goto</span>&nbsp;<span class="ident" id="5643513">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5643524">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643531">f</span><span class="op" id="5643532">.</span><span class="ident" id="5643533">ByteOffset</span>&nbsp;<span class="op" id="5643544">=</span>&nbsp;<span class="ident" id="5643546">int64</span><span class="op" id="5643551">(</span><span class="ident" id="5643552">b</span><span class="op" id="5643553">.</span><span class="builtintype" id="5643554">uint</span><span class="op" id="5643558">(</span><span class="op" id="5643559">)</span><span class="op" id="5643560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643567">if</span>&nbsp;<span class="ident" id="5643570">b</span><span class="op" id="5643571">.</span><span class="ident" id="5643572">err</span>&nbsp;<span class="op" id="5643576">!=</span>&nbsp;<span class="ident" id="5643579">nil</span>&nbsp;<span class="op" id="5643583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643591">err</span>&nbsp;<span class="op" id="5643595">=</span>&nbsp;<span class="ident" id="5643597">b</span><span class="op" id="5643598">.</span><span class="ident" id="5643599">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643609">goto</span>&nbsp;<span class="ident" id="5643614">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5643625">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643631">case</span>&nbsp;<span class="ident" id="5643636">int64</span><span class="op" id="5643641">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643648">f</span><span class="op" id="5643649">.</span><span class="ident" id="5643650">ByteOffset</span>&nbsp;<span class="op" id="5643661">=</span>&nbsp;<span class="ident" id="5643663">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5643671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643678">haveBitOffset</span>&nbsp;<span class="op" id="5643692">:=</span>&nbsp;<span class="builtintype" id="5643695">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643705">f</span><span class="op" id="5643706">.</span><span class="ident" id="5643707">Name</span><span class="op" id="5643711">,</span>&nbsp;<span class="ident" id="5643713">_</span>&nbsp;<span class="op" id="5643715">=</span>&nbsp;<span class="ident" id="5643717">kid</span><span class="op" id="5643720">.</span><span class="ident" id="5643721">Val</span><span class="op" id="5643724">(</span><span class="ident" id="5643725">AttrName</span><span class="op" id="5643733">)</span><span class="op" id="5643734">.</span><span class="op" id="5643735">(</span><span class="builtintype" id="5643736">string</span><span class="op" id="5643742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643748">f</span><span class="op" id="5643749">.</span><span class="ident" id="5643750">ByteSize</span><span class="op" id="5643758">,</span>&nbsp;<span class="ident" id="5643760">_</span>&nbsp;<span class="op" id="5643762">=</span>&nbsp;<span class="ident" id="5643764">kid</span><span class="op" id="5643767">.</span><span class="ident" id="5643768">Val</span><span class="op" id="5643771">(</span><span class="ident" id="5643772">AttrByteSize</span><span class="op" id="5643784">)</span><span class="op" id="5643785">.</span><span class="op" id="5643786">(</span><span class="ident" id="5643787">int64</span><span class="op" id="5643792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643798">f</span><span class="op" id="5643799">.</span><span class="ident" id="5643800">BitOffset</span><span class="op" id="5643809">,</span>&nbsp;<span class="ident" id="5643811">haveBitOffset</span>&nbsp;<span class="op" id="5643825">=</span>&nbsp;<span class="ident" id="5643827">kid</span><span class="op" id="5643830">.</span><span class="ident" id="5643831">Val</span><span class="op" id="5643834">(</span><span class="ident" id="5643835">AttrBitOffset</span><span class="op" id="5643848">)</span><span class="op" id="5643849">.</span><span class="op" id="5643850">(</span><span class="ident" id="5643851">int64</span><span class="op" id="5643856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643862">f</span><span class="op" id="5643863">.</span><span class="ident" id="5643864">BitSize</span><span class="op" id="5643871">,</span>&nbsp;<span class="ident" id="5643873">_</span>&nbsp;<span class="op" id="5643875">=</span>&nbsp;<span class="ident" id="5643877">kid</span><span class="op" id="5643880">.</span><span class="ident" id="5643881">Val</span><span class="op" id="5643884">(</span><span class="ident" id="5643885">AttrBitSize</span><span class="op" id="5643896">)</span><span class="op" id="5643897">.</span><span class="op" id="5643898">(</span><span class="ident" id="5643899">int64</span><span class="op" id="5643904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643910">t</span><span class="op" id="5643911">.</span><span class="ident" id="5643912">Field</span>&nbsp;<span class="op" id="5643918">=</span>&nbsp;<span class="builtinfunc" id="5643920">append</span><span class="op" id="5643926">(</span><span class="ident" id="5643927">t</span><span class="op" id="5643928">.</span><span class="ident" id="5643929">Field</span><span class="op" id="5643934">,</span>&nbsp;<span class="ident" id="5643936">f</span><span class="op" id="5643937">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643944">bito</span>&nbsp;<span class="op" id="5643949">:=</span>&nbsp;<span class="ident" id="5643952">f</span><span class="op" id="5643953">.</span><span class="ident" id="5643954">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5643968">if</span>&nbsp;<span class="op" id="5643971">!</span><span class="ident" id="5643972">haveBitOffset</span>&nbsp;<span class="op" id="5643986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5643993">bito</span>&nbsp;<span class="op" id="5643998">=</span>&nbsp;<span class="ident" id="5644000">f</span><span class="op" id="5644001">.</span><span class="ident" id="5644002">ByteOffset</span>&nbsp;<span class="op" id="5644013">*</span>&nbsp;<span class="num" id="5644015">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644021">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644027">if</span>&nbsp;<span class="ident" id="5644030">bito</span>&nbsp;<span class="op" id="5644035">==</span>&nbsp;<span class="ident" id="5644038">lastFieldBitOffset</span>&nbsp;<span class="op" id="5644057">&amp;&amp;</span>&nbsp;<span class="ident" id="5644060">t</span><span class="op" id="5644061">.</span><span class="ident" id="5644062">Kind</span>&nbsp;<span class="op" id="5644067">!=</span>&nbsp;<span class="string" id="5644070">&#34;union&#34;</span>&nbsp;<span class="op" id="5644078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644085">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644139">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644215">zeroArray</span><span class="op" id="5644224">(</span><span class="ident" id="5644225">lastFieldType</span><span class="op" id="5644238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644244">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644250">lastFieldType</span>&nbsp;<span class="op" id="5644264">=</span>&nbsp;<span class="op" id="5644266">&amp;</span><span class="ident" id="5644267">f</span><span class="op" id="5644268">.</span><span class="ident" id="5644269">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644278">lastFieldBitOffset</span>&nbsp;<span class="op" id="5644297">=</span>&nbsp;<span class="ident" id="5644299">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644315">if</span>&nbsp;<span class="ident" id="5644318">t</span><span class="op" id="5644319">.</span><span class="ident" id="5644320">Kind</span>&nbsp;<span class="op" id="5644325">!=</span>&nbsp;<span class="string" id="5644328">&#34;union&#34;</span>&nbsp;<span class="op" id="5644336">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644341">b</span><span class="op" id="5644342">,</span>&nbsp;<span class="ident" id="5644344">ok</span>&nbsp;<span class="op" id="5644347">:=</span>&nbsp;<span class="ident" id="5644350">e</span><span class="op" id="5644351">.</span><span class="ident" id="5644352">Val</span><span class="op" id="5644355">(</span><span class="ident" id="5644356">AttrByteSize</span><span class="op" id="5644368">)</span><span class="op" id="5644369">.</span><span class="op" id="5644370">(</span><span class="ident" id="5644371">int64</span><span class="op" id="5644376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644381">if</span>&nbsp;<span class="ident" id="5644384">ok</span>&nbsp;<span class="op" id="5644387">&amp;&amp;</span>&nbsp;<span class="ident" id="5644390">b</span><span class="op" id="5644391">*</span><span class="num" id="5644392">8</span>&nbsp;<span class="op" id="5644394">==</span>&nbsp;<span class="ident" id="5644397">lastFieldBitOffset</span>&nbsp;<span class="op" id="5644416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644422">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644480">zeroArray</span><span class="op" id="5644489">(</span><span class="ident" id="5644490">lastFieldType</span><span class="op" id="5644503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644508">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644516">case</span>&nbsp;<span class="ident" id="5644521">TagConstType</span><span class="op" id="5644533">,</span>&nbsp;<span class="ident" id="5644535">TagVolatileType</span><span class="op" id="5644550">,</span>&nbsp;<span class="ident" id="5644552">TagRestrictType</span><span class="op" id="5644567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644571">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644607">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644624">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644647">t</span>&nbsp;<span class="op" id="5644649">:=</span>&nbsp;<span class="builtinfunc" id="5644652">new</span><span class="op" id="5644655">(</span><span class="ident" id="5644656">QualType</span><span class="op" id="5644664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644668">typ</span>&nbsp;<span class="op" id="5644672">=</span>&nbsp;<span class="ident" id="5644674">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644678">typeCache</span><span class="op" id="5644687">[</span><span class="ident" id="5644688">off</span><span class="op" id="5644691">]</span>&nbsp;<span class="op" id="5644693">=</span>&nbsp;<span class="ident" id="5644695">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644699">if</span>&nbsp;<span class="ident" id="5644702">t</span><span class="op" id="5644703">.</span><span class="ident" id="5644704">Type</span>&nbsp;<span class="op" id="5644709">=</span>&nbsp;<span class="ident" id="5644711">typeOf</span><span class="op" id="5644717">(</span><span class="ident" id="5644718">e</span><span class="op" id="5644719">)</span><span class="op" id="5644720">;</span>&nbsp;<span class="ident" id="5644722">err</span>&nbsp;<span class="op" id="5644726">!=</span>&nbsp;<span class="ident" id="5644729">nil</span>&nbsp;<span class="op" id="5644733">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644738">goto</span>&nbsp;<span class="ident" id="5644743">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644755">switch</span>&nbsp;<span class="ident" id="5644762">e</span><span class="op" id="5644763">.</span><span class="ident" id="5644764">Tag</span>&nbsp;<span class="op" id="5644768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644772">case</span>&nbsp;<span class="ident" id="5644777">TagConstType</span><span class="op" id="5644789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644794">t</span><span class="op" id="5644795">.</span><span class="ident" id="5644796">Qual</span>&nbsp;<span class="op" id="5644801">=</span>&nbsp;<span class="string" id="5644803">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644813">case</span>&nbsp;<span class="ident" id="5644818">TagRestrictType</span><span class="op" id="5644833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644838">t</span><span class="op" id="5644839">.</span><span class="ident" id="5644840">Qual</span>&nbsp;<span class="op" id="5644845">=</span>&nbsp;<span class="string" id="5644847">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644860">case</span>&nbsp;<span class="ident" id="5644865">TagVolatileType</span><span class="op" id="5644880">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5644885">t</span><span class="op" id="5644886">.</span><span class="ident" id="5644887">Qual</span>&nbsp;<span class="op" id="5644892">=</span>&nbsp;<span class="string" id="5644894">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5644907">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5644911">case</span>&nbsp;<span class="ident" id="5644916">TagEnumerationType</span><span class="op" id="5644934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644938">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644977">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5644994">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645026">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645087">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645102">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645122">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645155">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645195">t</span>&nbsp;<span class="op" id="5645197">:=</span>&nbsp;<span class="builtinfunc" id="5645200">new</span><span class="op" id="5645203">(</span><span class="ident" id="5645204">EnumType</span><span class="op" id="5645212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645216">typ</span>&nbsp;<span class="op" id="5645220">=</span>&nbsp;<span class="ident" id="5645222">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645226">typeCache</span><span class="op" id="5645235">[</span><span class="ident" id="5645236">off</span><span class="op" id="5645239">]</span>&nbsp;<span class="op" id="5645241">=</span>&nbsp;<span class="ident" id="5645243">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645247">t</span><span class="op" id="5645248">.</span><span class="ident" id="5645249">EnumName</span><span class="op" id="5645257">,</span>&nbsp;<span class="ident" id="5645259">_</span>&nbsp;<span class="op" id="5645261">=</span>&nbsp;<span class="ident" id="5645263">e</span><span class="op" id="5645264">.</span><span class="ident" id="5645265">Val</span><span class="op" id="5645268">(</span><span class="ident" id="5645269">AttrName</span><span class="op" id="5645277">)</span><span class="op" id="5645278">.</span><span class="op" id="5645279">(</span><span class="builtintype" id="5645280">string</span><span class="op" id="5645286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645290">t</span><span class="op" id="5645291">.</span><span class="ident" id="5645292">Val</span>&nbsp;<span class="op" id="5645296">=</span>&nbsp;<span class="builtinfunc" id="5645298">make</span><span class="op" id="5645302">(</span><span class="op" id="5645303">[</span><span class="op" id="5645304">]</span><span class="op" id="5645305">*</span><span class="ident" id="5645306">EnumValue</span><span class="op" id="5645315">,</span>&nbsp;<span class="num" id="5645317">0</span><span class="op" id="5645318">,</span>&nbsp;<span class="num" id="5645320">8</span><span class="op" id="5645321">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645325">for</span>&nbsp;<span class="ident" id="5645329">kid</span>&nbsp;<span class="op" id="5645333">:=</span>&nbsp;<span class="ident" id="5645336">next</span><span class="op" id="5645340">(</span><span class="op" id="5645341">)</span><span class="op" id="5645342">;</span>&nbsp;<span class="ident" id="5645344">kid</span>&nbsp;<span class="op" id="5645348">!=</span>&nbsp;<span class="ident" id="5645351">nil</span><span class="op" id="5645354">;</span>&nbsp;<span class="ident" id="5645356">kid</span>&nbsp;<span class="op" id="5645360">=</span>&nbsp;<span class="ident" id="5645362">next</span><span class="op" id="5645366">(</span><span class="op" id="5645367">)</span>&nbsp;<span class="op" id="5645369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645374">if</span>&nbsp;<span class="ident" id="5645377">kid</span><span class="op" id="5645380">.</span><span class="ident" id="5645381">Tag</span>&nbsp;<span class="op" id="5645385">==</span>&nbsp;<span class="ident" id="5645388">TagEnumerator</span>&nbsp;<span class="op" id="5645402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645408">f</span>&nbsp;<span class="op" id="5645410">:=</span>&nbsp;<span class="builtinfunc" id="5645413">new</span><span class="op" id="5645416">(</span><span class="ident" id="5645417">EnumValue</span><span class="op" id="5645426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645432">f</span><span class="op" id="5645433">.</span><span class="ident" id="5645434">Name</span><span class="op" id="5645438">,</span>&nbsp;<span class="ident" id="5645440">_</span>&nbsp;<span class="op" id="5645442">=</span>&nbsp;<span class="ident" id="5645444">kid</span><span class="op" id="5645447">.</span><span class="ident" id="5645448">Val</span><span class="op" id="5645451">(</span><span class="ident" id="5645452">AttrName</span><span class="op" id="5645460">)</span><span class="op" id="5645461">.</span><span class="op" id="5645462">(</span><span class="builtintype" id="5645463">string</span><span class="op" id="5645469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645475">f</span><span class="op" id="5645476">.</span><span class="ident" id="5645477">Val</span><span class="op" id="5645480">,</span>&nbsp;<span class="ident" id="5645482">_</span>&nbsp;<span class="op" id="5645484">=</span>&nbsp;<span class="ident" id="5645486">kid</span><span class="op" id="5645489">.</span><span class="ident" id="5645490">Val</span><span class="op" id="5645493">(</span><span class="ident" id="5645494">AttrConstValue</span><span class="op" id="5645508">)</span><span class="op" id="5645509">.</span><span class="op" id="5645510">(</span><span class="ident" id="5645511">int64</span><span class="op" id="5645516">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645522">n</span>&nbsp;<span class="op" id="5645524">:=</span>&nbsp;<span class="builtinfunc" id="5645527">len</span><span class="op" id="5645530">(</span><span class="ident" id="5645531">t</span><span class="op" id="5645532">.</span><span class="ident" id="5645533">Val</span><span class="op" id="5645536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645542">if</span>&nbsp;<span class="ident" id="5645545">n</span>&nbsp;<span class="op" id="5645547">&gt;=</span>&nbsp;<span class="builtinfunc" id="5645550">cap</span><span class="op" id="5645553">(</span><span class="ident" id="5645554">t</span><span class="op" id="5645555">.</span><span class="ident" id="5645556">Val</span><span class="op" id="5645559">)</span>&nbsp;<span class="op" id="5645561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645568">val</span>&nbsp;<span class="op" id="5645572">:=</span>&nbsp;<span class="builtinfunc" id="5645575">make</span><span class="op" id="5645579">(</span><span class="op" id="5645580">[</span><span class="op" id="5645581">]</span><span class="op" id="5645582">*</span><span class="ident" id="5645583">EnumValue</span><span class="op" id="5645592">,</span>&nbsp;<span class="ident" id="5645594">n</span><span class="op" id="5645595">,</span>&nbsp;<span class="ident" id="5645597">n</span><span class="op" id="5645598">*</span><span class="num" id="5645599">2</span><span class="op" id="5645600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5645607">copy</span><span class="op" id="5645611">(</span><span class="ident" id="5645612">val</span><span class="op" id="5645615">,</span>&nbsp;<span class="ident" id="5645617">t</span><span class="op" id="5645618">.</span><span class="ident" id="5645619">Val</span><span class="op" id="5645622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645629">t</span><span class="op" id="5645630">.</span><span class="ident" id="5645631">Val</span>&nbsp;<span class="op" id="5645635">=</span>&nbsp;<span class="ident" id="5645637">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5645645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645651">t</span><span class="op" id="5645652">.</span><span class="ident" id="5645653">Val</span>&nbsp;<span class="op" id="5645657">=</span>&nbsp;<span class="ident" id="5645659">t</span><span class="op" id="5645660">.</span><span class="ident" id="5645661">Val</span><span class="op" id="5645664">[</span><span class="num" id="5645665">0</span>&nbsp;<span class="op" id="5645667">:</span>&nbsp;<span class="ident" id="5645669">n</span><span class="op" id="5645670">+</span><span class="num" id="5645671">1</span><span class="op" id="5645672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645678">t</span><span class="op" id="5645679">.</span><span class="ident" id="5645680">Val</span><span class="op" id="5645683">[</span><span class="ident" id="5645684">n</span><span class="op" id="5645685">]</span>&nbsp;<span class="op" id="5645687">=</span>&nbsp;<span class="ident" id="5645689">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5645694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5645698">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645702">case</span>&nbsp;<span class="ident" id="5645707">TagPointerType</span><span class="op" id="5645721">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645725">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645761">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645778">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5645840">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645884">t</span>&nbsp;<span class="op" id="5645886">:=</span>&nbsp;<span class="builtinfunc" id="5645889">new</span><span class="op" id="5645892">(</span><span class="ident" id="5645893">PtrType</span><span class="op" id="5645900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645904">typ</span>&nbsp;<span class="op" id="5645908">=</span>&nbsp;<span class="ident" id="5645910">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645914">typeCache</span><span class="op" id="5645923">[</span><span class="ident" id="5645924">off</span><span class="op" id="5645927">]</span>&nbsp;<span class="op" id="5645929">=</span>&nbsp;<span class="ident" id="5645931">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645935">if</span>&nbsp;<span class="ident" id="5645938">e</span><span class="op" id="5645939">.</span><span class="ident" id="5645940">Val</span><span class="op" id="5645943">(</span><span class="ident" id="5645944">AttrType</span><span class="op" id="5645952">)</span>&nbsp;<span class="op" id="5645954">==</span>&nbsp;<span class="ident" id="5645957">nil</span>&nbsp;<span class="op" id="5645961">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5645966">t</span><span class="op" id="5645967">.</span><span class="ident" id="5645968">Type</span>&nbsp;<span class="op" id="5645973">=</span>&nbsp;<span class="op" id="5645975">&amp;</span><span class="ident" id="5645976">VoidType</span><span class="op" id="5645984">{</span><span class="op" id="5645985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5645990">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5645998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646002">t</span><span class="op" id="5646003">.</span><span class="ident" id="5646004">Type</span>&nbsp;<span class="op" id="5646009">=</span>&nbsp;<span class="ident" id="5646011">typeOf</span><span class="op" id="5646017">(</span><span class="ident" id="5646018">e</span><span class="op" id="5646019">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646023">case</span>&nbsp;<span class="ident" id="5646028">TagSubroutineType</span><span class="op" id="5646045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646049">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646089">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646106">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646149">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646196">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646257">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646272">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646313">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646347">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646387">t</span>&nbsp;<span class="op" id="5646389">:=</span>&nbsp;<span class="builtinfunc" id="5646392">new</span><span class="op" id="5646395">(</span><span class="ident" id="5646396">FuncType</span><span class="op" id="5646404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646408">typ</span>&nbsp;<span class="op" id="5646412">=</span>&nbsp;<span class="ident" id="5646414">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646418">typeCache</span><span class="op" id="5646427">[</span><span class="ident" id="5646428">off</span><span class="op" id="5646431">]</span>&nbsp;<span class="op" id="5646433">=</span>&nbsp;<span class="ident" id="5646435">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646439">if</span>&nbsp;<span class="ident" id="5646442">t</span><span class="op" id="5646443">.</span><span class="ident" id="5646444">ReturnType</span>&nbsp;<span class="op" id="5646455">=</span>&nbsp;<span class="ident" id="5646457">typeOf</span><span class="op" id="5646463">(</span><span class="ident" id="5646464">e</span><span class="op" id="5646465">)</span><span class="op" id="5646466">;</span>&nbsp;<span class="ident" id="5646468">err</span>&nbsp;<span class="op" id="5646472">!=</span>&nbsp;<span class="ident" id="5646475">nil</span>&nbsp;<span class="op" id="5646479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646484">goto</span>&nbsp;<span class="ident" id="5646489">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5646497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646501">t</span><span class="op" id="5646502">.</span><span class="ident" id="5646503">ParamType</span>&nbsp;<span class="op" id="5646513">=</span>&nbsp;<span class="builtinfunc" id="5646515">make</span><span class="op" id="5646519">(</span><span class="op" id="5646520">[</span><span class="op" id="5646521">]</span><span class="ident" id="5646522">Type</span><span class="op" id="5646526">,</span>&nbsp;<span class="num" id="5646528">0</span><span class="op" id="5646529">,</span>&nbsp;<span class="num" id="5646531">8</span><span class="op" id="5646532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646536">for</span>&nbsp;<span class="ident" id="5646540">kid</span>&nbsp;<span class="op" id="5646544">:=</span>&nbsp;<span class="ident" id="5646547">next</span><span class="op" id="5646551">(</span><span class="op" id="5646552">)</span><span class="op" id="5646553">;</span>&nbsp;<span class="ident" id="5646555">kid</span>&nbsp;<span class="op" id="5646559">!=</span>&nbsp;<span class="ident" id="5646562">nil</span><span class="op" id="5646565">;</span>&nbsp;<span class="ident" id="5646567">kid</span>&nbsp;<span class="op" id="5646571">=</span>&nbsp;<span class="ident" id="5646573">next</span><span class="op" id="5646577">(</span><span class="op" id="5646578">)</span>&nbsp;<span class="op" id="5646580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646585">var</span>&nbsp;<span class="ident" id="5646589">tkid</span>&nbsp;<span class="ident" id="5646594">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646602">switch</span>&nbsp;<span class="ident" id="5646609">kid</span><span class="op" id="5646612">.</span><span class="ident" id="5646613">Tag</span>&nbsp;<span class="op" id="5646617">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646622">default</span><span class="op" id="5646629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646635">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646647">case</span>&nbsp;<span class="ident" id="5646652">TagFormalParameter</span><span class="op" id="5646670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646676">if</span>&nbsp;<span class="ident" id="5646679">tkid</span>&nbsp;<span class="op" id="5646684">=</span>&nbsp;<span class="ident" id="5646686">typeOf</span><span class="op" id="5646692">(</span><span class="ident" id="5646693">kid</span><span class="op" id="5646696">)</span><span class="op" id="5646697">;</span>&nbsp;<span class="ident" id="5646699">err</span>&nbsp;<span class="op" id="5646703">!=</span>&nbsp;<span class="ident" id="5646706">nil</span>&nbsp;<span class="op" id="5646710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646717">goto</span>&nbsp;<span class="ident" id="5646722">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5646732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646737">case</span>&nbsp;<span class="ident" id="5646742">TagUnspecifiedParameters</span><span class="op" id="5646766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646772">tkid</span>&nbsp;<span class="op" id="5646777">=</span>&nbsp;<span class="op" id="5646779">&amp;</span><span class="ident" id="5646780">DotDotDotType</span><span class="op" id="5646793">{</span><span class="op" id="5646794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5646799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646804">t</span><span class="op" id="5646805">.</span><span class="ident" id="5646806">ParamType</span>&nbsp;<span class="op" id="5646816">=</span>&nbsp;<span class="builtinfunc" id="5646818">append</span><span class="op" id="5646824">(</span><span class="ident" id="5646825">t</span><span class="op" id="5646826">.</span><span class="ident" id="5646827">ParamType</span><span class="op" id="5646836">,</span>&nbsp;<span class="ident" id="5646838">tkid</span><span class="op" id="5646842">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5646846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5646850">case</span>&nbsp;<span class="ident" id="5646855">TagTypedef</span><span class="op" id="5646865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646869">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646899">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646916">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5646947">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5646989">t</span>&nbsp;<span class="op" id="5646991">:=</span>&nbsp;<span class="builtinfunc" id="5646994">new</span><span class="op" id="5646997">(</span><span class="ident" id="5646998">TypedefType</span><span class="op" id="5647009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647013">typ</span>&nbsp;<span class="op" id="5647017">=</span>&nbsp;<span class="ident" id="5647019">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647023">typeCache</span><span class="op" id="5647032">[</span><span class="ident" id="5647033">off</span><span class="op" id="5647036">]</span>&nbsp;<span class="op" id="5647038">=</span>&nbsp;<span class="ident" id="5647040">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647044">t</span><span class="op" id="5647045">.</span><span class="ident" id="5647046">Name</span><span class="op" id="5647050">,</span>&nbsp;<span class="ident" id="5647052">_</span>&nbsp;<span class="op" id="5647054">=</span>&nbsp;<span class="ident" id="5647056">e</span><span class="op" id="5647057">.</span><span class="ident" id="5647058">Val</span><span class="op" id="5647061">(</span><span class="ident" id="5647062">AttrName</span><span class="op" id="5647070">)</span><span class="op" id="5647071">.</span><span class="op" id="5647072">(</span><span class="builtintype" id="5647073">string</span><span class="op" id="5647079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647083">t</span><span class="op" id="5647084">.</span><span class="ident" id="5647085">Type</span>&nbsp;<span class="op" id="5647090">=</span>&nbsp;<span class="ident" id="5647092">typeOf</span><span class="op" id="5647098">(</span><span class="ident" id="5647099">e</span><span class="op" id="5647100">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647104">case</span>&nbsp;<span class="ident" id="5647109">TagUnspecifiedType</span><span class="op" id="5647127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647131">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647170">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647187">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647207">t</span>&nbsp;<span class="op" id="5647209">:=</span>&nbsp;<span class="builtinfunc" id="5647212">new</span><span class="op" id="5647215">(</span><span class="ident" id="5647216">UnspecifiedType</span><span class="op" id="5647231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647235">typ</span>&nbsp;<span class="op" id="5647239">=</span>&nbsp;<span class="ident" id="5647241">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647245">typeCache</span><span class="op" id="5647254">[</span><span class="ident" id="5647255">off</span><span class="op" id="5647258">]</span>&nbsp;<span class="op" id="5647260">=</span>&nbsp;<span class="ident" id="5647262">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647266">t</span><span class="op" id="5647267">.</span><span class="ident" id="5647268">Name</span><span class="op" id="5647272">,</span>&nbsp;<span class="ident" id="5647274">_</span>&nbsp;<span class="op" id="5647276">=</span>&nbsp;<span class="ident" id="5647278">e</span><span class="op" id="5647279">.</span><span class="ident" id="5647280">Val</span><span class="op" id="5647283">(</span><span class="ident" id="5647284">AttrName</span><span class="op" id="5647292">)</span><span class="op" id="5647293">.</span><span class="op" id="5647294">(</span><span class="builtintype" id="5647295">string</span><span class="op" id="5647301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647308">if</span>&nbsp;<span class="ident" id="5647311">err</span>&nbsp;<span class="op" id="5647315">!=</span>&nbsp;<span class="ident" id="5647318">nil</span>&nbsp;<span class="op" id="5647322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647326">goto</span>&nbsp;<span class="ident" id="5647331">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647346">b</span><span class="op" id="5647347">,</span>&nbsp;<span class="ident" id="5647349">ok</span>&nbsp;<span class="op" id="5647352">:=</span>&nbsp;<span class="ident" id="5647355">e</span><span class="op" id="5647356">.</span><span class="ident" id="5647357">Val</span><span class="op" id="5647360">(</span><span class="ident" id="5647361">AttrByteSize</span><span class="op" id="5647373">)</span><span class="op" id="5647374">.</span><span class="op" id="5647375">(</span><span class="ident" id="5647376">int64</span><span class="op" id="5647381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647385">if</span>&nbsp;<span class="op" id="5647388">!</span><span class="ident" id="5647389">ok</span>&nbsp;<span class="op" id="5647392">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647397">b</span>&nbsp;<span class="op" id="5647399">=</span>&nbsp;<span class="op" id="5647401">-</span><span class="num" id="5647402">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647410">typ</span><span class="op" id="5647413">.</span><span class="ident" id="5647414">Common</span><span class="op" id="5647420">(</span><span class="op" id="5647421">)</span><span class="op" id="5647422">.</span><span class="ident" id="5647423">ByteSize</span>&nbsp;<span class="op" id="5647432">=</span>&nbsp;<span class="ident" id="5647434">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647440">return</span>&nbsp;<span class="ident" id="5647447">typ</span><span class="op" id="5647450">,</span>&nbsp;<span class="ident" id="5647452">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="5647457">Error</span><span class="op" id="5647462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647465">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647520">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647575">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5647609">delete</span><span class="op" id="5647615">(</span><span class="ident" id="5647616">typeCache</span><span class="op" id="5647625">,</span>&nbsp;<span class="ident" id="5647627">off</span><span class="op" id="5647630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647633">return</span>&nbsp;<span class="ident" id="5647640">nil</span><span class="op" id="5647643">,</span>&nbsp;<span class="ident" id="5647645">err</span><br>
<span class="lineno"></span><span class="op" id="5647649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5647652">func</span>&nbsp;<span class="ident" id="5647657">zeroArray</span><span class="op" id="5647666">(</span><span class="ident" id="5647667">t</span>&nbsp;<span class="op" id="5647669">*</span><span class="ident" id="5647670">Type</span><span class="op" id="5647674">)</span>&nbsp;<span class="op" id="5647676">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647679">if</span>&nbsp;<span class="ident" id="5647682">t</span>&nbsp;<span class="op" id="5647684">==</span>&nbsp;<span class="ident" id="5647687">nil</span>&nbsp;<span class="op" id="5647691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647695">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647706">at</span><span class="op" id="5647708">,</span>&nbsp;<span class="ident" id="5647710">ok</span>&nbsp;<span class="op" id="5647713">:=</span>&nbsp;<span class="op" id="5647716">(</span><span class="op" id="5647717">*</span><span class="ident" id="5647718">t</span><span class="op" id="5647719">)</span><span class="op" id="5647720">.</span><span class="op" id="5647721">(</span><span class="op" id="5647722">*</span><span class="ident" id="5647723">ArrayType</span><span class="op" id="5647732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647735">if</span>&nbsp;<span class="op" id="5647738">!</span><span class="ident" id="5647739">ok</span>&nbsp;<span class="op" id="5647742">||</span>&nbsp;<span class="ident" id="5647745">at</span><span class="op" id="5647747">.</span><span class="ident" id="5647748">Type</span><span class="op" id="5647752">.</span><span class="ident" id="5647753">Size</span><span class="op" id="5647757">(</span><span class="op" id="5647758">)</span>&nbsp;<span class="op" id="5647760">==</span>&nbsp;<span class="num" id="5647763">0</span>&nbsp;<span class="op" id="5647765">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5647769">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5647780">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647829">tt</span>&nbsp;<span class="op" id="5647832">:=</span>&nbsp;<span class="op" id="5647835">*</span><span class="ident" id="5647836">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5647840">tt</span><span class="op" id="5647842">.</span><span class="ident" id="5647843">Count</span>&nbsp;<span class="op" id="5647849">=</span>&nbsp;<span class="num" id="5647851">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5647854">*</span><span class="ident" id="5647855">t</span>&nbsp;<span class="op" id="5647857">=</span>&nbsp;<span class="op" id="5647859">&amp;</span><span class="ident" id="5647860">tt</span><br>
<span class="lineno"></span><span class="op" id="5647863">}</span>
</div>
</body>
</html>
