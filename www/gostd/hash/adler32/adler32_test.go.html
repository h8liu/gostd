<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html" class="current">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8179470">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8179525">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8179579">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8179630">package</span>&nbsp;<span class="ident" id="8179638">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8179647">import</span>&nbsp;<span class="op" id="8179654">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8179657">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8179668">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8179678">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8179681">var</span>&nbsp;<span class="ident" id="8179685">golden</span>&nbsp;<span class="op" id="8179692">=</span>&nbsp;<span class="op" id="8179694">[</span><span class="op" id="8179695">]</span><span class="keyword" id="8179696">struct</span>&nbsp;<span class="op" id="8179703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8179706">out</span>&nbsp;<span class="builtintype" id="8179710">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8179718">in</span>&nbsp;&nbsp;<span class="builtintype" id="8179722">string</span><br>
<span class="lineno">15</span><span class="op" id="8179729">}</span><span class="op" id="8179730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179733">{</span><span class="num" id="8179734">0x00000001</span><span class="op" id="8179744">,</span>&nbsp;<span class="string" id="8179746">&#34;&#34;</span><span class="op" id="8179748">}</span><span class="op" id="8179749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179752">{</span><span class="num" id="8179753">0x00620062</span><span class="op" id="8179763">,</span>&nbsp;<span class="string" id="8179765">&#34;a&#34;</span><span class="op" id="8179768">}</span><span class="op" id="8179769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179772">{</span><span class="num" id="8179773">0x012600c4</span><span class="op" id="8179783">,</span>&nbsp;<span class="string" id="8179785">&#34;ab&#34;</span><span class="op" id="8179789">}</span><span class="op" id="8179790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179793">{</span><span class="num" id="8179794">0x024d0127</span><span class="op" id="8179804">,</span>&nbsp;<span class="string" id="8179806">&#34;abc&#34;</span><span class="op" id="8179811">}</span><span class="op" id="8179812">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179815">{</span><span class="num" id="8179816">0x03d8018b</span><span class="op" id="8179826">,</span>&nbsp;<span class="string" id="8179828">&#34;abcd&#34;</span><span class="op" id="8179834">}</span><span class="op" id="8179835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179838">{</span><span class="num" id="8179839">0x05c801f0</span><span class="op" id="8179849">,</span>&nbsp;<span class="string" id="8179851">&#34;abcde&#34;</span><span class="op" id="8179858">}</span><span class="op" id="8179859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179862">{</span><span class="num" id="8179863">0x081e0256</span><span class="op" id="8179873">,</span>&nbsp;<span class="string" id="8179875">&#34;abcdef&#34;</span><span class="op" id="8179883">}</span><span class="op" id="8179884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179887">{</span><span class="num" id="8179888">0x0adb02bd</span><span class="op" id="8179898">,</span>&nbsp;<span class="string" id="8179900">&#34;abcdefg&#34;</span><span class="op" id="8179909">}</span><span class="op" id="8179910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179913">{</span><span class="num" id="8179914">0x0e000325</span><span class="op" id="8179924">,</span>&nbsp;<span class="string" id="8179926">&#34;abcdefgh&#34;</span><span class="op" id="8179936">}</span><span class="op" id="8179937">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179940">{</span><span class="num" id="8179941">0x118e038e</span><span class="op" id="8179951">,</span>&nbsp;<span class="string" id="8179953">&#34;abcdefghi&#34;</span><span class="op" id="8179964">}</span><span class="op" id="8179965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179968">{</span><span class="num" id="8179969">0x158603f8</span><span class="op" id="8179979">,</span>&nbsp;<span class="string" id="8179981">&#34;abcdefghij&#34;</span><span class="op" id="8179993">}</span><span class="op" id="8179994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8179997">{</span><span class="num" id="8179998">0x3f090f02</span><span class="op" id="8180008">,</span>&nbsp;<span class="string" id="8180010">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="8180053">}</span><span class="op" id="8180054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180057">{</span><span class="num" id="8180058">0x46d81477</span><span class="op" id="8180068">,</span>&nbsp;<span class="string" id="8180070">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="8180129">}</span><span class="op" id="8180130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180133">{</span><span class="num" id="8180134">0x40ee0ee1</span><span class="op" id="8180144">,</span>&nbsp;<span class="string" id="8180146">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="8180190">}</span><span class="op" id="8180191">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180194">{</span><span class="num" id="8180195">0x16661315</span><span class="op" id="8180205">,</span>&nbsp;<span class="string" id="8180207">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="8180266">}</span><span class="op" id="8180267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180270">{</span><span class="num" id="8180271">0x5b2e1480</span><span class="op" id="8180281">,</span>&nbsp;<span class="string" id="8180283">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="8180343">}</span><span class="op" id="8180344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180347">{</span><span class="num" id="8180348">0x8c3c09ea</span><span class="op" id="8180358">,</span>&nbsp;<span class="string" id="8180360">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="8180389">}</span><span class="op" id="8180390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180393">{</span><span class="num" id="8180394">0x45ac18fd</span><span class="op" id="8180404">,</span>&nbsp;<span class="string" id="8180406">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="8180475">}</span><span class="op" id="8180476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180479">{</span><span class="num" id="8180480">0x53c61462</span><span class="op" id="8180490">,</span>&nbsp;<span class="string" id="8180492">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="8180551">}</span><span class="op" id="8180552">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180555">{</span><span class="num" id="8180556">0x7e511e63</span><span class="op" id="8180566">,</span>&nbsp;<span class="string" id="8180568">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="8180658">}</span><span class="op" id="8180659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180662">{</span><span class="num" id="8180663">0xe4801a6a</span><span class="op" id="8180673">,</span>&nbsp;<span class="string" id="8180675">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="8180752">}</span><span class="op" id="8180753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180756">{</span><span class="num" id="8180757">0x61b507df</span><span class="op" id="8180767">,</span>&nbsp;<span class="string" id="8180769">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="8180795">}</span><span class="op" id="8180796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180799">{</span><span class="num" id="8180800">0xb8631171</span><span class="op" id="8180810">,</span>&nbsp;<span class="string" id="8180812">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="8180863">}</span><span class="op" id="8180864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180867">{</span><span class="num" id="8180868">0x8b5e1904</span><span class="op" id="8180878">,</span>&nbsp;<span class="string" id="8180880">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="8180954">}</span><span class="op" id="8180955">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8180958">{</span><span class="num" id="8180959">0x7cc6102b</span><span class="op" id="8180969">,</span>&nbsp;<span class="string" id="8180971">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="8181019">}</span><span class="op" id="8181020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181023">{</span><span class="num" id="8181024">0x700318e7</span><span class="op" id="8181034">,</span>&nbsp;<span class="string" id="8181036">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="8181108">}</span><span class="op" id="8181109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181112">{</span><span class="num" id="8181113">0x1e601747</span><span class="op" id="8181123">,</span>&nbsp;<span class="string" id="8181125">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="8181195">}</span><span class="op" id="8181196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181199">{</span><span class="num" id="8181200">0xb55b0b09</span><span class="op" id="8181210">,</span>&nbsp;<span class="string" id="8181212">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="8181246">}</span><span class="op" id="8181247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181250">{</span><span class="num" id="8181251">0x39111dd0</span><span class="op" id="8181261">,</span>&nbsp;<span class="string" id="8181263">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="8181353">}</span><span class="op" id="8181354">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181357">{</span><span class="num" id="8181358">0x91dd304f</span><span class="op" id="8181368">,</span>&nbsp;<span class="string" id="8181370">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="8181504">}</span><span class="op" id="8181505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181508">{</span><span class="num" id="8181509">0x2e5d1316</span><span class="op" id="8181519">,</span>&nbsp;<span class="string" id="8181521">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="8181579">}</span><span class="op" id="8181580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181583">{</span><span class="num" id="8181584">0xd0201df6</span><span class="op" id="8181594">,</span>&nbsp;<span class="string" id="8181596">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="8181679">}</span><span class="op" id="8181680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181683">{</span><span class="num" id="8181684">0x211297c8</span><span class="op" id="8181694">,</span>&nbsp;<span class="ident" id="8181696">strings</span><span class="op" id="8181703">.</span><span class="ident" id="8181704">Repeat</span><span class="op" id="8181710">(</span><span class="string" id="8181711">&#34;\xff&#34;</span><span class="op" id="8181717">,</span>&nbsp;<span class="num" id="8181719">5548</span><span class="op" id="8181723">)</span>&nbsp;<span class="op" id="8181725">+</span>&nbsp;<span class="string" id="8181727">&#34;8&#34;</span><span class="op" id="8181730">}</span><span class="op" id="8181731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181734">{</span><span class="num" id="8181735">0xbaa198c8</span><span class="op" id="8181745">,</span>&nbsp;<span class="ident" id="8181747">strings</span><span class="op" id="8181754">.</span><span class="ident" id="8181755">Repeat</span><span class="op" id="8181761">(</span><span class="string" id="8181762">&#34;\xff&#34;</span><span class="op" id="8181768">,</span>&nbsp;<span class="num" id="8181770">5549</span><span class="op" id="8181774">)</span>&nbsp;<span class="op" id="8181776">+</span>&nbsp;<span class="string" id="8181778">&#34;9&#34;</span><span class="op" id="8181781">}</span><span class="op" id="8181782">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181785">{</span><span class="num" id="8181786">0x553499be</span><span class="op" id="8181796">,</span>&nbsp;<span class="ident" id="8181798">strings</span><span class="op" id="8181805">.</span><span class="ident" id="8181806">Repeat</span><span class="op" id="8181812">(</span><span class="string" id="8181813">&#34;\xff&#34;</span><span class="op" id="8181819">,</span>&nbsp;<span class="num" id="8181821">5550</span><span class="op" id="8181825">)</span>&nbsp;<span class="op" id="8181827">+</span>&nbsp;<span class="string" id="8181829">&#34;0&#34;</span><span class="op" id="8181832">}</span><span class="op" id="8181833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181836">{</span><span class="num" id="8181837">0xf0c19abe</span><span class="op" id="8181847">,</span>&nbsp;<span class="ident" id="8181849">strings</span><span class="op" id="8181856">.</span><span class="ident" id="8181857">Repeat</span><span class="op" id="8181863">(</span><span class="string" id="8181864">&#34;\xff&#34;</span><span class="op" id="8181870">,</span>&nbsp;<span class="num" id="8181872">5551</span><span class="op" id="8181876">)</span>&nbsp;<span class="op" id="8181878">+</span>&nbsp;<span class="string" id="8181880">&#34;1&#34;</span><span class="op" id="8181883">}</span><span class="op" id="8181884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181887">{</span><span class="num" id="8181888">0x8d5c9bbe</span><span class="op" id="8181898">,</span>&nbsp;<span class="ident" id="8181900">strings</span><span class="op" id="8181907">.</span><span class="ident" id="8181908">Repeat</span><span class="op" id="8181914">(</span><span class="string" id="8181915">&#34;\xff&#34;</span><span class="op" id="8181921">,</span>&nbsp;<span class="num" id="8181923">5552</span><span class="op" id="8181927">)</span>&nbsp;<span class="op" id="8181929">+</span>&nbsp;<span class="string" id="8181931">&#34;2&#34;</span><span class="op" id="8181934">}</span><span class="op" id="8181935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181938">{</span><span class="num" id="8181939">0x2af69cbe</span><span class="op" id="8181949">,</span>&nbsp;<span class="ident" id="8181951">strings</span><span class="op" id="8181958">.</span><span class="ident" id="8181959">Repeat</span><span class="op" id="8181965">(</span><span class="string" id="8181966">&#34;\xff&#34;</span><span class="op" id="8181972">,</span>&nbsp;<span class="num" id="8181974">5553</span><span class="op" id="8181978">)</span>&nbsp;<span class="op" id="8181980">+</span>&nbsp;<span class="string" id="8181982">&#34;3&#34;</span><span class="op" id="8181985">}</span><span class="op" id="8181986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8181989">{</span><span class="num" id="8181990">0xc9809dbe</span><span class="op" id="8182000">,</span>&nbsp;<span class="ident" id="8182002">strings</span><span class="op" id="8182009">.</span><span class="ident" id="8182010">Repeat</span><span class="op" id="8182016">(</span><span class="string" id="8182017">&#34;\xff&#34;</span><span class="op" id="8182023">,</span>&nbsp;<span class="num" id="8182025">5554</span><span class="op" id="8182029">)</span>&nbsp;<span class="op" id="8182031">+</span>&nbsp;<span class="string" id="8182033">&#34;4&#34;</span><span class="op" id="8182036">}</span><span class="op" id="8182037">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182040">{</span><span class="num" id="8182041">0x69189ebe</span><span class="op" id="8182051">,</span>&nbsp;<span class="ident" id="8182053">strings</span><span class="op" id="8182060">.</span><span class="ident" id="8182061">Repeat</span><span class="op" id="8182067">(</span><span class="string" id="8182068">&#34;\xff&#34;</span><span class="op" id="8182074">,</span>&nbsp;<span class="num" id="8182076">5555</span><span class="op" id="8182080">)</span>&nbsp;<span class="op" id="8182082">+</span>&nbsp;<span class="string" id="8182084">&#34;5&#34;</span><span class="op" id="8182087">}</span><span class="op" id="8182088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182091">{</span><span class="num" id="8182092">0x86af0001</span><span class="op" id="8182102">,</span>&nbsp;<span class="ident" id="8182104">strings</span><span class="op" id="8182111">.</span><span class="ident" id="8182112">Repeat</span><span class="op" id="8182118">(</span><span class="string" id="8182119">&#34;\x00&#34;</span><span class="op" id="8182125">,</span>&nbsp;<span class="num" id="8182127">1e5</span><span class="op" id="8182130">)</span><span class="op" id="8182131">}</span><span class="op" id="8182132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182135">{</span><span class="num" id="8182136">0x79660b4d</span><span class="op" id="8182146">,</span>&nbsp;<span class="ident" id="8182148">strings</span><span class="op" id="8182155">.</span><span class="ident" id="8182156">Repeat</span><span class="op" id="8182162">(</span><span class="string" id="8182163">&#34;a&#34;</span><span class="op" id="8182166">,</span>&nbsp;<span class="num" id="8182168">1e5</span><span class="op" id="8182171">)</span><span class="op" id="8182172">}</span><span class="op" id="8182173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182176">{</span><span class="num" id="8182177">0x110588ee</span><span class="op" id="8182187">,</span>&nbsp;<span class="ident" id="8182189">strings</span><span class="op" id="8182196">.</span><span class="ident" id="8182197">Repeat</span><span class="op" id="8182203">(</span><span class="string" id="8182204">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="8182232">,</span>&nbsp;<span class="num" id="8182234">1e4</span><span class="op" id="8182237">)</span><span class="op" id="8182238">}</span><span class="op" id="8182239">,</span><br>
<span class="lineno"></span><span class="op" id="8182241">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="8182244">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="8182318">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="8182385">func</span>&nbsp;<span class="ident" id="8182390">checksum</span><span class="op" id="8182398">(</span><span class="ident" id="8182399">p</span>&nbsp;<span class="op" id="8182401">[</span><span class="op" id="8182402">]</span><span class="builtintype" id="8182403">byte</span><span class="op" id="8182407">)</span>&nbsp;<span class="builtintype" id="8182409">uint32</span>&nbsp;<span class="op" id="8182416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182419">s1</span><span class="op" id="8182421">,</span>&nbsp;<span class="ident" id="8182423">s2</span>&nbsp;<span class="op" id="8182426">:=</span>&nbsp;<span class="builtintype" id="8182429">uint32</span><span class="op" id="8182435">(</span><span class="num" id="8182436">1</span><span class="op" id="8182437">)</span><span class="op" id="8182438">,</span>&nbsp;<span class="builtintype" id="8182440">uint32</span><span class="op" id="8182446">(</span><span class="num" id="8182447">0</span><span class="op" id="8182448">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182451">for</span>&nbsp;<span class="ident" id="8182455">_</span><span class="op" id="8182456">,</span>&nbsp;<span class="ident" id="8182458">x</span>&nbsp;<span class="op" id="8182460">:=</span>&nbsp;<span class="keyword" id="8182463">range</span>&nbsp;<span class="ident" id="8182469">p</span>&nbsp;<span class="op" id="8182471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182475">s1</span>&nbsp;<span class="op" id="8182478">=</span>&nbsp;<span class="op" id="8182480">(</span><span class="ident" id="8182481">s1</span>&nbsp;<span class="op" id="8182484">+</span>&nbsp;<span class="builtintype" id="8182486">uint32</span><span class="op" id="8182492">(</span><span class="ident" id="8182493">x</span><span class="op" id="8182494">)</span><span class="op" id="8182495">)</span>&nbsp;<span class="op" id="8182497">%</span>&nbsp;<span class="ident" id="8182499">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182505">s2</span>&nbsp;<span class="op" id="8182508">=</span>&nbsp;<span class="op" id="8182510">(</span><span class="ident" id="8182511">s2</span>&nbsp;<span class="op" id="8182514">+</span>&nbsp;<span class="ident" id="8182516">s1</span><span class="op" id="8182518">)</span>&nbsp;<span class="op" id="8182520">%</span>&nbsp;<span class="ident" id="8182522">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182530">return</span>&nbsp;<span class="ident" id="8182537">s2</span><span class="op" id="8182539">&lt;&lt;</span><span class="num" id="8182541">16</span>&nbsp;<span class="op" id="8182544">|</span>&nbsp;<span class="ident" id="8182546">s1</span><br>
<span class="lineno">70</span><span class="op" id="8182549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8182552">func</span>&nbsp;<span class="ident" id="8182557">TestGolden</span><span class="op" id="8182567">(</span><span class="ident" id="8182568">t</span>&nbsp;<span class="op" id="8182570">*</span><span class="ident" id="8182571">testing</span><span class="op" id="8182578">.</span><span class="ident" id="8182579">T</span><span class="op" id="8182580">)</span>&nbsp;<span class="op" id="8182582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182585">for</span>&nbsp;<span class="ident" id="8182589">_</span><span class="op" id="8182590">,</span>&nbsp;<span class="ident" id="8182592">g</span>&nbsp;<span class="op" id="8182594">:=</span>&nbsp;<span class="keyword" id="8182597">range</span>&nbsp;<span class="ident" id="8182603">golden</span>&nbsp;<span class="op" id="8182610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182614">in</span>&nbsp;<span class="op" id="8182617">:=</span>&nbsp;<span class="ident" id="8182620">g</span><span class="op" id="8182621">.</span><span class="ident" id="8182622">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182627">if</span>&nbsp;<span class="builtinfunc" id="8182630">len</span><span class="op" id="8182633">(</span><span class="ident" id="8182634">in</span><span class="op" id="8182636">)</span>&nbsp;<span class="op" id="8182638">&gt;</span>&nbsp;<span class="num" id="8182640">220</span>&nbsp;<span class="op" id="8182644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182649">in</span>&nbsp;<span class="op" id="8182652">=</span>&nbsp;<span class="ident" id="8182654">in</span><span class="op" id="8182656">[</span><span class="op" id="8182657">:</span><span class="num" id="8182658">100</span><span class="op" id="8182661">]</span>&nbsp;<span class="op" id="8182663">+</span>&nbsp;<span class="string" id="8182665">&#34;...&#34;</span>&nbsp;<span class="op" id="8182671">+</span>&nbsp;<span class="ident" id="8182673">in</span><span class="op" id="8182675">[</span><span class="builtinfunc" id="8182676">len</span><span class="op" id="8182679">(</span><span class="ident" id="8182680">in</span><span class="op" id="8182682">)</span><span class="op" id="8182683">-</span><span class="num" id="8182684">100</span><span class="op" id="8182687">:</span><span class="op" id="8182688">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182696">p</span>&nbsp;<span class="op" id="8182698">:=</span>&nbsp;<span class="op" id="8182701">[</span><span class="op" id="8182702">]</span><span class="builtintype" id="8182703">byte</span><span class="op" id="8182707">(</span><span class="ident" id="8182708">g</span><span class="op" id="8182709">.</span><span class="ident" id="8182710">in</span><span class="op" id="8182712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182716">if</span>&nbsp;<span class="ident" id="8182719">got</span>&nbsp;<span class="op" id="8182723">:=</span>&nbsp;<span class="ident" id="8182726">checksum</span><span class="op" id="8182734">(</span><span class="ident" id="8182735">p</span><span class="op" id="8182736">)</span><span class="op" id="8182737">;</span>&nbsp;<span class="ident" id="8182739">got</span>&nbsp;<span class="op" id="8182743">!=</span>&nbsp;<span class="ident" id="8182746">g</span><span class="op" id="8182747">.</span><span class="ident" id="8182748">out</span>&nbsp;<span class="op" id="8182752">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182757">t</span><span class="op" id="8182758">.</span><span class="ident" id="8182759">Errorf</span><span class="op" id="8182765">(</span><span class="string" id="8182766">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8182820">,</span>&nbsp;<span class="ident" id="8182822">in</span><span class="op" id="8182824">,</span>&nbsp;<span class="ident" id="8182826">got</span><span class="op" id="8182829">,</span>&nbsp;<span class="ident" id="8182831">g</span><span class="op" id="8182832">.</span><span class="ident" id="8182833">out</span><span class="op" id="8182836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182841">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182856">if</span>&nbsp;<span class="ident" id="8182859">got</span>&nbsp;<span class="op" id="8182863">:=</span>&nbsp;<span class="ident" id="8182866">Checksum</span><span class="op" id="8182874">(</span><span class="ident" id="8182875">p</span><span class="op" id="8182876">)</span><span class="op" id="8182877">;</span>&nbsp;<span class="ident" id="8182879">got</span>&nbsp;<span class="op" id="8182883">!=</span>&nbsp;<span class="ident" id="8182886">g</span><span class="op" id="8182887">.</span><span class="ident" id="8182888">out</span>&nbsp;<span class="op" id="8182892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8182897">t</span><span class="op" id="8182898">.</span><span class="ident" id="8182899">Errorf</span><span class="op" id="8182905">(</span><span class="string" id="8182906">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8182963">,</span>&nbsp;<span class="ident" id="8182965">in</span><span class="op" id="8182967">,</span>&nbsp;<span class="ident" id="8182969">got</span><span class="op" id="8182972">,</span>&nbsp;<span class="ident" id="8182974">g</span><span class="op" id="8182975">.</span><span class="ident" id="8182976">out</span><span class="op" id="8182979">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8182984">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8182998">}</span><br>
<span class="lineno"></span><span class="op" id="8183000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8183003">func</span>&nbsp;<span class="ident" id="8183008">BenchmarkAdler32KB</span><span class="op" id="8183026">(</span><span class="ident" id="8183027">b</span>&nbsp;<span class="op" id="8183029">*</span><span class="ident" id="8183030">testing</span><span class="op" id="8183037">.</span><span class="ident" id="8183038">B</span><span class="op" id="8183039">)</span>&nbsp;<span class="op" id="8183041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183044">b</span><span class="op" id="8183045">.</span><span class="ident" id="8183046">SetBytes</span><span class="op" id="8183054">(</span><span class="num" id="8183055">1024</span><span class="op" id="8183059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183062">data</span>&nbsp;<span class="op" id="8183067">:=</span>&nbsp;<span class="builtinfunc" id="8183070">make</span><span class="op" id="8183074">(</span><span class="op" id="8183075">[</span><span class="op" id="8183076">]</span><span class="builtintype" id="8183077">byte</span><span class="op" id="8183081">,</span>&nbsp;<span class="num" id="8183083">1024</span><span class="op" id="8183087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8183090">for</span>&nbsp;<span class="ident" id="8183094">i</span>&nbsp;<span class="op" id="8183096">:=</span>&nbsp;<span class="keyword" id="8183099">range</span>&nbsp;<span class="ident" id="8183105">data</span>&nbsp;<span class="op" id="8183110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183114">data</span><span class="op" id="8183118">[</span><span class="ident" id="8183119">i</span><span class="op" id="8183120">]</span>&nbsp;<span class="op" id="8183122">=</span>&nbsp;<span class="builtintype" id="8183124">byte</span><span class="op" id="8183128">(</span><span class="ident" id="8183129">i</span><span class="op" id="8183130">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8183133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183136">h</span>&nbsp;<span class="op" id="8183138">:=</span>&nbsp;<span class="ident" id="8183141">New</span><span class="op" id="8183144">(</span><span class="op" id="8183145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183148">in</span>&nbsp;<span class="op" id="8183151">:=</span>&nbsp;<span class="builtinfunc" id="8183154">make</span><span class="op" id="8183158">(</span><span class="op" id="8183159">[</span><span class="op" id="8183160">]</span><span class="builtintype" id="8183161">byte</span><span class="op" id="8183165">,</span>&nbsp;<span class="num" id="8183167">0</span><span class="op" id="8183168">,</span>&nbsp;<span class="ident" id="8183170">h</span><span class="op" id="8183171">.</span><span class="ident" id="8183172">Size</span><span class="op" id="8183176">(</span><span class="op" id="8183177">)</span><span class="op" id="8183178">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183182">b</span><span class="op" id="8183183">.</span><span class="ident" id="8183184">ResetTimer</span><span class="op" id="8183194">(</span><span class="op" id="8183195">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8183198">for</span>&nbsp;<span class="ident" id="8183202">i</span>&nbsp;<span class="op" id="8183204">:=</span>&nbsp;<span class="num" id="8183207">0</span><span class="op" id="8183208">;</span>&nbsp;<span class="ident" id="8183210">i</span>&nbsp;<span class="op" id="8183212">&lt;</span>&nbsp;<span class="ident" id="8183214">b</span><span class="op" id="8183215">.</span><span class="ident" id="8183216">N</span><span class="op" id="8183217">;</span>&nbsp;<span class="ident" id="8183219">i</span><span class="op" id="8183220">++</span>&nbsp;<span class="op" id="8183223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183227">h</span><span class="op" id="8183228">.</span><span class="ident" id="8183229">Reset</span><span class="op" id="8183234">(</span><span class="op" id="8183235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183239">h</span><span class="op" id="8183240">.</span><span class="ident" id="8183241">Write</span><span class="op" id="8183246">(</span><span class="ident" id="8183247">data</span><span class="op" id="8183251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8183255">h</span><span class="op" id="8183256">.</span><span class="ident" id="8183257">Sum</span><span class="op" id="8183260">(</span><span class="ident" id="8183261">in</span><span class="op" id="8183263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8183266">}</span><br>
<span class="lineno">105</span><span class="op" id="8183268">}</span>
</div>
</body>
</html>
