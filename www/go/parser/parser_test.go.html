<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8626238">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8626293">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8626347">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8626398">package</span>&nbsp;<span class="ident" id="8626406">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8626414">import</span>&nbsp;<span class="op" id="8626421">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626424">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626433">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626440">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626450">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626462">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626468">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626479">&#34;testing&#34;</span><br>
<span class="lineno">15</span><span class="op" id="8626489">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8626492">var</span>&nbsp;<span class="ident" id="8626496">fset</span>&nbsp;<span class="op" id="8626501">=</span>&nbsp;<span class="ident" id="8626503"><a href="/go/parser/parser_test.go.html#8626450">token</a></span><span class="op" id="8626508">.</span><span class="ident" id="8626509">NewFileSet</span><span class="op" id="8626519">(</span><span class="op" id="8626520">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8626523">var</span>&nbsp;<span class="ident" id="8626527">validFiles</span>&nbsp;<span class="op" id="8626538">=</span>&nbsp;<span class="op" id="8626540">[</span><span class="op" id="8626541">]</span><span class="builtintype" id="8626542">string</span><span class="op" id="8626548">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626551">&#34;parser.go&#34;</span><span class="op" id="8626562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626565">&#34;parser_test.go&#34;</span><span class="op" id="8626581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626584">&#34;error_test.go&#34;</span><span class="op" id="8626599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8626602">&#34;short_test.go&#34;</span><span class="op" id="8626617">,</span><br>
<span class="lineno"></span><span class="op" id="8626619">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8626622">func</span>&nbsp;<span class="ident" id="8626627">TestParse</span><span class="op" id="8626636">(</span><span class="ident" id="8626637">t</span>&nbsp;<span class="op" id="8626639">*</span><span class="ident" id="8626640"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8626647">.</span><span class="ident" id="8626648">T</span><span class="op" id="8626649">)</span>&nbsp;<span class="op" id="8626651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626654">for</span>&nbsp;<span class="ident" id="8626658">_</span><span class="op" id="8626659">,</span>&nbsp;<span class="ident" id="8626661">filename</span>&nbsp;<span class="op" id="8626670">:=</span>&nbsp;<span class="keyword" id="8626673">range</span>&nbsp;<span class="ident" id="8626679"><a href="/go/parser/parser_test.go.html#8626527">validFiles</a></span>&nbsp;<span class="op" id="8626690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626694">_</span><span class="op" id="8626695">,</span>&nbsp;<span class="ident" id="8626697">err</span>&nbsp;<span class="op" id="8626701">:=</span>&nbsp;<span class="ident" id="8626704"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8626713">(</span><span class="ident" id="8626714"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8626718">,</span>&nbsp;<span class="ident" id="8626720"><a href="/go/parser/parser_test.go.html#8626661">filename</a></span><span class="op" id="8626728">,</span>&nbsp;<span class="ident" id="8626730">nil</span><span class="op" id="8626733">,</span>&nbsp;<span class="ident" id="8626735"><a href="/go/parser/interface.go.html#5215132">DeclarationErrors</a></span><span class="op" id="8626752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626756">if</span>&nbsp;<span class="ident" id="8626759"><a href="/go/parser/parser_test.go.html#8626697">err</a></span>&nbsp;<span class="op" id="8626763">!=</span>&nbsp;<span class="ident" id="8626766">nil</span>&nbsp;<span class="op" id="8626770">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626775"><a href="/go/parser/parser_test.go.html#8626637">t</a></span><span class="op" id="8626776">.</span><span class="ident" id="8626777">Fatalf</span><span class="op" id="8626783">(</span><span class="string" id="8626784">&#34;ParseFile(%s):&nbsp;%v&#34;</span><span class="op" id="8626803">,</span>&nbsp;<span class="ident" id="8626805"><a href="/go/parser/parser_test.go.html#8626661">filename</a></span><span class="op" id="8626813">,</span>&nbsp;<span class="ident" id="8626815"><a href="/go/parser/parser_test.go.html#8626697">err</a></span><span class="op" id="8626818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626825">}</span><br>
<span class="lineno"></span><span class="op" id="8626827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="8626830">func</span>&nbsp;<span class="ident" id="8626835">nameFilter</span><span class="op" id="8626845">(</span><span class="ident" id="8626846">filename</span>&nbsp;<span class="builtintype" id="8626855">string</span><span class="op" id="8626861">)</span>&nbsp;<span class="builtintype" id="8626863">bool</span>&nbsp;<span class="op" id="8626868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626871">switch</span>&nbsp;<span class="ident" id="8626878"><a href="/go/parser/parser_test.go.html#8626846">filename</a></span>&nbsp;<span class="op" id="8626887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626890">case</span>&nbsp;<span class="string" id="8626895">&#34;parser.go&#34;</span><span class="op" id="8626906">,</span>&nbsp;<span class="string" id="8626908">&#34;interface.go&#34;</span><span class="op" id="8626922">,</span>&nbsp;<span class="string" id="8626924">&#34;parser_test.go&#34;</span><span class="op" id="8626940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626944">return</span>&nbsp;<span class="builtintype" id="8626951">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626957">case</span>&nbsp;<span class="string" id="8626962">&#34;parser.go.orig&#34;</span><span class="op" id="8626978">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626982">return</span>&nbsp;<span class="builtintype" id="8626989">true</span>&nbsp;<span class="comment" id="8626994">//&nbsp;permit&nbsp;but&nbsp;should&nbsp;be&nbsp;ignored&nbsp;by&nbsp;ParseDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627042">return</span>&nbsp;<span class="builtintype" id="8627049">false</span><br>
<span class="lineno"></span><span class="op" id="8627055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="8627058">func</span>&nbsp;<span class="ident" id="8627063">dirFilter</span><span class="op" id="8627072">(</span><span class="ident" id="8627073">f</span>&nbsp;<span class="ident" id="8627075"><a href="/go/parser/parser_test.go.html#8626462">os</a></span><span class="op" id="8627077">.</span><span class="ident" id="8627078">FileInfo</span><span class="op" id="8627086">)</span>&nbsp;<span class="builtintype" id="8627088">bool</span>&nbsp;<span class="op" id="8627093">{</span>&nbsp;<span class="keyword" id="8627095">return</span>&nbsp;<span class="ident" id="8627102"><a href="/go/parser/parser_test.go.html#8626835">nameFilter</a></span><span class="op" id="8627112">(</span><span class="ident" id="8627113"><a href="/go/parser/parser_test.go.html#8627073">f</a></span><span class="op" id="8627114">.</span><span class="ident" id="8627115">Name</span><span class="op" id="8627119">(</span><span class="op" id="8627120">)</span><span class="op" id="8627121">)</span>&nbsp;<span class="op" id="8627123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8627126">func</span>&nbsp;<span class="ident" id="8627131">TestParseDir</span><span class="op" id="8627143">(</span><span class="ident" id="8627144">t</span>&nbsp;<span class="op" id="8627146">*</span><span class="ident" id="8627147"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8627154">.</span><span class="ident" id="8627155">T</span><span class="op" id="8627156">)</span>&nbsp;<span class="op" id="8627158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627161">path</span>&nbsp;<span class="op" id="8627166">:=</span>&nbsp;<span class="string" id="8627169">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627174">pkgs</span><span class="op" id="8627178">,</span>&nbsp;<span class="ident" id="8627180">err</span>&nbsp;<span class="op" id="8627184">:=</span>&nbsp;<span class="ident" id="8627187"><a href="/go/parser/interface.go.html#5217765">ParseDir</a></span><span class="op" id="8627195">(</span><span class="ident" id="8627196"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8627200">,</span>&nbsp;<span class="ident" id="8627202"><a href="/go/parser/parser_test.go.html#8627161">path</a></span><span class="op" id="8627206">,</span>&nbsp;<span class="ident" id="8627208"><a href="/go/parser/parser_test.go.html#8627063">dirFilter</a></span><span class="op" id="8627217">,</span>&nbsp;<span class="num" id="8627219">0</span><span class="op" id="8627220">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627223">if</span>&nbsp;<span class="ident" id="8627226"><a href="/go/parser/parser_test.go.html#8627180">err</a></span>&nbsp;<span class="op" id="8627230">!=</span>&nbsp;<span class="ident" id="8627233">nil</span>&nbsp;<span class="op" id="8627237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627241"><a href="/go/parser/parser_test.go.html#8627144">t</a></span><span class="op" id="8627242">.</span><span class="ident" id="8627243">Fatalf</span><span class="op" id="8627249">(</span><span class="string" id="8627250">&#34;ParseDir(%s):&nbsp;%v&#34;</span><span class="op" id="8627268">,</span>&nbsp;<span class="ident" id="8627270"><a href="/go/parser/parser_test.go.html#8627161">path</a></span><span class="op" id="8627274">,</span>&nbsp;<span class="ident" id="8627276"><a href="/go/parser/parser_test.go.html#8627180">err</a></span><span class="op" id="8627279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627285">if</span>&nbsp;<span class="ident" id="8627288">n</span>&nbsp;<span class="op" id="8627290">:=</span>&nbsp;<span class="builtinfunc" id="8627293">len</span><span class="op" id="8627296">(</span><span class="ident" id="8627297"><a href="/go/parser/parser_test.go.html#8627174">pkgs</a></span><span class="op" id="8627301">)</span><span class="op" id="8627302">;</span>&nbsp;<span class="ident" id="8627304"><a href="/go/parser/parser_test.go.html#8627288">n</a></span>&nbsp;<span class="op" id="8627306">!=</span>&nbsp;<span class="num" id="8627309">1</span>&nbsp;<span class="op" id="8627311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627315"><a href="/go/parser/parser_test.go.html#8627144">t</a></span><span class="op" id="8627316">.</span><span class="ident" id="8627317">Errorf</span><span class="op" id="8627323">(</span><span class="string" id="8627324">&#34;got&nbsp;%d&nbsp;packages;&nbsp;want&nbsp;1&#34;</span><span class="op" id="8627349">,</span>&nbsp;<span class="ident" id="8627351"><a href="/go/parser/parser_test.go.html#8627288">n</a></span><span class="op" id="8627352">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627358">pkg</span>&nbsp;<span class="op" id="8627362">:=</span>&nbsp;<span class="ident" id="8627365"><a href="/go/parser/parser_test.go.html#8627174">pkgs</a></span><span class="op" id="8627369">[</span><span class="string" id="8627370">&#34;parser&#34;</span><span class="op" id="8627378">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627381">if</span>&nbsp;<span class="ident" id="8627384"><a href="/go/parser/parser_test.go.html#8627358">pkg</a></span>&nbsp;<span class="op" id="8627388">==</span>&nbsp;<span class="ident" id="8627391">nil</span>&nbsp;<span class="op" id="8627395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627399"><a href="/go/parser/parser_test.go.html#8627144">t</a></span><span class="op" id="8627400">.</span><span class="ident" id="8627401">Errorf</span><span class="op" id="8627407">(</span><span class="string" id="8627408">`package&nbsp;&#34;parser&#34;&nbsp;not&nbsp;found`</span><span class="op" id="8627436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627440">return</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627451">if</span>&nbsp;<span class="ident" id="8627454">n</span>&nbsp;<span class="op" id="8627456">:=</span>&nbsp;<span class="builtinfunc" id="8627459">len</span><span class="op" id="8627462">(</span><span class="ident" id="8627463"><a href="/go/parser/parser_test.go.html#8627358">pkg</a></span><span class="op" id="8627466">.</span><span class="ident" id="8627467">Files</span><span class="op" id="8627472">)</span><span class="op" id="8627473">;</span>&nbsp;<span class="ident" id="8627475"><a href="/go/parser/parser_test.go.html#8627454">n</a></span>&nbsp;<span class="op" id="8627477">!=</span>&nbsp;<span class="num" id="8627480">3</span>&nbsp;<span class="op" id="8627482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627486"><a href="/go/parser/parser_test.go.html#8627144">t</a></span><span class="op" id="8627487">.</span><span class="ident" id="8627488">Errorf</span><span class="op" id="8627494">(</span><span class="string" id="8627495">&#34;got&nbsp;%d&nbsp;package&nbsp;files;&nbsp;want&nbsp;3&#34;</span><span class="op" id="8627525">,</span>&nbsp;<span class="ident" id="8627527"><a href="/go/parser/parser_test.go.html#8627454">n</a></span><span class="op" id="8627528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627534">for</span>&nbsp;<span class="ident" id="8627538">filename</span>&nbsp;<span class="op" id="8627547">:=</span>&nbsp;<span class="keyword" id="8627550">range</span>&nbsp;<span class="ident" id="8627556"><a href="/go/parser/parser_test.go.html#8627358">pkg</a></span><span class="op" id="8627559">.</span><span class="ident" id="8627560">Files</span>&nbsp;<span class="op" id="8627566">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627570">if</span>&nbsp;<span class="op" id="8627573">!</span><span class="ident" id="8627574"><a href="/go/parser/parser_test.go.html#8626835">nameFilter</a></span><span class="op" id="8627584">(</span><span class="ident" id="8627585"><a href="/go/parser/parser_test.go.html#8627538">filename</a></span><span class="op" id="8627593">)</span>&nbsp;<span class="op" id="8627595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627600"><a href="/go/parser/parser_test.go.html#8627144">t</a></span><span class="op" id="8627601">.</span><span class="ident" id="8627602">Errorf</span><span class="op" id="8627608">(</span><span class="string" id="8627609">&#34;unexpected&nbsp;package&nbsp;file:&nbsp;%s&#34;</span><span class="op" id="8627638">,</span>&nbsp;<span class="ident" id="8627640"><a href="/go/parser/parser_test.go.html#8627538">filename</a></span><span class="op" id="8627648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627655">}</span><br>
<span class="lineno"></span><span class="op" id="8627657">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8627660">func</span>&nbsp;<span class="ident" id="8627665">TestParseExpr</span><span class="op" id="8627678">(</span><span class="ident" id="8627679">t</span>&nbsp;<span class="op" id="8627681">*</span><span class="ident" id="8627682"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8627689">.</span><span class="ident" id="8627690">T</span><span class="op" id="8627691">)</span>&nbsp;<span class="op" id="8627693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8627696">//&nbsp;just&nbsp;kicking&nbsp;the&nbsp;tires:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8627724">//&nbsp;a&nbsp;valid&nbsp;arithmetic&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627758">src</span>&nbsp;<span class="op" id="8627762">:=</span>&nbsp;<span class="string" id="8627765">&#34;a&nbsp;+&nbsp;b&#34;</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627774">x</span><span class="op" id="8627775">,</span>&nbsp;<span class="ident" id="8627777">err</span>&nbsp;<span class="op" id="8627781">:=</span>&nbsp;<span class="ident" id="8627784"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8627793">(</span><span class="ident" id="8627794"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8627797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627800">if</span>&nbsp;<span class="ident" id="8627803"><a href="/go/parser/parser_test.go.html#8627777">err</a></span>&nbsp;<span class="op" id="8627807">!=</span>&nbsp;<span class="ident" id="8627810">nil</span>&nbsp;<span class="op" id="8627814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627818"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8627819">.</span><span class="ident" id="8627820">Errorf</span><span class="op" id="8627826">(</span><span class="string" id="8627827">&#34;ParseExpr(%q):&nbsp;%v&#34;</span><span class="op" id="8627846">,</span>&nbsp;<span class="ident" id="8627848"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8627851">,</span>&nbsp;<span class="ident" id="8627853"><a href="/go/parser/parser_test.go.html#8627777">err</a></span><span class="op" id="8627856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8627862">//&nbsp;sanity&nbsp;check</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627879">if</span>&nbsp;<span class="ident" id="8627882">_</span><span class="op" id="8627883">,</span>&nbsp;<span class="ident" id="8627885">ok</span>&nbsp;<span class="op" id="8627888">:=</span>&nbsp;<span class="ident" id="8627891"><a href="/go/parser/parser_test.go.html#8627774">x</a></span><span class="op" id="8627892">.</span><span class="op" id="8627893">(</span><span class="op" id="8627894">*</span><span class="ident" id="8627895"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8627898">.</span><span class="ident" id="8627899">BinaryExpr</span><span class="op" id="8627909">)</span><span class="op" id="8627910">;</span>&nbsp;<span class="op" id="8627912">!</span><span class="ident" id="8627913"><a href="/go/parser/parser_test.go.html#8627885">ok</a></span>&nbsp;<span class="op" id="8627916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627920"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8627921">.</span><span class="ident" id="8627922">Errorf</span><span class="op" id="8627928">(</span><span class="string" id="8627929">&#34;ParseExpr(%q):&nbsp;got&nbsp;%T,&nbsp;want&nbsp;*ast.BinaryExpr&#34;</span><span class="op" id="8627974">,</span>&nbsp;<span class="ident" id="8627976"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8627979">,</span>&nbsp;<span class="ident" id="8627981"><a href="/go/parser/parser_test.go.html#8627774">x</a></span><span class="op" id="8627982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8627989">//&nbsp;a&nbsp;valid&nbsp;type&nbsp;expression</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628017"><a href="/go/parser/parser_test.go.html#8627758">src</a></span>&nbsp;<span class="op" id="8628021">=</span>&nbsp;<span class="string" id="8628023">&#34;struct{x&nbsp;*int}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628041"><a href="/go/parser/parser_test.go.html#8627774">x</a></span><span class="op" id="8628042">,</span>&nbsp;<span class="ident" id="8628044"><a href="/go/parser/parser_test.go.html#8627777">err</a></span>&nbsp;<span class="op" id="8628048">=</span>&nbsp;<span class="ident" id="8628050"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8628059">(</span><span class="ident" id="8628060"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628066">if</span>&nbsp;<span class="ident" id="8628069"><a href="/go/parser/parser_test.go.html#8627777">err</a></span>&nbsp;<span class="op" id="8628073">!=</span>&nbsp;<span class="ident" id="8628076">nil</span>&nbsp;<span class="op" id="8628080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628084"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628085">.</span><span class="ident" id="8628086">Errorf</span><span class="op" id="8628092">(</span><span class="string" id="8628093">&#34;ParseExpr(%q):&nbsp;%v&#34;</span><span class="op" id="8628112">,</span>&nbsp;<span class="ident" id="8628114"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628117">,</span>&nbsp;<span class="ident" id="8628119"><a href="/go/parser/parser_test.go.html#8627777">err</a></span><span class="op" id="8628122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628125">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8628128">//&nbsp;sanity&nbsp;check</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628145">if</span>&nbsp;<span class="ident" id="8628148">_</span><span class="op" id="8628149">,</span>&nbsp;<span class="ident" id="8628151">ok</span>&nbsp;<span class="op" id="8628154">:=</span>&nbsp;<span class="ident" id="8628157"><a href="/go/parser/parser_test.go.html#8627774">x</a></span><span class="op" id="8628158">.</span><span class="op" id="8628159">(</span><span class="op" id="8628160">*</span><span class="ident" id="8628161"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8628164">.</span><span class="ident" id="8628165">StructType</span><span class="op" id="8628175">)</span><span class="op" id="8628176">;</span>&nbsp;<span class="op" id="8628178">!</span><span class="ident" id="8628179"><a href="/go/parser/parser_test.go.html#8628151">ok</a></span>&nbsp;<span class="op" id="8628182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628186"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628187">.</span><span class="ident" id="8628188">Errorf</span><span class="op" id="8628194">(</span><span class="string" id="8628195">&#34;ParseExpr(%q):&nbsp;got&nbsp;%T,&nbsp;want&nbsp;*ast.StructType&#34;</span><span class="op" id="8628240">,</span>&nbsp;<span class="ident" id="8628242"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628245">,</span>&nbsp;<span class="ident" id="8628247"><a href="/go/parser/parser_test.go.html#8627774">x</a></span><span class="op" id="8628248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8628255">//&nbsp;an&nbsp;invalid&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628281"><a href="/go/parser/parser_test.go.html#8627758">src</a></span>&nbsp;<span class="op" id="8628285">=</span>&nbsp;<span class="string" id="8628287">&#34;a&nbsp;+&nbsp;*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628296">if</span>&nbsp;<span class="ident" id="8628299">_</span><span class="op" id="8628300">,</span>&nbsp;<span class="ident" id="8628302">err</span>&nbsp;<span class="op" id="8628306">:=</span>&nbsp;<span class="ident" id="8628309"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8628318">(</span><span class="ident" id="8628319"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628322">)</span><span class="op" id="8628323">;</span>&nbsp;<span class="ident" id="8628325"><a href="/go/parser/parser_test.go.html#8628302">err</a></span>&nbsp;<span class="op" id="8628329">==</span>&nbsp;<span class="ident" id="8628332">nil</span>&nbsp;<span class="op" id="8628336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628340"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628341">.</span><span class="ident" id="8628342">Errorf</span><span class="op" id="8628348">(</span><span class="string" id="8628349">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="8628378">,</span>&nbsp;<span class="ident" id="8628380"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628386">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8628390">//&nbsp;a&nbsp;valid&nbsp;expression&nbsp;followed&nbsp;by&nbsp;extra&nbsp;tokens&nbsp;is&nbsp;invalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628449"><a href="/go/parser/parser_test.go.html#8627758">src</a></span>&nbsp;<span class="op" id="8628453">=</span>&nbsp;<span class="string" id="8628455">&#34;a[i]&nbsp;:=&nbsp;x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628468">if</span>&nbsp;<span class="ident" id="8628471">_</span><span class="op" id="8628472">,</span>&nbsp;<span class="ident" id="8628474">err</span>&nbsp;<span class="op" id="8628478">:=</span>&nbsp;<span class="ident" id="8628481"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8628490">(</span><span class="ident" id="8628491"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628494">)</span><span class="op" id="8628495">;</span>&nbsp;<span class="ident" id="8628497"><a href="/go/parser/parser_test.go.html#8628474">err</a></span>&nbsp;<span class="op" id="8628501">==</span>&nbsp;<span class="ident" id="8628504">nil</span>&nbsp;<span class="op" id="8628508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628512"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628513">.</span><span class="ident" id="8628514">Errorf</span><span class="op" id="8628520">(</span><span class="string" id="8628521">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="8628550">,</span>&nbsp;<span class="ident" id="8628552"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628555">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8628562">//&nbsp;a&nbsp;semicolon&nbsp;is&nbsp;not&nbsp;permitted&nbsp;unless&nbsp;automatically&nbsp;inserted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628625"><a href="/go/parser/parser_test.go.html#8627758">src</a></span>&nbsp;<span class="op" id="8628629">=</span>&nbsp;<span class="string" id="8628631">&#34;a&nbsp;+&nbsp;b\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628642">if</span>&nbsp;<span class="ident" id="8628645">_</span><span class="op" id="8628646">,</span>&nbsp;<span class="ident" id="8628648">err</span>&nbsp;<span class="op" id="8628652">:=</span>&nbsp;<span class="ident" id="8628655"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8628664">(</span><span class="ident" id="8628665"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628668">)</span><span class="op" id="8628669">;</span>&nbsp;<span class="ident" id="8628671"><a href="/go/parser/parser_test.go.html#8628648">err</a></span>&nbsp;<span class="op" id="8628675">!=</span>&nbsp;<span class="ident" id="8628678">nil</span>&nbsp;<span class="op" id="8628682">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628686"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628687">.</span><span class="ident" id="8628688">Errorf</span><span class="op" id="8628694">(</span><span class="string" id="8628695">&#34;ParseExpr(%q):&nbsp;got&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8628724">,</span>&nbsp;<span class="ident" id="8628726"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628729">,</span>&nbsp;<span class="ident" id="8628731"><a href="/go/parser/parser_test.go.html#8628648">err</a></span><span class="op" id="8628734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628740"><a href="/go/parser/parser_test.go.html#8627758">src</a></span>&nbsp;<span class="op" id="8628744">=</span>&nbsp;<span class="string" id="8628746">&#34;a&nbsp;+&nbsp;b;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628756">if</span>&nbsp;<span class="ident" id="8628759">_</span><span class="op" id="8628760">,</span>&nbsp;<span class="ident" id="8628762">err</span>&nbsp;<span class="op" id="8628766">:=</span>&nbsp;<span class="ident" id="8628769"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8628778">(</span><span class="ident" id="8628779"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628782">)</span><span class="op" id="8628783">;</span>&nbsp;<span class="ident" id="8628785"><a href="/go/parser/parser_test.go.html#8628762">err</a></span>&nbsp;<span class="op" id="8628789">==</span>&nbsp;<span class="ident" id="8628792">nil</span>&nbsp;<span class="op" id="8628796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628800"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8628801">.</span><span class="ident" id="8628802">Errorf</span><span class="op" id="8628808">(</span><span class="string" id="8628809">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="8628838">,</span>&nbsp;<span class="ident" id="8628840"><a href="/go/parser/parser_test.go.html#8627758">src</a></span><span class="op" id="8628843">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8628850">//&nbsp;various&nbsp;other&nbsp;stuff&nbsp;following&nbsp;a&nbsp;valid&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628903">const</span>&nbsp;<span class="ident" id="8628909">validExpr</span>&nbsp;<span class="op" id="8628919">=</span>&nbsp;<span class="string" id="8628921">&#34;a&nbsp;+&nbsp;b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628930">const</span>&nbsp;<span class="ident" id="8628936">anything</span>&nbsp;<span class="op" id="8628945">=</span>&nbsp;<span class="string" id="8628947">&#34;dh3*#D)#_&#34;</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628960">for</span>&nbsp;<span class="ident" id="8628964">_</span><span class="op" id="8628965">,</span>&nbsp;<span class="ident" id="8628967">c</span>&nbsp;<span class="op" id="8628969">:=</span>&nbsp;<span class="keyword" id="8628972">range</span>&nbsp;<span class="string" id="8628978">&#34;!)]};,&#34;</span>&nbsp;<span class="op" id="8628987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628991">src</span>&nbsp;<span class="op" id="8628995">:=</span>&nbsp;<span class="ident" id="8628998"><a href="/go/parser/parser_test.go.html#8628909">validExpr</a></span>&nbsp;<span class="op" id="8629008">+</span>&nbsp;<span class="builtintype" id="8629010">string</span><span class="op" id="8629016">(</span><span class="ident" id="8629017"><a href="/go/parser/parser_test.go.html#8628967">c</a></span><span class="op" id="8629018">)</span>&nbsp;<span class="op" id="8629020">+</span>&nbsp;<span class="ident" id="8629022"><a href="/go/parser/parser_test.go.html#8628936">anything</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629033">if</span>&nbsp;<span class="ident" id="8629036">_</span><span class="op" id="8629037">,</span>&nbsp;<span class="ident" id="8629039">err</span>&nbsp;<span class="op" id="8629043">:=</span>&nbsp;<span class="ident" id="8629046"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8629055">(</span><span class="ident" id="8629056"><a href="/go/parser/parser_test.go.html#8628991">src</a></span><span class="op" id="8629059">)</span><span class="op" id="8629060">;</span>&nbsp;<span class="ident" id="8629062"><a href="/go/parser/parser_test.go.html#8629039">err</a></span>&nbsp;<span class="op" id="8629066">==</span>&nbsp;<span class="ident" id="8629069">nil</span>&nbsp;<span class="op" id="8629073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629078"><a href="/go/parser/parser_test.go.html#8627679">t</a></span><span class="op" id="8629079">.</span><span class="ident" id="8629080">Errorf</span><span class="op" id="8629086">(</span><span class="string" id="8629087">&#34;ParseExpr(%q):&nbsp;got&nbsp;no&nbsp;error&#34;</span><span class="op" id="8629116">,</span>&nbsp;<span class="ident" id="8629118"><a href="/go/parser/parser_test.go.html#8628991">src</a></span><span class="op" id="8629121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629125">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8629132">//&nbsp;ParseExpr&nbsp;must&nbsp;not&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629161">for</span>&nbsp;<span class="ident" id="8629165">_</span><span class="op" id="8629166">,</span>&nbsp;<span class="ident" id="8629168">src</span>&nbsp;<span class="op" id="8629172">:=</span>&nbsp;<span class="keyword" id="8629175">range</span>&nbsp;<span class="ident" id="8629181"><a href="/go/parser/short_test.go.html#8637688">valids</a></span>&nbsp;<span class="op" id="8629188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629192"><a href="/go/parser/interface.go.html#5218799">ParseExpr</a></span><span class="op" id="8629201">(</span><span class="ident" id="8629202"><a href="/go/parser/parser_test.go.html#8629168">src</a></span><span class="op" id="8629205">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629208">}</span><br>
<span class="lineno"></span><span class="op" id="8629210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8629213">func</span>&nbsp;<span class="ident" id="8629218">TestColonEqualsScope</span><span class="op" id="8629238">(</span><span class="ident" id="8629239">t</span>&nbsp;<span class="op" id="8629241">*</span><span class="ident" id="8629242"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8629249">.</span><span class="ident" id="8629250">T</span><span class="op" id="8629251">)</span>&nbsp;<span class="op" id="8629253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629256">f</span><span class="op" id="8629257">,</span>&nbsp;<span class="ident" id="8629259">err</span>&nbsp;<span class="op" id="8629263">:=</span>&nbsp;<span class="ident" id="8629266"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8629275">(</span><span class="ident" id="8629276"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8629280">,</span>&nbsp;<span class="string" id="8629282">&#34;&#34;</span><span class="op" id="8629284">,</span>&nbsp;<span class="string" id="8629286">`package&nbsp;p;&nbsp;func&nbsp;f()&nbsp;{&nbsp;x,&nbsp;y,&nbsp;z&nbsp;:=&nbsp;x,&nbsp;y,&nbsp;z&nbsp;}`</span><span class="op" id="8629330">,</span>&nbsp;<span class="num" id="8629332">0</span><span class="op" id="8629333">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629336">if</span>&nbsp;<span class="ident" id="8629339"><a href="/go/parser/parser_test.go.html#8629259">err</a></span>&nbsp;<span class="op" id="8629343">!=</span>&nbsp;<span class="ident" id="8629346">nil</span>&nbsp;<span class="op" id="8629350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629354"><a href="/go/parser/parser_test.go.html#8629239">t</a></span><span class="op" id="8629355">.</span><span class="ident" id="8629356">Fatal</span><span class="op" id="8629361">(</span><span class="ident" id="8629362"><a href="/go/parser/parser_test.go.html#8629259">err</a></span><span class="op" id="8629365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8629372">//&nbsp;RHS&nbsp;refers&nbsp;to&nbsp;undefined&nbsp;globals;&nbsp;LHS&nbsp;does&nbsp;not.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629423">as</span>&nbsp;<span class="op" id="8629426">:=</span>&nbsp;<span class="ident" id="8629429"><a href="/go/parser/parser_test.go.html#8629256">f</a></span><span class="op" id="8629430">.</span><span class="ident" id="8629431">Decls</span><span class="op" id="8629436">[</span><span class="num" id="8629437">0</span><span class="op" id="8629438">]</span><span class="op" id="8629439">.</span><span class="op" id="8629440">(</span><span class="op" id="8629441">*</span><span class="ident" id="8629442"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8629445">.</span><span class="ident" id="8629446">FuncDecl</span><span class="op" id="8629454">)</span><span class="op" id="8629455">.</span><span class="ident" id="8629456">Body</span><span class="op" id="8629460">.</span><span class="ident" id="8629461">List</span><span class="op" id="8629465">[</span><span class="num" id="8629466">0</span><span class="op" id="8629467">]</span><span class="op" id="8629468">.</span><span class="op" id="8629469">(</span><span class="op" id="8629470">*</span><span class="ident" id="8629471"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8629474">.</span><span class="ident" id="8629475">AssignStmt</span><span class="op" id="8629485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629488">for</span>&nbsp;<span class="ident" id="8629492">_</span><span class="op" id="8629493">,</span>&nbsp;<span class="ident" id="8629495">v</span>&nbsp;<span class="op" id="8629497">:=</span>&nbsp;<span class="keyword" id="8629500">range</span>&nbsp;<span class="ident" id="8629506"><a href="/go/parser/parser_test.go.html#8629423">as</a></span><span class="op" id="8629508">.</span><span class="ident" id="8629509">Rhs</span>&nbsp;<span class="op" id="8629513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629517">id</span>&nbsp;<span class="op" id="8629520">:=</span>&nbsp;<span class="ident" id="8629523"><a href="/go/parser/parser_test.go.html#8629495">v</a></span><span class="op" id="8629524">.</span><span class="op" id="8629525">(</span><span class="op" id="8629526">*</span><span class="ident" id="8629527"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8629530">.</span><span class="ident" id="8629531">Ident</span><span class="op" id="8629536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629540">if</span>&nbsp;<span class="ident" id="8629543"><a href="/go/parser/parser_test.go.html#8629517">id</a></span><span class="op" id="8629545">.</span><span class="ident" id="8629546">Obj</span>&nbsp;<span class="op" id="8629550">!=</span>&nbsp;<span class="ident" id="8629553">nil</span>&nbsp;<span class="op" id="8629557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629562"><a href="/go/parser/parser_test.go.html#8629239">t</a></span><span class="op" id="8629563">.</span><span class="ident" id="8629564">Errorf</span><span class="op" id="8629570">(</span><span class="string" id="8629571">&#34;rhs&nbsp;%s&nbsp;has&nbsp;Obj,&nbsp;should&nbsp;not&#34;</span><span class="op" id="8629599">,</span>&nbsp;<span class="ident" id="8629601"><a href="/go/parser/parser_test.go.html#8629517">id</a></span><span class="op" id="8629603">.</span><span class="ident" id="8629604">Name</span><span class="op" id="8629608">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629618">for</span>&nbsp;<span class="ident" id="8629622">_</span><span class="op" id="8629623">,</span>&nbsp;<span class="ident" id="8629625">v</span>&nbsp;<span class="op" id="8629627">:=</span>&nbsp;<span class="keyword" id="8629630">range</span>&nbsp;<span class="ident" id="8629636"><a href="/go/parser/parser_test.go.html#8629423">as</a></span><span class="op" id="8629638">.</span><span class="ident" id="8629639">Lhs</span>&nbsp;<span class="op" id="8629643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629647">id</span>&nbsp;<span class="op" id="8629650">:=</span>&nbsp;<span class="ident" id="8629653"><a href="/go/parser/parser_test.go.html#8629625">v</a></span><span class="op" id="8629654">.</span><span class="op" id="8629655">(</span><span class="op" id="8629656">*</span><span class="ident" id="8629657"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8629660">.</span><span class="ident" id="8629661">Ident</span><span class="op" id="8629666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629670">if</span>&nbsp;<span class="ident" id="8629673"><a href="/go/parser/parser_test.go.html#8629647">id</a></span><span class="op" id="8629675">.</span><span class="ident" id="8629676">Obj</span>&nbsp;<span class="op" id="8629680">==</span>&nbsp;<span class="ident" id="8629683">nil</span>&nbsp;<span class="op" id="8629687">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629692"><a href="/go/parser/parser_test.go.html#8629239">t</a></span><span class="op" id="8629693">.</span><span class="ident" id="8629694">Errorf</span><span class="op" id="8629700">(</span><span class="string" id="8629701">&#34;lhs&nbsp;%s&nbsp;does&nbsp;not&nbsp;have&nbsp;Obj,&nbsp;should&#34;</span><span class="op" id="8629735">,</span>&nbsp;<span class="ident" id="8629737"><a href="/go/parser/parser_test.go.html#8629647">id</a></span><span class="op" id="8629739">.</span><span class="ident" id="8629740">Name</span><span class="op" id="8629744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629751">}</span><br>
<span class="lineno"></span><span class="op" id="8629753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="8629756">func</span>&nbsp;<span class="ident" id="8629761">TestVarScope</span><span class="op" id="8629773">(</span><span class="ident" id="8629774">t</span>&nbsp;<span class="op" id="8629776">*</span><span class="ident" id="8629777"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8629784">.</span><span class="ident" id="8629785">T</span><span class="op" id="8629786">)</span>&nbsp;<span class="op" id="8629788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629791">f</span><span class="op" id="8629792">,</span>&nbsp;<span class="ident" id="8629794">err</span>&nbsp;<span class="op" id="8629798">:=</span>&nbsp;<span class="ident" id="8629801"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8629810">(</span><span class="ident" id="8629811"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8629815">,</span>&nbsp;<span class="string" id="8629817">&#34;&#34;</span><span class="op" id="8629819">,</span>&nbsp;<span class="string" id="8629821">`package&nbsp;p;&nbsp;func&nbsp;f()&nbsp;{&nbsp;var&nbsp;x,&nbsp;y,&nbsp;z&nbsp;=&nbsp;x,&nbsp;y,&nbsp;z&nbsp;}`</span><span class="op" id="8629868">,</span>&nbsp;<span class="num" id="8629870">0</span><span class="op" id="8629871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8629874">if</span>&nbsp;<span class="ident" id="8629877"><a href="/go/parser/parser_test.go.html#8629794">err</a></span>&nbsp;<span class="op" id="8629881">!=</span>&nbsp;<span class="ident" id="8629884">nil</span>&nbsp;<span class="op" id="8629888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629892"><a href="/go/parser/parser_test.go.html#8629774">t</a></span><span class="op" id="8629893">.</span><span class="ident" id="8629894">Fatal</span><span class="op" id="8629899">(</span><span class="ident" id="8629900"><a href="/go/parser/parser_test.go.html#8629794">err</a></span><span class="op" id="8629903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8629906">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8629910">//&nbsp;RHS&nbsp;refers&nbsp;to&nbsp;undefined&nbsp;globals;&nbsp;LHS&nbsp;does&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8629961">as</span>&nbsp;<span class="op" id="8629964">:=</span>&nbsp;<span class="ident" id="8629967"><a href="/go/parser/parser_test.go.html#8629791">f</a></span><span class="op" id="8629968">.</span><span class="ident" id="8629969">Decls</span><span class="op" id="8629974">[</span><span class="num" id="8629975">0</span><span class="op" id="8629976">]</span><span class="op" id="8629977">.</span><span class="op" id="8629978">(</span><span class="op" id="8629979">*</span><span class="ident" id="8629980"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8629983">.</span><span class="ident" id="8629984">FuncDecl</span><span class="op" id="8629992">)</span><span class="op" id="8629993">.</span><span class="ident" id="8629994">Body</span><span class="op" id="8629998">.</span><span class="ident" id="8629999">List</span><span class="op" id="8630003">[</span><span class="num" id="8630004">0</span><span class="op" id="8630005">]</span><span class="op" id="8630006">.</span><span class="op" id="8630007">(</span><span class="op" id="8630008">*</span><span class="ident" id="8630009"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630012">.</span><span class="ident" id="8630013">DeclStmt</span><span class="op" id="8630021">)</span><span class="op" id="8630022">.</span><span class="ident" id="8630023">Decl</span><span class="op" id="8630027">.</span><span class="op" id="8630028">(</span><span class="op" id="8630029">*</span><span class="ident" id="8630030"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630033">.</span><span class="ident" id="8630034">GenDecl</span><span class="op" id="8630041">)</span><span class="op" id="8630042">.</span><span class="ident" id="8630043">Specs</span><span class="op" id="8630048">[</span><span class="num" id="8630049">0</span><span class="op" id="8630050">]</span><span class="op" id="8630051">.</span><span class="op" id="8630052">(</span><span class="op" id="8630053">*</span><span class="ident" id="8630054"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630057">.</span><span class="ident" id="8630058">ValueSpec</span><span class="op" id="8630067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630070">for</span>&nbsp;<span class="ident" id="8630074">_</span><span class="op" id="8630075">,</span>&nbsp;<span class="ident" id="8630077">v</span>&nbsp;<span class="op" id="8630079">:=</span>&nbsp;<span class="keyword" id="8630082">range</span>&nbsp;<span class="ident" id="8630088"><a href="/go/parser/parser_test.go.html#8629961">as</a></span><span class="op" id="8630090">.</span><span class="ident" id="8630091">Values</span>&nbsp;<span class="op" id="8630098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630102">id</span>&nbsp;<span class="op" id="8630105">:=</span>&nbsp;<span class="ident" id="8630108"><a href="/go/parser/parser_test.go.html#8630077">v</a></span><span class="op" id="8630109">.</span><span class="op" id="8630110">(</span><span class="op" id="8630111">*</span><span class="ident" id="8630112"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630115">.</span><span class="ident" id="8630116">Ident</span><span class="op" id="8630121">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630125">if</span>&nbsp;<span class="ident" id="8630128"><a href="/go/parser/parser_test.go.html#8630102">id</a></span><span class="op" id="8630130">.</span><span class="ident" id="8630131">Obj</span>&nbsp;<span class="op" id="8630135">!=</span>&nbsp;<span class="ident" id="8630138">nil</span>&nbsp;<span class="op" id="8630142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630147"><a href="/go/parser/parser_test.go.html#8629774">t</a></span><span class="op" id="8630148">.</span><span class="ident" id="8630149">Errorf</span><span class="op" id="8630155">(</span><span class="string" id="8630156">&#34;rhs&nbsp;%s&nbsp;has&nbsp;Obj,&nbsp;should&nbsp;not&#34;</span><span class="op" id="8630184">,</span>&nbsp;<span class="ident" id="8630186"><a href="/go/parser/parser_test.go.html#8630102">id</a></span><span class="op" id="8630188">.</span><span class="ident" id="8630189">Name</span><span class="op" id="8630193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630203">for</span>&nbsp;<span class="ident" id="8630207">_</span><span class="op" id="8630208">,</span>&nbsp;<span class="ident" id="8630210">id</span>&nbsp;<span class="op" id="8630213">:=</span>&nbsp;<span class="keyword" id="8630216">range</span>&nbsp;<span class="ident" id="8630222"><a href="/go/parser/parser_test.go.html#8629961">as</a></span><span class="op" id="8630224">.</span><span class="ident" id="8630225">Names</span>&nbsp;<span class="op" id="8630231">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630235">if</span>&nbsp;<span class="ident" id="8630238"><a href="/go/parser/parser_test.go.html#8630210">id</a></span><span class="op" id="8630240">.</span><span class="ident" id="8630241">Obj</span>&nbsp;<span class="op" id="8630245">==</span>&nbsp;<span class="ident" id="8630248">nil</span>&nbsp;<span class="op" id="8630252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630257"><a href="/go/parser/parser_test.go.html#8629774">t</a></span><span class="op" id="8630258">.</span><span class="ident" id="8630259">Errorf</span><span class="op" id="8630265">(</span><span class="string" id="8630266">&#34;lhs&nbsp;%s&nbsp;does&nbsp;not&nbsp;have&nbsp;Obj,&nbsp;should&#34;</span><span class="op" id="8630300">,</span>&nbsp;<span class="ident" id="8630302"><a href="/go/parser/parser_test.go.html#8630210">id</a></span><span class="op" id="8630304">.</span><span class="ident" id="8630305">Name</span><span class="op" id="8630309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630316">}</span><br>
<span class="lineno"></span><span class="op" id="8630318">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="8630321">func</span>&nbsp;<span class="ident" id="8630326">TestObjects</span><span class="op" id="8630337">(</span><span class="ident" id="8630338">t</span>&nbsp;<span class="op" id="8630340">*</span><span class="ident" id="8630341"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8630348">.</span><span class="ident" id="8630349">T</span><span class="op" id="8630350">)</span>&nbsp;<span class="op" id="8630352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630355">const</span>&nbsp;<span class="ident" id="8630361">src</span>&nbsp;<span class="op" id="8630365">=</span>&nbsp;<span class="string" id="8630367">`<br>
<span class="lineno"></span>package&nbsp;p<br>
<span class="lineno"></span>import&nbsp;fmt&nbsp;&#34;fmt&#34;<br>
<span class="lineno">180</span>const&nbsp;pi&nbsp;=&nbsp;3.14<br>
<span class="lineno"></span>type&nbsp;T&nbsp;struct{}<br>
<span class="lineno"></span>var&nbsp;x&nbsp;int<br>
<span class="lineno"></span>func&nbsp;f()&nbsp;{&nbsp;L:&nbsp;}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630458">f</span><span class="op" id="8630459">,</span>&nbsp;<span class="ident" id="8630461">err</span>&nbsp;<span class="op" id="8630465">:=</span>&nbsp;<span class="ident" id="8630468"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8630477">(</span><span class="ident" id="8630478"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8630482">,</span>&nbsp;<span class="string" id="8630484">&#34;&#34;</span><span class="op" id="8630486">,</span>&nbsp;<span class="ident" id="8630488"><a href="/go/parser/parser_test.go.html#8630361">src</a></span><span class="op" id="8630491">,</span>&nbsp;<span class="num" id="8630493">0</span><span class="op" id="8630494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630497">if</span>&nbsp;<span class="ident" id="8630500"><a href="/go/parser/parser_test.go.html#8630461">err</a></span>&nbsp;<span class="op" id="8630504">!=</span>&nbsp;<span class="ident" id="8630507">nil</span>&nbsp;<span class="op" id="8630511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630515"><a href="/go/parser/parser_test.go.html#8630338">t</a></span><span class="op" id="8630516">.</span><span class="ident" id="8630517">Fatal</span><span class="op" id="8630522">(</span><span class="ident" id="8630523"><a href="/go/parser/parser_test.go.html#8630461">err</a></span><span class="op" id="8630526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630529">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630533">objects</span>&nbsp;<span class="op" id="8630541">:=</span>&nbsp;<span class="keyword" id="8630544">map</span><span class="op" id="8630547">[</span><span class="builtintype" id="8630548">string</span><span class="op" id="8630554">]</span><span class="ident" id="8630555"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630558">.</span><span class="ident" id="8630559">ObjKind</span><span class="op" id="8630566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630570">&#34;p&#34;</span><span class="op" id="8630573">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8630577"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630580">.</span><span class="ident" id="8630581">Bad</span><span class="op" id="8630584">,</span>&nbsp;<span class="comment" id="8630586">//&nbsp;not&nbsp;in&nbsp;a&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630606">&#34;fmt&#34;</span><span class="op" id="8630611">:</span>&nbsp;<span class="ident" id="8630613"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630616">.</span><span class="ident" id="8630617">Bad</span><span class="op" id="8630620">,</span>&nbsp;<span class="comment" id="8630622">//&nbsp;not&nbsp;resolved&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630644">&#34;pi&#34;</span><span class="op" id="8630648">:</span>&nbsp;&nbsp;<span class="ident" id="8630651"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630654">.</span><span class="ident" id="8630655">Con</span><span class="op" id="8630658">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630662">&#34;T&#34;</span><span class="op" id="8630665">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8630669"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630672">.</span><span class="ident" id="8630673">Typ</span><span class="op" id="8630676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630680">&#34;x&#34;</span><span class="op" id="8630683">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8630687"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630690">.</span><span class="ident" id="8630691">Var</span><span class="op" id="8630694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630698">&#34;int&#34;</span><span class="op" id="8630703">:</span>&nbsp;<span class="ident" id="8630705"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630708">.</span><span class="ident" id="8630709">Bad</span><span class="op" id="8630712">,</span>&nbsp;<span class="comment" id="8630714">//&nbsp;not&nbsp;resolved&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630736">&#34;f&#34;</span><span class="op" id="8630739">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8630743"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630746">.</span><span class="ident" id="8630747">Fun</span><span class="op" id="8630750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8630754">&#34;L&#34;</span><span class="op" id="8630757">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8630761"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630764">.</span><span class="ident" id="8630765">Lbl</span><span class="op" id="8630768">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630775"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630778">.</span><span class="ident" id="8630779">Inspect</span><span class="op" id="8630786">(</span><span class="ident" id="8630787"><a href="/go/parser/parser_test.go.html#8630458">f</a></span><span class="op" id="8630788">,</span>&nbsp;<span class="keyword" id="8630790">func</span><span class="op" id="8630794">(</span><span class="ident" id="8630795">n</span>&nbsp;<span class="ident" id="8630797"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630800">.</span><span class="ident" id="8630801">Node</span><span class="op" id="8630805">)</span>&nbsp;<span class="builtintype" id="8630807">bool</span>&nbsp;<span class="op" id="8630812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630816">if</span>&nbsp;<span class="ident" id="8630819">ident</span><span class="op" id="8630824">,</span>&nbsp;<span class="ident" id="8630826">ok</span>&nbsp;<span class="op" id="8630829">:=</span>&nbsp;<span class="ident" id="8630832"><a href="/go/parser/parser_test.go.html#8630795">n</a></span><span class="op" id="8630833">.</span><span class="op" id="8630834">(</span><span class="op" id="8630835">*</span><span class="ident" id="8630836"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630839">.</span><span class="ident" id="8630840">Ident</span><span class="op" id="8630845">)</span><span class="op" id="8630846">;</span>&nbsp;<span class="ident" id="8630848"><a href="/go/parser/parser_test.go.html#8630826">ok</a></span>&nbsp;<span class="op" id="8630851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630856">obj</span>&nbsp;<span class="op" id="8630860">:=</span>&nbsp;<span class="ident" id="8630863"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8630868">.</span><span class="ident" id="8630869">Obj</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630876">if</span>&nbsp;<span class="ident" id="8630879"><a href="/go/parser/parser_test.go.html#8630856">obj</a></span>&nbsp;<span class="op" id="8630883">==</span>&nbsp;<span class="ident" id="8630886">nil</span>&nbsp;<span class="op" id="8630890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630896">if</span>&nbsp;<span class="ident" id="8630899"><a href="/go/parser/parser_test.go.html#8630533">objects</a></span><span class="op" id="8630906">[</span><span class="ident" id="8630907"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8630912">.</span><span class="ident" id="8630913">Name</span><span class="op" id="8630917">]</span>&nbsp;<span class="op" id="8630919">!=</span>&nbsp;<span class="ident" id="8630922"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8630925">.</span><span class="ident" id="8630926">Bad</span>&nbsp;<span class="op" id="8630930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8630937"><a href="/go/parser/parser_test.go.html#8630338">t</a></span><span class="op" id="8630938">.</span><span class="ident" id="8630939">Errorf</span><span class="op" id="8630945">(</span><span class="string" id="8630946">&#34;no&nbsp;object&nbsp;for&nbsp;%s&#34;</span><span class="op" id="8630964">,</span>&nbsp;<span class="ident" id="8630966"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8630971">.</span><span class="ident" id="8630972">Name</span><span class="op" id="8630976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8630982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8630988">return</span>&nbsp;<span class="builtintype" id="8630995">true</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631008">if</span>&nbsp;<span class="ident" id="8631011"><a href="/go/parser/parser_test.go.html#8630856">obj</a></span><span class="op" id="8631014">.</span><span class="ident" id="8631015">Name</span>&nbsp;<span class="op" id="8631020">!=</span>&nbsp;<span class="ident" id="8631023"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8631028">.</span><span class="ident" id="8631029">Name</span>&nbsp;<span class="op" id="8631034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631040"><a href="/go/parser/parser_test.go.html#8630338">t</a></span><span class="op" id="8631041">.</span><span class="ident" id="8631042">Errorf</span><span class="op" id="8631048">(</span><span class="string" id="8631049">&#34;names&nbsp;don&#39;t&nbsp;match:&nbsp;obj.Name&nbsp;=&nbsp;%s,&nbsp;ident.Name&nbsp;=&nbsp;%s&#34;</span><span class="op" id="8631100">,</span>&nbsp;<span class="ident" id="8631102"><a href="/go/parser/parser_test.go.html#8630856">obj</a></span><span class="op" id="8631105">.</span><span class="ident" id="8631106">Name</span><span class="op" id="8631110">,</span>&nbsp;<span class="ident" id="8631112"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8631117">.</span><span class="ident" id="8631118">Name</span><span class="op" id="8631122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631132">kind</span>&nbsp;<span class="op" id="8631137">:=</span>&nbsp;<span class="ident" id="8631140"><a href="/go/parser/parser_test.go.html#8630533">objects</a></span><span class="op" id="8631147">[</span><span class="ident" id="8631148"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8631153">.</span><span class="ident" id="8631154">Name</span><span class="op" id="8631158">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631163">if</span>&nbsp;<span class="ident" id="8631166"><a href="/go/parser/parser_test.go.html#8630856">obj</a></span><span class="op" id="8631169">.</span><span class="ident" id="8631170">Kind</span>&nbsp;<span class="op" id="8631175">!=</span>&nbsp;<span class="ident" id="8631178"><a href="/go/parser/parser_test.go.html#8631132">kind</a></span>&nbsp;<span class="op" id="8631183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631189"><a href="/go/parser/parser_test.go.html#8630338">t</a></span><span class="op" id="8631190">.</span><span class="ident" id="8631191">Errorf</span><span class="op" id="8631197">(</span><span class="string" id="8631198">&#34;%s:&nbsp;obj.Kind&nbsp;=&nbsp;%s;&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8631226">,</span>&nbsp;<span class="ident" id="8631228"><a href="/go/parser/parser_test.go.html#8630819">ident</a></span><span class="op" id="8631233">.</span><span class="ident" id="8631234">Name</span><span class="op" id="8631238">,</span>&nbsp;<span class="ident" id="8631240"><a href="/go/parser/parser_test.go.html#8630856">obj</a></span><span class="op" id="8631243">.</span><span class="ident" id="8631244">Kind</span><span class="op" id="8631248">,</span>&nbsp;<span class="ident" id="8631250"><a href="/go/parser/parser_test.go.html#8631132">kind</a></span><span class="op" id="8631254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631267">return</span>&nbsp;<span class="builtintype" id="8631274">true</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631280">}</span><span class="op" id="8631281">)</span><br>
<span class="lineno"></span><span class="op" id="8631283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8631286">func</span>&nbsp;<span class="ident" id="8631291">TestUnresolved</span><span class="op" id="8631305">(</span><span class="ident" id="8631306">t</span>&nbsp;<span class="op" id="8631308">*</span><span class="ident" id="8631309"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8631316">.</span><span class="ident" id="8631317">T</span><span class="op" id="8631318">)</span>&nbsp;<span class="op" id="8631320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631323">f</span><span class="op" id="8631324">,</span>&nbsp;<span class="ident" id="8631326">err</span>&nbsp;<span class="op" id="8631330">:=</span>&nbsp;<span class="ident" id="8631333"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8631342">(</span><span class="ident" id="8631343"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8631347">,</span>&nbsp;<span class="string" id="8631349">&#34;&#34;</span><span class="op" id="8631351">,</span>&nbsp;<span class="string" id="8631353">`<br>
<span class="lineno">225</span>package&nbsp;p<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>func&nbsp;f1a(int)<br>
<span class="lineno"></span>func&nbsp;f2a(byte,&nbsp;int,&nbsp;float)<br>
<span class="lineno"></span>func&nbsp;f3a(a,&nbsp;b&nbsp;int,&nbsp;c&nbsp;float)<br>
<span class="lineno">230</span>func&nbsp;f4a(...complex)<br>
<span class="lineno"></span>func&nbsp;f5a(a&nbsp;s1a,&nbsp;b&nbsp;...complex)<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>func&nbsp;f1b(*int)<br>
<span class="lineno"></span>func&nbsp;f2b([]byte,&nbsp;(int),&nbsp;*float)<br>
<span class="lineno">235</span>func&nbsp;f3b(a,&nbsp;b&nbsp;*int,&nbsp;c&nbsp;[]float)<br>
<span class="lineno"></span>func&nbsp;f4b(...*complex)<br>
<span class="lineno"></span>func&nbsp;f5b(a&nbsp;s1a,&nbsp;b&nbsp;...[]complex)<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>type&nbsp;s1a&nbsp;struct&nbsp;{&nbsp;int&nbsp;}<br>
<span class="lineno">240</span>type&nbsp;s2a&nbsp;struct&nbsp;{&nbsp;byte;&nbsp;int;&nbsp;s1a&nbsp;}<br>
<span class="lineno"></span>type&nbsp;s3a&nbsp;struct&nbsp;{&nbsp;a,&nbsp;b&nbsp;int;&nbsp;c&nbsp;float&nbsp;}<br>
<span class="lineno"></span>//<br>
<span class="lineno"></span>type&nbsp;s1b&nbsp;struct&nbsp;{&nbsp;*int&nbsp;}<br>
<span class="lineno"></span>type&nbsp;s2b&nbsp;struct&nbsp;{&nbsp;byte;&nbsp;int;&nbsp;*float&nbsp;}<br>
<span class="lineno">245</span>type&nbsp;s3b&nbsp;struct&nbsp;{&nbsp;a,&nbsp;b&nbsp;*s3b;&nbsp;c&nbsp;[]float&nbsp;}<br>
<span class="lineno"></span>`</span><span class="op" id="8631831">,</span>&nbsp;<span class="num" id="8631833">0</span><span class="op" id="8631834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8631837">if</span>&nbsp;<span class="ident" id="8631840"><a href="/go/parser/parser_test.go.html#8631326">err</a></span>&nbsp;<span class="op" id="8631844">!=</span>&nbsp;<span class="ident" id="8631847">nil</span>&nbsp;<span class="op" id="8631851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631855"><a href="/go/parser/parser_test.go.html#8631306">t</a></span><span class="op" id="8631856">.</span><span class="ident" id="8631857">Fatal</span><span class="op" id="8631862">(</span><span class="ident" id="8631863"><a href="/go/parser/parser_test.go.html#8631326">err</a></span><span class="op" id="8631866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8631869">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8631873">want</span>&nbsp;<span class="op" id="8631878">:=</span>&nbsp;<span class="string" id="8631881">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="8631888">+</span>&nbsp;<span class="comment" id="8631890">//&nbsp;f1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631899">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8631917">+</span>&nbsp;<span class="comment" id="8631919">//&nbsp;f2a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631928">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8631941">+</span>&nbsp;<span class="comment" id="8631943">//&nbsp;f3a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631952">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="8631963">+</span>&nbsp;<span class="comment" id="8631965">//&nbsp;f4a</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8631974">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="8631985">+</span>&nbsp;<span class="comment" id="8631987">//&nbsp;f5a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8631996">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632001">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="8632008">+</span>&nbsp;<span class="comment" id="8632010">//&nbsp;f1b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632019">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8632037">+</span>&nbsp;<span class="comment" id="8632039">//&nbsp;f2b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632048">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8632061">+</span>&nbsp;<span class="comment" id="8632063">//&nbsp;f3b</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632072">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="8632083">+</span>&nbsp;<span class="comment" id="8632085">//&nbsp;f4b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632094">&#34;complex&nbsp;&#34;</span>&nbsp;<span class="op" id="8632105">+</span>&nbsp;<span class="comment" id="8632107">//&nbsp;f5b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632116">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632121">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="8632128">+</span>&nbsp;<span class="comment" id="8632130">//&nbsp;s1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632139">&#34;byte&nbsp;int&nbsp;&#34;</span>&nbsp;<span class="op" id="8632151">+</span>&nbsp;<span class="comment" id="8632153">//&nbsp;s2a</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632162">&#34;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8632175">+</span>&nbsp;<span class="comment" id="8632177">//&nbsp;s3a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632186">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632191">&#34;int&nbsp;&#34;</span>&nbsp;<span class="op" id="8632198">+</span>&nbsp;<span class="comment" id="8632200">//&nbsp;s1a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632209">&#34;byte&nbsp;int&nbsp;float&nbsp;&#34;</span>&nbsp;<span class="op" id="8632227">+</span>&nbsp;<span class="comment" id="8632229">//&nbsp;s2a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632238">&#34;float&nbsp;&#34;</span>&nbsp;<span class="comment" id="8632247">//&nbsp;s3a</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632256">//&nbsp;collect&nbsp;unresolved&nbsp;identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8632291">var</span>&nbsp;<span class="ident" id="8632295">buf</span>&nbsp;<span class="ident" id="8632299"><a href="/go/parser/parser_test.go.html#8626424">bytes</a></span><span class="op" id="8632304">.</span><span class="ident" id="8632305">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8632313">for</span>&nbsp;<span class="ident" id="8632317">_</span><span class="op" id="8632318">,</span>&nbsp;<span class="ident" id="8632320">u</span>&nbsp;<span class="op" id="8632322">:=</span>&nbsp;<span class="keyword" id="8632325">range</span>&nbsp;<span class="ident" id="8632331"><a href="/go/parser/parser_test.go.html#8631323">f</a></span><span class="op" id="8632332">.</span><span class="ident" id="8632333">Unresolved</span>&nbsp;<span class="op" id="8632344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8632348"><a href="/go/parser/parser_test.go.html#8632295">buf</a></span><span class="op" id="8632351">.</span><span class="ident" id="8632352">WriteString</span><span class="op" id="8632363">(</span><span class="ident" id="8632364"><a href="/go/parser/parser_test.go.html#8632320">u</a></span><span class="op" id="8632365">.</span><span class="ident" id="8632366">Name</span><span class="op" id="8632370">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8632374"><a href="/go/parser/parser_test.go.html#8632295">buf</a></span><span class="op" id="8632377">.</span><span class="ident" id="8632378">WriteByte</span><span class="op" id="8632387">(</span><span class="string" id="8632388">&#39;&nbsp;&#39;</span><span class="op" id="8632391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8632394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8632397">got</span>&nbsp;<span class="op" id="8632401">:=</span>&nbsp;<span class="ident" id="8632404"><a href="/go/parser/parser_test.go.html#8632295">buf</a></span><span class="op" id="8632407">.</span><span class="ident" id="8632408">String</span><span class="op" id="8632414">(</span><span class="op" id="8632415">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8632419">if</span>&nbsp;<span class="ident" id="8632422"><a href="/go/parser/parser_test.go.html#8632397">got</a></span>&nbsp;<span class="op" id="8632426">!=</span>&nbsp;<span class="ident" id="8632429"><a href="/go/parser/parser_test.go.html#8631873">want</a></span>&nbsp;<span class="op" id="8632434">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8632438"><a href="/go/parser/parser_test.go.html#8631306">t</a></span><span class="op" id="8632439">.</span><span class="ident" id="8632440">Errorf</span><span class="op" id="8632446">(</span><span class="string" id="8632447">&#34;\ngot:&nbsp;&nbsp;%s\nwant:&nbsp;%s&#34;</span><span class="op" id="8632469">,</span>&nbsp;<span class="ident" id="8632471"><a href="/go/parser/parser_test.go.html#8632397">got</a></span><span class="op" id="8632474">,</span>&nbsp;<span class="ident" id="8632476"><a href="/go/parser/parser_test.go.html#8631873">want</a></span><span class="op" id="8632480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8632483">}</span><br>
<span class="lineno"></span><span class="op" id="8632485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8632488">var</span>&nbsp;<span class="ident" id="8632492">imports</span>&nbsp;<span class="op" id="8632500">=</span>&nbsp;<span class="keyword" id="8632502">map</span><span class="op" id="8632505">[</span><span class="builtintype" id="8632506">string</span><span class="op" id="8632512">]</span><span class="builtintype" id="8632513">bool</span><span class="op" id="8632517">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632520">`&#34;a&#34;`</span><span class="op" id="8632525">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632534">true</span><span class="op" id="8632538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632541">&#34;`a`&#34;</span><span class="op" id="8632546">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632555">true</span><span class="op" id="8632559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632562">`&#34;a/b&#34;`</span><span class="op" id="8632569">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632576">true</span><span class="op" id="8632580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632583">`&#34;a.b&#34;`</span><span class="op" id="8632590">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632597">true</span><span class="op" id="8632601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632604">`&#34;m\x61th&#34;`</span><span class="op" id="8632615">:</span>&nbsp;&nbsp;<span class="builtintype" id="8632618">true</span><span class="op" id="8632622">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632625">`&#34;greek/αβ&#34;`</span><span class="op" id="8632639">:</span>&nbsp;<span class="builtintype" id="8632641">true</span><span class="op" id="8632645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632648">`&#34;&#34;`</span><span class="op" id="8632652">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632662">false</span><span class="op" id="8632667">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632671">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;pairs&nbsp;tests&nbsp;both&nbsp;``&nbsp;vs&nbsp;&#34;&#34;&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632723">//&nbsp;and&nbsp;also&nbsp;use&nbsp;of&nbsp;invalid&nbsp;characters&nbsp;spelled&nbsp;out&nbsp;as</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632777">//&nbsp;escape&nbsp;sequences&nbsp;and&nbsp;written&nbsp;directly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632820">//&nbsp;For&nbsp;example&nbsp;`&#34;\x00&#34;`&nbsp;tests&nbsp;import&nbsp;&#34;\x00&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8632865">//&nbsp;while&nbsp;&#34;`\x00`&#34;&nbsp;tests&nbsp;import&nbsp;`&lt;actual-NUL-byte&gt;`.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632918">`&#34;\x00&#34;`</span><span class="op" id="8632926">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632932">false</span><span class="op" id="8632937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632940">&#34;`\x00`&#34;</span><span class="op" id="8632948">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632954">false</span><span class="op" id="8632959">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632962">`&#34;\x7f&#34;`</span><span class="op" id="8632970">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632976">false</span><span class="op" id="8632981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8632984">&#34;`\x7f`&#34;</span><span class="op" id="8632992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8632998">false</span><span class="op" id="8633003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633006">`&#34;a!&#34;`</span><span class="op" id="8633012">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633020">false</span><span class="op" id="8633025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633028">&#34;`a!`&#34;</span><span class="op" id="8633034">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633042">false</span><span class="op" id="8633047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633050">`&#34;a&nbsp;b&#34;`</span><span class="op" id="8633057">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633064">false</span><span class="op" id="8633069">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633072">&#34;`a&nbsp;b`&#34;</span><span class="op" id="8633079">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633086">false</span><span class="op" id="8633091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633094">`&#34;a\\b&#34;`</span><span class="op" id="8633102">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633108">false</span><span class="op" id="8633113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633116">&#34;`a\\b`&#34;</span><span class="op" id="8633124">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633130">false</span><span class="op" id="8633135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633138">&#34;\&#34;`a`\&#34;&#34;</span><span class="op" id="8633147">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633152">false</span><span class="op" id="8633157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633160">&#34;`\&#34;a\&#34;`&#34;</span><span class="op" id="8633169">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633174">false</span><span class="op" id="8633179">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633182">`&#34;\x80\x80&#34;`</span><span class="op" id="8633194">:</span>&nbsp;<span class="builtintype" id="8633196">false</span><span class="op" id="8633201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633204">&#34;`\x80\x80`&#34;</span><span class="op" id="8633216">:</span>&nbsp;<span class="builtintype" id="8633218">false</span><span class="op" id="8633223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633226">`&#34;\xFFFD&#34;`</span><span class="op" id="8633236">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633240">false</span><span class="op" id="8633245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8633248">&#34;`\xFFFD`&#34;</span><span class="op" id="8633258">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8633262">false</span><span class="op" id="8633267">,</span><br>
<span class="lineno"></span><span class="op" id="8633269">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="8633272">func</span>&nbsp;<span class="ident" id="8633277">TestImports</span><span class="op" id="8633288">(</span><span class="ident" id="8633289">t</span>&nbsp;<span class="op" id="8633291">*</span><span class="ident" id="8633292"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8633299">.</span><span class="ident" id="8633300">T</span><span class="op" id="8633301">)</span>&nbsp;<span class="op" id="8633303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8633306">for</span>&nbsp;<span class="ident" id="8633310">path</span><span class="op" id="8633314">,</span>&nbsp;<span class="ident" id="8633316">isValid</span>&nbsp;<span class="op" id="8633324">:=</span>&nbsp;<span class="keyword" id="8633327">range</span>&nbsp;<span class="ident" id="8633333"><a href="/go/parser/parser_test.go.html#8632492">imports</a></span>&nbsp;<span class="op" id="8633341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8633345">src</span>&nbsp;<span class="op" id="8633349">:=</span>&nbsp;<span class="ident" id="8633352"><a href="/go/parser/parser_test.go.html#8626433">fmt</a></span><span class="op" id="8633355">.</span><span class="ident" id="8633356">Sprintf</span><span class="op" id="8633363">(</span><span class="string" id="8633364">&#34;package&nbsp;p;&nbsp;import&nbsp;%s&#34;</span><span class="op" id="8633386">,</span>&nbsp;<span class="ident" id="8633388"><a href="/go/parser/parser_test.go.html#8633310">path</a></span><span class="op" id="8633392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8633396">_</span><span class="op" id="8633397">,</span>&nbsp;<span class="ident" id="8633399">err</span>&nbsp;<span class="op" id="8633403">:=</span>&nbsp;<span class="ident" id="8633406"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8633415">(</span><span class="ident" id="8633416"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8633420">,</span>&nbsp;<span class="string" id="8633422">&#34;&#34;</span><span class="op" id="8633424">,</span>&nbsp;<span class="ident" id="8633426"><a href="/go/parser/parser_test.go.html#8633345">src</a></span><span class="op" id="8633429">,</span>&nbsp;<span class="num" id="8633431">0</span><span class="op" id="8633432">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8633436">switch</span>&nbsp;<span class="op" id="8633443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8633447">case</span>&nbsp;<span class="ident" id="8633452"><a href="/go/parser/parser_test.go.html#8633399">err</a></span>&nbsp;<span class="op" id="8633456">!=</span>&nbsp;<span class="ident" id="8633459">nil</span>&nbsp;<span class="op" id="8633463">&amp;&amp;</span>&nbsp;<span class="ident" id="8633466"><a href="/go/parser/parser_test.go.html#8633316">isValid</a></span><span class="op" id="8633473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8633478"><a href="/go/parser/parser_test.go.html#8633289">t</a></span><span class="op" id="8633479">.</span><span class="ident" id="8633480">Errorf</span><span class="op" id="8633486">(</span><span class="string" id="8633487">&#34;ParseFile(%s):&nbsp;got&nbsp;%v;&nbsp;expected&nbsp;no&nbsp;error&#34;</span><span class="op" id="8633529">,</span>&nbsp;<span class="ident" id="8633531"><a href="/go/parser/parser_test.go.html#8633345">src</a></span><span class="op" id="8633534">,</span>&nbsp;<span class="ident" id="8633536"><a href="/go/parser/parser_test.go.html#8633399">err</a></span><span class="op" id="8633539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8633543">case</span>&nbsp;<span class="ident" id="8633548"><a href="/go/parser/parser_test.go.html#8633399">err</a></span>&nbsp;<span class="op" id="8633552">==</span>&nbsp;<span class="ident" id="8633555">nil</span>&nbsp;<span class="op" id="8633559">&amp;&amp;</span>&nbsp;<span class="op" id="8633562">!</span><span class="ident" id="8633563"><a href="/go/parser/parser_test.go.html#8633316">isValid</a></span><span class="op" id="8633570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8633575"><a href="/go/parser/parser_test.go.html#8633289">t</a></span><span class="op" id="8633576">.</span><span class="ident" id="8633577">Errorf</span><span class="op" id="8633583">(</span><span class="string" id="8633584">&#34;ParseFile(%s):&nbsp;got&nbsp;no&nbsp;error;&nbsp;expected&nbsp;one&#34;</span><span class="op" id="8633627">,</span>&nbsp;<span class="ident" id="8633629"><a href="/go/parser/parser_test.go.html#8633345">src</a></span><span class="op" id="8633632">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8633636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8633639">}</span><br>
<span class="lineno"></span><span class="op" id="8633641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8633644">func</span>&nbsp;<span class="ident" id="8633649">TestCommentGroups</span><span class="op" id="8633666">(</span><span class="ident" id="8633667">t</span>&nbsp;<span class="op" id="8633669">*</span><span class="ident" id="8633670"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8633677">.</span><span class="ident" id="8633678">T</span><span class="op" id="8633679">)</span>&nbsp;<span class="op" id="8633681">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8633684">f</span><span class="op" id="8633685">,</span>&nbsp;<span class="ident" id="8633687">err</span>&nbsp;<span class="op" id="8633691">:=</span>&nbsp;<span class="ident" id="8633694"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8633703">(</span><span class="ident" id="8633704"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8633708">,</span>&nbsp;<span class="string" id="8633710">&#34;&#34;</span><span class="op" id="8633712">,</span>&nbsp;<span class="string" id="8633714">`<br>
<span class="lineno"></span>package&nbsp;p&nbsp;/*&nbsp;1a&nbsp;*/&nbsp;/*&nbsp;1b&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;1c&nbsp;*/&nbsp;//&nbsp;1d<br>
<span class="lineno"></span>/*&nbsp;2a<br>
<span class="lineno"></span>*/<br>
<span class="lineno"></span>//&nbsp;2b<br>
<span class="lineno">335</span>const&nbsp;pi&nbsp;=&nbsp;3.1415<br>
<span class="lineno"></span>/*&nbsp;3a&nbsp;*/&nbsp;//&nbsp;3b<br>
<span class="lineno"></span>/*&nbsp;3c&nbsp;*/&nbsp;const&nbsp;e&nbsp;=&nbsp;2.7182<br>
<span class="lineno"></span><br>
<span class="lineno"></span>//&nbsp;Example&nbsp;from&nbsp;issue&nbsp;3139<br>
<span class="lineno">340</span>func&nbsp;ExampleCount()&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Println(strings.Count(&#34;cheese&#34;,&nbsp;&#34;e&#34;))<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Println(strings.Count(&#34;five&#34;,&nbsp;&#34;&#34;))&nbsp;//&nbsp;before&nbsp;&amp;&nbsp;after&nbsp;each&nbsp;rune<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;Output:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;3<br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;5<br>
<span class="lineno"></span>}<br>
<span class="lineno"></span>`</span><span class="op" id="8634026">,</span>&nbsp;<span class="ident" id="8634028"><a href="/go/parser/interface.go.html#5214959">ParseComments</a></span><span class="op" id="8634041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634044">if</span>&nbsp;<span class="ident" id="8634047"><a href="/go/parser/parser_test.go.html#8633687">err</a></span>&nbsp;<span class="op" id="8634051">!=</span>&nbsp;<span class="ident" id="8634054">nil</span>&nbsp;<span class="op" id="8634058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634062"><a href="/go/parser/parser_test.go.html#8633667">t</a></span><span class="op" id="8634063">.</span><span class="ident" id="8634064">Fatal</span><span class="op" id="8634069">(</span><span class="ident" id="8634070"><a href="/go/parser/parser_test.go.html#8633687">err</a></span><span class="op" id="8634073">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634079">expected</span>&nbsp;<span class="op" id="8634088">:=</span>&nbsp;<span class="op" id="8634091">[</span><span class="op" id="8634092">]</span><span class="op" id="8634093">[</span><span class="op" id="8634094">]</span><span class="builtintype" id="8634095">string</span><span class="op" id="8634101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634105">{</span><span class="string" id="8634106">&#34;/*&nbsp;1a&nbsp;*/&#34;</span><span class="op" id="8634116">,</span>&nbsp;<span class="string" id="8634118">&#34;/*&nbsp;1b&nbsp;*/&#34;</span><span class="op" id="8634128">,</span>&nbsp;<span class="string" id="8634130">&#34;/*&nbsp;1c&nbsp;*/&#34;</span><span class="op" id="8634140">,</span>&nbsp;<span class="string" id="8634142">&#34;//&nbsp;1d&#34;</span><span class="op" id="8634149">}</span><span class="op" id="8634150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634154">{</span><span class="string" id="8634155">&#34;/*&nbsp;2a\n*/&#34;</span><span class="op" id="8634166">,</span>&nbsp;<span class="string" id="8634168">&#34;//&nbsp;2b&#34;</span><span class="op" id="8634175">}</span><span class="op" id="8634176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634180">{</span><span class="string" id="8634181">&#34;/*&nbsp;3a&nbsp;*/&#34;</span><span class="op" id="8634191">,</span>&nbsp;<span class="string" id="8634193">&#34;//&nbsp;3b&#34;</span><span class="op" id="8634200">,</span>&nbsp;<span class="string" id="8634202">&#34;/*&nbsp;3c&nbsp;*/&#34;</span><span class="op" id="8634212">}</span><span class="op" id="8634213">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634217">{</span><span class="string" id="8634218">&#34;//&nbsp;Example&nbsp;from&nbsp;issue&nbsp;3139&#34;</span><span class="op" id="8634246">}</span><span class="op" id="8634247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634251">{</span><span class="string" id="8634252">&#34;//&nbsp;before&nbsp;&amp;&nbsp;after&nbsp;each&nbsp;rune&#34;</span><span class="op" id="8634281">}</span><span class="op" id="8634282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634286">{</span><span class="string" id="8634287">&#34;//&nbsp;Output:&#34;</span><span class="op" id="8634299">,</span>&nbsp;<span class="string" id="8634301">&#34;//&nbsp;3&#34;</span><span class="op" id="8634307">,</span>&nbsp;<span class="string" id="8634309">&#34;//&nbsp;5&#34;</span><span class="op" id="8634315">}</span><span class="op" id="8634316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634322">if</span>&nbsp;<span class="builtinfunc" id="8634325">len</span><span class="op" id="8634328">(</span><span class="ident" id="8634329"><a href="/go/parser/parser_test.go.html#8633684">f</a></span><span class="op" id="8634330">.</span><span class="ident" id="8634331">Comments</span><span class="op" id="8634339">)</span>&nbsp;<span class="op" id="8634341">!=</span>&nbsp;<span class="builtinfunc" id="8634344">len</span><span class="op" id="8634347">(</span><span class="ident" id="8634348"><a href="/go/parser/parser_test.go.html#8634079">expected</a></span><span class="op" id="8634356">)</span>&nbsp;<span class="op" id="8634358">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634362"><a href="/go/parser/parser_test.go.html#8633667">t</a></span><span class="op" id="8634363">.</span><span class="ident" id="8634364">Fatalf</span><span class="op" id="8634370">(</span><span class="string" id="8634371">&#34;got&nbsp;%d&nbsp;comment&nbsp;groups;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8634407">,</span>&nbsp;<span class="builtinfunc" id="8634409">len</span><span class="op" id="8634412">(</span><span class="ident" id="8634413"><a href="/go/parser/parser_test.go.html#8633684">f</a></span><span class="op" id="8634414">.</span><span class="ident" id="8634415">Comments</span><span class="op" id="8634423">)</span><span class="op" id="8634424">,</span>&nbsp;<span class="builtinfunc" id="8634426">len</span><span class="op" id="8634429">(</span><span class="ident" id="8634430"><a href="/go/parser/parser_test.go.html#8634079">expected</a></span><span class="op" id="8634438">)</span><span class="op" id="8634439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634445">for</span>&nbsp;<span class="ident" id="8634449">i</span><span class="op" id="8634450">,</span>&nbsp;<span class="ident" id="8634452">exp</span>&nbsp;<span class="op" id="8634456">:=</span>&nbsp;<span class="keyword" id="8634459">range</span>&nbsp;<span class="ident" id="8634465"><a href="/go/parser/parser_test.go.html#8634079">expected</a></span>&nbsp;<span class="op" id="8634474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634478">got</span>&nbsp;<span class="op" id="8634482">:=</span>&nbsp;<span class="ident" id="8634485"><a href="/go/parser/parser_test.go.html#8633684">f</a></span><span class="op" id="8634486">.</span><span class="ident" id="8634487">Comments</span><span class="op" id="8634495">[</span><span class="ident" id="8634496"><a href="/go/parser/parser_test.go.html#8634449">i</a></span><span class="op" id="8634497">]</span><span class="op" id="8634498">.</span><span class="ident" id="8634499">List</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634506">if</span>&nbsp;<span class="builtinfunc" id="8634509">len</span><span class="op" id="8634512">(</span><span class="ident" id="8634513"><a href="/go/parser/parser_test.go.html#8634478">got</a></span><span class="op" id="8634516">)</span>&nbsp;<span class="op" id="8634518">!=</span>&nbsp;<span class="builtinfunc" id="8634521">len</span><span class="op" id="8634524">(</span><span class="ident" id="8634525"><a href="/go/parser/parser_test.go.html#8634452">exp</a></span><span class="op" id="8634528">)</span>&nbsp;<span class="op" id="8634530">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634535"><a href="/go/parser/parser_test.go.html#8633667">t</a></span><span class="op" id="8634536">.</span><span class="ident" id="8634537">Errorf</span><span class="op" id="8634543">(</span><span class="string" id="8634544">&#34;got&nbsp;%d&nbsp;comments&nbsp;in&nbsp;group&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8634586">,</span>&nbsp;<span class="builtinfunc" id="8634588">len</span><span class="op" id="8634591">(</span><span class="ident" id="8634592"><a href="/go/parser/parser_test.go.html#8634478">got</a></span><span class="op" id="8634595">)</span><span class="op" id="8634596">,</span>&nbsp;<span class="ident" id="8634598"><a href="/go/parser/parser_test.go.html#8634449">i</a></span><span class="op" id="8634599">,</span>&nbsp;<span class="builtinfunc" id="8634601">len</span><span class="op" id="8634604">(</span><span class="ident" id="8634605"><a href="/go/parser/parser_test.go.html#8634452">exp</a></span><span class="op" id="8634608">)</span><span class="op" id="8634609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634614">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634629">for</span>&nbsp;<span class="ident" id="8634633">j</span><span class="op" id="8634634">,</span>&nbsp;<span class="ident" id="8634636">exp</span>&nbsp;<span class="op" id="8634640">:=</span>&nbsp;<span class="keyword" id="8634643">range</span>&nbsp;<span class="ident" id="8634649"><a href="/go/parser/parser_test.go.html#8634452">exp</a></span>&nbsp;<span class="op" id="8634653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634658">got</span>&nbsp;<span class="op" id="8634662">:=</span>&nbsp;<span class="ident" id="8634665"><a href="/go/parser/parser_test.go.html#8634478">got</a></span><span class="op" id="8634668">[</span><span class="ident" id="8634669"><a href="/go/parser/parser_test.go.html#8634633">j</a></span><span class="op" id="8634670">]</span><span class="op" id="8634671">.</span><span class="ident" id="8634672">Text</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634680">if</span>&nbsp;<span class="ident" id="8634683"><a href="/go/parser/parser_test.go.html#8634658">got</a></span>&nbsp;<span class="op" id="8634687">!=</span>&nbsp;<span class="ident" id="8634690"><a href="/go/parser/parser_test.go.html#8634636">exp</a></span>&nbsp;<span class="op" id="8634694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634700"><a href="/go/parser/parser_test.go.html#8633667">t</a></span><span class="op" id="8634701">.</span><span class="ident" id="8634702">Errorf</span><span class="op" id="8634708">(</span><span class="string" id="8634709">&#34;got&nbsp;%q&nbsp;in&nbsp;group&nbsp;%d;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8634742">,</span>&nbsp;<span class="ident" id="8634744"><a href="/go/parser/parser_test.go.html#8634658">got</a></span><span class="op" id="8634747">,</span>&nbsp;<span class="ident" id="8634749"><a href="/go/parser/parser_test.go.html#8634449">i</a></span><span class="op" id="8634750">,</span>&nbsp;<span class="ident" id="8634752"><a href="/go/parser/parser_test.go.html#8634636">exp</a></span><span class="op" id="8634755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8634767">}</span><br>
<span class="lineno">375</span><span class="op" id="8634769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8634772">func</span>&nbsp;<span class="ident" id="8634777">getField</span><span class="op" id="8634785">(</span><span class="ident" id="8634786">file</span>&nbsp;<span class="op" id="8634791">*</span><span class="ident" id="8634792"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8634795">.</span><span class="ident" id="8634796">File</span><span class="op" id="8634800">,</span>&nbsp;<span class="ident" id="8634802">fieldname</span>&nbsp;<span class="builtintype" id="8634812">string</span><span class="op" id="8634818">)</span>&nbsp;<span class="op" id="8634820">*</span><span class="ident" id="8634821"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8634824">.</span><span class="ident" id="8634825">Field</span>&nbsp;<span class="op" id="8634831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8634834">parts</span>&nbsp;<span class="op" id="8634840">:=</span>&nbsp;<span class="ident" id="8634843"><a href="/go/parser/parser_test.go.html#8626468">strings</a></span><span class="op" id="8634850">.</span><span class="ident" id="8634851">Split</span><span class="op" id="8634856">(</span><span class="ident" id="8634857"><a href="/go/parser/parser_test.go.html#8634802">fieldname</a></span><span class="op" id="8634866">,</span>&nbsp;<span class="string" id="8634868">&#34;.&#34;</span><span class="op" id="8634871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634874">for</span>&nbsp;<span class="ident" id="8634878">_</span><span class="op" id="8634879">,</span>&nbsp;<span class="ident" id="8634881">d</span>&nbsp;<span class="op" id="8634883">:=</span>&nbsp;<span class="keyword" id="8634886">range</span>&nbsp;<span class="ident" id="8634892"><a href="/go/parser/parser_test.go.html#8634786">file</a></span><span class="op" id="8634896">.</span><span class="ident" id="8634897">Decls</span>&nbsp;<span class="op" id="8634903">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634907">if</span>&nbsp;<span class="ident" id="8634910">d</span><span class="op" id="8634911">,</span>&nbsp;<span class="ident" id="8634913">ok</span>&nbsp;<span class="op" id="8634916">:=</span>&nbsp;<span class="ident" id="8634919"><a href="/go/parser/parser_test.go.html#8634881">d</a></span><span class="op" id="8634920">.</span><span class="op" id="8634921">(</span><span class="op" id="8634922">*</span><span class="ident" id="8634923"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8634926">.</span><span class="ident" id="8634927">GenDecl</span><span class="op" id="8634934">)</span><span class="op" id="8634935">;</span>&nbsp;<span class="ident" id="8634937"><a href="/go/parser/parser_test.go.html#8634913">ok</a></span>&nbsp;<span class="op" id="8634940">&amp;&amp;</span>&nbsp;<span class="ident" id="8634943"><a href="/go/parser/parser_test.go.html#8634910">d</a></span><span class="op" id="8634944">.</span><span class="ident" id="8634945">Tok</span>&nbsp;<span class="op" id="8634949">==</span>&nbsp;<span class="ident" id="8634952"><a href="/go/parser/parser_test.go.html#8626450">token</a></span><span class="op" id="8634957">.</span><span class="ident" id="8634958">TYPE</span>&nbsp;<span class="op" id="8634963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8634968">for</span>&nbsp;<span class="ident" id="8634972">_</span><span class="op" id="8634973">,</span>&nbsp;<span class="ident" id="8634975">s</span>&nbsp;<span class="op" id="8634977">:=</span>&nbsp;<span class="keyword" id="8634980">range</span>&nbsp;<span class="ident" id="8634986"><a href="/go/parser/parser_test.go.html#8634910">d</a></span><span class="op" id="8634987">.</span><span class="ident" id="8634988">Specs</span>&nbsp;<span class="op" id="8634994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635000">if</span>&nbsp;<span class="ident" id="8635003">s</span><span class="op" id="8635004">,</span>&nbsp;<span class="ident" id="8635006">ok</span>&nbsp;<span class="op" id="8635009">:=</span>&nbsp;<span class="ident" id="8635012"><a href="/go/parser/parser_test.go.html#8634975">s</a></span><span class="op" id="8635013">.</span><span class="op" id="8635014">(</span><span class="op" id="8635015">*</span><span class="ident" id="8635016"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8635019">.</span><span class="ident" id="8635020">TypeSpec</span><span class="op" id="8635028">)</span><span class="op" id="8635029">;</span>&nbsp;<span class="ident" id="8635031"><a href="/go/parser/parser_test.go.html#8635006">ok</a></span>&nbsp;<span class="op" id="8635034">&amp;&amp;</span>&nbsp;<span class="ident" id="8635037"><a href="/go/parser/parser_test.go.html#8635003">s</a></span><span class="op" id="8635038">.</span><span class="ident" id="8635039">Name</span><span class="op" id="8635043">.</span><span class="ident" id="8635044">Name</span>&nbsp;<span class="op" id="8635049">==</span>&nbsp;<span class="ident" id="8635052"><a href="/go/parser/parser_test.go.html#8634834">parts</a></span><span class="op" id="8635057">[</span><span class="num" id="8635058">0</span><span class="op" id="8635059">]</span>&nbsp;<span class="op" id="8635061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635068">if</span>&nbsp;<span class="ident" id="8635071">s</span><span class="op" id="8635072">,</span>&nbsp;<span class="ident" id="8635074">ok</span>&nbsp;<span class="op" id="8635077">:=</span>&nbsp;<span class="ident" id="8635080"><a href="/go/parser/parser_test.go.html#8635003">s</a></span><span class="op" id="8635081">.</span><span class="ident" id="8635082">Type</span><span class="op" id="8635086">.</span><span class="op" id="8635087">(</span><span class="op" id="8635088">*</span><span class="ident" id="8635089"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8635092">.</span><span class="ident" id="8635093">StructType</span><span class="op" id="8635103">)</span><span class="op" id="8635104">;</span>&nbsp;<span class="ident" id="8635106"><a href="/go/parser/parser_test.go.html#8635074">ok</a></span>&nbsp;<span class="op" id="8635109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635117">for</span>&nbsp;<span class="ident" id="8635121">_</span><span class="op" id="8635122">,</span>&nbsp;<span class="ident" id="8635124">f</span>&nbsp;<span class="op" id="8635126">:=</span>&nbsp;<span class="keyword" id="8635129">range</span>&nbsp;<span class="ident" id="8635135"><a href="/go/parser/parser_test.go.html#8635071">s</a></span><span class="op" id="8635136">.</span><span class="ident" id="8635137">Fields</span><span class="op" id="8635143">.</span><span class="ident" id="8635144">List</span>&nbsp;<span class="op" id="8635149">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635158">for</span>&nbsp;<span class="ident" id="8635162">_</span><span class="op" id="8635163">,</span>&nbsp;<span class="ident" id="8635165">name</span>&nbsp;<span class="op" id="8635170">:=</span>&nbsp;<span class="keyword" id="8635173">range</span>&nbsp;<span class="ident" id="8635179"><a href="/go/parser/parser_test.go.html#8635124">f</a></span><span class="op" id="8635180">.</span><span class="ident" id="8635181">Names</span>&nbsp;<span class="op" id="8635187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635197">if</span>&nbsp;<span class="ident" id="8635200"><a href="/go/parser/parser_test.go.html#8635165">name</a></span><span class="op" id="8635204">.</span><span class="ident" id="8635205">Name</span>&nbsp;<span class="op" id="8635210">==</span>&nbsp;<span class="ident" id="8635213"><a href="/go/parser/parser_test.go.html#8634834">parts</a></span><span class="op" id="8635218">[</span><span class="num" id="8635219">1</span><span class="op" id="8635220">]</span>&nbsp;<span class="op" id="8635222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635233">return</span>&nbsp;<span class="ident" id="8635240"><a href="/go/parser/parser_test.go.html#8635124">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635259">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635289">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635295">return</span>&nbsp;<span class="ident" id="8635302">nil</span><br>
<span class="lineno"></span><span class="op" id="8635306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8635309">//&nbsp;Don&#39;t&nbsp;use&nbsp;ast.CommentGroup.Text()&nbsp;-&nbsp;we&nbsp;want&nbsp;to&nbsp;see&nbsp;exact&nbsp;comment&nbsp;text.</span><br>
<span class="lineno">400</span><span class="keyword" id="8635383">func</span>&nbsp;<span class="ident" id="8635388">commentText</span><span class="op" id="8635399">(</span><span class="ident" id="8635400">c</span>&nbsp;<span class="op" id="8635402">*</span><span class="ident" id="8635403"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8635406">.</span><span class="ident" id="8635407">CommentGroup</span><span class="op" id="8635419">)</span>&nbsp;<span class="builtintype" id="8635421">string</span>&nbsp;<span class="op" id="8635428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635431">var</span>&nbsp;<span class="ident" id="8635435">buf</span>&nbsp;<span class="ident" id="8635439"><a href="/go/parser/parser_test.go.html#8626424">bytes</a></span><span class="op" id="8635444">.</span><span class="ident" id="8635445">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635453">if</span>&nbsp;<span class="ident" id="8635456"><a href="/go/parser/parser_test.go.html#8635400">c</a></span>&nbsp;<span class="op" id="8635458">!=</span>&nbsp;<span class="ident" id="8635461">nil</span>&nbsp;<span class="op" id="8635465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635469">for</span>&nbsp;<span class="ident" id="8635473">_</span><span class="op" id="8635474">,</span>&nbsp;<span class="ident" id="8635476">c</span>&nbsp;<span class="op" id="8635478">:=</span>&nbsp;<span class="keyword" id="8635481">range</span>&nbsp;<span class="ident" id="8635487"><a href="/go/parser/parser_test.go.html#8635400">c</a></span><span class="op" id="8635488">.</span><span class="ident" id="8635489">List</span>&nbsp;<span class="op" id="8635494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635499"><a href="/go/parser/parser_test.go.html#8635435">buf</a></span><span class="op" id="8635502">.</span><span class="ident" id="8635503">WriteString</span><span class="op" id="8635514">(</span><span class="ident" id="8635515"><a href="/go/parser/parser_test.go.html#8635476">c</a></span><span class="op" id="8635516">.</span><span class="ident" id="8635517">Text</span><span class="op" id="8635521">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635531">return</span>&nbsp;<span class="ident" id="8635538"><a href="/go/parser/parser_test.go.html#8635435">buf</a></span><span class="op" id="8635541">.</span><span class="ident" id="8635542">String</span><span class="op" id="8635548">(</span><span class="op" id="8635549">)</span><br>
<span class="lineno"></span><span class="op" id="8635551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="8635554">func</span>&nbsp;<span class="ident" id="8635559">checkFieldComments</span><span class="op" id="8635577">(</span><span class="ident" id="8635578">t</span>&nbsp;<span class="op" id="8635580">*</span><span class="ident" id="8635581"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8635588">.</span><span class="ident" id="8635589">T</span><span class="op" id="8635590">,</span>&nbsp;<span class="ident" id="8635592">file</span>&nbsp;<span class="op" id="8635597">*</span><span class="ident" id="8635598"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8635601">.</span><span class="ident" id="8635602">File</span><span class="op" id="8635606">,</span>&nbsp;<span class="ident" id="8635608">fieldname</span><span class="op" id="8635617">,</span>&nbsp;<span class="ident" id="8635619">lead</span><span class="op" id="8635623">,</span>&nbsp;<span class="ident" id="8635625">line</span>&nbsp;<span class="builtintype" id="8635630">string</span><span class="op" id="8635636">)</span>&nbsp;<span class="op" id="8635638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635641">f</span>&nbsp;<span class="op" id="8635643">:=</span>&nbsp;<span class="ident" id="8635646"><a href="/go/parser/parser_test.go.html#8634777">getField</a></span><span class="op" id="8635654">(</span><span class="ident" id="8635655"><a href="/go/parser/parser_test.go.html#8635592">file</a></span><span class="op" id="8635659">,</span>&nbsp;<span class="ident" id="8635661"><a href="/go/parser/parser_test.go.html#8635608">fieldname</a></span><span class="op" id="8635670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635673">if</span>&nbsp;<span class="ident" id="8635676"><a href="/go/parser/parser_test.go.html#8635641">f</a></span>&nbsp;<span class="op" id="8635678">==</span>&nbsp;<span class="ident" id="8635681">nil</span>&nbsp;<span class="op" id="8635685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635689"><a href="/go/parser/parser_test.go.html#8635578">t</a></span><span class="op" id="8635690">.</span><span class="ident" id="8635691">Fatalf</span><span class="op" id="8635697">(</span><span class="string" id="8635698">&#34;field&nbsp;not&nbsp;found:&nbsp;%s&#34;</span><span class="op" id="8635719">,</span>&nbsp;<span class="ident" id="8635721"><a href="/go/parser/parser_test.go.html#8635608">fieldname</a></span><span class="op" id="8635730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635733">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635736">if</span>&nbsp;<span class="ident" id="8635739">got</span>&nbsp;<span class="op" id="8635743">:=</span>&nbsp;<span class="ident" id="8635746"><a href="/go/parser/parser_test.go.html#8635388">commentText</a></span><span class="op" id="8635757">(</span><span class="ident" id="8635758"><a href="/go/parser/parser_test.go.html#8635641">f</a></span><span class="op" id="8635759">.</span><span class="ident" id="8635760">Doc</span><span class="op" id="8635763">)</span><span class="op" id="8635764">;</span>&nbsp;<span class="ident" id="8635766"><a href="/go/parser/parser_test.go.html#8635739">got</a></span>&nbsp;<span class="op" id="8635770">!=</span>&nbsp;<span class="ident" id="8635773"><a href="/go/parser/parser_test.go.html#8635619">lead</a></span>&nbsp;<span class="op" id="8635778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635782"><a href="/go/parser/parser_test.go.html#8635578">t</a></span><span class="op" id="8635783">.</span><span class="ident" id="8635784">Errorf</span><span class="op" id="8635790">(</span><span class="string" id="8635791">&#34;got&nbsp;lead&nbsp;comment&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8635825">,</span>&nbsp;<span class="ident" id="8635827"><a href="/go/parser/parser_test.go.html#8635739">got</a></span><span class="op" id="8635830">,</span>&nbsp;<span class="ident" id="8635832"><a href="/go/parser/parser_test.go.html#8635619">lead</a></span><span class="op" id="8635836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8635842">if</span>&nbsp;<span class="ident" id="8635845">got</span>&nbsp;<span class="op" id="8635849">:=</span>&nbsp;<span class="ident" id="8635852"><a href="/go/parser/parser_test.go.html#8635388">commentText</a></span><span class="op" id="8635863">(</span><span class="ident" id="8635864"><a href="/go/parser/parser_test.go.html#8635641">f</a></span><span class="op" id="8635865">.</span><span class="ident" id="8635866">Comment</span><span class="op" id="8635873">)</span><span class="op" id="8635874">;</span>&nbsp;<span class="ident" id="8635876"><a href="/go/parser/parser_test.go.html#8635845">got</a></span>&nbsp;<span class="op" id="8635880">!=</span>&nbsp;<span class="ident" id="8635883"><a href="/go/parser/parser_test.go.html#8635625">line</a></span>&nbsp;<span class="op" id="8635888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8635892"><a href="/go/parser/parser_test.go.html#8635578">t</a></span><span class="op" id="8635893">.</span><span class="ident" id="8635894">Errorf</span><span class="op" id="8635900">(</span><span class="string" id="8635901">&#34;got&nbsp;line&nbsp;comment&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8635935">,</span>&nbsp;<span class="ident" id="8635937"><a href="/go/parser/parser_test.go.html#8635845">got</a></span><span class="op" id="8635940">,</span>&nbsp;<span class="ident" id="8635942"><a href="/go/parser/parser_test.go.html#8635625">line</a></span><span class="op" id="8635946">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8635949">}</span><br>
<span class="lineno"></span><span class="op" id="8635951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8635954">func</span>&nbsp;<span class="ident" id="8635959">TestLeadAndLineComments</span><span class="op" id="8635982">(</span><span class="ident" id="8635983">t</span>&nbsp;<span class="op" id="8635985">*</span><span class="ident" id="8635986"><a href="/go/parser/parser_test.go.html#8626479">testing</a></span><span class="op" id="8635993">.</span><span class="ident" id="8635994">T</span><span class="op" id="8635995">)</span>&nbsp;<span class="op" id="8635997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636000">f</span><span class="op" id="8636001">,</span>&nbsp;<span class="ident" id="8636003">err</span>&nbsp;<span class="op" id="8636007">:=</span>&nbsp;<span class="ident" id="8636010"><a href="/go/parser/interface.go.html#5216452">ParseFile</a></span><span class="op" id="8636019">(</span><span class="ident" id="8636020"><a href="/go/parser/parser_test.go.html#8626496">fset</a></span><span class="op" id="8636024">,</span>&nbsp;<span class="string" id="8636026">&#34;&#34;</span><span class="op" id="8636028">,</span>&nbsp;<span class="string" id="8636030">`<br>
<span class="lineno">425</span>package&nbsp;p<br>
<span class="lineno"></span>type&nbsp;T&nbsp;struct&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspF1&nbsp;int&nbsp;&nbsp;/*&nbsp;F1&nbsp;*/&nbsp;//&nbsp;line&nbsp;comment<br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;F2&nbsp;lead<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspF2&nbsp;int&nbsp;&nbsp;//&nbsp;F2&nbsp;line&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;f3&nbsp;lead&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspf3&nbsp;int&nbsp;&nbsp;//&nbsp;f3&nbsp;line&nbsp;comment<br>
<span class="lineno">435</span>}<br>
<span class="lineno"></span>`</span><span class="op" id="8636222">,</span>&nbsp;<span class="ident" id="8636224"><a href="/go/parser/interface.go.html#5214959">ParseComments</a></span><span class="op" id="8636237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8636240">if</span>&nbsp;<span class="ident" id="8636243"><a href="/go/parser/parser_test.go.html#8636003">err</a></span>&nbsp;<span class="op" id="8636247">!=</span>&nbsp;<span class="ident" id="8636250">nil</span>&nbsp;<span class="op" id="8636254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636258"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636259">.</span><span class="ident" id="8636260">Fatal</span><span class="op" id="8636265">(</span><span class="ident" id="8636266"><a href="/go/parser/parser_test.go.html#8636003">err</a></span><span class="op" id="8636269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636272">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636275"><a href="/go/parser/parser_test.go.html#8635559">checkFieldComments</a></span><span class="op" id="8636293">(</span><span class="ident" id="8636294"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636295">,</span>&nbsp;<span class="ident" id="8636297"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636298">,</span>&nbsp;<span class="string" id="8636300">&#34;T.F1&#34;</span><span class="op" id="8636306">,</span>&nbsp;<span class="string" id="8636308">&#34;/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*///&#34;</span><span class="op" id="8636333">,</span>&nbsp;<span class="string" id="8636335">&#34;/*&nbsp;F1&nbsp;*///&nbsp;line&nbsp;comment&#34;</span><span class="op" id="8636360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636363"><a href="/go/parser/parser_test.go.html#8635559">checkFieldComments</a></span><span class="op" id="8636381">(</span><span class="ident" id="8636382"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636383">,</span>&nbsp;<span class="ident" id="8636385"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636386">,</span>&nbsp;<span class="string" id="8636388">&#34;T.F2&#34;</span><span class="op" id="8636394">,</span>&nbsp;<span class="string" id="8636396">&#34;//&nbsp;F2&nbsp;lead//&nbsp;comment&#34;</span><span class="op" id="8636418">,</span>&nbsp;<span class="string" id="8636420">&#34;//&nbsp;F2&nbsp;line&nbsp;comment&#34;</span><span class="op" id="8636440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636443"><a href="/go/parser/parser_test.go.html#8635559">checkFieldComments</a></span><span class="op" id="8636461">(</span><span class="ident" id="8636462"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636463">,</span>&nbsp;<span class="ident" id="8636465"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636466">,</span>&nbsp;<span class="string" id="8636468">&#34;T.f3&#34;</span><span class="op" id="8636474">,</span>&nbsp;<span class="string" id="8636476">&#34;//&nbsp;f3&nbsp;lead&nbsp;comment&#34;</span><span class="op" id="8636496">,</span>&nbsp;<span class="string" id="8636498">&#34;//&nbsp;f3&nbsp;line&nbsp;comment&#34;</span><span class="op" id="8636518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636521"><a href="/go/parser/parser_test.go.html#8626440">ast</a></span><span class="op" id="8636524">.</span><span class="ident" id="8636525">FileExports</span><span class="op" id="8636536">(</span><span class="ident" id="8636537"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636541"><a href="/go/parser/parser_test.go.html#8635559">checkFieldComments</a></span><span class="op" id="8636559">(</span><span class="ident" id="8636560"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636561">,</span>&nbsp;<span class="ident" id="8636563"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636564">,</span>&nbsp;<span class="string" id="8636566">&#34;T.F1&#34;</span><span class="op" id="8636572">,</span>&nbsp;<span class="string" id="8636574">&#34;/*&nbsp;F1&nbsp;lead&nbsp;comment&nbsp;*///&#34;</span><span class="op" id="8636599">,</span>&nbsp;<span class="string" id="8636601">&#34;/*&nbsp;F1&nbsp;*///&nbsp;line&nbsp;comment&#34;</span><span class="op" id="8636626">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636629"><a href="/go/parser/parser_test.go.html#8635559">checkFieldComments</a></span><span class="op" id="8636647">(</span><span class="ident" id="8636648"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636649">,</span>&nbsp;<span class="ident" id="8636651"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636652">,</span>&nbsp;<span class="string" id="8636654">&#34;T.F2&#34;</span><span class="op" id="8636660">,</span>&nbsp;<span class="string" id="8636662">&#34;//&nbsp;F2&nbsp;lead//&nbsp;comment&#34;</span><span class="op" id="8636684">,</span>&nbsp;<span class="string" id="8636686">&#34;//&nbsp;F2&nbsp;line&nbsp;comment&#34;</span><span class="op" id="8636706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8636709">if</span>&nbsp;<span class="ident" id="8636712"><a href="/go/parser/parser_test.go.html#8634777">getField</a></span><span class="op" id="8636720">(</span><span class="ident" id="8636721"><a href="/go/parser/parser_test.go.html#8636000">f</a></span><span class="op" id="8636722">,</span>&nbsp;<span class="string" id="8636724">&#34;T.f3&#34;</span><span class="op" id="8636730">)</span>&nbsp;<span class="op" id="8636732">!=</span>&nbsp;<span class="ident" id="8636735">nil</span>&nbsp;<span class="op" id="8636739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8636743"><a href="/go/parser/parser_test.go.html#8635983">t</a></span><span class="op" id="8636744">.</span><span class="ident" id="8636745">Error</span><span class="op" id="8636750">(</span><span class="string" id="8636751">&#34;not&nbsp;expected&nbsp;to&nbsp;find&nbsp;T.f3&#34;</span><span class="op" id="8636778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8636781">}</span><br>
<span class="lineno"></span><span class="op" id="8636783">}</span>
</div>
</body>
</html>
