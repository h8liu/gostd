<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bufio</h2>
<ul>
<li><a href="/gostd/bufio/bufio.go.html">bufio.go</a></li>
<li><a href="/gostd/bufio/bufio_test.go.html">bufio_test.go</a></li>
<li><a href="/gostd/bufio/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bufio/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/bufio/scan.go.html">scan.go</a></li>
<li><a href="/gostd/bufio/scan_test.go.html">scan_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6969721">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6969776">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6969830">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6969881">package</span>&nbsp;<span class="ident" id="6969889">bufio</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6969896">//&nbsp;Exported&nbsp;for&nbsp;testing&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="6969926">import</span>&nbsp;<span class="op" id="6969933">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6969936">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6969951">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6969954">var</span>&nbsp;<span class="ident" id="6969958">IsSpace</span>&nbsp;<span class="op" id="6969966">=</span>&nbsp;<span class="ident" id="6969968">isSpace</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6969977">func</span>&nbsp;<span class="op" id="6969982">(</span><span class="ident" id="6969983">s</span>&nbsp;<span class="op" id="6969985">*</span><span class="ident" id="6969986">Scanner</span><span class="op" id="6969993">)</span>&nbsp;<span class="ident" id="6969995">MaxTokenSize</span><span class="op" id="6970007">(</span><span class="ident" id="6970008">n</span>&nbsp;<span class="builtintype" id="6970010">int</span><span class="op" id="6970013">)</span>&nbsp;<span class="op" id="6970015">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6970018">if</span>&nbsp;<span class="ident" id="6970021">n</span>&nbsp;<span class="op" id="6970023">&lt;</span>&nbsp;<span class="ident" id="6970025">utf8</span><span class="op" id="6970029">.</span><span class="ident" id="6970030">UTFMax</span>&nbsp;<span class="op" id="6970037">||</span>&nbsp;<span class="ident" id="6970040">n</span>&nbsp;<span class="op" id="6970042">&gt;</span>&nbsp;<span class="num" id="6970044">1e9</span>&nbsp;<span class="op" id="6970048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6970052">panic</span><span class="op" id="6970057">(</span><span class="string" id="6970058">&#34;bad&nbsp;max&nbsp;token&nbsp;size&#34;</span><span class="op" id="6970078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6970081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6970084">if</span>&nbsp;<span class="ident" id="6970087">n</span>&nbsp;<span class="op" id="6970089">&lt;</span>&nbsp;<span class="builtinfunc" id="6970091">len</span><span class="op" id="6970094">(</span><span class="ident" id="6970095">s</span><span class="op" id="6970096">.</span><span class="ident" id="6970097">buf</span><span class="op" id="6970100">)</span>&nbsp;<span class="op" id="6970102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6970106">s</span><span class="op" id="6970107">.</span><span class="ident" id="6970108">buf</span>&nbsp;<span class="op" id="6970112">=</span>&nbsp;<span class="builtinfunc" id="6970114">make</span><span class="op" id="6970118">(</span><span class="op" id="6970119">[</span><span class="op" id="6970120">]</span><span class="builtintype" id="6970121">byte</span><span class="op" id="6970125">,</span>&nbsp;<span class="ident" id="6970127">n</span><span class="op" id="6970128">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6970131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6970134">s</span><span class="op" id="6970135">.</span><span class="ident" id="6970136">maxTokenSize</span>&nbsp;<span class="op" id="6970149">=</span>&nbsp;<span class="ident" id="6970151">n</span><br>
<span class="lineno"></span><span class="op" id="6970153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6970156">//&nbsp;ErrOrEOF&nbsp;is&nbsp;like&nbsp;Err,&nbsp;but&nbsp;returns&nbsp;EOF.&nbsp;Used&nbsp;to&nbsp;test&nbsp;a&nbsp;corner&nbsp;case.</span><br>
<span class="lineno">25</span><span class="keyword" id="6970226">func</span>&nbsp;<span class="op" id="6970231">(</span><span class="ident" id="6970232">s</span>&nbsp;<span class="op" id="6970234">*</span><span class="ident" id="6970235">Scanner</span><span class="op" id="6970242">)</span>&nbsp;<span class="ident" id="6970244">ErrOrEOF</span><span class="op" id="6970252">(</span><span class="op" id="6970253">)</span>&nbsp;<span class="builtintype" id="6970255">error</span>&nbsp;<span class="op" id="6970261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6970264">return</span>&nbsp;<span class="ident" id="6970271">s</span><span class="op" id="6970272">.</span><span class="ident" id="6970273">err</span><br>
<span class="lineno"></span><span class="op" id="6970277">}</span>
</div>
</body>
</html>
