<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8054174">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8054229">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8054283">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8054334">package</span>&nbsp;<span class="ident" id="8054342">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8054352">import</span>&nbsp;<span class="op" id="8054359">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8054362">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8054372">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8054375">func</span>&nbsp;<span class="ident" id="8054380">TestURLNormalizer</span><span class="op" id="8054397">(</span><span class="ident" id="8054398">t</span>&nbsp;<span class="op" id="8054400">*</span><span class="ident" id="8054401">testing</span><span class="op" id="8054408">.</span><span class="ident" id="8054409">T</span><span class="op" id="8054410">)</span>&nbsp;<span class="op" id="8054412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054415">tests</span>&nbsp;<span class="op" id="8054421">:=</span>&nbsp;<span class="op" id="8054424">[</span><span class="op" id="8054425">]</span><span class="keyword" id="8054426">struct</span>&nbsp;<span class="op" id="8054433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054437">url</span><span class="op" id="8054440">,</span>&nbsp;<span class="ident" id="8054442">want</span>&nbsp;<span class="builtintype" id="8054447">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054455">}</span><span class="op" id="8054456">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054460">{</span><span class="string" id="8054461">&#34;&#34;</span><span class="op" id="8054463">,</span>&nbsp;<span class="string" id="8054465">&#34;&#34;</span><span class="op" id="8054467">}</span><span class="op" id="8054468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8054477">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8054530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8054535">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8054588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054592">}</span><span class="op" id="8054593">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054597">{</span><span class="string" id="8054598">&#34;&nbsp;&#34;</span><span class="op" id="8054601">,</span>&nbsp;<span class="string" id="8054603">&#34;%20&#34;</span><span class="op" id="8054608">}</span><span class="op" id="8054609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054613">{</span><span class="string" id="8054614">&#34;%7c&#34;</span><span class="op" id="8054619">,</span>&nbsp;<span class="string" id="8054621">&#34;%7c&#34;</span><span class="op" id="8054626">}</span><span class="op" id="8054627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054631">{</span><span class="string" id="8054632">&#34;%7C&#34;</span><span class="op" id="8054637">,</span>&nbsp;<span class="string" id="8054639">&#34;%7C&#34;</span><span class="op" id="8054644">}</span><span class="op" id="8054645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054649">{</span><span class="string" id="8054650">&#34;%2&#34;</span><span class="op" id="8054654">,</span>&nbsp;<span class="string" id="8054656">&#34;%252&#34;</span><span class="op" id="8054662">}</span><span class="op" id="8054663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054667">{</span><span class="string" id="8054668">&#34;%&#34;</span><span class="op" id="8054671">,</span>&nbsp;<span class="string" id="8054673">&#34;%25&#34;</span><span class="op" id="8054678">}</span><span class="op" id="8054679">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054683">{</span><span class="string" id="8054684">&#34;%z&#34;</span><span class="op" id="8054688">,</span>&nbsp;<span class="string" id="8054690">&#34;%25z&#34;</span><span class="op" id="8054696">}</span><span class="op" id="8054697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054701">{</span><span class="string" id="8054702">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="8054722">,</span>&nbsp;<span class="string" id="8054724">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="8054749">}</span><span class="op" id="8054750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054756">for</span>&nbsp;<span class="ident" id="8054760">_</span><span class="op" id="8054761">,</span>&nbsp;<span class="ident" id="8054763">test</span>&nbsp;<span class="op" id="8054768">:=</span>&nbsp;<span class="keyword" id="8054771">range</span>&nbsp;<span class="ident" id="8054777">tests</span>&nbsp;<span class="op" id="8054783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054787">if</span>&nbsp;<span class="ident" id="8054790">got</span>&nbsp;<span class="op" id="8054794">:=</span>&nbsp;<span class="ident" id="8054797">urlNormalizer</span><span class="op" id="8054810">(</span><span class="ident" id="8054811">test</span><span class="op" id="8054815">.</span><span class="ident" id="8054816">url</span><span class="op" id="8054819">)</span><span class="op" id="8054820">;</span>&nbsp;<span class="ident" id="8054822">test</span><span class="op" id="8054826">.</span><span class="ident" id="8054827">want</span>&nbsp;<span class="op" id="8054832">!=</span>&nbsp;<span class="ident" id="8054835">got</span>&nbsp;<span class="op" id="8054839">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054844">t</span><span class="op" id="8054845">.</span><span class="ident" id="8054846">Errorf</span><span class="op" id="8054852">(</span><span class="string" id="8054853">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="8054884">,</span>&nbsp;<span class="ident" id="8054886">test</span><span class="op" id="8054890">.</span><span class="ident" id="8054891">url</span><span class="op" id="8054894">,</span>&nbsp;<span class="ident" id="8054896">test</span><span class="op" id="8054900">.</span><span class="ident" id="8054901">want</span><span class="op" id="8054905">,</span>&nbsp;<span class="ident" id="8054907">got</span><span class="op" id="8054910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054918">if</span>&nbsp;<span class="ident" id="8054921">test</span><span class="op" id="8054925">.</span><span class="ident" id="8054926">want</span>&nbsp;<span class="op" id="8054931">!=</span>&nbsp;<span class="ident" id="8054934">urlNormalizer</span><span class="op" id="8054947">(</span><span class="ident" id="8054948">test</span><span class="op" id="8054952">.</span><span class="ident" id="8054953">want</span><span class="op" id="8054957">)</span>&nbsp;<span class="op" id="8054959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054964">t</span><span class="op" id="8054965">.</span><span class="ident" id="8054966">Errorf</span><span class="op" id="8054972">(</span><span class="string" id="8054973">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="8054993">,</span>&nbsp;<span class="ident" id="8054995">test</span><span class="op" id="8054999">.</span><span class="ident" id="8055000">want</span><span class="op" id="8055004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055008">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055011">}</span><br>
<span class="lineno"></span><span class="op" id="8055013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8055016">func</span>&nbsp;<span class="ident" id="8055021">TestURLFilters</span><span class="op" id="8055035">(</span><span class="ident" id="8055036">t</span>&nbsp;<span class="op" id="8055038">*</span><span class="ident" id="8055039">testing</span><span class="op" id="8055046">.</span><span class="ident" id="8055047">T</span><span class="op" id="8055048">)</span>&nbsp;<span class="op" id="8055050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055053">input</span>&nbsp;<span class="op" id="8055059">:=</span>&nbsp;<span class="op" id="8055062">(</span><span class="string" id="8055063">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="8055124">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055128">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="8055195">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055199">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="8055218">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055222">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="8055241">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055245">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="8055264">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055268">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="8055287">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055291">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8055310">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055314">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="8055336">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055340">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="8055382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055386">tests</span>&nbsp;<span class="op" id="8055392">:=</span>&nbsp;<span class="op" id="8055395">[</span><span class="op" id="8055396">]</span><span class="keyword" id="8055397">struct</span>&nbsp;<span class="op" id="8055404">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055408">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8055416">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055425">escaper</span>&nbsp;<span class="keyword" id="8055433">func</span><span class="op" id="8055437">(</span><span class="op" id="8055438">...</span><span class="keyword" id="8055441">interface</span><span class="op" id="8055450">{</span><span class="op" id="8055451">}</span><span class="op" id="8055452">)</span>&nbsp;<span class="builtintype" id="8055454">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055463">escaped</span>&nbsp;<span class="builtintype" id="8055471">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055479">}</span><span class="op" id="8055480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055484">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055489">&#34;urlEscaper&#34;</span><span class="op" id="8055501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055506">urlEscaper</span><span class="op" id="8055516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055521">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8055572">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055578">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8055629">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055635">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="8055682">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055688">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="8055719">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055725">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8055746">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055752">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="8055779">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055785">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8055806">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055812">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8055839">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055845">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8055898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055902">}</span><span class="op" id="8055903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055912">&#34;urlNormalizer&#34;</span><span class="op" id="8055927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055932">urlNormalizer</span><span class="op" id="8055945">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8055950">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8056001">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056007">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8056058">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056064">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="8056095">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056101">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="8056124">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056130">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8056149">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056155">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="8056178">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056184">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8056205">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056211">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8056238">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8056244">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8056297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056301">}</span><span class="op" id="8056302">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056309">for</span>&nbsp;<span class="ident" id="8056313">_</span><span class="op" id="8056314">,</span>&nbsp;<span class="ident" id="8056316">test</span>&nbsp;<span class="op" id="8056321">:=</span>&nbsp;<span class="keyword" id="8056324">range</span>&nbsp;<span class="ident" id="8056330">tests</span>&nbsp;<span class="op" id="8056336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056340">if</span>&nbsp;<span class="ident" id="8056343">s</span>&nbsp;<span class="op" id="8056345">:=</span>&nbsp;<span class="ident" id="8056348">test</span><span class="op" id="8056352">.</span><span class="ident" id="8056353">escaper</span><span class="op" id="8056360">(</span><span class="ident" id="8056361">input</span><span class="op" id="8056366">)</span><span class="op" id="8056367">;</span>&nbsp;<span class="ident" id="8056369">s</span>&nbsp;<span class="op" id="8056371">!=</span>&nbsp;<span class="ident" id="8056374">test</span><span class="op" id="8056378">.</span><span class="ident" id="8056379">escaped</span>&nbsp;<span class="op" id="8056387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056392">t</span><span class="op" id="8056393">.</span><span class="ident" id="8056394">Errorf</span><span class="op" id="8056400">(</span><span class="string" id="8056401">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="8056428">,</span>&nbsp;<span class="ident" id="8056430">test</span><span class="op" id="8056434">.</span><span class="ident" id="8056435">name</span><span class="op" id="8056439">,</span>&nbsp;<span class="ident" id="8056441">test</span><span class="op" id="8056445">.</span><span class="ident" id="8056446">escaped</span><span class="op" id="8056453">,</span>&nbsp;<span class="ident" id="8056455">s</span><span class="op" id="8056456">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056461">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056475">}</span><br>
<span class="lineno"></span><span class="op" id="8056477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8056480">func</span>&nbsp;<span class="ident" id="8056485">BenchmarkURLEscaper</span><span class="op" id="8056504">(</span><span class="ident" id="8056505">b</span>&nbsp;<span class="op" id="8056507">*</span><span class="ident" id="8056508">testing</span><span class="op" id="8056515">.</span><span class="ident" id="8056516">B</span><span class="op" id="8056517">)</span>&nbsp;<span class="op" id="8056519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056522">for</span>&nbsp;<span class="ident" id="8056526">i</span>&nbsp;<span class="op" id="8056528">:=</span>&nbsp;<span class="num" id="8056531">0</span><span class="op" id="8056532">;</span>&nbsp;<span class="ident" id="8056534">i</span>&nbsp;<span class="op" id="8056536">&lt;</span>&nbsp;<span class="ident" id="8056538">b</span><span class="op" id="8056539">.</span><span class="ident" id="8056540">N</span><span class="op" id="8056541">;</span>&nbsp;<span class="ident" id="8056543">i</span><span class="op" id="8056544">++</span>&nbsp;<span class="op" id="8056547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056551">urlEscaper</span><span class="op" id="8056561">(</span><span class="string" id="8056562">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8056611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056614">}</span><br>
<span class="lineno"></span><span class="op" id="8056616">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8056619">func</span>&nbsp;<span class="ident" id="8056624">BenchmarkURLEscaperNoSpecials</span><span class="op" id="8056653">(</span><span class="ident" id="8056654">b</span>&nbsp;<span class="op" id="8056656">*</span><span class="ident" id="8056657">testing</span><span class="op" id="8056664">.</span><span class="ident" id="8056665">B</span><span class="op" id="8056666">)</span>&nbsp;<span class="op" id="8056668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056671">for</span>&nbsp;<span class="ident" id="8056675">i</span>&nbsp;<span class="op" id="8056677">:=</span>&nbsp;<span class="num" id="8056680">0</span><span class="op" id="8056681">;</span>&nbsp;<span class="ident" id="8056683">i</span>&nbsp;<span class="op" id="8056685">&lt;</span>&nbsp;<span class="ident" id="8056687">b</span><span class="op" id="8056688">.</span><span class="ident" id="8056689">N</span><span class="op" id="8056690">;</span>&nbsp;<span class="ident" id="8056692">i</span><span class="op" id="8056693">++</span>&nbsp;<span class="op" id="8056696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056700">urlEscaper</span><span class="op" id="8056710">(</span><span class="string" id="8056711">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="8056749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056752">}</span><br>
<span class="lineno">100</span><span class="op" id="8056754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8056757">func</span>&nbsp;<span class="ident" id="8056762">BenchmarkURLNormalizer</span><span class="op" id="8056784">(</span><span class="ident" id="8056785">b</span>&nbsp;<span class="op" id="8056787">*</span><span class="ident" id="8056788">testing</span><span class="op" id="8056795">.</span><span class="ident" id="8056796">B</span><span class="op" id="8056797">)</span>&nbsp;<span class="op" id="8056799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056802">for</span>&nbsp;<span class="ident" id="8056806">i</span>&nbsp;<span class="op" id="8056808">:=</span>&nbsp;<span class="num" id="8056811">0</span><span class="op" id="8056812">;</span>&nbsp;<span class="ident" id="8056814">i</span>&nbsp;<span class="op" id="8056816">&lt;</span>&nbsp;<span class="ident" id="8056818">b</span><span class="op" id="8056819">.</span><span class="ident" id="8056820">N</span><span class="op" id="8056821">;</span>&nbsp;<span class="ident" id="8056823">i</span><span class="op" id="8056824">++</span>&nbsp;<span class="op" id="8056827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056831">urlNormalizer</span><span class="op" id="8056844">(</span><span class="string" id="8056845">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="8056893">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056896">}</span><br>
<span class="lineno"></span><span class="op" id="8056898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8056901">func</span>&nbsp;<span class="ident" id="8056906">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="8056938">(</span><span class="ident" id="8056939">b</span>&nbsp;<span class="op" id="8056941">*</span><span class="ident" id="8056942">testing</span><span class="op" id="8056949">.</span><span class="ident" id="8056950">B</span><span class="op" id="8056951">)</span>&nbsp;<span class="op" id="8056953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056956">for</span>&nbsp;<span class="ident" id="8056960">i</span>&nbsp;<span class="op" id="8056962">:=</span>&nbsp;<span class="num" id="8056965">0</span><span class="op" id="8056966">;</span>&nbsp;<span class="ident" id="8056968">i</span>&nbsp;<span class="op" id="8056970">&lt;</span>&nbsp;<span class="ident" id="8056972">b</span><span class="op" id="8056973">.</span><span class="ident" id="8056974">N</span><span class="op" id="8056975">;</span>&nbsp;<span class="ident" id="8056977">i</span><span class="op" id="8056978">++</span>&nbsp;<span class="op" id="8056981">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056985">urlNormalizer</span><span class="op" id="8056998">(</span><span class="string" id="8056999">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8057048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8057051">}</span><br>
<span class="lineno"></span><span class="op" id="8057053">}</span>
</div>
</body>
</html>
