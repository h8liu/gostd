<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html" class="current">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7088933">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7088989">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7089043">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7089094">package</span>&nbsp;<span class="ident" id="7089102">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7089108">import</span>&nbsp;<span class="op" id="7089115">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7089118">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7089128">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7089131">func</span>&nbsp;<span class="ident" id="7089136">TestTagParsing</span><span class="op" id="7089150">(</span><span class="ident" id="7089151">t</span>&nbsp;<span class="op" id="7089153">*</span><span class="ident" id="7089154">testing</span><span class="op" id="7089161">.</span><span class="ident" id="7089162">T</span><span class="op" id="7089163">)</span>&nbsp;<span class="op" id="7089165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7089168">name</span><span class="op" id="7089172">,</span>&nbsp;<span class="ident" id="7089174">opts</span>&nbsp;<span class="op" id="7089179">:=</span>&nbsp;<span class="ident" id="7089182">parseTag</span><span class="op" id="7089190">(</span><span class="string" id="7089191">&#34;field,foobar,foo&#34;</span><span class="op" id="7089209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7089212">if</span>&nbsp;<span class="ident" id="7089215">name</span>&nbsp;<span class="op" id="7089220">!=</span>&nbsp;<span class="string" id="7089223">&#34;field&#34;</span>&nbsp;<span class="op" id="7089231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7089235">t</span><span class="op" id="7089236">.</span><span class="ident" id="7089237">Fatalf</span><span class="op" id="7089243">(</span><span class="string" id="7089244">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="7089267">,</span>&nbsp;<span class="ident" id="7089269">name</span><span class="op" id="7089273">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7089279">for</span>&nbsp;<span class="ident" id="7089283">_</span><span class="op" id="7089284">,</span>&nbsp;<span class="ident" id="7089286">tt</span>&nbsp;<span class="op" id="7089289">:=</span>&nbsp;<span class="keyword" id="7089292">range</span>&nbsp;<span class="op" id="7089298">[</span><span class="op" id="7089299">]</span><span class="keyword" id="7089300">struct</span>&nbsp;<span class="op" id="7089307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7089311">opt</span>&nbsp;&nbsp;<span class="builtintype" id="7089316">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7089325">want</span>&nbsp;<span class="builtintype" id="7089330">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089336">}</span><span class="op" id="7089337">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089341">{</span><span class="string" id="7089342">&#34;foobar&#34;</span><span class="op" id="7089350">,</span>&nbsp;<span class="builtintype" id="7089352">true</span><span class="op" id="7089356">}</span><span class="op" id="7089357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089361">{</span><span class="string" id="7089362">&#34;foo&#34;</span><span class="op" id="7089367">,</span>&nbsp;<span class="builtintype" id="7089369">true</span><span class="op" id="7089373">}</span><span class="op" id="7089374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089378">{</span><span class="string" id="7089379">&#34;bar&#34;</span><span class="op" id="7089384">,</span>&nbsp;<span class="builtintype" id="7089386">false</span><span class="op" id="7089391">}</span><span class="op" id="7089392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089395">}</span>&nbsp;<span class="op" id="7089397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7089401">if</span>&nbsp;<span class="ident" id="7089404">opts</span><span class="op" id="7089408">.</span><span class="ident" id="7089409">Contains</span><span class="op" id="7089417">(</span><span class="ident" id="7089418">tt</span><span class="op" id="7089420">.</span><span class="ident" id="7089421">opt</span><span class="op" id="7089424">)</span>&nbsp;<span class="op" id="7089426">!=</span>&nbsp;<span class="ident" id="7089429">tt</span><span class="op" id="7089431">.</span><span class="ident" id="7089432">want</span>&nbsp;<span class="op" id="7089437">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7089442">t</span><span class="op" id="7089443">.</span><span class="ident" id="7089444">Errorf</span><span class="op" id="7089450">(</span><span class="string" id="7089451">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7089470">,</span>&nbsp;<span class="ident" id="7089472">tt</span><span class="op" id="7089474">.</span><span class="ident" id="7089475">opt</span><span class="op" id="7089478">,</span>&nbsp;<span class="op" id="7089480">!</span><span class="ident" id="7089481">tt</span><span class="op" id="7089483">.</span><span class="ident" id="7089484">want</span><span class="op" id="7089488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7089495">}</span><br>
<span class="lineno"></span><span class="op" id="7089497">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
