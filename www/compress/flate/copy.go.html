<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4551322">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4551377">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4551431">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4551482">package</span>&nbsp;<span class="ident" id="4551490">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4551497">//&nbsp;forwardCopy&nbsp;is&nbsp;like&nbsp;the&nbsp;built-in&nbsp;copy&nbsp;function&nbsp;except&nbsp;that&nbsp;it&nbsp;always&nbsp;goes</span><br>
<span class="lineno"></span><span class="comment" id="4551574">//&nbsp;forward&nbsp;from&nbsp;the&nbsp;start,&nbsp;even&nbsp;if&nbsp;the&nbsp;dst&nbsp;and&nbsp;src&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="4551634">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to:</span><br>
<span class="lineno">10</span><span class="comment" id="4551658">//&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;:=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;n;&nbsp;i++&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="4551688">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mem[dst+i]&nbsp;=&nbsp;mem[src+i]</span><br>
<span class="lineno"></span><span class="comment" id="4551719">//&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="keyword" id="4551726">func</span>&nbsp;<span class="ident" id="4551731">forwardCopy</span><span class="op" id="4551742">(</span><span class="ident" id="4551743">mem</span>&nbsp;<span class="op" id="4551747">[</span><span class="op" id="4551748">]</span><span class="builtintype" id="4551749">byte</span><span class="op" id="4551753">,</span>&nbsp;<span class="ident" id="4551755">dst</span><span class="op" id="4551758">,</span>&nbsp;<span class="ident" id="4551760">src</span><span class="op" id="4551763">,</span>&nbsp;<span class="ident" id="4551765">n</span>&nbsp;<span class="builtintype" id="4551767">int</span><span class="op" id="4551770">)</span>&nbsp;<span class="op" id="4551772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4551775">if</span>&nbsp;<span class="ident" id="4551778"><a href="/compress/flate/copy.go.html#4551755">dst</a></span>&nbsp;<span class="op" id="4551782">&lt;=</span>&nbsp;<span class="ident" id="4551785"><a href="/compress/flate/copy.go.html#4551760">src</a></span>&nbsp;<span class="op" id="4551789">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4551793">copy</span><span class="op" id="4551797">(</span><span class="ident" id="4551798"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4551801">[</span><span class="ident" id="4551802"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4551805">:</span><span class="ident" id="4551806"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4551809">+</span><span class="ident" id="4551810"><a href="/compress/flate/copy.go.html#4551765">n</a></span><span class="op" id="4551811">]</span><span class="op" id="4551812">,</span>&nbsp;<span class="ident" id="4551814"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4551817">[</span><span class="ident" id="4551818"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4551821">:</span><span class="ident" id="4551822"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4551825">+</span><span class="ident" id="4551826"><a href="/compress/flate/copy.go.html#4551765">n</a></span><span class="op" id="4551827">]</span><span class="op" id="4551828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4551832">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4551840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4551843">for</span>&nbsp;<span class="op" id="4551847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4551851">if</span>&nbsp;<span class="ident" id="4551854"><a href="/compress/flate/copy.go.html#4551755">dst</a></span>&nbsp;<span class="op" id="4551858">&gt;=</span>&nbsp;<span class="ident" id="4551861"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4551864">+</span><span class="ident" id="4551865"><a href="/compress/flate/copy.go.html#4551765">n</a></span>&nbsp;<span class="op" id="4551867">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4551872">copy</span><span class="op" id="4551876">(</span><span class="ident" id="4551877"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4551880">[</span><span class="ident" id="4551881"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4551884">:</span><span class="ident" id="4551885"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4551888">+</span><span class="ident" id="4551889"><a href="/compress/flate/copy.go.html#4551765">n</a></span><span class="op" id="4551890">]</span><span class="op" id="4551891">,</span>&nbsp;<span class="ident" id="4551893"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4551896">[</span><span class="ident" id="4551897"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4551900">:</span><span class="ident" id="4551901"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4551904">+</span><span class="ident" id="4551905"><a href="/compress/flate/copy.go.html#4551765">n</a></span><span class="op" id="4551906">]</span><span class="op" id="4551907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4551912">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4551921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4551925">//&nbsp;There&nbsp;is&nbsp;some&nbsp;forward&nbsp;overlap.&nbsp;&nbsp;The&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4551978">//&nbsp;will&nbsp;be&nbsp;filled&nbsp;with&nbsp;a&nbsp;repeated&nbsp;pattern&nbsp;of&nbsp;mem[src:src+k].</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4552041">//&nbsp;We&nbsp;copy&nbsp;one&nbsp;instance&nbsp;of&nbsp;the&nbsp;pattern&nbsp;here,&nbsp;then&nbsp;repeat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4552101">//&nbsp;Each&nbsp;time&nbsp;around&nbsp;this&nbsp;loop&nbsp;k&nbsp;will&nbsp;double.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4552148">k</span>&nbsp;<span class="op" id="4552150">:=</span>&nbsp;<span class="ident" id="4552153"><a href="/compress/flate/copy.go.html#4551755">dst</a></span>&nbsp;<span class="op" id="4552157">-</span>&nbsp;<span class="ident" id="4552159"><a href="/compress/flate/copy.go.html#4551760">src</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4552165">copy</span><span class="op" id="4552169">(</span><span class="ident" id="4552170"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4552173">[</span><span class="ident" id="4552174"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4552177">:</span><span class="ident" id="4552178"><a href="/compress/flate/copy.go.html#4551755">dst</a></span><span class="op" id="4552181">+</span><span class="ident" id="4552182"><a href="/compress/flate/copy.go.html#4552148">k</a></span><span class="op" id="4552183">]</span><span class="op" id="4552184">,</span>&nbsp;<span class="ident" id="4552186"><a href="/compress/flate/copy.go.html#4551743">mem</a></span><span class="op" id="4552189">[</span><span class="ident" id="4552190"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4552193">:</span><span class="ident" id="4552194"><a href="/compress/flate/copy.go.html#4551760">src</a></span><span class="op" id="4552197">+</span><span class="ident" id="4552198"><a href="/compress/flate/copy.go.html#4552148">k</a></span><span class="op" id="4552199">]</span><span class="op" id="4552200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4552204"><a href="/compress/flate/copy.go.html#4551765">n</a></span>&nbsp;<span class="op" id="4552206">-=</span>&nbsp;<span class="ident" id="4552209"><a href="/compress/flate/copy.go.html#4552148">k</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4552213"><a href="/compress/flate/copy.go.html#4551755">dst</a></span>&nbsp;<span class="op" id="4552217">+=</span>&nbsp;<span class="ident" id="4552220"><a href="/compress/flate/copy.go.html#4552148">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4552223">}</span><br>
<span class="lineno"></span><span class="op" id="4552225">}</span>
</div>
</body>
</html>
