<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="8570602">package</span>&nbsp;<span class="ident" id="8570610">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8570617">import</span>&nbsp;<span class="op" id="8570624">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8570627">&#34;testing&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8570639">&#34;math/rand&#34;</span><br>
<span class="lineno"></span><span class="op" id="8570651">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8570654">func</span>&nbsp;<span class="ident" id="8570659">TestInstImm</span><span class="op" id="8570670">(</span><span class="ident" id="8570671">t</span>&nbsp;<span class="op" id="8570673">*</span><span class="ident" id="8570674">testing</span><span class="op" id="8570681">.</span><span class="ident" id="8570682">T</span><span class="op" id="8570683">)</span>&nbsp;<span class="op" id="8570685">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570688">m</span>&nbsp;<span class="op" id="8570690">:=</span>&nbsp;<span class="ident" id="8570693">newPhyMemory</span><span class="op" id="8570705">(</span><span class="ident" id="8570706">PageSize</span>&nbsp;<span class="op" id="8570715">*</span>&nbsp;<span class="num" id="8570717">32</span><span class="op" id="8570719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570722">cpu</span>&nbsp;<span class="op" id="8570726">:=</span>&nbsp;<span class="ident" id="8570729">newCPU</span><span class="op" id="8570735">(</span><span class="ident" id="8570736">m</span><span class="op" id="8570737">,</span>&nbsp;<span class="builtinfunc" id="8570739">new</span><span class="op" id="8570742">(</span><span class="ident" id="8570743">instImm</span><span class="op" id="8570750">)</span><span class="op" id="8570751">,</span>&nbsp;<span class="num" id="8570753">0</span><span class="op" id="8570754">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570758">tst</span>&nbsp;<span class="op" id="8570762">:=</span>&nbsp;<span class="keyword" id="8570765">func</span><span class="op" id="8570769">(</span><span class="ident" id="8570770">op</span><span class="op" id="8570772">,</span>&nbsp;<span class="ident" id="8570774">s</span><span class="op" id="8570775">,</span>&nbsp;<span class="ident" id="8570777">v</span><span class="op" id="8570778">,</span>&nbsp;<span class="ident" id="8570780">im</span><span class="op" id="8570782">,</span>&nbsp;<span class="ident" id="8570784">d</span><span class="op" id="8570785">,</span>&nbsp;<span class="ident" id="8570787">res</span>&nbsp;<span class="builtintype" id="8570791">uint32</span><span class="op" id="8570797">)</span>&nbsp;<span class="op" id="8570799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570803">cpu</span><span class="op" id="8570806">.</span><span class="ident" id="8570807">Reset</span><span class="op" id="8570812">(</span><span class="op" id="8570813">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570818">in</span>&nbsp;<span class="op" id="8570821">:=</span>&nbsp;<span class="op" id="8570824">(</span><span class="ident" id="8570825">op</span>&nbsp;<span class="op" id="8570828">&amp;</span>&nbsp;<span class="num" id="8570830">0xff</span><span class="op" id="8570834">)</span>&nbsp;<span class="op" id="8570836">&lt;&lt;</span>&nbsp;<span class="num" id="8570839">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570844">in</span>&nbsp;<span class="op" id="8570847">|=</span>&nbsp;<span class="op" id="8570850">(</span><span class="ident" id="8570851">s</span>&nbsp;<span class="op" id="8570853">&amp;</span>&nbsp;<span class="num" id="8570855">0x7</span><span class="op" id="8570858">)</span>&nbsp;<span class="op" id="8570860">&lt;&lt;</span>&nbsp;<span class="num" id="8570863">18</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570868">in</span>&nbsp;<span class="op" id="8570871">|=</span>&nbsp;<span class="op" id="8570874">(</span><span class="ident" id="8570875">d</span>&nbsp;<span class="op" id="8570877">&amp;</span>&nbsp;<span class="num" id="8570879">0x7</span><span class="op" id="8570882">)</span>&nbsp;<span class="op" id="8570884">&lt;&lt;</span>&nbsp;<span class="num" id="8570887">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570892">in</span>&nbsp;<span class="op" id="8570895">|=</span>&nbsp;<span class="ident" id="8570898">im</span>&nbsp;<span class="op" id="8570901">&amp;</span>&nbsp;<span class="num" id="8570903">0xffff</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570913">m</span><span class="op" id="8570914">.</span><span class="ident" id="8570915">WriteWord</span><span class="op" id="8570924">(</span><span class="ident" id="8570925">InitPC</span><span class="op" id="8570931">,</span>&nbsp;<span class="ident" id="8570933">in</span><span class="op" id="8570935">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570940">cpu</span><span class="op" id="8570943">.</span><span class="ident" id="8570944">regs</span><span class="op" id="8570948">[</span><span class="ident" id="8570949">s</span><span class="op" id="8570950">]</span>&nbsp;<span class="op" id="8570952">=</span>&nbsp;<span class="ident" id="8570954">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570958">e</span>&nbsp;<span class="op" id="8570960">:=</span>&nbsp;<span class="ident" id="8570963">cpu</span><span class="op" id="8570966">.</span><span class="ident" id="8570967">Tick</span><span class="op" id="8570971">(</span><span class="op" id="8570972">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8570976">if</span>&nbsp;<span class="ident" id="8570979">e</span>&nbsp;<span class="op" id="8570981">!=</span>&nbsp;<span class="ident" id="8570984">nil</span>&nbsp;<span class="op" id="8570988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8570993">t</span><span class="op" id="8570994">.</span><span class="ident" id="8570995">Fatal</span><span class="op" id="8571000">(</span><span class="string" id="8571001">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="8571023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571032">got</span>&nbsp;<span class="op" id="8571036">:=</span>&nbsp;<span class="ident" id="8571039">cpu</span><span class="op" id="8571042">.</span><span class="ident" id="8571043">regs</span><span class="op" id="8571047">[</span><span class="ident" id="8571048">d</span><span class="op" id="8571049">]</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571053">if</span>&nbsp;<span class="ident" id="8571056">got</span>&nbsp;<span class="op" id="8571060">!=</span>&nbsp;<span class="ident" id="8571063">res</span>&nbsp;<span class="op" id="8571067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571072">t</span><span class="op" id="8571073">.</span><span class="ident" id="8571074">Fatalf</span><span class="op" id="8571080">(</span><span class="string" id="8571081">&#34;got&nbsp;0x%08x,&nbsp;expect&nbsp;0x%08x&#34;</span><span class="op" id="8571108">,</span>&nbsp;<span class="ident" id="8571110">got</span><span class="op" id="8571113">,</span>&nbsp;<span class="ident" id="8571115">res</span><span class="op" id="8571118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571129">twr</span>&nbsp;<span class="op" id="8571133">:=</span>&nbsp;<span class="keyword" id="8571136">func</span><span class="op" id="8571140">(</span><span class="ident" id="8571141">op</span><span class="op" id="8571143">,</span>&nbsp;<span class="ident" id="8571145">s</span><span class="op" id="8571146">,</span>&nbsp;<span class="ident" id="8571148">v</span><span class="op" id="8571149">,</span>&nbsp;<span class="ident" id="8571151">im</span><span class="op" id="8571153">,</span>&nbsp;<span class="ident" id="8571155">d</span><span class="op" id="8571156">,</span>&nbsp;<span class="ident" id="8571158">w</span>&nbsp;<span class="builtintype" id="8571160">uint32</span><span class="op" id="8571166">)</span>&nbsp;<span class="op" id="8571168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571172">cpu</span><span class="op" id="8571175">.</span><span class="ident" id="8571176">Reset</span><span class="op" id="8571181">(</span><span class="op" id="8571182">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571187">in</span>&nbsp;<span class="op" id="8571190">:=</span>&nbsp;<span class="op" id="8571193">(</span><span class="ident" id="8571194">op</span>&nbsp;<span class="op" id="8571197">&amp;</span>&nbsp;<span class="num" id="8571199">0xff</span><span class="op" id="8571203">)</span>&nbsp;<span class="op" id="8571205">&lt;&lt;</span>&nbsp;<span class="num" id="8571208">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571213">in</span>&nbsp;<span class="op" id="8571216">|=</span>&nbsp;<span class="op" id="8571219">(</span><span class="ident" id="8571220">s</span>&nbsp;<span class="op" id="8571222">&amp;</span>&nbsp;<span class="num" id="8571224">0x7</span><span class="op" id="8571227">)</span>&nbsp;<span class="op" id="8571229">&lt;&lt;</span>&nbsp;<span class="num" id="8571232">18</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571237">in</span>&nbsp;<span class="op" id="8571240">|=</span>&nbsp;<span class="op" id="8571243">(</span><span class="ident" id="8571244">d</span>&nbsp;<span class="op" id="8571246">&amp;</span>&nbsp;<span class="num" id="8571248">0x7</span><span class="op" id="8571251">)</span>&nbsp;<span class="op" id="8571253">&lt;&lt;</span>&nbsp;<span class="num" id="8571256">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571261">in</span>&nbsp;<span class="op" id="8571264">|=</span>&nbsp;<span class="ident" id="8571267">im</span>&nbsp;<span class="op" id="8571270">&amp;</span>&nbsp;<span class="num" id="8571272">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571282">m</span><span class="op" id="8571283">.</span><span class="ident" id="8571284">WriteWord</span><span class="op" id="8571293">(</span><span class="ident" id="8571294">InitPC</span><span class="op" id="8571300">,</span>&nbsp;<span class="ident" id="8571302">in</span><span class="op" id="8571304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571308">cpu</span><span class="op" id="8571311">.</span><span class="ident" id="8571312">regs</span><span class="op" id="8571316">[</span><span class="ident" id="8571317">s</span><span class="op" id="8571318">]</span>&nbsp;<span class="op" id="8571320">=</span>&nbsp;<span class="ident" id="8571322">v</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571326">cpu</span><span class="op" id="8571329">.</span><span class="ident" id="8571330">regs</span><span class="op" id="8571334">[</span><span class="ident" id="8571335">d</span><span class="op" id="8571336">]</span>&nbsp;<span class="op" id="8571338">=</span>&nbsp;<span class="ident" id="8571340">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571344">e</span>&nbsp;<span class="op" id="8571346">:=</span>&nbsp;<span class="ident" id="8571349">cpu</span><span class="op" id="8571352">.</span><span class="ident" id="8571353">Tick</span><span class="op" id="8571357">(</span><span class="op" id="8571358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571362">if</span>&nbsp;<span class="ident" id="8571365">e</span>&nbsp;<span class="op" id="8571367">!=</span>&nbsp;<span class="ident" id="8571370">nil</span>&nbsp;<span class="op" id="8571374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571379">t</span><span class="op" id="8571380">.</span><span class="ident" id="8571381">Fatal</span><span class="op" id="8571386">(</span><span class="string" id="8571387">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="8571409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571413">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571420">tf</span>&nbsp;<span class="op" id="8571423">:=</span>&nbsp;<span class="keyword" id="8571426">func</span><span class="op" id="8571430">(</span><span class="ident" id="8571431">op</span>&nbsp;<span class="builtintype" id="8571434">uint32</span><span class="op" id="8571440">,</span>&nbsp;<span class="ident" id="8571442">f</span>&nbsp;<span class="keyword" id="8571444">func</span><span class="op" id="8571448">(</span><span class="ident" id="8571449">v</span><span class="op" id="8571450">,</span>&nbsp;<span class="ident" id="8571452">im</span>&nbsp;<span class="builtintype" id="8571455">uint32</span><span class="op" id="8571461">)</span>&nbsp;<span class="builtintype" id="8571463">uint32</span><span class="op" id="8571469">)</span>&nbsp;<span class="op" id="8571471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571475">for</span>&nbsp;<span class="ident" id="8571479">i</span>&nbsp;<span class="op" id="8571481">:=</span>&nbsp;<span class="num" id="8571484">0</span><span class="op" id="8571485">;</span>&nbsp;<span class="ident" id="8571487">i</span>&nbsp;<span class="op" id="8571489">&lt;</span>&nbsp;<span class="num" id="8571491">100</span><span class="op" id="8571494">;</span>&nbsp;<span class="ident" id="8571496">i</span><span class="op" id="8571497">++</span>&nbsp;<span class="op" id="8571500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571505">s</span>&nbsp;<span class="op" id="8571507">:=</span>&nbsp;<span class="builtintype" id="8571510">uint32</span><span class="op" id="8571516">(</span><span class="ident" id="8571517">rand</span><span class="op" id="8571521">.</span><span class="ident" id="8571522">Intn</span><span class="op" id="8571526">(</span><span class="num" id="8571527">5</span><span class="op" id="8571528">)</span><span class="op" id="8571529">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571534">d</span>&nbsp;<span class="op" id="8571536">:=</span>&nbsp;<span class="builtintype" id="8571539">uint32</span><span class="op" id="8571545">(</span><span class="ident" id="8571546">rand</span><span class="op" id="8571550">.</span><span class="ident" id="8571551">Intn</span><span class="op" id="8571555">(</span><span class="num" id="8571556">5</span><span class="op" id="8571557">)</span><span class="op" id="8571558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571563">v</span>&nbsp;<span class="op" id="8571565">:=</span>&nbsp;<span class="builtintype" id="8571568">uint32</span><span class="op" id="8571574">(</span><span class="ident" id="8571575">rand</span><span class="op" id="8571579">.</span><span class="ident" id="8571580">Int63</span><span class="op" id="8571585">(</span><span class="op" id="8571586">)</span><span class="op" id="8571587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571592">im</span>&nbsp;<span class="op" id="8571595">:=</span>&nbsp;<span class="builtintype" id="8571598">uint32</span><span class="op" id="8571604">(</span><span class="ident" id="8571605">rand</span><span class="op" id="8571609">.</span><span class="ident" id="8571610">Int63</span><span class="op" id="8571615">(</span><span class="op" id="8571616">)</span><span class="op" id="8571617">)</span>&nbsp;<span class="op" id="8571619">&amp;</span>&nbsp;<span class="num" id="8571621">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571632">exp</span>&nbsp;<span class="op" id="8571636">:=</span>&nbsp;<span class="ident" id="8571639">f</span><span class="op" id="8571640">(</span><span class="ident" id="8571641">v</span><span class="op" id="8571642">,</span>&nbsp;<span class="ident" id="8571644">im</span><span class="op" id="8571646">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571652">tst</span><span class="op" id="8571655">(</span><span class="ident" id="8571656">op</span><span class="op" id="8571658">,</span>&nbsp;<span class="ident" id="8571660">s</span><span class="op" id="8571661">,</span>&nbsp;<span class="ident" id="8571663">v</span><span class="op" id="8571664">,</span>&nbsp;<span class="ident" id="8571666">im</span><span class="op" id="8571668">,</span>&nbsp;<span class="ident" id="8571670">d</span><span class="op" id="8571671">,</span>&nbsp;<span class="ident" id="8571673">exp</span><span class="op" id="8571676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571687">sext</span>&nbsp;<span class="op" id="8571692">:=</span>&nbsp;<span class="keyword" id="8571695">func</span><span class="op" id="8571699">(</span><span class="ident" id="8571700">i</span>&nbsp;<span class="builtintype" id="8571702">uint32</span><span class="op" id="8571708">)</span>&nbsp;<span class="builtintype" id="8571710">uint32</span>&nbsp;<span class="op" id="8571717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571721">return</span>&nbsp;<span class="builtintype" id="8571728">uint32</span><span class="op" id="8571734">(</span><span class="op" id="8571735">(</span><span class="builtintype" id="8571736">int32</span><span class="op" id="8571741">(</span><span class="ident" id="8571742">i</span>&nbsp;<span class="op" id="8571744">&lt;&lt;</span>&nbsp;<span class="num" id="8571747">16</span><span class="op" id="8571749">)</span><span class="op" id="8571750">)</span>&nbsp;<span class="op" id="8571752">&gt;&gt;</span>&nbsp;<span class="num" id="8571755">16</span><span class="op" id="8571757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571764">tf</span><span class="op" id="8571766">(</span><span class="num" id="8571767">1</span><span class="op" id="8571768">,</span>&nbsp;<span class="keyword" id="8571770">func</span><span class="op" id="8571774">(</span><span class="ident" id="8571775">v</span><span class="op" id="8571776">,</span>&nbsp;<span class="ident" id="8571778">im</span>&nbsp;<span class="builtintype" id="8571781">uint32</span><span class="op" id="8571787">)</span>&nbsp;<span class="builtintype" id="8571789">uint32</span>&nbsp;<span class="op" id="8571796">{</span>&nbsp;<span class="keyword" id="8571798">return</span>&nbsp;<span class="ident" id="8571805">v</span>&nbsp;<span class="op" id="8571807">+</span>&nbsp;<span class="ident" id="8571809">sext</span><span class="op" id="8571813">(</span><span class="ident" id="8571814">im</span><span class="op" id="8571816">)</span>&nbsp;<span class="op" id="8571818">}</span><span class="op" id="8571819">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571822">tf</span><span class="op" id="8571824">(</span><span class="num" id="8571825">2</span><span class="op" id="8571826">,</span>&nbsp;<span class="keyword" id="8571828">func</span><span class="op" id="8571832">(</span><span class="ident" id="8571833">v</span><span class="op" id="8571834">,</span>&nbsp;<span class="ident" id="8571836">im</span>&nbsp;<span class="builtintype" id="8571839">uint32</span><span class="op" id="8571845">)</span>&nbsp;<span class="builtintype" id="8571847">uint32</span>&nbsp;<span class="op" id="8571854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571858">se</span>&nbsp;<span class="op" id="8571861">:=</span>&nbsp;<span class="ident" id="8571864">sext</span><span class="op" id="8571868">(</span><span class="ident" id="8571869">im</span><span class="op" id="8571871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571875">if</span>&nbsp;<span class="builtintype" id="8571878">int32</span><span class="op" id="8571883">(</span><span class="ident" id="8571884">v</span><span class="op" id="8571885">)</span>&nbsp;<span class="op" id="8571887">&lt;</span>&nbsp;<span class="builtintype" id="8571889">int32</span><span class="op" id="8571894">(</span><span class="ident" id="8571895">se</span><span class="op" id="8571897">)</span>&nbsp;<span class="op" id="8571899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571904">return</span>&nbsp;<span class="num" id="8571911">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571915">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8571919">return</span>&nbsp;<span class="num" id="8571926">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8571929">}</span><span class="op" id="8571930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571933">tf</span><span class="op" id="8571935">(</span><span class="num" id="8571936">3</span><span class="op" id="8571937">,</span>&nbsp;<span class="keyword" id="8571939">func</span><span class="op" id="8571943">(</span><span class="ident" id="8571944">v</span><span class="op" id="8571945">,</span>&nbsp;<span class="ident" id="8571947">im</span>&nbsp;<span class="builtintype" id="8571950">uint32</span><span class="op" id="8571956">)</span>&nbsp;<span class="builtintype" id="8571958">uint32</span>&nbsp;<span class="op" id="8571965">{</span>&nbsp;<span class="keyword" id="8571967">return</span>&nbsp;<span class="ident" id="8571974">v</span>&nbsp;<span class="op" id="8571976">&amp;</span>&nbsp;<span class="ident" id="8571978">im</span>&nbsp;<span class="op" id="8571981">}</span><span class="op" id="8571982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8571985">tf</span><span class="op" id="8571987">(</span><span class="num" id="8571988">4</span><span class="op" id="8571989">,</span>&nbsp;<span class="keyword" id="8571991">func</span><span class="op" id="8571995">(</span><span class="ident" id="8571996">v</span><span class="op" id="8571997">,</span>&nbsp;<span class="ident" id="8571999">im</span>&nbsp;<span class="builtintype" id="8572002">uint32</span><span class="op" id="8572008">)</span>&nbsp;<span class="builtintype" id="8572010">uint32</span>&nbsp;<span class="op" id="8572017">{</span>&nbsp;<span class="keyword" id="8572019">return</span>&nbsp;<span class="ident" id="8572026">v</span>&nbsp;<span class="op" id="8572028">|</span>&nbsp;<span class="ident" id="8572030">im</span>&nbsp;<span class="op" id="8572033">}</span><span class="op" id="8572034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572037">tf</span><span class="op" id="8572039">(</span><span class="num" id="8572040">5</span><span class="op" id="8572041">,</span>&nbsp;<span class="keyword" id="8572043">func</span><span class="op" id="8572047">(</span><span class="ident" id="8572048">_</span><span class="op" id="8572049">,</span>&nbsp;<span class="ident" id="8572051">im</span>&nbsp;<span class="builtintype" id="8572054">uint32</span><span class="op" id="8572060">)</span>&nbsp;<span class="builtintype" id="8572062">uint32</span>&nbsp;<span class="op" id="8572069">{</span>&nbsp;<span class="keyword" id="8572071">return</span>&nbsp;<span class="ident" id="8572078">im</span>&nbsp;<span class="op" id="8572081">&lt;&lt;</span>&nbsp;<span class="num" id="8572084">16</span>&nbsp;<span class="op" id="8572087">}</span><span class="op" id="8572088">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8572092">for</span>&nbsp;<span class="ident" id="8572096">i</span>&nbsp;<span class="op" id="8572098">:=</span>&nbsp;<span class="num" id="8572101">0</span><span class="op" id="8572102">;</span>&nbsp;<span class="ident" id="8572104">i</span>&nbsp;<span class="op" id="8572106">&lt;</span>&nbsp;<span class="num" id="8572108">100</span><span class="op" id="8572111">;</span>&nbsp;<span class="ident" id="8572113">i</span><span class="op" id="8572114">++</span>&nbsp;<span class="op" id="8572117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572121">addr</span>&nbsp;<span class="op" id="8572126">:=</span>&nbsp;<span class="builtintype" id="8572129">uint32</span><span class="op" id="8572135">(</span><span class="ident" id="8572136">PageSize</span>&nbsp;<span class="op" id="8572145">*</span>&nbsp;<span class="num" id="8572147">10</span><span class="op" id="8572149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572153">addr</span>&nbsp;<span class="op" id="8572158">+=</span>&nbsp;<span class="builtintype" id="8572161">uint32</span><span class="op" id="8572167">(</span><span class="ident" id="8572168">rand</span><span class="op" id="8572172">.</span><span class="ident" id="8572173">Int63</span><span class="op" id="8572178">(</span><span class="op" id="8572179">)</span><span class="op" id="8572180">)</span>&nbsp;<span class="op" id="8572182">%</span>&nbsp;<span class="ident" id="8572184">PageSize</span>&nbsp;<span class="op" id="8572193">*</span>&nbsp;<span class="num" id="8572195">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572199">offset</span>&nbsp;<span class="op" id="8572206">:=</span>&nbsp;<span class="builtintype" id="8572209">uint32</span><span class="op" id="8572215">(</span><span class="ident" id="8572216">rand</span><span class="op" id="8572220">.</span><span class="ident" id="8572221">Int63</span><span class="op" id="8572226">(</span><span class="op" id="8572227">)</span><span class="op" id="8572228">)</span>&nbsp;<span class="op" id="8572230">%</span>&nbsp;<span class="ident" id="8572232">PageSize</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572243">offset</span>&nbsp;<span class="op" id="8572250">-=</span>&nbsp;<span class="ident" id="8572253">offset</span>&nbsp;<span class="op" id="8572260">%</span>&nbsp;<span class="num" id="8572262">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572266">offset</span>&nbsp;<span class="op" id="8572273">-=</span>&nbsp;<span class="ident" id="8572276">PageSize</span>&nbsp;<span class="op" id="8572285">/</span>&nbsp;<span class="num" id="8572287">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572291">w</span>&nbsp;<span class="op" id="8572293">:=</span>&nbsp;<span class="builtintype" id="8572296">uint32</span><span class="op" id="8572302">(</span><span class="ident" id="8572303">rand</span><span class="op" id="8572307">.</span><span class="ident" id="8572308">Int63</span><span class="op" id="8572313">(</span><span class="op" id="8572314">)</span><span class="op" id="8572315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572320">e</span>&nbsp;<span class="op" id="8572322">:=</span>&nbsp;<span class="ident" id="8572325">m</span><span class="op" id="8572326">.</span><span class="ident" id="8572327">WriteWord</span><span class="op" id="8572336">(</span><span class="ident" id="8572337">addr</span><span class="op" id="8572341">+</span><span class="ident" id="8572342">offset</span><span class="op" id="8572348">,</span>&nbsp;<span class="ident" id="8572350">w</span><span class="op" id="8572351">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8572355">if</span>&nbsp;<span class="ident" id="8572358">e</span>&nbsp;<span class="op" id="8572360">!=</span>&nbsp;<span class="ident" id="8572363">nil</span>&nbsp;<span class="op" id="8572367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572372">t</span><span class="op" id="8572373">.</span><span class="ident" id="8572374">Fatal</span><span class="op" id="8572379">(</span><span class="string" id="8572380">&#34;write&nbsp;fail&#34;</span><span class="op" id="8572392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8572396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572400">s</span>&nbsp;<span class="op" id="8572402">:=</span>&nbsp;<span class="builtintype" id="8572405">uint32</span><span class="op" id="8572411">(</span><span class="ident" id="8572412">rand</span><span class="op" id="8572416">.</span><span class="ident" id="8572417">Intn</span><span class="op" id="8572421">(</span><span class="num" id="8572422">5</span><span class="op" id="8572423">)</span><span class="op" id="8572424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572428">d</span>&nbsp;<span class="op" id="8572430">:=</span>&nbsp;<span class="builtintype" id="8572433">uint32</span><span class="op" id="8572439">(</span><span class="ident" id="8572440">rand</span><span class="op" id="8572444">.</span><span class="ident" id="8572445">Intn</span><span class="op" id="8572449">(</span><span class="num" id="8572450">5</span><span class="op" id="8572451">)</span><span class="op" id="8572452">)</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572457">tst</span><span class="op" id="8572460">(</span><span class="num" id="8572461">6</span><span class="op" id="8572462">,</span>&nbsp;<span class="ident" id="8572464">s</span><span class="op" id="8572465">,</span>&nbsp;<span class="ident" id="8572467">addr</span><span class="op" id="8572471">,</span>&nbsp;<span class="ident" id="8572473">offset</span><span class="op" id="8572479">,</span>&nbsp;<span class="ident" id="8572481">d</span><span class="op" id="8572482">,</span>&nbsp;<span class="ident" id="8572484">w</span><span class="op" id="8572485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8572488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8572492">for</span>&nbsp;<span class="ident" id="8572496">i</span>&nbsp;<span class="op" id="8572498">:=</span>&nbsp;<span class="num" id="8572501">0</span><span class="op" id="8572502">;</span>&nbsp;<span class="ident" id="8572504">i</span>&nbsp;<span class="op" id="8572506">&lt;</span>&nbsp;<span class="num" id="8572508">100</span><span class="op" id="8572511">;</span>&nbsp;<span class="ident" id="8572513">i</span><span class="op" id="8572514">++</span>&nbsp;<span class="op" id="8572517">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572521">addr</span>&nbsp;<span class="op" id="8572526">:=</span>&nbsp;<span class="builtintype" id="8572529">uint32</span><span class="op" id="8572535">(</span><span class="ident" id="8572536">PageSize</span>&nbsp;<span class="op" id="8572545">*</span>&nbsp;<span class="num" id="8572547">10</span><span class="op" id="8572549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572553">addr</span>&nbsp;<span class="op" id="8572558">+=</span>&nbsp;<span class="builtintype" id="8572561">uint32</span><span class="op" id="8572567">(</span><span class="ident" id="8572568">rand</span><span class="op" id="8572572">.</span><span class="ident" id="8572573">Int63</span><span class="op" id="8572578">(</span><span class="op" id="8572579">)</span><span class="op" id="8572580">)</span>&nbsp;<span class="op" id="8572582">%</span>&nbsp;<span class="ident" id="8572584">PageSize</span>&nbsp;<span class="op" id="8572593">*</span>&nbsp;<span class="num" id="8572595">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572599">offset</span>&nbsp;<span class="op" id="8572606">:=</span>&nbsp;<span class="builtintype" id="8572609">uint32</span><span class="op" id="8572615">(</span><span class="ident" id="8572616">rand</span><span class="op" id="8572620">.</span><span class="ident" id="8572621">Int63</span><span class="op" id="8572626">(</span><span class="op" id="8572627">)</span><span class="op" id="8572628">)</span>&nbsp;<span class="op" id="8572630">%</span>&nbsp;<span class="ident" id="8572632">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572643">offset</span>&nbsp;<span class="op" id="8572650">-=</span>&nbsp;<span class="ident" id="8572653">PageSize</span>&nbsp;<span class="op" id="8572662">/</span>&nbsp;<span class="num" id="8572664">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572668">b</span>&nbsp;<span class="op" id="8572670">:=</span>&nbsp;<span class="builtintype" id="8572673">byte</span><span class="op" id="8572677">(</span><span class="ident" id="8572678">rand</span><span class="op" id="8572682">.</span><span class="ident" id="8572683">Int63</span><span class="op" id="8572688">(</span><span class="op" id="8572689">)</span><span class="op" id="8572690">)</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572695">e</span>&nbsp;<span class="op" id="8572697">:=</span>&nbsp;<span class="ident" id="8572700">m</span><span class="op" id="8572701">.</span><span class="ident" id="8572702">WriteByte</span><span class="op" id="8572711">(</span><span class="ident" id="8572712">addr</span><span class="op" id="8572716">+</span><span class="ident" id="8572717">offset</span><span class="op" id="8572723">,</span>&nbsp;<span class="ident" id="8572725">b</span><span class="op" id="8572726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8572730">if</span>&nbsp;<span class="ident" id="8572733">e</span>&nbsp;<span class="op" id="8572735">!=</span>&nbsp;<span class="ident" id="8572738">nil</span>&nbsp;<span class="op" id="8572742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572747">t</span><span class="op" id="8572748">.</span><span class="ident" id="8572749">Fatal</span><span class="op" id="8572754">(</span><span class="string" id="8572755">&#34;write&nbsp;fail&#34;</span><span class="op" id="8572767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8572771">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572775">s</span>&nbsp;<span class="op" id="8572777">:=</span>&nbsp;<span class="builtintype" id="8572780">uint32</span><span class="op" id="8572786">(</span><span class="ident" id="8572787">rand</span><span class="op" id="8572791">.</span><span class="ident" id="8572792">Intn</span><span class="op" id="8572796">(</span><span class="num" id="8572797">5</span><span class="op" id="8572798">)</span><span class="op" id="8572799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572803">d</span>&nbsp;<span class="op" id="8572805">:=</span>&nbsp;<span class="builtintype" id="8572808">uint32</span><span class="op" id="8572814">(</span><span class="ident" id="8572815">rand</span><span class="op" id="8572819">.</span><span class="ident" id="8572820">Intn</span><span class="op" id="8572824">(</span><span class="num" id="8572825">5</span><span class="op" id="8572826">)</span><span class="op" id="8572827">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572832">w</span>&nbsp;<span class="op" id="8572834">:=</span>&nbsp;<span class="builtintype" id="8572837">uint32</span><span class="op" id="8572843">(</span><span class="builtintype" id="8572844">int32</span><span class="op" id="8572849">(</span><span class="builtintype" id="8572850">uint32</span><span class="op" id="8572856">(</span><span class="ident" id="8572857">b</span><span class="op" id="8572858">)</span><span class="op" id="8572859">&lt;&lt;</span><span class="num" id="8572861">24</span><span class="op" id="8572863">)</span>&nbsp;<span class="op" id="8572865">&gt;&gt;</span>&nbsp;<span class="num" id="8572868">24</span><span class="op" id="8572870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572874">tst</span><span class="op" id="8572877">(</span><span class="num" id="8572878">7</span><span class="op" id="8572879">,</span>&nbsp;<span class="ident" id="8572881">s</span><span class="op" id="8572882">,</span>&nbsp;<span class="ident" id="8572884">addr</span><span class="op" id="8572888">,</span>&nbsp;<span class="ident" id="8572890">offset</span><span class="op" id="8572896">,</span>&nbsp;<span class="ident" id="8572898">d</span><span class="op" id="8572899">,</span>&nbsp;<span class="ident" id="8572901">w</span><span class="op" id="8572902">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572906">tst</span><span class="op" id="8572909">(</span><span class="num" id="8572910">8</span><span class="op" id="8572911">,</span>&nbsp;<span class="ident" id="8572913">s</span><span class="op" id="8572914">,</span>&nbsp;<span class="ident" id="8572916">addr</span><span class="op" id="8572920">,</span>&nbsp;<span class="ident" id="8572922">offset</span><span class="op" id="8572928">,</span>&nbsp;<span class="ident" id="8572930">d</span><span class="op" id="8572931">,</span>&nbsp;<span class="builtintype" id="8572933">uint32</span><span class="op" id="8572939">(</span><span class="ident" id="8572940">b</span><span class="op" id="8572941">)</span><span class="op" id="8572942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8572945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8572949">for</span>&nbsp;<span class="ident" id="8572953">i</span>&nbsp;<span class="op" id="8572955">:=</span>&nbsp;<span class="num" id="8572958">0</span><span class="op" id="8572959">;</span>&nbsp;<span class="ident" id="8572961">i</span>&nbsp;<span class="op" id="8572963">&lt;</span>&nbsp;<span class="num" id="8572965">100</span><span class="op" id="8572968">;</span>&nbsp;<span class="ident" id="8572970">i</span><span class="op" id="8572971">++</span>&nbsp;<span class="op" id="8572974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8572978">addr</span>&nbsp;<span class="op" id="8572983">:=</span>&nbsp;<span class="builtintype" id="8572986">uint32</span><span class="op" id="8572992">(</span><span class="ident" id="8572993">PageSize</span>&nbsp;<span class="op" id="8573002">*</span>&nbsp;<span class="num" id="8573004">10</span><span class="op" id="8573006">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573010">addr</span>&nbsp;<span class="op" id="8573015">+=</span>&nbsp;<span class="builtintype" id="8573018">uint32</span><span class="op" id="8573024">(</span><span class="ident" id="8573025">rand</span><span class="op" id="8573029">.</span><span class="ident" id="8573030">Int63</span><span class="op" id="8573035">(</span><span class="op" id="8573036">)</span><span class="op" id="8573037">)</span>&nbsp;<span class="op" id="8573039">%</span>&nbsp;<span class="ident" id="8573041">PageSize</span>&nbsp;<span class="op" id="8573050">*</span>&nbsp;<span class="num" id="8573052">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573056">offset</span>&nbsp;<span class="op" id="8573063">:=</span>&nbsp;<span class="builtintype" id="8573066">uint32</span><span class="op" id="8573072">(</span><span class="ident" id="8573073">rand</span><span class="op" id="8573077">.</span><span class="ident" id="8573078">Int63</span><span class="op" id="8573083">(</span><span class="op" id="8573084">)</span><span class="op" id="8573085">)</span>&nbsp;<span class="op" id="8573087">%</span>&nbsp;<span class="ident" id="8573089">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573100">offset</span>&nbsp;<span class="op" id="8573107">-=</span>&nbsp;<span class="ident" id="8573110">offset</span>&nbsp;<span class="op" id="8573117">%</span>&nbsp;<span class="num" id="8573119">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573123">offset</span>&nbsp;<span class="op" id="8573130">-=</span>&nbsp;<span class="ident" id="8573133">PageSize</span>&nbsp;<span class="op" id="8573142">/</span>&nbsp;<span class="num" id="8573144">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573148">w</span>&nbsp;<span class="op" id="8573150">:=</span>&nbsp;<span class="builtintype" id="8573153">uint32</span><span class="op" id="8573159">(</span><span class="ident" id="8573160">rand</span><span class="op" id="8573164">.</span><span class="ident" id="8573165">Int63</span><span class="op" id="8573170">(</span><span class="op" id="8573171">)</span><span class="op" id="8573172">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573177">s</span>&nbsp;<span class="op" id="8573179">:=</span>&nbsp;<span class="builtintype" id="8573182">uint32</span><span class="op" id="8573188">(</span><span class="ident" id="8573189">rand</span><span class="op" id="8573193">.</span><span class="ident" id="8573194">Intn</span><span class="op" id="8573198">(</span><span class="num" id="8573199">5</span><span class="op" id="8573200">)</span><span class="op" id="8573201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573205">d</span>&nbsp;<span class="op" id="8573207">:=</span>&nbsp;<span class="builtintype" id="8573210">uint32</span><span class="op" id="8573216">(</span><span class="ident" id="8573217">rand</span><span class="op" id="8573221">.</span><span class="ident" id="8573222">Intn</span><span class="op" id="8573226">(</span><span class="num" id="8573227">5</span><span class="op" id="8573228">)</span><span class="op" id="8573229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573233">for</span>&nbsp;<span class="ident" id="8573237">d</span>&nbsp;<span class="op" id="8573239">==</span>&nbsp;<span class="ident" id="8573242">s</span>&nbsp;<span class="op" id="8573244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573249">d</span>&nbsp;<span class="op" id="8573251">=</span>&nbsp;<span class="builtintype" id="8573253">uint32</span><span class="op" id="8573259">(</span><span class="ident" id="8573260">rand</span><span class="op" id="8573264">.</span><span class="ident" id="8573265">Intn</span><span class="op" id="8573269">(</span><span class="num" id="8573270">5</span><span class="op" id="8573271">)</span><span class="op" id="8573272">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573281">twr</span><span class="op" id="8573284">(</span><span class="num" id="8573285">9</span><span class="op" id="8573286">,</span>&nbsp;<span class="ident" id="8573288">s</span><span class="op" id="8573289">,</span>&nbsp;<span class="ident" id="8573291">addr</span><span class="op" id="8573295">,</span>&nbsp;<span class="ident" id="8573297">offset</span><span class="op" id="8573303">,</span>&nbsp;<span class="ident" id="8573305">d</span><span class="op" id="8573306">,</span>&nbsp;<span class="ident" id="8573308">w</span><span class="op" id="8573309">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573314">got</span><span class="op" id="8573317">,</span>&nbsp;<span class="ident" id="8573319">e</span>&nbsp;<span class="op" id="8573321">:=</span>&nbsp;<span class="ident" id="8573324">m</span><span class="op" id="8573325">.</span><span class="ident" id="8573326">ReadWord</span><span class="op" id="8573334">(</span><span class="ident" id="8573335">addr</span>&nbsp;<span class="op" id="8573340">+</span>&nbsp;<span class="ident" id="8573342">offset</span><span class="op" id="8573348">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573352">if</span>&nbsp;<span class="ident" id="8573355">e</span>&nbsp;<span class="op" id="8573357">!=</span>&nbsp;<span class="ident" id="8573360">nil</span>&nbsp;<span class="op" id="8573364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573369">t</span><span class="op" id="8573370">.</span><span class="ident" id="8573371">Fatal</span><span class="op" id="8573376">(</span><span class="string" id="8573377">&#34;read&nbsp;fail&#34;</span><span class="op" id="8573388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573397">if</span>&nbsp;<span class="ident" id="8573400">got</span>&nbsp;<span class="op" id="8573404">!=</span>&nbsp;<span class="ident" id="8573407">w</span>&nbsp;<span class="op" id="8573409">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573414">t</span><span class="op" id="8573415">.</span><span class="ident" id="8573416">Fatalf</span><span class="op" id="8573422">(</span><span class="string" id="8573423">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8573450">,</span>&nbsp;<span class="ident" id="8573452">w</span><span class="op" id="8573453">,</span>&nbsp;<span class="ident" id="8573455">got</span><span class="op" id="8573458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573469">for</span>&nbsp;<span class="ident" id="8573473">i</span>&nbsp;<span class="op" id="8573475">:=</span>&nbsp;<span class="num" id="8573478">0</span><span class="op" id="8573479">;</span>&nbsp;<span class="ident" id="8573481">i</span>&nbsp;<span class="op" id="8573483">&lt;</span>&nbsp;<span class="num" id="8573485">100</span><span class="op" id="8573488">;</span>&nbsp;<span class="ident" id="8573490">i</span><span class="op" id="8573491">++</span>&nbsp;<span class="op" id="8573494">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573498">addr</span>&nbsp;<span class="op" id="8573503">:=</span>&nbsp;<span class="builtintype" id="8573506">uint32</span><span class="op" id="8573512">(</span><span class="ident" id="8573513">PageSize</span>&nbsp;<span class="op" id="8573522">*</span>&nbsp;<span class="num" id="8573524">10</span><span class="op" id="8573526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573530">addr</span>&nbsp;<span class="op" id="8573535">+=</span>&nbsp;<span class="builtintype" id="8573538">uint32</span><span class="op" id="8573544">(</span><span class="ident" id="8573545">rand</span><span class="op" id="8573549">.</span><span class="ident" id="8573550">Int63</span><span class="op" id="8573555">(</span><span class="op" id="8573556">)</span><span class="op" id="8573557">)</span>&nbsp;<span class="op" id="8573559">%</span>&nbsp;<span class="ident" id="8573561">PageSize</span>&nbsp;<span class="op" id="8573570">*</span>&nbsp;<span class="num" id="8573572">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573576">offset</span>&nbsp;<span class="op" id="8573583">:=</span>&nbsp;<span class="builtintype" id="8573586">uint32</span><span class="op" id="8573592">(</span><span class="ident" id="8573593">rand</span><span class="op" id="8573597">.</span><span class="ident" id="8573598">Int63</span><span class="op" id="8573603">(</span><span class="op" id="8573604">)</span><span class="op" id="8573605">)</span>&nbsp;<span class="op" id="8573607">%</span>&nbsp;<span class="ident" id="8573609">PageSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573620">offset</span>&nbsp;<span class="op" id="8573627">-=</span>&nbsp;<span class="ident" id="8573630">PageSize</span>&nbsp;<span class="op" id="8573639">/</span>&nbsp;<span class="num" id="8573641">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573645">b</span>&nbsp;<span class="op" id="8573647">:=</span>&nbsp;<span class="builtintype" id="8573650">byte</span><span class="op" id="8573654">(</span><span class="ident" id="8573655">rand</span><span class="op" id="8573659">.</span><span class="ident" id="8573660">Int63</span><span class="op" id="8573665">(</span><span class="op" id="8573666">)</span><span class="op" id="8573667">)</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573672">s</span>&nbsp;<span class="op" id="8573674">:=</span>&nbsp;<span class="builtintype" id="8573677">uint32</span><span class="op" id="8573683">(</span><span class="ident" id="8573684">rand</span><span class="op" id="8573688">.</span><span class="ident" id="8573689">Intn</span><span class="op" id="8573693">(</span><span class="num" id="8573694">5</span><span class="op" id="8573695">)</span><span class="op" id="8573696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573700">d</span>&nbsp;<span class="op" id="8573702">:=</span>&nbsp;<span class="builtintype" id="8573705">uint32</span><span class="op" id="8573711">(</span><span class="ident" id="8573712">rand</span><span class="op" id="8573716">.</span><span class="ident" id="8573717">Intn</span><span class="op" id="8573721">(</span><span class="num" id="8573722">5</span><span class="op" id="8573723">)</span><span class="op" id="8573724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573728">for</span>&nbsp;<span class="ident" id="8573732">d</span>&nbsp;<span class="op" id="8573734">==</span>&nbsp;<span class="ident" id="8573737">s</span>&nbsp;<span class="op" id="8573739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573744">d</span>&nbsp;<span class="op" id="8573746">=</span>&nbsp;<span class="builtintype" id="8573748">uint32</span><span class="op" id="8573754">(</span><span class="ident" id="8573755">rand</span><span class="op" id="8573759">.</span><span class="ident" id="8573760">Intn</span><span class="op" id="8573764">(</span><span class="num" id="8573765">5</span><span class="op" id="8573766">)</span><span class="op" id="8573767">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573776">twr</span><span class="op" id="8573779">(</span><span class="num" id="8573780">10</span><span class="op" id="8573782">,</span>&nbsp;<span class="ident" id="8573784">s</span><span class="op" id="8573785">,</span>&nbsp;<span class="ident" id="8573787">addr</span><span class="op" id="8573791">,</span>&nbsp;<span class="ident" id="8573793">offset</span><span class="op" id="8573799">,</span>&nbsp;<span class="ident" id="8573801">d</span><span class="op" id="8573802">,</span>&nbsp;<span class="builtintype" id="8573804">uint32</span><span class="op" id="8573810">(</span><span class="ident" id="8573811">b</span><span class="op" id="8573812">)</span><span class="op" id="8573813">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573818">got</span><span class="op" id="8573821">,</span>&nbsp;<span class="ident" id="8573823">e</span>&nbsp;<span class="op" id="8573825">:=</span>&nbsp;<span class="ident" id="8573828">m</span><span class="op" id="8573829">.</span><span class="ident" id="8573830">ReadByte</span><span class="op" id="8573838">(</span><span class="ident" id="8573839">addr</span>&nbsp;<span class="op" id="8573844">+</span>&nbsp;<span class="ident" id="8573846">offset</span><span class="op" id="8573852">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573856">if</span>&nbsp;<span class="ident" id="8573859">e</span>&nbsp;<span class="op" id="8573861">!=</span>&nbsp;<span class="ident" id="8573864">nil</span>&nbsp;<span class="op" id="8573868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573873">t</span><span class="op" id="8573874">.</span><span class="ident" id="8573875">Fatal</span><span class="op" id="8573880">(</span><span class="string" id="8573881">&#34;read&nbsp;fail&#34;</span><span class="op" id="8573892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8573901">if</span>&nbsp;<span class="ident" id="8573904">got</span>&nbsp;<span class="op" id="8573908">!=</span>&nbsp;<span class="ident" id="8573911">b</span>&nbsp;<span class="op" id="8573913">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8573918">t</span><span class="op" id="8573919">.</span><span class="ident" id="8573920">Fatalf</span><span class="op" id="8573926">(</span><span class="string" id="8573927">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8573954">,</span>&nbsp;<span class="ident" id="8573956">b</span><span class="op" id="8573957">,</span>&nbsp;<span class="ident" id="8573959">got</span><span class="op" id="8573962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8573969">}</span><br>
<span class="lineno"></span><span class="op" id="8573971">}</span>
</div>
</body>
</html>
