<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8561900">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8561955">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8562009">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8562060">package</span>&nbsp;<span class="ident" id="8562068">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8562074">import</span>&nbsp;<span class="op" id="8562081">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8562084">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8562093">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8562103">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8562106">type</span>&nbsp;<span class="ident" id="8562111">clipTest</span>&nbsp;<span class="keyword" id="8562120">struct</span>&nbsp;<span class="op" id="8562127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562130">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8562144">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562152">r</span><span class="op" id="8562153">,</span>&nbsp;<span class="ident" id="8562155">dr</span><span class="op" id="8562157">,</span>&nbsp;<span class="ident" id="8562159">sr</span><span class="op" id="8562161">,</span>&nbsp;<span class="ident" id="8562163">mr</span>&nbsp;<span class="ident" id="8562166">image</span><span class="op" id="8562171">.</span><span class="ident" id="8562172">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562183">sp</span><span class="op" id="8562185">,</span>&nbsp;<span class="ident" id="8562187">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8562197">image</span><span class="op" id="8562202">.</span><span class="ident" id="8562203">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562210">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8562224">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562230">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8562244">image</span><span class="op" id="8562249">.</span><span class="ident" id="8562250">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562261">sp0</span><span class="op" id="8562264">,</span>&nbsp;<span class="ident" id="8562266">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8562275">image</span><span class="op" id="8562280">.</span><span class="ident" id="8562281">Point</span><br>
<span class="lineno"></span><span class="op" id="8562287">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8562290">var</span>&nbsp;<span class="ident" id="8562294">clipTests</span>&nbsp;<span class="op" id="8562304">=</span>&nbsp;<span class="op" id="8562306">[</span><span class="op" id="8562307">]</span><span class="ident" id="8562308">clipTest</span><span class="op" id="8562316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8562319">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8562368">&#34;basic&#34;</span><span class="op" id="8562375">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562379">image</span><span class="op" id="8562384">.</span><span class="ident" id="8562385">Rect</span><span class="op" id="8562389">(</span><span class="num" id="8562390">0</span><span class="op" id="8562391">,</span>&nbsp;<span class="num" id="8562393">0</span><span class="op" id="8562394">,</span>&nbsp;<span class="num" id="8562396">100</span><span class="op" id="8562399">,</span>&nbsp;<span class="num" id="8562401">100</span><span class="op" id="8562404">)</span><span class="op" id="8562405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562409">image</span><span class="op" id="8562414">.</span><span class="ident" id="8562415">Rect</span><span class="op" id="8562419">(</span><span class="num" id="8562420">0</span><span class="op" id="8562421">,</span>&nbsp;<span class="num" id="8562423">0</span><span class="op" id="8562424">,</span>&nbsp;<span class="num" id="8562426">100</span><span class="op" id="8562429">,</span>&nbsp;<span class="num" id="8562431">100</span><span class="op" id="8562434">)</span><span class="op" id="8562435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562439">image</span><span class="op" id="8562444">.</span><span class="ident" id="8562445">Rect</span><span class="op" id="8562449">(</span><span class="num" id="8562450">0</span><span class="op" id="8562451">,</span>&nbsp;<span class="num" id="8562453">0</span><span class="op" id="8562454">,</span>&nbsp;<span class="num" id="8562456">100</span><span class="op" id="8562459">,</span>&nbsp;<span class="num" id="8562461">100</span><span class="op" id="8562464">)</span><span class="op" id="8562465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562469">image</span><span class="op" id="8562474">.</span><span class="ident" id="8562475">ZR</span><span class="op" id="8562477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562481">image</span><span class="op" id="8562486">.</span><span class="ident" id="8562487">ZP</span><span class="op" id="8562489">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562493">image</span><span class="op" id="8562498">.</span><span class="ident" id="8562499">ZP</span><span class="op" id="8562501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8562505">true</span><span class="op" id="8562509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562513">image</span><span class="op" id="8562518">.</span><span class="ident" id="8562519">Rect</span><span class="op" id="8562523">(</span><span class="num" id="8562524">0</span><span class="op" id="8562525">,</span>&nbsp;<span class="num" id="8562527">0</span><span class="op" id="8562528">,</span>&nbsp;<span class="num" id="8562530">100</span><span class="op" id="8562533">,</span>&nbsp;<span class="num" id="8562535">100</span><span class="op" id="8562538">)</span><span class="op" id="8562539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562543">image</span><span class="op" id="8562548">.</span><span class="ident" id="8562549">ZP</span><span class="op" id="8562551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562555">image</span><span class="op" id="8562560">.</span><span class="ident" id="8562561">ZP</span><span class="op" id="8562563">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562566">}</span><span class="op" id="8562567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8562574">&#34;clip&nbsp;dr&#34;</span><span class="op" id="8562583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562587">image</span><span class="op" id="8562592">.</span><span class="ident" id="8562593">Rect</span><span class="op" id="8562597">(</span><span class="num" id="8562598">0</span><span class="op" id="8562599">,</span>&nbsp;<span class="num" id="8562601">0</span><span class="op" id="8562602">,</span>&nbsp;<span class="num" id="8562604">100</span><span class="op" id="8562607">,</span>&nbsp;<span class="num" id="8562609">100</span><span class="op" id="8562612">)</span><span class="op" id="8562613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562617">image</span><span class="op" id="8562622">.</span><span class="ident" id="8562623">Rect</span><span class="op" id="8562627">(</span><span class="num" id="8562628">40</span><span class="op" id="8562630">,</span>&nbsp;<span class="num" id="8562632">40</span><span class="op" id="8562634">,</span>&nbsp;<span class="num" id="8562636">60</span><span class="op" id="8562638">,</span>&nbsp;<span class="num" id="8562640">60</span><span class="op" id="8562642">)</span><span class="op" id="8562643">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562647">image</span><span class="op" id="8562652">.</span><span class="ident" id="8562653">Rect</span><span class="op" id="8562657">(</span><span class="num" id="8562658">0</span><span class="op" id="8562659">,</span>&nbsp;<span class="num" id="8562661">0</span><span class="op" id="8562662">,</span>&nbsp;<span class="num" id="8562664">100</span><span class="op" id="8562667">,</span>&nbsp;<span class="num" id="8562669">100</span><span class="op" id="8562672">)</span><span class="op" id="8562673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562677">image</span><span class="op" id="8562682">.</span><span class="ident" id="8562683">ZR</span><span class="op" id="8562685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562689">image</span><span class="op" id="8562694">.</span><span class="ident" id="8562695">ZP</span><span class="op" id="8562697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562701">image</span><span class="op" id="8562706">.</span><span class="ident" id="8562707">ZP</span><span class="op" id="8562709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8562713">true</span><span class="op" id="8562717">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562721">image</span><span class="op" id="8562726">.</span><span class="ident" id="8562727">Rect</span><span class="op" id="8562731">(</span><span class="num" id="8562732">40</span><span class="op" id="8562734">,</span>&nbsp;<span class="num" id="8562736">40</span><span class="op" id="8562738">,</span>&nbsp;<span class="num" id="8562740">60</span><span class="op" id="8562742">,</span>&nbsp;<span class="num" id="8562744">60</span><span class="op" id="8562746">)</span><span class="op" id="8562747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562751">image</span><span class="op" id="8562756">.</span><span class="ident" id="8562757">Pt</span><span class="op" id="8562759">(</span><span class="num" id="8562760">40</span><span class="op" id="8562762">,</span>&nbsp;<span class="num" id="8562764">40</span><span class="op" id="8562766">)</span><span class="op" id="8562767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562771">image</span><span class="op" id="8562776">.</span><span class="ident" id="8562777">ZP</span><span class="op" id="8562779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562782">}</span><span class="op" id="8562783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562786">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8562790">&#34;clip&nbsp;sr&#34;</span><span class="op" id="8562799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562803">image</span><span class="op" id="8562808">.</span><span class="ident" id="8562809">Rect</span><span class="op" id="8562813">(</span><span class="num" id="8562814">0</span><span class="op" id="8562815">,</span>&nbsp;<span class="num" id="8562817">0</span><span class="op" id="8562818">,</span>&nbsp;<span class="num" id="8562820">100</span><span class="op" id="8562823">,</span>&nbsp;<span class="num" id="8562825">100</span><span class="op" id="8562828">)</span><span class="op" id="8562829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562833">image</span><span class="op" id="8562838">.</span><span class="ident" id="8562839">Rect</span><span class="op" id="8562843">(</span><span class="num" id="8562844">0</span><span class="op" id="8562845">,</span>&nbsp;<span class="num" id="8562847">0</span><span class="op" id="8562848">,</span>&nbsp;<span class="num" id="8562850">100</span><span class="op" id="8562853">,</span>&nbsp;<span class="num" id="8562855">100</span><span class="op" id="8562858">)</span><span class="op" id="8562859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562863">image</span><span class="op" id="8562868">.</span><span class="ident" id="8562869">Rect</span><span class="op" id="8562873">(</span><span class="num" id="8562874">20</span><span class="op" id="8562876">,</span>&nbsp;<span class="num" id="8562878">20</span><span class="op" id="8562880">,</span>&nbsp;<span class="num" id="8562882">80</span><span class="op" id="8562884">,</span>&nbsp;<span class="num" id="8562886">80</span><span class="op" id="8562888">)</span><span class="op" id="8562889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562893">image</span><span class="op" id="8562898">.</span><span class="ident" id="8562899">ZR</span><span class="op" id="8562901">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562905">image</span><span class="op" id="8562910">.</span><span class="ident" id="8562911">ZP</span><span class="op" id="8562913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562917">image</span><span class="op" id="8562922">.</span><span class="ident" id="8562923">ZP</span><span class="op" id="8562925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8562929">true</span><span class="op" id="8562933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562937">image</span><span class="op" id="8562942">.</span><span class="ident" id="8562943">Rect</span><span class="op" id="8562947">(</span><span class="num" id="8562948">20</span><span class="op" id="8562950">,</span>&nbsp;<span class="num" id="8562952">20</span><span class="op" id="8562954">,</span>&nbsp;<span class="num" id="8562956">80</span><span class="op" id="8562958">,</span>&nbsp;<span class="num" id="8562960">80</span><span class="op" id="8562962">)</span><span class="op" id="8562963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562967">image</span><span class="op" id="8562972">.</span><span class="ident" id="8562973">Pt</span><span class="op" id="8562975">(</span><span class="num" id="8562976">20</span><span class="op" id="8562978">,</span>&nbsp;<span class="num" id="8562980">20</span><span class="op" id="8562982">)</span><span class="op" id="8562983">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8562987">image</span><span class="op" id="8562992">.</span><span class="ident" id="8562993">ZP</span><span class="op" id="8562995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8562998">}</span><span class="op" id="8562999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8563006">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="8563022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563026">image</span><span class="op" id="8563031">.</span><span class="ident" id="8563032">Rect</span><span class="op" id="8563036">(</span><span class="num" id="8563037">0</span><span class="op" id="8563038">,</span>&nbsp;<span class="num" id="8563040">0</span><span class="op" id="8563041">,</span>&nbsp;<span class="num" id="8563043">100</span><span class="op" id="8563046">,</span>&nbsp;<span class="num" id="8563048">100</span><span class="op" id="8563051">)</span><span class="op" id="8563052">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563056">image</span><span class="op" id="8563061">.</span><span class="ident" id="8563062">Rect</span><span class="op" id="8563066">(</span><span class="num" id="8563067">0</span><span class="op" id="8563068">,</span>&nbsp;<span class="num" id="8563070">0</span><span class="op" id="8563071">,</span>&nbsp;<span class="num" id="8563073">50</span><span class="op" id="8563075">,</span>&nbsp;<span class="num" id="8563077">100</span><span class="op" id="8563080">)</span><span class="op" id="8563081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563085">image</span><span class="op" id="8563090">.</span><span class="ident" id="8563091">Rect</span><span class="op" id="8563095">(</span><span class="num" id="8563096">20</span><span class="op" id="8563098">,</span>&nbsp;<span class="num" id="8563100">20</span><span class="op" id="8563102">,</span>&nbsp;<span class="num" id="8563104">80</span><span class="op" id="8563106">,</span>&nbsp;<span class="num" id="8563108">80</span><span class="op" id="8563110">)</span><span class="op" id="8563111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563115">image</span><span class="op" id="8563120">.</span><span class="ident" id="8563121">ZR</span><span class="op" id="8563123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563127">image</span><span class="op" id="8563132">.</span><span class="ident" id="8563133">ZP</span><span class="op" id="8563135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563139">image</span><span class="op" id="8563144">.</span><span class="ident" id="8563145">ZP</span><span class="op" id="8563147">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8563151">true</span><span class="op" id="8563155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563159">image</span><span class="op" id="8563164">.</span><span class="ident" id="8563165">Rect</span><span class="op" id="8563169">(</span><span class="num" id="8563170">20</span><span class="op" id="8563172">,</span>&nbsp;<span class="num" id="8563174">20</span><span class="op" id="8563176">,</span>&nbsp;<span class="num" id="8563178">50</span><span class="op" id="8563180">,</span>&nbsp;<span class="num" id="8563182">80</span><span class="op" id="8563184">)</span><span class="op" id="8563185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563189">image</span><span class="op" id="8563194">.</span><span class="ident" id="8563195">Pt</span><span class="op" id="8563197">(</span><span class="num" id="8563198">20</span><span class="op" id="8563200">,</span>&nbsp;<span class="num" id="8563202">20</span><span class="op" id="8563204">)</span><span class="op" id="8563205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563209">image</span><span class="op" id="8563214">.</span><span class="ident" id="8563215">ZP</span><span class="op" id="8563217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563220">}</span><span class="op" id="8563221">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8563228">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="8563270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563274">image</span><span class="op" id="8563279">.</span><span class="ident" id="8563280">Rect</span><span class="op" id="8563284">(</span><span class="num" id="8563285">0</span><span class="op" id="8563286">,</span>&nbsp;<span class="num" id="8563288">0</span><span class="op" id="8563289">,</span>&nbsp;<span class="num" id="8563291">100</span><span class="op" id="8563294">,</span>&nbsp;<span class="num" id="8563296">100</span><span class="op" id="8563299">)</span><span class="op" id="8563300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563304">image</span><span class="op" id="8563309">.</span><span class="ident" id="8563310">Rect</span><span class="op" id="8563314">(</span><span class="num" id="8563315">0</span><span class="op" id="8563316">,</span>&nbsp;<span class="num" id="8563318">0</span><span class="op" id="8563319">,</span>&nbsp;<span class="num" id="8563321">50</span><span class="op" id="8563323">,</span>&nbsp;<span class="num" id="8563325">100</span><span class="op" id="8563328">)</span><span class="op" id="8563329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563333">image</span><span class="op" id="8563338">.</span><span class="ident" id="8563339">Rect</span><span class="op" id="8563343">(</span><span class="num" id="8563344">20</span><span class="op" id="8563346">,</span>&nbsp;<span class="num" id="8563348">20</span><span class="op" id="8563350">,</span>&nbsp;<span class="num" id="8563352">80</span><span class="op" id="8563354">,</span>&nbsp;<span class="num" id="8563356">80</span><span class="op" id="8563358">)</span><span class="op" id="8563359">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563363">image</span><span class="op" id="8563368">.</span><span class="ident" id="8563369">ZR</span><span class="op" id="8563371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563375">image</span><span class="op" id="8563380">.</span><span class="ident" id="8563381">Pt</span><span class="op" id="8563383">(</span><span class="num" id="8563384">15</span><span class="op" id="8563386">,</span>&nbsp;<span class="num" id="8563388">8</span><span class="op" id="8563389">)</span><span class="op" id="8563390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563394">image</span><span class="op" id="8563399">.</span><span class="ident" id="8563400">ZP</span><span class="op" id="8563402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8563406">true</span><span class="op" id="8563410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563414">image</span><span class="op" id="8563419">.</span><span class="ident" id="8563420">Rect</span><span class="op" id="8563424">(</span><span class="num" id="8563425">5</span><span class="op" id="8563426">,</span>&nbsp;<span class="num" id="8563428">12</span><span class="op" id="8563430">,</span>&nbsp;<span class="num" id="8563432">50</span><span class="op" id="8563434">,</span>&nbsp;<span class="num" id="8563436">72</span><span class="op" id="8563438">)</span><span class="op" id="8563439">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563443">image</span><span class="op" id="8563448">.</span><span class="ident" id="8563449">Pt</span><span class="op" id="8563451">(</span><span class="num" id="8563452">20</span><span class="op" id="8563454">,</span>&nbsp;<span class="num" id="8563456">20</span><span class="op" id="8563458">)</span><span class="op" id="8563459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563463">image</span><span class="op" id="8563468">.</span><span class="ident" id="8563469">ZP</span><span class="op" id="8563471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563474">}</span><span class="op" id="8563475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8563482">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="8563527">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563531">image</span><span class="op" id="8563536">.</span><span class="ident" id="8563537">Rect</span><span class="op" id="8563541">(</span><span class="num" id="8563542">0</span><span class="op" id="8563543">,</span>&nbsp;<span class="num" id="8563545">0</span><span class="op" id="8563546">,</span>&nbsp;<span class="num" id="8563548">100</span><span class="op" id="8563551">,</span>&nbsp;<span class="num" id="8563553">100</span><span class="op" id="8563556">)</span><span class="op" id="8563557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563561">image</span><span class="op" id="8563566">.</span><span class="ident" id="8563567">Rect</span><span class="op" id="8563571">(</span><span class="num" id="8563572">0</span><span class="op" id="8563573">,</span>&nbsp;<span class="num" id="8563575">0</span><span class="op" id="8563576">,</span>&nbsp;<span class="num" id="8563578">50</span><span class="op" id="8563580">,</span>&nbsp;<span class="num" id="8563582">100</span><span class="op" id="8563585">)</span><span class="op" id="8563586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563590">image</span><span class="op" id="8563595">.</span><span class="ident" id="8563596">Rect</span><span class="op" id="8563600">(</span><span class="num" id="8563601">20</span><span class="op" id="8563603">,</span>&nbsp;<span class="num" id="8563605">20</span><span class="op" id="8563607">,</span>&nbsp;<span class="num" id="8563609">80</span><span class="op" id="8563611">,</span>&nbsp;<span class="num" id="8563613">80</span><span class="op" id="8563615">)</span><span class="op" id="8563616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563620">image</span><span class="op" id="8563625">.</span><span class="ident" id="8563626">ZR</span><span class="op" id="8563628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563632">image</span><span class="op" id="8563637">.</span><span class="ident" id="8563638">Pt</span><span class="op" id="8563640">(</span><span class="num" id="8563641">15</span><span class="op" id="8563643">,</span>&nbsp;<span class="num" id="8563645">66</span><span class="op" id="8563647">)</span><span class="op" id="8563648">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563652">image</span><span class="op" id="8563657">.</span><span class="ident" id="8563658">ZP</span><span class="op" id="8563660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8563664">true</span><span class="op" id="8563668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563672">image</span><span class="op" id="8563677">.</span><span class="ident" id="8563678">Rect</span><span class="op" id="8563682">(</span><span class="num" id="8563683">5</span><span class="op" id="8563684">,</span>&nbsp;<span class="num" id="8563686">0</span><span class="op" id="8563687">,</span>&nbsp;<span class="num" id="8563689">50</span><span class="op" id="8563691">,</span>&nbsp;<span class="num" id="8563693">14</span><span class="op" id="8563695">)</span><span class="op" id="8563696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563700">image</span><span class="op" id="8563705">.</span><span class="ident" id="8563706">Pt</span><span class="op" id="8563708">(</span><span class="num" id="8563709">20</span><span class="op" id="8563711">,</span>&nbsp;<span class="num" id="8563713">66</span><span class="op" id="8563715">)</span><span class="op" id="8563716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563720">image</span><span class="op" id="8563725">.</span><span class="ident" id="8563726">ZP</span><span class="op" id="8563728">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563731">}</span><span class="op" id="8563732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8563739">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="8563784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563788">image</span><span class="op" id="8563793">.</span><span class="ident" id="8563794">Rect</span><span class="op" id="8563798">(</span><span class="num" id="8563799">0</span><span class="op" id="8563800">,</span>&nbsp;<span class="num" id="8563802">0</span><span class="op" id="8563803">,</span>&nbsp;<span class="num" id="8563805">100</span><span class="op" id="8563808">,</span>&nbsp;<span class="num" id="8563810">100</span><span class="op" id="8563813">)</span><span class="op" id="8563814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563818">image</span><span class="op" id="8563823">.</span><span class="ident" id="8563824">Rect</span><span class="op" id="8563828">(</span><span class="num" id="8563829">0</span><span class="op" id="8563830">,</span>&nbsp;<span class="num" id="8563832">0</span><span class="op" id="8563833">,</span>&nbsp;<span class="num" id="8563835">50</span><span class="op" id="8563837">,</span>&nbsp;<span class="num" id="8563839">100</span><span class="op" id="8563842">)</span><span class="op" id="8563843">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563847">image</span><span class="op" id="8563852">.</span><span class="ident" id="8563853">Rect</span><span class="op" id="8563857">(</span><span class="num" id="8563858">20</span><span class="op" id="8563860">,</span>&nbsp;<span class="num" id="8563862">20</span><span class="op" id="8563864">,</span>&nbsp;<span class="num" id="8563866">80</span><span class="op" id="8563868">,</span>&nbsp;<span class="num" id="8563870">80</span><span class="op" id="8563872">)</span><span class="op" id="8563873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563877">image</span><span class="op" id="8563882">.</span><span class="ident" id="8563883">ZR</span><span class="op" id="8563885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563889">image</span><span class="op" id="8563894">.</span><span class="ident" id="8563895">Pt</span><span class="op" id="8563897">(</span><span class="num" id="8563898">15</span><span class="op" id="8563900">,</span>&nbsp;<span class="num" id="8563902">91</span><span class="op" id="8563904">)</span><span class="op" id="8563905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563909">image</span><span class="op" id="8563914">.</span><span class="ident" id="8563915">ZP</span><span class="op" id="8563917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8563921">true</span><span class="op" id="8563925">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563929">image</span><span class="op" id="8563934">.</span><span class="ident" id="8563935">ZR</span><span class="op" id="8563937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563941">image</span><span class="op" id="8563946">.</span><span class="ident" id="8563947">Pt</span><span class="op" id="8563949">(</span><span class="num" id="8563950">15</span><span class="op" id="8563952">,</span>&nbsp;<span class="num" id="8563954">91</span><span class="op" id="8563956">)</span><span class="op" id="8563957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8563961">image</span><span class="op" id="8563966">.</span><span class="ident" id="8563967">ZP</span><span class="op" id="8563969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563972">}</span><span class="op" id="8563973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8563976">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8563980">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="8564010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564014">image</span><span class="op" id="8564019">.</span><span class="ident" id="8564020">Rect</span><span class="op" id="8564024">(</span><span class="num" id="8564025">0</span><span class="op" id="8564026">,</span>&nbsp;<span class="num" id="8564028">0</span><span class="op" id="8564029">,</span>&nbsp;<span class="num" id="8564031">100</span><span class="op" id="8564034">,</span>&nbsp;<span class="num" id="8564036">100</span><span class="op" id="8564039">)</span><span class="op" id="8564040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564044">image</span><span class="op" id="8564049">.</span><span class="ident" id="8564050">Rect</span><span class="op" id="8564054">(</span><span class="num" id="8564055">0</span><span class="op" id="8564056">,</span>&nbsp;<span class="num" id="8564058">0</span><span class="op" id="8564059">,</span>&nbsp;<span class="num" id="8564061">50</span><span class="op" id="8564063">,</span>&nbsp;<span class="num" id="8564065">100</span><span class="op" id="8564068">)</span><span class="op" id="8564069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564073">image</span><span class="op" id="8564078">.</span><span class="ident" id="8564079">Rect</span><span class="op" id="8564083">(</span><span class="num" id="8564084">20</span><span class="op" id="8564086">,</span>&nbsp;<span class="num" id="8564088">20</span><span class="op" id="8564090">,</span>&nbsp;<span class="num" id="8564092">80</span><span class="op" id="8564094">,</span>&nbsp;<span class="num" id="8564096">80</span><span class="op" id="8564098">)</span><span class="op" id="8564099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564103">image</span><span class="op" id="8564108">.</span><span class="ident" id="8564109">ZR</span><span class="op" id="8564111">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564115">image</span><span class="op" id="8564120">.</span><span class="ident" id="8564121">Pt</span><span class="op" id="8564123">(</span><span class="num" id="8564124">44</span><span class="op" id="8564126">,</span>&nbsp;<span class="num" id="8564128">33</span><span class="op" id="8564130">)</span><span class="op" id="8564131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564135">image</span><span class="op" id="8564140">.</span><span class="ident" id="8564141">ZP</span><span class="op" id="8564143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8564147">true</span><span class="op" id="8564151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564155">image</span><span class="op" id="8564160">.</span><span class="ident" id="8564161">Rect</span><span class="op" id="8564165">(</span><span class="num" id="8564166">0</span><span class="op" id="8564167">,</span>&nbsp;<span class="num" id="8564169">0</span><span class="op" id="8564170">,</span>&nbsp;<span class="num" id="8564172">36</span><span class="op" id="8564174">,</span>&nbsp;<span class="num" id="8564176">47</span><span class="op" id="8564178">)</span><span class="op" id="8564179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564183">image</span><span class="op" id="8564188">.</span><span class="ident" id="8564189">Pt</span><span class="op" id="8564191">(</span><span class="num" id="8564192">44</span><span class="op" id="8564194">,</span>&nbsp;<span class="num" id="8564196">33</span><span class="op" id="8564198">)</span><span class="op" id="8564199">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564203">image</span><span class="op" id="8564208">.</span><span class="ident" id="8564209">ZP</span><span class="op" id="8564211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8564214">}</span><span class="op" id="8564215">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8564219">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8564268">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8564272">&#34;basic&nbsp;mask&#34;</span><span class="op" id="8564284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564288">image</span><span class="op" id="8564293">.</span><span class="ident" id="8564294">Rect</span><span class="op" id="8564298">(</span><span class="num" id="8564299">0</span><span class="op" id="8564300">,</span>&nbsp;<span class="num" id="8564302">0</span><span class="op" id="8564303">,</span>&nbsp;<span class="num" id="8564305">80</span><span class="op" id="8564307">,</span>&nbsp;<span class="num" id="8564309">80</span><span class="op" id="8564311">)</span><span class="op" id="8564312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564316">image</span><span class="op" id="8564321">.</span><span class="ident" id="8564322">Rect</span><span class="op" id="8564326">(</span><span class="num" id="8564327">20</span><span class="op" id="8564329">,</span>&nbsp;<span class="num" id="8564331">0</span><span class="op" id="8564332">,</span>&nbsp;<span class="num" id="8564334">100</span><span class="op" id="8564337">,</span>&nbsp;<span class="num" id="8564339">80</span><span class="op" id="8564341">)</span><span class="op" id="8564342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564346">image</span><span class="op" id="8564351">.</span><span class="ident" id="8564352">Rect</span><span class="op" id="8564356">(</span><span class="num" id="8564357">0</span><span class="op" id="8564358">,</span>&nbsp;<span class="num" id="8564360">0</span><span class="op" id="8564361">,</span>&nbsp;<span class="num" id="8564363">50</span><span class="op" id="8564365">,</span>&nbsp;<span class="num" id="8564367">49</span><span class="op" id="8564369">)</span><span class="op" id="8564370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564374">image</span><span class="op" id="8564379">.</span><span class="ident" id="8564380">Rect</span><span class="op" id="8564384">(</span><span class="num" id="8564385">0</span><span class="op" id="8564386">,</span>&nbsp;<span class="num" id="8564388">0</span><span class="op" id="8564389">,</span>&nbsp;<span class="num" id="8564391">46</span><span class="op" id="8564393">,</span>&nbsp;<span class="num" id="8564395">47</span><span class="op" id="8564397">)</span><span class="op" id="8564398">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564402">image</span><span class="op" id="8564407">.</span><span class="ident" id="8564408">ZP</span><span class="op" id="8564410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564414">image</span><span class="op" id="8564419">.</span><span class="ident" id="8564420">ZP</span><span class="op" id="8564422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8564426">false</span><span class="op" id="8564431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564435">image</span><span class="op" id="8564440">.</span><span class="ident" id="8564441">Rect</span><span class="op" id="8564445">(</span><span class="num" id="8564446">20</span><span class="op" id="8564448">,</span>&nbsp;<span class="num" id="8564450">0</span><span class="op" id="8564451">,</span>&nbsp;<span class="num" id="8564453">46</span><span class="op" id="8564455">,</span>&nbsp;<span class="num" id="8564457">47</span><span class="op" id="8564459">)</span><span class="op" id="8564460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564464">image</span><span class="op" id="8564469">.</span><span class="ident" id="8564470">Pt</span><span class="op" id="8564472">(</span><span class="num" id="8564473">20</span><span class="op" id="8564475">,</span>&nbsp;<span class="num" id="8564477">0</span><span class="op" id="8564478">)</span><span class="op" id="8564479">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564483">image</span><span class="op" id="8564488">.</span><span class="ident" id="8564489">Pt</span><span class="op" id="8564491">(</span><span class="num" id="8564492">20</span><span class="op" id="8564494">,</span>&nbsp;<span class="num" id="8564496">0</span><span class="op" id="8564497">)</span><span class="op" id="8564498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8564501">}</span><span class="op" id="8564502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8564505">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="8564542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8564545">func</span>&nbsp;<span class="ident" id="8564550">TestClip</span><span class="op" id="8564558">(</span><span class="ident" id="8564559">t</span>&nbsp;<span class="op" id="8564561">*</span><span class="ident" id="8564562">testing</span><span class="op" id="8564569">.</span><span class="ident" id="8564570">T</span><span class="op" id="8564571">)</span>&nbsp;<span class="op" id="8564573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564576">dst0</span>&nbsp;<span class="op" id="8564581">:=</span>&nbsp;<span class="ident" id="8564584">image</span><span class="op" id="8564589">.</span><span class="ident" id="8564590">NewRGBA</span><span class="op" id="8564597">(</span><span class="ident" id="8564598">image</span><span class="op" id="8564603">.</span><span class="ident" id="8564604">Rect</span><span class="op" id="8564608">(</span><span class="num" id="8564609">0</span><span class="op" id="8564610">,</span>&nbsp;<span class="num" id="8564612">0</span><span class="op" id="8564613">,</span>&nbsp;<span class="num" id="8564615">100</span><span class="op" id="8564618">,</span>&nbsp;<span class="num" id="8564620">100</span><span class="op" id="8564623">)</span><span class="op" id="8564624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564627">src0</span>&nbsp;<span class="op" id="8564632">:=</span>&nbsp;<span class="ident" id="8564635">image</span><span class="op" id="8564640">.</span><span class="ident" id="8564641">NewRGBA</span><span class="op" id="8564648">(</span><span class="ident" id="8564649">image</span><span class="op" id="8564654">.</span><span class="ident" id="8564655">Rect</span><span class="op" id="8564659">(</span><span class="num" id="8564660">0</span><span class="op" id="8564661">,</span>&nbsp;<span class="num" id="8564663">0</span><span class="op" id="8564664">,</span>&nbsp;<span class="num" id="8564666">100</span><span class="op" id="8564669">,</span>&nbsp;<span class="num" id="8564671">100</span><span class="op" id="8564674">)</span><span class="op" id="8564675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564678">mask0</span>&nbsp;<span class="op" id="8564684">:=</span>&nbsp;<span class="ident" id="8564687">image</span><span class="op" id="8564692">.</span><span class="ident" id="8564693">NewRGBA</span><span class="op" id="8564700">(</span><span class="ident" id="8564701">image</span><span class="op" id="8564706">.</span><span class="ident" id="8564707">Rect</span><span class="op" id="8564711">(</span><span class="num" id="8564712">0</span><span class="op" id="8564713">,</span>&nbsp;<span class="num" id="8564715">0</span><span class="op" id="8564716">,</span>&nbsp;<span class="num" id="8564718">100</span><span class="op" id="8564721">,</span>&nbsp;<span class="num" id="8564723">100</span><span class="op" id="8564726">)</span><span class="op" id="8564727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8564730">for</span>&nbsp;<span class="ident" id="8564734">_</span><span class="op" id="8564735">,</span>&nbsp;<span class="ident" id="8564737">c</span>&nbsp;<span class="op" id="8564739">:=</span>&nbsp;<span class="keyword" id="8564742">range</span>&nbsp;<span class="ident" id="8564748">clipTests</span>&nbsp;<span class="op" id="8564758">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564762">dst</span>&nbsp;<span class="op" id="8564766">:=</span>&nbsp;<span class="ident" id="8564769">dst0</span><span class="op" id="8564773">.</span><span class="ident" id="8564774">SubImage</span><span class="op" id="8564782">(</span><span class="ident" id="8564783">c</span><span class="op" id="8564784">.</span><span class="ident" id="8564785">dr</span><span class="op" id="8564787">)</span><span class="op" id="8564788">.</span><span class="op" id="8564789">(</span><span class="op" id="8564790">*</span><span class="ident" id="8564791">image</span><span class="op" id="8564796">.</span><span class="ident" id="8564797">RGBA</span><span class="op" id="8564801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564805">src</span>&nbsp;<span class="op" id="8564809">:=</span>&nbsp;<span class="ident" id="8564812">src0</span><span class="op" id="8564816">.</span><span class="ident" id="8564817">SubImage</span><span class="op" id="8564825">(</span><span class="ident" id="8564826">c</span><span class="op" id="8564827">.</span><span class="ident" id="8564828">sr</span><span class="op" id="8564830">)</span><span class="op" id="8564831">.</span><span class="op" id="8564832">(</span><span class="op" id="8564833">*</span><span class="ident" id="8564834">image</span><span class="op" id="8564839">.</span><span class="ident" id="8564840">RGBA</span><span class="op" id="8564844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8564848">var</span>&nbsp;<span class="ident" id="8564852">mask</span>&nbsp;<span class="ident" id="8564857">image</span><span class="op" id="8564862">.</span><span class="ident" id="8564863">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8564871">if</span>&nbsp;<span class="op" id="8564874">!</span><span class="ident" id="8564875">c</span><span class="op" id="8564876">.</span><span class="ident" id="8564877">nilMask</span>&nbsp;<span class="op" id="8564885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564890">mask</span>&nbsp;<span class="op" id="8564895">=</span>&nbsp;<span class="ident" id="8564897">mask0</span><span class="op" id="8564902">.</span><span class="ident" id="8564903">SubImage</span><span class="op" id="8564911">(</span><span class="ident" id="8564912">c</span><span class="op" id="8564913">.</span><span class="ident" id="8564914">mr</span><span class="op" id="8564916">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8564920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564924">r</span><span class="op" id="8564925">,</span>&nbsp;<span class="ident" id="8564927">sp</span><span class="op" id="8564929">,</span>&nbsp;<span class="ident" id="8564931">mp</span>&nbsp;<span class="op" id="8564934">:=</span>&nbsp;<span class="ident" id="8564937">c</span><span class="op" id="8564938">.</span><span class="ident" id="8564939">r</span><span class="op" id="8564940">,</span>&nbsp;<span class="ident" id="8564942">c</span><span class="op" id="8564943">.</span><span class="ident" id="8564944">sp</span><span class="op" id="8564946">,</span>&nbsp;<span class="ident" id="8564948">c</span><span class="op" id="8564949">.</span><span class="ident" id="8564950">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8564955">clip</span><span class="op" id="8564959">(</span><span class="ident" id="8564960">dst</span><span class="op" id="8564963">,</span>&nbsp;<span class="op" id="8564965">&amp;</span><span class="ident" id="8564966">r</span><span class="op" id="8564967">,</span>&nbsp;<span class="ident" id="8564969">src</span><span class="op" id="8564972">,</span>&nbsp;<span class="op" id="8564974">&amp;</span><span class="ident" id="8564975">sp</span><span class="op" id="8564977">,</span>&nbsp;<span class="ident" id="8564979">mask</span><span class="op" id="8564983">,</span>&nbsp;<span class="op" id="8564985">&amp;</span><span class="ident" id="8564986">mp</span><span class="op" id="8564988">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8564993">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565056">if</span>&nbsp;<span class="op" id="8565059">!</span><span class="ident" id="8565060">c</span><span class="op" id="8565061">.</span><span class="ident" id="8565062">r0</span><span class="op" id="8565064">.</span><span class="ident" id="8565065">Eq</span><span class="op" id="8565067">(</span><span class="ident" id="8565068">r</span><span class="op" id="8565069">)</span>&nbsp;<span class="op" id="8565071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565076">t</span><span class="op" id="8565077">.</span><span class="ident" id="8565078">Errorf</span><span class="op" id="8565084">(</span><span class="string" id="8565085">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8565120">,</span>&nbsp;<span class="ident" id="8565122">c</span><span class="op" id="8565123">.</span><span class="ident" id="8565124">desc</span><span class="op" id="8565128">,</span>&nbsp;<span class="ident" id="8565130">c</span><span class="op" id="8565131">.</span><span class="ident" id="8565132">r0</span><span class="op" id="8565134">,</span>&nbsp;<span class="ident" id="8565136">r</span><span class="op" id="8565137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565142">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565157">if</span>&nbsp;<span class="op" id="8565160">!</span><span class="ident" id="8565161">c</span><span class="op" id="8565162">.</span><span class="ident" id="8565163">sp0</span><span class="op" id="8565166">.</span><span class="ident" id="8565167">Eq</span><span class="op" id="8565169">(</span><span class="ident" id="8565170">sp</span><span class="op" id="8565172">)</span>&nbsp;<span class="op" id="8565174">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565179">t</span><span class="op" id="8565180">.</span><span class="ident" id="8565181">Errorf</span><span class="op" id="8565187">(</span><span class="string" id="8565188">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8565211">,</span>&nbsp;<span class="ident" id="8565213">c</span><span class="op" id="8565214">.</span><span class="ident" id="8565215">desc</span><span class="op" id="8565219">,</span>&nbsp;<span class="ident" id="8565221">c</span><span class="op" id="8565222">.</span><span class="ident" id="8565223">sp0</span><span class="op" id="8565226">,</span>&nbsp;<span class="ident" id="8565228">sp</span><span class="op" id="8565230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565235">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565250">if</span>&nbsp;<span class="op" id="8565253">!</span><span class="ident" id="8565254">c</span><span class="op" id="8565255">.</span><span class="ident" id="8565256">nilMask</span>&nbsp;<span class="op" id="8565264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565269">if</span>&nbsp;<span class="op" id="8565272">!</span><span class="ident" id="8565273">c</span><span class="op" id="8565274">.</span><span class="ident" id="8565275">mp0</span><span class="op" id="8565278">.</span><span class="ident" id="8565279">Eq</span><span class="op" id="8565281">(</span><span class="ident" id="8565282">mp</span><span class="op" id="8565284">)</span>&nbsp;<span class="op" id="8565286">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565292">t</span><span class="op" id="8565293">.</span><span class="ident" id="8565294">Errorf</span><span class="op" id="8565300">(</span><span class="string" id="8565301">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8565324">,</span>&nbsp;<span class="ident" id="8565326">c</span><span class="op" id="8565327">.</span><span class="ident" id="8565328">desc</span><span class="op" id="8565332">,</span>&nbsp;<span class="ident" id="8565334">c</span><span class="op" id="8565335">.</span><span class="ident" id="8565336">mp0</span><span class="op" id="8565339">,</span>&nbsp;<span class="ident" id="8565341">mp</span><span class="op" id="8565343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565349">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8565370">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8565445">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565502">if</span>&nbsp;<span class="op" id="8565505">!</span><span class="ident" id="8565506">r</span><span class="op" id="8565507">.</span><span class="ident" id="8565508">In</span><span class="op" id="8565510">(</span><span class="ident" id="8565511">c</span><span class="op" id="8565512">.</span><span class="ident" id="8565513">dr</span><span class="op" id="8565515">)</span>&nbsp;<span class="op" id="8565517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565522">t</span><span class="op" id="8565523">.</span><span class="ident" id="8565524">Errorf</span><span class="op" id="8565530">(</span><span class="string" id="8565531">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="8565566">,</span>&nbsp;<span class="ident" id="8565568">c</span><span class="op" id="8565569">.</span><span class="ident" id="8565570">desc</span><span class="op" id="8565574">,</span>&nbsp;<span class="ident" id="8565576">c</span><span class="op" id="8565577">.</span><span class="ident" id="8565578">dr</span><span class="op" id="8565580">,</span>&nbsp;<span class="ident" id="8565582">r</span><span class="op" id="8565583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565587">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8565591">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565645">sr</span>&nbsp;<span class="op" id="8565648">:=</span>&nbsp;<span class="ident" id="8565651">r</span><span class="op" id="8565652">.</span><span class="ident" id="8565653">Add</span><span class="op" id="8565656">(</span><span class="ident" id="8565657">c</span><span class="op" id="8565658">.</span><span class="ident" id="8565659">sp</span><span class="op" id="8565661">.</span><span class="ident" id="8565662">Sub</span><span class="op" id="8565665">(</span><span class="ident" id="8565666">c</span><span class="op" id="8565667">.</span><span class="ident" id="8565668">dr</span><span class="op" id="8565670">.</span><span class="ident" id="8565671">Min</span><span class="op" id="8565674">)</span><span class="op" id="8565675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565679">if</span>&nbsp;<span class="op" id="8565682">!</span><span class="ident" id="8565683">sr</span><span class="op" id="8565685">.</span><span class="ident" id="8565686">In</span><span class="op" id="8565688">(</span><span class="ident" id="8565689">c</span><span class="op" id="8565690">.</span><span class="ident" id="8565691">sr</span><span class="op" id="8565693">)</span>&nbsp;<span class="op" id="8565695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565700">t</span><span class="op" id="8565701">.</span><span class="ident" id="8565702">Errorf</span><span class="op" id="8565708">(</span><span class="string" id="8565709">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="8565745">,</span>&nbsp;<span class="ident" id="8565747">c</span><span class="op" id="8565748">.</span><span class="ident" id="8565749">desc</span><span class="op" id="8565753">,</span>&nbsp;<span class="ident" id="8565755">c</span><span class="op" id="8565756">.</span><span class="ident" id="8565757">sr</span><span class="op" id="8565759">,</span>&nbsp;<span class="ident" id="8565761">sr</span><span class="op" id="8565763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565767">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565771">if</span>&nbsp;<span class="op" id="8565774">!</span><span class="ident" id="8565775">c</span><span class="op" id="8565776">.</span><span class="ident" id="8565777">nilMask</span>&nbsp;<span class="op" id="8565785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8565790">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565846">mr</span>&nbsp;<span class="op" id="8565849">:=</span>&nbsp;<span class="ident" id="8565852">r</span><span class="op" id="8565853">.</span><span class="ident" id="8565854">Add</span><span class="op" id="8565857">(</span><span class="ident" id="8565858">c</span><span class="op" id="8565859">.</span><span class="ident" id="8565860">mp</span><span class="op" id="8565862">.</span><span class="ident" id="8565863">Sub</span><span class="op" id="8565866">(</span><span class="ident" id="8565867">c</span><span class="op" id="8565868">.</span><span class="ident" id="8565869">dr</span><span class="op" id="8565871">.</span><span class="ident" id="8565872">Min</span><span class="op" id="8565875">)</span><span class="op" id="8565876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8565881">if</span>&nbsp;<span class="op" id="8565884">!</span><span class="ident" id="8565885">mr</span><span class="op" id="8565887">.</span><span class="ident" id="8565888">In</span><span class="op" id="8565890">(</span><span class="ident" id="8565891">c</span><span class="op" id="8565892">.</span><span class="ident" id="8565893">mr</span><span class="op" id="8565895">)</span>&nbsp;<span class="op" id="8565897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8565903">t</span><span class="op" id="8565904">.</span><span class="ident" id="8565905">Errorf</span><span class="op" id="8565911">(</span><span class="string" id="8565912">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="8565948">,</span>&nbsp;<span class="ident" id="8565950">c</span><span class="op" id="8565951">.</span><span class="ident" id="8565952">desc</span><span class="op" id="8565956">,</span>&nbsp;<span class="ident" id="8565958">c</span><span class="op" id="8565959">.</span><span class="ident" id="8565960">mr</span><span class="op" id="8565962">,</span>&nbsp;<span class="ident" id="8565964">mr</span><span class="op" id="8565966">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8565978">}</span><br>
<span class="lineno"></span><span class="op" id="8565980">}</span>
</div>
</body>
</html>
