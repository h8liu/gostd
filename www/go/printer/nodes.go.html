<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6135840">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6135895">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6135949">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6136000">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;printing&nbsp;of&nbsp;AST&nbsp;nodes;&nbsp;specifically</span><br>
<span class="lineno"></span><span class="comment" id="6136060">//&nbsp;expressions,&nbsp;statements,&nbsp;declarations,&nbsp;and&nbsp;files.&nbsp;It&nbsp;uses</span><br>
<span class="lineno"></span><span class="comment" id="6136121">//&nbsp;the&nbsp;print&nbsp;functionality&nbsp;implemented&nbsp;in&nbsp;printer.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6136176">package</span>&nbsp;<span class="ident" id="6136184">printer</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6136193">import</span>&nbsp;<span class="op" id="6136200">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6136203">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6136212">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6136222">&#34;go/token&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6136234">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6136249">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6136252">//&nbsp;Formatting&nbsp;issues:</span><br>
<span class="lineno"></span><span class="comment" id="6136274">//&nbsp;-&nbsp;better&nbsp;comment&nbsp;formatting&nbsp;for&nbsp;/*-style&nbsp;comments&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;(e.g.&nbsp;a&nbsp;declaration)</span><br>
<span class="lineno">20</span><span class="comment" id="6136369">//&nbsp;&nbsp;&nbsp;when&nbsp;the&nbsp;comment&nbsp;spans&nbsp;multiple&nbsp;lines;&nbsp;if&nbsp;such&nbsp;a&nbsp;comment&nbsp;is&nbsp;just&nbsp;two&nbsp;lines,&nbsp;formatting&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6136464">//&nbsp;&nbsp;&nbsp;not&nbsp;idempotent</span><br>
<span class="lineno"></span><span class="comment" id="6136484">//&nbsp;-&nbsp;formatting&nbsp;of&nbsp;expression&nbsp;lists</span><br>
<span class="lineno"></span><span class="comment" id="6136520">//&nbsp;-&nbsp;should&nbsp;use&nbsp;blank&nbsp;instead&nbsp;of&nbsp;tab&nbsp;to&nbsp;separate&nbsp;one-line&nbsp;function&nbsp;bodies&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="6136599">//&nbsp;&nbsp;&nbsp;the&nbsp;function&nbsp;header&nbsp;unless&nbsp;there&nbsp;is&nbsp;a&nbsp;group&nbsp;of&nbsp;consecutive&nbsp;one-liners</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="6136675">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="6136755">//&nbsp;Common&nbsp;AST&nbsp;nodes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6136777">//&nbsp;Print&nbsp;as&nbsp;many&nbsp;newlines&nbsp;as&nbsp;necessary&nbsp;(but&nbsp;at&nbsp;least&nbsp;min&nbsp;newlines)&nbsp;to&nbsp;get&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="6136854">//&nbsp;the&nbsp;current&nbsp;line.&nbsp;ws&nbsp;is&nbsp;printed&nbsp;before&nbsp;the&nbsp;first&nbsp;line&nbsp;break.&nbsp;If&nbsp;newSection</span><br>
<span class="lineno"></span><span class="comment" id="6136932">//&nbsp;is&nbsp;set,&nbsp;the&nbsp;first&nbsp;line&nbsp;break&nbsp;is&nbsp;printed&nbsp;as&nbsp;formfeed.&nbsp;Returns&nbsp;true&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="6137008">//&nbsp;line&nbsp;break&nbsp;was&nbsp;printed;&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="6137060">//</span><br>
<span class="lineno"></span><span class="comment" id="6137063">//&nbsp;TODO(gri):&nbsp;linebreak&nbsp;may&nbsp;add&nbsp;too&nbsp;many&nbsp;lines&nbsp;if&nbsp;the&nbsp;next&nbsp;statement&nbsp;at&nbsp;&#34;line&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="6137142">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;preceded&nbsp;by&nbsp;comments&nbsp;because&nbsp;the&nbsp;computation&nbsp;of&nbsp;n&nbsp;assumes</span><br>
<span class="lineno"></span><span class="comment" id="6137217">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;position&nbsp;before&nbsp;the&nbsp;comment&nbsp;and&nbsp;the&nbsp;target&nbsp;position</span><br>
<span class="lineno"></span><span class="comment" id="6137295">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after&nbsp;the&nbsp;comment.&nbsp;Thus,&nbsp;after&nbsp;interspersing&nbsp;such&nbsp;comments,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6137373">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space&nbsp;taken&nbsp;up&nbsp;by&nbsp;them&nbsp;is&nbsp;not&nbsp;considered&nbsp;to&nbsp;reduce&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6137452">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linebreaks.&nbsp;At&nbsp;the&nbsp;moment&nbsp;there&nbsp;is&nbsp;no&nbsp;easy&nbsp;way&nbsp;to&nbsp;know&nbsp;about</span><br>
<span class="lineno">40</span><span class="comment" id="6137527">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;(not&nbsp;yet&nbsp;interspersed)&nbsp;comments&nbsp;in&nbsp;this&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="6137598">//</span><br>
<span class="lineno"></span><span class="keyword" id="6137601">func</span>&nbsp;<span class="op" id="6137606">(</span><span class="ident" id="6137607">p</span>&nbsp;<span class="op" id="6137609">*</span><span class="ident" id="6137610"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6137617">)</span>&nbsp;<span class="ident" id="6137619">linebreak</span><span class="op" id="6137628">(</span><span class="ident" id="6137629">line</span><span class="op" id="6137633">,</span>&nbsp;<span class="ident" id="6137635">min</span>&nbsp;<span class="builtintype" id="6137639">int</span><span class="op" id="6137642">,</span>&nbsp;<span class="ident" id="6137644">ws</span>&nbsp;<span class="ident" id="6137647"><a href="/go/printer/printer.go.html#6179012">whiteSpace</a></span><span class="op" id="6137657">,</span>&nbsp;<span class="ident" id="6137659">newSection</span>&nbsp;<span class="builtintype" id="6137670">bool</span><span class="op" id="6137674">)</span>&nbsp;<span class="op" id="6137676">(</span><span class="ident" id="6137677">printedBreak</span>&nbsp;<span class="builtintype" id="6137690">bool</span><span class="op" id="6137694">)</span>&nbsp;<span class="op" id="6137696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137699">n</span>&nbsp;<span class="op" id="6137701">:=</span>&nbsp;<span class="ident" id="6137704"><a href="/go/printer/printer.go.html#6202923">nlimit</a></span><span class="op" id="6137710">(</span><span class="ident" id="6137711"><a href="/go/printer/nodes.go.html#6137629">line</a></span>&nbsp;<span class="op" id="6137716">-</span>&nbsp;<span class="ident" id="6137718"><a href="/go/printer/nodes.go.html#6137607">p</a></span><span class="op" id="6137719">.</span><span class="ident" id="6137720">pos</span><span class="op" id="6137723">.</span><span class="ident" id="6137724">Line</span><span class="op" id="6137728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6137731">if</span>&nbsp;<span class="ident" id="6137734"><a href="/go/printer/nodes.go.html#6137699">n</a></span>&nbsp;<span class="op" id="6137736">&lt;</span>&nbsp;<span class="ident" id="6137738"><a href="/go/printer/nodes.go.html#6137635">min</a></span>&nbsp;<span class="op" id="6137742">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137746"><a href="/go/printer/nodes.go.html#6137699">n</a></span>&nbsp;<span class="op" id="6137748">=</span>&nbsp;<span class="ident" id="6137750"><a href="/go/printer/nodes.go.html#6137635">min</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6137755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6137758">if</span>&nbsp;<span class="ident" id="6137761"><a href="/go/printer/nodes.go.html#6137699">n</a></span>&nbsp;<span class="op" id="6137763">&gt;</span>&nbsp;<span class="num" id="6137765">0</span>&nbsp;<span class="op" id="6137767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137771"><a href="/go/printer/nodes.go.html#6137607">p</a></span><span class="op" id="6137772">.</span><span class="builtinfunc" id="6137773">print</span><span class="op" id="6137778">(</span><span class="ident" id="6137779"><a href="/go/printer/nodes.go.html#6137644">ws</a></span><span class="op" id="6137781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6137785">if</span>&nbsp;<span class="ident" id="6137788"><a href="/go/printer/nodes.go.html#6137659">newSection</a></span>&nbsp;<span class="op" id="6137799">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137804"><a href="/go/printer/nodes.go.html#6137607">p</a></span><span class="op" id="6137805">.</span><span class="builtinfunc" id="6137806">print</span><span class="op" id="6137811">(</span><span class="ident" id="6137812"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6137820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137825"><a href="/go/printer/nodes.go.html#6137699">n</a></span><span class="op" id="6137826">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6137831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6137835">for</span>&nbsp;<span class="op" id="6137839">;</span>&nbsp;<span class="ident" id="6137841"><a href="/go/printer/nodes.go.html#6137699">n</a></span>&nbsp;<span class="op" id="6137843">&gt;</span>&nbsp;<span class="num" id="6137845">0</span><span class="op" id="6137846">;</span>&nbsp;<span class="ident" id="6137848"><a href="/go/printer/nodes.go.html#6137699">n</a></span><span class="op" id="6137849">--</span>&nbsp;<span class="op" id="6137852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137857"><a href="/go/printer/nodes.go.html#6137607">p</a></span><span class="op" id="6137858">.</span><span class="builtinfunc" id="6137859">print</span><span class="op" id="6137864">(</span><span class="ident" id="6137865"><a href="/go/printer/printer.go.html#6179121">newline</a></span><span class="op" id="6137872">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6137876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6137880"><a href="/go/printer/nodes.go.html#6137677">printedBreak</a></span>&nbsp;<span class="op" id="6137893">=</span>&nbsp;<span class="ident" id="6137895">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6137901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6137904">return</span><br>
<span class="lineno"></span><span class="op" id="6137911">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6137914">//&nbsp;setComment&nbsp;sets&nbsp;g&nbsp;as&nbsp;the&nbsp;next&nbsp;comment&nbsp;if&nbsp;g&nbsp;!=&nbsp;nil&nbsp;and&nbsp;if&nbsp;node&nbsp;comments</span><br>
<span class="lineno"></span><span class="comment" id="6137988">//&nbsp;are&nbsp;enabled&nbsp;-&nbsp;this&nbsp;mode&nbsp;is&nbsp;used&nbsp;when&nbsp;printing&nbsp;source&nbsp;code&nbsp;fragments&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="6138064">//&nbsp;as&nbsp;exports&nbsp;only.&nbsp;It&nbsp;assumes&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;pending&nbsp;comment&nbsp;in&nbsp;p.comments</span><br>
<span class="lineno"></span><span class="comment" id="6138142">//&nbsp;and&nbsp;at&nbsp;most&nbsp;one&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache.</span><br>
<span class="lineno">65</span><span class="keyword" id="6138201">func</span>&nbsp;<span class="op" id="6138206">(</span><span class="ident" id="6138207">p</span>&nbsp;<span class="op" id="6138209">*</span><span class="ident" id="6138210"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6138217">)</span>&nbsp;<span class="ident" id="6138219">setComment</span><span class="op" id="6138229">(</span><span class="ident" id="6138230">g</span>&nbsp;<span class="op" id="6138232">*</span><span class="ident" id="6138233"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6138236">.</span><span class="ident" id="6138237">CommentGroup</span><span class="op" id="6138249">)</span>&nbsp;<span class="op" id="6138251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6138254">if</span>&nbsp;<span class="ident" id="6138257"><a href="/go/printer/nodes.go.html#6138230">g</a></span>&nbsp;<span class="op" id="6138259">==</span>&nbsp;<span class="ident" id="6138262">nil</span>&nbsp;<span class="op" id="6138266">||</span>&nbsp;<span class="op" id="6138269">!</span><span class="ident" id="6138270"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138271">.</span><span class="ident" id="6138272">useNodeComments</span>&nbsp;<span class="op" id="6138288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6138292">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6138300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6138303">if</span>&nbsp;<span class="ident" id="6138306"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138307">.</span><span class="ident" id="6138308">comments</span>&nbsp;<span class="op" id="6138317">==</span>&nbsp;<span class="ident" id="6138320">nil</span>&nbsp;<span class="op" id="6138324">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138328">//&nbsp;initialize&nbsp;p.comments&nbsp;lazily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138362"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138363">.</span><span class="ident" id="6138364">comments</span>&nbsp;<span class="op" id="6138373">=</span>&nbsp;<span class="builtinfunc" id="6138375">make</span><span class="op" id="6138379">(</span><span class="op" id="6138380">[</span><span class="op" id="6138381">]</span><span class="op" id="6138382">*</span><span class="ident" id="6138383"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6138386">.</span><span class="ident" id="6138387">CommentGroup</span><span class="op" id="6138399">,</span>&nbsp;<span class="num" id="6138401">1</span><span class="op" id="6138402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6138405">}</span>&nbsp;<span class="keyword" id="6138407">else</span>&nbsp;<span class="keyword" id="6138412">if</span>&nbsp;<span class="ident" id="6138415"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138416">.</span><span class="ident" id="6138417">cindex</span>&nbsp;<span class="op" id="6138424">&lt;</span>&nbsp;<span class="builtinfunc" id="6138426">len</span><span class="op" id="6138429">(</span><span class="ident" id="6138430"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138431">.</span><span class="ident" id="6138432">comments</span><span class="op" id="6138440">)</span>&nbsp;<span class="op" id="6138442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138446">//&nbsp;for&nbsp;some&nbsp;reason&nbsp;there&nbsp;are&nbsp;pending&nbsp;comments;&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138500">//&nbsp;should&nbsp;never&nbsp;happen&nbsp;-&nbsp;handle&nbsp;gracefully&nbsp;and&nbsp;flush</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138555">//&nbsp;all&nbsp;comments&nbsp;up&nbsp;to&nbsp;g,&nbsp;ignore&nbsp;anything&nbsp;after&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138609"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138610">.</span><span class="ident" id="6138611">flush</span><span class="op" id="6138616">(</span><span class="ident" id="6138617"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138618">.</span><span class="ident" id="6138619">posFor</span><span class="op" id="6138625">(</span><span class="ident" id="6138626"><a href="/go/printer/nodes.go.html#6138230">g</a></span><span class="op" id="6138627">.</span><span class="ident" id="6138628">List</span><span class="op" id="6138632">[</span><span class="num" id="6138633">0</span><span class="op" id="6138634">]</span><span class="op" id="6138635">.</span><span class="ident" id="6138636">Pos</span><span class="op" id="6138639">(</span><span class="op" id="6138640">)</span><span class="op" id="6138641">)</span><span class="op" id="6138642">,</span>&nbsp;<span class="ident" id="6138644"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6138649">.</span><span class="ident" id="6138650">ILLEGAL</span><span class="op" id="6138657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138661"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138662">.</span><span class="ident" id="6138663">comments</span>&nbsp;<span class="op" id="6138672">=</span>&nbsp;<span class="ident" id="6138674"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138675">.</span><span class="ident" id="6138676">comments</span><span class="op" id="6138684">[</span><span class="num" id="6138685">0</span><span class="op" id="6138686">:</span><span class="num" id="6138687">1</span><span class="op" id="6138688">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138692">//&nbsp;in&nbsp;debug&nbsp;mode,&nbsp;report&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138725"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138726">.</span><span class="ident" id="6138727">internalError</span><span class="op" id="6138740">(</span><span class="string" id="6138741">&#34;setComment&nbsp;found&nbsp;pending&nbsp;comments&#34;</span><span class="op" id="6138776">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6138779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138782"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138783">.</span><span class="ident" id="6138784">comments</span><span class="op" id="6138792">[</span><span class="num" id="6138793">0</span><span class="op" id="6138794">]</span>&nbsp;<span class="op" id="6138796">=</span>&nbsp;<span class="ident" id="6138798"><a href="/go/printer/nodes.go.html#6138230">g</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6138801"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6138802">.</span><span class="ident" id="6138803">cindex</span>&nbsp;<span class="op" id="6138810">=</span>&nbsp;<span class="num" id="6138812">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138815">//&nbsp;don&#39;t&nbsp;overwrite&nbsp;any&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138878">//&nbsp;(there&nbsp;may&nbsp;be&nbsp;a&nbsp;pending&nbsp;comment&nbsp;when&nbsp;a&nbsp;line&nbsp;comment&nbsp;is</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138937">//&nbsp;immediately&nbsp;followed&nbsp;by&nbsp;a&nbsp;lead&nbsp;comment&nbsp;with&nbsp;no&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6138994">//&nbsp;tokens&nbsp;between)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139014">if</span>&nbsp;<span class="ident" id="6139017"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6139018">.</span><span class="ident" id="6139019">commentOffset</span>&nbsp;<span class="op" id="6139033">==</span>&nbsp;<span class="ident" id="6139036"><a href="/go/printer/printer.go.html#6178982">infinity</a></span>&nbsp;<span class="op" id="6139045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139049"><a href="/go/printer/nodes.go.html#6138207">p</a></span><span class="op" id="6139050">.</span><span class="ident" id="6139051">nextComment</span><span class="op" id="6139062">(</span><span class="op" id="6139063">)</span>&nbsp;<span class="comment" id="6139065">//&nbsp;get&nbsp;comment&nbsp;ready&nbsp;for&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6139095">}</span><br>
<span class="lineno">90</span><span class="op" id="6139097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6139100">type</span>&nbsp;<span class="ident" id="6139105">exprListMode</span>&nbsp;<span class="builtintype" id="6139118">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6139124">const</span>&nbsp;<span class="op" id="6139130">(</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139133">commaTerm</span>&nbsp;<span class="ident" id="6139143"><a href="/go/printer/nodes.go.html#6139105">exprListMode</a></span>&nbsp;<span class="op" id="6139156">=</span>&nbsp;<span class="num" id="6139158">1</span>&nbsp;<span class="op" id="6139160">&lt;&lt;</span>&nbsp;<span class="ident" id="6139163">iota</span>&nbsp;<span class="comment" id="6139168">//&nbsp;list&nbsp;is&nbsp;optionally&nbsp;terminated&nbsp;by&nbsp;a&nbsp;comma</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139213">noIndent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6139248">//&nbsp;no&nbsp;extra&nbsp;indentation&nbsp;in&nbsp;multi-line&nbsp;lists</span><br>
<span class="lineno"></span><span class="op" id="6139292">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6139295">//&nbsp;If&nbsp;indent&nbsp;is&nbsp;set,&nbsp;a&nbsp;multi-line&nbsp;identifier&nbsp;list&nbsp;is&nbsp;indented&nbsp;after&nbsp;the</span><br>
<span class="lineno">100</span><span class="comment" id="6139367">//&nbsp;first&nbsp;linebreak&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="6139399">func</span>&nbsp;<span class="op" id="6139404">(</span><span class="ident" id="6139405">p</span>&nbsp;<span class="op" id="6139407">*</span><span class="ident" id="6139408"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6139415">)</span>&nbsp;<span class="ident" id="6139417">identList</span><span class="op" id="6139426">(</span><span class="ident" id="6139427">list</span>&nbsp;<span class="op" id="6139432">[</span><span class="op" id="6139433">]</span><span class="op" id="6139434">*</span><span class="ident" id="6139435"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6139438">.</span><span class="ident" id="6139439">Ident</span><span class="op" id="6139444">,</span>&nbsp;<span class="ident" id="6139446">indent</span>&nbsp;<span class="builtintype" id="6139453">bool</span><span class="op" id="6139457">)</span>&nbsp;<span class="op" id="6139459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6139462">//&nbsp;convert&nbsp;into&nbsp;an&nbsp;expression&nbsp;list&nbsp;so&nbsp;we&nbsp;can&nbsp;re-use&nbsp;exprList&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139535">xlist</span>&nbsp;<span class="op" id="6139541">:=</span>&nbsp;<span class="builtinfunc" id="6139544">make</span><span class="op" id="6139548">(</span><span class="op" id="6139549">[</span><span class="op" id="6139550">]</span><span class="ident" id="6139551"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6139554">.</span><span class="ident" id="6139555">Expr</span><span class="op" id="6139559">,</span>&nbsp;<span class="builtinfunc" id="6139561">len</span><span class="op" id="6139564">(</span><span class="ident" id="6139565"><a href="/go/printer/nodes.go.html#6139427">list</a></span><span class="op" id="6139569">)</span><span class="op" id="6139570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139573">for</span>&nbsp;<span class="ident" id="6139577">i</span><span class="op" id="6139578">,</span>&nbsp;<span class="ident" id="6139580">x</span>&nbsp;<span class="op" id="6139582">:=</span>&nbsp;<span class="keyword" id="6139585">range</span>&nbsp;<span class="ident" id="6139591"><a href="/go/printer/nodes.go.html#6139427">list</a></span>&nbsp;<span class="op" id="6139596">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139600"><a href="/go/printer/nodes.go.html#6139535">xlist</a></span><span class="op" id="6139605">[</span><span class="ident" id="6139606"><a href="/go/printer/nodes.go.html#6139577">i</a></span><span class="op" id="6139607">]</span>&nbsp;<span class="op" id="6139609">=</span>&nbsp;<span class="ident" id="6139611"><a href="/go/printer/nodes.go.html#6139580">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6139614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139617">var</span>&nbsp;<span class="ident" id="6139621">mode</span>&nbsp;<span class="ident" id="6139626"><a href="/go/printer/nodes.go.html#6139105">exprListMode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6139640">if</span>&nbsp;<span class="op" id="6139643">!</span><span class="ident" id="6139644"><a href="/go/printer/nodes.go.html#6139446">indent</a></span>&nbsp;<span class="op" id="6139651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139655"><a href="/go/printer/nodes.go.html#6139621">mode</a></span>&nbsp;<span class="op" id="6139660">=</span>&nbsp;<span class="ident" id="6139662"><a href="/go/printer/nodes.go.html#6139213">noIndent</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6139672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6139675"><a href="/go/printer/nodes.go.html#6139405">p</a></span><span class="op" id="6139676">.</span><span class="ident" id="6139677">exprList</span><span class="op" id="6139685">(</span><span class="ident" id="6139686"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6139691">.</span><span class="ident" id="6139692">NoPos</span><span class="op" id="6139697">,</span>&nbsp;<span class="ident" id="6139699"><a href="/go/printer/nodes.go.html#6139535">xlist</a></span><span class="op" id="6139704">,</span>&nbsp;<span class="num" id="6139706">1</span><span class="op" id="6139707">,</span>&nbsp;<span class="ident" id="6139709"><a href="/go/printer/nodes.go.html#6139621">mode</a></span><span class="op" id="6139713">,</span>&nbsp;<span class="ident" id="6139715"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6139720">.</span><span class="ident" id="6139721">NoPos</span><span class="op" id="6139726">)</span><br>
<span class="lineno"></span><span class="op" id="6139728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6139731">//&nbsp;Print&nbsp;a&nbsp;list&nbsp;of&nbsp;expressions.&nbsp;If&nbsp;the&nbsp;list&nbsp;spans&nbsp;multiple</span><br>
<span class="lineno">115</span><span class="comment" id="6139790">//&nbsp;source&nbsp;lines,&nbsp;the&nbsp;original&nbsp;line&nbsp;breaks&nbsp;are&nbsp;respected&nbsp;between</span><br>
<span class="lineno"></span><span class="comment" id="6139854">//&nbsp;expressions.</span><br>
<span class="lineno"></span><span class="comment" id="6139870">//</span><br>
<span class="lineno"></span><span class="comment" id="6139873">//&nbsp;TODO(gri)&nbsp;Consider&nbsp;rewriting&nbsp;this&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;[]ast.Expr</span><br>
<span class="lineno"></span><span class="comment" id="6139942">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;algorithm&nbsp;for&nbsp;any&nbsp;kind&nbsp;of&nbsp;list</span><br>
<span class="lineno">120</span><span class="comment" id="6140009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(e.g.,&nbsp;pass&nbsp;list&nbsp;via&nbsp;a&nbsp;channel&nbsp;over&nbsp;which&nbsp;to&nbsp;range).</span><br>
<span class="lineno"></span><span class="keyword" id="6140075">func</span>&nbsp;<span class="op" id="6140080">(</span><span class="ident" id="6140081">p</span>&nbsp;<span class="op" id="6140083">*</span><span class="ident" id="6140084"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6140091">)</span>&nbsp;<span class="ident" id="6140093">exprList</span><span class="op" id="6140101">(</span><span class="ident" id="6140102">prev0</span>&nbsp;<span class="ident" id="6140108"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6140113">.</span><span class="ident" id="6140114">Pos</span><span class="op" id="6140117">,</span>&nbsp;<span class="ident" id="6140119">list</span>&nbsp;<span class="op" id="6140124">[</span><span class="op" id="6140125">]</span><span class="ident" id="6140126"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6140129">.</span><span class="ident" id="6140130">Expr</span><span class="op" id="6140134">,</span>&nbsp;<span class="ident" id="6140136">depth</span>&nbsp;<span class="builtintype" id="6140142">int</span><span class="op" id="6140145">,</span>&nbsp;<span class="ident" id="6140147">mode</span>&nbsp;<span class="ident" id="6140152"><a href="/go/printer/nodes.go.html#6139105">exprListMode</a></span><span class="op" id="6140164">,</span>&nbsp;<span class="ident" id="6140166">next0</span>&nbsp;<span class="ident" id="6140172"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6140177">.</span><span class="ident" id="6140178">Pos</span><span class="op" id="6140181">)</span>&nbsp;<span class="op" id="6140183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140186">if</span>&nbsp;<span class="builtinfunc" id="6140189">len</span><span class="op" id="6140192">(</span><span class="ident" id="6140193"><a href="/go/printer/nodes.go.html#6140119">list</a></span><span class="op" id="6140197">)</span>&nbsp;<span class="op" id="6140199">==</span>&nbsp;<span class="num" id="6140202">0</span>&nbsp;<span class="op" id="6140204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140208">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6140216">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140220">prev</span>&nbsp;<span class="op" id="6140225">:=</span>&nbsp;<span class="ident" id="6140228"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140229">.</span><span class="ident" id="6140230">posFor</span><span class="op" id="6140236">(</span><span class="ident" id="6140237"><a href="/go/printer/nodes.go.html#6140102">prev0</a></span><span class="op" id="6140242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140245">next</span>&nbsp;<span class="op" id="6140250">:=</span>&nbsp;<span class="ident" id="6140253"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140254">.</span><span class="ident" id="6140255">posFor</span><span class="op" id="6140261">(</span><span class="ident" id="6140262"><a href="/go/printer/nodes.go.html#6140166">next0</a></span><span class="op" id="6140267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140270">line</span>&nbsp;<span class="op" id="6140275">:=</span>&nbsp;<span class="ident" id="6140278"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140279">.</span><span class="ident" id="6140280">lineFor</span><span class="op" id="6140287">(</span><span class="ident" id="6140288"><a href="/go/printer/nodes.go.html#6140119">list</a></span><span class="op" id="6140292">[</span><span class="num" id="6140293">0</span><span class="op" id="6140294">]</span><span class="op" id="6140295">.</span><span class="ident" id="6140296">Pos</span><span class="op" id="6140299">(</span><span class="op" id="6140300">)</span><span class="op" id="6140301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140304">endLine</span>&nbsp;<span class="op" id="6140312">:=</span>&nbsp;<span class="ident" id="6140315"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140316">.</span><span class="ident" id="6140317">lineFor</span><span class="op" id="6140324">(</span><span class="ident" id="6140325"><a href="/go/printer/nodes.go.html#6140119">list</a></span><span class="op" id="6140329">[</span><span class="builtinfunc" id="6140330">len</span><span class="op" id="6140333">(</span><span class="ident" id="6140334"><a href="/go/printer/nodes.go.html#6140119">list</a></span><span class="op" id="6140338">)</span><span class="op" id="6140339">-</span><span class="num" id="6140340">1</span><span class="op" id="6140341">]</span><span class="op" id="6140342">.</span><span class="ident" id="6140343">End</span><span class="op" id="6140346">(</span><span class="op" id="6140347">)</span><span class="op" id="6140348">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140352">if</span>&nbsp;<span class="ident" id="6140355"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6140359">.</span><span class="ident" id="6140360">IsValid</span><span class="op" id="6140367">(</span><span class="op" id="6140368">)</span>&nbsp;<span class="op" id="6140370">&amp;&amp;</span>&nbsp;<span class="ident" id="6140373"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6140377">.</span><span class="ident" id="6140378">Line</span>&nbsp;<span class="op" id="6140383">==</span>&nbsp;<span class="ident" id="6140386"><a href="/go/printer/nodes.go.html#6140270">line</a></span>&nbsp;<span class="op" id="6140391">&amp;&amp;</span>&nbsp;<span class="ident" id="6140394"><a href="/go/printer/nodes.go.html#6140270">line</a></span>&nbsp;<span class="op" id="6140399">==</span>&nbsp;<span class="ident" id="6140402"><a href="/go/printer/nodes.go.html#6140304">endLine</a></span>&nbsp;<span class="op" id="6140410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140414">//&nbsp;all&nbsp;list&nbsp;entries&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140453">for</span>&nbsp;<span class="ident" id="6140457">i</span><span class="op" id="6140458">,</span>&nbsp;<span class="ident" id="6140460">x</span>&nbsp;<span class="op" id="6140462">:=</span>&nbsp;<span class="keyword" id="6140465">range</span>&nbsp;<span class="ident" id="6140471"><a href="/go/printer/nodes.go.html#6140119">list</a></span>&nbsp;<span class="op" id="6140476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140481">if</span>&nbsp;<span class="ident" id="6140484"><a href="/go/printer/nodes.go.html#6140457">i</a></span>&nbsp;<span class="op" id="6140486">&gt;</span>&nbsp;<span class="num" id="6140488">0</span>&nbsp;<span class="op" id="6140490">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140496">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140553">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140605"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140606">.</span><span class="builtinfunc" id="6140607">print</span><span class="op" id="6140612">(</span><span class="ident" id="6140613"><a href="/go/printer/nodes.go.html#6140460">x</a></span><span class="op" id="6140614">.</span><span class="ident" id="6140615">Pos</span><span class="op" id="6140618">(</span><span class="op" id="6140619">)</span><span class="op" id="6140620">,</span>&nbsp;<span class="ident" id="6140622"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6140627">.</span><span class="ident" id="6140628">COMMA</span><span class="op" id="6140633">,</span>&nbsp;<span class="ident" id="6140635"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6140640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6140645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140650"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6140651">.</span><span class="ident" id="6140652">expr0</span><span class="op" id="6140657">(</span><span class="ident" id="6140658"><a href="/go/printer/nodes.go.html#6140460">x</a></span><span class="op" id="6140659">,</span>&nbsp;<span class="ident" id="6140661"><a href="/go/printer/nodes.go.html#6140136">depth</a></span><span class="op" id="6140666">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6140670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140674">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6140682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140686">//&nbsp;list&nbsp;entries&nbsp;span&nbsp;multiple&nbsp;lines;</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140724">//&nbsp;use&nbsp;source&nbsp;code&nbsp;positions&nbsp;to&nbsp;guide&nbsp;line&nbsp;breaks</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140776">//&nbsp;don&#39;t&nbsp;add&nbsp;extra&nbsp;indentation&nbsp;if&nbsp;noIndent&nbsp;is&nbsp;set;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140828">//&nbsp;i.e.,&nbsp;pretend&nbsp;that&nbsp;the&nbsp;first&nbsp;line&nbsp;is&nbsp;already&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140886">ws</span>&nbsp;<span class="op" id="6140889">:=</span>&nbsp;<span class="ident" id="6140892"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6140900">if</span>&nbsp;<span class="ident" id="6140903"><a href="/go/printer/nodes.go.html#6140147">mode</a></span><span class="op" id="6140907">&amp;</span><span class="ident" id="6140908"><a href="/go/printer/nodes.go.html#6139213">noIndent</a></span>&nbsp;<span class="op" id="6140917">==</span>&nbsp;<span class="num" id="6140920">0</span>&nbsp;<span class="op" id="6140922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6140926"><a href="/go/printer/nodes.go.html#6140886">ws</a></span>&nbsp;<span class="op" id="6140929">=</span>&nbsp;<span class="ident" id="6140931"><a href="/go/printer/printer.go.html#6179179">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6140939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6140943">//&nbsp;the&nbsp;first&nbsp;linebreak&nbsp;is&nbsp;always&nbsp;a&nbsp;formfeed&nbsp;since&nbsp;this&nbsp;section&nbsp;must&nbsp;not</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141016">//&nbsp;depend&nbsp;on&nbsp;any&nbsp;previous&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141054">prevBreak</span>&nbsp;<span class="op" id="6141064">:=</span>&nbsp;<span class="op" id="6141067">-</span><span class="num" id="6141068">1</span>&nbsp;<span class="comment" id="6141070">//&nbsp;index&nbsp;of&nbsp;last&nbsp;expression&nbsp;that&nbsp;was&nbsp;followed&nbsp;by&nbsp;a&nbsp;linebreak</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141132">if</span>&nbsp;<span class="ident" id="6141135"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6141139">.</span><span class="ident" id="6141140">IsValid</span><span class="op" id="6141147">(</span><span class="op" id="6141148">)</span>&nbsp;<span class="op" id="6141150">&amp;&amp;</span>&nbsp;<span class="ident" id="6141153"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6141157">.</span><span class="ident" id="6141158">Line</span>&nbsp;<span class="op" id="6141163">&lt;</span>&nbsp;<span class="ident" id="6141165"><a href="/go/printer/nodes.go.html#6140270">line</a></span>&nbsp;<span class="op" id="6141170">&amp;&amp;</span>&nbsp;<span class="ident" id="6141173"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6141174">.</span><span class="ident" id="6141175">linebreak</span><span class="op" id="6141184">(</span><span class="ident" id="6141185"><a href="/go/printer/nodes.go.html#6140270">line</a></span><span class="op" id="6141189">,</span>&nbsp;<span class="num" id="6141191">0</span><span class="op" id="6141192">,</span>&nbsp;<span class="ident" id="6141194"><a href="/go/printer/nodes.go.html#6140886">ws</a></span><span class="op" id="6141196">,</span>&nbsp;<span class="ident" id="6141198">true</span><span class="op" id="6141202">)</span>&nbsp;<span class="op" id="6141204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141208"><a href="/go/printer/nodes.go.html#6140886">ws</a></span>&nbsp;<span class="op" id="6141211">=</span>&nbsp;<span class="ident" id="6141213"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141222"><a href="/go/printer/nodes.go.html#6141054">prevBreak</a></span>&nbsp;<span class="op" id="6141232">=</span>&nbsp;<span class="num" id="6141234">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6141237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141241">//&nbsp;initialize&nbsp;expression/key&nbsp;size:&nbsp;a&nbsp;zero&nbsp;value&nbsp;indicates&nbsp;expr/key&nbsp;doesn&#39;t&nbsp;fit&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141338">size</span>&nbsp;<span class="op" id="6141343">:=</span>&nbsp;<span class="num" id="6141346">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141350">//&nbsp;print&nbsp;all&nbsp;list&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141378">prevLine</span>&nbsp;<span class="op" id="6141387">:=</span>&nbsp;<span class="ident" id="6141390"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6141394">.</span><span class="ident" id="6141395">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6141401">for</span>&nbsp;<span class="ident" id="6141405">i</span><span class="op" id="6141406">,</span>&nbsp;<span class="ident" id="6141408">x</span>&nbsp;<span class="op" id="6141410">:=</span>&nbsp;<span class="keyword" id="6141413">range</span>&nbsp;<span class="ident" id="6141419"><a href="/go/printer/nodes.go.html#6140119">list</a></span>&nbsp;<span class="op" id="6141424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141428"><a href="/go/printer/nodes.go.html#6140270">line</a></span>&nbsp;<span class="op" id="6141433">=</span>&nbsp;<span class="ident" id="6141435"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6141436">.</span><span class="ident" id="6141437">lineFor</span><span class="op" id="6141444">(</span><span class="ident" id="6141445"><a href="/go/printer/nodes.go.html#6141408">x</a></span><span class="op" id="6141446">.</span><span class="ident" id="6141447">Pos</span><span class="op" id="6141450">(</span><span class="op" id="6141451">)</span><span class="op" id="6141452">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141457">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;next&nbsp;linebreak,&nbsp;if&nbsp;any,&nbsp;needs&nbsp;to&nbsp;use&nbsp;formfeed:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141526">//&nbsp;in&nbsp;general,&nbsp;use&nbsp;the&nbsp;entire&nbsp;node&nbsp;size&nbsp;to&nbsp;make&nbsp;the&nbsp;decision;&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141594">//&nbsp;key:value&nbsp;expressions,&nbsp;use&nbsp;the&nbsp;key&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141639">//&nbsp;TODO(gri)&nbsp;for&nbsp;a&nbsp;better&nbsp;result,&nbsp;should&nbsp;probably&nbsp;incorporate&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141708">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;and&nbsp;the&nbsp;node&nbsp;size&nbsp;into&nbsp;the&nbsp;decision&nbsp;process</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6141775">useFF</span>&nbsp;<span class="op" id="6141781">:=</span>&nbsp;<span class="ident" id="6141784">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141792">//&nbsp;determine&nbsp;element&nbsp;size:&nbsp;all&nbsp;bets&nbsp;are&nbsp;off&nbsp;if&nbsp;we&nbsp;don&#39;t&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141855">//&nbsp;position&nbsp;information&nbsp;for&nbsp;the&nbsp;previous&nbsp;and&nbsp;next&nbsp;token&nbsp;(likely</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141921">//&nbsp;generated&nbsp;code&nbsp;-&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;size&nbsp;in&nbsp;this&nbsp;case&nbsp;by&nbsp;setting</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6141990">//&nbsp;it&nbsp;to&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142004">prevSize</span>&nbsp;<span class="op" id="6142013">:=</span>&nbsp;<span class="ident" id="6142016"><a href="/go/printer/nodes.go.html#6141338">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142023">const</span>&nbsp;<span class="ident" id="6142029">infinity</span>&nbsp;<span class="op" id="6142038">=</span>&nbsp;<span class="num" id="6142040">1e6</span>&nbsp;<span class="comment" id="6142044">//&nbsp;larger&nbsp;than&nbsp;any&nbsp;source&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142077"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142082">=</span>&nbsp;<span class="ident" id="6142084"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6142085">.</span><span class="ident" id="6142086">nodeSize</span><span class="op" id="6142094">(</span><span class="ident" id="6142095"><a href="/go/printer/nodes.go.html#6141408">x</a></span><span class="op" id="6142096">,</span>&nbsp;<span class="ident" id="6142098"><a href="/go/printer/nodes.go.html#6142029">infinity</a></span><span class="op" id="6142106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142110">pair</span><span class="op" id="6142114">,</span>&nbsp;<span class="ident" id="6142116">isPair</span>&nbsp;<span class="op" id="6142123">:=</span>&nbsp;<span class="ident" id="6142126"><a href="/go/printer/nodes.go.html#6141408">x</a></span><span class="op" id="6142127">.</span><span class="op" id="6142128">(</span><span class="op" id="6142129">*</span><span class="ident" id="6142130"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6142133">.</span><span class="ident" id="6142134">KeyValueExpr</span><span class="op" id="6142146">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142150">if</span>&nbsp;<span class="ident" id="6142153"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142158">&lt;=</span>&nbsp;<span class="ident" id="6142161"><a href="/go/printer/nodes.go.html#6142029">infinity</a></span>&nbsp;<span class="op" id="6142170">&amp;&amp;</span>&nbsp;<span class="ident" id="6142173"><a href="/go/printer/nodes.go.html#6140220">prev</a></span><span class="op" id="6142177">.</span><span class="ident" id="6142178">IsValid</span><span class="op" id="6142185">(</span><span class="op" id="6142186">)</span>&nbsp;<span class="op" id="6142188">&amp;&amp;</span>&nbsp;<span class="ident" id="6142191"><a href="/go/printer/nodes.go.html#6140245">next</a></span><span class="op" id="6142195">.</span><span class="ident" id="6142196">IsValid</span><span class="op" id="6142203">(</span><span class="op" id="6142204">)</span>&nbsp;<span class="op" id="6142206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142211">//&nbsp;x&nbsp;fits&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142241">if</span>&nbsp;<span class="ident" id="6142244"><a href="/go/printer/nodes.go.html#6142116">isPair</a></span>&nbsp;<span class="op" id="6142251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142257"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142262">=</span>&nbsp;<span class="ident" id="6142264"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6142265">.</span><span class="ident" id="6142266">nodeSize</span><span class="op" id="6142274">(</span><span class="ident" id="6142275"><a href="/go/printer/nodes.go.html#6142110">pair</a></span><span class="op" id="6142279">.</span><span class="ident" id="6142280">Key</span><span class="op" id="6142283">,</span>&nbsp;<span class="ident" id="6142285"><a href="/go/printer/nodes.go.html#6142029">infinity</a></span><span class="op" id="6142293">)</span>&nbsp;<span class="comment" id="6142295">//&nbsp;size&nbsp;&lt;=&nbsp;infinity</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142318">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142322">}</span>&nbsp;<span class="keyword" id="6142324">else</span>&nbsp;<span class="op" id="6142329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142334">//&nbsp;size&nbsp;too&nbsp;large&nbsp;or&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;good&nbsp;layout&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142396"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142401">=</span>&nbsp;<span class="num" id="6142403">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142412">//&nbsp;if&nbsp;the&nbsp;previous&nbsp;line&nbsp;and&nbsp;the&nbsp;current&nbsp;line&nbsp;had&nbsp;single-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142471">//&nbsp;line-expressions&nbsp;and&nbsp;the&nbsp;key&nbsp;sizes&nbsp;are&nbsp;small&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142528">//&nbsp;the&nbsp;ratio&nbsp;between&nbsp;the&nbsp;key&nbsp;sizes&nbsp;does&nbsp;not&nbsp;exceed&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142583">//&nbsp;threshold,&nbsp;align&nbsp;columns&nbsp;and&nbsp;do&nbsp;not&nbsp;use&nbsp;formfeed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142637">if</span>&nbsp;<span class="ident" id="6142640"><a href="/go/printer/nodes.go.html#6142004">prevSize</a></span>&nbsp;<span class="op" id="6142649">&gt;</span>&nbsp;<span class="num" id="6142651">0</span>&nbsp;<span class="op" id="6142653">&amp;&amp;</span>&nbsp;<span class="ident" id="6142656"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142661">&gt;</span>&nbsp;<span class="num" id="6142663">0</span>&nbsp;<span class="op" id="6142665">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142670">const</span>&nbsp;<span class="ident" id="6142676">smallSize</span>&nbsp;<span class="op" id="6142686">=</span>&nbsp;<span class="num" id="6142688">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142694">if</span>&nbsp;<span class="ident" id="6142697"><a href="/go/printer/nodes.go.html#6142004">prevSize</a></span>&nbsp;<span class="op" id="6142706">&lt;=</span>&nbsp;<span class="ident" id="6142709"><a href="/go/printer/nodes.go.html#6142676">smallSize</a></span>&nbsp;<span class="op" id="6142719">&amp;&amp;</span>&nbsp;<span class="ident" id="6142722"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6142727">&lt;=</span>&nbsp;<span class="ident" id="6142730"><a href="/go/printer/nodes.go.html#6142676">smallSize</a></span>&nbsp;<span class="op" id="6142740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142746"><a href="/go/printer/nodes.go.html#6141775">useFF</a></span>&nbsp;<span class="op" id="6142752">=</span>&nbsp;<span class="ident" id="6142754">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142763">}</span>&nbsp;<span class="keyword" id="6142765">else</span>&nbsp;<span class="op" id="6142770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142776">const</span>&nbsp;<span class="ident" id="6142782">r</span>&nbsp;<span class="op" id="6142784">=</span>&nbsp;<span class="num" id="6142786">4</span>&nbsp;<span class="comment" id="6142788">//&nbsp;threshold</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142805">ratio</span>&nbsp;<span class="op" id="6142811">:=</span>&nbsp;<span class="builtintype" id="6142814">float64</span><span class="op" id="6142821">(</span><span class="ident" id="6142822"><a href="/go/printer/nodes.go.html#6141338">size</a></span><span class="op" id="6142826">)</span>&nbsp;<span class="op" id="6142828">/</span>&nbsp;<span class="builtintype" id="6142830">float64</span><span class="op" id="6142837">(</span><span class="ident" id="6142838"><a href="/go/printer/nodes.go.html#6142004">prevSize</a></span><span class="op" id="6142846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142852"><a href="/go/printer/nodes.go.html#6141775">useFF</a></span>&nbsp;<span class="op" id="6142858">=</span>&nbsp;<span class="ident" id="6142860"><a href="/go/printer/nodes.go.html#6142805">ratio</a></span>&nbsp;<span class="op" id="6142866">&lt;=</span>&nbsp;<span class="num" id="6142869">1.0</span><span class="op" id="6142872">/</span><span class="ident" id="6142873"><a href="/go/printer/nodes.go.html#6142782">r</a></span>&nbsp;<span class="op" id="6142875">||</span>&nbsp;<span class="ident" id="6142878"><a href="/go/printer/nodes.go.html#6142782">r</a></span>&nbsp;<span class="op" id="6142880">&lt;=</span>&nbsp;<span class="ident" id="6142883"><a href="/go/printer/nodes.go.html#6142805">ratio</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6142896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6142901">needsLinebreak</span>&nbsp;<span class="op" id="6142916">:=</span>&nbsp;<span class="num" id="6142919">0</span>&nbsp;<span class="op" id="6142921">&lt;</span>&nbsp;<span class="ident" id="6142923"><a href="/go/printer/nodes.go.html#6141378">prevLine</a></span>&nbsp;<span class="op" id="6142932">&amp;&amp;</span>&nbsp;<span class="ident" id="6142935"><a href="/go/printer/nodes.go.html#6141378">prevLine</a></span>&nbsp;<span class="op" id="6142944">&lt;</span>&nbsp;<span class="ident" id="6142946"><a href="/go/printer/nodes.go.html#6140270">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6142953">if</span>&nbsp;<span class="ident" id="6142956"><a href="/go/printer/nodes.go.html#6141405">i</a></span>&nbsp;<span class="op" id="6142958">&gt;</span>&nbsp;<span class="num" id="6142960">0</span>&nbsp;<span class="op" id="6142962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6142967">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143023">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143079">//&nbsp;only&nbsp;if&nbsp;the&nbsp;expression&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143128">if</span>&nbsp;<span class="op" id="6143131">!</span><span class="ident" id="6143132"><a href="/go/printer/nodes.go.html#6142901">needsLinebreak</a></span>&nbsp;<span class="op" id="6143147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143153"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143154">.</span><span class="builtinfunc" id="6143155">print</span><span class="op" id="6143160">(</span><span class="ident" id="6143161"><a href="/go/printer/nodes.go.html#6141408">x</a></span><span class="op" id="6143162">.</span><span class="ident" id="6143163">Pos</span><span class="op" id="6143166">(</span><span class="op" id="6143167">)</span><span class="op" id="6143168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143178"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143179">.</span><span class="builtinfunc" id="6143180">print</span><span class="op" id="6143185">(</span><span class="ident" id="6143186"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6143191">.</span><span class="ident" id="6143192">COMMA</span><span class="op" id="6143197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143202">needsBlank</span>&nbsp;<span class="op" id="6143213">:=</span>&nbsp;<span class="ident" id="6143216">true</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143224">if</span>&nbsp;<span class="ident" id="6143227"><a href="/go/printer/nodes.go.html#6142901">needsLinebreak</a></span>&nbsp;<span class="op" id="6143242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143248">//&nbsp;lines&nbsp;are&nbsp;broken&nbsp;using&nbsp;newlines&nbsp;so&nbsp;comments&nbsp;remain&nbsp;aligned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143314">//&nbsp;unless&nbsp;forceFF&nbsp;is&nbsp;set&nbsp;or&nbsp;there&nbsp;are&nbsp;multiple&nbsp;expressions&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143380">//&nbsp;the&nbsp;same&nbsp;line&nbsp;in&nbsp;which&nbsp;case&nbsp;formfeed&nbsp;is&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143432">if</span>&nbsp;<span class="ident" id="6143435"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143436">.</span><span class="ident" id="6143437">linebreak</span><span class="op" id="6143446">(</span><span class="ident" id="6143447"><a href="/go/printer/nodes.go.html#6140270">line</a></span><span class="op" id="6143451">,</span>&nbsp;<span class="num" id="6143453">0</span><span class="op" id="6143454">,</span>&nbsp;<span class="ident" id="6143456"><a href="/go/printer/nodes.go.html#6140886">ws</a></span><span class="op" id="6143458">,</span>&nbsp;<span class="ident" id="6143460"><a href="/go/printer/nodes.go.html#6141775">useFF</a></span>&nbsp;<span class="op" id="6143466">||</span>&nbsp;<span class="ident" id="6143469"><a href="/go/printer/nodes.go.html#6141054">prevBreak</a></span><span class="op" id="6143478">+</span><span class="num" id="6143479">1</span>&nbsp;<span class="op" id="6143481">&lt;</span>&nbsp;<span class="ident" id="6143483"><a href="/go/printer/nodes.go.html#6141405">i</a></span><span class="op" id="6143484">)</span>&nbsp;<span class="op" id="6143486">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143493"><a href="/go/printer/nodes.go.html#6140886">ws</a></span>&nbsp;<span class="op" id="6143496">=</span>&nbsp;<span class="ident" id="6143498"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143510"><a href="/go/printer/nodes.go.html#6141054">prevBreak</a></span>&nbsp;<span class="op" id="6143520">=</span>&nbsp;<span class="ident" id="6143522"><a href="/go/printer/nodes.go.html#6141405">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143529"><a href="/go/printer/nodes.go.html#6143202">needsBlank</a></span>&nbsp;<span class="op" id="6143540">=</span>&nbsp;<span class="ident" id="6143542">false</span>&nbsp;<span class="comment" id="6143548">//&nbsp;we&nbsp;got&nbsp;a&nbsp;line&nbsp;break&nbsp;instead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143588">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143593">if</span>&nbsp;<span class="ident" id="6143596"><a href="/go/printer/nodes.go.html#6143202">needsBlank</a></span>&nbsp;<span class="op" id="6143607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143613"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143614">.</span><span class="builtinfunc" id="6143615">print</span><span class="op" id="6143620">(</span><span class="ident" id="6143621"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6143626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6143635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6143640">if</span>&nbsp;<span class="builtinfunc" id="6143643">len</span><span class="op" id="6143646">(</span><span class="ident" id="6143647"><a href="/go/printer/nodes.go.html#6140119">list</a></span><span class="op" id="6143651">)</span>&nbsp;<span class="op" id="6143653">&gt;</span>&nbsp;<span class="num" id="6143655">1</span>&nbsp;<span class="op" id="6143657">&amp;&amp;</span>&nbsp;<span class="ident" id="6143660"><a href="/go/printer/nodes.go.html#6142116">isPair</a></span>&nbsp;<span class="op" id="6143667">&amp;&amp;</span>&nbsp;<span class="ident" id="6143670"><a href="/go/printer/nodes.go.html#6141338">size</a></span>&nbsp;<span class="op" id="6143675">&gt;</span>&nbsp;<span class="num" id="6143677">0</span>&nbsp;<span class="op" id="6143679">&amp;&amp;</span>&nbsp;<span class="ident" id="6143682"><a href="/go/printer/nodes.go.html#6142901">needsLinebreak</a></span>&nbsp;<span class="op" id="6143697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143702">//&nbsp;we&nbsp;have&nbsp;a&nbsp;key:value&nbsp;expression&nbsp;that&nbsp;fits&nbsp;onto&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143763">//&nbsp;and&nbsp;it&#39;s&nbsp;not&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;prior&nbsp;expression:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143824">//&nbsp;use&nbsp;a&nbsp;column&nbsp;for&nbsp;the&nbsp;key&nbsp;such&nbsp;that&nbsp;consecutive&nbsp;entries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143885">//&nbsp;can&nbsp;align&nbsp;if&nbsp;possible</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6143913">//&nbsp;(needsLinebreak&nbsp;is&nbsp;set&nbsp;if&nbsp;we&nbsp;started&nbsp;a&nbsp;new&nbsp;line&nbsp;before)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143975"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143976">.</span><span class="ident" id="6143977">expr</span><span class="op" id="6143981">(</span><span class="ident" id="6143982"><a href="/go/printer/nodes.go.html#6142110">pair</a></span><span class="op" id="6143986">.</span><span class="ident" id="6143987">Key</span><span class="op" id="6143990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6143995"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6143996">.</span><span class="builtinfunc" id="6143997">print</span><span class="op" id="6144002">(</span><span class="ident" id="6144003"><a href="/go/printer/nodes.go.html#6142110">pair</a></span><span class="op" id="6144007">.</span><span class="ident" id="6144008">Colon</span><span class="op" id="6144013">,</span>&nbsp;<span class="ident" id="6144015"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6144020">.</span><span class="ident" id="6144021">COLON</span><span class="op" id="6144026">,</span>&nbsp;<span class="ident" id="6144028"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6144032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144037"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144038">.</span><span class="ident" id="6144039">expr</span><span class="op" id="6144043">(</span><span class="ident" id="6144044"><a href="/go/printer/nodes.go.html#6142110">pair</a></span><span class="op" id="6144048">.</span><span class="ident" id="6144049">Value</span><span class="op" id="6144054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144058">}</span>&nbsp;<span class="keyword" id="6144060">else</span>&nbsp;<span class="op" id="6144065">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144070"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144071">.</span><span class="ident" id="6144072">expr0</span><span class="op" id="6144077">(</span><span class="ident" id="6144078"><a href="/go/printer/nodes.go.html#6141408">x</a></span><span class="op" id="6144079">,</span>&nbsp;<span class="ident" id="6144081"><a href="/go/printer/nodes.go.html#6140136">depth</a></span><span class="op" id="6144086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144095"><a href="/go/printer/nodes.go.html#6141378">prevLine</a></span>&nbsp;<span class="op" id="6144104">=</span>&nbsp;<span class="ident" id="6144106"><a href="/go/printer/nodes.go.html#6140270">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144112">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144116">if</span>&nbsp;<span class="ident" id="6144119"><a href="/go/printer/nodes.go.html#6140147">mode</a></span><span class="op" id="6144123">&amp;</span><span class="ident" id="6144124"><a href="/go/printer/nodes.go.html#6139133">commaTerm</a></span>&nbsp;<span class="op" id="6144134">!=</span>&nbsp;<span class="num" id="6144137">0</span>&nbsp;<span class="op" id="6144139">&amp;&amp;</span>&nbsp;<span class="ident" id="6144142"><a href="/go/printer/nodes.go.html#6140245">next</a></span><span class="op" id="6144146">.</span><span class="ident" id="6144147">IsValid</span><span class="op" id="6144154">(</span><span class="op" id="6144155">)</span>&nbsp;<span class="op" id="6144157">&amp;&amp;</span>&nbsp;<span class="ident" id="6144160"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144161">.</span><span class="ident" id="6144162">pos</span><span class="op" id="6144165">.</span><span class="ident" id="6144166">Line</span>&nbsp;<span class="op" id="6144171">&lt;</span>&nbsp;<span class="ident" id="6144173"><a href="/go/printer/nodes.go.html#6140245">next</a></span><span class="op" id="6144177">.</span><span class="ident" id="6144178">Line</span>&nbsp;<span class="op" id="6144183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144187">//&nbsp;print&nbsp;a&nbsp;terminating&nbsp;comma&nbsp;if&nbsp;the&nbsp;next&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144253"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144254">.</span><span class="builtinfunc" id="6144255">print</span><span class="op" id="6144260">(</span><span class="ident" id="6144261"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6144266">.</span><span class="ident" id="6144267">COMMA</span><span class="op" id="6144272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144276">if</span>&nbsp;<span class="ident" id="6144279"><a href="/go/printer/nodes.go.html#6140886">ws</a></span>&nbsp;<span class="op" id="6144282">==</span>&nbsp;<span class="ident" id="6144285"><a href="/go/printer/printer.go.html#6179038">ignore</a></span>&nbsp;<span class="op" id="6144292">&amp;&amp;</span>&nbsp;<span class="ident" id="6144295"><a href="/go/printer/nodes.go.html#6140147">mode</a></span><span class="op" id="6144299">&amp;</span><span class="ident" id="6144300"><a href="/go/printer/nodes.go.html#6139213">noIndent</a></span>&nbsp;<span class="op" id="6144309">==</span>&nbsp;<span class="num" id="6144312">0</span>&nbsp;<span class="op" id="6144314">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144319">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144349"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144350">.</span><span class="builtinfunc" id="6144351">print</span><span class="op" id="6144356">(</span><span class="ident" id="6144357"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6144365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144373"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144374">.</span><span class="builtinfunc" id="6144375">print</span><span class="op" id="6144380">(</span><span class="ident" id="6144381"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6144389">)</span>&nbsp;<span class="comment" id="6144391">//&nbsp;terminating&nbsp;comma&nbsp;needs&nbsp;a&nbsp;line&nbsp;break&nbsp;to&nbsp;look&nbsp;good</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144446">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144458">if</span>&nbsp;<span class="ident" id="6144461"><a href="/go/printer/nodes.go.html#6140886">ws</a></span>&nbsp;<span class="op" id="6144464">==</span>&nbsp;<span class="ident" id="6144467"><a href="/go/printer/printer.go.html#6179038">ignore</a></span>&nbsp;<span class="op" id="6144474">&amp;&amp;</span>&nbsp;<span class="ident" id="6144477"><a href="/go/printer/nodes.go.html#6140147">mode</a></span><span class="op" id="6144481">&amp;</span><span class="ident" id="6144482"><a href="/go/printer/nodes.go.html#6139213">noIndent</a></span>&nbsp;<span class="op" id="6144491">==</span>&nbsp;<span class="num" id="6144494">0</span>&nbsp;<span class="op" id="6144496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144500">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144529"><a href="/go/printer/nodes.go.html#6140081">p</a></span><span class="op" id="6144530">.</span><span class="builtinfunc" id="6144531">print</span><span class="op" id="6144536">(</span><span class="ident" id="6144537"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6144545">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6144548">}</span><br>
<span class="lineno"></span><span class="op" id="6144550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6144553">func</span>&nbsp;<span class="op" id="6144558">(</span><span class="ident" id="6144559">p</span>&nbsp;<span class="op" id="6144561">*</span><span class="ident" id="6144562"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6144569">)</span>&nbsp;<span class="ident" id="6144571">parameters</span><span class="op" id="6144581">(</span><span class="ident" id="6144582">fields</span>&nbsp;<span class="op" id="6144589">*</span><span class="ident" id="6144590"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6144593">.</span><span class="ident" id="6144594">FieldList</span><span class="op" id="6144603">)</span>&nbsp;<span class="op" id="6144605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144608"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6144609">.</span><span class="builtinfunc" id="6144610">print</span><span class="op" id="6144615">(</span><span class="ident" id="6144616"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6144622">.</span><span class="ident" id="6144623">Opening</span><span class="op" id="6144630">,</span>&nbsp;<span class="ident" id="6144632"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6144637">.</span><span class="ident" id="6144638">LPAREN</span><span class="op" id="6144644">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144647">if</span>&nbsp;<span class="builtinfunc" id="6144650">len</span><span class="op" id="6144653">(</span><span class="ident" id="6144654"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6144660">.</span><span class="ident" id="6144661">List</span><span class="op" id="6144665">)</span>&nbsp;<span class="op" id="6144667">&gt;</span>&nbsp;<span class="num" id="6144669">0</span>&nbsp;<span class="op" id="6144671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144675">prevLine</span>&nbsp;<span class="op" id="6144684">:=</span>&nbsp;<span class="ident" id="6144687"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6144688">.</span><span class="ident" id="6144689">lineFor</span><span class="op" id="6144696">(</span><span class="ident" id="6144697"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6144703">.</span><span class="ident" id="6144704">Opening</span><span class="op" id="6144711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144715">ws</span>&nbsp;<span class="op" id="6144718">:=</span>&nbsp;<span class="ident" id="6144721"><a href="/go/printer/printer.go.html#6179179">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144730">for</span>&nbsp;<span class="ident" id="6144734">i</span><span class="op" id="6144735">,</span>&nbsp;<span class="ident" id="6144737">par</span>&nbsp;<span class="op" id="6144741">:=</span>&nbsp;<span class="keyword" id="6144744">range</span>&nbsp;<span class="ident" id="6144750"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6144756">.</span><span class="ident" id="6144757">List</span>&nbsp;<span class="op" id="6144762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144767">//&nbsp;determine&nbsp;par&nbsp;begin&nbsp;and&nbsp;end&nbsp;line&nbsp;(may&nbsp;be&nbsp;different</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144824">//&nbsp;if&nbsp;there&nbsp;are&nbsp;multiple&nbsp;parameter&nbsp;names&nbsp;for&nbsp;this&nbsp;par</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6144881">//&nbsp;or&nbsp;the&nbsp;type&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144922">var</span>&nbsp;<span class="ident" id="6144926">parLineBeg</span>&nbsp;<span class="builtintype" id="6144937">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6144944">if</span>&nbsp;<span class="builtinfunc" id="6144947">len</span><span class="op" id="6144950">(</span><span class="ident" id="6144951"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6144954">.</span><span class="ident" id="6144955">Names</span><span class="op" id="6144960">)</span>&nbsp;<span class="op" id="6144962">&gt;</span>&nbsp;<span class="num" id="6144964">0</span>&nbsp;<span class="op" id="6144966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6144972"><a href="/go/printer/nodes.go.html#6144926">parLineBeg</a></span>&nbsp;<span class="op" id="6144983">=</span>&nbsp;<span class="ident" id="6144985"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6144986">.</span><span class="ident" id="6144987">lineFor</span><span class="op" id="6144994">(</span><span class="ident" id="6144995"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6144998">.</span><span class="ident" id="6144999">Names</span><span class="op" id="6145004">[</span><span class="num" id="6145005">0</span><span class="op" id="6145006">]</span><span class="op" id="6145007">.</span><span class="ident" id="6145008">Pos</span><span class="op" id="6145011">(</span><span class="op" id="6145012">)</span><span class="op" id="6145013">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145018">}</span>&nbsp;<span class="keyword" id="6145020">else</span>&nbsp;<span class="op" id="6145025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145031"><a href="/go/printer/nodes.go.html#6144926">parLineBeg</a></span>&nbsp;<span class="op" id="6145042">=</span>&nbsp;<span class="ident" id="6145044"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145045">.</span><span class="ident" id="6145046">lineFor</span><span class="op" id="6145053">(</span><span class="ident" id="6145054"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6145057">.</span><span class="ident" id="6145058">Type</span><span class="op" id="6145062">.</span><span class="ident" id="6145063">Pos</span><span class="op" id="6145066">(</span><span class="op" id="6145067">)</span><span class="op" id="6145068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145078">var</span>&nbsp;<span class="ident" id="6145082">parLineEnd</span>&nbsp;<span class="op" id="6145093">=</span>&nbsp;<span class="ident" id="6145095"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145096">.</span><span class="ident" id="6145097">lineFor</span><span class="op" id="6145104">(</span><span class="ident" id="6145105"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6145108">.</span><span class="ident" id="6145109">Type</span><span class="op" id="6145113">.</span><span class="ident" id="6145114">End</span><span class="op" id="6145117">(</span><span class="op" id="6145118">)</span><span class="op" id="6145119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145124">//&nbsp;separating&nbsp;&#34;,&#34;&nbsp;if&nbsp;needed</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145155">needsLinebreak</span>&nbsp;<span class="op" id="6145170">:=</span>&nbsp;<span class="num" id="6145173">0</span>&nbsp;<span class="op" id="6145175">&lt;</span>&nbsp;<span class="ident" id="6145177"><a href="/go/printer/nodes.go.html#6144675">prevLine</a></span>&nbsp;<span class="op" id="6145186">&amp;&amp;</span>&nbsp;<span class="ident" id="6145189"><a href="/go/printer/nodes.go.html#6144675">prevLine</a></span>&nbsp;<span class="op" id="6145198">&lt;</span>&nbsp;<span class="ident" id="6145200"><a href="/go/printer/nodes.go.html#6144926">parLineBeg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145214">if</span>&nbsp;<span class="ident" id="6145217"><a href="/go/printer/nodes.go.html#6144734">i</a></span>&nbsp;<span class="op" id="6145219">&gt;</span>&nbsp;<span class="num" id="6145221">0</span>&nbsp;<span class="op" id="6145223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145229">//&nbsp;use&nbsp;position&nbsp;of&nbsp;parameter&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145285">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comma&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145340">//&nbsp;only&nbsp;if&nbsp;the&nbsp;next&nbsp;parameter&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145394">if</span>&nbsp;<span class="op" id="6145397">!</span><span class="ident" id="6145398"><a href="/go/printer/nodes.go.html#6145155">needsLinebreak</a></span>&nbsp;<span class="op" id="6145413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145420"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145421">.</span><span class="builtinfunc" id="6145422">print</span><span class="op" id="6145427">(</span><span class="ident" id="6145428"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6145431">.</span><span class="ident" id="6145432">Pos</span><span class="op" id="6145435">(</span><span class="op" id="6145436">)</span><span class="op" id="6145437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145449"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145450">.</span><span class="builtinfunc" id="6145451">print</span><span class="op" id="6145456">(</span><span class="ident" id="6145457"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6145462">.</span><span class="ident" id="6145463">COMMA</span><span class="op" id="6145468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145473">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145478">//&nbsp;separator&nbsp;if&nbsp;needed&nbsp;(linebreak&nbsp;or&nbsp;blank)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145525">if</span>&nbsp;<span class="ident" id="6145528"><a href="/go/printer/nodes.go.html#6145155">needsLinebreak</a></span>&nbsp;<span class="op" id="6145543">&amp;&amp;</span>&nbsp;<span class="ident" id="6145546"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145547">.</span><span class="ident" id="6145548">linebreak</span><span class="op" id="6145557">(</span><span class="ident" id="6145558"><a href="/go/printer/nodes.go.html#6144926">parLineBeg</a></span><span class="op" id="6145568">,</span>&nbsp;<span class="num" id="6145570">0</span><span class="op" id="6145571">,</span>&nbsp;<span class="ident" id="6145573"><a href="/go/printer/nodes.go.html#6144715">ws</a></span><span class="op" id="6145575">,</span>&nbsp;<span class="ident" id="6145577">true</span><span class="op" id="6145581">)</span>&nbsp;<span class="op" id="6145583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145589">//&nbsp;break&nbsp;line&nbsp;if&nbsp;the&nbsp;opening&nbsp;&#34;(&#34;&nbsp;or&nbsp;previous&nbsp;parameter&nbsp;ended&nbsp;on&nbsp;a&nbsp;different&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145674"><a href="/go/printer/nodes.go.html#6144715">ws</a></span>&nbsp;<span class="op" id="6145677">=</span>&nbsp;<span class="ident" id="6145679"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145689">}</span>&nbsp;<span class="keyword" id="6145691">else</span>&nbsp;<span class="keyword" id="6145696">if</span>&nbsp;<span class="ident" id="6145699"><a href="/go/printer/nodes.go.html#6144734">i</a></span>&nbsp;<span class="op" id="6145701">&gt;</span>&nbsp;<span class="num" id="6145703">0</span>&nbsp;<span class="op" id="6145705">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6145711"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6145712">.</span><span class="builtinfunc" id="6145713">print</span><span class="op" id="6145718">(</span><span class="ident" id="6145719"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6145724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6145729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145734">//&nbsp;parameter&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6145756">if</span>&nbsp;<span class="builtinfunc" id="6145759">len</span><span class="op" id="6145762">(</span><span class="ident" id="6145763"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6145766">.</span><span class="ident" id="6145767">Names</span><span class="op" id="6145772">)</span>&nbsp;<span class="op" id="6145774">&gt;</span>&nbsp;<span class="num" id="6145776">0</span>&nbsp;<span class="op" id="6145778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145784">//&nbsp;Very&nbsp;subtle:&nbsp;If&nbsp;we&nbsp;indented&nbsp;before&nbsp;(ws&nbsp;==&nbsp;ignore),&nbsp;identList</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145852">//&nbsp;won&#39;t&nbsp;indent&nbsp;again.&nbsp;If&nbsp;we&nbsp;didn&#39;t&nbsp;(ws&nbsp;==&nbsp;indent),&nbsp;identList&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145923">//&nbsp;indent&nbsp;if&nbsp;the&nbsp;identList&nbsp;spans&nbsp;multiple&nbsp;lines,&nbsp;and&nbsp;it&nbsp;will&nbsp;outdent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6145996">//&nbsp;again&nbsp;at&nbsp;the&nbsp;end&nbsp;(and&nbsp;still&nbsp;ws&nbsp;==&nbsp;indent).&nbsp;Thus,&nbsp;a&nbsp;subsequent&nbsp;indent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146072">//&nbsp;by&nbsp;a&nbsp;linebreak&nbsp;call&nbsp;after&nbsp;a&nbsp;type,&nbsp;or&nbsp;in&nbsp;the&nbsp;next&nbsp;multi-line&nbsp;identList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146149">//&nbsp;will&nbsp;do&nbsp;the&nbsp;right&nbsp;thing.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146181"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146182">.</span><span class="ident" id="6146183">identList</span><span class="op" id="6146192">(</span><span class="ident" id="6146193"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6146196">.</span><span class="ident" id="6146197">Names</span><span class="op" id="6146202">,</span>&nbsp;<span class="ident" id="6146204"><a href="/go/printer/nodes.go.html#6144715">ws</a></span>&nbsp;<span class="op" id="6146207">==</span>&nbsp;<span class="ident" id="6146210"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6146216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146222"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146223">.</span><span class="builtinfunc" id="6146224">print</span><span class="op" id="6146229">(</span><span class="ident" id="6146230"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6146235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146245">//&nbsp;parameter&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146266"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146267">.</span><span class="ident" id="6146268">expr</span><span class="op" id="6146272">(</span><span class="ident" id="6146273"><a href="/go/printer/nodes.go.html#6162991">stripParensAlways</a></span><span class="op" id="6146290">(</span><span class="ident" id="6146291"><a href="/go/printer/nodes.go.html#6144737">par</a></span><span class="op" id="6146294">.</span><span class="ident" id="6146295">Type</span><span class="op" id="6146299">)</span><span class="op" id="6146300">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146305"><a href="/go/printer/nodes.go.html#6144675">prevLine</a></span>&nbsp;<span class="op" id="6146314">=</span>&nbsp;<span class="ident" id="6146316"><a href="/go/printer/nodes.go.html#6145082">parLineEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146333">//&nbsp;if&nbsp;the&nbsp;closing&nbsp;&#34;)&#34;&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line&nbsp;from&nbsp;the&nbsp;last&nbsp;parameter,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146404">//&nbsp;print&nbsp;an&nbsp;additional&nbsp;&#34;,&#34;&nbsp;and&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146448">if</span>&nbsp;<span class="ident" id="6146451">closing</span>&nbsp;<span class="op" id="6146459">:=</span>&nbsp;<span class="ident" id="6146462"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146463">.</span><span class="ident" id="6146464">lineFor</span><span class="op" id="6146471">(</span><span class="ident" id="6146472"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6146478">.</span><span class="ident" id="6146479">Closing</span><span class="op" id="6146486">)</span><span class="op" id="6146487">;</span>&nbsp;<span class="num" id="6146489">0</span>&nbsp;<span class="op" id="6146491">&lt;</span>&nbsp;<span class="ident" id="6146493"><a href="/go/printer/nodes.go.html#6144675">prevLine</a></span>&nbsp;<span class="op" id="6146502">&amp;&amp;</span>&nbsp;<span class="ident" id="6146505"><a href="/go/printer/nodes.go.html#6144675">prevLine</a></span>&nbsp;<span class="op" id="6146514">&lt;</span>&nbsp;<span class="ident" id="6146516"><a href="/go/printer/nodes.go.html#6146451">closing</a></span>&nbsp;<span class="op" id="6146524">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146529"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146530">.</span><span class="builtinfunc" id="6146531">print</span><span class="op" id="6146536">(</span><span class="ident" id="6146537"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6146542">.</span><span class="ident" id="6146543">COMMA</span><span class="op" id="6146548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146553"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146554">.</span><span class="ident" id="6146555">linebreak</span><span class="op" id="6146564">(</span><span class="ident" id="6146565"><a href="/go/printer/nodes.go.html#6146451">closing</a></span><span class="op" id="6146572">,</span>&nbsp;<span class="num" id="6146574">0</span><span class="op" id="6146575">,</span>&nbsp;<span class="ident" id="6146577"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6146583">,</span>&nbsp;<span class="ident" id="6146585">true</span><span class="op" id="6146589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146597">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146626">if</span>&nbsp;<span class="ident" id="6146629"><a href="/go/printer/nodes.go.html#6144715">ws</a></span>&nbsp;<span class="op" id="6146632">==</span>&nbsp;<span class="ident" id="6146635"><a href="/go/printer/printer.go.html#6179038">ignore</a></span>&nbsp;<span class="op" id="6146642">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146647"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146648">.</span><span class="builtinfunc" id="6146649">print</span><span class="op" id="6146654">(</span><span class="ident" id="6146655"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6146663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146673"><a href="/go/printer/nodes.go.html#6144559">p</a></span><span class="op" id="6146674">.</span><span class="builtinfunc" id="6146675">print</span><span class="op" id="6146680">(</span><span class="ident" id="6146681"><a href="/go/printer/nodes.go.html#6144582">fields</a></span><span class="op" id="6146687">.</span><span class="ident" id="6146688">Closing</span><span class="op" id="6146695">,</span>&nbsp;<span class="ident" id="6146697"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6146702">.</span><span class="ident" id="6146703">RPAREN</span><span class="op" id="6146709">)</span><br>
<span class="lineno"></span><span class="op" id="6146711">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="6146714">func</span>&nbsp;<span class="op" id="6146719">(</span><span class="ident" id="6146720">p</span>&nbsp;<span class="op" id="6146722">*</span><span class="ident" id="6146723"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6146730">)</span>&nbsp;<span class="ident" id="6146732">signature</span><span class="op" id="6146741">(</span><span class="ident" id="6146742">params</span><span class="op" id="6146748">,</span>&nbsp;<span class="ident" id="6146750">result</span>&nbsp;<span class="op" id="6146757">*</span><span class="ident" id="6146758"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6146761">.</span><span class="ident" id="6146762">FieldList</span><span class="op" id="6146771">)</span>&nbsp;<span class="op" id="6146773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146776">if</span>&nbsp;<span class="ident" id="6146779"><a href="/go/printer/nodes.go.html#6146742">params</a></span>&nbsp;<span class="op" id="6146786">!=</span>&nbsp;<span class="ident" id="6146789">nil</span>&nbsp;<span class="op" id="6146793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146797"><a href="/go/printer/nodes.go.html#6146720">p</a></span><span class="op" id="6146798">.</span><span class="ident" id="6146799">parameters</span><span class="op" id="6146809">(</span><span class="ident" id="6146810"><a href="/go/printer/nodes.go.html#6146742">params</a></span><span class="op" id="6146816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146819">}</span>&nbsp;<span class="keyword" id="6146821">else</span>&nbsp;<span class="op" id="6146826">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146830"><a href="/go/printer/nodes.go.html#6146720">p</a></span><span class="op" id="6146831">.</span><span class="builtinfunc" id="6146832">print</span><span class="op" id="6146837">(</span><span class="ident" id="6146838"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6146843">.</span><span class="ident" id="6146844">LPAREN</span><span class="op" id="6146850">,</span>&nbsp;<span class="ident" id="6146852"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6146857">.</span><span class="ident" id="6146858">RPAREN</span><span class="op" id="6146864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6146867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146870">n</span>&nbsp;<span class="op" id="6146872">:=</span>&nbsp;<span class="ident" id="6146875"><a href="/go/printer/nodes.go.html#6146750">result</a></span><span class="op" id="6146881">.</span><span class="ident" id="6146882">NumFields</span><span class="op" id="6146891">(</span><span class="op" id="6146892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146895">if</span>&nbsp;<span class="ident" id="6146898"><a href="/go/printer/nodes.go.html#6146870">n</a></span>&nbsp;<span class="op" id="6146900">&gt;</span>&nbsp;<span class="num" id="6146902">0</span>&nbsp;<span class="op" id="6146904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146908">//&nbsp;result&nbsp;!=&nbsp;nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6146927"><a href="/go/printer/nodes.go.html#6146720">p</a></span><span class="op" id="6146928">.</span><span class="builtinfunc" id="6146929">print</span><span class="op" id="6146934">(</span><span class="ident" id="6146935"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6146940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6146944">if</span>&nbsp;<span class="ident" id="6146947"><a href="/go/printer/nodes.go.html#6146870">n</a></span>&nbsp;<span class="op" id="6146949">==</span>&nbsp;<span class="num" id="6146952">1</span>&nbsp;<span class="op" id="6146954">&amp;&amp;</span>&nbsp;<span class="ident" id="6146957"><a href="/go/printer/nodes.go.html#6146750">result</a></span><span class="op" id="6146963">.</span><span class="ident" id="6146964">List</span><span class="op" id="6146968">[</span><span class="num" id="6146969">0</span><span class="op" id="6146970">]</span><span class="op" id="6146971">.</span><span class="ident" id="6146972">Names</span>&nbsp;<span class="op" id="6146978">==</span>&nbsp;<span class="ident" id="6146981">nil</span>&nbsp;<span class="op" id="6146985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6146990">//&nbsp;single&nbsp;anonymous&nbsp;result;&nbsp;no&nbsp;()&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147029"><a href="/go/printer/nodes.go.html#6146720">p</a></span><span class="op" id="6147030">.</span><span class="ident" id="6147031">expr</span><span class="op" id="6147035">(</span><span class="ident" id="6147036"><a href="/go/printer/nodes.go.html#6162991">stripParensAlways</a></span><span class="op" id="6147053">(</span><span class="ident" id="6147054"><a href="/go/printer/nodes.go.html#6146750">result</a></span><span class="op" id="6147060">.</span><span class="ident" id="6147061">List</span><span class="op" id="6147065">[</span><span class="num" id="6147066">0</span><span class="op" id="6147067">]</span><span class="op" id="6147068">.</span><span class="ident" id="6147069">Type</span><span class="op" id="6147073">)</span><span class="op" id="6147074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147079">return</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147092"><a href="/go/printer/nodes.go.html#6146720">p</a></span><span class="op" id="6147093">.</span><span class="ident" id="6147094">parameters</span><span class="op" id="6147104">(</span><span class="ident" id="6147105"><a href="/go/printer/nodes.go.html#6146750">result</a></span><span class="op" id="6147111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147114">}</span><br>
<span class="lineno"></span><span class="op" id="6147116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="6147119">func</span>&nbsp;<span class="ident" id="6147124">identListSize</span><span class="op" id="6147137">(</span><span class="ident" id="6147138">list</span>&nbsp;<span class="op" id="6147143">[</span><span class="op" id="6147144">]</span><span class="op" id="6147145">*</span><span class="ident" id="6147146"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6147149">.</span><span class="ident" id="6147150">Ident</span><span class="op" id="6147155">,</span>&nbsp;<span class="ident" id="6147157">maxSize</span>&nbsp;<span class="builtintype" id="6147165">int</span><span class="op" id="6147168">)</span>&nbsp;<span class="op" id="6147170">(</span><span class="ident" id="6147171">size</span>&nbsp;<span class="builtintype" id="6147176">int</span><span class="op" id="6147179">)</span>&nbsp;<span class="op" id="6147181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147184">for</span>&nbsp;<span class="ident" id="6147188">i</span><span class="op" id="6147189">,</span>&nbsp;<span class="ident" id="6147191">x</span>&nbsp;<span class="op" id="6147193">:=</span>&nbsp;<span class="keyword" id="6147196">range</span>&nbsp;<span class="ident" id="6147202"><a href="/go/printer/nodes.go.html#6147138">list</a></span>&nbsp;<span class="op" id="6147207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147211">if</span>&nbsp;<span class="ident" id="6147214"><a href="/go/printer/nodes.go.html#6147188">i</a></span>&nbsp;<span class="op" id="6147216">&gt;</span>&nbsp;<span class="num" id="6147218">0</span>&nbsp;<span class="op" id="6147220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147225"><a href="/go/printer/nodes.go.html#6147171">size</a></span>&nbsp;<span class="op" id="6147230">+=</span>&nbsp;<span class="builtinfunc" id="6147233">len</span><span class="op" id="6147236">(</span><span class="string" id="6147237">&#34;,&nbsp;&#34;</span><span class="op" id="6147241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147245">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147249"><a href="/go/printer/nodes.go.html#6147171">size</a></span>&nbsp;<span class="op" id="6147254">+=</span>&nbsp;<span class="ident" id="6147257"><a href="/go/printer/nodes.go.html#6136234">utf8</a></span><span class="op" id="6147261">.</span><span class="ident" id="6147262">RuneCountInString</span><span class="op" id="6147279">(</span><span class="ident" id="6147280"><a href="/go/printer/nodes.go.html#6147191">x</a></span><span class="op" id="6147281">.</span><span class="ident" id="6147282">Name</span><span class="op" id="6147286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147290">if</span>&nbsp;<span class="ident" id="6147293"><a href="/go/printer/nodes.go.html#6147171">size</a></span>&nbsp;<span class="op" id="6147298">&gt;=</span>&nbsp;<span class="ident" id="6147301"><a href="/go/printer/nodes.go.html#6147157">maxSize</a></span>&nbsp;<span class="op" id="6147309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147314">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147325">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147328">return</span><br>
<span class="lineno"></span><span class="op" id="6147335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6147338">func</span>&nbsp;<span class="op" id="6147343">(</span><span class="ident" id="6147344">p</span>&nbsp;<span class="op" id="6147346">*</span><span class="ident" id="6147347"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6147354">)</span>&nbsp;<span class="ident" id="6147356">isOneLineFieldList</span><span class="op" id="6147374">(</span><span class="ident" id="6147375">list</span>&nbsp;<span class="op" id="6147380">[</span><span class="op" id="6147381">]</span><span class="op" id="6147382">*</span><span class="ident" id="6147383"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6147386">.</span><span class="ident" id="6147387">Field</span><span class="op" id="6147392">)</span>&nbsp;<span class="builtintype" id="6147394">bool</span>&nbsp;<span class="op" id="6147399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147402">if</span>&nbsp;<span class="builtinfunc" id="6147405">len</span><span class="op" id="6147408">(</span><span class="ident" id="6147409"><a href="/go/printer/nodes.go.html#6147375">list</a></span><span class="op" id="6147413">)</span>&nbsp;<span class="op" id="6147415">!=</span>&nbsp;<span class="num" id="6147418">1</span>&nbsp;<span class="op" id="6147420">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147424">return</span>&nbsp;<span class="ident" id="6147431">false</span>&nbsp;<span class="comment" id="6147437">//&nbsp;allow&nbsp;only&nbsp;one&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147465">f</span>&nbsp;<span class="op" id="6147467">:=</span>&nbsp;<span class="ident" id="6147470"><a href="/go/printer/nodes.go.html#6147375">list</a></span><span class="op" id="6147474">[</span><span class="num" id="6147475">0</span><span class="op" id="6147476">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147479">if</span>&nbsp;<span class="ident" id="6147482"><a href="/go/printer/nodes.go.html#6147465">f</a></span><span class="op" id="6147483">.</span><span class="ident" id="6147484">Tag</span>&nbsp;<span class="op" id="6147488">!=</span>&nbsp;<span class="ident" id="6147491">nil</span>&nbsp;<span class="op" id="6147495">||</span>&nbsp;<span class="ident" id="6147498"><a href="/go/printer/nodes.go.html#6147465">f</a></span><span class="op" id="6147499">.</span><span class="ident" id="6147500">Comment</span>&nbsp;<span class="op" id="6147508">!=</span>&nbsp;<span class="ident" id="6147511">nil</span>&nbsp;<span class="op" id="6147515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147519">return</span>&nbsp;<span class="ident" id="6147526">false</span>&nbsp;<span class="comment" id="6147532">//&nbsp;don&#39;t&nbsp;allow&nbsp;tags&nbsp;or&nbsp;comments</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6147568">//&nbsp;only&nbsp;name(s)&nbsp;and&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147594">const</span>&nbsp;<span class="ident" id="6147600">maxSize</span>&nbsp;<span class="op" id="6147608">=</span>&nbsp;<span class="num" id="6147610">30</span>&nbsp;<span class="comment" id="6147613">//&nbsp;adjust&nbsp;as&nbsp;appropriate,&nbsp;this&nbsp;is&nbsp;an&nbsp;approximate&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147669">namesSize</span>&nbsp;<span class="op" id="6147679">:=</span>&nbsp;<span class="ident" id="6147682"><a href="/go/printer/nodes.go.html#6147124">identListSize</a></span><span class="op" id="6147695">(</span><span class="ident" id="6147696"><a href="/go/printer/nodes.go.html#6147465">f</a></span><span class="op" id="6147697">.</span><span class="ident" id="6147698">Names</span><span class="op" id="6147703">,</span>&nbsp;<span class="ident" id="6147705"><a href="/go/printer/nodes.go.html#6147600">maxSize</a></span><span class="op" id="6147712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147715">if</span>&nbsp;<span class="ident" id="6147718"><a href="/go/printer/nodes.go.html#6147669">namesSize</a></span>&nbsp;<span class="op" id="6147728">&gt;</span>&nbsp;<span class="num" id="6147730">0</span>&nbsp;<span class="op" id="6147732">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147736"><a href="/go/printer/nodes.go.html#6147669">namesSize</a></span>&nbsp;<span class="op" id="6147746">=</span>&nbsp;<span class="num" id="6147748">1</span>&nbsp;<span class="comment" id="6147750">//&nbsp;blank&nbsp;between&nbsp;names&nbsp;and&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6147784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147787">typeSize</span>&nbsp;<span class="op" id="6147796">:=</span>&nbsp;<span class="ident" id="6147799"><a href="/go/printer/nodes.go.html#6147344">p</a></span><span class="op" id="6147800">.</span><span class="ident" id="6147801">nodeSize</span><span class="op" id="6147809">(</span><span class="ident" id="6147810"><a href="/go/printer/nodes.go.html#6147465">f</a></span><span class="op" id="6147811">.</span><span class="ident" id="6147812">Type</span><span class="op" id="6147816">,</span>&nbsp;<span class="ident" id="6147818"><a href="/go/printer/nodes.go.html#6147600">maxSize</a></span><span class="op" id="6147825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6147828">return</span>&nbsp;<span class="ident" id="6147835"><a href="/go/printer/nodes.go.html#6147669">namesSize</a></span><span class="op" id="6147844">+</span><span class="ident" id="6147845"><a href="/go/printer/nodes.go.html#6147787">typeSize</a></span>&nbsp;<span class="op" id="6147854">&lt;=</span>&nbsp;<span class="ident" id="6147857"><a href="/go/printer/nodes.go.html#6147600">maxSize</a></span><br>
<span class="lineno"></span><span class="op" id="6147865">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="6147868">func</span>&nbsp;<span class="op" id="6147873">(</span><span class="ident" id="6147874">p</span>&nbsp;<span class="op" id="6147876">*</span><span class="ident" id="6147877"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6147884">)</span>&nbsp;<span class="ident" id="6147886">setLineComment</span><span class="op" id="6147900">(</span><span class="ident" id="6147901">text</span>&nbsp;<span class="builtintype" id="6147906">string</span><span class="op" id="6147912">)</span>&nbsp;<span class="op" id="6147914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6147917"><a href="/go/printer/nodes.go.html#6147874">p</a></span><span class="op" id="6147918">.</span><span class="ident" id="6147919">setComment</span><span class="op" id="6147929">(</span><span class="op" id="6147930">&amp;</span><span class="ident" id="6147931"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6147934">.</span><span class="ident" id="6147935">CommentGroup</span><span class="op" id="6147947">{</span><span class="ident" id="6147948">List</span><span class="op" id="6147952">:</span>&nbsp;<span class="op" id="6147954">[</span><span class="op" id="6147955">]</span><span class="op" id="6147956">*</span><span class="ident" id="6147957"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6147960">.</span><span class="ident" id="6147961">Comment</span><span class="op" id="6147968">{</span><span class="op" id="6147969">{</span><span class="ident" id="6147970">Slash</span><span class="op" id="6147975">:</span>&nbsp;<span class="ident" id="6147977"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6147982">.</span><span class="ident" id="6147983">NoPos</span><span class="op" id="6147988">,</span>&nbsp;<span class="ident" id="6147990">Text</span><span class="op" id="6147994">:</span>&nbsp;<span class="ident" id="6147996"><a href="/go/printer/nodes.go.html#6147901">text</a></span><span class="op" id="6148000">}</span><span class="op" id="6148001">}</span><span class="op" id="6148002">}</span><span class="op" id="6148003">)</span><br>
<span class="lineno"></span><span class="op" id="6148005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="keyword" id="6148008">func</span>&nbsp;<span class="op" id="6148013">(</span><span class="ident" id="6148014">p</span>&nbsp;<span class="op" id="6148016">*</span><span class="ident" id="6148017"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6148024">)</span>&nbsp;<span class="ident" id="6148026">fieldList</span><span class="op" id="6148035">(</span><span class="ident" id="6148036">fields</span>&nbsp;<span class="op" id="6148043">*</span><span class="ident" id="6148044"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6148047">.</span><span class="ident" id="6148048">FieldList</span><span class="op" id="6148057">,</span>&nbsp;<span class="ident" id="6148059">isStruct</span><span class="op" id="6148067">,</span>&nbsp;<span class="ident" id="6148069">isIncomplete</span>&nbsp;<span class="builtintype" id="6148082">bool</span><span class="op" id="6148086">)</span>&nbsp;<span class="op" id="6148088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148091">lbrace</span>&nbsp;<span class="op" id="6148098">:=</span>&nbsp;<span class="ident" id="6148101"><a href="/go/printer/nodes.go.html#6148036">fields</a></span><span class="op" id="6148107">.</span><span class="ident" id="6148108">Opening</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148117">list</span>&nbsp;<span class="op" id="6148122">:=</span>&nbsp;<span class="ident" id="6148125"><a href="/go/printer/nodes.go.html#6148036">fields</a></span><span class="op" id="6148131">.</span><span class="ident" id="6148132">List</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148138">rbrace</span>&nbsp;<span class="op" id="6148145">:=</span>&nbsp;<span class="ident" id="6148148"><a href="/go/printer/nodes.go.html#6148036">fields</a></span><span class="op" id="6148154">.</span><span class="ident" id="6148155">Closing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148164">hasComments</span>&nbsp;<span class="op" id="6148176">:=</span>&nbsp;<span class="ident" id="6148179"><a href="/go/printer/nodes.go.html#6148069">isIncomplete</a></span>&nbsp;<span class="op" id="6148192">||</span>&nbsp;<span class="ident" id="6148195"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148196">.</span><span class="ident" id="6148197">commentBefore</span><span class="op" id="6148210">(</span><span class="ident" id="6148211"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148212">.</span><span class="ident" id="6148213">posFor</span><span class="op" id="6148219">(</span><span class="ident" id="6148220"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6148226">)</span><span class="op" id="6148227">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148230">srcIsOneLine</span>&nbsp;<span class="op" id="6148243">:=</span>&nbsp;<span class="ident" id="6148246"><a href="/go/printer/nodes.go.html#6148091">lbrace</a></span><span class="op" id="6148252">.</span><span class="ident" id="6148253">IsValid</span><span class="op" id="6148260">(</span><span class="op" id="6148261">)</span>&nbsp;<span class="op" id="6148263">&amp;&amp;</span>&nbsp;<span class="ident" id="6148266"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6148272">.</span><span class="ident" id="6148273">IsValid</span><span class="op" id="6148280">(</span><span class="op" id="6148281">)</span>&nbsp;<span class="op" id="6148283">&amp;&amp;</span>&nbsp;<span class="ident" id="6148286"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148287">.</span><span class="ident" id="6148288">lineFor</span><span class="op" id="6148295">(</span><span class="ident" id="6148296"><a href="/go/printer/nodes.go.html#6148091">lbrace</a></span><span class="op" id="6148302">)</span>&nbsp;<span class="op" id="6148304">==</span>&nbsp;<span class="ident" id="6148307"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148308">.</span><span class="ident" id="6148309">lineFor</span><span class="op" id="6148316">(</span><span class="ident" id="6148317"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6148323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148327">if</span>&nbsp;<span class="op" id="6148330">!</span><span class="ident" id="6148331"><a href="/go/printer/nodes.go.html#6148164">hasComments</a></span>&nbsp;<span class="op" id="6148343">&amp;&amp;</span>&nbsp;<span class="ident" id="6148346"><a href="/go/printer/nodes.go.html#6148230">srcIsOneLine</a></span>&nbsp;<span class="op" id="6148359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148363">//&nbsp;possibly&nbsp;a&nbsp;one-line&nbsp;struct/interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148405">if</span>&nbsp;<span class="builtinfunc" id="6148408">len</span><span class="op" id="6148411">(</span><span class="ident" id="6148412"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6148416">)</span>&nbsp;<span class="op" id="6148418">==</span>&nbsp;<span class="num" id="6148421">0</span>&nbsp;<span class="op" id="6148423">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148428">//&nbsp;no&nbsp;blank&nbsp;between&nbsp;keyword&nbsp;and&nbsp;{}&nbsp;in&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148479"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148480">.</span><span class="builtinfunc" id="6148481">print</span><span class="op" id="6148486">(</span><span class="ident" id="6148487"><a href="/go/printer/nodes.go.html#6148091">lbrace</a></span><span class="op" id="6148493">,</span>&nbsp;<span class="ident" id="6148495"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6148500">.</span><span class="ident" id="6148501">LBRACE</span><span class="op" id="6148507">,</span>&nbsp;<span class="ident" id="6148509"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6148515">,</span>&nbsp;<span class="ident" id="6148517"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6148522">.</span><span class="ident" id="6148523">RBRACE</span><span class="op" id="6148529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148534">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148543">}</span>&nbsp;<span class="keyword" id="6148545">else</span>&nbsp;<span class="keyword" id="6148550">if</span>&nbsp;<span class="ident" id="6148553"><a href="/go/printer/nodes.go.html#6148059">isStruct</a></span>&nbsp;<span class="op" id="6148562">&amp;&amp;</span>&nbsp;<span class="ident" id="6148565"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148566">.</span><span class="ident" id="6148567">isOneLineFieldList</span><span class="op" id="6148585">(</span><span class="ident" id="6148586"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6148590">)</span>&nbsp;<span class="op" id="6148592">{</span>&nbsp;<span class="comment" id="6148594">//&nbsp;for&nbsp;now&nbsp;ignore&nbsp;interfaces</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148626">//&nbsp;small&nbsp;enough&nbsp;-&nbsp;print&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148665">//&nbsp;(don&#39;t&nbsp;use&nbsp;identList&nbsp;and&nbsp;ignore&nbsp;source&nbsp;line&nbsp;breaks)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148723"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148724">.</span><span class="builtinfunc" id="6148725">print</span><span class="op" id="6148730">(</span><span class="ident" id="6148731"><a href="/go/printer/nodes.go.html#6148091">lbrace</a></span><span class="op" id="6148737">,</span>&nbsp;<span class="ident" id="6148739"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6148744">.</span><span class="ident" id="6148745">LBRACE</span><span class="op" id="6148751">,</span>&nbsp;<span class="ident" id="6148753"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6148758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148763">f</span>&nbsp;<span class="op" id="6148765">:=</span>&nbsp;<span class="ident" id="6148768"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6148772">[</span><span class="num" id="6148773">0</span><span class="op" id="6148774">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148779">for</span>&nbsp;<span class="ident" id="6148783">i</span><span class="op" id="6148784">,</span>&nbsp;<span class="ident" id="6148786">x</span>&nbsp;<span class="op" id="6148788">:=</span>&nbsp;<span class="keyword" id="6148791">range</span>&nbsp;<span class="ident" id="6148797"><a href="/go/printer/nodes.go.html#6148763">f</a></span><span class="op" id="6148798">.</span><span class="ident" id="6148799">Names</span>&nbsp;<span class="op" id="6148805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148811">if</span>&nbsp;<span class="ident" id="6148814"><a href="/go/printer/nodes.go.html#6148783">i</a></span>&nbsp;<span class="op" id="6148816">&gt;</span>&nbsp;<span class="num" id="6148818">0</span>&nbsp;<span class="op" id="6148820">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6148827">//&nbsp;no&nbsp;comments&nbsp;so&nbsp;no&nbsp;need&nbsp;for&nbsp;comma&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148877"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148878">.</span><span class="builtinfunc" id="6148879">print</span><span class="op" id="6148884">(</span><span class="ident" id="6148885"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6148890">.</span><span class="ident" id="6148891">COMMA</span><span class="op" id="6148896">,</span>&nbsp;<span class="ident" id="6148898"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6148903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148915"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148916">.</span><span class="ident" id="6148917">expr</span><span class="op" id="6148921">(</span><span class="ident" id="6148922"><a href="/go/printer/nodes.go.html#6148786">x</a></span><span class="op" id="6148923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148928">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6148933">if</span>&nbsp;<span class="builtinfunc" id="6148936">len</span><span class="op" id="6148939">(</span><span class="ident" id="6148940"><a href="/go/printer/nodes.go.html#6148763">f</a></span><span class="op" id="6148941">.</span><span class="ident" id="6148942">Names</span><span class="op" id="6148947">)</span>&nbsp;<span class="op" id="6148949">&gt;</span>&nbsp;<span class="num" id="6148951">0</span>&nbsp;<span class="op" id="6148953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148959"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148960">.</span><span class="builtinfunc" id="6148961">print</span><span class="op" id="6148966">(</span><span class="ident" id="6148967"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6148972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6148977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6148982"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6148983">.</span><span class="ident" id="6148984">expr</span><span class="op" id="6148988">(</span><span class="ident" id="6148989"><a href="/go/printer/nodes.go.html#6148763">f</a></span><span class="op" id="6148990">.</span><span class="ident" id="6148991">Type</span><span class="op" id="6148995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149000"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149001">.</span><span class="builtinfunc" id="6149002">print</span><span class="op" id="6149007">(</span><span class="ident" id="6149008"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6149013">,</span>&nbsp;<span class="ident" id="6149015"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6149021">,</span>&nbsp;<span class="ident" id="6149023"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6149028">.</span><span class="ident" id="6149029">RBRACE</span><span class="op" id="6149035">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149040">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149055">//&nbsp;hasComments&nbsp;||&nbsp;!srcIsOneLine</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149089"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149090">.</span><span class="builtinfunc" id="6149091">print</span><span class="op" id="6149096">(</span><span class="ident" id="6149097"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6149102">,</span>&nbsp;<span class="ident" id="6149104"><a href="/go/printer/nodes.go.html#6148091">lbrace</a></span><span class="op" id="6149110">,</span>&nbsp;<span class="ident" id="6149112"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6149117">.</span><span class="ident" id="6149118">LBRACE</span><span class="op" id="6149124">,</span>&nbsp;<span class="ident" id="6149126"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6149132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149135">if</span>&nbsp;<span class="ident" id="6149138"><a href="/go/printer/nodes.go.html#6148164">hasComments</a></span>&nbsp;<span class="op" id="6149150">||</span>&nbsp;<span class="builtinfunc" id="6149153">len</span><span class="op" id="6149156">(</span><span class="ident" id="6149157"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6149161">)</span>&nbsp;<span class="op" id="6149163">&gt;</span>&nbsp;<span class="num" id="6149165">0</span>&nbsp;<span class="op" id="6149167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149171"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149172">.</span><span class="builtinfunc" id="6149173">print</span><span class="op" id="6149178">(</span><span class="ident" id="6149179"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6149187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149194">if</span>&nbsp;<span class="ident" id="6149197"><a href="/go/printer/nodes.go.html#6148059">isStruct</a></span>&nbsp;<span class="op" id="6149206">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149211">sep</span>&nbsp;<span class="op" id="6149215">:=</span>&nbsp;<span class="ident" id="6149218"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149225">if</span>&nbsp;<span class="builtinfunc" id="6149228">len</span><span class="op" id="6149231">(</span><span class="ident" id="6149232"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6149236">)</span>&nbsp;<span class="op" id="6149238">==</span>&nbsp;<span class="num" id="6149241">1</span>&nbsp;<span class="op" id="6149243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149248"><a href="/go/printer/nodes.go.html#6149211">sep</a></span>&nbsp;<span class="op" id="6149252">=</span>&nbsp;<span class="ident" id="6149254"><a href="/go/printer/printer.go.html#6179064">blank</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149266">var</span>&nbsp;<span class="ident" id="6149270">line</span>&nbsp;<span class="builtintype" id="6149275">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149281">for</span>&nbsp;<span class="ident" id="6149285">i</span><span class="op" id="6149286">,</span>&nbsp;<span class="ident" id="6149288">f</span>&nbsp;<span class="op" id="6149290">:=</span>&nbsp;<span class="keyword" id="6149293">range</span>&nbsp;<span class="ident" id="6149299"><a href="/go/printer/nodes.go.html#6148117">list</a></span>&nbsp;<span class="op" id="6149304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149309">if</span>&nbsp;<span class="ident" id="6149312"><a href="/go/printer/nodes.go.html#6149285">i</a></span>&nbsp;<span class="op" id="6149314">&gt;</span>&nbsp;<span class="num" id="6149316">0</span>&nbsp;<span class="op" id="6149318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149324"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149325">.</span><span class="ident" id="6149326">linebreak</span><span class="op" id="6149335">(</span><span class="ident" id="6149336"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149337">.</span><span class="ident" id="6149338">lineFor</span><span class="op" id="6149345">(</span><span class="ident" id="6149346"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149347">.</span><span class="ident" id="6149348">Pos</span><span class="op" id="6149351">(</span><span class="op" id="6149352">)</span><span class="op" id="6149353">)</span><span class="op" id="6149354">,</span>&nbsp;<span class="num" id="6149356">1</span><span class="op" id="6149357">,</span>&nbsp;<span class="ident" id="6149359"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6149365">,</span>&nbsp;<span class="ident" id="6149367"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149368">.</span><span class="ident" id="6149369">linesFrom</span><span class="op" id="6149378">(</span><span class="ident" id="6149379"><a href="/go/printer/nodes.go.html#6149270">line</a></span><span class="op" id="6149383">)</span>&nbsp;<span class="op" id="6149385">&gt;</span>&nbsp;<span class="num" id="6149387">0</span><span class="op" id="6149388">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149398">extraTabs</span>&nbsp;<span class="op" id="6149408">:=</span>&nbsp;<span class="num" id="6149411">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149416"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149417">.</span><span class="ident" id="6149418">setComment</span><span class="op" id="6149428">(</span><span class="ident" id="6149429"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149430">.</span><span class="ident" id="6149431">Doc</span><span class="op" id="6149434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149439"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149440">.</span><span class="ident" id="6149441">recordLine</span><span class="op" id="6149451">(</span><span class="op" id="6149452">&amp;</span><span class="ident" id="6149453"><a href="/go/printer/nodes.go.html#6149270">line</a></span><span class="op" id="6149457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149462">if</span>&nbsp;<span class="builtinfunc" id="6149465">len</span><span class="op" id="6149468">(</span><span class="ident" id="6149469"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149470">.</span><span class="ident" id="6149471">Names</span><span class="op" id="6149476">)</span>&nbsp;<span class="op" id="6149478">&gt;</span>&nbsp;<span class="num" id="6149480">0</span>&nbsp;<span class="op" id="6149482">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149488">//&nbsp;named&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149508"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149509">.</span><span class="ident" id="6149510">identList</span><span class="op" id="6149519">(</span><span class="ident" id="6149520"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149521">.</span><span class="ident" id="6149522">Names</span><span class="op" id="6149527">,</span>&nbsp;<span class="ident" id="6149529">false</span><span class="op" id="6149534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149540"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149541">.</span><span class="builtinfunc" id="6149542">print</span><span class="op" id="6149547">(</span><span class="ident" id="6149548"><a href="/go/printer/nodes.go.html#6149211">sep</a></span><span class="op" id="6149551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149557"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149558">.</span><span class="ident" id="6149559">expr</span><span class="op" id="6149563">(</span><span class="ident" id="6149564"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149565">.</span><span class="ident" id="6149566">Type</span><span class="op" id="6149570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149576"><a href="/go/printer/nodes.go.html#6149398">extraTabs</a></span>&nbsp;<span class="op" id="6149586">=</span>&nbsp;<span class="num" id="6149588">1</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149593">}</span>&nbsp;<span class="keyword" id="6149595">else</span>&nbsp;<span class="op" id="6149600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6149606">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149629"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149630">.</span><span class="ident" id="6149631">expr</span><span class="op" id="6149635">(</span><span class="ident" id="6149636"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149637">.</span><span class="ident" id="6149638">Type</span><span class="op" id="6149642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149648"><a href="/go/printer/nodes.go.html#6149398">extraTabs</a></span>&nbsp;<span class="op" id="6149658">=</span>&nbsp;<span class="num" id="6149660">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149665">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149670">if</span>&nbsp;<span class="ident" id="6149673"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149674">.</span><span class="ident" id="6149675">Tag</span>&nbsp;<span class="op" id="6149679">!=</span>&nbsp;<span class="ident" id="6149682">nil</span>&nbsp;<span class="op" id="6149686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149692">if</span>&nbsp;<span class="builtinfunc" id="6149695">len</span><span class="op" id="6149698">(</span><span class="ident" id="6149699"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149700">.</span><span class="ident" id="6149701">Names</span><span class="op" id="6149706">)</span>&nbsp;<span class="op" id="6149708">&gt;</span>&nbsp;<span class="num" id="6149710">0</span>&nbsp;<span class="op" id="6149712">&amp;&amp;</span>&nbsp;<span class="ident" id="6149715"><a href="/go/printer/nodes.go.html#6149211">sep</a></span>&nbsp;<span class="op" id="6149719">==</span>&nbsp;<span class="ident" id="6149722"><a href="/go/printer/printer.go.html#6179092">vtab</a></span>&nbsp;<span class="op" id="6149727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149734"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149735">.</span><span class="builtinfunc" id="6149736">print</span><span class="op" id="6149741">(</span><span class="ident" id="6149742"><a href="/go/printer/nodes.go.html#6149211">sep</a></span><span class="op" id="6149745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149757"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149758">.</span><span class="builtinfunc" id="6149759">print</span><span class="op" id="6149764">(</span><span class="ident" id="6149765"><a href="/go/printer/nodes.go.html#6149211">sep</a></span><span class="op" id="6149768">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149774"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149775">.</span><span class="ident" id="6149776">expr</span><span class="op" id="6149780">(</span><span class="ident" id="6149781"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149782">.</span><span class="ident" id="6149783">Tag</span><span class="op" id="6149786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149792"><a href="/go/printer/nodes.go.html#6149398">extraTabs</a></span>&nbsp;<span class="op" id="6149802">=</span>&nbsp;<span class="num" id="6149804">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149814">if</span>&nbsp;<span class="ident" id="6149817"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149818">.</span><span class="ident" id="6149819">Comment</span>&nbsp;<span class="op" id="6149827">!=</span>&nbsp;<span class="ident" id="6149830">nil</span>&nbsp;<span class="op" id="6149834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149840">for</span>&nbsp;<span class="op" id="6149844">;</span>&nbsp;<span class="ident" id="6149846"><a href="/go/printer/nodes.go.html#6149398">extraTabs</a></span>&nbsp;<span class="op" id="6149856">&gt;</span>&nbsp;<span class="num" id="6149858">0</span><span class="op" id="6149859">;</span>&nbsp;<span class="ident" id="6149861"><a href="/go/printer/nodes.go.html#6149398">extraTabs</a></span><span class="op" id="6149870">--</span>&nbsp;<span class="op" id="6149873">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149880"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149881">.</span><span class="builtinfunc" id="6149882">print</span><span class="op" id="6149887">(</span><span class="ident" id="6149888"><a href="/go/printer/nodes.go.html#6149211">sep</a></span><span class="op" id="6149891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149903"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149904">.</span><span class="ident" id="6149905">setComment</span><span class="op" id="6149915">(</span><span class="ident" id="6149916"><a href="/go/printer/nodes.go.html#6149288">f</a></span><span class="op" id="6149917">.</span><span class="ident" id="6149918">Comment</span><span class="op" id="6149925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6149934">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149938">if</span>&nbsp;<span class="ident" id="6149941"><a href="/go/printer/nodes.go.html#6148069">isIncomplete</a></span>&nbsp;<span class="op" id="6149954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6149959">if</span>&nbsp;<span class="builtinfunc" id="6149962">len</span><span class="op" id="6149965">(</span><span class="ident" id="6149966"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6149970">)</span>&nbsp;<span class="op" id="6149972">&gt;</span>&nbsp;<span class="num" id="6149974">0</span>&nbsp;<span class="op" id="6149976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6149982"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6149983">.</span><span class="builtinfunc" id="6149984">print</span><span class="op" id="6149989">(</span><span class="ident" id="6149990"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6149998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150008"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150009">.</span><span class="ident" id="6150010">flush</span><span class="op" id="6150015">(</span><span class="ident" id="6150016"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150017">.</span><span class="ident" id="6150018">posFor</span><span class="op" id="6150024">(</span><span class="ident" id="6150025"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6150031">)</span><span class="op" id="6150032">,</span>&nbsp;<span class="ident" id="6150034"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6150039">.</span><span class="ident" id="6150040">RBRACE</span><span class="op" id="6150046">)</span>&nbsp;<span class="comment" id="6150048">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150100"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150101">.</span><span class="ident" id="6150102">setLineComment</span><span class="op" id="6150116">(</span><span class="string" id="6150117">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;fields&#34;</span><span class="op" id="6150160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150168">}</span>&nbsp;<span class="keyword" id="6150170">else</span>&nbsp;<span class="op" id="6150175">{</span>&nbsp;<span class="comment" id="6150177">//&nbsp;interface</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150193">var</span>&nbsp;<span class="ident" id="6150197">line</span>&nbsp;<span class="builtintype" id="6150202">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150208">for</span>&nbsp;<span class="ident" id="6150212">i</span><span class="op" id="6150213">,</span>&nbsp;<span class="ident" id="6150215">f</span>&nbsp;<span class="op" id="6150217">:=</span>&nbsp;<span class="keyword" id="6150220">range</span>&nbsp;<span class="ident" id="6150226"><a href="/go/printer/nodes.go.html#6148117">list</a></span>&nbsp;<span class="op" id="6150231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150236">if</span>&nbsp;<span class="ident" id="6150239"><a href="/go/printer/nodes.go.html#6150212">i</a></span>&nbsp;<span class="op" id="6150241">&gt;</span>&nbsp;<span class="num" id="6150243">0</span>&nbsp;<span class="op" id="6150245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150251"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150252">.</span><span class="ident" id="6150253">linebreak</span><span class="op" id="6150262">(</span><span class="ident" id="6150263"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150264">.</span><span class="ident" id="6150265">lineFor</span><span class="op" id="6150272">(</span><span class="ident" id="6150273"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150274">.</span><span class="ident" id="6150275">Pos</span><span class="op" id="6150278">(</span><span class="op" id="6150279">)</span><span class="op" id="6150280">)</span><span class="op" id="6150281">,</span>&nbsp;<span class="num" id="6150283">1</span><span class="op" id="6150284">,</span>&nbsp;<span class="ident" id="6150286"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6150292">,</span>&nbsp;<span class="ident" id="6150294"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150295">.</span><span class="ident" id="6150296">linesFrom</span><span class="op" id="6150305">(</span><span class="ident" id="6150306"><a href="/go/printer/nodes.go.html#6150197">line</a></span><span class="op" id="6150310">)</span>&nbsp;<span class="op" id="6150312">&gt;</span>&nbsp;<span class="num" id="6150314">0</span><span class="op" id="6150315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150320">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150325"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150326">.</span><span class="ident" id="6150327">setComment</span><span class="op" id="6150337">(</span><span class="ident" id="6150338"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150339">.</span><span class="ident" id="6150340">Doc</span><span class="op" id="6150343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150348"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150349">.</span><span class="ident" id="6150350">recordLine</span><span class="op" id="6150360">(</span><span class="op" id="6150361">&amp;</span><span class="ident" id="6150362"><a href="/go/printer/nodes.go.html#6150197">line</a></span><span class="op" id="6150366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150371">if</span>&nbsp;<span class="ident" id="6150374">ftyp</span><span class="op" id="6150378">,</span>&nbsp;<span class="ident" id="6150380">isFtyp</span>&nbsp;<span class="op" id="6150387">:=</span>&nbsp;<span class="ident" id="6150390"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150391">.</span><span class="ident" id="6150392">Type</span><span class="op" id="6150396">.</span><span class="op" id="6150397">(</span><span class="op" id="6150398">*</span><span class="ident" id="6150399"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6150402">.</span><span class="ident" id="6150403">FuncType</span><span class="op" id="6150411">)</span><span class="op" id="6150412">;</span>&nbsp;<span class="ident" id="6150414"><a href="/go/printer/nodes.go.html#6150380">isFtyp</a></span>&nbsp;<span class="op" id="6150421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6150427">//&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150441"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150442">.</span><span class="ident" id="6150443">expr</span><span class="op" id="6150447">(</span><span class="ident" id="6150448"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150449">.</span><span class="ident" id="6150450">Names</span><span class="op" id="6150455">[</span><span class="num" id="6150456">0</span><span class="op" id="6150457">]</span><span class="op" id="6150458">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150464"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150465">.</span><span class="ident" id="6150466">signature</span><span class="op" id="6150475">(</span><span class="ident" id="6150476"><a href="/go/printer/nodes.go.html#6150374">ftyp</a></span><span class="op" id="6150480">.</span><span class="ident" id="6150481">Params</span><span class="op" id="6150487">,</span>&nbsp;<span class="ident" id="6150489"><a href="/go/printer/nodes.go.html#6150374">ftyp</a></span><span class="op" id="6150493">.</span><span class="ident" id="6150494">Results</span><span class="op" id="6150501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150506">}</span>&nbsp;<span class="keyword" id="6150508">else</span>&nbsp;<span class="op" id="6150513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6150519">//&nbsp;embedded&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150545"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150546">.</span><span class="ident" id="6150547">expr</span><span class="op" id="6150551">(</span><span class="ident" id="6150552"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150553">.</span><span class="ident" id="6150554">Type</span><span class="op" id="6150558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150563">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150568"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150569">.</span><span class="ident" id="6150570">setComment</span><span class="op" id="6150580">(</span><span class="ident" id="6150581"><a href="/go/printer/nodes.go.html#6150215">f</a></span><span class="op" id="6150582">.</span><span class="ident" id="6150583">Comment</span><span class="op" id="6150590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150598">if</span>&nbsp;<span class="ident" id="6150601"><a href="/go/printer/nodes.go.html#6148069">isIncomplete</a></span>&nbsp;<span class="op" id="6150614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6150619">if</span>&nbsp;<span class="builtinfunc" id="6150622">len</span><span class="op" id="6150625">(</span><span class="ident" id="6150626"><a href="/go/printer/nodes.go.html#6148117">list</a></span><span class="op" id="6150630">)</span>&nbsp;<span class="op" id="6150632">&gt;</span>&nbsp;<span class="num" id="6150634">0</span>&nbsp;<span class="op" id="6150636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150642"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150643">.</span><span class="builtinfunc" id="6150644">print</span><span class="op" id="6150649">(</span><span class="ident" id="6150650"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6150658">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150668"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150669">.</span><span class="ident" id="6150670">flush</span><span class="op" id="6150675">(</span><span class="ident" id="6150676"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150677">.</span><span class="ident" id="6150678">posFor</span><span class="op" id="6150684">(</span><span class="ident" id="6150685"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6150691">)</span><span class="op" id="6150692">,</span>&nbsp;<span class="ident" id="6150694"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6150699">.</span><span class="ident" id="6150700">RBRACE</span><span class="op" id="6150706">)</span>&nbsp;<span class="comment" id="6150708">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150760"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150761">.</span><span class="ident" id="6150762">setLineComment</span><span class="op" id="6150776">(</span><span class="string" id="6150777">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;methods&#34;</span><span class="op" id="6150821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6150829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6150832"><a href="/go/printer/nodes.go.html#6148014">p</a></span><span class="op" id="6150833">.</span><span class="builtinfunc" id="6150834">print</span><span class="op" id="6150839">(</span><span class="ident" id="6150840"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6150848">,</span>&nbsp;<span class="ident" id="6150850"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6150858">,</span>&nbsp;<span class="ident" id="6150860"><a href="/go/printer/nodes.go.html#6148138">rbrace</a></span><span class="op" id="6150866">,</span>&nbsp;<span class="ident" id="6150868"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6150873">.</span><span class="ident" id="6150874">RBRACE</span><span class="op" id="6150880">)</span><br>
<span class="lineno"></span><span class="op" id="6150882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6150885">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">505</span><span class="comment" id="6150965">//&nbsp;Expressions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6150981">func</span>&nbsp;<span class="ident" id="6150986">walkBinary</span><span class="op" id="6150996">(</span><span class="ident" id="6150997">e</span>&nbsp;<span class="op" id="6150999">*</span><span class="ident" id="6151000"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6151003">.</span><span class="ident" id="6151004">BinaryExpr</span><span class="op" id="6151014">)</span>&nbsp;<span class="op" id="6151016">(</span><span class="ident" id="6151017">has4</span><span class="op" id="6151021">,</span>&nbsp;<span class="ident" id="6151023">has5</span>&nbsp;<span class="builtintype" id="6151028">bool</span><span class="op" id="6151032">,</span>&nbsp;<span class="ident" id="6151034">maxProblem</span>&nbsp;<span class="builtintype" id="6151045">int</span><span class="op" id="6151048">)</span>&nbsp;<span class="op" id="6151050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151053">switch</span>&nbsp;<span class="ident" id="6151060"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151061">.</span><span class="ident" id="6151062">Op</span><span class="op" id="6151064">.</span><span class="ident" id="6151065">Precedence</span><span class="op" id="6151075">(</span><span class="op" id="6151076">)</span>&nbsp;<span class="op" id="6151078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151081">case</span>&nbsp;<span class="num" id="6151086">4</span><span class="op" id="6151087">:</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151091"><a href="/go/printer/nodes.go.html#6151017">has4</a></span>&nbsp;<span class="op" id="6151096">=</span>&nbsp;<span class="ident" id="6151098">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151104">case</span>&nbsp;<span class="num" id="6151109">5</span><span class="op" id="6151110">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151114"><a href="/go/printer/nodes.go.html#6151023">has5</a></span>&nbsp;<span class="op" id="6151119">=</span>&nbsp;<span class="ident" id="6151121">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151131">switch</span>&nbsp;<span class="ident" id="6151138">l</span>&nbsp;<span class="op" id="6151140">:=</span>&nbsp;<span class="ident" id="6151143"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151144">.</span><span class="ident" id="6151145">X</span><span class="op" id="6151146">.</span><span class="op" id="6151147">(</span><span class="keyword" id="6151148">type</span><span class="op" id="6151152">)</span>&nbsp;<span class="op" id="6151154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151157">case</span>&nbsp;<span class="op" id="6151162">*</span><span class="ident" id="6151163"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6151166">.</span><span class="ident" id="6151167">BinaryExpr</span><span class="op" id="6151177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151181">if</span>&nbsp;<span class="ident" id="6151184"><a href="/go/printer/nodes.go.html#6151138">l</a></span><span class="op" id="6151185">.</span><span class="ident" id="6151186">Op</span><span class="op" id="6151188">.</span><span class="ident" id="6151189">Precedence</span><span class="op" id="6151199">(</span><span class="op" id="6151200">)</span>&nbsp;<span class="op" id="6151202">&lt;</span>&nbsp;<span class="ident" id="6151204"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151205">.</span><span class="ident" id="6151206">Op</span><span class="op" id="6151208">.</span><span class="ident" id="6151209">Precedence</span><span class="op" id="6151219">(</span><span class="op" id="6151220">)</span>&nbsp;<span class="op" id="6151222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151227">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151258">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151314">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151326">h4</span><span class="op" id="6151328">,</span>&nbsp;<span class="ident" id="6151330">h5</span><span class="op" id="6151332">,</span>&nbsp;<span class="ident" id="6151334">mp</span>&nbsp;<span class="op" id="6151337">:=</span>&nbsp;<span class="ident" id="6151340"><a href="/go/printer/nodes.go.html#6150986">walkBinary</a></span><span class="op" id="6151350">(</span><span class="ident" id="6151351"><a href="/go/printer/nodes.go.html#6151138">l</a></span><span class="op" id="6151352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151356"><a href="/go/printer/nodes.go.html#6151017">has4</a></span>&nbsp;<span class="op" id="6151361">=</span>&nbsp;<span class="ident" id="6151363"><a href="/go/printer/nodes.go.html#6151017">has4</a></span>&nbsp;<span class="op" id="6151368">||</span>&nbsp;<span class="ident" id="6151371"><a href="/go/printer/nodes.go.html#6151326">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151376"><a href="/go/printer/nodes.go.html#6151023">has5</a></span>&nbsp;<span class="op" id="6151381">=</span>&nbsp;<span class="ident" id="6151383"><a href="/go/printer/nodes.go.html#6151023">has5</a></span>&nbsp;<span class="op" id="6151388">||</span>&nbsp;<span class="ident" id="6151391"><a href="/go/printer/nodes.go.html#6151330">h5</a></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151396">if</span>&nbsp;<span class="ident" id="6151399"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151410">&lt;</span>&nbsp;<span class="ident" id="6151412"><a href="/go/printer/nodes.go.html#6151334">mp</a></span>&nbsp;<span class="op" id="6151415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151420"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151431">=</span>&nbsp;<span class="ident" id="6151433"><a href="/go/printer/nodes.go.html#6151334">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151445">switch</span>&nbsp;<span class="ident" id="6151452">r</span>&nbsp;<span class="op" id="6151454">:=</span>&nbsp;<span class="ident" id="6151457"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151458">.</span><span class="ident" id="6151459">Y</span><span class="op" id="6151460">.</span><span class="op" id="6151461">(</span><span class="keyword" id="6151462">type</span><span class="op" id="6151466">)</span>&nbsp;<span class="op" id="6151468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151471">case</span>&nbsp;<span class="op" id="6151476">*</span><span class="ident" id="6151477"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6151480">.</span><span class="ident" id="6151481">BinaryExpr</span><span class="op" id="6151491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151495">if</span>&nbsp;<span class="ident" id="6151498"><a href="/go/printer/nodes.go.html#6151452">r</a></span><span class="op" id="6151499">.</span><span class="ident" id="6151500">Op</span><span class="op" id="6151502">.</span><span class="ident" id="6151503">Precedence</span><span class="op" id="6151513">(</span><span class="op" id="6151514">)</span>&nbsp;<span class="op" id="6151516">&lt;=</span>&nbsp;<span class="ident" id="6151519"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151520">.</span><span class="ident" id="6151521">Op</span><span class="op" id="6151523">.</span><span class="ident" id="6151524">Precedence</span><span class="op" id="6151534">(</span><span class="op" id="6151535">)</span>&nbsp;<span class="op" id="6151537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151542">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6151573">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151629">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151641">h4</span><span class="op" id="6151643">,</span>&nbsp;<span class="ident" id="6151645">h5</span><span class="op" id="6151647">,</span>&nbsp;<span class="ident" id="6151649">mp</span>&nbsp;<span class="op" id="6151652">:=</span>&nbsp;<span class="ident" id="6151655"><a href="/go/printer/nodes.go.html#6150986">walkBinary</a></span><span class="op" id="6151665">(</span><span class="ident" id="6151666"><a href="/go/printer/nodes.go.html#6151452">r</a></span><span class="op" id="6151667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151671"><a href="/go/printer/nodes.go.html#6151017">has4</a></span>&nbsp;<span class="op" id="6151676">=</span>&nbsp;<span class="ident" id="6151678"><a href="/go/printer/nodes.go.html#6151017">has4</a></span>&nbsp;<span class="op" id="6151683">||</span>&nbsp;<span class="ident" id="6151686"><a href="/go/printer/nodes.go.html#6151641">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151691"><a href="/go/printer/nodes.go.html#6151023">has5</a></span>&nbsp;<span class="op" id="6151696">=</span>&nbsp;<span class="ident" id="6151698"><a href="/go/printer/nodes.go.html#6151023">has5</a></span>&nbsp;<span class="op" id="6151703">||</span>&nbsp;<span class="ident" id="6151706"><a href="/go/printer/nodes.go.html#6151645">h5</a></span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151711">if</span>&nbsp;<span class="ident" id="6151714"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151725">&lt;</span>&nbsp;<span class="ident" id="6151727"><a href="/go/printer/nodes.go.html#6151649">mp</a></span>&nbsp;<span class="op" id="6151730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151735"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151746">=</span>&nbsp;<span class="ident" id="6151748"><a href="/go/printer/nodes.go.html#6151649">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151757">case</span>&nbsp;<span class="op" id="6151762">*</span><span class="ident" id="6151763"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6151766">.</span><span class="ident" id="6151767">StarExpr</span><span class="op" id="6151775">:</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151779">if</span>&nbsp;<span class="ident" id="6151782"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151783">.</span><span class="ident" id="6151784">Op</span>&nbsp;<span class="op" id="6151787">==</span>&nbsp;<span class="ident" id="6151790"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6151795">.</span><span class="ident" id="6151796">QUO</span>&nbsp;<span class="op" id="6151800">{</span>&nbsp;<span class="comment" id="6151802">//&nbsp;`*/`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151813"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151824">=</span>&nbsp;<span class="num" id="6151826">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6151830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151834">case</span>&nbsp;<span class="op" id="6151839">*</span><span class="ident" id="6151840"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6151843">.</span><span class="ident" id="6151844">UnaryExpr</span><span class="op" id="6151853">:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151857">switch</span>&nbsp;<span class="ident" id="6151864"><a href="/go/printer/nodes.go.html#6150997">e</a></span><span class="op" id="6151865">.</span><span class="ident" id="6151866">Op</span><span class="op" id="6151868">.</span><span class="ident" id="6151869">String</span><span class="op" id="6151875">(</span><span class="op" id="6151876">)</span>&nbsp;<span class="op" id="6151878">+</span>&nbsp;<span class="ident" id="6151880"><a href="/go/printer/nodes.go.html#6151452">r</a></span><span class="op" id="6151881">.</span><span class="ident" id="6151882">Op</span><span class="op" id="6151884">.</span><span class="ident" id="6151885">String</span><span class="op" id="6151891">(</span><span class="op" id="6151892">)</span>&nbsp;<span class="op" id="6151894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151898">case</span>&nbsp;<span class="string" id="6151903">&#34;/*&#34;</span><span class="op" id="6151907">,</span>&nbsp;<span class="string" id="6151909">&#34;&amp;&amp;&#34;</span><span class="op" id="6151913">,</span>&nbsp;<span class="string" id="6151915">&#34;&amp;^&#34;</span><span class="op" id="6151919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151924"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151935">=</span>&nbsp;<span class="num" id="6151937">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151941">case</span>&nbsp;<span class="string" id="6151946">&#34;++&#34;</span><span class="op" id="6151950">,</span>&nbsp;<span class="string" id="6151952">&#34;--&#34;</span><span class="op" id="6151956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6151961">if</span>&nbsp;<span class="ident" id="6151964"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151975">&lt;</span>&nbsp;<span class="num" id="6151977">4</span>&nbsp;<span class="op" id="6151979">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6151985"><a href="/go/printer/nodes.go.html#6151034">maxProblem</a></span>&nbsp;<span class="op" id="6151996">=</span>&nbsp;<span class="num" id="6151998">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152013">return</span><br>
<span class="lineno">560</span><span class="op" id="6152020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6152023">func</span>&nbsp;<span class="ident" id="6152028">cutoff</span><span class="op" id="6152034">(</span><span class="ident" id="6152035">e</span>&nbsp;<span class="op" id="6152037">*</span><span class="ident" id="6152038"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6152041">.</span><span class="ident" id="6152042">BinaryExpr</span><span class="op" id="6152052">,</span>&nbsp;<span class="ident" id="6152054">depth</span>&nbsp;<span class="builtintype" id="6152060">int</span><span class="op" id="6152063">)</span>&nbsp;<span class="builtintype" id="6152065">int</span>&nbsp;<span class="op" id="6152069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152072">has4</span><span class="op" id="6152076">,</span>&nbsp;<span class="ident" id="6152078">has5</span><span class="op" id="6152082">,</span>&nbsp;<span class="ident" id="6152084">maxProblem</span>&nbsp;<span class="op" id="6152095">:=</span>&nbsp;<span class="ident" id="6152098"><a href="/go/printer/nodes.go.html#6150986">walkBinary</a></span><span class="op" id="6152108">(</span><span class="ident" id="6152109"><a href="/go/printer/nodes.go.html#6152035">e</a></span><span class="op" id="6152110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152113">if</span>&nbsp;<span class="ident" id="6152116"><a href="/go/printer/nodes.go.html#6152084">maxProblem</a></span>&nbsp;<span class="op" id="6152127">&gt;</span>&nbsp;<span class="num" id="6152129">0</span>&nbsp;<span class="op" id="6152131">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152135">return</span>&nbsp;<span class="ident" id="6152142"><a href="/go/printer/nodes.go.html#6152084">maxProblem</a></span>&nbsp;<span class="op" id="6152153">+</span>&nbsp;<span class="num" id="6152155">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152161">if</span>&nbsp;<span class="ident" id="6152164"><a href="/go/printer/nodes.go.html#6152072">has4</a></span>&nbsp;<span class="op" id="6152169">&amp;&amp;</span>&nbsp;<span class="ident" id="6152172"><a href="/go/printer/nodes.go.html#6152078">has5</a></span>&nbsp;<span class="op" id="6152177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152181">if</span>&nbsp;<span class="ident" id="6152184"><a href="/go/printer/nodes.go.html#6152054">depth</a></span>&nbsp;<span class="op" id="6152190">==</span>&nbsp;<span class="num" id="6152193">1</span>&nbsp;<span class="op" id="6152195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152200">return</span>&nbsp;<span class="num" id="6152207">5</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152215">return</span>&nbsp;<span class="num" id="6152222">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152228">if</span>&nbsp;<span class="ident" id="6152231"><a href="/go/printer/nodes.go.html#6152054">depth</a></span>&nbsp;<span class="op" id="6152237">==</span>&nbsp;<span class="num" id="6152240">1</span>&nbsp;<span class="op" id="6152242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152246">return</span>&nbsp;<span class="num" id="6152253">6</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152259">return</span>&nbsp;<span class="num" id="6152266">4</span><br>
<span class="lineno"></span><span class="op" id="6152268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6152271">func</span>&nbsp;<span class="ident" id="6152276">diffPrec</span><span class="op" id="6152284">(</span><span class="ident" id="6152285">expr</span>&nbsp;<span class="ident" id="6152290"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6152293">.</span><span class="ident" id="6152294">Expr</span><span class="op" id="6152298">,</span>&nbsp;<span class="ident" id="6152300">prec</span>&nbsp;<span class="builtintype" id="6152305">int</span><span class="op" id="6152308">)</span>&nbsp;<span class="builtintype" id="6152310">int</span>&nbsp;<span class="op" id="6152314">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152317">x</span><span class="op" id="6152318">,</span>&nbsp;<span class="ident" id="6152320">ok</span>&nbsp;<span class="op" id="6152323">:=</span>&nbsp;<span class="ident" id="6152326"><a href="/go/printer/nodes.go.html#6152285">expr</a></span><span class="op" id="6152330">.</span><span class="op" id="6152331">(</span><span class="op" id="6152332">*</span><span class="ident" id="6152333"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6152336">.</span><span class="ident" id="6152337">BinaryExpr</span><span class="op" id="6152347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152350">if</span>&nbsp;<span class="op" id="6152353">!</span><span class="ident" id="6152354"><a href="/go/printer/nodes.go.html#6152320">ok</a></span>&nbsp;<span class="op" id="6152357">||</span>&nbsp;<span class="ident" id="6152360"><a href="/go/printer/nodes.go.html#6152300">prec</a></span>&nbsp;<span class="op" id="6152365">!=</span>&nbsp;<span class="ident" id="6152368"><a href="/go/printer/nodes.go.html#6152317">x</a></span><span class="op" id="6152369">.</span><span class="ident" id="6152370">Op</span><span class="op" id="6152372">.</span><span class="ident" id="6152373">Precedence</span><span class="op" id="6152383">(</span><span class="op" id="6152384">)</span>&nbsp;<span class="op" id="6152386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152390">return</span>&nbsp;<span class="num" id="6152397">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152403">return</span>&nbsp;<span class="num" id="6152410">0</span><br>
<span class="lineno">585</span><span class="op" id="6152412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6152415">func</span>&nbsp;<span class="ident" id="6152420">reduceDepth</span><span class="op" id="6152431">(</span><span class="ident" id="6152432">depth</span>&nbsp;<span class="builtintype" id="6152438">int</span><span class="op" id="6152441">)</span>&nbsp;<span class="builtintype" id="6152443">int</span>&nbsp;<span class="op" id="6152447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152450"><a href="/go/printer/nodes.go.html#6152432">depth</a></span><span class="op" id="6152455">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152459">if</span>&nbsp;<span class="ident" id="6152462"><a href="/go/printer/nodes.go.html#6152432">depth</a></span>&nbsp;<span class="op" id="6152468">&lt;</span>&nbsp;<span class="num" id="6152470">1</span>&nbsp;<span class="op" id="6152472">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6152476"><a href="/go/printer/nodes.go.html#6152432">depth</a></span>&nbsp;<span class="op" id="6152482">=</span>&nbsp;<span class="num" id="6152484">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6152487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6152490">return</span>&nbsp;<span class="ident" id="6152497"><a href="/go/printer/nodes.go.html#6152432">depth</a></span><br>
<span class="lineno"></span><span class="op" id="6152503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="6152506">//&nbsp;Format&nbsp;the&nbsp;binary&nbsp;expression:&nbsp;decide&nbsp;the&nbsp;cutoff&nbsp;and&nbsp;then&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6152574">//&nbsp;Let&#39;s&nbsp;call&nbsp;depth&nbsp;==&nbsp;1&nbsp;Normal&nbsp;mode,&nbsp;and&nbsp;depth&nbsp;&gt;&nbsp;1&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="6152640">//&nbsp;(Algorithm&nbsp;suggestion&nbsp;by&nbsp;Russ&nbsp;Cox.)</span><br>
<span class="lineno"></span><span class="comment" id="6152679">//</span><br>
<span class="lineno"></span><span class="comment" id="6152682">//&nbsp;The&nbsp;precedences&nbsp;are:</span><br>
<span class="lineno">600</span><span class="comment" id="6152706">//&nbsp;&nbsp;&nbsp;&nbsp5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;/&nbsp;&nbsp;%&nbsp;&nbsp;&lt;&lt;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&amp;&nbsp;&nbsp;&amp;^</span><br>
<span class="lineno"></span><span class="comment" id="6152746">//&nbsp;&nbsp;&nbsp;&nbsp4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;-&nbsp;&nbsp;|&nbsp;&nbsp;^</span><br>
<span class="lineno"></span><span class="comment" id="6152774">//&nbsp;&nbsp;&nbsp;&nbsp3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;&nbsp;!=&nbsp;&nbsp;&lt;&nbsp;&nbsp;&lt;=&nbsp;&nbsp;&gt;&nbsp;&nbsp;&gt;=</span><br>
<span class="lineno"></span><span class="comment" id="6152812">//&nbsp;&nbsp;&nbsp;&nbsp2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;</span><br>
<span class="lineno"></span><span class="comment" id="6152832">//&nbsp;&nbsp;&nbsp;&nbsp1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||</span><br>
<span class="lineno">605</span><span class="comment" id="6152852">//</span><br>
<span class="lineno"></span><span class="comment" id="6152855">//&nbsp;The&nbsp;only&nbsp;decision&nbsp;is&nbsp;whether&nbsp;there&nbsp;will&nbsp;be&nbsp;spaces&nbsp;around&nbsp;levels&nbsp;4&nbsp;and&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="6152931">//&nbsp;There&nbsp;are&nbsp;never&nbsp;spaces&nbsp;at&nbsp;level&nbsp;6&nbsp;(unary),&nbsp;and&nbsp;always&nbsp;spaces&nbsp;at&nbsp;levels&nbsp;3&nbsp;and&nbsp;below.</span><br>
<span class="lineno"></span><span class="comment" id="6153018">//</span><br>
<span class="lineno"></span><span class="comment" id="6153021">//&nbsp;To&nbsp;choose&nbsp;the&nbsp;cutoff,&nbsp;look&nbsp;at&nbsp;the&nbsp;whole&nbsp;expression&nbsp;but&nbsp;excluding&nbsp;primary</span><br>
<span class="lineno">610</span><span class="comment" id="6153097">//&nbsp;expressions&nbsp;(function&nbsp;calls,&nbsp;parenthesized&nbsp;exprs),&nbsp;and&nbsp;apply&nbsp;these&nbsp;rules:</span><br>
<span class="lineno"></span><span class="comment" id="6153174">//</span><br>
<span class="lineno"></span><span class="comment" id="6153177">//&nbsp;&nbsp;&nbsp;&nbsp1)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;binary&nbsp;operator&nbsp;with&nbsp;a&nbsp;right&nbsp;side&nbsp;unary&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="6153245">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;that&nbsp;would&nbsp;clash&nbsp;without&nbsp;a&nbsp;space,&nbsp;the&nbsp;cutoff&nbsp;must&nbsp;be&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="6153316">//</span><br>
<span class="lineno">615</span><span class="comment" id="6153319">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="6153328">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&amp;&amp;&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="6153337">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&amp;^&nbsp;&nbsp;&nbsp;&nbsp6</span><br>
<span class="lineno"></span><span class="comment" id="6153346">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp++&nbsp;&nbsp;&nbsp;&nbsp5</span><br>
<span class="lineno"></span><span class="comment" id="6153355">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp--&nbsp;&nbsp;&nbsp;&nbsp5</span><br>
<span class="lineno">620</span><span class="comment" id="6153364">//</span><br>
<span class="lineno"></span><span class="comment" id="6153367">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Comparison&nbsp;operators&nbsp;always&nbsp;have&nbsp;spaces&nbsp;around&nbsp;them.)</span><br>
<span class="lineno"></span><span class="comment" id="6153433">//</span><br>
<span class="lineno"></span><span class="comment" id="6153436">//&nbsp;&nbsp;&nbsp;&nbsp2)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;mix&nbsp;of&nbsp;level&nbsp;5&nbsp;and&nbsp;level&nbsp;4&nbsp;operators,&nbsp;then&nbsp;the&nbsp;cutoff</span><br>
<span class="lineno"></span><span class="comment" id="6153510">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;is&nbsp;5&nbsp;(use&nbsp;spaces&nbsp;to&nbsp;distinguish&nbsp;precedence)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno">625</span><span class="comment" id="6153575">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="6153623">//</span><br>
<span class="lineno"></span><span class="comment" id="6153626">//&nbsp;&nbsp;&nbsp;&nbsp3)&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;level&nbsp;4&nbsp;operators&nbsp;or&nbsp;no&nbsp;level&nbsp;5&nbsp;operators,&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6153700">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;cutoff&nbsp;is&nbsp;6&nbsp;(always&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno"></span><span class="comment" id="6153753">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno">630</span><span class="comment" id="6153801">//</span><br>
<span class="lineno"></span><span class="keyword" id="6153804">func</span>&nbsp;<span class="op" id="6153809">(</span><span class="ident" id="6153810">p</span>&nbsp;<span class="op" id="6153812">*</span><span class="ident" id="6153813"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6153820">)</span>&nbsp;<span class="ident" id="6153822">binaryExpr</span><span class="op" id="6153832">(</span><span class="ident" id="6153833">x</span>&nbsp;<span class="op" id="6153835">*</span><span class="ident" id="6153836"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6153839">.</span><span class="ident" id="6153840">BinaryExpr</span><span class="op" id="6153850">,</span>&nbsp;<span class="ident" id="6153852">prec1</span><span class="op" id="6153857">,</span>&nbsp;<span class="ident" id="6153859">cutoff</span><span class="op" id="6153865">,</span>&nbsp;<span class="ident" id="6153867">depth</span>&nbsp;<span class="builtintype" id="6153873">int</span><span class="op" id="6153876">)</span>&nbsp;<span class="op" id="6153878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6153881">prec</span>&nbsp;<span class="op" id="6153886">:=</span>&nbsp;<span class="ident" id="6153889"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6153890">.</span><span class="ident" id="6153891">Op</span><span class="op" id="6153893">.</span><span class="ident" id="6153894">Precedence</span><span class="op" id="6153904">(</span><span class="op" id="6153905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6153908">if</span>&nbsp;<span class="ident" id="6153911"><a href="/go/printer/nodes.go.html#6153881">prec</a></span>&nbsp;<span class="op" id="6153916">&lt;</span>&nbsp;<span class="ident" id="6153918"><a href="/go/printer/nodes.go.html#6153852">prec1</a></span>&nbsp;<span class="op" id="6153924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153928">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6153952">//&nbsp;Note:&nbsp;The&nbsp;parser&nbsp;inserts&nbsp;an&nbsp;ast.ParenExpr&nbsp;node;&nbsp;thus&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154020">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;only&nbsp;occur&nbsp;if&nbsp;the&nbsp;AST&nbsp;is&nbsp;created&nbsp;in&nbsp;a&nbsp;different&nbsp;way.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154088"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154089">.</span><span class="builtinfunc" id="6154090">print</span><span class="op" id="6154095">(</span><span class="ident" id="6154096"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6154101">.</span><span class="ident" id="6154102">LPAREN</span><span class="op" id="6154108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154112"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154113">.</span><span class="ident" id="6154114">expr0</span><span class="op" id="6154119">(</span><span class="ident" id="6154120"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154121">,</span>&nbsp;<span class="ident" id="6154123"><a href="/go/printer/nodes.go.html#6152420">reduceDepth</a></span><span class="op" id="6154134">(</span><span class="ident" id="6154135"><a href="/go/printer/nodes.go.html#6153867">depth</a></span><span class="op" id="6154140">)</span><span class="op" id="6154141">)</span>&nbsp;<span class="comment" id="6154143">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154184"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154185">.</span><span class="builtinfunc" id="6154186">print</span><span class="op" id="6154191">(</span><span class="ident" id="6154192"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6154197">.</span><span class="ident" id="6154198">RPAREN</span><span class="op" id="6154204">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154208">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154220">printBlank</span>&nbsp;<span class="op" id="6154231">:=</span>&nbsp;<span class="ident" id="6154234"><a href="/go/printer/nodes.go.html#6153881">prec</a></span>&nbsp;<span class="op" id="6154239">&lt;</span>&nbsp;<span class="ident" id="6154241"><a href="/go/printer/nodes.go.html#6153859">cutoff</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154250">ws</span>&nbsp;<span class="op" id="6154253">:=</span>&nbsp;<span class="ident" id="6154256"><a href="/go/printer/printer.go.html#6179179">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154264"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154265">.</span><span class="ident" id="6154266">expr1</span><span class="op" id="6154271">(</span><span class="ident" id="6154272"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154273">.</span><span class="ident" id="6154274">X</span><span class="op" id="6154275">,</span>&nbsp;<span class="ident" id="6154277"><a href="/go/printer/nodes.go.html#6153881">prec</a></span><span class="op" id="6154281">,</span>&nbsp;<span class="ident" id="6154283"><a href="/go/printer/nodes.go.html#6153867">depth</a></span><span class="op" id="6154288">+</span><span class="ident" id="6154289"><a href="/go/printer/nodes.go.html#6152276">diffPrec</a></span><span class="op" id="6154297">(</span><span class="ident" id="6154298"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154299">.</span><span class="ident" id="6154300">X</span><span class="op" id="6154301">,</span>&nbsp;<span class="ident" id="6154303"><a href="/go/printer/nodes.go.html#6153881">prec</a></span><span class="op" id="6154307">)</span><span class="op" id="6154308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154311">if</span>&nbsp;<span class="ident" id="6154314"><a href="/go/printer/nodes.go.html#6154220">printBlank</a></span>&nbsp;<span class="op" id="6154325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154329"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154330">.</span><span class="builtinfunc" id="6154331">print</span><span class="op" id="6154336">(</span><span class="ident" id="6154337"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6154342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154345">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154348">xline</span>&nbsp;<span class="op" id="6154354">:=</span>&nbsp;<span class="ident" id="6154357"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154358">.</span><span class="ident" id="6154359">pos</span><span class="op" id="6154362">.</span><span class="ident" id="6154363">Line</span>&nbsp;<span class="comment" id="6154368">//&nbsp;before&nbsp;the&nbsp;operator&nbsp;(it&nbsp;may&nbsp;be&nbsp;on&nbsp;the&nbsp;next&nbsp;line!)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154422">yline</span>&nbsp;<span class="op" id="6154428">:=</span>&nbsp;<span class="ident" id="6154431"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154432">.</span><span class="ident" id="6154433">lineFor</span><span class="op" id="6154440">(</span><span class="ident" id="6154441"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154442">.</span><span class="ident" id="6154443">Y</span><span class="op" id="6154444">.</span><span class="ident" id="6154445">Pos</span><span class="op" id="6154448">(</span><span class="op" id="6154449">)</span><span class="op" id="6154450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154453"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154454">.</span><span class="builtinfunc" id="6154455">print</span><span class="op" id="6154460">(</span><span class="ident" id="6154461"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154462">.</span><span class="ident" id="6154463">OpPos</span><span class="op" id="6154468">,</span>&nbsp;<span class="ident" id="6154470"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154471">.</span><span class="ident" id="6154472">Op</span><span class="op" id="6154474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154477">if</span>&nbsp;<span class="ident" id="6154480"><a href="/go/printer/nodes.go.html#6154348">xline</a></span>&nbsp;<span class="op" id="6154486">!=</span>&nbsp;<span class="ident" id="6154489"><a href="/go/printer/nodes.go.html#6154422">yline</a></span>&nbsp;<span class="op" id="6154495">&amp;&amp;</span>&nbsp;<span class="ident" id="6154498"><a href="/go/printer/nodes.go.html#6154348">xline</a></span>&nbsp;<span class="op" id="6154504">&gt;</span>&nbsp;<span class="num" id="6154506">0</span>&nbsp;<span class="op" id="6154508">&amp;&amp;</span>&nbsp;<span class="ident" id="6154511"><a href="/go/printer/nodes.go.html#6154422">yline</a></span>&nbsp;<span class="op" id="6154517">&gt;</span>&nbsp;<span class="num" id="6154519">0</span>&nbsp;<span class="op" id="6154521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154525">//&nbsp;at&nbsp;least&nbsp;one&nbsp;line&nbsp;break,&nbsp;but&nbsp;respect&nbsp;an&nbsp;extra&nbsp;empty&nbsp;line</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6154587">//&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154606">if</span>&nbsp;<span class="ident" id="6154609"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154610">.</span><span class="ident" id="6154611">linebreak</span><span class="op" id="6154620">(</span><span class="ident" id="6154621"><a href="/go/printer/nodes.go.html#6154422">yline</a></span><span class="op" id="6154626">,</span>&nbsp;<span class="num" id="6154628">1</span><span class="op" id="6154629">,</span>&nbsp;<span class="ident" id="6154631"><a href="/go/printer/nodes.go.html#6154250">ws</a></span><span class="op" id="6154633">,</span>&nbsp;<span class="ident" id="6154635">true</span><span class="op" id="6154639">)</span>&nbsp;<span class="op" id="6154641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154646"><a href="/go/printer/nodes.go.html#6154250">ws</a></span>&nbsp;<span class="op" id="6154649">=</span>&nbsp;<span class="ident" id="6154651"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154661"><a href="/go/printer/nodes.go.html#6154220">printBlank</a></span>&nbsp;<span class="op" id="6154672">=</span>&nbsp;<span class="ident" id="6154674">false</span>&nbsp;<span class="comment" id="6154680">//&nbsp;no&nbsp;blank&nbsp;after&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154711">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154717">if</span>&nbsp;<span class="ident" id="6154720"><a href="/go/printer/nodes.go.html#6154220">printBlank</a></span>&nbsp;<span class="op" id="6154731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154735"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154736">.</span><span class="builtinfunc" id="6154737">print</span><span class="op" id="6154742">(</span><span class="ident" id="6154743"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6154748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154754"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154755">.</span><span class="ident" id="6154756">expr1</span><span class="op" id="6154761">(</span><span class="ident" id="6154762"><a href="/go/printer/nodes.go.html#6153833">x</a></span><span class="op" id="6154763">.</span><span class="ident" id="6154764">Y</span><span class="op" id="6154765">,</span>&nbsp;<span class="ident" id="6154767"><a href="/go/printer/nodes.go.html#6153881">prec</a></span><span class="op" id="6154771">+</span><span class="num" id="6154772">1</span><span class="op" id="6154773">,</span>&nbsp;<span class="ident" id="6154775"><a href="/go/printer/nodes.go.html#6153867">depth</a></span><span class="op" id="6154780">+</span><span class="num" id="6154781">1</span><span class="op" id="6154782">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154785">if</span>&nbsp;<span class="ident" id="6154788"><a href="/go/printer/nodes.go.html#6154250">ws</a></span>&nbsp;<span class="op" id="6154791">==</span>&nbsp;<span class="ident" id="6154794"><a href="/go/printer/printer.go.html#6179038">ignore</a></span>&nbsp;<span class="op" id="6154801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154805"><a href="/go/printer/nodes.go.html#6153810">p</a></span><span class="op" id="6154806">.</span><span class="builtinfunc" id="6154807">print</span><span class="op" id="6154812">(</span><span class="ident" id="6154813"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6154821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6154824">}</span><br>
<span class="lineno"></span><span class="op" id="6154826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">670</span><span class="keyword" id="6154829">func</span>&nbsp;<span class="ident" id="6154834">isBinary</span><span class="op" id="6154842">(</span><span class="ident" id="6154843">expr</span>&nbsp;<span class="ident" id="6154848"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6154851">.</span><span class="ident" id="6154852">Expr</span><span class="op" id="6154856">)</span>&nbsp;<span class="builtintype" id="6154858">bool</span>&nbsp;<span class="op" id="6154863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154866">_</span><span class="op" id="6154867">,</span>&nbsp;<span class="ident" id="6154869">ok</span>&nbsp;<span class="op" id="6154872">:=</span>&nbsp;<span class="ident" id="6154875"><a href="/go/printer/nodes.go.html#6154843">expr</a></span><span class="op" id="6154879">.</span><span class="op" id="6154880">(</span><span class="op" id="6154881">*</span><span class="ident" id="6154882"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6154885">.</span><span class="ident" id="6154886">BinaryExpr</span><span class="op" id="6154896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154899">return</span>&nbsp;<span class="ident" id="6154906"><a href="/go/printer/nodes.go.html#6154869">ok</a></span><br>
<span class="lineno"></span><span class="op" id="6154909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="6154912">func</span>&nbsp;<span class="op" id="6154917">(</span><span class="ident" id="6154918">p</span>&nbsp;<span class="op" id="6154920">*</span><span class="ident" id="6154921"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6154928">)</span>&nbsp;<span class="ident" id="6154930">expr1</span><span class="op" id="6154935">(</span><span class="ident" id="6154936">expr</span>&nbsp;<span class="ident" id="6154941"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6154944">.</span><span class="ident" id="6154945">Expr</span><span class="op" id="6154949">,</span>&nbsp;<span class="ident" id="6154951">prec1</span><span class="op" id="6154956">,</span>&nbsp;<span class="ident" id="6154958">depth</span>&nbsp;<span class="builtintype" id="6154964">int</span><span class="op" id="6154967">)</span>&nbsp;<span class="op" id="6154969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6154972"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6154973">.</span><span class="builtinfunc" id="6154974">print</span><span class="op" id="6154979">(</span><span class="ident" id="6154980"><a href="/go/printer/nodes.go.html#6154936">expr</a></span><span class="op" id="6154984">.</span><span class="ident" id="6154985">Pos</span><span class="op" id="6154988">(</span><span class="op" id="6154989">)</span><span class="op" id="6154990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6154994">switch</span>&nbsp;<span class="ident" id="6155001">x</span>&nbsp;<span class="op" id="6155003">:=</span>&nbsp;<span class="ident" id="6155006"><a href="/go/printer/nodes.go.html#6154936">expr</a></span><span class="op" id="6155010">.</span><span class="op" id="6155011">(</span><span class="keyword" id="6155012">type</span><span class="op" id="6155016">)</span>&nbsp;<span class="op" id="6155018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155021">case</span>&nbsp;<span class="op" id="6155026">*</span><span class="ident" id="6155027"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155030">.</span><span class="ident" id="6155031">BadExpr</span><span class="op" id="6155038">:</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155042"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155043">.</span><span class="builtinfunc" id="6155044">print</span><span class="op" id="6155049">(</span><span class="string" id="6155050">&#34;BadExpr&#34;</span><span class="op" id="6155059">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155063">case</span>&nbsp;<span class="op" id="6155068">*</span><span class="ident" id="6155069"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155072">.</span><span class="ident" id="6155073">Ident</span><span class="op" id="6155078">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155082"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155083">.</span><span class="builtinfunc" id="6155084">print</span><span class="op" id="6155089">(</span><span class="ident" id="6155090"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155091">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155095">case</span>&nbsp;<span class="op" id="6155100">*</span><span class="ident" id="6155101"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155104">.</span><span class="ident" id="6155105">BinaryExpr</span><span class="op" id="6155115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155119">if</span>&nbsp;<span class="ident" id="6155122"><a href="/go/printer/nodes.go.html#6154958">depth</a></span>&nbsp;<span class="op" id="6155128">&lt;</span>&nbsp;<span class="num" id="6155130">1</span>&nbsp;<span class="op" id="6155132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155137"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155138">.</span><span class="ident" id="6155139">internalError</span><span class="op" id="6155152">(</span><span class="string" id="6155153">&#34;depth&nbsp;&lt;&nbsp;1:&#34;</span><span class="op" id="6155165">,</span>&nbsp;<span class="ident" id="6155167"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6155172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155177"><a href="/go/printer/nodes.go.html#6154958">depth</a></span>&nbsp;<span class="op" id="6155183">=</span>&nbsp;<span class="num" id="6155185">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155189">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155193"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155194">.</span><span class="ident" id="6155195">binaryExpr</span><span class="op" id="6155205">(</span><span class="ident" id="6155206"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155207">,</span>&nbsp;<span class="ident" id="6155209"><a href="/go/printer/nodes.go.html#6154951">prec1</a></span><span class="op" id="6155214">,</span>&nbsp;<span class="ident" id="6155216"><a href="/go/printer/nodes.go.html#6152028">cutoff</a></span><span class="op" id="6155222">(</span><span class="ident" id="6155223"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155224">,</span>&nbsp;<span class="ident" id="6155226"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6155231">)</span><span class="op" id="6155232">,</span>&nbsp;<span class="ident" id="6155234"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6155239">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155243">case</span>&nbsp;<span class="op" id="6155248">*</span><span class="ident" id="6155249"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155252">.</span><span class="ident" id="6155253">KeyValueExpr</span><span class="op" id="6155265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155269"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155270">.</span><span class="ident" id="6155271">expr</span><span class="op" id="6155275">(</span><span class="ident" id="6155276"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155277">.</span><span class="ident" id="6155278">Key</span><span class="op" id="6155281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155285"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155286">.</span><span class="builtinfunc" id="6155287">print</span><span class="op" id="6155292">(</span><span class="ident" id="6155293"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155294">.</span><span class="ident" id="6155295">Colon</span><span class="op" id="6155300">,</span>&nbsp;<span class="ident" id="6155302"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155307">.</span><span class="ident" id="6155308">COLON</span><span class="op" id="6155313">,</span>&nbsp;<span class="ident" id="6155315"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6155320">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155324"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155325">.</span><span class="ident" id="6155326">expr</span><span class="op" id="6155330">(</span><span class="ident" id="6155331"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155332">.</span><span class="ident" id="6155333">Value</span><span class="op" id="6155338">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155342">case</span>&nbsp;<span class="op" id="6155347">*</span><span class="ident" id="6155348"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155351">.</span><span class="ident" id="6155352">StarExpr</span><span class="op" id="6155360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155364">const</span>&nbsp;<span class="ident" id="6155370">prec</span>&nbsp;<span class="op" id="6155375">=</span>&nbsp;<span class="ident" id="6155377"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155382">.</span><span class="ident" id="6155383">UnaryPrec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155395">if</span>&nbsp;<span class="ident" id="6155398"><a href="/go/printer/nodes.go.html#6155370">prec</a></span>&nbsp;<span class="op" id="6155403">&lt;</span>&nbsp;<span class="ident" id="6155405"><a href="/go/printer/nodes.go.html#6154951">prec1</a></span>&nbsp;<span class="op" id="6155411">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155416">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155441"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155442">.</span><span class="builtinfunc" id="6155443">print</span><span class="op" id="6155448">(</span><span class="ident" id="6155449"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155454">.</span><span class="ident" id="6155455">LPAREN</span><span class="op" id="6155461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155466"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155467">.</span><span class="builtinfunc" id="6155468">print</span><span class="op" id="6155473">(</span><span class="ident" id="6155474"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155479">.</span><span class="ident" id="6155480">MUL</span><span class="op" id="6155483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155488"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155489">.</span><span class="ident" id="6155490">expr</span><span class="op" id="6155494">(</span><span class="ident" id="6155495"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155496">.</span><span class="ident" id="6155497">X</span><span class="op" id="6155498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155503"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155504">.</span><span class="builtinfunc" id="6155505">print</span><span class="op" id="6155510">(</span><span class="ident" id="6155511"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155516">.</span><span class="ident" id="6155517">RPAREN</span><span class="op" id="6155523">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155527">}</span>&nbsp;<span class="keyword" id="6155529">else</span>&nbsp;<span class="op" id="6155534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155539">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155567"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155568">.</span><span class="builtinfunc" id="6155569">print</span><span class="op" id="6155574">(</span><span class="ident" id="6155575"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155580">.</span><span class="ident" id="6155581">MUL</span><span class="op" id="6155584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155589"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155590">.</span><span class="ident" id="6155591">expr</span><span class="op" id="6155595">(</span><span class="ident" id="6155596"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155597">.</span><span class="ident" id="6155598">X</span><span class="op" id="6155599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155603">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155607">case</span>&nbsp;<span class="op" id="6155612">*</span><span class="ident" id="6155613"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155616">.</span><span class="ident" id="6155617">UnaryExpr</span><span class="op" id="6155626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155630">const</span>&nbsp;<span class="ident" id="6155636">prec</span>&nbsp;<span class="op" id="6155641">=</span>&nbsp;<span class="ident" id="6155643"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155648">.</span><span class="ident" id="6155649">UnaryPrec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155661">if</span>&nbsp;<span class="ident" id="6155664"><a href="/go/printer/nodes.go.html#6155636">prec</a></span>&nbsp;<span class="op" id="6155669">&lt;</span>&nbsp;<span class="ident" id="6155671"><a href="/go/printer/nodes.go.html#6154951">prec1</a></span>&nbsp;<span class="op" id="6155677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155682">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155707"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155708">.</span><span class="builtinfunc" id="6155709">print</span><span class="op" id="6155714">(</span><span class="ident" id="6155715"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155720">.</span><span class="ident" id="6155721">LPAREN</span><span class="op" id="6155727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155732"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155733">.</span><span class="ident" id="6155734">expr</span><span class="op" id="6155738">(</span><span class="ident" id="6155739"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155745"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155746">.</span><span class="builtinfunc" id="6155747">print</span><span class="op" id="6155752">(</span><span class="ident" id="6155753"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155758">.</span><span class="ident" id="6155759">RPAREN</span><span class="op" id="6155765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155769">}</span>&nbsp;<span class="keyword" id="6155771">else</span>&nbsp;<span class="op" id="6155776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155781">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155809"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155810">.</span><span class="builtinfunc" id="6155811">print</span><span class="op" id="6155816">(</span><span class="ident" id="6155817"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155818">.</span><span class="ident" id="6155819">Op</span><span class="op" id="6155821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155826">if</span>&nbsp;<span class="ident" id="6155829"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155830">.</span><span class="ident" id="6155831">Op</span>&nbsp;<span class="op" id="6155834">==</span>&nbsp;<span class="ident" id="6155837"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6155842">.</span><span class="ident" id="6155843">RANGE</span>&nbsp;<span class="op" id="6155849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6155855">//&nbsp;TODO(gri)&nbsp;Remove&nbsp;this&nbsp;code&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be&nbsp;reached.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155914"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155915">.</span><span class="builtinfunc" id="6155916">print</span><span class="op" id="6155921">(</span><span class="ident" id="6155922"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6155927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155932">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155937"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155938">.</span><span class="ident" id="6155939">expr1</span><span class="op" id="6155944">(</span><span class="ident" id="6155945"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6155946">.</span><span class="ident" id="6155947">X</span><span class="op" id="6155948">,</span>&nbsp;<span class="ident" id="6155950"><a href="/go/printer/nodes.go.html#6155636">prec</a></span><span class="op" id="6155954">,</span>&nbsp;<span class="ident" id="6155956"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6155961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6155965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6155969">case</span>&nbsp;<span class="op" id="6155974">*</span><span class="ident" id="6155975"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6155978">.</span><span class="ident" id="6155979">BasicLit</span><span class="op" id="6155987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6155991"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6155992">.</span><span class="builtinfunc" id="6155993">print</span><span class="op" id="6155998">(</span><span class="ident" id="6155999"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156000">)</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156004">case</span>&nbsp;<span class="op" id="6156009">*</span><span class="ident" id="6156010"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6156013">.</span><span class="ident" id="6156014">FuncLit</span><span class="op" id="6156021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156025"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156026">.</span><span class="ident" id="6156027">expr</span><span class="op" id="6156031">(</span><span class="ident" id="6156032"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156033">.</span><span class="ident" id="6156034">Type</span><span class="op" id="6156038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156042"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156043">.</span><span class="ident" id="6156044">adjBlock</span><span class="op" id="6156052">(</span><span class="ident" id="6156053"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156054">.</span><span class="ident" id="6156055">distanceFrom</span><span class="op" id="6156067">(</span><span class="ident" id="6156068"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156069">.</span><span class="ident" id="6156070">Type</span><span class="op" id="6156074">.</span><span class="ident" id="6156075">Pos</span><span class="op" id="6156078">(</span><span class="op" id="6156079">)</span><span class="op" id="6156080">)</span><span class="op" id="6156081">,</span>&nbsp;<span class="ident" id="6156083"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6156088">,</span>&nbsp;<span class="ident" id="6156090"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156091">.</span><span class="ident" id="6156092">Body</span><span class="op" id="6156096">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156100">case</span>&nbsp;<span class="op" id="6156105">*</span><span class="ident" id="6156106"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6156109">.</span><span class="ident" id="6156110">ParenExpr</span><span class="op" id="6156119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156123">if</span>&nbsp;<span class="ident" id="6156126">_</span><span class="op" id="6156127">,</span>&nbsp;<span class="ident" id="6156129">hasParens</span>&nbsp;<span class="op" id="6156139">:=</span>&nbsp;<span class="ident" id="6156142"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156143">.</span><span class="ident" id="6156144">X</span><span class="op" id="6156145">.</span><span class="op" id="6156146">(</span><span class="op" id="6156147">*</span><span class="ident" id="6156148"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6156151">.</span><span class="ident" id="6156152">ParenExpr</span><span class="op" id="6156161">)</span><span class="op" id="6156162">;</span>&nbsp;<span class="ident" id="6156164"><a href="/go/printer/nodes.go.html#6156129">hasParens</a></span>&nbsp;<span class="op" id="6156174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6156179">//&nbsp;don&#39;t&nbsp;print&nbsp;parentheses&nbsp;around&nbsp;an&nbsp;already&nbsp;parenthesized&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6156252">//&nbsp;TODO(gri)&nbsp;consider&nbsp;making&nbsp;this&nbsp;more&nbsp;general&nbsp;and&nbsp;incorporate&nbsp;precedence&nbsp;levels</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156336"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156337">.</span><span class="ident" id="6156338">expr0</span><span class="op" id="6156343">(</span><span class="ident" id="6156344"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156345">.</span><span class="ident" id="6156346">X</span><span class="op" id="6156347">,</span>&nbsp;<span class="ident" id="6156349"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6156354">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156358">}</span>&nbsp;<span class="keyword" id="6156360">else</span>&nbsp;<span class="op" id="6156365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156370"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156371">.</span><span class="builtinfunc" id="6156372">print</span><span class="op" id="6156377">(</span><span class="ident" id="6156378"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156383">.</span><span class="ident" id="6156384">LPAREN</span><span class="op" id="6156390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156395"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156396">.</span><span class="ident" id="6156397">expr0</span><span class="op" id="6156402">(</span><span class="ident" id="6156403"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156404">.</span><span class="ident" id="6156405">X</span><span class="op" id="6156406">,</span>&nbsp;<span class="ident" id="6156408"><a href="/go/printer/nodes.go.html#6152420">reduceDepth</a></span><span class="op" id="6156419">(</span><span class="ident" id="6156420"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6156425">)</span><span class="op" id="6156426">)</span>&nbsp;<span class="comment" id="6156428">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156470"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156471">.</span><span class="builtinfunc" id="6156472">print</span><span class="op" id="6156477">(</span><span class="ident" id="6156478"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156479">.</span><span class="ident" id="6156480">Rparen</span><span class="op" id="6156486">,</span>&nbsp;<span class="ident" id="6156488"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156493">.</span><span class="ident" id="6156494">RPAREN</span><span class="op" id="6156500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156504">}</span><br>
<span class="lineno">745</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156508">case</span>&nbsp;<span class="op" id="6156513">*</span><span class="ident" id="6156514"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6156517">.</span><span class="ident" id="6156518">SelectorExpr</span><span class="op" id="6156530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156534"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156535">.</span><span class="ident" id="6156536">expr1</span><span class="op" id="6156541">(</span><span class="ident" id="6156542"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156543">.</span><span class="ident" id="6156544">X</span><span class="op" id="6156545">,</span>&nbsp;<span class="ident" id="6156547"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156552">.</span><span class="ident" id="6156553">HighestPrec</span><span class="op" id="6156564">,</span>&nbsp;<span class="ident" id="6156566"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6156571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156575"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156576">.</span><span class="builtinfunc" id="6156577">print</span><span class="op" id="6156582">(</span><span class="ident" id="6156583"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156588">.</span><span class="ident" id="6156589">PERIOD</span><span class="op" id="6156595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156599">if</span>&nbsp;<span class="ident" id="6156602">line</span>&nbsp;<span class="op" id="6156607">:=</span>&nbsp;<span class="ident" id="6156610"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156611">.</span><span class="ident" id="6156612">lineFor</span><span class="op" id="6156619">(</span><span class="ident" id="6156620"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156621">.</span><span class="ident" id="6156622">Sel</span><span class="op" id="6156625">.</span><span class="ident" id="6156626">Pos</span><span class="op" id="6156629">(</span><span class="op" id="6156630">)</span><span class="op" id="6156631">)</span><span class="op" id="6156632">;</span>&nbsp;<span class="ident" id="6156634"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156635">.</span><span class="ident" id="6156636">pos</span><span class="op" id="6156639">.</span><span class="ident" id="6156640">IsValid</span><span class="op" id="6156647">(</span><span class="op" id="6156648">)</span>&nbsp;<span class="op" id="6156650">&amp;&amp;</span>&nbsp;<span class="ident" id="6156653"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156654">.</span><span class="ident" id="6156655">pos</span><span class="op" id="6156658">.</span><span class="ident" id="6156659">Line</span>&nbsp;<span class="op" id="6156664">&lt;</span>&nbsp;<span class="ident" id="6156666"><a href="/go/printer/nodes.go.html#6156602">line</a></span>&nbsp;<span class="op" id="6156671">{</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156676"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156677">.</span><span class="builtinfunc" id="6156678">print</span><span class="op" id="6156683">(</span><span class="ident" id="6156684"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6156690">,</span>&nbsp;<span class="ident" id="6156692"><a href="/go/printer/printer.go.html#6179121">newline</a></span><span class="op" id="6156699">,</span>&nbsp;<span class="ident" id="6156701"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156702">.</span><span class="ident" id="6156703">Sel</span><span class="op" id="6156706">.</span><span class="ident" id="6156707">Pos</span><span class="op" id="6156710">(</span><span class="op" id="6156711">)</span><span class="op" id="6156712">,</span>&nbsp;<span class="ident" id="6156714"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156715">.</span><span class="ident" id="6156716">Sel</span><span class="op" id="6156719">,</span>&nbsp;<span class="ident" id="6156721"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6156729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156733">}</span>&nbsp;<span class="keyword" id="6156735">else</span>&nbsp;<span class="op" id="6156740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156745"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156746">.</span><span class="builtinfunc" id="6156747">print</span><span class="op" id="6156752">(</span><span class="ident" id="6156753"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156754">.</span><span class="ident" id="6156755">Sel</span><span class="op" id="6156758">.</span><span class="ident" id="6156759">Pos</span><span class="op" id="6156762">(</span><span class="op" id="6156763">)</span><span class="op" id="6156764">,</span>&nbsp;<span class="ident" id="6156766"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156767">.</span><span class="ident" id="6156768">Sel</span><span class="op" id="6156771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156779">case</span>&nbsp;<span class="op" id="6156784">*</span><span class="ident" id="6156785"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6156788">.</span><span class="ident" id="6156789">TypeAssertExpr</span><span class="op" id="6156803">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156807"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156808">.</span><span class="ident" id="6156809">expr1</span><span class="op" id="6156814">(</span><span class="ident" id="6156815"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156816">.</span><span class="ident" id="6156817">X</span><span class="op" id="6156818">,</span>&nbsp;<span class="ident" id="6156820"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156825">.</span><span class="ident" id="6156826">HighestPrec</span><span class="op" id="6156837">,</span>&nbsp;<span class="ident" id="6156839"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6156844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156848"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156849">.</span><span class="builtinfunc" id="6156850">print</span><span class="op" id="6156855">(</span><span class="ident" id="6156856"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156861">.</span><span class="ident" id="6156862">PERIOD</span><span class="op" id="6156868">,</span>&nbsp;<span class="ident" id="6156870"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156871">.</span><span class="ident" id="6156872">Lparen</span><span class="op" id="6156878">,</span>&nbsp;<span class="ident" id="6156880"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156885">.</span><span class="ident" id="6156886">LPAREN</span><span class="op" id="6156892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6156896">if</span>&nbsp;<span class="ident" id="6156899"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156900">.</span><span class="ident" id="6156901">Type</span>&nbsp;<span class="op" id="6156906">!=</span>&nbsp;<span class="ident" id="6156909">nil</span>&nbsp;<span class="op" id="6156913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156918"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156919">.</span><span class="ident" id="6156920">expr</span><span class="op" id="6156924">(</span><span class="ident" id="6156925"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156926">.</span><span class="ident" id="6156927">Type</span><span class="op" id="6156931">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156935">}</span>&nbsp;<span class="keyword" id="6156937">else</span>&nbsp;<span class="op" id="6156942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156947"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156948">.</span><span class="builtinfunc" id="6156949">print</span><span class="op" id="6156954">(</span><span class="ident" id="6156955"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156960">.</span><span class="ident" id="6156961">TYPE</span><span class="op" id="6156965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6156969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6156973"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6156974">.</span><span class="builtinfunc" id="6156975">print</span><span class="op" id="6156980">(</span><span class="ident" id="6156981"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6156982">.</span><span class="ident" id="6156983">Rparen</span><span class="op" id="6156989">,</span>&nbsp;<span class="ident" id="6156991"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6156996">.</span><span class="ident" id="6156997">RPAREN</span><span class="op" id="6157003">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157007">case</span>&nbsp;<span class="op" id="6157012">*</span><span class="ident" id="6157013"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6157016">.</span><span class="ident" id="6157017">IndexExpr</span><span class="op" id="6157026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6157030">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157106"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157107">.</span><span class="ident" id="6157108">expr1</span><span class="op" id="6157113">(</span><span class="ident" id="6157114"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157115">.</span><span class="ident" id="6157116">X</span><span class="op" id="6157117">,</span>&nbsp;<span class="ident" id="6157119"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157124">.</span><span class="ident" id="6157125">HighestPrec</span><span class="op" id="6157136">,</span>&nbsp;<span class="num" id="6157138">1</span><span class="op" id="6157139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157143"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157144">.</span><span class="builtinfunc" id="6157145">print</span><span class="op" id="6157150">(</span><span class="ident" id="6157151"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157152">.</span><span class="ident" id="6157153">Lbrack</span><span class="op" id="6157159">,</span>&nbsp;<span class="ident" id="6157161"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157166">.</span><span class="ident" id="6157167">LBRACK</span><span class="op" id="6157173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157177"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157178">.</span><span class="ident" id="6157179">expr0</span><span class="op" id="6157184">(</span><span class="ident" id="6157185"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157186">.</span><span class="ident" id="6157187">Index</span><span class="op" id="6157192">,</span>&nbsp;<span class="ident" id="6157194"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6157199">+</span><span class="num" id="6157200">1</span><span class="op" id="6157201">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157205"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157206">.</span><span class="builtinfunc" id="6157207">print</span><span class="op" id="6157212">(</span><span class="ident" id="6157213"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157214">.</span><span class="ident" id="6157215">Rbrack</span><span class="op" id="6157221">,</span>&nbsp;<span class="ident" id="6157223"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157228">.</span><span class="ident" id="6157229">RBRACK</span><span class="op" id="6157235">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157239">case</span>&nbsp;<span class="op" id="6157244">*</span><span class="ident" id="6157245"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6157248">.</span><span class="ident" id="6157249">SliceExpr</span><span class="op" id="6157258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6157262">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157338"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157339">.</span><span class="ident" id="6157340">expr1</span><span class="op" id="6157345">(</span><span class="ident" id="6157346"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157347">.</span><span class="ident" id="6157348">X</span><span class="op" id="6157349">,</span>&nbsp;<span class="ident" id="6157351"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157356">.</span><span class="ident" id="6157357">HighestPrec</span><span class="op" id="6157368">,</span>&nbsp;<span class="num" id="6157370">1</span><span class="op" id="6157371">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157375"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157376">.</span><span class="builtinfunc" id="6157377">print</span><span class="op" id="6157382">(</span><span class="ident" id="6157383"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157384">.</span><span class="ident" id="6157385">Lbrack</span><span class="op" id="6157391">,</span>&nbsp;<span class="ident" id="6157393"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157398">.</span><span class="ident" id="6157399">LBRACK</span><span class="op" id="6157405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157409">indices</span>&nbsp;<span class="op" id="6157417">:=</span>&nbsp;<span class="op" id="6157420">[</span><span class="op" id="6157421">]</span><span class="ident" id="6157422"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6157425">.</span><span class="ident" id="6157426">Expr</span><span class="op" id="6157430">{</span><span class="ident" id="6157431"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157432">.</span><span class="ident" id="6157433">Low</span><span class="op" id="6157436">,</span>&nbsp;<span class="ident" id="6157438"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157439">.</span><span class="ident" id="6157440">High</span><span class="op" id="6157444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157448">if</span>&nbsp;<span class="ident" id="6157451"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157452">.</span><span class="ident" id="6157453">Max</span>&nbsp;<span class="op" id="6157457">!=</span>&nbsp;<span class="ident" id="6157460">nil</span>&nbsp;<span class="op" id="6157464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157469"><a href="/go/printer/nodes.go.html#6157409">indices</a></span>&nbsp;<span class="op" id="6157477">=</span>&nbsp;<span class="builtinfunc" id="6157479">append</span><span class="op" id="6157485">(</span><span class="ident" id="6157486"><a href="/go/printer/nodes.go.html#6157409">indices</a></span><span class="op" id="6157493">,</span>&nbsp;<span class="ident" id="6157495"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6157496">.</span><span class="ident" id="6157497">Max</span><span class="op" id="6157500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157504">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157508">for</span>&nbsp;<span class="ident" id="6157512">i</span><span class="op" id="6157513">,</span>&nbsp;<span class="ident" id="6157515">y</span>&nbsp;<span class="op" id="6157517">:=</span>&nbsp;<span class="keyword" id="6157520">range</span>&nbsp;<span class="ident" id="6157526"><a href="/go/printer/nodes.go.html#6157409">indices</a></span>&nbsp;<span class="op" id="6157534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157539">if</span>&nbsp;<span class="ident" id="6157542"><a href="/go/printer/nodes.go.html#6157512">i</a></span>&nbsp;<span class="op" id="6157544">&gt;</span>&nbsp;<span class="num" id="6157546">0</span>&nbsp;<span class="op" id="6157548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6157554">//&nbsp;blanks&nbsp;around&nbsp;&#34;:&#34;&nbsp;if&nbsp;both&nbsp;sides&nbsp;exist&nbsp;and&nbsp;either&nbsp;side&nbsp;is&nbsp;a&nbsp;binary&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6157638">//&nbsp;TODO(gri)&nbsp;once&nbsp;we&nbsp;have&nbsp;committed&nbsp;a&nbsp;variant&nbsp;of&nbsp;a[i:j:k]&nbsp;we&nbsp;may&nbsp;want&nbsp;to&nbsp;fine-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6157721">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tune&nbsp;the&nbsp;formatting&nbsp;here</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157763">x</span>&nbsp;<span class="op" id="6157765">:=</span>&nbsp;<span class="ident" id="6157768"><a href="/go/printer/nodes.go.html#6157409">indices</a></span><span class="op" id="6157775">[</span><span class="ident" id="6157776"><a href="/go/printer/nodes.go.html#6157512">i</a></span><span class="op" id="6157777">-</span><span class="num" id="6157778">1</span><span class="op" id="6157779">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157785">if</span>&nbsp;<span class="ident" id="6157788"><a href="/go/printer/nodes.go.html#6154958">depth</a></span>&nbsp;<span class="op" id="6157794">&lt;=</span>&nbsp;<span class="num" id="6157797">1</span>&nbsp;<span class="op" id="6157799">&amp;&amp;</span>&nbsp;<span class="ident" id="6157802"><a href="/go/printer/nodes.go.html#6157763">x</a></span>&nbsp;<span class="op" id="6157804">!=</span>&nbsp;<span class="ident" id="6157807">nil</span>&nbsp;<span class="op" id="6157811">&amp;&amp;</span>&nbsp;<span class="ident" id="6157814"><a href="/go/printer/nodes.go.html#6157515">y</a></span>&nbsp;<span class="op" id="6157816">!=</span>&nbsp;<span class="ident" id="6157819">nil</span>&nbsp;<span class="op" id="6157823">&amp;&amp;</span>&nbsp;<span class="op" id="6157826">(</span><span class="ident" id="6157827"><a href="/go/printer/nodes.go.html#6154834">isBinary</a></span><span class="op" id="6157835">(</span><span class="ident" id="6157836"><a href="/go/printer/nodes.go.html#6157763">x</a></span><span class="op" id="6157837">)</span>&nbsp;<span class="op" id="6157839">||</span>&nbsp;<span class="ident" id="6157842"><a href="/go/printer/nodes.go.html#6154834">isBinary</a></span><span class="op" id="6157850">(</span><span class="ident" id="6157851"><a href="/go/printer/nodes.go.html#6157515">y</a></span><span class="op" id="6157852">)</span><span class="op" id="6157853">)</span>&nbsp;<span class="op" id="6157855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157862"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157863">.</span><span class="builtinfunc" id="6157864">print</span><span class="op" id="6157869">(</span><span class="ident" id="6157870"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6157875">,</span>&nbsp;<span class="ident" id="6157877"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157882">.</span><span class="ident" id="6157883">COLON</span><span class="op" id="6157888">,</span>&nbsp;<span class="ident" id="6157890"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6157895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157901">}</span>&nbsp;<span class="keyword" id="6157903">else</span>&nbsp;<span class="op" id="6157908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157915"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157916">.</span><span class="builtinfunc" id="6157917">print</span><span class="op" id="6157922">(</span><span class="ident" id="6157923"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6157928">.</span><span class="ident" id="6157929">COLON</span><span class="op" id="6157934">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6157950">if</span>&nbsp;<span class="ident" id="6157953"><a href="/go/printer/nodes.go.html#6157515">y</a></span>&nbsp;<span class="op" id="6157955">!=</span>&nbsp;<span class="ident" id="6157958">nil</span>&nbsp;<span class="op" id="6157962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157968"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6157969">.</span><span class="ident" id="6157970">expr0</span><span class="op" id="6157975">(</span><span class="ident" id="6157976"><a href="/go/printer/nodes.go.html#6157515">y</a></span><span class="op" id="6157977">,</span>&nbsp;<span class="ident" id="6157979"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6157984">+</span><span class="num" id="6157985">1</span><span class="op" id="6157986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157991">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6157995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6157999"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158000">.</span><span class="builtinfunc" id="6158001">print</span><span class="op" id="6158006">(</span><span class="ident" id="6158007"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158008">.</span><span class="ident" id="6158009">Rbrack</span><span class="op" id="6158015">,</span>&nbsp;<span class="ident" id="6158017"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158022">.</span><span class="ident" id="6158023">RBRACK</span><span class="op" id="6158029">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158033">case</span>&nbsp;<span class="op" id="6158038">*</span><span class="ident" id="6158039"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6158042">.</span><span class="ident" id="6158043">CallExpr</span><span class="op" id="6158051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158055">if</span>&nbsp;<span class="builtinfunc" id="6158058">len</span><span class="op" id="6158061">(</span><span class="ident" id="6158062"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158063">.</span><span class="ident" id="6158064">Args</span><span class="op" id="6158068">)</span>&nbsp;<span class="op" id="6158070">&gt;</span>&nbsp;<span class="num" id="6158072">1</span>&nbsp;<span class="op" id="6158074">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158079"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158084">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158093">if</span>&nbsp;<span class="ident" id="6158096">_</span><span class="op" id="6158097">,</span>&nbsp;<span class="ident" id="6158099">ok</span>&nbsp;<span class="op" id="6158102">:=</span>&nbsp;<span class="ident" id="6158105"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158106">.</span><span class="ident" id="6158107">Fun</span><span class="op" id="6158110">.</span><span class="op" id="6158111">(</span><span class="op" id="6158112">*</span><span class="ident" id="6158113"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6158116">.</span><span class="ident" id="6158117">FuncType</span><span class="op" id="6158125">)</span><span class="op" id="6158126">;</span>&nbsp;<span class="ident" id="6158128"><a href="/go/printer/nodes.go.html#6158099">ok</a></span>&nbsp;<span class="op" id="6158131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6158136">//&nbsp;conversions&nbsp;to&nbsp;literal&nbsp;function&nbsp;types&nbsp;require&nbsp;parentheses&nbsp;around&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158216"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158217">.</span><span class="builtinfunc" id="6158218">print</span><span class="op" id="6158223">(</span><span class="ident" id="6158224"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158229">.</span><span class="ident" id="6158230">LPAREN</span><span class="op" id="6158236">)</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158241"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158242">.</span><span class="ident" id="6158243">expr1</span><span class="op" id="6158248">(</span><span class="ident" id="6158249"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158250">.</span><span class="ident" id="6158251">Fun</span><span class="op" id="6158254">,</span>&nbsp;<span class="ident" id="6158256"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158261">.</span><span class="ident" id="6158262">HighestPrec</span><span class="op" id="6158273">,</span>&nbsp;<span class="ident" id="6158275"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158285"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158286">.</span><span class="builtinfunc" id="6158287">print</span><span class="op" id="6158292">(</span><span class="ident" id="6158293"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158298">.</span><span class="ident" id="6158299">RPAREN</span><span class="op" id="6158305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158309">}</span>&nbsp;<span class="keyword" id="6158311">else</span>&nbsp;<span class="op" id="6158316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158321"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158322">.</span><span class="ident" id="6158323">expr1</span><span class="op" id="6158328">(</span><span class="ident" id="6158329"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158330">.</span><span class="ident" id="6158331">Fun</span><span class="op" id="6158334">,</span>&nbsp;<span class="ident" id="6158336"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158341">.</span><span class="ident" id="6158342">HighestPrec</span><span class="op" id="6158353">,</span>&nbsp;<span class="ident" id="6158355"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158364">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158368"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158369">.</span><span class="builtinfunc" id="6158370">print</span><span class="op" id="6158375">(</span><span class="ident" id="6158376"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158377">.</span><span class="ident" id="6158378">Lparen</span><span class="op" id="6158384">,</span>&nbsp;<span class="ident" id="6158386"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158391">.</span><span class="ident" id="6158392">LPAREN</span><span class="op" id="6158398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158402">if</span>&nbsp;<span class="ident" id="6158405"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158406">.</span><span class="ident" id="6158407">Ellipsis</span><span class="op" id="6158415">.</span><span class="ident" id="6158416">IsValid</span><span class="op" id="6158423">(</span><span class="op" id="6158424">)</span>&nbsp;<span class="op" id="6158426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158431"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158432">.</span><span class="ident" id="6158433">exprList</span><span class="op" id="6158441">(</span><span class="ident" id="6158442"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158443">.</span><span class="ident" id="6158444">Lparen</span><span class="op" id="6158450">,</span>&nbsp;<span class="ident" id="6158452"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158453">.</span><span class="ident" id="6158454">Args</span><span class="op" id="6158458">,</span>&nbsp;<span class="ident" id="6158460"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158465">,</span>&nbsp;<span class="num" id="6158467">0</span><span class="op" id="6158468">,</span>&nbsp;<span class="ident" id="6158470"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158471">.</span><span class="ident" id="6158472">Ellipsis</span><span class="op" id="6158480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158485"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158486">.</span><span class="builtinfunc" id="6158487">print</span><span class="op" id="6158492">(</span><span class="ident" id="6158493"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158494">.</span><span class="ident" id="6158495">Ellipsis</span><span class="op" id="6158503">,</span>&nbsp;<span class="ident" id="6158505"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158510">.</span><span class="ident" id="6158511">ELLIPSIS</span><span class="op" id="6158519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158524">if</span>&nbsp;<span class="ident" id="6158527"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158528">.</span><span class="ident" id="6158529">Rparen</span><span class="op" id="6158535">.</span><span class="ident" id="6158536">IsValid</span><span class="op" id="6158543">(</span><span class="op" id="6158544">)</span>&nbsp;<span class="op" id="6158546">&amp;&amp;</span>&nbsp;<span class="ident" id="6158549"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158550">.</span><span class="ident" id="6158551">lineFor</span><span class="op" id="6158558">(</span><span class="ident" id="6158559"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158560">.</span><span class="ident" id="6158561">Ellipsis</span><span class="op" id="6158569">)</span>&nbsp;<span class="op" id="6158571">&lt;</span>&nbsp;<span class="ident" id="6158573"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158574">.</span><span class="ident" id="6158575">lineFor</span><span class="op" id="6158582">(</span><span class="ident" id="6158583"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158584">.</span><span class="ident" id="6158585">Rparen</span><span class="op" id="6158591">)</span>&nbsp;<span class="op" id="6158593">{</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158599"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158600">.</span><span class="builtinfunc" id="6158601">print</span><span class="op" id="6158606">(</span><span class="ident" id="6158607"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158612">.</span><span class="ident" id="6158613">COMMA</span><span class="op" id="6158618">,</span>&nbsp;<span class="ident" id="6158620"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6158628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158637">}</span>&nbsp;<span class="keyword" id="6158639">else</span>&nbsp;<span class="op" id="6158644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158649"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158650">.</span><span class="ident" id="6158651">exprList</span><span class="op" id="6158659">(</span><span class="ident" id="6158660"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158661">.</span><span class="ident" id="6158662">Lparen</span><span class="op" id="6158668">,</span>&nbsp;<span class="ident" id="6158670"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158671">.</span><span class="ident" id="6158672">Args</span><span class="op" id="6158676">,</span>&nbsp;<span class="ident" id="6158678"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158683">,</span>&nbsp;<span class="ident" id="6158685"><a href="/go/printer/nodes.go.html#6139133">commaTerm</a></span><span class="op" id="6158694">,</span>&nbsp;<span class="ident" id="6158696"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158697">.</span><span class="ident" id="6158698">Rparen</span><span class="op" id="6158704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158708">}</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158712"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158713">.</span><span class="builtinfunc" id="6158714">print</span><span class="op" id="6158719">(</span><span class="ident" id="6158720"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158721">.</span><span class="ident" id="6158722">Rparen</span><span class="op" id="6158728">,</span>&nbsp;<span class="ident" id="6158730"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158735">.</span><span class="ident" id="6158736">RPAREN</span><span class="op" id="6158742">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158746">case</span>&nbsp;<span class="op" id="6158751">*</span><span class="ident" id="6158752"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6158755">.</span><span class="ident" id="6158756">CompositeLit</span><span class="op" id="6158768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6158772">//&nbsp;composite&nbsp;literal&nbsp;elements&nbsp;that&nbsp;are&nbsp;composite&nbsp;literals&nbsp;themselves&nbsp;may&nbsp;have&nbsp;the&nbsp;type&nbsp;omitted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6158869">if</span>&nbsp;<span class="ident" id="6158872"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158873">.</span><span class="ident" id="6158874">Type</span>&nbsp;<span class="op" id="6158879">!=</span>&nbsp;<span class="ident" id="6158882">nil</span>&nbsp;<span class="op" id="6158886">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158891"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158892">.</span><span class="ident" id="6158893">expr1</span><span class="op" id="6158898">(</span><span class="ident" id="6158899"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158900">.</span><span class="ident" id="6158901">Type</span><span class="op" id="6158905">,</span>&nbsp;<span class="ident" id="6158907"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158912">.</span><span class="ident" id="6158913">HighestPrec</span><span class="op" id="6158924">,</span>&nbsp;<span class="ident" id="6158926"><a href="/go/printer/nodes.go.html#6154958">depth</a></span><span class="op" id="6158931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6158935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158939"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158940">.</span><span class="builtinfunc" id="6158941">print</span><span class="op" id="6158946">(</span><span class="ident" id="6158947"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158948">.</span><span class="ident" id="6158949">Lbrace</span><span class="op" id="6158955">,</span>&nbsp;<span class="ident" id="6158957"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6158962">.</span><span class="ident" id="6158963">LBRACE</span><span class="op" id="6158969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6158973"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6158974">.</span><span class="ident" id="6158975">exprList</span><span class="op" id="6158983">(</span><span class="ident" id="6158984"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158985">.</span><span class="ident" id="6158986">Lbrace</span><span class="op" id="6158992">,</span>&nbsp;<span class="ident" id="6158994"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6158995">.</span><span class="ident" id="6158996">Elts</span><span class="op" id="6159000">,</span>&nbsp;<span class="num" id="6159002">1</span><span class="op" id="6159003">,</span>&nbsp;<span class="ident" id="6159005"><a href="/go/printer/nodes.go.html#6139133">commaTerm</a></span><span class="op" id="6159014">,</span>&nbsp;<span class="ident" id="6159016"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159017">.</span><span class="ident" id="6159018">Rbrace</span><span class="op" id="6159024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6159028">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;line&nbsp;break&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6159093">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;as&nbsp;it&nbsp;might&nbsp;break&nbsp;the&nbsp;code&nbsp;if&nbsp;there</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6159157">//&nbsp;is&nbsp;no&nbsp;trailing&nbsp;&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159181">mode</span>&nbsp;<span class="op" id="6159186">:=</span>&nbsp;<span class="ident" id="6159189"><a href="/go/printer/printer.go.html#6179399">noExtraLinebreak</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6159208">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;blank&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6159268">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;unless&nbsp;the&nbsp;literal&nbsp;is&nbsp;empty</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159324">if</span>&nbsp;<span class="builtinfunc" id="6159327">len</span><span class="op" id="6159330">(</span><span class="ident" id="6159331"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159332">.</span><span class="ident" id="6159333">Elts</span><span class="op" id="6159337">)</span>&nbsp;<span class="op" id="6159339">&gt;</span>&nbsp;<span class="num" id="6159341">0</span>&nbsp;<span class="op" id="6159343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159348"><a href="/go/printer/nodes.go.html#6159181">mode</a></span>&nbsp;<span class="op" id="6159353">|=</span>&nbsp;<span class="ident" id="6159356"><a href="/go/printer/printer.go.html#6179316">noExtraBlank</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6159371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159375"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159376">.</span><span class="builtinfunc" id="6159377">print</span><span class="op" id="6159382">(</span><span class="ident" id="6159383"><a href="/go/printer/nodes.go.html#6159181">mode</a></span><span class="op" id="6159387">,</span>&nbsp;<span class="ident" id="6159389"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159390">.</span><span class="ident" id="6159391">Rbrace</span><span class="op" id="6159397">,</span>&nbsp;<span class="ident" id="6159399"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159404">.</span><span class="ident" id="6159405">RBRACE</span><span class="op" id="6159411">,</span>&nbsp;<span class="ident" id="6159413"><a href="/go/printer/nodes.go.html#6159181">mode</a></span><span class="op" id="6159417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159421">case</span>&nbsp;<span class="op" id="6159426">*</span><span class="ident" id="6159427"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159430">.</span><span class="ident" id="6159431">Ellipsis</span><span class="op" id="6159439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159443"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159444">.</span><span class="builtinfunc" id="6159445">print</span><span class="op" id="6159450">(</span><span class="ident" id="6159451"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159456">.</span><span class="ident" id="6159457">ELLIPSIS</span><span class="op" id="6159465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159469">if</span>&nbsp;<span class="ident" id="6159472"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159473">.</span><span class="ident" id="6159474">Elt</span>&nbsp;<span class="op" id="6159478">!=</span>&nbsp;<span class="ident" id="6159481">nil</span>&nbsp;<span class="op" id="6159485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159490"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159491">.</span><span class="ident" id="6159492">expr</span><span class="op" id="6159496">(</span><span class="ident" id="6159497"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159498">.</span><span class="ident" id="6159499">Elt</span><span class="op" id="6159502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6159506">}</span><br>
<span class="lineno">845</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159510">case</span>&nbsp;<span class="op" id="6159515">*</span><span class="ident" id="6159516"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159519">.</span><span class="ident" id="6159520">ArrayType</span><span class="op" id="6159529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159533"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159534">.</span><span class="builtinfunc" id="6159535">print</span><span class="op" id="6159540">(</span><span class="ident" id="6159541"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159546">.</span><span class="ident" id="6159547">LBRACK</span><span class="op" id="6159553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159557">if</span>&nbsp;<span class="ident" id="6159560"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159561">.</span><span class="ident" id="6159562">Len</span>&nbsp;<span class="op" id="6159566">!=</span>&nbsp;<span class="ident" id="6159569">nil</span>&nbsp;<span class="op" id="6159573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159578"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159579">.</span><span class="ident" id="6159580">expr</span><span class="op" id="6159584">(</span><span class="ident" id="6159585"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159586">.</span><span class="ident" id="6159587">Len</span><span class="op" id="6159590">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6159594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159598"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159599">.</span><span class="builtinfunc" id="6159600">print</span><span class="op" id="6159605">(</span><span class="ident" id="6159606"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159611">.</span><span class="ident" id="6159612">RBRACK</span><span class="op" id="6159618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159622"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159623">.</span><span class="ident" id="6159624">expr</span><span class="op" id="6159628">(</span><span class="ident" id="6159629"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159630">.</span><span class="ident" id="6159631">Elt</span><span class="op" id="6159634">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159638">case</span>&nbsp;<span class="op" id="6159643">*</span><span class="ident" id="6159644"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159647">.</span><span class="ident" id="6159648">StructType</span><span class="op" id="6159658">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159662"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159663">.</span><span class="builtinfunc" id="6159664">print</span><span class="op" id="6159669">(</span><span class="ident" id="6159670"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159675">.</span><span class="ident" id="6159676">STRUCT</span><span class="op" id="6159682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159686"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159687">.</span><span class="ident" id="6159688">fieldList</span><span class="op" id="6159697">(</span><span class="ident" id="6159698"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159699">.</span><span class="ident" id="6159700">Fields</span><span class="op" id="6159706">,</span>&nbsp;<span class="ident" id="6159708">true</span><span class="op" id="6159712">,</span>&nbsp;<span class="ident" id="6159714"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159715">.</span><span class="ident" id="6159716">Incomplete</span><span class="op" id="6159726">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159730">case</span>&nbsp;<span class="op" id="6159735">*</span><span class="ident" id="6159736"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159739">.</span><span class="ident" id="6159740">FuncType</span><span class="op" id="6159748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159752"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159753">.</span><span class="builtinfunc" id="6159754">print</span><span class="op" id="6159759">(</span><span class="ident" id="6159760"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159765">.</span><span class="ident" id="6159766">FUNC</span><span class="op" id="6159770">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159774"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159775">.</span><span class="ident" id="6159776">signature</span><span class="op" id="6159785">(</span><span class="ident" id="6159786"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159787">.</span><span class="ident" id="6159788">Params</span><span class="op" id="6159794">,</span>&nbsp;<span class="ident" id="6159796"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159797">.</span><span class="ident" id="6159798">Results</span><span class="op" id="6159805">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159809">case</span>&nbsp;<span class="op" id="6159814">*</span><span class="ident" id="6159815"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159818">.</span><span class="ident" id="6159819">InterfaceType</span><span class="op" id="6159832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159836"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159837">.</span><span class="builtinfunc" id="6159838">print</span><span class="op" id="6159843">(</span><span class="ident" id="6159844"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159849">.</span><span class="ident" id="6159850">INTERFACE</span><span class="op" id="6159859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159863"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159864">.</span><span class="ident" id="6159865">fieldList</span><span class="op" id="6159874">(</span><span class="ident" id="6159875"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159876">.</span><span class="ident" id="6159877">Methods</span><span class="op" id="6159884">,</span>&nbsp;<span class="ident" id="6159886">false</span><span class="op" id="6159891">,</span>&nbsp;<span class="ident" id="6159893"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159894">.</span><span class="ident" id="6159895">Incomplete</span><span class="op" id="6159905">)</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6159909">case</span>&nbsp;<span class="op" id="6159914">*</span><span class="ident" id="6159915"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6159918">.</span><span class="ident" id="6159919">MapType</span><span class="op" id="6159926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159930"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159931">.</span><span class="builtinfunc" id="6159932">print</span><span class="op" id="6159937">(</span><span class="ident" id="6159938"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159943">.</span><span class="ident" id="6159944">MAP</span><span class="op" id="6159947">,</span>&nbsp;<span class="ident" id="6159949"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159954">.</span><span class="ident" id="6159955">LBRACK</span><span class="op" id="6159961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159965"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159966">.</span><span class="ident" id="6159967">expr</span><span class="op" id="6159971">(</span><span class="ident" id="6159972"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6159973">.</span><span class="ident" id="6159974">Key</span><span class="op" id="6159977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6159981"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6159982">.</span><span class="builtinfunc" id="6159983">print</span><span class="op" id="6159988">(</span><span class="ident" id="6159989"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6159994">.</span><span class="ident" id="6159995">RBRACK</span><span class="op" id="6160001">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160005"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160006">.</span><span class="ident" id="6160007">expr</span><span class="op" id="6160011">(</span><span class="ident" id="6160012"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6160013">.</span><span class="ident" id="6160014">Value</span><span class="op" id="6160019">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160023">case</span>&nbsp;<span class="op" id="6160028">*</span><span class="ident" id="6160029"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160032">.</span><span class="ident" id="6160033">ChanType</span><span class="op" id="6160041">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160045">switch</span>&nbsp;<span class="ident" id="6160052"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6160053">.</span><span class="ident" id="6160054">Dir</span>&nbsp;<span class="op" id="6160058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160062">case</span>&nbsp;<span class="ident" id="6160067"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160070">.</span><span class="ident" id="6160071">SEND</span>&nbsp;<span class="op" id="6160076">|</span>&nbsp;<span class="ident" id="6160078"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160081">.</span><span class="ident" id="6160082">RECV</span><span class="op" id="6160086">:</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160091"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160092">.</span><span class="builtinfunc" id="6160093">print</span><span class="op" id="6160098">(</span><span class="ident" id="6160099"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160104">.</span><span class="ident" id="6160105">CHAN</span><span class="op" id="6160109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160113">case</span>&nbsp;<span class="ident" id="6160118"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160121">.</span><span class="ident" id="6160122">RECV</span><span class="op" id="6160126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160131"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160132">.</span><span class="builtinfunc" id="6160133">print</span><span class="op" id="6160138">(</span><span class="ident" id="6160139"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160144">.</span><span class="ident" id="6160145">ARROW</span><span class="op" id="6160150">,</span>&nbsp;<span class="ident" id="6160152"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160157">.</span><span class="ident" id="6160158">CHAN</span><span class="op" id="6160162">)</span>&nbsp;<span class="comment" id="6160164">//&nbsp;x.Arrow&nbsp;and&nbsp;x.Pos()&nbsp;are&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160202">case</span>&nbsp;<span class="ident" id="6160207"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160210">.</span><span class="ident" id="6160211">SEND</span><span class="op" id="6160215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160220"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160221">.</span><span class="builtinfunc" id="6160222">print</span><span class="op" id="6160227">(</span><span class="ident" id="6160228"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160233">.</span><span class="ident" id="6160234">CHAN</span><span class="op" id="6160238">,</span>&nbsp;<span class="ident" id="6160240"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6160241">.</span><span class="ident" id="6160242">Arrow</span><span class="op" id="6160247">,</span>&nbsp;<span class="ident" id="6160249"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160254">.</span><span class="ident" id="6160255">ARROW</span><span class="op" id="6160260">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6160264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160268"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160269">.</span><span class="builtinfunc" id="6160270">print</span><span class="op" id="6160275">(</span><span class="ident" id="6160276"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6160281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160285"><a href="/go/printer/nodes.go.html#6154918">p</a></span><span class="op" id="6160286">.</span><span class="ident" id="6160287">expr</span><span class="op" id="6160291">(</span><span class="ident" id="6160292"><a href="/go/printer/nodes.go.html#6155001">x</a></span><span class="op" id="6160293">.</span><span class="ident" id="6160294">Value</span><span class="op" id="6160299">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160303">default</span><span class="op" id="6160310">:</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6160314">panic</span><span class="op" id="6160319">(</span><span class="string" id="6160320">&#34;unreachable&#34;</span><span class="op" id="6160333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6160336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160340">return</span><br>
<span class="lineno"></span><span class="op" id="6160347">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span><span class="keyword" id="6160350">func</span>&nbsp;<span class="op" id="6160355">(</span><span class="ident" id="6160356">p</span>&nbsp;<span class="op" id="6160358">*</span><span class="ident" id="6160359"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6160366">)</span>&nbsp;<span class="ident" id="6160368">expr0</span><span class="op" id="6160373">(</span><span class="ident" id="6160374">x</span>&nbsp;<span class="ident" id="6160376"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160379">.</span><span class="ident" id="6160380">Expr</span><span class="op" id="6160384">,</span>&nbsp;<span class="ident" id="6160386">depth</span>&nbsp;<span class="builtintype" id="6160392">int</span><span class="op" id="6160395">)</span>&nbsp;<span class="op" id="6160397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160400"><a href="/go/printer/nodes.go.html#6160356">p</a></span><span class="op" id="6160401">.</span><span class="ident" id="6160402">expr1</span><span class="op" id="6160407">(</span><span class="ident" id="6160408"><a href="/go/printer/nodes.go.html#6160374">x</a></span><span class="op" id="6160409">,</span>&nbsp;<span class="ident" id="6160411"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160416">.</span><span class="ident" id="6160417">LowestPrec</span><span class="op" id="6160427">,</span>&nbsp;<span class="ident" id="6160429"><a href="/go/printer/nodes.go.html#6160386">depth</a></span><span class="op" id="6160434">)</span><br>
<span class="lineno"></span><span class="op" id="6160436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">895</span><span class="keyword" id="6160439">func</span>&nbsp;<span class="op" id="6160444">(</span><span class="ident" id="6160445">p</span>&nbsp;<span class="op" id="6160447">*</span><span class="ident" id="6160448"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6160455">)</span>&nbsp;<span class="ident" id="6160457">expr</span><span class="op" id="6160461">(</span><span class="ident" id="6160462">x</span>&nbsp;<span class="ident" id="6160464"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160467">.</span><span class="ident" id="6160468">Expr</span><span class="op" id="6160472">)</span>&nbsp;<span class="op" id="6160474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160477">const</span>&nbsp;<span class="ident" id="6160483">depth</span>&nbsp;<span class="op" id="6160489">=</span>&nbsp;<span class="num" id="6160491">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160494"><a href="/go/printer/nodes.go.html#6160445">p</a></span><span class="op" id="6160495">.</span><span class="ident" id="6160496">expr1</span><span class="op" id="6160501">(</span><span class="ident" id="6160502"><a href="/go/printer/nodes.go.html#6160462">x</a></span><span class="op" id="6160503">,</span>&nbsp;<span class="ident" id="6160505"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6160510">.</span><span class="ident" id="6160511">LowestPrec</span><span class="op" id="6160521">,</span>&nbsp;<span class="ident" id="6160523"><a href="/go/printer/nodes.go.html#6160483">depth</a></span><span class="op" id="6160528">)</span><br>
<span class="lineno"></span><span class="op" id="6160530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span><span class="comment" id="6160533">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="6160613">//&nbsp;Statements</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6160628">//&nbsp;Print&nbsp;the&nbsp;statement&nbsp;list&nbsp;indented,&nbsp;but&nbsp;without&nbsp;a&nbsp;newline&nbsp;after&nbsp;the&nbsp;last&nbsp;statement.</span><br>
<span class="lineno"></span><span class="comment" id="6160714">//&nbsp;Extra&nbsp;line&nbsp;breaks&nbsp;between&nbsp;statements&nbsp;in&nbsp;the&nbsp;source&nbsp;are&nbsp;respected&nbsp;but&nbsp;at&nbsp;most&nbsp;one</span><br>
<span class="lineno">905</span><span class="comment" id="6160798">//&nbsp;empty&nbsp;line&nbsp;is&nbsp;printed&nbsp;between&nbsp;statements.</span><br>
<span class="lineno"></span><span class="keyword" id="6160843">func</span>&nbsp;<span class="op" id="6160848">(</span><span class="ident" id="6160849">p</span>&nbsp;<span class="op" id="6160851">*</span><span class="ident" id="6160852"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6160859">)</span>&nbsp;<span class="ident" id="6160861">stmtList</span><span class="op" id="6160869">(</span><span class="ident" id="6160870">list</span>&nbsp;<span class="op" id="6160875">[</span><span class="op" id="6160876">]</span><span class="ident" id="6160877"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6160880">.</span><span class="ident" id="6160881">Stmt</span><span class="op" id="6160885">,</span>&nbsp;<span class="ident" id="6160887">nindent</span>&nbsp;<span class="builtintype" id="6160895">int</span><span class="op" id="6160898">,</span>&nbsp;<span class="ident" id="6160900">nextIsRBrace</span>&nbsp;<span class="builtintype" id="6160913">bool</span><span class="op" id="6160917">)</span>&nbsp;<span class="op" id="6160919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160922">if</span>&nbsp;<span class="ident" id="6160925"><a href="/go/printer/nodes.go.html#6160887">nindent</a></span>&nbsp;<span class="op" id="6160933">&gt;</span>&nbsp;<span class="num" id="6160935">0</span>&nbsp;<span class="op" id="6160937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160941"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6160942">.</span><span class="builtinfunc" id="6160943">print</span><span class="op" id="6160948">(</span><span class="ident" id="6160949"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6160955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6160958">}</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160961">var</span>&nbsp;<span class="ident" id="6160965">line</span>&nbsp;<span class="builtintype" id="6160970">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6160975">i</span>&nbsp;<span class="op" id="6160977">:=</span>&nbsp;<span class="num" id="6160980">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6160983">for</span>&nbsp;<span class="ident" id="6160987">_</span><span class="op" id="6160988">,</span>&nbsp;<span class="ident" id="6160990">s</span>&nbsp;<span class="op" id="6160992">:=</span>&nbsp;<span class="keyword" id="6160995">range</span>&nbsp;<span class="ident" id="6161001"><a href="/go/printer/nodes.go.html#6160870">list</a></span>&nbsp;<span class="op" id="6161006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161010">//&nbsp;ignore&nbsp;empty&nbsp;statements&nbsp;(was&nbsp;issue&nbsp;3466)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161056">if</span>&nbsp;<span class="ident" id="6161059">_</span><span class="op" id="6161060">,</span>&nbsp;<span class="ident" id="6161062">isEmpty</span>&nbsp;<span class="op" id="6161070">:=</span>&nbsp;<span class="ident" id="6161073"><a href="/go/printer/nodes.go.html#6160990">s</a></span><span class="op" id="6161074">.</span><span class="op" id="6161075">(</span><span class="op" id="6161076">*</span><span class="ident" id="6161077"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6161080">.</span><span class="ident" id="6161081">EmptyStmt</span><span class="op" id="6161090">)</span><span class="op" id="6161091">;</span>&nbsp;<span class="op" id="6161093">!</span><span class="ident" id="6161094"><a href="/go/printer/nodes.go.html#6161062">isEmpty</a></span>&nbsp;<span class="op" id="6161102">{</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161107">//&nbsp;nindent&nbsp;==&nbsp;0&nbsp;only&nbsp;for&nbsp;lists&nbsp;of&nbsp;switch/select&nbsp;case&nbsp;clauses;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161172">//&nbsp;in&nbsp;those&nbsp;cases&nbsp;each&nbsp;clause&nbsp;is&nbsp;a&nbsp;new&nbsp;section</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161222">if</span>&nbsp;<span class="builtinfunc" id="6161225">len</span><span class="op" id="6161228">(</span><span class="ident" id="6161229"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161230">.</span><span class="ident" id="6161231">output</span><span class="op" id="6161237">)</span>&nbsp;<span class="op" id="6161239">&gt;</span>&nbsp;<span class="num" id="6161241">0</span>&nbsp;<span class="op" id="6161243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161249">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161323">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161381"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161382">.</span><span class="ident" id="6161383">linebreak</span><span class="op" id="6161392">(</span><span class="ident" id="6161393"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161394">.</span><span class="ident" id="6161395">lineFor</span><span class="op" id="6161402">(</span><span class="ident" id="6161403"><a href="/go/printer/nodes.go.html#6160990">s</a></span><span class="op" id="6161404">.</span><span class="ident" id="6161405">Pos</span><span class="op" id="6161408">(</span><span class="op" id="6161409">)</span><span class="op" id="6161410">)</span><span class="op" id="6161411">,</span>&nbsp;<span class="num" id="6161413">1</span><span class="op" id="6161414">,</span>&nbsp;<span class="ident" id="6161416"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6161422">,</span>&nbsp;<span class="ident" id="6161424"><a href="/go/printer/nodes.go.html#6160975">i</a></span>&nbsp;<span class="op" id="6161426">==</span>&nbsp;<span class="num" id="6161429">0</span>&nbsp;<span class="op" id="6161431">||</span>&nbsp;<span class="ident" id="6161434"><a href="/go/printer/nodes.go.html#6160887">nindent</a></span>&nbsp;<span class="op" id="6161442">==</span>&nbsp;<span class="num" id="6161445">0</span>&nbsp;<span class="op" id="6161447">||</span>&nbsp;<span class="ident" id="6161450"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161451">.</span><span class="ident" id="6161452">linesFrom</span><span class="op" id="6161461">(</span><span class="ident" id="6161462"><a href="/go/printer/nodes.go.html#6160965">line</a></span><span class="op" id="6161466">)</span>&nbsp;<span class="op" id="6161468">&gt;</span>&nbsp;<span class="num" id="6161470">0</span><span class="op" id="6161471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161481"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161482">.</span><span class="ident" id="6161483">recordLine</span><span class="op" id="6161493">(</span><span class="op" id="6161494">&amp;</span><span class="ident" id="6161495"><a href="/go/printer/nodes.go.html#6160965">line</a></span><span class="op" id="6161499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161504"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161505">.</span><span class="ident" id="6161506">stmt</span><span class="op" id="6161510">(</span><span class="ident" id="6161511"><a href="/go/printer/nodes.go.html#6160990">s</a></span><span class="op" id="6161512">,</span>&nbsp;<span class="ident" id="6161514"><a href="/go/printer/nodes.go.html#6160900">nextIsRBrace</a></span>&nbsp;<span class="op" id="6161527">&amp;&amp;</span>&nbsp;<span class="ident" id="6161530"><a href="/go/printer/nodes.go.html#6160975">i</a></span>&nbsp;<span class="op" id="6161532">==</span>&nbsp;<span class="builtinfunc" id="6161535">len</span><span class="op" id="6161538">(</span><span class="ident" id="6161539"><a href="/go/printer/nodes.go.html#6160870">list</a></span><span class="op" id="6161543">)</span><span class="op" id="6161544">-</span><span class="num" id="6161545">1</span><span class="op" id="6161546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161551">//&nbsp;labeled&nbsp;statements&nbsp;put&nbsp;labels&nbsp;on&nbsp;a&nbsp;separate&nbsp;line,&nbsp;but&nbsp;here</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161616">//&nbsp;we&nbsp;only&nbsp;care&nbsp;about&nbsp;the&nbsp;start&nbsp;line&nbsp;of&nbsp;the&nbsp;actual&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6161680">//&nbsp;without&nbsp;label&nbsp;-&nbsp;correct&nbsp;line&nbsp;for&nbsp;each&nbsp;label</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161730">for</span>&nbsp;<span class="ident" id="6161734">t</span>&nbsp;<span class="op" id="6161736">:=</span>&nbsp;<span class="ident" id="6161739"><a href="/go/printer/nodes.go.html#6160990">s</a></span><span class="op" id="6161740">;</span>&nbsp;<span class="op" id="6161742">;</span>&nbsp;<span class="op" id="6161744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161750">lt</span><span class="op" id="6161752">,</span>&nbsp;<span class="ident" id="6161754">_</span>&nbsp;<span class="op" id="6161756">:=</span>&nbsp;<span class="ident" id="6161759"><a href="/go/printer/nodes.go.html#6161734">t</a></span><span class="op" id="6161760">.</span><span class="op" id="6161761">(</span><span class="op" id="6161762">*</span><span class="ident" id="6161763"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6161766">.</span><span class="ident" id="6161767">LabeledStmt</span><span class="op" id="6161778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161784">if</span>&nbsp;<span class="ident" id="6161787"><a href="/go/printer/nodes.go.html#6161750">lt</a></span>&nbsp;<span class="op" id="6161790">==</span>&nbsp;<span class="ident" id="6161793">nil</span>&nbsp;<span class="op" id="6161797">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161804">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161820"><a href="/go/printer/nodes.go.html#6160965">line</a></span><span class="op" id="6161824">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161831"><a href="/go/printer/nodes.go.html#6161734">t</a></span>&nbsp;<span class="op" id="6161833">=</span>&nbsp;<span class="ident" id="6161835"><a href="/go/printer/nodes.go.html#6161750">lt</a></span><span class="op" id="6161837">.</span><span class="ident" id="6161838">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161846">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161851"><a href="/go/printer/nodes.go.html#6160975">i</a></span><span class="op" id="6161852">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6161863">if</span>&nbsp;<span class="ident" id="6161866"><a href="/go/printer/nodes.go.html#6160887">nindent</a></span>&nbsp;<span class="op" id="6161874">&gt;</span>&nbsp;<span class="num" id="6161876">0</span>&nbsp;<span class="op" id="6161878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6161882"><a href="/go/printer/nodes.go.html#6160849">p</a></span><span class="op" id="6161883">.</span><span class="builtinfunc" id="6161884">print</span><span class="op" id="6161889">(</span><span class="ident" id="6161890"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6161898">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6161901">}</span><br>
<span class="lineno"></span><span class="op" id="6161903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6161906">//&nbsp;block&nbsp;prints&nbsp;an&nbsp;*ast.BlockStmt;&nbsp;it&nbsp;always&nbsp;spans&nbsp;at&nbsp;least&nbsp;two&nbsp;lines.</span><br>
<span class="lineno"></span><span class="keyword" id="6161977">func</span>&nbsp;<span class="op" id="6161982">(</span><span class="ident" id="6161983">p</span>&nbsp;<span class="op" id="6161985">*</span><span class="ident" id="6161986"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6161993">)</span>&nbsp;<span class="ident" id="6161995">block</span><span class="op" id="6162000">(</span><span class="ident" id="6162001">b</span>&nbsp;<span class="op" id="6162003">*</span><span class="ident" id="6162004"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162007">.</span><span class="ident" id="6162008">BlockStmt</span><span class="op" id="6162017">,</span>&nbsp;<span class="ident" id="6162019">nindent</span>&nbsp;<span class="builtintype" id="6162027">int</span><span class="op" id="6162030">)</span>&nbsp;<span class="op" id="6162032">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162035"><a href="/go/printer/nodes.go.html#6161983">p</a></span><span class="op" id="6162036">.</span><span class="builtinfunc" id="6162037">print</span><span class="op" id="6162042">(</span><span class="ident" id="6162043"><a href="/go/printer/nodes.go.html#6162001">b</a></span><span class="op" id="6162044">.</span><span class="ident" id="6162045">Lbrace</span><span class="op" id="6162051">,</span>&nbsp;<span class="ident" id="6162053"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6162058">.</span><span class="ident" id="6162059">LBRACE</span><span class="op" id="6162065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162068"><a href="/go/printer/nodes.go.html#6161983">p</a></span><span class="op" id="6162069">.</span><span class="ident" id="6162070">stmtList</span><span class="op" id="6162078">(</span><span class="ident" id="6162079"><a href="/go/printer/nodes.go.html#6162001">b</a></span><span class="op" id="6162080">.</span><span class="ident" id="6162081">List</span><span class="op" id="6162085">,</span>&nbsp;<span class="ident" id="6162087"><a href="/go/printer/nodes.go.html#6162019">nindent</a></span><span class="op" id="6162094">,</span>&nbsp;<span class="ident" id="6162096">true</span><span class="op" id="6162100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162103"><a href="/go/printer/nodes.go.html#6161983">p</a></span><span class="op" id="6162104">.</span><span class="ident" id="6162105">linebreak</span><span class="op" id="6162114">(</span><span class="ident" id="6162115"><a href="/go/printer/nodes.go.html#6161983">p</a></span><span class="op" id="6162116">.</span><span class="ident" id="6162117">lineFor</span><span class="op" id="6162124">(</span><span class="ident" id="6162125"><a href="/go/printer/nodes.go.html#6162001">b</a></span><span class="op" id="6162126">.</span><span class="ident" id="6162127">Rbrace</span><span class="op" id="6162133">)</span><span class="op" id="6162134">,</span>&nbsp;<span class="num" id="6162136">1</span><span class="op" id="6162137">,</span>&nbsp;<span class="ident" id="6162139"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6162145">,</span>&nbsp;<span class="ident" id="6162147">true</span><span class="op" id="6162151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162154"><a href="/go/printer/nodes.go.html#6161983">p</a></span><span class="op" id="6162155">.</span><span class="builtinfunc" id="6162156">print</span><span class="op" id="6162161">(</span><span class="ident" id="6162162"><a href="/go/printer/nodes.go.html#6162001">b</a></span><span class="op" id="6162163">.</span><span class="ident" id="6162164">Rbrace</span><span class="op" id="6162170">,</span>&nbsp;<span class="ident" id="6162172"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6162177">.</span><span class="ident" id="6162178">RBRACE</span><span class="op" id="6162184">)</span><br>
<span class="lineno"></span><span class="op" id="6162186">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span><span class="keyword" id="6162189">func</span>&nbsp;<span class="ident" id="6162194">isTypeName</span><span class="op" id="6162204">(</span><span class="ident" id="6162205">x</span>&nbsp;<span class="ident" id="6162207"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162210">.</span><span class="ident" id="6162211">Expr</span><span class="op" id="6162215">)</span>&nbsp;<span class="builtintype" id="6162217">bool</span>&nbsp;<span class="op" id="6162222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162225">switch</span>&nbsp;<span class="ident" id="6162232">t</span>&nbsp;<span class="op" id="6162234">:=</span>&nbsp;<span class="ident" id="6162237"><a href="/go/printer/nodes.go.html#6162205">x</a></span><span class="op" id="6162238">.</span><span class="op" id="6162239">(</span><span class="keyword" id="6162240">type</span><span class="op" id="6162244">)</span>&nbsp;<span class="op" id="6162246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162249">case</span>&nbsp;<span class="op" id="6162254">*</span><span class="ident" id="6162255"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162258">.</span><span class="ident" id="6162259">Ident</span><span class="op" id="6162264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162268">return</span>&nbsp;<span class="ident" id="6162275">true</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162281">case</span>&nbsp;<span class="op" id="6162286">*</span><span class="ident" id="6162287"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162290">.</span><span class="ident" id="6162291">SelectorExpr</span><span class="op" id="6162303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162307">return</span>&nbsp;<span class="ident" id="6162314"><a href="/go/printer/nodes.go.html#6162194">isTypeName</a></span><span class="op" id="6162324">(</span><span class="ident" id="6162325"><a href="/go/printer/nodes.go.html#6162232">t</a></span><span class="op" id="6162326">.</span><span class="ident" id="6162327">X</span><span class="op" id="6162328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162334">return</span>&nbsp;<span class="ident" id="6162341">false</span><br>
<span class="lineno"></span><span class="op" id="6162347">}</span><br>
<span class="lineno">960</span><br>
<span class="lineno"></span><span class="keyword" id="6162350">func</span>&nbsp;<span class="ident" id="6162355">stripParens</span><span class="op" id="6162366">(</span><span class="ident" id="6162367">x</span>&nbsp;<span class="ident" id="6162369"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162372">.</span><span class="ident" id="6162373">Expr</span><span class="op" id="6162377">)</span>&nbsp;<span class="ident" id="6162379"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162382">.</span><span class="ident" id="6162383">Expr</span>&nbsp;<span class="op" id="6162388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162391">if</span>&nbsp;<span class="ident" id="6162394">px</span><span class="op" id="6162396">,</span>&nbsp;<span class="ident" id="6162398">strip</span>&nbsp;<span class="op" id="6162404">:=</span>&nbsp;<span class="ident" id="6162407"><a href="/go/printer/nodes.go.html#6162367">x</a></span><span class="op" id="6162408">.</span><span class="op" id="6162409">(</span><span class="op" id="6162410">*</span><span class="ident" id="6162411"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162414">.</span><span class="ident" id="6162415">ParenExpr</span><span class="op" id="6162424">)</span><span class="op" id="6162425">;</span>&nbsp;<span class="ident" id="6162427"><a href="/go/printer/nodes.go.html#6162398">strip</a></span>&nbsp;<span class="op" id="6162433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6162437">//&nbsp;parentheses&nbsp;must&nbsp;not&nbsp;be&nbsp;stripped&nbsp;if&nbsp;there&nbsp;are&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6162492">//&nbsp;unparenthesized&nbsp;composite&nbsp;literals&nbsp;starting&nbsp;with</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6162546">//&nbsp;a&nbsp;type&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162563"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162566">.</span><span class="ident" id="6162567">Inspect</span><span class="op" id="6162574">(</span><span class="ident" id="6162575"><a href="/go/printer/nodes.go.html#6162394">px</a></span><span class="op" id="6162577">.</span><span class="ident" id="6162578">X</span><span class="op" id="6162579">,</span>&nbsp;<span class="keyword" id="6162581">func</span><span class="op" id="6162585">(</span><span class="ident" id="6162586">node</span>&nbsp;<span class="ident" id="6162591"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162594">.</span><span class="ident" id="6162595">Node</span><span class="op" id="6162599">)</span>&nbsp;<span class="builtintype" id="6162601">bool</span>&nbsp;<span class="op" id="6162606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162611">switch</span>&nbsp;<span class="ident" id="6162618">x</span>&nbsp;<span class="op" id="6162620">:=</span>&nbsp;<span class="ident" id="6162623"><a href="/go/printer/nodes.go.html#6162586">node</a></span><span class="op" id="6162627">.</span><span class="op" id="6162628">(</span><span class="keyword" id="6162629">type</span><span class="op" id="6162633">)</span>&nbsp;<span class="op" id="6162635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162640">case</span>&nbsp;<span class="op" id="6162645">*</span><span class="ident" id="6162646"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162649">.</span><span class="ident" id="6162650">ParenExpr</span><span class="op" id="6162659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6162665">//&nbsp;parentheses&nbsp;protect&nbsp;enclosed&nbsp;composite&nbsp;literals</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162720">return</span>&nbsp;<span class="ident" id="6162727">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162736">case</span>&nbsp;<span class="op" id="6162741">*</span><span class="ident" id="6162742"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6162745">.</span><span class="ident" id="6162746">CompositeLit</span><span class="op" id="6162758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162764">if</span>&nbsp;<span class="ident" id="6162767"><a href="/go/printer/nodes.go.html#6162194">isTypeName</a></span><span class="op" id="6162777">(</span><span class="ident" id="6162778"><a href="/go/printer/nodes.go.html#6162618">x</a></span><span class="op" id="6162779">.</span><span class="ident" id="6162780">Type</span><span class="op" id="6162784">)</span>&nbsp;<span class="op" id="6162786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162793"><a href="/go/printer/nodes.go.html#6162398">strip</a></span>&nbsp;<span class="op" id="6162799">=</span>&nbsp;<span class="ident" id="6162801">false</span>&nbsp;<span class="comment" id="6162807">//&nbsp;do&nbsp;not&nbsp;strip&nbsp;parentheses</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162839">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162845">return</span>&nbsp;<span class="ident" id="6162852">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6162866">//&nbsp;in&nbsp;all&nbsp;other&nbsp;cases,&nbsp;keep&nbsp;inspecting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162908">return</span>&nbsp;<span class="ident" id="6162915">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162922">}</span><span class="op" id="6162923">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162927">if</span>&nbsp;<span class="ident" id="6162930"><a href="/go/printer/nodes.go.html#6162398">strip</a></span>&nbsp;<span class="op" id="6162936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162941">return</span>&nbsp;<span class="ident" id="6162948"><a href="/go/printer/nodes.go.html#6162355">stripParens</a></span><span class="op" id="6162959">(</span><span class="ident" id="6162960"><a href="/go/printer/nodes.go.html#6162394">px</a></span><span class="op" id="6162962">.</span><span class="ident" id="6162963">X</span><span class="op" id="6162964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6162971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6162974">return</span>&nbsp;<span class="ident" id="6162981"><a href="/go/printer/nodes.go.html#6162367">x</a></span><br>
<span class="lineno">985</span><span class="op" id="6162983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6162986">func</span>&nbsp;<span class="ident" id="6162991">stripParensAlways</span><span class="op" id="6163008">(</span><span class="ident" id="6163009">x</span>&nbsp;<span class="ident" id="6163011"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163014">.</span><span class="ident" id="6163015">Expr</span><span class="op" id="6163019">)</span>&nbsp;<span class="ident" id="6163021"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163024">.</span><span class="ident" id="6163025">Expr</span>&nbsp;<span class="op" id="6163030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163033">if</span>&nbsp;<span class="ident" id="6163036">x</span><span class="op" id="6163037">,</span>&nbsp;<span class="ident" id="6163039">ok</span>&nbsp;<span class="op" id="6163042">:=</span>&nbsp;<span class="ident" id="6163045"><a href="/go/printer/nodes.go.html#6163009">x</a></span><span class="op" id="6163046">.</span><span class="op" id="6163047">(</span><span class="op" id="6163048">*</span><span class="ident" id="6163049"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163052">.</span><span class="ident" id="6163053">ParenExpr</span><span class="op" id="6163062">)</span><span class="op" id="6163063">;</span>&nbsp;<span class="ident" id="6163065"><a href="/go/printer/nodes.go.html#6163039">ok</a></span>&nbsp;<span class="op" id="6163068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163072">return</span>&nbsp;<span class="ident" id="6163079"><a href="/go/printer/nodes.go.html#6162991">stripParensAlways</a></span><span class="op" id="6163096">(</span><span class="ident" id="6163097"><a href="/go/printer/nodes.go.html#6163036">x</a></span><span class="op" id="6163098">.</span><span class="ident" id="6163099">X</span><span class="op" id="6163100">)</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163106">return</span>&nbsp;<span class="ident" id="6163113"><a href="/go/printer/nodes.go.html#6163009">x</a></span><br>
<span class="lineno"></span><span class="op" id="6163115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6163118">func</span>&nbsp;<span class="op" id="6163123">(</span><span class="ident" id="6163124">p</span>&nbsp;<span class="op" id="6163126">*</span><span class="ident" id="6163127"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6163134">)</span>&nbsp;<span class="ident" id="6163136">controlClause</span><span class="op" id="6163149">(</span><span class="ident" id="6163150">isForStmt</span>&nbsp;<span class="builtintype" id="6163160">bool</span><span class="op" id="6163164">,</span>&nbsp;<span class="ident" id="6163166">init</span>&nbsp;<span class="ident" id="6163171"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163174">.</span><span class="ident" id="6163175">Stmt</span><span class="op" id="6163179">,</span>&nbsp;<span class="ident" id="6163181">expr</span>&nbsp;<span class="ident" id="6163186"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163189">.</span><span class="ident" id="6163190">Expr</span><span class="op" id="6163194">,</span>&nbsp;<span class="ident" id="6163196">post</span>&nbsp;<span class="ident" id="6163201"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6163204">.</span><span class="ident" id="6163205">Stmt</span><span class="op" id="6163209">)</span>&nbsp;<span class="op" id="6163211">{</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163214"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163215">.</span><span class="builtinfunc" id="6163216">print</span><span class="op" id="6163221">(</span><span class="ident" id="6163222"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6163227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163230">needsBlank</span>&nbsp;<span class="op" id="6163241">:=</span>&nbsp;<span class="ident" id="6163244">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163251">if</span>&nbsp;<span class="ident" id="6163254"><a href="/go/printer/nodes.go.html#6163166">init</a></span>&nbsp;<span class="op" id="6163259">==</span>&nbsp;<span class="ident" id="6163262">nil</span>&nbsp;<span class="op" id="6163266">&amp;&amp;</span>&nbsp;<span class="ident" id="6163269"><a href="/go/printer/nodes.go.html#6163196">post</a></span>&nbsp;<span class="op" id="6163274">==</span>&nbsp;<span class="ident" id="6163277">nil</span>&nbsp;<span class="op" id="6163281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6163285">//&nbsp;no&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163313">if</span>&nbsp;<span class="ident" id="6163316"><a href="/go/printer/nodes.go.html#6163181">expr</a></span>&nbsp;<span class="op" id="6163321">!=</span>&nbsp;<span class="ident" id="6163324">nil</span>&nbsp;<span class="op" id="6163328">{</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163333"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163334">.</span><span class="ident" id="6163335">expr</span><span class="op" id="6163339">(</span><span class="ident" id="6163340"><a href="/go/printer/nodes.go.html#6162355">stripParens</a></span><span class="op" id="6163351">(</span><span class="ident" id="6163352"><a href="/go/printer/nodes.go.html#6163181">expr</a></span><span class="op" id="6163356">)</span><span class="op" id="6163357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163362"><a href="/go/printer/nodes.go.html#6163230">needsBlank</a></span>&nbsp;<span class="op" id="6163373">=</span>&nbsp;<span class="ident" id="6163375">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163385">}</span>&nbsp;<span class="keyword" id="6163387">else</span>&nbsp;<span class="op" id="6163392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6163396">//&nbsp;all&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6163425">//&nbsp;(they&nbsp;are&nbsp;not&nbsp;separators,&nbsp;print&nbsp;them&nbsp;explicitly)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163479">if</span>&nbsp;<span class="ident" id="6163482"><a href="/go/printer/nodes.go.html#6163166">init</a></span>&nbsp;<span class="op" id="6163487">!=</span>&nbsp;<span class="ident" id="6163490">nil</span>&nbsp;<span class="op" id="6163494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163499"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163500">.</span><span class="ident" id="6163501">stmt</span><span class="op" id="6163505">(</span><span class="ident" id="6163506"><a href="/go/printer/nodes.go.html#6163166">init</a></span><span class="op" id="6163510">,</span>&nbsp;<span class="ident" id="6163512">false</span><span class="op" id="6163517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163525"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163526">.</span><span class="builtinfunc" id="6163527">print</span><span class="op" id="6163532">(</span><span class="ident" id="6163533"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6163538">.</span><span class="ident" id="6163539">SEMICOLON</span><span class="op" id="6163548">,</span>&nbsp;<span class="ident" id="6163550"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6163555">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163559">if</span>&nbsp;<span class="ident" id="6163562"><a href="/go/printer/nodes.go.html#6163181">expr</a></span>&nbsp;<span class="op" id="6163567">!=</span>&nbsp;<span class="ident" id="6163570">nil</span>&nbsp;<span class="op" id="6163574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163579"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163580">.</span><span class="ident" id="6163581">expr</span><span class="op" id="6163585">(</span><span class="ident" id="6163586"><a href="/go/printer/nodes.go.html#6162355">stripParens</a></span><span class="op" id="6163597">(</span><span class="ident" id="6163598"><a href="/go/printer/nodes.go.html#6163181">expr</a></span><span class="op" id="6163602">)</span><span class="op" id="6163603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163608"><a href="/go/printer/nodes.go.html#6163230">needsBlank</a></span>&nbsp;<span class="op" id="6163619">=</span>&nbsp;<span class="ident" id="6163621">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163632">if</span>&nbsp;<span class="ident" id="6163635"><a href="/go/printer/nodes.go.html#6163150">isForStmt</a></span>&nbsp;<span class="op" id="6163645">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163650"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163651">.</span><span class="builtinfunc" id="6163652">print</span><span class="op" id="6163657">(</span><span class="ident" id="6163658"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6163663">.</span><span class="ident" id="6163664">SEMICOLON</span><span class="op" id="6163673">,</span>&nbsp;<span class="ident" id="6163675"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6163680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163685"><a href="/go/printer/nodes.go.html#6163230">needsBlank</a></span>&nbsp;<span class="op" id="6163696">=</span>&nbsp;<span class="ident" id="6163698">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163707">if</span>&nbsp;<span class="ident" id="6163710"><a href="/go/printer/nodes.go.html#6163196">post</a></span>&nbsp;<span class="op" id="6163715">!=</span>&nbsp;<span class="ident" id="6163718">nil</span>&nbsp;<span class="op" id="6163722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163728"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163729">.</span><span class="ident" id="6163730">stmt</span><span class="op" id="6163734">(</span><span class="ident" id="6163735"><a href="/go/printer/nodes.go.html#6163196">post</a></span><span class="op" id="6163739">,</span>&nbsp;<span class="ident" id="6163741">false</span><span class="op" id="6163746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163752"><a href="/go/printer/nodes.go.html#6163230">needsBlank</a></span>&nbsp;<span class="op" id="6163763">=</span>&nbsp;<span class="ident" id="6163765">true</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163783">if</span>&nbsp;<span class="ident" id="6163786"><a href="/go/printer/nodes.go.html#6163230">needsBlank</a></span>&nbsp;<span class="op" id="6163797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163801"><a href="/go/printer/nodes.go.html#6163124">p</a></span><span class="op" id="6163802">.</span><span class="builtinfunc" id="6163803">print</span><span class="op" id="6163808">(</span><span class="ident" id="6163809"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6163814">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163817">}</span><br>
<span class="lineno"></span><span class="op" id="6163819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6163822">//&nbsp;indentList&nbsp;reports&nbsp;whether&nbsp;an&nbsp;expression&nbsp;list&nbsp;would&nbsp;look&nbsp;better&nbsp;if&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="6163895">//&nbsp;were&nbsp;indented&nbsp;wholesale&nbsp;(starting&nbsp;with&nbsp;the&nbsp;very&nbsp;first&nbsp;element,&nbsp;rather</span><br>
<span class="lineno">1030</span><span class="comment" id="6163968">//&nbsp;than&nbsp;starting&nbsp;at&nbsp;the&nbsp;first&nbsp;line&nbsp;break).</span><br>
<span class="lineno"></span><span class="comment" id="6164011">//</span><br>
<span class="lineno"></span><span class="keyword" id="6164014">func</span>&nbsp;<span class="op" id="6164019">(</span><span class="ident" id="6164020">p</span>&nbsp;<span class="op" id="6164022">*</span><span class="ident" id="6164023"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6164030">)</span>&nbsp;<span class="ident" id="6164032">indentList</span><span class="op" id="6164042">(</span><span class="ident" id="6164043">list</span>&nbsp;<span class="op" id="6164048">[</span><span class="op" id="6164049">]</span><span class="ident" id="6164050"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6164053">.</span><span class="ident" id="6164054">Expr</span><span class="op" id="6164058">)</span>&nbsp;<span class="builtintype" id="6164060">bool</span>&nbsp;<span class="op" id="6164065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164068">//&nbsp;Heuristic:&nbsp;indentList&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than&nbsp;one&nbsp;multi-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164141">//&nbsp;line&nbsp;element&nbsp;in&nbsp;the&nbsp;list,&nbsp;or&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;element&nbsp;that&nbsp;is&nbsp;not</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164210">//&nbsp;starting&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ends.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164266">if</span>&nbsp;<span class="builtinfunc" id="6164269">len</span><span class="op" id="6164272">(</span><span class="ident" id="6164273"><a href="/go/printer/nodes.go.html#6164043">list</a></span><span class="op" id="6164277">)</span>&nbsp;<span class="op" id="6164279">&gt;=</span>&nbsp;<span class="num" id="6164282">2</span>&nbsp;<span class="op" id="6164284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164288">var</span>&nbsp;<span class="ident" id="6164292">b</span>&nbsp;<span class="op" id="6164294">=</span>&nbsp;<span class="ident" id="6164296"><a href="/go/printer/nodes.go.html#6164020">p</a></span><span class="op" id="6164297">.</span><span class="ident" id="6164298">lineFor</span><span class="op" id="6164305">(</span><span class="ident" id="6164306"><a href="/go/printer/nodes.go.html#6164043">list</a></span><span class="op" id="6164310">[</span><span class="num" id="6164311">0</span><span class="op" id="6164312">]</span><span class="op" id="6164313">.</span><span class="ident" id="6164314">Pos</span><span class="op" id="6164317">(</span><span class="op" id="6164318">)</span><span class="op" id="6164319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164323">var</span>&nbsp;<span class="ident" id="6164327">e</span>&nbsp;<span class="op" id="6164329">=</span>&nbsp;<span class="ident" id="6164331"><a href="/go/printer/nodes.go.html#6164020">p</a></span><span class="op" id="6164332">.</span><span class="ident" id="6164333">lineFor</span><span class="op" id="6164340">(</span><span class="ident" id="6164341"><a href="/go/printer/nodes.go.html#6164043">list</a></span><span class="op" id="6164345">[</span><span class="builtinfunc" id="6164346">len</span><span class="op" id="6164349">(</span><span class="ident" id="6164350"><a href="/go/printer/nodes.go.html#6164043">list</a></span><span class="op" id="6164354">)</span><span class="op" id="6164355">-</span><span class="num" id="6164356">1</span><span class="op" id="6164357">]</span><span class="op" id="6164358">.</span><span class="ident" id="6164359">End</span><span class="op" id="6164362">(</span><span class="op" id="6164363">)</span><span class="op" id="6164364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164368">if</span>&nbsp;<span class="num" id="6164371">0</span>&nbsp;<span class="op" id="6164373">&lt;</span>&nbsp;<span class="ident" id="6164375"><a href="/go/printer/nodes.go.html#6164292">b</a></span>&nbsp;<span class="op" id="6164377">&amp;&amp;</span>&nbsp;<span class="ident" id="6164380"><a href="/go/printer/nodes.go.html#6164292">b</a></span>&nbsp;<span class="op" id="6164382">&lt;</span>&nbsp;<span class="ident" id="6164384"><a href="/go/printer/nodes.go.html#6164327">e</a></span>&nbsp;<span class="op" id="6164386">{</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164391">//&nbsp;list&nbsp;spans&nbsp;multiple&nbsp;lines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164423">n</span>&nbsp;<span class="op" id="6164425">:=</span>&nbsp;<span class="num" id="6164428">0</span>&nbsp;<span class="comment" id="6164430">//&nbsp;multi-line&nbsp;element&nbsp;count</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164461">line</span>&nbsp;<span class="op" id="6164466">:=</span>&nbsp;<span class="ident" id="6164469"><a href="/go/printer/nodes.go.html#6164292">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164474">for</span>&nbsp;<span class="ident" id="6164478">_</span><span class="op" id="6164479">,</span>&nbsp;<span class="ident" id="6164481">x</span>&nbsp;<span class="op" id="6164483">:=</span>&nbsp;<span class="keyword" id="6164486">range</span>&nbsp;<span class="ident" id="6164492"><a href="/go/printer/nodes.go.html#6164043">list</a></span>&nbsp;<span class="op" id="6164497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164503">xb</span>&nbsp;<span class="op" id="6164506">:=</span>&nbsp;<span class="ident" id="6164509"><a href="/go/printer/nodes.go.html#6164020">p</a></span><span class="op" id="6164510">.</span><span class="ident" id="6164511">lineFor</span><span class="op" id="6164518">(</span><span class="ident" id="6164519"><a href="/go/printer/nodes.go.html#6164481">x</a></span><span class="op" id="6164520">.</span><span class="ident" id="6164521">Pos</span><span class="op" id="6164524">(</span><span class="op" id="6164525">)</span><span class="op" id="6164526">)</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164532">xe</span>&nbsp;<span class="op" id="6164535">:=</span>&nbsp;<span class="ident" id="6164538"><a href="/go/printer/nodes.go.html#6164020">p</a></span><span class="op" id="6164539">.</span><span class="ident" id="6164540">lineFor</span><span class="op" id="6164547">(</span><span class="ident" id="6164548"><a href="/go/printer/nodes.go.html#6164481">x</a></span><span class="op" id="6164549">.</span><span class="ident" id="6164550">End</span><span class="op" id="6164553">(</span><span class="op" id="6164554">)</span><span class="op" id="6164555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164561">if</span>&nbsp;<span class="ident" id="6164564"><a href="/go/printer/nodes.go.html#6164461">line</a></span>&nbsp;<span class="op" id="6164569">&lt;</span>&nbsp;<span class="ident" id="6164571"><a href="/go/printer/nodes.go.html#6164503">xb</a></span>&nbsp;<span class="op" id="6164574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164581">//&nbsp;x&nbsp;is&nbsp;not&nbsp;starting&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164619">//&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ended</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164658">return</span>&nbsp;<span class="ident" id="6164665">true</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164680">if</span>&nbsp;<span class="ident" id="6164683"><a href="/go/printer/nodes.go.html#6164503">xb</a></span>&nbsp;<span class="op" id="6164686">&lt;</span>&nbsp;<span class="ident" id="6164688"><a href="/go/printer/nodes.go.html#6164532">xe</a></span>&nbsp;<span class="op" id="6164691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6164698">//&nbsp;x&nbsp;is&nbsp;a&nbsp;multi-line&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164732"><a href="/go/printer/nodes.go.html#6164423">n</a></span><span class="op" id="6164733">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164740">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164746"><a href="/go/printer/nodes.go.html#6164461">line</a></span>&nbsp;<span class="op" id="6164751">=</span>&nbsp;<span class="ident" id="6164753"><a href="/go/printer/nodes.go.html#6164532">xe</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164764">return</span>&nbsp;<span class="ident" id="6164771"><a href="/go/printer/nodes.go.html#6164423">n</a></span>&nbsp;<span class="op" id="6164773">&gt;</span>&nbsp;<span class="num" id="6164775">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164782">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164785">return</span>&nbsp;<span class="ident" id="6164792">false</span><br>
<span class="lineno"></span><span class="op" id="6164798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6164801">func</span>&nbsp;<span class="op" id="6164806">(</span><span class="ident" id="6164807">p</span>&nbsp;<span class="op" id="6164809">*</span><span class="ident" id="6164810"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6164817">)</span>&nbsp;<span class="ident" id="6164819">stmt</span><span class="op" id="6164823">(</span><span class="ident" id="6164824">stmt</span>&nbsp;<span class="ident" id="6164829"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6164832">.</span><span class="ident" id="6164833">Stmt</span><span class="op" id="6164837">,</span>&nbsp;<span class="ident" id="6164839">nextIsRBrace</span>&nbsp;<span class="builtintype" id="6164852">bool</span><span class="op" id="6164856">)</span>&nbsp;<span class="op" id="6164858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164861"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6164862">.</span><span class="builtinfunc" id="6164863">print</span><span class="op" id="6164868">(</span><span class="ident" id="6164869"><a href="/go/printer/nodes.go.html#6164824">stmt</a></span><span class="op" id="6164873">.</span><span class="ident" id="6164874">Pos</span><span class="op" id="6164877">(</span><span class="op" id="6164878">)</span><span class="op" id="6164879">)</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164883">switch</span>&nbsp;<span class="ident" id="6164890">s</span>&nbsp;<span class="op" id="6164892">:=</span>&nbsp;<span class="ident" id="6164895"><a href="/go/printer/nodes.go.html#6164824">stmt</a></span><span class="op" id="6164899">.</span><span class="op" id="6164900">(</span><span class="keyword" id="6164901">type</span><span class="op" id="6164905">)</span>&nbsp;<span class="op" id="6164907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164910">case</span>&nbsp;<span class="op" id="6164915">*</span><span class="ident" id="6164916"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6164919">.</span><span class="ident" id="6164920">BadStmt</span><span class="op" id="6164927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164931"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6164932">.</span><span class="builtinfunc" id="6164933">print</span><span class="op" id="6164938">(</span><span class="string" id="6164939">&#34;BadStmt&#34;</span><span class="op" id="6164948">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164952">case</span>&nbsp;<span class="op" id="6164957">*</span><span class="ident" id="6164958"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6164961">.</span><span class="ident" id="6164962">DeclStmt</span><span class="op" id="6164970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164974"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6164975">.</span><span class="ident" id="6164976">decl</span><span class="op" id="6164980">(</span><span class="ident" id="6164981"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6164982">.</span><span class="ident" id="6164983">Decl</span><span class="op" id="6164987">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164991">case</span>&nbsp;<span class="op" id="6164996">*</span><span class="ident" id="6164997"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165000">.</span><span class="ident" id="6165001">EmptyStmt</span><span class="op" id="6165010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6165014">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165033">case</span>&nbsp;<span class="op" id="6165038">*</span><span class="ident" id="6165039"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165042">.</span><span class="ident" id="6165043">LabeledStmt</span><span class="op" id="6165054">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6165058">//&nbsp;a&nbsp;&#34;correcting&#34;&nbsp;unindent&nbsp;immediately&nbsp;following&nbsp;a&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6165122">//&nbsp;is&nbsp;applied&nbsp;before&nbsp;the&nbsp;line&nbsp;break&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6165183">//&nbsp;between&nbsp;(see&nbsp;writeWhitespace)</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165218"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165219">.</span><span class="builtinfunc" id="6165220">print</span><span class="op" id="6165225">(</span><span class="ident" id="6165226"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6165234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165238"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165239">.</span><span class="ident" id="6165240">expr</span><span class="op" id="6165244">(</span><span class="ident" id="6165245"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165246">.</span><span class="ident" id="6165247">Label</span><span class="op" id="6165252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165256"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165257">.</span><span class="builtinfunc" id="6165258">print</span><span class="op" id="6165263">(</span><span class="ident" id="6165264"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165265">.</span><span class="ident" id="6165266">Colon</span><span class="op" id="6165271">,</span>&nbsp;<span class="ident" id="6165273"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6165278">.</span><span class="ident" id="6165279">COLON</span><span class="op" id="6165284">,</span>&nbsp;<span class="ident" id="6165286"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6165292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165296">if</span>&nbsp;<span class="ident" id="6165299">e</span><span class="op" id="6165300">,</span>&nbsp;<span class="ident" id="6165302">isEmpty</span>&nbsp;<span class="op" id="6165310">:=</span>&nbsp;<span class="ident" id="6165313"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165314">.</span><span class="ident" id="6165315">Stmt</span><span class="op" id="6165319">.</span><span class="op" id="6165320">(</span><span class="op" id="6165321">*</span><span class="ident" id="6165322"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165325">.</span><span class="ident" id="6165326">EmptyStmt</span><span class="op" id="6165335">)</span><span class="op" id="6165336">;</span>&nbsp;<span class="ident" id="6165338"><a href="/go/printer/nodes.go.html#6165302">isEmpty</a></span>&nbsp;<span class="op" id="6165346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165351">if</span>&nbsp;<span class="op" id="6165354">!</span><span class="ident" id="6165355"><a href="/go/printer/nodes.go.html#6164839">nextIsRBrace</a></span>&nbsp;<span class="op" id="6165368">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165374"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165375">.</span><span class="builtinfunc" id="6165376">print</span><span class="op" id="6165381">(</span><span class="ident" id="6165382"><a href="/go/printer/printer.go.html#6179121">newline</a></span><span class="op" id="6165389">,</span>&nbsp;<span class="ident" id="6165391"><a href="/go/printer/nodes.go.html#6165299">e</a></span><span class="op" id="6165392">.</span><span class="ident" id="6165393">Pos</span><span class="op" id="6165396">(</span><span class="op" id="6165397">)</span><span class="op" id="6165398">,</span>&nbsp;<span class="ident" id="6165400"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6165405">.</span><span class="ident" id="6165406">SEMICOLON</span><span class="op" id="6165415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165421">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165434">}</span>&nbsp;<span class="keyword" id="6165436">else</span>&nbsp;<span class="op" id="6165441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165446"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165447">.</span><span class="ident" id="6165448">linebreak</span><span class="op" id="6165457">(</span><span class="ident" id="6165458"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165459">.</span><span class="ident" id="6165460">lineFor</span><span class="op" id="6165467">(</span><span class="ident" id="6165468"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165469">.</span><span class="ident" id="6165470">Stmt</span><span class="op" id="6165474">.</span><span class="ident" id="6165475">Pos</span><span class="op" id="6165478">(</span><span class="op" id="6165479">)</span><span class="op" id="6165480">)</span><span class="op" id="6165481">,</span>&nbsp;<span class="num" id="6165483">1</span><span class="op" id="6165484">,</span>&nbsp;<span class="ident" id="6165486"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6165492">,</span>&nbsp;<span class="ident" id="6165494">true</span><span class="op" id="6165498">)</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165506"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165507">.</span><span class="ident" id="6165508">stmt</span><span class="op" id="6165512">(</span><span class="ident" id="6165513"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165514">.</span><span class="ident" id="6165515">Stmt</span><span class="op" id="6165519">,</span>&nbsp;<span class="ident" id="6165521"><a href="/go/printer/nodes.go.html#6164839">nextIsRBrace</a></span><span class="op" id="6165533">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165537">case</span>&nbsp;<span class="op" id="6165542">*</span><span class="ident" id="6165543"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165546">.</span><span class="ident" id="6165547">ExprStmt</span><span class="op" id="6165555">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165559">const</span>&nbsp;<span class="ident" id="6165565">depth</span>&nbsp;<span class="op" id="6165571">=</span>&nbsp;<span class="num" id="6165573">1</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165577"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165578">.</span><span class="ident" id="6165579">expr0</span><span class="op" id="6165584">(</span><span class="ident" id="6165585"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165586">.</span><span class="ident" id="6165587">X</span><span class="op" id="6165588">,</span>&nbsp;<span class="ident" id="6165590"><a href="/go/printer/nodes.go.html#6165565">depth</a></span><span class="op" id="6165595">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165599">case</span>&nbsp;<span class="op" id="6165604">*</span><span class="ident" id="6165605"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165608">.</span><span class="ident" id="6165609">SendStmt</span><span class="op" id="6165617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165621">const</span>&nbsp;<span class="ident" id="6165627">depth</span>&nbsp;<span class="op" id="6165633">=</span>&nbsp;<span class="num" id="6165635">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165639"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165640">.</span><span class="ident" id="6165641">expr0</span><span class="op" id="6165646">(</span><span class="ident" id="6165647"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165648">.</span><span class="ident" id="6165649">Chan</span><span class="op" id="6165653">,</span>&nbsp;<span class="ident" id="6165655"><a href="/go/printer/nodes.go.html#6165627">depth</a></span><span class="op" id="6165660">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165664"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165665">.</span><span class="builtinfunc" id="6165666">print</span><span class="op" id="6165671">(</span><span class="ident" id="6165672"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6165677">,</span>&nbsp;<span class="ident" id="6165679"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165680">.</span><span class="ident" id="6165681">Arrow</span><span class="op" id="6165686">,</span>&nbsp;<span class="ident" id="6165688"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6165693">.</span><span class="ident" id="6165694">ARROW</span><span class="op" id="6165699">,</span>&nbsp;<span class="ident" id="6165701"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6165706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165710"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165711">.</span><span class="ident" id="6165712">expr0</span><span class="op" id="6165717">(</span><span class="ident" id="6165718"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165719">.</span><span class="ident" id="6165720">Value</span><span class="op" id="6165725">,</span>&nbsp;<span class="ident" id="6165727"><a href="/go/printer/nodes.go.html#6165627">depth</a></span><span class="op" id="6165732">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165736">case</span>&nbsp;<span class="op" id="6165741">*</span><span class="ident" id="6165742"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165745">.</span><span class="ident" id="6165746">IncDecStmt</span><span class="op" id="6165756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165760">const</span>&nbsp;<span class="ident" id="6165766">depth</span>&nbsp;<span class="op" id="6165772">=</span>&nbsp;<span class="num" id="6165774">1</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165778"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165779">.</span><span class="ident" id="6165780">expr0</span><span class="op" id="6165785">(</span><span class="ident" id="6165786"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165787">.</span><span class="ident" id="6165788">X</span><span class="op" id="6165789">,</span>&nbsp;<span class="ident" id="6165791"><a href="/go/printer/nodes.go.html#6165766">depth</a></span><span class="op" id="6165796">+</span><span class="num" id="6165797">1</span><span class="op" id="6165798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165802"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165803">.</span><span class="builtinfunc" id="6165804">print</span><span class="op" id="6165809">(</span><span class="ident" id="6165810"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165811">.</span><span class="ident" id="6165812">TokPos</span><span class="op" id="6165818">,</span>&nbsp;<span class="ident" id="6165820"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165821">.</span><span class="ident" id="6165822">Tok</span><span class="op" id="6165825">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165829">case</span>&nbsp;<span class="op" id="6165834">*</span><span class="ident" id="6165835"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6165838">.</span><span class="ident" id="6165839">AssignStmt</span><span class="op" id="6165849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165853">var</span>&nbsp;<span class="ident" id="6165857">depth</span>&nbsp;<span class="op" id="6165863">=</span>&nbsp;<span class="num" id="6165865">1</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165869">if</span>&nbsp;<span class="builtinfunc" id="6165872">len</span><span class="op" id="6165875">(</span><span class="ident" id="6165876"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165877">.</span><span class="ident" id="6165878">Lhs</span><span class="op" id="6165881">)</span>&nbsp;<span class="op" id="6165883">&gt;</span>&nbsp;<span class="num" id="6165885">1</span>&nbsp;<span class="op" id="6165887">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6165890">len</span><span class="op" id="6165893">(</span><span class="ident" id="6165894"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165895">.</span><span class="ident" id="6165896">Rhs</span><span class="op" id="6165899">)</span>&nbsp;<span class="op" id="6165901">&gt;</span>&nbsp;<span class="num" id="6165903">1</span>&nbsp;<span class="op" id="6165905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165910"><a href="/go/printer/nodes.go.html#6165857">depth</a></span><span class="op" id="6165915">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165924"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165925">.</span><span class="ident" id="6165926">exprList</span><span class="op" id="6165934">(</span><span class="ident" id="6165935"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165936">.</span><span class="ident" id="6165937">Pos</span><span class="op" id="6165940">(</span><span class="op" id="6165941">)</span><span class="op" id="6165942">,</span>&nbsp;<span class="ident" id="6165944"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165945">.</span><span class="ident" id="6165946">Lhs</span><span class="op" id="6165949">,</span>&nbsp;<span class="ident" id="6165951"><a href="/go/printer/nodes.go.html#6165857">depth</a></span><span class="op" id="6165956">,</span>&nbsp;<span class="num" id="6165958">0</span><span class="op" id="6165959">,</span>&nbsp;<span class="ident" id="6165961"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165962">.</span><span class="ident" id="6165963">TokPos</span><span class="op" id="6165969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165973"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6165974">.</span><span class="builtinfunc" id="6165975">print</span><span class="op" id="6165980">(</span><span class="ident" id="6165981"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6165986">,</span>&nbsp;<span class="ident" id="6165988"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165989">.</span><span class="ident" id="6165990">TokPos</span><span class="op" id="6165996">,</span>&nbsp;<span class="ident" id="6165998"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6165999">.</span><span class="ident" id="6166000">Tok</span><span class="op" id="6166003">,</span>&nbsp;<span class="ident" id="6166005"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6166010">)</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166014"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166015">.</span><span class="ident" id="6166016">exprList</span><span class="op" id="6166024">(</span><span class="ident" id="6166025"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166026">.</span><span class="ident" id="6166027">TokPos</span><span class="op" id="6166033">,</span>&nbsp;<span class="ident" id="6166035"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166036">.</span><span class="ident" id="6166037">Rhs</span><span class="op" id="6166040">,</span>&nbsp;<span class="ident" id="6166042"><a href="/go/printer/nodes.go.html#6165857">depth</a></span><span class="op" id="6166047">,</span>&nbsp;<span class="num" id="6166049">0</span><span class="op" id="6166050">,</span>&nbsp;<span class="ident" id="6166052"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166057">.</span><span class="ident" id="6166058">NoPos</span><span class="op" id="6166063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166067">case</span>&nbsp;<span class="op" id="6166072">*</span><span class="ident" id="6166073"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166076">.</span><span class="ident" id="6166077">GoStmt</span><span class="op" id="6166083">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166087"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166088">.</span><span class="builtinfunc" id="6166089">print</span><span class="op" id="6166094">(</span><span class="ident" id="6166095"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166100">.</span><span class="ident" id="6166101">GO</span><span class="op" id="6166103">,</span>&nbsp;<span class="ident" id="6166105"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6166110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166114"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166115">.</span><span class="ident" id="6166116">expr</span><span class="op" id="6166120">(</span><span class="ident" id="6166121"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166122">.</span><span class="ident" id="6166123">Call</span><span class="op" id="6166127">)</span><br>
<span class="lineno">1120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166131">case</span>&nbsp;<span class="op" id="6166136">*</span><span class="ident" id="6166137"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166140">.</span><span class="ident" id="6166141">DeferStmt</span><span class="op" id="6166150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166154"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166155">.</span><span class="builtinfunc" id="6166156">print</span><span class="op" id="6166161">(</span><span class="ident" id="6166162"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166167">.</span><span class="ident" id="6166168">DEFER</span><span class="op" id="6166173">,</span>&nbsp;<span class="ident" id="6166175"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6166180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166184"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166185">.</span><span class="ident" id="6166186">expr</span><span class="op" id="6166190">(</span><span class="ident" id="6166191"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166192">.</span><span class="ident" id="6166193">Call</span><span class="op" id="6166197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166201">case</span>&nbsp;<span class="op" id="6166206">*</span><span class="ident" id="6166207"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166210">.</span><span class="ident" id="6166211">ReturnStmt</span><span class="op" id="6166221">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166225"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166226">.</span><span class="builtinfunc" id="6166227">print</span><span class="op" id="6166232">(</span><span class="ident" id="6166233"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166238">.</span><span class="ident" id="6166239">RETURN</span><span class="op" id="6166245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166249">if</span>&nbsp;<span class="ident" id="6166252"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166253">.</span><span class="ident" id="6166254">Results</span>&nbsp;<span class="op" id="6166262">!=</span>&nbsp;<span class="ident" id="6166265">nil</span>&nbsp;<span class="op" id="6166269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166274"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166275">.</span><span class="builtinfunc" id="6166276">print</span><span class="op" id="6166281">(</span><span class="ident" id="6166282"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6166287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6166292">//&nbsp;Use&nbsp;indentList&nbsp;heuristic&nbsp;to&nbsp;make&nbsp;corner&nbsp;cases&nbsp;look</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6166349">//&nbsp;better&nbsp;(issue&nbsp;1207).&nbsp;A&nbsp;more&nbsp;systematic&nbsp;approach&nbsp;would</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6166409">//&nbsp;always&nbsp;indent,&nbsp;but&nbsp;this&nbsp;would&nbsp;cause&nbsp;significant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6166463">//&nbsp;reformatting&nbsp;of&nbsp;the&nbsp;code&nbsp;base&nbsp;and&nbsp;not&nbsp;necessarily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6166519">//&nbsp;lead&nbsp;to&nbsp;more&nbsp;nicely&nbsp;formatted&nbsp;code&nbsp;in&nbsp;general.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166572">if</span>&nbsp;<span class="ident" id="6166575"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166576">.</span><span class="ident" id="6166577">indentList</span><span class="op" id="6166587">(</span><span class="ident" id="6166588"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166589">.</span><span class="ident" id="6166590">Results</span><span class="op" id="6166597">)</span>&nbsp;<span class="op" id="6166599">{</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166605"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166606">.</span><span class="builtinfunc" id="6166607">print</span><span class="op" id="6166612">(</span><span class="ident" id="6166613"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6166619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166625"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166626">.</span><span class="ident" id="6166627">exprList</span><span class="op" id="6166635">(</span><span class="ident" id="6166636"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166637">.</span><span class="ident" id="6166638">Pos</span><span class="op" id="6166641">(</span><span class="op" id="6166642">)</span><span class="op" id="6166643">,</span>&nbsp;<span class="ident" id="6166645"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166646">.</span><span class="ident" id="6166647">Results</span><span class="op" id="6166654">,</span>&nbsp;<span class="num" id="6166656">1</span><span class="op" id="6166657">,</span>&nbsp;<span class="ident" id="6166659"><a href="/go/printer/nodes.go.html#6139213">noIndent</a></span><span class="op" id="6166667">,</span>&nbsp;<span class="ident" id="6166669"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166674">.</span><span class="ident" id="6166675">NoPos</span><span class="op" id="6166680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166686"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166687">.</span><span class="builtinfunc" id="6166688">print</span><span class="op" id="6166693">(</span><span class="ident" id="6166694"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6166702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6166707">}</span>&nbsp;<span class="keyword" id="6166709">else</span>&nbsp;<span class="op" id="6166714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166720"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166721">.</span><span class="ident" id="6166722">exprList</span><span class="op" id="6166730">(</span><span class="ident" id="6166731"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166732">.</span><span class="ident" id="6166733">Pos</span><span class="op" id="6166736">(</span><span class="op" id="6166737">)</span><span class="op" id="6166738">,</span>&nbsp;<span class="ident" id="6166740"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166741">.</span><span class="ident" id="6166742">Results</span><span class="op" id="6166749">,</span>&nbsp;<span class="num" id="6166751">1</span><span class="op" id="6166752">,</span>&nbsp;<span class="num" id="6166754">0</span><span class="op" id="6166755">,</span>&nbsp;<span class="ident" id="6166757"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166762">.</span><span class="ident" id="6166763">NoPos</span><span class="op" id="6166768">)</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6166773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6166777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166781">case</span>&nbsp;<span class="op" id="6166786">*</span><span class="ident" id="6166787"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166790">.</span><span class="ident" id="6166791">BranchStmt</span><span class="op" id="6166801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166805"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166806">.</span><span class="builtinfunc" id="6166807">print</span><span class="op" id="6166812">(</span><span class="ident" id="6166813"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166814">.</span><span class="ident" id="6166815">Tok</span><span class="op" id="6166818">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166822">if</span>&nbsp;<span class="ident" id="6166825"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166826">.</span><span class="ident" id="6166827">Label</span>&nbsp;<span class="op" id="6166833">!=</span>&nbsp;<span class="ident" id="6166836">nil</span>&nbsp;<span class="op" id="6166840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166845"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166846">.</span><span class="builtinfunc" id="6166847">print</span><span class="op" id="6166852">(</span><span class="ident" id="6166853"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6166858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166863"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166864">.</span><span class="ident" id="6166865">expr</span><span class="op" id="6166869">(</span><span class="ident" id="6166870"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166871">.</span><span class="ident" id="6166872">Label</span><span class="op" id="6166877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6166881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166885">case</span>&nbsp;<span class="op" id="6166890">*</span><span class="ident" id="6166891"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166894">.</span><span class="ident" id="6166895">BlockStmt</span><span class="op" id="6166904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166908"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166909">.</span><span class="ident" id="6166910">block</span><span class="op" id="6166915">(</span><span class="ident" id="6166916"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166917">,</span>&nbsp;<span class="num" id="6166919">1</span><span class="op" id="6166920">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6166924">case</span>&nbsp;<span class="op" id="6166929">*</span><span class="ident" id="6166930"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6166933">.</span><span class="ident" id="6166934">IfStmt</span><span class="op" id="6166940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166944"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166945">.</span><span class="builtinfunc" id="6166946">print</span><span class="op" id="6166951">(</span><span class="ident" id="6166952"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6166957">.</span><span class="ident" id="6166958">IF</span><span class="op" id="6166960">)</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6166964"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6166965">.</span><span class="ident" id="6166966">controlClause</span><span class="op" id="6166979">(</span><span class="ident" id="6166980">false</span><span class="op" id="6166985">,</span>&nbsp;<span class="ident" id="6166987"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166988">.</span><span class="ident" id="6166989">Init</span><span class="op" id="6166993">,</span>&nbsp;<span class="ident" id="6166995"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6166996">.</span><span class="ident" id="6166997">Cond</span><span class="op" id="6167001">,</span>&nbsp;<span class="ident" id="6167003">nil</span><span class="op" id="6167006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167010"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167011">.</span><span class="ident" id="6167012">block</span><span class="op" id="6167017">(</span><span class="ident" id="6167018"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167019">.</span><span class="ident" id="6167020">Body</span><span class="op" id="6167024">,</span>&nbsp;<span class="num" id="6167026">1</span><span class="op" id="6167027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167031">if</span>&nbsp;<span class="ident" id="6167034"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167035">.</span><span class="ident" id="6167036">Else</span>&nbsp;<span class="op" id="6167041">!=</span>&nbsp;<span class="ident" id="6167044">nil</span>&nbsp;<span class="op" id="6167048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167053"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167054">.</span><span class="builtinfunc" id="6167055">print</span><span class="op" id="6167060">(</span><span class="ident" id="6167061"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167066">,</span>&nbsp;<span class="ident" id="6167068"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167073">.</span><span class="ident" id="6167074">ELSE</span><span class="op" id="6167078">,</span>&nbsp;<span class="ident" id="6167080"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167090">switch</span>&nbsp;<span class="ident" id="6167097"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167098">.</span><span class="ident" id="6167099">Else</span><span class="op" id="6167103">.</span><span class="op" id="6167104">(</span><span class="keyword" id="6167105">type</span><span class="op" id="6167109">)</span>&nbsp;<span class="op" id="6167111">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167116">case</span>&nbsp;<span class="op" id="6167121">*</span><span class="ident" id="6167122"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167125">.</span><span class="ident" id="6167126">BlockStmt</span><span class="op" id="6167135">,</span>&nbsp;<span class="op" id="6167137">*</span><span class="ident" id="6167138"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167141">.</span><span class="ident" id="6167142">IfStmt</span><span class="op" id="6167148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167154"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167155">.</span><span class="ident" id="6167156">stmt</span><span class="op" id="6167160">(</span><span class="ident" id="6167161"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167162">.</span><span class="ident" id="6167163">Else</span><span class="op" id="6167167">,</span>&nbsp;<span class="ident" id="6167169"><a href="/go/printer/nodes.go.html#6164839">nextIsRBrace</a></span><span class="op" id="6167181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167186">default</span><span class="op" id="6167193">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167199"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167200">.</span><span class="builtinfunc" id="6167201">print</span><span class="op" id="6167206">(</span><span class="ident" id="6167207"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167212">.</span><span class="ident" id="6167213">LBRACE</span><span class="op" id="6167219">,</span>&nbsp;<span class="ident" id="6167221"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6167227">,</span>&nbsp;<span class="ident" id="6167229"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6167237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167243"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167244">.</span><span class="ident" id="6167245">stmt</span><span class="op" id="6167249">(</span><span class="ident" id="6167250"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167251">.</span><span class="ident" id="6167252">Else</span><span class="op" id="6167256">,</span>&nbsp;<span class="ident" id="6167258">true</span><span class="op" id="6167262">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167268"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167269">.</span><span class="builtinfunc" id="6167270">print</span><span class="op" id="6167275">(</span><span class="ident" id="6167276"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6167284">,</span>&nbsp;<span class="ident" id="6167286"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6167294">,</span>&nbsp;<span class="ident" id="6167296"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167301">.</span><span class="ident" id="6167302">RBRACE</span><span class="op" id="6167308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167321">case</span>&nbsp;<span class="op" id="6167326">*</span><span class="ident" id="6167327"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167330">.</span><span class="ident" id="6167331">CaseClause</span><span class="op" id="6167341">:</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167345">if</span>&nbsp;<span class="ident" id="6167348"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167349">.</span><span class="ident" id="6167350">List</span>&nbsp;<span class="op" id="6167355">!=</span>&nbsp;<span class="ident" id="6167358">nil</span>&nbsp;<span class="op" id="6167362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167367"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167368">.</span><span class="builtinfunc" id="6167369">print</span><span class="op" id="6167374">(</span><span class="ident" id="6167375"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167380">.</span><span class="ident" id="6167381">CASE</span><span class="op" id="6167385">,</span>&nbsp;<span class="ident" id="6167387"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167397"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167398">.</span><span class="ident" id="6167399">exprList</span><span class="op" id="6167407">(</span><span class="ident" id="6167408"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167409">.</span><span class="ident" id="6167410">Pos</span><span class="op" id="6167413">(</span><span class="op" id="6167414">)</span><span class="op" id="6167415">,</span>&nbsp;<span class="ident" id="6167417"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167418">.</span><span class="ident" id="6167419">List</span><span class="op" id="6167423">,</span>&nbsp;<span class="num" id="6167425">1</span><span class="op" id="6167426">,</span>&nbsp;<span class="num" id="6167428">0</span><span class="op" id="6167429">,</span>&nbsp;<span class="ident" id="6167431"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167432">.</span><span class="ident" id="6167433">Colon</span><span class="op" id="6167438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167442">}</span>&nbsp;<span class="keyword" id="6167444">else</span>&nbsp;<span class="op" id="6167449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167454"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167455">.</span><span class="builtinfunc" id="6167456">print</span><span class="op" id="6167461">(</span><span class="ident" id="6167462"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167467">.</span><span class="ident" id="6167468">DEFAULT</span><span class="op" id="6167475">)</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167483"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167484">.</span><span class="builtinfunc" id="6167485">print</span><span class="op" id="6167490">(</span><span class="ident" id="6167491"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167492">.</span><span class="ident" id="6167493">Colon</span><span class="op" id="6167498">,</span>&nbsp;<span class="ident" id="6167500"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167505">.</span><span class="ident" id="6167506">COLON</span><span class="op" id="6167511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167515"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167516">.</span><span class="ident" id="6167517">stmtList</span><span class="op" id="6167525">(</span><span class="ident" id="6167526"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167527">.</span><span class="ident" id="6167528">Body</span><span class="op" id="6167532">,</span>&nbsp;<span class="num" id="6167534">1</span><span class="op" id="6167535">,</span>&nbsp;<span class="ident" id="6167537"><a href="/go/printer/nodes.go.html#6164839">nextIsRBrace</a></span><span class="op" id="6167549">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167553">case</span>&nbsp;<span class="op" id="6167558">*</span><span class="ident" id="6167559"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167562">.</span><span class="ident" id="6167563">SwitchStmt</span><span class="op" id="6167573">:</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167577"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167578">.</span><span class="builtinfunc" id="6167579">print</span><span class="op" id="6167584">(</span><span class="ident" id="6167585"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167590">.</span><span class="ident" id="6167591">SWITCH</span><span class="op" id="6167597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167601"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167602">.</span><span class="ident" id="6167603">controlClause</span><span class="op" id="6167616">(</span><span class="ident" id="6167617">false</span><span class="op" id="6167622">,</span>&nbsp;<span class="ident" id="6167624"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167625">.</span><span class="ident" id="6167626">Init</span><span class="op" id="6167630">,</span>&nbsp;<span class="ident" id="6167632"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167633">.</span><span class="ident" id="6167634">Tag</span><span class="op" id="6167637">,</span>&nbsp;<span class="ident" id="6167639">nil</span><span class="op" id="6167642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167646"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167647">.</span><span class="ident" id="6167648">block</span><span class="op" id="6167653">(</span><span class="ident" id="6167654"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167655">.</span><span class="ident" id="6167656">Body</span><span class="op" id="6167660">,</span>&nbsp;<span class="num" id="6167662">0</span><span class="op" id="6167663">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167667">case</span>&nbsp;<span class="op" id="6167672">*</span><span class="ident" id="6167673"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167676">.</span><span class="ident" id="6167677">TypeSwitchStmt</span><span class="op" id="6167691">:</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167695"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167696">.</span><span class="builtinfunc" id="6167697">print</span><span class="op" id="6167702">(</span><span class="ident" id="6167703"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167708">.</span><span class="ident" id="6167709">SWITCH</span><span class="op" id="6167715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167719">if</span>&nbsp;<span class="ident" id="6167722"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167723">.</span><span class="ident" id="6167724">Init</span>&nbsp;<span class="op" id="6167729">!=</span>&nbsp;<span class="ident" id="6167732">nil</span>&nbsp;<span class="op" id="6167736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167741"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167742">.</span><span class="builtinfunc" id="6167743">print</span><span class="op" id="6167748">(</span><span class="ident" id="6167749"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167759"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167760">.</span><span class="ident" id="6167761">stmt</span><span class="op" id="6167765">(</span><span class="ident" id="6167766"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167767">.</span><span class="ident" id="6167768">Init</span><span class="op" id="6167772">,</span>&nbsp;<span class="ident" id="6167774">false</span><span class="op" id="6167779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167784"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167785">.</span><span class="builtinfunc" id="6167786">print</span><span class="op" id="6167791">(</span><span class="ident" id="6167792"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167797">.</span><span class="ident" id="6167798">SEMICOLON</span><span class="op" id="6167807">)</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167815"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167816">.</span><span class="builtinfunc" id="6167817">print</span><span class="op" id="6167822">(</span><span class="ident" id="6167823"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167832"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167833">.</span><span class="ident" id="6167834">stmt</span><span class="op" id="6167838">(</span><span class="ident" id="6167839"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167840">.</span><span class="ident" id="6167841">Assign</span><span class="op" id="6167847">,</span>&nbsp;<span class="ident" id="6167849">false</span><span class="op" id="6167854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167858"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167859">.</span><span class="builtinfunc" id="6167860">print</span><span class="op" id="6167865">(</span><span class="ident" id="6167866"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167875"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167876">.</span><span class="ident" id="6167877">block</span><span class="op" id="6167882">(</span><span class="ident" id="6167883"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167884">.</span><span class="ident" id="6167885">Body</span><span class="op" id="6167889">,</span>&nbsp;<span class="num" id="6167891">0</span><span class="op" id="6167892">)</span><br>
<span class="lineno">1195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167896">case</span>&nbsp;<span class="op" id="6167901">*</span><span class="ident" id="6167902"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6167905">.</span><span class="ident" id="6167906">CommClause</span><span class="op" id="6167916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6167920">if</span>&nbsp;<span class="ident" id="6167923"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167924">.</span><span class="ident" id="6167925">Comm</span>&nbsp;<span class="op" id="6167930">!=</span>&nbsp;<span class="ident" id="6167933">nil</span>&nbsp;<span class="op" id="6167937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167942"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167943">.</span><span class="builtinfunc" id="6167944">print</span><span class="op" id="6167949">(</span><span class="ident" id="6167950"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6167955">.</span><span class="ident" id="6167956">CASE</span><span class="op" id="6167960">,</span>&nbsp;<span class="ident" id="6167962"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6167967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6167972"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6167973">.</span><span class="ident" id="6167974">stmt</span><span class="op" id="6167978">(</span><span class="ident" id="6167979"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6167980">.</span><span class="ident" id="6167981">Comm</span><span class="op" id="6167985">,</span>&nbsp;<span class="ident" id="6167987">false</span><span class="op" id="6167992">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6167996">}</span>&nbsp;<span class="keyword" id="6167998">else</span>&nbsp;<span class="op" id="6168003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168008"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168009">.</span><span class="builtinfunc" id="6168010">print</span><span class="op" id="6168015">(</span><span class="ident" id="6168016"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168021">.</span><span class="ident" id="6168022">DEFAULT</span><span class="op" id="6168029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168037"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168038">.</span><span class="builtinfunc" id="6168039">print</span><span class="op" id="6168044">(</span><span class="ident" id="6168045"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168046">.</span><span class="ident" id="6168047">Colon</span><span class="op" id="6168052">,</span>&nbsp;<span class="ident" id="6168054"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168059">.</span><span class="ident" id="6168060">COLON</span><span class="op" id="6168065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168069"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168070">.</span><span class="ident" id="6168071">stmtList</span><span class="op" id="6168079">(</span><span class="ident" id="6168080"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168081">.</span><span class="ident" id="6168082">Body</span><span class="op" id="6168086">,</span>&nbsp;<span class="num" id="6168088">1</span><span class="op" id="6168089">,</span>&nbsp;<span class="ident" id="6168091"><a href="/go/printer/nodes.go.html#6164839">nextIsRBrace</a></span><span class="op" id="6168103">)</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168107">case</span>&nbsp;<span class="op" id="6168112">*</span><span class="ident" id="6168113"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6168116">.</span><span class="ident" id="6168117">SelectStmt</span><span class="op" id="6168127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168131"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168132">.</span><span class="builtinfunc" id="6168133">print</span><span class="op" id="6168138">(</span><span class="ident" id="6168139"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168144">.</span><span class="ident" id="6168145">SELECT</span><span class="op" id="6168151">,</span>&nbsp;<span class="ident" id="6168153"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168162">body</span>&nbsp;<span class="op" id="6168167">:=</span>&nbsp;<span class="ident" id="6168170"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168171">.</span><span class="ident" id="6168172">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168179">if</span>&nbsp;<span class="builtinfunc" id="6168182">len</span><span class="op" id="6168185">(</span><span class="ident" id="6168186"><a href="/go/printer/nodes.go.html#6168162">body</a></span><span class="op" id="6168190">.</span><span class="ident" id="6168191">List</span><span class="op" id="6168195">)</span>&nbsp;<span class="op" id="6168197">==</span>&nbsp;<span class="num" id="6168200">0</span>&nbsp;<span class="op" id="6168202">&amp;&amp;</span>&nbsp;<span class="op" id="6168205">!</span><span class="ident" id="6168206"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168207">.</span><span class="ident" id="6168208">commentBefore</span><span class="op" id="6168221">(</span><span class="ident" id="6168222"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168223">.</span><span class="ident" id="6168224">posFor</span><span class="op" id="6168230">(</span><span class="ident" id="6168231"><a href="/go/printer/nodes.go.html#6168162">body</a></span><span class="op" id="6168235">.</span><span class="ident" id="6168236">Rbrace</span><span class="op" id="6168242">)</span><span class="op" id="6168243">)</span>&nbsp;<span class="op" id="6168245">{</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6168250">//&nbsp;print&nbsp;empty&nbsp;select&nbsp;statement&nbsp;w/o&nbsp;comments&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168310"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168311">.</span><span class="builtinfunc" id="6168312">print</span><span class="op" id="6168317">(</span><span class="ident" id="6168318"><a href="/go/printer/nodes.go.html#6168162">body</a></span><span class="op" id="6168322">.</span><span class="ident" id="6168323">Lbrace</span><span class="op" id="6168329">,</span>&nbsp;<span class="ident" id="6168331"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168336">.</span><span class="ident" id="6168337">LBRACE</span><span class="op" id="6168343">,</span>&nbsp;<span class="ident" id="6168345"><a href="/go/printer/nodes.go.html#6168162">body</a></span><span class="op" id="6168349">.</span><span class="ident" id="6168350">Rbrace</span><span class="op" id="6168356">,</span>&nbsp;<span class="ident" id="6168358"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168363">.</span><span class="ident" id="6168364">RBRACE</span><span class="op" id="6168370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168374">}</span>&nbsp;<span class="keyword" id="6168376">else</span>&nbsp;<span class="op" id="6168381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168386"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168387">.</span><span class="ident" id="6168388">block</span><span class="op" id="6168393">(</span><span class="ident" id="6168394"><a href="/go/printer/nodes.go.html#6168162">body</a></span><span class="op" id="6168398">,</span>&nbsp;<span class="num" id="6168400">0</span><span class="op" id="6168401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168405">}</span><br>
<span class="lineno">1215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168409">case</span>&nbsp;<span class="op" id="6168414">*</span><span class="ident" id="6168415"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6168418">.</span><span class="ident" id="6168419">ForStmt</span><span class="op" id="6168426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168430"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168431">.</span><span class="builtinfunc" id="6168432">print</span><span class="op" id="6168437">(</span><span class="ident" id="6168438"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168443">.</span><span class="ident" id="6168444">FOR</span><span class="op" id="6168447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168451"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168452">.</span><span class="ident" id="6168453">controlClause</span><span class="op" id="6168466">(</span><span class="ident" id="6168467">true</span><span class="op" id="6168471">,</span>&nbsp;<span class="ident" id="6168473"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168474">.</span><span class="ident" id="6168475">Init</span><span class="op" id="6168479">,</span>&nbsp;<span class="ident" id="6168481"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168482">.</span><span class="ident" id="6168483">Cond</span><span class="op" id="6168487">,</span>&nbsp;<span class="ident" id="6168489"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168490">.</span><span class="ident" id="6168491">Post</span><span class="op" id="6168495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168499"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168500">.</span><span class="ident" id="6168501">block</span><span class="op" id="6168506">(</span><span class="ident" id="6168507"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168508">.</span><span class="ident" id="6168509">Body</span><span class="op" id="6168513">,</span>&nbsp;<span class="num" id="6168515">1</span><span class="op" id="6168516">)</span><br>
<span class="lineno">1220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168520">case</span>&nbsp;<span class="op" id="6168525">*</span><span class="ident" id="6168526"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6168529">.</span><span class="ident" id="6168530">RangeStmt</span><span class="op" id="6168539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168543"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168544">.</span><span class="builtinfunc" id="6168545">print</span><span class="op" id="6168550">(</span><span class="ident" id="6168551"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168556">.</span><span class="ident" id="6168557">FOR</span><span class="op" id="6168560">,</span>&nbsp;<span class="ident" id="6168562"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168571">if</span>&nbsp;<span class="ident" id="6168574"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168575">.</span><span class="ident" id="6168576">Key</span>&nbsp;<span class="op" id="6168580">!=</span>&nbsp;<span class="ident" id="6168583">nil</span>&nbsp;<span class="op" id="6168587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168592"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168593">.</span><span class="ident" id="6168594">expr</span><span class="op" id="6168598">(</span><span class="ident" id="6168599"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168600">.</span><span class="ident" id="6168601">Key</span><span class="op" id="6168604">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168609">if</span>&nbsp;<span class="ident" id="6168612"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168613">.</span><span class="ident" id="6168614">Value</span>&nbsp;<span class="op" id="6168620">!=</span>&nbsp;<span class="ident" id="6168623">nil</span>&nbsp;<span class="op" id="6168627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6168633">//&nbsp;use&nbsp;position&nbsp;of&nbsp;value&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6168685">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168737"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168738">.</span><span class="builtinfunc" id="6168739">print</span><span class="op" id="6168744">(</span><span class="ident" id="6168745"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168746">.</span><span class="ident" id="6168747">Value</span><span class="op" id="6168752">.</span><span class="ident" id="6168753">Pos</span><span class="op" id="6168756">(</span><span class="op" id="6168757">)</span><span class="op" id="6168758">,</span>&nbsp;<span class="ident" id="6168760"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168765">.</span><span class="ident" id="6168766">COMMA</span><span class="op" id="6168771">,</span>&nbsp;<span class="ident" id="6168773"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168784"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168785">.</span><span class="ident" id="6168786">expr</span><span class="op" id="6168790">(</span><span class="ident" id="6168791"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168792">.</span><span class="ident" id="6168793">Value</span><span class="op" id="6168798">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168808"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168809">.</span><span class="builtinfunc" id="6168810">print</span><span class="op" id="6168815">(</span><span class="ident" id="6168816"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168821">,</span>&nbsp;<span class="ident" id="6168823"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168824">.</span><span class="ident" id="6168825">TokPos</span><span class="op" id="6168831">,</span>&nbsp;<span class="ident" id="6168833"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168834">.</span><span class="ident" id="6168835">Tok</span><span class="op" id="6168838">,</span>&nbsp;<span class="ident" id="6168840"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168853"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168854">.</span><span class="builtinfunc" id="6168855">print</span><span class="op" id="6168860">(</span><span class="ident" id="6168861"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6168866">.</span><span class="ident" id="6168867">RANGE</span><span class="op" id="6168872">,</span>&nbsp;<span class="ident" id="6168874"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168883"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168884">.</span><span class="ident" id="6168885">expr</span><span class="op" id="6168889">(</span><span class="ident" id="6168890"><a href="/go/printer/nodes.go.html#6162355">stripParens</a></span><span class="op" id="6168901">(</span><span class="ident" id="6168902"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168903">.</span><span class="ident" id="6168904">X</span><span class="op" id="6168905">)</span><span class="op" id="6168906">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168910"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168911">.</span><span class="builtinfunc" id="6168912">print</span><span class="op" id="6168917">(</span><span class="ident" id="6168918"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6168923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6168927"><a href="/go/printer/nodes.go.html#6164807">p</a></span><span class="op" id="6168928">.</span><span class="ident" id="6168929">block</span><span class="op" id="6168934">(</span><span class="ident" id="6168935"><a href="/go/printer/nodes.go.html#6164890">s</a></span><span class="op" id="6168936">.</span><span class="ident" id="6168937">Body</span><span class="op" id="6168941">,</span>&nbsp;<span class="num" id="6168943">1</span><span class="op" id="6168944">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168948">default</span><span class="op" id="6168955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6168959">panic</span><span class="op" id="6168964">(</span><span class="string" id="6168965">&#34;unreachable&#34;</span><span class="op" id="6168978">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6168981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6168985">return</span><br>
<span class="lineno"></span><span class="op" id="6168992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1245</span><span class="comment" id="6168995">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="6169075">//&nbsp;Declarations</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6169092">//&nbsp;The&nbsp;keepTypeColumn&nbsp;function&nbsp;determines&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;of&nbsp;a&nbsp;series&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6169168">//&nbsp;consecutive&nbsp;const&nbsp;or&nbsp;var&nbsp;declarations&nbsp;must&nbsp;be&nbsp;kept,&nbsp;or&nbsp;if&nbsp;initialization</span><br>
<span class="lineno">1250</span><span class="comment" id="6169244">//&nbsp;values&nbsp;(V)&nbsp;can&nbsp;be&nbsp;placed&nbsp;in&nbsp;the&nbsp;type&nbsp;column&nbsp;(T)&nbsp;instead.&nbsp;The&nbsp;i&#39;th&nbsp;entry</span><br>
<span class="lineno"></span><span class="comment" id="6169319">//&nbsp;in&nbsp;the&nbsp;result&nbsp;slice&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;in&nbsp;spec[i]&nbsp;must&nbsp;be&nbsp;kept.</span><br>
<span class="lineno"></span><span class="comment" id="6169394">//</span><br>
<span class="lineno"></span><span class="comment" id="6169397">//&nbsp;For&nbsp;example,&nbsp;the&nbsp;declaration:</span><br>
<span class="lineno"></span><span class="comment" id="6169430">//</span><br>
<span class="lineno">1255</span><span class="comment" id="6169433">//&nbsp;&nbsp;&nbsp;&nbspconst&nbsp;(</span><br>
<span class="lineno"></span><span class="comment" id="6169444">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspfoobar&nbsp;int&nbsp;=&nbsp;42&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="6169475">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7&nbsp;&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="6169506">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspfoo</span><br>
<span class="lineno"></span><span class="comment" id="6169514">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar&nbsp;=&nbsp;991</span><br>
<span class="lineno">1260</span><span class="comment" id="6169540">//&nbsp;&nbsp;&nbsp;&nbsp)</span><br>
<span class="lineno"></span><span class="comment" id="6169545">//</span><br>
<span class="lineno"></span><span class="comment" id="6169548">//&nbsp;leads&nbsp;to&nbsp;the&nbsp;type/values&nbsp;matrix&nbsp;below.&nbsp;A&nbsp;run&nbsp;of&nbsp;value&nbsp;columns&nbsp;(V)&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="6169621">//&nbsp;be&nbsp;moved&nbsp;into&nbsp;the&nbsp;type&nbsp;column&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;type&nbsp;for&nbsp;any&nbsp;of&nbsp;the&nbsp;values</span><br>
<span class="lineno"></span><span class="comment" id="6169696">//&nbsp;in&nbsp;that&nbsp;column&nbsp;(we&nbsp;only&nbsp;move&nbsp;entire&nbsp;columns&nbsp;so&nbsp;that&nbsp;they&nbsp;align&nbsp;properly).</span><br>
<span class="lineno">1265</span><span class="comment" id="6169773">//</span><br>
<span class="lineno"></span><span class="comment" id="6169776">//&nbsp;&nbsp;&nbsp;&nbspmatrix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatted&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><br>
<span class="lineno"></span><span class="comment" id="6169814">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matrix</span><br>
<span class="lineno"></span><span class="comment" id="6169843">//&nbsp;&nbsp;&nbsp;&nbspT&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;a&nbsp;T&nbsp;and&nbsp;so&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="6169913">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno">1270</span><span class="comment" id="6169974">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false</span><br>
<span class="lineno"></span><span class="comment" id="6170011">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;is&nbsp;moved&nbsp;into&nbsp;T&nbsp;column</span><br>
<span class="lineno"></span><span class="comment" id="6170077">//</span><br>
<span class="lineno"></span><span class="keyword" id="6170080">func</span>&nbsp;<span class="ident" id="6170085">keepTypeColumn</span><span class="op" id="6170099">(</span><span class="ident" id="6170100">specs</span>&nbsp;<span class="op" id="6170106">[</span><span class="op" id="6170107">]</span><span class="ident" id="6170108"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6170111">.</span><span class="ident" id="6170112">Spec</span><span class="op" id="6170116">)</span>&nbsp;<span class="op" id="6170118">[</span><span class="op" id="6170119">]</span><span class="builtintype" id="6170120">bool</span>&nbsp;<span class="op" id="6170125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170128">m</span>&nbsp;<span class="op" id="6170130">:=</span>&nbsp;<span class="builtinfunc" id="6170133">make</span><span class="op" id="6170137">(</span><span class="op" id="6170138">[</span><span class="op" id="6170139">]</span><span class="builtintype" id="6170140">bool</span><span class="op" id="6170144">,</span>&nbsp;<span class="builtinfunc" id="6170146">len</span><span class="op" id="6170149">(</span><span class="ident" id="6170150"><a href="/go/printer/nodes.go.html#6170100">specs</a></span><span class="op" id="6170155">)</span><span class="op" id="6170156">)</span><br>
<span class="lineno">1275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170160">populate</span>&nbsp;<span class="op" id="6170169">:=</span>&nbsp;<span class="keyword" id="6170172">func</span><span class="op" id="6170176">(</span><span class="ident" id="6170177">i</span><span class="op" id="6170178">,</span>&nbsp;<span class="ident" id="6170180">j</span>&nbsp;<span class="builtintype" id="6170182">int</span><span class="op" id="6170185">,</span>&nbsp;<span class="ident" id="6170187">keepType</span>&nbsp;<span class="builtintype" id="6170196">bool</span><span class="op" id="6170200">)</span>&nbsp;<span class="op" id="6170202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170206">if</span>&nbsp;<span class="ident" id="6170209"><a href="/go/printer/nodes.go.html#6170187">keepType</a></span>&nbsp;<span class="op" id="6170218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170223">for</span>&nbsp;<span class="op" id="6170227">;</span>&nbsp;<span class="ident" id="6170229"><a href="/go/printer/nodes.go.html#6170177">i</a></span>&nbsp;<span class="op" id="6170231">&lt;</span>&nbsp;<span class="ident" id="6170233"><a href="/go/printer/nodes.go.html#6170180">j</a></span><span class="op" id="6170234">;</span>&nbsp;<span class="ident" id="6170236"><a href="/go/printer/nodes.go.html#6170177">i</a></span><span class="op" id="6170237">++</span>&nbsp;<span class="op" id="6170240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170246"><a href="/go/printer/nodes.go.html#6170128">m</a></span><span class="op" id="6170247">[</span><span class="ident" id="6170248"><a href="/go/printer/nodes.go.html#6170177">i</a></span><span class="op" id="6170249">]</span>&nbsp;<span class="op" id="6170251">=</span>&nbsp;<span class="ident" id="6170253">true</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170272">i0</span>&nbsp;<span class="op" id="6170275">:=</span>&nbsp;<span class="op" id="6170278">-</span><span class="num" id="6170279">1</span>&nbsp;<span class="comment" id="6170281">//&nbsp;if&nbsp;i0&nbsp;&gt;=&nbsp;0&nbsp;we&nbsp;are&nbsp;in&nbsp;a&nbsp;run&nbsp;and&nbsp;i0&nbsp;is&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;run</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170343">var</span>&nbsp;<span class="ident" id="6170347">keepType</span>&nbsp;<span class="builtintype" id="6170356">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170362">for</span>&nbsp;<span class="ident" id="6170366">i</span><span class="op" id="6170367">,</span>&nbsp;<span class="ident" id="6170369">s</span>&nbsp;<span class="op" id="6170371">:=</span>&nbsp;<span class="keyword" id="6170374">range</span>&nbsp;<span class="ident" id="6170380"><a href="/go/printer/nodes.go.html#6170100">specs</a></span>&nbsp;<span class="op" id="6170386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170390">t</span>&nbsp;<span class="op" id="6170392">:=</span>&nbsp;<span class="ident" id="6170395"><a href="/go/printer/nodes.go.html#6170369">s</a></span><span class="op" id="6170396">.</span><span class="op" id="6170397">(</span><span class="op" id="6170398">*</span><span class="ident" id="6170399"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6170402">.</span><span class="ident" id="6170403">ValueSpec</span><span class="op" id="6170412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170416">if</span>&nbsp;<span class="ident" id="6170419"><a href="/go/printer/nodes.go.html#6170390">t</a></span><span class="op" id="6170420">.</span><span class="ident" id="6170421">Values</span>&nbsp;<span class="op" id="6170428">!=</span>&nbsp;<span class="ident" id="6170431">nil</span>&nbsp;<span class="op" id="6170435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170440">if</span>&nbsp;<span class="ident" id="6170443"><a href="/go/printer/nodes.go.html#6170272">i0</a></span>&nbsp;<span class="op" id="6170446">&lt;</span>&nbsp;<span class="num" id="6170448">0</span>&nbsp;<span class="op" id="6170450">{</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6170456">//&nbsp;start&nbsp;of&nbsp;a&nbsp;run&nbsp;of&nbsp;ValueSpecs&nbsp;with&nbsp;non-nil&nbsp;Values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170512"><a href="/go/printer/nodes.go.html#6170272">i0</a></span>&nbsp;<span class="op" id="6170515">=</span>&nbsp;<span class="ident" id="6170517"><a href="/go/printer/nodes.go.html#6170366">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170523"><a href="/go/printer/nodes.go.html#6170347">keepType</a></span>&nbsp;<span class="op" id="6170532">=</span>&nbsp;<span class="ident" id="6170534">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170547">}</span>&nbsp;<span class="keyword" id="6170549">else</span>&nbsp;<span class="op" id="6170554">{</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170559">if</span>&nbsp;<span class="ident" id="6170562"><a href="/go/printer/nodes.go.html#6170272">i0</a></span>&nbsp;<span class="op" id="6170565">&gt;=</span>&nbsp;<span class="num" id="6170568">0</span>&nbsp;<span class="op" id="6170570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6170576">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170596"><a href="/go/printer/nodes.go.html#6170160">populate</a></span><span class="op" id="6170604">(</span><span class="ident" id="6170605"><a href="/go/printer/nodes.go.html#6170272">i0</a></span><span class="op" id="6170607">,</span>&nbsp;<span class="ident" id="6170609"><a href="/go/printer/nodes.go.html#6170366">i</a></span><span class="op" id="6170610">,</span>&nbsp;<span class="ident" id="6170612"><a href="/go/printer/nodes.go.html#6170347">keepType</a></span><span class="op" id="6170620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170626"><a href="/go/printer/nodes.go.html#6170272">i0</a></span>&nbsp;<span class="op" id="6170629">=</span>&nbsp;<span class="op" id="6170631">-</span><span class="num" id="6170632">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170637">}</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170645">if</span>&nbsp;<span class="ident" id="6170648"><a href="/go/printer/nodes.go.html#6170390">t</a></span><span class="op" id="6170649">.</span><span class="ident" id="6170650">Type</span>&nbsp;<span class="op" id="6170655">!=</span>&nbsp;<span class="ident" id="6170658">nil</span>&nbsp;<span class="op" id="6170662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170667"><a href="/go/printer/nodes.go.html#6170347">keepType</a></span>&nbsp;<span class="op" id="6170676">=</span>&nbsp;<span class="ident" id="6170678">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170688">}</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170691">if</span>&nbsp;<span class="ident" id="6170694"><a href="/go/printer/nodes.go.html#6170272">i0</a></span>&nbsp;<span class="op" id="6170697">&gt;=</span>&nbsp;<span class="num" id="6170700">0</span>&nbsp;<span class="op" id="6170702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6170706">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170724"><a href="/go/printer/nodes.go.html#6170160">populate</a></span><span class="op" id="6170732">(</span><span class="ident" id="6170733"><a href="/go/printer/nodes.go.html#6170272">i0</a></span><span class="op" id="6170735">,</span>&nbsp;<span class="builtinfunc" id="6170737">len</span><span class="op" id="6170740">(</span><span class="ident" id="6170741"><a href="/go/printer/nodes.go.html#6170100">specs</a></span><span class="op" id="6170746">)</span><span class="op" id="6170747">,</span>&nbsp;<span class="ident" id="6170749"><a href="/go/printer/nodes.go.html#6170347">keepType</a></span><span class="op" id="6170757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170764">return</span>&nbsp;<span class="ident" id="6170771"><a href="/go/printer/nodes.go.html#6170128">m</a></span><br>
<span class="lineno"></span><span class="op" id="6170773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6170776">func</span>&nbsp;<span class="op" id="6170781">(</span><span class="ident" id="6170782">p</span>&nbsp;<span class="op" id="6170784">*</span><span class="ident" id="6170785"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6170792">)</span>&nbsp;<span class="ident" id="6170794">valueSpec</span><span class="op" id="6170803">(</span><span class="ident" id="6170804">s</span>&nbsp;<span class="op" id="6170806">*</span><span class="ident" id="6170807"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6170810">.</span><span class="ident" id="6170811">ValueSpec</span><span class="op" id="6170820">,</span>&nbsp;<span class="ident" id="6170822">keepType</span>&nbsp;<span class="builtintype" id="6170831">bool</span><span class="op" id="6170835">)</span>&nbsp;<span class="op" id="6170837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170840"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6170841">.</span><span class="ident" id="6170842">setComment</span><span class="op" id="6170852">(</span><span class="ident" id="6170853"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6170854">.</span><span class="ident" id="6170855">Doc</span><span class="op" id="6170858">)</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170861"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6170862">.</span><span class="ident" id="6170863">identList</span><span class="op" id="6170872">(</span><span class="ident" id="6170873"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6170874">.</span><span class="ident" id="6170875">Names</span><span class="op" id="6170880">,</span>&nbsp;<span class="ident" id="6170882">false</span><span class="op" id="6170887">)</span>&nbsp;<span class="comment" id="6170889">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170908">extraTabs</span>&nbsp;<span class="op" id="6170918">:=</span>&nbsp;<span class="num" id="6170921">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170924">if</span>&nbsp;<span class="ident" id="6170927"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6170928">.</span><span class="ident" id="6170929">Type</span>&nbsp;<span class="op" id="6170934">!=</span>&nbsp;<span class="ident" id="6170937">nil</span>&nbsp;<span class="op" id="6170941">||</span>&nbsp;<span class="ident" id="6170944"><a href="/go/printer/nodes.go.html#6170822">keepType</a></span>&nbsp;<span class="op" id="6170953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170957"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6170958">.</span><span class="builtinfunc" id="6170959">print</span><span class="op" id="6170964">(</span><span class="ident" id="6170965"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6170969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6170973"><a href="/go/printer/nodes.go.html#6170908">extraTabs</a></span><span class="op" id="6170982">--</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6170986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6170989">if</span>&nbsp;<span class="ident" id="6170992"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6170993">.</span><span class="ident" id="6170994">Type</span>&nbsp;<span class="op" id="6170999">!=</span>&nbsp;<span class="ident" id="6171002">nil</span>&nbsp;<span class="op" id="6171006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171010"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6171011">.</span><span class="ident" id="6171012">expr</span><span class="op" id="6171016">(</span><span class="ident" id="6171017"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6171018">.</span><span class="ident" id="6171019">Type</span><span class="op" id="6171023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171029">if</span>&nbsp;<span class="ident" id="6171032"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6171033">.</span><span class="ident" id="6171034">Values</span>&nbsp;<span class="op" id="6171041">!=</span>&nbsp;<span class="ident" id="6171044">nil</span>&nbsp;<span class="op" id="6171048">{</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171052"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6171053">.</span><span class="builtinfunc" id="6171054">print</span><span class="op" id="6171059">(</span><span class="ident" id="6171060"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6171064">,</span>&nbsp;<span class="ident" id="6171066"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6171071">.</span><span class="ident" id="6171072">ASSIGN</span><span class="op" id="6171078">,</span>&nbsp;<span class="ident" id="6171080"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6171085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171089"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6171090">.</span><span class="ident" id="6171091">exprList</span><span class="op" id="6171099">(</span><span class="ident" id="6171100"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6171105">.</span><span class="ident" id="6171106">NoPos</span><span class="op" id="6171111">,</span>&nbsp;<span class="ident" id="6171113"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6171114">.</span><span class="ident" id="6171115">Values</span><span class="op" id="6171121">,</span>&nbsp;<span class="num" id="6171123">1</span><span class="op" id="6171124">,</span>&nbsp;<span class="num" id="6171126">0</span><span class="op" id="6171127">,</span>&nbsp;<span class="ident" id="6171129"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6171134">.</span><span class="ident" id="6171135">NoPos</span><span class="op" id="6171140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171144"><a href="/go/printer/nodes.go.html#6170908">extraTabs</a></span><span class="op" id="6171153">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171160">if</span>&nbsp;<span class="ident" id="6171163"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6171164">.</span><span class="ident" id="6171165">Comment</span>&nbsp;<span class="op" id="6171173">!=</span>&nbsp;<span class="ident" id="6171176">nil</span>&nbsp;<span class="op" id="6171180">{</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171184">for</span>&nbsp;<span class="op" id="6171188">;</span>&nbsp;<span class="ident" id="6171190"><a href="/go/printer/nodes.go.html#6170908">extraTabs</a></span>&nbsp;<span class="op" id="6171200">&gt;</span>&nbsp;<span class="num" id="6171202">0</span><span class="op" id="6171203">;</span>&nbsp;<span class="ident" id="6171205"><a href="/go/printer/nodes.go.html#6170908">extraTabs</a></span><span class="op" id="6171214">--</span>&nbsp;<span class="op" id="6171217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171222"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6171223">.</span><span class="builtinfunc" id="6171224">print</span><span class="op" id="6171229">(</span><span class="ident" id="6171230"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6171234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171242"><a href="/go/printer/nodes.go.html#6170782">p</a></span><span class="op" id="6171243">.</span><span class="ident" id="6171244">setComment</span><span class="op" id="6171254">(</span><span class="ident" id="6171255"><a href="/go/printer/nodes.go.html#6170804">s</a></span><span class="op" id="6171256">.</span><span class="ident" id="6171257">Comment</span><span class="op" id="6171264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171267">}</span><br>
<span class="lineno">1335</span><span class="op" id="6171269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6171272">//&nbsp;The&nbsp;parameter&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;specs&nbsp;in&nbsp;the&nbsp;group.&nbsp;If&nbsp;doIndent&nbsp;is&nbsp;set,</span><br>
<span class="lineno"></span><span class="comment" id="6171348">//&nbsp;multi-line&nbsp;identifier&nbsp;lists&nbsp;in&nbsp;the&nbsp;spec&nbsp;are&nbsp;indented&nbsp;when&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span><span class="comment" id="6171419">//&nbsp;linebreak&nbsp;is&nbsp;encountered.</span><br>
<span class="lineno">1340</span><span class="comment" id="6171448">//</span><br>
<span class="lineno"></span><span class="keyword" id="6171451">func</span>&nbsp;<span class="op" id="6171456">(</span><span class="ident" id="6171457">p</span>&nbsp;<span class="op" id="6171459">*</span><span class="ident" id="6171460"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6171467">)</span>&nbsp;<span class="ident" id="6171469">spec</span><span class="op" id="6171473">(</span><span class="ident" id="6171474">spec</span>&nbsp;<span class="ident" id="6171479"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6171482">.</span><span class="ident" id="6171483">Spec</span><span class="op" id="6171487">,</span>&nbsp;<span class="ident" id="6171489">n</span>&nbsp;<span class="builtintype" id="6171491">int</span><span class="op" id="6171494">,</span>&nbsp;<span class="ident" id="6171496">doIndent</span>&nbsp;<span class="builtintype" id="6171505">bool</span><span class="op" id="6171509">)</span>&nbsp;<span class="op" id="6171511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171514">switch</span>&nbsp;<span class="ident" id="6171521">s</span>&nbsp;<span class="op" id="6171523">:=</span>&nbsp;<span class="ident" id="6171526"><a href="/go/printer/nodes.go.html#6171474">spec</a></span><span class="op" id="6171530">.</span><span class="op" id="6171531">(</span><span class="keyword" id="6171532">type</span><span class="op" id="6171536">)</span>&nbsp;<span class="op" id="6171538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171541">case</span>&nbsp;<span class="op" id="6171546">*</span><span class="ident" id="6171547"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6171550">.</span><span class="ident" id="6171551">ImportSpec</span><span class="op" id="6171561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171565"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171566">.</span><span class="ident" id="6171567">setComment</span><span class="op" id="6171577">(</span><span class="ident" id="6171578"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171579">.</span><span class="ident" id="6171580">Doc</span><span class="op" id="6171583">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171587">if</span>&nbsp;<span class="ident" id="6171590"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171591">.</span><span class="ident" id="6171592">Name</span>&nbsp;<span class="op" id="6171597">!=</span>&nbsp;<span class="ident" id="6171600">nil</span>&nbsp;<span class="op" id="6171604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171609"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171610">.</span><span class="ident" id="6171611">expr</span><span class="op" id="6171615">(</span><span class="ident" id="6171616"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171617">.</span><span class="ident" id="6171618">Name</span><span class="op" id="6171622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171627"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171628">.</span><span class="builtinfunc" id="6171629">print</span><span class="op" id="6171634">(</span><span class="ident" id="6171635"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6171640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171648"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171649">.</span><span class="ident" id="6171650">expr</span><span class="op" id="6171654">(</span><span class="ident" id="6171655"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171656">.</span><span class="ident" id="6171657">Path</span><span class="op" id="6171661">)</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171665"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171666">.</span><span class="ident" id="6171667">setComment</span><span class="op" id="6171677">(</span><span class="ident" id="6171678"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171679">.</span><span class="ident" id="6171680">Comment</span><span class="op" id="6171687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171691"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171692">.</span><span class="builtinfunc" id="6171693">print</span><span class="op" id="6171698">(</span><span class="ident" id="6171699"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171700">.</span><span class="ident" id="6171701">EndPos</span><span class="op" id="6171707">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171711">case</span>&nbsp;<span class="op" id="6171716">*</span><span class="ident" id="6171717"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6171720">.</span><span class="ident" id="6171721">ValueSpec</span><span class="op" id="6171730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171734">if</span>&nbsp;<span class="ident" id="6171737"><a href="/go/printer/nodes.go.html#6171489">n</a></span>&nbsp;<span class="op" id="6171739">!=</span>&nbsp;<span class="num" id="6171742">1</span>&nbsp;<span class="op" id="6171744">{</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171749"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171750">.</span><span class="ident" id="6171751">internalError</span><span class="op" id="6171764">(</span><span class="string" id="6171765">&#34;expected&nbsp;n&nbsp;=&nbsp;1;&nbsp;got&#34;</span><span class="op" id="6171786">,</span>&nbsp;<span class="ident" id="6171788"><a href="/go/printer/nodes.go.html#6171489">n</a></span><span class="op" id="6171789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171797"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171798">.</span><span class="ident" id="6171799">setComment</span><span class="op" id="6171809">(</span><span class="ident" id="6171810"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171811">.</span><span class="ident" id="6171812">Doc</span><span class="op" id="6171815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171819"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171820">.</span><span class="ident" id="6171821">identList</span><span class="op" id="6171830">(</span><span class="ident" id="6171831"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171832">.</span><span class="ident" id="6171833">Names</span><span class="op" id="6171838">,</span>&nbsp;<span class="ident" id="6171840"><a href="/go/printer/nodes.go.html#6171496">doIndent</a></span><span class="op" id="6171848">)</span>&nbsp;<span class="comment" id="6171850">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171870">if</span>&nbsp;<span class="ident" id="6171873"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171874">.</span><span class="ident" id="6171875">Type</span>&nbsp;<span class="op" id="6171880">!=</span>&nbsp;<span class="ident" id="6171883">nil</span>&nbsp;<span class="op" id="6171887">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171892"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171893">.</span><span class="builtinfunc" id="6171894">print</span><span class="op" id="6171899">(</span><span class="ident" id="6171900"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6171905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171910"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171911">.</span><span class="ident" id="6171912">expr</span><span class="op" id="6171916">(</span><span class="ident" id="6171917"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171918">.</span><span class="ident" id="6171919">Type</span><span class="op" id="6171923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6171927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6171931">if</span>&nbsp;<span class="ident" id="6171934"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6171935">.</span><span class="ident" id="6171936">Values</span>&nbsp;<span class="op" id="6171943">!=</span>&nbsp;<span class="ident" id="6171946">nil</span>&nbsp;<span class="op" id="6171950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171955"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171956">.</span><span class="builtinfunc" id="6171957">print</span><span class="op" id="6171962">(</span><span class="ident" id="6171963"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6171968">,</span>&nbsp;<span class="ident" id="6171970"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6171975">.</span><span class="ident" id="6171976">ASSIGN</span><span class="op" id="6171982">,</span>&nbsp;<span class="ident" id="6171984"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6171989">)</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6171994"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6171995">.</span><span class="ident" id="6171996">exprList</span><span class="op" id="6172004">(</span><span class="ident" id="6172005"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6172010">.</span><span class="ident" id="6172011">NoPos</span><span class="op" id="6172016">,</span>&nbsp;<span class="ident" id="6172018"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172019">.</span><span class="ident" id="6172020">Values</span><span class="op" id="6172026">,</span>&nbsp;<span class="num" id="6172028">1</span><span class="op" id="6172029">,</span>&nbsp;<span class="num" id="6172031">0</span><span class="op" id="6172032">,</span>&nbsp;<span class="ident" id="6172034"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6172039">.</span><span class="ident" id="6172040">NoPos</span><span class="op" id="6172045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172053"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172054">.</span><span class="ident" id="6172055">setComment</span><span class="op" id="6172065">(</span><span class="ident" id="6172066"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172067">.</span><span class="ident" id="6172068">Comment</span><span class="op" id="6172075">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172079">case</span>&nbsp;<span class="op" id="6172084">*</span><span class="ident" id="6172085"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6172088">.</span><span class="ident" id="6172089">TypeSpec</span><span class="op" id="6172097">:</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172101"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172102">.</span><span class="ident" id="6172103">setComment</span><span class="op" id="6172113">(</span><span class="ident" id="6172114"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172115">.</span><span class="ident" id="6172116">Doc</span><span class="op" id="6172119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172123"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172124">.</span><span class="ident" id="6172125">expr</span><span class="op" id="6172129">(</span><span class="ident" id="6172130"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172131">.</span><span class="ident" id="6172132">Name</span><span class="op" id="6172136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172140">if</span>&nbsp;<span class="ident" id="6172143"><a href="/go/printer/nodes.go.html#6171489">n</a></span>&nbsp;<span class="op" id="6172145">==</span>&nbsp;<span class="num" id="6172148">1</span>&nbsp;<span class="op" id="6172150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172155"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172156">.</span><span class="builtinfunc" id="6172157">print</span><span class="op" id="6172162">(</span><span class="ident" id="6172163"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6172168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172172">}</span>&nbsp;<span class="keyword" id="6172174">else</span>&nbsp;<span class="op" id="6172179">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172184"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172185">.</span><span class="builtinfunc" id="6172186">print</span><span class="op" id="6172191">(</span><span class="ident" id="6172192"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6172196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172204"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172205">.</span><span class="ident" id="6172206">expr</span><span class="op" id="6172210">(</span><span class="ident" id="6172211"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172212">.</span><span class="ident" id="6172213">Type</span><span class="op" id="6172217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172221"><a href="/go/printer/nodes.go.html#6171457">p</a></span><span class="op" id="6172222">.</span><span class="ident" id="6172223">setComment</span><span class="op" id="6172233">(</span><span class="ident" id="6172234"><a href="/go/printer/nodes.go.html#6171521">s</a></span><span class="op" id="6172235">.</span><span class="ident" id="6172236">Comment</span><span class="op" id="6172243">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172247">default</span><span class="op" id="6172254">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6172258">panic</span><span class="op" id="6172263">(</span><span class="string" id="6172264">&#34;unreachable&#34;</span><span class="op" id="6172277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172280">}</span><br>
<span class="lineno"></span><span class="op" id="6172282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1385</span><span class="keyword" id="6172285">func</span>&nbsp;<span class="op" id="6172290">(</span><span class="ident" id="6172291">p</span>&nbsp;<span class="op" id="6172293">*</span><span class="ident" id="6172294"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6172301">)</span>&nbsp;<span class="ident" id="6172303">genDecl</span><span class="op" id="6172310">(</span><span class="ident" id="6172311">d</span>&nbsp;<span class="op" id="6172313">*</span><span class="ident" id="6172314"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6172317">.</span><span class="ident" id="6172318">GenDecl</span><span class="op" id="6172325">)</span>&nbsp;<span class="op" id="6172327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172330"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172331">.</span><span class="ident" id="6172332">setComment</span><span class="op" id="6172342">(</span><span class="ident" id="6172343"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172344">.</span><span class="ident" id="6172345">Doc</span><span class="op" id="6172348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172351"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172352">.</span><span class="builtinfunc" id="6172353">print</span><span class="op" id="6172358">(</span><span class="ident" id="6172359"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172360">.</span><span class="ident" id="6172361">Pos</span><span class="op" id="6172364">(</span><span class="op" id="6172365">)</span><span class="op" id="6172366">,</span>&nbsp;<span class="ident" id="6172368"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172369">.</span><span class="ident" id="6172370">Tok</span><span class="op" id="6172373">,</span>&nbsp;<span class="ident" id="6172375"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6172380">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172384">if</span>&nbsp;<span class="ident" id="6172387"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172388">.</span><span class="ident" id="6172389">Lparen</span><span class="op" id="6172395">.</span><span class="ident" id="6172396">IsValid</span><span class="op" id="6172403">(</span><span class="op" id="6172404">)</span>&nbsp;<span class="op" id="6172406">{</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6172410">//&nbsp;group&nbsp;of&nbsp;parenthesized&nbsp;declarations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172451"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172452">.</span><span class="builtinfunc" id="6172453">print</span><span class="op" id="6172458">(</span><span class="ident" id="6172459"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172460">.</span><span class="ident" id="6172461">Lparen</span><span class="op" id="6172467">,</span>&nbsp;<span class="ident" id="6172469"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6172474">.</span><span class="ident" id="6172475">LPAREN</span><span class="op" id="6172481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172485">if</span>&nbsp;<span class="ident" id="6172488">n</span>&nbsp;<span class="op" id="6172490">:=</span>&nbsp;<span class="builtinfunc" id="6172493">len</span><span class="op" id="6172496">(</span><span class="ident" id="6172497"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172498">.</span><span class="ident" id="6172499">Specs</span><span class="op" id="6172504">)</span><span class="op" id="6172505">;</span>&nbsp;<span class="ident" id="6172507"><a href="/go/printer/nodes.go.html#6172488">n</a></span>&nbsp;<span class="op" id="6172509">&gt;</span>&nbsp;<span class="num" id="6172511">0</span>&nbsp;<span class="op" id="6172513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172518"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172519">.</span><span class="builtinfunc" id="6172520">print</span><span class="op" id="6172525">(</span><span class="ident" id="6172526"><a href="/go/printer/printer.go.html#6179179">indent</a></span><span class="op" id="6172532">,</span>&nbsp;<span class="ident" id="6172534"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6172542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172547">if</span>&nbsp;<span class="ident" id="6172550"><a href="/go/printer/nodes.go.html#6172488">n</a></span>&nbsp;<span class="op" id="6172552">&gt;</span>&nbsp;<span class="num" id="6172554">1</span>&nbsp;<span class="op" id="6172556">&amp;&amp;</span>&nbsp;<span class="op" id="6172559">(</span><span class="ident" id="6172560"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172561">.</span><span class="ident" id="6172562">Tok</span>&nbsp;<span class="op" id="6172566">==</span>&nbsp;<span class="ident" id="6172569"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6172574">.</span><span class="ident" id="6172575">CONST</span>&nbsp;<span class="op" id="6172581">||</span>&nbsp;<span class="ident" id="6172584"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172585">.</span><span class="ident" id="6172586">Tok</span>&nbsp;<span class="op" id="6172590">==</span>&nbsp;<span class="ident" id="6172593"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6172598">.</span><span class="ident" id="6172599">VAR</span><span class="op" id="6172602">)</span>&nbsp;<span class="op" id="6172604">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6172610">//&nbsp;two&nbsp;or&nbsp;more&nbsp;grouped&nbsp;const/var&nbsp;declarations:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6172661">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172710">keepType</span>&nbsp;<span class="op" id="6172719">:=</span>&nbsp;<span class="ident" id="6172722"><a href="/go/printer/nodes.go.html#6170085">keepTypeColumn</a></span><span class="op" id="6172736">(</span><span class="ident" id="6172737"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172738">.</span><span class="ident" id="6172739">Specs</span><span class="op" id="6172744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172750">var</span>&nbsp;<span class="ident" id="6172754">line</span>&nbsp;<span class="builtintype" id="6172759">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172767">for</span>&nbsp;<span class="ident" id="6172771">i</span><span class="op" id="6172772">,</span>&nbsp;<span class="ident" id="6172774">s</span>&nbsp;<span class="op" id="6172776">:=</span>&nbsp;<span class="keyword" id="6172779">range</span>&nbsp;<span class="ident" id="6172785"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6172786">.</span><span class="ident" id="6172787">Specs</span>&nbsp;<span class="op" id="6172793">{</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172800">if</span>&nbsp;<span class="ident" id="6172803"><a href="/go/printer/nodes.go.html#6172771">i</a></span>&nbsp;<span class="op" id="6172805">&gt;</span>&nbsp;<span class="num" id="6172807">0</span>&nbsp;<span class="op" id="6172809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172817"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172818">.</span><span class="ident" id="6172819">linebreak</span><span class="op" id="6172828">(</span><span class="ident" id="6172829"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172830">.</span><span class="ident" id="6172831">lineFor</span><span class="op" id="6172838">(</span><span class="ident" id="6172839"><a href="/go/printer/nodes.go.html#6172774">s</a></span><span class="op" id="6172840">.</span><span class="ident" id="6172841">Pos</span><span class="op" id="6172844">(</span><span class="op" id="6172845">)</span><span class="op" id="6172846">)</span><span class="op" id="6172847">,</span>&nbsp;<span class="num" id="6172849">1</span><span class="op" id="6172850">,</span>&nbsp;<span class="ident" id="6172852"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6172858">,</span>&nbsp;<span class="ident" id="6172860"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172861">.</span><span class="ident" id="6172862">linesFrom</span><span class="op" id="6172871">(</span><span class="ident" id="6172872"><a href="/go/printer/nodes.go.html#6172754">line</a></span><span class="op" id="6172876">)</span>&nbsp;<span class="op" id="6172878">&gt;</span>&nbsp;<span class="num" id="6172880">0</span><span class="op" id="6172881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172895"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172896">.</span><span class="ident" id="6172897">recordLine</span><span class="op" id="6172907">(</span><span class="op" id="6172908">&amp;</span><span class="ident" id="6172909"><a href="/go/printer/nodes.go.html#6172754">line</a></span><span class="op" id="6172913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6172920"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6172921">.</span><span class="ident" id="6172922">valueSpec</span><span class="op" id="6172931">(</span><span class="ident" id="6172932"><a href="/go/printer/nodes.go.html#6172774">s</a></span><span class="op" id="6172933">.</span><span class="op" id="6172934">(</span><span class="op" id="6172935">*</span><span class="ident" id="6172936"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6172939">.</span><span class="ident" id="6172940">ValueSpec</span><span class="op" id="6172949">)</span><span class="op" id="6172950">,</span>&nbsp;<span class="ident" id="6172952"><a href="/go/printer/nodes.go.html#6172710">keepType</a></span><span class="op" id="6172960">[</span><span class="ident" id="6172961"><a href="/go/printer/nodes.go.html#6172771">i</a></span><span class="op" id="6172962">]</span><span class="op" id="6172963">)</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6172974">}</span>&nbsp;<span class="keyword" id="6172976">else</span>&nbsp;<span class="op" id="6172981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6172987">var</span>&nbsp;<span class="ident" id="6172991">line</span>&nbsp;<span class="builtintype" id="6172996">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6173004">for</span>&nbsp;<span class="ident" id="6173008">i</span><span class="op" id="6173009">,</span>&nbsp;<span class="ident" id="6173011">s</span>&nbsp;<span class="op" id="6173013">:=</span>&nbsp;<span class="keyword" id="6173016">range</span>&nbsp;<span class="ident" id="6173022"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6173023">.</span><span class="ident" id="6173024">Specs</span>&nbsp;<span class="op" id="6173030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6173037">if</span>&nbsp;<span class="ident" id="6173040"><a href="/go/printer/nodes.go.html#6173008">i</a></span>&nbsp;<span class="op" id="6173042">&gt;</span>&nbsp;<span class="num" id="6173044">0</span>&nbsp;<span class="op" id="6173046">{</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173054"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173055">.</span><span class="ident" id="6173056">linebreak</span><span class="op" id="6173065">(</span><span class="ident" id="6173066"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173067">.</span><span class="ident" id="6173068">lineFor</span><span class="op" id="6173075">(</span><span class="ident" id="6173076"><a href="/go/printer/nodes.go.html#6173011">s</a></span><span class="op" id="6173077">.</span><span class="ident" id="6173078">Pos</span><span class="op" id="6173081">(</span><span class="op" id="6173082">)</span><span class="op" id="6173083">)</span><span class="op" id="6173084">,</span>&nbsp;<span class="num" id="6173086">1</span><span class="op" id="6173087">,</span>&nbsp;<span class="ident" id="6173089"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6173095">,</span>&nbsp;<span class="ident" id="6173097"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173098">.</span><span class="ident" id="6173099">linesFrom</span><span class="op" id="6173108">(</span><span class="ident" id="6173109"><a href="/go/printer/nodes.go.html#6172991">line</a></span><span class="op" id="6173113">)</span>&nbsp;<span class="op" id="6173115">&gt;</span>&nbsp;<span class="num" id="6173117">0</span><span class="op" id="6173118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173132"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173133">.</span><span class="ident" id="6173134">recordLine</span><span class="op" id="6173144">(</span><span class="op" id="6173145">&amp;</span><span class="ident" id="6173146"><a href="/go/printer/nodes.go.html#6172991">line</a></span><span class="op" id="6173150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173157"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173158">.</span><span class="ident" id="6173159">spec</span><span class="op" id="6173163">(</span><span class="ident" id="6173164"><a href="/go/printer/nodes.go.html#6173011">s</a></span><span class="op" id="6173165">,</span>&nbsp;<span class="ident" id="6173167"><a href="/go/printer/nodes.go.html#6172488">n</a></span><span class="op" id="6173168">,</span>&nbsp;<span class="ident" id="6173170">false</span><span class="op" id="6173175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173181">}</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173191"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173192">.</span><span class="builtinfunc" id="6173193">print</span><span class="op" id="6173198">(</span><span class="ident" id="6173199"><a href="/go/printer/printer.go.html#6179207">unindent</a></span><span class="op" id="6173207">,</span>&nbsp;<span class="ident" id="6173209"><a href="/go/printer/printer.go.html#6179150">formfeed</a></span><span class="op" id="6173217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173225"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173226">.</span><span class="builtinfunc" id="6173227">print</span><span class="op" id="6173232">(</span><span class="ident" id="6173233"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6173234">.</span><span class="ident" id="6173235">Rparen</span><span class="op" id="6173241">,</span>&nbsp;<span class="ident" id="6173243"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6173248">.</span><span class="ident" id="6173249">RPAREN</span><span class="op" id="6173255">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173259">}</span>&nbsp;<span class="keyword" id="6173261">else</span>&nbsp;<span class="op" id="6173266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6173270">//&nbsp;single&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173294"><a href="/go/printer/nodes.go.html#6172291">p</a></span><span class="op" id="6173295">.</span><span class="ident" id="6173296">spec</span><span class="op" id="6173300">(</span><span class="ident" id="6173301"><a href="/go/printer/nodes.go.html#6172311">d</a></span><span class="op" id="6173302">.</span><span class="ident" id="6173303">Specs</span><span class="op" id="6173308">[</span><span class="num" id="6173309">0</span><span class="op" id="6173310">]</span><span class="op" id="6173311">,</span>&nbsp;<span class="num" id="6173313">1</span><span class="op" id="6173314">,</span>&nbsp;<span class="ident" id="6173316">true</span><span class="op" id="6173320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173323">}</span><br>
<span class="lineno"></span><span class="op" id="6173325">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="comment" id="6173328">//&nbsp;nodeSize&nbsp;determines&nbsp;the&nbsp;size&nbsp;of&nbsp;n&nbsp;in&nbsp;chars&nbsp;after&nbsp;formatting.</span><br>
<span class="lineno"></span><span class="comment" id="6173392">//&nbsp;The&nbsp;result&nbsp;is&nbsp;&lt;=&nbsp;maxSize&nbsp;if&nbsp;the&nbsp;node&nbsp;fits&nbsp;on&nbsp;one&nbsp;line&nbsp;with&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6173457">//&nbsp;most&nbsp;maxSize&nbsp;chars&nbsp;and&nbsp;the&nbsp;formatted&nbsp;output&nbsp;doesn&#39;t&nbsp;contain</span><br>
<span class="lineno"></span><span class="comment" id="6173520">//&nbsp;any&nbsp;control&nbsp;chars.&nbsp;Otherwise,&nbsp;the&nbsp;result&nbsp;is&nbsp;&gt;&nbsp;maxSize.</span><br>
<span class="lineno">1430</span><span class="comment" id="6173578">//</span><br>
<span class="lineno"></span><span class="keyword" id="6173581">func</span>&nbsp;<span class="op" id="6173586">(</span><span class="ident" id="6173587">p</span>&nbsp;<span class="op" id="6173589">*</span><span class="ident" id="6173590"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6173597">)</span>&nbsp;<span class="ident" id="6173599">nodeSize</span><span class="op" id="6173607">(</span><span class="ident" id="6173608">n</span>&nbsp;<span class="ident" id="6173610"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6173613">.</span><span class="ident" id="6173614">Node</span><span class="op" id="6173618">,</span>&nbsp;<span class="ident" id="6173620">maxSize</span>&nbsp;<span class="builtintype" id="6173628">int</span><span class="op" id="6173631">)</span>&nbsp;<span class="op" id="6173633">(</span><span class="ident" id="6173634">size</span>&nbsp;<span class="builtintype" id="6173639">int</span><span class="op" id="6173642">)</span>&nbsp;<span class="op" id="6173644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6173647">//&nbsp;nodeSize&nbsp;invokes&nbsp;the&nbsp;printer,&nbsp;which&nbsp;may&nbsp;invoke&nbsp;nodeSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6173707">//&nbsp;recursively.&nbsp;For&nbsp;deep&nbsp;composite&nbsp;literal&nbsp;nests,&nbsp;this&nbsp;can</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6173767">//&nbsp;lead&nbsp;to&nbsp;an&nbsp;exponential&nbsp;algorithm.&nbsp;Remember&nbsp;previous</span><br>
<span class="lineno">1435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6173823">//&nbsp;results&nbsp;to&nbsp;prune&nbsp;the&nbsp;recursion&nbsp;(was&nbsp;issue&nbsp;1628).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6173876">if</span>&nbsp;<span class="ident" id="6173879">size</span><span class="op" id="6173883">,</span>&nbsp;<span class="ident" id="6173885">found</span>&nbsp;<span class="op" id="6173891">:=</span>&nbsp;<span class="ident" id="6173894"><a href="/go/printer/nodes.go.html#6173587">p</a></span><span class="op" id="6173895">.</span><span class="ident" id="6173896">nodeSizes</span><span class="op" id="6173905">[</span><span class="ident" id="6173906"><a href="/go/printer/nodes.go.html#6173608">n</a></span><span class="op" id="6173907">]</span><span class="op" id="6173908">;</span>&nbsp;<span class="ident" id="6173910"><a href="/go/printer/nodes.go.html#6173885">found</a></span>&nbsp;<span class="op" id="6173916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6173920">return</span>&nbsp;<span class="ident" id="6173927"><a href="/go/printer/nodes.go.html#6173879">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6173933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173937"><a href="/go/printer/nodes.go.html#6173634">size</a></span>&nbsp;<span class="op" id="6173942">=</span>&nbsp;<span class="ident" id="6173944"><a href="/go/printer/nodes.go.html#6173620">maxSize</a></span>&nbsp;<span class="op" id="6173952">+</span>&nbsp;<span class="num" id="6173954">1</span>&nbsp;<span class="comment" id="6173956">//&nbsp;assume&nbsp;n&nbsp;doesn&#39;t&nbsp;fit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6173981"><a href="/go/printer/nodes.go.html#6173587">p</a></span><span class="op" id="6173982">.</span><span class="ident" id="6173983">nodeSizes</span><span class="op" id="6173992">[</span><span class="ident" id="6173993"><a href="/go/printer/nodes.go.html#6173608">n</a></span><span class="op" id="6173994">]</span>&nbsp;<span class="op" id="6173996">=</span>&nbsp;<span class="ident" id="6173998"><a href="/go/printer/nodes.go.html#6173634">size</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174005">//&nbsp;nodeSize&nbsp;computation&nbsp;must&nbsp;be&nbsp;independent&nbsp;of&nbsp;particular</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174064">//&nbsp;style&nbsp;so&nbsp;that&nbsp;we&nbsp;always&nbsp;get&nbsp;the&nbsp;same&nbsp;decision;&nbsp;print</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174121">//&nbsp;in&nbsp;RawFormat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174138">cfg</span>&nbsp;<span class="op" id="6174142">:=</span>&nbsp;<span class="ident" id="6174145"><a href="/go/printer/printer.go.html#6213576">Config</a></span><span class="op" id="6174151">{</span><span class="ident" id="6174152">Mode</span><span class="op" id="6174156">:</span>&nbsp;<span class="ident" id="6174158"><a href="/go/printer/printer.go.html#6213194">RawFormat</a></span><span class="op" id="6174167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174170">var</span>&nbsp;<span class="ident" id="6174174">buf</span>&nbsp;<span class="ident" id="6174178"><a href="/go/printer/nodes.go.html#6136203">bytes</a></span><span class="op" id="6174183">.</span><span class="ident" id="6174184">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174192">if</span>&nbsp;<span class="ident" id="6174195">err</span>&nbsp;<span class="op" id="6174199">:=</span>&nbsp;<span class="ident" id="6174202"><a href="/go/printer/nodes.go.html#6174138">cfg</a></span><span class="op" id="6174205">.</span><span class="ident" id="6174206">fprint</span><span class="op" id="6174212">(</span><span class="op" id="6174213">&amp;</span><span class="ident" id="6174214"><a href="/go/printer/nodes.go.html#6174174">buf</a></span><span class="op" id="6174217">,</span>&nbsp;<span class="ident" id="6174219"><a href="/go/printer/nodes.go.html#6173587">p</a></span><span class="op" id="6174220">.</span><span class="ident" id="6174221">fset</span><span class="op" id="6174225">,</span>&nbsp;<span class="ident" id="6174227"><a href="/go/printer/nodes.go.html#6173608">n</a></span><span class="op" id="6174228">,</span>&nbsp;<span class="ident" id="6174230"><a href="/go/printer/nodes.go.html#6173587">p</a></span><span class="op" id="6174231">.</span><span class="ident" id="6174232">nodeSizes</span><span class="op" id="6174241">)</span><span class="op" id="6174242">;</span>&nbsp;<span class="ident" id="6174244"><a href="/go/printer/nodes.go.html#6174195">err</a></span>&nbsp;<span class="op" id="6174248">!=</span>&nbsp;<span class="ident" id="6174251">nil</span>&nbsp;<span class="op" id="6174255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174259">return</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174270">if</span>&nbsp;<span class="ident" id="6174273"><a href="/go/printer/nodes.go.html#6174174">buf</a></span><span class="op" id="6174276">.</span><span class="ident" id="6174277">Len</span><span class="op" id="6174280">(</span><span class="op" id="6174281">)</span>&nbsp;<span class="op" id="6174283">&lt;=</span>&nbsp;<span class="ident" id="6174286"><a href="/go/printer/nodes.go.html#6173620">maxSize</a></span>&nbsp;<span class="op" id="6174294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174298">for</span>&nbsp;<span class="ident" id="6174302">_</span><span class="op" id="6174303">,</span>&nbsp;<span class="ident" id="6174305">ch</span>&nbsp;<span class="op" id="6174308">:=</span>&nbsp;<span class="keyword" id="6174311">range</span>&nbsp;<span class="ident" id="6174317"><a href="/go/printer/nodes.go.html#6174174">buf</a></span><span class="op" id="6174320">.</span><span class="ident" id="6174321">Bytes</span><span class="op" id="6174326">(</span><span class="op" id="6174327">)</span>&nbsp;<span class="op" id="6174329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174334">if</span>&nbsp;<span class="ident" id="6174337"><a href="/go/printer/nodes.go.html#6174305">ch</a></span>&nbsp;<span class="op" id="6174340">&lt;</span>&nbsp;<span class="string" id="6174342">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6174346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174352">return</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174370"><a href="/go/printer/nodes.go.html#6173634">size</a></span>&nbsp;<span class="op" id="6174375">=</span>&nbsp;<span class="ident" id="6174377"><a href="/go/printer/nodes.go.html#6174174">buf</a></span><span class="op" id="6174380">.</span><span class="ident" id="6174381">Len</span><span class="op" id="6174384">(</span><span class="op" id="6174385">)</span>&nbsp;<span class="comment" id="6174387">//&nbsp;n&nbsp;fits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174399"><a href="/go/printer/nodes.go.html#6173587">p</a></span><span class="op" id="6174400">.</span><span class="ident" id="6174401">nodeSizes</span><span class="op" id="6174410">[</span><span class="ident" id="6174411"><a href="/go/printer/nodes.go.html#6173608">n</a></span><span class="op" id="6174412">]</span>&nbsp;<span class="op" id="6174414">=</span>&nbsp;<span class="ident" id="6174416"><a href="/go/printer/nodes.go.html#6173634">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174422">}</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174425">return</span><br>
<span class="lineno"></span><span class="op" id="6174432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6174435">//&nbsp;bodySize&nbsp;is&nbsp;like&nbsp;nodeSize&nbsp;but&nbsp;it&nbsp;is&nbsp;specialized&nbsp;for&nbsp;*ast.BlockStmt&#39;s.</span><br>
<span class="lineno"></span><span class="keyword" id="6174508">func</span>&nbsp;<span class="op" id="6174513">(</span><span class="ident" id="6174514">p</span>&nbsp;<span class="op" id="6174516">*</span><span class="ident" id="6174517"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6174524">)</span>&nbsp;<span class="ident" id="6174526">bodySize</span><span class="op" id="6174534">(</span><span class="ident" id="6174535">b</span>&nbsp;<span class="op" id="6174537">*</span><span class="ident" id="6174538"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6174541">.</span><span class="ident" id="6174542">BlockStmt</span><span class="op" id="6174551">,</span>&nbsp;<span class="ident" id="6174553">maxSize</span>&nbsp;<span class="builtintype" id="6174561">int</span><span class="op" id="6174564">)</span>&nbsp;<span class="builtintype" id="6174566">int</span>&nbsp;<span class="op" id="6174570">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174573">pos1</span>&nbsp;<span class="op" id="6174578">:=</span>&nbsp;<span class="ident" id="6174581"><a href="/go/printer/nodes.go.html#6174535">b</a></span><span class="op" id="6174582">.</span><span class="ident" id="6174583">Pos</span><span class="op" id="6174586">(</span><span class="op" id="6174587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174590">pos2</span>&nbsp;<span class="op" id="6174595">:=</span>&nbsp;<span class="ident" id="6174598"><a href="/go/printer/nodes.go.html#6174535">b</a></span><span class="op" id="6174599">.</span><span class="ident" id="6174600">Rbrace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174608">if</span>&nbsp;<span class="ident" id="6174611"><a href="/go/printer/nodes.go.html#6174573">pos1</a></span><span class="op" id="6174615">.</span><span class="ident" id="6174616">IsValid</span><span class="op" id="6174623">(</span><span class="op" id="6174624">)</span>&nbsp;<span class="op" id="6174626">&amp;&amp;</span>&nbsp;<span class="ident" id="6174629"><a href="/go/printer/nodes.go.html#6174590">pos2</a></span><span class="op" id="6174633">.</span><span class="ident" id="6174634">IsValid</span><span class="op" id="6174641">(</span><span class="op" id="6174642">)</span>&nbsp;<span class="op" id="6174644">&amp;&amp;</span>&nbsp;<span class="ident" id="6174647"><a href="/go/printer/nodes.go.html#6174514">p</a></span><span class="op" id="6174648">.</span><span class="ident" id="6174649">lineFor</span><span class="op" id="6174656">(</span><span class="ident" id="6174657"><a href="/go/printer/nodes.go.html#6174573">pos1</a></span><span class="op" id="6174661">)</span>&nbsp;<span class="op" id="6174663">!=</span>&nbsp;<span class="ident" id="6174666"><a href="/go/printer/nodes.go.html#6174514">p</a></span><span class="op" id="6174667">.</span><span class="ident" id="6174668">lineFor</span><span class="op" id="6174675">(</span><span class="ident" id="6174676"><a href="/go/printer/nodes.go.html#6174590">pos2</a></span><span class="op" id="6174680">)</span>&nbsp;<span class="op" id="6174682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174686">//&nbsp;opening&nbsp;and&nbsp;closing&nbsp;brace&nbsp;are&nbsp;on&nbsp;different&nbsp;lines&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174768">return</span>&nbsp;<span class="ident" id="6174775"><a href="/go/printer/nodes.go.html#6174553">maxSize</a></span>&nbsp;<span class="op" id="6174783">+</span>&nbsp;<span class="num" id="6174785">1</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174791">if</span>&nbsp;<span class="builtinfunc" id="6174794">len</span><span class="op" id="6174797">(</span><span class="ident" id="6174798"><a href="/go/printer/nodes.go.html#6174535">b</a></span><span class="op" id="6174799">.</span><span class="ident" id="6174800">List</span><span class="op" id="6174804">)</span>&nbsp;<span class="op" id="6174806">&gt;</span>&nbsp;<span class="num" id="6174808">5</span>&nbsp;<span class="op" id="6174810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174814">//&nbsp;too&nbsp;many&nbsp;statements&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174867">return</span>&nbsp;<span class="ident" id="6174874"><a href="/go/printer/nodes.go.html#6174553">maxSize</a></span>&nbsp;<span class="op" id="6174882">+</span>&nbsp;<span class="num" id="6174884">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6174887">}</span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6174890">//&nbsp;otherwise,&nbsp;estimate&nbsp;body&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6174924">bodySize</span>&nbsp;<span class="op" id="6174933">:=</span>&nbsp;<span class="ident" id="6174936"><a href="/go/printer/nodes.go.html#6174514">p</a></span><span class="op" id="6174937">.</span><span class="ident" id="6174938">commentSizeBefore</span><span class="op" id="6174955">(</span><span class="ident" id="6174956"><a href="/go/printer/nodes.go.html#6174514">p</a></span><span class="op" id="6174957">.</span><span class="ident" id="6174958">posFor</span><span class="op" id="6174964">(</span><span class="ident" id="6174965"><a href="/go/printer/nodes.go.html#6174590">pos2</a></span><span class="op" id="6174969">)</span><span class="op" id="6174970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6174973">for</span>&nbsp;<span class="ident" id="6174977">i</span><span class="op" id="6174978">,</span>&nbsp;<span class="ident" id="6174980">s</span>&nbsp;<span class="op" id="6174982">:=</span>&nbsp;<span class="keyword" id="6174985">range</span>&nbsp;<span class="ident" id="6174991"><a href="/go/printer/nodes.go.html#6174535">b</a></span><span class="op" id="6174992">.</span><span class="ident" id="6174993">List</span>&nbsp;<span class="op" id="6174998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175002">if</span>&nbsp;<span class="ident" id="6175005"><a href="/go/printer/nodes.go.html#6174924">bodySize</a></span>&nbsp;<span class="op" id="6175014">&gt;</span>&nbsp;<span class="ident" id="6175016"><a href="/go/printer/nodes.go.html#6174553">maxSize</a></span>&nbsp;<span class="op" id="6175024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175029">break</span>&nbsp;<span class="comment" id="6175035">//&nbsp;no&nbsp;need&nbsp;to&nbsp;continue</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6175060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175064">if</span>&nbsp;<span class="ident" id="6175067"><a href="/go/printer/nodes.go.html#6174977">i</a></span>&nbsp;<span class="op" id="6175069">&gt;</span>&nbsp;<span class="num" id="6175071">0</span>&nbsp;<span class="op" id="6175073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6175078"><a href="/go/printer/nodes.go.html#6174924">bodySize</a></span>&nbsp;<span class="op" id="6175087">+=</span>&nbsp;<span class="num" id="6175090">2</span>&nbsp;<span class="comment" id="6175092">//&nbsp;space&nbsp;for&nbsp;a&nbsp;semicolon&nbsp;and&nbsp;blank</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6175129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6175133"><a href="/go/printer/nodes.go.html#6174924">bodySize</a></span>&nbsp;<span class="op" id="6175142">+=</span>&nbsp;<span class="ident" id="6175145"><a href="/go/printer/nodes.go.html#6174514">p</a></span><span class="op" id="6175146">.</span><span class="ident" id="6175147">nodeSize</span><span class="op" id="6175155">(</span><span class="ident" id="6175156"><a href="/go/printer/nodes.go.html#6174980">s</a></span><span class="op" id="6175157">,</span>&nbsp;<span class="ident" id="6175159"><a href="/go/printer/nodes.go.html#6174553">maxSize</a></span><span class="op" id="6175166">)</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6175169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175172">return</span>&nbsp;<span class="ident" id="6175179"><a href="/go/printer/nodes.go.html#6174924">bodySize</a></span><br>
<span class="lineno"></span><span class="op" id="6175188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6175191">//&nbsp;adjBlock&nbsp;prints&nbsp;an&nbsp;&#34;adjacent&#34;&nbsp;block&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;or&nbsp;function&nbsp;body)&nbsp;following</span><br>
<span class="lineno">1490</span><span class="comment" id="6175276">//&nbsp;a&nbsp;header&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;control&nbsp;clause&nbsp;or&nbsp;function&nbsp;signature)&nbsp;of&nbsp;given&nbsp;headerSize.</span><br>
<span class="lineno"></span><span class="comment" id="6175365">//&nbsp;If&nbsp;the&nbsp;header&#39;s&nbsp;and&nbsp;block&#39;s&nbsp;size&nbsp;are&nbsp;&#34;small&nbsp;enough&#34;&nbsp;and&nbsp;the&nbsp;block&nbsp;is&nbsp;&#34;simple&nbsp;enough&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="6175454">//&nbsp;the&nbsp;block&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;without&nbsp;line&nbsp;breaks,&nbsp;spaced&nbsp;from&nbsp;the&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="6175543">//&nbsp;by&nbsp;sep.&nbsp;Otherwise&nbsp;the&nbsp;block&#39;s&nbsp;opening&nbsp;&#34;{&#34;&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;followed&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="6175632">//&nbsp;lines&nbsp;for&nbsp;the&nbsp;block&#39;s&nbsp;statements&nbsp;and&nbsp;its&nbsp;closing&nbsp;&#34;}&#34;.</span><br>
<span class="lineno">1495</span><span class="comment" id="6175689">//</span><br>
<span class="lineno"></span><span class="keyword" id="6175692">func</span>&nbsp;<span class="op" id="6175697">(</span><span class="ident" id="6175698">p</span>&nbsp;<span class="op" id="6175700">*</span><span class="ident" id="6175701"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6175708">)</span>&nbsp;<span class="ident" id="6175710">adjBlock</span><span class="op" id="6175718">(</span><span class="ident" id="6175719">headerSize</span>&nbsp;<span class="builtintype" id="6175730">int</span><span class="op" id="6175733">,</span>&nbsp;<span class="ident" id="6175735">sep</span>&nbsp;<span class="ident" id="6175739"><a href="/go/printer/printer.go.html#6179012">whiteSpace</a></span><span class="op" id="6175749">,</span>&nbsp;<span class="ident" id="6175751">b</span>&nbsp;<span class="op" id="6175753">*</span><span class="ident" id="6175754"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6175757">.</span><span class="ident" id="6175758">BlockStmt</span><span class="op" id="6175767">)</span>&nbsp;<span class="op" id="6175769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175772">if</span>&nbsp;<span class="ident" id="6175775"><a href="/go/printer/nodes.go.html#6175751">b</a></span>&nbsp;<span class="op" id="6175777">==</span>&nbsp;<span class="ident" id="6175780">nil</span>&nbsp;<span class="op" id="6175784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175788">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6175796">}</span><br>
<span class="lineno">1500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175800">const</span>&nbsp;<span class="ident" id="6175806">maxSize</span>&nbsp;<span class="op" id="6175814">=</span>&nbsp;<span class="num" id="6175816">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175821">if</span>&nbsp;<span class="ident" id="6175824"><a href="/go/printer/nodes.go.html#6175719">headerSize</a></span><span class="op" id="6175834">+</span><span class="ident" id="6175835"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6175836">.</span><span class="ident" id="6175837">bodySize</span><span class="op" id="6175845">(</span><span class="ident" id="6175846"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6175847">,</span>&nbsp;<span class="ident" id="6175849"><a href="/go/printer/nodes.go.html#6175806">maxSize</a></span><span class="op" id="6175856">)</span>&nbsp;<span class="op" id="6175858">&lt;=</span>&nbsp;<span class="ident" id="6175861"><a href="/go/printer/nodes.go.html#6175806">maxSize</a></span>&nbsp;<span class="op" id="6175869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6175873"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6175874">.</span><span class="builtinfunc" id="6175875">print</span><span class="op" id="6175880">(</span><span class="ident" id="6175881"><a href="/go/printer/nodes.go.html#6175735">sep</a></span><span class="op" id="6175884">,</span>&nbsp;<span class="ident" id="6175886"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6175887">.</span><span class="ident" id="6175888">Lbrace</span><span class="op" id="6175894">,</span>&nbsp;<span class="ident" id="6175896"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6175901">.</span><span class="ident" id="6175902">LBRACE</span><span class="op" id="6175908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175912">if</span>&nbsp;<span class="builtinfunc" id="6175915">len</span><span class="op" id="6175918">(</span><span class="ident" id="6175919"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6175920">.</span><span class="ident" id="6175921">List</span><span class="op" id="6175925">)</span>&nbsp;<span class="op" id="6175927">&gt;</span>&nbsp;<span class="num" id="6175929">0</span>&nbsp;<span class="op" id="6175931">{</span><br>
<span class="lineno">1505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6175936"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6175937">.</span><span class="builtinfunc" id="6175938">print</span><span class="op" id="6175943">(</span><span class="ident" id="6175944"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6175949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175954">for</span>&nbsp;<span class="ident" id="6175958">i</span><span class="op" id="6175959">,</span>&nbsp;<span class="ident" id="6175961">s</span>&nbsp;<span class="op" id="6175963">:=</span>&nbsp;<span class="keyword" id="6175966">range</span>&nbsp;<span class="ident" id="6175972"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6175973">.</span><span class="ident" id="6175974">List</span>&nbsp;<span class="op" id="6175979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6175985">if</span>&nbsp;<span class="ident" id="6175988"><a href="/go/printer/nodes.go.html#6175958">i</a></span>&nbsp;<span class="op" id="6175990">&gt;</span>&nbsp;<span class="num" id="6175992">0</span>&nbsp;<span class="op" id="6175994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176001"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176002">.</span><span class="builtinfunc" id="6176003">print</span><span class="op" id="6176008">(</span><span class="ident" id="6176009"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6176014">.</span><span class="ident" id="6176015">SEMICOLON</span><span class="op" id="6176024">,</span>&nbsp;<span class="ident" id="6176026"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6176031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176037">}</span><br>
<span class="lineno">1510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176043"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176044">.</span><span class="ident" id="6176045">stmt</span><span class="op" id="6176049">(</span><span class="ident" id="6176050"><a href="/go/printer/nodes.go.html#6175961">s</a></span><span class="op" id="6176051">,</span>&nbsp;<span class="ident" id="6176053"><a href="/go/printer/nodes.go.html#6175958">i</a></span>&nbsp;<span class="op" id="6176055">==</span>&nbsp;<span class="builtinfunc" id="6176058">len</span><span class="op" id="6176061">(</span><span class="ident" id="6176062"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6176063">.</span><span class="ident" id="6176064">List</span><span class="op" id="6176068">)</span><span class="op" id="6176069">-</span><span class="num" id="6176070">1</span><span class="op" id="6176071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176081"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176082">.</span><span class="builtinfunc" id="6176083">print</span><span class="op" id="6176088">(</span><span class="ident" id="6176089"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6176094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176102"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176103">.</span><span class="builtinfunc" id="6176104">print</span><span class="op" id="6176109">(</span><span class="ident" id="6176110"><a href="/go/printer/printer.go.html#6179399">noExtraLinebreak</a></span><span class="op" id="6176126">,</span>&nbsp;<span class="ident" id="6176128"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6176129">.</span><span class="ident" id="6176130">Rbrace</span><span class="op" id="6176136">,</span>&nbsp;<span class="ident" id="6176138"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6176143">.</span><span class="ident" id="6176144">RBRACE</span><span class="op" id="6176150">,</span>&nbsp;<span class="ident" id="6176152"><a href="/go/printer/printer.go.html#6179399">noExtraLinebreak</a></span><span class="op" id="6176168">)</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176172">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176184">if</span>&nbsp;<span class="ident" id="6176187"><a href="/go/printer/nodes.go.html#6175735">sep</a></span>&nbsp;<span class="op" id="6176191">!=</span>&nbsp;<span class="ident" id="6176194"><a href="/go/printer/printer.go.html#6179038">ignore</a></span>&nbsp;<span class="op" id="6176201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176205"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176206">.</span><span class="builtinfunc" id="6176207">print</span><span class="op" id="6176212">(</span><span class="ident" id="6176213"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6176218">)</span>&nbsp;<span class="comment" id="6176220">//&nbsp;always&nbsp;use&nbsp;blank</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176244"><a href="/go/printer/nodes.go.html#6175698">p</a></span><span class="op" id="6176245">.</span><span class="ident" id="6176246">block</span><span class="op" id="6176251">(</span><span class="ident" id="6176252"><a href="/go/printer/nodes.go.html#6175751">b</a></span><span class="op" id="6176253">,</span>&nbsp;<span class="num" id="6176255">1</span><span class="op" id="6176256">)</span><br>
<span class="lineno"></span><span class="op" id="6176258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6176261">//&nbsp;distanceFrom&nbsp;returns&nbsp;the&nbsp;column&nbsp;difference&nbsp;between&nbsp;from&nbsp;and&nbsp;p.pos&nbsp;(the&nbsp;current</span><br>
<span class="lineno">1525</span><span class="comment" id="6176343">//&nbsp;estimated&nbsp;position)&nbsp;if&nbsp;both&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;line;&nbsp;if&nbsp;they&nbsp;are&nbsp;on&nbsp;different&nbsp;lines</span><br>
<span class="lineno"></span><span class="comment" id="6176427">//&nbsp;(or&nbsp;unknown)&nbsp;the&nbsp;result&nbsp;is&nbsp;infinity.</span><br>
<span class="lineno"></span><span class="keyword" id="6176467">func</span>&nbsp;<span class="op" id="6176472">(</span><span class="ident" id="6176473">p</span>&nbsp;<span class="op" id="6176475">*</span><span class="ident" id="6176476"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6176483">)</span>&nbsp;<span class="ident" id="6176485">distanceFrom</span><span class="op" id="6176497">(</span><span class="ident" id="6176498">from</span>&nbsp;<span class="ident" id="6176503"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6176508">.</span><span class="ident" id="6176509">Pos</span><span class="op" id="6176512">)</span>&nbsp;<span class="builtintype" id="6176514">int</span>&nbsp;<span class="op" id="6176518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176521">if</span>&nbsp;<span class="ident" id="6176524"><a href="/go/printer/nodes.go.html#6176498">from</a></span><span class="op" id="6176528">.</span><span class="ident" id="6176529">IsValid</span><span class="op" id="6176536">(</span><span class="op" id="6176537">)</span>&nbsp;<span class="op" id="6176539">&amp;&amp;</span>&nbsp;<span class="ident" id="6176542"><a href="/go/printer/nodes.go.html#6176473">p</a></span><span class="op" id="6176543">.</span><span class="ident" id="6176544">pos</span><span class="op" id="6176547">.</span><span class="ident" id="6176548">IsValid</span><span class="op" id="6176555">(</span><span class="op" id="6176556">)</span>&nbsp;<span class="op" id="6176558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176562">if</span>&nbsp;<span class="ident" id="6176565">f</span>&nbsp;<span class="op" id="6176567">:=</span>&nbsp;<span class="ident" id="6176570"><a href="/go/printer/nodes.go.html#6176473">p</a></span><span class="op" id="6176571">.</span><span class="ident" id="6176572">posFor</span><span class="op" id="6176578">(</span><span class="ident" id="6176579"><a href="/go/printer/nodes.go.html#6176498">from</a></span><span class="op" id="6176583">)</span><span class="op" id="6176584">;</span>&nbsp;<span class="ident" id="6176586"><a href="/go/printer/nodes.go.html#6176565">f</a></span><span class="op" id="6176587">.</span><span class="ident" id="6176588">Line</span>&nbsp;<span class="op" id="6176593">==</span>&nbsp;<span class="ident" id="6176596"><a href="/go/printer/nodes.go.html#6176473">p</a></span><span class="op" id="6176597">.</span><span class="ident" id="6176598">pos</span><span class="op" id="6176601">.</span><span class="ident" id="6176602">Line</span>&nbsp;<span class="op" id="6176607">{</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176612">return</span>&nbsp;<span class="ident" id="6176619"><a href="/go/printer/nodes.go.html#6176473">p</a></span><span class="op" id="6176620">.</span><span class="ident" id="6176621">pos</span><span class="op" id="6176624">.</span><span class="ident" id="6176625">Column</span>&nbsp;<span class="op" id="6176632">-</span>&nbsp;<span class="ident" id="6176634"><a href="/go/printer/nodes.go.html#6176565">f</a></span><span class="op" id="6176635">.</span><span class="ident" id="6176636">Column</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176651">return</span>&nbsp;<span class="ident" id="6176658"><a href="/go/printer/printer.go.html#6178982">infinity</a></span><br>
<span class="lineno"></span><span class="op" id="6176667">}</span><br>
<span class="lineno">1535</span><br>
<span class="lineno"></span><span class="keyword" id="6176670">func</span>&nbsp;<span class="op" id="6176675">(</span><span class="ident" id="6176676">p</span>&nbsp;<span class="op" id="6176678">*</span><span class="ident" id="6176679"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6176686">)</span>&nbsp;<span class="ident" id="6176688">funcDecl</span><span class="op" id="6176696">(</span><span class="ident" id="6176697">d</span>&nbsp;<span class="op" id="6176699">*</span><span class="ident" id="6176700"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6176703">.</span><span class="ident" id="6176704">FuncDecl</span><span class="op" id="6176712">)</span>&nbsp;<span class="op" id="6176714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176717"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176718">.</span><span class="ident" id="6176719">setComment</span><span class="op" id="6176729">(</span><span class="ident" id="6176730"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176731">.</span><span class="ident" id="6176732">Doc</span><span class="op" id="6176735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176738"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176739">.</span><span class="builtinfunc" id="6176740">print</span><span class="op" id="6176745">(</span><span class="ident" id="6176746"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176747">.</span><span class="ident" id="6176748">Pos</span><span class="op" id="6176751">(</span><span class="op" id="6176752">)</span><span class="op" id="6176753">,</span>&nbsp;<span class="ident" id="6176755"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6176760">.</span><span class="ident" id="6176761">FUNC</span><span class="op" id="6176765">,</span>&nbsp;<span class="ident" id="6176767"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6176772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6176775">if</span>&nbsp;<span class="ident" id="6176778"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176779">.</span><span class="ident" id="6176780">Recv</span>&nbsp;<span class="op" id="6176785">!=</span>&nbsp;<span class="ident" id="6176788">nil</span>&nbsp;<span class="op" id="6176792">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176796"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176797">.</span><span class="ident" id="6176798">parameters</span><span class="op" id="6176808">(</span><span class="ident" id="6176809"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176810">.</span><span class="ident" id="6176811">Recv</span><span class="op" id="6176815">)</span>&nbsp;<span class="comment" id="6176817">//&nbsp;method:&nbsp;print&nbsp;receiver</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176845"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176846">.</span><span class="builtinfunc" id="6176847">print</span><span class="op" id="6176852">(</span><span class="ident" id="6176853"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6176858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6176861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176864"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176865">.</span><span class="ident" id="6176866">expr</span><span class="op" id="6176870">(</span><span class="ident" id="6176871"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176872">.</span><span class="ident" id="6176873">Name</span><span class="op" id="6176877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176880"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176881">.</span><span class="ident" id="6176882">signature</span><span class="op" id="6176891">(</span><span class="ident" id="6176892"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176893">.</span><span class="ident" id="6176894">Type</span><span class="op" id="6176898">.</span><span class="ident" id="6176899">Params</span><span class="op" id="6176905">,</span>&nbsp;<span class="ident" id="6176907"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176908">.</span><span class="ident" id="6176909">Type</span><span class="op" id="6176913">.</span><span class="ident" id="6176914">Results</span><span class="op" id="6176921">)</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6176924"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176925">.</span><span class="ident" id="6176926">adjBlock</span><span class="op" id="6176934">(</span><span class="ident" id="6176935"><a href="/go/printer/nodes.go.html#6176676">p</a></span><span class="op" id="6176936">.</span><span class="ident" id="6176937">distanceFrom</span><span class="op" id="6176949">(</span><span class="ident" id="6176950"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176951">.</span><span class="ident" id="6176952">Pos</span><span class="op" id="6176955">(</span><span class="op" id="6176956">)</span><span class="op" id="6176957">)</span><span class="op" id="6176958">,</span>&nbsp;<span class="ident" id="6176960"><a href="/go/printer/printer.go.html#6179092">vtab</a></span><span class="op" id="6176964">,</span>&nbsp;<span class="ident" id="6176966"><a href="/go/printer/nodes.go.html#6176697">d</a></span><span class="op" id="6176967">.</span><span class="ident" id="6176968">Body</span><span class="op" id="6176972">)</span><br>
<span class="lineno"></span><span class="op" id="6176974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6176977">func</span>&nbsp;<span class="op" id="6176982">(</span><span class="ident" id="6176983">p</span>&nbsp;<span class="op" id="6176985">*</span><span class="ident" id="6176986"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6176993">)</span>&nbsp;<span class="ident" id="6176995">decl</span><span class="op" id="6176999">(</span><span class="ident" id="6177000">decl</span>&nbsp;<span class="ident" id="6177005"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177008">.</span><span class="ident" id="6177009">Decl</span><span class="op" id="6177013">)</span>&nbsp;<span class="op" id="6177015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177018">switch</span>&nbsp;<span class="ident" id="6177025">d</span>&nbsp;<span class="op" id="6177027">:=</span>&nbsp;<span class="ident" id="6177030"><a href="/go/printer/nodes.go.html#6177000">decl</a></span><span class="op" id="6177034">.</span><span class="op" id="6177035">(</span><span class="keyword" id="6177036">type</span><span class="op" id="6177040">)</span>&nbsp;<span class="op" id="6177042">{</span><br>
<span class="lineno">1550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177045">case</span>&nbsp;<span class="op" id="6177050">*</span><span class="ident" id="6177051"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177054">.</span><span class="ident" id="6177055">BadDecl</span><span class="op" id="6177062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177066"><a href="/go/printer/nodes.go.html#6176983">p</a></span><span class="op" id="6177067">.</span><span class="builtinfunc" id="6177068">print</span><span class="op" id="6177073">(</span><span class="ident" id="6177074"><a href="/go/printer/nodes.go.html#6177025">d</a></span><span class="op" id="6177075">.</span><span class="ident" id="6177076">Pos</span><span class="op" id="6177079">(</span><span class="op" id="6177080">)</span><span class="op" id="6177081">,</span>&nbsp;<span class="string" id="6177083">&#34;BadDecl&#34;</span><span class="op" id="6177092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177095">case</span>&nbsp;<span class="op" id="6177100">*</span><span class="ident" id="6177101"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177104">.</span><span class="ident" id="6177105">GenDecl</span><span class="op" id="6177112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177116"><a href="/go/printer/nodes.go.html#6176983">p</a></span><span class="op" id="6177117">.</span><span class="ident" id="6177118">genDecl</span><span class="op" id="6177125">(</span><span class="ident" id="6177126"><a href="/go/printer/nodes.go.html#6177025">d</a></span><span class="op" id="6177127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177130">case</span>&nbsp;<span class="op" id="6177135">*</span><span class="ident" id="6177136"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177139">.</span><span class="ident" id="6177140">FuncDecl</span><span class="op" id="6177148">:</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177152"><a href="/go/printer/nodes.go.html#6176983">p</a></span><span class="op" id="6177153">.</span><span class="ident" id="6177154">funcDecl</span><span class="op" id="6177162">(</span><span class="ident" id="6177163"><a href="/go/printer/nodes.go.html#6177025">d</a></span><span class="op" id="6177164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177167">default</span><span class="op" id="6177174">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6177178">panic</span><span class="op" id="6177183">(</span><span class="string" id="6177184">&#34;unreachable&#34;</span><span class="op" id="6177197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177200">}</span><br>
<span class="lineno"></span><span class="op" id="6177202">}</span><br>
<span class="lineno">1560</span><br>
<span class="lineno"></span><span class="comment" id="6177205">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="6177285">//&nbsp;Files</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6177295">func</span>&nbsp;<span class="ident" id="6177300">declToken</span><span class="op" id="6177309">(</span><span class="ident" id="6177310">decl</span>&nbsp;<span class="ident" id="6177315"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177318">.</span><span class="ident" id="6177319">Decl</span><span class="op" id="6177323">)</span>&nbsp;<span class="op" id="6177325">(</span><span class="ident" id="6177326">tok</span>&nbsp;<span class="ident" id="6177330"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6177335">.</span><span class="ident" id="6177336">Token</span><span class="op" id="6177341">)</span>&nbsp;<span class="op" id="6177343">{</span><br>
<span class="lineno">1565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177346"><a href="/go/printer/nodes.go.html#6177326">tok</a></span>&nbsp;<span class="op" id="6177350">=</span>&nbsp;<span class="ident" id="6177352"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6177357">.</span><span class="ident" id="6177358">ILLEGAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177367">switch</span>&nbsp;<span class="ident" id="6177374">d</span>&nbsp;<span class="op" id="6177376">:=</span>&nbsp;<span class="ident" id="6177379"><a href="/go/printer/nodes.go.html#6177310">decl</a></span><span class="op" id="6177383">.</span><span class="op" id="6177384">(</span><span class="keyword" id="6177385">type</span><span class="op" id="6177389">)</span>&nbsp;<span class="op" id="6177391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177394">case</span>&nbsp;<span class="op" id="6177399">*</span><span class="ident" id="6177400"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177403">.</span><span class="ident" id="6177404">GenDecl</span><span class="op" id="6177411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177415"><a href="/go/printer/nodes.go.html#6177326">tok</a></span>&nbsp;<span class="op" id="6177419">=</span>&nbsp;<span class="ident" id="6177421"><a href="/go/printer/nodes.go.html#6177374">d</a></span><span class="op" id="6177422">.</span><span class="ident" id="6177423">Tok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177428">case</span>&nbsp;<span class="op" id="6177433">*</span><span class="ident" id="6177434"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177437">.</span><span class="ident" id="6177438">FuncDecl</span><span class="op" id="6177446">:</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177450"><a href="/go/printer/nodes.go.html#6177326">tok</a></span>&nbsp;<span class="op" id="6177454">=</span>&nbsp;<span class="ident" id="6177456"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6177461">.</span><span class="ident" id="6177462">FUNC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177471">return</span><br>
<span class="lineno"></span><span class="op" id="6177478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1575</span><span class="keyword" id="6177481">func</span>&nbsp;<span class="op" id="6177486">(</span><span class="ident" id="6177487">p</span>&nbsp;<span class="op" id="6177489">*</span><span class="ident" id="6177490"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6177497">)</span>&nbsp;<span class="ident" id="6177499">declList</span><span class="op" id="6177507">(</span><span class="ident" id="6177508">list</span>&nbsp;<span class="op" id="6177513">[</span><span class="op" id="6177514">]</span><span class="ident" id="6177515"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6177518">.</span><span class="ident" id="6177519">Decl</span><span class="op" id="6177523">)</span>&nbsp;<span class="op" id="6177525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177528">tok</span>&nbsp;<span class="op" id="6177532">:=</span>&nbsp;<span class="ident" id="6177535"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6177540">.</span><span class="ident" id="6177541">ILLEGAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177550">for</span>&nbsp;<span class="ident" id="6177554">_</span><span class="op" id="6177555">,</span>&nbsp;<span class="ident" id="6177557">d</span>&nbsp;<span class="op" id="6177559">:=</span>&nbsp;<span class="keyword" id="6177562">range</span>&nbsp;<span class="ident" id="6177568"><a href="/go/printer/nodes.go.html#6177508">list</a></span>&nbsp;<span class="op" id="6177573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177577">prev</span>&nbsp;<span class="op" id="6177582">:=</span>&nbsp;<span class="ident" id="6177585"><a href="/go/printer/nodes.go.html#6177528">tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177591"><a href="/go/printer/nodes.go.html#6177528">tok</a></span>&nbsp;<span class="op" id="6177595">=</span>&nbsp;<span class="ident" id="6177597"><a href="/go/printer/nodes.go.html#6177300">declToken</a></span><span class="op" id="6177606">(</span><span class="ident" id="6177607"><a href="/go/printer/nodes.go.html#6177557">d</a></span><span class="op" id="6177608">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177612">//&nbsp;If&nbsp;the&nbsp;declaration&nbsp;token&nbsp;changed&nbsp;(e.g.,&nbsp;from&nbsp;CONST&nbsp;to&nbsp;TYPE)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177677">//&nbsp;or&nbsp;the&nbsp;next&nbsp;declaration&nbsp;has&nbsp;documentation&nbsp;associated&nbsp;with&nbsp;it,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177744">//&nbsp;print&nbsp;an&nbsp;empty&nbsp;line&nbsp;between&nbsp;top-level&nbsp;declarations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177801">//&nbsp;(because&nbsp;p.linebreak&nbsp;is&nbsp;called&nbsp;with&nbsp;the&nbsp;position&nbsp;of&nbsp;d,&nbsp;which</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177867">//&nbsp;is&nbsp;past&nbsp;any&nbsp;documentation,&nbsp;the&nbsp;minimum&nbsp;requirement&nbsp;is&nbsp;satisfied</span><br>
<span class="lineno">1585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177936">//&nbsp;even&nbsp;w/o&nbsp;the&nbsp;extra&nbsp;getDoc(d)&nbsp;nil-check&nbsp;-&nbsp;leave&nbsp;it&nbsp;in&nbsp;case&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6178003">//&nbsp;linebreak&nbsp;logic&nbsp;improves&nbsp;-&nbsp;there&#39;s&nbsp;already&nbsp;a&nbsp;TODO).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178060">if</span>&nbsp;<span class="builtinfunc" id="6178063">len</span><span class="op" id="6178066">(</span><span class="ident" id="6178067"><a href="/go/printer/nodes.go.html#6177487">p</a></span><span class="op" id="6178068">.</span><span class="ident" id="6178069">output</span><span class="op" id="6178075">)</span>&nbsp;<span class="op" id="6178077">&gt;</span>&nbsp;<span class="num" id="6178079">0</span>&nbsp;<span class="op" id="6178081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6178086">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6178159">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178216">min</span>&nbsp;<span class="op" id="6178220">:=</span>&nbsp;<span class="num" id="6178223">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178228">if</span>&nbsp;<span class="ident" id="6178231"><a href="/go/printer/nodes.go.html#6177577">prev</a></span>&nbsp;<span class="op" id="6178236">!=</span>&nbsp;<span class="ident" id="6178239"><a href="/go/printer/nodes.go.html#6177528">tok</a></span>&nbsp;<span class="op" id="6178243">||</span>&nbsp;<span class="ident" id="6178246"><a href="/go/printer/printer.go.html#6208206">getDoc</a></span><span class="op" id="6178252">(</span><span class="ident" id="6178253"><a href="/go/printer/nodes.go.html#6177557">d</a></span><span class="op" id="6178254">)</span>&nbsp;<span class="op" id="6178256">!=</span>&nbsp;<span class="ident" id="6178259">nil</span>&nbsp;<span class="op" id="6178263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178269"><a href="/go/printer/nodes.go.html#6178216">min</a></span>&nbsp;<span class="op" id="6178273">=</span>&nbsp;<span class="num" id="6178275">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6178280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178285"><a href="/go/printer/nodes.go.html#6177487">p</a></span><span class="op" id="6178286">.</span><span class="ident" id="6178287">linebreak</span><span class="op" id="6178296">(</span><span class="ident" id="6178297"><a href="/go/printer/nodes.go.html#6177487">p</a></span><span class="op" id="6178298">.</span><span class="ident" id="6178299">lineFor</span><span class="op" id="6178306">(</span><span class="ident" id="6178307"><a href="/go/printer/nodes.go.html#6177557">d</a></span><span class="op" id="6178308">.</span><span class="ident" id="6178309">Pos</span><span class="op" id="6178312">(</span><span class="op" id="6178313">)</span><span class="op" id="6178314">)</span><span class="op" id="6178315">,</span>&nbsp;<span class="ident" id="6178317"><a href="/go/printer/nodes.go.html#6178216">min</a></span><span class="op" id="6178320">,</span>&nbsp;<span class="ident" id="6178322"><a href="/go/printer/printer.go.html#6179038">ignore</a></span><span class="op" id="6178328">,</span>&nbsp;<span class="ident" id="6178330">false</span><span class="op" id="6178335">)</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6178339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178343"><a href="/go/printer/nodes.go.html#6177487">p</a></span><span class="op" id="6178344">.</span><span class="ident" id="6178345">decl</span><span class="op" id="6178349">(</span><span class="ident" id="6178350"><a href="/go/printer/nodes.go.html#6177557">d</a></span><span class="op" id="6178351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6178354">}</span><br>
<span class="lineno"></span><span class="op" id="6178356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1600</span><span class="keyword" id="6178359">func</span>&nbsp;<span class="op" id="6178364">(</span><span class="ident" id="6178365">p</span>&nbsp;<span class="op" id="6178367">*</span><span class="ident" id="6178368"><a href="/go/printer/printer.go.html#6179849">printer</a></span><span class="op" id="6178375">)</span>&nbsp;<span class="ident" id="6178377">file</span><span class="op" id="6178381">(</span><span class="ident" id="6178382">src</span>&nbsp;<span class="op" id="6178386">*</span><span class="ident" id="6178387"><a href="/go/printer/nodes.go.html#6136212">ast</a></span><span class="op" id="6178390">.</span><span class="ident" id="6178391">File</span><span class="op" id="6178395">)</span>&nbsp;<span class="op" id="6178397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178400"><a href="/go/printer/nodes.go.html#6178365">p</a></span><span class="op" id="6178401">.</span><span class="ident" id="6178402">setComment</span><span class="op" id="6178412">(</span><span class="ident" id="6178413"><a href="/go/printer/nodes.go.html#6178382">src</a></span><span class="op" id="6178416">.</span><span class="ident" id="6178417">Doc</span><span class="op" id="6178420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178423"><a href="/go/printer/nodes.go.html#6178365">p</a></span><span class="op" id="6178424">.</span><span class="builtinfunc" id="6178425">print</span><span class="op" id="6178430">(</span><span class="ident" id="6178431"><a href="/go/printer/nodes.go.html#6178382">src</a></span><span class="op" id="6178434">.</span><span class="ident" id="6178435">Pos</span><span class="op" id="6178438">(</span><span class="op" id="6178439">)</span><span class="op" id="6178440">,</span>&nbsp;<span class="ident" id="6178442"><a href="/go/printer/nodes.go.html#6136222">token</a></span><span class="op" id="6178447">.</span><span class="ident" id="6178448">PACKAGE</span><span class="op" id="6178455">,</span>&nbsp;<span class="ident" id="6178457"><a href="/go/printer/printer.go.html#6179064">blank</a></span><span class="op" id="6178462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178465"><a href="/go/printer/nodes.go.html#6178365">p</a></span><span class="op" id="6178466">.</span><span class="ident" id="6178467">expr</span><span class="op" id="6178471">(</span><span class="ident" id="6178472"><a href="/go/printer/nodes.go.html#6178382">src</a></span><span class="op" id="6178475">.</span><span class="ident" id="6178476">Name</span><span class="op" id="6178480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178483"><a href="/go/printer/nodes.go.html#6178365">p</a></span><span class="op" id="6178484">.</span><span class="ident" id="6178485">declList</span><span class="op" id="6178493">(</span><span class="ident" id="6178494"><a href="/go/printer/nodes.go.html#6178382">src</a></span><span class="op" id="6178497">.</span><span class="ident" id="6178498">Decls</span><span class="op" id="6178503">)</span><br>
<span class="lineno">1605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178506"><a href="/go/printer/nodes.go.html#6178365">p</a></span><span class="op" id="6178507">.</span><span class="builtinfunc" id="6178508">print</span><span class="op" id="6178513">(</span><span class="ident" id="6178514"><a href="/go/printer/printer.go.html#6179121">newline</a></span><span class="op" id="6178521">)</span><br>
<span class="lineno"></span><span class="op" id="6178523">}</span>
</div>
</body>
</html>
