<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3448741">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3448796">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3448850">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3448901">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3448961">package</span>&nbsp;<span class="ident" id="3448969">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3448979">import</span>&nbsp;<span class="op" id="3448986">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3448989">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3448996">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3449009">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3449025">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3449028">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3449074">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3449155">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3449229">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3449256">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3449317">func</span>&nbsp;<span class="ident" id="3449322">Must</span><span class="op" id="3449326">(</span><span class="ident" id="3449327">t</span>&nbsp;<span class="op" id="3449329">*</span><span class="ident" id="3449330">Template</span><span class="op" id="3449338">,</span>&nbsp;<span class="ident" id="3449340">err</span>&nbsp;<span class="builtintype" id="3449344">error</span><span class="op" id="3449349">)</span>&nbsp;<span class="op" id="3449351">*</span><span class="ident" id="3449352">Template</span>&nbsp;<span class="op" id="3449361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3449364">if</span>&nbsp;<span class="ident" id="3449367">err</span>&nbsp;<span class="op" id="3449371">!=</span>&nbsp;<span class="ident" id="3449374">nil</span>&nbsp;<span class="op" id="3449378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3449382">panic</span><span class="op" id="3449387">(</span><span class="ident" id="3449388">err</span><span class="op" id="3449391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3449394">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3449397">return</span>&nbsp;<span class="ident" id="3449404">t</span><br>
<span class="lineno"></span><span class="op" id="3449406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3449409">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3449487">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3449566">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3449639">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3449711">func</span>&nbsp;<span class="ident" id="3449716">ParseFiles</span><span class="op" id="3449726">(</span><span class="ident" id="3449727">filenames</span>&nbsp;<span class="op" id="3449737">...</span><span class="builtintype" id="3449740">string</span><span class="op" id="3449746">)</span>&nbsp;<span class="op" id="3449748">(</span><span class="op" id="3449749">*</span><span class="ident" id="3449750">Template</span><span class="op" id="3449758">,</span>&nbsp;<span class="builtintype" id="3449760">error</span><span class="op" id="3449765">)</span>&nbsp;<span class="op" id="3449767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3449770">return</span>&nbsp;<span class="ident" id="3449777">parseFiles</span><span class="op" id="3449787">(</span><span class="ident" id="3449788">nil</span><span class="op" id="3449791">,</span>&nbsp;<span class="ident" id="3449793">filenames</span><span class="op" id="3449802">...</span><span class="op" id="3449805">)</span><br>
<span class="lineno"></span><span class="op" id="3449807">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3449810">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3449891">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3449965">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3450020">func</span>&nbsp;<span class="op" id="3450025">(</span><span class="ident" id="3450026">t</span>&nbsp;<span class="op" id="3450028">*</span><span class="ident" id="3450029">Template</span><span class="op" id="3450037">)</span>&nbsp;<span class="ident" id="3450039">ParseFiles</span><span class="op" id="3450049">(</span><span class="ident" id="3450050">filenames</span>&nbsp;<span class="op" id="3450060">...</span><span class="builtintype" id="3450063">string</span><span class="op" id="3450069">)</span>&nbsp;<span class="op" id="3450071">(</span><span class="op" id="3450072">*</span><span class="ident" id="3450073">Template</span><span class="op" id="3450081">,</span>&nbsp;<span class="builtintype" id="3450083">error</span><span class="op" id="3450088">)</span>&nbsp;<span class="op" id="3450090">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450093">return</span>&nbsp;<span class="ident" id="3450100">parseFiles</span><span class="op" id="3450110">(</span><span class="ident" id="3450111">t</span><span class="op" id="3450112">,</span>&nbsp;<span class="ident" id="3450114">filenames</span><span class="op" id="3450123">...</span><span class="op" id="3450126">)</span><br>
<span class="lineno"></span><span class="op" id="3450128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3450131">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3450204">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3450259">func</span>&nbsp;<span class="ident" id="3450264">parseFiles</span><span class="op" id="3450274">(</span><span class="ident" id="3450275">t</span>&nbsp;<span class="op" id="3450277">*</span><span class="ident" id="3450278">Template</span><span class="op" id="3450286">,</span>&nbsp;<span class="ident" id="3450288">filenames</span>&nbsp;<span class="op" id="3450298">...</span><span class="builtintype" id="3450301">string</span><span class="op" id="3450307">)</span>&nbsp;<span class="op" id="3450309">(</span><span class="op" id="3450310">*</span><span class="ident" id="3450311">Template</span><span class="op" id="3450319">,</span>&nbsp;<span class="builtintype" id="3450321">error</span><span class="op" id="3450326">)</span>&nbsp;<span class="op" id="3450328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450331">if</span>&nbsp;<span class="builtinfunc" id="3450334">len</span><span class="op" id="3450337">(</span><span class="ident" id="3450338">filenames</span><span class="op" id="3450347">)</span>&nbsp;<span class="op" id="3450349">==</span>&nbsp;<span class="num" id="3450352">0</span>&nbsp;<span class="op" id="3450354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450358">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450404">return</span>&nbsp;<span class="ident" id="3450411">nil</span><span class="op" id="3450414">,</span>&nbsp;<span class="ident" id="3450416">fmt</span><span class="op" id="3450419">.</span><span class="ident" id="3450420">Errorf</span><span class="op" id="3450426">(</span><span class="string" id="3450427">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3450475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3450478">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450481">for</span>&nbsp;<span class="ident" id="3450485">_</span><span class="op" id="3450486">,</span>&nbsp;<span class="ident" id="3450488">filename</span>&nbsp;<span class="op" id="3450497">:=</span>&nbsp;<span class="keyword" id="3450500">range</span>&nbsp;<span class="ident" id="3450506">filenames</span>&nbsp;<span class="op" id="3450516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3450520">b</span><span class="op" id="3450521">,</span>&nbsp;<span class="ident" id="3450523">err</span>&nbsp;<span class="op" id="3450527">:=</span>&nbsp;<span class="ident" id="3450530">ioutil</span><span class="op" id="3450536">.</span><span class="ident" id="3450537">ReadFile</span><span class="op" id="3450545">(</span><span class="ident" id="3450546">filename</span><span class="op" id="3450554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450558">if</span>&nbsp;<span class="ident" id="3450561">err</span>&nbsp;<span class="op" id="3450565">!=</span>&nbsp;<span class="ident" id="3450568">nil</span>&nbsp;<span class="op" id="3450572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3450577">return</span>&nbsp;<span class="ident" id="3450584">nil</span><span class="op" id="3450587">,</span>&nbsp;<span class="ident" id="3450589">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3450595">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3450599">s</span>&nbsp;<span class="op" id="3450601">:=</span>&nbsp;<span class="builtintype" id="3450604">string</span><span class="op" id="3450610">(</span><span class="ident" id="3450611">b</span><span class="op" id="3450612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3450616">name</span>&nbsp;<span class="op" id="3450621">:=</span>&nbsp;<span class="ident" id="3450624">filepath</span><span class="op" id="3450632">.</span><span class="ident" id="3450633">Base</span><span class="op" id="3450637">(</span><span class="ident" id="3450638">filename</span><span class="op" id="3450646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450650">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450715">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450778">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450848">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450899">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3450953">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451019">var</span>&nbsp;<span class="ident" id="3451023">tmpl</span>&nbsp;<span class="op" id="3451028">*</span><span class="ident" id="3451029">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451040">if</span>&nbsp;<span class="ident" id="3451043">t</span>&nbsp;<span class="op" id="3451045">==</span>&nbsp;<span class="ident" id="3451048">nil</span>&nbsp;<span class="op" id="3451052">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3451057">t</span>&nbsp;<span class="op" id="3451059">=</span>&nbsp;<span class="ident" id="3451061">New</span><span class="op" id="3451064">(</span><span class="ident" id="3451065">name</span><span class="op" id="3451069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3451073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451077">if</span>&nbsp;<span class="ident" id="3451080">name</span>&nbsp;<span class="op" id="3451085">==</span>&nbsp;<span class="ident" id="3451088">t</span><span class="op" id="3451089">.</span><span class="ident" id="3451090">Name</span><span class="op" id="3451094">(</span><span class="op" id="3451095">)</span>&nbsp;<span class="op" id="3451097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3451102">tmpl</span>&nbsp;<span class="op" id="3451107">=</span>&nbsp;<span class="ident" id="3451109">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3451113">}</span>&nbsp;<span class="keyword" id="3451115">else</span>&nbsp;<span class="op" id="3451120">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3451125">tmpl</span>&nbsp;<span class="op" id="3451130">=</span>&nbsp;<span class="ident" id="3451132">t</span><span class="op" id="3451133">.</span><span class="ident" id="3451134">New</span><span class="op" id="3451137">(</span><span class="ident" id="3451138">name</span><span class="op" id="3451142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3451146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3451150">_</span><span class="op" id="3451151">,</span>&nbsp;<span class="ident" id="3451153">err</span>&nbsp;<span class="op" id="3451157">=</span>&nbsp;<span class="ident" id="3451159">tmpl</span><span class="op" id="3451163">.</span><span class="ident" id="3451164">Parse</span><span class="op" id="3451169">(</span><span class="ident" id="3451170">s</span><span class="op" id="3451171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451175">if</span>&nbsp;<span class="ident" id="3451178">err</span>&nbsp;<span class="op" id="3451182">!=</span>&nbsp;<span class="ident" id="3451185">nil</span>&nbsp;<span class="op" id="3451189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451194">return</span>&nbsp;<span class="ident" id="3451201">nil</span><span class="op" id="3451204">,</span>&nbsp;<span class="ident" id="3451206">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3451212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3451215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451218">return</span>&nbsp;<span class="ident" id="3451225">t</span><span class="op" id="3451226">,</span>&nbsp;<span class="ident" id="3451228">nil</span><br>
<span class="lineno"></span><span class="op" id="3451232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3451235">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3451316">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3451392">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3451468">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3451541">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3451602">func</span>&nbsp;<span class="ident" id="3451607">ParseGlob</span><span class="op" id="3451616">(</span><span class="ident" id="3451617">pattern</span>&nbsp;<span class="builtintype" id="3451625">string</span><span class="op" id="3451631">)</span>&nbsp;<span class="op" id="3451633">(</span><span class="op" id="3451634">*</span><span class="ident" id="3451635">Template</span><span class="op" id="3451643">,</span>&nbsp;<span class="builtintype" id="3451645">error</span><span class="op" id="3451650">)</span>&nbsp;<span class="op" id="3451652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3451655">return</span>&nbsp;<span class="ident" id="3451662">parseGlob</span><span class="op" id="3451671">(</span><span class="ident" id="3451672">nil</span><span class="op" id="3451675">,</span>&nbsp;<span class="ident" id="3451677">pattern</span><span class="op" id="3451684">)</span><br>
<span class="lineno"></span><span class="op" id="3451686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3451689">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3451765">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3451838">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3451915">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3451991">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3452003">func</span>&nbsp;<span class="op" id="3452008">(</span><span class="ident" id="3452009">t</span>&nbsp;<span class="op" id="3452011">*</span><span class="ident" id="3452012">Template</span><span class="op" id="3452020">)</span>&nbsp;<span class="ident" id="3452022">ParseGlob</span><span class="op" id="3452031">(</span><span class="ident" id="3452032">pattern</span>&nbsp;<span class="builtintype" id="3452040">string</span><span class="op" id="3452046">)</span>&nbsp;<span class="op" id="3452048">(</span><span class="op" id="3452049">*</span><span class="ident" id="3452050">Template</span><span class="op" id="3452058">,</span>&nbsp;<span class="builtintype" id="3452060">error</span><span class="op" id="3452065">)</span>&nbsp;<span class="op" id="3452067">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452070">return</span>&nbsp;<span class="ident" id="3452077">parseGlob</span><span class="op" id="3452086">(</span><span class="ident" id="3452087">t</span><span class="op" id="3452088">,</span>&nbsp;<span class="ident" id="3452090">pattern</span><span class="op" id="3452097">)</span><br>
<span class="lineno"></span><span class="op" id="3452099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3452102">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3452175">func</span>&nbsp;<span class="ident" id="3452180">parseGlob</span><span class="op" id="3452189">(</span><span class="ident" id="3452190">t</span>&nbsp;<span class="op" id="3452192">*</span><span class="ident" id="3452193">Template</span><span class="op" id="3452201">,</span>&nbsp;<span class="ident" id="3452203">pattern</span>&nbsp;<span class="builtintype" id="3452211">string</span><span class="op" id="3452217">)</span>&nbsp;<span class="op" id="3452219">(</span><span class="op" id="3452220">*</span><span class="ident" id="3452221">Template</span><span class="op" id="3452229">,</span>&nbsp;<span class="builtintype" id="3452231">error</span><span class="op" id="3452236">)</span>&nbsp;<span class="op" id="3452238">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3452241">filenames</span><span class="op" id="3452250">,</span>&nbsp;<span class="ident" id="3452252">err</span>&nbsp;<span class="op" id="3452256">:=</span>&nbsp;<span class="ident" id="3452259">filepath</span><span class="op" id="3452267">.</span><span class="ident" id="3452268">Glob</span><span class="op" id="3452272">(</span><span class="ident" id="3452273">pattern</span><span class="op" id="3452280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452283">if</span>&nbsp;<span class="ident" id="3452286">err</span>&nbsp;<span class="op" id="3452290">!=</span>&nbsp;<span class="ident" id="3452293">nil</span>&nbsp;<span class="op" id="3452297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452301">return</span>&nbsp;<span class="ident" id="3452308">nil</span><span class="op" id="3452311">,</span>&nbsp;<span class="ident" id="3452313">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3452318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452321">if</span>&nbsp;<span class="builtinfunc" id="3452324">len</span><span class="op" id="3452327">(</span><span class="ident" id="3452328">filenames</span><span class="op" id="3452337">)</span>&nbsp;<span class="op" id="3452339">==</span>&nbsp;<span class="num" id="3452342">0</span>&nbsp;<span class="op" id="3452344">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452348">return</span>&nbsp;<span class="ident" id="3452355">nil</span><span class="op" id="3452358">,</span>&nbsp;<span class="ident" id="3452360">fmt</span><span class="op" id="3452363">.</span><span class="ident" id="3452364">Errorf</span><span class="op" id="3452370">(</span><span class="string" id="3452371">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3452412">,</span>&nbsp;<span class="ident" id="3452414">pattern</span><span class="op" id="3452421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3452424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3452427">return</span>&nbsp;<span class="ident" id="3452434">parseFiles</span><span class="op" id="3452444">(</span><span class="ident" id="3452445">t</span><span class="op" id="3452446">,</span>&nbsp;<span class="ident" id="3452448">filenames</span><span class="op" id="3452457">...</span><span class="op" id="3452460">)</span><br>
<span class="lineno"></span><span class="op" id="3452462">}</span>
</div>
</body>
</html>
