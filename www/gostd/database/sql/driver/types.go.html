<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6169975">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6170030">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6170084">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6170135">package</span>&nbsp;<span class="ident" id="6170143">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6170151">import</span>&nbsp;<span class="op" id="6170158">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6170161">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6170168">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6170179">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6170190">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6170197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6170200">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="6170270">//</span><br>
<span class="lineno"></span><span class="comment" id="6170273">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6170338">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="6170409">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="6170469">//</span><br>
<span class="lineno">20</span><span class="comment" id="6170472">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="6170541">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="6170611">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6170672">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="6170701">//</span><br>
<span class="lineno">25</span><span class="comment" id="6170704">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6170772">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="6170798">//</span><br>
<span class="lineno"></span><span class="comment" id="6170801">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="6170869">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="6170903">type</span>&nbsp;<span class="ident" id="6170908">ValueConverter</span>&nbsp;<span class="keyword" id="6170923">interface</span>&nbsp;<span class="op" id="6170933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6170936">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6170989">ConvertValue</span><span class="op" id="6171001">(</span><span class="ident" id="6171002">v</span>&nbsp;<span class="keyword" id="6171004">interface</span><span class="op" id="6171013">{</span><span class="op" id="6171014">}</span><span class="op" id="6171015">)</span>&nbsp;<span class="op" id="6171017">(</span><span class="ident" id="6171018">Value</span><span class="op" id="6171023">,</span>&nbsp;<span class="builtintype" id="6171025">error</span><span class="op" id="6171030">)</span><br>
<span class="lineno"></span><span class="op" id="6171032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="6171035">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="6171090">//</span><br>
<span class="lineno"></span><span class="comment" id="6171093">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="6171152">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="6171185">type</span>&nbsp;<span class="ident" id="6171190">Valuer</span>&nbsp;<span class="keyword" id="6171197">interface</span>&nbsp;<span class="op" id="6171207">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6171210">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6171244">Value</span><span class="op" id="6171249">(</span><span class="op" id="6171250">)</span>&nbsp;<span class="op" id="6171252">(</span><span class="ident" id="6171253">Value</span><span class="op" id="6171258">,</span>&nbsp;<span class="builtintype" id="6171260">error</span><span class="op" id="6171265">)</span><br>
<span class="lineno"></span><span class="op" id="6171267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6171270">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="6171335">//</span><br>
<span class="lineno"></span><span class="comment" id="6171338">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="6171367">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="6171405">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="6171430">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="6171449">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="6171470">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="6171507">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="6171569">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="6171604">var</span>&nbsp;<span class="ident" id="6171608">Bool</span>&nbsp;<span class="ident" id="6171613">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6171623">type</span>&nbsp;<span class="ident" id="6171628">boolType</span>&nbsp;<span class="keyword" id="6171637">struct</span><span class="op" id="6171643">{</span><span class="op" id="6171644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6171647">var</span>&nbsp;<span class="ident" id="6171651">_</span>&nbsp;<span class="ident" id="6171653">ValueConverter</span>&nbsp;<span class="op" id="6171668">=</span>&nbsp;<span class="ident" id="6171670">boolType</span><span class="op" id="6171678">{</span><span class="op" id="6171679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6171682">func</span>&nbsp;<span class="op" id="6171687">(</span><span class="ident" id="6171688">boolType</span><span class="op" id="6171696">)</span>&nbsp;<span class="ident" id="6171698">String</span><span class="op" id="6171704">(</span><span class="op" id="6171705">)</span>&nbsp;<span class="builtintype" id="6171707">string</span>&nbsp;<span class="op" id="6171714">{</span>&nbsp;<span class="keyword" id="6171716">return</span>&nbsp;<span class="string" id="6171723">&#34;Bool&#34;</span>&nbsp;<span class="op" id="6171730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6171733">func</span>&nbsp;<span class="op" id="6171738">(</span><span class="ident" id="6171739">boolType</span><span class="op" id="6171747">)</span>&nbsp;<span class="ident" id="6171749">ConvertValue</span><span class="op" id="6171761">(</span><span class="ident" id="6171762">src</span>&nbsp;<span class="keyword" id="6171766">interface</span><span class="op" id="6171775">{</span><span class="op" id="6171776">}</span><span class="op" id="6171777">)</span>&nbsp;<span class="op" id="6171779">(</span><span class="ident" id="6171780">Value</span><span class="op" id="6171785">,</span>&nbsp;<span class="builtintype" id="6171787">error</span><span class="op" id="6171792">)</span>&nbsp;<span class="op" id="6171794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171797">switch</span>&nbsp;<span class="ident" id="6171804">s</span>&nbsp;<span class="op" id="6171806">:=</span>&nbsp;<span class="ident" id="6171809">src</span><span class="op" id="6171812">.</span><span class="op" id="6171813">(</span><span class="keyword" id="6171814">type</span><span class="op" id="6171818">)</span>&nbsp;<span class="op" id="6171820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171823">case</span>&nbsp;<span class="builtintype" id="6171828">bool</span><span class="op" id="6171832">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171836">return</span>&nbsp;<span class="ident" id="6171843">s</span><span class="op" id="6171844">,</span>&nbsp;<span class="builtintype" id="6171846">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171851">case</span>&nbsp;<span class="builtintype" id="6171856">string</span><span class="op" id="6171862">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6171866">b</span><span class="op" id="6171867">,</span>&nbsp;<span class="ident" id="6171869">err</span>&nbsp;<span class="op" id="6171873">:=</span>&nbsp;<span class="ident" id="6171876">strconv</span><span class="op" id="6171883">.</span><span class="ident" id="6171884">ParseBool</span><span class="op" id="6171893">(</span><span class="ident" id="6171894">s</span><span class="op" id="6171895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171899">if</span>&nbsp;<span class="ident" id="6171902">err</span>&nbsp;<span class="op" id="6171906">!=</span>&nbsp;<span class="builtintype" id="6171909">nil</span>&nbsp;<span class="op" id="6171913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6171918">return</span>&nbsp;<span class="builtintype" id="6171925">nil</span><span class="op" id="6171928">,</span>&nbsp;<span class="ident" id="6171930">fmt</span><span class="op" id="6171933">.</span><span class="ident" id="6171934">Errorf</span><span class="op" id="6171940">(</span><span class="string" id="6171941">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6171989">,</span>&nbsp;<span class="ident" id="6171991">s</span><span class="op" id="6171992">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6171996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172000">return</span>&nbsp;<span class="ident" id="6172007">b</span><span class="op" id="6172008">,</span>&nbsp;<span class="builtintype" id="6172010">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172015">case</span>&nbsp;<span class="op" id="6172020">[</span><span class="op" id="6172021">]</span><span class="builtintype" id="6172022">byte</span><span class="op" id="6172026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6172030">b</span><span class="op" id="6172031">,</span>&nbsp;<span class="ident" id="6172033">err</span>&nbsp;<span class="op" id="6172037">:=</span>&nbsp;<span class="ident" id="6172040">strconv</span><span class="op" id="6172047">.</span><span class="ident" id="6172048">ParseBool</span><span class="op" id="6172057">(</span><span class="builtintype" id="6172058">string</span><span class="op" id="6172064">(</span><span class="ident" id="6172065">s</span><span class="op" id="6172066">)</span><span class="op" id="6172067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172071">if</span>&nbsp;<span class="ident" id="6172074">err</span>&nbsp;<span class="op" id="6172078">!=</span>&nbsp;<span class="builtintype" id="6172081">nil</span>&nbsp;<span class="op" id="6172085">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172090">return</span>&nbsp;<span class="builtintype" id="6172097">nil</span><span class="op" id="6172100">,</span>&nbsp;<span class="ident" id="6172102">fmt</span><span class="op" id="6172105">.</span><span class="ident" id="6172106">Errorf</span><span class="op" id="6172112">(</span><span class="string" id="6172113">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6172161">,</span>&nbsp;<span class="ident" id="6172163">s</span><span class="op" id="6172164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6172168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172172">return</span>&nbsp;<span class="ident" id="6172179">b</span><span class="op" id="6172180">,</span>&nbsp;<span class="builtintype" id="6172182">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6172187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6172191">sv</span>&nbsp;<span class="op" id="6172194">:=</span>&nbsp;<span class="ident" id="6172197">reflect</span><span class="op" id="6172204">.</span><span class="ident" id="6172205">ValueOf</span><span class="op" id="6172212">(</span><span class="ident" id="6172213">src</span><span class="op" id="6172216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172219">switch</span>&nbsp;<span class="ident" id="6172226">sv</span><span class="op" id="6172228">.</span><span class="ident" id="6172229">Kind</span><span class="op" id="6172233">(</span><span class="op" id="6172234">)</span>&nbsp;<span class="op" id="6172236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172239">case</span>&nbsp;<span class="ident" id="6172244">reflect</span><span class="op" id="6172251">.</span><span class="ident" id="6172252">Int</span><span class="op" id="6172255">,</span>&nbsp;<span class="ident" id="6172257">reflect</span><span class="op" id="6172264">.</span><span class="ident" id="6172265">Int8</span><span class="op" id="6172269">,</span>&nbsp;<span class="ident" id="6172271">reflect</span><span class="op" id="6172278">.</span><span class="ident" id="6172279">Int16</span><span class="op" id="6172284">,</span>&nbsp;<span class="ident" id="6172286">reflect</span><span class="op" id="6172293">.</span><span class="ident" id="6172294">Int32</span><span class="op" id="6172299">,</span>&nbsp;<span class="ident" id="6172301">reflect</span><span class="op" id="6172308">.</span><span class="ident" id="6172309">Int64</span><span class="op" id="6172314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6172318">iv</span>&nbsp;<span class="op" id="6172321">:=</span>&nbsp;<span class="ident" id="6172324">sv</span><span class="op" id="6172326">.</span><span class="ident" id="6172327">Int</span><span class="op" id="6172330">(</span><span class="op" id="6172331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172335">if</span>&nbsp;<span class="ident" id="6172338">iv</span>&nbsp;<span class="op" id="6172341">==</span>&nbsp;<span class="num" id="6172344">1</span>&nbsp;<span class="op" id="6172346">||</span>&nbsp;<span class="ident" id="6172349">iv</span>&nbsp;<span class="op" id="6172352">==</span>&nbsp;<span class="num" id="6172355">0</span>&nbsp;<span class="op" id="6172357">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172362">return</span>&nbsp;<span class="ident" id="6172369">iv</span>&nbsp;<span class="op" id="6172372">==</span>&nbsp;<span class="num" id="6172375">1</span><span class="op" id="6172376">,</span>&nbsp;<span class="builtintype" id="6172378">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6172384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172388">return</span>&nbsp;<span class="builtintype" id="6172395">nil</span><span class="op" id="6172398">,</span>&nbsp;<span class="ident" id="6172400">fmt</span><span class="op" id="6172403">.</span><span class="ident" id="6172404">Errorf</span><span class="op" id="6172410">(</span><span class="string" id="6172411">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6172459">,</span>&nbsp;<span class="ident" id="6172461">iv</span><span class="op" id="6172463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172466">case</span>&nbsp;<span class="ident" id="6172471">reflect</span><span class="op" id="6172478">.</span><span class="ident" id="6172479">Uint</span><span class="op" id="6172483">,</span>&nbsp;<span class="ident" id="6172485">reflect</span><span class="op" id="6172492">.</span><span class="ident" id="6172493">Uint8</span><span class="op" id="6172498">,</span>&nbsp;<span class="ident" id="6172500">reflect</span><span class="op" id="6172507">.</span><span class="ident" id="6172508">Uint16</span><span class="op" id="6172514">,</span>&nbsp;<span class="ident" id="6172516">reflect</span><span class="op" id="6172523">.</span><span class="ident" id="6172524">Uint32</span><span class="op" id="6172530">,</span>&nbsp;<span class="ident" id="6172532">reflect</span><span class="op" id="6172539">.</span><span class="ident" id="6172540">Uint64</span><span class="op" id="6172546">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6172550">uv</span>&nbsp;<span class="op" id="6172553">:=</span>&nbsp;<span class="ident" id="6172556">sv</span><span class="op" id="6172558">.</span><span class="ident" id="6172559">Uint</span><span class="op" id="6172563">(</span><span class="op" id="6172564">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172568">if</span>&nbsp;<span class="ident" id="6172571">uv</span>&nbsp;<span class="op" id="6172574">==</span>&nbsp;<span class="num" id="6172577">1</span>&nbsp;<span class="op" id="6172579">||</span>&nbsp;<span class="ident" id="6172582">uv</span>&nbsp;<span class="op" id="6172585">==</span>&nbsp;<span class="num" id="6172588">0</span>&nbsp;<span class="op" id="6172590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172595">return</span>&nbsp;<span class="ident" id="6172602">uv</span>&nbsp;<span class="op" id="6172605">==</span>&nbsp;<span class="num" id="6172608">1</span><span class="op" id="6172609">,</span>&nbsp;<span class="builtintype" id="6172611">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6172617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172621">return</span>&nbsp;<span class="builtintype" id="6172628">nil</span><span class="op" id="6172631">,</span>&nbsp;<span class="ident" id="6172633">fmt</span><span class="op" id="6172636">.</span><span class="ident" id="6172637">Errorf</span><span class="op" id="6172643">(</span><span class="string" id="6172644">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6172692">,</span>&nbsp;<span class="ident" id="6172694">uv</span><span class="op" id="6172696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6172699">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6172703">return</span>&nbsp;<span class="builtintype" id="6172710">nil</span><span class="op" id="6172713">,</span>&nbsp;<span class="ident" id="6172715">fmt</span><span class="op" id="6172718">.</span><span class="ident" id="6172719">Errorf</span><span class="op" id="6172725">(</span><span class="string" id="6172726">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6172779">,</span>&nbsp;<span class="ident" id="6172781">src</span><span class="op" id="6172784">,</span>&nbsp;<span class="ident" id="6172786">src</span><span class="op" id="6172789">)</span><br>
<span class="lineno"></span><span class="op" id="6172791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6172794">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="6172860">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="6172904">var</span>&nbsp;<span class="ident" id="6172908">Int32</span>&nbsp;<span class="ident" id="6172914">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6172925">type</span>&nbsp;<span class="ident" id="6172930">int32Type</span>&nbsp;<span class="keyword" id="6172940">struct</span><span class="op" id="6172946">{</span><span class="op" id="6172947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="6172950">var</span>&nbsp;<span class="ident" id="6172954">_</span>&nbsp;<span class="ident" id="6172956">ValueConverter</span>&nbsp;<span class="op" id="6172971">=</span>&nbsp;<span class="ident" id="6172973">int32Type</span><span class="op" id="6172982">{</span><span class="op" id="6172983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6172986">func</span>&nbsp;<span class="op" id="6172991">(</span><span class="ident" id="6172992">int32Type</span><span class="op" id="6173001">)</span>&nbsp;<span class="ident" id="6173003">ConvertValue</span><span class="op" id="6173015">(</span><span class="ident" id="6173016">v</span>&nbsp;<span class="keyword" id="6173018">interface</span><span class="op" id="6173027">{</span><span class="op" id="6173028">}</span><span class="op" id="6173029">)</span>&nbsp;<span class="op" id="6173031">(</span><span class="ident" id="6173032">Value</span><span class="op" id="6173037">,</span>&nbsp;<span class="builtintype" id="6173039">error</span><span class="op" id="6173044">)</span>&nbsp;<span class="op" id="6173046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6173049">rv</span>&nbsp;<span class="op" id="6173052">:=</span>&nbsp;<span class="ident" id="6173055">reflect</span><span class="op" id="6173062">.</span><span class="ident" id="6173063">ValueOf</span><span class="op" id="6173070">(</span><span class="ident" id="6173071">v</span><span class="op" id="6173072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173075">switch</span>&nbsp;<span class="ident" id="6173082">rv</span><span class="op" id="6173084">.</span><span class="ident" id="6173085">Kind</span><span class="op" id="6173089">(</span><span class="op" id="6173090">)</span>&nbsp;<span class="op" id="6173092">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173095">case</span>&nbsp;<span class="ident" id="6173100">reflect</span><span class="op" id="6173107">.</span><span class="ident" id="6173108">Int</span><span class="op" id="6173111">,</span>&nbsp;<span class="ident" id="6173113">reflect</span><span class="op" id="6173120">.</span><span class="ident" id="6173121">Int8</span><span class="op" id="6173125">,</span>&nbsp;<span class="ident" id="6173127">reflect</span><span class="op" id="6173134">.</span><span class="ident" id="6173135">Int16</span><span class="op" id="6173140">,</span>&nbsp;<span class="ident" id="6173142">reflect</span><span class="op" id="6173149">.</span><span class="ident" id="6173150">Int32</span><span class="op" id="6173155">,</span>&nbsp;<span class="ident" id="6173157">reflect</span><span class="op" id="6173164">.</span><span class="ident" id="6173165">Int64</span><span class="op" id="6173170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6173174">i64</span>&nbsp;<span class="op" id="6173178">:=</span>&nbsp;<span class="ident" id="6173181">rv</span><span class="op" id="6173183">.</span><span class="ident" id="6173184">Int</span><span class="op" id="6173187">(</span><span class="op" id="6173188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173192">if</span>&nbsp;<span class="ident" id="6173195">i64</span>&nbsp;<span class="op" id="6173199">&gt;</span>&nbsp;<span class="op" id="6173201">(</span><span class="num" id="6173202">1</span><span class="op" id="6173203">&lt;&lt;</span><span class="num" id="6173205">31</span><span class="op" id="6173207">)</span><span class="op" id="6173208">-</span><span class="num" id="6173209">1</span>&nbsp;<span class="op" id="6173211">||</span>&nbsp;<span class="ident" id="6173214">i64</span>&nbsp;<span class="op" id="6173218">&lt;</span>&nbsp;<span class="op" id="6173220">-</span><span class="op" id="6173221">(</span><span class="num" id="6173222">1</span><span class="op" id="6173223">&lt;&lt;</span><span class="num" id="6173225">31</span><span class="op" id="6173227">)</span>&nbsp;<span class="op" id="6173229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173234">return</span>&nbsp;<span class="builtintype" id="6173241">nil</span><span class="op" id="6173244">,</span>&nbsp;<span class="ident" id="6173246">fmt</span><span class="op" id="6173249">.</span><span class="ident" id="6173250">Errorf</span><span class="op" id="6173256">(</span><span class="string" id="6173257">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="6173295">,</span>&nbsp;<span class="ident" id="6173297">v</span><span class="op" id="6173298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6173302">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173306">return</span>&nbsp;<span class="ident" id="6173313">i64</span><span class="op" id="6173316">,</span>&nbsp;<span class="builtintype" id="6173318">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173323">case</span>&nbsp;<span class="ident" id="6173328">reflect</span><span class="op" id="6173335">.</span><span class="ident" id="6173336">Uint</span><span class="op" id="6173340">,</span>&nbsp;<span class="ident" id="6173342">reflect</span><span class="op" id="6173349">.</span><span class="ident" id="6173350">Uint8</span><span class="op" id="6173355">,</span>&nbsp;<span class="ident" id="6173357">reflect</span><span class="op" id="6173364">.</span><span class="ident" id="6173365">Uint16</span><span class="op" id="6173371">,</span>&nbsp;<span class="ident" id="6173373">reflect</span><span class="op" id="6173380">.</span><span class="ident" id="6173381">Uint32</span><span class="op" id="6173387">,</span>&nbsp;<span class="ident" id="6173389">reflect</span><span class="op" id="6173396">.</span><span class="ident" id="6173397">Uint64</span><span class="op" id="6173403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6173407">u64</span>&nbsp;<span class="op" id="6173411">:=</span>&nbsp;<span class="ident" id="6173414">rv</span><span class="op" id="6173416">.</span><span class="ident" id="6173417">Uint</span><span class="op" id="6173421">(</span><span class="op" id="6173422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173426">if</span>&nbsp;<span class="ident" id="6173429">u64</span>&nbsp;<span class="op" id="6173433">&gt;</span>&nbsp;<span class="op" id="6173435">(</span><span class="num" id="6173436">1</span><span class="op" id="6173437">&lt;&lt;</span><span class="num" id="6173439">31</span><span class="op" id="6173441">)</span><span class="op" id="6173442">-</span><span class="num" id="6173443">1</span>&nbsp;<span class="op" id="6173445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173450">return</span>&nbsp;<span class="builtintype" id="6173457">nil</span><span class="op" id="6173460">,</span>&nbsp;<span class="ident" id="6173462">fmt</span><span class="op" id="6173465">.</span><span class="ident" id="6173466">Errorf</span><span class="op" id="6173472">(</span><span class="string" id="6173473">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="6173511">,</span>&nbsp;<span class="ident" id="6173513">v</span><span class="op" id="6173514">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6173518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173522">return</span>&nbsp;<span class="builtintype" id="6173529">int64</span><span class="op" id="6173534">(</span><span class="ident" id="6173535">u64</span><span class="op" id="6173538">)</span><span class="op" id="6173539">,</span>&nbsp;<span class="builtintype" id="6173541">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173546">case</span>&nbsp;<span class="ident" id="6173551">reflect</span><span class="op" id="6173558">.</span><span class="ident" id="6173559">String</span><span class="op" id="6173565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6173569">i</span><span class="op" id="6173570">,</span>&nbsp;<span class="ident" id="6173572">err</span>&nbsp;<span class="op" id="6173576">:=</span>&nbsp;<span class="ident" id="6173579">strconv</span><span class="op" id="6173586">.</span><span class="ident" id="6173587">Atoi</span><span class="op" id="6173591">(</span><span class="ident" id="6173592">rv</span><span class="op" id="6173594">.</span><span class="ident" id="6173595">String</span><span class="op" id="6173601">(</span><span class="op" id="6173602">)</span><span class="op" id="6173603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173607">if</span>&nbsp;<span class="ident" id="6173610">err</span>&nbsp;<span class="op" id="6173614">!=</span>&nbsp;<span class="builtintype" id="6173617">nil</span>&nbsp;<span class="op" id="6173621">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173626">return</span>&nbsp;<span class="builtintype" id="6173633">nil</span><span class="op" id="6173636">,</span>&nbsp;<span class="ident" id="6173638">fmt</span><span class="op" id="6173641">.</span><span class="ident" id="6173642">Errorf</span><span class="op" id="6173648">(</span><span class="string" id="6173649">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="6173699">,</span>&nbsp;<span class="ident" id="6173701">v</span><span class="op" id="6173702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6173706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173710">return</span>&nbsp;<span class="builtintype" id="6173717">int64</span><span class="op" id="6173722">(</span><span class="ident" id="6173723">i</span><span class="op" id="6173724">)</span><span class="op" id="6173725">,</span>&nbsp;<span class="builtintype" id="6173727">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6173732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6173735">return</span>&nbsp;<span class="builtintype" id="6173742">nil</span><span class="op" id="6173745">,</span>&nbsp;<span class="ident" id="6173747">fmt</span><span class="op" id="6173750">.</span><span class="ident" id="6173751">Errorf</span><span class="op" id="6173757">(</span><span class="string" id="6173758">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="6173822">,</span>&nbsp;<span class="ident" id="6173824">v</span><span class="op" id="6173825">,</span>&nbsp;<span class="ident" id="6173827">v</span><span class="op" id="6173828">)</span><br>
<span class="lineno">130</span><span class="op" id="6173830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6173833">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6173900">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="6173963">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="6174028">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="6174058">var</span>&nbsp;<span class="ident" id="6174062">String</span>&nbsp;<span class="ident" id="6174069">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6174081">type</span>&nbsp;<span class="ident" id="6174086">stringType</span>&nbsp;<span class="keyword" id="6174097">struct</span><span class="op" id="6174103">{</span><span class="op" id="6174104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6174107">func</span>&nbsp;<span class="op" id="6174112">(</span><span class="ident" id="6174113">stringType</span><span class="op" id="6174123">)</span>&nbsp;<span class="ident" id="6174125">ConvertValue</span><span class="op" id="6174137">(</span><span class="ident" id="6174138">v</span>&nbsp;<span class="keyword" id="6174140">interface</span><span class="op" id="6174149">{</span><span class="op" id="6174150">}</span><span class="op" id="6174151">)</span>&nbsp;<span class="op" id="6174153">(</span><span class="ident" id="6174154">Value</span><span class="op" id="6174159">,</span>&nbsp;<span class="builtintype" id="6174161">error</span><span class="op" id="6174166">)</span>&nbsp;<span class="op" id="6174168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174171">switch</span>&nbsp;<span class="ident" id="6174178">v</span><span class="op" id="6174179">.</span><span class="op" id="6174180">(</span><span class="keyword" id="6174181">type</span><span class="op" id="6174185">)</span>&nbsp;<span class="op" id="6174187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174190">case</span>&nbsp;<span class="builtintype" id="6174195">string</span><span class="op" id="6174201">,</span>&nbsp;<span class="op" id="6174203">[</span><span class="op" id="6174204">]</span><span class="builtintype" id="6174205">byte</span><span class="op" id="6174209">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174213">return</span>&nbsp;<span class="ident" id="6174220">v</span><span class="op" id="6174221">,</span>&nbsp;<span class="builtintype" id="6174223">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6174228">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174231">return</span>&nbsp;<span class="ident" id="6174238">fmt</span><span class="op" id="6174241">.</span><span class="ident" id="6174242">Sprintf</span><span class="op" id="6174249">(</span><span class="string" id="6174250">&#34;%v&#34;</span><span class="op" id="6174254">,</span>&nbsp;<span class="ident" id="6174256">v</span><span class="op" id="6174257">)</span><span class="op" id="6174258">,</span>&nbsp;<span class="builtintype" id="6174260">nil</span><br>
<span class="lineno"></span><span class="op" id="6174264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6174267">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="6174332">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="6174394">type</span>&nbsp;<span class="ident" id="6174399">Null</span>&nbsp;<span class="keyword" id="6174404">struct</span>&nbsp;<span class="op" id="6174411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6174414">Converter</span>&nbsp;<span class="ident" id="6174424">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="6174439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6174442">func</span>&nbsp;<span class="op" id="6174447">(</span><span class="ident" id="6174448">n</span>&nbsp;<span class="ident" id="6174450">Null</span><span class="op" id="6174454">)</span>&nbsp;<span class="ident" id="6174456">ConvertValue</span><span class="op" id="6174468">(</span><span class="ident" id="6174469">v</span>&nbsp;<span class="keyword" id="6174471">interface</span><span class="op" id="6174480">{</span><span class="op" id="6174481">}</span><span class="op" id="6174482">)</span>&nbsp;<span class="op" id="6174484">(</span><span class="ident" id="6174485">Value</span><span class="op" id="6174490">,</span>&nbsp;<span class="builtintype" id="6174492">error</span><span class="op" id="6174497">)</span>&nbsp;<span class="op" id="6174499">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174502">if</span>&nbsp;<span class="ident" id="6174505">v</span>&nbsp;<span class="op" id="6174507">==</span>&nbsp;<span class="builtintype" id="6174510">nil</span>&nbsp;<span class="op" id="6174514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174518">return</span>&nbsp;<span class="builtintype" id="6174525">nil</span><span class="op" id="6174528">,</span>&nbsp;<span class="builtintype" id="6174530">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6174535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174538">return</span>&nbsp;<span class="ident" id="6174545">n</span><span class="op" id="6174546">.</span><span class="ident" id="6174547">Converter</span><span class="op" id="6174556">.</span><span class="ident" id="6174557">ConvertValue</span><span class="op" id="6174569">(</span><span class="ident" id="6174570">v</span><span class="op" id="6174571">)</span><br>
<span class="lineno"></span><span class="op" id="6174573">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="6174576">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="6174647">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="6174709">type</span>&nbsp;<span class="ident" id="6174714">NotNull</span>&nbsp;<span class="keyword" id="6174722">struct</span>&nbsp;<span class="op" id="6174729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6174732">Converter</span>&nbsp;<span class="ident" id="6174742">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="6174757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6174760">func</span>&nbsp;<span class="op" id="6174765">(</span><span class="ident" id="6174766">n</span>&nbsp;<span class="ident" id="6174768">NotNull</span><span class="op" id="6174775">)</span>&nbsp;<span class="ident" id="6174777">ConvertValue</span><span class="op" id="6174789">(</span><span class="ident" id="6174790">v</span>&nbsp;<span class="keyword" id="6174792">interface</span><span class="op" id="6174801">{</span><span class="op" id="6174802">}</span><span class="op" id="6174803">)</span>&nbsp;<span class="op" id="6174805">(</span><span class="ident" id="6174806">Value</span><span class="op" id="6174811">,</span>&nbsp;<span class="builtintype" id="6174813">error</span><span class="op" id="6174818">)</span>&nbsp;<span class="op" id="6174820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174823">if</span>&nbsp;<span class="ident" id="6174826">v</span>&nbsp;<span class="op" id="6174828">==</span>&nbsp;<span class="builtintype" id="6174831">nil</span>&nbsp;<span class="op" id="6174835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174839">return</span>&nbsp;<span class="builtintype" id="6174846">nil</span><span class="op" id="6174849">,</span>&nbsp;<span class="ident" id="6174851">fmt</span><span class="op" id="6174854">.</span><span class="ident" id="6174855">Errorf</span><span class="op" id="6174861">(</span><span class="string" id="6174862">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="6174885">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6174888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6174891">return</span>&nbsp;<span class="ident" id="6174898">n</span><span class="op" id="6174899">.</span><span class="ident" id="6174900">Converter</span><span class="op" id="6174909">.</span><span class="ident" id="6174910">ConvertValue</span><span class="op" id="6174922">(</span><span class="ident" id="6174923">v</span><span class="op" id="6174924">)</span><br>
<span class="lineno"></span><span class="op" id="6174926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6174929">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="6174991">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6175047">func</span>&nbsp;<span class="ident" id="6175052">IsValue</span><span class="op" id="6175059">(</span><span class="ident" id="6175060">v</span>&nbsp;<span class="keyword" id="6175062">interface</span><span class="op" id="6175071">{</span><span class="op" id="6175072">}</span><span class="op" id="6175073">)</span>&nbsp;<span class="builtintype" id="6175075">bool</span>&nbsp;<span class="op" id="6175080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175083">if</span>&nbsp;<span class="ident" id="6175086">IsScanValue</span><span class="op" id="6175097">(</span><span class="ident" id="6175098">v</span><span class="op" id="6175099">)</span>&nbsp;<span class="op" id="6175101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175105">return</span>&nbsp;<span class="builtintype" id="6175112">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6175118">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175121">if</span>&nbsp;<span class="ident" id="6175124">_</span><span class="op" id="6175125">,</span>&nbsp;<span class="ident" id="6175127">ok</span>&nbsp;<span class="op" id="6175130">:=</span>&nbsp;<span class="ident" id="6175133">v</span><span class="op" id="6175134">.</span><span class="op" id="6175135">(</span><span class="builtintype" id="6175136">string</span><span class="op" id="6175142">)</span><span class="op" id="6175143">;</span>&nbsp;<span class="ident" id="6175145">ok</span>&nbsp;<span class="op" id="6175148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175152">return</span>&nbsp;<span class="builtintype" id="6175159">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6175165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175168">return</span>&nbsp;<span class="builtintype" id="6175175">false</span><br>
<span class="lineno"></span><span class="op" id="6175181">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="6175184">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="6175245">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6175309">func</span>&nbsp;<span class="ident" id="6175314">IsScanValue</span><span class="op" id="6175325">(</span><span class="ident" id="6175326">v</span>&nbsp;<span class="keyword" id="6175328">interface</span><span class="op" id="6175337">{</span><span class="op" id="6175338">}</span><span class="op" id="6175339">)</span>&nbsp;<span class="builtintype" id="6175341">bool</span>&nbsp;<span class="op" id="6175346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175349">if</span>&nbsp;<span class="ident" id="6175352">v</span>&nbsp;<span class="op" id="6175354">==</span>&nbsp;<span class="builtintype" id="6175357">nil</span>&nbsp;<span class="op" id="6175361">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175365">return</span>&nbsp;<span class="builtintype" id="6175372">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6175378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175381">switch</span>&nbsp;<span class="ident" id="6175388">v</span><span class="op" id="6175389">.</span><span class="op" id="6175390">(</span><span class="keyword" id="6175391">type</span><span class="op" id="6175395">)</span>&nbsp;<span class="op" id="6175397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175400">case</span>&nbsp;<span class="builtintype" id="6175405">int64</span><span class="op" id="6175410">,</span>&nbsp;<span class="builtintype" id="6175412">float64</span><span class="op" id="6175419">,</span>&nbsp;<span class="op" id="6175421">[</span><span class="op" id="6175422">]</span><span class="builtintype" id="6175423">byte</span><span class="op" id="6175427">,</span>&nbsp;<span class="builtintype" id="6175429">bool</span><span class="op" id="6175433">,</span>&nbsp;<span class="ident" id="6175435">time</span><span class="op" id="6175439">.</span><span class="ident" id="6175440">Time</span><span class="op" id="6175444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175448">return</span>&nbsp;<span class="builtintype" id="6175455">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6175461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6175464">return</span>&nbsp;<span class="builtintype" id="6175471">false</span><br>
<span class="lineno"></span><span class="op" id="6175477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6175480">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="6175542">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="6175602">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="6175622">//</span><br>
<span class="lineno"></span><span class="comment" id="6175625">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6175690">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="6175750">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="6175819">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="6175832">var</span>&nbsp;<span class="ident" id="6175836">DefaultParameterConverter</span>&nbsp;<span class="ident" id="6175862">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6175880">type</span>&nbsp;<span class="ident" id="6175885">defaultConverter</span>&nbsp;<span class="keyword" id="6175902">struct</span><span class="op" id="6175908">{</span><span class="op" id="6175909">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6175912">var</span>&nbsp;<span class="ident" id="6175916">_</span>&nbsp;<span class="ident" id="6175918">ValueConverter</span>&nbsp;<span class="op" id="6175933">=</span>&nbsp;<span class="ident" id="6175935">defaultConverter</span><span class="op" id="6175951">{</span><span class="op" id="6175952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6175955">func</span>&nbsp;<span class="op" id="6175960">(</span><span class="ident" id="6175961">defaultConverter</span><span class="op" id="6175977">)</span>&nbsp;<span class="ident" id="6175979">ConvertValue</span><span class="op" id="6175991">(</span><span class="ident" id="6175992">v</span>&nbsp;<span class="keyword" id="6175994">interface</span><span class="op" id="6176003">{</span><span class="op" id="6176004">}</span><span class="op" id="6176005">)</span>&nbsp;<span class="op" id="6176007">(</span><span class="ident" id="6176008">Value</span><span class="op" id="6176013">,</span>&nbsp;<span class="builtintype" id="6176015">error</span><span class="op" id="6176020">)</span>&nbsp;<span class="op" id="6176022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176025">if</span>&nbsp;<span class="ident" id="6176028">IsValue</span><span class="op" id="6176035">(</span><span class="ident" id="6176036">v</span><span class="op" id="6176037">)</span>&nbsp;<span class="op" id="6176039">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176043">return</span>&nbsp;<span class="ident" id="6176050">v</span><span class="op" id="6176051">,</span>&nbsp;<span class="builtintype" id="6176053">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176062">if</span>&nbsp;<span class="ident" id="6176065">svi</span><span class="op" id="6176068">,</span>&nbsp;<span class="ident" id="6176070">ok</span>&nbsp;<span class="op" id="6176073">:=</span>&nbsp;<span class="ident" id="6176076">v</span><span class="op" id="6176077">.</span><span class="op" id="6176078">(</span><span class="ident" id="6176079">Valuer</span><span class="op" id="6176085">)</span><span class="op" id="6176086">;</span>&nbsp;<span class="ident" id="6176088">ok</span>&nbsp;<span class="op" id="6176091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6176095">sv</span><span class="op" id="6176097">,</span>&nbsp;<span class="ident" id="6176099">err</span>&nbsp;<span class="op" id="6176103">:=</span>&nbsp;<span class="ident" id="6176106">svi</span><span class="op" id="6176109">.</span><span class="ident" id="6176110">Value</span><span class="op" id="6176115">(</span><span class="op" id="6176116">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176120">if</span>&nbsp;<span class="ident" id="6176123">err</span>&nbsp;<span class="op" id="6176127">!=</span>&nbsp;<span class="builtintype" id="6176130">nil</span>&nbsp;<span class="op" id="6176134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176139">return</span>&nbsp;<span class="builtintype" id="6176146">nil</span><span class="op" id="6176149">,</span>&nbsp;<span class="ident" id="6176151">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176161">if</span>&nbsp;<span class="op" id="6176164">!</span><span class="ident" id="6176165">IsValue</span><span class="op" id="6176172">(</span><span class="ident" id="6176173">sv</span><span class="op" id="6176175">)</span>&nbsp;<span class="op" id="6176177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176182">return</span>&nbsp;<span class="builtintype" id="6176189">nil</span><span class="op" id="6176192">,</span>&nbsp;<span class="ident" id="6176194">fmt</span><span class="op" id="6176197">.</span><span class="ident" id="6176198">Errorf</span><span class="op" id="6176204">(</span><span class="string" id="6176205">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="6176244">,</span>&nbsp;<span class="ident" id="6176246">sv</span><span class="op" id="6176248">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176256">return</span>&nbsp;<span class="ident" id="6176263">sv</span><span class="op" id="6176265">,</span>&nbsp;<span class="builtintype" id="6176267">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6176276">rv</span>&nbsp;<span class="op" id="6176279">:=</span>&nbsp;<span class="ident" id="6176282">reflect</span><span class="op" id="6176289">.</span><span class="ident" id="6176290">ValueOf</span><span class="op" id="6176297">(</span><span class="ident" id="6176298">v</span><span class="op" id="6176299">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176302">switch</span>&nbsp;<span class="ident" id="6176309">rv</span><span class="op" id="6176311">.</span><span class="ident" id="6176312">Kind</span><span class="op" id="6176316">(</span><span class="op" id="6176317">)</span>&nbsp;<span class="op" id="6176319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176322">case</span>&nbsp;<span class="ident" id="6176327">reflect</span><span class="op" id="6176334">.</span><span class="ident" id="6176335">Ptr</span><span class="op" id="6176338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6176342">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176365">if</span>&nbsp;<span class="ident" id="6176368">rv</span><span class="op" id="6176370">.</span><span class="ident" id="6176371">IsNil</span><span class="op" id="6176376">(</span><span class="op" id="6176377">)</span>&nbsp;<span class="op" id="6176379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176384">return</span>&nbsp;<span class="builtintype" id="6176391">nil</span><span class="op" id="6176394">,</span>&nbsp;<span class="builtintype" id="6176396">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176402">}</span>&nbsp;<span class="keyword" id="6176404">else</span>&nbsp;<span class="op" id="6176409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176414">return</span>&nbsp;<span class="ident" id="6176421">defaultConverter</span><span class="op" id="6176437">{</span><span class="op" id="6176438">}</span><span class="op" id="6176439">.</span><span class="ident" id="6176440">ConvertValue</span><span class="op" id="6176452">(</span><span class="ident" id="6176453">rv</span><span class="op" id="6176455">.</span><span class="ident" id="6176456">Elem</span><span class="op" id="6176460">(</span><span class="op" id="6176461">)</span><span class="op" id="6176462">.</span><span class="ident" id="6176463">Interface</span><span class="op" id="6176472">(</span><span class="op" id="6176473">)</span><span class="op" id="6176474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176481">case</span>&nbsp;<span class="ident" id="6176486">reflect</span><span class="op" id="6176493">.</span><span class="ident" id="6176494">Int</span><span class="op" id="6176497">,</span>&nbsp;<span class="ident" id="6176499">reflect</span><span class="op" id="6176506">.</span><span class="ident" id="6176507">Int8</span><span class="op" id="6176511">,</span>&nbsp;<span class="ident" id="6176513">reflect</span><span class="op" id="6176520">.</span><span class="ident" id="6176521">Int16</span><span class="op" id="6176526">,</span>&nbsp;<span class="ident" id="6176528">reflect</span><span class="op" id="6176535">.</span><span class="ident" id="6176536">Int32</span><span class="op" id="6176541">,</span>&nbsp;<span class="ident" id="6176543">reflect</span><span class="op" id="6176550">.</span><span class="ident" id="6176551">Int64</span><span class="op" id="6176556">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176560">return</span>&nbsp;<span class="ident" id="6176567">rv</span><span class="op" id="6176569">.</span><span class="ident" id="6176570">Int</span><span class="op" id="6176573">(</span><span class="op" id="6176574">)</span><span class="op" id="6176575">,</span>&nbsp;<span class="builtintype" id="6176577">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176582">case</span>&nbsp;<span class="ident" id="6176587">reflect</span><span class="op" id="6176594">.</span><span class="ident" id="6176595">Uint</span><span class="op" id="6176599">,</span>&nbsp;<span class="ident" id="6176601">reflect</span><span class="op" id="6176608">.</span><span class="ident" id="6176609">Uint8</span><span class="op" id="6176614">,</span>&nbsp;<span class="ident" id="6176616">reflect</span><span class="op" id="6176623">.</span><span class="ident" id="6176624">Uint16</span><span class="op" id="6176630">,</span>&nbsp;<span class="ident" id="6176632">reflect</span><span class="op" id="6176639">.</span><span class="ident" id="6176640">Uint32</span><span class="op" id="6176646">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176650">return</span>&nbsp;<span class="builtintype" id="6176657">int64</span><span class="op" id="6176662">(</span><span class="ident" id="6176663">rv</span><span class="op" id="6176665">.</span><span class="ident" id="6176666">Uint</span><span class="op" id="6176670">(</span><span class="op" id="6176671">)</span><span class="op" id="6176672">)</span><span class="op" id="6176673">,</span>&nbsp;<span class="builtintype" id="6176675">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176680">case</span>&nbsp;<span class="ident" id="6176685">reflect</span><span class="op" id="6176692">.</span><span class="ident" id="6176693">Uint64</span><span class="op" id="6176699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6176703">u64</span>&nbsp;<span class="op" id="6176707">:=</span>&nbsp;<span class="ident" id="6176710">rv</span><span class="op" id="6176712">.</span><span class="ident" id="6176713">Uint</span><span class="op" id="6176717">(</span><span class="op" id="6176718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176722">if</span>&nbsp;<span class="ident" id="6176725">u64</span>&nbsp;<span class="op" id="6176729">&gt;=</span>&nbsp;<span class="num" id="6176732">1</span><span class="op" id="6176733">&lt;&lt;</span><span class="num" id="6176735">63</span>&nbsp;<span class="op" id="6176738">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176743">return</span>&nbsp;<span class="builtintype" id="6176750">nil</span><span class="op" id="6176753">,</span>&nbsp;<span class="ident" id="6176755">fmt</span><span class="op" id="6176758">.</span><span class="ident" id="6176759">Errorf</span><span class="op" id="6176765">(</span><span class="string" id="6176766">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6176817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176825">return</span>&nbsp;<span class="builtintype" id="6176832">int64</span><span class="op" id="6176837">(</span><span class="ident" id="6176838">u64</span><span class="op" id="6176841">)</span><span class="op" id="6176842">,</span>&nbsp;<span class="builtintype" id="6176844">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176849">case</span>&nbsp;<span class="ident" id="6176854">reflect</span><span class="op" id="6176861">.</span><span class="ident" id="6176862">Float32</span><span class="op" id="6176869">,</span>&nbsp;<span class="ident" id="6176871">reflect</span><span class="op" id="6176878">.</span><span class="ident" id="6176879">Float64</span><span class="op" id="6176886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176890">return</span>&nbsp;<span class="ident" id="6176897">rv</span><span class="op" id="6176899">.</span><span class="ident" id="6176900">Float</span><span class="op" id="6176905">(</span><span class="op" id="6176906">)</span><span class="op" id="6176907">,</span>&nbsp;<span class="builtintype" id="6176909">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6176914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6176917">return</span>&nbsp;<span class="builtintype" id="6176924">nil</span><span class="op" id="6176927">,</span>&nbsp;<span class="ident" id="6176929">fmt</span><span class="op" id="6176932">.</span><span class="ident" id="6176933">Errorf</span><span class="op" id="6176939">(</span><span class="string" id="6176940">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="6176967">,</span>&nbsp;<span class="ident" id="6176969">v</span><span class="op" id="6176970">,</span>&nbsp;<span class="ident" id="6176972">rv</span><span class="op" id="6176974">.</span><span class="ident" id="6176975">Kind</span><span class="op" id="6176979">(</span><span class="op" id="6176980">)</span><span class="op" id="6176981">)</span><br>
<span class="lineno"></span><span class="op" id="6176983">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
