<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6745673">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6745728">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6745782">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6745833">package</span>&nbsp;<span class="ident" id="6745841">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6745851">import</span>&nbsp;<span class="op" id="6745858">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6745861">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6745870">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6745877">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6745888">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6745898">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6745901">func</span>&nbsp;<span class="ident" id="6745906">TestTypedContent</span><span class="op" id="6745922">(</span><span class="ident" id="6745923">t</span>&nbsp;<span class="op" id="6745925">*</span><span class="ident" id="6745926">testing</span><span class="op" id="6745933">.</span><span class="ident" id="6745934">T</span><span class="op" id="6745935">)</span>&nbsp;<span class="op" id="6745937">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6745940">data</span>&nbsp;<span class="op" id="6745945">:=</span>&nbsp;<span class="op" id="6745948">[</span><span class="op" id="6745949">]</span><span class="keyword" id="6745950">interface</span><span class="op" id="6745959">{</span><span class="op" id="6745960">}</span><span class="op" id="6745961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6745965">`&lt;b&gt;&nbsp;&#34;foo%&#34;&nbsp;O&#39;Reilly&nbsp;&amp;bar;`</span><span class="op" id="6745992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6745996">CSS</span><span class="op" id="6745999">(</span><span class="string" id="6746000">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="6746032">)</span><span class="op" id="6746033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746037">HTML</span><span class="op" id="6746041">(</span><span class="string" id="6746042">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6746072">)</span><span class="op" id="6746073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746077">HTMLAttr</span><span class="op" id="6746085">(</span><span class="string" id="6746086">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="6746098">)</span><span class="op" id="6746099">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746103">JS</span><span class="op" id="6746105">(</span><span class="string" id="6746106">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="6746136">)</span><span class="op" id="6746137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746141">JSStr</span><span class="op" id="6746146">(</span><span class="string" id="6746147">`Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21`</span><span class="op" id="6746176">)</span><span class="op" id="6746177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746181">URL</span><span class="op" id="6746184">(</span><span class="string" id="6746185">`greeting=H%69&amp;addressee=(World)`</span><span class="op" id="6746218">)</span><span class="op" id="6746219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746226">//&nbsp;For&nbsp;each&nbsp;content&nbsp;sensitive&nbsp;escaper,&nbsp;see&nbsp;how&nbsp;it&nbsp;does&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746285">//&nbsp;each&nbsp;of&nbsp;the&nbsp;typed&nbsp;strings&nbsp;above.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746322">tests</span>&nbsp;<span class="op" id="6746328">:=</span>&nbsp;<span class="op" id="6746331">[</span><span class="op" id="6746332">]</span><span class="keyword" id="6746333">struct</span>&nbsp;<span class="op" id="6746340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746344">//&nbsp;A&nbsp;template&nbsp;containing&nbsp;a&nbsp;single&nbsp;{{.}}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746387">input</span>&nbsp;<span class="builtintype" id="6746393">string</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6746402">want</span>&nbsp;&nbsp;<span class="op" id="6746408">[</span><span class="op" id="6746409">]</span><span class="builtintype" id="6746410">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746418">}</span><span class="op" id="6746419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746428">`&lt;style&gt;{{.}}&nbsp;{&nbsp;color:&nbsp;blue&nbsp;}&lt;/style&gt;`</span><span class="op" id="6746466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746471">[</span><span class="op" id="6746472">]</span><span class="builtintype" id="6746473">string</span><span class="op" id="6746479">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746485">`ZgotmplZ`</span><span class="op" id="6746495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746501">//&nbsp;Allowed&nbsp;but&nbsp;not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746533">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="6746565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746571">`ZgotmplZ`</span><span class="op" id="6746581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746587">`ZgotmplZ`</span><span class="op" id="6746597">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746603">`ZgotmplZ`</span><span class="op" id="6746613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746619">`ZgotmplZ`</span><span class="op" id="6746629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746635">`ZgotmplZ`</span><span class="op" id="6746645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746650">}</span><span class="op" id="6746651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746655">}</span><span class="op" id="6746656">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746665">`&lt;div&nbsp;style=&#34;{{.}}&#34;&gt;`</span><span class="op" id="6746686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746691">[</span><span class="op" id="6746692">]</span><span class="builtintype" id="6746693">string</span><span class="op" id="6746699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746705">`ZgotmplZ`</span><span class="op" id="6746715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746721">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746754">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6746794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746800">`ZgotmplZ`</span><span class="op" id="6746810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746816">`ZgotmplZ`</span><span class="op" id="6746826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746832">`ZgotmplZ`</span><span class="op" id="6746842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746848">`ZgotmplZ`</span><span class="op" id="6746858">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746864">`ZgotmplZ`</span><span class="op" id="6746874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746879">}</span><span class="op" id="6746880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746884">}</span><span class="op" id="6746885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746894">`{{.}}`</span><span class="op" id="6746901">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746906">[</span><span class="op" id="6746907">]</span><span class="builtintype" id="6746908">string</span><span class="op" id="6746914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746920">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6746969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6746975">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6747015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6747021">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747041">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6747071">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747077">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6747097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747103">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6747149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747155">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6747192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747198">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6747235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747240">}</span><span class="op" id="6747241">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747245">}</span><span class="op" id="6747246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747255">`&lt;a{{.}}&gt;`</span><span class="op" id="6747265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747270">[</span><span class="op" id="6747271">]</span><span class="builtintype" id="6747272">string</span><span class="op" id="6747278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747284">`ZgotmplZ`</span><span class="op" id="6747294">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747300">`ZgotmplZ`</span><span class="op" id="6747310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747316">`ZgotmplZ`</span><span class="op" id="6747326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6747332">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747365">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="6747377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747383">`ZgotmplZ`</span><span class="op" id="6747393">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747399">`ZgotmplZ`</span><span class="op" id="6747409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747415">`ZgotmplZ`</span><span class="op" id="6747425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747430">}</span><span class="op" id="6747431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747435">}</span><span class="op" id="6747436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747440">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747445">`&lt;a&nbsp;title={{.}}&gt;`</span><span class="op" id="6747462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747467">[</span><span class="op" id="6747468">]</span><span class="builtintype" id="6747469">string</span><span class="op" id="6747475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747481">`&amp;lt;b&amp;gt;&amp;#32;&amp;#34;foo%&amp;#34;&amp;#32;O&amp;#39;Reilly&amp;#32;&amp;amp;bar;`</span><span class="op" id="6747542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747548">`a[href&amp;#32;&amp;#61;~&amp;#32;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6747600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6747606">//&nbsp;Tags&nbsp;stripped,&nbsp;spaces&nbsp;escaped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747667">`Hello,&amp;#32;World&amp;#32;&amp;amp;tc!`</span><span class="op" id="6747698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747704">`&amp;#32;dir&amp;#61;&amp;#34;ltr&amp;#34;`</span><span class="op" id="6747732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747738">`c&amp;#32;&amp;amp;&amp;amp;&amp;#32;alert(&amp;#34;Hello,&amp;#32;World!&amp;#34;);`</span><span class="op" id="6747796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747802">`Hello,&amp;#32;World&amp;#32;&amp;amp;&amp;#32;O&amp;#39;Reilly\x21`</span><span class="op" id="6747851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747857">`greeting&amp;#61;H%69&amp;amp;addressee&amp;#61;(World)`</span><span class="op" id="6747902">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747907">}</span><span class="op" id="6747908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747912">}</span><span class="op" id="6747913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747922">`&lt;a&nbsp;title=&#39;{{.}}&#39;&gt;`</span><span class="op" id="6747941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747946">[</span><span class="op" id="6747947">]</span><span class="builtintype" id="6747948">string</span><span class="op" id="6747954">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747960">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6748009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748015">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6748055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6748061">//&nbsp;Tags&nbsp;stripped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748106">`Hello,&nbsp;World&nbsp;&amp;amp;tc!`</span><span class="op" id="6748129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748135">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6748155">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748161">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6748207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748213">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6748250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748256">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6748293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748298">}</span><span class="op" id="6748299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748303">}</span><span class="op" id="6748304">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748313">`&lt;textarea&gt;{{.}}&lt;/textarea&gt;`</span><span class="op" id="6748341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748346">[</span><span class="op" id="6748347">]</span><span class="builtintype" id="6748348">string</span><span class="op" id="6748354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748360">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6748409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748415">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6748455">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6748461">//&nbsp;Angle&nbsp;brackets&nbsp;escaped&nbsp;to&nbsp;prevent&nbsp;injection&nbsp;of&nbsp;close&nbsp;tags,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748550">`Hello,&nbsp;&amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6748592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748598">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6748618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748624">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6748670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748676">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6748713">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748719">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6748756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748761">}</span><span class="op" id="6748762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748766">}</span><span class="op" id="6748767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748776">`&lt;script&gt;alert({{.}})&lt;/script&gt;`</span><span class="op" id="6748807">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748812">[</span><span class="op" id="6748813">]</span><span class="builtintype" id="6748814">string</span><span class="op" id="6748820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748826">`&#34;\u003cb\u003e&nbsp;\&#34;foo%\&#34;&nbsp;O&#39;Reilly&nbsp;\u0026bar;&#34;`</span><span class="op" id="6748872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748878">`&#34;a[href&nbsp;=~&nbsp;\&#34;//example.com\&#34;]#foo&#34;`</span><span class="op" id="6748914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748920">`&#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&#34;`</span><span class="op" id="6748977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6748983">`&#34;&nbsp;dir=\&#34;ltr\&#34;&#34;`</span><span class="op" id="6748999">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749005">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749025">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="6749055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749061">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749102">`&#34;Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21&#34;`</span><span class="op" id="6749133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749139">`&#34;greeting=H%69\u0026addressee=(World)&#34;`</span><span class="op" id="6749179">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749184">}</span><span class="op" id="6749185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749189">}</span><span class="op" id="6749190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749199">`&lt;button&nbsp;onclick=&#34;alert({{.}})&#34;&gt;`</span><span class="op" id="6749232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749237">[</span><span class="op" id="6749238">]</span><span class="builtintype" id="6749239">string</span><span class="op" id="6749245">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749251">`&amp;#34;\u003cb\u003e&nbsp;\&amp;#34;foo%\&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;\u0026bar;&amp;#34;`</span><span class="op" id="6749317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749323">`&amp;#34;a[href&nbsp;=~&nbsp;\&amp;#34;//example.com\&amp;#34;]#foo&amp;#34;`</span><span class="op" id="6749375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749381">`&amp;#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&amp;#34;`</span><span class="op" id="6749446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749452">`&amp;#34;&nbsp;dir=\&amp;#34;ltr\&amp;#34;&amp;#34;`</span><span class="op" id="6749484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749490">//&nbsp;Not&nbsp;JS&nbsp;escaped&nbsp;but&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749530">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6749576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749582">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749623">`&amp;#34;Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21&amp;#34;`</span><span class="op" id="6749670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749676">`&amp;#34;greeting=H%69\u0026addressee=(World)&amp;#34;`</span><span class="op" id="6749724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749729">}</span><span class="op" id="6749730">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749734">}</span><span class="op" id="6749735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749744">`&lt;script&gt;alert(&#34;{{.}}&#34;)&lt;/script&gt;`</span><span class="op" id="6749777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749782">[</span><span class="op" id="6749783">]</span><span class="builtintype" id="6749784">string</span><span class="op" id="6749790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749796">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="6749841">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749847">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="6749887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749893">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="6749939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749945">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="6749963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749969">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="6750011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6750017">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750058">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="6750093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750099">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="6750135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750140">}</span><span class="op" id="6750141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750145">}</span><span class="op" id="6750146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750150">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750155">`&lt;button&nbsp;onclick=&#39;alert(&#34;{{.}}&#34;)&#39;&gt;`</span><span class="op" id="6750190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750195">[</span><span class="op" id="6750196">]</span><span class="builtintype" id="6750197">string</span><span class="op" id="6750203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750209">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="6750254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750260">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="6750300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750306">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="6750352">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750358">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="6750376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750382">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="6750424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6750430">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750471">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="6750506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750512">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="6750548">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750553">}</span><span class="op" id="6750554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750558">}</span><span class="op" id="6750559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750568">`&lt;a&nbsp;href=&#34;?q={{.}}&#34;&gt;`</span><span class="op" id="6750589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750594">[</span><span class="op" id="6750595">]</span><span class="builtintype" id="6750596">string</span><span class="op" id="6750602">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750608">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="6750657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750663">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="6750715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750721">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="6750773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750779">`%20dir%3d%22ltr%22`</span><span class="op" id="6750799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750805">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="6750859">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6750865">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="6750908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6750914">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751003">`greeting=H%69&amp;amp;addressee=%28World%29`</span><span class="op" id="6751044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751049">}</span><span class="op" id="6751050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751054">}</span><span class="op" id="6751055">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751064">`&lt;style&gt;body&nbsp;{&nbsp;background:&nbsp;url(&#39;?img={{.}}&#39;)&nbsp;}&lt;/style&gt;`</span><span class="op" id="6751119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751124">[</span><span class="op" id="6751125">]</span><span class="builtintype" id="6751126">string</span><span class="op" id="6751132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751138">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="6751187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751193">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="6751245">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751251">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="6751303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751309">`%20dir%3d%22ltr%22`</span><span class="op" id="6751329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751335">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="6751389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751395">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="6751438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6751444">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;not&nbsp;done.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6751537">`greeting=H%69&amp;addressee=%28World%29`</span><span class="op" id="6751574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751579">}</span><span class="op" id="6751580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751584">}</span><span class="op" id="6751585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751592">for</span>&nbsp;<span class="ident" id="6751596">_</span><span class="op" id="6751597">,</span>&nbsp;<span class="ident" id="6751599">test</span>&nbsp;<span class="op" id="6751604">:=</span>&nbsp;<span class="keyword" id="6751607">range</span>&nbsp;<span class="ident" id="6751613">tests</span>&nbsp;<span class="op" id="6751619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751623">tmpl</span>&nbsp;<span class="op" id="6751628">:=</span>&nbsp;<span class="ident" id="6751631">Must</span><span class="op" id="6751635">(</span><span class="ident" id="6751636">New</span><span class="op" id="6751639">(</span><span class="string" id="6751640">&#34;x&#34;</span><span class="op" id="6751643">)</span><span class="op" id="6751644">.</span><span class="ident" id="6751645">Parse</span><span class="op" id="6751650">(</span><span class="ident" id="6751651">test</span><span class="op" id="6751655">.</span><span class="ident" id="6751656">input</span><span class="op" id="6751661">)</span><span class="op" id="6751662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751666">pre</span>&nbsp;<span class="op" id="6751670">:=</span>&nbsp;<span class="ident" id="6751673">strings</span><span class="op" id="6751680">.</span><span class="ident" id="6751681">Index</span><span class="op" id="6751686">(</span><span class="ident" id="6751687">test</span><span class="op" id="6751691">.</span><span class="ident" id="6751692">input</span><span class="op" id="6751697">,</span>&nbsp;<span class="string" id="6751699">&#34;{{.}}&#34;</span><span class="op" id="6751706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751710">post</span>&nbsp;<span class="op" id="6751715">:=</span>&nbsp;<span class="builtinfunc" id="6751718">len</span><span class="op" id="6751721">(</span><span class="ident" id="6751722">test</span><span class="op" id="6751726">.</span><span class="ident" id="6751727">input</span><span class="op" id="6751732">)</span>&nbsp;<span class="op" id="6751734">-</span>&nbsp;<span class="op" id="6751736">(</span><span class="ident" id="6751737">pre</span>&nbsp;<span class="op" id="6751741">+</span>&nbsp;<span class="num" id="6751743">5</span><span class="op" id="6751744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751748">var</span>&nbsp;<span class="ident" id="6751752">b</span>&nbsp;<span class="ident" id="6751754">bytes</span><span class="op" id="6751759">.</span><span class="ident" id="6751760">Buffer</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751769">for</span>&nbsp;<span class="ident" id="6751773">i</span><span class="op" id="6751774">,</span>&nbsp;<span class="ident" id="6751776">x</span>&nbsp;<span class="op" id="6751778">:=</span>&nbsp;<span class="keyword" id="6751781">range</span>&nbsp;<span class="ident" id="6751787">data</span>&nbsp;<span class="op" id="6751792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751797">b</span><span class="op" id="6751798">.</span><span class="ident" id="6751799">Reset</span><span class="op" id="6751804">(</span><span class="op" id="6751805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751810">if</span>&nbsp;<span class="ident" id="6751813">err</span>&nbsp;<span class="op" id="6751817">:=</span>&nbsp;<span class="ident" id="6751820">tmpl</span><span class="op" id="6751824">.</span><span class="ident" id="6751825">Execute</span><span class="op" id="6751832">(</span><span class="op" id="6751833">&amp;</span><span class="ident" id="6751834">b</span><span class="op" id="6751835">,</span>&nbsp;<span class="ident" id="6751837">x</span><span class="op" id="6751838">)</span><span class="op" id="6751839">;</span>&nbsp;<span class="ident" id="6751841">err</span>&nbsp;<span class="op" id="6751845">!=</span>&nbsp;<span class="ident" id="6751848">nil</span>&nbsp;<span class="op" id="6751852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751858">t</span><span class="op" id="6751859">.</span><span class="ident" id="6751860">Errorf</span><span class="op" id="6751866">(</span><span class="string" id="6751867">&#34;%q&nbsp;with&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6751883">,</span>&nbsp;<span class="ident" id="6751885">test</span><span class="op" id="6751889">.</span><span class="ident" id="6751890">input</span><span class="op" id="6751895">,</span>&nbsp;<span class="ident" id="6751897">x</span><span class="op" id="6751898">,</span>&nbsp;<span class="ident" id="6751900">err</span><span class="op" id="6751903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751909">continue</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751926">if</span>&nbsp;<span class="ident" id="6751929">want</span><span class="op" id="6751933">,</span>&nbsp;<span class="ident" id="6751935">got</span>&nbsp;<span class="op" id="6751939">:=</span>&nbsp;<span class="ident" id="6751942">test</span><span class="op" id="6751946">.</span><span class="ident" id="6751947">want</span><span class="op" id="6751951">[</span><span class="ident" id="6751952">i</span><span class="op" id="6751953">]</span><span class="op" id="6751954">,</span>&nbsp;<span class="ident" id="6751956">b</span><span class="op" id="6751957">.</span><span class="ident" id="6751958">String</span><span class="op" id="6751964">(</span><span class="op" id="6751965">)</span><span class="op" id="6751966">[</span><span class="ident" id="6751967">pre</span><span class="op" id="6751970">:</span><span class="ident" id="6751971">b</span><span class="op" id="6751972">.</span><span class="ident" id="6751973">Len</span><span class="op" id="6751976">(</span><span class="op" id="6751977">)</span><span class="op" id="6751978">-</span><span class="ident" id="6751979">post</span><span class="op" id="6751983">]</span><span class="op" id="6751984">;</span>&nbsp;<span class="ident" id="6751986">want</span>&nbsp;<span class="op" id="6751991">!=</span>&nbsp;<span class="ident" id="6751994">got</span>&nbsp;<span class="op" id="6751998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752004">t</span><span class="op" id="6752005">.</span><span class="ident" id="6752006">Errorf</span><span class="op" id="6752012">(</span><span class="string" id="6752013">&#34;%q&nbsp;with&nbsp;%v:\nwant\n\t%q,\ngot\n\t%q\n&#34;</span><span class="op" id="6752052">,</span>&nbsp;<span class="ident" id="6752054">test</span><span class="op" id="6752058">.</span><span class="ident" id="6752059">input</span><span class="op" id="6752064">,</span>&nbsp;<span class="ident" id="6752066">x</span><span class="op" id="6752067">,</span>&nbsp;<span class="ident" id="6752069">want</span><span class="op" id="6752073">,</span>&nbsp;<span class="ident" id="6752075">got</span><span class="op" id="6752078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752084">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752096">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752103">}</span><br>
<span class="lineno"></span><span class="op" id="6752105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6752108">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;print&nbsp;using&nbsp;the&nbsp;String&nbsp;method.&nbsp;Was&nbsp;issue&nbsp;3073.</span><br>
<span class="lineno">225</span><span class="keyword" id="6752171">type</span>&nbsp;<span class="ident" id="6752176">stringer</span>&nbsp;<span class="keyword" id="6752185">struct</span>&nbsp;<span class="op" id="6752192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752195">v</span>&nbsp;<span class="builtintype" id="6752197">int</span><br>
<span class="lineno"></span><span class="op" id="6752201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752204">func</span>&nbsp;<span class="op" id="6752209">(</span><span class="ident" id="6752210">s</span>&nbsp;<span class="op" id="6752212">*</span><span class="ident" id="6752213">stringer</span><span class="op" id="6752221">)</span>&nbsp;<span class="ident" id="6752223">String</span><span class="op" id="6752229">(</span><span class="op" id="6752230">)</span>&nbsp;<span class="builtintype" id="6752232">string</span>&nbsp;<span class="op" id="6752239">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752242">return</span>&nbsp;<span class="ident" id="6752249">fmt</span><span class="op" id="6752252">.</span><span class="ident" id="6752253">Sprintf</span><span class="op" id="6752260">(</span><span class="string" id="6752261">&#34;string=%d&#34;</span><span class="op" id="6752272">,</span>&nbsp;<span class="ident" id="6752274">s</span><span class="op" id="6752275">.</span><span class="ident" id="6752276">v</span><span class="op" id="6752277">)</span><br>
<span class="lineno"></span><span class="op" id="6752279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752282">type</span>&nbsp;<span class="ident" id="6752287">errorer</span>&nbsp;<span class="keyword" id="6752295">struct</span>&nbsp;<span class="op" id="6752302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752305">v</span>&nbsp;<span class="builtintype" id="6752307">int</span><br>
<span class="lineno">235</span><span class="op" id="6752311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752314">func</span>&nbsp;<span class="op" id="6752319">(</span><span class="ident" id="6752320">s</span>&nbsp;<span class="op" id="6752322">*</span><span class="ident" id="6752323">errorer</span><span class="op" id="6752330">)</span>&nbsp;<span class="ident" id="6752332">Error</span><span class="op" id="6752337">(</span><span class="op" id="6752338">)</span>&nbsp;<span class="builtintype" id="6752340">string</span>&nbsp;<span class="op" id="6752347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752350">return</span>&nbsp;<span class="ident" id="6752357">fmt</span><span class="op" id="6752360">.</span><span class="ident" id="6752361">Sprintf</span><span class="op" id="6752368">(</span><span class="string" id="6752369">&#34;error=%d&#34;</span><span class="op" id="6752379">,</span>&nbsp;<span class="ident" id="6752381">s</span><span class="op" id="6752382">.</span><span class="ident" id="6752383">v</span><span class="op" id="6752384">)</span><br>
<span class="lineno"></span><span class="op" id="6752386">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="6752389">func</span>&nbsp;<span class="ident" id="6752394">TestStringer</span><span class="op" id="6752406">(</span><span class="ident" id="6752407">t</span>&nbsp;<span class="op" id="6752409">*</span><span class="ident" id="6752410">testing</span><span class="op" id="6752417">.</span><span class="ident" id="6752418">T</span><span class="op" id="6752419">)</span>&nbsp;<span class="op" id="6752421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752424">s</span>&nbsp;<span class="op" id="6752426">:=</span>&nbsp;<span class="op" id="6752429">&amp;</span><span class="ident" id="6752430">stringer</span><span class="op" id="6752438">{</span><span class="num" id="6752439">3</span><span class="op" id="6752440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752443">b</span>&nbsp;<span class="op" id="6752445">:=</span>&nbsp;<span class="builtinfunc" id="6752448">new</span><span class="op" id="6752451">(</span><span class="ident" id="6752452">bytes</span><span class="op" id="6752457">.</span><span class="ident" id="6752458">Buffer</span><span class="op" id="6752464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752467">tmpl</span>&nbsp;<span class="op" id="6752472">:=</span>&nbsp;<span class="ident" id="6752475">Must</span><span class="op" id="6752479">(</span><span class="ident" id="6752480">New</span><span class="op" id="6752483">(</span><span class="string" id="6752484">&#34;x&#34;</span><span class="op" id="6752487">)</span><span class="op" id="6752488">.</span><span class="ident" id="6752489">Parse</span><span class="op" id="6752494">(</span><span class="string" id="6752495">&#34;{{.}}&#34;</span><span class="op" id="6752502">)</span><span class="op" id="6752503">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752506">if</span>&nbsp;<span class="ident" id="6752509">err</span>&nbsp;<span class="op" id="6752513">:=</span>&nbsp;<span class="ident" id="6752516">tmpl</span><span class="op" id="6752520">.</span><span class="ident" id="6752521">Execute</span><span class="op" id="6752528">(</span><span class="ident" id="6752529">b</span><span class="op" id="6752530">,</span>&nbsp;<span class="ident" id="6752532">s</span><span class="op" id="6752533">)</span><span class="op" id="6752534">;</span>&nbsp;<span class="ident" id="6752536">err</span>&nbsp;<span class="op" id="6752540">!=</span>&nbsp;<span class="ident" id="6752543">nil</span>&nbsp;<span class="op" id="6752547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752551">t</span><span class="op" id="6752552">.</span><span class="ident" id="6752553">Fatal</span><span class="op" id="6752558">(</span><span class="ident" id="6752559">err</span><span class="op" id="6752562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752568">var</span>&nbsp;<span class="ident" id="6752572">expect</span>&nbsp;<span class="op" id="6752579">=</span>&nbsp;<span class="string" id="6752581">&#34;string=3&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752593">if</span>&nbsp;<span class="ident" id="6752596">b</span><span class="op" id="6752597">.</span><span class="ident" id="6752598">String</span><span class="op" id="6752604">(</span><span class="op" id="6752605">)</span>&nbsp;<span class="op" id="6752607">!=</span>&nbsp;<span class="ident" id="6752610">expect</span>&nbsp;<span class="op" id="6752617">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752621">t</span><span class="op" id="6752622">.</span><span class="ident" id="6752623">Errorf</span><span class="op" id="6752629">(</span><span class="string" id="6752630">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6752650">,</span>&nbsp;<span class="ident" id="6752652">expect</span><span class="op" id="6752658">,</span>&nbsp;<span class="ident" id="6752660">b</span><span class="op" id="6752661">.</span><span class="ident" id="6752662">String</span><span class="op" id="6752668">(</span><span class="op" id="6752669">)</span><span class="op" id="6752670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752676">e</span>&nbsp;<span class="op" id="6752678">:=</span>&nbsp;<span class="op" id="6752681">&amp;</span><span class="ident" id="6752682">errorer</span><span class="op" id="6752689">{</span><span class="num" id="6752690">7</span><span class="op" id="6752691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752694">b</span><span class="op" id="6752695">.</span><span class="ident" id="6752696">Reset</span><span class="op" id="6752701">(</span><span class="op" id="6752702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752705">if</span>&nbsp;<span class="ident" id="6752708">err</span>&nbsp;<span class="op" id="6752712">:=</span>&nbsp;<span class="ident" id="6752715">tmpl</span><span class="op" id="6752719">.</span><span class="ident" id="6752720">Execute</span><span class="op" id="6752727">(</span><span class="ident" id="6752728">b</span><span class="op" id="6752729">,</span>&nbsp;<span class="ident" id="6752731">e</span><span class="op" id="6752732">)</span><span class="op" id="6752733">;</span>&nbsp;<span class="ident" id="6752735">err</span>&nbsp;<span class="op" id="6752739">!=</span>&nbsp;<span class="ident" id="6752742">nil</span>&nbsp;<span class="op" id="6752746">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752750">t</span><span class="op" id="6752751">.</span><span class="ident" id="6752752">Fatal</span><span class="op" id="6752757">(</span><span class="ident" id="6752758">err</span><span class="op" id="6752761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752767">expect</span>&nbsp;<span class="op" id="6752774">=</span>&nbsp;<span class="string" id="6752776">&#34;error=7&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752787">if</span>&nbsp;<span class="ident" id="6752790">b</span><span class="op" id="6752791">.</span><span class="ident" id="6752792">String</span><span class="op" id="6752798">(</span><span class="op" id="6752799">)</span>&nbsp;<span class="op" id="6752801">!=</span>&nbsp;<span class="ident" id="6752804">expect</span>&nbsp;<span class="op" id="6752811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752815">t</span><span class="op" id="6752816">.</span><span class="ident" id="6752817">Errorf</span><span class="op" id="6752823">(</span><span class="string" id="6752824">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6752844">,</span>&nbsp;<span class="ident" id="6752846">expect</span><span class="op" id="6752852">,</span>&nbsp;<span class="ident" id="6752854">b</span><span class="op" id="6752855">.</span><span class="ident" id="6752856">String</span><span class="op" id="6752862">(</span><span class="op" id="6752863">)</span><span class="op" id="6752864">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752867">}</span><br>
<span class="lineno"></span><span class="op" id="6752869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6752872">//&nbsp;https://code.google.com/p/go/issues/detail?id=5982</span><br>
<span class="lineno"></span><span class="keyword" id="6752926">func</span>&nbsp;<span class="ident" id="6752931">TestEscapingNilNonemptyInterfaces</span><span class="op" id="6752964">(</span><span class="ident" id="6752965">t</span>&nbsp;<span class="op" id="6752967">*</span><span class="ident" id="6752968">testing</span><span class="op" id="6752975">.</span><span class="ident" id="6752976">T</span><span class="op" id="6752977">)</span>&nbsp;<span class="op" id="6752979">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752982">tmpl</span>&nbsp;<span class="op" id="6752987">:=</span>&nbsp;<span class="ident" id="6752990">Must</span><span class="op" id="6752994">(</span><span class="ident" id="6752995">New</span><span class="op" id="6752998">(</span><span class="string" id="6752999">&#34;x&#34;</span><span class="op" id="6753002">)</span><span class="op" id="6753003">.</span><span class="ident" id="6753004">Parse</span><span class="op" id="6753009">(</span><span class="string" id="6753010">&#34;{{.E}}&#34;</span><span class="op" id="6753018">)</span><span class="op" id="6753019">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753023">got</span>&nbsp;<span class="op" id="6753027">:=</span>&nbsp;<span class="builtinfunc" id="6753030">new</span><span class="op" id="6753033">(</span><span class="ident" id="6753034">bytes</span><span class="op" id="6753039">.</span><span class="ident" id="6753040">Buffer</span><span class="op" id="6753046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753049">testData</span>&nbsp;<span class="op" id="6753058">:=</span>&nbsp;<span class="keyword" id="6753061">struct</span><span class="op" id="6753067">{</span>&nbsp;<span class="ident" id="6753069">E</span>&nbsp;<span class="builtintype" id="6753071">error</span>&nbsp;<span class="op" id="6753077">}</span><span class="op" id="6753078">{</span><span class="op" id="6753079">}</span>&nbsp;<span class="comment" id="6753081">//&nbsp;any&nbsp;non-empty&nbsp;interface&nbsp;here&nbsp;will&nbsp;do;&nbsp;error&nbsp;is&nbsp;just&nbsp;ready&nbsp;at&nbsp;hand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753151">tmpl</span><span class="op" id="6753155">.</span><span class="ident" id="6753156">Execute</span><span class="op" id="6753163">(</span><span class="ident" id="6753164">got</span><span class="op" id="6753167">,</span>&nbsp;<span class="ident" id="6753169">testData</span><span class="op" id="6753177">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6753181">//&nbsp;Use&nbsp;this&nbsp;data&nbsp;instead&nbsp;of&nbsp;just&nbsp;hard-coding&nbsp;&#34;&amp;lt;nil&amp;gt;&#34;&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6753250">//&nbsp;dependencies&nbsp;on&nbsp;the&nbsp;html&nbsp;escaper&nbsp;and&nbsp;the&nbsp;behavior&nbsp;of&nbsp;fmt&nbsp;w.r.t.&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753323">want</span>&nbsp;<span class="op" id="6753328">:=</span>&nbsp;<span class="builtinfunc" id="6753331">new</span><span class="op" id="6753334">(</span><span class="ident" id="6753335">bytes</span><span class="op" id="6753340">.</span><span class="ident" id="6753341">Buffer</span><span class="op" id="6753347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753350">data</span>&nbsp;<span class="op" id="6753355">:=</span>&nbsp;<span class="keyword" id="6753358">struct</span><span class="op" id="6753364">{</span>&nbsp;<span class="ident" id="6753366">E</span>&nbsp;<span class="builtintype" id="6753368">string</span>&nbsp;<span class="op" id="6753375">}</span><span class="op" id="6753376">{</span><span class="ident" id="6753377">E</span><span class="op" id="6753378">:</span>&nbsp;<span class="ident" id="6753380">fmt</span><span class="op" id="6753383">.</span><span class="ident" id="6753384">Sprint</span><span class="op" id="6753390">(</span><span class="ident" id="6753391">nil</span><span class="op" id="6753394">)</span><span class="op" id="6753395">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753398">tmpl</span><span class="op" id="6753402">.</span><span class="ident" id="6753403">Execute</span><span class="op" id="6753410">(</span><span class="ident" id="6753411">want</span><span class="op" id="6753415">,</span>&nbsp;<span class="ident" id="6753417">data</span><span class="op" id="6753421">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753425">if</span>&nbsp;<span class="op" id="6753428">!</span><span class="ident" id="6753429">bytes</span><span class="op" id="6753434">.</span><span class="ident" id="6753435">Equal</span><span class="op" id="6753440">(</span><span class="ident" id="6753441">want</span><span class="op" id="6753445">.</span><span class="ident" id="6753446">Bytes</span><span class="op" id="6753451">(</span><span class="op" id="6753452">)</span><span class="op" id="6753453">,</span>&nbsp;<span class="ident" id="6753455">got</span><span class="op" id="6753458">.</span><span class="ident" id="6753459">Bytes</span><span class="op" id="6753464">(</span><span class="op" id="6753465">)</span><span class="op" id="6753466">)</span>&nbsp;<span class="op" id="6753468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753472">t</span><span class="op" id="6753473">.</span><span class="ident" id="6753474">Errorf</span><span class="op" id="6753480">(</span><span class="string" id="6753481">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6753501">,</span>&nbsp;<span class="builtintype" id="6753503">string</span><span class="op" id="6753509">(</span><span class="ident" id="6753510">want</span><span class="op" id="6753514">.</span><span class="ident" id="6753515">Bytes</span><span class="op" id="6753520">(</span><span class="op" id="6753521">)</span><span class="op" id="6753522">)</span><span class="op" id="6753523">,</span>&nbsp;<span class="builtintype" id="6753525">string</span><span class="op" id="6753531">(</span><span class="ident" id="6753532">got</span><span class="op" id="6753535">.</span><span class="ident" id="6753536">Bytes</span><span class="op" id="6753541">(</span><span class="op" id="6753542">)</span><span class="op" id="6753543">)</span><span class="op" id="6753544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753547">}</span><br>
<span class="lineno">280</span><span class="op" id="6753549">}</span>
</div>
</body>
</html>
