<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html" class="current">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1728719">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1728774">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1728828">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1728879">package</span>&nbsp;<span class="ident" id="1728887">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1728896">import</span>&nbsp;<span class="op" id="1728903">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1728906">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1728915">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1728918">func</span>&nbsp;<span class="ident" id="1728923">concatstrings</span><span class="op" id="1728936">(</span><span class="ident" id="1728937">a</span>&nbsp;<span class="op" id="1728939">[</span><span class="op" id="1728940">]</span><span class="builtintype" id="1728941">string</span><span class="op" id="1728947">)</span>&nbsp;<span class="builtintype" id="1728949">string</span>&nbsp;<span class="op" id="1728956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1728959">idx</span>&nbsp;<span class="op" id="1728963">:=</span>&nbsp;<span class="num" id="1728966">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1728969">l</span>&nbsp;<span class="op" id="1728971">:=</span>&nbsp;<span class="num" id="1728974">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1728977">count</span>&nbsp;<span class="op" id="1728983">:=</span>&nbsp;<span class="num" id="1728986">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1728989">for</span>&nbsp;<span class="ident" id="1728993">i</span><span class="op" id="1728994">,</span>&nbsp;<span class="ident" id="1728996">x</span>&nbsp;<span class="op" id="1728998">:=</span>&nbsp;<span class="keyword" id="1729001">range</span>&nbsp;<span class="ident" id="1729007">a</span>&nbsp;<span class="op" id="1729009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729013">n</span>&nbsp;<span class="op" id="1729015">:=</span>&nbsp;<span class="builtinfunc" id="1729018">len</span><span class="op" id="1729021">(</span><span class="ident" id="1729022">x</span><span class="op" id="1729023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729027">if</span>&nbsp;<span class="ident" id="1729030">n</span>&nbsp;<span class="op" id="1729032">==</span>&nbsp;<span class="num" id="1729035">0</span>&nbsp;<span class="op" id="1729037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729042">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729053">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729057">if</span>&nbsp;<span class="ident" id="1729060">l</span><span class="op" id="1729061">+</span><span class="ident" id="1729062">n</span>&nbsp;<span class="op" id="1729064">&lt;</span>&nbsp;<span class="ident" id="1729066">l</span>&nbsp;<span class="op" id="1729068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729073">gothrow</span><span class="op" id="1729080">(</span><span class="string" id="1729081">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1729112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729120">l</span>&nbsp;<span class="op" id="1729122">+=</span>&nbsp;<span class="ident" id="1729125">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729129">count</span><span class="op" id="1729134">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729139">idx</span>&nbsp;<span class="op" id="1729143">=</span>&nbsp;<span class="ident" id="1729145">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729151">if</span>&nbsp;<span class="ident" id="1729154">count</span>&nbsp;<span class="op" id="1729160">==</span>&nbsp;<span class="num" id="1729163">0</span>&nbsp;<span class="op" id="1729165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729169">return</span>&nbsp;<span class="string" id="1729176">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729180">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729183">if</span>&nbsp;<span class="ident" id="1729186">count</span>&nbsp;<span class="op" id="1729192">==</span>&nbsp;<span class="num" id="1729195">1</span>&nbsp;<span class="op" id="1729197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729201">return</span>&nbsp;<span class="ident" id="1729208">a</span><span class="op" id="1729209">[</span><span class="ident" id="1729210">idx</span><span class="op" id="1729213">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729219">s</span><span class="op" id="1729220">,</span>&nbsp;<span class="ident" id="1729222">b</span>&nbsp;<span class="op" id="1729224">:=</span>&nbsp;<span class="ident" id="1729227">rawstring</span><span class="op" id="1729236">(</span><span class="ident" id="1729237">l</span><span class="op" id="1729238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729241">l</span>&nbsp;<span class="op" id="1729243">=</span>&nbsp;<span class="num" id="1729245">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729248">for</span>&nbsp;<span class="ident" id="1729252">_</span><span class="op" id="1729253">,</span>&nbsp;<span class="ident" id="1729255">x</span>&nbsp;<span class="op" id="1729257">:=</span>&nbsp;<span class="keyword" id="1729260">range</span>&nbsp;<span class="ident" id="1729266">a</span>&nbsp;<span class="op" id="1729268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1729272">copy</span><span class="op" id="1729276">(</span><span class="ident" id="1729277">b</span><span class="op" id="1729278">[</span><span class="ident" id="1729279">l</span><span class="op" id="1729280">:</span><span class="op" id="1729281">]</span><span class="op" id="1729282">,</span>&nbsp;<span class="ident" id="1729284">x</span><span class="op" id="1729285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729289">l</span>&nbsp;<span class="op" id="1729291">+=</span>&nbsp;<span class="builtinfunc" id="1729294">len</span><span class="op" id="1729297">(</span><span class="ident" id="1729298">x</span><span class="op" id="1729299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729305">return</span>&nbsp;<span class="ident" id="1729312">s</span><br>
<span class="lineno">40</span><span class="op" id="1729314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1729317">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1729330">func</span>&nbsp;<span class="ident" id="1729335">concatstring2</span><span class="op" id="1729348">(</span><span class="ident" id="1729349">a</span>&nbsp;<span class="op" id="1729351">[</span><span class="num" id="1729352">2</span><span class="op" id="1729353">]</span><span class="builtintype" id="1729354">string</span><span class="op" id="1729360">)</span>&nbsp;<span class="builtintype" id="1729362">string</span>&nbsp;<span class="op" id="1729369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729372">return</span>&nbsp;<span class="ident" id="1729379">concatstrings</span><span class="op" id="1729392">(</span><span class="ident" id="1729393">a</span><span class="op" id="1729394">[</span><span class="op" id="1729395">:</span><span class="op" id="1729396">]</span><span class="op" id="1729397">)</span><br>
<span class="lineno">45</span><span class="op" id="1729399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1729402">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1729415">func</span>&nbsp;<span class="ident" id="1729420">concatstring3</span><span class="op" id="1729433">(</span><span class="ident" id="1729434">a</span>&nbsp;<span class="op" id="1729436">[</span><span class="num" id="1729437">3</span><span class="op" id="1729438">]</span><span class="builtintype" id="1729439">string</span><span class="op" id="1729445">)</span>&nbsp;<span class="builtintype" id="1729447">string</span>&nbsp;<span class="op" id="1729454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729457">return</span>&nbsp;<span class="ident" id="1729464">concatstrings</span><span class="op" id="1729477">(</span><span class="ident" id="1729478">a</span><span class="op" id="1729479">[</span><span class="op" id="1729480">:</span><span class="op" id="1729481">]</span><span class="op" id="1729482">)</span><br>
<span class="lineno">50</span><span class="op" id="1729484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1729487">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1729500">func</span>&nbsp;<span class="ident" id="1729505">concatstring4</span><span class="op" id="1729518">(</span><span class="ident" id="1729519">a</span>&nbsp;<span class="op" id="1729521">[</span><span class="num" id="1729522">4</span><span class="op" id="1729523">]</span><span class="builtintype" id="1729524">string</span><span class="op" id="1729530">)</span>&nbsp;<span class="builtintype" id="1729532">string</span>&nbsp;<span class="op" id="1729539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729542">return</span>&nbsp;<span class="ident" id="1729549">concatstrings</span><span class="op" id="1729562">(</span><span class="ident" id="1729563">a</span><span class="op" id="1729564">[</span><span class="op" id="1729565">:</span><span class="op" id="1729566">]</span><span class="op" id="1729567">)</span><br>
<span class="lineno">55</span><span class="op" id="1729569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1729572">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1729585">func</span>&nbsp;<span class="ident" id="1729590">concatstring5</span><span class="op" id="1729603">(</span><span class="ident" id="1729604">a</span>&nbsp;<span class="op" id="1729606">[</span><span class="num" id="1729607">5</span><span class="op" id="1729608">]</span><span class="builtintype" id="1729609">string</span><span class="op" id="1729615">)</span>&nbsp;<span class="builtintype" id="1729617">string</span>&nbsp;<span class="op" id="1729624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729627">return</span>&nbsp;<span class="ident" id="1729634">concatstrings</span><span class="op" id="1729647">(</span><span class="ident" id="1729648">a</span><span class="op" id="1729649">[</span><span class="op" id="1729650">:</span><span class="op" id="1729651">]</span><span class="op" id="1729652">)</span><br>
<span class="lineno">60</span><span class="op" id="1729654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1729657">func</span>&nbsp;<span class="ident" id="1729662">slicebytetostring</span><span class="op" id="1729679">(</span><span class="ident" id="1729680">b</span>&nbsp;<span class="op" id="1729682">[</span><span class="op" id="1729683">]</span><span class="builtintype" id="1729684">byte</span><span class="op" id="1729688">)</span>&nbsp;<span class="builtintype" id="1729690">string</span>&nbsp;<span class="op" id="1729697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729700">if</span>&nbsp;<span class="ident" id="1729703">raceenabled</span>&nbsp;<span class="op" id="1729715">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1729718">len</span><span class="op" id="1729721">(</span><span class="ident" id="1729722">b</span><span class="op" id="1729723">)</span>&nbsp;<span class="op" id="1729725">&gt;</span>&nbsp;<span class="num" id="1729727">0</span>&nbsp;<span class="op" id="1729729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729733">racereadrangepc</span><span class="op" id="1729748">(</span><span class="ident" id="1729749">unsafe</span><span class="op" id="1729755">.</span><span class="ident" id="1729756">Pointer</span><span class="op" id="1729763">(</span><span class="op" id="1729764">&amp;</span><span class="ident" id="1729765">b</span><span class="op" id="1729766">[</span><span class="num" id="1729767">0</span><span class="op" id="1729768">]</span><span class="op" id="1729769">)</span><span class="op" id="1729770">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1729775">uintptr</span><span class="op" id="1729782">(</span><span class="builtinfunc" id="1729783">len</span><span class="op" id="1729786">(</span><span class="ident" id="1729787">b</span><span class="op" id="1729788">)</span><span class="op" id="1729789">)</span><span class="op" id="1729790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729795">getcallerpc</span><span class="op" id="1729806">(</span><span class="ident" id="1729807">unsafe</span><span class="op" id="1729813">.</span><span class="ident" id="1729814">Pointer</span><span class="op" id="1729821">(</span><span class="op" id="1729822">&amp;</span><span class="ident" id="1729823">b</span><span class="op" id="1729824">)</span><span class="op" id="1729825">)</span><span class="op" id="1729826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729831">funcPC</span><span class="op" id="1729837">(</span><span class="ident" id="1729838">slicebytetostring</span><span class="op" id="1729855">)</span><span class="op" id="1729856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1729859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1729862">s</span><span class="op" id="1729863">,</span>&nbsp;<span class="ident" id="1729865">c</span>&nbsp;<span class="op" id="1729867">:=</span>&nbsp;<span class="ident" id="1729870">rawstring</span><span class="op" id="1729879">(</span><span class="builtinfunc" id="1729880">len</span><span class="op" id="1729883">(</span><span class="ident" id="1729884">b</span><span class="op" id="1729885">)</span><span class="op" id="1729886">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1729889">copy</span><span class="op" id="1729893">(</span><span class="ident" id="1729894">c</span><span class="op" id="1729895">,</span>&nbsp;<span class="ident" id="1729897">b</span><span class="op" id="1729898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1729901">return</span>&nbsp;<span class="ident" id="1729908">s</span><br>
<span class="lineno"></span><span class="op" id="1729910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1729913">func</span>&nbsp;<span class="ident" id="1729918">slicebytetostringtmp</span><span class="op" id="1729938">(</span><span class="ident" id="1729939">b</span>&nbsp;<span class="op" id="1729941">[</span><span class="op" id="1729942">]</span><span class="builtintype" id="1729943">byte</span><span class="op" id="1729947">)</span>&nbsp;<span class="builtintype" id="1729949">string</span>&nbsp;<span class="op" id="1729956">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1729959">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730019">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730079">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730139">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730200">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730249">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730310">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730358">if</span>&nbsp;<span class="ident" id="1730361">raceenabled</span>&nbsp;<span class="op" id="1730373">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1730376">len</span><span class="op" id="1730379">(</span><span class="ident" id="1730380">b</span><span class="op" id="1730381">)</span>&nbsp;<span class="op" id="1730383">&gt;</span>&nbsp;<span class="num" id="1730385">0</span>&nbsp;<span class="op" id="1730387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730391">racereadrangepc</span><span class="op" id="1730406">(</span><span class="ident" id="1730407">unsafe</span><span class="op" id="1730413">.</span><span class="ident" id="1730414">Pointer</span><span class="op" id="1730421">(</span><span class="op" id="1730422">&amp;</span><span class="ident" id="1730423">b</span><span class="op" id="1730424">[</span><span class="num" id="1730425">0</span><span class="op" id="1730426">]</span><span class="op" id="1730427">)</span><span class="op" id="1730428">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1730433">uintptr</span><span class="op" id="1730440">(</span><span class="builtinfunc" id="1730441">len</span><span class="op" id="1730444">(</span><span class="ident" id="1730445">b</span><span class="op" id="1730446">)</span><span class="op" id="1730447">)</span><span class="op" id="1730448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730453">getcallerpc</span><span class="op" id="1730464">(</span><span class="ident" id="1730465">unsafe</span><span class="op" id="1730471">.</span><span class="ident" id="1730472">Pointer</span><span class="op" id="1730479">(</span><span class="op" id="1730480">&amp;</span><span class="ident" id="1730481">b</span><span class="op" id="1730482">)</span><span class="op" id="1730483">)</span><span class="op" id="1730484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730489">funcPC</span><span class="op" id="1730495">(</span><span class="ident" id="1730496">slicebytetostringtmp</span><span class="op" id="1730516">)</span><span class="op" id="1730517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1730520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730523">return</span>&nbsp;<span class="op" id="1730530">*</span><span class="op" id="1730531">(</span><span class="op" id="1730532">*</span><span class="builtintype" id="1730533">string</span><span class="op" id="1730539">)</span><span class="op" id="1730540">(</span><span class="ident" id="1730541">unsafe</span><span class="op" id="1730547">.</span><span class="ident" id="1730548">Pointer</span><span class="op" id="1730555">(</span><span class="op" id="1730556">&amp;</span><span class="ident" id="1730557">b</span><span class="op" id="1730558">)</span><span class="op" id="1730559">)</span><br>
<span class="lineno">90</span><span class="op" id="1730561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1730564">func</span>&nbsp;<span class="ident" id="1730569">stringtoslicebyte</span><span class="op" id="1730586">(</span><span class="ident" id="1730587">s</span>&nbsp;<span class="builtintype" id="1730589">string</span><span class="op" id="1730595">)</span>&nbsp;<span class="op" id="1730597">[</span><span class="op" id="1730598">]</span><span class="builtintype" id="1730599">byte</span>&nbsp;<span class="op" id="1730604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730607">b</span>&nbsp;<span class="op" id="1730609">:=</span>&nbsp;<span class="ident" id="1730612">rawbyteslice</span><span class="op" id="1730624">(</span><span class="builtinfunc" id="1730625">len</span><span class="op" id="1730628">(</span><span class="ident" id="1730629">s</span><span class="op" id="1730630">)</span><span class="op" id="1730631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1730634">copy</span><span class="op" id="1730638">(</span><span class="ident" id="1730639">b</span><span class="op" id="1730640">,</span>&nbsp;<span class="ident" id="1730642">s</span><span class="op" id="1730643">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730646">return</span>&nbsp;<span class="ident" id="1730653">b</span><br>
<span class="lineno"></span><span class="op" id="1730655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1730658">func</span>&nbsp;<span class="ident" id="1730663">stringtoslicerune</span><span class="op" id="1730680">(</span><span class="ident" id="1730681">s</span>&nbsp;<span class="builtintype" id="1730683">string</span><span class="op" id="1730689">)</span>&nbsp;<span class="op" id="1730691">[</span><span class="op" id="1730692">]</span><span class="builtintype" id="1730693">rune</span>&nbsp;<span class="op" id="1730698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730701">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1730717">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730786">n</span>&nbsp;<span class="op" id="1730788">:=</span>&nbsp;<span class="num" id="1730791">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730794">t</span>&nbsp;<span class="op" id="1730796">:=</span>&nbsp;<span class="ident" id="1730799">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730802">for</span>&nbsp;<span class="builtinfunc" id="1730806">len</span><span class="op" id="1730809">(</span><span class="ident" id="1730810">s</span><span class="op" id="1730811">)</span>&nbsp;<span class="op" id="1730813">&gt;</span>&nbsp;<span class="num" id="1730815">0</span>&nbsp;<span class="op" id="1730817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730821">_</span><span class="op" id="1730822">,</span>&nbsp;<span class="ident" id="1730824">k</span>&nbsp;<span class="op" id="1730826">:=</span>&nbsp;<span class="ident" id="1730829">charntorune</span><span class="op" id="1730840">(</span><span class="ident" id="1730841">s</span><span class="op" id="1730842">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730846">s</span>&nbsp;<span class="op" id="1730848">=</span>&nbsp;<span class="ident" id="1730850">s</span><span class="op" id="1730851">[</span><span class="ident" id="1730852">k</span><span class="op" id="1730853">:</span><span class="op" id="1730854">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730858">n</span><span class="op" id="1730859">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1730863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730866">a</span>&nbsp;<span class="op" id="1730868">:=</span>&nbsp;<span class="ident" id="1730871">rawruneslice</span><span class="op" id="1730883">(</span><span class="ident" id="1730884">n</span><span class="op" id="1730885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730888">n</span>&nbsp;<span class="op" id="1730890">=</span>&nbsp;<span class="num" id="1730892">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730895">for</span>&nbsp;<span class="builtinfunc" id="1730899">len</span><span class="op" id="1730902">(</span><span class="ident" id="1730903">t</span><span class="op" id="1730904">)</span>&nbsp;<span class="op" id="1730906">&gt;</span>&nbsp;<span class="num" id="1730908">0</span>&nbsp;<span class="op" id="1730910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730914">r</span><span class="op" id="1730915">,</span>&nbsp;<span class="ident" id="1730917">k</span>&nbsp;<span class="op" id="1730919">:=</span>&nbsp;<span class="ident" id="1730922">charntorune</span><span class="op" id="1730933">(</span><span class="ident" id="1730934">t</span><span class="op" id="1730935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730939">t</span>&nbsp;<span class="op" id="1730941">=</span>&nbsp;<span class="ident" id="1730943">t</span><span class="op" id="1730944">[</span><span class="ident" id="1730945">k</span><span class="op" id="1730946">:</span><span class="op" id="1730947">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730951">a</span><span class="op" id="1730952">[</span><span class="ident" id="1730953">n</span><span class="op" id="1730954">]</span>&nbsp;<span class="op" id="1730956">=</span>&nbsp;<span class="ident" id="1730958">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1730962">n</span><span class="op" id="1730963">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1730967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1730970">return</span>&nbsp;<span class="ident" id="1730977">a</span><br>
<span class="lineno"></span><span class="op" id="1730979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1730982">func</span>&nbsp;<span class="ident" id="1730987">slicerunetostring</span><span class="op" id="1731004">(</span><span class="ident" id="1731005">a</span>&nbsp;<span class="op" id="1731007">[</span><span class="op" id="1731008">]</span><span class="builtintype" id="1731009">rune</span><span class="op" id="1731013">)</span>&nbsp;<span class="builtintype" id="1731015">string</span>&nbsp;<span class="op" id="1731022">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731025">if</span>&nbsp;<span class="ident" id="1731028">raceenabled</span>&nbsp;<span class="op" id="1731040">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1731043">len</span><span class="op" id="1731046">(</span><span class="ident" id="1731047">a</span><span class="op" id="1731048">)</span>&nbsp;<span class="op" id="1731050">&gt;</span>&nbsp;<span class="num" id="1731052">0</span>&nbsp;<span class="op" id="1731054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731058">racereadrangepc</span><span class="op" id="1731073">(</span><span class="ident" id="1731074">unsafe</span><span class="op" id="1731080">.</span><span class="ident" id="1731081">Pointer</span><span class="op" id="1731088">(</span><span class="op" id="1731089">&amp;</span><span class="ident" id="1731090">a</span><span class="op" id="1731091">[</span><span class="num" id="1731092">0</span><span class="op" id="1731093">]</span><span class="op" id="1731094">)</span><span class="op" id="1731095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1731100">uintptr</span><span class="op" id="1731107">(</span><span class="builtinfunc" id="1731108">len</span><span class="op" id="1731111">(</span><span class="ident" id="1731112">a</span><span class="op" id="1731113">)</span><span class="op" id="1731114">)</span><span class="op" id="1731115">*</span><span class="ident" id="1731116">unsafe</span><span class="op" id="1731122">.</span><span class="ident" id="1731123">Sizeof</span><span class="op" id="1731129">(</span><span class="ident" id="1731130">a</span><span class="op" id="1731131">[</span><span class="num" id="1731132">0</span><span class="op" id="1731133">]</span><span class="op" id="1731134">)</span><span class="op" id="1731135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731140">getcallerpc</span><span class="op" id="1731151">(</span><span class="ident" id="1731152">unsafe</span><span class="op" id="1731158">.</span><span class="ident" id="1731159">Pointer</span><span class="op" id="1731166">(</span><span class="op" id="1731167">&amp;</span><span class="ident" id="1731168">a</span><span class="op" id="1731169">)</span><span class="op" id="1731170">)</span><span class="op" id="1731171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731176">funcPC</span><span class="op" id="1731182">(</span><span class="ident" id="1731183">slicerunetostring</span><span class="op" id="1731200">)</span><span class="op" id="1731201">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731207">var</span>&nbsp;<span class="ident" id="1731211">dum</span>&nbsp;<span class="op" id="1731215">[</span><span class="num" id="1731216">4</span><span class="op" id="1731217">]</span><span class="builtintype" id="1731218">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731224">size1</span>&nbsp;<span class="op" id="1731230">:=</span>&nbsp;<span class="num" id="1731233">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731236">for</span>&nbsp;<span class="ident" id="1731240">_</span><span class="op" id="1731241">,</span>&nbsp;<span class="ident" id="1731243">r</span>&nbsp;<span class="op" id="1731245">:=</span>&nbsp;<span class="keyword" id="1731248">range</span>&nbsp;<span class="ident" id="1731254">a</span>&nbsp;<span class="op" id="1731256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731260">size1</span>&nbsp;<span class="op" id="1731266">+=</span>&nbsp;<span class="ident" id="1731269">runetochar</span><span class="op" id="1731279">(</span><span class="ident" id="1731280">dum</span><span class="op" id="1731283">[</span><span class="op" id="1731284">:</span><span class="op" id="1731285">]</span><span class="op" id="1731286">,</span>&nbsp;<span class="ident" id="1731288">r</span><span class="op" id="1731289">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731295">s</span><span class="op" id="1731296">,</span>&nbsp;<span class="ident" id="1731298">b</span>&nbsp;<span class="op" id="1731300">:=</span>&nbsp;<span class="ident" id="1731303">rawstring</span><span class="op" id="1731312">(</span><span class="ident" id="1731313">size1</span>&nbsp;<span class="op" id="1731319">+</span>&nbsp;<span class="num" id="1731321">3</span><span class="op" id="1731322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731325">size2</span>&nbsp;<span class="op" id="1731331">:=</span>&nbsp;<span class="num" id="1731334">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731337">for</span>&nbsp;<span class="ident" id="1731341">_</span><span class="op" id="1731342">,</span>&nbsp;<span class="ident" id="1731344">r</span>&nbsp;<span class="op" id="1731346">:=</span>&nbsp;<span class="keyword" id="1731349">range</span>&nbsp;<span class="ident" id="1731355">a</span>&nbsp;<span class="op" id="1731357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1731361">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731381">if</span>&nbsp;<span class="ident" id="1731384">size2</span>&nbsp;<span class="op" id="1731390">&gt;=</span>&nbsp;<span class="ident" id="1731393">size1</span>&nbsp;<span class="op" id="1731399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731404">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731416">size2</span>&nbsp;<span class="op" id="1731422">+=</span>&nbsp;<span class="ident" id="1731425">runetochar</span><span class="op" id="1731435">(</span><span class="ident" id="1731436">b</span><span class="op" id="1731437">[</span><span class="ident" id="1731438">size2</span><span class="op" id="1731443">:</span><span class="op" id="1731444">]</span><span class="op" id="1731445">,</span>&nbsp;<span class="ident" id="1731447">r</span><span class="op" id="1731448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731451">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731454">return</span>&nbsp;<span class="ident" id="1731461">s</span><span class="op" id="1731462">[</span><span class="op" id="1731463">:</span><span class="ident" id="1731464">size2</span><span class="op" id="1731469">]</span><br>
<span class="lineno"></span><span class="op" id="1731471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1731474">type</span>&nbsp;<span class="ident" id="1731479">stringStruct</span>&nbsp;<span class="keyword" id="1731492">struct</span>&nbsp;<span class="op" id="1731499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731502">str</span>&nbsp;<span class="ident" id="1731506">unsafe</span><span class="op" id="1731512">.</span><span class="ident" id="1731513">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1731522">len</span>&nbsp;<span class="builtintype" id="1731526">int</span><br>
<span class="lineno"></span><span class="op" id="1731530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1731533">func</span>&nbsp;<span class="ident" id="1731538">intstring</span><span class="op" id="1731547">(</span><span class="ident" id="1731548">v</span>&nbsp;<span class="ident" id="1731550">int64</span><span class="op" id="1731555">)</span>&nbsp;<span class="builtintype" id="1731557">string</span>&nbsp;<span class="op" id="1731564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731567">s</span><span class="op" id="1731568">,</span>&nbsp;<span class="ident" id="1731570">b</span>&nbsp;<span class="op" id="1731572">:=</span>&nbsp;<span class="ident" id="1731575">rawstring</span><span class="op" id="1731584">(</span><span class="num" id="1731585">4</span><span class="op" id="1731586">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731589">n</span>&nbsp;<span class="op" id="1731591">:=</span>&nbsp;<span class="ident" id="1731594">runetochar</span><span class="op" id="1731604">(</span><span class="ident" id="1731605">b</span><span class="op" id="1731606">,</span>&nbsp;<span class="builtintype" id="1731608">rune</span><span class="op" id="1731612">(</span><span class="ident" id="1731613">v</span><span class="op" id="1731614">)</span><span class="op" id="1731615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731618">return</span>&nbsp;<span class="ident" id="1731625">s</span><span class="op" id="1731626">[</span><span class="op" id="1731627">:</span><span class="ident" id="1731628">n</span><span class="op" id="1731629">]</span><br>
<span class="lineno"></span><span class="op" id="1731631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1731634">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1731678">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1731722">func</span>&nbsp;<span class="ident" id="1731727">stringiter</span><span class="op" id="1731737">(</span><span class="ident" id="1731738">s</span>&nbsp;<span class="builtintype" id="1731740">string</span><span class="op" id="1731746">,</span>&nbsp;<span class="ident" id="1731748">k</span>&nbsp;<span class="builtintype" id="1731750">int</span><span class="op" id="1731753">)</span>&nbsp;<span class="builtintype" id="1731755">int</span>&nbsp;<span class="op" id="1731759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731762">if</span>&nbsp;<span class="ident" id="1731765">k</span>&nbsp;<span class="op" id="1731767">&gt;=</span>&nbsp;<span class="builtinfunc" id="1731770">len</span><span class="op" id="1731773">(</span><span class="ident" id="1731774">s</span><span class="op" id="1731775">)</span>&nbsp;<span class="op" id="1731777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1731781">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731808">return</span>&nbsp;<span class="num" id="1731815">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731822">c</span>&nbsp;<span class="op" id="1731824">:=</span>&nbsp;<span class="ident" id="1731827">s</span><span class="op" id="1731828">[</span><span class="ident" id="1731829">k</span><span class="op" id="1731830">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731833">if</span>&nbsp;<span class="ident" id="1731836">c</span>&nbsp;<span class="op" id="1731838">&lt;</span>&nbsp;<span class="ident" id="1731840">runeself</span>&nbsp;<span class="op" id="1731849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731853">return</span>&nbsp;<span class="ident" id="1731860">k</span>&nbsp;<span class="op" id="1731862">+</span>&nbsp;<span class="num" id="1731864">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1731867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1731871">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731891">_</span><span class="op" id="1731892">,</span>&nbsp;<span class="ident" id="1731894">n</span>&nbsp;<span class="op" id="1731896">:=</span>&nbsp;<span class="ident" id="1731899">charntorune</span><span class="op" id="1731910">(</span><span class="ident" id="1731911">s</span><span class="op" id="1731912">[</span><span class="ident" id="1731913">k</span><span class="op" id="1731914">:</span><span class="op" id="1731915">]</span><span class="op" id="1731916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1731919">return</span>&nbsp;<span class="ident" id="1731926">k</span>&nbsp;<span class="op" id="1731928">+</span>&nbsp;<span class="ident" id="1731930">n</span><br>
<span class="lineno">170</span><span class="op" id="1731932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1731935">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1731987">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1732032">func</span>&nbsp;<span class="ident" id="1732037">stringiter2</span><span class="op" id="1732048">(</span><span class="ident" id="1732049">s</span>&nbsp;<span class="builtintype" id="1732051">string</span><span class="op" id="1732057">,</span>&nbsp;<span class="ident" id="1732059">k</span>&nbsp;<span class="builtintype" id="1732061">int</span><span class="op" id="1732064">)</span>&nbsp;<span class="op" id="1732066">(</span><span class="builtintype" id="1732067">int</span><span class="op" id="1732070">,</span>&nbsp;<span class="builtintype" id="1732072">rune</span><span class="op" id="1732076">)</span>&nbsp;<span class="op" id="1732078">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732081">if</span>&nbsp;<span class="ident" id="1732084">k</span>&nbsp;<span class="op" id="1732086">&gt;=</span>&nbsp;<span class="builtinfunc" id="1732089">len</span><span class="op" id="1732092">(</span><span class="ident" id="1732093">s</span><span class="op" id="1732094">)</span>&nbsp;<span class="op" id="1732096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1732100">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732127">return</span>&nbsp;<span class="num" id="1732134">0</span><span class="op" id="1732135">,</span>&nbsp;<span class="num" id="1732137">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1732144">c</span>&nbsp;<span class="op" id="1732146">:=</span>&nbsp;<span class="ident" id="1732149">s</span><span class="op" id="1732150">[</span><span class="ident" id="1732151">k</span><span class="op" id="1732152">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732155">if</span>&nbsp;<span class="ident" id="1732158">c</span>&nbsp;<span class="op" id="1732160">&lt;</span>&nbsp;<span class="ident" id="1732162">runeself</span>&nbsp;<span class="op" id="1732171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732175">return</span>&nbsp;<span class="ident" id="1732182">k</span>&nbsp;<span class="op" id="1732184">+</span>&nbsp;<span class="num" id="1732186">1</span><span class="op" id="1732187">,</span>&nbsp;<span class="builtintype" id="1732189">rune</span><span class="op" id="1732193">(</span><span class="ident" id="1732194">c</span><span class="op" id="1732195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1732202">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1732222">r</span><span class="op" id="1732223">,</span>&nbsp;<span class="ident" id="1732225">n</span>&nbsp;<span class="op" id="1732227">:=</span>&nbsp;<span class="ident" id="1732230">charntorune</span><span class="op" id="1732241">(</span><span class="ident" id="1732242">s</span><span class="op" id="1732243">[</span><span class="ident" id="1732244">k</span><span class="op" id="1732245">:</span><span class="op" id="1732246">]</span><span class="op" id="1732247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732250">return</span>&nbsp;<span class="ident" id="1732257">k</span>&nbsp;<span class="op" id="1732259">+</span>&nbsp;<span class="ident" id="1732261">n</span><span class="op" id="1732262">,</span>&nbsp;<span class="ident" id="1732264">r</span><br>
<span class="lineno"></span><span class="op" id="1732266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1732269">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1732331">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1732388">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1732437">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1732486">func</span>&nbsp;<span class="ident" id="1732491">rawstring</span><span class="op" id="1732500">(</span><span class="ident" id="1732501">size</span>&nbsp;<span class="builtintype" id="1732506">int</span><span class="op" id="1732509">)</span>&nbsp;<span class="op" id="1732511">(</span><span class="ident" id="1732512">s</span>&nbsp;<span class="builtintype" id="1732514">string</span><span class="op" id="1732520">,</span>&nbsp;<span class="ident" id="1732522">b</span>&nbsp;<span class="op" id="1732524">[</span><span class="op" id="1732525">]</span><span class="builtintype" id="1732526">byte</span><span class="op" id="1732530">)</span>&nbsp;<span class="op" id="1732532">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1732535">p</span>&nbsp;<span class="op" id="1732537">:=</span>&nbsp;<span class="ident" id="1732540">mallocgc</span><span class="op" id="1732548">(</span><span class="builtintype" id="1732549">uintptr</span><span class="op" id="1732556">(</span><span class="ident" id="1732557">size</span><span class="op" id="1732561">)</span><span class="op" id="1732562">,</span>&nbsp;<span class="ident" id="1732564">nil</span><span class="op" id="1732567">,</span>&nbsp;<span class="ident" id="1732569">flagNoScan</span><span class="op" id="1732579">|</span><span class="ident" id="1732580">flagNoZero</span><span class="op" id="1732590">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732594">(</span><span class="op" id="1732595">*</span><span class="ident" id="1732596">stringStruct</span><span class="op" id="1732608">)</span><span class="op" id="1732609">(</span><span class="ident" id="1732610">unsafe</span><span class="op" id="1732616">.</span><span class="ident" id="1732617">Pointer</span><span class="op" id="1732624">(</span><span class="op" id="1732625">&amp;</span><span class="ident" id="1732626">s</span><span class="op" id="1732627">)</span><span class="op" id="1732628">)</span><span class="op" id="1732629">.</span><span class="ident" id="1732630">str</span>&nbsp;<span class="op" id="1732634">=</span>&nbsp;<span class="ident" id="1732636">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732639">(</span><span class="op" id="1732640">*</span><span class="ident" id="1732641">stringStruct</span><span class="op" id="1732653">)</span><span class="op" id="1732654">(</span><span class="ident" id="1732655">unsafe</span><span class="op" id="1732661">.</span><span class="ident" id="1732662">Pointer</span><span class="op" id="1732669">(</span><span class="op" id="1732670">&amp;</span><span class="ident" id="1732671">s</span><span class="op" id="1732672">)</span><span class="op" id="1732673">)</span><span class="op" id="1732674">.</span><span class="builtinfunc" id="1732675">len</span>&nbsp;<span class="op" id="1732679">=</span>&nbsp;<span class="ident" id="1732681">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732688">(</span><span class="op" id="1732689">*</span><span class="ident" id="1732690">slice</span><span class="op" id="1732695">)</span><span class="op" id="1732696">(</span><span class="ident" id="1732697">unsafe</span><span class="op" id="1732703">.</span><span class="ident" id="1732704">Pointer</span><span class="op" id="1732711">(</span><span class="op" id="1732712">&amp;</span><span class="ident" id="1732713">b</span><span class="op" id="1732714">)</span><span class="op" id="1732715">)</span><span class="op" id="1732716">.</span><span class="ident" id="1732717">array</span>&nbsp;<span class="op" id="1732723">=</span>&nbsp;<span class="op" id="1732725">(</span><span class="op" id="1732726">*</span><span class="builtintype" id="1732727">uint8</span><span class="op" id="1732732">)</span><span class="op" id="1732733">(</span><span class="ident" id="1732734">p</span><span class="op" id="1732735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732738">(</span><span class="op" id="1732739">*</span><span class="ident" id="1732740">slice</span><span class="op" id="1732745">)</span><span class="op" id="1732746">(</span><span class="ident" id="1732747">unsafe</span><span class="op" id="1732753">.</span><span class="ident" id="1732754">Pointer</span><span class="op" id="1732761">(</span><span class="op" id="1732762">&amp;</span><span class="ident" id="1732763">b</span><span class="op" id="1732764">)</span><span class="op" id="1732765">)</span><span class="op" id="1732766">.</span><span class="builtinfunc" id="1732767">len</span>&nbsp;<span class="op" id="1732771">=</span>&nbsp;<span class="builtintype" id="1732773">uint</span><span class="op" id="1732777">(</span><span class="ident" id="1732778">size</span><span class="op" id="1732782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732785">(</span><span class="op" id="1732786">*</span><span class="ident" id="1732787">slice</span><span class="op" id="1732792">)</span><span class="op" id="1732793">(</span><span class="ident" id="1732794">unsafe</span><span class="op" id="1732800">.</span><span class="ident" id="1732801">Pointer</span><span class="op" id="1732808">(</span><span class="op" id="1732809">&amp;</span><span class="ident" id="1732810">b</span><span class="op" id="1732811">)</span><span class="op" id="1732812">)</span><span class="op" id="1732813">.</span><span class="builtinfunc" id="1732814">cap</span>&nbsp;<span class="op" id="1732818">=</span>&nbsp;<span class="builtintype" id="1732820">uint</span><span class="op" id="1732824">(</span><span class="ident" id="1732825">size</span><span class="op" id="1732829">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732833">for</span>&nbsp;<span class="op" id="1732837">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1732841">ms</span>&nbsp;<span class="op" id="1732844">:=</span>&nbsp;<span class="ident" id="1732847">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732859">if</span>&nbsp;<span class="builtintype" id="1732862">uintptr</span><span class="op" id="1732869">(</span><span class="ident" id="1732870">size</span><span class="op" id="1732874">)</span>&nbsp;<span class="op" id="1732876">&lt;=</span>&nbsp;<span class="builtintype" id="1732879">uintptr</span><span class="op" id="1732886">(</span><span class="ident" id="1732887">ms</span><span class="op" id="1732889">)</span>&nbsp;<span class="op" id="1732891">||</span>&nbsp;<span class="ident" id="1732894">casuintptr</span><span class="op" id="1732904">(</span><span class="op" id="1732905">(</span><span class="op" id="1732906">*</span><span class="builtintype" id="1732907">uintptr</span><span class="op" id="1732914">)</span><span class="op" id="1732915">(</span><span class="ident" id="1732916">unsafe</span><span class="op" id="1732922">.</span><span class="ident" id="1732923">Pointer</span><span class="op" id="1732930">(</span><span class="op" id="1732931">&amp;</span><span class="ident" id="1732932">maxstring</span><span class="op" id="1732941">)</span><span class="op" id="1732942">)</span><span class="op" id="1732943">,</span>&nbsp;<span class="builtintype" id="1732945">uintptr</span><span class="op" id="1732952">(</span><span class="ident" id="1732953">ms</span><span class="op" id="1732955">)</span><span class="op" id="1732956">,</span>&nbsp;<span class="builtintype" id="1732958">uintptr</span><span class="op" id="1732965">(</span><span class="ident" id="1732966">size</span><span class="op" id="1732970">)</span><span class="op" id="1732971">)</span>&nbsp;<span class="op" id="1732973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1732978">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1732990">}</span><br>
<span class="lineno">210</span><span class="op" id="1732992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1732995">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1733069">func</span>&nbsp;<span class="ident" id="1733074">rawbyteslice</span><span class="op" id="1733086">(</span><span class="ident" id="1733087">size</span>&nbsp;<span class="builtintype" id="1733092">int</span><span class="op" id="1733095">)</span>&nbsp;<span class="op" id="1733097">(</span><span class="ident" id="1733098">b</span>&nbsp;<span class="op" id="1733100">[</span><span class="op" id="1733101">]</span><span class="builtintype" id="1733102">byte</span><span class="op" id="1733106">)</span>&nbsp;<span class="op" id="1733108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1733111">cap</span>&nbsp;<span class="op" id="1733115">:=</span>&nbsp;<span class="ident" id="1733118">goroundupsize</span><span class="op" id="1733131">(</span><span class="builtintype" id="1733132">uintptr</span><span class="op" id="1733139">(</span><span class="ident" id="1733140">size</span><span class="op" id="1733144">)</span><span class="op" id="1733145">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733148">p</span>&nbsp;<span class="op" id="1733150">:=</span>&nbsp;<span class="ident" id="1733153">mallocgc</span><span class="op" id="1733161">(</span><span class="builtinfunc" id="1733162">cap</span><span class="op" id="1733165">,</span>&nbsp;<span class="ident" id="1733167">nil</span><span class="op" id="1733170">,</span>&nbsp;<span class="ident" id="1733172">flagNoScan</span><span class="op" id="1733182">|</span><span class="ident" id="1733183">flagNoZero</span><span class="op" id="1733193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733196">if</span>&nbsp;<span class="builtinfunc" id="1733199">cap</span>&nbsp;<span class="op" id="1733203">!=</span>&nbsp;<span class="builtintype" id="1733206">uintptr</span><span class="op" id="1733213">(</span><span class="ident" id="1733214">size</span><span class="op" id="1733218">)</span>&nbsp;<span class="op" id="1733220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733224">memclr</span><span class="op" id="1733230">(</span><span class="ident" id="1733231">add</span><span class="op" id="1733234">(</span><span class="ident" id="1733235">p</span><span class="op" id="1733236">,</span>&nbsp;<span class="builtintype" id="1733238">uintptr</span><span class="op" id="1733245">(</span><span class="ident" id="1733246">size</span><span class="op" id="1733250">)</span><span class="op" id="1733251">)</span><span class="op" id="1733252">,</span>&nbsp;<span class="builtinfunc" id="1733254">cap</span><span class="op" id="1733257">-</span><span class="builtintype" id="1733258">uintptr</span><span class="op" id="1733265">(</span><span class="ident" id="1733266">size</span><span class="op" id="1733270">)</span><span class="op" id="1733271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733278">(</span><span class="op" id="1733279">*</span><span class="ident" id="1733280">slice</span><span class="op" id="1733285">)</span><span class="op" id="1733286">(</span><span class="ident" id="1733287">unsafe</span><span class="op" id="1733293">.</span><span class="ident" id="1733294">Pointer</span><span class="op" id="1733301">(</span><span class="op" id="1733302">&amp;</span><span class="ident" id="1733303">b</span><span class="op" id="1733304">)</span><span class="op" id="1733305">)</span><span class="op" id="1733306">.</span><span class="ident" id="1733307">array</span>&nbsp;<span class="op" id="1733313">=</span>&nbsp;<span class="op" id="1733315">(</span><span class="op" id="1733316">*</span><span class="builtintype" id="1733317">uint8</span><span class="op" id="1733322">)</span><span class="op" id="1733323">(</span><span class="ident" id="1733324">p</span><span class="op" id="1733325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733328">(</span><span class="op" id="1733329">*</span><span class="ident" id="1733330">slice</span><span class="op" id="1733335">)</span><span class="op" id="1733336">(</span><span class="ident" id="1733337">unsafe</span><span class="op" id="1733343">.</span><span class="ident" id="1733344">Pointer</span><span class="op" id="1733351">(</span><span class="op" id="1733352">&amp;</span><span class="ident" id="1733353">b</span><span class="op" id="1733354">)</span><span class="op" id="1733355">)</span><span class="op" id="1733356">.</span><span class="builtinfunc" id="1733357">len</span>&nbsp;<span class="op" id="1733361">=</span>&nbsp;<span class="builtintype" id="1733363">uint</span><span class="op" id="1733367">(</span><span class="ident" id="1733368">size</span><span class="op" id="1733372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733375">(</span><span class="op" id="1733376">*</span><span class="ident" id="1733377">slice</span><span class="op" id="1733382">)</span><span class="op" id="1733383">(</span><span class="ident" id="1733384">unsafe</span><span class="op" id="1733390">.</span><span class="ident" id="1733391">Pointer</span><span class="op" id="1733398">(</span><span class="op" id="1733399">&amp;</span><span class="ident" id="1733400">b</span><span class="op" id="1733401">)</span><span class="op" id="1733402">)</span><span class="op" id="1733403">.</span><span class="builtinfunc" id="1733404">cap</span>&nbsp;<span class="op" id="1733408">=</span>&nbsp;<span class="builtintype" id="1733410">uint</span><span class="op" id="1733414">(</span><span class="builtinfunc" id="1733415">cap</span><span class="op" id="1733418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733421">return</span><br>
<span class="lineno"></span><span class="op" id="1733428">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1733431">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1733505">func</span>&nbsp;<span class="ident" id="1733510">rawruneslice</span><span class="op" id="1733522">(</span><span class="ident" id="1733523">size</span>&nbsp;<span class="builtintype" id="1733528">int</span><span class="op" id="1733531">)</span>&nbsp;<span class="op" id="1733533">(</span><span class="ident" id="1733534">b</span>&nbsp;<span class="op" id="1733536">[</span><span class="op" id="1733537">]</span><span class="builtintype" id="1733538">rune</span><span class="op" id="1733542">)</span>&nbsp;<span class="op" id="1733544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733547">if</span>&nbsp;<span class="builtintype" id="1733550">uintptr</span><span class="op" id="1733557">(</span><span class="ident" id="1733558">size</span><span class="op" id="1733562">)</span>&nbsp;<span class="op" id="1733564">&gt;</span>&nbsp;<span class="ident" id="1733566">maxmem</span><span class="op" id="1733572">/</span><span class="num" id="1733573">4</span>&nbsp;<span class="op" id="1733575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733579">gothrow</span><span class="op" id="1733586">(</span><span class="string" id="1733587">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1733602">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733608">mem</span>&nbsp;<span class="op" id="1733612">:=</span>&nbsp;<span class="ident" id="1733615">goroundupsize</span><span class="op" id="1733628">(</span><span class="builtintype" id="1733629">uintptr</span><span class="op" id="1733636">(</span><span class="ident" id="1733637">size</span><span class="op" id="1733641">)</span>&nbsp;<span class="op" id="1733643">*</span>&nbsp;<span class="num" id="1733645">4</span><span class="op" id="1733646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733649">p</span>&nbsp;<span class="op" id="1733651">:=</span>&nbsp;<span class="ident" id="1733654">mallocgc</span><span class="op" id="1733662">(</span><span class="ident" id="1733663">mem</span><span class="op" id="1733666">,</span>&nbsp;<span class="ident" id="1733668">nil</span><span class="op" id="1733671">,</span>&nbsp;<span class="ident" id="1733673">flagNoScan</span><span class="op" id="1733683">|</span><span class="ident" id="1733684">flagNoZero</span><span class="op" id="1733694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733697">if</span>&nbsp;<span class="ident" id="1733700">mem</span>&nbsp;<span class="op" id="1733704">!=</span>&nbsp;<span class="builtintype" id="1733707">uintptr</span><span class="op" id="1733714">(</span><span class="ident" id="1733715">size</span><span class="op" id="1733719">)</span><span class="op" id="1733720">*</span><span class="num" id="1733721">4</span>&nbsp;<span class="op" id="1733723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733727">memclr</span><span class="op" id="1733733">(</span><span class="ident" id="1733734">add</span><span class="op" id="1733737">(</span><span class="ident" id="1733738">p</span><span class="op" id="1733739">,</span>&nbsp;<span class="builtintype" id="1733741">uintptr</span><span class="op" id="1733748">(</span><span class="ident" id="1733749">size</span><span class="op" id="1733753">)</span><span class="op" id="1733754">*</span><span class="num" id="1733755">4</span><span class="op" id="1733756">)</span><span class="op" id="1733757">,</span>&nbsp;<span class="ident" id="1733759">mem</span><span class="op" id="1733762">-</span><span class="builtintype" id="1733763">uintptr</span><span class="op" id="1733770">(</span><span class="ident" id="1733771">size</span><span class="op" id="1733775">)</span><span class="op" id="1733776">*</span><span class="num" id="1733777">4</span><span class="op" id="1733778">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733785">(</span><span class="op" id="1733786">*</span><span class="ident" id="1733787">slice</span><span class="op" id="1733792">)</span><span class="op" id="1733793">(</span><span class="ident" id="1733794">unsafe</span><span class="op" id="1733800">.</span><span class="ident" id="1733801">Pointer</span><span class="op" id="1733808">(</span><span class="op" id="1733809">&amp;</span><span class="ident" id="1733810">b</span><span class="op" id="1733811">)</span><span class="op" id="1733812">)</span><span class="op" id="1733813">.</span><span class="ident" id="1733814">array</span>&nbsp;<span class="op" id="1733820">=</span>&nbsp;<span class="op" id="1733822">(</span><span class="op" id="1733823">*</span><span class="builtintype" id="1733824">uint8</span><span class="op" id="1733829">)</span><span class="op" id="1733830">(</span><span class="ident" id="1733831">p</span><span class="op" id="1733832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733835">(</span><span class="op" id="1733836">*</span><span class="ident" id="1733837">slice</span><span class="op" id="1733842">)</span><span class="op" id="1733843">(</span><span class="ident" id="1733844">unsafe</span><span class="op" id="1733850">.</span><span class="ident" id="1733851">Pointer</span><span class="op" id="1733858">(</span><span class="op" id="1733859">&amp;</span><span class="ident" id="1733860">b</span><span class="op" id="1733861">)</span><span class="op" id="1733862">)</span><span class="op" id="1733863">.</span><span class="builtinfunc" id="1733864">len</span>&nbsp;<span class="op" id="1733868">=</span>&nbsp;<span class="builtintype" id="1733870">uint</span><span class="op" id="1733874">(</span><span class="ident" id="1733875">size</span><span class="op" id="1733879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1733882">(</span><span class="op" id="1733883">*</span><span class="ident" id="1733884">slice</span><span class="op" id="1733889">)</span><span class="op" id="1733890">(</span><span class="ident" id="1733891">unsafe</span><span class="op" id="1733897">.</span><span class="ident" id="1733898">Pointer</span><span class="op" id="1733905">(</span><span class="op" id="1733906">&amp;</span><span class="ident" id="1733907">b</span><span class="op" id="1733908">)</span><span class="op" id="1733909">)</span><span class="op" id="1733910">.</span><span class="builtinfunc" id="1733911">cap</span>&nbsp;<span class="op" id="1733915">=</span>&nbsp;<span class="builtintype" id="1733917">uint</span><span class="op" id="1733921">(</span><span class="ident" id="1733922">mem</span>&nbsp;<span class="op" id="1733926">/</span>&nbsp;<span class="num" id="1733928">4</span><span class="op" id="1733929">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733932">return</span><br>
<span class="lineno"></span><span class="op" id="1733939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1733942">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1733961">func</span>&nbsp;<span class="ident" id="1733966">gobytes</span><span class="op" id="1733973">(</span><span class="ident" id="1733974">p</span>&nbsp;<span class="op" id="1733976">*</span><span class="builtintype" id="1733977">byte</span><span class="op" id="1733981">,</span>&nbsp;<span class="ident" id="1733983">n</span>&nbsp;<span class="builtintype" id="1733985">int</span><span class="op" id="1733988">)</span>&nbsp;<span class="op" id="1733990">[</span><span class="op" id="1733991">]</span><span class="builtintype" id="1733992">byte</span>&nbsp;<span class="op" id="1733997">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734000">if</span>&nbsp;<span class="ident" id="1734003">n</span>&nbsp;<span class="op" id="1734005">==</span>&nbsp;<span class="num" id="1734008">0</span>&nbsp;<span class="op" id="1734010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734014">return</span>&nbsp;<span class="builtinfunc" id="1734021">make</span><span class="op" id="1734025">(</span><span class="op" id="1734026">[</span><span class="op" id="1734027">]</span><span class="builtintype" id="1734028">byte</span><span class="op" id="1734032">,</span>&nbsp;<span class="num" id="1734034">0</span><span class="op" id="1734035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734041">x</span>&nbsp;<span class="op" id="1734043">:=</span>&nbsp;<span class="builtinfunc" id="1734046">make</span><span class="op" id="1734050">(</span><span class="op" id="1734051">[</span><span class="op" id="1734052">]</span><span class="builtintype" id="1734053">byte</span><span class="op" id="1734057">,</span>&nbsp;<span class="ident" id="1734059">n</span><span class="op" id="1734060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734063">memmove</span><span class="op" id="1734070">(</span><span class="ident" id="1734071">unsafe</span><span class="op" id="1734077">.</span><span class="ident" id="1734078">Pointer</span><span class="op" id="1734085">(</span><span class="op" id="1734086">&amp;</span><span class="ident" id="1734087">x</span><span class="op" id="1734088">[</span><span class="num" id="1734089">0</span><span class="op" id="1734090">]</span><span class="op" id="1734091">)</span><span class="op" id="1734092">,</span>&nbsp;<span class="ident" id="1734094">unsafe</span><span class="op" id="1734100">.</span><span class="ident" id="1734101">Pointer</span><span class="op" id="1734108">(</span><span class="ident" id="1734109">p</span><span class="op" id="1734110">)</span><span class="op" id="1734111">,</span>&nbsp;<span class="builtintype" id="1734113">uintptr</span><span class="op" id="1734120">(</span><span class="ident" id="1734121">n</span><span class="op" id="1734122">)</span><span class="op" id="1734123">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734126">return</span>&nbsp;<span class="ident" id="1734133">x</span><br>
<span class="lineno"></span><span class="op" id="1734135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1734138">func</span>&nbsp;<span class="ident" id="1734143">gostringsize</span><span class="op" id="1734155">(</span><span class="ident" id="1734156">n</span>&nbsp;<span class="builtintype" id="1734158">int</span><span class="op" id="1734161">)</span>&nbsp;<span class="builtintype" id="1734163">string</span>&nbsp;<span class="op" id="1734170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734173">s</span><span class="op" id="1734174">,</span>&nbsp;<span class="ident" id="1734176">_</span>&nbsp;<span class="op" id="1734178">:=</span>&nbsp;<span class="ident" id="1734181">rawstring</span><span class="op" id="1734190">(</span><span class="ident" id="1734191">n</span><span class="op" id="1734192">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734195">return</span>&nbsp;<span class="ident" id="1734202">s</span><br>
<span class="lineno"></span><span class="op" id="1734204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734207">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734221">func</span>&nbsp;<span class="ident" id="1734226">findnull</span><span class="op" id="1734234">(</span><span class="op" id="1734235">*</span><span class="builtintype" id="1734236">byte</span><span class="op" id="1734240">)</span>&nbsp;<span class="builtintype" id="1734242">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1734247">func</span>&nbsp;<span class="ident" id="1734252">gostring</span><span class="op" id="1734260">(</span><span class="ident" id="1734261">p</span>&nbsp;<span class="op" id="1734263">*</span><span class="builtintype" id="1734264">byte</span><span class="op" id="1734268">)</span>&nbsp;<span class="builtintype" id="1734270">string</span>&nbsp;<span class="op" id="1734277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734280">l</span>&nbsp;<span class="op" id="1734282">:=</span>&nbsp;<span class="ident" id="1734285">findnull</span><span class="op" id="1734293">(</span><span class="ident" id="1734294">p</span><span class="op" id="1734295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734298">if</span>&nbsp;<span class="ident" id="1734301">l</span>&nbsp;<span class="op" id="1734303">==</span>&nbsp;<span class="num" id="1734306">0</span>&nbsp;<span class="op" id="1734308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734312">return</span>&nbsp;<span class="string" id="1734319">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734326">s</span><span class="op" id="1734327">,</span>&nbsp;<span class="ident" id="1734329">b</span>&nbsp;<span class="op" id="1734331">:=</span>&nbsp;<span class="ident" id="1734334">rawstring</span><span class="op" id="1734343">(</span><span class="ident" id="1734344">l</span><span class="op" id="1734345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734348">memmove</span><span class="op" id="1734355">(</span><span class="ident" id="1734356">unsafe</span><span class="op" id="1734362">.</span><span class="ident" id="1734363">Pointer</span><span class="op" id="1734370">(</span><span class="op" id="1734371">&amp;</span><span class="ident" id="1734372">b</span><span class="op" id="1734373">[</span><span class="num" id="1734374">0</span><span class="op" id="1734375">]</span><span class="op" id="1734376">)</span><span class="op" id="1734377">,</span>&nbsp;<span class="ident" id="1734379">unsafe</span><span class="op" id="1734385">.</span><span class="ident" id="1734386">Pointer</span><span class="op" id="1734393">(</span><span class="ident" id="1734394">p</span><span class="op" id="1734395">)</span><span class="op" id="1734396">,</span>&nbsp;<span class="builtintype" id="1734398">uintptr</span><span class="op" id="1734405">(</span><span class="ident" id="1734406">l</span><span class="op" id="1734407">)</span><span class="op" id="1734408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734411">return</span>&nbsp;<span class="ident" id="1734418">s</span><br>
<span class="lineno"></span><span class="op" id="1734420">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1734423">func</span>&nbsp;<span class="ident" id="1734428">gostringn</span><span class="op" id="1734437">(</span><span class="ident" id="1734438">p</span>&nbsp;<span class="op" id="1734440">*</span><span class="builtintype" id="1734441">byte</span><span class="op" id="1734445">,</span>&nbsp;<span class="ident" id="1734447">l</span>&nbsp;<span class="builtintype" id="1734449">int</span><span class="op" id="1734452">)</span>&nbsp;<span class="builtintype" id="1734454">string</span>&nbsp;<span class="op" id="1734461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734464">if</span>&nbsp;<span class="ident" id="1734467">l</span>&nbsp;<span class="op" id="1734469">==</span>&nbsp;<span class="num" id="1734472">0</span>&nbsp;<span class="op" id="1734474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734478">return</span>&nbsp;<span class="string" id="1734485">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734489">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734492">s</span><span class="op" id="1734493">,</span>&nbsp;<span class="ident" id="1734495">b</span>&nbsp;<span class="op" id="1734497">:=</span>&nbsp;<span class="ident" id="1734500">rawstring</span><span class="op" id="1734509">(</span><span class="ident" id="1734510">l</span><span class="op" id="1734511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1734514">memmove</span><span class="op" id="1734521">(</span><span class="ident" id="1734522">unsafe</span><span class="op" id="1734528">.</span><span class="ident" id="1734529">Pointer</span><span class="op" id="1734536">(</span><span class="op" id="1734537">&amp;</span><span class="ident" id="1734538">b</span><span class="op" id="1734539">[</span><span class="num" id="1734540">0</span><span class="op" id="1734541">]</span><span class="op" id="1734542">)</span><span class="op" id="1734543">,</span>&nbsp;<span class="ident" id="1734545">unsafe</span><span class="op" id="1734551">.</span><span class="ident" id="1734552">Pointer</span><span class="op" id="1734559">(</span><span class="ident" id="1734560">p</span><span class="op" id="1734561">)</span><span class="op" id="1734562">,</span>&nbsp;<span class="builtintype" id="1734564">uintptr</span><span class="op" id="1734571">(</span><span class="ident" id="1734572">l</span><span class="op" id="1734573">)</span><span class="op" id="1734574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734577">return</span>&nbsp;<span class="ident" id="1734584">s</span><br>
<span class="lineno"></span><span class="op" id="1734586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1734589">func</span>&nbsp;<span class="ident" id="1734594">index</span><span class="op" id="1734599">(</span><span class="ident" id="1734600">s</span><span class="op" id="1734601">,</span>&nbsp;<span class="ident" id="1734603">t</span>&nbsp;<span class="builtintype" id="1734605">string</span><span class="op" id="1734611">)</span>&nbsp;<span class="builtintype" id="1734613">int</span>&nbsp;<span class="op" id="1734617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734620">if</span>&nbsp;<span class="builtinfunc" id="1734623">len</span><span class="op" id="1734626">(</span><span class="ident" id="1734627">t</span><span class="op" id="1734628">)</span>&nbsp;<span class="op" id="1734630">==</span>&nbsp;<span class="num" id="1734633">0</span>&nbsp;<span class="op" id="1734635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734639">return</span>&nbsp;<span class="num" id="1734646">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734652">for</span>&nbsp;<span class="ident" id="1734656">i</span>&nbsp;<span class="op" id="1734658">:=</span>&nbsp;<span class="num" id="1734661">0</span><span class="op" id="1734662">;</span>&nbsp;<span class="ident" id="1734664">i</span>&nbsp;<span class="op" id="1734666">&lt;</span>&nbsp;<span class="builtinfunc" id="1734668">len</span><span class="op" id="1734671">(</span><span class="ident" id="1734672">s</span><span class="op" id="1734673">)</span><span class="op" id="1734674">;</span>&nbsp;<span class="ident" id="1734676">i</span><span class="op" id="1734677">++</span>&nbsp;<span class="op" id="1734680">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734684">if</span>&nbsp;<span class="ident" id="1734687">s</span><span class="op" id="1734688">[</span><span class="ident" id="1734689">i</span><span class="op" id="1734690">]</span>&nbsp;<span class="op" id="1734692">==</span>&nbsp;<span class="ident" id="1734695">t</span><span class="op" id="1734696">[</span><span class="num" id="1734697">0</span><span class="op" id="1734698">]</span>&nbsp;<span class="op" id="1734700">&amp;&amp;</span>&nbsp;<span class="ident" id="1734703">hasprefix</span><span class="op" id="1734712">(</span><span class="ident" id="1734713">s</span><span class="op" id="1734714">[</span><span class="ident" id="1734715">i</span><span class="op" id="1734716">:</span><span class="op" id="1734717">]</span><span class="op" id="1734718">,</span>&nbsp;<span class="ident" id="1734720">t</span><span class="op" id="1734721">)</span>&nbsp;<span class="op" id="1734723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734728">return</span>&nbsp;<span class="ident" id="1734735">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1734742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734745">return</span>&nbsp;<span class="op" id="1734752">-</span><span class="num" id="1734753">1</span><br>
<span class="lineno">290</span><span class="op" id="1734755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1734758">func</span>&nbsp;<span class="ident" id="1734763">contains</span><span class="op" id="1734771">(</span><span class="ident" id="1734772">s</span><span class="op" id="1734773">,</span>&nbsp;<span class="ident" id="1734775">t</span>&nbsp;<span class="builtintype" id="1734777">string</span><span class="op" id="1734783">)</span>&nbsp;<span class="builtintype" id="1734785">bool</span>&nbsp;<span class="op" id="1734790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734793">return</span>&nbsp;<span class="ident" id="1734800">index</span><span class="op" id="1734805">(</span><span class="ident" id="1734806">s</span><span class="op" id="1734807">,</span>&nbsp;<span class="ident" id="1734809">t</span><span class="op" id="1734810">)</span>&nbsp;<span class="op" id="1734812">&gt;=</span>&nbsp;<span class="num" id="1734815">0</span><br>
<span class="lineno"></span><span class="op" id="1734817">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1734820">func</span>&nbsp;<span class="ident" id="1734825">hasprefix</span><span class="op" id="1734834">(</span><span class="ident" id="1734835">s</span><span class="op" id="1734836">,</span>&nbsp;<span class="ident" id="1734838">t</span>&nbsp;<span class="builtintype" id="1734840">string</span><span class="op" id="1734846">)</span>&nbsp;<span class="builtintype" id="1734848">bool</span>&nbsp;<span class="op" id="1734853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1734856">return</span>&nbsp;<span class="builtinfunc" id="1734863">len</span><span class="op" id="1734866">(</span><span class="ident" id="1734867">s</span><span class="op" id="1734868">)</span>&nbsp;<span class="op" id="1734870">&gt;=</span>&nbsp;<span class="builtinfunc" id="1734873">len</span><span class="op" id="1734876">(</span><span class="ident" id="1734877">t</span><span class="op" id="1734878">)</span>&nbsp;<span class="op" id="1734880">&amp;&amp;</span>&nbsp;<span class="ident" id="1734883">s</span><span class="op" id="1734884">[</span><span class="op" id="1734885">:</span><span class="builtinfunc" id="1734886">len</span><span class="op" id="1734889">(</span><span class="ident" id="1734890">t</span><span class="op" id="1734891">)</span><span class="op" id="1734892">]</span>&nbsp;<span class="op" id="1734894">==</span>&nbsp;<span class="ident" id="1734897">t</span><br>
<span class="lineno"></span><span class="op" id="1734899">}</span>
</div>
</body>
</html>
