<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html" class="current">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5626451">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5626510">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5626565">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5626619">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5626670">package</span>&nbsp;<span class="ident" id="5626678">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5626683">import</span>&nbsp;<span class="op" id="5626690">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5626693">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5626703">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5626706">var</span>&nbsp;<span class="ident" id="5626710">encArrayHelper</span>&nbsp;<span class="op" id="5626725">=</span>&nbsp;<span class="keyword" id="5626727">map</span><span class="op" id="5626730">[</span><span class="ident" id="5626731">reflect</span><span class="op" id="5626738">.</span><span class="ident" id="5626739">Kind</span><span class="op" id="5626743">]</span><span class="ident" id="5626744">encHelper</span><span class="op" id="5626753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626756">reflect</span><span class="op" id="5626763">.</span><span class="ident" id="5626764">Bool</span><span class="op" id="5626768">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626776">encBoolArray</span><span class="op" id="5626788">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626791">reflect</span><span class="op" id="5626798">.</span><span class="ident" id="5626799">Complex64</span><span class="op" id="5626808">:</span>&nbsp;&nbsp;<span class="ident" id="5626811">encComplex64Array</span><span class="op" id="5626828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626831">reflect</span><span class="op" id="5626838">.</span><span class="ident" id="5626839">Complex128</span><span class="op" id="5626849">:</span>&nbsp;<span class="ident" id="5626851">encComplex128Array</span><span class="op" id="5626869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626872">reflect</span><span class="op" id="5626879">.</span><span class="ident" id="5626880">Float32</span><span class="op" id="5626887">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626892">encFloat32Array</span><span class="op" id="5626907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626910">reflect</span><span class="op" id="5626917">.</span><span class="ident" id="5626918">Float64</span><span class="op" id="5626925">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626930">encFloat64Array</span><span class="op" id="5626945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626948">reflect</span><span class="op" id="5626955">.</span><span class="ident" id="5626956">Int</span><span class="op" id="5626959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626968">encIntArray</span><span class="op" id="5626979">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5626982">reflect</span><span class="op" id="5626989">.</span><span class="ident" id="5626990">Int16</span><span class="op" id="5626995">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627002">encInt16Array</span><span class="op" id="5627015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627018">reflect</span><span class="op" id="5627025">.</span><span class="ident" id="5627026">Int32</span><span class="op" id="5627031">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627038">encInt32Array</span><span class="op" id="5627051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627054">reflect</span><span class="op" id="5627061">.</span><span class="ident" id="5627062">Int64</span><span class="op" id="5627067">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627074">encInt64Array</span><span class="op" id="5627087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627090">reflect</span><span class="op" id="5627097">.</span><span class="ident" id="5627098">Int8</span><span class="op" id="5627102">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627110">encInt8Array</span><span class="op" id="5627122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627125">reflect</span><span class="op" id="5627132">.</span><span class="ident" id="5627133">String</span><span class="op" id="5627139">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627145">encStringArray</span><span class="op" id="5627159">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627162">reflect</span><span class="op" id="5627169">.</span><span class="ident" id="5627170">Uint</span><span class="op" id="5627174">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627182">encUintArray</span><span class="op" id="5627194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627197">reflect</span><span class="op" id="5627204">.</span><span class="ident" id="5627205">Uint16</span><span class="op" id="5627211">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627217">encUint16Array</span><span class="op" id="5627231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627234">reflect</span><span class="op" id="5627241">.</span><span class="ident" id="5627242">Uint32</span><span class="op" id="5627248">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627254">encUint32Array</span><span class="op" id="5627268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627271">reflect</span><span class="op" id="5627278">.</span><span class="ident" id="5627279">Uint64</span><span class="op" id="5627285">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627291">encUint64Array</span><span class="op" id="5627305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627308">reflect</span><span class="op" id="5627315">.</span><span class="ident" id="5627316">Uintptr</span><span class="op" id="5627323">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627328">encUintptrArray</span><span class="op" id="5627343">,</span><br>
<span class="lineno">30</span><span class="op" id="5627345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5627348">var</span>&nbsp;<span class="ident" id="5627352">encSliceHelper</span>&nbsp;<span class="op" id="5627367">=</span>&nbsp;<span class="keyword" id="5627369">map</span><span class="op" id="5627372">[</span><span class="ident" id="5627373">reflect</span><span class="op" id="5627380">.</span><span class="ident" id="5627381">Kind</span><span class="op" id="5627385">]</span><span class="ident" id="5627386">encHelper</span><span class="op" id="5627395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627398">reflect</span><span class="op" id="5627405">.</span><span class="ident" id="5627406">Bool</span><span class="op" id="5627410">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627418">encBoolSlice</span><span class="op" id="5627430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627433">reflect</span><span class="op" id="5627440">.</span><span class="ident" id="5627441">Complex64</span><span class="op" id="5627450">:</span>&nbsp;&nbsp;<span class="ident" id="5627453">encComplex64Slice</span><span class="op" id="5627470">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627473">reflect</span><span class="op" id="5627480">.</span><span class="ident" id="5627481">Complex128</span><span class="op" id="5627491">:</span>&nbsp;<span class="ident" id="5627493">encComplex128Slice</span><span class="op" id="5627511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627514">reflect</span><span class="op" id="5627521">.</span><span class="ident" id="5627522">Float32</span><span class="op" id="5627529">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627534">encFloat32Slice</span><span class="op" id="5627549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627552">reflect</span><span class="op" id="5627559">.</span><span class="ident" id="5627560">Float64</span><span class="op" id="5627567">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627572">encFloat64Slice</span><span class="op" id="5627587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627590">reflect</span><span class="op" id="5627597">.</span><span class="ident" id="5627598">Int</span><span class="op" id="5627601">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627610">encIntSlice</span><span class="op" id="5627621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627624">reflect</span><span class="op" id="5627631">.</span><span class="ident" id="5627632">Int16</span><span class="op" id="5627637">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627644">encInt16Slice</span><span class="op" id="5627657">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627660">reflect</span><span class="op" id="5627667">.</span><span class="ident" id="5627668">Int32</span><span class="op" id="5627673">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627680">encInt32Slice</span><span class="op" id="5627693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627696">reflect</span><span class="op" id="5627703">.</span><span class="ident" id="5627704">Int64</span><span class="op" id="5627709">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627716">encInt64Slice</span><span class="op" id="5627729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627732">reflect</span><span class="op" id="5627739">.</span><span class="ident" id="5627740">Int8</span><span class="op" id="5627744">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627752">encInt8Slice</span><span class="op" id="5627764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627767">reflect</span><span class="op" id="5627774">.</span><span class="ident" id="5627775">String</span><span class="op" id="5627781">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627787">encStringSlice</span><span class="op" id="5627801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627804">reflect</span><span class="op" id="5627811">.</span><span class="ident" id="5627812">Uint</span><span class="op" id="5627816">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627824">encUintSlice</span><span class="op" id="5627836">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627839">reflect</span><span class="op" id="5627846">.</span><span class="ident" id="5627847">Uint16</span><span class="op" id="5627853">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627859">encUint16Slice</span><span class="op" id="5627873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627876">reflect</span><span class="op" id="5627883">.</span><span class="ident" id="5627884">Uint32</span><span class="op" id="5627890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627896">encUint32Slice</span><span class="op" id="5627910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627913">reflect</span><span class="op" id="5627920">.</span><span class="ident" id="5627921">Uint64</span><span class="op" id="5627927">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627933">encUint64Slice</span><span class="op" id="5627947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627950">reflect</span><span class="op" id="5627957">.</span><span class="ident" id="5627958">Uintptr</span><span class="op" id="5627965">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5627970">encUintptrSlice</span><span class="op" id="5627985">,</span><br>
<span class="lineno"></span><span class="op" id="5627987">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5627990">func</span>&nbsp;<span class="ident" id="5627995">encBoolArray</span><span class="op" id="5628007">(</span><span class="ident" id="5628008">state</span>&nbsp;<span class="op" id="5628014">*</span><span class="ident" id="5628015">encoderState</span><span class="op" id="5628027">,</span>&nbsp;<span class="ident" id="5628029">v</span>&nbsp;<span class="ident" id="5628031">reflect</span><span class="op" id="5628038">.</span><span class="ident" id="5628039">Value</span><span class="op" id="5628044">)</span>&nbsp;<span class="builtintype" id="5628046">bool</span>&nbsp;<span class="op" id="5628051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5628054">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628095">if</span>&nbsp;<span class="op" id="5628098">!</span><span class="ident" id="5628099">v</span><span class="op" id="5628100">.</span><span class="ident" id="5628101">CanAddr</span><span class="op" id="5628108">(</span><span class="op" id="5628109">)</span>&nbsp;<span class="op" id="5628111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628115">return</span>&nbsp;<span class="builtintype" id="5628122">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628132">return</span>&nbsp;<span class="ident" id="5628139">encBoolSlice</span><span class="op" id="5628151">(</span><span class="ident" id="5628152">state</span><span class="op" id="5628157">,</span>&nbsp;<span class="ident" id="5628159">v</span><span class="op" id="5628160">.</span><span class="ident" id="5628161">Slice</span><span class="op" id="5628166">(</span><span class="num" id="5628167">0</span><span class="op" id="5628168">,</span>&nbsp;<span class="ident" id="5628170">v</span><span class="op" id="5628171">.</span><span class="ident" id="5628172">Len</span><span class="op" id="5628175">(</span><span class="op" id="5628176">)</span><span class="op" id="5628177">)</span><span class="op" id="5628178">)</span><br>
<span class="lineno"></span><span class="op" id="5628180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5628183">func</span>&nbsp;<span class="ident" id="5628188">encBoolSlice</span><span class="op" id="5628200">(</span><span class="ident" id="5628201">state</span>&nbsp;<span class="op" id="5628207">*</span><span class="ident" id="5628208">encoderState</span><span class="op" id="5628220">,</span>&nbsp;<span class="ident" id="5628222">v</span>&nbsp;<span class="ident" id="5628224">reflect</span><span class="op" id="5628231">.</span><span class="ident" id="5628232">Value</span><span class="op" id="5628237">)</span>&nbsp;<span class="builtintype" id="5628239">bool</span>&nbsp;<span class="op" id="5628244">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5628247">slice</span><span class="op" id="5628252">,</span>&nbsp;<span class="ident" id="5628254">ok</span>&nbsp;<span class="op" id="5628257">:=</span>&nbsp;<span class="ident" id="5628260">v</span><span class="op" id="5628261">.</span><span class="ident" id="5628262">Interface</span><span class="op" id="5628271">(</span><span class="op" id="5628272">)</span><span class="op" id="5628273">.</span><span class="op" id="5628274">(</span><span class="op" id="5628275">[</span><span class="op" id="5628276">]</span><span class="builtintype" id="5628277">bool</span><span class="op" id="5628281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628284">if</span>&nbsp;<span class="op" id="5628287">!</span><span class="ident" id="5628288">ok</span>&nbsp;<span class="op" id="5628291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5628295">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628370">return</span>&nbsp;<span class="builtintype" id="5628377">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628384">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628387">for</span>&nbsp;<span class="ident" id="5628391">_</span><span class="op" id="5628392">,</span>&nbsp;<span class="ident" id="5628394">x</span>&nbsp;<span class="op" id="5628396">:=</span>&nbsp;<span class="keyword" id="5628399">range</span>&nbsp;<span class="ident" id="5628405">slice</span>&nbsp;<span class="op" id="5628411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628415">if</span>&nbsp;<span class="ident" id="5628418">x</span>&nbsp;<span class="op" id="5628420">!=</span>&nbsp;<span class="builtintype" id="5628423">false</span>&nbsp;<span class="op" id="5628429">||</span>&nbsp;<span class="ident" id="5628432">state</span><span class="op" id="5628437">.</span><span class="ident" id="5628438">sendZero</span>&nbsp;<span class="op" id="5628447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628452">if</span>&nbsp;<span class="ident" id="5628455">x</span>&nbsp;<span class="op" id="5628457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5628463">state</span><span class="op" id="5628468">.</span><span class="ident" id="5628469">encodeUint</span><span class="op" id="5628479">(</span><span class="num" id="5628480">1</span><span class="op" id="5628481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628486">}</span>&nbsp;<span class="keyword" id="5628488">else</span>&nbsp;<span class="op" id="5628493">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5628499">state</span><span class="op" id="5628504">.</span><span class="ident" id="5628505">encodeUint</span><span class="op" id="5628515">(</span><span class="num" id="5628516">0</span><span class="op" id="5628517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628532">return</span>&nbsp;<span class="builtintype" id="5628539">true</span><br>
<span class="lineno">75</span><span class="op" id="5628544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5628547">func</span>&nbsp;<span class="ident" id="5628552">encComplex64Array</span><span class="op" id="5628569">(</span><span class="ident" id="5628570">state</span>&nbsp;<span class="op" id="5628576">*</span><span class="ident" id="5628577">encoderState</span><span class="op" id="5628589">,</span>&nbsp;<span class="ident" id="5628591">v</span>&nbsp;<span class="ident" id="5628593">reflect</span><span class="op" id="5628600">.</span><span class="ident" id="5628601">Value</span><span class="op" id="5628606">)</span>&nbsp;<span class="builtintype" id="5628608">bool</span>&nbsp;<span class="op" id="5628613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5628616">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628657">if</span>&nbsp;<span class="op" id="5628660">!</span><span class="ident" id="5628661">v</span><span class="op" id="5628662">.</span><span class="ident" id="5628663">CanAddr</span><span class="op" id="5628670">(</span><span class="op" id="5628671">)</span>&nbsp;<span class="op" id="5628673">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628677">return</span>&nbsp;<span class="builtintype" id="5628684">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628694">return</span>&nbsp;<span class="ident" id="5628701">encComplex64Slice</span><span class="op" id="5628718">(</span><span class="ident" id="5628719">state</span><span class="op" id="5628724">,</span>&nbsp;<span class="ident" id="5628726">v</span><span class="op" id="5628727">.</span><span class="ident" id="5628728">Slice</span><span class="op" id="5628733">(</span><span class="num" id="5628734">0</span><span class="op" id="5628735">,</span>&nbsp;<span class="ident" id="5628737">v</span><span class="op" id="5628738">.</span><span class="ident" id="5628739">Len</span><span class="op" id="5628742">(</span><span class="op" id="5628743">)</span><span class="op" id="5628744">)</span><span class="op" id="5628745">)</span><br>
<span class="lineno"></span><span class="op" id="5628747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5628750">func</span>&nbsp;<span class="ident" id="5628755">encComplex64Slice</span><span class="op" id="5628772">(</span><span class="ident" id="5628773">state</span>&nbsp;<span class="op" id="5628779">*</span><span class="ident" id="5628780">encoderState</span><span class="op" id="5628792">,</span>&nbsp;<span class="ident" id="5628794">v</span>&nbsp;<span class="ident" id="5628796">reflect</span><span class="op" id="5628803">.</span><span class="ident" id="5628804">Value</span><span class="op" id="5628809">)</span>&nbsp;<span class="builtintype" id="5628811">bool</span>&nbsp;<span class="op" id="5628816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5628819">slice</span><span class="op" id="5628824">,</span>&nbsp;<span class="ident" id="5628826">ok</span>&nbsp;<span class="op" id="5628829">:=</span>&nbsp;<span class="ident" id="5628832">v</span><span class="op" id="5628833">.</span><span class="ident" id="5628834">Interface</span><span class="op" id="5628843">(</span><span class="op" id="5628844">)</span><span class="op" id="5628845">.</span><span class="op" id="5628846">(</span><span class="op" id="5628847">[</span><span class="op" id="5628848">]</span><span class="builtintype" id="5628849">complex64</span><span class="op" id="5628858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628861">if</span>&nbsp;<span class="op" id="5628864">!</span><span class="ident" id="5628865">ok</span>&nbsp;<span class="op" id="5628868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5628872">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628957">return</span>&nbsp;<span class="builtintype" id="5628964">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5628971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5628974">for</span>&nbsp;<span class="ident" id="5628978">_</span><span class="op" id="5628979">,</span>&nbsp;<span class="ident" id="5628981">x</span>&nbsp;<span class="op" id="5628983">:=</span>&nbsp;<span class="keyword" id="5628986">range</span>&nbsp;<span class="ident" id="5628992">slice</span>&nbsp;<span class="op" id="5628998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629002">if</span>&nbsp;<span class="ident" id="5629005">x</span>&nbsp;<span class="op" id="5629007">!=</span>&nbsp;<span class="num" id="5629010">0</span><span class="op" id="5629011">+</span><span class="num" id="5629012">0i</span>&nbsp;<span class="op" id="5629015">||</span>&nbsp;<span class="ident" id="5629018">state</span><span class="op" id="5629023">.</span><span class="ident" id="5629024">sendZero</span>&nbsp;<span class="op" id="5629033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629038">rpart</span>&nbsp;<span class="op" id="5629044">:=</span>&nbsp;<span class="ident" id="5629047">floatBits</span><span class="op" id="5629056">(</span><span class="builtintype" id="5629057">float64</span><span class="op" id="5629064">(</span><span class="builtinfunc" id="5629065">real</span><span class="op" id="5629069">(</span><span class="ident" id="5629070">x</span><span class="op" id="5629071">)</span><span class="op" id="5629072">)</span><span class="op" id="5629073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629078">ipart</span>&nbsp;<span class="op" id="5629084">:=</span>&nbsp;<span class="ident" id="5629087">floatBits</span><span class="op" id="5629096">(</span><span class="builtintype" id="5629097">float64</span><span class="op" id="5629104">(</span><span class="builtinfunc" id="5629105">imag</span><span class="op" id="5629109">(</span><span class="ident" id="5629110">x</span><span class="op" id="5629111">)</span><span class="op" id="5629112">)</span><span class="op" id="5629113">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629118">state</span><span class="op" id="5629123">.</span><span class="ident" id="5629124">encodeUint</span><span class="op" id="5629134">(</span><span class="ident" id="5629135">rpart</span><span class="op" id="5629140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629145">state</span><span class="op" id="5629150">.</span><span class="ident" id="5629151">encodeUint</span><span class="op" id="5629161">(</span><span class="ident" id="5629162">ipart</span><span class="op" id="5629167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629177">return</span>&nbsp;<span class="builtintype" id="5629184">true</span><br>
<span class="lineno">100</span><span class="op" id="5629189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5629192">func</span>&nbsp;<span class="ident" id="5629197">encComplex128Array</span><span class="op" id="5629215">(</span><span class="ident" id="5629216">state</span>&nbsp;<span class="op" id="5629222">*</span><span class="ident" id="5629223">encoderState</span><span class="op" id="5629235">,</span>&nbsp;<span class="ident" id="5629237">v</span>&nbsp;<span class="ident" id="5629239">reflect</span><span class="op" id="5629246">.</span><span class="ident" id="5629247">Value</span><span class="op" id="5629252">)</span>&nbsp;<span class="builtintype" id="5629254">bool</span>&nbsp;<span class="op" id="5629259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5629262">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629303">if</span>&nbsp;<span class="op" id="5629306">!</span><span class="ident" id="5629307">v</span><span class="op" id="5629308">.</span><span class="ident" id="5629309">CanAddr</span><span class="op" id="5629316">(</span><span class="op" id="5629317">)</span>&nbsp;<span class="op" id="5629319">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629323">return</span>&nbsp;<span class="builtintype" id="5629330">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629340">return</span>&nbsp;<span class="ident" id="5629347">encComplex128Slice</span><span class="op" id="5629365">(</span><span class="ident" id="5629366">state</span><span class="op" id="5629371">,</span>&nbsp;<span class="ident" id="5629373">v</span><span class="op" id="5629374">.</span><span class="ident" id="5629375">Slice</span><span class="op" id="5629380">(</span><span class="num" id="5629381">0</span><span class="op" id="5629382">,</span>&nbsp;<span class="ident" id="5629384">v</span><span class="op" id="5629385">.</span><span class="ident" id="5629386">Len</span><span class="op" id="5629389">(</span><span class="op" id="5629390">)</span><span class="op" id="5629391">)</span><span class="op" id="5629392">)</span><br>
<span class="lineno"></span><span class="op" id="5629394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5629397">func</span>&nbsp;<span class="ident" id="5629402">encComplex128Slice</span><span class="op" id="5629420">(</span><span class="ident" id="5629421">state</span>&nbsp;<span class="op" id="5629427">*</span><span class="ident" id="5629428">encoderState</span><span class="op" id="5629440">,</span>&nbsp;<span class="ident" id="5629442">v</span>&nbsp;<span class="ident" id="5629444">reflect</span><span class="op" id="5629451">.</span><span class="ident" id="5629452">Value</span><span class="op" id="5629457">)</span>&nbsp;<span class="builtintype" id="5629459">bool</span>&nbsp;<span class="op" id="5629464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629467">slice</span><span class="op" id="5629472">,</span>&nbsp;<span class="ident" id="5629474">ok</span>&nbsp;<span class="op" id="5629477">:=</span>&nbsp;<span class="ident" id="5629480">v</span><span class="op" id="5629481">.</span><span class="ident" id="5629482">Interface</span><span class="op" id="5629491">(</span><span class="op" id="5629492">)</span><span class="op" id="5629493">.</span><span class="op" id="5629494">(</span><span class="op" id="5629495">[</span><span class="op" id="5629496">]</span><span class="builtintype" id="5629497">complex128</span><span class="op" id="5629507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629510">if</span>&nbsp;<span class="op" id="5629513">!</span><span class="ident" id="5629514">ok</span>&nbsp;<span class="op" id="5629517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5629521">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629608">return</span>&nbsp;<span class="builtintype" id="5629615">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629625">for</span>&nbsp;<span class="ident" id="5629629">_</span><span class="op" id="5629630">,</span>&nbsp;<span class="ident" id="5629632">x</span>&nbsp;<span class="op" id="5629634">:=</span>&nbsp;<span class="keyword" id="5629637">range</span>&nbsp;<span class="ident" id="5629643">slice</span>&nbsp;<span class="op" id="5629649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629653">if</span>&nbsp;<span class="ident" id="5629656">x</span>&nbsp;<span class="op" id="5629658">!=</span>&nbsp;<span class="num" id="5629661">0</span><span class="op" id="5629662">+</span><span class="num" id="5629663">0i</span>&nbsp;<span class="op" id="5629666">||</span>&nbsp;<span class="ident" id="5629669">state</span><span class="op" id="5629674">.</span><span class="ident" id="5629675">sendZero</span>&nbsp;<span class="op" id="5629684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629689">rpart</span>&nbsp;<span class="op" id="5629695">:=</span>&nbsp;<span class="ident" id="5629698">floatBits</span><span class="op" id="5629707">(</span><span class="builtinfunc" id="5629708">real</span><span class="op" id="5629712">(</span><span class="ident" id="5629713">x</span><span class="op" id="5629714">)</span><span class="op" id="5629715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629720">ipart</span>&nbsp;<span class="op" id="5629726">:=</span>&nbsp;<span class="ident" id="5629729">floatBits</span><span class="op" id="5629738">(</span><span class="builtinfunc" id="5629739">imag</span><span class="op" id="5629743">(</span><span class="ident" id="5629744">x</span><span class="op" id="5629745">)</span><span class="op" id="5629746">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629751">state</span><span class="op" id="5629756">.</span><span class="ident" id="5629757">encodeUint</span><span class="op" id="5629767">(</span><span class="ident" id="5629768">rpart</span><span class="op" id="5629773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5629778">state</span><span class="op" id="5629783">.</span><span class="ident" id="5629784">encodeUint</span><span class="op" id="5629794">(</span><span class="ident" id="5629795">ipart</span><span class="op" id="5629800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629810">return</span>&nbsp;<span class="builtintype" id="5629817">true</span><br>
<span class="lineno">125</span><span class="op" id="5629822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5629825">func</span>&nbsp;<span class="ident" id="5629830">encFloat32Array</span><span class="op" id="5629845">(</span><span class="ident" id="5629846">state</span>&nbsp;<span class="op" id="5629852">*</span><span class="ident" id="5629853">encoderState</span><span class="op" id="5629865">,</span>&nbsp;<span class="ident" id="5629867">v</span>&nbsp;<span class="ident" id="5629869">reflect</span><span class="op" id="5629876">.</span><span class="ident" id="5629877">Value</span><span class="op" id="5629882">)</span>&nbsp;<span class="builtintype" id="5629884">bool</span>&nbsp;<span class="op" id="5629889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5629892">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629933">if</span>&nbsp;<span class="op" id="5629936">!</span><span class="ident" id="5629937">v</span><span class="op" id="5629938">.</span><span class="ident" id="5629939">CanAddr</span><span class="op" id="5629946">(</span><span class="op" id="5629947">)</span>&nbsp;<span class="op" id="5629949">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629953">return</span>&nbsp;<span class="builtintype" id="5629960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5629967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5629970">return</span>&nbsp;<span class="ident" id="5629977">encFloat32Slice</span><span class="op" id="5629992">(</span><span class="ident" id="5629993">state</span><span class="op" id="5629998">,</span>&nbsp;<span class="ident" id="5630000">v</span><span class="op" id="5630001">.</span><span class="ident" id="5630002">Slice</span><span class="op" id="5630007">(</span><span class="num" id="5630008">0</span><span class="op" id="5630009">,</span>&nbsp;<span class="ident" id="5630011">v</span><span class="op" id="5630012">.</span><span class="ident" id="5630013">Len</span><span class="op" id="5630016">(</span><span class="op" id="5630017">)</span><span class="op" id="5630018">)</span><span class="op" id="5630019">)</span><br>
<span class="lineno"></span><span class="op" id="5630021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="5630024">func</span>&nbsp;<span class="ident" id="5630029">encFloat32Slice</span><span class="op" id="5630044">(</span><span class="ident" id="5630045">state</span>&nbsp;<span class="op" id="5630051">*</span><span class="ident" id="5630052">encoderState</span><span class="op" id="5630064">,</span>&nbsp;<span class="ident" id="5630066">v</span>&nbsp;<span class="ident" id="5630068">reflect</span><span class="op" id="5630075">.</span><span class="ident" id="5630076">Value</span><span class="op" id="5630081">)</span>&nbsp;<span class="builtintype" id="5630083">bool</span>&nbsp;<span class="op" id="5630088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630091">slice</span><span class="op" id="5630096">,</span>&nbsp;<span class="ident" id="5630098">ok</span>&nbsp;<span class="op" id="5630101">:=</span>&nbsp;<span class="ident" id="5630104">v</span><span class="op" id="5630105">.</span><span class="ident" id="5630106">Interface</span><span class="op" id="5630115">(</span><span class="op" id="5630116">)</span><span class="op" id="5630117">.</span><span class="op" id="5630118">(</span><span class="op" id="5630119">[</span><span class="op" id="5630120">]</span><span class="builtintype" id="5630121">float32</span><span class="op" id="5630128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630131">if</span>&nbsp;<span class="op" id="5630134">!</span><span class="ident" id="5630135">ok</span>&nbsp;<span class="op" id="5630138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5630142">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630223">return</span>&nbsp;<span class="builtintype" id="5630230">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630240">for</span>&nbsp;<span class="ident" id="5630244">_</span><span class="op" id="5630245">,</span>&nbsp;<span class="ident" id="5630247">x</span>&nbsp;<span class="op" id="5630249">:=</span>&nbsp;<span class="keyword" id="5630252">range</span>&nbsp;<span class="ident" id="5630258">slice</span>&nbsp;<span class="op" id="5630264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630268">if</span>&nbsp;<span class="ident" id="5630271">x</span>&nbsp;<span class="op" id="5630273">!=</span>&nbsp;<span class="num" id="5630276">0</span>&nbsp;<span class="op" id="5630278">||</span>&nbsp;<span class="ident" id="5630281">state</span><span class="op" id="5630286">.</span><span class="ident" id="5630287">sendZero</span>&nbsp;<span class="op" id="5630296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630301">bits</span>&nbsp;<span class="op" id="5630306">:=</span>&nbsp;<span class="ident" id="5630309">floatBits</span><span class="op" id="5630318">(</span><span class="builtintype" id="5630319">float64</span><span class="op" id="5630326">(</span><span class="ident" id="5630327">x</span><span class="op" id="5630328">)</span><span class="op" id="5630329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630334">state</span><span class="op" id="5630339">.</span><span class="ident" id="5630340">encodeUint</span><span class="op" id="5630350">(</span><span class="ident" id="5630351">bits</span><span class="op" id="5630355">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630365">return</span>&nbsp;<span class="builtintype" id="5630372">true</span><br>
<span class="lineno"></span><span class="op" id="5630377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5630380">func</span>&nbsp;<span class="ident" id="5630385">encFloat64Array</span><span class="op" id="5630400">(</span><span class="ident" id="5630401">state</span>&nbsp;<span class="op" id="5630407">*</span><span class="ident" id="5630408">encoderState</span><span class="op" id="5630420">,</span>&nbsp;<span class="ident" id="5630422">v</span>&nbsp;<span class="ident" id="5630424">reflect</span><span class="op" id="5630431">.</span><span class="ident" id="5630432">Value</span><span class="op" id="5630437">)</span>&nbsp;<span class="builtintype" id="5630439">bool</span>&nbsp;<span class="op" id="5630444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5630447">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630488">if</span>&nbsp;<span class="op" id="5630491">!</span><span class="ident" id="5630492">v</span><span class="op" id="5630493">.</span><span class="ident" id="5630494">CanAddr</span><span class="op" id="5630501">(</span><span class="op" id="5630502">)</span>&nbsp;<span class="op" id="5630504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630508">return</span>&nbsp;<span class="builtintype" id="5630515">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630522">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630525">return</span>&nbsp;<span class="ident" id="5630532">encFloat64Slice</span><span class="op" id="5630547">(</span><span class="ident" id="5630548">state</span><span class="op" id="5630553">,</span>&nbsp;<span class="ident" id="5630555">v</span><span class="op" id="5630556">.</span><span class="ident" id="5630557">Slice</span><span class="op" id="5630562">(</span><span class="num" id="5630563">0</span><span class="op" id="5630564">,</span>&nbsp;<span class="ident" id="5630566">v</span><span class="op" id="5630567">.</span><span class="ident" id="5630568">Len</span><span class="op" id="5630571">(</span><span class="op" id="5630572">)</span><span class="op" id="5630573">)</span><span class="op" id="5630574">)</span><br>
<span class="lineno"></span><span class="op" id="5630576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5630579">func</span>&nbsp;<span class="ident" id="5630584">encFloat64Slice</span><span class="op" id="5630599">(</span><span class="ident" id="5630600">state</span>&nbsp;<span class="op" id="5630606">*</span><span class="ident" id="5630607">encoderState</span><span class="op" id="5630619">,</span>&nbsp;<span class="ident" id="5630621">v</span>&nbsp;<span class="ident" id="5630623">reflect</span><span class="op" id="5630630">.</span><span class="ident" id="5630631">Value</span><span class="op" id="5630636">)</span>&nbsp;<span class="builtintype" id="5630638">bool</span>&nbsp;<span class="op" id="5630643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630646">slice</span><span class="op" id="5630651">,</span>&nbsp;<span class="ident" id="5630653">ok</span>&nbsp;<span class="op" id="5630656">:=</span>&nbsp;<span class="ident" id="5630659">v</span><span class="op" id="5630660">.</span><span class="ident" id="5630661">Interface</span><span class="op" id="5630670">(</span><span class="op" id="5630671">)</span><span class="op" id="5630672">.</span><span class="op" id="5630673">(</span><span class="op" id="5630674">[</span><span class="op" id="5630675">]</span><span class="builtintype" id="5630676">float64</span><span class="op" id="5630683">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630686">if</span>&nbsp;<span class="op" id="5630689">!</span><span class="ident" id="5630690">ok</span>&nbsp;<span class="op" id="5630693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5630697">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630778">return</span>&nbsp;<span class="builtintype" id="5630785">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630795">for</span>&nbsp;<span class="ident" id="5630799">_</span><span class="op" id="5630800">,</span>&nbsp;<span class="ident" id="5630802">x</span>&nbsp;<span class="op" id="5630804">:=</span>&nbsp;<span class="keyword" id="5630807">range</span>&nbsp;<span class="ident" id="5630813">slice</span>&nbsp;<span class="op" id="5630819">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630823">if</span>&nbsp;<span class="ident" id="5630826">x</span>&nbsp;<span class="op" id="5630828">!=</span>&nbsp;<span class="num" id="5630831">0</span>&nbsp;<span class="op" id="5630833">||</span>&nbsp;<span class="ident" id="5630836">state</span><span class="op" id="5630841">.</span><span class="ident" id="5630842">sendZero</span>&nbsp;<span class="op" id="5630851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630856">bits</span>&nbsp;<span class="op" id="5630861">:=</span>&nbsp;<span class="ident" id="5630864">floatBits</span><span class="op" id="5630873">(</span><span class="ident" id="5630874">x</span><span class="op" id="5630875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5630880">state</span><span class="op" id="5630885">.</span><span class="ident" id="5630886">encodeUint</span><span class="op" id="5630896">(</span><span class="ident" id="5630897">bits</span><span class="op" id="5630901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5630908">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5630911">return</span>&nbsp;<span class="builtintype" id="5630918">true</span><br>
<span class="lineno"></span><span class="op" id="5630923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5630926">func</span>&nbsp;<span class="ident" id="5630931">encIntArray</span><span class="op" id="5630942">(</span><span class="ident" id="5630943">state</span>&nbsp;<span class="op" id="5630949">*</span><span class="ident" id="5630950">encoderState</span><span class="op" id="5630962">,</span>&nbsp;<span class="ident" id="5630964">v</span>&nbsp;<span class="ident" id="5630966">reflect</span><span class="op" id="5630973">.</span><span class="ident" id="5630974">Value</span><span class="op" id="5630979">)</span>&nbsp;<span class="builtintype" id="5630981">bool</span>&nbsp;<span class="op" id="5630986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5630989">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631030">if</span>&nbsp;<span class="op" id="5631033">!</span><span class="ident" id="5631034">v</span><span class="op" id="5631035">.</span><span class="ident" id="5631036">CanAddr</span><span class="op" id="5631043">(</span><span class="op" id="5631044">)</span>&nbsp;<span class="op" id="5631046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631050">return</span>&nbsp;<span class="builtintype" id="5631057">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631067">return</span>&nbsp;<span class="ident" id="5631074">encIntSlice</span><span class="op" id="5631085">(</span><span class="ident" id="5631086">state</span><span class="op" id="5631091">,</span>&nbsp;<span class="ident" id="5631093">v</span><span class="op" id="5631094">.</span><span class="ident" id="5631095">Slice</span><span class="op" id="5631100">(</span><span class="num" id="5631101">0</span><span class="op" id="5631102">,</span>&nbsp;<span class="ident" id="5631104">v</span><span class="op" id="5631105">.</span><span class="ident" id="5631106">Len</span><span class="op" id="5631109">(</span><span class="op" id="5631110">)</span><span class="op" id="5631111">)</span><span class="op" id="5631112">)</span><br>
<span class="lineno"></span><span class="op" id="5631114">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="5631117">func</span>&nbsp;<span class="ident" id="5631122">encIntSlice</span><span class="op" id="5631133">(</span><span class="ident" id="5631134">state</span>&nbsp;<span class="op" id="5631140">*</span><span class="ident" id="5631141">encoderState</span><span class="op" id="5631153">,</span>&nbsp;<span class="ident" id="5631155">v</span>&nbsp;<span class="ident" id="5631157">reflect</span><span class="op" id="5631164">.</span><span class="ident" id="5631165">Value</span><span class="op" id="5631170">)</span>&nbsp;<span class="builtintype" id="5631172">bool</span>&nbsp;<span class="op" id="5631177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5631180">slice</span><span class="op" id="5631185">,</span>&nbsp;<span class="ident" id="5631187">ok</span>&nbsp;<span class="op" id="5631190">:=</span>&nbsp;<span class="ident" id="5631193">v</span><span class="op" id="5631194">.</span><span class="ident" id="5631195">Interface</span><span class="op" id="5631204">(</span><span class="op" id="5631205">)</span><span class="op" id="5631206">.</span><span class="op" id="5631207">(</span><span class="op" id="5631208">[</span><span class="op" id="5631209">]</span><span class="builtintype" id="5631210">int</span><span class="op" id="5631213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631216">if</span>&nbsp;<span class="op" id="5631219">!</span><span class="ident" id="5631220">ok</span>&nbsp;<span class="op" id="5631223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5631227">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631300">return</span>&nbsp;<span class="builtintype" id="5631307">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631317">for</span>&nbsp;<span class="ident" id="5631321">_</span><span class="op" id="5631322">,</span>&nbsp;<span class="ident" id="5631324">x</span>&nbsp;<span class="op" id="5631326">:=</span>&nbsp;<span class="keyword" id="5631329">range</span>&nbsp;<span class="ident" id="5631335">slice</span>&nbsp;<span class="op" id="5631341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631345">if</span>&nbsp;<span class="ident" id="5631348">x</span>&nbsp;<span class="op" id="5631350">!=</span>&nbsp;<span class="num" id="5631353">0</span>&nbsp;<span class="op" id="5631355">||</span>&nbsp;<span class="ident" id="5631358">state</span><span class="op" id="5631363">.</span><span class="ident" id="5631364">sendZero</span>&nbsp;<span class="op" id="5631373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5631378">state</span><span class="op" id="5631383">.</span><span class="ident" id="5631384">encodeInt</span><span class="op" id="5631393">(</span><span class="builtintype" id="5631394">int64</span><span class="op" id="5631399">(</span><span class="ident" id="5631400">x</span><span class="op" id="5631401">)</span><span class="op" id="5631402">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631412">return</span>&nbsp;<span class="builtintype" id="5631419">true</span><br>
<span class="lineno"></span><span class="op" id="5631424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="5631427">func</span>&nbsp;<span class="ident" id="5631432">encInt16Array</span><span class="op" id="5631445">(</span><span class="ident" id="5631446">state</span>&nbsp;<span class="op" id="5631452">*</span><span class="ident" id="5631453">encoderState</span><span class="op" id="5631465">,</span>&nbsp;<span class="ident" id="5631467">v</span>&nbsp;<span class="ident" id="5631469">reflect</span><span class="op" id="5631476">.</span><span class="ident" id="5631477">Value</span><span class="op" id="5631482">)</span>&nbsp;<span class="builtintype" id="5631484">bool</span>&nbsp;<span class="op" id="5631489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5631492">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631533">if</span>&nbsp;<span class="op" id="5631536">!</span><span class="ident" id="5631537">v</span><span class="op" id="5631538">.</span><span class="ident" id="5631539">CanAddr</span><span class="op" id="5631546">(</span><span class="op" id="5631547">)</span>&nbsp;<span class="op" id="5631549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631553">return</span>&nbsp;<span class="builtintype" id="5631560">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631567">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631570">return</span>&nbsp;<span class="ident" id="5631577">encInt16Slice</span><span class="op" id="5631590">(</span><span class="ident" id="5631591">state</span><span class="op" id="5631596">,</span>&nbsp;<span class="ident" id="5631598">v</span><span class="op" id="5631599">.</span><span class="ident" id="5631600">Slice</span><span class="op" id="5631605">(</span><span class="num" id="5631606">0</span><span class="op" id="5631607">,</span>&nbsp;<span class="ident" id="5631609">v</span><span class="op" id="5631610">.</span><span class="ident" id="5631611">Len</span><span class="op" id="5631614">(</span><span class="op" id="5631615">)</span><span class="op" id="5631616">)</span><span class="op" id="5631617">)</span><br>
<span class="lineno"></span><span class="op" id="5631619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5631622">func</span>&nbsp;<span class="ident" id="5631627">encInt16Slice</span><span class="op" id="5631640">(</span><span class="ident" id="5631641">state</span>&nbsp;<span class="op" id="5631647">*</span><span class="ident" id="5631648">encoderState</span><span class="op" id="5631660">,</span>&nbsp;<span class="ident" id="5631662">v</span>&nbsp;<span class="ident" id="5631664">reflect</span><span class="op" id="5631671">.</span><span class="ident" id="5631672">Value</span><span class="op" id="5631677">)</span>&nbsp;<span class="builtintype" id="5631679">bool</span>&nbsp;<span class="op" id="5631684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5631687">slice</span><span class="op" id="5631692">,</span>&nbsp;<span class="ident" id="5631694">ok</span>&nbsp;<span class="op" id="5631697">:=</span>&nbsp;<span class="ident" id="5631700">v</span><span class="op" id="5631701">.</span><span class="ident" id="5631702">Interface</span><span class="op" id="5631711">(</span><span class="op" id="5631712">)</span><span class="op" id="5631713">.</span><span class="op" id="5631714">(</span><span class="op" id="5631715">[</span><span class="op" id="5631716">]</span><span class="builtintype" id="5631717">int16</span><span class="op" id="5631722">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631725">if</span>&nbsp;<span class="op" id="5631728">!</span><span class="ident" id="5631729">ok</span>&nbsp;<span class="op" id="5631732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5631736">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631813">return</span>&nbsp;<span class="builtintype" id="5631820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631830">for</span>&nbsp;<span class="ident" id="5631834">_</span><span class="op" id="5631835">,</span>&nbsp;<span class="ident" id="5631837">x</span>&nbsp;<span class="op" id="5631839">:=</span>&nbsp;<span class="keyword" id="5631842">range</span>&nbsp;<span class="ident" id="5631848">slice</span>&nbsp;<span class="op" id="5631854">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631858">if</span>&nbsp;<span class="ident" id="5631861">x</span>&nbsp;<span class="op" id="5631863">!=</span>&nbsp;<span class="num" id="5631866">0</span>&nbsp;<span class="op" id="5631868">||</span>&nbsp;<span class="ident" id="5631871">state</span><span class="op" id="5631876">.</span><span class="ident" id="5631877">sendZero</span>&nbsp;<span class="op" id="5631886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5631891">state</span><span class="op" id="5631896">.</span><span class="ident" id="5631897">encodeInt</span><span class="op" id="5631906">(</span><span class="builtintype" id="5631907">int64</span><span class="op" id="5631912">(</span><span class="ident" id="5631913">x</span><span class="op" id="5631914">)</span><span class="op" id="5631915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5631922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5631925">return</span>&nbsp;<span class="builtintype" id="5631932">true</span><br>
<span class="lineno">215</span><span class="op" id="5631937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5631940">func</span>&nbsp;<span class="ident" id="5631945">encInt32Array</span><span class="op" id="5631958">(</span><span class="ident" id="5631959">state</span>&nbsp;<span class="op" id="5631965">*</span><span class="ident" id="5631966">encoderState</span><span class="op" id="5631978">,</span>&nbsp;<span class="ident" id="5631980">v</span>&nbsp;<span class="ident" id="5631982">reflect</span><span class="op" id="5631989">.</span><span class="ident" id="5631990">Value</span><span class="op" id="5631995">)</span>&nbsp;<span class="builtintype" id="5631997">bool</span>&nbsp;<span class="op" id="5632002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5632005">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632046">if</span>&nbsp;<span class="op" id="5632049">!</span><span class="ident" id="5632050">v</span><span class="op" id="5632051">.</span><span class="ident" id="5632052">CanAddr</span><span class="op" id="5632059">(</span><span class="op" id="5632060">)</span>&nbsp;<span class="op" id="5632062">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632066">return</span>&nbsp;<span class="builtintype" id="5632073">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632083">return</span>&nbsp;<span class="ident" id="5632090">encInt32Slice</span><span class="op" id="5632103">(</span><span class="ident" id="5632104">state</span><span class="op" id="5632109">,</span>&nbsp;<span class="ident" id="5632111">v</span><span class="op" id="5632112">.</span><span class="ident" id="5632113">Slice</span><span class="op" id="5632118">(</span><span class="num" id="5632119">0</span><span class="op" id="5632120">,</span>&nbsp;<span class="ident" id="5632122">v</span><span class="op" id="5632123">.</span><span class="ident" id="5632124">Len</span><span class="op" id="5632127">(</span><span class="op" id="5632128">)</span><span class="op" id="5632129">)</span><span class="op" id="5632130">)</span><br>
<span class="lineno"></span><span class="op" id="5632132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="5632135">func</span>&nbsp;<span class="ident" id="5632140">encInt32Slice</span><span class="op" id="5632153">(</span><span class="ident" id="5632154">state</span>&nbsp;<span class="op" id="5632160">*</span><span class="ident" id="5632161">encoderState</span><span class="op" id="5632173">,</span>&nbsp;<span class="ident" id="5632175">v</span>&nbsp;<span class="ident" id="5632177">reflect</span><span class="op" id="5632184">.</span><span class="ident" id="5632185">Value</span><span class="op" id="5632190">)</span>&nbsp;<span class="builtintype" id="5632192">bool</span>&nbsp;<span class="op" id="5632197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5632200">slice</span><span class="op" id="5632205">,</span>&nbsp;<span class="ident" id="5632207">ok</span>&nbsp;<span class="op" id="5632210">:=</span>&nbsp;<span class="ident" id="5632213">v</span><span class="op" id="5632214">.</span><span class="ident" id="5632215">Interface</span><span class="op" id="5632224">(</span><span class="op" id="5632225">)</span><span class="op" id="5632226">.</span><span class="op" id="5632227">(</span><span class="op" id="5632228">[</span><span class="op" id="5632229">]</span><span class="builtintype" id="5632230">int32</span><span class="op" id="5632235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632238">if</span>&nbsp;<span class="op" id="5632241">!</span><span class="ident" id="5632242">ok</span>&nbsp;<span class="op" id="5632245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5632249">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632326">return</span>&nbsp;<span class="builtintype" id="5632333">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632343">for</span>&nbsp;<span class="ident" id="5632347">_</span><span class="op" id="5632348">,</span>&nbsp;<span class="ident" id="5632350">x</span>&nbsp;<span class="op" id="5632352">:=</span>&nbsp;<span class="keyword" id="5632355">range</span>&nbsp;<span class="ident" id="5632361">slice</span>&nbsp;<span class="op" id="5632367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632371">if</span>&nbsp;<span class="ident" id="5632374">x</span>&nbsp;<span class="op" id="5632376">!=</span>&nbsp;<span class="num" id="5632379">0</span>&nbsp;<span class="op" id="5632381">||</span>&nbsp;<span class="ident" id="5632384">state</span><span class="op" id="5632389">.</span><span class="ident" id="5632390">sendZero</span>&nbsp;<span class="op" id="5632399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5632404">state</span><span class="op" id="5632409">.</span><span class="ident" id="5632410">encodeInt</span><span class="op" id="5632419">(</span><span class="builtintype" id="5632420">int64</span><span class="op" id="5632425">(</span><span class="ident" id="5632426">x</span><span class="op" id="5632427">)</span><span class="op" id="5632428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632432">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632438">return</span>&nbsp;<span class="builtintype" id="5632445">true</span><br>
<span class="lineno"></span><span class="op" id="5632450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5632453">func</span>&nbsp;<span class="ident" id="5632458">encInt64Array</span><span class="op" id="5632471">(</span><span class="ident" id="5632472">state</span>&nbsp;<span class="op" id="5632478">*</span><span class="ident" id="5632479">encoderState</span><span class="op" id="5632491">,</span>&nbsp;<span class="ident" id="5632493">v</span>&nbsp;<span class="ident" id="5632495">reflect</span><span class="op" id="5632502">.</span><span class="ident" id="5632503">Value</span><span class="op" id="5632508">)</span>&nbsp;<span class="builtintype" id="5632510">bool</span>&nbsp;<span class="op" id="5632515">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5632518">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632559">if</span>&nbsp;<span class="op" id="5632562">!</span><span class="ident" id="5632563">v</span><span class="op" id="5632564">.</span><span class="ident" id="5632565">CanAddr</span><span class="op" id="5632572">(</span><span class="op" id="5632573">)</span>&nbsp;<span class="op" id="5632575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632579">return</span>&nbsp;<span class="builtintype" id="5632586">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632596">return</span>&nbsp;<span class="ident" id="5632603">encInt64Slice</span><span class="op" id="5632616">(</span><span class="ident" id="5632617">state</span><span class="op" id="5632622">,</span>&nbsp;<span class="ident" id="5632624">v</span><span class="op" id="5632625">.</span><span class="ident" id="5632626">Slice</span><span class="op" id="5632631">(</span><span class="num" id="5632632">0</span><span class="op" id="5632633">,</span>&nbsp;<span class="ident" id="5632635">v</span><span class="op" id="5632636">.</span><span class="ident" id="5632637">Len</span><span class="op" id="5632640">(</span><span class="op" id="5632641">)</span><span class="op" id="5632642">)</span><span class="op" id="5632643">)</span><br>
<span class="lineno">245</span><span class="op" id="5632645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5632648">func</span>&nbsp;<span class="ident" id="5632653">encInt64Slice</span><span class="op" id="5632666">(</span><span class="ident" id="5632667">state</span>&nbsp;<span class="op" id="5632673">*</span><span class="ident" id="5632674">encoderState</span><span class="op" id="5632686">,</span>&nbsp;<span class="ident" id="5632688">v</span>&nbsp;<span class="ident" id="5632690">reflect</span><span class="op" id="5632697">.</span><span class="ident" id="5632698">Value</span><span class="op" id="5632703">)</span>&nbsp;<span class="builtintype" id="5632705">bool</span>&nbsp;<span class="op" id="5632710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5632713">slice</span><span class="op" id="5632718">,</span>&nbsp;<span class="ident" id="5632720">ok</span>&nbsp;<span class="op" id="5632723">:=</span>&nbsp;<span class="ident" id="5632726">v</span><span class="op" id="5632727">.</span><span class="ident" id="5632728">Interface</span><span class="op" id="5632737">(</span><span class="op" id="5632738">)</span><span class="op" id="5632739">.</span><span class="op" id="5632740">(</span><span class="op" id="5632741">[</span><span class="op" id="5632742">]</span><span class="builtintype" id="5632743">int64</span><span class="op" id="5632748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632751">if</span>&nbsp;<span class="op" id="5632754">!</span><span class="ident" id="5632755">ok</span>&nbsp;<span class="op" id="5632758">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5632762">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632839">return</span>&nbsp;<span class="builtintype" id="5632846">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632856">for</span>&nbsp;<span class="ident" id="5632860">_</span><span class="op" id="5632861">,</span>&nbsp;<span class="ident" id="5632863">x</span>&nbsp;<span class="op" id="5632865">:=</span>&nbsp;<span class="keyword" id="5632868">range</span>&nbsp;<span class="ident" id="5632874">slice</span>&nbsp;<span class="op" id="5632880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632884">if</span>&nbsp;<span class="ident" id="5632887">x</span>&nbsp;<span class="op" id="5632889">!=</span>&nbsp;<span class="num" id="5632892">0</span>&nbsp;<span class="op" id="5632894">||</span>&nbsp;<span class="ident" id="5632897">state</span><span class="op" id="5632902">.</span><span class="ident" id="5632903">sendZero</span>&nbsp;<span class="op" id="5632912">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5632917">state</span><span class="op" id="5632922">.</span><span class="ident" id="5632923">encodeInt</span><span class="op" id="5632932">(</span><span class="ident" id="5632933">x</span><span class="op" id="5632934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5632941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5632944">return</span>&nbsp;<span class="builtintype" id="5632951">true</span><br>
<span class="lineno"></span><span class="op" id="5632956">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5632959">func</span>&nbsp;<span class="ident" id="5632964">encInt8Array</span><span class="op" id="5632976">(</span><span class="ident" id="5632977">state</span>&nbsp;<span class="op" id="5632983">*</span><span class="ident" id="5632984">encoderState</span><span class="op" id="5632996">,</span>&nbsp;<span class="ident" id="5632998">v</span>&nbsp;<span class="ident" id="5633000">reflect</span><span class="op" id="5633007">.</span><span class="ident" id="5633008">Value</span><span class="op" id="5633013">)</span>&nbsp;<span class="builtintype" id="5633015">bool</span>&nbsp;<span class="op" id="5633020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5633023">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633064">if</span>&nbsp;<span class="op" id="5633067">!</span><span class="ident" id="5633068">v</span><span class="op" id="5633069">.</span><span class="ident" id="5633070">CanAddr</span><span class="op" id="5633077">(</span><span class="op" id="5633078">)</span>&nbsp;<span class="op" id="5633080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633084">return</span>&nbsp;<span class="builtintype" id="5633091">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633101">return</span>&nbsp;<span class="ident" id="5633108">encInt8Slice</span><span class="op" id="5633120">(</span><span class="ident" id="5633121">state</span><span class="op" id="5633126">,</span>&nbsp;<span class="ident" id="5633128">v</span><span class="op" id="5633129">.</span><span class="ident" id="5633130">Slice</span><span class="op" id="5633135">(</span><span class="num" id="5633136">0</span><span class="op" id="5633137">,</span>&nbsp;<span class="ident" id="5633139">v</span><span class="op" id="5633140">.</span><span class="ident" id="5633141">Len</span><span class="op" id="5633144">(</span><span class="op" id="5633145">)</span><span class="op" id="5633146">)</span><span class="op" id="5633147">)</span><br>
<span class="lineno"></span><span class="op" id="5633149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5633152">func</span>&nbsp;<span class="ident" id="5633157">encInt8Slice</span><span class="op" id="5633169">(</span><span class="ident" id="5633170">state</span>&nbsp;<span class="op" id="5633176">*</span><span class="ident" id="5633177">encoderState</span><span class="op" id="5633189">,</span>&nbsp;<span class="ident" id="5633191">v</span>&nbsp;<span class="ident" id="5633193">reflect</span><span class="op" id="5633200">.</span><span class="ident" id="5633201">Value</span><span class="op" id="5633206">)</span>&nbsp;<span class="builtintype" id="5633208">bool</span>&nbsp;<span class="op" id="5633213">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633216">slice</span><span class="op" id="5633221">,</span>&nbsp;<span class="ident" id="5633223">ok</span>&nbsp;<span class="op" id="5633226">:=</span>&nbsp;<span class="ident" id="5633229">v</span><span class="op" id="5633230">.</span><span class="ident" id="5633231">Interface</span><span class="op" id="5633240">(</span><span class="op" id="5633241">)</span><span class="op" id="5633242">.</span><span class="op" id="5633243">(</span><span class="op" id="5633244">[</span><span class="op" id="5633245">]</span><span class="builtintype" id="5633246">int8</span><span class="op" id="5633250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633253">if</span>&nbsp;<span class="op" id="5633256">!</span><span class="ident" id="5633257">ok</span>&nbsp;<span class="op" id="5633260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5633264">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633339">return</span>&nbsp;<span class="builtintype" id="5633346">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633353">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633356">for</span>&nbsp;<span class="ident" id="5633360">_</span><span class="op" id="5633361">,</span>&nbsp;<span class="ident" id="5633363">x</span>&nbsp;<span class="op" id="5633365">:=</span>&nbsp;<span class="keyword" id="5633368">range</span>&nbsp;<span class="ident" id="5633374">slice</span>&nbsp;<span class="op" id="5633380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633384">if</span>&nbsp;<span class="ident" id="5633387">x</span>&nbsp;<span class="op" id="5633389">!=</span>&nbsp;<span class="num" id="5633392">0</span>&nbsp;<span class="op" id="5633394">||</span>&nbsp;<span class="ident" id="5633397">state</span><span class="op" id="5633402">.</span><span class="ident" id="5633403">sendZero</span>&nbsp;<span class="op" id="5633412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633417">state</span><span class="op" id="5633422">.</span><span class="ident" id="5633423">encodeInt</span><span class="op" id="5633432">(</span><span class="builtintype" id="5633433">int64</span><span class="op" id="5633438">(</span><span class="ident" id="5633439">x</span><span class="op" id="5633440">)</span><span class="op" id="5633441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633448">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633451">return</span>&nbsp;<span class="builtintype" id="5633458">true</span><br>
<span class="lineno"></span><span class="op" id="5633463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5633466">func</span>&nbsp;<span class="ident" id="5633471">encStringArray</span><span class="op" id="5633485">(</span><span class="ident" id="5633486">state</span>&nbsp;<span class="op" id="5633492">*</span><span class="ident" id="5633493">encoderState</span><span class="op" id="5633505">,</span>&nbsp;<span class="ident" id="5633507">v</span>&nbsp;<span class="ident" id="5633509">reflect</span><span class="op" id="5633516">.</span><span class="ident" id="5633517">Value</span><span class="op" id="5633522">)</span>&nbsp;<span class="builtintype" id="5633524">bool</span>&nbsp;<span class="op" id="5633529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5633532">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633573">if</span>&nbsp;<span class="op" id="5633576">!</span><span class="ident" id="5633577">v</span><span class="op" id="5633578">.</span><span class="ident" id="5633579">CanAddr</span><span class="op" id="5633586">(</span><span class="op" id="5633587">)</span>&nbsp;<span class="op" id="5633589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633593">return</span>&nbsp;<span class="builtintype" id="5633600">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633610">return</span>&nbsp;<span class="ident" id="5633617">encStringSlice</span><span class="op" id="5633631">(</span><span class="ident" id="5633632">state</span><span class="op" id="5633637">,</span>&nbsp;<span class="ident" id="5633639">v</span><span class="op" id="5633640">.</span><span class="ident" id="5633641">Slice</span><span class="op" id="5633646">(</span><span class="num" id="5633647">0</span><span class="op" id="5633648">,</span>&nbsp;<span class="ident" id="5633650">v</span><span class="op" id="5633651">.</span><span class="ident" id="5633652">Len</span><span class="op" id="5633655">(</span><span class="op" id="5633656">)</span><span class="op" id="5633657">)</span><span class="op" id="5633658">)</span><br>
<span class="lineno"></span><span class="op" id="5633660">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5633663">func</span>&nbsp;<span class="ident" id="5633668">encStringSlice</span><span class="op" id="5633682">(</span><span class="ident" id="5633683">state</span>&nbsp;<span class="op" id="5633689">*</span><span class="ident" id="5633690">encoderState</span><span class="op" id="5633702">,</span>&nbsp;<span class="ident" id="5633704">v</span>&nbsp;<span class="ident" id="5633706">reflect</span><span class="op" id="5633713">.</span><span class="ident" id="5633714">Value</span><span class="op" id="5633719">)</span>&nbsp;<span class="builtintype" id="5633721">bool</span>&nbsp;<span class="op" id="5633726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633729">slice</span><span class="op" id="5633734">,</span>&nbsp;<span class="ident" id="5633736">ok</span>&nbsp;<span class="op" id="5633739">:=</span>&nbsp;<span class="ident" id="5633742">v</span><span class="op" id="5633743">.</span><span class="ident" id="5633744">Interface</span><span class="op" id="5633753">(</span><span class="op" id="5633754">)</span><span class="op" id="5633755">.</span><span class="op" id="5633756">(</span><span class="op" id="5633757">[</span><span class="op" id="5633758">]</span><span class="builtintype" id="5633759">string</span><span class="op" id="5633765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633768">if</span>&nbsp;<span class="op" id="5633771">!</span><span class="ident" id="5633772">ok</span>&nbsp;<span class="op" id="5633775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5633779">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633858">return</span>&nbsp;<span class="builtintype" id="5633865">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633875">for</span>&nbsp;<span class="ident" id="5633879">_</span><span class="op" id="5633880">,</span>&nbsp;<span class="ident" id="5633882">x</span>&nbsp;<span class="op" id="5633884">:=</span>&nbsp;<span class="keyword" id="5633887">range</span>&nbsp;<span class="ident" id="5633893">slice</span>&nbsp;<span class="op" id="5633899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5633903">if</span>&nbsp;<span class="ident" id="5633906">x</span>&nbsp;<span class="op" id="5633908">!=</span>&nbsp;<span class="string" id="5633911">&#34;&#34;</span>&nbsp;<span class="op" id="5633914">||</span>&nbsp;<span class="ident" id="5633917">state</span><span class="op" id="5633922">.</span><span class="ident" id="5633923">sendZero</span>&nbsp;<span class="op" id="5633932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633937">state</span><span class="op" id="5633942">.</span><span class="ident" id="5633943">encodeUint</span><span class="op" id="5633953">(</span><span class="builtintype" id="5633954">uint64</span><span class="op" id="5633960">(</span><span class="builtinfunc" id="5633961">len</span><span class="op" id="5633964">(</span><span class="ident" id="5633965">x</span><span class="op" id="5633966">)</span><span class="op" id="5633967">)</span><span class="op" id="5633968">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5633973">state</span><span class="op" id="5633978">.</span><span class="ident" id="5633979">b</span><span class="op" id="5633980">.</span><span class="ident" id="5633981">WriteString</span><span class="op" id="5633992">(</span><span class="ident" id="5633993">x</span><span class="op" id="5633994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5633998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634004">return</span>&nbsp;<span class="builtintype" id="5634011">true</span><br>
<span class="lineno"></span><span class="op" id="5634016">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="5634019">func</span>&nbsp;<span class="ident" id="5634024">encUintArray</span><span class="op" id="5634036">(</span><span class="ident" id="5634037">state</span>&nbsp;<span class="op" id="5634043">*</span><span class="ident" id="5634044">encoderState</span><span class="op" id="5634056">,</span>&nbsp;<span class="ident" id="5634058">v</span>&nbsp;<span class="ident" id="5634060">reflect</span><span class="op" id="5634067">.</span><span class="ident" id="5634068">Value</span><span class="op" id="5634073">)</span>&nbsp;<span class="builtintype" id="5634075">bool</span>&nbsp;<span class="op" id="5634080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5634083">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634124">if</span>&nbsp;<span class="op" id="5634127">!</span><span class="ident" id="5634128">v</span><span class="op" id="5634129">.</span><span class="ident" id="5634130">CanAddr</span><span class="op" id="5634137">(</span><span class="op" id="5634138">)</span>&nbsp;<span class="op" id="5634140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634144">return</span>&nbsp;<span class="builtintype" id="5634151">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634161">return</span>&nbsp;<span class="ident" id="5634168">encUintSlice</span><span class="op" id="5634180">(</span><span class="ident" id="5634181">state</span><span class="op" id="5634186">,</span>&nbsp;<span class="ident" id="5634188">v</span><span class="op" id="5634189">.</span><span class="ident" id="5634190">Slice</span><span class="op" id="5634195">(</span><span class="num" id="5634196">0</span><span class="op" id="5634197">,</span>&nbsp;<span class="ident" id="5634199">v</span><span class="op" id="5634200">.</span><span class="ident" id="5634201">Len</span><span class="op" id="5634204">(</span><span class="op" id="5634205">)</span><span class="op" id="5634206">)</span><span class="op" id="5634207">)</span><br>
<span class="lineno"></span><span class="op" id="5634209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5634212">func</span>&nbsp;<span class="ident" id="5634217">encUintSlice</span><span class="op" id="5634229">(</span><span class="ident" id="5634230">state</span>&nbsp;<span class="op" id="5634236">*</span><span class="ident" id="5634237">encoderState</span><span class="op" id="5634249">,</span>&nbsp;<span class="ident" id="5634251">v</span>&nbsp;<span class="ident" id="5634253">reflect</span><span class="op" id="5634260">.</span><span class="ident" id="5634261">Value</span><span class="op" id="5634266">)</span>&nbsp;<span class="builtintype" id="5634268">bool</span>&nbsp;<span class="op" id="5634273">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634276">slice</span><span class="op" id="5634281">,</span>&nbsp;<span class="ident" id="5634283">ok</span>&nbsp;<span class="op" id="5634286">:=</span>&nbsp;<span class="ident" id="5634289">v</span><span class="op" id="5634290">.</span><span class="ident" id="5634291">Interface</span><span class="op" id="5634300">(</span><span class="op" id="5634301">)</span><span class="op" id="5634302">.</span><span class="op" id="5634303">(</span><span class="op" id="5634304">[</span><span class="op" id="5634305">]</span><span class="builtintype" id="5634306">uint</span><span class="op" id="5634310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634313">if</span>&nbsp;<span class="op" id="5634316">!</span><span class="ident" id="5634317">ok</span>&nbsp;<span class="op" id="5634320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5634324">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634399">return</span>&nbsp;<span class="builtintype" id="5634406">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634413">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634416">for</span>&nbsp;<span class="ident" id="5634420">_</span><span class="op" id="5634421">,</span>&nbsp;<span class="ident" id="5634423">x</span>&nbsp;<span class="op" id="5634425">:=</span>&nbsp;<span class="keyword" id="5634428">range</span>&nbsp;<span class="ident" id="5634434">slice</span>&nbsp;<span class="op" id="5634440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634444">if</span>&nbsp;<span class="ident" id="5634447">x</span>&nbsp;<span class="op" id="5634449">!=</span>&nbsp;<span class="num" id="5634452">0</span>&nbsp;<span class="op" id="5634454">||</span>&nbsp;<span class="ident" id="5634457">state</span><span class="op" id="5634462">.</span><span class="ident" id="5634463">sendZero</span>&nbsp;<span class="op" id="5634472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634477">state</span><span class="op" id="5634482">.</span><span class="ident" id="5634483">encodeUint</span><span class="op" id="5634493">(</span><span class="builtintype" id="5634494">uint64</span><span class="op" id="5634500">(</span><span class="ident" id="5634501">x</span><span class="op" id="5634502">)</span><span class="op" id="5634503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634510">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634513">return</span>&nbsp;<span class="builtintype" id="5634520">true</span><br>
<span class="lineno"></span><span class="op" id="5634525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5634528">func</span>&nbsp;<span class="ident" id="5634533">encUint16Array</span><span class="op" id="5634547">(</span><span class="ident" id="5634548">state</span>&nbsp;<span class="op" id="5634554">*</span><span class="ident" id="5634555">encoderState</span><span class="op" id="5634567">,</span>&nbsp;<span class="ident" id="5634569">v</span>&nbsp;<span class="ident" id="5634571">reflect</span><span class="op" id="5634578">.</span><span class="ident" id="5634579">Value</span><span class="op" id="5634584">)</span>&nbsp;<span class="builtintype" id="5634586">bool</span>&nbsp;<span class="op" id="5634591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5634594">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634635">if</span>&nbsp;<span class="op" id="5634638">!</span><span class="ident" id="5634639">v</span><span class="op" id="5634640">.</span><span class="ident" id="5634641">CanAddr</span><span class="op" id="5634648">(</span><span class="op" id="5634649">)</span>&nbsp;<span class="op" id="5634651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634655">return</span>&nbsp;<span class="builtintype" id="5634662">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634672">return</span>&nbsp;<span class="ident" id="5634679">encUint16Slice</span><span class="op" id="5634693">(</span><span class="ident" id="5634694">state</span><span class="op" id="5634699">,</span>&nbsp;<span class="ident" id="5634701">v</span><span class="op" id="5634702">.</span><span class="ident" id="5634703">Slice</span><span class="op" id="5634708">(</span><span class="num" id="5634709">0</span><span class="op" id="5634710">,</span>&nbsp;<span class="ident" id="5634712">v</span><span class="op" id="5634713">.</span><span class="ident" id="5634714">Len</span><span class="op" id="5634717">(</span><span class="op" id="5634718">)</span><span class="op" id="5634719">)</span><span class="op" id="5634720">)</span><br>
<span class="lineno"></span><span class="op" id="5634722">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="5634725">func</span>&nbsp;<span class="ident" id="5634730">encUint16Slice</span><span class="op" id="5634744">(</span><span class="ident" id="5634745">state</span>&nbsp;<span class="op" id="5634751">*</span><span class="ident" id="5634752">encoderState</span><span class="op" id="5634764">,</span>&nbsp;<span class="ident" id="5634766">v</span>&nbsp;<span class="ident" id="5634768">reflect</span><span class="op" id="5634775">.</span><span class="ident" id="5634776">Value</span><span class="op" id="5634781">)</span>&nbsp;<span class="builtintype" id="5634783">bool</span>&nbsp;<span class="op" id="5634788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634791">slice</span><span class="op" id="5634796">,</span>&nbsp;<span class="ident" id="5634798">ok</span>&nbsp;<span class="op" id="5634801">:=</span>&nbsp;<span class="ident" id="5634804">v</span><span class="op" id="5634805">.</span><span class="ident" id="5634806">Interface</span><span class="op" id="5634815">(</span><span class="op" id="5634816">)</span><span class="op" id="5634817">.</span><span class="op" id="5634818">(</span><span class="op" id="5634819">[</span><span class="op" id="5634820">]</span><span class="builtintype" id="5634821">uint16</span><span class="op" id="5634827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634830">if</span>&nbsp;<span class="op" id="5634833">!</span><span class="ident" id="5634834">ok</span>&nbsp;<span class="op" id="5634837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5634841">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634920">return</span>&nbsp;<span class="builtintype" id="5634927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5634934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634937">for</span>&nbsp;<span class="ident" id="5634941">_</span><span class="op" id="5634942">,</span>&nbsp;<span class="ident" id="5634944">x</span>&nbsp;<span class="op" id="5634946">:=</span>&nbsp;<span class="keyword" id="5634949">range</span>&nbsp;<span class="ident" id="5634955">slice</span>&nbsp;<span class="op" id="5634961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5634965">if</span>&nbsp;<span class="ident" id="5634968">x</span>&nbsp;<span class="op" id="5634970">!=</span>&nbsp;<span class="num" id="5634973">0</span>&nbsp;<span class="op" id="5634975">||</span>&nbsp;<span class="ident" id="5634978">state</span><span class="op" id="5634983">.</span><span class="ident" id="5634984">sendZero</span>&nbsp;<span class="op" id="5634993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5634998">state</span><span class="op" id="5635003">.</span><span class="ident" id="5635004">encodeUint</span><span class="op" id="5635014">(</span><span class="builtintype" id="5635015">uint64</span><span class="op" id="5635021">(</span><span class="ident" id="5635022">x</span><span class="op" id="5635023">)</span><span class="op" id="5635024">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635034">return</span>&nbsp;<span class="builtintype" id="5635041">true</span><br>
<span class="lineno"></span><span class="op" id="5635046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5635049">func</span>&nbsp;<span class="ident" id="5635054">encUint32Array</span><span class="op" id="5635068">(</span><span class="ident" id="5635069">state</span>&nbsp;<span class="op" id="5635075">*</span><span class="ident" id="5635076">encoderState</span><span class="op" id="5635088">,</span>&nbsp;<span class="ident" id="5635090">v</span>&nbsp;<span class="ident" id="5635092">reflect</span><span class="op" id="5635099">.</span><span class="ident" id="5635100">Value</span><span class="op" id="5635105">)</span>&nbsp;<span class="builtintype" id="5635107">bool</span>&nbsp;<span class="op" id="5635112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5635115">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635156">if</span>&nbsp;<span class="op" id="5635159">!</span><span class="ident" id="5635160">v</span><span class="op" id="5635161">.</span><span class="ident" id="5635162">CanAddr</span><span class="op" id="5635169">(</span><span class="op" id="5635170">)</span>&nbsp;<span class="op" id="5635172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635176">return</span>&nbsp;<span class="builtintype" id="5635183">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635190">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635193">return</span>&nbsp;<span class="ident" id="5635200">encUint32Slice</span><span class="op" id="5635214">(</span><span class="ident" id="5635215">state</span><span class="op" id="5635220">,</span>&nbsp;<span class="ident" id="5635222">v</span><span class="op" id="5635223">.</span><span class="ident" id="5635224">Slice</span><span class="op" id="5635229">(</span><span class="num" id="5635230">0</span><span class="op" id="5635231">,</span>&nbsp;<span class="ident" id="5635233">v</span><span class="op" id="5635234">.</span><span class="ident" id="5635235">Len</span><span class="op" id="5635238">(</span><span class="op" id="5635239">)</span><span class="op" id="5635240">)</span><span class="op" id="5635241">)</span><br>
<span class="lineno"></span><span class="op" id="5635243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5635246">func</span>&nbsp;<span class="ident" id="5635251">encUint32Slice</span><span class="op" id="5635265">(</span><span class="ident" id="5635266">state</span>&nbsp;<span class="op" id="5635272">*</span><span class="ident" id="5635273">encoderState</span><span class="op" id="5635285">,</span>&nbsp;<span class="ident" id="5635287">v</span>&nbsp;<span class="ident" id="5635289">reflect</span><span class="op" id="5635296">.</span><span class="ident" id="5635297">Value</span><span class="op" id="5635302">)</span>&nbsp;<span class="builtintype" id="5635304">bool</span>&nbsp;<span class="op" id="5635309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5635312">slice</span><span class="op" id="5635317">,</span>&nbsp;<span class="ident" id="5635319">ok</span>&nbsp;<span class="op" id="5635322">:=</span>&nbsp;<span class="ident" id="5635325">v</span><span class="op" id="5635326">.</span><span class="ident" id="5635327">Interface</span><span class="op" id="5635336">(</span><span class="op" id="5635337">)</span><span class="op" id="5635338">.</span><span class="op" id="5635339">(</span><span class="op" id="5635340">[</span><span class="op" id="5635341">]</span><span class="builtintype" id="5635342">uint32</span><span class="op" id="5635348">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635351">if</span>&nbsp;<span class="op" id="5635354">!</span><span class="ident" id="5635355">ok</span>&nbsp;<span class="op" id="5635358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5635362">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635441">return</span>&nbsp;<span class="builtintype" id="5635448">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635458">for</span>&nbsp;<span class="ident" id="5635462">_</span><span class="op" id="5635463">,</span>&nbsp;<span class="ident" id="5635465">x</span>&nbsp;<span class="op" id="5635467">:=</span>&nbsp;<span class="keyword" id="5635470">range</span>&nbsp;<span class="ident" id="5635476">slice</span>&nbsp;<span class="op" id="5635482">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635486">if</span>&nbsp;<span class="ident" id="5635489">x</span>&nbsp;<span class="op" id="5635491">!=</span>&nbsp;<span class="num" id="5635494">0</span>&nbsp;<span class="op" id="5635496">||</span>&nbsp;<span class="ident" id="5635499">state</span><span class="op" id="5635504">.</span><span class="ident" id="5635505">sendZero</span>&nbsp;<span class="op" id="5635514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5635519">state</span><span class="op" id="5635524">.</span><span class="ident" id="5635525">encodeUint</span><span class="op" id="5635535">(</span><span class="builtintype" id="5635536">uint64</span><span class="op" id="5635542">(</span><span class="ident" id="5635543">x</span><span class="op" id="5635544">)</span><span class="op" id="5635545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635555">return</span>&nbsp;<span class="builtintype" id="5635562">true</span><br>
<span class="lineno">370</span><span class="op" id="5635567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5635570">func</span>&nbsp;<span class="ident" id="5635575">encUint64Array</span><span class="op" id="5635589">(</span><span class="ident" id="5635590">state</span>&nbsp;<span class="op" id="5635596">*</span><span class="ident" id="5635597">encoderState</span><span class="op" id="5635609">,</span>&nbsp;<span class="ident" id="5635611">v</span>&nbsp;<span class="ident" id="5635613">reflect</span><span class="op" id="5635620">.</span><span class="ident" id="5635621">Value</span><span class="op" id="5635626">)</span>&nbsp;<span class="builtintype" id="5635628">bool</span>&nbsp;<span class="op" id="5635633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5635636">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635677">if</span>&nbsp;<span class="op" id="5635680">!</span><span class="ident" id="5635681">v</span><span class="op" id="5635682">.</span><span class="ident" id="5635683">CanAddr</span><span class="op" id="5635690">(</span><span class="op" id="5635691">)</span>&nbsp;<span class="op" id="5635693">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635697">return</span>&nbsp;<span class="builtintype" id="5635704">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635714">return</span>&nbsp;<span class="ident" id="5635721">encUint64Slice</span><span class="op" id="5635735">(</span><span class="ident" id="5635736">state</span><span class="op" id="5635741">,</span>&nbsp;<span class="ident" id="5635743">v</span><span class="op" id="5635744">.</span><span class="ident" id="5635745">Slice</span><span class="op" id="5635750">(</span><span class="num" id="5635751">0</span><span class="op" id="5635752">,</span>&nbsp;<span class="ident" id="5635754">v</span><span class="op" id="5635755">.</span><span class="ident" id="5635756">Len</span><span class="op" id="5635759">(</span><span class="op" id="5635760">)</span><span class="op" id="5635761">)</span><span class="op" id="5635762">)</span><br>
<span class="lineno"></span><span class="op" id="5635764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5635767">func</span>&nbsp;<span class="ident" id="5635772">encUint64Slice</span><span class="op" id="5635786">(</span><span class="ident" id="5635787">state</span>&nbsp;<span class="op" id="5635793">*</span><span class="ident" id="5635794">encoderState</span><span class="op" id="5635806">,</span>&nbsp;<span class="ident" id="5635808">v</span>&nbsp;<span class="ident" id="5635810">reflect</span><span class="op" id="5635817">.</span><span class="ident" id="5635818">Value</span><span class="op" id="5635823">)</span>&nbsp;<span class="builtintype" id="5635825">bool</span>&nbsp;<span class="op" id="5635830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5635833">slice</span><span class="op" id="5635838">,</span>&nbsp;<span class="ident" id="5635840">ok</span>&nbsp;<span class="op" id="5635843">:=</span>&nbsp;<span class="ident" id="5635846">v</span><span class="op" id="5635847">.</span><span class="ident" id="5635848">Interface</span><span class="op" id="5635857">(</span><span class="op" id="5635858">)</span><span class="op" id="5635859">.</span><span class="op" id="5635860">(</span><span class="op" id="5635861">[</span><span class="op" id="5635862">]</span><span class="builtintype" id="5635863">uint64</span><span class="op" id="5635869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635872">if</span>&nbsp;<span class="op" id="5635875">!</span><span class="ident" id="5635876">ok</span>&nbsp;<span class="op" id="5635879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5635883">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635962">return</span>&nbsp;<span class="builtintype" id="5635969">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5635976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5635979">for</span>&nbsp;<span class="ident" id="5635983">_</span><span class="op" id="5635984">,</span>&nbsp;<span class="ident" id="5635986">x</span>&nbsp;<span class="op" id="5635988">:=</span>&nbsp;<span class="keyword" id="5635991">range</span>&nbsp;<span class="ident" id="5635997">slice</span>&nbsp;<span class="op" id="5636003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636007">if</span>&nbsp;<span class="ident" id="5636010">x</span>&nbsp;<span class="op" id="5636012">!=</span>&nbsp;<span class="num" id="5636015">0</span>&nbsp;<span class="op" id="5636017">||</span>&nbsp;<span class="ident" id="5636020">state</span><span class="op" id="5636025">.</span><span class="ident" id="5636026">sendZero</span>&nbsp;<span class="op" id="5636035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5636040">state</span><span class="op" id="5636045">.</span><span class="ident" id="5636046">encodeUint</span><span class="op" id="5636056">(</span><span class="ident" id="5636057">x</span><span class="op" id="5636058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636062">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636068">return</span>&nbsp;<span class="builtintype" id="5636075">true</span><br>
<span class="lineno"></span><span class="op" id="5636080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5636083">func</span>&nbsp;<span class="ident" id="5636088">encUintptrArray</span><span class="op" id="5636103">(</span><span class="ident" id="5636104">state</span>&nbsp;<span class="op" id="5636110">*</span><span class="ident" id="5636111">encoderState</span><span class="op" id="5636123">,</span>&nbsp;<span class="ident" id="5636125">v</span>&nbsp;<span class="ident" id="5636127">reflect</span><span class="op" id="5636134">.</span><span class="ident" id="5636135">Value</span><span class="op" id="5636140">)</span>&nbsp;<span class="builtintype" id="5636142">bool</span>&nbsp;<span class="op" id="5636147">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5636150">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636191">if</span>&nbsp;<span class="op" id="5636194">!</span><span class="ident" id="5636195">v</span><span class="op" id="5636196">.</span><span class="ident" id="5636197">CanAddr</span><span class="op" id="5636204">(</span><span class="op" id="5636205">)</span>&nbsp;<span class="op" id="5636207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636211">return</span>&nbsp;<span class="builtintype" id="5636218">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636228">return</span>&nbsp;<span class="ident" id="5636235">encUintptrSlice</span><span class="op" id="5636250">(</span><span class="ident" id="5636251">state</span><span class="op" id="5636256">,</span>&nbsp;<span class="ident" id="5636258">v</span><span class="op" id="5636259">.</span><span class="ident" id="5636260">Slice</span><span class="op" id="5636265">(</span><span class="num" id="5636266">0</span><span class="op" id="5636267">,</span>&nbsp;<span class="ident" id="5636269">v</span><span class="op" id="5636270">.</span><span class="ident" id="5636271">Len</span><span class="op" id="5636274">(</span><span class="op" id="5636275">)</span><span class="op" id="5636276">)</span><span class="op" id="5636277">)</span><br>
<span class="lineno">400</span><span class="op" id="5636279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5636282">func</span>&nbsp;<span class="ident" id="5636287">encUintptrSlice</span><span class="op" id="5636302">(</span><span class="ident" id="5636303">state</span>&nbsp;<span class="op" id="5636309">*</span><span class="ident" id="5636310">encoderState</span><span class="op" id="5636322">,</span>&nbsp;<span class="ident" id="5636324">v</span>&nbsp;<span class="ident" id="5636326">reflect</span><span class="op" id="5636333">.</span><span class="ident" id="5636334">Value</span><span class="op" id="5636339">)</span>&nbsp;<span class="builtintype" id="5636341">bool</span>&nbsp;<span class="op" id="5636346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5636349">slice</span><span class="op" id="5636354">,</span>&nbsp;<span class="ident" id="5636356">ok</span>&nbsp;<span class="op" id="5636359">:=</span>&nbsp;<span class="ident" id="5636362">v</span><span class="op" id="5636363">.</span><span class="ident" id="5636364">Interface</span><span class="op" id="5636373">(</span><span class="op" id="5636374">)</span><span class="op" id="5636375">.</span><span class="op" id="5636376">(</span><span class="op" id="5636377">[</span><span class="op" id="5636378">]</span><span class="builtintype" id="5636379">uintptr</span><span class="op" id="5636386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636389">if</span>&nbsp;<span class="op" id="5636392">!</span><span class="ident" id="5636393">ok</span>&nbsp;<span class="op" id="5636396">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5636400">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636481">return</span>&nbsp;<span class="builtintype" id="5636488">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636498">for</span>&nbsp;<span class="ident" id="5636502">_</span><span class="op" id="5636503">,</span>&nbsp;<span class="ident" id="5636505">x</span>&nbsp;<span class="op" id="5636507">:=</span>&nbsp;<span class="keyword" id="5636510">range</span>&nbsp;<span class="ident" id="5636516">slice</span>&nbsp;<span class="op" id="5636522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636526">if</span>&nbsp;<span class="ident" id="5636529">x</span>&nbsp;<span class="op" id="5636531">!=</span>&nbsp;<span class="num" id="5636534">0</span>&nbsp;<span class="op" id="5636536">||</span>&nbsp;<span class="ident" id="5636539">state</span><span class="op" id="5636544">.</span><span class="ident" id="5636545">sendZero</span>&nbsp;<span class="op" id="5636554">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5636559">state</span><span class="op" id="5636564">.</span><span class="ident" id="5636565">encodeUint</span><span class="op" id="5636575">(</span><span class="builtintype" id="5636576">uint64</span><span class="op" id="5636582">(</span><span class="ident" id="5636583">x</span><span class="op" id="5636584">)</span><span class="op" id="5636585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5636592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5636595">return</span>&nbsp;<span class="builtintype" id="5636602">true</span><br>
<span class="lineno"></span><span class="op" id="5636607">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
