<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html" class="current">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8302159">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8302214">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8302268">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8302319">package</span>&nbsp;<span class="ident" id="8302327">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8302334">import</span>&nbsp;<span class="op" id="8302341">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8302344">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8302353">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8302359">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8302369">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8302372">func</span>&nbsp;<span class="ident" id="8302377">TestReset</span><span class="op" id="8302386">(</span><span class="ident" id="8302387">t</span>&nbsp;<span class="op" id="8302389">*</span><span class="ident" id="8302390">testing</span><span class="op" id="8302397">.</span><span class="ident" id="8302398">T</span><span class="op" id="8302399">)</span>&nbsp;<span class="op" id="8302401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302404">ss</span>&nbsp;<span class="op" id="8302407">:=</span>&nbsp;<span class="op" id="8302410">[</span><span class="op" id="8302411">]</span><span class="builtintype" id="8302412">string</span><span class="op" id="8302418">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8302422">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="8302451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8302455">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="8302488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8302491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302495">deflated</span>&nbsp;<span class="op" id="8302504">:=</span>&nbsp;<span class="builtinfunc" id="8302507">make</span><span class="op" id="8302511">(</span><span class="op" id="8302512">[</span><span class="op" id="8302513">]</span><span class="ident" id="8302514">bytes</span><span class="op" id="8302519">.</span><span class="ident" id="8302520">Buffer</span><span class="op" id="8302526">,</span>&nbsp;<span class="num" id="8302528">2</span><span class="op" id="8302529">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8302532">for</span>&nbsp;<span class="ident" id="8302536">i</span><span class="op" id="8302537">,</span>&nbsp;<span class="ident" id="8302539">s</span>&nbsp;<span class="op" id="8302541">:=</span>&nbsp;<span class="keyword" id="8302544">range</span>&nbsp;<span class="ident" id="8302550">ss</span>&nbsp;<span class="op" id="8302553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302557">w</span><span class="op" id="8302558">,</span>&nbsp;<span class="ident" id="8302560">_</span>&nbsp;<span class="op" id="8302562">:=</span>&nbsp;<span class="ident" id="8302565">NewWriter</span><span class="op" id="8302574">(</span><span class="op" id="8302575">&amp;</span><span class="ident" id="8302576">deflated</span><span class="op" id="8302584">[</span><span class="ident" id="8302585">i</span><span class="op" id="8302586">]</span><span class="op" id="8302587">,</span>&nbsp;<span class="num" id="8302589">1</span><span class="op" id="8302590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302594">w</span><span class="op" id="8302595">.</span><span class="ident" id="8302596">Write</span><span class="op" id="8302601">(</span><span class="op" id="8302602">[</span><span class="op" id="8302603">]</span><span class="builtintype" id="8302604">byte</span><span class="op" id="8302608">(</span><span class="ident" id="8302609">s</span><span class="op" id="8302610">)</span><span class="op" id="8302611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302615">w</span><span class="op" id="8302616">.</span><span class="ident" id="8302617">Close</span><span class="op" id="8302622">(</span><span class="op" id="8302623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8302626">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302630">inflated</span>&nbsp;<span class="op" id="8302639">:=</span>&nbsp;<span class="builtinfunc" id="8302642">make</span><span class="op" id="8302646">(</span><span class="op" id="8302647">[</span><span class="op" id="8302648">]</span><span class="ident" id="8302649">bytes</span><span class="op" id="8302654">.</span><span class="ident" id="8302655">Buffer</span><span class="op" id="8302661">,</span>&nbsp;<span class="num" id="8302663">2</span><span class="op" id="8302664">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302668">f</span>&nbsp;<span class="op" id="8302670">:=</span>&nbsp;<span class="ident" id="8302673">NewReader</span><span class="op" id="8302682">(</span><span class="op" id="8302683">&amp;</span><span class="ident" id="8302684">deflated</span><span class="op" id="8302692">[</span><span class="num" id="8302693">0</span><span class="op" id="8302694">]</span><span class="op" id="8302695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302698">io</span><span class="op" id="8302700">.</span><span class="ident" id="8302701">Copy</span><span class="op" id="8302705">(</span><span class="op" id="8302706">&amp;</span><span class="ident" id="8302707">inflated</span><span class="op" id="8302715">[</span><span class="num" id="8302716">0</span><span class="op" id="8302717">]</span><span class="op" id="8302718">,</span>&nbsp;<span class="ident" id="8302720">f</span><span class="op" id="8302721">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302724">f</span><span class="op" id="8302725">.</span><span class="op" id="8302726">(</span><span class="ident" id="8302727">Resetter</span><span class="op" id="8302735">)</span><span class="op" id="8302736">.</span><span class="ident" id="8302737">Reset</span><span class="op" id="8302742">(</span><span class="op" id="8302743">&amp;</span><span class="ident" id="8302744">deflated</span><span class="op" id="8302752">[</span><span class="num" id="8302753">1</span><span class="op" id="8302754">]</span><span class="op" id="8302755">,</span>&nbsp;<span class="builtintype" id="8302757">nil</span><span class="op" id="8302760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302763">io</span><span class="op" id="8302765">.</span><span class="ident" id="8302766">Copy</span><span class="op" id="8302770">(</span><span class="op" id="8302771">&amp;</span><span class="ident" id="8302772">inflated</span><span class="op" id="8302780">[</span><span class="num" id="8302781">1</span><span class="op" id="8302782">]</span><span class="op" id="8302783">,</span>&nbsp;<span class="ident" id="8302785">f</span><span class="op" id="8302786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302789">f</span><span class="op" id="8302790">.</span><span class="ident" id="8302791">Close</span><span class="op" id="8302796">(</span><span class="op" id="8302797">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8302801">for</span>&nbsp;<span class="ident" id="8302805">i</span><span class="op" id="8302806">,</span>&nbsp;<span class="ident" id="8302808">s</span>&nbsp;<span class="op" id="8302810">:=</span>&nbsp;<span class="keyword" id="8302813">range</span>&nbsp;<span class="ident" id="8302819">ss</span>&nbsp;<span class="op" id="8302822">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8302826">if</span>&nbsp;<span class="ident" id="8302829">s</span>&nbsp;<span class="op" id="8302831">!=</span>&nbsp;<span class="ident" id="8302834">inflated</span><span class="op" id="8302842">[</span><span class="ident" id="8302843">i</span><span class="op" id="8302844">]</span><span class="op" id="8302845">.</span><span class="ident" id="8302846">String</span><span class="op" id="8302852">(</span><span class="op" id="8302853">)</span>&nbsp;<span class="op" id="8302855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8302860">t</span><span class="op" id="8302861">.</span><span class="ident" id="8302862">Errorf</span><span class="op" id="8302868">(</span><span class="string" id="8302869">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="8302902">,</span>&nbsp;<span class="ident" id="8302904">i</span><span class="op" id="8302905">,</span>&nbsp;<span class="ident" id="8302907">inflated</span><span class="op" id="8302915">[</span><span class="ident" id="8302916">i</span><span class="op" id="8302917">]</span><span class="op" id="8302918">,</span>&nbsp;<span class="ident" id="8302920">s</span><span class="op" id="8302921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8302925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8302928">}</span><br>
<span class="lineno"></span><span class="op" id="8302930">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
