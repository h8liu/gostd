<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7658784">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7658839">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7658893">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7658944">package</span>&nbsp;<span class="ident" id="7658952">png</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7658957">import</span>&nbsp;<span class="op" id="7658964">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7658967">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7658976">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7658989">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7658999">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7659002">func</span>&nbsp;<span class="ident" id="7659007">slowAbs</span><span class="op" id="7659014">(</span><span class="ident" id="7659015">x</span>&nbsp;<span class="builtintype" id="7659017">int</span><span class="op" id="7659020">)</span>&nbsp;<span class="builtintype" id="7659022">int</span>&nbsp;<span class="op" id="7659026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659029">if</span>&nbsp;<span class="ident" id="7659032"><a href="/image/png/paeth_test.go.html#7659015">x</a></span>&nbsp;<span class="op" id="7659034">&lt;</span>&nbsp;<span class="num" id="7659036">0</span>&nbsp;<span class="op" id="7659038">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659042">return</span>&nbsp;<span class="op" id="7659049">-</span><span class="ident" id="7659050"><a href="/image/png/paeth_test.go.html#7659015">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659056">return</span>&nbsp;<span class="ident" id="7659063"><a href="/image/png/paeth_test.go.html#7659015">x</a></span><br>
<span class="lineno"></span><span class="op" id="7659065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="7659068">//&nbsp;slowPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Paeth&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="7659140">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;the&nbsp;PNG&nbsp;spec,&nbsp;section&nbsp;9.4.</span><br>
<span class="lineno"></span><span class="keyword" id="7659214">func</span>&nbsp;<span class="ident" id="7659219">slowPaeth</span><span class="op" id="7659228">(</span><span class="ident" id="7659229">a</span><span class="op" id="7659230">,</span>&nbsp;<span class="ident" id="7659232">b</span><span class="op" id="7659233">,</span>&nbsp;<span class="ident" id="7659235">c</span>&nbsp;<span class="builtintype" id="7659237">uint8</span><span class="op" id="7659242">)</span>&nbsp;<span class="builtintype" id="7659244">uint8</span>&nbsp;<span class="op" id="7659250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659253">p</span>&nbsp;<span class="op" id="7659255">:=</span>&nbsp;<span class="builtintype" id="7659258">int</span><span class="op" id="7659261">(</span><span class="ident" id="7659262"><a href="/image/png/paeth_test.go.html#7659229">a</a></span><span class="op" id="7659263">)</span>&nbsp;<span class="op" id="7659265">+</span>&nbsp;<span class="builtintype" id="7659267">int</span><span class="op" id="7659270">(</span><span class="ident" id="7659271"><a href="/image/png/paeth_test.go.html#7659232">b</a></span><span class="op" id="7659272">)</span>&nbsp;<span class="op" id="7659274">-</span>&nbsp;<span class="builtintype" id="7659276">int</span><span class="op" id="7659279">(</span><span class="ident" id="7659280"><a href="/image/png/paeth_test.go.html#7659235">c</a></span><span class="op" id="7659281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659284">pa</span>&nbsp;<span class="op" id="7659287">:=</span>&nbsp;<span class="ident" id="7659290"><a href="/image/png/paeth_test.go.html#7659007">slowAbs</a></span><span class="op" id="7659297">(</span><span class="ident" id="7659298"><a href="/image/png/paeth_test.go.html#7659253">p</a></span>&nbsp;<span class="op" id="7659300">-</span>&nbsp;<span class="builtintype" id="7659302">int</span><span class="op" id="7659305">(</span><span class="ident" id="7659306"><a href="/image/png/paeth_test.go.html#7659229">a</a></span><span class="op" id="7659307">)</span><span class="op" id="7659308">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659311">pb</span>&nbsp;<span class="op" id="7659314">:=</span>&nbsp;<span class="ident" id="7659317"><a href="/image/png/paeth_test.go.html#7659007">slowAbs</a></span><span class="op" id="7659324">(</span><span class="ident" id="7659325"><a href="/image/png/paeth_test.go.html#7659253">p</a></span>&nbsp;<span class="op" id="7659327">-</span>&nbsp;<span class="builtintype" id="7659329">int</span><span class="op" id="7659332">(</span><span class="ident" id="7659333"><a href="/image/png/paeth_test.go.html#7659232">b</a></span><span class="op" id="7659334">)</span><span class="op" id="7659335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659338">pc</span>&nbsp;<span class="op" id="7659341">:=</span>&nbsp;<span class="ident" id="7659344"><a href="/image/png/paeth_test.go.html#7659007">slowAbs</a></span><span class="op" id="7659351">(</span><span class="ident" id="7659352"><a href="/image/png/paeth_test.go.html#7659253">p</a></span>&nbsp;<span class="op" id="7659354">-</span>&nbsp;<span class="builtintype" id="7659356">int</span><span class="op" id="7659359">(</span><span class="ident" id="7659360"><a href="/image/png/paeth_test.go.html#7659235">c</a></span><span class="op" id="7659361">)</span><span class="op" id="7659362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659365">if</span>&nbsp;<span class="ident" id="7659368"><a href="/image/png/paeth_test.go.html#7659284">pa</a></span>&nbsp;<span class="op" id="7659371">&lt;=</span>&nbsp;<span class="ident" id="7659374"><a href="/image/png/paeth_test.go.html#7659311">pb</a></span>&nbsp;<span class="op" id="7659377">&amp;&amp;</span>&nbsp;<span class="ident" id="7659380"><a href="/image/png/paeth_test.go.html#7659284">pa</a></span>&nbsp;<span class="op" id="7659383">&lt;=</span>&nbsp;<span class="ident" id="7659386"><a href="/image/png/paeth_test.go.html#7659338">pc</a></span>&nbsp;<span class="op" id="7659389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659393">return</span>&nbsp;<span class="ident" id="7659400"><a href="/image/png/paeth_test.go.html#7659229">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659403">}</span>&nbsp;<span class="keyword" id="7659405">else</span>&nbsp;<span class="keyword" id="7659410">if</span>&nbsp;<span class="ident" id="7659413"><a href="/image/png/paeth_test.go.html#7659311">pb</a></span>&nbsp;<span class="op" id="7659416">&lt;=</span>&nbsp;<span class="ident" id="7659419"><a href="/image/png/paeth_test.go.html#7659338">pc</a></span>&nbsp;<span class="op" id="7659422">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659426">return</span>&nbsp;<span class="ident" id="7659433"><a href="/image/png/paeth_test.go.html#7659232">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659439">return</span>&nbsp;<span class="ident" id="7659446"><a href="/image/png/paeth_test.go.html#7659235">c</a></span><br>
<span class="lineno"></span><span class="op" id="7659448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="7659451">//&nbsp;slowFilterPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;func&nbsp;filterPaeth.</span><br>
<span class="lineno"></span><span class="keyword" id="7659527">func</span>&nbsp;<span class="ident" id="7659532">slowFilterPaeth</span><span class="op" id="7659547">(</span><span class="ident" id="7659548">cdat</span><span class="op" id="7659552">,</span>&nbsp;<span class="ident" id="7659554">pdat</span>&nbsp;<span class="op" id="7659559">[</span><span class="op" id="7659560">]</span><span class="builtintype" id="7659561">byte</span><span class="op" id="7659565">,</span>&nbsp;<span class="ident" id="7659567">bytesPerPixel</span>&nbsp;<span class="builtintype" id="7659581">int</span><span class="op" id="7659584">)</span>&nbsp;<span class="op" id="7659586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659589">for</span>&nbsp;<span class="ident" id="7659593">i</span>&nbsp;<span class="op" id="7659595">:=</span>&nbsp;<span class="num" id="7659598">0</span><span class="op" id="7659599">;</span>&nbsp;<span class="ident" id="7659601"><a href="/image/png/paeth_test.go.html#7659593">i</a></span>&nbsp;<span class="op" id="7659603">&lt;</span>&nbsp;<span class="ident" id="7659605"><a href="/image/png/paeth_test.go.html#7659567">bytesPerPixel</a></span><span class="op" id="7659618">;</span>&nbsp;<span class="ident" id="7659620"><a href="/image/png/paeth_test.go.html#7659593">i</a></span><span class="op" id="7659621">++</span>&nbsp;<span class="op" id="7659624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659628"><a href="/image/png/paeth_test.go.html#7659548">cdat</a></span><span class="op" id="7659632">[</span><span class="ident" id="7659633"><a href="/image/png/paeth_test.go.html#7659593">i</a></span><span class="op" id="7659634">]</span>&nbsp;<span class="op" id="7659636">+=</span>&nbsp;<span class="ident" id="7659639"><a href="/image/png/paeth.go.html#5576734">paeth</a></span><span class="op" id="7659644">(</span><span class="num" id="7659645">0</span><span class="op" id="7659646">,</span>&nbsp;<span class="ident" id="7659648"><a href="/image/png/paeth_test.go.html#7659554">pdat</a></span><span class="op" id="7659652">[</span><span class="ident" id="7659653"><a href="/image/png/paeth_test.go.html#7659593">i</a></span><span class="op" id="7659654">]</span><span class="op" id="7659655">,</span>&nbsp;<span class="num" id="7659657">0</span><span class="op" id="7659658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659661">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659664">for</span>&nbsp;<span class="ident" id="7659668">i</span>&nbsp;<span class="op" id="7659670">:=</span>&nbsp;<span class="ident" id="7659673"><a href="/image/png/paeth_test.go.html#7659567">bytesPerPixel</a></span><span class="op" id="7659686">;</span>&nbsp;<span class="ident" id="7659688"><a href="/image/png/paeth_test.go.html#7659668">i</a></span>&nbsp;<span class="op" id="7659690">&lt;</span>&nbsp;<span class="builtinfunc" id="7659692">len</span><span class="op" id="7659695">(</span><span class="ident" id="7659696"><a href="/image/png/paeth_test.go.html#7659548">cdat</a></span><span class="op" id="7659700">)</span><span class="op" id="7659701">;</span>&nbsp;<span class="ident" id="7659703"><a href="/image/png/paeth_test.go.html#7659668">i</a></span><span class="op" id="7659704">++</span>&nbsp;<span class="op" id="7659707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659711"><a href="/image/png/paeth_test.go.html#7659548">cdat</a></span><span class="op" id="7659715">[</span><span class="ident" id="7659716"><a href="/image/png/paeth_test.go.html#7659668">i</a></span><span class="op" id="7659717">]</span>&nbsp;<span class="op" id="7659719">+=</span>&nbsp;<span class="ident" id="7659722"><a href="/image/png/paeth.go.html#5576734">paeth</a></span><span class="op" id="7659727">(</span><span class="ident" id="7659728"><a href="/image/png/paeth_test.go.html#7659548">cdat</a></span><span class="op" id="7659732">[</span><span class="ident" id="7659733"><a href="/image/png/paeth_test.go.html#7659668">i</a></span><span class="op" id="7659734">-</span><span class="ident" id="7659735"><a href="/image/png/paeth_test.go.html#7659567">bytesPerPixel</a></span><span class="op" id="7659748">]</span><span class="op" id="7659749">,</span>&nbsp;<span class="ident" id="7659751"><a href="/image/png/paeth_test.go.html#7659554">pdat</a></span><span class="op" id="7659755">[</span><span class="ident" id="7659756"><a href="/image/png/paeth_test.go.html#7659668">i</a></span><span class="op" id="7659757">]</span><span class="op" id="7659758">,</span>&nbsp;<span class="ident" id="7659760"><a href="/image/png/paeth_test.go.html#7659554">pdat</a></span><span class="op" id="7659764">[</span><span class="ident" id="7659765"><a href="/image/png/paeth_test.go.html#7659668">i</a></span><span class="op" id="7659766">-</span><span class="ident" id="7659767"><a href="/image/png/paeth_test.go.html#7659567">bytesPerPixel</a></span><span class="op" id="7659780">]</span><span class="op" id="7659781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659784">}</span><br>
<span class="lineno"></span><span class="op" id="7659786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7659789">func</span>&nbsp;<span class="ident" id="7659794">TestPaeth</span><span class="op" id="7659803">(</span><span class="ident" id="7659804">t</span>&nbsp;<span class="op" id="7659806">*</span><span class="ident" id="7659807"><a href="/image/png/paeth_test.go.html#7658989">testing</a></span><span class="op" id="7659814">.</span><span class="ident" id="7659815">T</span><span class="op" id="7659816">)</span>&nbsp;<span class="op" id="7659818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659821">for</span>&nbsp;<span class="ident" id="7659825">a</span>&nbsp;<span class="op" id="7659827">:=</span>&nbsp;<span class="num" id="7659830">0</span><span class="op" id="7659831">;</span>&nbsp;<span class="ident" id="7659833"><a href="/image/png/paeth_test.go.html#7659825">a</a></span>&nbsp;<span class="op" id="7659835">&lt;</span>&nbsp;<span class="num" id="7659837">256</span><span class="op" id="7659840">;</span>&nbsp;<span class="ident" id="7659842"><a href="/image/png/paeth_test.go.html#7659825">a</a></span>&nbsp;<span class="op" id="7659844">+=</span>&nbsp;<span class="num" id="7659847">15</span>&nbsp;<span class="op" id="7659850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659854">for</span>&nbsp;<span class="ident" id="7659858">b</span>&nbsp;<span class="op" id="7659860">:=</span>&nbsp;<span class="num" id="7659863">0</span><span class="op" id="7659864">;</span>&nbsp;<span class="ident" id="7659866"><a href="/image/png/paeth_test.go.html#7659858">b</a></span>&nbsp;<span class="op" id="7659868">&lt;</span>&nbsp;<span class="num" id="7659870">256</span><span class="op" id="7659873">;</span>&nbsp;<span class="ident" id="7659875"><a href="/image/png/paeth_test.go.html#7659858">b</a></span>&nbsp;<span class="op" id="7659877">+=</span>&nbsp;<span class="num" id="7659880">15</span>&nbsp;<span class="op" id="7659883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659888">for</span>&nbsp;<span class="ident" id="7659892">c</span>&nbsp;<span class="op" id="7659894">:=</span>&nbsp;<span class="num" id="7659897">0</span><span class="op" id="7659898">;</span>&nbsp;<span class="ident" id="7659900"><a href="/image/png/paeth_test.go.html#7659892">c</a></span>&nbsp;<span class="op" id="7659902">&lt;</span>&nbsp;<span class="num" id="7659904">256</span><span class="op" id="7659907">;</span>&nbsp;<span class="ident" id="7659909"><a href="/image/png/paeth_test.go.html#7659892">c</a></span>&nbsp;<span class="op" id="7659911">+=</span>&nbsp;<span class="num" id="7659914">15</span>&nbsp;<span class="op" id="7659917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659923">got</span>&nbsp;<span class="op" id="7659927">:=</span>&nbsp;<span class="ident" id="7659930"><a href="/image/png/paeth.go.html#5576734">paeth</a></span><span class="op" id="7659935">(</span><span class="builtintype" id="7659936">uint8</span><span class="op" id="7659941">(</span><span class="ident" id="7659942"><a href="/image/png/paeth_test.go.html#7659825">a</a></span><span class="op" id="7659943">)</span><span class="op" id="7659944">,</span>&nbsp;<span class="builtintype" id="7659946">uint8</span><span class="op" id="7659951">(</span><span class="ident" id="7659952"><a href="/image/png/paeth_test.go.html#7659858">b</a></span><span class="op" id="7659953">)</span><span class="op" id="7659954">,</span>&nbsp;<span class="builtintype" id="7659956">uint8</span><span class="op" id="7659961">(</span><span class="ident" id="7659962"><a href="/image/png/paeth_test.go.html#7659892">c</a></span><span class="op" id="7659963">)</span><span class="op" id="7659964">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659970">want</span>&nbsp;<span class="op" id="7659975">:=</span>&nbsp;<span class="ident" id="7659978"><a href="/image/png/paeth_test.go.html#7659219">slowPaeth</a></span><span class="op" id="7659987">(</span><span class="builtintype" id="7659988">uint8</span><span class="op" id="7659993">(</span><span class="ident" id="7659994"><a href="/image/png/paeth_test.go.html#7659825">a</a></span><span class="op" id="7659995">)</span><span class="op" id="7659996">,</span>&nbsp;<span class="builtintype" id="7659998">uint8</span><span class="op" id="7660003">(</span><span class="ident" id="7660004"><a href="/image/png/paeth_test.go.html#7659858">b</a></span><span class="op" id="7660005">)</span><span class="op" id="7660006">,</span>&nbsp;<span class="builtintype" id="7660008">uint8</span><span class="op" id="7660013">(</span><span class="ident" id="7660014"><a href="/image/png/paeth_test.go.html#7659892">c</a></span><span class="op" id="7660015">)</span><span class="op" id="7660016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660022">if</span>&nbsp;<span class="ident" id="7660025"><a href="/image/png/paeth_test.go.html#7659923">got</a></span>&nbsp;<span class="op" id="7660029">!=</span>&nbsp;<span class="ident" id="7660032"><a href="/image/png/paeth_test.go.html#7659970">want</a></span>&nbsp;<span class="op" id="7660037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660044"><a href="/image/png/paeth_test.go.html#7659804">t</a></span><span class="op" id="7660045">.</span><span class="ident" id="7660046">Errorf</span><span class="op" id="7660052">(</span><span class="string" id="7660053">&#34;a,&nbsp;b,&nbsp;c&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d:&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7660092">,</span>&nbsp;<span class="ident" id="7660094"><a href="/image/png/paeth_test.go.html#7659825">a</a></span><span class="op" id="7660095">,</span>&nbsp;<span class="ident" id="7660097"><a href="/image/png/paeth_test.go.html#7659858">b</a></span><span class="op" id="7660098">,</span>&nbsp;<span class="ident" id="7660100"><a href="/image/png/paeth_test.go.html#7659892">c</a></span><span class="op" id="7660101">,</span>&nbsp;<span class="ident" id="7660103"><a href="/image/png/paeth_test.go.html#7659923">got</a></span><span class="op" id="7660106">,</span>&nbsp;<span class="ident" id="7660108"><a href="/image/png/paeth_test.go.html#7659970">want</a></span><span class="op" id="7660112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660123">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660130">}</span><br>
<span class="lineno"></span><span class="op" id="7660132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7660135">func</span>&nbsp;<span class="ident" id="7660140">BenchmarkPaeth</span><span class="op" id="7660154">(</span><span class="ident" id="7660155">b</span>&nbsp;<span class="op" id="7660157">*</span><span class="ident" id="7660158"><a href="/image/png/paeth_test.go.html#7658989">testing</a></span><span class="op" id="7660165">.</span><span class="ident" id="7660166">B</span><span class="op" id="7660167">)</span>&nbsp;<span class="op" id="7660169">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660172">for</span>&nbsp;<span class="ident" id="7660176">i</span>&nbsp;<span class="op" id="7660178">:=</span>&nbsp;<span class="num" id="7660181">0</span><span class="op" id="7660182">;</span>&nbsp;<span class="ident" id="7660184"><a href="/image/png/paeth_test.go.html#7660176">i</a></span>&nbsp;<span class="op" id="7660186">&lt;</span>&nbsp;<span class="ident" id="7660188"><a href="/image/png/paeth_test.go.html#7660155">b</a></span><span class="op" id="7660189">.</span><span class="ident" id="7660190">N</span><span class="op" id="7660191">;</span>&nbsp;<span class="ident" id="7660193"><a href="/image/png/paeth_test.go.html#7660176">i</a></span><span class="op" id="7660194">++</span>&nbsp;<span class="op" id="7660197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660201"><a href="/image/png/paeth.go.html#5576734">paeth</a></span><span class="op" id="7660206">(</span><span class="builtintype" id="7660207">uint8</span><span class="op" id="7660212">(</span><span class="ident" id="7660213"><a href="/image/png/paeth_test.go.html#7660176">i</a></span><span class="op" id="7660214">&gt;&gt;</span><span class="num" id="7660216">16</span><span class="op" id="7660218">)</span><span class="op" id="7660219">,</span>&nbsp;<span class="builtintype" id="7660221">uint8</span><span class="op" id="7660226">(</span><span class="ident" id="7660227"><a href="/image/png/paeth_test.go.html#7660176">i</a></span><span class="op" id="7660228">&gt;&gt;</span><span class="num" id="7660230">8</span><span class="op" id="7660231">)</span><span class="op" id="7660232">,</span>&nbsp;<span class="builtintype" id="7660234">uint8</span><span class="op" id="7660239">(</span><span class="ident" id="7660240"><a href="/image/png/paeth_test.go.html#7660176">i</a></span><span class="op" id="7660241">)</span><span class="op" id="7660242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660245">}</span><br>
<span class="lineno"></span><span class="op" id="7660247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="7660250">func</span>&nbsp;<span class="ident" id="7660255">TestPaethDecode</span><span class="op" id="7660270">(</span><span class="ident" id="7660271">t</span>&nbsp;<span class="op" id="7660273">*</span><span class="ident" id="7660274"><a href="/image/png/paeth_test.go.html#7658989">testing</a></span><span class="op" id="7660281">.</span><span class="ident" id="7660282">T</span><span class="op" id="7660283">)</span>&nbsp;<span class="op" id="7660285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660288">pdat0</span>&nbsp;<span class="op" id="7660294">:=</span>&nbsp;<span class="builtinfunc" id="7660297">make</span><span class="op" id="7660301">(</span><span class="op" id="7660302">[</span><span class="op" id="7660303">]</span><span class="builtintype" id="7660304">byte</span><span class="op" id="7660308">,</span>&nbsp;<span class="num" id="7660310">32</span><span class="op" id="7660312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660315">pdat1</span>&nbsp;<span class="op" id="7660321">:=</span>&nbsp;<span class="builtinfunc" id="7660324">make</span><span class="op" id="7660328">(</span><span class="op" id="7660329">[</span><span class="op" id="7660330">]</span><span class="builtintype" id="7660331">byte</span><span class="op" id="7660335">,</span>&nbsp;<span class="num" id="7660337">32</span><span class="op" id="7660339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660342">pdat2</span>&nbsp;<span class="op" id="7660348">:=</span>&nbsp;<span class="builtinfunc" id="7660351">make</span><span class="op" id="7660355">(</span><span class="op" id="7660356">[</span><span class="op" id="7660357">]</span><span class="builtintype" id="7660358">byte</span><span class="op" id="7660362">,</span>&nbsp;<span class="num" id="7660364">32</span><span class="op" id="7660366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660369">cdat0</span>&nbsp;<span class="op" id="7660375">:=</span>&nbsp;<span class="builtinfunc" id="7660378">make</span><span class="op" id="7660382">(</span><span class="op" id="7660383">[</span><span class="op" id="7660384">]</span><span class="builtintype" id="7660385">byte</span><span class="op" id="7660389">,</span>&nbsp;<span class="num" id="7660391">32</span><span class="op" id="7660393">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660396">cdat1</span>&nbsp;<span class="op" id="7660402">:=</span>&nbsp;<span class="builtinfunc" id="7660405">make</span><span class="op" id="7660409">(</span><span class="op" id="7660410">[</span><span class="op" id="7660411">]</span><span class="builtintype" id="7660412">byte</span><span class="op" id="7660416">,</span>&nbsp;<span class="num" id="7660418">32</span><span class="op" id="7660420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660423">cdat2</span>&nbsp;<span class="op" id="7660429">:=</span>&nbsp;<span class="builtinfunc" id="7660432">make</span><span class="op" id="7660436">(</span><span class="op" id="7660437">[</span><span class="op" id="7660438">]</span><span class="builtintype" id="7660439">byte</span><span class="op" id="7660443">,</span>&nbsp;<span class="num" id="7660445">32</span><span class="op" id="7660447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660450">r</span>&nbsp;<span class="op" id="7660452">:=</span>&nbsp;<span class="ident" id="7660455"><a href="/image/png/paeth_test.go.html#7658976">rand</a></span><span class="op" id="7660459">.</span><span class="ident" id="7660460">New</span><span class="op" id="7660463">(</span><span class="ident" id="7660464"><a href="/image/png/paeth_test.go.html#7658976">rand</a></span><span class="op" id="7660468">.</span><span class="ident" id="7660469">NewSource</span><span class="op" id="7660478">(</span><span class="num" id="7660479">1</span><span class="op" id="7660480">)</span><span class="op" id="7660481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660484">for</span>&nbsp;<span class="ident" id="7660488">bytesPerPixel</span>&nbsp;<span class="op" id="7660502">:=</span>&nbsp;<span class="num" id="7660505">1</span><span class="op" id="7660506">;</span>&nbsp;<span class="ident" id="7660508"><a href="/image/png/paeth_test.go.html#7660488">bytesPerPixel</a></span>&nbsp;<span class="op" id="7660522">&lt;=</span>&nbsp;<span class="num" id="7660525">8</span><span class="op" id="7660526">;</span>&nbsp;<span class="ident" id="7660528"><a href="/image/png/paeth_test.go.html#7660488">bytesPerPixel</a></span><span class="op" id="7660541">++</span>&nbsp;<span class="op" id="7660544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660548">for</span>&nbsp;<span class="ident" id="7660552">i</span>&nbsp;<span class="op" id="7660554">:=</span>&nbsp;<span class="num" id="7660557">0</span><span class="op" id="7660558">;</span>&nbsp;<span class="ident" id="7660560"><a href="/image/png/paeth_test.go.html#7660552">i</a></span>&nbsp;<span class="op" id="7660562">&lt;</span>&nbsp;<span class="num" id="7660564">100</span><span class="op" id="7660567">;</span>&nbsp;<span class="ident" id="7660569"><a href="/image/png/paeth_test.go.html#7660552">i</a></span><span class="op" id="7660570">++</span>&nbsp;<span class="op" id="7660573">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660578">for</span>&nbsp;<span class="ident" id="7660582">j</span>&nbsp;<span class="op" id="7660584">:=</span>&nbsp;<span class="keyword" id="7660587">range</span>&nbsp;<span class="ident" id="7660593"><a href="/image/png/paeth_test.go.html#7660288">pdat0</a></span>&nbsp;<span class="op" id="7660599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660605"><a href="/image/png/paeth_test.go.html#7660288">pdat0</a></span><span class="op" id="7660610">[</span><span class="ident" id="7660611"><a href="/image/png/paeth_test.go.html#7660582">j</a></span><span class="op" id="7660612">]</span>&nbsp;<span class="op" id="7660614">=</span>&nbsp;<span class="builtintype" id="7660616">uint8</span><span class="op" id="7660621">(</span><span class="ident" id="7660622"><a href="/image/png/paeth_test.go.html#7660450">r</a></span><span class="op" id="7660623">.</span><span class="ident" id="7660624">Uint32</span><span class="op" id="7660630">(</span><span class="op" id="7660631">)</span><span class="op" id="7660632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660638"><a href="/image/png/paeth_test.go.html#7660369">cdat0</a></span><span class="op" id="7660643">[</span><span class="ident" id="7660644"><a href="/image/png/paeth_test.go.html#7660582">j</a></span><span class="op" id="7660645">]</span>&nbsp;<span class="op" id="7660647">=</span>&nbsp;<span class="builtintype" id="7660649">uint8</span><span class="op" id="7660654">(</span><span class="ident" id="7660655"><a href="/image/png/paeth_test.go.html#7660450">r</a></span><span class="op" id="7660656">.</span><span class="ident" id="7660657">Uint32</span><span class="op" id="7660663">(</span><span class="op" id="7660664">)</span><span class="op" id="7660665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7660675">copy</span><span class="op" id="7660679">(</span><span class="ident" id="7660680"><a href="/image/png/paeth_test.go.html#7660315">pdat1</a></span><span class="op" id="7660685">,</span>&nbsp;<span class="ident" id="7660687"><a href="/image/png/paeth_test.go.html#7660288">pdat0</a></span><span class="op" id="7660692">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7660697">copy</span><span class="op" id="7660701">(</span><span class="ident" id="7660702"><a href="/image/png/paeth_test.go.html#7660342">pdat2</a></span><span class="op" id="7660707">,</span>&nbsp;<span class="ident" id="7660709"><a href="/image/png/paeth_test.go.html#7660288">pdat0</a></span><span class="op" id="7660714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7660719">copy</span><span class="op" id="7660723">(</span><span class="ident" id="7660724"><a href="/image/png/paeth_test.go.html#7660396">cdat1</a></span><span class="op" id="7660729">,</span>&nbsp;<span class="ident" id="7660731"><a href="/image/png/paeth_test.go.html#7660369">cdat0</a></span><span class="op" id="7660736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7660741">copy</span><span class="op" id="7660745">(</span><span class="ident" id="7660746"><a href="/image/png/paeth_test.go.html#7660423">cdat2</a></span><span class="op" id="7660751">,</span>&nbsp;<span class="ident" id="7660753"><a href="/image/png/paeth_test.go.html#7660369">cdat0</a></span><span class="op" id="7660758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660763"><a href="/image/png/paeth.go.html#5577360">filterPaeth</a></span><span class="op" id="7660774">(</span><span class="ident" id="7660775"><a href="/image/png/paeth_test.go.html#7660396">cdat1</a></span><span class="op" id="7660780">,</span>&nbsp;<span class="ident" id="7660782"><a href="/image/png/paeth_test.go.html#7660315">pdat1</a></span><span class="op" id="7660787">,</span>&nbsp;<span class="ident" id="7660789"><a href="/image/png/paeth_test.go.html#7660488">bytesPerPixel</a></span><span class="op" id="7660802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660807"><a href="/image/png/paeth_test.go.html#7659532">slowFilterPaeth</a></span><span class="op" id="7660822">(</span><span class="ident" id="7660823"><a href="/image/png/paeth_test.go.html#7660423">cdat2</a></span><span class="op" id="7660828">,</span>&nbsp;<span class="ident" id="7660830"><a href="/image/png/paeth_test.go.html#7660342">pdat2</a></span><span class="op" id="7660835">,</span>&nbsp;<span class="ident" id="7660837"><a href="/image/png/paeth_test.go.html#7660488">bytesPerPixel</a></span><span class="op" id="7660850">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660855">if</span>&nbsp;<span class="op" id="7660858">!</span><span class="ident" id="7660859"><a href="/image/png/paeth_test.go.html#7658967">bytes</a></span><span class="op" id="7660864">.</span><span class="ident" id="7660865">Equal</span><span class="op" id="7660870">(</span><span class="ident" id="7660871"><a href="/image/png/paeth_test.go.html#7660396">cdat1</a></span><span class="op" id="7660876">,</span>&nbsp;<span class="ident" id="7660878"><a href="/image/png/paeth_test.go.html#7660423">cdat2</a></span><span class="op" id="7660883">)</span>&nbsp;<span class="op" id="7660885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660891"><a href="/image/png/paeth_test.go.html#7660271">t</a></span><span class="op" id="7660892">.</span><span class="ident" id="7660893">Errorf</span><span class="op" id="7660899">(</span><span class="string" id="7660900">&#34;bytesPerPixel:&nbsp;%d\npdat0:&nbsp;%&nbsp;x\ncdat0:&nbsp;%&nbsp;x\ngot:&nbsp;&nbsp;&nbsp;%&nbsp;x\nwant:&nbsp;&nbsp;%&nbsp;x&#34;</span><span class="op" id="7660967">,</span>&nbsp;<span class="ident" id="7660969"><a href="/image/png/paeth_test.go.html#7660488">bytesPerPixel</a></span><span class="op" id="7660982">,</span>&nbsp;<span class="ident" id="7660984"><a href="/image/png/paeth_test.go.html#7660288">pdat0</a></span><span class="op" id="7660989">,</span>&nbsp;<span class="ident" id="7660991"><a href="/image/png/paeth_test.go.html#7660369">cdat0</a></span><span class="op" id="7660996">,</span>&nbsp;<span class="ident" id="7660998"><a href="/image/png/paeth_test.go.html#7660396">cdat1</a></span><span class="op" id="7661003">,</span>&nbsp;<span class="ident" id="7661005"><a href="/image/png/paeth_test.go.html#7660423">cdat2</a></span><span class="op" id="7661010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661016">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661029">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661032">}</span><br>
<span class="lineno"></span><span class="op" id="7661034">}</span>
</div>
</body>
</html>
