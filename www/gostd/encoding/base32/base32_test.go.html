<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html" class="current">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8198485">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8198540">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8198594">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8198645">package</span>&nbsp;<span class="ident" id="8198653">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8198661">import</span>&nbsp;<span class="op" id="8198668">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8198671">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8198680">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8198686">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8198699">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8198710">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8198720">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8198723">type</span>&nbsp;<span class="ident" id="8198728">testpair</span>&nbsp;<span class="keyword" id="8198737">struct</span>&nbsp;<span class="op" id="8198744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8198747">decoded</span><span class="op" id="8198754">,</span>&nbsp;<span class="ident" id="8198756">encoded</span>&nbsp;<span class="builtintype" id="8198764">string</span><br>
<span class="lineno"></span><span class="op" id="8198771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8198774">var</span>&nbsp;<span class="ident" id="8198778">pairs</span>&nbsp;<span class="op" id="8198784">=</span>&nbsp;<span class="op" id="8198786">[</span><span class="op" id="8198787">]</span><span class="ident" id="8198788">testpair</span><span class="op" id="8198796">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8198799">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198821">{</span><span class="string" id="8198822">&#34;&#34;</span><span class="op" id="8198824">,</span>&nbsp;<span class="string" id="8198826">&#34;&#34;</span><span class="op" id="8198828">}</span><span class="op" id="8198829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198832">{</span><span class="string" id="8198833">&#34;f&#34;</span><span class="op" id="8198836">,</span>&nbsp;<span class="string" id="8198838">&#34;MY======&#34;</span><span class="op" id="8198848">}</span><span class="op" id="8198849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198852">{</span><span class="string" id="8198853">&#34;fo&#34;</span><span class="op" id="8198857">,</span>&nbsp;<span class="string" id="8198859">&#34;MZXQ====&#34;</span><span class="op" id="8198869">}</span><span class="op" id="8198870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198873">{</span><span class="string" id="8198874">&#34;foo&#34;</span><span class="op" id="8198879">,</span>&nbsp;<span class="string" id="8198881">&#34;MZXW6===&#34;</span><span class="op" id="8198891">}</span><span class="op" id="8198892">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198895">{</span><span class="string" id="8198896">&#34;foob&#34;</span><span class="op" id="8198902">,</span>&nbsp;<span class="string" id="8198904">&#34;MZXW6YQ=&#34;</span><span class="op" id="8198914">}</span><span class="op" id="8198915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198918">{</span><span class="string" id="8198919">&#34;fooba&#34;</span><span class="op" id="8198926">,</span>&nbsp;<span class="string" id="8198928">&#34;MZXW6YTB&#34;</span><span class="op" id="8198938">}</span><span class="op" id="8198939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8198942">{</span><span class="string" id="8198943">&#34;foobar&#34;</span><span class="op" id="8198951">,</span>&nbsp;<span class="string" id="8198953">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="8198971">}</span><span class="op" id="8198972">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8198976">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199020">{</span><span class="string" id="8199021">&#34;sure.&#34;</span><span class="op" id="8199028">,</span>&nbsp;<span class="string" id="8199030">&#34;ON2XEZJO&#34;</span><span class="op" id="8199040">}</span><span class="op" id="8199041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199044">{</span><span class="string" id="8199045">&#34;sure&#34;</span><span class="op" id="8199051">,</span>&nbsp;<span class="string" id="8199053">&#34;ON2XEZI=&#34;</span><span class="op" id="8199063">}</span><span class="op" id="8199064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199067">{</span><span class="string" id="8199068">&#34;sur&#34;</span><span class="op" id="8199073">,</span>&nbsp;<span class="string" id="8199075">&#34;ON2XE===&#34;</span><span class="op" id="8199085">}</span><span class="op" id="8199086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199089">{</span><span class="string" id="8199090">&#34;su&#34;</span><span class="op" id="8199094">,</span>&nbsp;<span class="string" id="8199096">&#34;ON2Q====&#34;</span><span class="op" id="8199106">}</span><span class="op" id="8199107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199110">{</span><span class="string" id="8199111">&#34;leasure.&#34;</span><span class="op" id="8199121">,</span>&nbsp;<span class="string" id="8199123">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="8199141">}</span><span class="op" id="8199142">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199145">{</span><span class="string" id="8199146">&#34;easure.&#34;</span><span class="op" id="8199155">,</span>&nbsp;<span class="string" id="8199157">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="8199175">}</span><span class="op" id="8199176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199179">{</span><span class="string" id="8199180">&#34;asure.&#34;</span><span class="op" id="8199188">,</span>&nbsp;<span class="string" id="8199190">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="8199208">}</span><span class="op" id="8199209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199212">{</span><span class="string" id="8199213">&#34;sure.&#34;</span><span class="op" id="8199220">,</span>&nbsp;<span class="string" id="8199222">&#34;ON2XEZJO&#34;</span><span class="op" id="8199232">}</span><span class="op" id="8199233">,</span><br>
<span class="lineno"></span><span class="op" id="8199235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8199238">var</span>&nbsp;<span class="ident" id="8199242">bigtest</span>&nbsp;<span class="op" id="8199250">=</span>&nbsp;<span class="ident" id="8199252">testpair</span><span class="op" id="8199260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8199263">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="8199299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8199302">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="8199360">,</span><br>
<span class="lineno"></span><span class="op" id="8199362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="8199365">func</span>&nbsp;<span class="ident" id="8199370">testEqual</span><span class="op" id="8199379">(</span><span class="ident" id="8199380">t</span>&nbsp;<span class="op" id="8199382">*</span><span class="ident" id="8199383">testing</span><span class="op" id="8199390">.</span><span class="ident" id="8199391">T</span><span class="op" id="8199392">,</span>&nbsp;<span class="ident" id="8199394">msg</span>&nbsp;<span class="builtintype" id="8199398">string</span><span class="op" id="8199404">,</span>&nbsp;<span class="ident" id="8199406">args</span>&nbsp;<span class="op" id="8199411">...</span><span class="keyword" id="8199414">interface</span><span class="op" id="8199423">{</span><span class="op" id="8199424">}</span><span class="op" id="8199425">)</span>&nbsp;<span class="builtintype" id="8199427">bool</span>&nbsp;<span class="op" id="8199432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8199435">if</span>&nbsp;<span class="ident" id="8199438">args</span><span class="op" id="8199442">[</span><span class="builtinfunc" id="8199443">len</span><span class="op" id="8199446">(</span><span class="ident" id="8199447">args</span><span class="op" id="8199451">)</span><span class="op" id="8199452">-</span><span class="num" id="8199453">2</span><span class="op" id="8199454">]</span>&nbsp;<span class="op" id="8199456">!=</span>&nbsp;<span class="ident" id="8199459">args</span><span class="op" id="8199463">[</span><span class="builtinfunc" id="8199464">len</span><span class="op" id="8199467">(</span><span class="ident" id="8199468">args</span><span class="op" id="8199472">)</span><span class="op" id="8199473">-</span><span class="num" id="8199474">1</span><span class="op" id="8199475">]</span>&nbsp;<span class="op" id="8199477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199481">t</span><span class="op" id="8199482">.</span><span class="ident" id="8199483">Errorf</span><span class="op" id="8199489">(</span><span class="ident" id="8199490">msg</span><span class="op" id="8199493">,</span>&nbsp;<span class="ident" id="8199495">args</span><span class="op" id="8199499">...</span><span class="op" id="8199502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8199506">return</span>&nbsp;<span class="builtintype" id="8199513">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199520">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8199523">return</span>&nbsp;<span class="builtintype" id="8199530">true</span><br>
<span class="lineno"></span><span class="op" id="8199535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8199538">func</span>&nbsp;<span class="ident" id="8199543">TestEncode</span><span class="op" id="8199553">(</span><span class="ident" id="8199554">t</span>&nbsp;<span class="op" id="8199556">*</span><span class="ident" id="8199557">testing</span><span class="op" id="8199564">.</span><span class="ident" id="8199565">T</span><span class="op" id="8199566">)</span>&nbsp;<span class="op" id="8199568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8199571">for</span>&nbsp;<span class="ident" id="8199575">_</span><span class="op" id="8199576">,</span>&nbsp;<span class="ident" id="8199578">p</span>&nbsp;<span class="op" id="8199580">:=</span>&nbsp;<span class="keyword" id="8199583">range</span>&nbsp;<span class="ident" id="8199589">pairs</span>&nbsp;<span class="op" id="8199595">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199599">got</span>&nbsp;<span class="op" id="8199603">:=</span>&nbsp;<span class="ident" id="8199606">StdEncoding</span><span class="op" id="8199617">.</span><span class="ident" id="8199618">EncodeToString</span><span class="op" id="8199632">(</span><span class="op" id="8199633">[</span><span class="op" id="8199634">]</span><span class="builtintype" id="8199635">byte</span><span class="op" id="8199639">(</span><span class="ident" id="8199640">p</span><span class="op" id="8199641">.</span><span class="ident" id="8199642">decoded</span><span class="op" id="8199649">)</span><span class="op" id="8199650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199654">testEqual</span><span class="op" id="8199663">(</span><span class="ident" id="8199664">t</span><span class="op" id="8199665">,</span>&nbsp;<span class="string" id="8199667">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8199693">,</span>&nbsp;<span class="ident" id="8199695">p</span><span class="op" id="8199696">.</span><span class="ident" id="8199697">decoded</span><span class="op" id="8199704">,</span>&nbsp;<span class="ident" id="8199706">got</span><span class="op" id="8199709">,</span>&nbsp;<span class="ident" id="8199711">p</span><span class="op" id="8199712">.</span><span class="ident" id="8199713">encoded</span><span class="op" id="8199720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199723">}</span><br>
<span class="lineno"></span><span class="op" id="8199725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8199728">func</span>&nbsp;<span class="ident" id="8199733">TestEncoder</span><span class="op" id="8199744">(</span><span class="ident" id="8199745">t</span>&nbsp;<span class="op" id="8199747">*</span><span class="ident" id="8199748">testing</span><span class="op" id="8199755">.</span><span class="ident" id="8199756">T</span><span class="op" id="8199757">)</span>&nbsp;<span class="op" id="8199759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8199762">for</span>&nbsp;<span class="ident" id="8199766">_</span><span class="op" id="8199767">,</span>&nbsp;<span class="ident" id="8199769">p</span>&nbsp;<span class="op" id="8199771">:=</span>&nbsp;<span class="keyword" id="8199774">range</span>&nbsp;<span class="ident" id="8199780">pairs</span>&nbsp;<span class="op" id="8199786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199790">bb</span>&nbsp;<span class="op" id="8199793">:=</span>&nbsp;<span class="op" id="8199796">&amp;</span><span class="ident" id="8199797">bytes</span><span class="op" id="8199802">.</span><span class="ident" id="8199803">Buffer</span><span class="op" id="8199809">{</span><span class="op" id="8199810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199814">encoder</span>&nbsp;<span class="op" id="8199822">:=</span>&nbsp;<span class="ident" id="8199825">NewEncoder</span><span class="op" id="8199835">(</span><span class="ident" id="8199836">StdEncoding</span><span class="op" id="8199847">,</span>&nbsp;<span class="ident" id="8199849">bb</span><span class="op" id="8199851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199855">encoder</span><span class="op" id="8199862">.</span><span class="ident" id="8199863">Write</span><span class="op" id="8199868">(</span><span class="op" id="8199869">[</span><span class="op" id="8199870">]</span><span class="builtintype" id="8199871">byte</span><span class="op" id="8199875">(</span><span class="ident" id="8199876">p</span><span class="op" id="8199877">.</span><span class="ident" id="8199878">decoded</span><span class="op" id="8199885">)</span><span class="op" id="8199886">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199890">encoder</span><span class="op" id="8199897">.</span><span class="ident" id="8199898">Close</span><span class="op" id="8199903">(</span><span class="op" id="8199904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8199908">testEqual</span><span class="op" id="8199917">(</span><span class="ident" id="8199918">t</span><span class="op" id="8199919">,</span>&nbsp;<span class="string" id="8199921">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8199947">,</span>&nbsp;<span class="ident" id="8199949">p</span><span class="op" id="8199950">.</span><span class="ident" id="8199951">decoded</span><span class="op" id="8199958">,</span>&nbsp;<span class="ident" id="8199960">bb</span><span class="op" id="8199962">.</span><span class="ident" id="8199963">String</span><span class="op" id="8199969">(</span><span class="op" id="8199970">)</span><span class="op" id="8199971">,</span>&nbsp;<span class="ident" id="8199973">p</span><span class="op" id="8199974">.</span><span class="ident" id="8199975">encoded</span><span class="op" id="8199982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8199985">}</span><br>
<span class="lineno"></span><span class="op" id="8199987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8199990">func</span>&nbsp;<span class="ident" id="8199995">TestEncoderBuffering</span><span class="op" id="8200015">(</span><span class="ident" id="8200016">t</span>&nbsp;<span class="op" id="8200018">*</span><span class="ident" id="8200019">testing</span><span class="op" id="8200026">.</span><span class="ident" id="8200027">T</span><span class="op" id="8200028">)</span>&nbsp;<span class="op" id="8200030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200033">input</span>&nbsp;<span class="op" id="8200039">:=</span>&nbsp;<span class="op" id="8200042">[</span><span class="op" id="8200043">]</span><span class="builtintype" id="8200044">byte</span><span class="op" id="8200048">(</span><span class="ident" id="8200049">bigtest</span><span class="op" id="8200056">.</span><span class="ident" id="8200057">decoded</span><span class="op" id="8200064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8200067">for</span>&nbsp;<span class="ident" id="8200071">bs</span>&nbsp;<span class="op" id="8200074">:=</span>&nbsp;<span class="num" id="8200077">1</span><span class="op" id="8200078">;</span>&nbsp;<span class="ident" id="8200080">bs</span>&nbsp;<span class="op" id="8200083">&lt;=</span>&nbsp;<span class="num" id="8200086">12</span><span class="op" id="8200088">;</span>&nbsp;<span class="ident" id="8200090">bs</span><span class="op" id="8200092">++</span>&nbsp;<span class="op" id="8200095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200099">bb</span>&nbsp;<span class="op" id="8200102">:=</span>&nbsp;<span class="op" id="8200105">&amp;</span><span class="ident" id="8200106">bytes</span><span class="op" id="8200111">.</span><span class="ident" id="8200112">Buffer</span><span class="op" id="8200118">{</span><span class="op" id="8200119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200123">encoder</span>&nbsp;<span class="op" id="8200131">:=</span>&nbsp;<span class="ident" id="8200134">NewEncoder</span><span class="op" id="8200144">(</span><span class="ident" id="8200145">StdEncoding</span><span class="op" id="8200156">,</span>&nbsp;<span class="ident" id="8200158">bb</span><span class="op" id="8200160">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8200164">for</span>&nbsp;<span class="ident" id="8200168">pos</span>&nbsp;<span class="op" id="8200172">:=</span>&nbsp;<span class="num" id="8200175">0</span><span class="op" id="8200176">;</span>&nbsp;<span class="ident" id="8200178">pos</span>&nbsp;<span class="op" id="8200182">&lt;</span>&nbsp;<span class="builtinfunc" id="8200184">len</span><span class="op" id="8200187">(</span><span class="ident" id="8200188">input</span><span class="op" id="8200193">)</span><span class="op" id="8200194">;</span>&nbsp;<span class="ident" id="8200196">pos</span>&nbsp;<span class="op" id="8200200">+=</span>&nbsp;<span class="ident" id="8200203">bs</span>&nbsp;<span class="op" id="8200206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200211">end</span>&nbsp;<span class="op" id="8200215">:=</span>&nbsp;<span class="ident" id="8200218">pos</span>&nbsp;<span class="op" id="8200222">+</span>&nbsp;<span class="ident" id="8200224">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8200230">if</span>&nbsp;<span class="ident" id="8200233">end</span>&nbsp;<span class="op" id="8200237">&gt;</span>&nbsp;<span class="builtinfunc" id="8200239">len</span><span class="op" id="8200242">(</span><span class="ident" id="8200243">input</span><span class="op" id="8200248">)</span>&nbsp;<span class="op" id="8200250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200256">end</span>&nbsp;<span class="op" id="8200260">=</span>&nbsp;<span class="builtinfunc" id="8200262">len</span><span class="op" id="8200265">(</span><span class="ident" id="8200266">input</span><span class="op" id="8200271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8200276">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200281">n</span><span class="op" id="8200282">,</span>&nbsp;<span class="ident" id="8200284">err</span>&nbsp;<span class="op" id="8200288">:=</span>&nbsp;<span class="ident" id="8200291">encoder</span><span class="op" id="8200298">.</span><span class="ident" id="8200299">Write</span><span class="op" id="8200304">(</span><span class="ident" id="8200305">input</span><span class="op" id="8200310">[</span><span class="ident" id="8200311">pos</span><span class="op" id="8200314">:</span><span class="ident" id="8200315">end</span><span class="op" id="8200318">]</span><span class="op" id="8200319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200324">testEqual</span><span class="op" id="8200333">(</span><span class="ident" id="8200334">t</span><span class="op" id="8200335">,</span>&nbsp;<span class="string" id="8200337">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8200371">,</span>&nbsp;<span class="ident" id="8200373">input</span><span class="op" id="8200378">[</span><span class="ident" id="8200379">pos</span><span class="op" id="8200382">:</span><span class="ident" id="8200383">end</span><span class="op" id="8200386">]</span><span class="op" id="8200387">,</span>&nbsp;<span class="ident" id="8200389">err</span><span class="op" id="8200392">,</span>&nbsp;<span class="builtintype" id="8200394">error</span><span class="op" id="8200399">(</span><span class="builtintype" id="8200400">nil</span><span class="op" id="8200403">)</span><span class="op" id="8200404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200409">testEqual</span><span class="op" id="8200418">(</span><span class="ident" id="8200419">t</span><span class="op" id="8200420">,</span>&nbsp;<span class="string" id="8200422">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8200457">,</span>&nbsp;<span class="ident" id="8200459">input</span><span class="op" id="8200464">[</span><span class="ident" id="8200465">pos</span><span class="op" id="8200468">:</span><span class="ident" id="8200469">end</span><span class="op" id="8200472">]</span><span class="op" id="8200473">,</span>&nbsp;<span class="ident" id="8200475">n</span><span class="op" id="8200476">,</span>&nbsp;<span class="ident" id="8200478">end</span><span class="op" id="8200481">-</span><span class="ident" id="8200482">pos</span><span class="op" id="8200485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8200489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200493">err</span>&nbsp;<span class="op" id="8200497">:=</span>&nbsp;<span class="ident" id="8200500">encoder</span><span class="op" id="8200507">.</span><span class="ident" id="8200508">Close</span><span class="op" id="8200513">(</span><span class="op" id="8200514">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200518">testEqual</span><span class="op" id="8200527">(</span><span class="ident" id="8200528">t</span><span class="op" id="8200529">,</span>&nbsp;<span class="string" id="8200531">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8200561">,</span>&nbsp;<span class="ident" id="8200563">err</span><span class="op" id="8200566">,</span>&nbsp;<span class="builtintype" id="8200568">error</span><span class="op" id="8200573">(</span><span class="builtintype" id="8200574">nil</span><span class="op" id="8200577">)</span><span class="op" id="8200578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200582">testEqual</span><span class="op" id="8200591">(</span><span class="ident" id="8200592">t</span><span class="op" id="8200593">,</span>&nbsp;<span class="string" id="8200595">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8200628">,</span>&nbsp;<span class="ident" id="8200630">bs</span><span class="op" id="8200632">,</span>&nbsp;<span class="ident" id="8200634">bigtest</span><span class="op" id="8200641">.</span><span class="ident" id="8200642">decoded</span><span class="op" id="8200649">,</span>&nbsp;<span class="ident" id="8200651">bb</span><span class="op" id="8200653">.</span><span class="ident" id="8200654">String</span><span class="op" id="8200660">(</span><span class="op" id="8200661">)</span><span class="op" id="8200662">,</span>&nbsp;<span class="ident" id="8200664">bigtest</span><span class="op" id="8200671">.</span><span class="ident" id="8200672">encoded</span><span class="op" id="8200679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8200682">}</span><br>
<span class="lineno"></span><span class="op" id="8200684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8200687">func</span>&nbsp;<span class="ident" id="8200692">TestDecode</span><span class="op" id="8200702">(</span><span class="ident" id="8200703">t</span>&nbsp;<span class="op" id="8200705">*</span><span class="ident" id="8200706">testing</span><span class="op" id="8200713">.</span><span class="ident" id="8200714">T</span><span class="op" id="8200715">)</span>&nbsp;<span class="op" id="8200717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8200720">for</span>&nbsp;<span class="ident" id="8200724">_</span><span class="op" id="8200725">,</span>&nbsp;<span class="ident" id="8200727">p</span>&nbsp;<span class="op" id="8200729">:=</span>&nbsp;<span class="keyword" id="8200732">range</span>&nbsp;<span class="ident" id="8200738">pairs</span>&nbsp;<span class="op" id="8200744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200748">dbuf</span>&nbsp;<span class="op" id="8200753">:=</span>&nbsp;<span class="builtinfunc" id="8200756">make</span><span class="op" id="8200760">(</span><span class="op" id="8200761">[</span><span class="op" id="8200762">]</span><span class="builtintype" id="8200763">byte</span><span class="op" id="8200767">,</span>&nbsp;<span class="ident" id="8200769">StdEncoding</span><span class="op" id="8200780">.</span><span class="ident" id="8200781">DecodedLen</span><span class="op" id="8200791">(</span><span class="builtinfunc" id="8200792">len</span><span class="op" id="8200795">(</span><span class="ident" id="8200796">p</span><span class="op" id="8200797">.</span><span class="ident" id="8200798">encoded</span><span class="op" id="8200805">)</span><span class="op" id="8200806">)</span><span class="op" id="8200807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200811">count</span><span class="op" id="8200816">,</span>&nbsp;<span class="ident" id="8200818">end</span><span class="op" id="8200821">,</span>&nbsp;<span class="ident" id="8200823">err</span>&nbsp;<span class="op" id="8200827">:=</span>&nbsp;<span class="ident" id="8200830">StdEncoding</span><span class="op" id="8200841">.</span><span class="ident" id="8200842">decode</span><span class="op" id="8200848">(</span><span class="ident" id="8200849">dbuf</span><span class="op" id="8200853">,</span>&nbsp;<span class="op" id="8200855">[</span><span class="op" id="8200856">]</span><span class="builtintype" id="8200857">byte</span><span class="op" id="8200861">(</span><span class="ident" id="8200862">p</span><span class="op" id="8200863">.</span><span class="ident" id="8200864">encoded</span><span class="op" id="8200871">)</span><span class="op" id="8200872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200876">testEqual</span><span class="op" id="8200885">(</span><span class="ident" id="8200886">t</span><span class="op" id="8200887">,</span>&nbsp;<span class="string" id="8200889">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8200921">,</span>&nbsp;<span class="ident" id="8200923">p</span><span class="op" id="8200924">.</span><span class="ident" id="8200925">encoded</span><span class="op" id="8200932">,</span>&nbsp;<span class="ident" id="8200934">err</span><span class="op" id="8200937">,</span>&nbsp;<span class="builtintype" id="8200939">error</span><span class="op" id="8200944">(</span><span class="builtintype" id="8200945">nil</span><span class="op" id="8200948">)</span><span class="op" id="8200949">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8200953">testEqual</span><span class="op" id="8200962">(</span><span class="ident" id="8200963">t</span><span class="op" id="8200964">,</span>&nbsp;<span class="string" id="8200966">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8200999">,</span>&nbsp;<span class="ident" id="8201001">p</span><span class="op" id="8201002">.</span><span class="ident" id="8201003">encoded</span><span class="op" id="8201010">,</span>&nbsp;<span class="ident" id="8201012">count</span><span class="op" id="8201017">,</span>&nbsp;<span class="builtinfunc" id="8201019">len</span><span class="op" id="8201022">(</span><span class="ident" id="8201023">p</span><span class="op" id="8201024">.</span><span class="ident" id="8201025">decoded</span><span class="op" id="8201032">)</span><span class="op" id="8201033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8201037">if</span>&nbsp;<span class="builtinfunc" id="8201040">len</span><span class="op" id="8201043">(</span><span class="ident" id="8201044">p</span><span class="op" id="8201045">.</span><span class="ident" id="8201046">encoded</span><span class="op" id="8201053">)</span>&nbsp;<span class="op" id="8201055">&gt;</span>&nbsp;<span class="num" id="8201057">0</span>&nbsp;<span class="op" id="8201059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201064">testEqual</span><span class="op" id="8201073">(</span><span class="ident" id="8201074">t</span><span class="op" id="8201075">,</span>&nbsp;<span class="string" id="8201077">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8201107">,</span>&nbsp;<span class="ident" id="8201109">p</span><span class="op" id="8201110">.</span><span class="ident" id="8201111">encoded</span><span class="op" id="8201118">,</span>&nbsp;<span class="ident" id="8201120">end</span><span class="op" id="8201123">,</span>&nbsp;<span class="op" id="8201125">(</span><span class="ident" id="8201126">p</span><span class="op" id="8201127">.</span><span class="ident" id="8201128">encoded</span><span class="op" id="8201135">[</span><span class="builtinfunc" id="8201136">len</span><span class="op" id="8201139">(</span><span class="ident" id="8201140">p</span><span class="op" id="8201141">.</span><span class="ident" id="8201142">encoded</span><span class="op" id="8201149">)</span><span class="op" id="8201150">-</span><span class="num" id="8201151">1</span><span class="op" id="8201152">]</span>&nbsp;<span class="op" id="8201154">==</span>&nbsp;<span class="string" id="8201157">&#39;=&#39;</span><span class="op" id="8201160">)</span><span class="op" id="8201161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8201165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201169">testEqual</span><span class="op" id="8201178">(</span><span class="ident" id="8201179">t</span><span class="op" id="8201180">,</span>&nbsp;<span class="string" id="8201182">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8201208">,</span>&nbsp;<span class="ident" id="8201210">p</span><span class="op" id="8201211">.</span><span class="ident" id="8201212">encoded</span><span class="op" id="8201219">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8201224">string</span><span class="op" id="8201230">(</span><span class="ident" id="8201231">dbuf</span><span class="op" id="8201235">[</span><span class="num" id="8201236">0</span><span class="op" id="8201237">:</span><span class="ident" id="8201238">count</span><span class="op" id="8201243">]</span><span class="op" id="8201244">)</span><span class="op" id="8201245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201250">p</span><span class="op" id="8201251">.</span><span class="ident" id="8201252">decoded</span><span class="op" id="8201259">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201264">dbuf</span><span class="op" id="8201268">,</span>&nbsp;<span class="ident" id="8201270">err</span>&nbsp;<span class="op" id="8201274">=</span>&nbsp;<span class="ident" id="8201276">StdEncoding</span><span class="op" id="8201287">.</span><span class="ident" id="8201288">DecodeString</span><span class="op" id="8201300">(</span><span class="ident" id="8201301">p</span><span class="op" id="8201302">.</span><span class="ident" id="8201303">encoded</span><span class="op" id="8201310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201314">testEqual</span><span class="op" id="8201323">(</span><span class="ident" id="8201324">t</span><span class="op" id="8201325">,</span>&nbsp;<span class="string" id="8201327">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8201365">,</span>&nbsp;<span class="ident" id="8201367">p</span><span class="op" id="8201368">.</span><span class="ident" id="8201369">encoded</span><span class="op" id="8201376">,</span>&nbsp;<span class="ident" id="8201378">err</span><span class="op" id="8201381">,</span>&nbsp;<span class="builtintype" id="8201383">error</span><span class="op" id="8201388">(</span><span class="builtintype" id="8201389">nil</span><span class="op" id="8201392">)</span><span class="op" id="8201393">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201397">testEqual</span><span class="op" id="8201406">(</span><span class="ident" id="8201407">t</span><span class="op" id="8201408">,</span>&nbsp;<span class="string" id="8201410">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8201442">,</span>&nbsp;<span class="ident" id="8201444">p</span><span class="op" id="8201445">.</span><span class="ident" id="8201446">encoded</span><span class="op" id="8201453">,</span>&nbsp;<span class="builtintype" id="8201455">string</span><span class="op" id="8201461">(</span><span class="ident" id="8201462">dbuf</span><span class="op" id="8201466">)</span><span class="op" id="8201467">,</span>&nbsp;<span class="ident" id="8201469">p</span><span class="op" id="8201470">.</span><span class="ident" id="8201471">decoded</span><span class="op" id="8201478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8201481">}</span><br>
<span class="lineno"></span><span class="op" id="8201483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8201486">func</span>&nbsp;<span class="ident" id="8201491">TestDecoder</span><span class="op" id="8201502">(</span><span class="ident" id="8201503">t</span>&nbsp;<span class="op" id="8201505">*</span><span class="ident" id="8201506">testing</span><span class="op" id="8201513">.</span><span class="ident" id="8201514">T</span><span class="op" id="8201515">)</span>&nbsp;<span class="op" id="8201517">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8201520">for</span>&nbsp;<span class="ident" id="8201524">_</span><span class="op" id="8201525">,</span>&nbsp;<span class="ident" id="8201527">p</span>&nbsp;<span class="op" id="8201529">:=</span>&nbsp;<span class="keyword" id="8201532">range</span>&nbsp;<span class="ident" id="8201538">pairs</span>&nbsp;<span class="op" id="8201544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201548">decoder</span>&nbsp;<span class="op" id="8201556">:=</span>&nbsp;<span class="ident" id="8201559">NewDecoder</span><span class="op" id="8201569">(</span><span class="ident" id="8201570">StdEncoding</span><span class="op" id="8201581">,</span>&nbsp;<span class="ident" id="8201583">strings</span><span class="op" id="8201590">.</span><span class="ident" id="8201591">NewReader</span><span class="op" id="8201600">(</span><span class="ident" id="8201601">p</span><span class="op" id="8201602">.</span><span class="ident" id="8201603">encoded</span><span class="op" id="8201610">)</span><span class="op" id="8201611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201615">dbuf</span>&nbsp;<span class="op" id="8201620">:=</span>&nbsp;<span class="builtinfunc" id="8201623">make</span><span class="op" id="8201627">(</span><span class="op" id="8201628">[</span><span class="op" id="8201629">]</span><span class="builtintype" id="8201630">byte</span><span class="op" id="8201634">,</span>&nbsp;<span class="ident" id="8201636">StdEncoding</span><span class="op" id="8201647">.</span><span class="ident" id="8201648">DecodedLen</span><span class="op" id="8201658">(</span><span class="builtinfunc" id="8201659">len</span><span class="op" id="8201662">(</span><span class="ident" id="8201663">p</span><span class="op" id="8201664">.</span><span class="ident" id="8201665">encoded</span><span class="op" id="8201672">)</span><span class="op" id="8201673">)</span><span class="op" id="8201674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201678">count</span><span class="op" id="8201683">,</span>&nbsp;<span class="ident" id="8201685">err</span>&nbsp;<span class="op" id="8201689">:=</span>&nbsp;<span class="ident" id="8201692">decoder</span><span class="op" id="8201699">.</span><span class="ident" id="8201700">Read</span><span class="op" id="8201704">(</span><span class="ident" id="8201705">dbuf</span><span class="op" id="8201709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8201713">if</span>&nbsp;<span class="ident" id="8201716">err</span>&nbsp;<span class="op" id="8201720">!=</span>&nbsp;<span class="builtintype" id="8201723">nil</span>&nbsp;<span class="op" id="8201727">&amp;&amp;</span>&nbsp;<span class="ident" id="8201730">err</span>&nbsp;<span class="op" id="8201734">!=</span>&nbsp;<span class="ident" id="8201737">io</span><span class="op" id="8201739">.</span><span class="ident" id="8201740">EOF</span>&nbsp;<span class="op" id="8201744">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201749">t</span><span class="op" id="8201750">.</span><span class="ident" id="8201751">Fatal</span><span class="op" id="8201756">(</span><span class="string" id="8201757">&#34;Read&nbsp;failed&#34;</span><span class="op" id="8201770">,</span>&nbsp;<span class="ident" id="8201772">err</span><span class="op" id="8201775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8201779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201783">testEqual</span><span class="op" id="8201792">(</span><span class="ident" id="8201793">t</span><span class="op" id="8201794">,</span>&nbsp;<span class="string" id="8201796">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8201831">,</span>&nbsp;<span class="ident" id="8201833">p</span><span class="op" id="8201834">.</span><span class="ident" id="8201835">encoded</span><span class="op" id="8201842">,</span>&nbsp;<span class="ident" id="8201844">count</span><span class="op" id="8201849">,</span>&nbsp;<span class="builtinfunc" id="8201851">len</span><span class="op" id="8201854">(</span><span class="ident" id="8201855">p</span><span class="op" id="8201856">.</span><span class="ident" id="8201857">decoded</span><span class="op" id="8201864">)</span><span class="op" id="8201865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201869">testEqual</span><span class="op" id="8201878">(</span><span class="ident" id="8201879">t</span><span class="op" id="8201880">,</span>&nbsp;<span class="string" id="8201882">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8201912">,</span>&nbsp;<span class="ident" id="8201914">p</span><span class="op" id="8201915">.</span><span class="ident" id="8201916">encoded</span><span class="op" id="8201923">,</span>&nbsp;<span class="builtintype" id="8201925">string</span><span class="op" id="8201931">(</span><span class="ident" id="8201932">dbuf</span><span class="op" id="8201936">[</span><span class="num" id="8201937">0</span><span class="op" id="8201938">:</span><span class="ident" id="8201939">count</span><span class="op" id="8201944">]</span><span class="op" id="8201945">)</span><span class="op" id="8201946">,</span>&nbsp;<span class="ident" id="8201948">p</span><span class="op" id="8201949">.</span><span class="ident" id="8201950">decoded</span><span class="op" id="8201957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8201961">if</span>&nbsp;<span class="ident" id="8201964">err</span>&nbsp;<span class="op" id="8201968">!=</span>&nbsp;<span class="ident" id="8201971">io</span><span class="op" id="8201973">.</span><span class="ident" id="8201974">EOF</span>&nbsp;<span class="op" id="8201978">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8201983">count</span><span class="op" id="8201988">,</span>&nbsp;<span class="ident" id="8201990">err</span>&nbsp;<span class="op" id="8201994">=</span>&nbsp;<span class="ident" id="8201996">decoder</span><span class="op" id="8202003">.</span><span class="ident" id="8202004">Read</span><span class="op" id="8202008">(</span><span class="ident" id="8202009">dbuf</span><span class="op" id="8202013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202021">testEqual</span><span class="op" id="8202030">(</span><span class="ident" id="8202031">t</span><span class="op" id="8202032">,</span>&nbsp;<span class="string" id="8202034">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8202062">,</span>&nbsp;<span class="ident" id="8202064">p</span><span class="op" id="8202065">.</span><span class="ident" id="8202066">encoded</span><span class="op" id="8202073">,</span>&nbsp;<span class="ident" id="8202075">err</span><span class="op" id="8202078">,</span>&nbsp;<span class="ident" id="8202080">io</span><span class="op" id="8202082">.</span><span class="ident" id="8202083">EOF</span><span class="op" id="8202086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202089">}</span><br>
<span class="lineno"></span><span class="op" id="8202091">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="8202094">func</span>&nbsp;<span class="ident" id="8202099">TestDecoderBuffering</span><span class="op" id="8202119">(</span><span class="ident" id="8202120">t</span>&nbsp;<span class="op" id="8202122">*</span><span class="ident" id="8202123">testing</span><span class="op" id="8202130">.</span><span class="ident" id="8202131">T</span><span class="op" id="8202132">)</span>&nbsp;<span class="op" id="8202134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8202137">for</span>&nbsp;<span class="ident" id="8202141">bs</span>&nbsp;<span class="op" id="8202144">:=</span>&nbsp;<span class="num" id="8202147">1</span><span class="op" id="8202148">;</span>&nbsp;<span class="ident" id="8202150">bs</span>&nbsp;<span class="op" id="8202153">&lt;=</span>&nbsp;<span class="num" id="8202156">12</span><span class="op" id="8202158">;</span>&nbsp;<span class="ident" id="8202160">bs</span><span class="op" id="8202162">++</span>&nbsp;<span class="op" id="8202165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202169">decoder</span>&nbsp;<span class="op" id="8202177">:=</span>&nbsp;<span class="ident" id="8202180">NewDecoder</span><span class="op" id="8202190">(</span><span class="ident" id="8202191">StdEncoding</span><span class="op" id="8202202">,</span>&nbsp;<span class="ident" id="8202204">strings</span><span class="op" id="8202211">.</span><span class="ident" id="8202212">NewReader</span><span class="op" id="8202221">(</span><span class="ident" id="8202222">bigtest</span><span class="op" id="8202229">.</span><span class="ident" id="8202230">encoded</span><span class="op" id="8202237">)</span><span class="op" id="8202238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202242">buf</span>&nbsp;<span class="op" id="8202246">:=</span>&nbsp;<span class="builtinfunc" id="8202249">make</span><span class="op" id="8202253">(</span><span class="op" id="8202254">[</span><span class="op" id="8202255">]</span><span class="builtintype" id="8202256">byte</span><span class="op" id="8202260">,</span>&nbsp;<span class="builtinfunc" id="8202262">len</span><span class="op" id="8202265">(</span><span class="ident" id="8202266">bigtest</span><span class="op" id="8202273">.</span><span class="ident" id="8202274">decoded</span><span class="op" id="8202281">)</span><span class="op" id="8202282">+</span><span class="num" id="8202283">12</span><span class="op" id="8202285">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8202289">var</span>&nbsp;<span class="ident" id="8202293">total</span>&nbsp;<span class="builtintype" id="8202299">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8202305">for</span>&nbsp;<span class="ident" id="8202309">total</span>&nbsp;<span class="op" id="8202315">=</span>&nbsp;<span class="num" id="8202317">0</span><span class="op" id="8202318">;</span>&nbsp;<span class="ident" id="8202320">total</span>&nbsp;<span class="op" id="8202326">&lt;</span>&nbsp;<span class="builtinfunc" id="8202328">len</span><span class="op" id="8202331">(</span><span class="ident" id="8202332">bigtest</span><span class="op" id="8202339">.</span><span class="ident" id="8202340">decoded</span><span class="op" id="8202347">)</span><span class="op" id="8202348">;</span>&nbsp;<span class="op" id="8202350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202355">n</span><span class="op" id="8202356">,</span>&nbsp;<span class="ident" id="8202358">err</span>&nbsp;<span class="op" id="8202362">:=</span>&nbsp;<span class="ident" id="8202365">decoder</span><span class="op" id="8202372">.</span><span class="ident" id="8202373">Read</span><span class="op" id="8202377">(</span><span class="ident" id="8202378">buf</span><span class="op" id="8202381">[</span><span class="ident" id="8202382">total</span>&nbsp;<span class="op" id="8202388">:</span>&nbsp;<span class="ident" id="8202390">total</span><span class="op" id="8202395">+</span><span class="ident" id="8202396">bs</span><span class="op" id="8202398">]</span><span class="op" id="8202399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202404">testEqual</span><span class="op" id="8202413">(</span><span class="ident" id="8202414">t</span><span class="op" id="8202415">,</span>&nbsp;<span class="string" id="8202417">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="8202462">,</span>&nbsp;<span class="ident" id="8202464">bigtest</span><span class="op" id="8202471">.</span><span class="ident" id="8202472">encoded</span><span class="op" id="8202479">,</span>&nbsp;<span class="ident" id="8202481">total</span><span class="op" id="8202486">,</span>&nbsp;<span class="ident" id="8202488">n</span><span class="op" id="8202489">,</span>&nbsp;<span class="ident" id="8202491">err</span><span class="op" id="8202494">,</span>&nbsp;<span class="builtintype" id="8202496">error</span><span class="op" id="8202501">(</span><span class="builtintype" id="8202502">nil</span><span class="op" id="8202505">)</span><span class="op" id="8202506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202511">total</span>&nbsp;<span class="op" id="8202517">+=</span>&nbsp;<span class="ident" id="8202520">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202528">testEqual</span><span class="op" id="8202537">(</span><span class="ident" id="8202538">t</span><span class="op" id="8202539">,</span>&nbsp;<span class="string" id="8202541">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8202574">,</span>&nbsp;<span class="ident" id="8202576">bs</span><span class="op" id="8202578">,</span>&nbsp;<span class="ident" id="8202580">bigtest</span><span class="op" id="8202587">.</span><span class="ident" id="8202588">encoded</span><span class="op" id="8202595">,</span>&nbsp;<span class="builtintype" id="8202597">string</span><span class="op" id="8202603">(</span><span class="ident" id="8202604">buf</span><span class="op" id="8202607">[</span><span class="num" id="8202608">0</span><span class="op" id="8202609">:</span><span class="ident" id="8202610">total</span><span class="op" id="8202615">]</span><span class="op" id="8202616">)</span><span class="op" id="8202617">,</span>&nbsp;<span class="ident" id="8202619">bigtest</span><span class="op" id="8202626">.</span><span class="ident" id="8202627">decoded</span><span class="op" id="8202634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202637">}</span><br>
<span class="lineno"></span><span class="op" id="8202639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8202642">func</span>&nbsp;<span class="ident" id="8202647">TestDecodeCorrupt</span><span class="op" id="8202664">(</span><span class="ident" id="8202665">t</span>&nbsp;<span class="op" id="8202667">*</span><span class="ident" id="8202668">testing</span><span class="op" id="8202675">.</span><span class="ident" id="8202676">T</span><span class="op" id="8202677">)</span>&nbsp;<span class="op" id="8202679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202682">testCases</span>&nbsp;<span class="op" id="8202692">:=</span>&nbsp;<span class="op" id="8202695">[</span><span class="op" id="8202696">]</span><span class="keyword" id="8202697">struct</span>&nbsp;<span class="op" id="8202704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202708">input</span>&nbsp;&nbsp;<span class="builtintype" id="8202715">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8202724">offset</span>&nbsp;<span class="builtintype" id="8202731">int</span>&nbsp;<span class="comment" id="8202735">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202763">}</span><span class="op" id="8202764">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202768">{</span><span class="string" id="8202769">&#34;&#34;</span><span class="op" id="8202771">,</span>&nbsp;<span class="op" id="8202773">-</span><span class="num" id="8202774">1</span><span class="op" id="8202775">}</span><span class="op" id="8202776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202780">{</span><span class="string" id="8202781">&#34;!!!!&#34;</span><span class="op" id="8202787">,</span>&nbsp;<span class="num" id="8202789">0</span><span class="op" id="8202790">}</span><span class="op" id="8202791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202795">{</span><span class="string" id="8202796">&#34;x===&#34;</span><span class="op" id="8202802">,</span>&nbsp;<span class="num" id="8202804">0</span><span class="op" id="8202805">}</span><span class="op" id="8202806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202810">{</span><span class="string" id="8202811">&#34;AA=A====&#34;</span><span class="op" id="8202821">,</span>&nbsp;<span class="num" id="8202823">2</span><span class="op" id="8202824">}</span><span class="op" id="8202825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202829">{</span><span class="string" id="8202830">&#34;AAA=AAAA&#34;</span><span class="op" id="8202840">,</span>&nbsp;<span class="num" id="8202842">3</span><span class="op" id="8202843">}</span><span class="op" id="8202844">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202848">{</span><span class="string" id="8202849">&#34;MMMMMMMMM&#34;</span><span class="op" id="8202860">,</span>&nbsp;<span class="num" id="8202862">8</span><span class="op" id="8202863">}</span><span class="op" id="8202864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202868">{</span><span class="string" id="8202869">&#34;MMMMMM&#34;</span><span class="op" id="8202877">,</span>&nbsp;<span class="num" id="8202879">0</span><span class="op" id="8202880">}</span><span class="op" id="8202881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202885">{</span><span class="string" id="8202886">&#34;A=&#34;</span><span class="op" id="8202890">,</span>&nbsp;<span class="num" id="8202892">1</span><span class="op" id="8202893">}</span><span class="op" id="8202894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202898">{</span><span class="string" id="8202899">&#34;AA=&#34;</span><span class="op" id="8202904">,</span>&nbsp;<span class="num" id="8202906">3</span><span class="op" id="8202907">}</span><span class="op" id="8202908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202912">{</span><span class="string" id="8202913">&#34;AA==&#34;</span><span class="op" id="8202919">,</span>&nbsp;<span class="num" id="8202921">4</span><span class="op" id="8202922">}</span><span class="op" id="8202923">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202927">{</span><span class="string" id="8202928">&#34;AA===&#34;</span><span class="op" id="8202935">,</span>&nbsp;<span class="num" id="8202937">5</span><span class="op" id="8202938">}</span><span class="op" id="8202939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202943">{</span><span class="string" id="8202944">&#34;AAAA=&#34;</span><span class="op" id="8202951">,</span>&nbsp;<span class="num" id="8202953">5</span><span class="op" id="8202954">}</span><span class="op" id="8202955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202959">{</span><span class="string" id="8202960">&#34;AAAA==&#34;</span><span class="op" id="8202968">,</span>&nbsp;<span class="num" id="8202970">6</span><span class="op" id="8202971">}</span><span class="op" id="8202972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202976">{</span><span class="string" id="8202977">&#34;AAAAA=&#34;</span><span class="op" id="8202985">,</span>&nbsp;<span class="num" id="8202987">6</span><span class="op" id="8202988">}</span><span class="op" id="8202989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8202993">{</span><span class="string" id="8202994">&#34;AAAAA==&#34;</span><span class="op" id="8203003">,</span>&nbsp;<span class="num" id="8203005">7</span><span class="op" id="8203006">}</span><span class="op" id="8203007">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203011">{</span><span class="string" id="8203012">&#34;A=======&#34;</span><span class="op" id="8203022">,</span>&nbsp;<span class="num" id="8203024">1</span><span class="op" id="8203025">}</span><span class="op" id="8203026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203030">{</span><span class="string" id="8203031">&#34;AA======&#34;</span><span class="op" id="8203041">,</span>&nbsp;<span class="op" id="8203043">-</span><span class="num" id="8203044">1</span><span class="op" id="8203045">}</span><span class="op" id="8203046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203050">{</span><span class="string" id="8203051">&#34;AAA=====&#34;</span><span class="op" id="8203061">,</span>&nbsp;<span class="num" id="8203063">3</span><span class="op" id="8203064">}</span><span class="op" id="8203065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203069">{</span><span class="string" id="8203070">&#34;AAAA====&#34;</span><span class="op" id="8203080">,</span>&nbsp;<span class="op" id="8203082">-</span><span class="num" id="8203083">1</span><span class="op" id="8203084">}</span><span class="op" id="8203085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203089">{</span><span class="string" id="8203090">&#34;AAAAA===&#34;</span><span class="op" id="8203100">,</span>&nbsp;<span class="op" id="8203102">-</span><span class="num" id="8203103">1</span><span class="op" id="8203104">}</span><span class="op" id="8203105">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203109">{</span><span class="string" id="8203110">&#34;AAAAAA==&#34;</span><span class="op" id="8203120">,</span>&nbsp;<span class="num" id="8203122">6</span><span class="op" id="8203123">}</span><span class="op" id="8203124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203128">{</span><span class="string" id="8203129">&#34;AAAAAAA=&#34;</span><span class="op" id="8203139">,</span>&nbsp;<span class="op" id="8203141">-</span><span class="num" id="8203142">1</span><span class="op" id="8203143">}</span><span class="op" id="8203144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203148">{</span><span class="string" id="8203149">&#34;AAAAAAAA&#34;</span><span class="op" id="8203159">,</span>&nbsp;<span class="op" id="8203161">-</span><span class="num" id="8203162">1</span><span class="op" id="8203163">}</span><span class="op" id="8203164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203170">for</span>&nbsp;<span class="ident" id="8203174">_</span><span class="op" id="8203175">,</span>&nbsp;<span class="ident" id="8203177">tc</span>&nbsp;<span class="op" id="8203180">:=</span>&nbsp;<span class="keyword" id="8203183">range</span>&nbsp;<span class="ident" id="8203189">testCases</span>&nbsp;<span class="op" id="8203199">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203203">dbuf</span>&nbsp;<span class="op" id="8203208">:=</span>&nbsp;<span class="builtinfunc" id="8203211">make</span><span class="op" id="8203215">(</span><span class="op" id="8203216">[</span><span class="op" id="8203217">]</span><span class="builtintype" id="8203218">byte</span><span class="op" id="8203222">,</span>&nbsp;<span class="ident" id="8203224">StdEncoding</span><span class="op" id="8203235">.</span><span class="ident" id="8203236">DecodedLen</span><span class="op" id="8203246">(</span><span class="builtinfunc" id="8203247">len</span><span class="op" id="8203250">(</span><span class="ident" id="8203251">tc</span><span class="op" id="8203253">.</span><span class="ident" id="8203254">input</span><span class="op" id="8203259">)</span><span class="op" id="8203260">)</span><span class="op" id="8203261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203265">_</span><span class="op" id="8203266">,</span>&nbsp;<span class="ident" id="8203268">err</span>&nbsp;<span class="op" id="8203272">:=</span>&nbsp;<span class="ident" id="8203275">StdEncoding</span><span class="op" id="8203286">.</span><span class="ident" id="8203287">Decode</span><span class="op" id="8203293">(</span><span class="ident" id="8203294">dbuf</span><span class="op" id="8203298">,</span>&nbsp;<span class="op" id="8203300">[</span><span class="op" id="8203301">]</span><span class="builtintype" id="8203302">byte</span><span class="op" id="8203306">(</span><span class="ident" id="8203307">tc</span><span class="op" id="8203309">.</span><span class="ident" id="8203310">input</span><span class="op" id="8203315">)</span><span class="op" id="8203316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203320">if</span>&nbsp;<span class="ident" id="8203323">tc</span><span class="op" id="8203325">.</span><span class="ident" id="8203326">offset</span>&nbsp;<span class="op" id="8203333">==</span>&nbsp;<span class="op" id="8203336">-</span><span class="num" id="8203337">1</span>&nbsp;<span class="op" id="8203339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203344">if</span>&nbsp;<span class="ident" id="8203347">err</span>&nbsp;<span class="op" id="8203351">!=</span>&nbsp;<span class="builtintype" id="8203354">nil</span>&nbsp;<span class="op" id="8203358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203364">t</span><span class="op" id="8203365">.</span><span class="ident" id="8203366">Error</span><span class="op" id="8203371">(</span><span class="string" id="8203372">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="8203411">,</span>&nbsp;<span class="ident" id="8203413">tc</span><span class="op" id="8203415">.</span><span class="ident" id="8203416">input</span><span class="op" id="8203421">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203431">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203446">switch</span>&nbsp;<span class="ident" id="8203453">err</span>&nbsp;<span class="op" id="8203457">:=</span>&nbsp;<span class="ident" id="8203460">err</span><span class="op" id="8203463">.</span><span class="op" id="8203464">(</span><span class="keyword" id="8203465">type</span><span class="op" id="8203469">)</span>&nbsp;<span class="op" id="8203471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203475">case</span>&nbsp;<span class="ident" id="8203480">CorruptInputError</span><span class="op" id="8203497">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203502">testEqual</span><span class="op" id="8203511">(</span><span class="ident" id="8203512">t</span><span class="op" id="8203513">,</span>&nbsp;<span class="string" id="8203515">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8203555">,</span>&nbsp;<span class="ident" id="8203557">tc</span><span class="op" id="8203559">.</span><span class="ident" id="8203560">input</span><span class="op" id="8203565">,</span>&nbsp;<span class="builtintype" id="8203567">int</span><span class="op" id="8203570">(</span><span class="ident" id="8203571">err</span><span class="op" id="8203574">)</span><span class="op" id="8203575">,</span>&nbsp;<span class="ident" id="8203577">tc</span><span class="op" id="8203579">.</span><span class="ident" id="8203580">offset</span><span class="op" id="8203586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203590">default</span><span class="op" id="8203597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203602">t</span><span class="op" id="8203603">.</span><span class="ident" id="8203604">Error</span><span class="op" id="8203609">(</span><span class="string" id="8203610">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="8203650">,</span>&nbsp;<span class="ident" id="8203652">tc</span><span class="op" id="8203654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203661">}</span><br>
<span class="lineno">185</span><span class="op" id="8203663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8203666">func</span>&nbsp;<span class="ident" id="8203671">TestBig</span><span class="op" id="8203678">(</span><span class="ident" id="8203679">t</span>&nbsp;<span class="op" id="8203681">*</span><span class="ident" id="8203682">testing</span><span class="op" id="8203689">.</span><span class="ident" id="8203690">T</span><span class="op" id="8203691">)</span>&nbsp;<span class="op" id="8203693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203696">n</span>&nbsp;<span class="op" id="8203698">:=</span>&nbsp;<span class="num" id="8203701">3</span><span class="op" id="8203702">*</span><span class="num" id="8203703">1000</span>&nbsp;<span class="op" id="8203708">+</span>&nbsp;<span class="num" id="8203710">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203713">raw</span>&nbsp;<span class="op" id="8203717">:=</span>&nbsp;<span class="builtinfunc" id="8203720">make</span><span class="op" id="8203724">(</span><span class="op" id="8203725">[</span><span class="op" id="8203726">]</span><span class="builtintype" id="8203727">byte</span><span class="op" id="8203731">,</span>&nbsp;<span class="ident" id="8203733">n</span><span class="op" id="8203734">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203737">const</span>&nbsp;<span class="ident" id="8203743">alpha</span>&nbsp;<span class="op" id="8203749">=</span>&nbsp;<span class="string" id="8203751">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203817">for</span>&nbsp;<span class="ident" id="8203821">i</span>&nbsp;<span class="op" id="8203823">:=</span>&nbsp;<span class="num" id="8203826">0</span><span class="op" id="8203827">;</span>&nbsp;<span class="ident" id="8203829">i</span>&nbsp;<span class="op" id="8203831">&lt;</span>&nbsp;<span class="ident" id="8203833">n</span><span class="op" id="8203834">;</span>&nbsp;<span class="ident" id="8203836">i</span><span class="op" id="8203837">++</span>&nbsp;<span class="op" id="8203840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203844">raw</span><span class="op" id="8203847">[</span><span class="ident" id="8203848">i</span><span class="op" id="8203849">]</span>&nbsp;<span class="op" id="8203851">=</span>&nbsp;<span class="ident" id="8203853">alpha</span><span class="op" id="8203858">[</span><span class="ident" id="8203859">i</span><span class="op" id="8203860">%</span><span class="builtinfunc" id="8203861">len</span><span class="op" id="8203864">(</span><span class="ident" id="8203865">alpha</span><span class="op" id="8203870">)</span><span class="op" id="8203871">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8203874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203877">encoded</span>&nbsp;<span class="op" id="8203885">:=</span>&nbsp;<span class="builtinfunc" id="8203888">new</span><span class="op" id="8203891">(</span><span class="ident" id="8203892">bytes</span><span class="op" id="8203897">.</span><span class="ident" id="8203898">Buffer</span><span class="op" id="8203904">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203907">w</span>&nbsp;<span class="op" id="8203909">:=</span>&nbsp;<span class="ident" id="8203912">NewEncoder</span><span class="op" id="8203922">(</span><span class="ident" id="8203923">StdEncoding</span><span class="op" id="8203934">,</span>&nbsp;<span class="ident" id="8203936">encoded</span><span class="op" id="8203943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8203946">nn</span><span class="op" id="8203948">,</span>&nbsp;<span class="ident" id="8203950">err</span>&nbsp;<span class="op" id="8203954">:=</span>&nbsp;<span class="ident" id="8203957">w</span><span class="op" id="8203958">.</span><span class="ident" id="8203959">Write</span><span class="op" id="8203964">(</span><span class="ident" id="8203965">raw</span><span class="op" id="8203968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8203971">if</span>&nbsp;<span class="ident" id="8203974">nn</span>&nbsp;<span class="op" id="8203977">!=</span>&nbsp;<span class="ident" id="8203980">n</span>&nbsp;<span class="op" id="8203982">||</span>&nbsp;<span class="ident" id="8203985">err</span>&nbsp;<span class="op" id="8203989">!=</span>&nbsp;<span class="builtintype" id="8203992">nil</span>&nbsp;<span class="op" id="8203996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204000">t</span><span class="op" id="8204001">.</span><span class="ident" id="8204002">Fatalf</span><span class="op" id="8204008">(</span><span class="string" id="8204009">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="8204051">,</span>&nbsp;<span class="ident" id="8204053">nn</span><span class="op" id="8204055">,</span>&nbsp;<span class="ident" id="8204057">err</span><span class="op" id="8204060">,</span>&nbsp;<span class="ident" id="8204062">n</span><span class="op" id="8204063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204066">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204069">err</span>&nbsp;<span class="op" id="8204073">=</span>&nbsp;<span class="ident" id="8204075">w</span><span class="op" id="8204076">.</span><span class="ident" id="8204077">Close</span><span class="op" id="8204082">(</span><span class="op" id="8204083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204086">if</span>&nbsp;<span class="ident" id="8204089">err</span>&nbsp;<span class="op" id="8204093">!=</span>&nbsp;<span class="builtintype" id="8204096">nil</span>&nbsp;<span class="op" id="8204100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204104">t</span><span class="op" id="8204105">.</span><span class="ident" id="8204106">Fatalf</span><span class="op" id="8204112">(</span><span class="string" id="8204113">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8204144">,</span>&nbsp;<span class="ident" id="8204146">err</span><span class="op" id="8204149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204155">decoded</span><span class="op" id="8204162">,</span>&nbsp;<span class="ident" id="8204164">err</span>&nbsp;<span class="op" id="8204168">:=</span>&nbsp;<span class="ident" id="8204171">ioutil</span><span class="op" id="8204177">.</span><span class="ident" id="8204178">ReadAll</span><span class="op" id="8204185">(</span><span class="ident" id="8204186">NewDecoder</span><span class="op" id="8204196">(</span><span class="ident" id="8204197">StdEncoding</span><span class="op" id="8204208">,</span>&nbsp;<span class="ident" id="8204210">encoded</span><span class="op" id="8204217">)</span><span class="op" id="8204218">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204221">if</span>&nbsp;<span class="ident" id="8204224">err</span>&nbsp;<span class="op" id="8204228">!=</span>&nbsp;<span class="builtintype" id="8204231">nil</span>&nbsp;<span class="op" id="8204235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204239">t</span><span class="op" id="8204240">.</span><span class="ident" id="8204241">Fatalf</span><span class="op" id="8204247">(</span><span class="string" id="8204248">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="8204285">,</span>&nbsp;<span class="ident" id="8204287">err</span><span class="op" id="8204290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204297">if</span>&nbsp;<span class="op" id="8204300">!</span><span class="ident" id="8204301">bytes</span><span class="op" id="8204306">.</span><span class="ident" id="8204307">Equal</span><span class="op" id="8204312">(</span><span class="ident" id="8204313">raw</span><span class="op" id="8204316">,</span>&nbsp;<span class="ident" id="8204318">decoded</span><span class="op" id="8204325">)</span>&nbsp;<span class="op" id="8204327">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204331">var</span>&nbsp;<span class="ident" id="8204335">i</span>&nbsp;<span class="builtintype" id="8204337">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204343">for</span>&nbsp;<span class="ident" id="8204347">i</span>&nbsp;<span class="op" id="8204349">=</span>&nbsp;<span class="num" id="8204351">0</span><span class="op" id="8204352">;</span>&nbsp;<span class="ident" id="8204354">i</span>&nbsp;<span class="op" id="8204356">&lt;</span>&nbsp;<span class="builtinfunc" id="8204358">len</span><span class="op" id="8204361">(</span><span class="ident" id="8204362">decoded</span><span class="op" id="8204369">)</span>&nbsp;<span class="op" id="8204371">&amp;&amp;</span>&nbsp;<span class="ident" id="8204374">i</span>&nbsp;<span class="op" id="8204376">&lt;</span>&nbsp;<span class="builtinfunc" id="8204378">len</span><span class="op" id="8204381">(</span><span class="ident" id="8204382">raw</span><span class="op" id="8204385">)</span><span class="op" id="8204386">;</span>&nbsp;<span class="ident" id="8204388">i</span><span class="op" id="8204389">++</span>&nbsp;<span class="op" id="8204392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204397">if</span>&nbsp;<span class="ident" id="8204400">decoded</span><span class="op" id="8204407">[</span><span class="ident" id="8204408">i</span><span class="op" id="8204409">]</span>&nbsp;<span class="op" id="8204411">!=</span>&nbsp;<span class="ident" id="8204414">raw</span><span class="op" id="8204417">[</span><span class="ident" id="8204418">i</span><span class="op" id="8204419">]</span>&nbsp;<span class="op" id="8204421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204427">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204436">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204444">t</span><span class="op" id="8204445">.</span><span class="ident" id="8204446">Errorf</span><span class="op" id="8204452">(</span><span class="string" id="8204453">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="8204505">,</span>&nbsp;<span class="ident" id="8204507">n</span><span class="op" id="8204508">,</span>&nbsp;<span class="ident" id="8204510">i</span><span class="op" id="8204511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204514">}</span><br>
<span class="lineno"></span><span class="op" id="8204516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="8204519">func</span>&nbsp;<span class="ident" id="8204524">testStringEncoding</span><span class="op" id="8204542">(</span><span class="ident" id="8204543">t</span>&nbsp;<span class="op" id="8204545">*</span><span class="ident" id="8204546">testing</span><span class="op" id="8204553">.</span><span class="ident" id="8204554">T</span><span class="op" id="8204555">,</span>&nbsp;<span class="ident" id="8204557">expected</span>&nbsp;<span class="builtintype" id="8204566">string</span><span class="op" id="8204572">,</span>&nbsp;<span class="ident" id="8204574">examples</span>&nbsp;<span class="op" id="8204583">[</span><span class="op" id="8204584">]</span><span class="builtintype" id="8204585">string</span><span class="op" id="8204591">)</span>&nbsp;<span class="op" id="8204593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204596">for</span>&nbsp;<span class="ident" id="8204600">_</span><span class="op" id="8204601">,</span>&nbsp;<span class="ident" id="8204603">e</span>&nbsp;<span class="op" id="8204605">:=</span>&nbsp;<span class="keyword" id="8204608">range</span>&nbsp;<span class="ident" id="8204614">examples</span>&nbsp;<span class="op" id="8204623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204627">buf</span><span class="op" id="8204630">,</span>&nbsp;<span class="ident" id="8204632">err</span>&nbsp;<span class="op" id="8204636">:=</span>&nbsp;<span class="ident" id="8204639">StdEncoding</span><span class="op" id="8204650">.</span><span class="ident" id="8204651">DecodeString</span><span class="op" id="8204663">(</span><span class="ident" id="8204664">e</span><span class="op" id="8204665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204669">if</span>&nbsp;<span class="ident" id="8204672">err</span>&nbsp;<span class="op" id="8204676">!=</span>&nbsp;<span class="builtintype" id="8204679">nil</span>&nbsp;<span class="op" id="8204683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204688">t</span><span class="op" id="8204689">.</span><span class="ident" id="8204690">Errorf</span><span class="op" id="8204696">(</span><span class="string" id="8204697">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8204720">,</span>&nbsp;<span class="ident" id="8204722">e</span><span class="op" id="8204723">,</span>&nbsp;<span class="ident" id="8204725">err</span><span class="op" id="8204728">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204733">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8204748">if</span>&nbsp;<span class="ident" id="8204751">s</span>&nbsp;<span class="op" id="8204753">:=</span>&nbsp;<span class="builtintype" id="8204756">string</span><span class="op" id="8204762">(</span><span class="ident" id="8204763">buf</span><span class="op" id="8204766">)</span><span class="op" id="8204767">;</span>&nbsp;<span class="ident" id="8204769">s</span>&nbsp;<span class="op" id="8204771">!=</span>&nbsp;<span class="ident" id="8204774">expected</span>&nbsp;<span class="op" id="8204783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204788">t</span><span class="op" id="8204789">.</span><span class="ident" id="8204790">Errorf</span><span class="op" id="8204796">(</span><span class="string" id="8204797">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8204823">,</span>&nbsp;<span class="ident" id="8204825">e</span><span class="op" id="8204826">,</span>&nbsp;<span class="ident" id="8204828">s</span><span class="op" id="8204829">,</span>&nbsp;<span class="ident" id="8204831">expected</span><span class="op" id="8204839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204843">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8204846">}</span><br>
<span class="lineno"></span><span class="op" id="8204848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8204851">func</span>&nbsp;<span class="ident" id="8204856">TestNewLineCharacters</span><span class="op" id="8204877">(</span><span class="ident" id="8204878">t</span>&nbsp;<span class="op" id="8204880">*</span><span class="ident" id="8204881">testing</span><span class="op" id="8204888">.</span><span class="ident" id="8204889">T</span><span class="op" id="8204890">)</span>&nbsp;<span class="op" id="8204892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8204895">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8204965">examples</span>&nbsp;<span class="op" id="8204974">:=</span>&nbsp;<span class="op" id="8204977">[</span><span class="op" id="8204978">]</span><span class="builtintype" id="8204979">string</span><span class="op" id="8204985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8204989">&#34;ON2XEZI=&#34;</span><span class="op" id="8204999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205003">&#34;ON2XEZI=\r&#34;</span><span class="op" id="8205015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205019">&#34;ON2XEZI=\n&#34;</span><span class="op" id="8205031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205035">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="8205049">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205053">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="8205067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205071">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="8205085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205089">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="8205103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205107">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="8205119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205123">&#34;ON2XEZI\n=&#34;</span><span class="op" id="8205135">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8205138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8205141">testStringEncoding</span><span class="op" id="8205159">(</span><span class="ident" id="8205160">t</span><span class="op" id="8205161">,</span>&nbsp;<span class="string" id="8205163">&#34;sure&#34;</span><span class="op" id="8205169">,</span>&nbsp;<span class="ident" id="8205171">examples</span><span class="op" id="8205179">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8205183">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8205255">examples</span>&nbsp;<span class="op" id="8205264">=</span>&nbsp;<span class="op" id="8205266">[</span><span class="op" id="8205267">]</span><span class="builtintype" id="8205268">string</span><span class="op" id="8205274">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205278">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="8205296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8205300">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="8205322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8205325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8205328">testStringEncoding</span><span class="op" id="8205346">(</span><span class="ident" id="8205347">t</span><span class="op" id="8205348">,</span>&nbsp;<span class="string" id="8205350">&#34;foobar&#34;</span><span class="op" id="8205358">,</span>&nbsp;<span class="ident" id="8205360">examples</span><span class="op" id="8205368">)</span><br>
<span class="lineno"></span><span class="op" id="8205370">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="8205373">func</span>&nbsp;<span class="ident" id="8205378">TestDecoderIssue4779</span><span class="op" id="8205398">(</span><span class="ident" id="8205399">t</span>&nbsp;<span class="op" id="8205401">*</span><span class="ident" id="8205402">testing</span><span class="op" id="8205409">.</span><span class="ident" id="8205410">T</span><span class="op" id="8205411">)</span>&nbsp;<span class="op" id="8205413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8205416">encoded</span>&nbsp;<span class="op" id="8205424">:=</span>&nbsp;<span class="string" id="8205427">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206161">encodedShort</span>&nbsp;<span class="op" id="8206174">:=</span>&nbsp;<span class="ident" id="8206177">strings</span><span class="op" id="8206184">.</span><span class="ident" id="8206185">Replace</span><span class="op" id="8206192">(</span><span class="ident" id="8206193">encoded</span><span class="op" id="8206200">,</span>&nbsp;<span class="string" id="8206202">&#34;\n&#34;</span><span class="op" id="8206206">,</span>&nbsp;<span class="string" id="8206208">&#34;&#34;</span><span class="op" id="8206210">,</span>&nbsp;<span class="op" id="8206212">-</span><span class="num" id="8206213">1</span><span class="op" id="8206214">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206218">dec</span>&nbsp;<span class="op" id="8206222">:=</span>&nbsp;<span class="ident" id="8206225">NewDecoder</span><span class="op" id="8206235">(</span><span class="ident" id="8206236">StdEncoding</span><span class="op" id="8206247">,</span>&nbsp;<span class="ident" id="8206249">strings</span><span class="op" id="8206256">.</span><span class="ident" id="8206257">NewReader</span><span class="op" id="8206266">(</span><span class="ident" id="8206267">encoded</span><span class="op" id="8206274">)</span><span class="op" id="8206275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206278">res1</span><span class="op" id="8206282">,</span>&nbsp;<span class="ident" id="8206284">err</span>&nbsp;<span class="op" id="8206288">:=</span>&nbsp;<span class="ident" id="8206291">ioutil</span><span class="op" id="8206297">.</span><span class="ident" id="8206298">ReadAll</span><span class="op" id="8206305">(</span><span class="ident" id="8206306">dec</span><span class="op" id="8206309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206312">if</span>&nbsp;<span class="ident" id="8206315">err</span>&nbsp;<span class="op" id="8206319">!=</span>&nbsp;<span class="builtintype" id="8206322">nil</span>&nbsp;<span class="op" id="8206326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206330">t</span><span class="op" id="8206331">.</span><span class="ident" id="8206332">Errorf</span><span class="op" id="8206338">(</span><span class="string" id="8206339">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8206359">,</span>&nbsp;<span class="ident" id="8206361">err</span><span class="op" id="8206364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206367">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206371">dec</span>&nbsp;<span class="op" id="8206375">=</span>&nbsp;<span class="ident" id="8206377">NewDecoder</span><span class="op" id="8206387">(</span><span class="ident" id="8206388">StdEncoding</span><span class="op" id="8206399">,</span>&nbsp;<span class="ident" id="8206401">strings</span><span class="op" id="8206408">.</span><span class="ident" id="8206409">NewReader</span><span class="op" id="8206418">(</span><span class="ident" id="8206419">encodedShort</span><span class="op" id="8206431">)</span><span class="op" id="8206432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206435">var</span>&nbsp;<span class="ident" id="8206439">res2</span>&nbsp;<span class="op" id="8206444">[</span><span class="op" id="8206445">]</span><span class="builtintype" id="8206446">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206452">res2</span><span class="op" id="8206456">,</span>&nbsp;<span class="ident" id="8206458">err</span>&nbsp;<span class="op" id="8206462">=</span>&nbsp;<span class="ident" id="8206464">ioutil</span><span class="op" id="8206470">.</span><span class="ident" id="8206471">ReadAll</span><span class="op" id="8206478">(</span><span class="ident" id="8206479">dec</span><span class="op" id="8206482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206485">if</span>&nbsp;<span class="ident" id="8206488">err</span>&nbsp;<span class="op" id="8206492">!=</span>&nbsp;<span class="builtintype" id="8206495">nil</span>&nbsp;<span class="op" id="8206499">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206503">t</span><span class="op" id="8206504">.</span><span class="ident" id="8206505">Errorf</span><span class="op" id="8206511">(</span><span class="string" id="8206512">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8206532">,</span>&nbsp;<span class="ident" id="8206534">err</span><span class="op" id="8206537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206544">if</span>&nbsp;<span class="op" id="8206547">!</span><span class="ident" id="8206548">bytes</span><span class="op" id="8206553">.</span><span class="ident" id="8206554">Equal</span><span class="op" id="8206559">(</span><span class="ident" id="8206560">res1</span><span class="op" id="8206564">,</span>&nbsp;<span class="ident" id="8206566">res2</span><span class="op" id="8206570">)</span>&nbsp;<span class="op" id="8206572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206576">t</span><span class="op" id="8206577">.</span><span class="ident" id="8206578">Error</span><span class="op" id="8206583">(</span><span class="string" id="8206584">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="8206611">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206614">}</span><br>
<span class="lineno"></span><span class="op" id="8206616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8206619">func</span>&nbsp;<span class="ident" id="8206624">BenchmarkEncodeToString</span><span class="op" id="8206647">(</span><span class="ident" id="8206648">b</span>&nbsp;<span class="op" id="8206650">*</span><span class="ident" id="8206651">testing</span><span class="op" id="8206658">.</span><span class="ident" id="8206659">B</span><span class="op" id="8206660">)</span>&nbsp;<span class="op" id="8206662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206665">data</span>&nbsp;<span class="op" id="8206670">:=</span>&nbsp;<span class="builtinfunc" id="8206673">make</span><span class="op" id="8206677">(</span><span class="op" id="8206678">[</span><span class="op" id="8206679">]</span><span class="builtintype" id="8206680">byte</span><span class="op" id="8206684">,</span>&nbsp;<span class="num" id="8206686">8192</span><span class="op" id="8206690">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206693">b</span><span class="op" id="8206694">.</span><span class="ident" id="8206695">SetBytes</span><span class="op" id="8206703">(</span><span class="ident" id="8206704">int64</span><span class="op" id="8206709">(</span><span class="builtinfunc" id="8206710">len</span><span class="op" id="8206713">(</span><span class="ident" id="8206714">data</span><span class="op" id="8206718">)</span><span class="op" id="8206719">)</span><span class="op" id="8206720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206723">for</span>&nbsp;<span class="ident" id="8206727">i</span>&nbsp;<span class="op" id="8206729">:=</span>&nbsp;<span class="num" id="8206732">0</span><span class="op" id="8206733">;</span>&nbsp;<span class="ident" id="8206735">i</span>&nbsp;<span class="op" id="8206737">&lt;</span>&nbsp;<span class="ident" id="8206739">b</span><span class="op" id="8206740">.</span><span class="ident" id="8206741">N</span><span class="op" id="8206742">;</span>&nbsp;<span class="ident" id="8206744">i</span><span class="op" id="8206745">++</span>&nbsp;<span class="op" id="8206748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206752">StdEncoding</span><span class="op" id="8206763">.</span><span class="ident" id="8206764">EncodeToString</span><span class="op" id="8206778">(</span><span class="ident" id="8206779">data</span><span class="op" id="8206783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206786">}</span><br>
<span class="lineno"></span><span class="op" id="8206788">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="8206791">func</span>&nbsp;<span class="ident" id="8206796">BenchmarkDecodeString</span><span class="op" id="8206817">(</span><span class="ident" id="8206818">b</span>&nbsp;<span class="op" id="8206820">*</span><span class="ident" id="8206821">testing</span><span class="op" id="8206828">.</span><span class="ident" id="8206829">B</span><span class="op" id="8206830">)</span>&nbsp;<span class="op" id="8206832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206835">data</span>&nbsp;<span class="op" id="8206840">:=</span>&nbsp;<span class="ident" id="8206843">StdEncoding</span><span class="op" id="8206854">.</span><span class="ident" id="8206855">EncodeToString</span><span class="op" id="8206869">(</span><span class="builtinfunc" id="8206870">make</span><span class="op" id="8206874">(</span><span class="op" id="8206875">[</span><span class="op" id="8206876">]</span><span class="builtintype" id="8206877">byte</span><span class="op" id="8206881">,</span>&nbsp;<span class="num" id="8206883">8192</span><span class="op" id="8206887">)</span><span class="op" id="8206888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206891">b</span><span class="op" id="8206892">.</span><span class="ident" id="8206893">SetBytes</span><span class="op" id="8206901">(</span><span class="ident" id="8206902">int64</span><span class="op" id="8206907">(</span><span class="builtinfunc" id="8206908">len</span><span class="op" id="8206911">(</span><span class="ident" id="8206912">data</span><span class="op" id="8206916">)</span><span class="op" id="8206917">)</span><span class="op" id="8206918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8206921">for</span>&nbsp;<span class="ident" id="8206925">i</span>&nbsp;<span class="op" id="8206927">:=</span>&nbsp;<span class="num" id="8206930">0</span><span class="op" id="8206931">;</span>&nbsp;<span class="ident" id="8206933">i</span>&nbsp;<span class="op" id="8206935">&lt;</span>&nbsp;<span class="ident" id="8206937">b</span><span class="op" id="8206938">.</span><span class="ident" id="8206939">N</span><span class="op" id="8206940">;</span>&nbsp;<span class="ident" id="8206942">i</span><span class="op" id="8206943">++</span>&nbsp;<span class="op" id="8206946">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8206950">StdEncoding</span><span class="op" id="8206961">.</span><span class="ident" id="8206962">DecodeString</span><span class="op" id="8206974">(</span><span class="ident" id="8206975">data</span><span class="op" id="8206979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206982">}</span><br>
<span class="lineno"></span><span class="op" id="8206984">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
