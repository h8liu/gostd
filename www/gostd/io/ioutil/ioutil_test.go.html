<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8481146">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8481201">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8481255">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8481306">package</span>&nbsp;<span class="ident" id="8481314">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8481322">import</span>&nbsp;<span class="op" id="8481329">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8481332">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8481338">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8481348">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8481351">func</span>&nbsp;<span class="ident" id="8481356">checkSize</span><span class="op" id="8481365">(</span><span class="ident" id="8481366">t</span>&nbsp;<span class="op" id="8481368">*</span><span class="ident" id="8481369">testing</span><span class="op" id="8481376">.</span><span class="ident" id="8481377">T</span><span class="op" id="8481378">,</span>&nbsp;<span class="ident" id="8481380">path</span>&nbsp;<span class="builtintype" id="8481385">string</span><span class="op" id="8481391">,</span>&nbsp;<span class="ident" id="8481393">size</span>&nbsp;<span class="builtintype" id="8481398">int64</span><span class="op" id="8481403">)</span>&nbsp;<span class="op" id="8481405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481408">dir</span><span class="op" id="8481411">,</span>&nbsp;<span class="ident" id="8481413">err</span>&nbsp;<span class="op" id="8481417">:=</span>&nbsp;<span class="ident" id="8481420">os</span><span class="op" id="8481422">.</span><span class="ident" id="8481423">Stat</span><span class="op" id="8481427">(</span><span class="ident" id="8481428">path</span><span class="op" id="8481432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481435">if</span>&nbsp;<span class="ident" id="8481438">err</span>&nbsp;<span class="op" id="8481442">!=</span>&nbsp;<span class="builtintype" id="8481445">nil</span>&nbsp;<span class="op" id="8481449">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481453">t</span><span class="op" id="8481454">.</span><span class="ident" id="8481455">Fatalf</span><span class="op" id="8481461">(</span><span class="string" id="8481462">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="8481497">,</span>&nbsp;<span class="ident" id="8481499">path</span><span class="op" id="8481503">,</span>&nbsp;<span class="ident" id="8481505">size</span><span class="op" id="8481509">,</span>&nbsp;<span class="ident" id="8481511">err</span><span class="op" id="8481514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481520">if</span>&nbsp;<span class="ident" id="8481523">dir</span><span class="op" id="8481526">.</span><span class="ident" id="8481527">Size</span><span class="op" id="8481531">(</span><span class="op" id="8481532">)</span>&nbsp;<span class="op" id="8481534">!=</span>&nbsp;<span class="ident" id="8481537">size</span>&nbsp;<span class="op" id="8481542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481546">t</span><span class="op" id="8481547">.</span><span class="ident" id="8481548">Errorf</span><span class="op" id="8481554">(</span><span class="string" id="8481555">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8481581">,</span>&nbsp;<span class="ident" id="8481583">path</span><span class="op" id="8481587">,</span>&nbsp;<span class="ident" id="8481589">dir</span><span class="op" id="8481592">.</span><span class="ident" id="8481593">Size</span><span class="op" id="8481597">(</span><span class="op" id="8481598">)</span><span class="op" id="8481599">,</span>&nbsp;<span class="ident" id="8481601">size</span><span class="op" id="8481605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481608">}</span><br>
<span class="lineno">20</span><span class="op" id="8481610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8481613">func</span>&nbsp;<span class="ident" id="8481618">TestReadFile</span><span class="op" id="8481630">(</span><span class="ident" id="8481631">t</span>&nbsp;<span class="op" id="8481633">*</span><span class="ident" id="8481634">testing</span><span class="op" id="8481641">.</span><span class="ident" id="8481642">T</span><span class="op" id="8481643">)</span>&nbsp;<span class="op" id="8481645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481648">filename</span>&nbsp;<span class="op" id="8481657">:=</span>&nbsp;<span class="string" id="8481660">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481679">contents</span><span class="op" id="8481687">,</span>&nbsp;<span class="ident" id="8481689">err</span>&nbsp;<span class="op" id="8481693">:=</span>&nbsp;<span class="ident" id="8481696">ReadFile</span><span class="op" id="8481704">(</span><span class="ident" id="8481705">filename</span><span class="op" id="8481713">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481716">if</span>&nbsp;<span class="ident" id="8481719">err</span>&nbsp;<span class="op" id="8481723">==</span>&nbsp;<span class="builtintype" id="8481726">nil</span>&nbsp;<span class="op" id="8481730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481734">t</span><span class="op" id="8481735">.</span><span class="ident" id="8481736">Fatalf</span><span class="op" id="8481742">(</span><span class="string" id="8481743">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="8481784">,</span>&nbsp;<span class="ident" id="8481786">filename</span><span class="op" id="8481794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481801">filename</span>&nbsp;<span class="op" id="8481810">=</span>&nbsp;<span class="string" id="8481812">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481830">contents</span><span class="op" id="8481838">,</span>&nbsp;<span class="ident" id="8481840">err</span>&nbsp;<span class="op" id="8481844">=</span>&nbsp;<span class="ident" id="8481846">ReadFile</span><span class="op" id="8481854">(</span><span class="ident" id="8481855">filename</span><span class="op" id="8481863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481866">if</span>&nbsp;<span class="ident" id="8481869">err</span>&nbsp;<span class="op" id="8481873">!=</span>&nbsp;<span class="builtintype" id="8481876">nil</span>&nbsp;<span class="op" id="8481880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481884">t</span><span class="op" id="8481885">.</span><span class="ident" id="8481886">Fatalf</span><span class="op" id="8481892">(</span><span class="string" id="8481893">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8481910">,</span>&nbsp;<span class="ident" id="8481912">filename</span><span class="op" id="8481920">,</span>&nbsp;<span class="ident" id="8481922">err</span><span class="op" id="8481925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481932">checkSize</span><span class="op" id="8481941">(</span><span class="ident" id="8481942">t</span><span class="op" id="8481943">,</span>&nbsp;<span class="ident" id="8481945">filename</span><span class="op" id="8481953">,</span>&nbsp;<span class="builtintype" id="8481955">int64</span><span class="op" id="8481960">(</span><span class="builtinfunc" id="8481961">len</span><span class="op" id="8481964">(</span><span class="ident" id="8481965">contents</span><span class="op" id="8481973">)</span><span class="op" id="8481974">)</span><span class="op" id="8481975">)</span><br>
<span class="lineno"></span><span class="op" id="8481977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8481980">func</span>&nbsp;<span class="ident" id="8481985">TestWriteFile</span><span class="op" id="8481998">(</span><span class="ident" id="8481999">t</span>&nbsp;<span class="op" id="8482001">*</span><span class="ident" id="8482002">testing</span><span class="op" id="8482009">.</span><span class="ident" id="8482010">T</span><span class="op" id="8482011">)</span>&nbsp;<span class="op" id="8482013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482016">f</span><span class="op" id="8482017">,</span>&nbsp;<span class="ident" id="8482019">err</span>&nbsp;<span class="op" id="8482023">:=</span>&nbsp;<span class="ident" id="8482026">TempFile</span><span class="op" id="8482034">(</span><span class="string" id="8482035">&#34;&#34;</span><span class="op" id="8482037">,</span>&nbsp;<span class="string" id="8482039">&#34;ioutil-test&#34;</span><span class="op" id="8482052">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482055">if</span>&nbsp;<span class="ident" id="8482058">err</span>&nbsp;<span class="op" id="8482062">!=</span>&nbsp;<span class="builtintype" id="8482065">nil</span>&nbsp;<span class="op" id="8482069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482073">t</span><span class="op" id="8482074">.</span><span class="ident" id="8482075">Fatal</span><span class="op" id="8482080">(</span><span class="ident" id="8482081">err</span><span class="op" id="8482084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8482087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482090">filename</span>&nbsp;<span class="op" id="8482099">:=</span>&nbsp;<span class="ident" id="8482102">f</span><span class="op" id="8482103">.</span><span class="ident" id="8482104">Name</span><span class="op" id="8482108">(</span><span class="op" id="8482109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482112">data</span>&nbsp;<span class="op" id="8482117">:=</span>&nbsp;<span class="string" id="8482120">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="8482190">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8482194">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="8482267">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8482271">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482345">if</span>&nbsp;<span class="ident" id="8482348">err</span>&nbsp;<span class="op" id="8482352">:=</span>&nbsp;<span class="ident" id="8482355">WriteFile</span><span class="op" id="8482364">(</span><span class="ident" id="8482365">filename</span><span class="op" id="8482373">,</span>&nbsp;<span class="op" id="8482375">[</span><span class="op" id="8482376">]</span><span class="builtintype" id="8482377">byte</span><span class="op" id="8482381">(</span><span class="ident" id="8482382">data</span><span class="op" id="8482386">)</span><span class="op" id="8482387">,</span>&nbsp;<span class="num" id="8482389">0644</span><span class="op" id="8482393">)</span><span class="op" id="8482394">;</span>&nbsp;<span class="ident" id="8482396">err</span>&nbsp;<span class="op" id="8482400">!=</span>&nbsp;<span class="builtintype" id="8482403">nil</span>&nbsp;<span class="op" id="8482407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482411">t</span><span class="op" id="8482412">.</span><span class="ident" id="8482413">Fatalf</span><span class="op" id="8482419">(</span><span class="string" id="8482420">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8482438">,</span>&nbsp;<span class="ident" id="8482440">filename</span><span class="op" id="8482448">,</span>&nbsp;<span class="ident" id="8482450">err</span><span class="op" id="8482453">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8482456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482460">contents</span><span class="op" id="8482468">,</span>&nbsp;<span class="ident" id="8482470">err</span>&nbsp;<span class="op" id="8482474">:=</span>&nbsp;<span class="ident" id="8482477">ReadFile</span><span class="op" id="8482485">(</span><span class="ident" id="8482486">filename</span><span class="op" id="8482494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482497">if</span>&nbsp;<span class="ident" id="8482500">err</span>&nbsp;<span class="op" id="8482504">!=</span>&nbsp;<span class="builtintype" id="8482507">nil</span>&nbsp;<span class="op" id="8482511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482515">t</span><span class="op" id="8482516">.</span><span class="ident" id="8482517">Fatalf</span><span class="op" id="8482523">(</span><span class="string" id="8482524">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8482541">,</span>&nbsp;<span class="ident" id="8482543">filename</span><span class="op" id="8482551">,</span>&nbsp;<span class="ident" id="8482553">err</span><span class="op" id="8482556">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8482559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482563">if</span>&nbsp;<span class="builtintype" id="8482566">string</span><span class="op" id="8482572">(</span><span class="ident" id="8482573">contents</span><span class="op" id="8482581">)</span>&nbsp;<span class="op" id="8482583">!=</span>&nbsp;<span class="ident" id="8482586">data</span>&nbsp;<span class="op" id="8482591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482595">t</span><span class="op" id="8482596">.</span><span class="ident" id="8482597">Fatalf</span><span class="op" id="8482603">(</span><span class="string" id="8482604">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="8482634">,</span>&nbsp;<span class="builtintype" id="8482636">string</span><span class="op" id="8482642">(</span><span class="ident" id="8482643">contents</span><span class="op" id="8482651">)</span><span class="op" id="8482652">,</span>&nbsp;<span class="ident" id="8482654">data</span><span class="op" id="8482658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8482661">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8482665">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482677">f</span><span class="op" id="8482678">.</span><span class="ident" id="8482679">Close</span><span class="op" id="8482684">(</span><span class="op" id="8482685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482688">os</span><span class="op" id="8482690">.</span><span class="ident" id="8482691">Remove</span><span class="op" id="8482697">(</span><span class="ident" id="8482698">filename</span><span class="op" id="8482706">)</span>&nbsp;<span class="comment" id="8482708">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="8482724">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8482727">func</span>&nbsp;<span class="ident" id="8482732">TestReadDir</span><span class="op" id="8482743">(</span><span class="ident" id="8482744">t</span>&nbsp;<span class="op" id="8482746">*</span><span class="ident" id="8482747">testing</span><span class="op" id="8482754">.</span><span class="ident" id="8482755">T</span><span class="op" id="8482756">)</span>&nbsp;<span class="op" id="8482758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482761">dirname</span>&nbsp;<span class="op" id="8482769">:=</span>&nbsp;<span class="string" id="8482772">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482791">_</span><span class="op" id="8482792">,</span>&nbsp;<span class="ident" id="8482794">err</span>&nbsp;<span class="op" id="8482798">:=</span>&nbsp;<span class="ident" id="8482801">ReadDir</span><span class="op" id="8482808">(</span><span class="ident" id="8482809">dirname</span><span class="op" id="8482816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482819">if</span>&nbsp;<span class="ident" id="8482822">err</span>&nbsp;<span class="op" id="8482826">==</span>&nbsp;<span class="builtintype" id="8482829">nil</span>&nbsp;<span class="op" id="8482833">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482837">t</span><span class="op" id="8482838">.</span><span class="ident" id="8482839">Fatalf</span><span class="op" id="8482845">(</span><span class="string" id="8482846">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="8482886">,</span>&nbsp;<span class="ident" id="8482888">dirname</span><span class="op" id="8482895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8482898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482902">dirname</span>&nbsp;<span class="op" id="8482910">=</span>&nbsp;<span class="string" id="8482912">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482918">list</span><span class="op" id="8482922">,</span>&nbsp;<span class="ident" id="8482924">err</span>&nbsp;<span class="op" id="8482928">:=</span>&nbsp;<span class="ident" id="8482931">ReadDir</span><span class="op" id="8482938">(</span><span class="ident" id="8482939">dirname</span><span class="op" id="8482946">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8482949">if</span>&nbsp;<span class="ident" id="8482952">err</span>&nbsp;<span class="op" id="8482956">!=</span>&nbsp;<span class="builtintype" id="8482959">nil</span>&nbsp;<span class="op" id="8482963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8482967">t</span><span class="op" id="8482968">.</span><span class="ident" id="8482969">Fatalf</span><span class="op" id="8482975">(</span><span class="string" id="8482976">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8482992">,</span>&nbsp;<span class="ident" id="8482994">dirname</span><span class="op" id="8483001">,</span>&nbsp;<span class="ident" id="8483003">err</span><span class="op" id="8483006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8483009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483013">foundFile</span>&nbsp;<span class="op" id="8483023">:=</span>&nbsp;<span class="builtintype" id="8483026">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483033">foundSubDir</span>&nbsp;<span class="op" id="8483045">:=</span>&nbsp;<span class="builtintype" id="8483048">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483055">for</span>&nbsp;<span class="ident" id="8483059">_</span><span class="op" id="8483060">,</span>&nbsp;<span class="ident" id="8483062">dir</span>&nbsp;<span class="op" id="8483066">:=</span>&nbsp;<span class="keyword" id="8483069">range</span>&nbsp;<span class="ident" id="8483075">list</span>&nbsp;<span class="op" id="8483080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483084">switch</span>&nbsp;<span class="op" id="8483091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483095">case</span>&nbsp;<span class="op" id="8483100">!</span><span class="ident" id="8483101">dir</span><span class="op" id="8483104">.</span><span class="ident" id="8483105">IsDir</span><span class="op" id="8483110">(</span><span class="op" id="8483111">)</span>&nbsp;<span class="op" id="8483113">&amp;&amp;</span>&nbsp;<span class="ident" id="8483116">dir</span><span class="op" id="8483119">.</span><span class="ident" id="8483120">Name</span><span class="op" id="8483124">(</span><span class="op" id="8483125">)</span>&nbsp;<span class="op" id="8483127">==</span>&nbsp;<span class="string" id="8483130">&#34;io_test.go&#34;</span><span class="op" id="8483142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483147">foundFile</span>&nbsp;<span class="op" id="8483157">=</span>&nbsp;<span class="builtintype" id="8483159">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483166">case</span>&nbsp;<span class="ident" id="8483171">dir</span><span class="op" id="8483174">.</span><span class="ident" id="8483175">IsDir</span><span class="op" id="8483180">(</span><span class="op" id="8483181">)</span>&nbsp;<span class="op" id="8483183">&amp;&amp;</span>&nbsp;<span class="ident" id="8483186">dir</span><span class="op" id="8483189">.</span><span class="ident" id="8483190">Name</span><span class="op" id="8483194">(</span><span class="op" id="8483195">)</span>&nbsp;<span class="op" id="8483197">==</span>&nbsp;<span class="string" id="8483200">&#34;ioutil&#34;</span><span class="op" id="8483208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483213">foundSubDir</span>&nbsp;<span class="op" id="8483225">=</span>&nbsp;<span class="builtintype" id="8483227">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8483234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8483237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483240">if</span>&nbsp;<span class="op" id="8483243">!</span><span class="ident" id="8483244">foundFile</span>&nbsp;<span class="op" id="8483254">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483258">t</span><span class="op" id="8483259">.</span><span class="ident" id="8483260">Fatalf</span><span class="op" id="8483266">(</span><span class="string" id="8483267">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="8483306">,</span>&nbsp;<span class="ident" id="8483308">dirname</span><span class="op" id="8483315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8483318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8483321">if</span>&nbsp;<span class="op" id="8483324">!</span><span class="ident" id="8483325">foundSubDir</span>&nbsp;<span class="op" id="8483337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8483341">t</span><span class="op" id="8483342">.</span><span class="ident" id="8483343">Fatalf</span><span class="op" id="8483349">(</span><span class="string" id="8483350">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="8483390">,</span>&nbsp;<span class="ident" id="8483392">dirname</span><span class="op" id="8483399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8483402">}</span><br>
<span class="lineno">95</span><span class="op" id="8483404">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
