<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html" class="current">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1520590">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1520645">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1520699">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1520750">package</span>&nbsp;<span class="ident" id="1520758">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1520767">import</span>&nbsp;<span class="string" id="1520774">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1520784">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1520836">type</span>&nbsp;<span class="ident" id="1520841">Error</span>&nbsp;<span class="keyword" id="1520847">interface</span>&nbsp;<span class="op" id="1520857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1520860">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1520868">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1520909">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1520958">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1521003">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521054">RuntimeError</span><span class="op" id="1521066">(</span><span class="op" id="1521067">)</span><br>
<span class="lineno"></span><span class="op" id="1521069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1521072">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1521130">type</span>&nbsp;<span class="ident" id="1521135">TypeAssertionError</span>&nbsp;<span class="keyword" id="1521154">struct</span>&nbsp;<span class="op" id="1521161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521164">interfaceString</span>&nbsp;<span class="builtintype" id="1521180">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521188">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1521204">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521212">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1521228">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521236">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1521252">string</span>&nbsp;<span class="comment" id="1521259">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1521316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1521319">func</span>&nbsp;<span class="op" id="1521324">(</span><span class="op" id="1521325">*</span><span class="ident" id="1521326">TypeAssertionError</span><span class="op" id="1521344">)</span>&nbsp;<span class="ident" id="1521346">RuntimeError</span><span class="op" id="1521358">(</span><span class="op" id="1521359">)</span>&nbsp;<span class="op" id="1521361">{</span><span class="op" id="1521362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1521365">func</span>&nbsp;<span class="op" id="1521370">(</span><span class="ident" id="1521371">e</span>&nbsp;<span class="op" id="1521373">*</span><span class="ident" id="1521374">TypeAssertionError</span><span class="op" id="1521392">)</span>&nbsp;<span class="ident" id="1521394">Error</span><span class="op" id="1521399">(</span><span class="op" id="1521400">)</span>&nbsp;<span class="builtintype" id="1521402">string</span>&nbsp;<span class="op" id="1521409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521412">inter</span>&nbsp;<span class="op" id="1521418">:=</span>&nbsp;<span class="ident" id="1521421">e</span><span class="op" id="1521422">.</span><span class="ident" id="1521423">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521440">if</span>&nbsp;<span class="ident" id="1521443">inter</span>&nbsp;<span class="op" id="1521449">==</span>&nbsp;<span class="string" id="1521452">&#34;&#34;</span>&nbsp;<span class="op" id="1521455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1521459">inter</span>&nbsp;<span class="op" id="1521465">=</span>&nbsp;<span class="string" id="1521467">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1521480">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521483">if</span>&nbsp;<span class="ident" id="1521486">e</span><span class="op" id="1521487">.</span><span class="ident" id="1521488">concreteString</span>&nbsp;<span class="op" id="1521503">==</span>&nbsp;<span class="string" id="1521506">&#34;&#34;</span>&nbsp;<span class="op" id="1521509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521513">return</span>&nbsp;<span class="string" id="1521520">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1521545">+</span>&nbsp;<span class="ident" id="1521547">inter</span>&nbsp;<span class="op" id="1521553">+</span>&nbsp;<span class="string" id="1521555">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1521571">+</span>&nbsp;<span class="ident" id="1521573">e</span><span class="op" id="1521574">.</span><span class="ident" id="1521575">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1521591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521594">if</span>&nbsp;<span class="ident" id="1521597">e</span><span class="op" id="1521598">.</span><span class="ident" id="1521599">missingMethod</span>&nbsp;<span class="op" id="1521613">==</span>&nbsp;<span class="string" id="1521616">&#34;&#34;</span>&nbsp;<span class="op" id="1521619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521623">return</span>&nbsp;<span class="string" id="1521630">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1521655">+</span>&nbsp;<span class="ident" id="1521657">inter</span>&nbsp;<span class="op" id="1521663">+</span>&nbsp;<span class="string" id="1521665">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1521672">+</span>&nbsp;<span class="ident" id="1521674">e</span><span class="op" id="1521675">.</span><span class="ident" id="1521676">concreteString</span>&nbsp;<span class="op" id="1521691">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1521696">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1521705">+</span>&nbsp;<span class="ident" id="1521707">e</span><span class="op" id="1521708">.</span><span class="ident" id="1521709">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1521725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521728">return</span>&nbsp;<span class="string" id="1521735">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1521760">+</span>&nbsp;<span class="ident" id="1521762">e</span><span class="op" id="1521763">.</span><span class="ident" id="1521764">concreteString</span>&nbsp;<span class="op" id="1521779">+</span>&nbsp;<span class="string" id="1521781">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1521792">+</span>&nbsp;<span class="ident" id="1521794">e</span><span class="op" id="1521795">.</span><span class="ident" id="1521796">assertedString</span>&nbsp;<span class="op" id="1521811">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1521815">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1521835">+</span>&nbsp;<span class="ident" id="1521837">e</span><span class="op" id="1521838">.</span><span class="ident" id="1521839">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1521853">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1521856">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1521879">func</span>&nbsp;<span class="ident" id="1521884">newTypeAssertionError</span><span class="op" id="1521905">(</span><span class="ident" id="1521906">ps1</span><span class="op" id="1521909">,</span>&nbsp;<span class="ident" id="1521911">ps2</span><span class="op" id="1521914">,</span>&nbsp;<span class="ident" id="1521916">ps3</span>&nbsp;<span class="op" id="1521920">*</span><span class="builtintype" id="1521921">string</span><span class="op" id="1521927">,</span>&nbsp;<span class="ident" id="1521929">pmeth</span>&nbsp;<span class="op" id="1521935">*</span><span class="builtintype" id="1521936">string</span><span class="op" id="1521942">,</span>&nbsp;<span class="ident" id="1521944">ret</span>&nbsp;<span class="op" id="1521948">*</span><span class="keyword" id="1521949">interface</span><span class="op" id="1521958">{</span><span class="op" id="1521959">}</span><span class="op" id="1521960">)</span>&nbsp;<span class="op" id="1521962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521965">var</span>&nbsp;<span class="ident" id="1521969">s1</span><span class="op" id="1521971">,</span>&nbsp;<span class="ident" id="1521973">s2</span><span class="op" id="1521975">,</span>&nbsp;<span class="ident" id="1521977">s3</span><span class="op" id="1521979">,</span>&nbsp;<span class="ident" id="1521981">meth</span>&nbsp;<span class="builtintype" id="1521986">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1521995">if</span>&nbsp;<span class="ident" id="1521998">ps1</span>&nbsp;<span class="op" id="1522002">!=</span>&nbsp;<span class="ident" id="1522005">nil</span>&nbsp;<span class="op" id="1522009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522013">s1</span>&nbsp;<span class="op" id="1522016">=</span>&nbsp;<span class="op" id="1522018">*</span><span class="ident" id="1522019">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522027">if</span>&nbsp;<span class="ident" id="1522030">ps2</span>&nbsp;<span class="op" id="1522034">!=</span>&nbsp;<span class="ident" id="1522037">nil</span>&nbsp;<span class="op" id="1522041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522045">s2</span>&nbsp;<span class="op" id="1522048">=</span>&nbsp;<span class="op" id="1522050">*</span><span class="ident" id="1522051">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522059">if</span>&nbsp;<span class="ident" id="1522062">ps3</span>&nbsp;<span class="op" id="1522066">!=</span>&nbsp;<span class="ident" id="1522069">nil</span>&nbsp;<span class="op" id="1522073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522077">s3</span>&nbsp;<span class="op" id="1522080">=</span>&nbsp;<span class="op" id="1522082">*</span><span class="ident" id="1522083">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522091">if</span>&nbsp;<span class="ident" id="1522094">pmeth</span>&nbsp;<span class="op" id="1522100">!=</span>&nbsp;<span class="ident" id="1522103">nil</span>&nbsp;<span class="op" id="1522107">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522111">meth</span>&nbsp;<span class="op" id="1522116">=</span>&nbsp;<span class="op" id="1522118">*</span><span class="ident" id="1522119">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522129">*</span><span class="ident" id="1522130">ret</span>&nbsp;<span class="op" id="1522134">=</span>&nbsp;<span class="op" id="1522136">&amp;</span><span class="ident" id="1522137">TypeAssertionError</span><span class="op" id="1522155">{</span><span class="ident" id="1522156">s1</span><span class="op" id="1522158">,</span>&nbsp;<span class="ident" id="1522160">s2</span><span class="op" id="1522162">,</span>&nbsp;<span class="ident" id="1522164">s3</span><span class="op" id="1522166">,</span>&nbsp;<span class="ident" id="1522168">meth</span><span class="op" id="1522172">}</span><br>
<span class="lineno"></span><span class="op" id="1522174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1522177">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1522252">type</span>&nbsp;<span class="ident" id="1522257">errorString</span>&nbsp;<span class="builtintype" id="1522269">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1522277">func</span>&nbsp;<span class="op" id="1522282">(</span><span class="ident" id="1522283">e</span>&nbsp;<span class="ident" id="1522285">errorString</span><span class="op" id="1522296">)</span>&nbsp;<span class="ident" id="1522298">RuntimeError</span><span class="op" id="1522310">(</span><span class="op" id="1522311">)</span>&nbsp;<span class="op" id="1522313">{</span><span class="op" id="1522314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1522317">func</span>&nbsp;<span class="op" id="1522322">(</span><span class="ident" id="1522323">e</span>&nbsp;<span class="ident" id="1522325">errorString</span><span class="op" id="1522336">)</span>&nbsp;<span class="ident" id="1522338">Error</span><span class="op" id="1522343">(</span><span class="op" id="1522344">)</span>&nbsp;<span class="builtintype" id="1522346">string</span>&nbsp;<span class="op" id="1522353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522356">return</span>&nbsp;<span class="string" id="1522363">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1522381">+</span>&nbsp;<span class="builtintype" id="1522383">string</span><span class="op" id="1522389">(</span><span class="ident" id="1522390">e</span><span class="op" id="1522391">)</span><br>
<span class="lineno"></span><span class="op" id="1522393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1522396">type</span>&nbsp;<span class="ident" id="1522401">stringer</span>&nbsp;<span class="keyword" id="1522410">interface</span>&nbsp;<span class="op" id="1522420">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522423">String</span><span class="op" id="1522429">(</span><span class="op" id="1522430">)</span>&nbsp;<span class="builtintype" id="1522432">string</span><br>
<span class="lineno"></span><span class="op" id="1522439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1522442">func</span>&nbsp;<span class="ident" id="1522447">typestring</span><span class="op" id="1522457">(</span><span class="ident" id="1522458">x</span>&nbsp;<span class="keyword" id="1522460">interface</span><span class="op" id="1522469">{</span><span class="op" id="1522470">}</span><span class="op" id="1522471">)</span>&nbsp;<span class="builtintype" id="1522473">string</span>&nbsp;<span class="op" id="1522480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1522483">e</span>&nbsp;<span class="op" id="1522485">:=</span>&nbsp;<span class="op" id="1522488">(</span><span class="op" id="1522489">*</span><span class="ident" id="1522490">eface</span><span class="op" id="1522495">)</span><span class="op" id="1522496">(</span><span class="ident" id="1522497">unsafe</span><span class="op" id="1522503">.</span><span class="ident" id="1522504">Pointer</span><span class="op" id="1522511">(</span><span class="op" id="1522512">&amp;</span><span class="ident" id="1522513">x</span><span class="op" id="1522514">)</span><span class="op" id="1522515">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522518">return</span>&nbsp;<span class="op" id="1522525">*</span><span class="ident" id="1522526">e</span><span class="op" id="1522527">.</span><span class="ident" id="1522528">_type</span><span class="op" id="1522533">.</span><span class="ident" id="1522534">_string</span><br>
<span class="lineno"></span><span class="op" id="1522542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1522545">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1522568">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1522607">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1522669">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1522745">func</span>&nbsp;<span class="ident" id="1522750">printany</span><span class="op" id="1522758">(</span><span class="ident" id="1522759">i</span>&nbsp;<span class="keyword" id="1522761">interface</span><span class="op" id="1522770">{</span><span class="op" id="1522771">}</span><span class="op" id="1522772">)</span>&nbsp;<span class="op" id="1522774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522777">switch</span>&nbsp;<span class="ident" id="1522784">v</span>&nbsp;<span class="op" id="1522786">:=</span>&nbsp;<span class="ident" id="1522789">i</span><span class="op" id="1522790">.</span><span class="op" id="1522791">(</span><span class="keyword" id="1522792">type</span><span class="op" id="1522796">)</span>&nbsp;<span class="op" id="1522798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522801">case</span>&nbsp;<span class="ident" id="1522806">nil</span><span class="op" id="1522809">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522813">print</span><span class="op" id="1522818">(</span><span class="string" id="1522819">&#34;nil&#34;</span><span class="op" id="1522824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522827">case</span>&nbsp;<span class="ident" id="1522832">stringer</span><span class="op" id="1522840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522844">print</span><span class="op" id="1522849">(</span><span class="ident" id="1522850">v</span><span class="op" id="1522851">.</span><span class="ident" id="1522852">String</span><span class="op" id="1522858">(</span><span class="op" id="1522859">)</span><span class="op" id="1522860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522863">case</span>&nbsp;<span class="builtintype" id="1522868">error</span><span class="op" id="1522873">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522877">print</span><span class="op" id="1522882">(</span><span class="ident" id="1522883">v</span><span class="op" id="1522884">.</span><span class="ident" id="1522885">Error</span><span class="op" id="1522890">(</span><span class="op" id="1522891">)</span><span class="op" id="1522892">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522895">case</span>&nbsp;<span class="builtintype" id="1522900">int</span><span class="op" id="1522903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522907">print</span><span class="op" id="1522912">(</span><span class="ident" id="1522913">v</span><span class="op" id="1522914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522917">case</span>&nbsp;<span class="builtintype" id="1522922">string</span><span class="op" id="1522928">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522932">print</span><span class="op" id="1522937">(</span><span class="ident" id="1522938">v</span><span class="op" id="1522939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1522942">default</span><span class="op" id="1522949">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1522953">print</span><span class="op" id="1522958">(</span><span class="string" id="1522959">&#34;(&#34;</span><span class="op" id="1522962">,</span>&nbsp;<span class="ident" id="1522964">typestring</span><span class="op" id="1522974">(</span><span class="ident" id="1522975">i</span><span class="op" id="1522976">)</span><span class="op" id="1522977">,</span>&nbsp;<span class="string" id="1522979">&#34;)&nbsp;&#34;</span><span class="op" id="1522983">,</span>&nbsp;<span class="ident" id="1522985">i</span><span class="op" id="1522986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1522989">}</span><br>
<span class="lineno"></span><span class="op" id="1522991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1522994">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1523024">func</span>&nbsp;<span class="ident" id="1523029">panicwrap</span><span class="op" id="1523038">(</span><span class="ident" id="1523039">pkg</span><span class="op" id="1523042">,</span>&nbsp;<span class="ident" id="1523044">typ</span><span class="op" id="1523047">,</span>&nbsp;<span class="ident" id="1523049">meth</span>&nbsp;<span class="builtintype" id="1523054">string</span><span class="op" id="1523060">)</span>&nbsp;<span class="op" id="1523062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1523065">panic</span><span class="op" id="1523070">(</span><span class="string" id="1523071">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1523087">+</span>&nbsp;<span class="ident" id="1523089">pkg</span>&nbsp;<span class="op" id="1523093">+</span>&nbsp;<span class="string" id="1523095">&#34;.&#34;</span>&nbsp;<span class="op" id="1523099">+</span>&nbsp;<span class="ident" id="1523101">typ</span>&nbsp;<span class="op" id="1523105">+</span>&nbsp;<span class="string" id="1523107">&#34;.&#34;</span>&nbsp;<span class="op" id="1523111">+</span>&nbsp;<span class="ident" id="1523113">meth</span>&nbsp;<span class="op" id="1523118">+</span>&nbsp;<span class="string" id="1523120">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1523142">+</span>&nbsp;<span class="ident" id="1523144">typ</span>&nbsp;<span class="op" id="1523148">+</span>&nbsp;<span class="string" id="1523150">&#34;&nbsp;pointer&#34;</span><span class="op" id="1523160">)</span><br>
<span class="lineno"></span><span class="op" id="1523162">}</span>
</div>
</body>
</html>
