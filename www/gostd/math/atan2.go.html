<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math</h2>
<ul>
<li><a href="/gostd/math/abs.go.html">abs.go</a></li>
<li><a href="/gostd/math/acosh.go.html">acosh.go</a></li>
<li><a href="/gostd/math/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/math/asin.go.html">asin.go</a></li>
<li><a href="/gostd/math/asinh.go.html">asinh.go</a></li>
<li><a href="/gostd/math/atan.go.html">atan.go</a></li>
<li><a href="/gostd/math/atan2.go.html">atan2.go</a></li>
<li><a href="/gostd/math/atanh.go.html">atanh.go</a></li>
<li><a href="/gostd/math/bits.go.html">bits.go</a></li>
<li><a href="/gostd/math/cbrt.go.html">cbrt.go</a></li>
<li><a href="/gostd/math/const.go.html">const.go</a></li>
<li><a href="/gostd/math/copysign.go.html">copysign.go</a></li>
<li><a href="/gostd/math/dim.go.html">dim.go</a></li>
<li><a href="/gostd/math/erf.go.html">erf.go</a></li>
<li><a href="/gostd/math/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/expm1.go.html">expm1.go</a></li>
<li><a href="/gostd/math/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/math/floor.go.html">floor.go</a></li>
<li><a href="/gostd/math/frexp.go.html">frexp.go</a></li>
<li><a href="/gostd/math/gamma.go.html">gamma.go</a></li>
<li><a href="/gostd/math/hypot.go.html">hypot.go</a></li>
<li><a href="/gostd/math/j0.go.html">j0.go</a></li>
<li><a href="/gostd/math/j1.go.html">j1.go</a></li>
<li><a href="/gostd/math/jn.go.html">jn.go</a></li>
<li><a href="/gostd/math/ldexp.go.html">ldexp.go</a></li>
<li><a href="/gostd/math/lgamma.go.html">lgamma.go</a></li>
<li><a href="/gostd/math/log.go.html">log.go</a></li>
<li><a href="/gostd/math/log10.go.html">log10.go</a></li>
<li><a href="/gostd/math/log1p.go.html">log1p.go</a></li>
<li><a href="/gostd/math/logb.go.html">logb.go</a></li>
<li><a href="/gostd/math/mod.go.html">mod.go</a></li>
<li><a href="/gostd/math/modf.go.html">modf.go</a></li>
<li><a href="/gostd/math/nextafter.go.html">nextafter.go</a></li>
<li><a href="/gostd/math/pow.go.html">pow.go</a></li>
<li><a href="/gostd/math/pow10.go.html">pow10.go</a></li>
<li><a href="/gostd/math/remainder.go.html">remainder.go</a></li>
<li><a href="/gostd/math/signbit.go.html">signbit.go</a></li>
<li><a href="/gostd/math/sin.go.html">sin.go</a></li>
<li><a href="/gostd/math/sincos.go.html">sincos.go</a></li>
<li><a href="/gostd/math/sinh.go.html">sinh.go</a></li>
<li><a href="/gostd/math/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/math/tan.go.html">tan.go</a></li>
<li><a href="/gostd/math/tanh.go.html">tanh.go</a></li>
<li><a href="/gostd/math/unsafe.go.html">unsafe.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2265835">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2265890">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2265944">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2265995">package</span>&nbsp;<span class="ident" id="2266003">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2266009">//&nbsp;Atan2&nbsp;returns&nbsp;the&nbsp;arc&nbsp;tangent&nbsp;of&nbsp;y/x,&nbsp;using</span><br>
<span class="lineno"></span><span class="comment" id="2266056">//&nbsp;the&nbsp;signs&nbsp;of&nbsp;the&nbsp;two&nbsp;to&nbsp;determine&nbsp;the&nbsp;quadrant</span><br>
<span class="lineno"></span><span class="comment" id="2266106">//&nbsp;of&nbsp;the&nbsp;return&nbsp;value.</span><br>
<span class="lineno">10</span><span class="comment" id="2266130">//</span><br>
<span class="lineno"></span><span class="comment" id="2266133">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="2266166">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2266189">//&nbsp;&nbsp;&nbsp;&nbspAtan2(NaN,&nbsp;x)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2266212">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&gt;=0)&nbsp;=&nbsp;+0</span><br>
<span class="lineno">15</span><span class="comment" id="2266236">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&gt;=0)&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span><span class="comment" id="2266260">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="2266286">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-0,&nbsp;x&lt;=-0)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="2266312">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;0)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="2266337">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;0)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno">20</span><span class="comment" id="2266362">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;+Inf)&nbsp;=&nbsp;+Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2266391">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;+Inf)&nbsp;=&nbsp;-Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2266420">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;-Inf)&nbsp;=&nbsp;3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2266449">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;-Inf)&nbsp;=&nbsp;-3Pi/4</span><br>
<span class="lineno"></span><span class="comment" id="2266479">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y,&nbsp;+Inf)&nbsp;=&nbsp;0</span><br>
<span class="lineno">25</span><span class="comment" id="2266501">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&gt;0,&nbsp;-Inf)&nbsp;=&nbsp;+Pi</span><br>
<span class="lineno"></span><span class="comment" id="2266527">//&nbsp;&nbsp;&nbsp;&nbspAtan2(y&lt;0,&nbsp;-Inf)&nbsp;=&nbsp;-Pi</span><br>
<span class="lineno"></span><span class="comment" id="2266553">//&nbsp;&nbsp;&nbsp;&nbspAtan2(+Inf,&nbsp;x)&nbsp;=&nbsp;+Pi/2</span><br>
<span class="lineno"></span><span class="comment" id="2266579">//&nbsp;&nbsp;&nbsp;&nbspAtan2(-Inf,&nbsp;x)&nbsp;=&nbsp;-Pi/2</span><br>
<span class="lineno"></span><span class="keyword" id="2266605">func</span>&nbsp;<span class="ident" id="2266610">Atan2</span><span class="op" id="2266615">(</span><span class="ident" id="2266616">y</span><span class="op" id="2266617">,</span>&nbsp;<span class="ident" id="2266619">x</span>&nbsp;<span class="builtintype" id="2266621">float64</span><span class="op" id="2266628">)</span>&nbsp;<span class="builtintype" id="2266630">float64</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="2266639">func</span>&nbsp;<span class="ident" id="2266644">atan2</span><span class="op" id="2266649">(</span><span class="ident" id="2266650">y</span><span class="op" id="2266651">,</span>&nbsp;<span class="ident" id="2266653">x</span>&nbsp;<span class="builtintype" id="2266655">float64</span><span class="op" id="2266662">)</span>&nbsp;<span class="builtintype" id="2266664">float64</span>&nbsp;<span class="op" id="2266672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2266675">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266693">switch</span>&nbsp;<span class="op" id="2266700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266703">case</span>&nbsp;<span class="ident" id="2266708">IsNaN</span><span class="op" id="2266713">(</span><span class="ident" id="2266714">y</span><span class="op" id="2266715">)</span>&nbsp;<span class="op" id="2266717">||</span>&nbsp;<span class="ident" id="2266720">IsNaN</span><span class="op" id="2266725">(</span><span class="ident" id="2266726">x</span><span class="op" id="2266727">)</span><span class="op" id="2266728">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266732">return</span>&nbsp;<span class="ident" id="2266739">NaN</span><span class="op" id="2266742">(</span><span class="op" id="2266743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266746">case</span>&nbsp;<span class="ident" id="2266751">y</span>&nbsp;<span class="op" id="2266753">==</span>&nbsp;<span class="num" id="2266756">0</span><span class="op" id="2266757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266761">if</span>&nbsp;<span class="ident" id="2266764">x</span>&nbsp;<span class="op" id="2266766">&gt;=</span>&nbsp;<span class="num" id="2266769">0</span>&nbsp;<span class="op" id="2266771">&amp;&amp;</span>&nbsp;<span class="op" id="2266774">!</span><span class="ident" id="2266775">Signbit</span><span class="op" id="2266782">(</span><span class="ident" id="2266783">x</span><span class="op" id="2266784">)</span>&nbsp;<span class="op" id="2266786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266791">return</span>&nbsp;<span class="ident" id="2266798">Copysign</span><span class="op" id="2266806">(</span><span class="num" id="2266807">0</span><span class="op" id="2266808">,</span>&nbsp;<span class="ident" id="2266810">y</span><span class="op" id="2266811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266815">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266819">return</span>&nbsp;<span class="ident" id="2266826">Copysign</span><span class="op" id="2266834">(</span><span class="ident" id="2266835">Pi</span><span class="op" id="2266837">,</span>&nbsp;<span class="ident" id="2266839">y</span><span class="op" id="2266840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266843">case</span>&nbsp;<span class="ident" id="2266848">x</span>&nbsp;<span class="op" id="2266850">==</span>&nbsp;<span class="num" id="2266853">0</span><span class="op" id="2266854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266858">return</span>&nbsp;<span class="ident" id="2266865">Copysign</span><span class="op" id="2266873">(</span><span class="ident" id="2266874">Pi</span><span class="op" id="2266876">/</span><span class="num" id="2266877">2</span><span class="op" id="2266878">,</span>&nbsp;<span class="ident" id="2266880">y</span><span class="op" id="2266881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266884">case</span>&nbsp;<span class="ident" id="2266889">IsInf</span><span class="op" id="2266894">(</span><span class="ident" id="2266895">x</span><span class="op" id="2266896">,</span>&nbsp;<span class="num" id="2266898">0</span><span class="op" id="2266899">)</span><span class="op" id="2266900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266904">if</span>&nbsp;<span class="ident" id="2266907">IsInf</span><span class="op" id="2266912">(</span><span class="ident" id="2266913">x</span><span class="op" id="2266914">,</span>&nbsp;<span class="num" id="2266916">1</span><span class="op" id="2266917">)</span>&nbsp;<span class="op" id="2266919">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266924">switch</span>&nbsp;<span class="op" id="2266931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266936">case</span>&nbsp;<span class="ident" id="2266941">IsInf</span><span class="op" id="2266946">(</span><span class="ident" id="2266947">y</span><span class="op" id="2266948">,</span>&nbsp;<span class="num" id="2266950">0</span><span class="op" id="2266951">)</span><span class="op" id="2266952">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266958">return</span>&nbsp;<span class="ident" id="2266965">Copysign</span><span class="op" id="2266973">(</span><span class="ident" id="2266974">Pi</span><span class="op" id="2266976">/</span><span class="num" id="2266977">4</span><span class="op" id="2266978">,</span>&nbsp;<span class="ident" id="2266980">y</span><span class="op" id="2266981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266986">default</span><span class="op" id="2266993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266999">return</span>&nbsp;<span class="ident" id="2267006">Copysign</span><span class="op" id="2267014">(</span><span class="num" id="2267015">0</span><span class="op" id="2267016">,</span>&nbsp;<span class="ident" id="2267018">y</span><span class="op" id="2267019">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267032">switch</span>&nbsp;<span class="op" id="2267039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267043">case</span>&nbsp;<span class="ident" id="2267048">IsInf</span><span class="op" id="2267053">(</span><span class="ident" id="2267054">y</span><span class="op" id="2267055">,</span>&nbsp;<span class="num" id="2267057">0</span><span class="op" id="2267058">)</span><span class="op" id="2267059">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267064">return</span>&nbsp;<span class="ident" id="2267071">Copysign</span><span class="op" id="2267079">(</span><span class="num" id="2267080">3</span><span class="op" id="2267081">*</span><span class="ident" id="2267082">Pi</span><span class="op" id="2267084">/</span><span class="num" id="2267085">4</span><span class="op" id="2267086">,</span>&nbsp;<span class="ident" id="2267088">y</span><span class="op" id="2267089">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267093">default</span><span class="op" id="2267100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267105">return</span>&nbsp;<span class="ident" id="2267112">Copysign</span><span class="op" id="2267120">(</span><span class="ident" id="2267121">Pi</span><span class="op" id="2267123">,</span>&nbsp;<span class="ident" id="2267125">y</span><span class="op" id="2267126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267133">case</span>&nbsp;<span class="ident" id="2267138">IsInf</span><span class="op" id="2267143">(</span><span class="ident" id="2267144">y</span><span class="op" id="2267145">,</span>&nbsp;<span class="num" id="2267147">0</span><span class="op" id="2267148">)</span><span class="op" id="2267149">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267153">return</span>&nbsp;<span class="ident" id="2267160">Copysign</span><span class="op" id="2267168">(</span><span class="ident" id="2267169">Pi</span><span class="op" id="2267171">/</span><span class="num" id="2267172">2</span><span class="op" id="2267173">,</span>&nbsp;<span class="ident" id="2267175">y</span><span class="op" id="2267176">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2267183">//&nbsp;Call&nbsp;atan&nbsp;and&nbsp;determine&nbsp;the&nbsp;quadrant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267225">q</span>&nbsp;<span class="op" id="2267227">:=</span>&nbsp;<span class="ident" id="2267230">Atan</span><span class="op" id="2267234">(</span><span class="ident" id="2267235">y</span>&nbsp;<span class="op" id="2267237">/</span>&nbsp;<span class="ident" id="2267239">x</span><span class="op" id="2267240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267243">if</span>&nbsp;<span class="ident" id="2267246">x</span>&nbsp;<span class="op" id="2267248">&lt;</span>&nbsp;<span class="num" id="2267250">0</span>&nbsp;<span class="op" id="2267252">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267256">if</span>&nbsp;<span class="ident" id="2267259">q</span>&nbsp;<span class="op" id="2267261">&lt;=</span>&nbsp;<span class="num" id="2267264">0</span>&nbsp;<span class="op" id="2267266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267271">return</span>&nbsp;<span class="ident" id="2267278">q</span>&nbsp;<span class="op" id="2267280">+</span>&nbsp;<span class="ident" id="2267282">Pi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267291">return</span>&nbsp;<span class="ident" id="2267298">q</span>&nbsp;<span class="op" id="2267300">-</span>&nbsp;<span class="ident" id="2267302">Pi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267306">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267309">return</span>&nbsp;<span class="ident" id="2267316">q</span><br>
<span class="lineno"></span><span class="op" id="2267318">}</span>
</div>
</body>
</html>
