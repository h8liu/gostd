<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html" class="current">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3155399">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3155455">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3155509">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3155560">package</span>&nbsp;<span class="ident" id="3155568">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3155573">import</span>&nbsp;<span class="op" id="3155580">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3155583">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3155593">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3155599">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3155606">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155609">//&nbsp;Pipe&nbsp;creates&nbsp;a&nbsp;synchronous,&nbsp;in-memory,&nbsp;full&nbsp;duplex</span><br>
<span class="lineno"></span><span class="comment" id="3155663">//&nbsp;network&nbsp;connection;&nbsp;both&nbsp;ends&nbsp;implement&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">15</span><span class="comment" id="3155726">//&nbsp;Reads&nbsp;on&nbsp;one&nbsp;end&nbsp;are&nbsp;matched&nbsp;with&nbsp;writes&nbsp;on&nbsp;the&nbsp;other,</span><br>
<span class="lineno"></span><span class="comment" id="3155784">//&nbsp;copying&nbsp;data&nbsp;directly&nbsp;between&nbsp;the&nbsp;two;&nbsp;there&nbsp;is&nbsp;no&nbsp;internal</span><br>
<span class="lineno"></span><span class="comment" id="3155847">//&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="3155861">func</span>&nbsp;<span class="ident" id="3155866">Pipe</span><span class="op" id="3155870">(</span><span class="op" id="3155871">)</span>&nbsp;<span class="op" id="3155873">(</span><span class="ident" id="3155874">Conn</span><span class="op" id="3155878">,</span>&nbsp;<span class="ident" id="3155880">Conn</span><span class="op" id="3155884">)</span>&nbsp;<span class="op" id="3155886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155889">r1</span><span class="op" id="3155891">,</span>&nbsp;<span class="ident" id="3155893">w1</span>&nbsp;<span class="op" id="3155896">:=</span>&nbsp;<span class="ident" id="3155899">io</span><span class="op" id="3155901">.</span><span class="ident" id="3155902">Pipe</span><span class="op" id="3155906">(</span><span class="op" id="3155907">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155910">r2</span><span class="op" id="3155912">,</span>&nbsp;<span class="ident" id="3155914">w2</span>&nbsp;<span class="op" id="3155917">:=</span>&nbsp;<span class="ident" id="3155920">io</span><span class="op" id="3155922">.</span><span class="ident" id="3155923">Pipe</span><span class="op" id="3155927">(</span><span class="op" id="3155928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155932">return</span>&nbsp;<span class="op" id="3155939">&amp;</span><span class="ident" id="3155940">pipe</span><span class="op" id="3155944">{</span><span class="ident" id="3155945">r1</span><span class="op" id="3155947">,</span>&nbsp;<span class="ident" id="3155949">w2</span><span class="op" id="3155951">}</span><span class="op" id="3155952">,</span>&nbsp;<span class="op" id="3155954">&amp;</span><span class="ident" id="3155955">pipe</span><span class="op" id="3155959">{</span><span class="ident" id="3155960">r2</span><span class="op" id="3155962">,</span>&nbsp;<span class="ident" id="3155964">w1</span><span class="op" id="3155966">}</span><br>
<span class="lineno"></span><span class="op" id="3155968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="3155971">type</span>&nbsp;<span class="ident" id="3155976">pipe</span>&nbsp;<span class="keyword" id="3155981">struct</span>&nbsp;<span class="op" id="3155988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155991">*</span><span class="ident" id="3155992">io</span><span class="op" id="3155994">.</span><span class="ident" id="3155995">PipeReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156007">*</span><span class="ident" id="3156008">io</span><span class="op" id="3156010">.</span><span class="ident" id="3156011">PipeWriter</span><br>
<span class="lineno"></span><span class="op" id="3156022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="3156025">type</span>&nbsp;<span class="ident" id="3156030">pipeAddr</span>&nbsp;<span class="builtintype" id="3156039">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3156044">func</span>&nbsp;<span class="op" id="3156049">(</span><span class="ident" id="3156050">pipeAddr</span><span class="op" id="3156058">)</span>&nbsp;<span class="ident" id="3156060">Network</span><span class="op" id="3156067">(</span><span class="op" id="3156068">)</span>&nbsp;<span class="builtintype" id="3156070">string</span>&nbsp;<span class="op" id="3156077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156080">return</span>&nbsp;<span class="string" id="3156087">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3156094">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="3156097">func</span>&nbsp;<span class="op" id="3156102">(</span><span class="ident" id="3156103">pipeAddr</span><span class="op" id="3156111">)</span>&nbsp;<span class="ident" id="3156113">String</span><span class="op" id="3156119">(</span><span class="op" id="3156120">)</span>&nbsp;<span class="builtintype" id="3156122">string</span>&nbsp;<span class="op" id="3156129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156132">return</span>&nbsp;<span class="string" id="3156139">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3156146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3156149">func</span>&nbsp;<span class="op" id="3156154">(</span><span class="ident" id="3156155">p</span>&nbsp;<span class="op" id="3156157">*</span><span class="ident" id="3156158">pipe</span><span class="op" id="3156162">)</span>&nbsp;<span class="ident" id="3156164">Close</span><span class="op" id="3156169">(</span><span class="op" id="3156170">)</span>&nbsp;<span class="builtintype" id="3156172">error</span>&nbsp;<span class="op" id="3156178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156181">err</span>&nbsp;<span class="op" id="3156185">:=</span>&nbsp;<span class="ident" id="3156188">p</span><span class="op" id="3156189">.</span><span class="ident" id="3156190">PipeReader</span><span class="op" id="3156200">.</span><span class="ident" id="3156201">Close</span><span class="op" id="3156206">(</span><span class="op" id="3156207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156210">err1</span>&nbsp;<span class="op" id="3156215">:=</span>&nbsp;<span class="ident" id="3156218">p</span><span class="op" id="3156219">.</span><span class="ident" id="3156220">PipeWriter</span><span class="op" id="3156230">.</span><span class="ident" id="3156231">Close</span><span class="op" id="3156236">(</span><span class="op" id="3156237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156240">if</span>&nbsp;<span class="ident" id="3156243">err</span>&nbsp;<span class="op" id="3156247">==</span>&nbsp;<span class="ident" id="3156250">nil</span>&nbsp;<span class="op" id="3156254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156258">err</span>&nbsp;<span class="op" id="3156262">=</span>&nbsp;<span class="ident" id="3156264">err1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156273">return</span>&nbsp;<span class="ident" id="3156280">err</span><br>
<span class="lineno"></span><span class="op" id="3156284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3156287">func</span>&nbsp;<span class="op" id="3156292">(</span><span class="ident" id="3156293">p</span>&nbsp;<span class="op" id="3156295">*</span><span class="ident" id="3156296">pipe</span><span class="op" id="3156300">)</span>&nbsp;<span class="ident" id="3156302">LocalAddr</span><span class="op" id="3156311">(</span><span class="op" id="3156312">)</span>&nbsp;<span class="ident" id="3156314">Addr</span>&nbsp;<span class="op" id="3156319">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156322">return</span>&nbsp;<span class="ident" id="3156329">pipeAddr</span><span class="op" id="3156337">(</span><span class="num" id="3156338">0</span><span class="op" id="3156339">)</span><br>
<span class="lineno"></span><span class="op" id="3156341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3156344">func</span>&nbsp;<span class="op" id="3156349">(</span><span class="ident" id="3156350">p</span>&nbsp;<span class="op" id="3156352">*</span><span class="ident" id="3156353">pipe</span><span class="op" id="3156357">)</span>&nbsp;<span class="ident" id="3156359">RemoteAddr</span><span class="op" id="3156369">(</span><span class="op" id="3156370">)</span>&nbsp;<span class="ident" id="3156372">Addr</span>&nbsp;<span class="op" id="3156377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156380">return</span>&nbsp;<span class="ident" id="3156387">pipeAddr</span><span class="op" id="3156395">(</span><span class="num" id="3156396">0</span><span class="op" id="3156397">)</span><br>
<span class="lineno">55</span><span class="op" id="3156399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3156402">func</span>&nbsp;<span class="op" id="3156407">(</span><span class="ident" id="3156408">p</span>&nbsp;<span class="op" id="3156410">*</span><span class="ident" id="3156411">pipe</span><span class="op" id="3156415">)</span>&nbsp;<span class="ident" id="3156417">SetDeadline</span><span class="op" id="3156428">(</span><span class="ident" id="3156429">t</span>&nbsp;<span class="ident" id="3156431">time</span><span class="op" id="3156435">.</span><span class="ident" id="3156436">Time</span><span class="op" id="3156440">)</span>&nbsp;<span class="builtintype" id="3156442">error</span>&nbsp;<span class="op" id="3156448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156451">return</span>&nbsp;<span class="ident" id="3156458">errors</span><span class="op" id="3156464">.</span><span class="ident" id="3156465">New</span><span class="op" id="3156468">(</span><span class="string" id="3156469">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3156506">)</span><br>
<span class="lineno"></span><span class="op" id="3156508">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="3156511">func</span>&nbsp;<span class="op" id="3156516">(</span><span class="ident" id="3156517">p</span>&nbsp;<span class="op" id="3156519">*</span><span class="ident" id="3156520">pipe</span><span class="op" id="3156524">)</span>&nbsp;<span class="ident" id="3156526">SetReadDeadline</span><span class="op" id="3156541">(</span><span class="ident" id="3156542">t</span>&nbsp;<span class="ident" id="3156544">time</span><span class="op" id="3156548">.</span><span class="ident" id="3156549">Time</span><span class="op" id="3156553">)</span>&nbsp;<span class="builtintype" id="3156555">error</span>&nbsp;<span class="op" id="3156561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156564">return</span>&nbsp;<span class="ident" id="3156571">errors</span><span class="op" id="3156577">.</span><span class="ident" id="3156578">New</span><span class="op" id="3156581">(</span><span class="string" id="3156582">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3156619">)</span><br>
<span class="lineno"></span><span class="op" id="3156621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3156624">func</span>&nbsp;<span class="op" id="3156629">(</span><span class="ident" id="3156630">p</span>&nbsp;<span class="op" id="3156632">*</span><span class="ident" id="3156633">pipe</span><span class="op" id="3156637">)</span>&nbsp;<span class="ident" id="3156639">SetWriteDeadline</span><span class="op" id="3156655">(</span><span class="ident" id="3156656">t</span>&nbsp;<span class="ident" id="3156658">time</span><span class="op" id="3156662">.</span><span class="ident" id="3156663">Time</span><span class="op" id="3156667">)</span>&nbsp;<span class="builtintype" id="3156669">error</span>&nbsp;<span class="op" id="3156675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156678">return</span>&nbsp;<span class="ident" id="3156685">errors</span><span class="op" id="3156691">.</span><span class="ident" id="3156692">New</span><span class="op" id="3156695">(</span><span class="string" id="3156696">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3156733">)</span><br>
<span class="lineno"></span><span class="op" id="3156735">}</span>
</div>
</body>
</html>
